var mv=Object.defineProperty;var gv=(dt,lt,ft)=>lt in dt?mv(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft;var Jr=(dt,lt,ft)=>(gv(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);(function(){const lt=document.createElement("link").relList;if(lt&&lt.supports&&lt.supports("modulepreload"))return;for(const St of document.querySelectorAll('link[rel="modulepreload"]'))vt(St);new MutationObserver(St=>{for(const Et of St)if(Et.type==="childList")for(const At of Et.addedNodes)At.tagName==="LINK"&&At.rel==="modulepreload"&&vt(At)}).observe(document,{childList:!0,subtree:!0});function ft(St){const Et={};return St.integrity&&(Et.integrity=St.integrity),St.referrerPolicy&&(Et.referrerPolicy=St.referrerPolicy),St.crossOrigin==="use-credentials"?Et.credentials="include":St.crossOrigin==="anonymous"?Et.credentials="omit":Et.credentials="same-origin",Et}function vt(St){if(St.ep)return;St.ep=!0;const Et=ft(St);fetch(St.href,Et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(dt){return dt&&dt.__esModule&&Object.prototype.hasOwnProperty.call(dt,"default")?dt.default:dt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$4=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(dt){return dt===null||typeof dt!="object"?null:(dt=z$4&&dt[z$4]||dt["@@iterator"],typeof dt=="function"?dt:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$4={};function E$5(dt,lt,ft){this.props=dt,this.context=lt,this.refs=D$4,this.updater=ft||B$3}E$5.prototype.isReactComponent={};E$5.prototype.setState=function(dt,lt){if(typeof dt!="object"&&typeof dt!="function"&&dt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,dt,lt,"setState")};E$5.prototype.forceUpdate=function(dt){this.updater.enqueueForceUpdate(this,dt,"forceUpdate")};function F$2(){}F$2.prototype=E$5.prototype;function G$2(dt,lt,ft){this.props=dt,this.context=lt,this.refs=D$4,this.updater=ft||B$3}var H$4=G$2.prototype=new F$2;H$4.constructor=G$2;C$3(H$4,E$5.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(dt,lt,ft){var vt,St={},Et=null,At=null;if(lt!=null)for(vt in lt.ref!==void 0&&(At=lt.ref),lt.key!==void 0&&(Et=""+lt.key),lt)J$3.call(lt,vt)&&!L$3.hasOwnProperty(vt)&&(St[vt]=lt[vt]);var Ct=arguments.length-2;if(Ct===1)St.children=ft;else if(1<Ct){for(var Tt=Array(Ct),Rt=0;Rt<Ct;Rt++)Tt[Rt]=arguments[Rt+2];St.children=Tt}if(dt&&dt.defaultProps)for(vt in Ct=dt.defaultProps,Ct)St[vt]===void 0&&(St[vt]=Ct[vt]);return{$$typeof:l$6,type:dt,key:Et,ref:At,props:St,_owner:K$3.current}}function N$3(dt,lt){return{$$typeof:l$6,type:dt.type,key:lt,ref:dt.ref,props:dt.props,_owner:dt._owner}}function O$3(dt){return typeof dt=="object"&&dt!==null&&dt.$$typeof===l$6}function escape$1(dt){var lt={"=":"=0",":":"=2"};return"$"+dt.replace(/[=:]/g,function(ft){return lt[ft]})}var P$3=/\/+/g;function Q$4(dt,lt){return typeof dt=="object"&&dt!==null&&dt.key!=null?escape$1(""+dt.key):lt.toString(36)}function R$3(dt,lt,ft,vt,St){var Et=typeof dt;(Et==="undefined"||Et==="boolean")&&(dt=null);var At=!1;if(dt===null)At=!0;else switch(Et){case"string":case"number":At=!0;break;case"object":switch(dt.$$typeof){case l$6:case n$5:At=!0}}if(At)return At=dt,St=St(At),dt=vt===""?"."+Q$4(At,0):vt,I$4(St)?(ft="",dt!=null&&(ft=dt.replace(P$3,"$&/")+"/"),R$3(St,lt,ft,"",function(Rt){return Rt})):St!=null&&(O$3(St)&&(St=N$3(St,ft+(!St.key||At&&At.key===St.key?"":(""+St.key).replace(P$3,"$&/")+"/")+dt)),lt.push(St)),1;if(At=0,vt=vt===""?".":vt+":",I$4(dt))for(var Ct=0;Ct<dt.length;Ct++){Et=dt[Ct];var Tt=vt+Q$4(Et,Ct);At+=R$3(Et,lt,ft,Tt,St)}else if(Tt=A$3(dt),typeof Tt=="function")for(dt=Tt.call(dt),Ct=0;!(Et=dt.next()).done;)Et=Et.value,Tt=vt+Q$4(Et,Ct++),At+=R$3(Et,lt,ft,Tt,St);else if(Et==="object")throw lt=String(dt),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(dt).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.");return At}function S$3(dt,lt,ft){if(dt==null)return dt;var vt=[],St=0;return R$3(dt,vt,"","",function(Et){return lt.call(ft,Et,St++)}),vt}function T$3(dt){if(dt._status===-1){var lt=dt._result;lt=lt(),lt.then(function(ft){(dt._status===0||dt._status===-1)&&(dt._status=1,dt._result=ft)},function(ft){(dt._status===0||dt._status===-1)&&(dt._status=2,dt._result=ft)}),dt._status===-1&&(dt._status=0,dt._result=lt)}if(dt._status===1)return dt._result.default;throw dt._result}var U$3={current:null},V$3={transition:null},W$4={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(dt,lt,ft){S$3(dt,function(){lt.apply(this,arguments)},ft)},count:function(dt){var lt=0;return S$3(dt,function(){lt++}),lt},toArray:function(dt){return S$3(dt,function(lt){return lt})||[]},only:function(dt){if(!O$3(dt))throw Error("React.Children.only expected to receive a single React element child.");return dt}};react_production_min.Component=E$5;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(dt,lt,ft){if(dt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+dt+".");var vt=C$3({},dt.props),St=dt.key,Et=dt.ref,At=dt._owner;if(lt!=null){if(lt.ref!==void 0&&(Et=lt.ref,At=K$3.current),lt.key!==void 0&&(St=""+lt.key),dt.type&&dt.type.defaultProps)var Ct=dt.type.defaultProps;for(Tt in lt)J$3.call(lt,Tt)&&!L$3.hasOwnProperty(Tt)&&(vt[Tt]=lt[Tt]===void 0&&Ct!==void 0?Ct[Tt]:lt[Tt])}var Tt=arguments.length-2;if(Tt===1)vt.children=ft;else if(1<Tt){Ct=Array(Tt);for(var Rt=0;Rt<Tt;Rt++)Ct[Rt]=arguments[Rt+2];vt.children=Ct}return{$$typeof:l$6,type:dt.type,key:St,ref:Et,props:vt,_owner:At}};react_production_min.createContext=function(dt){return dt={$$typeof:u$6,_currentValue:dt,_currentValue2:dt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},dt.Provider={$$typeof:t$3,_context:dt},dt.Consumer=dt};react_production_min.createElement=M$3;react_production_min.createFactory=function(dt){var lt=M$3.bind(null,dt);return lt.type=dt,lt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(dt){return{$$typeof:v$6,render:dt}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(dt){return{$$typeof:y$4,_payload:{_status:-1,_result:dt},_init:T$3}};react_production_min.memo=function(dt,lt){return{$$typeof:x$3,type:dt,compare:lt===void 0?null:lt}};react_production_min.startTransition=function(dt){var lt=V$3.transition;V$3.transition={};try{dt()}finally{V$3.transition=lt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(dt,lt){return U$3.current.useCallback(dt,lt)};react_production_min.useContext=function(dt){return U$3.current.useContext(dt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(dt){return U$3.current.useDeferredValue(dt)};react_production_min.useEffect=function(dt,lt){return U$3.current.useEffect(dt,lt)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(dt,lt,ft){return U$3.current.useImperativeHandle(dt,lt,ft)};react_production_min.useInsertionEffect=function(dt,lt){return U$3.current.useInsertionEffect(dt,lt)};react_production_min.useLayoutEffect=function(dt,lt){return U$3.current.useLayoutEffect(dt,lt)};react_production_min.useMemo=function(dt,lt){return U$3.current.useMemo(dt,lt)};react_production_min.useReducer=function(dt,lt,ft){return U$3.current.useReducer(dt,lt,ft)};react_production_min.useRef=function(dt){return U$3.current.useRef(dt)};react_production_min.useState=function(dt){return U$3.current.useState(dt)};react_production_min.useSyncExternalStore=function(dt,lt,ft){return U$3.current.useSyncExternalStore(dt,lt,ft)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$4=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$4(dt,lt,ft){var vt,St={},Et=null,At=null;ft!==void 0&&(Et=""+ft),lt.key!==void 0&&(Et=""+lt.key),lt.ref!==void 0&&(At=lt.ref);for(vt in lt)m$5.call(lt,vt)&&!p$6.hasOwnProperty(vt)&&(St[vt]=lt[vt]);if(dt&&dt.defaultProps)for(vt in lt=dt.defaultProps,lt)St[vt]===void 0&&(St[vt]=lt[vt]);return{$$typeof:k$4,type:dt,key:Et,ref:At,props:St,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(dt){function lt(hn,mn){var bn=hn.length;hn.push(mn);e:for(;0<bn;){var Mn=bn-1>>>1,Tn=hn[Mn];if(0<St(Tn,mn))hn[Mn]=mn,hn[bn]=Tn,bn=Mn;else break e}}function ft(hn){return hn.length===0?null:hn[0]}function vt(hn){if(hn.length===0)return null;var mn=hn[0],bn=hn.pop();if(bn!==mn){hn[0]=bn;e:for(var Mn=0,Tn=hn.length,In=Tn>>>1;Mn<In;){var Nn=2*(Mn+1)-1,$n=hn[Nn],Gn=Nn+1,Zn=hn[Gn];if(0>St($n,bn))Gn<Tn&&0>St(Zn,$n)?(hn[Mn]=Zn,hn[Gn]=bn,Mn=Gn):(hn[Mn]=$n,hn[Nn]=bn,Mn=Nn);else if(Gn<Tn&&0>St(Zn,bn))hn[Mn]=Zn,hn[Gn]=bn,Mn=Gn;else break e}}return mn}function St(hn,mn){var bn=hn.sortIndex-mn.sortIndex;return bn!==0?bn:hn.id-mn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Et=performance;dt.unstable_now=function(){return Et.now()}}else{var At=Date,Ct=At.now();dt.unstable_now=function(){return At.now()-Ct}}var Tt=[],Rt=[],Bt=1,Ft=null,Dt=3,kt=!1,zt=!1,Ht=!1,en=typeof setTimeout=="function"?setTimeout:null,Kt=typeof clearTimeout=="function"?clearTimeout:null,Zt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Wt(hn){for(var mn=ft(Rt);mn!==null;){if(mn.callback===null)vt(Rt);else if(mn.startTime<=hn)vt(Rt),mn.sortIndex=mn.expirationTime,lt(Tt,mn);else break;mn=ft(Rt)}}function tn(hn){if(Ht=!1,Wt(hn),!zt)if(ft(Tt)!==null)zt=!0,yn(an);else{var mn=ft(Rt);mn!==null&&Rn(tn,mn.startTime-hn)}}function an(hn,mn){zt=!1,Ht&&(Ht=!1,Kt(un),un=-1),kt=!0;var bn=Dt;try{for(Wt(mn),Ft=ft(Tt);Ft!==null&&(!(Ft.expirationTime>mn)||hn&&!An());){var Mn=Ft.callback;if(typeof Mn=="function"){Ft.callback=null,Dt=Ft.priorityLevel;var Tn=Mn(Ft.expirationTime<=mn);mn=dt.unstable_now(),typeof Tn=="function"?Ft.callback=Tn:Ft===ft(Tt)&&vt(Tt),Wt(mn)}else vt(Tt);Ft=ft(Tt)}if(Ft!==null)var In=!0;else{var Nn=ft(Rt);Nn!==null&&Rn(tn,Nn.startTime-mn),In=!1}return In}finally{Ft=null,Dt=bn,kt=!1}}var ln=!1,fn=null,un=-1,pn=5,xn=-1;function An(){return!(dt.unstable_now()-xn<pn)}function gn(){if(fn!==null){var hn=dt.unstable_now();xn=hn;var mn=!0;try{mn=fn(!0,hn)}finally{mn?Ln():(ln=!1,fn=null)}}else ln=!1}var Ln;if(typeof Zt=="function")Ln=function(){Zt(gn)};else if(typeof MessageChannel<"u"){var Cn=new MessageChannel,En=Cn.port2;Cn.port1.onmessage=gn,Ln=function(){En.postMessage(null)}}else Ln=function(){en(gn,0)};function yn(hn){fn=hn,ln||(ln=!0,Ln())}function Rn(hn,mn){un=en(function(){hn(dt.unstable_now())},mn)}dt.unstable_IdlePriority=5,dt.unstable_ImmediatePriority=1,dt.unstable_LowPriority=4,dt.unstable_NormalPriority=3,dt.unstable_Profiling=null,dt.unstable_UserBlockingPriority=2,dt.unstable_cancelCallback=function(hn){hn.callback=null},dt.unstable_continueExecution=function(){zt||kt||(zt=!0,yn(an))},dt.unstable_forceFrameRate=function(hn){0>hn||125<hn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pn=0<hn?Math.floor(1e3/hn):5},dt.unstable_getCurrentPriorityLevel=function(){return Dt},dt.unstable_getFirstCallbackNode=function(){return ft(Tt)},dt.unstable_next=function(hn){switch(Dt){case 1:case 2:case 3:var mn=3;break;default:mn=Dt}var bn=Dt;Dt=mn;try{return hn()}finally{Dt=bn}},dt.unstable_pauseExecution=function(){},dt.unstable_requestPaint=function(){},dt.unstable_runWithPriority=function(hn,mn){switch(hn){case 1:case 2:case 3:case 4:case 5:break;default:hn=3}var bn=Dt;Dt=hn;try{return mn()}finally{Dt=bn}},dt.unstable_scheduleCallback=function(hn,mn,bn){var Mn=dt.unstable_now();switch(typeof bn=="object"&&bn!==null?(bn=bn.delay,bn=typeof bn=="number"&&0<bn?Mn+bn:Mn):bn=Mn,hn){case 1:var Tn=-1;break;case 2:Tn=250;break;case 5:Tn=1073741823;break;case 4:Tn=1e4;break;default:Tn=5e3}return Tn=bn+Tn,hn={id:Bt++,callback:mn,priorityLevel:hn,startTime:bn,expirationTime:Tn,sortIndex:-1},bn>Mn?(hn.sortIndex=bn,lt(Rt,hn),ft(Tt)===null&&hn===ft(Rt)&&(Ht?(Kt(un),un=-1):Ht=!0,Rn(tn,bn-Mn))):(hn.sortIndex=Tn,lt(Tt,hn),zt||kt||(zt=!0,yn(an))),hn},dt.unstable_shouldYield=An,dt.unstable_wrapCallback=function(hn){var mn=Dt;return function(){var bn=Dt;Dt=mn;try{return hn.apply(this,arguments)}finally{Dt=bn}}}})(scheduler_production_min$2);scheduler$2.exports=scheduler_production_min$2;var schedulerExports$1=scheduler$2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$5(dt){for(var lt="https://reactjs.org/docs/error-decoder.html?invariant="+dt,ft=1;ft<arguments.length;ft++)lt+="&args[]="+encodeURIComponent(arguments[ft]);return"Minified React error #"+dt+"; visit "+lt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(dt,lt){ha(dt,lt),ha(dt+"Capture",lt)}function ha(dt,lt){for(ea[dt]=lt,dt=0;dt<lt.length;dt++)da.add(lt[dt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(dt){return ja.call(ma,dt)?!0:ja.call(la,dt)?!1:ka.test(dt)?ma[dt]=!0:(la[dt]=!0,!1)}function pa(dt,lt,ft,vt){if(ft!==null&&ft.type===0)return!1;switch(typeof lt){case"function":case"symbol":return!0;case"boolean":return vt?!1:ft!==null?!ft.acceptsBooleans:(dt=dt.toLowerCase().slice(0,5),dt!=="data-"&&dt!=="aria-");default:return!1}}function qa(dt,lt,ft,vt){if(lt===null||typeof lt>"u"||pa(dt,lt,ft,vt))return!0;if(vt)return!1;if(ft!==null)switch(ft.type){case 3:return!lt;case 4:return lt===!1;case 5:return isNaN(lt);case 6:return isNaN(lt)||1>lt}return!1}function v$5(dt,lt,ft,vt,St,Et,At){this.acceptsBooleans=lt===2||lt===3||lt===4,this.attributeName=vt,this.attributeNamespace=St,this.mustUseProperty=ft,this.propertyName=dt,this.type=lt,this.sanitizeURL=Et,this.removeEmptyString=At}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(dt){z$3[dt]=new v$5(dt,0,!1,dt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(dt){var lt=dt[0];z$3[lt]=new v$5(lt,1,!1,dt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(dt){z$3[dt]=new v$5(dt,2,!1,dt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(dt){z$3[dt]=new v$5(dt,2,!1,dt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(dt){z$3[dt]=new v$5(dt,3,!1,dt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(dt){z$3[dt]=new v$5(dt,3,!0,dt,null,!1,!1)});["capture","download"].forEach(function(dt){z$3[dt]=new v$5(dt,4,!1,dt,null,!1,!1)});["cols","rows","size","span"].forEach(function(dt){z$3[dt]=new v$5(dt,6,!1,dt,null,!1,!1)});["rowSpan","start"].forEach(function(dt){z$3[dt]=new v$5(dt,5,!1,dt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(dt){return dt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(dt){var lt=dt.replace(ra,sa);z$3[lt]=new v$5(lt,1,!1,dt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(dt){var lt=dt.replace(ra,sa);z$3[lt]=new v$5(lt,1,!1,dt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(dt){var lt=dt.replace(ra,sa);z$3[lt]=new v$5(lt,1,!1,dt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(dt){z$3[dt]=new v$5(dt,1,!1,dt.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(dt){z$3[dt]=new v$5(dt,1,!1,dt.toLowerCase(),null,!0,!0)});function ta(dt,lt,ft,vt){var St=z$3.hasOwnProperty(lt)?z$3[lt]:null;(St!==null?St.type!==0:vt||!(2<lt.length)||lt[0]!=="o"&&lt[0]!=="O"||lt[1]!=="n"&&lt[1]!=="N")&&(qa(lt,ft,St,vt)&&(ft=null),vt||St===null?oa(lt)&&(ft===null?dt.removeAttribute(lt):dt.setAttribute(lt,""+ft)):St.mustUseProperty?dt[St.propertyName]=ft===null?St.type===3?!1:"":ft:(lt=St.attributeName,vt=St.attributeNamespace,ft===null?dt.removeAttribute(lt):(St=St.type,ft=St===3||St===4&&ft===!0?"":""+ft,vt?dt.setAttributeNS(vt,lt,ft):dt.setAttribute(lt,ft))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(dt){return dt===null||typeof dt!="object"?null:(dt=Ja&&dt[Ja]||dt["@@iterator"],typeof dt=="function"?dt:null)}var A$2=Object.assign,La;function Ma(dt){if(La===void 0)try{throw Error()}catch(ft){var lt=ft.stack.trim().match(/\n( *(at )?)/);La=lt&&lt[1]||""}return`
`+La+dt}var Na=!1;function Oa(dt,lt){if(!dt||Na)return"";Na=!0;var ft=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(lt)if(lt=function(){throw Error()},Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Rt){var vt=Rt}Reflect.construct(dt,[],lt)}else{try{lt.call()}catch(Rt){vt=Rt}dt.call(lt.prototype)}else{try{throw Error()}catch(Rt){vt=Rt}dt()}}catch(Rt){if(Rt&&vt&&typeof Rt.stack=="string"){for(var St=Rt.stack.split(`
`),Et=vt.stack.split(`
`),At=St.length-1,Ct=Et.length-1;1<=At&&0<=Ct&&St[At]!==Et[Ct];)Ct--;for(;1<=At&&0<=Ct;At--,Ct--)if(St[At]!==Et[Ct]){if(At!==1||Ct!==1)do if(At--,Ct--,0>Ct||St[At]!==Et[Ct]){var Tt=`
`+St[At].replace(" at new "," at ");return dt.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",dt.displayName)),Tt}while(1<=At&&0<=Ct);break}}}finally{Na=!1,Error.prepareStackTrace=ft}return(dt=dt?dt.displayName||dt.name:"")?Ma(dt):""}function Pa(dt){switch(dt.tag){case 5:return Ma(dt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return dt=Oa(dt.type,!1),dt;case 11:return dt=Oa(dt.type.render,!1),dt;case 1:return dt=Oa(dt.type,!0),dt;default:return""}}function Qa(dt){if(dt==null)return null;if(typeof dt=="function")return dt.displayName||dt.name||null;if(typeof dt=="string")return dt;switch(dt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof dt=="object")switch(dt.$$typeof){case Ca:return(dt.displayName||"Context")+".Consumer";case Ba:return(dt._context.displayName||"Context")+".Provider";case Da:var lt=dt.render;return dt=dt.displayName,dt||(dt=lt.displayName||lt.name||"",dt=dt!==""?"ForwardRef("+dt+")":"ForwardRef"),dt;case Ga:return lt=dt.displayName||null,lt!==null?lt:Qa(dt.type)||"Memo";case Ha:lt=dt._payload,dt=dt._init;try{return Qa(dt(lt))}catch{}}return null}function Ra(dt){var lt=dt.type;switch(dt.tag){case 24:return"Cache";case 9:return(lt.displayName||"Context")+".Consumer";case 10:return(lt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return dt=lt.render,dt=dt.displayName||dt.name||"",lt.displayName||(dt!==""?"ForwardRef("+dt+")":"ForwardRef");case 7:return"Fragment";case 5:return lt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(lt);case 8:return lt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt}return null}function Sa(dt){switch(typeof dt){case"boolean":case"number":case"string":case"undefined":return dt;case"object":return dt;default:return""}}function Ta(dt){var lt=dt.type;return(dt=dt.nodeName)&&dt.toLowerCase()==="input"&&(lt==="checkbox"||lt==="radio")}function Ua(dt){var lt=Ta(dt)?"checked":"value",ft=Object.getOwnPropertyDescriptor(dt.constructor.prototype,lt),vt=""+dt[lt];if(!dt.hasOwnProperty(lt)&&typeof ft<"u"&&typeof ft.get=="function"&&typeof ft.set=="function"){var St=ft.get,Et=ft.set;return Object.defineProperty(dt,lt,{configurable:!0,get:function(){return St.call(this)},set:function(At){vt=""+At,Et.call(this,At)}}),Object.defineProperty(dt,lt,{enumerable:ft.enumerable}),{getValue:function(){return vt},setValue:function(At){vt=""+At},stopTracking:function(){dt._valueTracker=null,delete dt[lt]}}}}function Va(dt){dt._valueTracker||(dt._valueTracker=Ua(dt))}function Wa(dt){if(!dt)return!1;var lt=dt._valueTracker;if(!lt)return!0;var ft=lt.getValue(),vt="";return dt&&(vt=Ta(dt)?dt.checked?"true":"false":dt.value),dt=vt,dt!==ft?(lt.setValue(dt),!0):!1}function Xa(dt){if(dt=dt||(typeof document<"u"?document:void 0),typeof dt>"u")return null;try{return dt.activeElement||dt.body}catch{return dt.body}}function Ya(dt,lt){var ft=lt.checked;return A$2({},lt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ft??dt._wrapperState.initialChecked})}function Za(dt,lt){var ft=lt.defaultValue==null?"":lt.defaultValue,vt=lt.checked!=null?lt.checked:lt.defaultChecked;ft=Sa(lt.value!=null?lt.value:ft),dt._wrapperState={initialChecked:vt,initialValue:ft,controlled:lt.type==="checkbox"||lt.type==="radio"?lt.checked!=null:lt.value!=null}}function ab(dt,lt){lt=lt.checked,lt!=null&&ta(dt,"checked",lt,!1)}function bb(dt,lt){ab(dt,lt);var ft=Sa(lt.value),vt=lt.type;if(ft!=null)vt==="number"?(ft===0&&dt.value===""||dt.value!=ft)&&(dt.value=""+ft):dt.value!==""+ft&&(dt.value=""+ft);else if(vt==="submit"||vt==="reset"){dt.removeAttribute("value");return}lt.hasOwnProperty("value")?cb(dt,lt.type,ft):lt.hasOwnProperty("defaultValue")&&cb(dt,lt.type,Sa(lt.defaultValue)),lt.checked==null&&lt.defaultChecked!=null&&(dt.defaultChecked=!!lt.defaultChecked)}function db(dt,lt,ft){if(lt.hasOwnProperty("value")||lt.hasOwnProperty("defaultValue")){var vt=lt.type;if(!(vt!=="submit"&&vt!=="reset"||lt.value!==void 0&&lt.value!==null))return;lt=""+dt._wrapperState.initialValue,ft||lt===dt.value||(dt.value=lt),dt.defaultValue=lt}ft=dt.name,ft!==""&&(dt.name=""),dt.defaultChecked=!!dt._wrapperState.initialChecked,ft!==""&&(dt.name=ft)}function cb(dt,lt,ft){(lt!=="number"||Xa(dt.ownerDocument)!==dt)&&(ft==null?dt.defaultValue=""+dt._wrapperState.initialValue:dt.defaultValue!==""+ft&&(dt.defaultValue=""+ft))}var eb=Array.isArray;function fb(dt,lt,ft,vt){if(dt=dt.options,lt){lt={};for(var St=0;St<ft.length;St++)lt["$"+ft[St]]=!0;for(ft=0;ft<dt.length;ft++)St=lt.hasOwnProperty("$"+dt[ft].value),dt[ft].selected!==St&&(dt[ft].selected=St),St&&vt&&(dt[ft].defaultSelected=!0)}else{for(ft=""+Sa(ft),lt=null,St=0;St<dt.length;St++){if(dt[St].value===ft){dt[St].selected=!0,vt&&(dt[St].defaultSelected=!0);return}lt!==null||dt[St].disabled||(lt=dt[St])}lt!==null&&(lt.selected=!0)}}function gb(dt,lt){if(lt.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},lt,{value:void 0,defaultValue:void 0,children:""+dt._wrapperState.initialValue})}function hb(dt,lt){var ft=lt.value;if(ft==null){if(ft=lt.children,lt=lt.defaultValue,ft!=null){if(lt!=null)throw Error(p$5(92));if(eb(ft)){if(1<ft.length)throw Error(p$5(93));ft=ft[0]}lt=ft}lt==null&&(lt=""),ft=lt}dt._wrapperState={initialValue:Sa(ft)}}function ib(dt,lt){var ft=Sa(lt.value),vt=Sa(lt.defaultValue);ft!=null&&(ft=""+ft,ft!==dt.value&&(dt.value=ft),lt.defaultValue==null&&dt.defaultValue!==ft&&(dt.defaultValue=ft)),vt!=null&&(dt.defaultValue=""+vt)}function jb(dt){var lt=dt.textContent;lt===dt._wrapperState.initialValue&&lt!==""&&lt!==null&&(dt.value=lt)}function kb(dt){switch(dt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(dt,lt){return dt==null||dt==="http://www.w3.org/1999/xhtml"?kb(lt):dt==="http://www.w3.org/2000/svg"&&lt==="foreignObject"?"http://www.w3.org/1999/xhtml":dt}var mb,nb=function(dt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(lt,ft,vt,St){MSApp.execUnsafeLocalFunction(function(){return dt(lt,ft,vt,St)})}:dt}(function(dt,lt){if(dt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in dt)dt.innerHTML=lt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+lt.valueOf().toString()+"</svg>",lt=mb.firstChild;dt.firstChild;)dt.removeChild(dt.firstChild);for(;lt.firstChild;)dt.appendChild(lt.firstChild)}});function ob(dt,lt){if(lt){var ft=dt.firstChild;if(ft&&ft===dt.lastChild&&ft.nodeType===3){ft.nodeValue=lt;return}}dt.textContent=lt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(dt){qb.forEach(function(lt){lt=lt+dt.charAt(0).toUpperCase()+dt.substring(1),pb[lt]=pb[dt]})});function rb(dt,lt,ft){return lt==null||typeof lt=="boolean"||lt===""?"":ft||typeof lt!="number"||lt===0||pb.hasOwnProperty(dt)&&pb[dt]?(""+lt).trim():lt+"px"}function sb(dt,lt){dt=dt.style;for(var ft in lt)if(lt.hasOwnProperty(ft)){var vt=ft.indexOf("--")===0,St=rb(ft,lt[ft],vt);ft==="float"&&(ft="cssFloat"),vt?dt.setProperty(ft,St):dt[ft]=St}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(dt,lt){if(lt){if(tb[dt]&&(lt.children!=null||lt.dangerouslySetInnerHTML!=null))throw Error(p$5(137,dt));if(lt.dangerouslySetInnerHTML!=null){if(lt.children!=null)throw Error(p$5(60));if(typeof lt.dangerouslySetInnerHTML!="object"||!("__html"in lt.dangerouslySetInnerHTML))throw Error(p$5(61))}if(lt.style!=null&&typeof lt.style!="object")throw Error(p$5(62))}}function vb(dt,lt){if(dt.indexOf("-")===-1)return typeof lt.is=="string";switch(dt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(dt){return dt=dt.target||dt.srcElement||window,dt.correspondingUseElement&&(dt=dt.correspondingUseElement),dt.nodeType===3?dt.parentNode:dt}var yb=null,zb=null,Ab=null;function Bb(dt){if(dt=Cb(dt)){if(typeof yb!="function")throw Error(p$5(280));var lt=dt.stateNode;lt&&(lt=Db(lt),yb(dt.stateNode,dt.type,lt))}}function Eb(dt){zb?Ab?Ab.push(dt):Ab=[dt]:zb=dt}function Fb(){if(zb){var dt=zb,lt=Ab;if(Ab=zb=null,Bb(dt),lt)for(dt=0;dt<lt.length;dt++)Bb(lt[dt])}}function Gb(dt,lt){return dt(lt)}function Hb(){}var Ib=!1;function Jb(dt,lt,ft){if(Ib)return dt(lt,ft);Ib=!0;try{return Gb(dt,lt,ft)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(dt,lt){var ft=dt.stateNode;if(ft===null)return null;var vt=Db(ft);if(vt===null)return null;ft=vt[lt];e:switch(lt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(dt=dt.type,vt=!(dt==="button"||dt==="input"||dt==="select"||dt==="textarea")),dt=!vt;break e;default:dt=!1}if(dt)return null;if(ft&&typeof ft!="function")throw Error(p$5(231,lt,typeof ft));return ft}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(dt,lt,ft,vt,St,Et,At,Ct,Tt){var Rt=Array.prototype.slice.call(arguments,3);try{lt.apply(ft,Rt)}catch(Bt){this.onError(Bt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(dt){Ob=!0,Pb=dt}};function Tb(dt,lt,ft,vt,St,Et,At,Ct,Tt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(dt,lt,ft,vt,St,Et,At,Ct,Tt){if(Tb.apply(this,arguments),Ob){if(Ob){var Rt=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=Rt)}}function Vb(dt){var lt=dt,ft=dt;if(dt.alternate)for(;lt.return;)lt=lt.return;else{dt=lt;do lt=dt,lt.flags&4098&&(ft=lt.return),dt=lt.return;while(dt)}return lt.tag===3?ft:null}function Wb(dt){if(dt.tag===13){var lt=dt.memoizedState;if(lt===null&&(dt=dt.alternate,dt!==null&&(lt=dt.memoizedState)),lt!==null)return lt.dehydrated}return null}function Xb(dt){if(Vb(dt)!==dt)throw Error(p$5(188))}function Yb(dt){var lt=dt.alternate;if(!lt){if(lt=Vb(dt),lt===null)throw Error(p$5(188));return lt!==dt?null:dt}for(var ft=dt,vt=lt;;){var St=ft.return;if(St===null)break;var Et=St.alternate;if(Et===null){if(vt=St.return,vt!==null){ft=vt;continue}break}if(St.child===Et.child){for(Et=St.child;Et;){if(Et===ft)return Xb(St),dt;if(Et===vt)return Xb(St),lt;Et=Et.sibling}throw Error(p$5(188))}if(ft.return!==vt.return)ft=St,vt=Et;else{for(var At=!1,Ct=St.child;Ct;){if(Ct===ft){At=!0,ft=St,vt=Et;break}if(Ct===vt){At=!0,vt=St,ft=Et;break}Ct=Ct.sibling}if(!At){for(Ct=Et.child;Ct;){if(Ct===ft){At=!0,ft=Et,vt=St;break}if(Ct===vt){At=!0,vt=Et,ft=St;break}Ct=Ct.sibling}if(!At)throw Error(p$5(189))}}if(ft.alternate!==vt)throw Error(p$5(190))}if(ft.tag!==3)throw Error(p$5(188));return ft.stateNode.current===ft?dt:lt}function Zb(dt){return dt=Yb(dt),dt!==null?$b(dt):null}function $b(dt){if(dt.tag===5||dt.tag===6)return dt;for(dt=dt.child;dt!==null;){var lt=$b(dt);if(lt!==null)return lt;dt=dt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(dt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,dt,void 0,(dt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(dt){return dt>>>=0,dt===0?32:31-(pc(dt)/qc|0)|0}var rc=64,sc=4194304;function tc(dt){switch(dt&-dt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return dt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return dt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return dt}}function uc(dt,lt){var ft=dt.pendingLanes;if(ft===0)return 0;var vt=0,St=dt.suspendedLanes,Et=dt.pingedLanes,At=ft&268435455;if(At!==0){var Ct=At&~St;Ct!==0?vt=tc(Ct):(Et&=At,Et!==0&&(vt=tc(Et)))}else At=ft&~St,At!==0?vt=tc(At):Et!==0&&(vt=tc(Et));if(vt===0)return 0;if(lt!==0&&lt!==vt&&!(lt&St)&&(St=vt&-vt,Et=lt&-lt,St>=Et||St===16&&(Et&4194240)!==0))return lt;if(vt&4&&(vt|=ft&16),lt=dt.entangledLanes,lt!==0)for(dt=dt.entanglements,lt&=vt;0<lt;)ft=31-oc(lt),St=1<<ft,vt|=dt[ft],lt&=~St;return vt}function vc(dt,lt){switch(dt){case 1:case 2:case 4:return lt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(dt,lt){for(var ft=dt.suspendedLanes,vt=dt.pingedLanes,St=dt.expirationTimes,Et=dt.pendingLanes;0<Et;){var At=31-oc(Et),Ct=1<<At,Tt=St[At];Tt===-1?(!(Ct&ft)||Ct&vt)&&(St[At]=vc(Ct,lt)):Tt<=lt&&(dt.expiredLanes|=Ct),Et&=~Ct}}function xc(dt){return dt=dt.pendingLanes&-1073741825,dt!==0?dt:dt&1073741824?1073741824:0}function yc(){var dt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),dt}function zc(dt){for(var lt=[],ft=0;31>ft;ft++)lt.push(dt);return lt}function Ac(dt,lt,ft){dt.pendingLanes|=lt,lt!==536870912&&(dt.suspendedLanes=0,dt.pingedLanes=0),dt=dt.eventTimes,lt=31-oc(lt),dt[lt]=ft}function Bc(dt,lt){var ft=dt.pendingLanes&~lt;dt.pendingLanes=lt,dt.suspendedLanes=0,dt.pingedLanes=0,dt.expiredLanes&=lt,dt.mutableReadLanes&=lt,dt.entangledLanes&=lt,lt=dt.entanglements;var vt=dt.eventTimes;for(dt=dt.expirationTimes;0<ft;){var St=31-oc(ft),Et=1<<St;lt[St]=0,vt[St]=-1,dt[St]=-1,ft&=~Et}}function Cc(dt,lt){var ft=dt.entangledLanes|=lt;for(dt=dt.entanglements;ft;){var vt=31-oc(ft),St=1<<vt;St&lt|dt[vt]&lt&&(dt[vt]|=lt),ft&=~St}}var C$2=0;function Dc(dt){return dt&=-dt,1<dt?4<dt?dt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(dt,lt){switch(dt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(lt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(lt.pointerId)}}function Tc(dt,lt,ft,vt,St,Et){return dt===null||dt.nativeEvent!==Et?(dt={blockedOn:lt,domEventName:ft,eventSystemFlags:vt,nativeEvent:Et,targetContainers:[St]},lt!==null&&(lt=Cb(lt),lt!==null&&Fc(lt)),dt):(dt.eventSystemFlags|=vt,lt=dt.targetContainers,St!==null&&lt.indexOf(St)===-1&&lt.push(St),dt)}function Uc(dt,lt,ft,vt,St){switch(lt){case"focusin":return Lc=Tc(Lc,dt,lt,ft,vt,St),!0;case"dragenter":return Mc=Tc(Mc,dt,lt,ft,vt,St),!0;case"mouseover":return Nc=Tc(Nc,dt,lt,ft,vt,St),!0;case"pointerover":var Et=St.pointerId;return Oc.set(Et,Tc(Oc.get(Et)||null,dt,lt,ft,vt,St)),!0;case"gotpointercapture":return Et=St.pointerId,Pc.set(Et,Tc(Pc.get(Et)||null,dt,lt,ft,vt,St)),!0}return!1}function Vc(dt){var lt=Wc(dt.target);if(lt!==null){var ft=Vb(lt);if(ft!==null){if(lt=ft.tag,lt===13){if(lt=Wb(ft),lt!==null){dt.blockedOn=lt,Ic(dt.priority,function(){Gc(ft)});return}}else if(lt===3&&ft.stateNode.current.memoizedState.isDehydrated){dt.blockedOn=ft.tag===3?ft.stateNode.containerInfo:null;return}}}dt.blockedOn=null}function Xc(dt){if(dt.blockedOn!==null)return!1;for(var lt=dt.targetContainers;0<lt.length;){var ft=Yc(dt.domEventName,dt.eventSystemFlags,lt[0],dt.nativeEvent);if(ft===null){ft=dt.nativeEvent;var vt=new ft.constructor(ft.type,ft);wb=vt,ft.target.dispatchEvent(vt),wb=null}else return lt=Cb(ft),lt!==null&&Fc(lt),dt.blockedOn=ft,!1;lt.shift()}return!0}function Zc(dt,lt,ft){Xc(dt)&&ft.delete(lt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(dt,lt){dt.blockedOn===lt&&(dt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(dt){function lt(St){return ad(St,dt)}if(0<Kc.length){ad(Kc[0],dt);for(var ft=1;ft<Kc.length;ft++){var vt=Kc[ft];vt.blockedOn===dt&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,dt),Mc!==null&&ad(Mc,dt),Nc!==null&&ad(Nc,dt),Oc.forEach(lt),Pc.forEach(lt),ft=0;ft<Qc.length;ft++)vt=Qc[ft],vt.blockedOn===dt&&(vt.blockedOn=null);for(;0<Qc.length&&(ft=Qc[0],ft.blockedOn===null);)Vc(ft),ft.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(dt,lt,ft,vt){var St=C$2,Et=cd.transition;cd.transition=null;try{C$2=1,fd(dt,lt,ft,vt)}finally{C$2=St,cd.transition=Et}}function gd(dt,lt,ft,vt){var St=C$2,Et=cd.transition;cd.transition=null;try{C$2=4,fd(dt,lt,ft,vt)}finally{C$2=St,cd.transition=Et}}function fd(dt,lt,ft,vt){if(dd){var St=Yc(dt,lt,ft,vt);if(St===null)hd(dt,lt,vt,id$1,ft),Sc(dt,vt);else if(Uc(St,dt,lt,ft,vt))vt.stopPropagation();else if(Sc(dt,vt),lt&4&&-1<Rc.indexOf(dt)){for(;St!==null;){var Et=Cb(St);if(Et!==null&&Ec(Et),Et=Yc(dt,lt,ft,vt),Et===null&&hd(dt,lt,vt,id$1,ft),Et===St)break;St=Et}St!==null&&vt.stopPropagation()}else hd(dt,lt,vt,null,ft)}}var id$1=null;function Yc(dt,lt,ft,vt){if(id$1=null,dt=xb(vt),dt=Wc(dt),dt!==null)if(lt=Vb(dt),lt===null)dt=null;else if(ft=lt.tag,ft===13){if(dt=Wb(lt),dt!==null)return dt;dt=null}else if(ft===3){if(lt.stateNode.current.memoizedState.isDehydrated)return lt.tag===3?lt.stateNode.containerInfo:null;dt=null}else lt!==dt&&(dt=null);return id$1=dt,null}function jd(dt){switch(dt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var dt,lt=ld,ft=lt.length,vt,St="value"in kd?kd.value:kd.textContent,Et=St.length;for(dt=0;dt<ft&&lt[dt]===St[dt];dt++);var At=ft-dt;for(vt=1;vt<=At&&lt[ft-vt]===St[Et-vt];vt++);return md=St.slice(dt,1<vt?1-vt:void 0)}function od(dt){var lt=dt.keyCode;return"charCode"in dt?(dt=dt.charCode,dt===0&&lt===13&&(dt=13)):dt=lt,dt===10&&(dt=13),32<=dt||dt===13?dt:0}function pd(){return!0}function qd(){return!1}function rd(dt){function lt(ft,vt,St,Et,At){this._reactName=ft,this._targetInst=St,this.type=vt,this.nativeEvent=Et,this.target=At,this.currentTarget=null;for(var Ct in dt)dt.hasOwnProperty(Ct)&&(ft=dt[Ct],this[Ct]=ft?ft(Et):Et[Ct]);return this.isDefaultPrevented=(Et.defaultPrevented!=null?Et.defaultPrevented:Et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ft=this.nativeEvent;ft&&(ft.preventDefault?ft.preventDefault():typeof ft.returnValue!="unknown"&&(ft.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ft=this.nativeEvent;ft&&(ft.stopPropagation?ft.stopPropagation():typeof ft.cancelBubble!="unknown"&&(ft.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),lt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(dt){return dt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(dt){return dt.relatedTarget===void 0?dt.fromElement===dt.srcElement?dt.toElement:dt.fromElement:dt.relatedTarget},movementX:function(dt){return"movementX"in dt?dt.movementX:(dt!==yd&&(yd&&dt.type==="mousemove"?(wd=dt.screenX-yd.screenX,xd=dt.screenY-yd.screenY):xd=wd=0,yd=dt),wd)},movementY:function(dt){return"movementY"in dt?dt.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(dt){return"clipboardData"in dt?dt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(dt){var lt=this.nativeEvent;return lt.getModifierState?lt.getModifierState(dt):(dt=Od[dt])?!!lt[dt]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(dt){if(dt.key){var lt=Md[dt.key]||dt.key;if(lt!=="Unidentified")return lt}return dt.type==="keypress"?(dt=od(dt),dt===13?"Enter":String.fromCharCode(dt)):dt.type==="keydown"||dt.type==="keyup"?Nd[dt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(dt){return dt.type==="keypress"?od(dt):0},keyCode:function(dt){return dt.type==="keydown"||dt.type==="keyup"?dt.keyCode:0},which:function(dt){return dt.type==="keypress"?od(dt):dt.type==="keydown"||dt.type==="keyup"?dt.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(dt){return"deltaX"in dt?dt.deltaX:"wheelDeltaX"in dt?-dt.wheelDeltaX:0},deltaY:function(dt){return"deltaY"in dt?dt.deltaY:"wheelDeltaY"in dt?-dt.wheelDeltaY:"wheelDelta"in dt?-dt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$2,de$2=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=String.fromCharCode(32),fe$2=!1;function ge$1(dt,lt){switch(dt){case"keyup":return $d.indexOf(lt.keyCode)!==-1;case"keydown":return lt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(dt){return dt=dt.detail,typeof dt=="object"&&"data"in dt?dt.data:null}var ie$1=!1;function je$1(dt,lt){switch(dt){case"compositionend":return he$2(lt);case"keypress":return lt.which!==32?null:(fe$2=!0,ee$1);case"textInput":return dt=lt.data,dt===ee$1&&fe$2?null:dt;default:return null}}function ke$1(dt,lt){if(ie$1)return dt==="compositionend"||!ae$2&&ge$1(dt,lt)?(dt=nd(),md=ld=kd=null,ie$1=!1,dt):null;switch(dt){case"paste":return null;case"keypress":if(!(lt.ctrlKey||lt.altKey||lt.metaKey)||lt.ctrlKey&&lt.altKey){if(lt.char&&1<lt.char.length)return lt.char;if(lt.which)return String.fromCharCode(lt.which)}return null;case"compositionend":return de$2&&lt.locale!=="ko"?null:lt.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(dt){var lt=dt&&dt.nodeName&&dt.nodeName.toLowerCase();return lt==="input"?!!le$2[dt.type]:lt==="textarea"}function ne$3(dt,lt,ft,vt){Eb(vt),lt=oe$2(lt,"onChange"),0<lt.length&&(ft=new td("onChange","change",null,ft,vt),dt.push({event:ft,listeners:lt}))}var pe$1=null,qe$2=null;function re$2(dt){se$2(dt,0)}function te$2(dt){var lt=ue$2(dt);if(Wa(lt))return dt}function ve$1(dt,lt){if(dt==="change")return lt}var we$2=!1;if(ia){var xe$2;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$2=typeof ze$2.oninput=="function"}xe$2=ye$2}else xe$2=!1;we$2=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$2=pe$1=null)}function Be$1(dt){if(dt.propertyName==="value"&&te$2(qe$2)){var lt=[];ne$3(lt,qe$2,dt,xb(dt)),Jb(re$2,lt)}}function Ce$2(dt,lt,ft){dt==="focusin"?(Ae$1(),pe$1=lt,qe$2=ft,pe$1.attachEvent("onpropertychange",Be$1)):dt==="focusout"&&Ae$1()}function De$2(dt){if(dt==="selectionchange"||dt==="keyup"||dt==="keydown")return te$2(qe$2)}function Ee$2(dt,lt){if(dt==="click")return te$2(lt)}function Fe(dt,lt){if(dt==="input"||dt==="change")return te$2(lt)}function Ge$2(dt,lt){return dt===lt&&(dt!==0||1/dt===1/lt)||dt!==dt&&lt!==lt}var He$2=typeof Object.is=="function"?Object.is:Ge$2;function Ie$1(dt,lt){if(He$2(dt,lt))return!0;if(typeof dt!="object"||dt===null||typeof lt!="object"||lt===null)return!1;var ft=Object.keys(dt),vt=Object.keys(lt);if(ft.length!==vt.length)return!1;for(vt=0;vt<ft.length;vt++){var St=ft[vt];if(!ja.call(lt,St)||!He$2(dt[St],lt[St]))return!1}return!0}function Je(dt){for(;dt&&dt.firstChild;)dt=dt.firstChild;return dt}function Ke$2(dt,lt){var ft=Je(dt);dt=0;for(var vt;ft;){if(ft.nodeType===3){if(vt=dt+ft.textContent.length,dt<=lt&&vt>=lt)return{node:ft,offset:lt-dt};dt=vt}e:{for(;ft;){if(ft.nextSibling){ft=ft.nextSibling;break e}ft=ft.parentNode}ft=void 0}ft=Je(ft)}}function Le$3(dt,lt){return dt&&lt?dt===lt?!0:dt&&dt.nodeType===3?!1:lt&&lt.nodeType===3?Le$3(dt,lt.parentNode):"contains"in dt?dt.contains(lt):dt.compareDocumentPosition?!!(dt.compareDocumentPosition(lt)&16):!1:!1}function Me$1(){for(var dt=window,lt=Xa();lt instanceof dt.HTMLIFrameElement;){try{var ft=typeof lt.contentWindow.location.href=="string"}catch{ft=!1}if(ft)dt=lt.contentWindow;else break;lt=Xa(dt.document)}return lt}function Ne$2(dt){var lt=dt&&dt.nodeName&&dt.nodeName.toLowerCase();return lt&&(lt==="input"&&(dt.type==="text"||dt.type==="search"||dt.type==="tel"||dt.type==="url"||dt.type==="password")||lt==="textarea"||dt.contentEditable==="true")}function Oe$1(dt){var lt=Me$1(),ft=dt.focusedElem,vt=dt.selectionRange;if(lt!==ft&&ft&&ft.ownerDocument&&Le$3(ft.ownerDocument.documentElement,ft)){if(vt!==null&&Ne$2(ft)){if(lt=vt.start,dt=vt.end,dt===void 0&&(dt=lt),"selectionStart"in ft)ft.selectionStart=lt,ft.selectionEnd=Math.min(dt,ft.value.length);else if(dt=(lt=ft.ownerDocument||document)&&lt.defaultView||window,dt.getSelection){dt=dt.getSelection();var St=ft.textContent.length,Et=Math.min(vt.start,St);vt=vt.end===void 0?Et:Math.min(vt.end,St),!dt.extend&&Et>vt&&(St=vt,vt=Et,Et=St),St=Ke$2(ft,Et);var At=Ke$2(ft,vt);St&&At&&(dt.rangeCount!==1||dt.anchorNode!==St.node||dt.anchorOffset!==St.offset||dt.focusNode!==At.node||dt.focusOffset!==At.offset)&&(lt=lt.createRange(),lt.setStart(St.node,St.offset),dt.removeAllRanges(),Et>vt?(dt.addRange(lt),dt.extend(At.node,At.offset)):(lt.setEnd(At.node,At.offset),dt.addRange(lt)))}}for(lt=[],dt=ft;dt=dt.parentNode;)dt.nodeType===1&&lt.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof ft.focus=="function"&&ft.focus(),ft=0;ft<lt.length;ft++)dt=lt[ft],dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}var Pe$2=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue$2(dt,lt,ft){var vt=ft.window===ft?ft.document:ft.nodeType===9?ft:ft.ownerDocument;Te$1||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne$2(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie$1(Se,vt)||(Se=vt,vt=oe$2(Re$1,"onSelect"),0<vt.length&&(lt=new td("onSelect","select",null,lt,ft),dt.push({event:lt,listeners:vt}),lt.target=Qe)))}function Ve$1(dt,lt){var ft={};return ft[dt.toLowerCase()]=lt.toLowerCase(),ft["Webkit"+dt]="webkit"+lt,ft["Moz"+dt]="moz"+lt,ft}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(dt){if(Xe[dt])return Xe[dt];if(!We$1[dt])return dt;var lt=We$1[dt],ft;for(ft in lt)if(lt.hasOwnProperty(ft)&&ft in Ye)return Xe[dt]=lt[ft];return dt}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(dt,lt){df.set(dt,lt),fa(lt,[dt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(dt,lt,ft){var vt=dt.type||"unknown-event";dt.currentTarget=ft,Ub(vt,lt,void 0,dt),dt.currentTarget=null}function se$2(dt,lt){lt=(lt&4)!==0;for(var ft=0;ft<dt.length;ft++){var vt=dt[ft],St=vt.event;vt=vt.listeners;e:{var Et=void 0;if(lt)for(var At=vt.length-1;0<=At;At--){var Ct=vt[At],Tt=Ct.instance,Rt=Ct.currentTarget;if(Ct=Ct.listener,Tt!==Et&&St.isPropagationStopped())break e;nf(St,Ct,Rt),Et=Tt}else for(At=0;At<vt.length;At++){if(Ct=vt[At],Tt=Ct.instance,Rt=Ct.currentTarget,Ct=Ct.listener,Tt!==Et&&St.isPropagationStopped())break e;nf(St,Ct,Rt),Et=Tt}}}if(Qb)throw dt=Rb,Qb=!1,Rb=null,dt}function D$3(dt,lt){var ft=lt[of];ft===void 0&&(ft=lt[of]=new Set);var vt=dt+"__bubble";ft.has(vt)||(pf(lt,dt,2,!1),ft.add(vt))}function qf(dt,lt,ft){var vt=0;lt&&(vt|=4),pf(ft,dt,vt,lt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(dt){if(!dt[rf]){dt[rf]=!0,da.forEach(function(ft){ft!=="selectionchange"&&(mf.has(ft)||qf(ft,!1,dt),qf(ft,!0,dt))});var lt=dt.nodeType===9?dt:dt.ownerDocument;lt===null||lt[rf]||(lt[rf]=!0,qf("selectionchange",!1,lt))}}function pf(dt,lt,ft,vt){switch(jd(lt)){case 1:var St=ed;break;case 4:St=gd;break;default:St=fd}ft=St.bind(null,lt,ft,dt),St=void 0,!Lb||lt!=="touchstart"&&lt!=="touchmove"&&lt!=="wheel"||(St=!0),vt?St!==void 0?dt.addEventListener(lt,ft,{capture:!0,passive:St}):dt.addEventListener(lt,ft,!0):St!==void 0?dt.addEventListener(lt,ft,{passive:St}):dt.addEventListener(lt,ft,!1)}function hd(dt,lt,ft,vt,St){var Et=vt;if(!(lt&1)&&!(lt&2)&&vt!==null)e:for(;;){if(vt===null)return;var At=vt.tag;if(At===3||At===4){var Ct=vt.stateNode.containerInfo;if(Ct===St||Ct.nodeType===8&&Ct.parentNode===St)break;if(At===4)for(At=vt.return;At!==null;){var Tt=At.tag;if((Tt===3||Tt===4)&&(Tt=At.stateNode.containerInfo,Tt===St||Tt.nodeType===8&&Tt.parentNode===St))return;At=At.return}for(;Ct!==null;){if(At=Wc(Ct),At===null)return;if(Tt=At.tag,Tt===5||Tt===6){vt=Et=At;continue e}Ct=Ct.parentNode}}vt=vt.return}Jb(function(){var Rt=Et,Bt=xb(ft),Ft=[];e:{var Dt=df.get(dt);if(Dt!==void 0){var kt=td,zt=dt;switch(dt){case"keypress":if(od(ft)===0)break e;case"keydown":case"keyup":kt=Rd;break;case"focusin":zt="focus",kt=Fd;break;case"focusout":zt="blur",kt=Fd;break;case"beforeblur":case"afterblur":kt=Fd;break;case"click":if(ft.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Vd;break;case $e$1:case af:case bf:kt=Hd;break;case cf:kt=Xd;break;case"scroll":kt=vd;break;case"wheel":kt=Zd;break;case"copy":case"cut":case"paste":kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Td}var Ht=(lt&4)!==0,en=!Ht&&dt==="scroll",Kt=Ht?Dt!==null?Dt+"Capture":null:Dt;Ht=[];for(var Zt=Rt,Wt;Zt!==null;){Wt=Zt;var tn=Wt.stateNode;if(Wt.tag===5&&tn!==null&&(Wt=tn,Kt!==null&&(tn=Kb(Zt,Kt),tn!=null&&Ht.push(tf(Zt,tn,Wt)))),en)break;Zt=Zt.return}0<Ht.length&&(Dt=new kt(Dt,zt,null,ft,Bt),Ft.push({event:Dt,listeners:Ht}))}}if(!(lt&7)){e:{if(Dt=dt==="mouseover"||dt==="pointerover",kt=dt==="mouseout"||dt==="pointerout",Dt&&ft!==wb&&(zt=ft.relatedTarget||ft.fromElement)&&(Wc(zt)||zt[uf]))break e;if((kt||Dt)&&(Dt=Bt.window===Bt?Bt:(Dt=Bt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,kt?(zt=ft.relatedTarget||ft.toElement,kt=Rt,zt=zt?Wc(zt):null,zt!==null&&(en=Vb(zt),zt!==en||zt.tag!==5&&zt.tag!==6)&&(zt=null)):(kt=null,zt=Rt),kt!==zt)){if(Ht=Bd,tn="onMouseLeave",Kt="onMouseEnter",Zt="mouse",(dt==="pointerout"||dt==="pointerover")&&(Ht=Td,tn="onPointerLeave",Kt="onPointerEnter",Zt="pointer"),en=kt==null?Dt:ue$2(kt),Wt=zt==null?Dt:ue$2(zt),Dt=new Ht(tn,Zt+"leave",kt,ft,Bt),Dt.target=en,Dt.relatedTarget=Wt,tn=null,Wc(Bt)===Rt&&(Ht=new Ht(Kt,Zt+"enter",zt,ft,Bt),Ht.target=Wt,Ht.relatedTarget=en,tn=Ht),en=tn,kt&&zt)t:{for(Ht=kt,Kt=zt,Zt=0,Wt=Ht;Wt;Wt=vf(Wt))Zt++;for(Wt=0,tn=Kt;tn;tn=vf(tn))Wt++;for(;0<Zt-Wt;)Ht=vf(Ht),Zt--;for(;0<Wt-Zt;)Kt=vf(Kt),Wt--;for(;Zt--;){if(Ht===Kt||Kt!==null&&Ht===Kt.alternate)break t;Ht=vf(Ht),Kt=vf(Kt)}Ht=null}else Ht=null;kt!==null&&wf(Ft,Dt,kt,Ht,!1),zt!==null&&en!==null&&wf(Ft,en,zt,Ht,!0)}}e:{if(Dt=Rt?ue$2(Rt):window,kt=Dt.nodeName&&Dt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Dt.type==="file")var an=ve$1;else if(me$2(Dt))if(we$2)an=Fe;else{an=De$2;var ln=Ce$2}else(kt=Dt.nodeName)&&kt.toLowerCase()==="input"&&(Dt.type==="checkbox"||Dt.type==="radio")&&(an=Ee$2);if(an&&(an=an(dt,Rt))){ne$3(Ft,an,ft,Bt);break e}ln&&ln(dt,Dt,Rt),dt==="focusout"&&(ln=Dt._wrapperState)&&ln.controlled&&Dt.type==="number"&&cb(Dt,"number",Dt.value)}switch(ln=Rt?ue$2(Rt):window,dt){case"focusin":(me$2(ln)||ln.contentEditable==="true")&&(Qe=ln,Re$1=Rt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$2(Ft,ft,Bt);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$2(Ft,ft,Bt)}var fn;if(ae$2)e:{switch(dt){case"compositionstart":var un="onCompositionStart";break e;case"compositionend":un="onCompositionEnd";break e;case"compositionupdate":un="onCompositionUpdate";break e}un=void 0}else ie$1?ge$1(dt,ft)&&(un="onCompositionEnd"):dt==="keydown"&&ft.keyCode===229&&(un="onCompositionStart");un&&(de$2&&ft.locale!=="ko"&&(ie$1||un!=="onCompositionStart"?un==="onCompositionEnd"&&ie$1&&(fn=nd()):(kd=Bt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),ln=oe$2(Rt,un),0<ln.length&&(un=new Ld(un,dt,null,ft,Bt),Ft.push({event:un,listeners:ln}),fn?un.data=fn:(fn=he$2(ft),fn!==null&&(un.data=fn)))),(fn=ce$1?je$1(dt,ft):ke$1(dt,ft))&&(Rt=oe$2(Rt,"onBeforeInput"),0<Rt.length&&(Bt=new Ld("onBeforeInput","beforeinput",null,ft,Bt),Ft.push({event:Bt,listeners:Rt}),Bt.data=fn))}se$2(Ft,lt)})}function tf(dt,lt,ft){return{instance:dt,listener:lt,currentTarget:ft}}function oe$2(dt,lt){for(var ft=lt+"Capture",vt=[];dt!==null;){var St=dt,Et=St.stateNode;St.tag===5&&Et!==null&&(St=Et,Et=Kb(dt,ft),Et!=null&&vt.unshift(tf(dt,Et,St)),Et=Kb(dt,lt),Et!=null&&vt.push(tf(dt,Et,St))),dt=dt.return}return vt}function vf(dt){if(dt===null)return null;do dt=dt.return;while(dt&&dt.tag!==5);return dt||null}function wf(dt,lt,ft,vt,St){for(var Et=lt._reactName,At=[];ft!==null&&ft!==vt;){var Ct=ft,Tt=Ct.alternate,Rt=Ct.stateNode;if(Tt!==null&&Tt===vt)break;Ct.tag===5&&Rt!==null&&(Ct=Rt,St?(Tt=Kb(ft,Et),Tt!=null&&At.unshift(tf(ft,Tt,Ct))):St||(Tt=Kb(ft,Et),Tt!=null&&At.push(tf(ft,Tt,Ct)))),ft=ft.return}At.length!==0&&dt.push({event:lt,listeners:At})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(dt){return(typeof dt=="string"?dt:""+dt).replace(xf,`
`).replace(yf,"")}function Af(dt,lt,ft){if(lt=zf(lt),zf(dt)!==lt&&ft)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(dt,lt){return dt==="textarea"||dt==="noscript"||typeof lt.children=="string"||typeof lt.children=="number"||typeof lt.dangerouslySetInnerHTML=="object"&&lt.dangerouslySetInnerHTML!==null&&lt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(dt){return Hf.resolve(null).then(dt).catch(If)}:Ff;function If(dt){setTimeout(function(){throw dt})}function Kf(dt,lt){var ft=lt,vt=0;do{var St=ft.nextSibling;if(dt.removeChild(ft),St&&St.nodeType===8)if(ft=St.data,ft==="/$"){if(vt===0){dt.removeChild(St),bd(lt);return}vt--}else ft!=="$"&&ft!=="$?"&&ft!=="$!"||vt++;ft=St}while(ft);bd(lt)}function Lf(dt){for(;dt!=null;dt=dt.nextSibling){var lt=dt.nodeType;if(lt===1||lt===3)break;if(lt===8){if(lt=dt.data,lt==="$"||lt==="$!"||lt==="$?")break;if(lt==="/$")return null}}return dt}function Mf(dt){dt=dt.previousSibling;for(var lt=0;dt;){if(dt.nodeType===8){var ft=dt.data;if(ft==="$"||ft==="$!"||ft==="$?"){if(lt===0)return dt;lt--}else ft==="/$"&&lt++}dt=dt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(dt){var lt=dt[Of];if(lt)return lt;for(var ft=dt.parentNode;ft;){if(lt=ft[uf]||ft[Of]){if(ft=lt.alternate,lt.child!==null||ft!==null&&ft.child!==null)for(dt=Mf(dt);dt!==null;){if(ft=dt[Of])return ft;dt=Mf(dt)}return lt}dt=ft,ft=dt.parentNode}return null}function Cb(dt){return dt=dt[Of]||dt[uf],!dt||dt.tag!==5&&dt.tag!==6&&dt.tag!==13&&dt.tag!==3?null:dt}function ue$2(dt){if(dt.tag===5||dt.tag===6)return dt.stateNode;throw Error(p$5(33))}function Db(dt){return dt[Pf]||null}var Sf=[],Tf=-1;function Uf(dt){return{current:dt}}function E$4(dt){0>Tf||(dt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(dt,lt){Tf++,Sf[Tf]=dt.current,dt.current=lt}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(dt,lt){var ft=dt.type.contextTypes;if(!ft)return Vf;var vt=dt.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===lt)return vt.__reactInternalMemoizedMaskedChildContext;var St={},Et;for(Et in ft)St[Et]=lt[Et];return vt&&(dt=dt.stateNode,dt.__reactInternalMemoizedUnmaskedChildContext=lt,dt.__reactInternalMemoizedMaskedChildContext=St),St}function Zf(dt){return dt=dt.childContextTypes,dt!=null}function $f(){E$4(Wf),E$4(H$3)}function ag(dt,lt,ft){if(H$3.current!==Vf)throw Error(p$5(168));G$1(H$3,lt),G$1(Wf,ft)}function bg(dt,lt,ft){var vt=dt.stateNode;if(lt=lt.childContextTypes,typeof vt.getChildContext!="function")return ft;vt=vt.getChildContext();for(var St in vt)if(!(St in lt))throw Error(p$5(108,Ra(dt)||"Unknown",St));return A$2({},ft,vt)}function cg(dt){return dt=(dt=dt.stateNode)&&dt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,dt),G$1(Wf,Wf.current),!0}function dg(dt,lt,ft){var vt=dt.stateNode;if(!vt)throw Error(p$5(169));ft?(dt=bg(dt,lt,Xf),vt.__reactInternalMemoizedMergedChildContext=dt,E$4(Wf),E$4(H$3),G$1(H$3,dt)):E$4(Wf),G$1(Wf,ft)}var eg=null,fg=!1,gg=!1;function hg(dt){eg===null?eg=[dt]:eg.push(dt)}function ig(dt){fg=!0,hg(dt)}function jg(){if(!gg&&eg!==null){gg=!0;var dt=0,lt=C$2;try{var ft=eg;for(C$2=1;dt<ft.length;dt++){var vt=ft[dt];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(St){throw eg!==null&&(eg=eg.slice(dt+1)),ac(fc,jg),St}finally{C$2=lt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(dt,lt){kg[lg++]=ng,kg[lg++]=mg,mg=dt,ng=lt}function ug(dt,lt,ft){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=dt;var vt=rg;dt=sg;var St=32-oc(vt)-1;vt&=~(1<<St),ft+=1;var Et=32-oc(lt)+St;if(30<Et){var At=St-St%5;Et=(vt&(1<<At)-1).toString(32),vt>>=At,St-=At,rg=1<<32-oc(lt)+St|ft<<St|vt,sg=Et+dt}else rg=1<<Et|ft<<St|vt,sg=dt}function vg(dt){dt.return!==null&&(tg(dt,1),ug(dt,1,0))}function wg(dt){for(;dt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;dt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(dt,lt){var ft=Bg(5,null,null,0);ft.elementType="DELETED",ft.stateNode=lt,ft.return=dt,lt=dt.deletions,lt===null?(dt.deletions=[ft],dt.flags|=16):lt.push(ft)}function Cg(dt,lt){switch(dt.tag){case 5:var ft=dt.type;return lt=lt.nodeType!==1||ft.toLowerCase()!==lt.nodeName.toLowerCase()?null:lt,lt!==null?(dt.stateNode=lt,xg=dt,yg=Lf(lt.firstChild),!0):!1;case 6:return lt=dt.pendingProps===""||lt.nodeType!==3?null:lt,lt!==null?(dt.stateNode=lt,xg=dt,yg=null,!0):!1;case 13:return lt=lt.nodeType!==8?null:lt,lt!==null?(ft=qg!==null?{id:rg,overflow:sg}:null,dt.memoizedState={dehydrated:lt,treeContext:ft,retryLane:1073741824},ft=Bg(18,null,null,0),ft.stateNode=lt,ft.return=dt,dt.child=ft,xg=dt,yg=null,!0):!1;default:return!1}}function Dg(dt){return(dt.mode&1)!==0&&(dt.flags&128)===0}function Eg(dt){if(I$3){var lt=yg;if(lt){var ft=lt;if(!Cg(dt,lt)){if(Dg(dt))throw Error(p$5(418));lt=Lf(ft.nextSibling);var vt=xg;lt&&Cg(dt,lt)?Ag(vt,ft):(dt.flags=dt.flags&-4097|2,I$3=!1,xg=dt)}}else{if(Dg(dt))throw Error(p$5(418));dt.flags=dt.flags&-4097|2,I$3=!1,xg=dt}}}function Fg(dt){for(dt=dt.return;dt!==null&&dt.tag!==5&&dt.tag!==3&&dt.tag!==13;)dt=dt.return;xg=dt}function Gg(dt){if(dt!==xg)return!1;if(!I$3)return Fg(dt),I$3=!0,!1;var lt;if((lt=dt.tag!==3)&&!(lt=dt.tag!==5)&&(lt=dt.type,lt=lt!=="head"&&lt!=="body"&&!Ef(dt.type,dt.memoizedProps)),lt&&(lt=yg)){if(Dg(dt))throw Hg(),Error(p$5(418));for(;lt;)Ag(dt,lt),lt=Lf(lt.nextSibling)}if(Fg(dt),dt.tag===13){if(dt=dt.memoizedState,dt=dt!==null?dt.dehydrated:null,!dt)throw Error(p$5(317));e:{for(dt=dt.nextSibling,lt=0;dt;){if(dt.nodeType===8){var ft=dt.data;if(ft==="/$"){if(lt===0){yg=Lf(dt.nextSibling);break e}lt--}else ft!=="$"&&ft!=="$!"&&ft!=="$?"||lt++}dt=dt.nextSibling}yg=null}}else yg=xg?Lf(dt.stateNode.nextSibling):null;return!0}function Hg(){for(var dt=yg;dt;)dt=Lf(dt.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(dt){zg===null?zg=[dt]:zg.push(dt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(dt,lt){if(dt&&dt.defaultProps){lt=A$2({},lt),dt=dt.defaultProps;for(var ft in dt)lt[ft]===void 0&&(lt[ft]=dt[ft]);return lt}return lt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(dt){var lt=Mg.current;E$4(Mg),dt._currentValue=lt}function Sg(dt,lt,ft){for(;dt!==null;){var vt=dt.alternate;if((dt.childLanes&lt)!==lt?(dt.childLanes|=lt,vt!==null&&(vt.childLanes|=lt)):vt!==null&&(vt.childLanes&lt)!==lt&&(vt.childLanes|=lt),dt===ft)break;dt=dt.return}}function Tg(dt,lt){Ng=dt,Pg=Og=null,dt=dt.dependencies,dt!==null&&dt.firstContext!==null&&(dt.lanes&lt&&(Ug=!0),dt.firstContext=null)}function Vg(dt){var lt=dt._currentValue;if(Pg!==dt)if(dt={context:dt,memoizedValue:lt,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=dt,Ng.dependencies={lanes:0,firstContext:dt}}else Og=Og.next=dt;return lt}var Wg=null;function Xg(dt){Wg===null?Wg=[dt]:Wg.push(dt)}function Yg(dt,lt,ft,vt){var St=lt.interleaved;return St===null?(ft.next=ft,Xg(lt)):(ft.next=St.next,St.next=ft),lt.interleaved=ft,Zg(dt,vt)}function Zg(dt,lt){dt.lanes|=lt;var ft=dt.alternate;for(ft!==null&&(ft.lanes|=lt),ft=dt,dt=dt.return;dt!==null;)dt.childLanes|=lt,ft=dt.alternate,ft!==null&&(ft.childLanes|=lt),ft=dt,dt=dt.return;return ft.tag===3?ft.stateNode:null}var $g=!1;function ah(dt){dt.updateQueue={baseState:dt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(dt,lt){dt=dt.updateQueue,lt.updateQueue===dt&&(lt.updateQueue={baseState:dt.baseState,firstBaseUpdate:dt.firstBaseUpdate,lastBaseUpdate:dt.lastBaseUpdate,shared:dt.shared,effects:dt.effects})}function ch(dt,lt){return{eventTime:dt,lane:lt,tag:0,payload:null,callback:null,next:null}}function dh(dt,lt,ft){var vt=dt.updateQueue;if(vt===null)return null;if(vt=vt.shared,K$2&2){var St=vt.pending;return St===null?lt.next=lt:(lt.next=St.next,St.next=lt),vt.pending=lt,Zg(dt,ft)}return St=vt.interleaved,St===null?(lt.next=lt,Xg(vt)):(lt.next=St.next,St.next=lt),vt.interleaved=lt,Zg(dt,ft)}function eh(dt,lt,ft){if(lt=lt.updateQueue,lt!==null&&(lt=lt.shared,(ft&4194240)!==0)){var vt=lt.lanes;vt&=dt.pendingLanes,ft|=vt,lt.lanes=ft,Cc(dt,ft)}}function fh(dt,lt){var ft=dt.updateQueue,vt=dt.alternate;if(vt!==null&&(vt=vt.updateQueue,ft===vt)){var St=null,Et=null;if(ft=ft.firstBaseUpdate,ft!==null){do{var At={eventTime:ft.eventTime,lane:ft.lane,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null};Et===null?St=Et=At:Et=Et.next=At,ft=ft.next}while(ft!==null);Et===null?St=Et=lt:Et=Et.next=lt}else St=Et=lt;ft={baseState:vt.baseState,firstBaseUpdate:St,lastBaseUpdate:Et,shared:vt.shared,effects:vt.effects},dt.updateQueue=ft;return}dt=ft.lastBaseUpdate,dt===null?ft.firstBaseUpdate=lt:dt.next=lt,ft.lastBaseUpdate=lt}function gh(dt,lt,ft,vt){var St=dt.updateQueue;$g=!1;var Et=St.firstBaseUpdate,At=St.lastBaseUpdate,Ct=St.shared.pending;if(Ct!==null){St.shared.pending=null;var Tt=Ct,Rt=Tt.next;Tt.next=null,At===null?Et=Rt:At.next=Rt,At=Tt;var Bt=dt.alternate;Bt!==null&&(Bt=Bt.updateQueue,Ct=Bt.lastBaseUpdate,Ct!==At&&(Ct===null?Bt.firstBaseUpdate=Rt:Ct.next=Rt,Bt.lastBaseUpdate=Tt))}if(Et!==null){var Ft=St.baseState;At=0,Bt=Rt=Tt=null,Ct=Et;do{var Dt=Ct.lane,kt=Ct.eventTime;if((vt&Dt)===Dt){Bt!==null&&(Bt=Bt.next={eventTime:kt,lane:0,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null});e:{var zt=dt,Ht=Ct;switch(Dt=lt,kt=ft,Ht.tag){case 1:if(zt=Ht.payload,typeof zt=="function"){Ft=zt.call(kt,Ft,Dt);break e}Ft=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Ht.payload,Dt=typeof zt=="function"?zt.call(kt,Ft,Dt):zt,Dt==null)break e;Ft=A$2({},Ft,Dt);break e;case 2:$g=!0}}Ct.callback!==null&&Ct.lane!==0&&(dt.flags|=64,Dt=St.effects,Dt===null?St.effects=[Ct]:Dt.push(Ct))}else kt={eventTime:kt,lane:Dt,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null},Bt===null?(Rt=Bt=kt,Tt=Ft):Bt=Bt.next=kt,At|=Dt;if(Ct=Ct.next,Ct===null){if(Ct=St.shared.pending,Ct===null)break;Dt=Ct,Ct=Dt.next,Dt.next=null,St.lastBaseUpdate=Dt,St.shared.pending=null}}while(1);if(Bt===null&&(Tt=Ft),St.baseState=Tt,St.firstBaseUpdate=Rt,St.lastBaseUpdate=Bt,lt=St.shared.interleaved,lt!==null){St=lt;do At|=St.lane,St=St.next;while(St!==lt)}else Et===null&&(St.shared.lanes=0);hh|=At,dt.lanes=At,dt.memoizedState=Ft}}function ih(dt,lt,ft){if(dt=lt.effects,lt.effects=null,dt!==null)for(lt=0;lt<dt.length;lt++){var vt=dt[lt],St=vt.callback;if(St!==null){if(vt.callback=null,vt=ft,typeof St!="function")throw Error(p$5(191,St));St.call(vt)}}}var jh=new aa.Component().refs;function kh(dt,lt,ft,vt){lt=dt.memoizedState,ft=ft(vt,lt),ft=ft==null?lt:A$2({},lt,ft),dt.memoizedState=ft,dt.lanes===0&&(dt.updateQueue.baseState=ft)}var nh={isMounted:function(dt){return(dt=dt._reactInternals)?Vb(dt)===dt:!1},enqueueSetState:function(dt,lt,ft){dt=dt._reactInternals;var vt=L$2(),St=lh(dt),Et=ch(vt,St);Et.payload=lt,ft!=null&&(Et.callback=ft),lt=dh(dt,Et,St),lt!==null&&(mh(lt,dt,St,vt),eh(lt,dt,St))},enqueueReplaceState:function(dt,lt,ft){dt=dt._reactInternals;var vt=L$2(),St=lh(dt),Et=ch(vt,St);Et.tag=1,Et.payload=lt,ft!=null&&(Et.callback=ft),lt=dh(dt,Et,St),lt!==null&&(mh(lt,dt,St,vt),eh(lt,dt,St))},enqueueForceUpdate:function(dt,lt){dt=dt._reactInternals;var ft=L$2(),vt=lh(dt),St=ch(ft,vt);St.tag=2,lt!=null&&(St.callback=lt),lt=dh(dt,St,vt),lt!==null&&(mh(lt,dt,vt,ft),eh(lt,dt,vt))}};function oh(dt,lt,ft,vt,St,Et,At){return dt=dt.stateNode,typeof dt.shouldComponentUpdate=="function"?dt.shouldComponentUpdate(vt,Et,At):lt.prototype&&lt.prototype.isPureReactComponent?!Ie$1(ft,vt)||!Ie$1(St,Et):!0}function ph(dt,lt,ft){var vt=!1,St=Vf,Et=lt.contextType;return typeof Et=="object"&&Et!==null?Et=Vg(Et):(St=Zf(lt)?Xf:H$3.current,vt=lt.contextTypes,Et=(vt=vt!=null)?Yf(dt,St):Vf),lt=new lt(ft,Et),dt.memoizedState=lt.state!==null&&lt.state!==void 0?lt.state:null,lt.updater=nh,dt.stateNode=lt,lt._reactInternals=dt,vt&&(dt=dt.stateNode,dt.__reactInternalMemoizedUnmaskedChildContext=St,dt.__reactInternalMemoizedMaskedChildContext=Et),lt}function qh(dt,lt,ft,vt){dt=lt.state,typeof lt.componentWillReceiveProps=="function"&&lt.componentWillReceiveProps(ft,vt),typeof lt.UNSAFE_componentWillReceiveProps=="function"&&lt.UNSAFE_componentWillReceiveProps(ft,vt),lt.state!==dt&&nh.enqueueReplaceState(lt,lt.state,null)}function rh(dt,lt,ft,vt){var St=dt.stateNode;St.props=ft,St.state=dt.memoizedState,St.refs=jh,ah(dt);var Et=lt.contextType;typeof Et=="object"&&Et!==null?St.context=Vg(Et):(Et=Zf(lt)?Xf:H$3.current,St.context=Yf(dt,Et)),St.state=dt.memoizedState,Et=lt.getDerivedStateFromProps,typeof Et=="function"&&(kh(dt,lt,Et,ft),St.state=dt.memoizedState),typeof lt.getDerivedStateFromProps=="function"||typeof St.getSnapshotBeforeUpdate=="function"||typeof St.UNSAFE_componentWillMount!="function"&&typeof St.componentWillMount!="function"||(lt=St.state,typeof St.componentWillMount=="function"&&St.componentWillMount(),typeof St.UNSAFE_componentWillMount=="function"&&St.UNSAFE_componentWillMount(),lt!==St.state&&nh.enqueueReplaceState(St,St.state,null),gh(dt,ft,St,vt),St.state=dt.memoizedState),typeof St.componentDidMount=="function"&&(dt.flags|=4194308)}function sh(dt,lt,ft){if(dt=ft.ref,dt!==null&&typeof dt!="function"&&typeof dt!="object"){if(ft._owner){if(ft=ft._owner,ft){if(ft.tag!==1)throw Error(p$5(309));var vt=ft.stateNode}if(!vt)throw Error(p$5(147,dt));var St=vt,Et=""+dt;return lt!==null&&lt.ref!==null&&typeof lt.ref=="function"&&lt.ref._stringRef===Et?lt.ref:(lt=function(At){var Ct=St.refs;Ct===jh&&(Ct=St.refs={}),At===null?delete Ct[Et]:Ct[Et]=At},lt._stringRef=Et,lt)}if(typeof dt!="string")throw Error(p$5(284));if(!ft._owner)throw Error(p$5(290,dt))}return dt}function th(dt,lt){throw dt=Object.prototype.toString.call(lt),Error(p$5(31,dt==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":dt))}function uh(dt){var lt=dt._init;return lt(dt._payload)}function vh(dt){function lt(Kt,Zt){if(dt){var Wt=Kt.deletions;Wt===null?(Kt.deletions=[Zt],Kt.flags|=16):Wt.push(Zt)}}function ft(Kt,Zt){if(!dt)return null;for(;Zt!==null;)lt(Kt,Zt),Zt=Zt.sibling;return null}function vt(Kt,Zt){for(Kt=new Map;Zt!==null;)Zt.key!==null?Kt.set(Zt.key,Zt):Kt.set(Zt.index,Zt),Zt=Zt.sibling;return Kt}function St(Kt,Zt){return Kt=wh(Kt,Zt),Kt.index=0,Kt.sibling=null,Kt}function Et(Kt,Zt,Wt){return Kt.index=Wt,dt?(Wt=Kt.alternate,Wt!==null?(Wt=Wt.index,Wt<Zt?(Kt.flags|=2,Zt):Wt):(Kt.flags|=2,Zt)):(Kt.flags|=1048576,Zt)}function At(Kt){return dt&&Kt.alternate===null&&(Kt.flags|=2),Kt}function Ct(Kt,Zt,Wt,tn){return Zt===null||Zt.tag!==6?(Zt=xh(Wt,Kt.mode,tn),Zt.return=Kt,Zt):(Zt=St(Zt,Wt),Zt.return=Kt,Zt)}function Tt(Kt,Zt,Wt,tn){var an=Wt.type;return an===ya?Bt(Kt,Zt,Wt.props.children,tn,Wt.key):Zt!==null&&(Zt.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===Ha&&uh(an)===Zt.type)?(tn=St(Zt,Wt.props),tn.ref=sh(Kt,Zt,Wt),tn.return=Kt,tn):(tn=yh(Wt.type,Wt.key,Wt.props,null,Kt.mode,tn),tn.ref=sh(Kt,Zt,Wt),tn.return=Kt,tn)}function Rt(Kt,Zt,Wt,tn){return Zt===null||Zt.tag!==4||Zt.stateNode.containerInfo!==Wt.containerInfo||Zt.stateNode.implementation!==Wt.implementation?(Zt=zh(Wt,Kt.mode,tn),Zt.return=Kt,Zt):(Zt=St(Zt,Wt.children||[]),Zt.return=Kt,Zt)}function Bt(Kt,Zt,Wt,tn,an){return Zt===null||Zt.tag!==7?(Zt=Ah(Wt,Kt.mode,tn,an),Zt.return=Kt,Zt):(Zt=St(Zt,Wt),Zt.return=Kt,Zt)}function Ft(Kt,Zt,Wt){if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number")return Zt=xh(""+Zt,Kt.mode,Wt),Zt.return=Kt,Zt;if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case va:return Wt=yh(Zt.type,Zt.key,Zt.props,null,Kt.mode,Wt),Wt.ref=sh(Kt,null,Zt),Wt.return=Kt,Wt;case wa:return Zt=zh(Zt,Kt.mode,Wt),Zt.return=Kt,Zt;case Ha:var tn=Zt._init;return Ft(Kt,tn(Zt._payload),Wt)}if(eb(Zt)||Ka(Zt))return Zt=Ah(Zt,Kt.mode,Wt,null),Zt.return=Kt,Zt;th(Kt,Zt)}return null}function Dt(Kt,Zt,Wt,tn){var an=Zt!==null?Zt.key:null;if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number")return an!==null?null:Ct(Kt,Zt,""+Wt,tn);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case va:return Wt.key===an?Tt(Kt,Zt,Wt,tn):null;case wa:return Wt.key===an?Rt(Kt,Zt,Wt,tn):null;case Ha:return an=Wt._init,Dt(Kt,Zt,an(Wt._payload),tn)}if(eb(Wt)||Ka(Wt))return an!==null?null:Bt(Kt,Zt,Wt,tn,null);th(Kt,Wt)}return null}function kt(Kt,Zt,Wt,tn,an){if(typeof tn=="string"&&tn!==""||typeof tn=="number")return Kt=Kt.get(Wt)||null,Ct(Zt,Kt,""+tn,an);if(typeof tn=="object"&&tn!==null){switch(tn.$$typeof){case va:return Kt=Kt.get(tn.key===null?Wt:tn.key)||null,Tt(Zt,Kt,tn,an);case wa:return Kt=Kt.get(tn.key===null?Wt:tn.key)||null,Rt(Zt,Kt,tn,an);case Ha:var ln=tn._init;return kt(Kt,Zt,Wt,ln(tn._payload),an)}if(eb(tn)||Ka(tn))return Kt=Kt.get(Wt)||null,Bt(Zt,Kt,tn,an,null);th(Zt,tn)}return null}function zt(Kt,Zt,Wt,tn){for(var an=null,ln=null,fn=Zt,un=Zt=0,pn=null;fn!==null&&un<Wt.length;un++){fn.index>un?(pn=fn,fn=null):pn=fn.sibling;var xn=Dt(Kt,fn,Wt[un],tn);if(xn===null){fn===null&&(fn=pn);break}dt&&fn&&xn.alternate===null&&lt(Kt,fn),Zt=Et(xn,Zt,un),ln===null?an=xn:ln.sibling=xn,ln=xn,fn=pn}if(un===Wt.length)return ft(Kt,fn),I$3&&tg(Kt,un),an;if(fn===null){for(;un<Wt.length;un++)fn=Ft(Kt,Wt[un],tn),fn!==null&&(Zt=Et(fn,Zt,un),ln===null?an=fn:ln.sibling=fn,ln=fn);return I$3&&tg(Kt,un),an}for(fn=vt(Kt,fn);un<Wt.length;un++)pn=kt(fn,Kt,un,Wt[un],tn),pn!==null&&(dt&&pn.alternate!==null&&fn.delete(pn.key===null?un:pn.key),Zt=Et(pn,Zt,un),ln===null?an=pn:ln.sibling=pn,ln=pn);return dt&&fn.forEach(function(An){return lt(Kt,An)}),I$3&&tg(Kt,un),an}function Ht(Kt,Zt,Wt,tn){var an=Ka(Wt);if(typeof an!="function")throw Error(p$5(150));if(Wt=an.call(Wt),Wt==null)throw Error(p$5(151));for(var ln=an=null,fn=Zt,un=Zt=0,pn=null,xn=Wt.next();fn!==null&&!xn.done;un++,xn=Wt.next()){fn.index>un?(pn=fn,fn=null):pn=fn.sibling;var An=Dt(Kt,fn,xn.value,tn);if(An===null){fn===null&&(fn=pn);break}dt&&fn&&An.alternate===null&&lt(Kt,fn),Zt=Et(An,Zt,un),ln===null?an=An:ln.sibling=An,ln=An,fn=pn}if(xn.done)return ft(Kt,fn),I$3&&tg(Kt,un),an;if(fn===null){for(;!xn.done;un++,xn=Wt.next())xn=Ft(Kt,xn.value,tn),xn!==null&&(Zt=Et(xn,Zt,un),ln===null?an=xn:ln.sibling=xn,ln=xn);return I$3&&tg(Kt,un),an}for(fn=vt(Kt,fn);!xn.done;un++,xn=Wt.next())xn=kt(fn,Kt,un,xn.value,tn),xn!==null&&(dt&&xn.alternate!==null&&fn.delete(xn.key===null?un:xn.key),Zt=Et(xn,Zt,un),ln===null?an=xn:ln.sibling=xn,ln=xn);return dt&&fn.forEach(function(gn){return lt(Kt,gn)}),I$3&&tg(Kt,un),an}function en(Kt,Zt,Wt,tn){if(typeof Wt=="object"&&Wt!==null&&Wt.type===ya&&Wt.key===null&&(Wt=Wt.props.children),typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case va:e:{for(var an=Wt.key,ln=Zt;ln!==null;){if(ln.key===an){if(an=Wt.type,an===ya){if(ln.tag===7){ft(Kt,ln.sibling),Zt=St(ln,Wt.props.children),Zt.return=Kt,Kt=Zt;break e}}else if(ln.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===Ha&&uh(an)===ln.type){ft(Kt,ln.sibling),Zt=St(ln,Wt.props),Zt.ref=sh(Kt,ln,Wt),Zt.return=Kt,Kt=Zt;break e}ft(Kt,ln);break}else lt(Kt,ln);ln=ln.sibling}Wt.type===ya?(Zt=Ah(Wt.props.children,Kt.mode,tn,Wt.key),Zt.return=Kt,Kt=Zt):(tn=yh(Wt.type,Wt.key,Wt.props,null,Kt.mode,tn),tn.ref=sh(Kt,Zt,Wt),tn.return=Kt,Kt=tn)}return At(Kt);case wa:e:{for(ln=Wt.key;Zt!==null;){if(Zt.key===ln)if(Zt.tag===4&&Zt.stateNode.containerInfo===Wt.containerInfo&&Zt.stateNode.implementation===Wt.implementation){ft(Kt,Zt.sibling),Zt=St(Zt,Wt.children||[]),Zt.return=Kt,Kt=Zt;break e}else{ft(Kt,Zt);break}else lt(Kt,Zt);Zt=Zt.sibling}Zt=zh(Wt,Kt.mode,tn),Zt.return=Kt,Kt=Zt}return At(Kt);case Ha:return ln=Wt._init,en(Kt,Zt,ln(Wt._payload),tn)}if(eb(Wt))return zt(Kt,Zt,Wt,tn);if(Ka(Wt))return Ht(Kt,Zt,Wt,tn);th(Kt,Wt)}return typeof Wt=="string"&&Wt!==""||typeof Wt=="number"?(Wt=""+Wt,Zt!==null&&Zt.tag===6?(ft(Kt,Zt.sibling),Zt=St(Zt,Wt),Zt.return=Kt,Kt=Zt):(ft(Kt,Zt),Zt=xh(Wt,Kt.mode,tn),Zt.return=Kt,Kt=Zt),At(Kt)):ft(Kt,Zt)}return en}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(dt){if(dt===Dh)throw Error(p$5(174));return dt}function Ih(dt,lt){switch(G$1(Gh,lt),G$1(Fh,dt),G$1(Eh,Dh),dt=lt.nodeType,dt){case 9:case 11:lt=(lt=lt.documentElement)?lt.namespaceURI:lb(null,"");break;default:dt=dt===8?lt.parentNode:lt,lt=dt.namespaceURI||null,dt=dt.tagName,lt=lb(lt,dt)}E$4(Eh),G$1(Eh,lt)}function Jh(){E$4(Eh),E$4(Fh),E$4(Gh)}function Kh(dt){Hh(Gh.current);var lt=Hh(Eh.current),ft=lb(lt,dt.type);lt!==ft&&(G$1(Fh,dt),G$1(Eh,ft))}function Lh(dt){Fh.current===dt&&(E$4(Eh),E$4(Fh))}var M$2=Uf(0);function Mh(dt){for(var lt=dt;lt!==null;){if(lt.tag===13){var ft=lt.memoizedState;if(ft!==null&&(ft=ft.dehydrated,ft===null||ft.data==="$?"||ft.data==="$!"))return lt}else if(lt.tag===19&&lt.memoizedProps.revealOrder!==void 0){if(lt.flags&128)return lt}else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===dt)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===dt)return null;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}return null}var Nh=[];function Oh(){for(var dt=0;dt<Nh.length;dt++)Nh[dt]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$3(){throw Error(p$5(321))}function Wh(dt,lt){if(lt===null)return!1;for(var ft=0;ft<lt.length&&ft<dt.length;ft++)if(!He$2(dt[ft],lt[ft]))return!1;return!0}function Xh(dt,lt,ft,vt,St,Et){if(Rh=Et,N$2=lt,lt.memoizedState=null,lt.updateQueue=null,lt.lanes=0,Ph.current=dt===null||dt.memoizedState===null?Yh:Zh,dt=ft(vt,St),Th){Et=0;do{if(Th=!1,Uh=0,25<=Et)throw Error(p$5(301));Et+=1,P$2=O$2=null,lt.updateQueue=null,Ph.current=$h,dt=ft(vt,St)}while(Th)}if(Ph.current=ai,lt=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$2=null,Sh=!1,lt)throw Error(p$5(300));return dt}function bi(){var dt=Uh!==0;return Uh=0,dt}function ci(){var dt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=dt:P$2=P$2.next=dt,P$2}function di(){if(O$2===null){var dt=N$2.alternate;dt=dt!==null?dt.memoizedState:null}else dt=O$2.next;var lt=P$2===null?N$2.memoizedState:P$2.next;if(lt!==null)P$2=lt,O$2=dt;else{if(dt===null)throw Error(p$5(310));O$2=dt,dt={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$2.memoizedState=P$2=dt:P$2=P$2.next=dt}return P$2}function ei(dt,lt){return typeof lt=="function"?lt(dt):lt}function fi(dt){var lt=di(),ft=lt.queue;if(ft===null)throw Error(p$5(311));ft.lastRenderedReducer=dt;var vt=O$2,St=vt.baseQueue,Et=ft.pending;if(Et!==null){if(St!==null){var At=St.next;St.next=Et.next,Et.next=At}vt.baseQueue=St=Et,ft.pending=null}if(St!==null){Et=St.next,vt=vt.baseState;var Ct=At=null,Tt=null,Rt=Et;do{var Bt=Rt.lane;if((Rh&Bt)===Bt)Tt!==null&&(Tt=Tt.next={lane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),vt=Rt.hasEagerState?Rt.eagerState:dt(vt,Rt.action);else{var Ft={lane:Bt,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null};Tt===null?(Ct=Tt=Ft,At=vt):Tt=Tt.next=Ft,N$2.lanes|=Bt,hh|=Bt}Rt=Rt.next}while(Rt!==null&&Rt!==Et);Tt===null?At=vt:Tt.next=Ct,He$2(vt,lt.memoizedState)||(Ug=!0),lt.memoizedState=vt,lt.baseState=At,lt.baseQueue=Tt,ft.lastRenderedState=vt}if(dt=ft.interleaved,dt!==null){St=dt;do Et=St.lane,N$2.lanes|=Et,hh|=Et,St=St.next;while(St!==dt)}else St===null&&(ft.lanes=0);return[lt.memoizedState,ft.dispatch]}function gi(dt){var lt=di(),ft=lt.queue;if(ft===null)throw Error(p$5(311));ft.lastRenderedReducer=dt;var vt=ft.dispatch,St=ft.pending,Et=lt.memoizedState;if(St!==null){ft.pending=null;var At=St=St.next;do Et=dt(Et,At.action),At=At.next;while(At!==St);He$2(Et,lt.memoizedState)||(Ug=!0),lt.memoizedState=Et,lt.baseQueue===null&&(lt.baseState=Et),ft.lastRenderedState=Et}return[Et,vt]}function hi(){}function ii(dt,lt){var ft=N$2,vt=di(),St=lt(),Et=!He$2(vt.memoizedState,St);if(Et&&(vt.memoizedState=St,Ug=!0),vt=vt.queue,ji(ki.bind(null,ft,vt,dt),[dt]),vt.getSnapshot!==lt||Et||P$2!==null&&P$2.memoizedState.tag&1){if(ft.flags|=2048,li(9,mi.bind(null,ft,vt,St,lt),void 0,null),R$2===null)throw Error(p$5(349));Rh&30||ni(ft,lt,St)}return St}function ni(dt,lt,ft){dt.flags|=16384,dt={getSnapshot:lt,value:ft},lt=N$2.updateQueue,lt===null?(lt={lastEffect:null,stores:null},N$2.updateQueue=lt,lt.stores=[dt]):(ft=lt.stores,ft===null?lt.stores=[dt]:ft.push(dt))}function mi(dt,lt,ft,vt){lt.value=ft,lt.getSnapshot=vt,oi(lt)&&pi(dt)}function ki(dt,lt,ft){return ft(function(){oi(lt)&&pi(dt)})}function oi(dt){var lt=dt.getSnapshot;dt=dt.value;try{var ft=lt();return!He$2(dt,ft)}catch{return!0}}function pi(dt){var lt=Zg(dt,1);lt!==null&&mh(lt,dt,1,-1)}function qi(dt){var lt=ci();return typeof dt=="function"&&(dt=dt()),lt.memoizedState=lt.baseState=dt,dt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:dt},lt.queue=dt,dt=dt.dispatch=ri.bind(null,N$2,dt),[lt.memoizedState,dt]}function li(dt,lt,ft,vt){return dt={tag:dt,create:lt,destroy:ft,deps:vt,next:null},lt=N$2.updateQueue,lt===null?(lt={lastEffect:null,stores:null},N$2.updateQueue=lt,lt.lastEffect=dt.next=dt):(ft=lt.lastEffect,ft===null?lt.lastEffect=dt.next=dt:(vt=ft.next,ft.next=dt,dt.next=vt,lt.lastEffect=dt)),dt}function si(){return di().memoizedState}function ti(dt,lt,ft,vt){var St=ci();N$2.flags|=dt,St.memoizedState=li(1|lt,ft,void 0,vt===void 0?null:vt)}function ui(dt,lt,ft,vt){var St=di();vt=vt===void 0?null:vt;var Et=void 0;if(O$2!==null){var At=O$2.memoizedState;if(Et=At.destroy,vt!==null&&Wh(vt,At.deps)){St.memoizedState=li(lt,ft,Et,vt);return}}N$2.flags|=dt,St.memoizedState=li(1|lt,ft,Et,vt)}function vi(dt,lt){return ti(8390656,8,dt,lt)}function ji(dt,lt){return ui(2048,8,dt,lt)}function wi(dt,lt){return ui(4,2,dt,lt)}function xi(dt,lt){return ui(4,4,dt,lt)}function yi(dt,lt){if(typeof lt=="function")return dt=dt(),lt(dt),function(){lt(null)};if(lt!=null)return dt=dt(),lt.current=dt,function(){lt.current=null}}function zi(dt,lt,ft){return ft=ft!=null?ft.concat([dt]):null,ui(4,4,yi.bind(null,lt,dt),ft)}function Ai(){}function Bi(dt,lt){var ft=di();lt=lt===void 0?null:lt;var vt=ft.memoizedState;return vt!==null&&lt!==null&&Wh(lt,vt[1])?vt[0]:(ft.memoizedState=[dt,lt],dt)}function Ci(dt,lt){var ft=di();lt=lt===void 0?null:lt;var vt=ft.memoizedState;return vt!==null&&lt!==null&&Wh(lt,vt[1])?vt[0]:(dt=dt(),ft.memoizedState=[dt,lt],dt)}function Di(dt,lt,ft){return Rh&21?(He$2(ft,lt)||(ft=yc(),N$2.lanes|=ft,hh|=ft,dt.baseState=!0),lt):(dt.baseState&&(dt.baseState=!1,Ug=!0),dt.memoizedState=ft)}function Ei(dt,lt){var ft=C$2;C$2=ft!==0&&4>ft?ft:4,dt(!0);var vt=Qh.transition;Qh.transition={};try{dt(!1),lt()}finally{C$2=ft,Qh.transition=vt}}function Fi(){return di().memoizedState}function Gi(dt,lt,ft){var vt=lh(dt);if(ft={lane:vt,action:ft,hasEagerState:!1,eagerState:null,next:null},Hi(dt))Ii(lt,ft);else if(ft=Yg(dt,lt,ft,vt),ft!==null){var St=L$2();mh(ft,dt,vt,St),Ji(ft,lt,vt)}}function ri(dt,lt,ft){var vt=lh(dt),St={lane:vt,action:ft,hasEagerState:!1,eagerState:null,next:null};if(Hi(dt))Ii(lt,St);else{var Et=dt.alternate;if(dt.lanes===0&&(Et===null||Et.lanes===0)&&(Et=lt.lastRenderedReducer,Et!==null))try{var At=lt.lastRenderedState,Ct=Et(At,ft);if(St.hasEagerState=!0,St.eagerState=Ct,He$2(Ct,At)){var Tt=lt.interleaved;Tt===null?(St.next=St,Xg(lt)):(St.next=Tt.next,Tt.next=St),lt.interleaved=St;return}}catch{}finally{}ft=Yg(dt,lt,St,vt),ft!==null&&(St=L$2(),mh(ft,dt,vt,St),Ji(ft,lt,vt))}}function Hi(dt){var lt=dt.alternate;return dt===N$2||lt!==null&&lt===N$2}function Ii(dt,lt){Th=Sh=!0;var ft=dt.pending;ft===null?lt.next=lt:(lt.next=ft.next,ft.next=lt),dt.pending=lt}function Ji(dt,lt,ft){if(ft&4194240){var vt=lt.lanes;vt&=dt.pendingLanes,ft|=vt,lt.lanes=ft,Cc(dt,ft)}}var ai={readContext:Vg,useCallback:Q$3,useContext:Q$3,useEffect:Q$3,useImperativeHandle:Q$3,useInsertionEffect:Q$3,useLayoutEffect:Q$3,useMemo:Q$3,useReducer:Q$3,useRef:Q$3,useState:Q$3,useDebugValue:Q$3,useDeferredValue:Q$3,useTransition:Q$3,useMutableSource:Q$3,useSyncExternalStore:Q$3,useId:Q$3,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(dt,lt){return ci().memoizedState=[dt,lt===void 0?null:lt],dt},useContext:Vg,useEffect:vi,useImperativeHandle:function(dt,lt,ft){return ft=ft!=null?ft.concat([dt]):null,ti(4194308,4,yi.bind(null,lt,dt),ft)},useLayoutEffect:function(dt,lt){return ti(4194308,4,dt,lt)},useInsertionEffect:function(dt,lt){return ti(4,2,dt,lt)},useMemo:function(dt,lt){var ft=ci();return lt=lt===void 0?null:lt,dt=dt(),ft.memoizedState=[dt,lt],dt},useReducer:function(dt,lt,ft){var vt=ci();return lt=ft!==void 0?ft(lt):lt,vt.memoizedState=vt.baseState=lt,dt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dt,lastRenderedState:lt},vt.queue=dt,dt=dt.dispatch=Gi.bind(null,N$2,dt),[vt.memoizedState,dt]},useRef:function(dt){var lt=ci();return dt={current:dt},lt.memoizedState=dt},useState:qi,useDebugValue:Ai,useDeferredValue:function(dt){return ci().memoizedState=dt},useTransition:function(){var dt=qi(!1),lt=dt[0];return dt=Ei.bind(null,dt[1]),ci().memoizedState=dt,[lt,dt]},useMutableSource:function(){},useSyncExternalStore:function(dt,lt,ft){var vt=N$2,St=ci();if(I$3){if(ft===void 0)throw Error(p$5(407));ft=ft()}else{if(ft=lt(),R$2===null)throw Error(p$5(349));Rh&30||ni(vt,lt,ft)}St.memoizedState=ft;var Et={value:ft,getSnapshot:lt};return St.queue=Et,vi(ki.bind(null,vt,Et,dt),[dt]),vt.flags|=2048,li(9,mi.bind(null,vt,Et,ft,lt),void 0,null),ft},useId:function(){var dt=ci(),lt=R$2.identifierPrefix;if(I$3){var ft=sg,vt=rg;ft=(vt&~(1<<32-oc(vt)-1)).toString(32)+ft,lt=":"+lt+"R"+ft,ft=Uh++,0<ft&&(lt+="H"+ft.toString(32)),lt+=":"}else ft=Vh++,lt=":"+lt+"r"+ft.toString(32)+":";return dt.memoizedState=lt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(dt){var lt=di();return Di(lt,O$2.memoizedState,dt)},useTransition:function(){var dt=fi(ei)[0],lt=di().memoizedState;return[dt,lt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(dt){var lt=di();return O$2===null?lt.memoizedState=dt:Di(lt,O$2.memoizedState,dt)},useTransition:function(){var dt=gi(ei)[0],lt=di().memoizedState;return[dt,lt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(dt,lt){try{var ft="",vt=lt;do ft+=Pa(vt),vt=vt.return;while(vt);var St=ft}catch(Et){St=`
Error generating stack: `+Et.message+`
`+Et.stack}return{value:dt,source:lt,stack:St,digest:null}}function Li(dt,lt,ft){return{value:dt,source:null,stack:ft??null,digest:lt??null}}function Mi(dt,lt){try{console.error(lt.value)}catch(ft){setTimeout(function(){throw ft})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(dt,lt,ft){ft=ch(-1,ft),ft.tag=3,ft.payload={element:null};var vt=lt.value;return ft.callback=function(){Pi||(Pi=!0,Qi=vt),Mi(dt,lt)},ft}function Ri(dt,lt,ft){ft=ch(-1,ft),ft.tag=3;var vt=dt.type.getDerivedStateFromError;if(typeof vt=="function"){var St=lt.value;ft.payload=function(){return vt(St)},ft.callback=function(){Mi(dt,lt)}}var Et=dt.stateNode;return Et!==null&&typeof Et.componentDidCatch=="function"&&(ft.callback=function(){Mi(dt,lt),typeof vt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var At=lt.stack;this.componentDidCatch(lt.value,{componentStack:At!==null?At:""})}),ft}function Ti(dt,lt,ft){var vt=dt.pingCache;if(vt===null){vt=dt.pingCache=new Ni;var St=new Set;vt.set(lt,St)}else St=vt.get(lt),St===void 0&&(St=new Set,vt.set(lt,St));St.has(ft)||(St.add(ft),dt=Ui.bind(null,dt,lt,ft),lt.then(dt,dt))}function Vi(dt){do{var lt;if((lt=dt.tag===13)&&(lt=dt.memoizedState,lt=lt!==null?lt.dehydrated!==null:!0),lt)return dt;dt=dt.return}while(dt!==null);return null}function Wi(dt,lt,ft,vt,St){return dt.mode&1?(dt.flags|=65536,dt.lanes=St,dt):(dt===lt?dt.flags|=65536:(dt.flags|=128,ft.flags|=131072,ft.flags&=-52805,ft.tag===1&&(ft.alternate===null?ft.tag=17:(lt=ch(-1,1),lt.tag=2,dh(ft,lt,1))),ft.lanes|=1),dt)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(dt,lt,ft,vt){lt.child=dt===null?Ch(lt,null,ft,vt):Bh(lt,dt.child,ft,vt)}function Zi(dt,lt,ft,vt,St){ft=ft.render;var Et=lt.ref;return Tg(lt,St),vt=Xh(dt,lt,ft,vt,Et,St),ft=bi(),dt!==null&&!Ug?(lt.updateQueue=dt.updateQueue,lt.flags&=-2053,dt.lanes&=~St,$i(dt,lt,St)):(I$3&&ft&&vg(lt),lt.flags|=1,Yi(dt,lt,vt,St),lt.child)}function aj(dt,lt,ft,vt,St){if(dt===null){var Et=ft.type;return typeof Et=="function"&&!bj(Et)&&Et.defaultProps===void 0&&ft.compare===null&&ft.defaultProps===void 0?(lt.tag=15,lt.type=Et,cj(dt,lt,Et,vt,St)):(dt=yh(ft.type,null,vt,lt,lt.mode,St),dt.ref=lt.ref,dt.return=lt,lt.child=dt)}if(Et=dt.child,!(dt.lanes&St)){var At=Et.memoizedProps;if(ft=ft.compare,ft=ft!==null?ft:Ie$1,ft(At,vt)&&dt.ref===lt.ref)return $i(dt,lt,St)}return lt.flags|=1,dt=wh(Et,vt),dt.ref=lt.ref,dt.return=lt,lt.child=dt}function cj(dt,lt,ft,vt,St){if(dt!==null){var Et=dt.memoizedProps;if(Ie$1(Et,vt)&&dt.ref===lt.ref)if(Ug=!1,lt.pendingProps=vt=Et,(dt.lanes&St)!==0)dt.flags&131072&&(Ug=!0);else return lt.lanes=dt.lanes,$i(dt,lt,St)}return dj(dt,lt,ft,vt,St)}function ej(dt,lt,ft){var vt=lt.pendingProps,St=vt.children,Et=dt!==null?dt.memoizedState:null;if(vt.mode==="hidden")if(!(lt.mode&1))lt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=ft;else{if(!(ft&1073741824))return dt=Et!==null?Et.baseLanes|ft:ft,lt.lanes=lt.childLanes=1073741824,lt.memoizedState={baseLanes:dt,cachePool:null,transitions:null},lt.updateQueue=null,G$1(fj,gj),gj|=dt,null;lt.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=Et!==null?Et.baseLanes:ft,G$1(fj,gj),gj|=vt}else Et!==null?(vt=Et.baseLanes|ft,lt.memoizedState=null):vt=ft,G$1(fj,gj),gj|=vt;return Yi(dt,lt,St,ft),lt.child}function hj(dt,lt){var ft=lt.ref;(dt===null&&ft!==null||dt!==null&&dt.ref!==ft)&&(lt.flags|=512,lt.flags|=2097152)}function dj(dt,lt,ft,vt,St){var Et=Zf(ft)?Xf:H$3.current;return Et=Yf(lt,Et),Tg(lt,St),ft=Xh(dt,lt,ft,vt,Et,St),vt=bi(),dt!==null&&!Ug?(lt.updateQueue=dt.updateQueue,lt.flags&=-2053,dt.lanes&=~St,$i(dt,lt,St)):(I$3&&vt&&vg(lt),lt.flags|=1,Yi(dt,lt,ft,St),lt.child)}function ij(dt,lt,ft,vt,St){if(Zf(ft)){var Et=!0;cg(lt)}else Et=!1;if(Tg(lt,St),lt.stateNode===null)jj(dt,lt),ph(lt,ft,vt),rh(lt,ft,vt,St),vt=!0;else if(dt===null){var At=lt.stateNode,Ct=lt.memoizedProps;At.props=Ct;var Tt=At.context,Rt=ft.contextType;typeof Rt=="object"&&Rt!==null?Rt=Vg(Rt):(Rt=Zf(ft)?Xf:H$3.current,Rt=Yf(lt,Rt));var Bt=ft.getDerivedStateFromProps,Ft=typeof Bt=="function"||typeof At.getSnapshotBeforeUpdate=="function";Ft||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Ct!==vt||Tt!==Rt)&&qh(lt,At,vt,Rt),$g=!1;var Dt=lt.memoizedState;At.state=Dt,gh(lt,vt,At,St),Tt=lt.memoizedState,Ct!==vt||Dt!==Tt||Wf.current||$g?(typeof Bt=="function"&&(kh(lt,ft,Bt,vt),Tt=lt.memoizedState),(Ct=$g||oh(lt,ft,Ct,vt,Dt,Tt,Rt))?(Ft||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||(typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount()),typeof At.componentDidMount=="function"&&(lt.flags|=4194308)):(typeof At.componentDidMount=="function"&&(lt.flags|=4194308),lt.memoizedProps=vt,lt.memoizedState=Tt),At.props=vt,At.state=Tt,At.context=Rt,vt=Ct):(typeof At.componentDidMount=="function"&&(lt.flags|=4194308),vt=!1)}else{At=lt.stateNode,bh(dt,lt),Ct=lt.memoizedProps,Rt=lt.type===lt.elementType?Ct:Lg(lt.type,Ct),At.props=Rt,Ft=lt.pendingProps,Dt=At.context,Tt=ft.contextType,typeof Tt=="object"&&Tt!==null?Tt=Vg(Tt):(Tt=Zf(ft)?Xf:H$3.current,Tt=Yf(lt,Tt));var kt=ft.getDerivedStateFromProps;(Bt=typeof kt=="function"||typeof At.getSnapshotBeforeUpdate=="function")||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Ct!==Ft||Dt!==Tt)&&qh(lt,At,vt,Tt),$g=!1,Dt=lt.memoizedState,At.state=Dt,gh(lt,vt,At,St);var zt=lt.memoizedState;Ct!==Ft||Dt!==zt||Wf.current||$g?(typeof kt=="function"&&(kh(lt,ft,kt,vt),zt=lt.memoizedState),(Rt=$g||oh(lt,ft,Rt,vt,Dt,zt,Tt)||!1)?(Bt||typeof At.UNSAFE_componentWillUpdate!="function"&&typeof At.componentWillUpdate!="function"||(typeof At.componentWillUpdate=="function"&&At.componentWillUpdate(vt,zt,Tt),typeof At.UNSAFE_componentWillUpdate=="function"&&At.UNSAFE_componentWillUpdate(vt,zt,Tt)),typeof At.componentDidUpdate=="function"&&(lt.flags|=4),typeof At.getSnapshotBeforeUpdate=="function"&&(lt.flags|=1024)):(typeof At.componentDidUpdate!="function"||Ct===dt.memoizedProps&&Dt===dt.memoizedState||(lt.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Ct===dt.memoizedProps&&Dt===dt.memoizedState||(lt.flags|=1024),lt.memoizedProps=vt,lt.memoizedState=zt),At.props=vt,At.state=zt,At.context=Tt,vt=Rt):(typeof At.componentDidUpdate!="function"||Ct===dt.memoizedProps&&Dt===dt.memoizedState||(lt.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Ct===dt.memoizedProps&&Dt===dt.memoizedState||(lt.flags|=1024),vt=!1)}return kj(dt,lt,ft,vt,Et,St)}function kj(dt,lt,ft,vt,St,Et){hj(dt,lt);var At=(lt.flags&128)!==0;if(!vt&&!At)return St&&dg(lt,ft,!1),$i(dt,lt,Et);vt=lt.stateNode,Xi.current=lt;var Ct=At&&typeof ft.getDerivedStateFromError!="function"?null:vt.render();return lt.flags|=1,dt!==null&&At?(lt.child=Bh(lt,dt.child,null,Et),lt.child=Bh(lt,null,Ct,Et)):Yi(dt,lt,Ct,Et),lt.memoizedState=vt.state,St&&dg(lt,ft,!0),lt.child}function lj(dt){var lt=dt.stateNode;lt.pendingContext?ag(dt,lt.pendingContext,lt.pendingContext!==lt.context):lt.context&&ag(dt,lt.context,!1),Ih(dt,lt.containerInfo)}function mj(dt,lt,ft,vt,St){return Ig(),Jg(St),lt.flags|=256,Yi(dt,lt,ft,vt),lt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(dt){return{baseLanes:dt,cachePool:null,transitions:null}}function pj(dt,lt,ft){var vt=lt.pendingProps,St=M$2.current,Et=!1,At=(lt.flags&128)!==0,Ct;if((Ct=At)||(Ct=dt!==null&&dt.memoizedState===null?!1:(St&2)!==0),Ct?(Et=!0,lt.flags&=-129):(dt===null||dt.memoizedState!==null)&&(St|=1),G$1(M$2,St&1),dt===null)return Eg(lt),dt=lt.memoizedState,dt!==null&&(dt=dt.dehydrated,dt!==null)?(lt.mode&1?dt.data==="$!"?lt.lanes=8:lt.lanes=1073741824:lt.lanes=1,null):(At=vt.children,dt=vt.fallback,Et?(vt=lt.mode,Et=lt.child,At={mode:"hidden",children:At},!(vt&1)&&Et!==null?(Et.childLanes=0,Et.pendingProps=At):Et=qj(At,vt,0,null),dt=Ah(dt,vt,ft,null),Et.return=lt,dt.return=lt,Et.sibling=dt,lt.child=Et,lt.child.memoizedState=oj(ft),lt.memoizedState=nj,dt):rj(lt,At));if(St=dt.memoizedState,St!==null&&(Ct=St.dehydrated,Ct!==null))return sj(dt,lt,At,vt,Ct,St,ft);if(Et){Et=vt.fallback,At=lt.mode,St=dt.child,Ct=St.sibling;var Tt={mode:"hidden",children:vt.children};return!(At&1)&&lt.child!==St?(vt=lt.child,vt.childLanes=0,vt.pendingProps=Tt,lt.deletions=null):(vt=wh(St,Tt),vt.subtreeFlags=St.subtreeFlags&14680064),Ct!==null?Et=wh(Ct,Et):(Et=Ah(Et,At,ft,null),Et.flags|=2),Et.return=lt,vt.return=lt,vt.sibling=Et,lt.child=vt,vt=Et,Et=lt.child,At=dt.child.memoizedState,At=At===null?oj(ft):{baseLanes:At.baseLanes|ft,cachePool:null,transitions:At.transitions},Et.memoizedState=At,Et.childLanes=dt.childLanes&~ft,lt.memoizedState=nj,vt}return Et=dt.child,dt=Et.sibling,vt=wh(Et,{mode:"visible",children:vt.children}),!(lt.mode&1)&&(vt.lanes=ft),vt.return=lt,vt.sibling=null,dt!==null&&(ft=lt.deletions,ft===null?(lt.deletions=[dt],lt.flags|=16):ft.push(dt)),lt.child=vt,lt.memoizedState=null,vt}function rj(dt,lt){return lt=qj({mode:"visible",children:lt},dt.mode,0,null),lt.return=dt,dt.child=lt}function tj(dt,lt,ft,vt){return vt!==null&&Jg(vt),Bh(lt,dt.child,null,ft),dt=rj(lt,lt.pendingProps.children),dt.flags|=2,lt.memoizedState=null,dt}function sj(dt,lt,ft,vt,St,Et,At){if(ft)return lt.flags&256?(lt.flags&=-257,vt=Li(Error(p$5(422))),tj(dt,lt,At,vt)):lt.memoizedState!==null?(lt.child=dt.child,lt.flags|=128,null):(Et=vt.fallback,St=lt.mode,vt=qj({mode:"visible",children:vt.children},St,0,null),Et=Ah(Et,St,At,null),Et.flags|=2,vt.return=lt,Et.return=lt,vt.sibling=Et,lt.child=vt,lt.mode&1&&Bh(lt,dt.child,null,At),lt.child.memoizedState=oj(At),lt.memoizedState=nj,Et);if(!(lt.mode&1))return tj(dt,lt,At,null);if(St.data==="$!"){if(vt=St.nextSibling&&St.nextSibling.dataset,vt)var Ct=vt.dgst;return vt=Ct,Et=Error(p$5(419)),vt=Li(Et,vt,void 0),tj(dt,lt,At,vt)}if(Ct=(At&dt.childLanes)!==0,Ug||Ct){if(vt=R$2,vt!==null){switch(At&-At){case 4:St=2;break;case 16:St=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:St=32;break;case 536870912:St=268435456;break;default:St=0}St=St&(vt.suspendedLanes|At)?0:St,St!==0&&St!==Et.retryLane&&(Et.retryLane=St,Zg(dt,St),mh(vt,dt,St,-1))}return uj(),vt=Li(Error(p$5(421))),tj(dt,lt,At,vt)}return St.data==="$?"?(lt.flags|=128,lt.child=dt.child,lt=vj.bind(null,dt),St._reactRetry=lt,null):(dt=Et.treeContext,yg=Lf(St.nextSibling),xg=lt,I$3=!0,zg=null,dt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=dt.id,sg=dt.overflow,qg=lt),lt=rj(lt,vt.children),lt.flags|=4096,lt)}function wj(dt,lt,ft){dt.lanes|=lt;var vt=dt.alternate;vt!==null&&(vt.lanes|=lt),Sg(dt.return,lt,ft)}function xj(dt,lt,ft,vt,St){var Et=dt.memoizedState;Et===null?dt.memoizedState={isBackwards:lt,rendering:null,renderingStartTime:0,last:vt,tail:ft,tailMode:St}:(Et.isBackwards=lt,Et.rendering=null,Et.renderingStartTime=0,Et.last=vt,Et.tail=ft,Et.tailMode=St)}function yj(dt,lt,ft){var vt=lt.pendingProps,St=vt.revealOrder,Et=vt.tail;if(Yi(dt,lt,vt.children,ft),vt=M$2.current,vt&2)vt=vt&1|2,lt.flags|=128;else{if(dt!==null&&dt.flags&128)e:for(dt=lt.child;dt!==null;){if(dt.tag===13)dt.memoizedState!==null&&wj(dt,ft,lt);else if(dt.tag===19)wj(dt,ft,lt);else if(dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===lt)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===lt)break e;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}vt&=1}if(G$1(M$2,vt),!(lt.mode&1))lt.memoizedState=null;else switch(St){case"forwards":for(ft=lt.child,St=null;ft!==null;)dt=ft.alternate,dt!==null&&Mh(dt)===null&&(St=ft),ft=ft.sibling;ft=St,ft===null?(St=lt.child,lt.child=null):(St=ft.sibling,ft.sibling=null),xj(lt,!1,St,ft,Et);break;case"backwards":for(ft=null,St=lt.child,lt.child=null;St!==null;){if(dt=St.alternate,dt!==null&&Mh(dt)===null){lt.child=St;break}dt=St.sibling,St.sibling=ft,ft=St,St=dt}xj(lt,!0,ft,null,Et);break;case"together":xj(lt,!1,null,null,void 0);break;default:lt.memoizedState=null}return lt.child}function jj(dt,lt){!(lt.mode&1)&&dt!==null&&(dt.alternate=null,lt.alternate=null,lt.flags|=2)}function $i(dt,lt,ft){if(dt!==null&&(lt.dependencies=dt.dependencies),hh|=lt.lanes,!(ft&lt.childLanes))return null;if(dt!==null&&lt.child!==dt.child)throw Error(p$5(153));if(lt.child!==null){for(dt=lt.child,ft=wh(dt,dt.pendingProps),lt.child=ft,ft.return=lt;dt.sibling!==null;)dt=dt.sibling,ft=ft.sibling=wh(dt,dt.pendingProps),ft.return=lt;ft.sibling=null}return lt.child}function zj(dt,lt,ft){switch(lt.tag){case 3:lj(lt),Ig();break;case 5:Kh(lt);break;case 1:Zf(lt.type)&&cg(lt);break;case 4:Ih(lt,lt.stateNode.containerInfo);break;case 10:var vt=lt.type._context,St=lt.memoizedProps.value;G$1(Mg,vt._currentValue),vt._currentValue=St;break;case 13:if(vt=lt.memoizedState,vt!==null)return vt.dehydrated!==null?(G$1(M$2,M$2.current&1),lt.flags|=128,null):ft&lt.child.childLanes?pj(dt,lt,ft):(G$1(M$2,M$2.current&1),dt=$i(dt,lt,ft),dt!==null?dt.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(vt=(ft&lt.childLanes)!==0,dt.flags&128){if(vt)return yj(dt,lt,ft);lt.flags|=128}if(St=lt.memoizedState,St!==null&&(St.rendering=null,St.tail=null,St.lastEffect=null),G$1(M$2,M$2.current),vt)break;return null;case 22:case 23:return lt.lanes=0,ej(dt,lt,ft)}return $i(dt,lt,ft)}var Aj,Bj,Cj,Dj;Aj=function(dt,lt){for(var ft=lt.child;ft!==null;){if(ft.tag===5||ft.tag===6)dt.appendChild(ft.stateNode);else if(ft.tag!==4&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===lt)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===lt)return;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}};Bj=function(){};Cj=function(dt,lt,ft,vt){var St=dt.memoizedProps;if(St!==vt){dt=lt.stateNode,Hh(Eh.current);var Et=null;switch(ft){case"input":St=Ya(dt,St),vt=Ya(dt,vt),Et=[];break;case"select":St=A$2({},St,{value:void 0}),vt=A$2({},vt,{value:void 0}),Et=[];break;case"textarea":St=gb(dt,St),vt=gb(dt,vt),Et=[];break;default:typeof St.onClick!="function"&&typeof vt.onClick=="function"&&(dt.onclick=Bf)}ub(ft,vt);var At;ft=null;for(Rt in St)if(!vt.hasOwnProperty(Rt)&&St.hasOwnProperty(Rt)&&St[Rt]!=null)if(Rt==="style"){var Ct=St[Rt];for(At in Ct)Ct.hasOwnProperty(At)&&(ft||(ft={}),ft[At]="")}else Rt!=="dangerouslySetInnerHTML"&&Rt!=="children"&&Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&Rt!=="autoFocus"&&(ea.hasOwnProperty(Rt)?Et||(Et=[]):(Et=Et||[]).push(Rt,null));for(Rt in vt){var Tt=vt[Rt];if(Ct=St!=null?St[Rt]:void 0,vt.hasOwnProperty(Rt)&&Tt!==Ct&&(Tt!=null||Ct!=null))if(Rt==="style")if(Ct){for(At in Ct)!Ct.hasOwnProperty(At)||Tt&&Tt.hasOwnProperty(At)||(ft||(ft={}),ft[At]="");for(At in Tt)Tt.hasOwnProperty(At)&&Ct[At]!==Tt[At]&&(ft||(ft={}),ft[At]=Tt[At])}else ft||(Et||(Et=[]),Et.push(Rt,ft)),ft=Tt;else Rt==="dangerouslySetInnerHTML"?(Tt=Tt?Tt.__html:void 0,Ct=Ct?Ct.__html:void 0,Tt!=null&&Ct!==Tt&&(Et=Et||[]).push(Rt,Tt)):Rt==="children"?typeof Tt!="string"&&typeof Tt!="number"||(Et=Et||[]).push(Rt,""+Tt):Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Rt)?(Tt!=null&&Rt==="onScroll"&&D$3("scroll",dt),Et||Ct===Tt||(Et=[])):(Et=Et||[]).push(Rt,Tt))}ft&&(Et=Et||[]).push("style",ft);var Rt=Et;(lt.updateQueue=Rt)&&(lt.flags|=4)}};Dj=function(dt,lt,ft,vt){ft!==vt&&(lt.flags|=4)};function Ej(dt,lt){if(!I$3)switch(dt.tailMode){case"hidden":lt=dt.tail;for(var ft=null;lt!==null;)lt.alternate!==null&&(ft=lt),lt=lt.sibling;ft===null?dt.tail=null:ft.sibling=null;break;case"collapsed":ft=dt.tail;for(var vt=null;ft!==null;)ft.alternate!==null&&(vt=ft),ft=ft.sibling;vt===null?lt||dt.tail===null?dt.tail=null:dt.tail.sibling=null:vt.sibling=null}}function S$2(dt){var lt=dt.alternate!==null&&dt.alternate.child===dt.child,ft=0,vt=0;if(lt)for(var St=dt.child;St!==null;)ft|=St.lanes|St.childLanes,vt|=St.subtreeFlags&14680064,vt|=St.flags&14680064,St.return=dt,St=St.sibling;else for(St=dt.child;St!==null;)ft|=St.lanes|St.childLanes,vt|=St.subtreeFlags,vt|=St.flags,St.return=dt,St=St.sibling;return dt.subtreeFlags|=vt,dt.childLanes=ft,lt}function Fj(dt,lt,ft){var vt=lt.pendingProps;switch(wg(lt),lt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(lt),null;case 1:return Zf(lt.type)&&$f(),S$2(lt),null;case 3:return vt=lt.stateNode,Jh(),E$4(Wf),E$4(H$3),Oh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(dt===null||dt.child===null)&&(Gg(lt)?lt.flags|=4:dt===null||dt.memoizedState.isDehydrated&&!(lt.flags&256)||(lt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(dt,lt),S$2(lt),null;case 5:Lh(lt);var St=Hh(Gh.current);if(ft=lt.type,dt!==null&&lt.stateNode!=null)Cj(dt,lt,ft,vt,St),dt.ref!==lt.ref&&(lt.flags|=512,lt.flags|=2097152);else{if(!vt){if(lt.stateNode===null)throw Error(p$5(166));return S$2(lt),null}if(dt=Hh(Eh.current),Gg(lt)){vt=lt.stateNode,ft=lt.type;var Et=lt.memoizedProps;switch(vt[Of]=lt,vt[Pf]=Et,dt=(lt.mode&1)!==0,ft){case"dialog":D$3("cancel",vt),D$3("close",vt);break;case"iframe":case"object":case"embed":D$3("load",vt);break;case"video":case"audio":for(St=0;St<lf.length;St++)D$3(lf[St],vt);break;case"source":D$3("error",vt);break;case"img":case"image":case"link":D$3("error",vt),D$3("load",vt);break;case"details":D$3("toggle",vt);break;case"input":Za(vt,Et),D$3("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!Et.multiple},D$3("invalid",vt);break;case"textarea":hb(vt,Et),D$3("invalid",vt)}ub(ft,Et),St=null;for(var At in Et)if(Et.hasOwnProperty(At)){var Ct=Et[At];At==="children"?typeof Ct=="string"?vt.textContent!==Ct&&(Et.suppressHydrationWarning!==!0&&Af(vt.textContent,Ct,dt),St=["children",Ct]):typeof Ct=="number"&&vt.textContent!==""+Ct&&(Et.suppressHydrationWarning!==!0&&Af(vt.textContent,Ct,dt),St=["children",""+Ct]):ea.hasOwnProperty(At)&&Ct!=null&&At==="onScroll"&&D$3("scroll",vt)}switch(ft){case"input":Va(vt),db(vt,Et,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof Et.onClick=="function"&&(vt.onclick=Bf)}vt=St,lt.updateQueue=vt,vt!==null&&(lt.flags|=4)}else{At=St.nodeType===9?St:St.ownerDocument,dt==="http://www.w3.org/1999/xhtml"&&(dt=kb(ft)),dt==="http://www.w3.org/1999/xhtml"?ft==="script"?(dt=At.createElement("div"),dt.innerHTML="<script><\/script>",dt=dt.removeChild(dt.firstChild)):typeof vt.is=="string"?dt=At.createElement(ft,{is:vt.is}):(dt=At.createElement(ft),ft==="select"&&(At=dt,vt.multiple?At.multiple=!0:vt.size&&(At.size=vt.size))):dt=At.createElementNS(dt,ft),dt[Of]=lt,dt[Pf]=vt,Aj(dt,lt,!1,!1),lt.stateNode=dt;e:{switch(At=vb(ft,vt),ft){case"dialog":D$3("cancel",dt),D$3("close",dt),St=vt;break;case"iframe":case"object":case"embed":D$3("load",dt),St=vt;break;case"video":case"audio":for(St=0;St<lf.length;St++)D$3(lf[St],dt);St=vt;break;case"source":D$3("error",dt),St=vt;break;case"img":case"image":case"link":D$3("error",dt),D$3("load",dt),St=vt;break;case"details":D$3("toggle",dt),St=vt;break;case"input":Za(dt,vt),St=Ya(dt,vt),D$3("invalid",dt);break;case"option":St=vt;break;case"select":dt._wrapperState={wasMultiple:!!vt.multiple},St=A$2({},vt,{value:void 0}),D$3("invalid",dt);break;case"textarea":hb(dt,vt),St=gb(dt,vt),D$3("invalid",dt);break;default:St=vt}ub(ft,St),Ct=St;for(Et in Ct)if(Ct.hasOwnProperty(Et)){var Tt=Ct[Et];Et==="style"?sb(dt,Tt):Et==="dangerouslySetInnerHTML"?(Tt=Tt?Tt.__html:void 0,Tt!=null&&nb(dt,Tt)):Et==="children"?typeof Tt=="string"?(ft!=="textarea"||Tt!=="")&&ob(dt,Tt):typeof Tt=="number"&&ob(dt,""+Tt):Et!=="suppressContentEditableWarning"&&Et!=="suppressHydrationWarning"&&Et!=="autoFocus"&&(ea.hasOwnProperty(Et)?Tt!=null&&Et==="onScroll"&&D$3("scroll",dt):Tt!=null&&ta(dt,Et,Tt,At))}switch(ft){case"input":Va(dt),db(dt,vt,!1);break;case"textarea":Va(dt),jb(dt);break;case"option":vt.value!=null&&dt.setAttribute("value",""+Sa(vt.value));break;case"select":dt.multiple=!!vt.multiple,Et=vt.value,Et!=null?fb(dt,!!vt.multiple,Et,!1):vt.defaultValue!=null&&fb(dt,!!vt.multiple,vt.defaultValue,!0);break;default:typeof St.onClick=="function"&&(dt.onclick=Bf)}switch(ft){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&(lt.flags|=4)}lt.ref!==null&&(lt.flags|=512,lt.flags|=2097152)}return S$2(lt),null;case 6:if(dt&&lt.stateNode!=null)Dj(dt,lt,dt.memoizedProps,vt);else{if(typeof vt!="string"&&lt.stateNode===null)throw Error(p$5(166));if(ft=Hh(Gh.current),Hh(Eh.current),Gg(lt)){if(vt=lt.stateNode,ft=lt.memoizedProps,vt[Of]=lt,(Et=vt.nodeValue!==ft)&&(dt=xg,dt!==null))switch(dt.tag){case 3:Af(vt.nodeValue,ft,(dt.mode&1)!==0);break;case 5:dt.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,ft,(dt.mode&1)!==0)}Et&&(lt.flags|=4)}else vt=(ft.nodeType===9?ft:ft.ownerDocument).createTextNode(vt),vt[Of]=lt,lt.stateNode=vt}return S$2(lt),null;case 13:if(E$4(M$2),vt=lt.memoizedState,dt===null||dt.memoizedState!==null&&dt.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&lt.mode&1&&!(lt.flags&128))Hg(),Ig(),lt.flags|=98560,Et=!1;else if(Et=Gg(lt),vt!==null&&vt.dehydrated!==null){if(dt===null){if(!Et)throw Error(p$5(318));if(Et=lt.memoizedState,Et=Et!==null?Et.dehydrated:null,!Et)throw Error(p$5(317));Et[Of]=lt}else Ig(),!(lt.flags&128)&&(lt.memoizedState=null),lt.flags|=4;S$2(lt),Et=!1}else zg!==null&&(Gj(zg),zg=null),Et=!0;if(!Et)return lt.flags&65536?lt:null}return lt.flags&128?(lt.lanes=ft,lt):(vt=vt!==null,vt!==(dt!==null&&dt.memoizedState!==null)&&vt&&(lt.child.flags|=8192,lt.mode&1&&(dt===null||M$2.current&1?T$2===0&&(T$2=3):uj())),lt.updateQueue!==null&&(lt.flags|=4),S$2(lt),null);case 4:return Jh(),Bj(dt,lt),dt===null&&sf(lt.stateNode.containerInfo),S$2(lt),null;case 10:return Rg(lt.type._context),S$2(lt),null;case 17:return Zf(lt.type)&&$f(),S$2(lt),null;case 19:if(E$4(M$2),Et=lt.memoizedState,Et===null)return S$2(lt),null;if(vt=(lt.flags&128)!==0,At=Et.rendering,At===null)if(vt)Ej(Et,!1);else{if(T$2!==0||dt!==null&&dt.flags&128)for(dt=lt.child;dt!==null;){if(At=Mh(dt),At!==null){for(lt.flags|=128,Ej(Et,!1),vt=At.updateQueue,vt!==null&&(lt.updateQueue=vt,lt.flags|=4),lt.subtreeFlags=0,vt=ft,ft=lt.child;ft!==null;)Et=ft,dt=vt,Et.flags&=14680066,At=Et.alternate,At===null?(Et.childLanes=0,Et.lanes=dt,Et.child=null,Et.subtreeFlags=0,Et.memoizedProps=null,Et.memoizedState=null,Et.updateQueue=null,Et.dependencies=null,Et.stateNode=null):(Et.childLanes=At.childLanes,Et.lanes=At.lanes,Et.child=At.child,Et.subtreeFlags=0,Et.deletions=null,Et.memoizedProps=At.memoizedProps,Et.memoizedState=At.memoizedState,Et.updateQueue=At.updateQueue,Et.type=At.type,dt=At.dependencies,Et.dependencies=dt===null?null:{lanes:dt.lanes,firstContext:dt.firstContext}),ft=ft.sibling;return G$1(M$2,M$2.current&1|2),lt.child}dt=dt.sibling}Et.tail!==null&&B$2()>Hj&&(lt.flags|=128,vt=!0,Ej(Et,!1),lt.lanes=4194304)}else{if(!vt)if(dt=Mh(At),dt!==null){if(lt.flags|=128,vt=!0,ft=dt.updateQueue,ft!==null&&(lt.updateQueue=ft,lt.flags|=4),Ej(Et,!0),Et.tail===null&&Et.tailMode==="hidden"&&!At.alternate&&!I$3)return S$2(lt),null}else 2*B$2()-Et.renderingStartTime>Hj&&ft!==1073741824&&(lt.flags|=128,vt=!0,Ej(Et,!1),lt.lanes=4194304);Et.isBackwards?(At.sibling=lt.child,lt.child=At):(ft=Et.last,ft!==null?ft.sibling=At:lt.child=At,Et.last=At)}return Et.tail!==null?(lt=Et.tail,Et.rendering=lt,Et.tail=lt.sibling,Et.renderingStartTime=B$2(),lt.sibling=null,ft=M$2.current,G$1(M$2,vt?ft&1|2:ft&1),lt):(S$2(lt),null);case 22:case 23:return Ij(),vt=lt.memoizedState!==null,dt!==null&&dt.memoizedState!==null!==vt&&(lt.flags|=8192),vt&&lt.mode&1?gj&1073741824&&(S$2(lt),lt.subtreeFlags&6&&(lt.flags|=8192)):S$2(lt),null;case 24:return null;case 25:return null}throw Error(p$5(156,lt.tag))}function Jj(dt,lt){switch(wg(lt),lt.tag){case 1:return Zf(lt.type)&&$f(),dt=lt.flags,dt&65536?(lt.flags=dt&-65537|128,lt):null;case 3:return Jh(),E$4(Wf),E$4(H$3),Oh(),dt=lt.flags,dt&65536&&!(dt&128)?(lt.flags=dt&-65537|128,lt):null;case 5:return Lh(lt),null;case 13:if(E$4(M$2),dt=lt.memoizedState,dt!==null&&dt.dehydrated!==null){if(lt.alternate===null)throw Error(p$5(340));Ig()}return dt=lt.flags,dt&65536?(lt.flags=dt&-65537|128,lt):null;case 19:return E$4(M$2),null;case 4:return Jh(),null;case 10:return Rg(lt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(dt,lt){var ft=dt.ref;if(ft!==null)if(typeof ft=="function")try{ft(null)}catch(vt){W$3(dt,lt,vt)}else ft.current=null}function Nj(dt,lt,ft){try{ft()}catch(vt){W$3(dt,lt,vt)}}var Oj=!1;function Pj(dt,lt){if(Cf=dd,dt=Me$1(),Ne$2(dt)){if("selectionStart"in dt)var ft={start:dt.selectionStart,end:dt.selectionEnd};else e:{ft=(ft=dt.ownerDocument)&&ft.defaultView||window;var vt=ft.getSelection&&ft.getSelection();if(vt&&vt.rangeCount!==0){ft=vt.anchorNode;var St=vt.anchorOffset,Et=vt.focusNode;vt=vt.focusOffset;try{ft.nodeType,Et.nodeType}catch{ft=null;break e}var At=0,Ct=-1,Tt=-1,Rt=0,Bt=0,Ft=dt,Dt=null;t:for(;;){for(var kt;Ft!==ft||St!==0&&Ft.nodeType!==3||(Ct=At+St),Ft!==Et||vt!==0&&Ft.nodeType!==3||(Tt=At+vt),Ft.nodeType===3&&(At+=Ft.nodeValue.length),(kt=Ft.firstChild)!==null;)Dt=Ft,Ft=kt;for(;;){if(Ft===dt)break t;if(Dt===ft&&++Rt===St&&(Ct=At),Dt===Et&&++Bt===vt&&(Tt=At),(kt=Ft.nextSibling)!==null)break;Ft=Dt,Dt=Ft.parentNode}Ft=kt}ft=Ct===-1||Tt===-1?null:{start:Ct,end:Tt}}else ft=null}ft=ft||{start:0,end:0}}else ft=null;for(Df={focusedElem:dt,selectionRange:ft},dd=!1,V$2=lt;V$2!==null;)if(lt=V$2,dt=lt.child,(lt.subtreeFlags&1028)!==0&&dt!==null)dt.return=lt,V$2=dt;else for(;V$2!==null;){lt=V$2;try{var zt=lt.alternate;if(lt.flags&1024)switch(lt.tag){case 0:case 11:case 15:break;case 1:if(zt!==null){var Ht=zt.memoizedProps,en=zt.memoizedState,Kt=lt.stateNode,Zt=Kt.getSnapshotBeforeUpdate(lt.elementType===lt.type?Ht:Lg(lt.type,Ht),en);Kt.__reactInternalSnapshotBeforeUpdate=Zt}break;case 3:var Wt=lt.stateNode.containerInfo;Wt.nodeType===1?Wt.textContent="":Wt.nodeType===9&&Wt.documentElement&&Wt.removeChild(Wt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(tn){W$3(lt,lt.return,tn)}if(dt=lt.sibling,dt!==null){dt.return=lt.return,V$2=dt;break}V$2=lt.return}return zt=Oj,Oj=!1,zt}function Qj(dt,lt,ft){var vt=lt.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var St=vt=vt.next;do{if((St.tag&dt)===dt){var Et=St.destroy;St.destroy=void 0,Et!==void 0&&Nj(lt,ft,Et)}St=St.next}while(St!==vt)}}function Rj(dt,lt){if(lt=lt.updateQueue,lt=lt!==null?lt.lastEffect:null,lt!==null){var ft=lt=lt.next;do{if((ft.tag&dt)===dt){var vt=ft.create;ft.destroy=vt()}ft=ft.next}while(ft!==lt)}}function Sj(dt){var lt=dt.ref;if(lt!==null){var ft=dt.stateNode;switch(dt.tag){case 5:dt=ft;break;default:dt=ft}typeof lt=="function"?lt(dt):lt.current=dt}}function Tj(dt){var lt=dt.alternate;lt!==null&&(dt.alternate=null,Tj(lt)),dt.child=null,dt.deletions=null,dt.sibling=null,dt.tag===5&&(lt=dt.stateNode,lt!==null&&(delete lt[Of],delete lt[Pf],delete lt[of],delete lt[Qf],delete lt[Rf])),dt.stateNode=null,dt.return=null,dt.dependencies=null,dt.memoizedProps=null,dt.memoizedState=null,dt.pendingProps=null,dt.stateNode=null,dt.updateQueue=null}function Uj(dt){return dt.tag===5||dt.tag===3||dt.tag===4}function Vj(dt){e:for(;;){for(;dt.sibling===null;){if(dt.return===null||Uj(dt.return))return null;dt=dt.return}for(dt.sibling.return=dt.return,dt=dt.sibling;dt.tag!==5&&dt.tag!==6&&dt.tag!==18;){if(dt.flags&2||dt.child===null||dt.tag===4)continue e;dt.child.return=dt,dt=dt.child}if(!(dt.flags&2))return dt.stateNode}}function Wj(dt,lt,ft){var vt=dt.tag;if(vt===5||vt===6)dt=dt.stateNode,lt?ft.nodeType===8?ft.parentNode.insertBefore(dt,lt):ft.insertBefore(dt,lt):(ft.nodeType===8?(lt=ft.parentNode,lt.insertBefore(dt,ft)):(lt=ft,lt.appendChild(dt)),ft=ft._reactRootContainer,ft!=null||lt.onclick!==null||(lt.onclick=Bf));else if(vt!==4&&(dt=dt.child,dt!==null))for(Wj(dt,lt,ft),dt=dt.sibling;dt!==null;)Wj(dt,lt,ft),dt=dt.sibling}function Xj(dt,lt,ft){var vt=dt.tag;if(vt===5||vt===6)dt=dt.stateNode,lt?ft.insertBefore(dt,lt):ft.appendChild(dt);else if(vt!==4&&(dt=dt.child,dt!==null))for(Xj(dt,lt,ft),dt=dt.sibling;dt!==null;)Xj(dt,lt,ft),dt=dt.sibling}var X$2=null,Yj=!1;function Zj(dt,lt,ft){for(ft=ft.child;ft!==null;)ak(dt,lt,ft),ft=ft.sibling}function ak(dt,lt,ft){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ft)}catch{}switch(ft.tag){case 5:U$2||Mj(ft,lt);case 6:var vt=X$2,St=Yj;X$2=null,Zj(dt,lt,ft),X$2=vt,Yj=St,X$2!==null&&(Yj?(dt=X$2,ft=ft.stateNode,dt.nodeType===8?dt.parentNode.removeChild(ft):dt.removeChild(ft)):X$2.removeChild(ft.stateNode));break;case 18:X$2!==null&&(Yj?(dt=X$2,ft=ft.stateNode,dt.nodeType===8?Kf(dt.parentNode,ft):dt.nodeType===1&&Kf(dt,ft),bd(dt)):Kf(X$2,ft.stateNode));break;case 4:vt=X$2,St=Yj,X$2=ft.stateNode.containerInfo,Yj=!0,Zj(dt,lt,ft),X$2=vt,Yj=St;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=ft.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){St=vt=vt.next;do{var Et=St,At=Et.destroy;Et=Et.tag,At!==void 0&&(Et&2||Et&4)&&Nj(ft,lt,At),St=St.next}while(St!==vt)}Zj(dt,lt,ft);break;case 1:if(!U$2&&(Mj(ft,lt),vt=ft.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=ft.memoizedProps,vt.state=ft.memoizedState,vt.componentWillUnmount()}catch(Ct){W$3(ft,lt,Ct)}Zj(dt,lt,ft);break;case 21:Zj(dt,lt,ft);break;case 22:ft.mode&1?(U$2=(vt=U$2)||ft.memoizedState!==null,Zj(dt,lt,ft),U$2=vt):Zj(dt,lt,ft);break;default:Zj(dt,lt,ft)}}function bk(dt){var lt=dt.updateQueue;if(lt!==null){dt.updateQueue=null;var ft=dt.stateNode;ft===null&&(ft=dt.stateNode=new Lj),lt.forEach(function(vt){var St=ck.bind(null,dt,vt);ft.has(vt)||(ft.add(vt),vt.then(St,St))})}}function dk(dt,lt){var ft=lt.deletions;if(ft!==null)for(var vt=0;vt<ft.length;vt++){var St=ft[vt];try{var Et=dt,At=lt,Ct=At;e:for(;Ct!==null;){switch(Ct.tag){case 5:X$2=Ct.stateNode,Yj=!1;break e;case 3:X$2=Ct.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=Ct.stateNode.containerInfo,Yj=!0;break e}Ct=Ct.return}if(X$2===null)throw Error(p$5(160));ak(Et,At,St),X$2=null,Yj=!1;var Tt=St.alternate;Tt!==null&&(Tt.return=null),St.return=null}catch(Rt){W$3(St,lt,Rt)}}if(lt.subtreeFlags&12854)for(lt=lt.child;lt!==null;)ek(lt,dt),lt=lt.sibling}function ek(dt,lt){var ft=dt.alternate,vt=dt.flags;switch(dt.tag){case 0:case 11:case 14:case 15:if(dk(lt,dt),fk(dt),vt&4){try{Qj(3,dt,dt.return),Rj(3,dt)}catch(Ht){W$3(dt,dt.return,Ht)}try{Qj(5,dt,dt.return)}catch(Ht){W$3(dt,dt.return,Ht)}}break;case 1:dk(lt,dt),fk(dt),vt&512&&ft!==null&&Mj(ft,ft.return);break;case 5:if(dk(lt,dt),fk(dt),vt&512&&ft!==null&&Mj(ft,ft.return),dt.flags&32){var St=dt.stateNode;try{ob(St,"")}catch(Ht){W$3(dt,dt.return,Ht)}}if(vt&4&&(St=dt.stateNode,St!=null)){var Et=dt.memoizedProps,At=ft!==null?ft.memoizedProps:Et,Ct=dt.type,Tt=dt.updateQueue;if(dt.updateQueue=null,Tt!==null)try{Ct==="input"&&Et.type==="radio"&&Et.name!=null&&ab(St,Et),vb(Ct,At);var Rt=vb(Ct,Et);for(At=0;At<Tt.length;At+=2){var Bt=Tt[At],Ft=Tt[At+1];Bt==="style"?sb(St,Ft):Bt==="dangerouslySetInnerHTML"?nb(St,Ft):Bt==="children"?ob(St,Ft):ta(St,Bt,Ft,Rt)}switch(Ct){case"input":bb(St,Et);break;case"textarea":ib(St,Et);break;case"select":var Dt=St._wrapperState.wasMultiple;St._wrapperState.wasMultiple=!!Et.multiple;var kt=Et.value;kt!=null?fb(St,!!Et.multiple,kt,!1):Dt!==!!Et.multiple&&(Et.defaultValue!=null?fb(St,!!Et.multiple,Et.defaultValue,!0):fb(St,!!Et.multiple,Et.multiple?[]:"",!1))}St[Pf]=Et}catch(Ht){W$3(dt,dt.return,Ht)}}break;case 6:if(dk(lt,dt),fk(dt),vt&4){if(dt.stateNode===null)throw Error(p$5(162));St=dt.stateNode,Et=dt.memoizedProps;try{St.nodeValue=Et}catch(Ht){W$3(dt,dt.return,Ht)}}break;case 3:if(dk(lt,dt),fk(dt),vt&4&&ft!==null&&ft.memoizedState.isDehydrated)try{bd(lt.containerInfo)}catch(Ht){W$3(dt,dt.return,Ht)}break;case 4:dk(lt,dt),fk(dt);break;case 13:dk(lt,dt),fk(dt),St=dt.child,St.flags&8192&&(Et=St.memoizedState!==null,St.stateNode.isHidden=Et,!Et||St.alternate!==null&&St.alternate.memoizedState!==null||(gk=B$2())),vt&4&&bk(dt);break;case 22:if(Bt=ft!==null&&ft.memoizedState!==null,dt.mode&1?(U$2=(Rt=U$2)||Bt,dk(lt,dt),U$2=Rt):dk(lt,dt),fk(dt),vt&8192){if(Rt=dt.memoizedState!==null,(dt.stateNode.isHidden=Rt)&&!Bt&&dt.mode&1)for(V$2=dt,Bt=dt.child;Bt!==null;){for(Ft=V$2=Bt;V$2!==null;){switch(Dt=V$2,kt=Dt.child,Dt.tag){case 0:case 11:case 14:case 15:Qj(4,Dt,Dt.return);break;case 1:Mj(Dt,Dt.return);var zt=Dt.stateNode;if(typeof zt.componentWillUnmount=="function"){vt=Dt,ft=Dt.return;try{lt=vt,zt.props=lt.memoizedProps,zt.state=lt.memoizedState,zt.componentWillUnmount()}catch(Ht){W$3(vt,ft,Ht)}}break;case 5:Mj(Dt,Dt.return);break;case 22:if(Dt.memoizedState!==null){hk(Ft);continue}}kt!==null?(kt.return=Dt,V$2=kt):hk(Ft)}Bt=Bt.sibling}e:for(Bt=null,Ft=dt;;){if(Ft.tag===5){if(Bt===null){Bt=Ft;try{St=Ft.stateNode,Rt?(Et=St.style,typeof Et.setProperty=="function"?Et.setProperty("display","none","important"):Et.display="none"):(Ct=Ft.stateNode,Tt=Ft.memoizedProps.style,At=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null,Ct.style.display=rb("display",At))}catch(Ht){W$3(dt,dt.return,Ht)}}}else if(Ft.tag===6){if(Bt===null)try{Ft.stateNode.nodeValue=Rt?"":Ft.memoizedProps}catch(Ht){W$3(dt,dt.return,Ht)}}else if((Ft.tag!==22&&Ft.tag!==23||Ft.memoizedState===null||Ft===dt)&&Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}if(Ft===dt)break e;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===dt)break e;Bt===Ft&&(Bt=null),Ft=Ft.return}Bt===Ft&&(Bt=null),Ft.sibling.return=Ft.return,Ft=Ft.sibling}}break;case 19:dk(lt,dt),fk(dt),vt&4&&bk(dt);break;case 21:break;default:dk(lt,dt),fk(dt)}}function fk(dt){var lt=dt.flags;if(lt&2){try{e:{for(var ft=dt.return;ft!==null;){if(Uj(ft)){var vt=ft;break e}ft=ft.return}throw Error(p$5(160))}switch(vt.tag){case 5:var St=vt.stateNode;vt.flags&32&&(ob(St,""),vt.flags&=-33);var Et=Vj(dt);Xj(dt,Et,St);break;case 3:case 4:var At=vt.stateNode.containerInfo,Ct=Vj(dt);Wj(dt,Ct,At);break;default:throw Error(p$5(161))}}catch(Tt){W$3(dt,dt.return,Tt)}dt.flags&=-3}lt&4096&&(dt.flags&=-4097)}function ik(dt,lt,ft){V$2=dt,jk(dt)}function jk(dt,lt,ft){for(var vt=(dt.mode&1)!==0;V$2!==null;){var St=V$2,Et=St.child;if(St.tag===22&&vt){var At=St.memoizedState!==null||Kj;if(!At){var Ct=St.alternate,Tt=Ct!==null&&Ct.memoizedState!==null||U$2;Ct=Kj;var Rt=U$2;if(Kj=At,(U$2=Tt)&&!Rt)for(V$2=St;V$2!==null;)At=V$2,Tt=At.child,At.tag===22&&At.memoizedState!==null?kk(St):Tt!==null?(Tt.return=At,V$2=Tt):kk(St);for(;Et!==null;)V$2=Et,jk(Et),Et=Et.sibling;V$2=St,Kj=Ct,U$2=Rt}lk(dt)}else St.subtreeFlags&8772&&Et!==null?(Et.return=St,V$2=Et):lk(dt)}}function lk(dt){for(;V$2!==null;){var lt=V$2;if(lt.flags&8772){var ft=lt.alternate;try{if(lt.flags&8772)switch(lt.tag){case 0:case 11:case 15:U$2||Rj(5,lt);break;case 1:var vt=lt.stateNode;if(lt.flags&4&&!U$2)if(ft===null)vt.componentDidMount();else{var St=lt.elementType===lt.type?ft.memoizedProps:Lg(lt.type,ft.memoizedProps);vt.componentDidUpdate(St,ft.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var Et=lt.updateQueue;Et!==null&&ih(lt,Et,vt);break;case 3:var At=lt.updateQueue;if(At!==null){if(ft=null,lt.child!==null)switch(lt.child.tag){case 5:ft=lt.child.stateNode;break;case 1:ft=lt.child.stateNode}ih(lt,At,ft)}break;case 5:var Ct=lt.stateNode;if(ft===null&&lt.flags&4){ft=Ct;var Tt=lt.memoizedProps;switch(lt.type){case"button":case"input":case"select":case"textarea":Tt.autoFocus&&ft.focus();break;case"img":Tt.src&&(ft.src=Tt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(lt.memoizedState===null){var Rt=lt.alternate;if(Rt!==null){var Bt=Rt.memoizedState;if(Bt!==null){var Ft=Bt.dehydrated;Ft!==null&&bd(Ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$2||lt.flags&512&&Sj(lt)}catch(Dt){W$3(lt,lt.return,Dt)}}if(lt===dt){V$2=null;break}if(ft=lt.sibling,ft!==null){ft.return=lt.return,V$2=ft;break}V$2=lt.return}}function hk(dt){for(;V$2!==null;){var lt=V$2;if(lt===dt){V$2=null;break}var ft=lt.sibling;if(ft!==null){ft.return=lt.return,V$2=ft;break}V$2=lt.return}}function kk(dt){for(;V$2!==null;){var lt=V$2;try{switch(lt.tag){case 0:case 11:case 15:var ft=lt.return;try{Rj(4,lt)}catch(Tt){W$3(lt,ft,Tt)}break;case 1:var vt=lt.stateNode;if(typeof vt.componentDidMount=="function"){var St=lt.return;try{vt.componentDidMount()}catch(Tt){W$3(lt,St,Tt)}}var Et=lt.return;try{Sj(lt)}catch(Tt){W$3(lt,Et,Tt)}break;case 5:var At=lt.return;try{Sj(lt)}catch(Tt){W$3(lt,At,Tt)}}}catch(Tt){W$3(lt,lt.return,Tt)}if(lt===dt){V$2=null;break}var Ct=lt.sibling;if(Ct!==null){Ct.return=lt.return,V$2=Ct;break}V$2=lt.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$2=0,R$2=null,Y$2=null,Z$1=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K$2&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(dt){return dt.mode&1?K$2&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(dt=C$2,dt!==0||(dt=window.event,dt=dt===void 0?16:jd(dt.type)),dt):1}function mh(dt,lt,ft,vt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac(dt,ft,vt),(!(K$2&2)||dt!==R$2)&&(dt===R$2&&(!(K$2&2)&&(rk|=ft),T$2===4&&Dk(dt,Z$1)),Ek(dt,vt),ft===1&&K$2===0&&!(lt.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(dt,lt){var ft=dt.callbackNode;wc(dt,lt);var vt=uc(dt,dt===R$2?Z$1:0);if(vt===0)ft!==null&&bc(ft),dt.callbackNode=null,dt.callbackPriority=0;else if(lt=vt&-vt,dt.callbackPriority!==lt){if(ft!=null&&bc(ft),lt===1)dt.tag===0?ig(Fk.bind(null,dt)):hg(Fk.bind(null,dt)),Jf(function(){!(K$2&6)&&jg()}),ft=null;else{switch(Dc(vt)){case 1:ft=fc;break;case 4:ft=gc;break;case 16:ft=hc;break;case 536870912:ft=jc;break;default:ft=hc}ft=Gk(ft,Hk.bind(null,dt))}dt.callbackPriority=lt,dt.callbackNode=ft}}function Hk(dt,lt){if(Bk=-1,Ck=0,K$2&6)throw Error(p$5(327));var ft=dt.callbackNode;if(Ik()&&dt.callbackNode!==ft)return null;var vt=uc(dt,dt===R$2?Z$1:0);if(vt===0)return null;if(vt&30||vt&dt.expiredLanes||lt)lt=Jk(dt,vt);else{lt=vt;var St=K$2;K$2|=2;var Et=Kk();(R$2!==dt||Z$1!==lt)&&(vk=null,Hj=B$2()+500,Lk(dt,lt));do try{Mk();break}catch(Ct){Nk(dt,Ct)}while(1);Qg(),nk.current=Et,K$2=St,Y$2!==null?lt=0:(R$2=null,Z$1=0,lt=T$2)}if(lt!==0){if(lt===2&&(St=xc(dt),St!==0&&(vt=St,lt=Ok(dt,St))),lt===1)throw ft=qk,Lk(dt,0),Dk(dt,vt),Ek(dt,B$2()),ft;if(lt===6)Dk(dt,vt);else{if(St=dt.current.alternate,!(vt&30)&&!Pk(St)&&(lt=Jk(dt,vt),lt===2&&(Et=xc(dt),Et!==0&&(vt=Et,lt=Ok(dt,Et))),lt===1))throw ft=qk,Lk(dt,0),Dk(dt,vt),Ek(dt,B$2()),ft;switch(dt.finishedWork=St,dt.finishedLanes=vt,lt){case 0:case 1:throw Error(p$5(345));case 2:Qk(dt,uk,vk);break;case 3:if(Dk(dt,vt),(vt&130023424)===vt&&(lt=gk+500-B$2(),10<lt)){if(uc(dt,0)!==0)break;if(St=dt.suspendedLanes,(St&vt)!==vt){L$2(),dt.pingedLanes|=dt.suspendedLanes&St;break}dt.timeoutHandle=Ff(Qk.bind(null,dt,uk,vk),lt);break}Qk(dt,uk,vk);break;case 4:if(Dk(dt,vt),(vt&4194240)===vt)break;for(lt=dt.eventTimes,St=-1;0<vt;){var At=31-oc(vt);Et=1<<At,At=lt[At],At>St&&(St=At),vt&=~Et}if(vt=St,vt=B$2()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*mk(vt/1960))-vt,10<vt){dt.timeoutHandle=Ff(Qk.bind(null,dt,uk,vk),vt);break}Qk(dt,uk,vk);break;case 5:Qk(dt,uk,vk);break;default:throw Error(p$5(329))}}}return Ek(dt,B$2()),dt.callbackNode===ft?Hk.bind(null,dt):null}function Ok(dt,lt){var ft=tk;return dt.current.memoizedState.isDehydrated&&(Lk(dt,lt).flags|=256),dt=Jk(dt,lt),dt!==2&&(lt=uk,uk=ft,lt!==null&&Gj(lt)),dt}function Gj(dt){uk===null?uk=dt:uk.push.apply(uk,dt)}function Pk(dt){for(var lt=dt;;){if(lt.flags&16384){var ft=lt.updateQueue;if(ft!==null&&(ft=ft.stores,ft!==null))for(var vt=0;vt<ft.length;vt++){var St=ft[vt],Et=St.getSnapshot;St=St.value;try{if(!He$2(Et(),St))return!1}catch{return!1}}}if(ft=lt.child,lt.subtreeFlags&16384&&ft!==null)ft.return=lt,lt=ft;else{if(lt===dt)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===dt)return!0;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}}return!0}function Dk(dt,lt){for(lt&=~sk,lt&=~rk,dt.suspendedLanes|=lt,dt.pingedLanes&=~lt,dt=dt.expirationTimes;0<lt;){var ft=31-oc(lt),vt=1<<ft;dt[ft]=-1,lt&=~vt}}function Fk(dt){if(K$2&6)throw Error(p$5(327));Ik();var lt=uc(dt,0);if(!(lt&1))return Ek(dt,B$2()),null;var ft=Jk(dt,lt);if(dt.tag!==0&&ft===2){var vt=xc(dt);vt!==0&&(lt=vt,ft=Ok(dt,vt))}if(ft===1)throw ft=qk,Lk(dt,0),Dk(dt,lt),Ek(dt,B$2()),ft;if(ft===6)throw Error(p$5(345));return dt.finishedWork=dt.current.alternate,dt.finishedLanes=lt,Qk(dt,uk,vk),Ek(dt,B$2()),null}function Rk(dt,lt){var ft=K$2;K$2|=1;try{return dt(lt)}finally{K$2=ft,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(dt){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var lt=K$2;K$2|=1;var ft=pk.transition,vt=C$2;try{if(pk.transition=null,C$2=1,dt)return dt()}finally{C$2=vt,pk.transition=ft,K$2=lt,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$4(fj)}function Lk(dt,lt){dt.finishedWork=null,dt.finishedLanes=0;var ft=dt.timeoutHandle;if(ft!==-1&&(dt.timeoutHandle=-1,Gf(ft)),Y$2!==null)for(ft=Y$2.return;ft!==null;){var vt=ft;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:Jh(),E$4(Wf),E$4(H$3),Oh();break;case 5:Lh(vt);break;case 4:Jh();break;case 13:E$4(M$2);break;case 19:E$4(M$2);break;case 10:Rg(vt.type._context);break;case 22:case 23:Ij()}ft=ft.return}if(R$2=dt,Y$2=dt=wh(dt.current,null),Z$1=gj=lt,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(lt=0;lt<Wg.length;lt++)if(ft=Wg[lt],vt=ft.interleaved,vt!==null){ft.interleaved=null;var St=vt.next,Et=ft.pending;if(Et!==null){var At=Et.next;Et.next=St,vt.next=At}ft.pending=vt}Wg=null}return dt}function Nk(dt,lt){do{var ft=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var vt=N$2.memoizedState;vt!==null;){var St=vt.queue;St!==null&&(St.pending=null),vt=vt.next}Sh=!1}if(Rh=0,P$2=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,ft===null||ft.return===null){T$2=1,qk=lt,Y$2=null;break}e:{var Et=dt,At=ft.return,Ct=ft,Tt=lt;if(lt=Z$1,Ct.flags|=32768,Tt!==null&&typeof Tt=="object"&&typeof Tt.then=="function"){var Rt=Tt,Bt=Ct,Ft=Bt.tag;if(!(Bt.mode&1)&&(Ft===0||Ft===11||Ft===15)){var Dt=Bt.alternate;Dt?(Bt.updateQueue=Dt.updateQueue,Bt.memoizedState=Dt.memoizedState,Bt.lanes=Dt.lanes):(Bt.updateQueue=null,Bt.memoizedState=null)}var kt=Vi(At);if(kt!==null){kt.flags&=-257,Wi(kt,At,Ct,Et,lt),kt.mode&1&&Ti(Et,Rt,lt),lt=kt,Tt=Rt;var zt=lt.updateQueue;if(zt===null){var Ht=new Set;Ht.add(Tt),lt.updateQueue=Ht}else zt.add(Tt);break e}else{if(!(lt&1)){Ti(Et,Rt,lt),uj();break e}Tt=Error(p$5(426))}}else if(I$3&&Ct.mode&1){var en=Vi(At);if(en!==null){!(en.flags&65536)&&(en.flags|=256),Wi(en,At,Ct,Et,lt),Jg(Ki(Tt,Ct));break e}}Et=Tt=Ki(Tt,Ct),T$2!==4&&(T$2=2),tk===null?tk=[Et]:tk.push(Et),Et=At;do{switch(Et.tag){case 3:Et.flags|=65536,lt&=-lt,Et.lanes|=lt;var Kt=Oi(Et,Tt,lt);fh(Et,Kt);break e;case 1:Ct=Tt;var Zt=Et.type,Wt=Et.stateNode;if(!(Et.flags&128)&&(typeof Zt.getDerivedStateFromError=="function"||Wt!==null&&typeof Wt.componentDidCatch=="function"&&(Si===null||!Si.has(Wt)))){Et.flags|=65536,lt&=-lt,Et.lanes|=lt;var tn=Ri(Et,Ct,lt);fh(Et,tn);break e}}Et=Et.return}while(Et!==null)}Tk(ft)}catch(an){lt=an,Y$2===ft&&ft!==null&&(Y$2=ft=ft.return);continue}break}while(1)}function Kk(){var dt=nk.current;return nk.current=ai,dt===null?ai:dt}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$1)}function Jk(dt,lt){var ft=K$2;K$2|=2;var vt=Kk();(R$2!==dt||Z$1!==lt)&&(vk=null,Lk(dt,lt));do try{Uk();break}catch(St){Nk(dt,St)}while(1);if(Qg(),K$2=ft,nk.current=vt,Y$2!==null)throw Error(p$5(261));return R$2=null,Z$1=0,T$2}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc();)Vk(Y$2)}function Vk(dt){var lt=Wk(dt.alternate,dt,gj);dt.memoizedProps=dt.pendingProps,lt===null?Tk(dt):Y$2=lt,ok.current=null}function Tk(dt){var lt=dt;do{var ft=lt.alternate;if(dt=lt.return,lt.flags&32768){if(ft=Jj(ft,lt),ft!==null){ft.flags&=32767,Y$2=ft;return}if(dt!==null)dt.flags|=32768,dt.subtreeFlags=0,dt.deletions=null;else{T$2=6,Y$2=null;return}}else if(ft=Fj(ft,lt,gj),ft!==null){Y$2=ft;return}if(lt=lt.sibling,lt!==null){Y$2=lt;return}Y$2=lt=dt}while(lt!==null);T$2===0&&(T$2=5)}function Qk(dt,lt,ft){var vt=C$2,St=pk.transition;try{pk.transition=null,C$2=1,Xk(dt,lt,ft,vt)}finally{pk.transition=St,C$2=vt}return null}function Xk(dt,lt,ft,vt){do Ik();while(xk!==null);if(K$2&6)throw Error(p$5(327));ft=dt.finishedWork;var St=dt.finishedLanes;if(ft===null)return null;if(dt.finishedWork=null,dt.finishedLanes=0,ft===dt.current)throw Error(p$5(177));dt.callbackNode=null,dt.callbackPriority=0;var Et=ft.lanes|ft.childLanes;if(Bc(dt,Et),dt===R$2&&(Y$2=R$2=null,Z$1=0),!(ft.subtreeFlags&2064)&&!(ft.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),Et=(ft.flags&15990)!==0,ft.subtreeFlags&15990||Et){Et=pk.transition,pk.transition=null;var At=C$2;C$2=1;var Ct=K$2;K$2|=4,ok.current=null,Pj(dt,ft),ek(ft,dt),Oe$1(Df),dd=!!Cf,Df=Cf=null,dt.current=ft,ik(ft),dc(),K$2=Ct,C$2=At,pk.transition=Et}else dt.current=ft;if(wk&&(wk=!1,xk=dt,yk=St),Et=dt.pendingLanes,Et===0&&(Si=null),mc(ft.stateNode),Ek(dt,B$2()),lt!==null)for(vt=dt.onRecoverableError,ft=0;ft<lt.length;ft++)St=lt[ft],vt(St.value,{componentStack:St.stack,digest:St.digest});if(Pi)throw Pi=!1,dt=Qi,Qi=null,dt;return yk&1&&dt.tag!==0&&Ik(),Et=dt.pendingLanes,Et&1?dt===Ak?zk++:(zk=0,Ak=dt):zk=0,jg(),null}function Ik(){if(xk!==null){var dt=Dc(yk),lt=pk.transition,ft=C$2;try{if(pk.transition=null,C$2=16>dt?16:dt,xk===null)var vt=!1;else{if(dt=xk,xk=null,yk=0,K$2&6)throw Error(p$5(331));var St=K$2;for(K$2|=4,V$2=dt.current;V$2!==null;){var Et=V$2,At=Et.child;if(V$2.flags&16){var Ct=Et.deletions;if(Ct!==null){for(var Tt=0;Tt<Ct.length;Tt++){var Rt=Ct[Tt];for(V$2=Rt;V$2!==null;){var Bt=V$2;switch(Bt.tag){case 0:case 11:case 15:Qj(8,Bt,Et)}var Ft=Bt.child;if(Ft!==null)Ft.return=Bt,V$2=Ft;else for(;V$2!==null;){Bt=V$2;var Dt=Bt.sibling,kt=Bt.return;if(Tj(Bt),Bt===Rt){V$2=null;break}if(Dt!==null){Dt.return=kt,V$2=Dt;break}V$2=kt}}}var zt=Et.alternate;if(zt!==null){var Ht=zt.child;if(Ht!==null){zt.child=null;do{var en=Ht.sibling;Ht.sibling=null,Ht=en}while(Ht!==null)}}V$2=Et}}if(Et.subtreeFlags&2064&&At!==null)At.return=Et,V$2=At;else e:for(;V$2!==null;){if(Et=V$2,Et.flags&2048)switch(Et.tag){case 0:case 11:case 15:Qj(9,Et,Et.return)}var Kt=Et.sibling;if(Kt!==null){Kt.return=Et.return,V$2=Kt;break e}V$2=Et.return}}var Zt=dt.current;for(V$2=Zt;V$2!==null;){At=V$2;var Wt=At.child;if(At.subtreeFlags&2064&&Wt!==null)Wt.return=At,V$2=Wt;else e:for(At=Zt;V$2!==null;){if(Ct=V$2,Ct.flags&2048)try{switch(Ct.tag){case 0:case 11:case 15:Rj(9,Ct)}}catch(an){W$3(Ct,Ct.return,an)}if(Ct===At){V$2=null;break e}var tn=Ct.sibling;if(tn!==null){tn.return=Ct.return,V$2=tn;break e}V$2=Ct.return}}if(K$2=St,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,dt)}catch{}vt=!0}return vt}finally{C$2=ft,pk.transition=lt}}return!1}function Yk(dt,lt,ft){lt=Ki(ft,lt),lt=Oi(dt,lt,1),dt=dh(dt,lt,1),lt=L$2(),dt!==null&&(Ac(dt,1,lt),Ek(dt,lt))}function W$3(dt,lt,ft){if(dt.tag===3)Yk(dt,dt,ft);else for(;lt!==null;){if(lt.tag===3){Yk(lt,dt,ft);break}else if(lt.tag===1){var vt=lt.stateNode;if(typeof lt.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Si===null||!Si.has(vt))){dt=Ki(ft,dt),dt=Ri(lt,dt,1),lt=dh(lt,dt,1),dt=L$2(),lt!==null&&(Ac(lt,1,dt),Ek(lt,dt));break}}lt=lt.return}}function Ui(dt,lt,ft){var vt=dt.pingCache;vt!==null&&vt.delete(lt),lt=L$2(),dt.pingedLanes|=dt.suspendedLanes&ft,R$2===dt&&(Z$1&ft)===ft&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(dt,0):sk|=ft),Ek(dt,lt)}function Zk(dt,lt){lt===0&&(dt.mode&1?(lt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):lt=1);var ft=L$2();dt=Zg(dt,lt),dt!==null&&(Ac(dt,lt,ft),Ek(dt,ft))}function vj(dt){var lt=dt.memoizedState,ft=0;lt!==null&&(ft=lt.retryLane),Zk(dt,ft)}function ck(dt,lt){var ft=0;switch(dt.tag){case 13:var vt=dt.stateNode,St=dt.memoizedState;St!==null&&(ft=St.retryLane);break;case 19:vt=dt.stateNode;break;default:throw Error(p$5(314))}vt!==null&&vt.delete(lt),Zk(dt,ft)}var Wk;Wk=function(dt,lt,ft){if(dt!==null)if(dt.memoizedProps!==lt.pendingProps||Wf.current)Ug=!0;else{if(!(dt.lanes&ft)&&!(lt.flags&128))return Ug=!1,zj(dt,lt,ft);Ug=!!(dt.flags&131072)}else Ug=!1,I$3&&lt.flags&1048576&&ug(lt,ng,lt.index);switch(lt.lanes=0,lt.tag){case 2:var vt=lt.type;jj(dt,lt),dt=lt.pendingProps;var St=Yf(lt,H$3.current);Tg(lt,ft),St=Xh(null,lt,vt,dt,St,ft);var Et=bi();return lt.flags|=1,typeof St=="object"&&St!==null&&typeof St.render=="function"&&St.$$typeof===void 0?(lt.tag=1,lt.memoizedState=null,lt.updateQueue=null,Zf(vt)?(Et=!0,cg(lt)):Et=!1,lt.memoizedState=St.state!==null&&St.state!==void 0?St.state:null,ah(lt),St.updater=nh,lt.stateNode=St,St._reactInternals=lt,rh(lt,vt,dt,ft),lt=kj(null,lt,vt,!0,Et,ft)):(lt.tag=0,I$3&&Et&&vg(lt),Yi(null,lt,St,ft),lt=lt.child),lt;case 16:vt=lt.elementType;e:{switch(jj(dt,lt),dt=lt.pendingProps,St=vt._init,vt=St(vt._payload),lt.type=vt,St=lt.tag=$k(vt),dt=Lg(vt,dt),St){case 0:lt=dj(null,lt,vt,dt,ft);break e;case 1:lt=ij(null,lt,vt,dt,ft);break e;case 11:lt=Zi(null,lt,vt,dt,ft);break e;case 14:lt=aj(null,lt,vt,Lg(vt.type,dt),ft);break e}throw Error(p$5(306,vt,""))}return lt;case 0:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),dj(dt,lt,vt,St,ft);case 1:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),ij(dt,lt,vt,St,ft);case 3:e:{if(lj(lt),dt===null)throw Error(p$5(387));vt=lt.pendingProps,Et=lt.memoizedState,St=Et.element,bh(dt,lt),gh(lt,vt,null,ft);var At=lt.memoizedState;if(vt=At.element,Et.isDehydrated)if(Et={element:vt,isDehydrated:!1,cache:At.cache,pendingSuspenseBoundaries:At.pendingSuspenseBoundaries,transitions:At.transitions},lt.updateQueue.baseState=Et,lt.memoizedState=Et,lt.flags&256){St=Ki(Error(p$5(423)),lt),lt=mj(dt,lt,vt,ft,St);break e}else if(vt!==St){St=Ki(Error(p$5(424)),lt),lt=mj(dt,lt,vt,ft,St);break e}else for(yg=Lf(lt.stateNode.containerInfo.firstChild),xg=lt,I$3=!0,zg=null,ft=Ch(lt,null,vt,ft),lt.child=ft;ft;)ft.flags=ft.flags&-3|4096,ft=ft.sibling;else{if(Ig(),vt===St){lt=$i(dt,lt,ft);break e}Yi(dt,lt,vt,ft)}lt=lt.child}return lt;case 5:return Kh(lt),dt===null&&Eg(lt),vt=lt.type,St=lt.pendingProps,Et=dt!==null?dt.memoizedProps:null,At=St.children,Ef(vt,St)?At=null:Et!==null&&Ef(vt,Et)&&(lt.flags|=32),hj(dt,lt),Yi(dt,lt,At,ft),lt.child;case 6:return dt===null&&Eg(lt),null;case 13:return pj(dt,lt,ft);case 4:return Ih(lt,lt.stateNode.containerInfo),vt=lt.pendingProps,dt===null?lt.child=Bh(lt,null,vt,ft):Yi(dt,lt,vt,ft),lt.child;case 11:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),Zi(dt,lt,vt,St,ft);case 7:return Yi(dt,lt,lt.pendingProps,ft),lt.child;case 8:return Yi(dt,lt,lt.pendingProps.children,ft),lt.child;case 12:return Yi(dt,lt,lt.pendingProps.children,ft),lt.child;case 10:e:{if(vt=lt.type._context,St=lt.pendingProps,Et=lt.memoizedProps,At=St.value,G$1(Mg,vt._currentValue),vt._currentValue=At,Et!==null)if(He$2(Et.value,At)){if(Et.children===St.children&&!Wf.current){lt=$i(dt,lt,ft);break e}}else for(Et=lt.child,Et!==null&&(Et.return=lt);Et!==null;){var Ct=Et.dependencies;if(Ct!==null){At=Et.child;for(var Tt=Ct.firstContext;Tt!==null;){if(Tt.context===vt){if(Et.tag===1){Tt=ch(-1,ft&-ft),Tt.tag=2;var Rt=Et.updateQueue;if(Rt!==null){Rt=Rt.shared;var Bt=Rt.pending;Bt===null?Tt.next=Tt:(Tt.next=Bt.next,Bt.next=Tt),Rt.pending=Tt}}Et.lanes|=ft,Tt=Et.alternate,Tt!==null&&(Tt.lanes|=ft),Sg(Et.return,ft,lt),Ct.lanes|=ft;break}Tt=Tt.next}}else if(Et.tag===10)At=Et.type===lt.type?null:Et.child;else if(Et.tag===18){if(At=Et.return,At===null)throw Error(p$5(341));At.lanes|=ft,Ct=At.alternate,Ct!==null&&(Ct.lanes|=ft),Sg(At,ft,lt),At=Et.sibling}else At=Et.child;if(At!==null)At.return=Et;else for(At=Et;At!==null;){if(At===lt){At=null;break}if(Et=At.sibling,Et!==null){Et.return=At.return,At=Et;break}At=At.return}Et=At}Yi(dt,lt,St.children,ft),lt=lt.child}return lt;case 9:return St=lt.type,vt=lt.pendingProps.children,Tg(lt,ft),St=Vg(St),vt=vt(St),lt.flags|=1,Yi(dt,lt,vt,ft),lt.child;case 14:return vt=lt.type,St=Lg(vt,lt.pendingProps),St=Lg(vt.type,St),aj(dt,lt,vt,St,ft);case 15:return cj(dt,lt,lt.type,lt.pendingProps,ft);case 17:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),jj(dt,lt),lt.tag=1,Zf(vt)?(dt=!0,cg(lt)):dt=!1,Tg(lt,ft),ph(lt,vt,St),rh(lt,vt,St,ft),kj(null,lt,vt,!0,dt,ft);case 19:return yj(dt,lt,ft);case 22:return ej(dt,lt,ft)}throw Error(p$5(156,lt.tag))};function Gk(dt,lt){return ac(dt,lt)}function al(dt,lt,ft,vt){this.tag=dt,this.key=ft,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=lt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(dt,lt,ft,vt){return new al(dt,lt,ft,vt)}function bj(dt){return dt=dt.prototype,!(!dt||!dt.isReactComponent)}function $k(dt){if(typeof dt=="function")return bj(dt)?1:0;if(dt!=null){if(dt=dt.$$typeof,dt===Da)return 11;if(dt===Ga)return 14}return 2}function wh(dt,lt){var ft=dt.alternate;return ft===null?(ft=Bg(dt.tag,lt,dt.key,dt.mode),ft.elementType=dt.elementType,ft.type=dt.type,ft.stateNode=dt.stateNode,ft.alternate=dt,dt.alternate=ft):(ft.pendingProps=lt,ft.type=dt.type,ft.flags=0,ft.subtreeFlags=0,ft.deletions=null),ft.flags=dt.flags&14680064,ft.childLanes=dt.childLanes,ft.lanes=dt.lanes,ft.child=dt.child,ft.memoizedProps=dt.memoizedProps,ft.memoizedState=dt.memoizedState,ft.updateQueue=dt.updateQueue,lt=dt.dependencies,ft.dependencies=lt===null?null:{lanes:lt.lanes,firstContext:lt.firstContext},ft.sibling=dt.sibling,ft.index=dt.index,ft.ref=dt.ref,ft}function yh(dt,lt,ft,vt,St,Et){var At=2;if(vt=dt,typeof dt=="function")bj(dt)&&(At=1);else if(typeof dt=="string")At=5;else e:switch(dt){case ya:return Ah(ft.children,St,Et,lt);case za:At=8,St|=8;break;case Aa:return dt=Bg(12,ft,lt,St|2),dt.elementType=Aa,dt.lanes=Et,dt;case Ea:return dt=Bg(13,ft,lt,St),dt.elementType=Ea,dt.lanes=Et,dt;case Fa:return dt=Bg(19,ft,lt,St),dt.elementType=Fa,dt.lanes=Et,dt;case Ia:return qj(ft,St,Et,lt);default:if(typeof dt=="object"&&dt!==null)switch(dt.$$typeof){case Ba:At=10;break e;case Ca:At=9;break e;case Da:At=11;break e;case Ga:At=14;break e;case Ha:At=16,vt=null;break e}throw Error(p$5(130,dt==null?dt:typeof dt,""))}return lt=Bg(At,ft,lt,St),lt.elementType=dt,lt.type=vt,lt.lanes=Et,lt}function Ah(dt,lt,ft,vt){return dt=Bg(7,dt,vt,lt),dt.lanes=ft,dt}function qj(dt,lt,ft,vt){return dt=Bg(22,dt,vt,lt),dt.elementType=Ia,dt.lanes=ft,dt.stateNode={isHidden:!1},dt}function xh(dt,lt,ft){return dt=Bg(6,dt,null,lt),dt.lanes=ft,dt}function zh(dt,lt,ft){return lt=Bg(4,dt.children!==null?dt.children:[],dt.key,lt),lt.lanes=ft,lt.stateNode={containerInfo:dt.containerInfo,pendingChildren:null,implementation:dt.implementation},lt}function bl(dt,lt,ft,vt,St){this.tag=lt,this.containerInfo=dt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=St,this.mutableSourceEagerHydrationData=null}function cl(dt,lt,ft,vt,St,Et,At,Ct,Tt){return dt=new bl(dt,lt,ft,Ct,Tt),lt===1?(lt=1,Et===!0&&(lt|=8)):lt=0,Et=Bg(3,null,null,lt),dt.current=Et,Et.stateNode=dt,Et.memoizedState={element:vt,isDehydrated:ft,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(Et),dt}function dl(dt,lt,ft){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:dt,containerInfo:lt,implementation:ft}}function el(dt){if(!dt)return Vf;dt=dt._reactInternals;e:{if(Vb(dt)!==dt||dt.tag!==1)throw Error(p$5(170));var lt=dt;do{switch(lt.tag){case 3:lt=lt.stateNode.context;break e;case 1:if(Zf(lt.type)){lt=lt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}lt=lt.return}while(lt!==null);throw Error(p$5(171))}if(dt.tag===1){var ft=dt.type;if(Zf(ft))return bg(dt,ft,lt)}return lt}function fl(dt,lt,ft,vt,St,Et,At,Ct,Tt){return dt=cl(ft,vt,!0,dt,St,Et,At,Ct,Tt),dt.context=el(null),ft=dt.current,vt=L$2(),St=lh(ft),Et=ch(vt,St),Et.callback=lt??null,dh(ft,Et,St),dt.current.lanes=St,Ac(dt,St,vt),Ek(dt,vt),dt}function gl(dt,lt,ft,vt){var St=lt.current,Et=L$2(),At=lh(St);return ft=el(ft),lt.context===null?lt.context=ft:lt.pendingContext=ft,lt=ch(Et,At),lt.payload={element:dt},vt=vt===void 0?null:vt,vt!==null&&(lt.callback=vt),dt=dh(St,lt,At),dt!==null&&(mh(dt,St,At,Et),eh(dt,St,At)),At}function hl(dt){if(dt=dt.current,!dt.child)return null;switch(dt.child.tag){case 5:return dt.child.stateNode;default:return dt.child.stateNode}}function il(dt,lt){if(dt=dt.memoizedState,dt!==null&&dt.dehydrated!==null){var ft=dt.retryLane;dt.retryLane=ft!==0&&ft<lt?ft:lt}}function jl(dt,lt){il(dt,lt),(dt=dt.alternate)&&il(dt,lt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(dt){console.error(dt)};function ml(dt){this._internalRoot=dt}nl.prototype.render=ml.prototype.render=function(dt){var lt=this._internalRoot;if(lt===null)throw Error(p$5(409));gl(dt,lt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var dt=this._internalRoot;if(dt!==null){this._internalRoot=null;var lt=dt.containerInfo;Sk(function(){gl(null,dt,null,null)}),lt[uf]=null}};function nl(dt){this._internalRoot=dt}nl.prototype.unstable_scheduleHydration=function(dt){if(dt){var lt=Hc();dt={blockedOn:null,target:dt,priority:lt};for(var ft=0;ft<Qc.length&&lt!==0&&lt<Qc[ft].priority;ft++);Qc.splice(ft,0,dt),ft===0&&Vc(dt)}};function ol(dt){return!(!dt||dt.nodeType!==1&&dt.nodeType!==9&&dt.nodeType!==11)}function pl(dt){return!(!dt||dt.nodeType!==1&&dt.nodeType!==9&&dt.nodeType!==11&&(dt.nodeType!==8||dt.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(dt,lt,ft,vt,St){if(St){if(typeof vt=="function"){var Et=vt;vt=function(){var Rt=hl(At);Et.call(Rt)}}var At=fl(lt,vt,dt,0,null,!1,!1,"",ql);return dt._reactRootContainer=At,dt[uf]=At.current,sf(dt.nodeType===8?dt.parentNode:dt),Sk(),At}for(;St=dt.lastChild;)dt.removeChild(St);if(typeof vt=="function"){var Ct=vt;vt=function(){var Rt=hl(Tt);Ct.call(Rt)}}var Tt=cl(dt,0,!1,null,null,!1,!1,"",ql);return dt._reactRootContainer=Tt,dt[uf]=Tt.current,sf(dt.nodeType===8?dt.parentNode:dt),Sk(function(){gl(lt,Tt,ft,vt)}),Tt}function sl(dt,lt,ft,vt,St){var Et=ft._reactRootContainer;if(Et){var At=Et;if(typeof St=="function"){var Ct=St;St=function(){var Tt=hl(At);Ct.call(Tt)}}gl(lt,At,dt,St)}else At=rl(ft,lt,dt,St,vt);return hl(At)}Ec=function(dt){switch(dt.tag){case 3:var lt=dt.stateNode;if(lt.current.memoizedState.isDehydrated){var ft=tc(lt.pendingLanes);ft!==0&&(Cc(lt,ft|1),Ek(lt,B$2()),!(K$2&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var vt=Zg(dt,1);if(vt!==null){var St=L$2();mh(vt,dt,1,St)}}),jl(dt,1)}};Fc=function(dt){if(dt.tag===13){var lt=Zg(dt,134217728);if(lt!==null){var ft=L$2();mh(lt,dt,134217728,ft)}jl(dt,134217728)}};Gc=function(dt){if(dt.tag===13){var lt=lh(dt),ft=Zg(dt,lt);if(ft!==null){var vt=L$2();mh(ft,dt,lt,vt)}jl(dt,lt)}};Hc=function(){return C$2};Ic=function(dt,lt){var ft=C$2;try{return C$2=dt,lt()}finally{C$2=ft}};yb=function(dt,lt,ft){switch(lt){case"input":if(bb(dt,ft),lt=ft.name,ft.type==="radio"&&lt!=null){for(ft=dt;ft.parentNode;)ft=ft.parentNode;for(ft=ft.querySelectorAll("input[name="+JSON.stringify(""+lt)+'][type="radio"]'),lt=0;lt<ft.length;lt++){var vt=ft[lt];if(vt!==dt&&vt.form===dt.form){var St=Db(vt);if(!St)throw Error(p$5(90));Wa(vt),bb(vt,St)}}}break;case"textarea":ib(dt,ft);break;case"select":lt=ft.value,lt!=null&&fb(dt,!!ft.multiple,lt,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(dt){return dt=Zb(dt),dt===null?null:dt.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(dt,lt){var ft=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(lt))throw Error(p$5(200));return dl(dt,lt,null,ft)};reactDom_production_min.createRoot=function(dt,lt){if(!ol(dt))throw Error(p$5(299));var ft=!1,vt="",St=ll;return lt!=null&&(lt.unstable_strictMode===!0&&(ft=!0),lt.identifierPrefix!==void 0&&(vt=lt.identifierPrefix),lt.onRecoverableError!==void 0&&(St=lt.onRecoverableError)),lt=cl(dt,1,!1,null,null,ft,!1,vt,St),dt[uf]=lt.current,sf(dt.nodeType===8?dt.parentNode:dt),new ml(lt)};reactDom_production_min.findDOMNode=function(dt){if(dt==null)return null;if(dt.nodeType===1)return dt;var lt=dt._reactInternals;if(lt===void 0)throw typeof dt.render=="function"?Error(p$5(188)):(dt=Object.keys(dt).join(","),Error(p$5(268,dt)));return dt=Zb(lt),dt=dt===null?null:dt.stateNode,dt};reactDom_production_min.flushSync=function(dt){return Sk(dt)};reactDom_production_min.hydrate=function(dt,lt,ft){if(!pl(lt))throw Error(p$5(200));return sl(null,dt,lt,!0,ft)};reactDom_production_min.hydrateRoot=function(dt,lt,ft){if(!ol(dt))throw Error(p$5(405));var vt=ft!=null&&ft.hydratedSources||null,St=!1,Et="",At=ll;if(ft!=null&&(ft.unstable_strictMode===!0&&(St=!0),ft.identifierPrefix!==void 0&&(Et=ft.identifierPrefix),ft.onRecoverableError!==void 0&&(At=ft.onRecoverableError)),lt=fl(lt,null,dt,1,ft??null,St,!1,Et,At),dt[uf]=lt.current,sf(dt),vt)for(dt=0;dt<vt.length;dt++)ft=vt[dt],St=ft._getVersion,St=St(ft._source),lt.mutableSourceEagerHydrationData==null?lt.mutableSourceEagerHydrationData=[ft,St]:lt.mutableSourceEagerHydrationData.push(ft,St);return new nl(lt)};reactDom_production_min.render=function(dt,lt,ft){if(!pl(lt))throw Error(p$5(200));return sl(null,dt,lt,!1,ft)};reactDom_production_min.unmountComponentAtNode=function(dt){if(!pl(dt))throw Error(p$5(40));return dt._reactRootContainer?(Sk(function(){sl(null,null,dt,!1,function(){dt._reactRootContainer=null,dt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(dt,lt,ft,vt){if(!pl(ft))throw Error(p$5(200));if(dt==null||dt._reactInternals===void 0)throw Error(p$5(38));return sl(dt,lt,ft,!1,vt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(dt){console.error(dt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot$1,m$4=reactDomExports;createRoot$1=client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;function _extends(){return _extends=Object.assign?Object.assign.bind():function(dt){for(var lt=1;lt<arguments.length;lt++){var ft=arguments[lt];for(var vt in ft)Object.prototype.hasOwnProperty.call(ft,vt)&&(dt[vt]=ft[vt])}return dt},_extends.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="149",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(lt,ft){this._listeners===void 0&&(this._listeners={});const vt=this._listeners;vt[lt]===void 0&&(vt[lt]=[]),vt[lt].indexOf(ft)===-1&&vt[lt].push(ft)}hasEventListener(lt,ft){if(this._listeners===void 0)return!1;const vt=this._listeners;return vt[lt]!==void 0&&vt[lt].indexOf(ft)!==-1}removeEventListener(lt,ft){if(this._listeners===void 0)return;const St=this._listeners[lt];if(St!==void 0){const Et=St.indexOf(ft);Et!==-1&&St.splice(Et,1)}}dispatchEvent(lt){if(this._listeners===void 0)return;const vt=this._listeners[lt.type];if(vt!==void 0){lt.target=this;const St=vt.slice(0);for(let Et=0,At=St.length;Et<At;Et++)St[Et].call(this,lt);lt.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const dt=Math.random()*4294967295|0,lt=Math.random()*4294967295|0,ft=Math.random()*4294967295|0,vt=Math.random()*4294967295|0;return(_lut$1[dt&255]+_lut$1[dt>>8&255]+_lut$1[dt>>16&255]+_lut$1[dt>>24&255]+"-"+_lut$1[lt&255]+_lut$1[lt>>8&255]+"-"+_lut$1[lt>>16&15|64]+_lut$1[lt>>24&255]+"-"+_lut$1[ft&63|128]+_lut$1[ft>>8&255]+"-"+_lut$1[ft>>16&255]+_lut$1[ft>>24&255]+_lut$1[vt&255]+_lut$1[vt>>8&255]+_lut$1[vt>>16&255]+_lut$1[vt>>24&255]).toLowerCase()}function clamp(dt,lt,ft){return Math.max(lt,Math.min(ft,dt))}function euclideanModulo(dt,lt){return(dt%lt+lt)%lt}function mapLinear(dt,lt,ft,vt,St){return vt+(dt-lt)*(St-vt)/(ft-lt)}function inverseLerp(dt,lt,ft){return dt!==lt?(ft-dt)/(lt-dt):0}function lerp(dt,lt,ft){return(1-ft)*dt+ft*lt}function damp(dt,lt,ft,vt){return lerp(dt,lt,1-Math.exp(-ft*vt))}function pingpong(dt,lt=1){return lt-Math.abs(euclideanModulo(dt,lt*2)-lt)}function smoothstep(dt,lt,ft){return dt<=lt?0:dt>=ft?1:(dt=(dt-lt)/(ft-lt),dt*dt*(3-2*dt))}function smootherstep(dt,lt,ft){return dt<=lt?0:dt>=ft?1:(dt=(dt-lt)/(ft-lt),dt*dt*dt*(dt*(dt*6-15)+10))}function randInt(dt,lt){return dt+Math.floor(Math.random()*(lt-dt+1))}function randFloat(dt,lt){return dt+Math.random()*(lt-dt)}function randFloatSpread(dt){return dt*(.5-Math.random())}function seededRandom(dt){dt!==void 0&&(_seed=dt);let lt=_seed+=1831565813;return lt=Math.imul(lt^lt>>>15,lt|1),lt^=lt+Math.imul(lt^lt>>>7,lt|61),((lt^lt>>>14)>>>0)/4294967296}function degToRad(dt){return dt*DEG2RAD}function radToDeg(dt){return dt*RAD2DEG}function isPowerOfTwo(dt){return(dt&dt-1)===0&&dt!==0}function ceilPowerOfTwo(dt){return Math.pow(2,Math.ceil(Math.log(dt)/Math.LN2))}function floorPowerOfTwo(dt){return Math.pow(2,Math.floor(Math.log(dt)/Math.LN2))}function setQuaternionFromProperEuler(dt,lt,ft,vt,St){const Et=Math.cos,At=Math.sin,Ct=Et(ft/2),Tt=At(ft/2),Rt=Et((lt+vt)/2),Bt=At((lt+vt)/2),Ft=Et((lt-vt)/2),Dt=At((lt-vt)/2),kt=Et((vt-lt)/2),zt=At((vt-lt)/2);switch(St){case"XYX":dt.set(Ct*Bt,Tt*Ft,Tt*Dt,Ct*Rt);break;case"YZY":dt.set(Tt*Dt,Ct*Bt,Tt*Ft,Ct*Rt);break;case"ZXZ":dt.set(Tt*Ft,Tt*Dt,Ct*Bt,Ct*Rt);break;case"XZX":dt.set(Ct*Bt,Tt*zt,Tt*kt,Ct*Rt);break;case"YXY":dt.set(Tt*kt,Ct*Bt,Tt*zt,Ct*Rt);break;case"ZYZ":dt.set(Tt*zt,Tt*kt,Ct*Bt,Ct*Rt);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+St)}}function denormalize(dt,lt){switch(lt.constructor){case Float32Array:return dt;case Uint16Array:return dt/65535;case Uint8Array:return dt/255;case Int16Array:return Math.max(dt/32767,-1);case Int8Array:return Math.max(dt/127,-1);default:throw new Error("Invalid component type.")}}function normalize(dt,lt){switch(lt.constructor){case Float32Array:return dt;case Uint16Array:return Math.round(dt*65535);case Uint8Array:return Math.round(dt*255);case Int16Array:return Math.round(dt*32767);case Int8Array:return Math.round(dt*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,ceilPowerOfTwo,clamp,damp,degToRad,denormalize,euclideanModulo,floorPowerOfTwo,generateUUID:generateUUID$1,inverseLerp,isPowerOfTwo,lerp,mapLinear,normalize,pingpong,radToDeg,randFloat,randFloatSpread,randInt,seededRandom,setQuaternionFromProperEuler,smootherstep,smoothstep});class Vector2{constructor(lt=0,ft=0){Vector2.prototype.isVector2=!0,this.x=lt,this.y=ft}get width(){return this.x}set width(lt){this.x=lt}get height(){return this.y}set height(lt){this.y=lt}set(lt,ft){return this.x=lt,this.y=ft,this}setScalar(lt){return this.x=lt,this.y=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setComponent(lt,ft){switch(lt){case 0:this.x=ft;break;case 1:this.y=ft;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y)}copy(lt){return this.x=lt.x,this.y=lt.y,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this}addScalar(lt){return this.x+=lt,this.y+=lt,this}addVectors(lt,ft){return this.x=lt.x+ft.x,this.y=lt.y+ft.y,this}addScaledVector(lt,ft){return this.x+=lt.x*ft,this.y+=lt.y*ft,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this}subScalar(lt){return this.x-=lt,this.y-=lt,this}subVectors(lt,ft){return this.x=lt.x-ft.x,this.y=lt.y-ft.y,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this}divide(lt){return this.x/=lt.x,this.y/=lt.y,this}divideScalar(lt){return this.multiplyScalar(1/lt)}applyMatrix3(lt){const ft=this.x,vt=this.y,St=lt.elements;return this.x=St[0]*ft+St[3]*vt+St[6],this.y=St[1]*ft+St[4]*vt+St[7],this}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this}clamp(lt,ft){return this.x=Math.max(lt.x,Math.min(ft.x,this.x)),this.y=Math.max(lt.y,Math.min(ft.y,this.y)),this}clampScalar(lt,ft){return this.x=Math.max(lt,Math.min(ft,this.x)),this.y=Math.max(lt,Math.min(ft,this.y)),this}clampLength(lt,ft){const vt=this.length();return this.divideScalar(vt||1).multiplyScalar(Math.max(lt,Math.min(ft,vt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(lt){return this.x*lt.x+this.y*lt.y}cross(lt){return this.x*lt.y-this.y*lt.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(lt){return Math.sqrt(this.distanceToSquared(lt))}distanceToSquared(lt){const ft=this.x-lt.x,vt=this.y-lt.y;return ft*ft+vt*vt}manhattanDistanceTo(lt){return Math.abs(this.x-lt.x)+Math.abs(this.y-lt.y)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,ft){return this.x+=(lt.x-this.x)*ft,this.y+=(lt.y-this.y)*ft,this}lerpVectors(lt,ft,vt){return this.x=lt.x+(ft.x-lt.x)*vt,this.y=lt.y+(ft.y-lt.y)*vt,this}equals(lt){return lt.x===this.x&&lt.y===this.y}fromArray(lt,ft=0){return this.x=lt[ft],this.y=lt[ft+1],this}toArray(lt=[],ft=0){return lt[ft]=this.x,lt[ft+1]=this.y,lt}fromBufferAttribute(lt,ft){return this.x=lt.getX(ft),this.y=lt.getY(ft),this}rotateAround(lt,ft){const vt=Math.cos(ft),St=Math.sin(ft),Et=this.x-lt.x,At=this.y-lt.y;return this.x=Et*vt-At*St+lt.x,this.y=Et*St+At*vt+lt.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(lt,ft,vt,St,Et,At,Ct,Tt,Rt){const Bt=this.elements;return Bt[0]=lt,Bt[1]=St,Bt[2]=Ct,Bt[3]=ft,Bt[4]=Et,Bt[5]=Tt,Bt[6]=vt,Bt[7]=At,Bt[8]=Rt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(lt){const ft=this.elements,vt=lt.elements;return ft[0]=vt[0],ft[1]=vt[1],ft[2]=vt[2],ft[3]=vt[3],ft[4]=vt[4],ft[5]=vt[5],ft[6]=vt[6],ft[7]=vt[7],ft[8]=vt[8],this}extractBasis(lt,ft,vt){return lt.setFromMatrix3Column(this,0),ft.setFromMatrix3Column(this,1),vt.setFromMatrix3Column(this,2),this}setFromMatrix4(lt){const ft=lt.elements;return this.set(ft[0],ft[4],ft[8],ft[1],ft[5],ft[9],ft[2],ft[6],ft[10]),this}multiply(lt){return this.multiplyMatrices(this,lt)}premultiply(lt){return this.multiplyMatrices(lt,this)}multiplyMatrices(lt,ft){const vt=lt.elements,St=ft.elements,Et=this.elements,At=vt[0],Ct=vt[3],Tt=vt[6],Rt=vt[1],Bt=vt[4],Ft=vt[7],Dt=vt[2],kt=vt[5],zt=vt[8],Ht=St[0],en=St[3],Kt=St[6],Zt=St[1],Wt=St[4],tn=St[7],an=St[2],ln=St[5],fn=St[8];return Et[0]=At*Ht+Ct*Zt+Tt*an,Et[3]=At*en+Ct*Wt+Tt*ln,Et[6]=At*Kt+Ct*tn+Tt*fn,Et[1]=Rt*Ht+Bt*Zt+Ft*an,Et[4]=Rt*en+Bt*Wt+Ft*ln,Et[7]=Rt*Kt+Bt*tn+Ft*fn,Et[2]=Dt*Ht+kt*Zt+zt*an,Et[5]=Dt*en+kt*Wt+zt*ln,Et[8]=Dt*Kt+kt*tn+zt*fn,this}multiplyScalar(lt){const ft=this.elements;return ft[0]*=lt,ft[3]*=lt,ft[6]*=lt,ft[1]*=lt,ft[4]*=lt,ft[7]*=lt,ft[2]*=lt,ft[5]*=lt,ft[8]*=lt,this}determinant(){const lt=this.elements,ft=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=lt[4],Ct=lt[5],Tt=lt[6],Rt=lt[7],Bt=lt[8];return ft*At*Bt-ft*Ct*Rt-vt*Et*Bt+vt*Ct*Tt+St*Et*Rt-St*At*Tt}invert(){const lt=this.elements,ft=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=lt[4],Ct=lt[5],Tt=lt[6],Rt=lt[7],Bt=lt[8],Ft=Bt*At-Ct*Rt,Dt=Ct*Tt-Bt*Et,kt=Rt*Et-At*Tt,zt=ft*Ft+vt*Dt+St*kt;if(zt===0)return this.set(0,0,0,0,0,0,0,0,0);const Ht=1/zt;return lt[0]=Ft*Ht,lt[1]=(St*Rt-Bt*vt)*Ht,lt[2]=(Ct*vt-St*At)*Ht,lt[3]=Dt*Ht,lt[4]=(Bt*ft-St*Tt)*Ht,lt[5]=(St*Et-Ct*ft)*Ht,lt[6]=kt*Ht,lt[7]=(vt*Tt-Rt*ft)*Ht,lt[8]=(At*ft-vt*Et)*Ht,this}transpose(){let lt;const ft=this.elements;return lt=ft[1],ft[1]=ft[3],ft[3]=lt,lt=ft[2],ft[2]=ft[6],ft[6]=lt,lt=ft[5],ft[5]=ft[7],ft[7]=lt,this}getNormalMatrix(lt){return this.setFromMatrix4(lt).invert().transpose()}transposeIntoArray(lt){const ft=this.elements;return lt[0]=ft[0],lt[1]=ft[3],lt[2]=ft[6],lt[3]=ft[1],lt[4]=ft[4],lt[5]=ft[7],lt[6]=ft[2],lt[7]=ft[5],lt[8]=ft[8],this}setUvTransform(lt,ft,vt,St,Et,At,Ct){const Tt=Math.cos(Et),Rt=Math.sin(Et);return this.set(vt*Tt,vt*Rt,-vt*(Tt*At+Rt*Ct)+At+lt,-St*Rt,St*Tt,-St*(-Rt*At+Tt*Ct)+Ct+ft,0,0,1),this}scale(lt,ft){return this.premultiply(_m3.makeScale(lt,ft)),this}rotate(lt){return this.premultiply(_m3.makeRotation(-lt)),this}translate(lt,ft){return this.premultiply(_m3.makeTranslation(lt,ft)),this}makeTranslation(lt,ft){return this.set(1,0,lt,0,1,ft,0,0,1),this}makeRotation(lt){const ft=Math.cos(lt),vt=Math.sin(lt);return this.set(ft,-vt,0,vt,ft,0,0,0,1),this}makeScale(lt,ft){return this.set(lt,0,0,0,ft,0,0,0,1),this}equals(lt){const ft=this.elements,vt=lt.elements;for(let St=0;St<9;St++)if(ft[St]!==vt[St])return!1;return!0}fromArray(lt,ft=0){for(let vt=0;vt<9;vt++)this.elements[vt]=lt[vt+ft];return this}toArray(lt=[],ft=0){const vt=this.elements;return lt[ft]=vt[0],lt[ft+1]=vt[1],lt[ft+2]=vt[2],lt[ft+3]=vt[3],lt[ft+4]=vt[4],lt[ft+5]=vt[5],lt[ft+6]=vt[6],lt[ft+7]=vt[7],lt[ft+8]=vt[8],lt}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(dt){for(let lt=dt.length-1;lt>=0;--lt)if(dt[lt]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(dt,lt){return new TYPED_ARRAYS[dt](lt)}function createElementNS(dt){return document.createElementNS("http://www.w3.org/1999/xhtml",dt)}function SRGBToLinear(dt){return dt<.04045?dt*.0773993808:Math.pow(dt*.9478672986+.0521327014,2.4)}function LinearToSRGB(dt){return dt<.0031308?dt*12.92:1.055*Math.pow(dt,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(dt){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(dt,lt,ft){if(this.legacyMode||lt===ft||!lt||!ft)return dt;if(FN[lt]&&FN[lt][ft]!==void 0){const vt=FN[lt][ft];return dt.r=vt(dt.r),dt.g=vt(dt.g),dt.b=vt(dt.b),dt}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(dt,lt){return this.convert(dt,this.workingColorSpace,lt)},toWorkingColorSpace:function(dt,lt){return this.convert(dt,lt,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb$1={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(dt,lt,ft){return ft<0&&(ft+=1),ft>1&&(ft-=1),ft<1/6?dt+(lt-dt)*6*ft:ft<1/2?lt:ft<2/3?dt+(lt-dt)*6*(2/3-ft):dt}function toComponents(dt,lt){return lt.r=dt.r,lt.g=dt.g,lt.b=dt.b,lt}class Color{constructor(lt,ft,vt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,ft===void 0&&vt===void 0?this.set(lt):this.setRGB(lt,ft,vt)}set(lt){return lt&&lt.isColor?this.copy(lt):typeof lt=="number"?this.setHex(lt):typeof lt=="string"&&this.setStyle(lt),this}setScalar(lt){return this.r=lt,this.g=lt,this.b=lt,this}setHex(lt,ft=SRGBColorSpace){return lt=Math.floor(lt),this.r=(lt>>16&255)/255,this.g=(lt>>8&255)/255,this.b=(lt&255)/255,ColorManagement.toWorkingColorSpace(this,ft),this}setRGB(lt,ft,vt,St=ColorManagement.workingColorSpace){return this.r=lt,this.g=ft,this.b=vt,ColorManagement.toWorkingColorSpace(this,St),this}setHSL(lt,ft,vt,St=ColorManagement.workingColorSpace){if(lt=euclideanModulo(lt,1),ft=clamp(ft,0,1),vt=clamp(vt,0,1),ft===0)this.r=this.g=this.b=vt;else{const Et=vt<=.5?vt*(1+ft):vt+ft-vt*ft,At=2*vt-Et;this.r=hue2rgb(At,Et,lt+1/3),this.g=hue2rgb(At,Et,lt),this.b=hue2rgb(At,Et,lt-1/3)}return ColorManagement.toWorkingColorSpace(this,St),this}setStyle(lt,ft=SRGBColorSpace){function vt(Et){Et!==void 0&&parseFloat(Et)<1&&console.warn("THREE.Color: Alpha component of "+lt+" will be ignored.")}let St;if(St=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(lt)){let Et;const At=St[1],Ct=St[2];switch(At){case"rgb":case"rgba":if(Et=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct))return this.r=Math.min(255,parseInt(Et[1],10))/255,this.g=Math.min(255,parseInt(Et[2],10))/255,this.b=Math.min(255,parseInt(Et[3],10))/255,ColorManagement.toWorkingColorSpace(this,ft),vt(Et[4]),this;if(Et=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct))return this.r=Math.min(100,parseInt(Et[1],10))/100,this.g=Math.min(100,parseInt(Et[2],10))/100,this.b=Math.min(100,parseInt(Et[3],10))/100,ColorManagement.toWorkingColorSpace(this,ft),vt(Et[4]),this;break;case"hsl":case"hsla":if(Et=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct)){const Tt=parseFloat(Et[1])/360,Rt=parseFloat(Et[2])/100,Bt=parseFloat(Et[3])/100;return vt(Et[4]),this.setHSL(Tt,Rt,Bt,ft)}break}}else if(St=/^\#([A-Fa-f\d]+)$/.exec(lt)){const Et=St[1],At=Et.length;if(At===3)return this.r=parseInt(Et.charAt(0)+Et.charAt(0),16)/255,this.g=parseInt(Et.charAt(1)+Et.charAt(1),16)/255,this.b=parseInt(Et.charAt(2)+Et.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,ft),this;if(At===6)return this.r=parseInt(Et.charAt(0)+Et.charAt(1),16)/255,this.g=parseInt(Et.charAt(2)+Et.charAt(3),16)/255,this.b=parseInt(Et.charAt(4)+Et.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,ft),this}return lt&&lt.length>0?this.setColorName(lt,ft):this}setColorName(lt,ft=SRGBColorSpace){const vt=_colorKeywords[lt.toLowerCase()];return vt!==void 0?this.setHex(vt,ft):console.warn("THREE.Color: Unknown color "+lt),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(lt){return this.r=lt.r,this.g=lt.g,this.b=lt.b,this}copySRGBToLinear(lt){return this.r=SRGBToLinear(lt.r),this.g=SRGBToLinear(lt.g),this.b=SRGBToLinear(lt.b),this}copyLinearToSRGB(lt){return this.r=LinearToSRGB(lt.r),this.g=LinearToSRGB(lt.g),this.b=LinearToSRGB(lt.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(lt=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),lt),clamp(_rgb$1.r*255,0,255)<<16^clamp(_rgb$1.g*255,0,255)<<8^clamp(_rgb$1.b*255,0,255)<<0}getHexString(lt=SRGBColorSpace){return("000000"+this.getHex(lt).toString(16)).slice(-6)}getHSL(lt,ft=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),ft);const vt=_rgb$1.r,St=_rgb$1.g,Et=_rgb$1.b,At=Math.max(vt,St,Et),Ct=Math.min(vt,St,Et);let Tt,Rt;const Bt=(Ct+At)/2;if(Ct===At)Tt=0,Rt=0;else{const Ft=At-Ct;switch(Rt=Bt<=.5?Ft/(At+Ct):Ft/(2-At-Ct),At){case vt:Tt=(St-Et)/Ft+(St<Et?6:0);break;case St:Tt=(Et-vt)/Ft+2;break;case Et:Tt=(vt-St)/Ft+4;break}Tt/=6}return lt.h=Tt,lt.s=Rt,lt.l=Bt,lt}getRGB(lt,ft=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),ft),lt.r=_rgb$1.r,lt.g=_rgb$1.g,lt.b=_rgb$1.b,lt}getStyle(lt=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),lt),lt!==SRGBColorSpace?`color(${lt} ${_rgb$1.r} ${_rgb$1.g} ${_rgb$1.b})`:`rgb(${_rgb$1.r*255|0},${_rgb$1.g*255|0},${_rgb$1.b*255|0})`}offsetHSL(lt,ft,vt){return this.getHSL(_hslA),_hslA.h+=lt,_hslA.s+=ft,_hslA.l+=vt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(lt){return this.r+=lt.r,this.g+=lt.g,this.b+=lt.b,this}addColors(lt,ft){return this.r=lt.r+ft.r,this.g=lt.g+ft.g,this.b=lt.b+ft.b,this}addScalar(lt){return this.r+=lt,this.g+=lt,this.b+=lt,this}sub(lt){return this.r=Math.max(0,this.r-lt.r),this.g=Math.max(0,this.g-lt.g),this.b=Math.max(0,this.b-lt.b),this}multiply(lt){return this.r*=lt.r,this.g*=lt.g,this.b*=lt.b,this}multiplyScalar(lt){return this.r*=lt,this.g*=lt,this.b*=lt,this}lerp(lt,ft){return this.r+=(lt.r-this.r)*ft,this.g+=(lt.g-this.g)*ft,this.b+=(lt.b-this.b)*ft,this}lerpColors(lt,ft,vt){return this.r=lt.r+(ft.r-lt.r)*vt,this.g=lt.g+(ft.g-lt.g)*vt,this.b=lt.b+(ft.b-lt.b)*vt,this}lerpHSL(lt,ft){this.getHSL(_hslA),lt.getHSL(_hslB);const vt=lerp(_hslA.h,_hslB.h,ft),St=lerp(_hslA.s,_hslB.s,ft),Et=lerp(_hslA.l,_hslB.l,ft);return this.setHSL(vt,St,Et),this}equals(lt){return lt.r===this.r&&lt.g===this.g&&lt.b===this.b}fromArray(lt,ft=0){return this.r=lt[ft],this.g=lt[ft+1],this.b=lt[ft+2],this}toArray(lt=[],ft=0){return lt[ft]=this.r,lt[ft+1]=this.g,lt[ft+2]=this.b,lt}fromBufferAttribute(lt,ft){return this.r=lt.getX(ft),this.g=lt.getY(ft),this.b=lt.getZ(ft),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color.NAMES=_colorKeywords;let _canvas;class ImageUtils{static getDataURL(lt){if(/^data:/i.test(lt.src)||typeof HTMLCanvasElement>"u")return lt.src;let ft;if(lt instanceof HTMLCanvasElement)ft=lt;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=lt.width,_canvas.height=lt.height;const vt=_canvas.getContext("2d");lt instanceof ImageData?vt.putImageData(lt,0,0):vt.drawImage(lt,0,0,lt.width,lt.height),ft=_canvas}return ft.width>2048||ft.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",lt),ft.toDataURL("image/jpeg",.6)):ft.toDataURL("image/png")}static sRGBToLinear(lt){if(typeof HTMLImageElement<"u"&&lt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&lt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&lt instanceof ImageBitmap){const ft=createElementNS("canvas");ft.width=lt.width,ft.height=lt.height;const vt=ft.getContext("2d");vt.drawImage(lt,0,0,lt.width,lt.height);const St=vt.getImageData(0,0,lt.width,lt.height),Et=St.data;for(let At=0;At<Et.length;At++)Et[At]=SRGBToLinear(Et[At]/255)*255;return vt.putImageData(St,0,0),ft}else if(lt.data){const ft=lt.data.slice(0);for(let vt=0;vt<ft.length;vt++)ft instanceof Uint8Array||ft instanceof Uint8ClampedArray?ft[vt]=Math.floor(SRGBToLinear(ft[vt]/255)*255):ft[vt]=SRGBToLinear(ft[vt]);return{data:ft,width:lt.width,height:lt.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),lt}}class Source{constructor(lt=null){this.isSource=!0,this.uuid=generateUUID$1(),this.data=lt,this.version=0}set needsUpdate(lt){lt===!0&&this.version++}toJSON(lt){const ft=lt===void 0||typeof lt=="string";if(!ft&&lt.images[this.uuid]!==void 0)return lt.images[this.uuid];const vt={uuid:this.uuid,url:""},St=this.data;if(St!==null){let Et;if(Array.isArray(St)){Et=[];for(let At=0,Ct=St.length;At<Ct;At++)St[At].isDataTexture?Et.push(serializeImage(St[At].image)):Et.push(serializeImage(St[At]))}else Et=serializeImage(St);vt.url=Et}return ft||(lt.images[this.uuid]=vt),vt}}function serializeImage(dt){return typeof HTMLImageElement<"u"&&dt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&dt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&dt instanceof ImageBitmap?ImageUtils.getDataURL(dt):dt.data?{data:Array.from(dt.data),width:dt.width,height:dt.height,type:dt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(lt=Texture.DEFAULT_IMAGE,ft=Texture.DEFAULT_MAPPING,vt=ClampToEdgeWrapping,St=ClampToEdgeWrapping,Et=LinearFilter,At=LinearMipmapLinearFilter,Ct=RGBAFormat,Tt=UnsignedByteType,Rt=Texture.DEFAULT_ANISOTROPY,Bt=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(lt),this.mipmaps=[],this.mapping=ft,this.wrapS=vt,this.wrapT=St,this.magFilter=Et,this.minFilter=At,this.anisotropy=Rt,this.format=Ct,this.internalFormat=null,this.type=Tt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=Bt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(lt){this.source.data=lt}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(lt){return this.name=lt.name,this.source=lt.source,this.mipmaps=lt.mipmaps.slice(0),this.mapping=lt.mapping,this.wrapS=lt.wrapS,this.wrapT=lt.wrapT,this.magFilter=lt.magFilter,this.minFilter=lt.minFilter,this.anisotropy=lt.anisotropy,this.format=lt.format,this.internalFormat=lt.internalFormat,this.type=lt.type,this.offset.copy(lt.offset),this.repeat.copy(lt.repeat),this.center.copy(lt.center),this.rotation=lt.rotation,this.matrixAutoUpdate=lt.matrixAutoUpdate,this.matrix.copy(lt.matrix),this.generateMipmaps=lt.generateMipmaps,this.premultiplyAlpha=lt.premultiplyAlpha,this.flipY=lt.flipY,this.unpackAlignment=lt.unpackAlignment,this.encoding=lt.encoding,this.userData=JSON.parse(JSON.stringify(lt.userData)),this.needsUpdate=!0,this}toJSON(lt){const ft=lt===void 0||typeof lt=="string";if(!ft&&lt.textures[this.uuid]!==void 0)return lt.textures[this.uuid];const vt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(lt).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(vt.userData=this.userData),ft||(lt.textures[this.uuid]=vt),vt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(lt){if(this.mapping!==UVMapping)return lt;if(lt.applyMatrix3(this.matrix),lt.x<0||lt.x>1)switch(this.wrapS){case RepeatWrapping:lt.x=lt.x-Math.floor(lt.x);break;case ClampToEdgeWrapping:lt.x=lt.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(lt.x)%2)===1?lt.x=Math.ceil(lt.x)-lt.x:lt.x=lt.x-Math.floor(lt.x);break}if(lt.y<0||lt.y>1)switch(this.wrapT){case RepeatWrapping:lt.y=lt.y-Math.floor(lt.y);break;case ClampToEdgeWrapping:lt.y=lt.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(lt.y)%2)===1?lt.y=Math.ceil(lt.y)-lt.y:lt.y=lt.y-Math.floor(lt.y);break}return this.flipY&&(lt.y=1-lt.y),lt}set needsUpdate(lt){lt===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(lt=0,ft=0,vt=0,St=1){Vector4.prototype.isVector4=!0,this.x=lt,this.y=ft,this.z=vt,this.w=St}get width(){return this.z}set width(lt){this.z=lt}get height(){return this.w}set height(lt){this.w=lt}set(lt,ft,vt,St){return this.x=lt,this.y=ft,this.z=vt,this.w=St,this}setScalar(lt){return this.x=lt,this.y=lt,this.z=lt,this.w=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setZ(lt){return this.z=lt,this}setW(lt){return this.w=lt,this}setComponent(lt,ft){switch(lt){case 0:this.x=ft;break;case 1:this.y=ft;break;case 2:this.z=ft;break;case 3:this.w=ft;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(lt){return this.x=lt.x,this.y=lt.y,this.z=lt.z,this.w=lt.w!==void 0?lt.w:1,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this.z+=lt.z,this.w+=lt.w,this}addScalar(lt){return this.x+=lt,this.y+=lt,this.z+=lt,this.w+=lt,this}addVectors(lt,ft){return this.x=lt.x+ft.x,this.y=lt.y+ft.y,this.z=lt.z+ft.z,this.w=lt.w+ft.w,this}addScaledVector(lt,ft){return this.x+=lt.x*ft,this.y+=lt.y*ft,this.z+=lt.z*ft,this.w+=lt.w*ft,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this.z-=lt.z,this.w-=lt.w,this}subScalar(lt){return this.x-=lt,this.y-=lt,this.z-=lt,this.w-=lt,this}subVectors(lt,ft){return this.x=lt.x-ft.x,this.y=lt.y-ft.y,this.z=lt.z-ft.z,this.w=lt.w-ft.w,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this.z*=lt.z,this.w*=lt.w,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this.z*=lt,this.w*=lt,this}applyMatrix4(lt){const ft=this.x,vt=this.y,St=this.z,Et=this.w,At=lt.elements;return this.x=At[0]*ft+At[4]*vt+At[8]*St+At[12]*Et,this.y=At[1]*ft+At[5]*vt+At[9]*St+At[13]*Et,this.z=At[2]*ft+At[6]*vt+At[10]*St+At[14]*Et,this.w=At[3]*ft+At[7]*vt+At[11]*St+At[15]*Et,this}divideScalar(lt){return this.multiplyScalar(1/lt)}setAxisAngleFromQuaternion(lt){this.w=2*Math.acos(lt.w);const ft=Math.sqrt(1-lt.w*lt.w);return ft<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=lt.x/ft,this.y=lt.y/ft,this.z=lt.z/ft),this}setAxisAngleFromRotationMatrix(lt){let ft,vt,St,Et;const Tt=lt.elements,Rt=Tt[0],Bt=Tt[4],Ft=Tt[8],Dt=Tt[1],kt=Tt[5],zt=Tt[9],Ht=Tt[2],en=Tt[6],Kt=Tt[10];if(Math.abs(Bt-Dt)<.01&&Math.abs(Ft-Ht)<.01&&Math.abs(zt-en)<.01){if(Math.abs(Bt+Dt)<.1&&Math.abs(Ft+Ht)<.1&&Math.abs(zt+en)<.1&&Math.abs(Rt+kt+Kt-3)<.1)return this.set(1,0,0,0),this;ft=Math.PI;const Wt=(Rt+1)/2,tn=(kt+1)/2,an=(Kt+1)/2,ln=(Bt+Dt)/4,fn=(Ft+Ht)/4,un=(zt+en)/4;return Wt>tn&&Wt>an?Wt<.01?(vt=0,St=.707106781,Et=.707106781):(vt=Math.sqrt(Wt),St=ln/vt,Et=fn/vt):tn>an?tn<.01?(vt=.707106781,St=0,Et=.707106781):(St=Math.sqrt(tn),vt=ln/St,Et=un/St):an<.01?(vt=.707106781,St=.707106781,Et=0):(Et=Math.sqrt(an),vt=fn/Et,St=un/Et),this.set(vt,St,Et,ft),this}let Zt=Math.sqrt((en-zt)*(en-zt)+(Ft-Ht)*(Ft-Ht)+(Dt-Bt)*(Dt-Bt));return Math.abs(Zt)<.001&&(Zt=1),this.x=(en-zt)/Zt,this.y=(Ft-Ht)/Zt,this.z=(Dt-Bt)/Zt,this.w=Math.acos((Rt+kt+Kt-1)/2),this}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this.z=Math.min(this.z,lt.z),this.w=Math.min(this.w,lt.w),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this.z=Math.max(this.z,lt.z),this.w=Math.max(this.w,lt.w),this}clamp(lt,ft){return this.x=Math.max(lt.x,Math.min(ft.x,this.x)),this.y=Math.max(lt.y,Math.min(ft.y,this.y)),this.z=Math.max(lt.z,Math.min(ft.z,this.z)),this.w=Math.max(lt.w,Math.min(ft.w,this.w)),this}clampScalar(lt,ft){return this.x=Math.max(lt,Math.min(ft,this.x)),this.y=Math.max(lt,Math.min(ft,this.y)),this.z=Math.max(lt,Math.min(ft,this.z)),this.w=Math.max(lt,Math.min(ft,this.w)),this}clampLength(lt,ft){const vt=this.length();return this.divideScalar(vt||1).multiplyScalar(Math.max(lt,Math.min(ft,vt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(lt){return this.x*lt.x+this.y*lt.y+this.z*lt.z+this.w*lt.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,ft){return this.x+=(lt.x-this.x)*ft,this.y+=(lt.y-this.y)*ft,this.z+=(lt.z-this.z)*ft,this.w+=(lt.w-this.w)*ft,this}lerpVectors(lt,ft,vt){return this.x=lt.x+(ft.x-lt.x)*vt,this.y=lt.y+(ft.y-lt.y)*vt,this.z=lt.z+(ft.z-lt.z)*vt,this.w=lt.w+(ft.w-lt.w)*vt,this}equals(lt){return lt.x===this.x&&lt.y===this.y&&lt.z===this.z&&lt.w===this.w}fromArray(lt,ft=0){return this.x=lt[ft],this.y=lt[ft+1],this.z=lt[ft+2],this.w=lt[ft+3],this}toArray(lt=[],ft=0){return lt[ft]=this.x,lt[ft+1]=this.y,lt[ft+2]=this.z,lt[ft+3]=this.w,lt}fromBufferAttribute(lt,ft){return this.x=lt.getX(ft),this.y=lt.getY(ft),this.z=lt.getZ(ft),this.w=lt.getW(ft),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(lt=1,ft=1,vt={}){super(),this.isWebGLRenderTarget=!0,this.width=lt,this.height=ft,this.depth=1,this.scissor=new Vector4(0,0,lt,ft),this.scissorTest=!1,this.viewport=new Vector4(0,0,lt,ft);const St={width:lt,height:ft,depth:1};this.texture=new Texture(St,vt.mapping,vt.wrapS,vt.wrapT,vt.magFilter,vt.minFilter,vt.format,vt.type,vt.anisotropy,vt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=vt.generateMipmaps!==void 0?vt.generateMipmaps:!1,this.texture.internalFormat=vt.internalFormat!==void 0?vt.internalFormat:null,this.texture.minFilter=vt.minFilter!==void 0?vt.minFilter:LinearFilter,this.depthBuffer=vt.depthBuffer!==void 0?vt.depthBuffer:!0,this.stencilBuffer=vt.stencilBuffer!==void 0?vt.stencilBuffer:!1,this.depthTexture=vt.depthTexture!==void 0?vt.depthTexture:null,this.samples=vt.samples!==void 0?vt.samples:0}setSize(lt,ft,vt=1){(this.width!==lt||this.height!==ft||this.depth!==vt)&&(this.width=lt,this.height=ft,this.depth=vt,this.texture.image.width=lt,this.texture.image.height=ft,this.texture.image.depth=vt,this.dispose()),this.viewport.set(0,0,lt,ft),this.scissor.set(0,0,lt,ft)}clone(){return new this.constructor().copy(this)}copy(lt){this.width=lt.width,this.height=lt.height,this.depth=lt.depth,this.viewport.copy(lt.viewport),this.texture=lt.texture.clone(),this.texture.isRenderTargetTexture=!0;const ft=Object.assign({},lt.texture.image);return this.texture.source=new Source(ft),this.depthBuffer=lt.depthBuffer,this.stencilBuffer=lt.stencilBuffer,lt.depthTexture!==null&&(this.depthTexture=lt.depthTexture.clone()),this.samples=lt.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(lt=null,ft=1,vt=1,St=1){super(null),this.isDataArrayTexture=!0,this.image={data:lt,width:ft,height:vt,depth:St},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(lt=1,ft=1,vt=1){super(lt,ft),this.isWebGLArrayRenderTarget=!0,this.depth=vt,this.texture=new DataArrayTexture(null,lt,ft,vt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(lt=null,ft=1,vt=1,St=1){super(null),this.isData3DTexture=!0,this.image={data:lt,width:ft,height:vt,depth:St},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(lt=1,ft=1,vt=1){super(lt,ft),this.isWebGL3DRenderTarget=!0,this.depth=vt,this.texture=new Data3DTexture(null,lt,ft,vt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(lt=1,ft=1,vt=1,St={}){super(lt,ft,St),this.isWebGLMultipleRenderTargets=!0;const Et=this.texture;this.texture=[];for(let At=0;At<vt;At++)this.texture[At]=Et.clone(),this.texture[At].isRenderTargetTexture=!0}setSize(lt,ft,vt=1){if(this.width!==lt||this.height!==ft||this.depth!==vt){this.width=lt,this.height=ft,this.depth=vt;for(let St=0,Et=this.texture.length;St<Et;St++)this.texture[St].image.width=lt,this.texture[St].image.height=ft,this.texture[St].image.depth=vt;this.dispose()}return this.viewport.set(0,0,lt,ft),this.scissor.set(0,0,lt,ft),this}copy(lt){this.dispose(),this.width=lt.width,this.height=lt.height,this.depth=lt.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=lt.depthBuffer,this.stencilBuffer=lt.stencilBuffer,lt.depthTexture!==null&&(this.depthTexture=lt.depthTexture.clone()),this.texture.length=0;for(let ft=0,vt=lt.texture.length;ft<vt;ft++)this.texture[ft]=lt.texture[ft].clone(),this.texture[ft].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(lt=0,ft=0,vt=0,St=1){this.isQuaternion=!0,this._x=lt,this._y=ft,this._z=vt,this._w=St}static slerpFlat(lt,ft,vt,St,Et,At,Ct){let Tt=vt[St+0],Rt=vt[St+1],Bt=vt[St+2],Ft=vt[St+3];const Dt=Et[At+0],kt=Et[At+1],zt=Et[At+2],Ht=Et[At+3];if(Ct===0){lt[ft+0]=Tt,lt[ft+1]=Rt,lt[ft+2]=Bt,lt[ft+3]=Ft;return}if(Ct===1){lt[ft+0]=Dt,lt[ft+1]=kt,lt[ft+2]=zt,lt[ft+3]=Ht;return}if(Ft!==Ht||Tt!==Dt||Rt!==kt||Bt!==zt){let en=1-Ct;const Kt=Tt*Dt+Rt*kt+Bt*zt+Ft*Ht,Zt=Kt>=0?1:-1,Wt=1-Kt*Kt;if(Wt>Number.EPSILON){const an=Math.sqrt(Wt),ln=Math.atan2(an,Kt*Zt);en=Math.sin(en*ln)/an,Ct=Math.sin(Ct*ln)/an}const tn=Ct*Zt;if(Tt=Tt*en+Dt*tn,Rt=Rt*en+kt*tn,Bt=Bt*en+zt*tn,Ft=Ft*en+Ht*tn,en===1-Ct){const an=1/Math.sqrt(Tt*Tt+Rt*Rt+Bt*Bt+Ft*Ft);Tt*=an,Rt*=an,Bt*=an,Ft*=an}}lt[ft]=Tt,lt[ft+1]=Rt,lt[ft+2]=Bt,lt[ft+3]=Ft}static multiplyQuaternionsFlat(lt,ft,vt,St,Et,At){const Ct=vt[St],Tt=vt[St+1],Rt=vt[St+2],Bt=vt[St+3],Ft=Et[At],Dt=Et[At+1],kt=Et[At+2],zt=Et[At+3];return lt[ft]=Ct*zt+Bt*Ft+Tt*kt-Rt*Dt,lt[ft+1]=Tt*zt+Bt*Dt+Rt*Ft-Ct*kt,lt[ft+2]=Rt*zt+Bt*kt+Ct*Dt-Tt*Ft,lt[ft+3]=Bt*zt-Ct*Ft-Tt*Dt-Rt*kt,lt}get x(){return this._x}set x(lt){this._x=lt,this._onChangeCallback()}get y(){return this._y}set y(lt){this._y=lt,this._onChangeCallback()}get z(){return this._z}set z(lt){this._z=lt,this._onChangeCallback()}get w(){return this._w}set w(lt){this._w=lt,this._onChangeCallback()}set(lt,ft,vt,St){return this._x=lt,this._y=ft,this._z=vt,this._w=St,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(lt){return this._x=lt.x,this._y=lt.y,this._z=lt.z,this._w=lt.w,this._onChangeCallback(),this}setFromEuler(lt,ft){const vt=lt._x,St=lt._y,Et=lt._z,At=lt._order,Ct=Math.cos,Tt=Math.sin,Rt=Ct(vt/2),Bt=Ct(St/2),Ft=Ct(Et/2),Dt=Tt(vt/2),kt=Tt(St/2),zt=Tt(Et/2);switch(At){case"XYZ":this._x=Dt*Bt*Ft+Rt*kt*zt,this._y=Rt*kt*Ft-Dt*Bt*zt,this._z=Rt*Bt*zt+Dt*kt*Ft,this._w=Rt*Bt*Ft-Dt*kt*zt;break;case"YXZ":this._x=Dt*Bt*Ft+Rt*kt*zt,this._y=Rt*kt*Ft-Dt*Bt*zt,this._z=Rt*Bt*zt-Dt*kt*Ft,this._w=Rt*Bt*Ft+Dt*kt*zt;break;case"ZXY":this._x=Dt*Bt*Ft-Rt*kt*zt,this._y=Rt*kt*Ft+Dt*Bt*zt,this._z=Rt*Bt*zt+Dt*kt*Ft,this._w=Rt*Bt*Ft-Dt*kt*zt;break;case"ZYX":this._x=Dt*Bt*Ft-Rt*kt*zt,this._y=Rt*kt*Ft+Dt*Bt*zt,this._z=Rt*Bt*zt-Dt*kt*Ft,this._w=Rt*Bt*Ft+Dt*kt*zt;break;case"YZX":this._x=Dt*Bt*Ft+Rt*kt*zt,this._y=Rt*kt*Ft+Dt*Bt*zt,this._z=Rt*Bt*zt-Dt*kt*Ft,this._w=Rt*Bt*Ft-Dt*kt*zt;break;case"XZY":this._x=Dt*Bt*Ft-Rt*kt*zt,this._y=Rt*kt*Ft-Dt*Bt*zt,this._z=Rt*Bt*zt+Dt*kt*Ft,this._w=Rt*Bt*Ft+Dt*kt*zt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+At)}return ft!==!1&&this._onChangeCallback(),this}setFromAxisAngle(lt,ft){const vt=ft/2,St=Math.sin(vt);return this._x=lt.x*St,this._y=lt.y*St,this._z=lt.z*St,this._w=Math.cos(vt),this._onChangeCallback(),this}setFromRotationMatrix(lt){const ft=lt.elements,vt=ft[0],St=ft[4],Et=ft[8],At=ft[1],Ct=ft[5],Tt=ft[9],Rt=ft[2],Bt=ft[6],Ft=ft[10],Dt=vt+Ct+Ft;if(Dt>0){const kt=.5/Math.sqrt(Dt+1);this._w=.25/kt,this._x=(Bt-Tt)*kt,this._y=(Et-Rt)*kt,this._z=(At-St)*kt}else if(vt>Ct&&vt>Ft){const kt=2*Math.sqrt(1+vt-Ct-Ft);this._w=(Bt-Tt)/kt,this._x=.25*kt,this._y=(St+At)/kt,this._z=(Et+Rt)/kt}else if(Ct>Ft){const kt=2*Math.sqrt(1+Ct-vt-Ft);this._w=(Et-Rt)/kt,this._x=(St+At)/kt,this._y=.25*kt,this._z=(Tt+Bt)/kt}else{const kt=2*Math.sqrt(1+Ft-vt-Ct);this._w=(At-St)/kt,this._x=(Et+Rt)/kt,this._y=(Tt+Bt)/kt,this._z=.25*kt}return this._onChangeCallback(),this}setFromUnitVectors(lt,ft){let vt=lt.dot(ft)+1;return vt<Number.EPSILON?(vt=0,Math.abs(lt.x)>Math.abs(lt.z)?(this._x=-lt.y,this._y=lt.x,this._z=0,this._w=vt):(this._x=0,this._y=-lt.z,this._z=lt.y,this._w=vt)):(this._x=lt.y*ft.z-lt.z*ft.y,this._y=lt.z*ft.x-lt.x*ft.z,this._z=lt.x*ft.y-lt.y*ft.x,this._w=vt),this.normalize()}angleTo(lt){return 2*Math.acos(Math.abs(clamp(this.dot(lt),-1,1)))}rotateTowards(lt,ft){const vt=this.angleTo(lt);if(vt===0)return this;const St=Math.min(1,ft/vt);return this.slerp(lt,St),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(lt){return this._x*lt._x+this._y*lt._y+this._z*lt._z+this._w*lt._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let lt=this.length();return lt===0?(this._x=0,this._y=0,this._z=0,this._w=1):(lt=1/lt,this._x=this._x*lt,this._y=this._y*lt,this._z=this._z*lt,this._w=this._w*lt),this._onChangeCallback(),this}multiply(lt){return this.multiplyQuaternions(this,lt)}premultiply(lt){return this.multiplyQuaternions(lt,this)}multiplyQuaternions(lt,ft){const vt=lt._x,St=lt._y,Et=lt._z,At=lt._w,Ct=ft._x,Tt=ft._y,Rt=ft._z,Bt=ft._w;return this._x=vt*Bt+At*Ct+St*Rt-Et*Tt,this._y=St*Bt+At*Tt+Et*Ct-vt*Rt,this._z=Et*Bt+At*Rt+vt*Tt-St*Ct,this._w=At*Bt-vt*Ct-St*Tt-Et*Rt,this._onChangeCallback(),this}slerp(lt,ft){if(ft===0)return this;if(ft===1)return this.copy(lt);const vt=this._x,St=this._y,Et=this._z,At=this._w;let Ct=At*lt._w+vt*lt._x+St*lt._y+Et*lt._z;if(Ct<0?(this._w=-lt._w,this._x=-lt._x,this._y=-lt._y,this._z=-lt._z,Ct=-Ct):this.copy(lt),Ct>=1)return this._w=At,this._x=vt,this._y=St,this._z=Et,this;const Tt=1-Ct*Ct;if(Tt<=Number.EPSILON){const kt=1-ft;return this._w=kt*At+ft*this._w,this._x=kt*vt+ft*this._x,this._y=kt*St+ft*this._y,this._z=kt*Et+ft*this._z,this.normalize(),this._onChangeCallback(),this}const Rt=Math.sqrt(Tt),Bt=Math.atan2(Rt,Ct),Ft=Math.sin((1-ft)*Bt)/Rt,Dt=Math.sin(ft*Bt)/Rt;return this._w=At*Ft+this._w*Dt,this._x=vt*Ft+this._x*Dt,this._y=St*Ft+this._y*Dt,this._z=Et*Ft+this._z*Dt,this._onChangeCallback(),this}slerpQuaternions(lt,ft,vt){return this.copy(lt).slerp(ft,vt)}random(){const lt=Math.random(),ft=Math.sqrt(1-lt),vt=Math.sqrt(lt),St=2*Math.PI*Math.random(),Et=2*Math.PI*Math.random();return this.set(ft*Math.cos(St),vt*Math.sin(Et),vt*Math.cos(Et),ft*Math.sin(St))}equals(lt){return lt._x===this._x&&lt._y===this._y&&lt._z===this._z&&lt._w===this._w}fromArray(lt,ft=0){return this._x=lt[ft],this._y=lt[ft+1],this._z=lt[ft+2],this._w=lt[ft+3],this._onChangeCallback(),this}toArray(lt=[],ft=0){return lt[ft]=this._x,lt[ft+1]=this._y,lt[ft+2]=this._z,lt[ft+3]=this._w,lt}fromBufferAttribute(lt,ft){return this._x=lt.getX(ft),this._y=lt.getY(ft),this._z=lt.getZ(ft),this._w=lt.getW(ft),this}_onChange(lt){return this._onChangeCallback=lt,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(lt=0,ft=0,vt=0){Vector3.prototype.isVector3=!0,this.x=lt,this.y=ft,this.z=vt}set(lt,ft,vt){return vt===void 0&&(vt=this.z),this.x=lt,this.y=ft,this.z=vt,this}setScalar(lt){return this.x=lt,this.y=lt,this.z=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setZ(lt){return this.z=lt,this}setComponent(lt,ft){switch(lt){case 0:this.x=ft;break;case 1:this.y=ft;break;case 2:this.z=ft;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(lt){return this.x=lt.x,this.y=lt.y,this.z=lt.z,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this.z+=lt.z,this}addScalar(lt){return this.x+=lt,this.y+=lt,this.z+=lt,this}addVectors(lt,ft){return this.x=lt.x+ft.x,this.y=lt.y+ft.y,this.z=lt.z+ft.z,this}addScaledVector(lt,ft){return this.x+=lt.x*ft,this.y+=lt.y*ft,this.z+=lt.z*ft,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this.z-=lt.z,this}subScalar(lt){return this.x-=lt,this.y-=lt,this.z-=lt,this}subVectors(lt,ft){return this.x=lt.x-ft.x,this.y=lt.y-ft.y,this.z=lt.z-ft.z,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this.z*=lt.z,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this.z*=lt,this}multiplyVectors(lt,ft){return this.x=lt.x*ft.x,this.y=lt.y*ft.y,this.z=lt.z*ft.z,this}applyEuler(lt){return this.applyQuaternion(_quaternion$4.setFromEuler(lt))}applyAxisAngle(lt,ft){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(lt,ft))}applyMatrix3(lt){const ft=this.x,vt=this.y,St=this.z,Et=lt.elements;return this.x=Et[0]*ft+Et[3]*vt+Et[6]*St,this.y=Et[1]*ft+Et[4]*vt+Et[7]*St,this.z=Et[2]*ft+Et[5]*vt+Et[8]*St,this}applyNormalMatrix(lt){return this.applyMatrix3(lt).normalize()}applyMatrix4(lt){const ft=this.x,vt=this.y,St=this.z,Et=lt.elements,At=1/(Et[3]*ft+Et[7]*vt+Et[11]*St+Et[15]);return this.x=(Et[0]*ft+Et[4]*vt+Et[8]*St+Et[12])*At,this.y=(Et[1]*ft+Et[5]*vt+Et[9]*St+Et[13])*At,this.z=(Et[2]*ft+Et[6]*vt+Et[10]*St+Et[14])*At,this}applyQuaternion(lt){const ft=this.x,vt=this.y,St=this.z,Et=lt.x,At=lt.y,Ct=lt.z,Tt=lt.w,Rt=Tt*ft+At*St-Ct*vt,Bt=Tt*vt+Ct*ft-Et*St,Ft=Tt*St+Et*vt-At*ft,Dt=-Et*ft-At*vt-Ct*St;return this.x=Rt*Tt+Dt*-Et+Bt*-Ct-Ft*-At,this.y=Bt*Tt+Dt*-At+Ft*-Et-Rt*-Ct,this.z=Ft*Tt+Dt*-Ct+Rt*-At-Bt*-Et,this}project(lt){return this.applyMatrix4(lt.matrixWorldInverse).applyMatrix4(lt.projectionMatrix)}unproject(lt){return this.applyMatrix4(lt.projectionMatrixInverse).applyMatrix4(lt.matrixWorld)}transformDirection(lt){const ft=this.x,vt=this.y,St=this.z,Et=lt.elements;return this.x=Et[0]*ft+Et[4]*vt+Et[8]*St,this.y=Et[1]*ft+Et[5]*vt+Et[9]*St,this.z=Et[2]*ft+Et[6]*vt+Et[10]*St,this.normalize()}divide(lt){return this.x/=lt.x,this.y/=lt.y,this.z/=lt.z,this}divideScalar(lt){return this.multiplyScalar(1/lt)}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this.z=Math.min(this.z,lt.z),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this.z=Math.max(this.z,lt.z),this}clamp(lt,ft){return this.x=Math.max(lt.x,Math.min(ft.x,this.x)),this.y=Math.max(lt.y,Math.min(ft.y,this.y)),this.z=Math.max(lt.z,Math.min(ft.z,this.z)),this}clampScalar(lt,ft){return this.x=Math.max(lt,Math.min(ft,this.x)),this.y=Math.max(lt,Math.min(ft,this.y)),this.z=Math.max(lt,Math.min(ft,this.z)),this}clampLength(lt,ft){const vt=this.length();return this.divideScalar(vt||1).multiplyScalar(Math.max(lt,Math.min(ft,vt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(lt){return this.x*lt.x+this.y*lt.y+this.z*lt.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,ft){return this.x+=(lt.x-this.x)*ft,this.y+=(lt.y-this.y)*ft,this.z+=(lt.z-this.z)*ft,this}lerpVectors(lt,ft,vt){return this.x=lt.x+(ft.x-lt.x)*vt,this.y=lt.y+(ft.y-lt.y)*vt,this.z=lt.z+(ft.z-lt.z)*vt,this}cross(lt){return this.crossVectors(this,lt)}crossVectors(lt,ft){const vt=lt.x,St=lt.y,Et=lt.z,At=ft.x,Ct=ft.y,Tt=ft.z;return this.x=St*Tt-Et*Ct,this.y=Et*At-vt*Tt,this.z=vt*Ct-St*At,this}projectOnVector(lt){const ft=lt.lengthSq();if(ft===0)return this.set(0,0,0);const vt=lt.dot(this)/ft;return this.copy(lt).multiplyScalar(vt)}projectOnPlane(lt){return _vector$c.copy(this).projectOnVector(lt),this.sub(_vector$c)}reflect(lt){return this.sub(_vector$c.copy(lt).multiplyScalar(2*this.dot(lt)))}angleTo(lt){const ft=Math.sqrt(this.lengthSq()*lt.lengthSq());if(ft===0)return Math.PI/2;const vt=this.dot(lt)/ft;return Math.acos(clamp(vt,-1,1))}distanceTo(lt){return Math.sqrt(this.distanceToSquared(lt))}distanceToSquared(lt){const ft=this.x-lt.x,vt=this.y-lt.y,St=this.z-lt.z;return ft*ft+vt*vt+St*St}manhattanDistanceTo(lt){return Math.abs(this.x-lt.x)+Math.abs(this.y-lt.y)+Math.abs(this.z-lt.z)}setFromSpherical(lt){return this.setFromSphericalCoords(lt.radius,lt.phi,lt.theta)}setFromSphericalCoords(lt,ft,vt){const St=Math.sin(ft)*lt;return this.x=St*Math.sin(vt),this.y=Math.cos(ft)*lt,this.z=St*Math.cos(vt),this}setFromCylindrical(lt){return this.setFromCylindricalCoords(lt.radius,lt.theta,lt.y)}setFromCylindricalCoords(lt,ft,vt){return this.x=lt*Math.sin(ft),this.y=vt,this.z=lt*Math.cos(ft),this}setFromMatrixPosition(lt){const ft=lt.elements;return this.x=ft[12],this.y=ft[13],this.z=ft[14],this}setFromMatrixScale(lt){const ft=this.setFromMatrixColumn(lt,0).length(),vt=this.setFromMatrixColumn(lt,1).length(),St=this.setFromMatrixColumn(lt,2).length();return this.x=ft,this.y=vt,this.z=St,this}setFromMatrixColumn(lt,ft){return this.fromArray(lt.elements,ft*4)}setFromMatrix3Column(lt,ft){return this.fromArray(lt.elements,ft*3)}setFromEuler(lt){return this.x=lt._x,this.y=lt._y,this.z=lt._z,this}equals(lt){return lt.x===this.x&&lt.y===this.y&&lt.z===this.z}fromArray(lt,ft=0){return this.x=lt[ft],this.y=lt[ft+1],this.z=lt[ft+2],this}toArray(lt=[],ft=0){return lt[ft]=this.x,lt[ft+1]=this.y,lt[ft+2]=this.z,lt}fromBufferAttribute(lt,ft){return this.x=lt.getX(ft),this.y=lt.getY(ft),this.z=lt.getZ(ft),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const lt=(Math.random()-.5)*2,ft=Math.random()*Math.PI*2,vt=Math.sqrt(1-lt**2);return this.x=vt*Math.cos(ft),this.y=vt*Math.sin(ft),this.z=lt,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(lt=new Vector3(1/0,1/0,1/0),ft=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=lt,this.max=ft}set(lt,ft){return this.min.copy(lt),this.max.copy(ft),this}setFromArray(lt){let ft=1/0,vt=1/0,St=1/0,Et=-1/0,At=-1/0,Ct=-1/0;for(let Tt=0,Rt=lt.length;Tt<Rt;Tt+=3){const Bt=lt[Tt],Ft=lt[Tt+1],Dt=lt[Tt+2];Bt<ft&&(ft=Bt),Ft<vt&&(vt=Ft),Dt<St&&(St=Dt),Bt>Et&&(Et=Bt),Ft>At&&(At=Ft),Dt>Ct&&(Ct=Dt)}return this.min.set(ft,vt,St),this.max.set(Et,At,Ct),this}setFromBufferAttribute(lt){let ft=1/0,vt=1/0,St=1/0,Et=-1/0,At=-1/0,Ct=-1/0;for(let Tt=0,Rt=lt.count;Tt<Rt;Tt++){const Bt=lt.getX(Tt),Ft=lt.getY(Tt),Dt=lt.getZ(Tt);Bt<ft&&(ft=Bt),Ft<vt&&(vt=Ft),Dt<St&&(St=Dt),Bt>Et&&(Et=Bt),Ft>At&&(At=Ft),Dt>Ct&&(Ct=Dt)}return this.min.set(ft,vt,St),this.max.set(Et,At,Ct),this}setFromPoints(lt){this.makeEmpty();for(let ft=0,vt=lt.length;ft<vt;ft++)this.expandByPoint(lt[ft]);return this}setFromCenterAndSize(lt,ft){const vt=_vector$b.copy(ft).multiplyScalar(.5);return this.min.copy(lt).sub(vt),this.max.copy(lt).add(vt),this}setFromObject(lt,ft=!1){return this.makeEmpty(),this.expandByObject(lt,ft)}clone(){return new this.constructor().copy(this)}copy(lt){return this.min.copy(lt.min),this.max.copy(lt.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(lt){return this.isEmpty()?lt.set(0,0,0):lt.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(lt){return this.isEmpty()?lt.set(0,0,0):lt.subVectors(this.max,this.min)}expandByPoint(lt){return this.min.min(lt),this.max.max(lt),this}expandByVector(lt){return this.min.sub(lt),this.max.add(lt),this}expandByScalar(lt){return this.min.addScalar(-lt),this.max.addScalar(lt),this}expandByObject(lt,ft=!1){lt.updateWorldMatrix(!1,!1);const vt=lt.geometry;if(vt!==void 0)if(ft&&vt.attributes!=null&&vt.attributes.position!==void 0){const Et=vt.attributes.position;for(let At=0,Ct=Et.count;At<Ct;At++)_vector$b.fromBufferAttribute(Et,At).applyMatrix4(lt.matrixWorld),this.expandByPoint(_vector$b)}else vt.boundingBox===null&&vt.computeBoundingBox(),_box$3.copy(vt.boundingBox),_box$3.applyMatrix4(lt.matrixWorld),this.union(_box$3);const St=lt.children;for(let Et=0,At=St.length;Et<At;Et++)this.expandByObject(St[Et],ft);return this}containsPoint(lt){return!(lt.x<this.min.x||lt.x>this.max.x||lt.y<this.min.y||lt.y>this.max.y||lt.z<this.min.z||lt.z>this.max.z)}containsBox(lt){return this.min.x<=lt.min.x&&lt.max.x<=this.max.x&&this.min.y<=lt.min.y&&lt.max.y<=this.max.y&&this.min.z<=lt.min.z&&lt.max.z<=this.max.z}getParameter(lt,ft){return ft.set((lt.x-this.min.x)/(this.max.x-this.min.x),(lt.y-this.min.y)/(this.max.y-this.min.y),(lt.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(lt){return!(lt.max.x<this.min.x||lt.min.x>this.max.x||lt.max.y<this.min.y||lt.min.y>this.max.y||lt.max.z<this.min.z||lt.min.z>this.max.z)}intersectsSphere(lt){return this.clampPoint(lt.center,_vector$b),_vector$b.distanceToSquared(lt.center)<=lt.radius*lt.radius}intersectsPlane(lt){let ft,vt;return lt.normal.x>0?(ft=lt.normal.x*this.min.x,vt=lt.normal.x*this.max.x):(ft=lt.normal.x*this.max.x,vt=lt.normal.x*this.min.x),lt.normal.y>0?(ft+=lt.normal.y*this.min.y,vt+=lt.normal.y*this.max.y):(ft+=lt.normal.y*this.max.y,vt+=lt.normal.y*this.min.y),lt.normal.z>0?(ft+=lt.normal.z*this.min.z,vt+=lt.normal.z*this.max.z):(ft+=lt.normal.z*this.max.z,vt+=lt.normal.z*this.min.z),ft<=-lt.constant&&vt>=-lt.constant}intersectsTriangle(lt){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(lt.a,_center),_v1$7.subVectors(lt.b,_center),_v2$4.subVectors(lt.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let ft=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(ft,_v0$2,_v1$7,_v2$4,_extents)||(ft=[1,0,0,0,1,0,0,0,1],!satForAxes(ft,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),ft=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(ft,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(lt,ft){return ft.copy(lt).clamp(this.min,this.max)}distanceToPoint(lt){return _vector$b.copy(lt).clamp(this.min,this.max).sub(lt).length()}getBoundingSphere(lt){return this.getCenter(lt.center),lt.radius=this.getSize(_vector$b).length()*.5,lt}intersect(lt){return this.min.max(lt.min),this.max.min(lt.max),this.isEmpty()&&this.makeEmpty(),this}union(lt){return this.min.min(lt.min),this.max.max(lt.max),this}applyMatrix4(lt){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(lt),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(lt),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(lt),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(lt),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(lt),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(lt),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(lt),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(lt),this.setFromPoints(_points),this)}translate(lt){return this.min.add(lt),this.max.add(lt),this}equals(lt){return lt.min.equals(this.min)&&lt.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(dt,lt,ft,vt,St){for(let Et=0,At=dt.length-3;Et<=At;Et+=3){_testAxis.fromArray(dt,Et);const Ct=St.x*Math.abs(_testAxis.x)+St.y*Math.abs(_testAxis.y)+St.z*Math.abs(_testAxis.z),Tt=lt.dot(_testAxis),Rt=ft.dot(_testAxis),Bt=vt.dot(_testAxis);if(Math.max(-Math.max(Tt,Rt,Bt),Math.min(Tt,Rt,Bt))>Ct)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;let Sphere$1=class{constructor(lt=new Vector3,ft=-1){this.center=lt,this.radius=ft}set(lt,ft){return this.center.copy(lt),this.radius=ft,this}setFromPoints(lt,ft){const vt=this.center;ft!==void 0?vt.copy(ft):_box$2.setFromPoints(lt).getCenter(vt);let St=0;for(let Et=0,At=lt.length;Et<At;Et++)St=Math.max(St,vt.distanceToSquared(lt[Et]));return this.radius=Math.sqrt(St),this}copy(lt){return this.center.copy(lt.center),this.radius=lt.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(lt){return lt.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(lt){return lt.distanceTo(this.center)-this.radius}intersectsSphere(lt){const ft=this.radius+lt.radius;return lt.center.distanceToSquared(this.center)<=ft*ft}intersectsBox(lt){return lt.intersectsSphere(this)}intersectsPlane(lt){return Math.abs(lt.distanceToPoint(this.center))<=this.radius}clampPoint(lt,ft){const vt=this.center.distanceToSquared(lt);return ft.copy(lt),vt>this.radius*this.radius&&(ft.sub(this.center).normalize(),ft.multiplyScalar(this.radius).add(this.center)),ft}getBoundingBox(lt){return this.isEmpty()?(lt.makeEmpty(),lt):(lt.set(this.center,this.center),lt.expandByScalar(this.radius),lt)}applyMatrix4(lt){return this.center.applyMatrix4(lt),this.radius=this.radius*lt.getMaxScaleOnAxis(),this}translate(lt){return this.center.add(lt),this}expandByPoint(lt){if(this.isEmpty())return this.center.copy(lt),this.radius=0,this;_v1$6.subVectors(lt,this.center);const ft=_v1$6.lengthSq();if(ft>this.radius*this.radius){const vt=Math.sqrt(ft),St=(vt-this.radius)*.5;this.center.addScaledVector(_v1$6,St/vt),this.radius+=St}return this}union(lt){return lt.isEmpty()?this:this.isEmpty()?(this.copy(lt),this):(this.center.equals(lt.center)===!0?this.radius=Math.max(this.radius,lt.radius):(_v2$3.subVectors(lt.center,this.center).setLength(lt.radius),this.expandByPoint(_v1$6.copy(lt.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(lt.center).sub(_v2$3))),this)}equals(lt){return lt.center.equals(this.center)&&lt.radius===this.radius}clone(){return new this.constructor().copy(this)}};const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(lt=new Vector3,ft=new Vector3(0,0,-1)){this.origin=lt,this.direction=ft}set(lt,ft){return this.origin.copy(lt),this.direction.copy(ft),this}copy(lt){return this.origin.copy(lt.origin),this.direction.copy(lt.direction),this}at(lt,ft){return ft.copy(this.direction).multiplyScalar(lt).add(this.origin)}lookAt(lt){return this.direction.copy(lt).sub(this.origin).normalize(),this}recast(lt){return this.origin.copy(this.at(lt,_vector$a)),this}closestPointToPoint(lt,ft){ft.subVectors(lt,this.origin);const vt=ft.dot(this.direction);return vt<0?ft.copy(this.origin):ft.copy(this.direction).multiplyScalar(vt).add(this.origin)}distanceToPoint(lt){return Math.sqrt(this.distanceSqToPoint(lt))}distanceSqToPoint(lt){const ft=_vector$a.subVectors(lt,this.origin).dot(this.direction);return ft<0?this.origin.distanceToSquared(lt):(_vector$a.copy(this.direction).multiplyScalar(ft).add(this.origin),_vector$a.distanceToSquared(lt))}distanceSqToSegment(lt,ft,vt,St){_segCenter.copy(lt).add(ft).multiplyScalar(.5),_segDir.copy(ft).sub(lt).normalize(),_diff.copy(this.origin).sub(_segCenter);const Et=lt.distanceTo(ft)*.5,At=-this.direction.dot(_segDir),Ct=_diff.dot(this.direction),Tt=-_diff.dot(_segDir),Rt=_diff.lengthSq(),Bt=Math.abs(1-At*At);let Ft,Dt,kt,zt;if(Bt>0)if(Ft=At*Tt-Ct,Dt=At*Ct-Tt,zt=Et*Bt,Ft>=0)if(Dt>=-zt)if(Dt<=zt){const Ht=1/Bt;Ft*=Ht,Dt*=Ht,kt=Ft*(Ft+At*Dt+2*Ct)+Dt*(At*Ft+Dt+2*Tt)+Rt}else Dt=Et,Ft=Math.max(0,-(At*Dt+Ct)),kt=-Ft*Ft+Dt*(Dt+2*Tt)+Rt;else Dt=-Et,Ft=Math.max(0,-(At*Dt+Ct)),kt=-Ft*Ft+Dt*(Dt+2*Tt)+Rt;else Dt<=-zt?(Ft=Math.max(0,-(-At*Et+Ct)),Dt=Ft>0?-Et:Math.min(Math.max(-Et,-Tt),Et),kt=-Ft*Ft+Dt*(Dt+2*Tt)+Rt):Dt<=zt?(Ft=0,Dt=Math.min(Math.max(-Et,-Tt),Et),kt=Dt*(Dt+2*Tt)+Rt):(Ft=Math.max(0,-(At*Et+Ct)),Dt=Ft>0?Et:Math.min(Math.max(-Et,-Tt),Et),kt=-Ft*Ft+Dt*(Dt+2*Tt)+Rt);else Dt=At>0?-Et:Et,Ft=Math.max(0,-(At*Dt+Ct)),kt=-Ft*Ft+Dt*(Dt+2*Tt)+Rt;return vt&&vt.copy(this.direction).multiplyScalar(Ft).add(this.origin),St&&St.copy(_segDir).multiplyScalar(Dt).add(_segCenter),kt}intersectSphere(lt,ft){_vector$a.subVectors(lt.center,this.origin);const vt=_vector$a.dot(this.direction),St=_vector$a.dot(_vector$a)-vt*vt,Et=lt.radius*lt.radius;if(St>Et)return null;const At=Math.sqrt(Et-St),Ct=vt-At,Tt=vt+At;return Ct<0&&Tt<0?null:Ct<0?this.at(Tt,ft):this.at(Ct,ft)}intersectsSphere(lt){return this.distanceSqToPoint(lt.center)<=lt.radius*lt.radius}distanceToPlane(lt){const ft=lt.normal.dot(this.direction);if(ft===0)return lt.distanceToPoint(this.origin)===0?0:null;const vt=-(this.origin.dot(lt.normal)+lt.constant)/ft;return vt>=0?vt:null}intersectPlane(lt,ft){const vt=this.distanceToPlane(lt);return vt===null?null:this.at(vt,ft)}intersectsPlane(lt){const ft=lt.distanceToPoint(this.origin);return ft===0||lt.normal.dot(this.direction)*ft<0}intersectBox(lt,ft){let vt,St,Et,At,Ct,Tt;const Rt=1/this.direction.x,Bt=1/this.direction.y,Ft=1/this.direction.z,Dt=this.origin;return Rt>=0?(vt=(lt.min.x-Dt.x)*Rt,St=(lt.max.x-Dt.x)*Rt):(vt=(lt.max.x-Dt.x)*Rt,St=(lt.min.x-Dt.x)*Rt),Bt>=0?(Et=(lt.min.y-Dt.y)*Bt,At=(lt.max.y-Dt.y)*Bt):(Et=(lt.max.y-Dt.y)*Bt,At=(lt.min.y-Dt.y)*Bt),vt>At||Et>St||((Et>vt||isNaN(vt))&&(vt=Et),(At<St||isNaN(St))&&(St=At),Ft>=0?(Ct=(lt.min.z-Dt.z)*Ft,Tt=(lt.max.z-Dt.z)*Ft):(Ct=(lt.max.z-Dt.z)*Ft,Tt=(lt.min.z-Dt.z)*Ft),vt>Tt||Ct>St)||((Ct>vt||vt!==vt)&&(vt=Ct),(Tt<St||St!==St)&&(St=Tt),St<0)?null:this.at(vt>=0?vt:St,ft)}intersectsBox(lt){return this.intersectBox(lt,_vector$a)!==null}intersectTriangle(lt,ft,vt,St,Et){_edge1.subVectors(ft,lt),_edge2.subVectors(vt,lt),_normal$1.crossVectors(_edge1,_edge2);let At=this.direction.dot(_normal$1),Ct;if(At>0){if(St)return null;Ct=1}else if(At<0)Ct=-1,At=-At;else return null;_diff.subVectors(this.origin,lt);const Tt=Ct*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(Tt<0)return null;const Rt=Ct*this.direction.dot(_edge1.cross(_diff));if(Rt<0||Tt+Rt>At)return null;const Bt=-Ct*_diff.dot(_normal$1);return Bt<0?null:this.at(Bt/At,Et)}applyMatrix4(lt){return this.origin.applyMatrix4(lt),this.direction.transformDirection(lt),this}equals(lt){return lt.origin.equals(this.origin)&&lt.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(lt,ft,vt,St,Et,At,Ct,Tt,Rt,Bt,Ft,Dt,kt,zt,Ht,en){const Kt=this.elements;return Kt[0]=lt,Kt[4]=ft,Kt[8]=vt,Kt[12]=St,Kt[1]=Et,Kt[5]=At,Kt[9]=Ct,Kt[13]=Tt,Kt[2]=Rt,Kt[6]=Bt,Kt[10]=Ft,Kt[14]=Dt,Kt[3]=kt,Kt[7]=zt,Kt[11]=Ht,Kt[15]=en,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(lt){const ft=this.elements,vt=lt.elements;return ft[0]=vt[0],ft[1]=vt[1],ft[2]=vt[2],ft[3]=vt[3],ft[4]=vt[4],ft[5]=vt[5],ft[6]=vt[6],ft[7]=vt[7],ft[8]=vt[8],ft[9]=vt[9],ft[10]=vt[10],ft[11]=vt[11],ft[12]=vt[12],ft[13]=vt[13],ft[14]=vt[14],ft[15]=vt[15],this}copyPosition(lt){const ft=this.elements,vt=lt.elements;return ft[12]=vt[12],ft[13]=vt[13],ft[14]=vt[14],this}setFromMatrix3(lt){const ft=lt.elements;return this.set(ft[0],ft[3],ft[6],0,ft[1],ft[4],ft[7],0,ft[2],ft[5],ft[8],0,0,0,0,1),this}extractBasis(lt,ft,vt){return lt.setFromMatrixColumn(this,0),ft.setFromMatrixColumn(this,1),vt.setFromMatrixColumn(this,2),this}makeBasis(lt,ft,vt){return this.set(lt.x,ft.x,vt.x,0,lt.y,ft.y,vt.y,0,lt.z,ft.z,vt.z,0,0,0,0,1),this}extractRotation(lt){const ft=this.elements,vt=lt.elements,St=1/_v1$5.setFromMatrixColumn(lt,0).length(),Et=1/_v1$5.setFromMatrixColumn(lt,1).length(),At=1/_v1$5.setFromMatrixColumn(lt,2).length();return ft[0]=vt[0]*St,ft[1]=vt[1]*St,ft[2]=vt[2]*St,ft[3]=0,ft[4]=vt[4]*Et,ft[5]=vt[5]*Et,ft[6]=vt[6]*Et,ft[7]=0,ft[8]=vt[8]*At,ft[9]=vt[9]*At,ft[10]=vt[10]*At,ft[11]=0,ft[12]=0,ft[13]=0,ft[14]=0,ft[15]=1,this}makeRotationFromEuler(lt){const ft=this.elements,vt=lt.x,St=lt.y,Et=lt.z,At=Math.cos(vt),Ct=Math.sin(vt),Tt=Math.cos(St),Rt=Math.sin(St),Bt=Math.cos(Et),Ft=Math.sin(Et);if(lt.order==="XYZ"){const Dt=At*Bt,kt=At*Ft,zt=Ct*Bt,Ht=Ct*Ft;ft[0]=Tt*Bt,ft[4]=-Tt*Ft,ft[8]=Rt,ft[1]=kt+zt*Rt,ft[5]=Dt-Ht*Rt,ft[9]=-Ct*Tt,ft[2]=Ht-Dt*Rt,ft[6]=zt+kt*Rt,ft[10]=At*Tt}else if(lt.order==="YXZ"){const Dt=Tt*Bt,kt=Tt*Ft,zt=Rt*Bt,Ht=Rt*Ft;ft[0]=Dt+Ht*Ct,ft[4]=zt*Ct-kt,ft[8]=At*Rt,ft[1]=At*Ft,ft[5]=At*Bt,ft[9]=-Ct,ft[2]=kt*Ct-zt,ft[6]=Ht+Dt*Ct,ft[10]=At*Tt}else if(lt.order==="ZXY"){const Dt=Tt*Bt,kt=Tt*Ft,zt=Rt*Bt,Ht=Rt*Ft;ft[0]=Dt-Ht*Ct,ft[4]=-At*Ft,ft[8]=zt+kt*Ct,ft[1]=kt+zt*Ct,ft[5]=At*Bt,ft[9]=Ht-Dt*Ct,ft[2]=-At*Rt,ft[6]=Ct,ft[10]=At*Tt}else if(lt.order==="ZYX"){const Dt=At*Bt,kt=At*Ft,zt=Ct*Bt,Ht=Ct*Ft;ft[0]=Tt*Bt,ft[4]=zt*Rt-kt,ft[8]=Dt*Rt+Ht,ft[1]=Tt*Ft,ft[5]=Ht*Rt+Dt,ft[9]=kt*Rt-zt,ft[2]=-Rt,ft[6]=Ct*Tt,ft[10]=At*Tt}else if(lt.order==="YZX"){const Dt=At*Tt,kt=At*Rt,zt=Ct*Tt,Ht=Ct*Rt;ft[0]=Tt*Bt,ft[4]=Ht-Dt*Ft,ft[8]=zt*Ft+kt,ft[1]=Ft,ft[5]=At*Bt,ft[9]=-Ct*Bt,ft[2]=-Rt*Bt,ft[6]=kt*Ft+zt,ft[10]=Dt-Ht*Ft}else if(lt.order==="XZY"){const Dt=At*Tt,kt=At*Rt,zt=Ct*Tt,Ht=Ct*Rt;ft[0]=Tt*Bt,ft[4]=-Ft,ft[8]=Rt*Bt,ft[1]=Dt*Ft+Ht,ft[5]=At*Bt,ft[9]=kt*Ft-zt,ft[2]=zt*Ft-kt,ft[6]=Ct*Bt,ft[10]=Ht*Ft+Dt}return ft[3]=0,ft[7]=0,ft[11]=0,ft[12]=0,ft[13]=0,ft[14]=0,ft[15]=1,this}makeRotationFromQuaternion(lt){return this.compose(_zero,lt,_one)}lookAt(lt,ft,vt){const St=this.elements;return _z.subVectors(lt,ft),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(vt,_z),_x.lengthSq()===0&&(Math.abs(vt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(vt,_z)),_x.normalize(),_y.crossVectors(_z,_x),St[0]=_x.x,St[4]=_y.x,St[8]=_z.x,St[1]=_x.y,St[5]=_y.y,St[9]=_z.y,St[2]=_x.z,St[6]=_y.z,St[10]=_z.z,this}multiply(lt){return this.multiplyMatrices(this,lt)}premultiply(lt){return this.multiplyMatrices(lt,this)}multiplyMatrices(lt,ft){const vt=lt.elements,St=ft.elements,Et=this.elements,At=vt[0],Ct=vt[4],Tt=vt[8],Rt=vt[12],Bt=vt[1],Ft=vt[5],Dt=vt[9],kt=vt[13],zt=vt[2],Ht=vt[6],en=vt[10],Kt=vt[14],Zt=vt[3],Wt=vt[7],tn=vt[11],an=vt[15],ln=St[0],fn=St[4],un=St[8],pn=St[12],xn=St[1],An=St[5],gn=St[9],Ln=St[13],Cn=St[2],En=St[6],yn=St[10],Rn=St[14],hn=St[3],mn=St[7],bn=St[11],Mn=St[15];return Et[0]=At*ln+Ct*xn+Tt*Cn+Rt*hn,Et[4]=At*fn+Ct*An+Tt*En+Rt*mn,Et[8]=At*un+Ct*gn+Tt*yn+Rt*bn,Et[12]=At*pn+Ct*Ln+Tt*Rn+Rt*Mn,Et[1]=Bt*ln+Ft*xn+Dt*Cn+kt*hn,Et[5]=Bt*fn+Ft*An+Dt*En+kt*mn,Et[9]=Bt*un+Ft*gn+Dt*yn+kt*bn,Et[13]=Bt*pn+Ft*Ln+Dt*Rn+kt*Mn,Et[2]=zt*ln+Ht*xn+en*Cn+Kt*hn,Et[6]=zt*fn+Ht*An+en*En+Kt*mn,Et[10]=zt*un+Ht*gn+en*yn+Kt*bn,Et[14]=zt*pn+Ht*Ln+en*Rn+Kt*Mn,Et[3]=Zt*ln+Wt*xn+tn*Cn+an*hn,Et[7]=Zt*fn+Wt*An+tn*En+an*mn,Et[11]=Zt*un+Wt*gn+tn*yn+an*bn,Et[15]=Zt*pn+Wt*Ln+tn*Rn+an*Mn,this}multiplyScalar(lt){const ft=this.elements;return ft[0]*=lt,ft[4]*=lt,ft[8]*=lt,ft[12]*=lt,ft[1]*=lt,ft[5]*=lt,ft[9]*=lt,ft[13]*=lt,ft[2]*=lt,ft[6]*=lt,ft[10]*=lt,ft[14]*=lt,ft[3]*=lt,ft[7]*=lt,ft[11]*=lt,ft[15]*=lt,this}determinant(){const lt=this.elements,ft=lt[0],vt=lt[4],St=lt[8],Et=lt[12],At=lt[1],Ct=lt[5],Tt=lt[9],Rt=lt[13],Bt=lt[2],Ft=lt[6],Dt=lt[10],kt=lt[14],zt=lt[3],Ht=lt[7],en=lt[11],Kt=lt[15];return zt*(+Et*Tt*Ft-St*Rt*Ft-Et*Ct*Dt+vt*Rt*Dt+St*Ct*kt-vt*Tt*kt)+Ht*(+ft*Tt*kt-ft*Rt*Dt+Et*At*Dt-St*At*kt+St*Rt*Bt-Et*Tt*Bt)+en*(+ft*Rt*Ft-ft*Ct*kt-Et*At*Ft+vt*At*kt+Et*Ct*Bt-vt*Rt*Bt)+Kt*(-St*Ct*Bt-ft*Tt*Ft+ft*Ct*Dt+St*At*Ft-vt*At*Dt+vt*Tt*Bt)}transpose(){const lt=this.elements;let ft;return ft=lt[1],lt[1]=lt[4],lt[4]=ft,ft=lt[2],lt[2]=lt[8],lt[8]=ft,ft=lt[6],lt[6]=lt[9],lt[9]=ft,ft=lt[3],lt[3]=lt[12],lt[12]=ft,ft=lt[7],lt[7]=lt[13],lt[13]=ft,ft=lt[11],lt[11]=lt[14],lt[14]=ft,this}setPosition(lt,ft,vt){const St=this.elements;return lt.isVector3?(St[12]=lt.x,St[13]=lt.y,St[14]=lt.z):(St[12]=lt,St[13]=ft,St[14]=vt),this}invert(){const lt=this.elements,ft=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=lt[4],Ct=lt[5],Tt=lt[6],Rt=lt[7],Bt=lt[8],Ft=lt[9],Dt=lt[10],kt=lt[11],zt=lt[12],Ht=lt[13],en=lt[14],Kt=lt[15],Zt=Ft*en*Rt-Ht*Dt*Rt+Ht*Tt*kt-Ct*en*kt-Ft*Tt*Kt+Ct*Dt*Kt,Wt=zt*Dt*Rt-Bt*en*Rt-zt*Tt*kt+At*en*kt+Bt*Tt*Kt-At*Dt*Kt,tn=Bt*Ht*Rt-zt*Ft*Rt+zt*Ct*kt-At*Ht*kt-Bt*Ct*Kt+At*Ft*Kt,an=zt*Ft*Tt-Bt*Ht*Tt-zt*Ct*Dt+At*Ht*Dt+Bt*Ct*en-At*Ft*en,ln=ft*Zt+vt*Wt+St*tn+Et*an;if(ln===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const fn=1/ln;return lt[0]=Zt*fn,lt[1]=(Ht*Dt*Et-Ft*en*Et-Ht*St*kt+vt*en*kt+Ft*St*Kt-vt*Dt*Kt)*fn,lt[2]=(Ct*en*Et-Ht*Tt*Et+Ht*St*Rt-vt*en*Rt-Ct*St*Kt+vt*Tt*Kt)*fn,lt[3]=(Ft*Tt*Et-Ct*Dt*Et-Ft*St*Rt+vt*Dt*Rt+Ct*St*kt-vt*Tt*kt)*fn,lt[4]=Wt*fn,lt[5]=(Bt*en*Et-zt*Dt*Et+zt*St*kt-ft*en*kt-Bt*St*Kt+ft*Dt*Kt)*fn,lt[6]=(zt*Tt*Et-At*en*Et-zt*St*Rt+ft*en*Rt+At*St*Kt-ft*Tt*Kt)*fn,lt[7]=(At*Dt*Et-Bt*Tt*Et+Bt*St*Rt-ft*Dt*Rt-At*St*kt+ft*Tt*kt)*fn,lt[8]=tn*fn,lt[9]=(zt*Ft*Et-Bt*Ht*Et-zt*vt*kt+ft*Ht*kt+Bt*vt*Kt-ft*Ft*Kt)*fn,lt[10]=(At*Ht*Et-zt*Ct*Et+zt*vt*Rt-ft*Ht*Rt-At*vt*Kt+ft*Ct*Kt)*fn,lt[11]=(Bt*Ct*Et-At*Ft*Et-Bt*vt*Rt+ft*Ft*Rt+At*vt*kt-ft*Ct*kt)*fn,lt[12]=an*fn,lt[13]=(Bt*Ht*St-zt*Ft*St+zt*vt*Dt-ft*Ht*Dt-Bt*vt*en+ft*Ft*en)*fn,lt[14]=(zt*Ct*St-At*Ht*St-zt*vt*Tt+ft*Ht*Tt+At*vt*en-ft*Ct*en)*fn,lt[15]=(At*Ft*St-Bt*Ct*St+Bt*vt*Tt-ft*Ft*Tt-At*vt*Dt+ft*Ct*Dt)*fn,this}scale(lt){const ft=this.elements,vt=lt.x,St=lt.y,Et=lt.z;return ft[0]*=vt,ft[4]*=St,ft[8]*=Et,ft[1]*=vt,ft[5]*=St,ft[9]*=Et,ft[2]*=vt,ft[6]*=St,ft[10]*=Et,ft[3]*=vt,ft[7]*=St,ft[11]*=Et,this}getMaxScaleOnAxis(){const lt=this.elements,ft=lt[0]*lt[0]+lt[1]*lt[1]+lt[2]*lt[2],vt=lt[4]*lt[4]+lt[5]*lt[5]+lt[6]*lt[6],St=lt[8]*lt[8]+lt[9]*lt[9]+lt[10]*lt[10];return Math.sqrt(Math.max(ft,vt,St))}makeTranslation(lt,ft,vt){return this.set(1,0,0,lt,0,1,0,ft,0,0,1,vt,0,0,0,1),this}makeRotationX(lt){const ft=Math.cos(lt),vt=Math.sin(lt);return this.set(1,0,0,0,0,ft,-vt,0,0,vt,ft,0,0,0,0,1),this}makeRotationY(lt){const ft=Math.cos(lt),vt=Math.sin(lt);return this.set(ft,0,vt,0,0,1,0,0,-vt,0,ft,0,0,0,0,1),this}makeRotationZ(lt){const ft=Math.cos(lt),vt=Math.sin(lt);return this.set(ft,-vt,0,0,vt,ft,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(lt,ft){const vt=Math.cos(ft),St=Math.sin(ft),Et=1-vt,At=lt.x,Ct=lt.y,Tt=lt.z,Rt=Et*At,Bt=Et*Ct;return this.set(Rt*At+vt,Rt*Ct-St*Tt,Rt*Tt+St*Ct,0,Rt*Ct+St*Tt,Bt*Ct+vt,Bt*Tt-St*At,0,Rt*Tt-St*Ct,Bt*Tt+St*At,Et*Tt*Tt+vt,0,0,0,0,1),this}makeScale(lt,ft,vt){return this.set(lt,0,0,0,0,ft,0,0,0,0,vt,0,0,0,0,1),this}makeShear(lt,ft,vt,St,Et,At){return this.set(1,vt,Et,0,lt,1,At,0,ft,St,1,0,0,0,0,1),this}compose(lt,ft,vt){const St=this.elements,Et=ft._x,At=ft._y,Ct=ft._z,Tt=ft._w,Rt=Et+Et,Bt=At+At,Ft=Ct+Ct,Dt=Et*Rt,kt=Et*Bt,zt=Et*Ft,Ht=At*Bt,en=At*Ft,Kt=Ct*Ft,Zt=Tt*Rt,Wt=Tt*Bt,tn=Tt*Ft,an=vt.x,ln=vt.y,fn=vt.z;return St[0]=(1-(Ht+Kt))*an,St[1]=(kt+tn)*an,St[2]=(zt-Wt)*an,St[3]=0,St[4]=(kt-tn)*ln,St[5]=(1-(Dt+Kt))*ln,St[6]=(en+Zt)*ln,St[7]=0,St[8]=(zt+Wt)*fn,St[9]=(en-Zt)*fn,St[10]=(1-(Dt+Ht))*fn,St[11]=0,St[12]=lt.x,St[13]=lt.y,St[14]=lt.z,St[15]=1,this}decompose(lt,ft,vt){const St=this.elements;let Et=_v1$5.set(St[0],St[1],St[2]).length();const At=_v1$5.set(St[4],St[5],St[6]).length(),Ct=_v1$5.set(St[8],St[9],St[10]).length();this.determinant()<0&&(Et=-Et),lt.x=St[12],lt.y=St[13],lt.z=St[14],_m1$2.copy(this);const Rt=1/Et,Bt=1/At,Ft=1/Ct;return _m1$2.elements[0]*=Rt,_m1$2.elements[1]*=Rt,_m1$2.elements[2]*=Rt,_m1$2.elements[4]*=Bt,_m1$2.elements[5]*=Bt,_m1$2.elements[6]*=Bt,_m1$2.elements[8]*=Ft,_m1$2.elements[9]*=Ft,_m1$2.elements[10]*=Ft,ft.setFromRotationMatrix(_m1$2),vt.x=Et,vt.y=At,vt.z=Ct,this}makePerspective(lt,ft,vt,St,Et,At){const Ct=this.elements,Tt=2*Et/(ft-lt),Rt=2*Et/(vt-St),Bt=(ft+lt)/(ft-lt),Ft=(vt+St)/(vt-St),Dt=-(At+Et)/(At-Et),kt=-2*At*Et/(At-Et);return Ct[0]=Tt,Ct[4]=0,Ct[8]=Bt,Ct[12]=0,Ct[1]=0,Ct[5]=Rt,Ct[9]=Ft,Ct[13]=0,Ct[2]=0,Ct[6]=0,Ct[10]=Dt,Ct[14]=kt,Ct[3]=0,Ct[7]=0,Ct[11]=-1,Ct[15]=0,this}makeOrthographic(lt,ft,vt,St,Et,At){const Ct=this.elements,Tt=1/(ft-lt),Rt=1/(vt-St),Bt=1/(At-Et),Ft=(ft+lt)*Tt,Dt=(vt+St)*Rt,kt=(At+Et)*Bt;return Ct[0]=2*Tt,Ct[4]=0,Ct[8]=0,Ct[12]=-Ft,Ct[1]=0,Ct[5]=2*Rt,Ct[9]=0,Ct[13]=-Dt,Ct[2]=0,Ct[6]=0,Ct[10]=-2*Bt,Ct[14]=-kt,Ct[3]=0,Ct[7]=0,Ct[11]=0,Ct[15]=1,this}equals(lt){const ft=this.elements,vt=lt.elements;for(let St=0;St<16;St++)if(ft[St]!==vt[St])return!1;return!0}fromArray(lt,ft=0){for(let vt=0;vt<16;vt++)this.elements[vt]=lt[vt+ft];return this}toArray(lt=[],ft=0){const vt=this.elements;return lt[ft]=vt[0],lt[ft+1]=vt[1],lt[ft+2]=vt[2],lt[ft+3]=vt[3],lt[ft+4]=vt[4],lt[ft+5]=vt[5],lt[ft+6]=vt[6],lt[ft+7]=vt[7],lt[ft+8]=vt[8],lt[ft+9]=vt[9],lt[ft+10]=vt[10],lt[ft+11]=vt[11],lt[ft+12]=vt[12],lt[ft+13]=vt[13],lt[ft+14]=vt[14],lt[ft+15]=vt[15],lt}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(lt=0,ft=0,vt=0,St=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=lt,this._y=ft,this._z=vt,this._order=St}get x(){return this._x}set x(lt){this._x=lt,this._onChangeCallback()}get y(){return this._y}set y(lt){this._y=lt,this._onChangeCallback()}get z(){return this._z}set z(lt){this._z=lt,this._onChangeCallback()}get order(){return this._order}set order(lt){this._order=lt,this._onChangeCallback()}set(lt,ft,vt,St=this._order){return this._x=lt,this._y=ft,this._z=vt,this._order=St,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(lt){return this._x=lt._x,this._y=lt._y,this._z=lt._z,this._order=lt._order,this._onChangeCallback(),this}setFromRotationMatrix(lt,ft=this._order,vt=!0){const St=lt.elements,Et=St[0],At=St[4],Ct=St[8],Tt=St[1],Rt=St[5],Bt=St[9],Ft=St[2],Dt=St[6],kt=St[10];switch(ft){case"XYZ":this._y=Math.asin(clamp(Ct,-1,1)),Math.abs(Ct)<.9999999?(this._x=Math.atan2(-Bt,kt),this._z=Math.atan2(-At,Et)):(this._x=Math.atan2(Dt,Rt),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(Bt,-1,1)),Math.abs(Bt)<.9999999?(this._y=Math.atan2(Ct,kt),this._z=Math.atan2(Tt,Rt)):(this._y=Math.atan2(-Ft,Et),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(Dt,-1,1)),Math.abs(Dt)<.9999999?(this._y=Math.atan2(-Ft,kt),this._z=Math.atan2(-At,Rt)):(this._y=0,this._z=Math.atan2(Tt,Et));break;case"ZYX":this._y=Math.asin(-clamp(Ft,-1,1)),Math.abs(Ft)<.9999999?(this._x=Math.atan2(Dt,kt),this._z=Math.atan2(Tt,Et)):(this._x=0,this._z=Math.atan2(-At,Rt));break;case"YZX":this._z=Math.asin(clamp(Tt,-1,1)),Math.abs(Tt)<.9999999?(this._x=Math.atan2(-Bt,Rt),this._y=Math.atan2(-Ft,Et)):(this._x=0,this._y=Math.atan2(Ct,kt));break;case"XZY":this._z=Math.asin(-clamp(At,-1,1)),Math.abs(At)<.9999999?(this._x=Math.atan2(Dt,Rt),this._y=Math.atan2(Ct,Et)):(this._x=Math.atan2(-Bt,kt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+ft)}return this._order=ft,vt===!0&&this._onChangeCallback(),this}setFromQuaternion(lt,ft,vt){return _matrix$1.makeRotationFromQuaternion(lt),this.setFromRotationMatrix(_matrix$1,ft,vt)}setFromVector3(lt,ft=this._order){return this.set(lt.x,lt.y,lt.z,ft)}reorder(lt){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,lt)}equals(lt){return lt._x===this._x&&lt._y===this._y&&lt._z===this._z&&lt._order===this._order}fromArray(lt){return this._x=lt[0],this._y=lt[1],this._z=lt[2],lt[3]!==void 0&&(this._order=lt[3]),this._onChangeCallback(),this}toArray(lt=[],ft=0){return lt[ft]=this._x,lt[ft+1]=this._y,lt[ft+2]=this._z,lt[ft+3]=this._order,lt}_onChange(lt){return this._onChangeCallback=lt,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(lt){this.mask=(1<<lt|0)>>>0}enable(lt){this.mask|=1<<lt|0}enableAll(){this.mask=-1}toggle(lt){this.mask^=1<<lt|0}disable(lt){this.mask&=~(1<<lt|0)}disableAll(){this.mask=0}test(lt){return(this.mask&lt.mask)!==0}isEnabled(lt){return(this.mask&(1<<lt|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const lt=new Vector3,ft=new Euler,vt=new Quaternion,St=new Vector3(1,1,1);function Et(){vt.setFromEuler(ft,!1)}function At(){ft.setFromQuaternion(vt,void 0,!1)}ft._onChange(Et),vt._onChange(At),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:lt},rotation:{configurable:!0,enumerable:!0,value:ft},quaternion:{configurable:!0,enumerable:!0,value:vt},scale:{configurable:!0,enumerable:!0,value:St},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(lt){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(lt),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(lt){return this.quaternion.premultiply(lt),this}setRotationFromAxisAngle(lt,ft){this.quaternion.setFromAxisAngle(lt,ft)}setRotationFromEuler(lt){this.quaternion.setFromEuler(lt,!0)}setRotationFromMatrix(lt){this.quaternion.setFromRotationMatrix(lt)}setRotationFromQuaternion(lt){this.quaternion.copy(lt)}rotateOnAxis(lt,ft){return _q1.setFromAxisAngle(lt,ft),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(lt,ft){return _q1.setFromAxisAngle(lt,ft),this.quaternion.premultiply(_q1),this}rotateX(lt){return this.rotateOnAxis(_xAxis,lt)}rotateY(lt){return this.rotateOnAxis(_yAxis,lt)}rotateZ(lt){return this.rotateOnAxis(_zAxis,lt)}translateOnAxis(lt,ft){return _v1$4.copy(lt).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(ft)),this}translateX(lt){return this.translateOnAxis(_xAxis,lt)}translateY(lt){return this.translateOnAxis(_yAxis,lt)}translateZ(lt){return this.translateOnAxis(_zAxis,lt)}localToWorld(lt){return this.updateWorldMatrix(!0,!1),lt.applyMatrix4(this.matrixWorld)}worldToLocal(lt){return this.updateWorldMatrix(!0,!1),lt.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(lt,ft,vt){lt.isVector3?_target.copy(lt):_target.set(lt,ft,vt);const St=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),St&&(_m1$1.extractRotation(St.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(lt){if(arguments.length>1){for(let ft=0;ft<arguments.length;ft++)this.add(arguments[ft]);return this}return lt===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",lt),this):(lt&&lt.isObject3D?(lt.parent!==null&&lt.parent.remove(lt),lt.parent=this,this.children.push(lt),lt.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",lt),this)}remove(lt){if(arguments.length>1){for(let vt=0;vt<arguments.length;vt++)this.remove(arguments[vt]);return this}const ft=this.children.indexOf(lt);return ft!==-1&&(lt.parent=null,this.children.splice(ft,1),lt.dispatchEvent(_removedEvent)),this}removeFromParent(){const lt=this.parent;return lt!==null&&lt.remove(this),this}clear(){for(let lt=0;lt<this.children.length;lt++){const ft=this.children[lt];ft.parent=null,ft.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(lt){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),lt.parent!==null&&(lt.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(lt.parent.matrixWorld)),lt.applyMatrix4(_m1$1),this.add(lt),lt.updateWorldMatrix(!1,!0),this}getObjectById(lt){return this.getObjectByProperty("id",lt)}getObjectByName(lt){return this.getObjectByProperty("name",lt)}getObjectByProperty(lt,ft){if(this[lt]===ft)return this;for(let vt=0,St=this.children.length;vt<St;vt++){const At=this.children[vt].getObjectByProperty(lt,ft);if(At!==void 0)return At}}getObjectsByProperty(lt,ft){let vt=[];this[lt]===ft&&vt.push(this);for(let St=0,Et=this.children.length;St<Et;St++){const At=this.children[St].getObjectsByProperty(lt,ft);At.length>0&&(vt=vt.concat(At))}return vt}getWorldPosition(lt){return this.updateWorldMatrix(!0,!1),lt.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(lt){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,lt,_scale$2),lt}getWorldScale(lt){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,lt),lt}getWorldDirection(lt){this.updateWorldMatrix(!0,!1);const ft=this.matrixWorld.elements;return lt.set(ft[8],ft[9],ft[10]).normalize()}raycast(){}traverse(lt){lt(this);const ft=this.children;for(let vt=0,St=ft.length;vt<St;vt++)ft[vt].traverse(lt)}traverseVisible(lt){if(this.visible===!1)return;lt(this);const ft=this.children;for(let vt=0,St=ft.length;vt<St;vt++)ft[vt].traverseVisible(lt)}traverseAncestors(lt){const ft=this.parent;ft!==null&&(lt(ft),ft.traverseAncestors(lt))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(lt){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||lt)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,lt=!0);const ft=this.children;for(let vt=0,St=ft.length;vt<St;vt++){const Et=ft[vt];(Et.matrixWorldAutoUpdate===!0||lt===!0)&&Et.updateMatrixWorld(lt)}}updateWorldMatrix(lt,ft){const vt=this.parent;if(lt===!0&&vt!==null&&vt.matrixWorldAutoUpdate===!0&&vt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),ft===!0){const St=this.children;for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et];Ct.matrixWorldAutoUpdate===!0&&Ct.updateWorldMatrix(!1,!0)}}}toJSON(lt){const ft=lt===void 0||typeof lt=="string",vt={};ft&&(lt={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},vt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const St={};St.uuid=this.uuid,St.type=this.type,this.name!==""&&(St.name=this.name),this.castShadow===!0&&(St.castShadow=!0),this.receiveShadow===!0&&(St.receiveShadow=!0),this.visible===!1&&(St.visible=!1),this.frustumCulled===!1&&(St.frustumCulled=!1),this.renderOrder!==0&&(St.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(St.userData=this.userData),St.layers=this.layers.mask,St.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(St.matrixAutoUpdate=!1),this.isInstancedMesh&&(St.type="InstancedMesh",St.count=this.count,St.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(St.instanceColor=this.instanceColor.toJSON()));function Et(Ct,Tt){return Ct[Tt.uuid]===void 0&&(Ct[Tt.uuid]=Tt.toJSON(lt)),Tt.uuid}if(this.isScene)this.background&&(this.background.isColor?St.background=this.background.toJSON():this.background.isTexture&&(St.background=this.background.toJSON(lt).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(St.environment=this.environment.toJSON(lt).uuid);else if(this.isMesh||this.isLine||this.isPoints){St.geometry=Et(lt.geometries,this.geometry);const Ct=this.geometry.parameters;if(Ct!==void 0&&Ct.shapes!==void 0){const Tt=Ct.shapes;if(Array.isArray(Tt))for(let Rt=0,Bt=Tt.length;Rt<Bt;Rt++){const Ft=Tt[Rt];Et(lt.shapes,Ft)}else Et(lt.shapes,Tt)}}if(this.isSkinnedMesh&&(St.bindMode=this.bindMode,St.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(Et(lt.skeletons,this.skeleton),St.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const Ct=[];for(let Tt=0,Rt=this.material.length;Tt<Rt;Tt++)Ct.push(Et(lt.materials,this.material[Tt]));St.material=Ct}else St.material=Et(lt.materials,this.material);if(this.children.length>0){St.children=[];for(let Ct=0;Ct<this.children.length;Ct++)St.children.push(this.children[Ct].toJSON(lt).object)}if(this.animations.length>0){St.animations=[];for(let Ct=0;Ct<this.animations.length;Ct++){const Tt=this.animations[Ct];St.animations.push(Et(lt.animations,Tt))}}if(ft){const Ct=At(lt.geometries),Tt=At(lt.materials),Rt=At(lt.textures),Bt=At(lt.images),Ft=At(lt.shapes),Dt=At(lt.skeletons),kt=At(lt.animations),zt=At(lt.nodes);Ct.length>0&&(vt.geometries=Ct),Tt.length>0&&(vt.materials=Tt),Rt.length>0&&(vt.textures=Rt),Bt.length>0&&(vt.images=Bt),Ft.length>0&&(vt.shapes=Ft),Dt.length>0&&(vt.skeletons=Dt),kt.length>0&&(vt.animations=kt),zt.length>0&&(vt.nodes=zt)}return vt.object=St,vt;function At(Ct){const Tt=[];for(const Rt in Ct){const Bt=Ct[Rt];delete Bt.metadata,Tt.push(Bt)}return Tt}}clone(lt){return new this.constructor().copy(this,lt)}copy(lt,ft=!0){if(this.name=lt.name,this.up.copy(lt.up),this.position.copy(lt.position),this.rotation.order=lt.rotation.order,this.quaternion.copy(lt.quaternion),this.scale.copy(lt.scale),this.matrix.copy(lt.matrix),this.matrixWorld.copy(lt.matrixWorld),this.matrixAutoUpdate=lt.matrixAutoUpdate,this.matrixWorldNeedsUpdate=lt.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=lt.matrixWorldAutoUpdate,this.layers.mask=lt.layers.mask,this.visible=lt.visible,this.castShadow=lt.castShadow,this.receiveShadow=lt.receiveShadow,this.frustumCulled=lt.frustumCulled,this.renderOrder=lt.renderOrder,this.userData=JSON.parse(JSON.stringify(lt.userData)),ft===!0)for(let vt=0;vt<lt.children.length;vt++){const St=lt.children[vt];this.add(St.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(lt=new Vector3,ft=new Vector3,vt=new Vector3){this.a=lt,this.b=ft,this.c=vt}static getNormal(lt,ft,vt,St){St.subVectors(vt,ft),_v0$1.subVectors(lt,ft),St.cross(_v0$1);const Et=St.lengthSq();return Et>0?St.multiplyScalar(1/Math.sqrt(Et)):St.set(0,0,0)}static getBarycoord(lt,ft,vt,St,Et){_v0$1.subVectors(St,ft),_v1$3.subVectors(vt,ft),_v2$2.subVectors(lt,ft);const At=_v0$1.dot(_v0$1),Ct=_v0$1.dot(_v1$3),Tt=_v0$1.dot(_v2$2),Rt=_v1$3.dot(_v1$3),Bt=_v1$3.dot(_v2$2),Ft=At*Rt-Ct*Ct;if(Ft===0)return Et.set(-2,-1,-1);const Dt=1/Ft,kt=(Rt*Tt-Ct*Bt)*Dt,zt=(At*Bt-Ct*Tt)*Dt;return Et.set(1-kt-zt,zt,kt)}static containsPoint(lt,ft,vt,St){return this.getBarycoord(lt,ft,vt,St,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(lt,ft,vt,St,Et,At,Ct,Tt){return this.getBarycoord(lt,ft,vt,St,_v3$1),Tt.set(0,0),Tt.addScaledVector(Et,_v3$1.x),Tt.addScaledVector(At,_v3$1.y),Tt.addScaledVector(Ct,_v3$1.z),Tt}static isFrontFacing(lt,ft,vt,St){return _v0$1.subVectors(vt,ft),_v1$3.subVectors(lt,ft),_v0$1.cross(_v1$3).dot(St)<0}set(lt,ft,vt){return this.a.copy(lt),this.b.copy(ft),this.c.copy(vt),this}setFromPointsAndIndices(lt,ft,vt,St){return this.a.copy(lt[ft]),this.b.copy(lt[vt]),this.c.copy(lt[St]),this}setFromAttributeAndIndices(lt,ft,vt,St){return this.a.fromBufferAttribute(lt,ft),this.b.fromBufferAttribute(lt,vt),this.c.fromBufferAttribute(lt,St),this}clone(){return new this.constructor().copy(this)}copy(lt){return this.a.copy(lt.a),this.b.copy(lt.b),this.c.copy(lt.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(lt){return lt.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(lt){return Triangle.getNormal(this.a,this.b,this.c,lt)}getPlane(lt){return lt.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(lt,ft){return Triangle.getBarycoord(lt,this.a,this.b,this.c,ft)}getUV(lt,ft,vt,St,Et){return Triangle.getUV(lt,this.a,this.b,this.c,ft,vt,St,Et)}containsPoint(lt){return Triangle.containsPoint(lt,this.a,this.b,this.c)}isFrontFacing(lt){return Triangle.isFrontFacing(this.a,this.b,this.c,lt)}intersectsBox(lt){return lt.intersectsTriangle(this)}closestPointToPoint(lt,ft){const vt=this.a,St=this.b,Et=this.c;let At,Ct;_vab.subVectors(St,vt),_vac.subVectors(Et,vt),_vap.subVectors(lt,vt);const Tt=_vab.dot(_vap),Rt=_vac.dot(_vap);if(Tt<=0&&Rt<=0)return ft.copy(vt);_vbp.subVectors(lt,St);const Bt=_vab.dot(_vbp),Ft=_vac.dot(_vbp);if(Bt>=0&&Ft<=Bt)return ft.copy(St);const Dt=Tt*Ft-Bt*Rt;if(Dt<=0&&Tt>=0&&Bt<=0)return At=Tt/(Tt-Bt),ft.copy(vt).addScaledVector(_vab,At);_vcp.subVectors(lt,Et);const kt=_vab.dot(_vcp),zt=_vac.dot(_vcp);if(zt>=0&&kt<=zt)return ft.copy(Et);const Ht=kt*Rt-Tt*zt;if(Ht<=0&&Rt>=0&&zt<=0)return Ct=Rt/(Rt-zt),ft.copy(vt).addScaledVector(_vac,Ct);const en=Bt*zt-kt*Ft;if(en<=0&&Ft-Bt>=0&&kt-zt>=0)return _vbc.subVectors(Et,St),Ct=(Ft-Bt)/(Ft-Bt+(kt-zt)),ft.copy(St).addScaledVector(_vbc,Ct);const Kt=1/(en+Ht+Dt);return At=Ht*Kt,Ct=Dt*Kt,ft.copy(vt).addScaledVector(_vab,At).addScaledVector(_vac,Ct)}equals(lt){return lt.a.equals(this.a)&&lt.b.equals(this.b)&&lt.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(lt){this._alphaTest>0!=lt>0&&this.version++,this._alphaTest=lt}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(lt){if(lt!==void 0)for(const ft in lt){const vt=lt[ft];if(vt===void 0){console.warn("THREE.Material: '"+ft+"' parameter is undefined.");continue}const St=this[ft];if(St===void 0){console.warn("THREE."+this.type+": '"+ft+"' is not a property of this material.");continue}St&&St.isColor?St.set(vt):St&&St.isVector3&&vt&&vt.isVector3?St.copy(vt):this[ft]=vt}}toJSON(lt){const ft=lt===void 0||typeof lt=="string";ft&&(lt={textures:{},images:{}});const vt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};vt.uuid=this.uuid,vt.type=this.type,this.name!==""&&(vt.name=this.name),this.color&&this.color.isColor&&(vt.color=this.color.getHex()),this.roughness!==void 0&&(vt.roughness=this.roughness),this.metalness!==void 0&&(vt.metalness=this.metalness),this.sheen!==void 0&&(vt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(vt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(vt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(vt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(vt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(vt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(vt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(vt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(vt.shininess=this.shininess),this.clearcoat!==void 0&&(vt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(vt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(vt.clearcoatMap=this.clearcoatMap.toJSON(lt).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(vt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(lt).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(vt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(lt).uuid,vt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(vt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(vt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(vt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(vt.iridescenceMap=this.iridescenceMap.toJSON(lt).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(vt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(lt).uuid),this.map&&this.map.isTexture&&(vt.map=this.map.toJSON(lt).uuid),this.matcap&&this.matcap.isTexture&&(vt.matcap=this.matcap.toJSON(lt).uuid),this.alphaMap&&this.alphaMap.isTexture&&(vt.alphaMap=this.alphaMap.toJSON(lt).uuid),this.lightMap&&this.lightMap.isTexture&&(vt.lightMap=this.lightMap.toJSON(lt).uuid,vt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(vt.aoMap=this.aoMap.toJSON(lt).uuid,vt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(vt.bumpMap=this.bumpMap.toJSON(lt).uuid,vt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(vt.normalMap=this.normalMap.toJSON(lt).uuid,vt.normalMapType=this.normalMapType,vt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(vt.displacementMap=this.displacementMap.toJSON(lt).uuid,vt.displacementScale=this.displacementScale,vt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(vt.roughnessMap=this.roughnessMap.toJSON(lt).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(vt.metalnessMap=this.metalnessMap.toJSON(lt).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(vt.emissiveMap=this.emissiveMap.toJSON(lt).uuid),this.specularMap&&this.specularMap.isTexture&&(vt.specularMap=this.specularMap.toJSON(lt).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(vt.specularIntensityMap=this.specularIntensityMap.toJSON(lt).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(vt.specularColorMap=this.specularColorMap.toJSON(lt).uuid),this.envMap&&this.envMap.isTexture&&(vt.envMap=this.envMap.toJSON(lt).uuid,this.combine!==void 0&&(vt.combine=this.combine)),this.envMapIntensity!==void 0&&(vt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(vt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(vt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(vt.gradientMap=this.gradientMap.toJSON(lt).uuid),this.transmission!==void 0&&(vt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(vt.transmissionMap=this.transmissionMap.toJSON(lt).uuid),this.thickness!==void 0&&(vt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(vt.thicknessMap=this.thicknessMap.toJSON(lt).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(vt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(vt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(vt.size=this.size),this.shadowSide!==null&&(vt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(vt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(vt.blending=this.blending),this.side!==FrontSide&&(vt.side=this.side),this.vertexColors&&(vt.vertexColors=!0),this.opacity<1&&(vt.opacity=this.opacity),this.transparent===!0&&(vt.transparent=this.transparent),vt.depthFunc=this.depthFunc,vt.depthTest=this.depthTest,vt.depthWrite=this.depthWrite,vt.colorWrite=this.colorWrite,vt.stencilWrite=this.stencilWrite,vt.stencilWriteMask=this.stencilWriteMask,vt.stencilFunc=this.stencilFunc,vt.stencilRef=this.stencilRef,vt.stencilFuncMask=this.stencilFuncMask,vt.stencilFail=this.stencilFail,vt.stencilZFail=this.stencilZFail,vt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(vt.rotation=this.rotation),this.polygonOffset===!0&&(vt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(vt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(vt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(vt.linewidth=this.linewidth),this.dashSize!==void 0&&(vt.dashSize=this.dashSize),this.gapSize!==void 0&&(vt.gapSize=this.gapSize),this.scale!==void 0&&(vt.scale=this.scale),this.dithering===!0&&(vt.dithering=!0),this.alphaTest>0&&(vt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(vt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(vt.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(vt.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(vt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(vt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(vt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(vt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(vt.flatShading=this.flatShading),this.visible===!1&&(vt.visible=!1),this.toneMapped===!1&&(vt.toneMapped=!1),this.fog===!1&&(vt.fog=!1),Object.keys(this.userData).length>0&&(vt.userData=this.userData);function St(Et){const At=[];for(const Ct in Et){const Tt=Et[Ct];delete Tt.metadata,At.push(Tt)}return At}if(ft){const Et=St(lt.textures),At=St(lt.images);Et.length>0&&(vt.textures=Et),At.length>0&&(vt.images=At)}return vt}clone(){return new this.constructor().copy(this)}copy(lt){this.name=lt.name,this.blending=lt.blending,this.side=lt.side,this.vertexColors=lt.vertexColors,this.opacity=lt.opacity,this.transparent=lt.transparent,this.blendSrc=lt.blendSrc,this.blendDst=lt.blendDst,this.blendEquation=lt.blendEquation,this.blendSrcAlpha=lt.blendSrcAlpha,this.blendDstAlpha=lt.blendDstAlpha,this.blendEquationAlpha=lt.blendEquationAlpha,this.depthFunc=lt.depthFunc,this.depthTest=lt.depthTest,this.depthWrite=lt.depthWrite,this.stencilWriteMask=lt.stencilWriteMask,this.stencilFunc=lt.stencilFunc,this.stencilRef=lt.stencilRef,this.stencilFuncMask=lt.stencilFuncMask,this.stencilFail=lt.stencilFail,this.stencilZFail=lt.stencilZFail,this.stencilZPass=lt.stencilZPass,this.stencilWrite=lt.stencilWrite;const ft=lt.clippingPlanes;let vt=null;if(ft!==null){const St=ft.length;vt=new Array(St);for(let Et=0;Et!==St;++Et)vt[Et]=ft[Et].clone()}return this.clippingPlanes=vt,this.clipIntersection=lt.clipIntersection,this.clipShadows=lt.clipShadows,this.shadowSide=lt.shadowSide,this.colorWrite=lt.colorWrite,this.precision=lt.precision,this.polygonOffset=lt.polygonOffset,this.polygonOffsetFactor=lt.polygonOffsetFactor,this.polygonOffsetUnits=lt.polygonOffsetUnits,this.dithering=lt.dithering,this.alphaTest=lt.alphaTest,this.alphaToCoverage=lt.alphaToCoverage,this.premultipliedAlpha=lt.premultipliedAlpha,this.forceSinglePass=lt.forceSinglePass,this.visible=lt.visible,this.toneMapped=lt.toneMapped,this.userData=JSON.parse(JSON.stringify(lt.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(lt){lt===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(lt){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.fog=lt.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(lt,ft,vt=!1){if(Array.isArray(lt))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=lt,this.itemSize=ft,this.count=lt!==void 0?lt.length/ft:0,this.normalized=vt,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(lt){lt===!0&&this.version++}setUsage(lt){return this.usage=lt,this}copy(lt){return this.name=lt.name,this.array=new lt.array.constructor(lt.array),this.itemSize=lt.itemSize,this.count=lt.count,this.normalized=lt.normalized,this.usage=lt.usage,this}copyAt(lt,ft,vt){lt*=this.itemSize,vt*=ft.itemSize;for(let St=0,Et=this.itemSize;St<Et;St++)this.array[lt+St]=ft.array[vt+St];return this}copyArray(lt){return this.array.set(lt),this}applyMatrix3(lt){if(this.itemSize===2)for(let ft=0,vt=this.count;ft<vt;ft++)_vector2$1.fromBufferAttribute(this,ft),_vector2$1.applyMatrix3(lt),this.setXY(ft,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let ft=0,vt=this.count;ft<vt;ft++)_vector$9.fromBufferAttribute(this,ft),_vector$9.applyMatrix3(lt),this.setXYZ(ft,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(lt){for(let ft=0,vt=this.count;ft<vt;ft++)_vector$9.fromBufferAttribute(this,ft),_vector$9.applyMatrix4(lt),this.setXYZ(ft,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(lt){for(let ft=0,vt=this.count;ft<vt;ft++)_vector$9.fromBufferAttribute(this,ft),_vector$9.applyNormalMatrix(lt),this.setXYZ(ft,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(lt){for(let ft=0,vt=this.count;ft<vt;ft++)_vector$9.fromBufferAttribute(this,ft),_vector$9.transformDirection(lt),this.setXYZ(ft,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(lt,ft=0){return this.array.set(lt,ft),this}getX(lt){let ft=this.array[lt*this.itemSize];return this.normalized&&(ft=denormalize(ft,this.array)),ft}setX(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.array[lt*this.itemSize]=ft,this}getY(lt){let ft=this.array[lt*this.itemSize+1];return this.normalized&&(ft=denormalize(ft,this.array)),ft}setY(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.array[lt*this.itemSize+1]=ft,this}getZ(lt){let ft=this.array[lt*this.itemSize+2];return this.normalized&&(ft=denormalize(ft,this.array)),ft}setZ(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.array[lt*this.itemSize+2]=ft,this}getW(lt){let ft=this.array[lt*this.itemSize+3];return this.normalized&&(ft=denormalize(ft,this.array)),ft}setW(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.array[lt*this.itemSize+3]=ft,this}setXY(lt,ft,vt){return lt*=this.itemSize,this.normalized&&(ft=normalize(ft,this.array),vt=normalize(vt,this.array)),this.array[lt+0]=ft,this.array[lt+1]=vt,this}setXYZ(lt,ft,vt,St){return lt*=this.itemSize,this.normalized&&(ft=normalize(ft,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array)),this.array[lt+0]=ft,this.array[lt+1]=vt,this.array[lt+2]=St,this}setXYZW(lt,ft,vt,St,Et){return lt*=this.itemSize,this.normalized&&(ft=normalize(ft,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array),Et=normalize(Et,this.array)),this.array[lt+0]=ft,this.array[lt+1]=vt,this.array[lt+2]=St,this.array[lt+3]=Et,this}onUpload(lt){return this.onUploadCallback=lt,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const lt={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(lt.name=this.name),this.usage!==StaticDrawUsage&&(lt.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(lt.updateRange=this.updateRange),lt}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Int8Array(lt),ft,vt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Uint8Array(lt),ft,vt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Uint8ClampedArray(lt),ft,vt)}}class Int16BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Int16Array(lt),ft,vt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Uint16Array(lt),ft,vt)}}class Int32BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Int32Array(lt),ft,vt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Uint32Array(lt),ft,vt)}}class Float16BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Uint16Array(lt),ft,vt),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Float32Array(lt),ft,vt)}}class Float64BufferAttribute extends BufferAttribute{constructor(lt,ft,vt){super(new Float64Array(lt),ft,vt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(lt){return Array.isArray(lt)?this.index=new(arrayNeedsUint32(lt)?Uint32BufferAttribute:Uint16BufferAttribute)(lt,1):this.index=lt,this}getAttribute(lt){return this.attributes[lt]}setAttribute(lt,ft){return this.attributes[lt]=ft,this}deleteAttribute(lt){return delete this.attributes[lt],this}hasAttribute(lt){return this.attributes[lt]!==void 0}addGroup(lt,ft,vt=0){this.groups.push({start:lt,count:ft,materialIndex:vt})}clearGroups(){this.groups=[]}setDrawRange(lt,ft){this.drawRange.start=lt,this.drawRange.count=ft}applyMatrix4(lt){const ft=this.attributes.position;ft!==void 0&&(ft.applyMatrix4(lt),ft.needsUpdate=!0);const vt=this.attributes.normal;if(vt!==void 0){const Et=new Matrix3().getNormalMatrix(lt);vt.applyNormalMatrix(Et),vt.needsUpdate=!0}const St=this.attributes.tangent;return St!==void 0&&(St.transformDirection(lt),St.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(lt){return _m1.makeRotationFromQuaternion(lt),this.applyMatrix4(_m1),this}rotateX(lt){return _m1.makeRotationX(lt),this.applyMatrix4(_m1),this}rotateY(lt){return _m1.makeRotationY(lt),this.applyMatrix4(_m1),this}rotateZ(lt){return _m1.makeRotationZ(lt),this.applyMatrix4(_m1),this}translate(lt,ft,vt){return _m1.makeTranslation(lt,ft,vt),this.applyMatrix4(_m1),this}scale(lt,ft,vt){return _m1.makeScale(lt,ft,vt),this.applyMatrix4(_m1),this}lookAt(lt){return _obj.lookAt(lt),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(lt){const ft=[];for(let vt=0,St=lt.length;vt<St;vt++){const Et=lt[vt];ft.push(Et.x,Et.y,Et.z||0)}return this.setAttribute("position",new Float32BufferAttribute(ft,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const lt=this.attributes.position,ft=this.morphAttributes.position;if(lt&&lt.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(lt!==void 0){if(this.boundingBox.setFromBufferAttribute(lt),ft)for(let vt=0,St=ft.length;vt<St;vt++){const Et=ft[vt];_box$1$1.setFromBufferAttribute(Et),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1$1.min),this.boundingBox.expandByPoint(_box$1$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const lt=this.attributes.position,ft=this.morphAttributes.position;if(lt&&lt.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(lt){const vt=this.boundingSphere.center;if(_box$1$1.setFromBufferAttribute(lt),ft)for(let Et=0,At=ft.length;Et<At;Et++){const Ct=ft[Et];_boxMorphTargets.setFromBufferAttribute(Ct),this.morphTargetsRelative?(_vector$8.addVectors(_box$1$1.min,_boxMorphTargets.min),_box$1$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1$1.max,_boxMorphTargets.max),_box$1$1.expandByPoint(_vector$8)):(_box$1$1.expandByPoint(_boxMorphTargets.min),_box$1$1.expandByPoint(_boxMorphTargets.max))}_box$1$1.getCenter(vt);let St=0;for(let Et=0,At=lt.count;Et<At;Et++)_vector$8.fromBufferAttribute(lt,Et),St=Math.max(St,vt.distanceToSquared(_vector$8));if(ft)for(let Et=0,At=ft.length;Et<At;Et++){const Ct=ft[Et],Tt=this.morphTargetsRelative;for(let Rt=0,Bt=Ct.count;Rt<Bt;Rt++)_vector$8.fromBufferAttribute(Ct,Rt),Tt&&(_offset.fromBufferAttribute(lt,Rt),_vector$8.add(_offset)),St=Math.max(St,vt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(St),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const lt=this.index,ft=this.attributes;if(lt===null||ft.position===void 0||ft.normal===void 0||ft.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const vt=lt.array,St=ft.position.array,Et=ft.normal.array,At=ft.uv.array,Ct=St.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*Ct),4));const Tt=this.getAttribute("tangent").array,Rt=[],Bt=[];for(let xn=0;xn<Ct;xn++)Rt[xn]=new Vector3,Bt[xn]=new Vector3;const Ft=new Vector3,Dt=new Vector3,kt=new Vector3,zt=new Vector2,Ht=new Vector2,en=new Vector2,Kt=new Vector3,Zt=new Vector3;function Wt(xn,An,gn){Ft.fromArray(St,xn*3),Dt.fromArray(St,An*3),kt.fromArray(St,gn*3),zt.fromArray(At,xn*2),Ht.fromArray(At,An*2),en.fromArray(At,gn*2),Dt.sub(Ft),kt.sub(Ft),Ht.sub(zt),en.sub(zt);const Ln=1/(Ht.x*en.y-en.x*Ht.y);isFinite(Ln)&&(Kt.copy(Dt).multiplyScalar(en.y).addScaledVector(kt,-Ht.y).multiplyScalar(Ln),Zt.copy(kt).multiplyScalar(Ht.x).addScaledVector(Dt,-en.x).multiplyScalar(Ln),Rt[xn].add(Kt),Rt[An].add(Kt),Rt[gn].add(Kt),Bt[xn].add(Zt),Bt[An].add(Zt),Bt[gn].add(Zt))}let tn=this.groups;tn.length===0&&(tn=[{start:0,count:vt.length}]);for(let xn=0,An=tn.length;xn<An;++xn){const gn=tn[xn],Ln=gn.start,Cn=gn.count;for(let En=Ln,yn=Ln+Cn;En<yn;En+=3)Wt(vt[En+0],vt[En+1],vt[En+2])}const an=new Vector3,ln=new Vector3,fn=new Vector3,un=new Vector3;function pn(xn){fn.fromArray(Et,xn*3),un.copy(fn);const An=Rt[xn];an.copy(An),an.sub(fn.multiplyScalar(fn.dot(An))).normalize(),ln.crossVectors(un,An);const Ln=ln.dot(Bt[xn])<0?-1:1;Tt[xn*4]=an.x,Tt[xn*4+1]=an.y,Tt[xn*4+2]=an.z,Tt[xn*4+3]=Ln}for(let xn=0,An=tn.length;xn<An;++xn){const gn=tn[xn],Ln=gn.start,Cn=gn.count;for(let En=Ln,yn=Ln+Cn;En<yn;En+=3)pn(vt[En+0]),pn(vt[En+1]),pn(vt[En+2])}}computeVertexNormals(){const lt=this.index,ft=this.getAttribute("position");if(ft!==void 0){let vt=this.getAttribute("normal");if(vt===void 0)vt=new BufferAttribute(new Float32Array(ft.count*3),3),this.setAttribute("normal",vt);else for(let Dt=0,kt=vt.count;Dt<kt;Dt++)vt.setXYZ(Dt,0,0,0);const St=new Vector3,Et=new Vector3,At=new Vector3,Ct=new Vector3,Tt=new Vector3,Rt=new Vector3,Bt=new Vector3,Ft=new Vector3;if(lt)for(let Dt=0,kt=lt.count;Dt<kt;Dt+=3){const zt=lt.getX(Dt+0),Ht=lt.getX(Dt+1),en=lt.getX(Dt+2);St.fromBufferAttribute(ft,zt),Et.fromBufferAttribute(ft,Ht),At.fromBufferAttribute(ft,en),Bt.subVectors(At,Et),Ft.subVectors(St,Et),Bt.cross(Ft),Ct.fromBufferAttribute(vt,zt),Tt.fromBufferAttribute(vt,Ht),Rt.fromBufferAttribute(vt,en),Ct.add(Bt),Tt.add(Bt),Rt.add(Bt),vt.setXYZ(zt,Ct.x,Ct.y,Ct.z),vt.setXYZ(Ht,Tt.x,Tt.y,Tt.z),vt.setXYZ(en,Rt.x,Rt.y,Rt.z)}else for(let Dt=0,kt=ft.count;Dt<kt;Dt+=3)St.fromBufferAttribute(ft,Dt+0),Et.fromBufferAttribute(ft,Dt+1),At.fromBufferAttribute(ft,Dt+2),Bt.subVectors(At,Et),Ft.subVectors(St,Et),Bt.cross(Ft),vt.setXYZ(Dt+0,Bt.x,Bt.y,Bt.z),vt.setXYZ(Dt+1,Bt.x,Bt.y,Bt.z),vt.setXYZ(Dt+2,Bt.x,Bt.y,Bt.z);this.normalizeNormals(),vt.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const lt=this.attributes.normal;for(let ft=0,vt=lt.count;ft<vt;ft++)_vector$8.fromBufferAttribute(lt,ft),_vector$8.normalize(),lt.setXYZ(ft,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function lt(Ct,Tt){const Rt=Ct.array,Bt=Ct.itemSize,Ft=Ct.normalized,Dt=new Rt.constructor(Tt.length*Bt);let kt=0,zt=0;for(let Ht=0,en=Tt.length;Ht<en;Ht++){Ct.isInterleavedBufferAttribute?kt=Tt[Ht]*Ct.data.stride+Ct.offset:kt=Tt[Ht]*Bt;for(let Kt=0;Kt<Bt;Kt++)Dt[zt++]=Rt[kt++]}return new BufferAttribute(Dt,Bt,Ft)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const ft=new BufferGeometry,vt=this.index.array,St=this.attributes;for(const Ct in St){const Tt=St[Ct],Rt=lt(Tt,vt);ft.setAttribute(Ct,Rt)}const Et=this.morphAttributes;for(const Ct in Et){const Tt=[],Rt=Et[Ct];for(let Bt=0,Ft=Rt.length;Bt<Ft;Bt++){const Dt=Rt[Bt],kt=lt(Dt,vt);Tt.push(kt)}ft.morphAttributes[Ct]=Tt}ft.morphTargetsRelative=this.morphTargetsRelative;const At=this.groups;for(let Ct=0,Tt=At.length;Ct<Tt;Ct++){const Rt=At[Ct];ft.addGroup(Rt.start,Rt.count,Rt.materialIndex)}return ft}toJSON(){const lt={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(lt.uuid=this.uuid,lt.type=this.type,this.name!==""&&(lt.name=this.name),Object.keys(this.userData).length>0&&(lt.userData=this.userData),this.parameters!==void 0){const Tt=this.parameters;for(const Rt in Tt)Tt[Rt]!==void 0&&(lt[Rt]=Tt[Rt]);return lt}lt.data={attributes:{}};const ft=this.index;ft!==null&&(lt.data.index={type:ft.array.constructor.name,array:Array.prototype.slice.call(ft.array)});const vt=this.attributes;for(const Tt in vt){const Rt=vt[Tt];lt.data.attributes[Tt]=Rt.toJSON(lt.data)}const St={};let Et=!1;for(const Tt in this.morphAttributes){const Rt=this.morphAttributes[Tt],Bt=[];for(let Ft=0,Dt=Rt.length;Ft<Dt;Ft++){const kt=Rt[Ft];Bt.push(kt.toJSON(lt.data))}Bt.length>0&&(St[Tt]=Bt,Et=!0)}Et&&(lt.data.morphAttributes=St,lt.data.morphTargetsRelative=this.morphTargetsRelative);const At=this.groups;At.length>0&&(lt.data.groups=JSON.parse(JSON.stringify(At)));const Ct=this.boundingSphere;return Ct!==null&&(lt.data.boundingSphere={center:Ct.center.toArray(),radius:Ct.radius}),lt}clone(){return new this.constructor().copy(this)}copy(lt){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const ft={};this.name=lt.name;const vt=lt.index;vt!==null&&this.setIndex(vt.clone(ft));const St=lt.attributes;for(const Rt in St){const Bt=St[Rt];this.setAttribute(Rt,Bt.clone(ft))}const Et=lt.morphAttributes;for(const Rt in Et){const Bt=[],Ft=Et[Rt];for(let Dt=0,kt=Ft.length;Dt<kt;Dt++)Bt.push(Ft[Dt].clone(ft));this.morphAttributes[Rt]=Bt}this.morphTargetsRelative=lt.morphTargetsRelative;const At=lt.groups;for(let Rt=0,Bt=At.length;Rt<Bt;Rt++){const Ft=At[Rt];this.addGroup(Ft.start,Ft.count,Ft.materialIndex)}const Ct=lt.boundingBox;Ct!==null&&(this.boundingBox=Ct.clone());const Tt=lt.boundingSphere;return Tt!==null&&(this.boundingSphere=Tt.clone()),this.drawRange.start=lt.drawRange.start,this.drawRange.count=lt.drawRange.count,this.userData=lt.userData,lt.parameters!==void 0&&(this.parameters=Object.assign({},lt.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere$1,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(lt=new BufferGeometry,ft=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=lt,this.material=ft,this.updateMorphTargets()}copy(lt,ft){return super.copy(lt,ft),lt.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=lt.morphTargetInfluences.slice()),lt.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},lt.morphTargetDictionary)),this.material=lt.material,this.geometry=lt.geometry,this}updateMorphTargets(){const ft=this.geometry.morphAttributes,vt=Object.keys(ft);if(vt.length>0){const St=ft[vt[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et].name||String(Et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=Et}}}}getVertexPosition(lt,ft){const vt=this.geometry,St=vt.attributes.position,Et=vt.morphAttributes.position,At=vt.morphTargetsRelative;ft.fromBufferAttribute(St,lt);const Ct=this.morphTargetInfluences;if(Et&&Ct){_morphA.set(0,0,0);for(let Tt=0,Rt=Et.length;Tt<Rt;Tt++){const Bt=Ct[Tt],Ft=Et[Tt];Bt!==0&&(_tempA.fromBufferAttribute(Ft,lt),At?_morphA.addScaledVector(_tempA,Bt):_morphA.addScaledVector(_tempA.sub(ft),Bt))}ft.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform(lt,ft),ft}raycast(lt,ft){const vt=this.geometry,St=this.material,Et=this.matrixWorld;if(St===void 0||(vt.boundingSphere===null&&vt.computeBoundingSphere(),_sphere$3.copy(vt.boundingSphere),_sphere$3.applyMatrix4(Et),lt.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(Et).invert(),_ray$2.copy(lt.ray).applyMatrix4(_inverseMatrix$2),vt.boundingBox!==null&&_ray$2.intersectsBox(vt.boundingBox)===!1))return;let At;const Ct=vt.index,Tt=vt.attributes.position,Rt=vt.attributes.uv,Bt=vt.attributes.uv2,Ft=vt.groups,Dt=vt.drawRange;if(Ct!==null)if(Array.isArray(St))for(let kt=0,zt=Ft.length;kt<zt;kt++){const Ht=Ft[kt],en=St[Ht.materialIndex],Kt=Math.max(Ht.start,Dt.start),Zt=Math.min(Ct.count,Math.min(Ht.start+Ht.count,Dt.start+Dt.count));for(let Wt=Kt,tn=Zt;Wt<tn;Wt+=3){const an=Ct.getX(Wt),ln=Ct.getX(Wt+1),fn=Ct.getX(Wt+2);At=checkBufferGeometryIntersection(this,en,lt,_ray$2,Rt,Bt,an,ln,fn),At&&(At.faceIndex=Math.floor(Wt/3),At.face.materialIndex=Ht.materialIndex,ft.push(At))}}else{const kt=Math.max(0,Dt.start),zt=Math.min(Ct.count,Dt.start+Dt.count);for(let Ht=kt,en=zt;Ht<en;Ht+=3){const Kt=Ct.getX(Ht),Zt=Ct.getX(Ht+1),Wt=Ct.getX(Ht+2);At=checkBufferGeometryIntersection(this,St,lt,_ray$2,Rt,Bt,Kt,Zt,Wt),At&&(At.faceIndex=Math.floor(Ht/3),ft.push(At))}}else if(Tt!==void 0)if(Array.isArray(St))for(let kt=0,zt=Ft.length;kt<zt;kt++){const Ht=Ft[kt],en=St[Ht.materialIndex],Kt=Math.max(Ht.start,Dt.start),Zt=Math.min(Tt.count,Math.min(Ht.start+Ht.count,Dt.start+Dt.count));for(let Wt=Kt,tn=Zt;Wt<tn;Wt+=3){const an=Wt,ln=Wt+1,fn=Wt+2;At=checkBufferGeometryIntersection(this,en,lt,_ray$2,Rt,Bt,an,ln,fn),At&&(At.faceIndex=Math.floor(Wt/3),At.face.materialIndex=Ht.materialIndex,ft.push(At))}}else{const kt=Math.max(0,Dt.start),zt=Math.min(Tt.count,Dt.start+Dt.count);for(let Ht=kt,en=zt;Ht<en;Ht+=3){const Kt=Ht,Zt=Ht+1,Wt=Ht+2;At=checkBufferGeometryIntersection(this,St,lt,_ray$2,Rt,Bt,Kt,Zt,Wt),At&&(At.faceIndex=Math.floor(Ht/3),ft.push(At))}}}}function checkIntersection(dt,lt,ft,vt,St,Et,At,Ct){let Tt;if(lt.side===BackSide?Tt=vt.intersectTriangle(At,Et,St,!0,Ct):Tt=vt.intersectTriangle(St,Et,At,lt.side===FrontSide,Ct),Tt===null)return null;_intersectionPointWorld.copy(Ct),_intersectionPointWorld.applyMatrix4(dt.matrixWorld);const Rt=ft.ray.origin.distanceTo(_intersectionPointWorld);return Rt<ft.near||Rt>ft.far?null:{distance:Rt,point:_intersectionPointWorld.clone(),object:dt}}function checkBufferGeometryIntersection(dt,lt,ft,vt,St,Et,At,Ct,Tt){dt.getVertexPosition(At,_vA$1),dt.getVertexPosition(Ct,_vB$1),dt.getVertexPosition(Tt,_vC$1);const Rt=checkIntersection(dt,lt,ft,vt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(Rt){St&&(_uvA$1.fromBufferAttribute(St,At),_uvB$1.fromBufferAttribute(St,Ct),_uvC$1.fromBufferAttribute(St,Tt),Rt.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),Et&&(_uvA$1.fromBufferAttribute(Et,At),_uvB$1.fromBufferAttribute(Et,Ct),_uvC$1.fromBufferAttribute(Et,Tt),Rt.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const Bt={a:At,b:Ct,c:Tt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,Bt.normal),Rt.face=Bt}return Rt}class BoxGeometry extends BufferGeometry{constructor(lt=1,ft=1,vt=1,St=1,Et=1,At=1){super(),this.type="BoxGeometry",this.parameters={width:lt,height:ft,depth:vt,widthSegments:St,heightSegments:Et,depthSegments:At};const Ct=this;St=Math.floor(St),Et=Math.floor(Et),At=Math.floor(At);const Tt=[],Rt=[],Bt=[],Ft=[];let Dt=0,kt=0;zt("z","y","x",-1,-1,vt,ft,lt,At,Et,0),zt("z","y","x",1,-1,vt,ft,-lt,At,Et,1),zt("x","z","y",1,1,lt,vt,ft,St,At,2),zt("x","z","y",1,-1,lt,vt,-ft,St,At,3),zt("x","y","z",1,-1,lt,ft,vt,St,Et,4),zt("x","y","z",-1,-1,lt,ft,-vt,St,Et,5),this.setIndex(Tt),this.setAttribute("position",new Float32BufferAttribute(Rt,3)),this.setAttribute("normal",new Float32BufferAttribute(Bt,3)),this.setAttribute("uv",new Float32BufferAttribute(Ft,2));function zt(Ht,en,Kt,Zt,Wt,tn,an,ln,fn,un,pn){const xn=tn/fn,An=an/un,gn=tn/2,Ln=an/2,Cn=ln/2,En=fn+1,yn=un+1;let Rn=0,hn=0;const mn=new Vector3;for(let bn=0;bn<yn;bn++){const Mn=bn*An-Ln;for(let Tn=0;Tn<En;Tn++){const In=Tn*xn-gn;mn[Ht]=In*Zt,mn[en]=Mn*Wt,mn[Kt]=Cn,Rt.push(mn.x,mn.y,mn.z),mn[Ht]=0,mn[en]=0,mn[Kt]=ln>0?1:-1,Bt.push(mn.x,mn.y,mn.z),Ft.push(Tn/fn),Ft.push(1-bn/un),Rn+=1}}for(let bn=0;bn<un;bn++)for(let Mn=0;Mn<fn;Mn++){const Tn=Dt+Mn+En*bn,In=Dt+Mn+En*(bn+1),Nn=Dt+(Mn+1)+En*(bn+1),$n=Dt+(Mn+1)+En*bn;Tt.push(Tn,In,$n),Tt.push(In,Nn,$n),hn+=6}Ct.addGroup(kt,hn,pn),kt+=hn,Dt+=Rn}}static fromJSON(lt){return new BoxGeometry(lt.width,lt.height,lt.depth,lt.widthSegments,lt.heightSegments,lt.depthSegments)}}function cloneUniforms(dt){const lt={};for(const ft in dt){lt[ft]={};for(const vt in dt[ft]){const St=dt[ft][vt];St&&(St.isColor||St.isMatrix3||St.isMatrix4||St.isVector2||St.isVector3||St.isVector4||St.isTexture||St.isQuaternion)?lt[ft][vt]=St.clone():Array.isArray(St)?lt[ft][vt]=St.slice():lt[ft][vt]=St}}return lt}function mergeUniforms(dt){const lt={};for(let ft=0;ft<dt.length;ft++){const vt=cloneUniforms(dt[ft]);for(const St in vt)lt[St]=vt[St]}return lt}function cloneUniformsGroups(dt){const lt=[];for(let ft=0;ft<dt.length;ft++)lt.push(dt[ft].clone());return lt}function getUnlitUniformColorSpace(dt){return dt.getRenderTarget()===null&&dt.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(lt){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,lt!==void 0&&this.setValues(lt)}copy(lt){return super.copy(lt),this.fragmentShader=lt.fragmentShader,this.vertexShader=lt.vertexShader,this.uniforms=cloneUniforms(lt.uniforms),this.uniformsGroups=cloneUniformsGroups(lt.uniformsGroups),this.defines=Object.assign({},lt.defines),this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.fog=lt.fog,this.lights=lt.lights,this.clipping=lt.clipping,this.extensions=Object.assign({},lt.extensions),this.glslVersion=lt.glslVersion,this}toJSON(lt){const ft=super.toJSON(lt);ft.glslVersion=this.glslVersion,ft.uniforms={};for(const St in this.uniforms){const At=this.uniforms[St].value;At&&At.isTexture?ft.uniforms[St]={type:"t",value:At.toJSON(lt).uuid}:At&&At.isColor?ft.uniforms[St]={type:"c",value:At.getHex()}:At&&At.isVector2?ft.uniforms[St]={type:"v2",value:At.toArray()}:At&&At.isVector3?ft.uniforms[St]={type:"v3",value:At.toArray()}:At&&At.isVector4?ft.uniforms[St]={type:"v4",value:At.toArray()}:At&&At.isMatrix3?ft.uniforms[St]={type:"m3",value:At.toArray()}:At&&At.isMatrix4?ft.uniforms[St]={type:"m4",value:At.toArray()}:ft.uniforms[St]={value:At}}Object.keys(this.defines).length>0&&(ft.defines=this.defines),ft.vertexShader=this.vertexShader,ft.fragmentShader=this.fragmentShader;const vt={};for(const St in this.extensions)this.extensions[St]===!0&&(vt[St]=!0);return Object.keys(vt).length>0&&(ft.extensions=vt),ft}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(lt,ft){return super.copy(lt,ft),this.matrixWorldInverse.copy(lt.matrixWorldInverse),this.projectionMatrix.copy(lt.projectionMatrix),this.projectionMatrixInverse.copy(lt.projectionMatrixInverse),this}getWorldDirection(lt){this.updateWorldMatrix(!0,!1);const ft=this.matrixWorld.elements;return lt.set(-ft[8],-ft[9],-ft[10]).normalize()}updateMatrixWorld(lt){super.updateMatrixWorld(lt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(lt,ft){super.updateWorldMatrix(lt,ft),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let PerspectiveCamera$1=class extends Camera{constructor(lt=50,ft=1,vt=.1,St=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=lt,this.zoom=1,this.near=vt,this.far=St,this.focus=10,this.aspect=ft,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(lt,ft){return super.copy(lt,ft),this.fov=lt.fov,this.zoom=lt.zoom,this.near=lt.near,this.far=lt.far,this.focus=lt.focus,this.aspect=lt.aspect,this.view=lt.view===null?null:Object.assign({},lt.view),this.filmGauge=lt.filmGauge,this.filmOffset=lt.filmOffset,this}setFocalLength(lt){const ft=.5*this.getFilmHeight()/lt;this.fov=RAD2DEG*2*Math.atan(ft),this.updateProjectionMatrix()}getFocalLength(){const lt=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/lt}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(lt,ft,vt,St,Et,At){this.aspect=lt/ft,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=lt,this.view.fullHeight=ft,this.view.offsetX=vt,this.view.offsetY=St,this.view.width=Et,this.view.height=At,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const lt=this.near;let ft=lt*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,vt=2*ft,St=this.aspect*vt,Et=-.5*St;const At=this.view;if(this.view!==null&&this.view.enabled){const Tt=At.fullWidth,Rt=At.fullHeight;Et+=At.offsetX*St/Tt,ft-=At.offsetY*vt/Rt,St*=At.width/Tt,vt*=At.height/Rt}const Ct=this.filmOffset;Ct!==0&&(Et+=lt*Ct/this.getFilmWidth()),this.projectionMatrix.makePerspective(Et,Et+St,ft,ft-vt,lt,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(lt){const ft=super.toJSON(lt);return ft.object.fov=this.fov,ft.object.zoom=this.zoom,ft.object.near=this.near,ft.object.far=this.far,ft.object.focus=this.focus,ft.object.aspect=this.aspect,this.view!==null&&(ft.object.view=Object.assign({},this.view)),ft.object.filmGauge=this.filmGauge,ft.object.filmOffset=this.filmOffset,ft}};const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(lt,ft,vt){super(),this.type="CubeCamera",this.renderTarget=vt;const St=new PerspectiveCamera$1(fov,aspect,lt,ft);St.layers=this.layers,St.up.set(0,1,0),St.lookAt(1,0,0),this.add(St);const Et=new PerspectiveCamera$1(fov,aspect,lt,ft);Et.layers=this.layers,Et.up.set(0,1,0),Et.lookAt(-1,0,0),this.add(Et);const At=new PerspectiveCamera$1(fov,aspect,lt,ft);At.layers=this.layers,At.up.set(0,0,-1),At.lookAt(0,1,0),this.add(At);const Ct=new PerspectiveCamera$1(fov,aspect,lt,ft);Ct.layers=this.layers,Ct.up.set(0,0,1),Ct.lookAt(0,-1,0),this.add(Ct);const Tt=new PerspectiveCamera$1(fov,aspect,lt,ft);Tt.layers=this.layers,Tt.up.set(0,1,0),Tt.lookAt(0,0,1),this.add(Tt);const Rt=new PerspectiveCamera$1(fov,aspect,lt,ft);Rt.layers=this.layers,Rt.up.set(0,1,0),Rt.lookAt(0,0,-1),this.add(Rt)}update(lt,ft){this.parent===null&&this.updateMatrixWorld();const vt=this.renderTarget,[St,Et,At,Ct,Tt,Rt]=this.children,Bt=lt.getRenderTarget(),Ft=lt.toneMapping,Dt=lt.xr.enabled;lt.toneMapping=NoToneMapping,lt.xr.enabled=!1;const kt=vt.texture.generateMipmaps;vt.texture.generateMipmaps=!1,lt.setRenderTarget(vt,0),lt.render(ft,St),lt.setRenderTarget(vt,1),lt.render(ft,Et),lt.setRenderTarget(vt,2),lt.render(ft,At),lt.setRenderTarget(vt,3),lt.render(ft,Ct),lt.setRenderTarget(vt,4),lt.render(ft,Tt),vt.texture.generateMipmaps=kt,lt.setRenderTarget(vt,5),lt.render(ft,Rt),lt.setRenderTarget(Bt),lt.toneMapping=Ft,lt.xr.enabled=Dt,vt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(lt,ft,vt,St,Et,At,Ct,Tt,Rt,Bt){lt=lt!==void 0?lt:[],ft=ft!==void 0?ft:CubeReflectionMapping,super(lt,ft,vt,St,Et,At,Ct,Tt,Rt,Bt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(lt){this.image=lt}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(lt=1,ft={}){super(lt,lt,ft),this.isWebGLCubeRenderTarget=!0;const vt={width:lt,height:lt,depth:1},St=[vt,vt,vt,vt,vt,vt];this.texture=new CubeTexture(St,ft.mapping,ft.wrapS,ft.wrapT,ft.magFilter,ft.minFilter,ft.format,ft.type,ft.anisotropy,ft.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=ft.generateMipmaps!==void 0?ft.generateMipmaps:!1,this.texture.minFilter=ft.minFilter!==void 0?ft.minFilter:LinearFilter}fromEquirectangularTexture(lt,ft){this.texture.type=ft.type,this.texture.encoding=ft.encoding,this.texture.generateMipmaps=ft.generateMipmaps,this.texture.minFilter=ft.minFilter,this.texture.magFilter=ft.magFilter;const vt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},St=new BoxGeometry(5,5,5),Et=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(vt.uniforms),vertexShader:vt.vertexShader,fragmentShader:vt.fragmentShader,side:BackSide,blending:NoBlending});Et.uniforms.tEquirect.value=ft;const At=new Mesh(St,Et),Ct=ft.minFilter;return ft.minFilter===LinearMipmapLinearFilter&&(ft.minFilter=LinearFilter),new CubeCamera(1,10,this).update(lt,At),ft.minFilter=Ct,At.geometry.dispose(),At.material.dispose(),this}clear(lt,ft,vt,St){const Et=lt.getRenderTarget();for(let At=0;At<6;At++)lt.setRenderTarget(this,At),lt.clear(ft,vt,St);lt.setRenderTarget(Et)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(lt=new Vector3(1,0,0),ft=0){this.isPlane=!0,this.normal=lt,this.constant=ft}set(lt,ft){return this.normal.copy(lt),this.constant=ft,this}setComponents(lt,ft,vt,St){return this.normal.set(lt,ft,vt),this.constant=St,this}setFromNormalAndCoplanarPoint(lt,ft){return this.normal.copy(lt),this.constant=-ft.dot(this.normal),this}setFromCoplanarPoints(lt,ft,vt){const St=_vector1.subVectors(vt,ft).cross(_vector2.subVectors(lt,ft)).normalize();return this.setFromNormalAndCoplanarPoint(St,lt),this}copy(lt){return this.normal.copy(lt.normal),this.constant=lt.constant,this}normalize(){const lt=1/this.normal.length();return this.normal.multiplyScalar(lt),this.constant*=lt,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(lt){return this.normal.dot(lt)+this.constant}distanceToSphere(lt){return this.distanceToPoint(lt.center)-lt.radius}projectPoint(lt,ft){return ft.copy(this.normal).multiplyScalar(-this.distanceToPoint(lt)).add(lt)}intersectLine(lt,ft){const vt=lt.delta(_vector1),St=this.normal.dot(vt);if(St===0)return this.distanceToPoint(lt.start)===0?ft.copy(lt.start):null;const Et=-(lt.start.dot(this.normal)+this.constant)/St;return Et<0||Et>1?null:ft.copy(vt).multiplyScalar(Et).add(lt.start)}intersectsLine(lt){const ft=this.distanceToPoint(lt.start),vt=this.distanceToPoint(lt.end);return ft<0&&vt>0||vt<0&&ft>0}intersectsBox(lt){return lt.intersectsPlane(this)}intersectsSphere(lt){return lt.intersectsPlane(this)}coplanarPoint(lt){return lt.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(lt,ft){const vt=ft||_normalMatrix.getNormalMatrix(lt),St=this.coplanarPoint(_vector1).applyMatrix4(lt),Et=this.normal.applyMatrix3(vt).normalize();return this.constant=-St.dot(Et),this}translate(lt){return this.constant-=lt.dot(this.normal),this}equals(lt){return lt.normal.equals(this.normal)&&lt.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$2=new Sphere$1,_vector$7=new Vector3;class Frustum{constructor(lt=new Plane,ft=new Plane,vt=new Plane,St=new Plane,Et=new Plane,At=new Plane){this.planes=[lt,ft,vt,St,Et,At]}set(lt,ft,vt,St,Et,At){const Ct=this.planes;return Ct[0].copy(lt),Ct[1].copy(ft),Ct[2].copy(vt),Ct[3].copy(St),Ct[4].copy(Et),Ct[5].copy(At),this}copy(lt){const ft=this.planes;for(let vt=0;vt<6;vt++)ft[vt].copy(lt.planes[vt]);return this}setFromProjectionMatrix(lt){const ft=this.planes,vt=lt.elements,St=vt[0],Et=vt[1],At=vt[2],Ct=vt[3],Tt=vt[4],Rt=vt[5],Bt=vt[6],Ft=vt[7],Dt=vt[8],kt=vt[9],zt=vt[10],Ht=vt[11],en=vt[12],Kt=vt[13],Zt=vt[14],Wt=vt[15];return ft[0].setComponents(Ct-St,Ft-Tt,Ht-Dt,Wt-en).normalize(),ft[1].setComponents(Ct+St,Ft+Tt,Ht+Dt,Wt+en).normalize(),ft[2].setComponents(Ct+Et,Ft+Rt,Ht+kt,Wt+Kt).normalize(),ft[3].setComponents(Ct-Et,Ft-Rt,Ht-kt,Wt-Kt).normalize(),ft[4].setComponents(Ct-At,Ft-Bt,Ht-zt,Wt-Zt).normalize(),ft[5].setComponents(Ct+At,Ft+Bt,Ht+zt,Wt+Zt).normalize(),this}intersectsObject(lt){const ft=lt.geometry;return ft.boundingSphere===null&&ft.computeBoundingSphere(),_sphere$2.copy(ft.boundingSphere).applyMatrix4(lt.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(lt){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(lt.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(lt){const ft=this.planes,vt=lt.center,St=-lt.radius;for(let Et=0;Et<6;Et++)if(ft[Et].distanceToPoint(vt)<St)return!1;return!0}intersectsBox(lt){const ft=this.planes;for(let vt=0;vt<6;vt++){const St=ft[vt];if(_vector$7.x=St.normal.x>0?lt.max.x:lt.min.x,_vector$7.y=St.normal.y>0?lt.max.y:lt.min.y,_vector$7.z=St.normal.z>0?lt.max.z:lt.min.z,St.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(lt){const ft=this.planes;for(let vt=0;vt<6;vt++)if(ft[vt].distanceToPoint(lt)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let dt=null,lt=!1,ft=null,vt=null;function St(Et,At){ft(Et,At),vt=dt.requestAnimationFrame(St)}return{start:function(){lt!==!0&&ft!==null&&(vt=dt.requestAnimationFrame(St),lt=!0)},stop:function(){dt.cancelAnimationFrame(vt),lt=!1},setAnimationLoop:function(Et){ft=Et},setContext:function(Et){dt=Et}}}function WebGLAttributes(dt,lt){const ft=lt.isWebGL2,vt=new WeakMap;function St(Rt,Bt){const Ft=Rt.array,Dt=Rt.usage,kt=dt.createBuffer();dt.bindBuffer(Bt,kt),dt.bufferData(Bt,Ft,Dt),Rt.onUploadCallback();let zt;if(Ft instanceof Float32Array)zt=5126;else if(Ft instanceof Uint16Array)if(Rt.isFloat16BufferAttribute)if(ft)zt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else zt=5123;else if(Ft instanceof Int16Array)zt=5122;else if(Ft instanceof Uint32Array)zt=5125;else if(Ft instanceof Int32Array)zt=5124;else if(Ft instanceof Int8Array)zt=5120;else if(Ft instanceof Uint8Array)zt=5121;else if(Ft instanceof Uint8ClampedArray)zt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+Ft);return{buffer:kt,type:zt,bytesPerElement:Ft.BYTES_PER_ELEMENT,version:Rt.version}}function Et(Rt,Bt,Ft){const Dt=Bt.array,kt=Bt.updateRange;dt.bindBuffer(Ft,Rt),kt.count===-1?dt.bufferSubData(Ft,0,Dt):(ft?dt.bufferSubData(Ft,kt.offset*Dt.BYTES_PER_ELEMENT,Dt,kt.offset,kt.count):dt.bufferSubData(Ft,kt.offset*Dt.BYTES_PER_ELEMENT,Dt.subarray(kt.offset,kt.offset+kt.count)),kt.count=-1),Bt.onUploadCallback()}function At(Rt){return Rt.isInterleavedBufferAttribute&&(Rt=Rt.data),vt.get(Rt)}function Ct(Rt){Rt.isInterleavedBufferAttribute&&(Rt=Rt.data);const Bt=vt.get(Rt);Bt&&(dt.deleteBuffer(Bt.buffer),vt.delete(Rt))}function Tt(Rt,Bt){if(Rt.isGLBufferAttribute){const Dt=vt.get(Rt);(!Dt||Dt.version<Rt.version)&&vt.set(Rt,{buffer:Rt.buffer,type:Rt.type,bytesPerElement:Rt.elementSize,version:Rt.version});return}Rt.isInterleavedBufferAttribute&&(Rt=Rt.data);const Ft=vt.get(Rt);Ft===void 0?vt.set(Rt,St(Rt,Bt)):Ft.version<Rt.version&&(Et(Ft.buffer,Rt,Bt),Ft.version=Rt.version)}return{get:At,remove:Ct,update:Tt}}class PlaneGeometry extends BufferGeometry{constructor(lt=1,ft=1,vt=1,St=1){super(),this.type="PlaneGeometry",this.parameters={width:lt,height:ft,widthSegments:vt,heightSegments:St};const Et=lt/2,At=ft/2,Ct=Math.floor(vt),Tt=Math.floor(St),Rt=Ct+1,Bt=Tt+1,Ft=lt/Ct,Dt=ft/Tt,kt=[],zt=[],Ht=[],en=[];for(let Kt=0;Kt<Bt;Kt++){const Zt=Kt*Dt-At;for(let Wt=0;Wt<Rt;Wt++){const tn=Wt*Ft-Et;zt.push(tn,-Zt,0),Ht.push(0,0,1),en.push(Wt/Ct),en.push(1-Kt/Tt)}}for(let Kt=0;Kt<Tt;Kt++)for(let Zt=0;Zt<Ct;Zt++){const Wt=Zt+Rt*Kt,tn=Zt+Rt*(Kt+1),an=Zt+1+Rt*(Kt+1),ln=Zt+1+Rt*Kt;kt.push(Wt,tn,ln),kt.push(tn,an,ln)}this.setIndex(kt),this.setAttribute("position",new Float32BufferAttribute(zt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ht,3)),this.setAttribute("uv",new Float32BufferAttribute(en,2))}static fromJSON(lt){return new PlaneGeometry(lt.width,lt.height,lt.widthSegments,lt.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(dt,lt,ft,vt,St,Et,At){const Ct=new Color(0);let Tt=Et===!0?0:1,Rt,Bt,Ft=null,Dt=0,kt=null;function zt(en,Kt){let Zt=!1,Wt=Kt.isScene===!0?Kt.background:null;Wt&&Wt.isTexture&&(Wt=(Kt.backgroundBlurriness>0?ft:lt).get(Wt));const tn=dt.xr,an=tn.getSession&&tn.getSession();an&&an.environmentBlendMode==="additive"&&(Wt=null),Wt===null?Ht(Ct,Tt):Wt&&Wt.isColor&&(Ht(Wt,1),Zt=!0),(dt.autoClear||Zt)&&dt.clear(dt.autoClearColor,dt.autoClearDepth,dt.autoClearStencil),Wt&&(Wt.isCubeTexture||Wt.mapping===CubeUVReflectionMapping)?(Bt===void 0&&(Bt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),Bt.geometry.deleteAttribute("normal"),Bt.geometry.deleteAttribute("uv"),Bt.onBeforeRender=function(ln,fn,un){this.matrixWorld.copyPosition(un.matrixWorld)},Object.defineProperty(Bt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),St.update(Bt)),Bt.material.uniforms.envMap.value=Wt,Bt.material.uniforms.flipEnvMap.value=Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1?-1:1,Bt.material.uniforms.backgroundBlurriness.value=Kt.backgroundBlurriness,Bt.material.uniforms.backgroundIntensity.value=Kt.backgroundIntensity,Bt.material.toneMapped=Wt.encoding!==sRGBEncoding,(Ft!==Wt||Dt!==Wt.version||kt!==dt.toneMapping)&&(Bt.material.needsUpdate=!0,Ft=Wt,Dt=Wt.version,kt=dt.toneMapping),Bt.layers.enableAll(),en.unshift(Bt,Bt.geometry,Bt.material,0,0,null)):Wt&&Wt.isTexture&&(Rt===void 0&&(Rt=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),Rt.geometry.deleteAttribute("normal"),Object.defineProperty(Rt.material,"map",{get:function(){return this.uniforms.t2D.value}}),St.update(Rt)),Rt.material.uniforms.t2D.value=Wt,Rt.material.uniforms.backgroundIntensity.value=Kt.backgroundIntensity,Rt.material.toneMapped=Wt.encoding!==sRGBEncoding,Wt.matrixAutoUpdate===!0&&Wt.updateMatrix(),Rt.material.uniforms.uvTransform.value.copy(Wt.matrix),(Ft!==Wt||Dt!==Wt.version||kt!==dt.toneMapping)&&(Rt.material.needsUpdate=!0,Ft=Wt,Dt=Wt.version,kt=dt.toneMapping),Rt.layers.enableAll(),en.unshift(Rt,Rt.geometry,Rt.material,0,0,null))}function Ht(en,Kt){en.getRGB(_rgb,getUnlitUniformColorSpace(dt)),vt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Kt,At)}return{getClearColor:function(){return Ct},setClearColor:function(en,Kt=1){Ct.set(en),Tt=Kt,Ht(Ct,Tt)},getClearAlpha:function(){return Tt},setClearAlpha:function(en){Tt=en,Ht(Ct,Tt)},render:zt}}function WebGLBindingStates(dt,lt,ft,vt){const St=dt.getParameter(34921),Et=vt.isWebGL2?null:lt.get("OES_vertex_array_object"),At=vt.isWebGL2||Et!==null,Ct={},Tt=en(null);let Rt=Tt,Bt=!1;function Ft(Cn,En,yn,Rn,hn){let mn=!1;if(At){const bn=Ht(Rn,yn,En);Rt!==bn&&(Rt=bn,kt(Rt.object)),mn=Kt(Cn,Rn,yn,hn),mn&&Zt(Cn,Rn,yn,hn)}else{const bn=En.wireframe===!0;(Rt.geometry!==Rn.id||Rt.program!==yn.id||Rt.wireframe!==bn)&&(Rt.geometry=Rn.id,Rt.program=yn.id,Rt.wireframe=bn,mn=!0)}hn!==null&&ft.update(hn,34963),(mn||Bt)&&(Bt=!1,un(Cn,En,yn,Rn),hn!==null&&dt.bindBuffer(34963,ft.get(hn).buffer))}function Dt(){return vt.isWebGL2?dt.createVertexArray():Et.createVertexArrayOES()}function kt(Cn){return vt.isWebGL2?dt.bindVertexArray(Cn):Et.bindVertexArrayOES(Cn)}function zt(Cn){return vt.isWebGL2?dt.deleteVertexArray(Cn):Et.deleteVertexArrayOES(Cn)}function Ht(Cn,En,yn){const Rn=yn.wireframe===!0;let hn=Ct[Cn.id];hn===void 0&&(hn={},Ct[Cn.id]=hn);let mn=hn[En.id];mn===void 0&&(mn={},hn[En.id]=mn);let bn=mn[Rn];return bn===void 0&&(bn=en(Dt()),mn[Rn]=bn),bn}function en(Cn){const En=[],yn=[],Rn=[];for(let hn=0;hn<St;hn++)En[hn]=0,yn[hn]=0,Rn[hn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:En,enabledAttributes:yn,attributeDivisors:Rn,object:Cn,attributes:{},index:null}}function Kt(Cn,En,yn,Rn){const hn=Rt.attributes,mn=En.attributes;let bn=0;const Mn=yn.getAttributes();for(const Tn in Mn)if(Mn[Tn].location>=0){const Nn=hn[Tn];let $n=mn[Tn];if($n===void 0&&(Tn==="instanceMatrix"&&Cn.instanceMatrix&&($n=Cn.instanceMatrix),Tn==="instanceColor"&&Cn.instanceColor&&($n=Cn.instanceColor)),Nn===void 0||Nn.attribute!==$n||$n&&Nn.data!==$n.data)return!0;bn++}return Rt.attributesNum!==bn||Rt.index!==Rn}function Zt(Cn,En,yn,Rn){const hn={},mn=En.attributes;let bn=0;const Mn=yn.getAttributes();for(const Tn in Mn)if(Mn[Tn].location>=0){let Nn=mn[Tn];Nn===void 0&&(Tn==="instanceMatrix"&&Cn.instanceMatrix&&(Nn=Cn.instanceMatrix),Tn==="instanceColor"&&Cn.instanceColor&&(Nn=Cn.instanceColor));const $n={};$n.attribute=Nn,Nn&&Nn.data&&($n.data=Nn.data),hn[Tn]=$n,bn++}Rt.attributes=hn,Rt.attributesNum=bn,Rt.index=Rn}function Wt(){const Cn=Rt.newAttributes;for(let En=0,yn=Cn.length;En<yn;En++)Cn[En]=0}function tn(Cn){an(Cn,0)}function an(Cn,En){const yn=Rt.newAttributes,Rn=Rt.enabledAttributes,hn=Rt.attributeDivisors;yn[Cn]=1,Rn[Cn]===0&&(dt.enableVertexAttribArray(Cn),Rn[Cn]=1),hn[Cn]!==En&&((vt.isWebGL2?dt:lt.get("ANGLE_instanced_arrays"))[vt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Cn,En),hn[Cn]=En)}function ln(){const Cn=Rt.newAttributes,En=Rt.enabledAttributes;for(let yn=0,Rn=En.length;yn<Rn;yn++)En[yn]!==Cn[yn]&&(dt.disableVertexAttribArray(yn),En[yn]=0)}function fn(Cn,En,yn,Rn,hn,mn){vt.isWebGL2===!0&&(yn===5124||yn===5125)?dt.vertexAttribIPointer(Cn,En,yn,hn,mn):dt.vertexAttribPointer(Cn,En,yn,Rn,hn,mn)}function un(Cn,En,yn,Rn){if(vt.isWebGL2===!1&&(Cn.isInstancedMesh||Rn.isInstancedBufferGeometry)&&lt.get("ANGLE_instanced_arrays")===null)return;Wt();const hn=Rn.attributes,mn=yn.getAttributes(),bn=En.defaultAttributeValues;for(const Mn in mn){const Tn=mn[Mn];if(Tn.location>=0){let In=hn[Mn];if(In===void 0&&(Mn==="instanceMatrix"&&Cn.instanceMatrix&&(In=Cn.instanceMatrix),Mn==="instanceColor"&&Cn.instanceColor&&(In=Cn.instanceColor)),In!==void 0){const Nn=In.normalized,$n=In.itemSize,Gn=ft.get(In);if(Gn===void 0)continue;const Zn=Gn.buffer,Un=Gn.type,Xn=Gn.bytesPerElement;if(In.isInterleavedBufferAttribute){const Vn=In.data,Wn=Vn.stride,Dn=In.offset;if(Vn.isInstancedInterleavedBuffer){for(let jn=0;jn<Tn.locationSize;jn++)an(Tn.location+jn,Vn.meshPerAttribute);Cn.isInstancedMesh!==!0&&Rn._maxInstanceCount===void 0&&(Rn._maxInstanceCount=Vn.meshPerAttribute*Vn.count)}else for(let jn=0;jn<Tn.locationSize;jn++)tn(Tn.location+jn);dt.bindBuffer(34962,Zn);for(let jn=0;jn<Tn.locationSize;jn++)fn(Tn.location+jn,$n/Tn.locationSize,Un,Nn,Wn*Xn,(Dn+$n/Tn.locationSize*jn)*Xn)}else{if(In.isInstancedBufferAttribute){for(let Vn=0;Vn<Tn.locationSize;Vn++)an(Tn.location+Vn,In.meshPerAttribute);Cn.isInstancedMesh!==!0&&Rn._maxInstanceCount===void 0&&(Rn._maxInstanceCount=In.meshPerAttribute*In.count)}else for(let Vn=0;Vn<Tn.locationSize;Vn++)tn(Tn.location+Vn);dt.bindBuffer(34962,Zn);for(let Vn=0;Vn<Tn.locationSize;Vn++)fn(Tn.location+Vn,$n/Tn.locationSize,Un,Nn,$n*Xn,$n/Tn.locationSize*Vn*Xn)}}else if(bn!==void 0){const Nn=bn[Mn];if(Nn!==void 0)switch(Nn.length){case 2:dt.vertexAttrib2fv(Tn.location,Nn);break;case 3:dt.vertexAttrib3fv(Tn.location,Nn);break;case 4:dt.vertexAttrib4fv(Tn.location,Nn);break;default:dt.vertexAttrib1fv(Tn.location,Nn)}}}}ln()}function pn(){gn();for(const Cn in Ct){const En=Ct[Cn];for(const yn in En){const Rn=En[yn];for(const hn in Rn)zt(Rn[hn].object),delete Rn[hn];delete En[yn]}delete Ct[Cn]}}function xn(Cn){if(Ct[Cn.id]===void 0)return;const En=Ct[Cn.id];for(const yn in En){const Rn=En[yn];for(const hn in Rn)zt(Rn[hn].object),delete Rn[hn];delete En[yn]}delete Ct[Cn.id]}function An(Cn){for(const En in Ct){const yn=Ct[En];if(yn[Cn.id]===void 0)continue;const Rn=yn[Cn.id];for(const hn in Rn)zt(Rn[hn].object),delete Rn[hn];delete yn[Cn.id]}}function gn(){Ln(),Bt=!0,Rt!==Tt&&(Rt=Tt,kt(Rt.object))}function Ln(){Tt.geometry=null,Tt.program=null,Tt.wireframe=!1}return{setup:Ft,reset:gn,resetDefaultState:Ln,dispose:pn,releaseStatesOfGeometry:xn,releaseStatesOfProgram:An,initAttributes:Wt,enableAttribute:tn,disableUnusedAttributes:ln}}function WebGLBufferRenderer(dt,lt,ft,vt){const St=vt.isWebGL2;let Et;function At(Rt){Et=Rt}function Ct(Rt,Bt){dt.drawArrays(Et,Rt,Bt),ft.update(Bt,Et,1)}function Tt(Rt,Bt,Ft){if(Ft===0)return;let Dt,kt;if(St)Dt=dt,kt="drawArraysInstanced";else if(Dt=lt.get("ANGLE_instanced_arrays"),kt="drawArraysInstancedANGLE",Dt===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Dt[kt](Et,Rt,Bt,Ft),ft.update(Bt,Et,Ft)}this.setMode=At,this.render=Ct,this.renderInstances=Tt}function WebGLCapabilities(dt,lt,ft){let vt;function St(){if(vt!==void 0)return vt;if(lt.has("EXT_texture_filter_anisotropic")===!0){const fn=lt.get("EXT_texture_filter_anisotropic");vt=dt.getParameter(fn.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else vt=0;return vt}function Et(fn){if(fn==="highp"){if(dt.getShaderPrecisionFormat(35633,36338).precision>0&&dt.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";fn="mediump"}return fn==="mediump"&&dt.getShaderPrecisionFormat(35633,36337).precision>0&&dt.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const At=typeof WebGL2RenderingContext<"u"&&dt instanceof WebGL2RenderingContext;let Ct=ft.precision!==void 0?ft.precision:"highp";const Tt=Et(Ct);Tt!==Ct&&(console.warn("THREE.WebGLRenderer:",Ct,"not supported, using",Tt,"instead."),Ct=Tt);const Rt=At||lt.has("WEBGL_draw_buffers"),Bt=ft.logarithmicDepthBuffer===!0,Ft=dt.getParameter(34930),Dt=dt.getParameter(35660),kt=dt.getParameter(3379),zt=dt.getParameter(34076),Ht=dt.getParameter(34921),en=dt.getParameter(36347),Kt=dt.getParameter(36348),Zt=dt.getParameter(36349),Wt=Dt>0,tn=At||lt.has("OES_texture_float"),an=Wt&&tn,ln=At?dt.getParameter(36183):0;return{isWebGL2:At,drawBuffers:Rt,getMaxAnisotropy:St,getMaxPrecision:Et,precision:Ct,logarithmicDepthBuffer:Bt,maxTextures:Ft,maxVertexTextures:Dt,maxTextureSize:kt,maxCubemapSize:zt,maxAttributes:Ht,maxVertexUniforms:en,maxVaryings:Kt,maxFragmentUniforms:Zt,vertexTextures:Wt,floatFragmentTextures:tn,floatVertexTextures:an,maxSamples:ln}}function WebGLClipping(dt){const lt=this;let ft=null,vt=0,St=!1,Et=!1;const At=new Plane,Ct=new Matrix3,Tt={value:null,needsUpdate:!1};this.uniform=Tt,this.numPlanes=0,this.numIntersection=0,this.init=function(Ft,Dt){const kt=Ft.length!==0||Dt||vt!==0||St;return St=Dt,vt=Ft.length,kt},this.beginShadows=function(){Et=!0,Bt(null)},this.endShadows=function(){Et=!1},this.setGlobalState=function(Ft,Dt){ft=Bt(Ft,Dt,0)},this.setState=function(Ft,Dt,kt){const zt=Ft.clippingPlanes,Ht=Ft.clipIntersection,en=Ft.clipShadows,Kt=dt.get(Ft);if(!St||zt===null||zt.length===0||Et&&!en)Et?Bt(null):Rt();else{const Zt=Et?0:vt,Wt=Zt*4;let tn=Kt.clippingState||null;Tt.value=tn,tn=Bt(zt,Dt,Wt,kt);for(let an=0;an!==Wt;++an)tn[an]=ft[an];Kt.clippingState=tn,this.numIntersection=Ht?this.numPlanes:0,this.numPlanes+=Zt}};function Rt(){Tt.value!==ft&&(Tt.value=ft,Tt.needsUpdate=vt>0),lt.numPlanes=vt,lt.numIntersection=0}function Bt(Ft,Dt,kt,zt){const Ht=Ft!==null?Ft.length:0;let en=null;if(Ht!==0){if(en=Tt.value,zt!==!0||en===null){const Kt=kt+Ht*4,Zt=Dt.matrixWorldInverse;Ct.getNormalMatrix(Zt),(en===null||en.length<Kt)&&(en=new Float32Array(Kt));for(let Wt=0,tn=kt;Wt!==Ht;++Wt,tn+=4)At.copy(Ft[Wt]).applyMatrix4(Zt,Ct),At.normal.toArray(en,tn),en[tn+3]=At.constant}Tt.value=en,Tt.needsUpdate=!0}return lt.numPlanes=Ht,lt.numIntersection=0,en}}function WebGLCubeMaps(dt){let lt=new WeakMap;function ft(At,Ct){return Ct===EquirectangularReflectionMapping?At.mapping=CubeReflectionMapping:Ct===EquirectangularRefractionMapping&&(At.mapping=CubeRefractionMapping),At}function vt(At){if(At&&At.isTexture&&At.isRenderTargetTexture===!1){const Ct=At.mapping;if(Ct===EquirectangularReflectionMapping||Ct===EquirectangularRefractionMapping)if(lt.has(At)){const Tt=lt.get(At).texture;return ft(Tt,At.mapping)}else{const Tt=At.image;if(Tt&&Tt.height>0){const Rt=new WebGLCubeRenderTarget(Tt.height/2);return Rt.fromEquirectangularTexture(dt,At),lt.set(At,Rt),At.addEventListener("dispose",St),ft(Rt.texture,At.mapping)}else return null}}return At}function St(At){const Ct=At.target;Ct.removeEventListener("dispose",St);const Tt=lt.get(Ct);Tt!==void 0&&(lt.delete(Ct),Tt.dispose())}function Et(){lt=new WeakMap}return{get:vt,dispose:Et}}class OrthographicCamera extends Camera{constructor(lt=-1,ft=1,vt=1,St=-1,Et=.1,At=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=lt,this.right=ft,this.top=vt,this.bottom=St,this.near=Et,this.far=At,this.updateProjectionMatrix()}copy(lt,ft){return super.copy(lt,ft),this.left=lt.left,this.right=lt.right,this.top=lt.top,this.bottom=lt.bottom,this.near=lt.near,this.far=lt.far,this.zoom=lt.zoom,this.view=lt.view===null?null:Object.assign({},lt.view),this}setViewOffset(lt,ft,vt,St,Et,At){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=lt,this.view.fullHeight=ft,this.view.offsetX=vt,this.view.offsetY=St,this.view.width=Et,this.view.height=At,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const lt=(this.right-this.left)/(2*this.zoom),ft=(this.top-this.bottom)/(2*this.zoom),vt=(this.right+this.left)/2,St=(this.top+this.bottom)/2;let Et=vt-lt,At=vt+lt,Ct=St+ft,Tt=St-ft;if(this.view!==null&&this.view.enabled){const Rt=(this.right-this.left)/this.view.fullWidth/this.zoom,Bt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;Et+=Rt*this.view.offsetX,At=Et+Rt*this.view.width,Ct-=Bt*this.view.offsetY,Tt=Ct-Bt*this.view.height}this.projectionMatrix.makeOrthographic(Et,At,Ct,Tt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(lt){const ft=super.toJSON(lt);return ft.object.zoom=this.zoom,ft.object.left=this.left,ft.object.right=this.right,ft.object.top=this.top,ft.object.bottom=this.bottom,ft.object.near=this.near,ft.object.far=this.far,this.view!==null&&(ft.object.view=Object.assign({},this.view)),ft}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(lt){this._renderer=lt,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(lt,ft=0,vt=.1,St=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const Et=this._allocateTargets();return Et.depthBuffer=!0,this._sceneToCubeUV(lt,vt,St,Et),ft>0&&this._blur(Et,0,0,ft),this._applyPMREM(Et),this._cleanup(Et),Et}fromEquirectangular(lt,ft=null){return this._fromTexture(lt,ft)}fromCubemap(lt,ft=null){return this._fromTexture(lt,ft)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(lt){this._lodMax=Math.floor(Math.log2(lt)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let lt=0;lt<this._lodPlanes.length;lt++)this._lodPlanes[lt].dispose()}_cleanup(lt){this._renderer.setRenderTarget(_oldTarget),lt.scissorTest=!1,_setViewport(lt,0,0,lt.width,lt.height)}_fromTexture(lt,ft){lt.mapping===CubeReflectionMapping||lt.mapping===CubeRefractionMapping?this._setSize(lt.image.length===0?16:lt.image[0].width||lt.image[0].image.width):this._setSize(lt.image.width/4),_oldTarget=this._renderer.getRenderTarget();const vt=ft||this._allocateTargets();return this._textureToCubeUV(lt,vt),this._applyPMREM(vt),this._cleanup(vt),vt}_allocateTargets(){const lt=3*Math.max(this._cubeSize,112),ft=4*this._cubeSize,vt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},St=_createRenderTarget(lt,ft,vt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==lt||this._pingPongRenderTarget.height!==ft){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(lt,ft,vt);const{_lodMax:Et}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(Et)),this._blurMaterial=_getBlurShader(Et,lt,ft)}return St}_compileMaterial(lt){const ft=new Mesh(this._lodPlanes[0],lt);this._renderer.compile(ft,_flatCamera)}_sceneToCubeUV(lt,ft,vt,St){const Ct=new PerspectiveCamera$1(90,1,ft,vt),Tt=[1,-1,1,1,1,1],Rt=[1,1,1,-1,-1,-1],Bt=this._renderer,Ft=Bt.autoClear,Dt=Bt.toneMapping;Bt.getClearColor(_clearColor),Bt.toneMapping=NoToneMapping,Bt.autoClear=!1;const kt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),zt=new Mesh(new BoxGeometry,kt);let Ht=!1;const en=lt.background;en?en.isColor&&(kt.color.copy(en),lt.background=null,Ht=!0):(kt.color.copy(_clearColor),Ht=!0);for(let Kt=0;Kt<6;Kt++){const Zt=Kt%3;Zt===0?(Ct.up.set(0,Tt[Kt],0),Ct.lookAt(Rt[Kt],0,0)):Zt===1?(Ct.up.set(0,0,Tt[Kt]),Ct.lookAt(0,Rt[Kt],0)):(Ct.up.set(0,Tt[Kt],0),Ct.lookAt(0,0,Rt[Kt]));const Wt=this._cubeSize;_setViewport(St,Zt*Wt,Kt>2?Wt:0,Wt,Wt),Bt.setRenderTarget(St),Ht&&Bt.render(zt,Ct),Bt.render(lt,Ct)}zt.geometry.dispose(),zt.material.dispose(),Bt.toneMapping=Dt,Bt.autoClear=Ft,lt.background=en}_textureToCubeUV(lt,ft){const vt=this._renderer,St=lt.mapping===CubeReflectionMapping||lt.mapping===CubeRefractionMapping;St?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=lt.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const Et=St?this._cubemapMaterial:this._equirectMaterial,At=new Mesh(this._lodPlanes[0],Et),Ct=Et.uniforms;Ct.envMap.value=lt;const Tt=this._cubeSize;_setViewport(ft,0,0,3*Tt,2*Tt),vt.setRenderTarget(ft),vt.render(At,_flatCamera)}_applyPMREM(lt){const ft=this._renderer,vt=ft.autoClear;ft.autoClear=!1;for(let St=1;St<this._lodPlanes.length;St++){const Et=Math.sqrt(this._sigmas[St]*this._sigmas[St]-this._sigmas[St-1]*this._sigmas[St-1]),At=_axisDirections[(St-1)%_axisDirections.length];this._blur(lt,St-1,St,Et,At)}ft.autoClear=vt}_blur(lt,ft,vt,St,Et){const At=this._pingPongRenderTarget;this._halfBlur(lt,At,ft,vt,St,"latitudinal",Et),this._halfBlur(At,lt,vt,vt,St,"longitudinal",Et)}_halfBlur(lt,ft,vt,St,Et,At,Ct){const Tt=this._renderer,Rt=this._blurMaterial;At!=="latitudinal"&&At!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Bt=3,Ft=new Mesh(this._lodPlanes[St],Rt),Dt=Rt.uniforms,kt=this._sizeLods[vt]-1,zt=isFinite(Et)?Math.PI/(2*kt):2*Math.PI/(2*MAX_SAMPLES-1),Ht=Et/zt,en=isFinite(Et)?1+Math.floor(Bt*Ht):MAX_SAMPLES;en>MAX_SAMPLES&&console.warn(`sigmaRadians, ${Et}, is too large and will clip, as it requested ${en} samples when the maximum is set to ${MAX_SAMPLES}`);const Kt=[];let Zt=0;for(let fn=0;fn<MAX_SAMPLES;++fn){const un=fn/Ht,pn=Math.exp(-un*un/2);Kt.push(pn),fn===0?Zt+=pn:fn<en&&(Zt+=2*pn)}for(let fn=0;fn<Kt.length;fn++)Kt[fn]=Kt[fn]/Zt;Dt.envMap.value=lt.texture,Dt.samples.value=en,Dt.weights.value=Kt,Dt.latitudinal.value=At==="latitudinal",Ct&&(Dt.poleAxis.value=Ct);const{_lodMax:Wt}=this;Dt.dTheta.value=zt,Dt.mipInt.value=Wt-vt;const tn=this._sizeLods[St],an=3*tn*(St>Wt-LOD_MIN?St-Wt+LOD_MIN:0),ln=4*(this._cubeSize-tn);_setViewport(ft,an,ln,3*tn,2*tn),Tt.setRenderTarget(ft),Tt.render(Ft,_flatCamera)}}function _createPlanes(dt){const lt=[],ft=[],vt=[];let St=dt;const Et=dt-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let At=0;At<Et;At++){const Ct=Math.pow(2,St);ft.push(Ct);let Tt=1/Ct;At>dt-LOD_MIN?Tt=EXTRA_LOD_SIGMA[At-dt+LOD_MIN-1]:At===0&&(Tt=0),vt.push(Tt);const Rt=1/(Ct-2),Bt=-Rt,Ft=1+Rt,Dt=[Bt,Bt,Ft,Bt,Ft,Ft,Bt,Bt,Ft,Ft,Bt,Ft],kt=6,zt=6,Ht=3,en=2,Kt=1,Zt=new Float32Array(Ht*zt*kt),Wt=new Float32Array(en*zt*kt),tn=new Float32Array(Kt*zt*kt);for(let ln=0;ln<kt;ln++){const fn=ln%3*2/3-1,un=ln>2?0:-1,pn=[fn,un,0,fn+2/3,un,0,fn+2/3,un+1,0,fn,un,0,fn+2/3,un+1,0,fn,un+1,0];Zt.set(pn,Ht*zt*ln),Wt.set(Dt,en*zt*ln);const xn=[ln,ln,ln,ln,ln,ln];tn.set(xn,Kt*zt*ln)}const an=new BufferGeometry;an.setAttribute("position",new BufferAttribute(Zt,Ht)),an.setAttribute("uv",new BufferAttribute(Wt,en)),an.setAttribute("faceIndex",new BufferAttribute(tn,Kt)),lt.push(an),St>LOD_MIN&&St--}return{lodPlanes:lt,sizeLods:ft,sigmas:vt}}function _createRenderTarget(dt,lt,ft){const vt=new WebGLRenderTarget(dt,lt,ft);return vt.texture.mapping=CubeUVReflectionMapping,vt.texture.name="PMREM.cubeUv",vt.scissorTest=!0,vt}function _setViewport(dt,lt,ft,vt,St){dt.viewport.set(lt,ft,vt,St),dt.scissor.set(lt,ft,vt,St)}function _getBlurShader(dt,lt,ft){const vt=new Float32Array(MAX_SAMPLES),St=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/lt,CUBEUV_TEXEL_HEIGHT:1/ft,CUBEUV_MAX_MIP:`${dt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:vt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:St}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(dt){let lt=new WeakMap,ft=null;function vt(Ct){if(Ct&&Ct.isTexture){const Tt=Ct.mapping,Rt=Tt===EquirectangularReflectionMapping||Tt===EquirectangularRefractionMapping,Bt=Tt===CubeReflectionMapping||Tt===CubeRefractionMapping;if(Rt||Bt)if(Ct.isRenderTargetTexture&&Ct.needsPMREMUpdate===!0){Ct.needsPMREMUpdate=!1;let Ft=lt.get(Ct);return ft===null&&(ft=new PMREMGenerator(dt)),Ft=Rt?ft.fromEquirectangular(Ct,Ft):ft.fromCubemap(Ct,Ft),lt.set(Ct,Ft),Ft.texture}else{if(lt.has(Ct))return lt.get(Ct).texture;{const Ft=Ct.image;if(Rt&&Ft&&Ft.height>0||Bt&&Ft&&St(Ft)){ft===null&&(ft=new PMREMGenerator(dt));const Dt=Rt?ft.fromEquirectangular(Ct):ft.fromCubemap(Ct);return lt.set(Ct,Dt),Ct.addEventListener("dispose",Et),Dt.texture}else return null}}}return Ct}function St(Ct){let Tt=0;const Rt=6;for(let Bt=0;Bt<Rt;Bt++)Ct[Bt]!==void 0&&Tt++;return Tt===Rt}function Et(Ct){const Tt=Ct.target;Tt.removeEventListener("dispose",Et);const Rt=lt.get(Tt);Rt!==void 0&&(lt.delete(Tt),Rt.dispose())}function At(){lt=new WeakMap,ft!==null&&(ft.dispose(),ft=null)}return{get:vt,dispose:At}}function WebGLExtensions(dt){const lt={};function ft(vt){if(lt[vt]!==void 0)return lt[vt];let St;switch(vt){case"WEBGL_depth_texture":St=dt.getExtension("WEBGL_depth_texture")||dt.getExtension("MOZ_WEBGL_depth_texture")||dt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":St=dt.getExtension("EXT_texture_filter_anisotropic")||dt.getExtension("MOZ_EXT_texture_filter_anisotropic")||dt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":St=dt.getExtension("WEBGL_compressed_texture_s3tc")||dt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||dt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":St=dt.getExtension("WEBGL_compressed_texture_pvrtc")||dt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:St=dt.getExtension(vt)}return lt[vt]=St,St}return{has:function(vt){return ft(vt)!==null},init:function(vt){vt.isWebGL2?ft("EXT_color_buffer_float"):(ft("WEBGL_depth_texture"),ft("OES_texture_float"),ft("OES_texture_half_float"),ft("OES_texture_half_float_linear"),ft("OES_standard_derivatives"),ft("OES_element_index_uint"),ft("OES_vertex_array_object"),ft("ANGLE_instanced_arrays")),ft("OES_texture_float_linear"),ft("EXT_color_buffer_half_float"),ft("WEBGL_multisampled_render_to_texture")},get:function(vt){const St=ft(vt);return St===null&&console.warn("THREE.WebGLRenderer: "+vt+" extension not supported."),St}}}function WebGLGeometries(dt,lt,ft,vt){const St={},Et=new WeakMap;function At(Ft){const Dt=Ft.target;Dt.index!==null&&lt.remove(Dt.index);for(const zt in Dt.attributes)lt.remove(Dt.attributes[zt]);Dt.removeEventListener("dispose",At),delete St[Dt.id];const kt=Et.get(Dt);kt&&(lt.remove(kt),Et.delete(Dt)),vt.releaseStatesOfGeometry(Dt),Dt.isInstancedBufferGeometry===!0&&delete Dt._maxInstanceCount,ft.memory.geometries--}function Ct(Ft,Dt){return St[Dt.id]===!0||(Dt.addEventListener("dispose",At),St[Dt.id]=!0,ft.memory.geometries++),Dt}function Tt(Ft){const Dt=Ft.attributes;for(const zt in Dt)lt.update(Dt[zt],34962);const kt=Ft.morphAttributes;for(const zt in kt){const Ht=kt[zt];for(let en=0,Kt=Ht.length;en<Kt;en++)lt.update(Ht[en],34962)}}function Rt(Ft){const Dt=[],kt=Ft.index,zt=Ft.attributes.position;let Ht=0;if(kt!==null){const Zt=kt.array;Ht=kt.version;for(let Wt=0,tn=Zt.length;Wt<tn;Wt+=3){const an=Zt[Wt+0],ln=Zt[Wt+1],fn=Zt[Wt+2];Dt.push(an,ln,ln,fn,fn,an)}}else{const Zt=zt.array;Ht=zt.version;for(let Wt=0,tn=Zt.length/3-1;Wt<tn;Wt+=3){const an=Wt+0,ln=Wt+1,fn=Wt+2;Dt.push(an,ln,ln,fn,fn,an)}}const en=new(arrayNeedsUint32(Dt)?Uint32BufferAttribute:Uint16BufferAttribute)(Dt,1);en.version=Ht;const Kt=Et.get(Ft);Kt&&lt.remove(Kt),Et.set(Ft,en)}function Bt(Ft){const Dt=Et.get(Ft);if(Dt){const kt=Ft.index;kt!==null&&Dt.version<kt.version&&Rt(Ft)}else Rt(Ft);return Et.get(Ft)}return{get:Ct,update:Tt,getWireframeAttribute:Bt}}function WebGLIndexedBufferRenderer(dt,lt,ft,vt){const St=vt.isWebGL2;let Et;function At(Dt){Et=Dt}let Ct,Tt;function Rt(Dt){Ct=Dt.type,Tt=Dt.bytesPerElement}function Bt(Dt,kt){dt.drawElements(Et,kt,Ct,Dt*Tt),ft.update(kt,Et,1)}function Ft(Dt,kt,zt){if(zt===0)return;let Ht,en;if(St)Ht=dt,en="drawElementsInstanced";else if(Ht=lt.get("ANGLE_instanced_arrays"),en="drawElementsInstancedANGLE",Ht===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Ht[en](Et,kt,Ct,Dt*Tt,zt),ft.update(kt,Et,zt)}this.setMode=At,this.setIndex=Rt,this.render=Bt,this.renderInstances=Ft}function WebGLInfo(dt){const lt={geometries:0,textures:0},ft={frame:0,calls:0,triangles:0,points:0,lines:0};function vt(Et,At,Ct){switch(ft.calls++,At){case 4:ft.triangles+=Ct*(Et/3);break;case 1:ft.lines+=Ct*(Et/2);break;case 3:ft.lines+=Ct*(Et-1);break;case 2:ft.lines+=Ct*Et;break;case 0:ft.points+=Ct*Et;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",At);break}}function St(){ft.frame++,ft.calls=0,ft.triangles=0,ft.points=0,ft.lines=0}return{memory:lt,render:ft,programs:null,autoReset:!0,reset:St,update:vt}}function numericalSort(dt,lt){return dt[0]-lt[0]}function absNumericalSort(dt,lt){return Math.abs(lt[1])-Math.abs(dt[1])}function WebGLMorphtargets(dt,lt,ft){const vt={},St=new Float32Array(8),Et=new WeakMap,At=new Vector4,Ct=[];for(let Rt=0;Rt<8;Rt++)Ct[Rt]=[Rt,0];function Tt(Rt,Bt,Ft,Dt){const kt=Rt.morphTargetInfluences;if(lt.isWebGL2===!0){const Ht=Bt.morphAttributes.position||Bt.morphAttributes.normal||Bt.morphAttributes.color,en=Ht!==void 0?Ht.length:0;let Kt=Et.get(Bt);if(Kt===void 0||Kt.count!==en){let yn=function(){Cn.dispose(),Et.delete(Bt),Bt.removeEventListener("dispose",yn)};var zt=yn;Kt!==void 0&&Kt.texture.dispose();const tn=Bt.morphAttributes.position!==void 0,an=Bt.morphAttributes.normal!==void 0,ln=Bt.morphAttributes.color!==void 0,fn=Bt.morphAttributes.position||[],un=Bt.morphAttributes.normal||[],pn=Bt.morphAttributes.color||[];let xn=0;tn===!0&&(xn=1),an===!0&&(xn=2),ln===!0&&(xn=3);let An=Bt.attributes.position.count*xn,gn=1;An>lt.maxTextureSize&&(gn=Math.ceil(An/lt.maxTextureSize),An=lt.maxTextureSize);const Ln=new Float32Array(An*gn*4*en),Cn=new DataArrayTexture(Ln,An,gn,en);Cn.type=FloatType,Cn.needsUpdate=!0;const En=xn*4;for(let Rn=0;Rn<en;Rn++){const hn=fn[Rn],mn=un[Rn],bn=pn[Rn],Mn=An*gn*4*Rn;for(let Tn=0;Tn<hn.count;Tn++){const In=Tn*En;tn===!0&&(At.fromBufferAttribute(hn,Tn),Ln[Mn+In+0]=At.x,Ln[Mn+In+1]=At.y,Ln[Mn+In+2]=At.z,Ln[Mn+In+3]=0),an===!0&&(At.fromBufferAttribute(mn,Tn),Ln[Mn+In+4]=At.x,Ln[Mn+In+5]=At.y,Ln[Mn+In+6]=At.z,Ln[Mn+In+7]=0),ln===!0&&(At.fromBufferAttribute(bn,Tn),Ln[Mn+In+8]=At.x,Ln[Mn+In+9]=At.y,Ln[Mn+In+10]=At.z,Ln[Mn+In+11]=bn.itemSize===4?At.w:1)}}Kt={count:en,texture:Cn,size:new Vector2(An,gn)},Et.set(Bt,Kt),Bt.addEventListener("dispose",yn)}let Zt=0;for(let tn=0;tn<kt.length;tn++)Zt+=kt[tn];const Wt=Bt.morphTargetsRelative?1:1-Zt;Dt.getUniforms().setValue(dt,"morphTargetBaseInfluence",Wt),Dt.getUniforms().setValue(dt,"morphTargetInfluences",kt),Dt.getUniforms().setValue(dt,"morphTargetsTexture",Kt.texture,ft),Dt.getUniforms().setValue(dt,"morphTargetsTextureSize",Kt.size)}else{const Ht=kt===void 0?0:kt.length;let en=vt[Bt.id];if(en===void 0||en.length!==Ht){en=[];for(let an=0;an<Ht;an++)en[an]=[an,0];vt[Bt.id]=en}for(let an=0;an<Ht;an++){const ln=en[an];ln[0]=an,ln[1]=kt[an]}en.sort(absNumericalSort);for(let an=0;an<8;an++)an<Ht&&en[an][1]?(Ct[an][0]=en[an][0],Ct[an][1]=en[an][1]):(Ct[an][0]=Number.MAX_SAFE_INTEGER,Ct[an][1]=0);Ct.sort(numericalSort);const Kt=Bt.morphAttributes.position,Zt=Bt.morphAttributes.normal;let Wt=0;for(let an=0;an<8;an++){const ln=Ct[an],fn=ln[0],un=ln[1];fn!==Number.MAX_SAFE_INTEGER&&un?(Kt&&Bt.getAttribute("morphTarget"+an)!==Kt[fn]&&Bt.setAttribute("morphTarget"+an,Kt[fn]),Zt&&Bt.getAttribute("morphNormal"+an)!==Zt[fn]&&Bt.setAttribute("morphNormal"+an,Zt[fn]),St[an]=un,Wt+=un):(Kt&&Bt.hasAttribute("morphTarget"+an)===!0&&Bt.deleteAttribute("morphTarget"+an),Zt&&Bt.hasAttribute("morphNormal"+an)===!0&&Bt.deleteAttribute("morphNormal"+an),St[an]=0)}const tn=Bt.morphTargetsRelative?1:1-Wt;Dt.getUniforms().setValue(dt,"morphTargetBaseInfluence",tn),Dt.getUniforms().setValue(dt,"morphTargetInfluences",St)}}return{update:Tt}}function WebGLObjects(dt,lt,ft,vt){let St=new WeakMap;function Et(Tt){const Rt=vt.render.frame,Bt=Tt.geometry,Ft=lt.get(Tt,Bt);return St.get(Ft)!==Rt&&(lt.update(Ft),St.set(Ft,Rt)),Tt.isInstancedMesh&&(Tt.hasEventListener("dispose",Ct)===!1&&Tt.addEventListener("dispose",Ct),ft.update(Tt.instanceMatrix,34962),Tt.instanceColor!==null&&ft.update(Tt.instanceColor,34962)),Ft}function At(){St=new WeakMap}function Ct(Tt){const Rt=Tt.target;Rt.removeEventListener("dispose",Ct),ft.remove(Rt.instanceMatrix),Rt.instanceColor!==null&&ft.remove(Rt.instanceColor)}return{update:Et,dispose:At}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(dt,lt,ft){const vt=dt[0];if(vt<=0||vt>0)return dt;const St=lt*ft;let Et=arrayCacheF32[St];if(Et===void 0&&(Et=new Float32Array(St),arrayCacheF32[St]=Et),lt!==0){vt.toArray(Et,0);for(let At=1,Ct=0;At!==lt;++At)Ct+=ft,dt[At].toArray(Et,Ct)}return Et}function arraysEqual(dt,lt){if(dt.length!==lt.length)return!1;for(let ft=0,vt=dt.length;ft<vt;ft++)if(dt[ft]!==lt[ft])return!1;return!0}function copyArray(dt,lt){for(let ft=0,vt=lt.length;ft<vt;ft++)dt[ft]=lt[ft]}function allocTexUnits(dt,lt){let ft=arrayCacheI32[lt];ft===void 0&&(ft=new Int32Array(lt),arrayCacheI32[lt]=ft);for(let vt=0;vt!==lt;++vt)ft[vt]=dt.allocateTextureUnit();return ft}function setValueV1f(dt,lt){const ft=this.cache;ft[0]!==lt&&(dt.uniform1f(this.addr,lt),ft[0]=lt)}function setValueV2f(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y)&&(dt.uniform2f(this.addr,lt.x,lt.y),ft[0]=lt.x,ft[1]=lt.y);else{if(arraysEqual(ft,lt))return;dt.uniform2fv(this.addr,lt),copyArray(ft,lt)}}function setValueV3f(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y||ft[2]!==lt.z)&&(dt.uniform3f(this.addr,lt.x,lt.y,lt.z),ft[0]=lt.x,ft[1]=lt.y,ft[2]=lt.z);else if(lt.r!==void 0)(ft[0]!==lt.r||ft[1]!==lt.g||ft[2]!==lt.b)&&(dt.uniform3f(this.addr,lt.r,lt.g,lt.b),ft[0]=lt.r,ft[1]=lt.g,ft[2]=lt.b);else{if(arraysEqual(ft,lt))return;dt.uniform3fv(this.addr,lt),copyArray(ft,lt)}}function setValueV4f(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y||ft[2]!==lt.z||ft[3]!==lt.w)&&(dt.uniform4f(this.addr,lt.x,lt.y,lt.z,lt.w),ft[0]=lt.x,ft[1]=lt.y,ft[2]=lt.z,ft[3]=lt.w);else{if(arraysEqual(ft,lt))return;dt.uniform4fv(this.addr,lt),copyArray(ft,lt)}}function setValueM2(dt,lt){const ft=this.cache,vt=lt.elements;if(vt===void 0){if(arraysEqual(ft,lt))return;dt.uniformMatrix2fv(this.addr,!1,lt),copyArray(ft,lt)}else{if(arraysEqual(ft,vt))return;mat2array.set(vt),dt.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(ft,vt)}}function setValueM3(dt,lt){const ft=this.cache,vt=lt.elements;if(vt===void 0){if(arraysEqual(ft,lt))return;dt.uniformMatrix3fv(this.addr,!1,lt),copyArray(ft,lt)}else{if(arraysEqual(ft,vt))return;mat3array.set(vt),dt.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(ft,vt)}}function setValueM4(dt,lt){const ft=this.cache,vt=lt.elements;if(vt===void 0){if(arraysEqual(ft,lt))return;dt.uniformMatrix4fv(this.addr,!1,lt),copyArray(ft,lt)}else{if(arraysEqual(ft,vt))return;mat4array.set(vt),dt.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(ft,vt)}}function setValueV1i(dt,lt){const ft=this.cache;ft[0]!==lt&&(dt.uniform1i(this.addr,lt),ft[0]=lt)}function setValueV2i(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y)&&(dt.uniform2i(this.addr,lt.x,lt.y),ft[0]=lt.x,ft[1]=lt.y);else{if(arraysEqual(ft,lt))return;dt.uniform2iv(this.addr,lt),copyArray(ft,lt)}}function setValueV3i(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y||ft[2]!==lt.z)&&(dt.uniform3i(this.addr,lt.x,lt.y,lt.z),ft[0]=lt.x,ft[1]=lt.y,ft[2]=lt.z);else{if(arraysEqual(ft,lt))return;dt.uniform3iv(this.addr,lt),copyArray(ft,lt)}}function setValueV4i(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y||ft[2]!==lt.z||ft[3]!==lt.w)&&(dt.uniform4i(this.addr,lt.x,lt.y,lt.z,lt.w),ft[0]=lt.x,ft[1]=lt.y,ft[2]=lt.z,ft[3]=lt.w);else{if(arraysEqual(ft,lt))return;dt.uniform4iv(this.addr,lt),copyArray(ft,lt)}}function setValueV1ui(dt,lt){const ft=this.cache;ft[0]!==lt&&(dt.uniform1ui(this.addr,lt),ft[0]=lt)}function setValueV2ui(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y)&&(dt.uniform2ui(this.addr,lt.x,lt.y),ft[0]=lt.x,ft[1]=lt.y);else{if(arraysEqual(ft,lt))return;dt.uniform2uiv(this.addr,lt),copyArray(ft,lt)}}function setValueV3ui(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y||ft[2]!==lt.z)&&(dt.uniform3ui(this.addr,lt.x,lt.y,lt.z),ft[0]=lt.x,ft[1]=lt.y,ft[2]=lt.z);else{if(arraysEqual(ft,lt))return;dt.uniform3uiv(this.addr,lt),copyArray(ft,lt)}}function setValueV4ui(dt,lt){const ft=this.cache;if(lt.x!==void 0)(ft[0]!==lt.x||ft[1]!==lt.y||ft[2]!==lt.z||ft[3]!==lt.w)&&(dt.uniform4ui(this.addr,lt.x,lt.y,lt.z,lt.w),ft[0]=lt.x,ft[1]=lt.y,ft[2]=lt.z,ft[3]=lt.w);else{if(arraysEqual(ft,lt))return;dt.uniform4uiv(this.addr,lt),copyArray(ft,lt)}}function setValueT1(dt,lt,ft){const vt=this.cache,St=ft.allocateTextureUnit();vt[0]!==St&&(dt.uniform1i(this.addr,St),vt[0]=St),ft.setTexture2D(lt||emptyTexture,St)}function setValueT3D1(dt,lt,ft){const vt=this.cache,St=ft.allocateTextureUnit();vt[0]!==St&&(dt.uniform1i(this.addr,St),vt[0]=St),ft.setTexture3D(lt||empty3dTexture,St)}function setValueT6(dt,lt,ft){const vt=this.cache,St=ft.allocateTextureUnit();vt[0]!==St&&(dt.uniform1i(this.addr,St),vt[0]=St),ft.setTextureCube(lt||emptyCubeTexture,St)}function setValueT2DArray1(dt,lt,ft){const vt=this.cache,St=ft.allocateTextureUnit();vt[0]!==St&&(dt.uniform1i(this.addr,St),vt[0]=St),ft.setTexture2DArray(lt||emptyArrayTexture,St)}function getSingularSetter(dt){switch(dt){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(dt,lt){dt.uniform1fv(this.addr,lt)}function setValueV2fArray(dt,lt){const ft=flatten(lt,this.size,2);dt.uniform2fv(this.addr,ft)}function setValueV3fArray(dt,lt){const ft=flatten(lt,this.size,3);dt.uniform3fv(this.addr,ft)}function setValueV4fArray(dt,lt){const ft=flatten(lt,this.size,4);dt.uniform4fv(this.addr,ft)}function setValueM2Array(dt,lt){const ft=flatten(lt,this.size,4);dt.uniformMatrix2fv(this.addr,!1,ft)}function setValueM3Array(dt,lt){const ft=flatten(lt,this.size,9);dt.uniformMatrix3fv(this.addr,!1,ft)}function setValueM4Array(dt,lt){const ft=flatten(lt,this.size,16);dt.uniformMatrix4fv(this.addr,!1,ft)}function setValueV1iArray(dt,lt){dt.uniform1iv(this.addr,lt)}function setValueV2iArray(dt,lt){dt.uniform2iv(this.addr,lt)}function setValueV3iArray(dt,lt){dt.uniform3iv(this.addr,lt)}function setValueV4iArray(dt,lt){dt.uniform4iv(this.addr,lt)}function setValueV1uiArray(dt,lt){dt.uniform1uiv(this.addr,lt)}function setValueV2uiArray(dt,lt){dt.uniform2uiv(this.addr,lt)}function setValueV3uiArray(dt,lt){dt.uniform3uiv(this.addr,lt)}function setValueV4uiArray(dt,lt){dt.uniform4uiv(this.addr,lt)}function setValueT1Array(dt,lt,ft){const vt=this.cache,St=lt.length,Et=allocTexUnits(ft,St);arraysEqual(vt,Et)||(dt.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)ft.setTexture2D(lt[At]||emptyTexture,Et[At])}function setValueT3DArray(dt,lt,ft){const vt=this.cache,St=lt.length,Et=allocTexUnits(ft,St);arraysEqual(vt,Et)||(dt.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)ft.setTexture3D(lt[At]||empty3dTexture,Et[At])}function setValueT6Array(dt,lt,ft){const vt=this.cache,St=lt.length,Et=allocTexUnits(ft,St);arraysEqual(vt,Et)||(dt.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)ft.setTextureCube(lt[At]||emptyCubeTexture,Et[At])}function setValueT2DArrayArray(dt,lt,ft){const vt=this.cache,St=lt.length,Et=allocTexUnits(ft,St);arraysEqual(vt,Et)||(dt.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)ft.setTexture2DArray(lt[At]||emptyArrayTexture,Et[At])}function getPureArraySetter(dt){switch(dt){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(lt,ft,vt){this.id=lt,this.addr=vt,this.cache=[],this.setValue=getSingularSetter(ft.type)}}class PureArrayUniform{constructor(lt,ft,vt){this.id=lt,this.addr=vt,this.cache=[],this.size=ft.size,this.setValue=getPureArraySetter(ft.type)}}class StructuredUniform{constructor(lt){this.id=lt,this.seq=[],this.map={}}setValue(lt,ft,vt){const St=this.seq;for(let Et=0,At=St.length;Et!==At;++Et){const Ct=St[Et];Ct.setValue(lt,ft[Ct.id],vt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(dt,lt){dt.seq.push(lt),dt.map[lt.id]=lt}function parseUniform(dt,lt,ft){const vt=dt.name,St=vt.length;for(RePathPart.lastIndex=0;;){const Et=RePathPart.exec(vt),At=RePathPart.lastIndex;let Ct=Et[1];const Tt=Et[2]==="]",Rt=Et[3];if(Tt&&(Ct=Ct|0),Rt===void 0||Rt==="["&&At+2===St){addUniform(ft,Rt===void 0?new SingleUniform(Ct,dt,lt):new PureArrayUniform(Ct,dt,lt));break}else{let Ft=ft.map[Ct];Ft===void 0&&(Ft=new StructuredUniform(Ct),addUniform(ft,Ft)),ft=Ft}}}class WebGLUniforms{constructor(lt,ft){this.seq=[],this.map={};const vt=lt.getProgramParameter(ft,35718);for(let St=0;St<vt;++St){const Et=lt.getActiveUniform(ft,St),At=lt.getUniformLocation(ft,Et.name);parseUniform(Et,At,this)}}setValue(lt,ft,vt,St){const Et=this.map[ft];Et!==void 0&&Et.setValue(lt,vt,St)}setOptional(lt,ft,vt){const St=ft[vt];St!==void 0&&this.setValue(lt,vt,St)}static upload(lt,ft,vt,St){for(let Et=0,At=ft.length;Et!==At;++Et){const Ct=ft[Et],Tt=vt[Ct.id];Tt.needsUpdate!==!1&&Ct.setValue(lt,Tt.value,St)}}static seqWithValue(lt,ft){const vt=[];for(let St=0,Et=lt.length;St!==Et;++St){const At=lt[St];At.id in ft&&vt.push(At)}return vt}}function WebGLShader(dt,lt,ft){const vt=dt.createShader(lt);return dt.shaderSource(vt,ft),dt.compileShader(vt),vt}let programIdCount=0;function handleSource(dt,lt){const ft=dt.split(`
`),vt=[],St=Math.max(lt-6,0),Et=Math.min(lt+6,ft.length);for(let At=St;At<Et;At++){const Ct=At+1;vt.push(`${Ct===lt?">":" "} ${Ct}: ${ft[At]}`)}return vt.join(`
`)}function getEncodingComponents(dt){switch(dt){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",dt),["Linear","( value )"]}}function getShaderErrors(dt,lt,ft){const vt=dt.getShaderParameter(lt,35713),St=dt.getShaderInfoLog(lt).trim();if(vt&&St==="")return"";const Et=/ERROR: 0:(\d+)/.exec(St);if(Et){const At=parseInt(Et[1]);return ft.toUpperCase()+`

`+St+`

`+handleSource(dt.getShaderSource(lt),At)}else return St}function getTexelEncodingFunction(dt,lt){const ft=getEncodingComponents(lt);return"vec4 "+dt+"( vec4 value ) { return LinearTo"+ft[0]+ft[1]+"; }"}function getToneMappingFunction(dt,lt){let ft;switch(lt){case LinearToneMapping:ft="Linear";break;case ReinhardToneMapping:ft="Reinhard";break;case CineonToneMapping:ft="OptimizedCineon";break;case ACESFilmicToneMapping:ft="ACESFilmic";break;case CustomToneMapping:ft="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",lt),ft="Linear"}return"vec3 "+dt+"( vec3 color ) { return "+ft+"ToneMapping( color ); }"}function generateExtensions(dt){return[dt.extensionDerivatives||dt.envMapCubeUVHeight||dt.bumpMap||dt.tangentSpaceNormalMap||dt.clearcoatNormalMap||dt.flatShading||dt.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(dt.extensionFragDepth||dt.logarithmicDepthBuffer)&&dt.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",dt.extensionDrawBuffers&&dt.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(dt.extensionShaderTextureLOD||dt.envMap||dt.transmission)&&dt.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(dt){const lt=[];for(const ft in dt){const vt=dt[ft];vt!==!1&&lt.push("#define "+ft+" "+vt)}return lt.join(`
`)}function fetchAttributeLocations(dt,lt){const ft={},vt=dt.getProgramParameter(lt,35721);for(let St=0;St<vt;St++){const Et=dt.getActiveAttrib(lt,St),At=Et.name;let Ct=1;Et.type===35674&&(Ct=2),Et.type===35675&&(Ct=3),Et.type===35676&&(Ct=4),ft[At]={type:Et.type,location:dt.getAttribLocation(lt,At),locationSize:Ct}}return ft}function filterEmptyLine(dt){return dt!==""}function replaceLightNums(dt,lt){const ft=lt.numSpotLightShadows+lt.numSpotLightMaps-lt.numSpotLightShadowsWithMaps;return dt.replace(/NUM_DIR_LIGHTS/g,lt.numDirLights).replace(/NUM_SPOT_LIGHTS/g,lt.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,lt.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,ft).replace(/NUM_RECT_AREA_LIGHTS/g,lt.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,lt.numPointLights).replace(/NUM_HEMI_LIGHTS/g,lt.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,lt.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,lt.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,lt.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,lt.numPointLightShadows)}function replaceClippingPlaneNums(dt,lt){return dt.replace(/NUM_CLIPPING_PLANES/g,lt.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,lt.numClippingPlanes-lt.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(dt){return dt.replace(includePattern,includeReplacer)}function includeReplacer(dt,lt){const ft=ShaderChunk[lt];if(ft===void 0)throw new Error("Can not resolve #include <"+lt+">");return resolveIncludes(ft)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(dt){return dt.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(dt,lt,ft,vt){let St="";for(let Et=parseInt(lt);Et<parseInt(ft);Et++)St+=vt.replace(/\[\s*i\s*\]/g,"[ "+Et+" ]").replace(/UNROLLED_LOOP_INDEX/g,Et);return St}function generatePrecision(dt){let lt="precision "+dt.precision+` float;
precision `+dt.precision+" int;";return dt.precision==="highp"?lt+=`
#define HIGH_PRECISION`:dt.precision==="mediump"?lt+=`
#define MEDIUM_PRECISION`:dt.precision==="lowp"&&(lt+=`
#define LOW_PRECISION`),lt}function generateShadowMapTypeDefine(dt){let lt="SHADOWMAP_TYPE_BASIC";return dt.shadowMapType===PCFShadowMap?lt="SHADOWMAP_TYPE_PCF":dt.shadowMapType===PCFSoftShadowMap?lt="SHADOWMAP_TYPE_PCF_SOFT":dt.shadowMapType===VSMShadowMap&&(lt="SHADOWMAP_TYPE_VSM"),lt}function generateEnvMapTypeDefine(dt){let lt="ENVMAP_TYPE_CUBE";if(dt.envMap)switch(dt.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:lt="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:lt="ENVMAP_TYPE_CUBE_UV";break}return lt}function generateEnvMapModeDefine(dt){let lt="ENVMAP_MODE_REFLECTION";if(dt.envMap)switch(dt.envMapMode){case CubeRefractionMapping:lt="ENVMAP_MODE_REFRACTION";break}return lt}function generateEnvMapBlendingDefine(dt){let lt="ENVMAP_BLENDING_NONE";if(dt.envMap)switch(dt.combine){case MultiplyOperation:lt="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:lt="ENVMAP_BLENDING_MIX";break;case AddOperation:lt="ENVMAP_BLENDING_ADD";break}return lt}function generateCubeUVSize(dt){const lt=dt.envMapCubeUVHeight;if(lt===null)return null;const ft=Math.log2(lt)-2,vt=1/lt;return{texelWidth:1/(3*Math.max(Math.pow(2,ft),7*16)),texelHeight:vt,maxMip:ft}}function WebGLProgram(dt,lt,ft,vt){const St=dt.getContext(),Et=ft.defines;let At=ft.vertexShader,Ct=ft.fragmentShader;const Tt=generateShadowMapTypeDefine(ft),Rt=generateEnvMapTypeDefine(ft),Bt=generateEnvMapModeDefine(ft),Ft=generateEnvMapBlendingDefine(ft),Dt=generateCubeUVSize(ft),kt=ft.isWebGL2?"":generateExtensions(ft),zt=generateDefines(Et),Ht=St.createProgram();let en,Kt,Zt=ft.glslVersion?"#version "+ft.glslVersion+`
`:"";ft.isRawShaderMaterial?(en=[zt].filter(filterEmptyLine).join(`
`),en.length>0&&(en+=`
`),Kt=[kt,zt].filter(filterEmptyLine).join(`
`),Kt.length>0&&(Kt+=`
`)):(en=[generatePrecision(ft),"#define SHADER_NAME "+ft.shaderName,zt,ft.instancing?"#define USE_INSTANCING":"",ft.instancingColor?"#define USE_INSTANCING_COLOR":"",ft.supportsVertexTextures?"#define VERTEX_TEXTURES":"",ft.useFog&&ft.fog?"#define USE_FOG":"",ft.useFog&&ft.fogExp2?"#define FOG_EXP2":"",ft.map?"#define USE_MAP":"",ft.envMap?"#define USE_ENVMAP":"",ft.envMap?"#define "+Bt:"",ft.lightMap?"#define USE_LIGHTMAP":"",ft.aoMap?"#define USE_AOMAP":"",ft.emissiveMap?"#define USE_EMISSIVEMAP":"",ft.bumpMap?"#define USE_BUMPMAP":"",ft.normalMap?"#define USE_NORMALMAP":"",ft.normalMap&&ft.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",ft.normalMap&&ft.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",ft.clearcoatMap?"#define USE_CLEARCOATMAP":"",ft.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",ft.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",ft.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",ft.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",ft.displacementMap&&ft.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",ft.specularMap?"#define USE_SPECULARMAP":"",ft.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",ft.specularColorMap?"#define USE_SPECULARCOLORMAP":"",ft.roughnessMap?"#define USE_ROUGHNESSMAP":"",ft.metalnessMap?"#define USE_METALNESSMAP":"",ft.alphaMap?"#define USE_ALPHAMAP":"",ft.transmission?"#define USE_TRANSMISSION":"",ft.transmissionMap?"#define USE_TRANSMISSIONMAP":"",ft.thicknessMap?"#define USE_THICKNESSMAP":"",ft.sheenColorMap?"#define USE_SHEENCOLORMAP":"",ft.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",ft.vertexTangents?"#define USE_TANGENT":"",ft.vertexColors?"#define USE_COLOR":"",ft.vertexAlphas?"#define USE_COLOR_ALPHA":"",ft.vertexUvs?"#define USE_UV":"",ft.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",ft.flatShading?"#define FLAT_SHADED":"",ft.skinning?"#define USE_SKINNING":"",ft.morphTargets?"#define USE_MORPHTARGETS":"",ft.morphNormals&&ft.flatShading===!1?"#define USE_MORPHNORMALS":"",ft.morphColors&&ft.isWebGL2?"#define USE_MORPHCOLORS":"",ft.morphTargetsCount>0&&ft.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",ft.morphTargetsCount>0&&ft.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+ft.morphTextureStride:"",ft.morphTargetsCount>0&&ft.isWebGL2?"#define MORPHTARGETS_COUNT "+ft.morphTargetsCount:"",ft.doubleSided?"#define DOUBLE_SIDED":"",ft.flipSided?"#define FLIP_SIDED":"",ft.shadowMapEnabled?"#define USE_SHADOWMAP":"",ft.shadowMapEnabled?"#define "+Tt:"",ft.sizeAttenuation?"#define USE_SIZEATTENUATION":"",ft.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",ft.logarithmicDepthBuffer&&ft.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Kt=[kt,generatePrecision(ft),"#define SHADER_NAME "+ft.shaderName,zt,ft.useFog&&ft.fog?"#define USE_FOG":"",ft.useFog&&ft.fogExp2?"#define FOG_EXP2":"",ft.map?"#define USE_MAP":"",ft.matcap?"#define USE_MATCAP":"",ft.envMap?"#define USE_ENVMAP":"",ft.envMap?"#define "+Rt:"",ft.envMap?"#define "+Bt:"",ft.envMap?"#define "+Ft:"",Dt?"#define CUBEUV_TEXEL_WIDTH "+Dt.texelWidth:"",Dt?"#define CUBEUV_TEXEL_HEIGHT "+Dt.texelHeight:"",Dt?"#define CUBEUV_MAX_MIP "+Dt.maxMip+".0":"",ft.lightMap?"#define USE_LIGHTMAP":"",ft.aoMap?"#define USE_AOMAP":"",ft.emissiveMap?"#define USE_EMISSIVEMAP":"",ft.bumpMap?"#define USE_BUMPMAP":"",ft.normalMap?"#define USE_NORMALMAP":"",ft.normalMap&&ft.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",ft.normalMap&&ft.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",ft.clearcoat?"#define USE_CLEARCOAT":"",ft.clearcoatMap?"#define USE_CLEARCOATMAP":"",ft.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",ft.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",ft.iridescence?"#define USE_IRIDESCENCE":"",ft.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",ft.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",ft.specularMap?"#define USE_SPECULARMAP":"",ft.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",ft.specularColorMap?"#define USE_SPECULARCOLORMAP":"",ft.roughnessMap?"#define USE_ROUGHNESSMAP":"",ft.metalnessMap?"#define USE_METALNESSMAP":"",ft.alphaMap?"#define USE_ALPHAMAP":"",ft.alphaTest?"#define USE_ALPHATEST":"",ft.sheen?"#define USE_SHEEN":"",ft.sheenColorMap?"#define USE_SHEENCOLORMAP":"",ft.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",ft.transmission?"#define USE_TRANSMISSION":"",ft.transmissionMap?"#define USE_TRANSMISSIONMAP":"",ft.thicknessMap?"#define USE_THICKNESSMAP":"",ft.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",ft.vertexTangents?"#define USE_TANGENT":"",ft.vertexColors||ft.instancingColor?"#define USE_COLOR":"",ft.vertexAlphas?"#define USE_COLOR_ALPHA":"",ft.vertexUvs?"#define USE_UV":"",ft.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",ft.gradientMap?"#define USE_GRADIENTMAP":"",ft.flatShading?"#define FLAT_SHADED":"",ft.doubleSided?"#define DOUBLE_SIDED":"",ft.flipSided?"#define FLIP_SIDED":"",ft.shadowMapEnabled?"#define USE_SHADOWMAP":"",ft.shadowMapEnabled?"#define "+Tt:"",ft.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",ft.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",ft.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",ft.logarithmicDepthBuffer&&ft.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",ft.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",ft.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",ft.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",ft.toneMapping):"",ft.dithering?"#define DITHERING":"",ft.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",ft.outputEncoding),ft.useDepthPacking?"#define DEPTH_PACKING "+ft.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),At=resolveIncludes(At),At=replaceLightNums(At,ft),At=replaceClippingPlaneNums(At,ft),Ct=resolveIncludes(Ct),Ct=replaceLightNums(Ct,ft),Ct=replaceClippingPlaneNums(Ct,ft),At=unrollLoops(At),Ct=unrollLoops(Ct),ft.isWebGL2&&ft.isRawShaderMaterial!==!0&&(Zt=`#version 300 es
`,en=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+en,Kt=["#define varying in",ft.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",ft.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Kt);const Wt=Zt+en+At,tn=Zt+Kt+Ct,an=WebGLShader(St,35633,Wt),ln=WebGLShader(St,35632,tn);if(St.attachShader(Ht,an),St.attachShader(Ht,ln),ft.index0AttributeName!==void 0?St.bindAttribLocation(Ht,0,ft.index0AttributeName):ft.morphTargets===!0&&St.bindAttribLocation(Ht,0,"position"),St.linkProgram(Ht),dt.debug.checkShaderErrors){const pn=St.getProgramInfoLog(Ht).trim(),xn=St.getShaderInfoLog(an).trim(),An=St.getShaderInfoLog(ln).trim();let gn=!0,Ln=!0;if(St.getProgramParameter(Ht,35714)===!1){gn=!1;const Cn=getShaderErrors(St,an,"vertex"),En=getShaderErrors(St,ln,"fragment");console.error("THREE.WebGLProgram: Shader Error "+St.getError()+" - VALIDATE_STATUS "+St.getProgramParameter(Ht,35715)+`

Program Info Log: `+pn+`
`+Cn+`
`+En)}else pn!==""?console.warn("THREE.WebGLProgram: Program Info Log:",pn):(xn===""||An==="")&&(Ln=!1);Ln&&(this.diagnostics={runnable:gn,programLog:pn,vertexShader:{log:xn,prefix:en},fragmentShader:{log:An,prefix:Kt}})}St.deleteShader(an),St.deleteShader(ln);let fn;this.getUniforms=function(){return fn===void 0&&(fn=new WebGLUniforms(St,Ht)),fn};let un;return this.getAttributes=function(){return un===void 0&&(un=fetchAttributeLocations(St,Ht)),un},this.destroy=function(){vt.releaseStatesOfProgram(this),St.deleteProgram(Ht),this.program=void 0},this.name=ft.shaderName,this.id=programIdCount++,this.cacheKey=lt,this.usedTimes=1,this.program=Ht,this.vertexShader=an,this.fragmentShader=ln,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(lt){const ft=lt.vertexShader,vt=lt.fragmentShader,St=this._getShaderStage(ft),Et=this._getShaderStage(vt),At=this._getShaderCacheForMaterial(lt);return At.has(St)===!1&&(At.add(St),St.usedTimes++),At.has(Et)===!1&&(At.add(Et),Et.usedTimes++),this}remove(lt){const ft=this.materialCache.get(lt);for(const vt of ft)vt.usedTimes--,vt.usedTimes===0&&this.shaderCache.delete(vt.code);return this.materialCache.delete(lt),this}getVertexShaderID(lt){return this._getShaderStage(lt.vertexShader).id}getFragmentShaderID(lt){return this._getShaderStage(lt.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(lt){const ft=this.materialCache;let vt=ft.get(lt);return vt===void 0&&(vt=new Set,ft.set(lt,vt)),vt}_getShaderStage(lt){const ft=this.shaderCache;let vt=ft.get(lt);return vt===void 0&&(vt=new WebGLShaderStage(lt),ft.set(lt,vt)),vt}}class WebGLShaderStage{constructor(lt){this.id=_id++,this.code=lt,this.usedTimes=0}}function WebGLPrograms(dt,lt,ft,vt,St,Et,At){const Ct=new Layers,Tt=new WebGLShaderCache,Rt=[],Bt=St.isWebGL2,Ft=St.logarithmicDepthBuffer,Dt=St.vertexTextures;let kt=St.precision;const zt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Ht(un,pn,xn,An,gn){const Ln=An.fog,Cn=gn.geometry,En=un.isMeshStandardMaterial?An.environment:null,yn=(un.isMeshStandardMaterial?ft:lt).get(un.envMap||En),Rn=yn&&yn.mapping===CubeUVReflectionMapping?yn.image.height:null,hn=zt[un.type];un.precision!==null&&(kt=St.getMaxPrecision(un.precision),kt!==un.precision&&console.warn("THREE.WebGLProgram.getParameters:",un.precision,"not supported, using",kt,"instead."));const mn=Cn.morphAttributes.position||Cn.morphAttributes.normal||Cn.morphAttributes.color,bn=mn!==void 0?mn.length:0;let Mn=0;Cn.morphAttributes.position!==void 0&&(Mn=1),Cn.morphAttributes.normal!==void 0&&(Mn=2),Cn.morphAttributes.color!==void 0&&(Mn=3);let Tn,In,Nn,$n;if(hn){const Wn=ShaderLib[hn];Tn=Wn.vertexShader,In=Wn.fragmentShader}else Tn=un.vertexShader,In=un.fragmentShader,Tt.update(un),Nn=Tt.getVertexShaderID(un),$n=Tt.getFragmentShaderID(un);const Gn=dt.getRenderTarget(),Zn=un.alphaTest>0,Un=un.clearcoat>0,Xn=un.iridescence>0;return{isWebGL2:Bt,shaderID:hn,shaderName:un.type,vertexShader:Tn,fragmentShader:In,defines:un.defines,customVertexShaderID:Nn,customFragmentShaderID:$n,isRawShaderMaterial:un.isRawShaderMaterial===!0,glslVersion:un.glslVersion,precision:kt,instancing:gn.isInstancedMesh===!0,instancingColor:gn.isInstancedMesh===!0&&gn.instanceColor!==null,supportsVertexTextures:Dt,outputEncoding:Gn===null?dt.outputEncoding:Gn.isXRRenderTarget===!0?Gn.texture.encoding:LinearEncoding,map:!!un.map,matcap:!!un.matcap,envMap:!!yn,envMapMode:yn&&yn.mapping,envMapCubeUVHeight:Rn,lightMap:!!un.lightMap,aoMap:!!un.aoMap,emissiveMap:!!un.emissiveMap,bumpMap:!!un.bumpMap,normalMap:!!un.normalMap,objectSpaceNormalMap:un.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:un.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!un.map&&un.map.isVideoTexture===!0&&un.map.encoding===sRGBEncoding,clearcoat:Un,clearcoatMap:Un&&!!un.clearcoatMap,clearcoatRoughnessMap:Un&&!!un.clearcoatRoughnessMap,clearcoatNormalMap:Un&&!!un.clearcoatNormalMap,iridescence:Xn,iridescenceMap:Xn&&!!un.iridescenceMap,iridescenceThicknessMap:Xn&&!!un.iridescenceThicknessMap,displacementMap:!!un.displacementMap,roughnessMap:!!un.roughnessMap,metalnessMap:!!un.metalnessMap,specularMap:!!un.specularMap,specularIntensityMap:!!un.specularIntensityMap,specularColorMap:!!un.specularColorMap,opaque:un.transparent===!1&&un.blending===NormalBlending,alphaMap:!!un.alphaMap,alphaTest:Zn,gradientMap:!!un.gradientMap,sheen:un.sheen>0,sheenColorMap:!!un.sheenColorMap,sheenRoughnessMap:!!un.sheenRoughnessMap,transmission:un.transmission>0,transmissionMap:!!un.transmissionMap,thicknessMap:!!un.thicknessMap,combine:un.combine,vertexTangents:!!un.normalMap&&!!Cn.attributes.tangent,vertexColors:un.vertexColors,vertexAlphas:un.vertexColors===!0&&!!Cn.attributes.color&&Cn.attributes.color.itemSize===4,vertexUvs:!!un.map||!!un.bumpMap||!!un.normalMap||!!un.specularMap||!!un.alphaMap||!!un.emissiveMap||!!un.roughnessMap||!!un.metalnessMap||!!un.clearcoatMap||!!un.clearcoatRoughnessMap||!!un.clearcoatNormalMap||!!un.iridescenceMap||!!un.iridescenceThicknessMap||!!un.displacementMap||!!un.transmissionMap||!!un.thicknessMap||!!un.specularIntensityMap||!!un.specularColorMap||!!un.sheenColorMap||!!un.sheenRoughnessMap,uvsVertexOnly:!(un.map||un.bumpMap||un.normalMap||un.specularMap||un.alphaMap||un.emissiveMap||un.roughnessMap||un.metalnessMap||un.clearcoatNormalMap||un.iridescenceMap||un.iridescenceThicknessMap||un.transmission>0||un.transmissionMap||un.thicknessMap||un.specularIntensityMap||un.specularColorMap||un.sheen>0||un.sheenColorMap||un.sheenRoughnessMap)&&!!un.displacementMap,fog:!!Ln,useFog:un.fog===!0,fogExp2:Ln&&Ln.isFogExp2,flatShading:!!un.flatShading,sizeAttenuation:un.sizeAttenuation,logarithmicDepthBuffer:Ft,skinning:gn.isSkinnedMesh===!0,morphTargets:Cn.morphAttributes.position!==void 0,morphNormals:Cn.morphAttributes.normal!==void 0,morphColors:Cn.morphAttributes.color!==void 0,morphTargetsCount:bn,morphTextureStride:Mn,numDirLights:pn.directional.length,numPointLights:pn.point.length,numSpotLights:pn.spot.length,numSpotLightMaps:pn.spotLightMap.length,numRectAreaLights:pn.rectArea.length,numHemiLights:pn.hemi.length,numDirLightShadows:pn.directionalShadowMap.length,numPointLightShadows:pn.pointShadowMap.length,numSpotLightShadows:pn.spotShadowMap.length,numSpotLightShadowsWithMaps:pn.numSpotLightShadowsWithMaps,numClippingPlanes:At.numPlanes,numClipIntersection:At.numIntersection,dithering:un.dithering,shadowMapEnabled:dt.shadowMap.enabled&&xn.length>0,shadowMapType:dt.shadowMap.type,toneMapping:un.toneMapped?dt.toneMapping:NoToneMapping,physicallyCorrectLights:dt.physicallyCorrectLights,premultipliedAlpha:un.premultipliedAlpha,doubleSided:un.side===DoubleSide,flipSided:un.side===BackSide,useDepthPacking:!!un.depthPacking,depthPacking:un.depthPacking||0,index0AttributeName:un.index0AttributeName,extensionDerivatives:un.extensions&&un.extensions.derivatives,extensionFragDepth:un.extensions&&un.extensions.fragDepth,extensionDrawBuffers:un.extensions&&un.extensions.drawBuffers,extensionShaderTextureLOD:un.extensions&&un.extensions.shaderTextureLOD,rendererExtensionFragDepth:Bt||vt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:Bt||vt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:Bt||vt.has("EXT_shader_texture_lod"),customProgramCacheKey:un.customProgramCacheKey()}}function en(un){const pn=[];if(un.shaderID?pn.push(un.shaderID):(pn.push(un.customVertexShaderID),pn.push(un.customFragmentShaderID)),un.defines!==void 0)for(const xn in un.defines)pn.push(xn),pn.push(un.defines[xn]);return un.isRawShaderMaterial===!1&&(Kt(pn,un),Zt(pn,un),pn.push(dt.outputEncoding)),pn.push(un.customProgramCacheKey),pn.join()}function Kt(un,pn){un.push(pn.precision),un.push(pn.outputEncoding),un.push(pn.envMapMode),un.push(pn.envMapCubeUVHeight),un.push(pn.combine),un.push(pn.vertexUvs),un.push(pn.fogExp2),un.push(pn.sizeAttenuation),un.push(pn.morphTargetsCount),un.push(pn.morphAttributeCount),un.push(pn.numDirLights),un.push(pn.numPointLights),un.push(pn.numSpotLights),un.push(pn.numSpotLightMaps),un.push(pn.numHemiLights),un.push(pn.numRectAreaLights),un.push(pn.numDirLightShadows),un.push(pn.numPointLightShadows),un.push(pn.numSpotLightShadows),un.push(pn.numSpotLightShadowsWithMaps),un.push(pn.shadowMapType),un.push(pn.toneMapping),un.push(pn.numClippingPlanes),un.push(pn.numClipIntersection),un.push(pn.depthPacking)}function Zt(un,pn){Ct.disableAll(),pn.isWebGL2&&Ct.enable(0),pn.supportsVertexTextures&&Ct.enable(1),pn.instancing&&Ct.enable(2),pn.instancingColor&&Ct.enable(3),pn.map&&Ct.enable(4),pn.matcap&&Ct.enable(5),pn.envMap&&Ct.enable(6),pn.lightMap&&Ct.enable(7),pn.aoMap&&Ct.enable(8),pn.emissiveMap&&Ct.enable(9),pn.bumpMap&&Ct.enable(10),pn.normalMap&&Ct.enable(11),pn.objectSpaceNormalMap&&Ct.enable(12),pn.tangentSpaceNormalMap&&Ct.enable(13),pn.clearcoat&&Ct.enable(14),pn.clearcoatMap&&Ct.enable(15),pn.clearcoatRoughnessMap&&Ct.enable(16),pn.clearcoatNormalMap&&Ct.enable(17),pn.iridescence&&Ct.enable(18),pn.iridescenceMap&&Ct.enable(19),pn.iridescenceThicknessMap&&Ct.enable(20),pn.displacementMap&&Ct.enable(21),pn.specularMap&&Ct.enable(22),pn.roughnessMap&&Ct.enable(23),pn.metalnessMap&&Ct.enable(24),pn.gradientMap&&Ct.enable(25),pn.alphaMap&&Ct.enable(26),pn.alphaTest&&Ct.enable(27),pn.vertexColors&&Ct.enable(28),pn.vertexAlphas&&Ct.enable(29),pn.vertexUvs&&Ct.enable(30),pn.vertexTangents&&Ct.enable(31),pn.uvsVertexOnly&&Ct.enable(32),un.push(Ct.mask),Ct.disableAll(),pn.fog&&Ct.enable(0),pn.useFog&&Ct.enable(1),pn.flatShading&&Ct.enable(2),pn.logarithmicDepthBuffer&&Ct.enable(3),pn.skinning&&Ct.enable(4),pn.morphTargets&&Ct.enable(5),pn.morphNormals&&Ct.enable(6),pn.morphColors&&Ct.enable(7),pn.premultipliedAlpha&&Ct.enable(8),pn.shadowMapEnabled&&Ct.enable(9),pn.physicallyCorrectLights&&Ct.enable(10),pn.doubleSided&&Ct.enable(11),pn.flipSided&&Ct.enable(12),pn.useDepthPacking&&Ct.enable(13),pn.dithering&&Ct.enable(14),pn.specularIntensityMap&&Ct.enable(15),pn.specularColorMap&&Ct.enable(16),pn.transmission&&Ct.enable(17),pn.transmissionMap&&Ct.enable(18),pn.thicknessMap&&Ct.enable(19),pn.sheen&&Ct.enable(20),pn.sheenColorMap&&Ct.enable(21),pn.sheenRoughnessMap&&Ct.enable(22),pn.decodeVideoTexture&&Ct.enable(23),pn.opaque&&Ct.enable(24),un.push(Ct.mask)}function Wt(un){const pn=zt[un.type];let xn;if(pn){const An=ShaderLib[pn];xn=UniformsUtils.clone(An.uniforms)}else xn=un.uniforms;return xn}function tn(un,pn){let xn;for(let An=0,gn=Rt.length;An<gn;An++){const Ln=Rt[An];if(Ln.cacheKey===pn){xn=Ln,++xn.usedTimes;break}}return xn===void 0&&(xn=new WebGLProgram(dt,pn,un,Et),Rt.push(xn)),xn}function an(un){if(--un.usedTimes===0){const pn=Rt.indexOf(un);Rt[pn]=Rt[Rt.length-1],Rt.pop(),un.destroy()}}function ln(un){Tt.remove(un)}function fn(){Tt.dispose()}return{getParameters:Ht,getProgramCacheKey:en,getUniforms:Wt,acquireProgram:tn,releaseProgram:an,releaseShaderCache:ln,programs:Rt,dispose:fn}}function WebGLProperties(){let dt=new WeakMap;function lt(Et){let At=dt.get(Et);return At===void 0&&(At={},dt.set(Et,At)),At}function ft(Et){dt.delete(Et)}function vt(Et,At,Ct){dt.get(Et)[At]=Ct}function St(){dt=new WeakMap}return{get:lt,remove:ft,update:vt,dispose:St}}function painterSortStable(dt,lt){return dt.groupOrder!==lt.groupOrder?dt.groupOrder-lt.groupOrder:dt.renderOrder!==lt.renderOrder?dt.renderOrder-lt.renderOrder:dt.material.id!==lt.material.id?dt.material.id-lt.material.id:dt.z!==lt.z?dt.z-lt.z:dt.id-lt.id}function reversePainterSortStable(dt,lt){return dt.groupOrder!==lt.groupOrder?dt.groupOrder-lt.groupOrder:dt.renderOrder!==lt.renderOrder?dt.renderOrder-lt.renderOrder:dt.z!==lt.z?lt.z-dt.z:dt.id-lt.id}function WebGLRenderList(){const dt=[];let lt=0;const ft=[],vt=[],St=[];function Et(){lt=0,ft.length=0,vt.length=0,St.length=0}function At(Ft,Dt,kt,zt,Ht,en){let Kt=dt[lt];return Kt===void 0?(Kt={id:Ft.id,object:Ft,geometry:Dt,material:kt,groupOrder:zt,renderOrder:Ft.renderOrder,z:Ht,group:en},dt[lt]=Kt):(Kt.id=Ft.id,Kt.object=Ft,Kt.geometry=Dt,Kt.material=kt,Kt.groupOrder=zt,Kt.renderOrder=Ft.renderOrder,Kt.z=Ht,Kt.group=en),lt++,Kt}function Ct(Ft,Dt,kt,zt,Ht,en){const Kt=At(Ft,Dt,kt,zt,Ht,en);kt.transmission>0?vt.push(Kt):kt.transparent===!0?St.push(Kt):ft.push(Kt)}function Tt(Ft,Dt,kt,zt,Ht,en){const Kt=At(Ft,Dt,kt,zt,Ht,en);kt.transmission>0?vt.unshift(Kt):kt.transparent===!0?St.unshift(Kt):ft.unshift(Kt)}function Rt(Ft,Dt){ft.length>1&&ft.sort(Ft||painterSortStable),vt.length>1&&vt.sort(Dt||reversePainterSortStable),St.length>1&&St.sort(Dt||reversePainterSortStable)}function Bt(){for(let Ft=lt,Dt=dt.length;Ft<Dt;Ft++){const kt=dt[Ft];if(kt.id===null)break;kt.id=null,kt.object=null,kt.geometry=null,kt.material=null,kt.group=null}}return{opaque:ft,transmissive:vt,transparent:St,init:Et,push:Ct,unshift:Tt,finish:Bt,sort:Rt}}function WebGLRenderLists(){let dt=new WeakMap;function lt(vt,St){const Et=dt.get(vt);let At;return Et===void 0?(At=new WebGLRenderList,dt.set(vt,[At])):St>=Et.length?(At=new WebGLRenderList,Et.push(At)):At=Et[St],At}function ft(){dt=new WeakMap}return{get:lt,dispose:ft}}function UniformsCache(){const dt={};return{get:function(lt){if(dt[lt.id]!==void 0)return dt[lt.id];let ft;switch(lt.type){case"DirectionalLight":ft={direction:new Vector3,color:new Color};break;case"SpotLight":ft={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":ft={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":ft={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":ft={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return dt[lt.id]=ft,ft}}}function ShadowUniformsCache(){const dt={};return{get:function(lt){if(dt[lt.id]!==void 0)return dt[lt.id];let ft;switch(lt.type){case"DirectionalLight":ft={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":ft={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":ft={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return dt[lt.id]=ft,ft}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(dt,lt){return(lt.castShadow?2:0)-(dt.castShadow?2:0)+(lt.map?1:0)-(dt.map?1:0)}function WebGLLights(dt,lt){const ft=new UniformsCache,vt=ShadowUniformsCache(),St={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let Bt=0;Bt<9;Bt++)St.probe.push(new Vector3);const Et=new Vector3,At=new Matrix4,Ct=new Matrix4;function Tt(Bt,Ft){let Dt=0,kt=0,zt=0;for(let An=0;An<9;An++)St.probe[An].set(0,0,0);let Ht=0,en=0,Kt=0,Zt=0,Wt=0,tn=0,an=0,ln=0,fn=0,un=0;Bt.sort(shadowCastingAndTexturingLightsFirst);const pn=Ft!==!0?Math.PI:1;for(let An=0,gn=Bt.length;An<gn;An++){const Ln=Bt[An],Cn=Ln.color,En=Ln.intensity,yn=Ln.distance,Rn=Ln.shadow&&Ln.shadow.map?Ln.shadow.map.texture:null;if(Ln.isAmbientLight)Dt+=Cn.r*En*pn,kt+=Cn.g*En*pn,zt+=Cn.b*En*pn;else if(Ln.isLightProbe)for(let hn=0;hn<9;hn++)St.probe[hn].addScaledVector(Ln.sh.coefficients[hn],En);else if(Ln.isDirectionalLight){const hn=ft.get(Ln);if(hn.color.copy(Ln.color).multiplyScalar(Ln.intensity*pn),Ln.castShadow){const mn=Ln.shadow,bn=vt.get(Ln);bn.shadowBias=mn.bias,bn.shadowNormalBias=mn.normalBias,bn.shadowRadius=mn.radius,bn.shadowMapSize=mn.mapSize,St.directionalShadow[Ht]=bn,St.directionalShadowMap[Ht]=Rn,St.directionalShadowMatrix[Ht]=Ln.shadow.matrix,tn++}St.directional[Ht]=hn,Ht++}else if(Ln.isSpotLight){const hn=ft.get(Ln);hn.position.setFromMatrixPosition(Ln.matrixWorld),hn.color.copy(Cn).multiplyScalar(En*pn),hn.distance=yn,hn.coneCos=Math.cos(Ln.angle),hn.penumbraCos=Math.cos(Ln.angle*(1-Ln.penumbra)),hn.decay=Ln.decay,St.spot[Kt]=hn;const mn=Ln.shadow;if(Ln.map&&(St.spotLightMap[fn]=Ln.map,fn++,mn.updateMatrices(Ln),Ln.castShadow&&un++),St.spotLightMatrix[Kt]=mn.matrix,Ln.castShadow){const bn=vt.get(Ln);bn.shadowBias=mn.bias,bn.shadowNormalBias=mn.normalBias,bn.shadowRadius=mn.radius,bn.shadowMapSize=mn.mapSize,St.spotShadow[Kt]=bn,St.spotShadowMap[Kt]=Rn,ln++}Kt++}else if(Ln.isRectAreaLight){const hn=ft.get(Ln);hn.color.copy(Cn).multiplyScalar(En),hn.halfWidth.set(Ln.width*.5,0,0),hn.halfHeight.set(0,Ln.height*.5,0),St.rectArea[Zt]=hn,Zt++}else if(Ln.isPointLight){const hn=ft.get(Ln);if(hn.color.copy(Ln.color).multiplyScalar(Ln.intensity*pn),hn.distance=Ln.distance,hn.decay=Ln.decay,Ln.castShadow){const mn=Ln.shadow,bn=vt.get(Ln);bn.shadowBias=mn.bias,bn.shadowNormalBias=mn.normalBias,bn.shadowRadius=mn.radius,bn.shadowMapSize=mn.mapSize,bn.shadowCameraNear=mn.camera.near,bn.shadowCameraFar=mn.camera.far,St.pointShadow[en]=bn,St.pointShadowMap[en]=Rn,St.pointShadowMatrix[en]=Ln.shadow.matrix,an++}St.point[en]=hn,en++}else if(Ln.isHemisphereLight){const hn=ft.get(Ln);hn.skyColor.copy(Ln.color).multiplyScalar(En*pn),hn.groundColor.copy(Ln.groundColor).multiplyScalar(En*pn),St.hemi[Wt]=hn,Wt++}}Zt>0&&(lt.isWebGL2||dt.has("OES_texture_float_linear")===!0?(St.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,St.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):dt.has("OES_texture_half_float_linear")===!0?(St.rectAreaLTC1=UniformsLib.LTC_HALF_1,St.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),St.ambient[0]=Dt,St.ambient[1]=kt,St.ambient[2]=zt;const xn=St.hash;(xn.directionalLength!==Ht||xn.pointLength!==en||xn.spotLength!==Kt||xn.rectAreaLength!==Zt||xn.hemiLength!==Wt||xn.numDirectionalShadows!==tn||xn.numPointShadows!==an||xn.numSpotShadows!==ln||xn.numSpotMaps!==fn)&&(St.directional.length=Ht,St.spot.length=Kt,St.rectArea.length=Zt,St.point.length=en,St.hemi.length=Wt,St.directionalShadow.length=tn,St.directionalShadowMap.length=tn,St.pointShadow.length=an,St.pointShadowMap.length=an,St.spotShadow.length=ln,St.spotShadowMap.length=ln,St.directionalShadowMatrix.length=tn,St.pointShadowMatrix.length=an,St.spotLightMatrix.length=ln+fn-un,St.spotLightMap.length=fn,St.numSpotLightShadowsWithMaps=un,xn.directionalLength=Ht,xn.pointLength=en,xn.spotLength=Kt,xn.rectAreaLength=Zt,xn.hemiLength=Wt,xn.numDirectionalShadows=tn,xn.numPointShadows=an,xn.numSpotShadows=ln,xn.numSpotMaps=fn,St.version=nextVersion++)}function Rt(Bt,Ft){let Dt=0,kt=0,zt=0,Ht=0,en=0;const Kt=Ft.matrixWorldInverse;for(let Zt=0,Wt=Bt.length;Zt<Wt;Zt++){const tn=Bt[Zt];if(tn.isDirectionalLight){const an=St.directional[Dt];an.direction.setFromMatrixPosition(tn.matrixWorld),Et.setFromMatrixPosition(tn.target.matrixWorld),an.direction.sub(Et),an.direction.transformDirection(Kt),Dt++}else if(tn.isSpotLight){const an=St.spot[zt];an.position.setFromMatrixPosition(tn.matrixWorld),an.position.applyMatrix4(Kt),an.direction.setFromMatrixPosition(tn.matrixWorld),Et.setFromMatrixPosition(tn.target.matrixWorld),an.direction.sub(Et),an.direction.transformDirection(Kt),zt++}else if(tn.isRectAreaLight){const an=St.rectArea[Ht];an.position.setFromMatrixPosition(tn.matrixWorld),an.position.applyMatrix4(Kt),Ct.identity(),At.copy(tn.matrixWorld),At.premultiply(Kt),Ct.extractRotation(At),an.halfWidth.set(tn.width*.5,0,0),an.halfHeight.set(0,tn.height*.5,0),an.halfWidth.applyMatrix4(Ct),an.halfHeight.applyMatrix4(Ct),Ht++}else if(tn.isPointLight){const an=St.point[kt];an.position.setFromMatrixPosition(tn.matrixWorld),an.position.applyMatrix4(Kt),kt++}else if(tn.isHemisphereLight){const an=St.hemi[en];an.direction.setFromMatrixPosition(tn.matrixWorld),an.direction.transformDirection(Kt),en++}}}return{setup:Tt,setupView:Rt,state:St}}function WebGLRenderState(dt,lt){const ft=new WebGLLights(dt,lt),vt=[],St=[];function Et(){vt.length=0,St.length=0}function At(Ft){vt.push(Ft)}function Ct(Ft){St.push(Ft)}function Tt(Ft){ft.setup(vt,Ft)}function Rt(Ft){ft.setupView(vt,Ft)}return{init:Et,state:{lightsArray:vt,shadowsArray:St,lights:ft},setupLights:Tt,setupLightsView:Rt,pushLight:At,pushShadow:Ct}}function WebGLRenderStates(dt,lt){let ft=new WeakMap;function vt(Et,At=0){const Ct=ft.get(Et);let Tt;return Ct===void 0?(Tt=new WebGLRenderState(dt,lt),ft.set(Et,[Tt])):At>=Ct.length?(Tt=new WebGLRenderState(dt,lt),Ct.push(Tt)):Tt=Ct[At],Tt}function St(){ft=new WeakMap}return{get:vt,dispose:St}}class MeshDepthMaterial extends Material{constructor(lt){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(lt)}copy(lt){return super.copy(lt),this.depthPacking=lt.depthPacking,this.map=lt.map,this.alphaMap=lt.alphaMap,this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(lt){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(lt)}copy(lt){return super.copy(lt),this.referencePosition.copy(lt.referencePosition),this.nearDistance=lt.nearDistance,this.farDistance=lt.farDistance,this.map=lt.map,this.alphaMap=lt.alphaMap,this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(dt,lt,ft){let vt=new Frustum;const St=new Vector2,Et=new Vector2,At=new Vector4,Ct=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),Tt=new MeshDistanceMaterial,Rt={},Bt=ft.maxTextureSize,Ft={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},Dt=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),kt=Dt.clone();kt.defines.HORIZONTAL_PASS=1;const zt=new BufferGeometry;zt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Ht=new Mesh(zt,Dt),en=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(tn,an,ln){if(en.enabled===!1||en.autoUpdate===!1&&en.needsUpdate===!1||tn.length===0)return;const fn=dt.getRenderTarget(),un=dt.getActiveCubeFace(),pn=dt.getActiveMipmapLevel(),xn=dt.state;xn.setBlending(NoBlending),xn.buffers.color.setClear(1,1,1,1),xn.buffers.depth.setTest(!0),xn.setScissorTest(!1);for(let An=0,gn=tn.length;An<gn;An++){const Ln=tn[An],Cn=Ln.shadow;if(Cn===void 0){console.warn("THREE.WebGLShadowMap:",Ln,"has no shadow.");continue}if(Cn.autoUpdate===!1&&Cn.needsUpdate===!1)continue;St.copy(Cn.mapSize);const En=Cn.getFrameExtents();if(St.multiply(En),Et.copy(Cn.mapSize),(St.x>Bt||St.y>Bt)&&(St.x>Bt&&(Et.x=Math.floor(Bt/En.x),St.x=Et.x*En.x,Cn.mapSize.x=Et.x),St.y>Bt&&(Et.y=Math.floor(Bt/En.y),St.y=Et.y*En.y,Cn.mapSize.y=Et.y)),Cn.map===null){const Rn=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Cn.map=new WebGLRenderTarget(St.x,St.y,Rn),Cn.map.texture.name=Ln.name+".shadowMap",Cn.camera.updateProjectionMatrix()}dt.setRenderTarget(Cn.map),dt.clear();const yn=Cn.getViewportCount();for(let Rn=0;Rn<yn;Rn++){const hn=Cn.getViewport(Rn);At.set(Et.x*hn.x,Et.y*hn.y,Et.x*hn.z,Et.y*hn.w),xn.viewport(At),Cn.updateMatrices(Ln,Rn),vt=Cn.getFrustum(),Wt(an,ln,Cn.camera,Ln,this.type)}Cn.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Kt(Cn,ln),Cn.needsUpdate=!1}en.needsUpdate=!1,dt.setRenderTarget(fn,un,pn)};function Kt(tn,an){const ln=lt.update(Ht);Dt.defines.VSM_SAMPLES!==tn.blurSamples&&(Dt.defines.VSM_SAMPLES=tn.blurSamples,kt.defines.VSM_SAMPLES=tn.blurSamples,Dt.needsUpdate=!0,kt.needsUpdate=!0),tn.mapPass===null&&(tn.mapPass=new WebGLRenderTarget(St.x,St.y)),Dt.uniforms.shadow_pass.value=tn.map.texture,Dt.uniforms.resolution.value=tn.mapSize,Dt.uniforms.radius.value=tn.radius,dt.setRenderTarget(tn.mapPass),dt.clear(),dt.renderBufferDirect(an,null,ln,Dt,Ht,null),kt.uniforms.shadow_pass.value=tn.mapPass.texture,kt.uniforms.resolution.value=tn.mapSize,kt.uniforms.radius.value=tn.radius,dt.setRenderTarget(tn.map),dt.clear(),dt.renderBufferDirect(an,null,ln,kt,Ht,null)}function Zt(tn,an,ln,fn,un,pn){let xn=null;const An=ln.isPointLight===!0?tn.customDistanceMaterial:tn.customDepthMaterial;if(An!==void 0)xn=An;else if(xn=ln.isPointLight===!0?Tt:Ct,dt.localClippingEnabled&&an.clipShadows===!0&&Array.isArray(an.clippingPlanes)&&an.clippingPlanes.length!==0||an.displacementMap&&an.displacementScale!==0||an.alphaMap&&an.alphaTest>0||an.map&&an.alphaTest>0){const gn=xn.uuid,Ln=an.uuid;let Cn=Rt[gn];Cn===void 0&&(Cn={},Rt[gn]=Cn);let En=Cn[Ln];En===void 0&&(En=xn.clone(),Cn[Ln]=En),xn=En}return xn.visible=an.visible,xn.wireframe=an.wireframe,pn===VSMShadowMap?xn.side=an.shadowSide!==null?an.shadowSide:an.side:xn.side=an.shadowSide!==null?an.shadowSide:Ft[an.side],xn.alphaMap=an.alphaMap,xn.alphaTest=an.alphaTest,xn.map=an.map,xn.clipShadows=an.clipShadows,xn.clippingPlanes=an.clippingPlanes,xn.clipIntersection=an.clipIntersection,xn.displacementMap=an.displacementMap,xn.displacementScale=an.displacementScale,xn.displacementBias=an.displacementBias,xn.wireframeLinewidth=an.wireframeLinewidth,xn.linewidth=an.linewidth,ln.isPointLight===!0&&xn.isMeshDistanceMaterial===!0&&(xn.referencePosition.setFromMatrixPosition(ln.matrixWorld),xn.nearDistance=fn,xn.farDistance=un),xn}function Wt(tn,an,ln,fn,un){if(tn.visible===!1)return;if(tn.layers.test(an.layers)&&(tn.isMesh||tn.isLine||tn.isPoints)&&(tn.castShadow||tn.receiveShadow&&un===VSMShadowMap)&&(!tn.frustumCulled||vt.intersectsObject(tn))){tn.modelViewMatrix.multiplyMatrices(ln.matrixWorldInverse,tn.matrixWorld);const An=lt.update(tn),gn=tn.material;if(Array.isArray(gn)){const Ln=An.groups;for(let Cn=0,En=Ln.length;Cn<En;Cn++){const yn=Ln[Cn],Rn=gn[yn.materialIndex];if(Rn&&Rn.visible){const hn=Zt(tn,Rn,fn,ln.near,ln.far,un);dt.renderBufferDirect(ln,null,An,hn,tn,yn)}}}else if(gn.visible){const Ln=Zt(tn,gn,fn,ln.near,ln.far,un);dt.renderBufferDirect(ln,null,An,Ln,tn,null)}}const xn=tn.children;for(let An=0,gn=xn.length;An<gn;An++)Wt(xn[An],an,ln,fn,un)}}function WebGLState(dt,lt,ft){const vt=ft.isWebGL2;function St(){let qn=!1;const dr=new Vector4;let Rr=null;const Gr=new Vector4(0,0,0,0);return{setMask:function(jr){Rr!==jr&&!qn&&(dt.colorMask(jr,jr,jr,jr),Rr=jr)},setLocked:function(jr){qn=jr},setClear:function(jr,ts,_s,Es,xs){xs===!0&&(jr*=Es,ts*=Es,_s*=Es),dr.set(jr,ts,_s,Es),Gr.equals(dr)===!1&&(dt.clearColor(jr,ts,_s,Es),Gr.copy(dr))},reset:function(){qn=!1,Rr=null,Gr.set(-1,0,0,0)}}}function Et(){let qn=!1,dr=null,Rr=null,Gr=null;return{setTest:function(jr){jr?Zn(2929):Un(2929)},setMask:function(jr){dr!==jr&&!qn&&(dt.depthMask(jr),dr=jr)},setFunc:function(jr){if(Rr!==jr){switch(jr){case NeverDepth:dt.depthFunc(512);break;case AlwaysDepth:dt.depthFunc(519);break;case LessDepth:dt.depthFunc(513);break;case LessEqualDepth:dt.depthFunc(515);break;case EqualDepth:dt.depthFunc(514);break;case GreaterEqualDepth:dt.depthFunc(518);break;case GreaterDepth:dt.depthFunc(516);break;case NotEqualDepth:dt.depthFunc(517);break;default:dt.depthFunc(515)}Rr=jr}},setLocked:function(jr){qn=jr},setClear:function(jr){Gr!==jr&&(dt.clearDepth(jr),Gr=jr)},reset:function(){qn=!1,dr=null,Rr=null,Gr=null}}}function At(){let qn=!1,dr=null,Rr=null,Gr=null,jr=null,ts=null,_s=null,Es=null,xs=null;return{setTest:function(gs){qn||(gs?Zn(2960):Un(2960))},setMask:function(gs){dr!==gs&&!qn&&(dt.stencilMask(gs),dr=gs)},setFunc:function(gs,As,vs){(Rr!==gs||Gr!==As||jr!==vs)&&(dt.stencilFunc(gs,As,vs),Rr=gs,Gr=As,jr=vs)},setOp:function(gs,As,vs){(ts!==gs||_s!==As||Es!==vs)&&(dt.stencilOp(gs,As,vs),ts=gs,_s=As,Es=vs)},setLocked:function(gs){qn=gs},setClear:function(gs){xs!==gs&&(dt.clearStencil(gs),xs=gs)},reset:function(){qn=!1,dr=null,Rr=null,Gr=null,jr=null,ts=null,_s=null,Es=null,xs=null}}}const Ct=new St,Tt=new Et,Rt=new At,Bt=new WeakMap,Ft=new WeakMap;let Dt={},kt={},zt=new WeakMap,Ht=[],en=null,Kt=!1,Zt=null,Wt=null,tn=null,an=null,ln=null,fn=null,un=null,pn=!1,xn=null,An=null,gn=null,Ln=null,Cn=null;const En=dt.getParameter(35661);let yn=!1,Rn=0;const hn=dt.getParameter(7938);hn.indexOf("WebGL")!==-1?(Rn=parseFloat(/^WebGL (\d)/.exec(hn)[1]),yn=Rn>=1):hn.indexOf("OpenGL ES")!==-1&&(Rn=parseFloat(/^OpenGL ES (\d)/.exec(hn)[1]),yn=Rn>=2);let mn=null,bn={};const Mn=dt.getParameter(3088),Tn=dt.getParameter(2978),In=new Vector4().fromArray(Mn),Nn=new Vector4().fromArray(Tn);function $n(qn,dr,Rr){const Gr=new Uint8Array(4),jr=dt.createTexture();dt.bindTexture(qn,jr),dt.texParameteri(qn,10241,9728),dt.texParameteri(qn,10240,9728);for(let ts=0;ts<Rr;ts++)dt.texImage2D(dr+ts,0,6408,1,1,0,6408,5121,Gr);return jr}const Gn={};Gn[3553]=$n(3553,3553,1),Gn[34067]=$n(34067,34069,6),Ct.setClear(0,0,0,1),Tt.setClear(1),Rt.setClear(0),Zn(2929),Tt.setFunc(LessEqualDepth),hr(!1),Pr(CullFaceBack),Zn(2884),Qn(NoBlending);function Zn(qn){Dt[qn]!==!0&&(dt.enable(qn),Dt[qn]=!0)}function Un(qn){Dt[qn]!==!1&&(dt.disable(qn),Dt[qn]=!1)}function Xn(qn,dr){return kt[qn]!==dr?(dt.bindFramebuffer(qn,dr),kt[qn]=dr,vt&&(qn===36009&&(kt[36160]=dr),qn===36160&&(kt[36009]=dr)),!0):!1}function Vn(qn,dr){let Rr=Ht,Gr=!1;if(qn)if(Rr=zt.get(dr),Rr===void 0&&(Rr=[],zt.set(dr,Rr)),qn.isWebGLMultipleRenderTargets){const jr=qn.texture;if(Rr.length!==jr.length||Rr[0]!==36064){for(let ts=0,_s=jr.length;ts<_s;ts++)Rr[ts]=36064+ts;Rr.length=jr.length,Gr=!0}}else Rr[0]!==36064&&(Rr[0]=36064,Gr=!0);else Rr[0]!==1029&&(Rr[0]=1029,Gr=!0);Gr&&(ft.isWebGL2?dt.drawBuffers(Rr):lt.get("WEBGL_draw_buffers").drawBuffersWEBGL(Rr))}function Wn(qn){return en!==qn?(dt.useProgram(qn),en=qn,!0):!1}const Dn={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(vt)Dn[MinEquation]=32775,Dn[MaxEquation]=32776;else{const qn=lt.get("EXT_blend_minmax");qn!==null&&(Dn[MinEquation]=qn.MIN_EXT,Dn[MaxEquation]=qn.MAX_EXT)}const jn={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function Qn(qn,dr,Rr,Gr,jr,ts,_s,Es){if(qn===NoBlending){Kt===!0&&(Un(3042),Kt=!1);return}if(Kt===!1&&(Zn(3042),Kt=!0),qn!==CustomBlending){if(qn!==Zt||Es!==pn){if((Wt!==AddEquation||ln!==AddEquation)&&(dt.blendEquation(32774),Wt=AddEquation,ln=AddEquation),Es)switch(qn){case NormalBlending:dt.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:dt.blendFunc(1,1);break;case SubtractiveBlending:dt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:dt.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",qn);break}else switch(qn){case NormalBlending:dt.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:dt.blendFunc(770,1);break;case SubtractiveBlending:dt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:dt.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",qn);break}tn=null,an=null,fn=null,un=null,Zt=qn,pn=Es}return}jr=jr||dr,ts=ts||Rr,_s=_s||Gr,(dr!==Wt||jr!==ln)&&(dt.blendEquationSeparate(Dn[dr],Dn[jr]),Wt=dr,ln=jr),(Rr!==tn||Gr!==an||ts!==fn||_s!==un)&&(dt.blendFuncSeparate(jn[Rr],jn[Gr],jn[ts],jn[_s]),tn=Rr,an=Gr,fn=ts,un=_s),Zt=qn,pn=!1}function ir(qn,dr){qn.side===DoubleSide?Un(2884):Zn(2884);let Rr=qn.side===BackSide;dr&&(Rr=!Rr),hr(Rr),qn.blending===NormalBlending&&qn.transparent===!1?Qn(NoBlending):Qn(qn.blending,qn.blendEquation,qn.blendSrc,qn.blendDst,qn.blendEquationAlpha,qn.blendSrcAlpha,qn.blendDstAlpha,qn.premultipliedAlpha),Tt.setFunc(qn.depthFunc),Tt.setTest(qn.depthTest),Tt.setMask(qn.depthWrite),Ct.setMask(qn.colorWrite);const Gr=qn.stencilWrite;Rt.setTest(Gr),Gr&&(Rt.setMask(qn.stencilWriteMask),Rt.setFunc(qn.stencilFunc,qn.stencilRef,qn.stencilFuncMask),Rt.setOp(qn.stencilFail,qn.stencilZFail,qn.stencilZPass)),xr(qn.polygonOffset,qn.polygonOffsetFactor,qn.polygonOffsetUnits),qn.alphaToCoverage===!0?Zn(32926):Un(32926)}function hr(qn){xn!==qn&&(qn?dt.frontFace(2304):dt.frontFace(2305),xn=qn)}function Pr(qn){qn!==CullFaceNone?(Zn(2884),qn!==An&&(qn===CullFaceBack?dt.cullFace(1029):qn===CullFaceFront?dt.cullFace(1028):dt.cullFace(1032))):Un(2884),An=qn}function tr(qn){qn!==gn&&(yn&&dt.lineWidth(qn),gn=qn)}function xr(qn,dr,Rr){qn?(Zn(32823),(Ln!==dr||Cn!==Rr)&&(dt.polygonOffset(dr,Rr),Ln=dr,Cn=Rr)):Un(32823)}function Tr(qn){qn?Zn(3089):Un(3089)}function mr(qn){qn===void 0&&(qn=33984+En-1),mn!==qn&&(dt.activeTexture(qn),mn=qn)}function On(qn,dr,Rr){Rr===void 0&&(mn===null?Rr=33984+En-1:Rr=mn);let Gr=bn[Rr];Gr===void 0&&(Gr={type:void 0,texture:void 0},bn[Rr]=Gr),(Gr.type!==qn||Gr.texture!==dr)&&(mn!==Rr&&(dt.activeTexture(Rr),mn=Rr),dt.bindTexture(qn,dr||Gn[qn]),Gr.type=qn,Gr.texture=dr)}function Bn(){const qn=bn[mn];qn!==void 0&&qn.type!==void 0&&(dt.bindTexture(qn.type,null),qn.type=void 0,qn.texture=void 0)}function Yn(){try{dt.compressedTexImage2D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function ur(){try{dt.compressedTexImage3D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Cr(){try{dt.texSubImage2D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Ar(){try{dt.texSubImage3D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Fr(){try{dt.compressedTexSubImage2D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Br(){try{dt.compressedTexSubImage3D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function pr(){try{dt.texStorage2D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function kr(){try{dt.texStorage3D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Jn(){try{dt.texImage2D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function cr(){try{dt.texImage3D.apply(dt,arguments)}catch(qn){console.error("THREE.WebGLState:",qn)}}function Sr(qn){In.equals(qn)===!1&&(dt.scissor(qn.x,qn.y,qn.z,qn.w),In.copy(qn))}function _r(qn){Nn.equals(qn)===!1&&(dt.viewport(qn.x,qn.y,qn.z,qn.w),Nn.copy(qn))}function Dr(qn,dr){let Rr=Ft.get(dr);Rr===void 0&&(Rr=new WeakMap,Ft.set(dr,Rr));let Gr=Rr.get(qn);Gr===void 0&&(Gr=dt.getUniformBlockIndex(dr,qn.name),Rr.set(qn,Gr))}function Wr(qn,dr){const Gr=Ft.get(dr).get(qn);Bt.get(dr)!==Gr&&(dt.uniformBlockBinding(dr,Gr,qn.__bindingPointIndex),Bt.set(dr,Gr))}function es(){dt.disable(3042),dt.disable(2884),dt.disable(2929),dt.disable(32823),dt.disable(3089),dt.disable(2960),dt.disable(32926),dt.blendEquation(32774),dt.blendFunc(1,0),dt.blendFuncSeparate(1,0,1,0),dt.colorMask(!0,!0,!0,!0),dt.clearColor(0,0,0,0),dt.depthMask(!0),dt.depthFunc(513),dt.clearDepth(1),dt.stencilMask(4294967295),dt.stencilFunc(519,0,4294967295),dt.stencilOp(7680,7680,7680),dt.clearStencil(0),dt.cullFace(1029),dt.frontFace(2305),dt.polygonOffset(0,0),dt.activeTexture(33984),dt.bindFramebuffer(36160,null),vt===!0&&(dt.bindFramebuffer(36009,null),dt.bindFramebuffer(36008,null)),dt.useProgram(null),dt.lineWidth(1),dt.scissor(0,0,dt.canvas.width,dt.canvas.height),dt.viewport(0,0,dt.canvas.width,dt.canvas.height),Dt={},mn=null,bn={},kt={},zt=new WeakMap,Ht=[],en=null,Kt=!1,Zt=null,Wt=null,tn=null,an=null,ln=null,fn=null,un=null,pn=!1,xn=null,An=null,gn=null,Ln=null,Cn=null,In.set(0,0,dt.canvas.width,dt.canvas.height),Nn.set(0,0,dt.canvas.width,dt.canvas.height),Ct.reset(),Tt.reset(),Rt.reset()}return{buffers:{color:Ct,depth:Tt,stencil:Rt},enable:Zn,disable:Un,bindFramebuffer:Xn,drawBuffers:Vn,useProgram:Wn,setBlending:Qn,setMaterial:ir,setFlipSided:hr,setCullFace:Pr,setLineWidth:tr,setPolygonOffset:xr,setScissorTest:Tr,activeTexture:mr,bindTexture:On,unbindTexture:Bn,compressedTexImage2D:Yn,compressedTexImage3D:ur,texImage2D:Jn,texImage3D:cr,updateUBOMapping:Dr,uniformBlockBinding:Wr,texStorage2D:pr,texStorage3D:kr,texSubImage2D:Cr,texSubImage3D:Ar,compressedTexSubImage2D:Fr,compressedTexSubImage3D:Br,scissor:Sr,viewport:_r,reset:es}}function WebGLTextures(dt,lt,ft,vt,St,Et,At){const Ct=St.isWebGL2,Tt=St.maxTextures,Rt=St.maxCubemapSize,Bt=St.maxTextureSize,Ft=St.maxSamples,Dt=lt.has("WEBGL_multisampled_render_to_texture")?lt.get("WEBGL_multisampled_render_to_texture"):null,kt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),zt=new WeakMap;let Ht;const en=new WeakMap;let Kt=!1;try{Kt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Zt(On,Bn){return Kt?new OffscreenCanvas(On,Bn):createElementNS("canvas")}function Wt(On,Bn,Yn,ur){let Cr=1;if((On.width>ur||On.height>ur)&&(Cr=ur/Math.max(On.width,On.height)),Cr<1||Bn===!0)if(typeof HTMLImageElement<"u"&&On instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&On instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&On instanceof ImageBitmap){const Ar=Bn?floorPowerOfTwo:Math.floor,Fr=Ar(Cr*On.width),Br=Ar(Cr*On.height);Ht===void 0&&(Ht=Zt(Fr,Br));const pr=Yn?Zt(Fr,Br):Ht;return pr.width=Fr,pr.height=Br,pr.getContext("2d").drawImage(On,0,0,Fr,Br),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+On.width+"x"+On.height+") to ("+Fr+"x"+Br+")."),pr}else return"data"in On&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+On.width+"x"+On.height+")."),On;return On}function tn(On){return isPowerOfTwo(On.width)&&isPowerOfTwo(On.height)}function an(On){return Ct?!1:On.wrapS!==ClampToEdgeWrapping||On.wrapT!==ClampToEdgeWrapping||On.minFilter!==NearestFilter&&On.minFilter!==LinearFilter}function ln(On,Bn){return On.generateMipmaps&&Bn&&On.minFilter!==NearestFilter&&On.minFilter!==LinearFilter}function fn(On){dt.generateMipmap(On)}function un(On,Bn,Yn,ur,Cr=!1){if(Ct===!1)return Bn;if(On!==null){if(dt[On]!==void 0)return dt[On];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+On+"'")}let Ar=Bn;return Bn===6403&&(Yn===5126&&(Ar=33326),Yn===5131&&(Ar=33325),Yn===5121&&(Ar=33321)),Bn===33319&&(Yn===5126&&(Ar=33328),Yn===5131&&(Ar=33327),Yn===5121&&(Ar=33323)),Bn===6408&&(Yn===5126&&(Ar=34836),Yn===5131&&(Ar=34842),Yn===5121&&(Ar=ur===sRGBEncoding&&Cr===!1?35907:32856),Yn===32819&&(Ar=32854),Yn===32820&&(Ar=32855)),(Ar===33325||Ar===33326||Ar===33327||Ar===33328||Ar===34842||Ar===34836)&&lt.get("EXT_color_buffer_float"),Ar}function pn(On,Bn,Yn){return ln(On,Yn)===!0||On.isFramebufferTexture&&On.minFilter!==NearestFilter&&On.minFilter!==LinearFilter?Math.log2(Math.max(Bn.width,Bn.height))+1:On.mipmaps!==void 0&&On.mipmaps.length>0?On.mipmaps.length:On.isCompressedTexture&&Array.isArray(On.image)?Bn.mipmaps.length:1}function xn(On){return On===NearestFilter||On===NearestMipmapNearestFilter||On===NearestMipmapLinearFilter?9728:9729}function An(On){const Bn=On.target;Bn.removeEventListener("dispose",An),Ln(Bn),Bn.isVideoTexture&&zt.delete(Bn)}function gn(On){const Bn=On.target;Bn.removeEventListener("dispose",gn),En(Bn)}function Ln(On){const Bn=vt.get(On);if(Bn.__webglInit===void 0)return;const Yn=On.source,ur=en.get(Yn);if(ur){const Cr=ur[Bn.__cacheKey];Cr.usedTimes--,Cr.usedTimes===0&&Cn(On),Object.keys(ur).length===0&&en.delete(Yn)}vt.remove(On)}function Cn(On){const Bn=vt.get(On);dt.deleteTexture(Bn.__webglTexture);const Yn=On.source,ur=en.get(Yn);delete ur[Bn.__cacheKey],At.memory.textures--}function En(On){const Bn=On.texture,Yn=vt.get(On),ur=vt.get(Bn);if(ur.__webglTexture!==void 0&&(dt.deleteTexture(ur.__webglTexture),At.memory.textures--),On.depthTexture&&On.depthTexture.dispose(),On.isWebGLCubeRenderTarget)for(let Cr=0;Cr<6;Cr++)dt.deleteFramebuffer(Yn.__webglFramebuffer[Cr]),Yn.__webglDepthbuffer&&dt.deleteRenderbuffer(Yn.__webglDepthbuffer[Cr]);else{if(dt.deleteFramebuffer(Yn.__webglFramebuffer),Yn.__webglDepthbuffer&&dt.deleteRenderbuffer(Yn.__webglDepthbuffer),Yn.__webglMultisampledFramebuffer&&dt.deleteFramebuffer(Yn.__webglMultisampledFramebuffer),Yn.__webglColorRenderbuffer)for(let Cr=0;Cr<Yn.__webglColorRenderbuffer.length;Cr++)Yn.__webglColorRenderbuffer[Cr]&&dt.deleteRenderbuffer(Yn.__webglColorRenderbuffer[Cr]);Yn.__webglDepthRenderbuffer&&dt.deleteRenderbuffer(Yn.__webglDepthRenderbuffer)}if(On.isWebGLMultipleRenderTargets)for(let Cr=0,Ar=Bn.length;Cr<Ar;Cr++){const Fr=vt.get(Bn[Cr]);Fr.__webglTexture&&(dt.deleteTexture(Fr.__webglTexture),At.memory.textures--),vt.remove(Bn[Cr])}vt.remove(Bn),vt.remove(On)}let yn=0;function Rn(){yn=0}function hn(){const On=yn;return On>=Tt&&console.warn("THREE.WebGLTextures: Trying to use "+On+" texture units while this GPU supports only "+Tt),yn+=1,On}function mn(On){const Bn=[];return Bn.push(On.wrapS),Bn.push(On.wrapT),Bn.push(On.wrapR||0),Bn.push(On.magFilter),Bn.push(On.minFilter),Bn.push(On.anisotropy),Bn.push(On.internalFormat),Bn.push(On.format),Bn.push(On.type),Bn.push(On.generateMipmaps),Bn.push(On.premultiplyAlpha),Bn.push(On.flipY),Bn.push(On.unpackAlignment),Bn.push(On.encoding),Bn.join()}function bn(On,Bn){const Yn=vt.get(On);if(On.isVideoTexture&&Tr(On),On.isRenderTargetTexture===!1&&On.version>0&&Yn.__version!==On.version){const ur=On.image;if(ur===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ur.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Un(Yn,On,Bn);return}}ft.bindTexture(3553,Yn.__webglTexture,33984+Bn)}function Mn(On,Bn){const Yn=vt.get(On);if(On.version>0&&Yn.__version!==On.version){Un(Yn,On,Bn);return}ft.bindTexture(35866,Yn.__webglTexture,33984+Bn)}function Tn(On,Bn){const Yn=vt.get(On);if(On.version>0&&Yn.__version!==On.version){Un(Yn,On,Bn);return}ft.bindTexture(32879,Yn.__webglTexture,33984+Bn)}function In(On,Bn){const Yn=vt.get(On);if(On.version>0&&Yn.__version!==On.version){Xn(Yn,On,Bn);return}ft.bindTexture(34067,Yn.__webglTexture,33984+Bn)}const Nn={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},$n={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Gn(On,Bn,Yn){if(Yn?(dt.texParameteri(On,10242,Nn[Bn.wrapS]),dt.texParameteri(On,10243,Nn[Bn.wrapT]),(On===32879||On===35866)&&dt.texParameteri(On,32882,Nn[Bn.wrapR]),dt.texParameteri(On,10240,$n[Bn.magFilter]),dt.texParameteri(On,10241,$n[Bn.minFilter])):(dt.texParameteri(On,10242,33071),dt.texParameteri(On,10243,33071),(On===32879||On===35866)&&dt.texParameteri(On,32882,33071),(Bn.wrapS!==ClampToEdgeWrapping||Bn.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),dt.texParameteri(On,10240,xn(Bn.magFilter)),dt.texParameteri(On,10241,xn(Bn.minFilter)),Bn.minFilter!==NearestFilter&&Bn.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),lt.has("EXT_texture_filter_anisotropic")===!0){const ur=lt.get("EXT_texture_filter_anisotropic");if(Bn.magFilter===NearestFilter||Bn.minFilter!==NearestMipmapLinearFilter&&Bn.minFilter!==LinearMipmapLinearFilter||Bn.type===FloatType&&lt.has("OES_texture_float_linear")===!1||Ct===!1&&Bn.type===HalfFloatType&&lt.has("OES_texture_half_float_linear")===!1)return;(Bn.anisotropy>1||vt.get(Bn).__currentAnisotropy)&&(dt.texParameterf(On,ur.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Bn.anisotropy,St.getMaxAnisotropy())),vt.get(Bn).__currentAnisotropy=Bn.anisotropy)}}function Zn(On,Bn){let Yn=!1;On.__webglInit===void 0&&(On.__webglInit=!0,Bn.addEventListener("dispose",An));const ur=Bn.source;let Cr=en.get(ur);Cr===void 0&&(Cr={},en.set(ur,Cr));const Ar=mn(Bn);if(Ar!==On.__cacheKey){Cr[Ar]===void 0&&(Cr[Ar]={texture:dt.createTexture(),usedTimes:0},At.memory.textures++,Yn=!0),Cr[Ar].usedTimes++;const Fr=Cr[On.__cacheKey];Fr!==void 0&&(Cr[On.__cacheKey].usedTimes--,Fr.usedTimes===0&&Cn(Bn)),On.__cacheKey=Ar,On.__webglTexture=Cr[Ar].texture}return Yn}function Un(On,Bn,Yn){let ur=3553;(Bn.isDataArrayTexture||Bn.isCompressedArrayTexture)&&(ur=35866),Bn.isData3DTexture&&(ur=32879);const Cr=Zn(On,Bn),Ar=Bn.source;ft.bindTexture(ur,On.__webglTexture,33984+Yn);const Fr=vt.get(Ar);if(Ar.version!==Fr.__version||Cr===!0){ft.activeTexture(33984+Yn),dt.pixelStorei(37440,Bn.flipY),dt.pixelStorei(37441,Bn.premultiplyAlpha),dt.pixelStorei(3317,Bn.unpackAlignment),dt.pixelStorei(37443,0);const Br=an(Bn)&&tn(Bn.image)===!1;let pr=Wt(Bn.image,Br,!1,Bt);pr=mr(Bn,pr);const kr=tn(pr)||Ct,Jn=Et.convert(Bn.format,Bn.encoding);let cr=Et.convert(Bn.type),Sr=un(Bn.internalFormat,Jn,cr,Bn.encoding,Bn.isVideoTexture);Gn(ur,Bn,kr);let _r;const Dr=Bn.mipmaps,Wr=Ct&&Bn.isVideoTexture!==!0,es=Fr.__version===void 0||Cr===!0,qn=pn(Bn,pr,kr);if(Bn.isDepthTexture)Sr=6402,Ct?Bn.type===FloatType?Sr=36012:Bn.type===UnsignedIntType?Sr=33190:Bn.type===UnsignedInt248Type?Sr=35056:Sr=33189:Bn.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Bn.format===DepthFormat&&Sr===6402&&Bn.type!==UnsignedShortType&&Bn.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Bn.type=UnsignedIntType,cr=Et.convert(Bn.type)),Bn.format===DepthStencilFormat&&Sr===6402&&(Sr=34041,Bn.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Bn.type=UnsignedInt248Type,cr=Et.convert(Bn.type))),es&&(Wr?ft.texStorage2D(3553,1,Sr,pr.width,pr.height):ft.texImage2D(3553,0,Sr,pr.width,pr.height,0,Jn,cr,null));else if(Bn.isDataTexture)if(Dr.length>0&&kr){Wr&&es&&ft.texStorage2D(3553,qn,Sr,Dr[0].width,Dr[0].height);for(let dr=0,Rr=Dr.length;dr<Rr;dr++)_r=Dr[dr],Wr?ft.texSubImage2D(3553,dr,0,0,_r.width,_r.height,Jn,cr,_r.data):ft.texImage2D(3553,dr,Sr,_r.width,_r.height,0,Jn,cr,_r.data);Bn.generateMipmaps=!1}else Wr?(es&&ft.texStorage2D(3553,qn,Sr,pr.width,pr.height),ft.texSubImage2D(3553,0,0,0,pr.width,pr.height,Jn,cr,pr.data)):ft.texImage2D(3553,0,Sr,pr.width,pr.height,0,Jn,cr,pr.data);else if(Bn.isCompressedTexture)if(Bn.isCompressedArrayTexture){Wr&&es&&ft.texStorage3D(35866,qn,Sr,Dr[0].width,Dr[0].height,pr.depth);for(let dr=0,Rr=Dr.length;dr<Rr;dr++)_r=Dr[dr],Bn.format!==RGBAFormat?Jn!==null?Wr?ft.compressedTexSubImage3D(35866,dr,0,0,0,_r.width,_r.height,pr.depth,Jn,_r.data,0,0):ft.compressedTexImage3D(35866,dr,Sr,_r.width,_r.height,pr.depth,0,_r.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Wr?ft.texSubImage3D(35866,dr,0,0,0,_r.width,_r.height,pr.depth,Jn,cr,_r.data):ft.texImage3D(35866,dr,Sr,_r.width,_r.height,pr.depth,0,Jn,cr,_r.data)}else{Wr&&es&&ft.texStorage2D(3553,qn,Sr,Dr[0].width,Dr[0].height);for(let dr=0,Rr=Dr.length;dr<Rr;dr++)_r=Dr[dr],Bn.format!==RGBAFormat?Jn!==null?Wr?ft.compressedTexSubImage2D(3553,dr,0,0,_r.width,_r.height,Jn,_r.data):ft.compressedTexImage2D(3553,dr,Sr,_r.width,_r.height,0,_r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Wr?ft.texSubImage2D(3553,dr,0,0,_r.width,_r.height,Jn,cr,_r.data):ft.texImage2D(3553,dr,Sr,_r.width,_r.height,0,Jn,cr,_r.data)}else if(Bn.isDataArrayTexture)Wr?(es&&ft.texStorage3D(35866,qn,Sr,pr.width,pr.height,pr.depth),ft.texSubImage3D(35866,0,0,0,0,pr.width,pr.height,pr.depth,Jn,cr,pr.data)):ft.texImage3D(35866,0,Sr,pr.width,pr.height,pr.depth,0,Jn,cr,pr.data);else if(Bn.isData3DTexture)Wr?(es&&ft.texStorage3D(32879,qn,Sr,pr.width,pr.height,pr.depth),ft.texSubImage3D(32879,0,0,0,0,pr.width,pr.height,pr.depth,Jn,cr,pr.data)):ft.texImage3D(32879,0,Sr,pr.width,pr.height,pr.depth,0,Jn,cr,pr.data);else if(Bn.isFramebufferTexture){if(es)if(Wr)ft.texStorage2D(3553,qn,Sr,pr.width,pr.height);else{let dr=pr.width,Rr=pr.height;for(let Gr=0;Gr<qn;Gr++)ft.texImage2D(3553,Gr,Sr,dr,Rr,0,Jn,cr,null),dr>>=1,Rr>>=1}}else if(Dr.length>0&&kr){Wr&&es&&ft.texStorage2D(3553,qn,Sr,Dr[0].width,Dr[0].height);for(let dr=0,Rr=Dr.length;dr<Rr;dr++)_r=Dr[dr],Wr?ft.texSubImage2D(3553,dr,0,0,Jn,cr,_r):ft.texImage2D(3553,dr,Sr,Jn,cr,_r);Bn.generateMipmaps=!1}else Wr?(es&&ft.texStorage2D(3553,qn,Sr,pr.width,pr.height),ft.texSubImage2D(3553,0,0,0,Jn,cr,pr)):ft.texImage2D(3553,0,Sr,Jn,cr,pr);ln(Bn,kr)&&fn(ur),Fr.__version=Ar.version,Bn.onUpdate&&Bn.onUpdate(Bn)}On.__version=Bn.version}function Xn(On,Bn,Yn){if(Bn.image.length!==6)return;const ur=Zn(On,Bn),Cr=Bn.source;ft.bindTexture(34067,On.__webglTexture,33984+Yn);const Ar=vt.get(Cr);if(Cr.version!==Ar.__version||ur===!0){ft.activeTexture(33984+Yn),dt.pixelStorei(37440,Bn.flipY),dt.pixelStorei(37441,Bn.premultiplyAlpha),dt.pixelStorei(3317,Bn.unpackAlignment),dt.pixelStorei(37443,0);const Fr=Bn.isCompressedTexture||Bn.image[0].isCompressedTexture,Br=Bn.image[0]&&Bn.image[0].isDataTexture,pr=[];for(let dr=0;dr<6;dr++)!Fr&&!Br?pr[dr]=Wt(Bn.image[dr],!1,!0,Rt):pr[dr]=Br?Bn.image[dr].image:Bn.image[dr],pr[dr]=mr(Bn,pr[dr]);const kr=pr[0],Jn=tn(kr)||Ct,cr=Et.convert(Bn.format,Bn.encoding),Sr=Et.convert(Bn.type),_r=un(Bn.internalFormat,cr,Sr,Bn.encoding),Dr=Ct&&Bn.isVideoTexture!==!0,Wr=Ar.__version===void 0||ur===!0;let es=pn(Bn,kr,Jn);Gn(34067,Bn,Jn);let qn;if(Fr){Dr&&Wr&&ft.texStorage2D(34067,es,_r,kr.width,kr.height);for(let dr=0;dr<6;dr++){qn=pr[dr].mipmaps;for(let Rr=0;Rr<qn.length;Rr++){const Gr=qn[Rr];Bn.format!==RGBAFormat?cr!==null?Dr?ft.compressedTexSubImage2D(34069+dr,Rr,0,0,Gr.width,Gr.height,cr,Gr.data):ft.compressedTexImage2D(34069+dr,Rr,_r,Gr.width,Gr.height,0,Gr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Dr?ft.texSubImage2D(34069+dr,Rr,0,0,Gr.width,Gr.height,cr,Sr,Gr.data):ft.texImage2D(34069+dr,Rr,_r,Gr.width,Gr.height,0,cr,Sr,Gr.data)}}}else{qn=Bn.mipmaps,Dr&&Wr&&(qn.length>0&&es++,ft.texStorage2D(34067,es,_r,pr[0].width,pr[0].height));for(let dr=0;dr<6;dr++)if(Br){Dr?ft.texSubImage2D(34069+dr,0,0,0,pr[dr].width,pr[dr].height,cr,Sr,pr[dr].data):ft.texImage2D(34069+dr,0,_r,pr[dr].width,pr[dr].height,0,cr,Sr,pr[dr].data);for(let Rr=0;Rr<qn.length;Rr++){const jr=qn[Rr].image[dr].image;Dr?ft.texSubImage2D(34069+dr,Rr+1,0,0,jr.width,jr.height,cr,Sr,jr.data):ft.texImage2D(34069+dr,Rr+1,_r,jr.width,jr.height,0,cr,Sr,jr.data)}}else{Dr?ft.texSubImage2D(34069+dr,0,0,0,cr,Sr,pr[dr]):ft.texImage2D(34069+dr,0,_r,cr,Sr,pr[dr]);for(let Rr=0;Rr<qn.length;Rr++){const Gr=qn[Rr];Dr?ft.texSubImage2D(34069+dr,Rr+1,0,0,cr,Sr,Gr.image[dr]):ft.texImage2D(34069+dr,Rr+1,_r,cr,Sr,Gr.image[dr])}}}ln(Bn,Jn)&&fn(34067),Ar.__version=Cr.version,Bn.onUpdate&&Bn.onUpdate(Bn)}On.__version=Bn.version}function Vn(On,Bn,Yn,ur,Cr){const Ar=Et.convert(Yn.format,Yn.encoding),Fr=Et.convert(Yn.type),Br=un(Yn.internalFormat,Ar,Fr,Yn.encoding);vt.get(Bn).__hasExternalTextures||(Cr===32879||Cr===35866?ft.texImage3D(Cr,0,Br,Bn.width,Bn.height,Bn.depth,0,Ar,Fr,null):ft.texImage2D(Cr,0,Br,Bn.width,Bn.height,0,Ar,Fr,null)),ft.bindFramebuffer(36160,On),xr(Bn)?Dt.framebufferTexture2DMultisampleEXT(36160,ur,Cr,vt.get(Yn).__webglTexture,0,tr(Bn)):(Cr===3553||Cr>=34069&&Cr<=34074)&&dt.framebufferTexture2D(36160,ur,Cr,vt.get(Yn).__webglTexture,0),ft.bindFramebuffer(36160,null)}function Wn(On,Bn,Yn){if(dt.bindRenderbuffer(36161,On),Bn.depthBuffer&&!Bn.stencilBuffer){let ur=33189;if(Yn||xr(Bn)){const Cr=Bn.depthTexture;Cr&&Cr.isDepthTexture&&(Cr.type===FloatType?ur=36012:Cr.type===UnsignedIntType&&(ur=33190));const Ar=tr(Bn);xr(Bn)?Dt.renderbufferStorageMultisampleEXT(36161,Ar,ur,Bn.width,Bn.height):dt.renderbufferStorageMultisample(36161,Ar,ur,Bn.width,Bn.height)}else dt.renderbufferStorage(36161,ur,Bn.width,Bn.height);dt.framebufferRenderbuffer(36160,36096,36161,On)}else if(Bn.depthBuffer&&Bn.stencilBuffer){const ur=tr(Bn);Yn&&xr(Bn)===!1?dt.renderbufferStorageMultisample(36161,ur,35056,Bn.width,Bn.height):xr(Bn)?Dt.renderbufferStorageMultisampleEXT(36161,ur,35056,Bn.width,Bn.height):dt.renderbufferStorage(36161,34041,Bn.width,Bn.height),dt.framebufferRenderbuffer(36160,33306,36161,On)}else{const ur=Bn.isWebGLMultipleRenderTargets===!0?Bn.texture:[Bn.texture];for(let Cr=0;Cr<ur.length;Cr++){const Ar=ur[Cr],Fr=Et.convert(Ar.format,Ar.encoding),Br=Et.convert(Ar.type),pr=un(Ar.internalFormat,Fr,Br,Ar.encoding),kr=tr(Bn);Yn&&xr(Bn)===!1?dt.renderbufferStorageMultisample(36161,kr,pr,Bn.width,Bn.height):xr(Bn)?Dt.renderbufferStorageMultisampleEXT(36161,kr,pr,Bn.width,Bn.height):dt.renderbufferStorage(36161,pr,Bn.width,Bn.height)}}dt.bindRenderbuffer(36161,null)}function Dn(On,Bn){if(Bn&&Bn.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(ft.bindFramebuffer(36160,On),!(Bn.depthTexture&&Bn.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!vt.get(Bn.depthTexture).__webglTexture||Bn.depthTexture.image.width!==Bn.width||Bn.depthTexture.image.height!==Bn.height)&&(Bn.depthTexture.image.width=Bn.width,Bn.depthTexture.image.height=Bn.height,Bn.depthTexture.needsUpdate=!0),bn(Bn.depthTexture,0);const ur=vt.get(Bn.depthTexture).__webglTexture,Cr=tr(Bn);if(Bn.depthTexture.format===DepthFormat)xr(Bn)?Dt.framebufferTexture2DMultisampleEXT(36160,36096,3553,ur,0,Cr):dt.framebufferTexture2D(36160,36096,3553,ur,0);else if(Bn.depthTexture.format===DepthStencilFormat)xr(Bn)?Dt.framebufferTexture2DMultisampleEXT(36160,33306,3553,ur,0,Cr):dt.framebufferTexture2D(36160,33306,3553,ur,0);else throw new Error("Unknown depthTexture format")}function jn(On){const Bn=vt.get(On),Yn=On.isWebGLCubeRenderTarget===!0;if(On.depthTexture&&!Bn.__autoAllocateDepthBuffer){if(Yn)throw new Error("target.depthTexture not supported in Cube render targets");Dn(Bn.__webglFramebuffer,On)}else if(Yn){Bn.__webglDepthbuffer=[];for(let ur=0;ur<6;ur++)ft.bindFramebuffer(36160,Bn.__webglFramebuffer[ur]),Bn.__webglDepthbuffer[ur]=dt.createRenderbuffer(),Wn(Bn.__webglDepthbuffer[ur],On,!1)}else ft.bindFramebuffer(36160,Bn.__webglFramebuffer),Bn.__webglDepthbuffer=dt.createRenderbuffer(),Wn(Bn.__webglDepthbuffer,On,!1);ft.bindFramebuffer(36160,null)}function Qn(On,Bn,Yn){const ur=vt.get(On);Bn!==void 0&&Vn(ur.__webglFramebuffer,On,On.texture,36064,3553),Yn!==void 0&&jn(On)}function ir(On){const Bn=On.texture,Yn=vt.get(On),ur=vt.get(Bn);On.addEventListener("dispose",gn),On.isWebGLMultipleRenderTargets!==!0&&(ur.__webglTexture===void 0&&(ur.__webglTexture=dt.createTexture()),ur.__version=Bn.version,At.memory.textures++);const Cr=On.isWebGLCubeRenderTarget===!0,Ar=On.isWebGLMultipleRenderTargets===!0,Fr=tn(On)||Ct;if(Cr){Yn.__webglFramebuffer=[];for(let Br=0;Br<6;Br++)Yn.__webglFramebuffer[Br]=dt.createFramebuffer()}else{if(Yn.__webglFramebuffer=dt.createFramebuffer(),Ar)if(St.drawBuffers){const Br=On.texture;for(let pr=0,kr=Br.length;pr<kr;pr++){const Jn=vt.get(Br[pr]);Jn.__webglTexture===void 0&&(Jn.__webglTexture=dt.createTexture(),At.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(Ct&&On.samples>0&&xr(On)===!1){const Br=Ar?Bn:[Bn];Yn.__webglMultisampledFramebuffer=dt.createFramebuffer(),Yn.__webglColorRenderbuffer=[],ft.bindFramebuffer(36160,Yn.__webglMultisampledFramebuffer);for(let pr=0;pr<Br.length;pr++){const kr=Br[pr];Yn.__webglColorRenderbuffer[pr]=dt.createRenderbuffer(),dt.bindRenderbuffer(36161,Yn.__webglColorRenderbuffer[pr]);const Jn=Et.convert(kr.format,kr.encoding),cr=Et.convert(kr.type),Sr=un(kr.internalFormat,Jn,cr,kr.encoding,On.isXRRenderTarget===!0),_r=tr(On);dt.renderbufferStorageMultisample(36161,_r,Sr,On.width,On.height),dt.framebufferRenderbuffer(36160,36064+pr,36161,Yn.__webglColorRenderbuffer[pr])}dt.bindRenderbuffer(36161,null),On.depthBuffer&&(Yn.__webglDepthRenderbuffer=dt.createRenderbuffer(),Wn(Yn.__webglDepthRenderbuffer,On,!0)),ft.bindFramebuffer(36160,null)}}if(Cr){ft.bindTexture(34067,ur.__webglTexture),Gn(34067,Bn,Fr);for(let Br=0;Br<6;Br++)Vn(Yn.__webglFramebuffer[Br],On,Bn,36064,34069+Br);ln(Bn,Fr)&&fn(34067),ft.unbindTexture()}else if(Ar){const Br=On.texture;for(let pr=0,kr=Br.length;pr<kr;pr++){const Jn=Br[pr],cr=vt.get(Jn);ft.bindTexture(3553,cr.__webglTexture),Gn(3553,Jn,Fr),Vn(Yn.__webglFramebuffer,On,Jn,36064+pr,3553),ln(Jn,Fr)&&fn(3553)}ft.unbindTexture()}else{let Br=3553;(On.isWebGL3DRenderTarget||On.isWebGLArrayRenderTarget)&&(Ct?Br=On.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),ft.bindTexture(Br,ur.__webglTexture),Gn(Br,Bn,Fr),Vn(Yn.__webglFramebuffer,On,Bn,36064,Br),ln(Bn,Fr)&&fn(Br),ft.unbindTexture()}On.depthBuffer&&jn(On)}function hr(On){const Bn=tn(On)||Ct,Yn=On.isWebGLMultipleRenderTargets===!0?On.texture:[On.texture];for(let ur=0,Cr=Yn.length;ur<Cr;ur++){const Ar=Yn[ur];if(ln(Ar,Bn)){const Fr=On.isWebGLCubeRenderTarget?34067:3553,Br=vt.get(Ar).__webglTexture;ft.bindTexture(Fr,Br),fn(Fr),ft.unbindTexture()}}}function Pr(On){if(Ct&&On.samples>0&&xr(On)===!1){const Bn=On.isWebGLMultipleRenderTargets?On.texture:[On.texture],Yn=On.width,ur=On.height;let Cr=16384;const Ar=[],Fr=On.stencilBuffer?33306:36096,Br=vt.get(On),pr=On.isWebGLMultipleRenderTargets===!0;if(pr)for(let kr=0;kr<Bn.length;kr++)ft.bindFramebuffer(36160,Br.__webglMultisampledFramebuffer),dt.framebufferRenderbuffer(36160,36064+kr,36161,null),ft.bindFramebuffer(36160,Br.__webglFramebuffer),dt.framebufferTexture2D(36009,36064+kr,3553,null,0);ft.bindFramebuffer(36008,Br.__webglMultisampledFramebuffer),ft.bindFramebuffer(36009,Br.__webglFramebuffer);for(let kr=0;kr<Bn.length;kr++){Ar.push(36064+kr),On.depthBuffer&&Ar.push(Fr);const Jn=Br.__ignoreDepthValues!==void 0?Br.__ignoreDepthValues:!1;if(Jn===!1&&(On.depthBuffer&&(Cr|=256),On.stencilBuffer&&(Cr|=1024)),pr&&dt.framebufferRenderbuffer(36008,36064,36161,Br.__webglColorRenderbuffer[kr]),Jn===!0&&(dt.invalidateFramebuffer(36008,[Fr]),dt.invalidateFramebuffer(36009,[Fr])),pr){const cr=vt.get(Bn[kr]).__webglTexture;dt.framebufferTexture2D(36009,36064,3553,cr,0)}dt.blitFramebuffer(0,0,Yn,ur,0,0,Yn,ur,Cr,9728),kt&&dt.invalidateFramebuffer(36008,Ar)}if(ft.bindFramebuffer(36008,null),ft.bindFramebuffer(36009,null),pr)for(let kr=0;kr<Bn.length;kr++){ft.bindFramebuffer(36160,Br.__webglMultisampledFramebuffer),dt.framebufferRenderbuffer(36160,36064+kr,36161,Br.__webglColorRenderbuffer[kr]);const Jn=vt.get(Bn[kr]).__webglTexture;ft.bindFramebuffer(36160,Br.__webglFramebuffer),dt.framebufferTexture2D(36009,36064+kr,3553,Jn,0)}ft.bindFramebuffer(36009,Br.__webglMultisampledFramebuffer)}}function tr(On){return Math.min(Ft,On.samples)}function xr(On){const Bn=vt.get(On);return Ct&&On.samples>0&&lt.has("WEBGL_multisampled_render_to_texture")===!0&&Bn.__useRenderToTexture!==!1}function Tr(On){const Bn=At.render.frame;zt.get(On)!==Bn&&(zt.set(On,Bn),On.update())}function mr(On,Bn){const Yn=On.encoding,ur=On.format,Cr=On.type;return On.isCompressedTexture===!0||On.isVideoTexture===!0||On.format===_SRGBAFormat||Yn!==LinearEncoding&&(Yn===sRGBEncoding?Ct===!1?lt.has("EXT_sRGB")===!0&&ur===RGBAFormat?(On.format=_SRGBAFormat,On.minFilter=LinearFilter,On.generateMipmaps=!1):Bn=ImageUtils.sRGBToLinear(Bn):(ur!==RGBAFormat||Cr!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Yn)),Bn}this.allocateTextureUnit=hn,this.resetTextureUnits=Rn,this.setTexture2D=bn,this.setTexture2DArray=Mn,this.setTexture3D=Tn,this.setTextureCube=In,this.rebindTextures=Qn,this.setupRenderTarget=ir,this.updateRenderTargetMipmap=hr,this.updateMultisampleRenderTarget=Pr,this.setupDepthRenderbuffer=jn,this.setupFrameBufferTexture=Vn,this.useMultisampledRTT=xr}function WebGLUtils(dt,lt,ft){const vt=ft.isWebGL2;function St(Et,At=null){let Ct;if(Et===UnsignedByteType)return 5121;if(Et===UnsignedShort4444Type)return 32819;if(Et===UnsignedShort5551Type)return 32820;if(Et===ByteType)return 5120;if(Et===ShortType)return 5122;if(Et===UnsignedShortType)return 5123;if(Et===IntType)return 5124;if(Et===UnsignedIntType)return 5125;if(Et===FloatType)return 5126;if(Et===HalfFloatType)return vt?5131:(Ct=lt.get("OES_texture_half_float"),Ct!==null?Ct.HALF_FLOAT_OES:null);if(Et===AlphaFormat)return 6406;if(Et===RGBAFormat)return 6408;if(Et===LuminanceFormat)return 6409;if(Et===LuminanceAlphaFormat)return 6410;if(Et===DepthFormat)return 6402;if(Et===DepthStencilFormat)return 34041;if(Et===_SRGBAFormat)return Ct=lt.get("EXT_sRGB"),Ct!==null?Ct.SRGB_ALPHA_EXT:null;if(Et===RedFormat)return 6403;if(Et===RedIntegerFormat)return 36244;if(Et===RGFormat)return 33319;if(Et===RGIntegerFormat)return 33320;if(Et===RGBAIntegerFormat)return 36249;if(Et===RGB_S3TC_DXT1_Format||Et===RGBA_S3TC_DXT1_Format||Et===RGBA_S3TC_DXT3_Format||Et===RGBA_S3TC_DXT5_Format)if(At===sRGBEncoding)if(Ct=lt.get("WEBGL_compressed_texture_s3tc_srgb"),Ct!==null){if(Et===RGB_S3TC_DXT1_Format)return Ct.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT1_Format)return Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT3_Format)return Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(Et===RGBA_S3TC_DXT5_Format)return Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(Ct=lt.get("WEBGL_compressed_texture_s3tc"),Ct!==null){if(Et===RGB_S3TC_DXT1_Format)return Ct.COMPRESSED_RGB_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT1_Format)return Ct.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT3_Format)return Ct.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(Et===RGBA_S3TC_DXT5_Format)return Ct.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(Et===RGB_PVRTC_4BPPV1_Format||Et===RGB_PVRTC_2BPPV1_Format||Et===RGBA_PVRTC_4BPPV1_Format||Et===RGBA_PVRTC_2BPPV1_Format)if(Ct=lt.get("WEBGL_compressed_texture_pvrtc"),Ct!==null){if(Et===RGB_PVRTC_4BPPV1_Format)return Ct.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(Et===RGB_PVRTC_2BPPV1_Format)return Ct.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(Et===RGBA_PVRTC_4BPPV1_Format)return Ct.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(Et===RGBA_PVRTC_2BPPV1_Format)return Ct.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(Et===RGB_ETC1_Format)return Ct=lt.get("WEBGL_compressed_texture_etc1"),Ct!==null?Ct.COMPRESSED_RGB_ETC1_WEBGL:null;if(Et===RGB_ETC2_Format||Et===RGBA_ETC2_EAC_Format)if(Ct=lt.get("WEBGL_compressed_texture_etc"),Ct!==null){if(Et===RGB_ETC2_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ETC2:Ct.COMPRESSED_RGB8_ETC2;if(Et===RGBA_ETC2_EAC_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:Ct.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(Et===RGBA_ASTC_4x4_Format||Et===RGBA_ASTC_5x4_Format||Et===RGBA_ASTC_5x5_Format||Et===RGBA_ASTC_6x5_Format||Et===RGBA_ASTC_6x6_Format||Et===RGBA_ASTC_8x5_Format||Et===RGBA_ASTC_8x6_Format||Et===RGBA_ASTC_8x8_Format||Et===RGBA_ASTC_10x5_Format||Et===RGBA_ASTC_10x6_Format||Et===RGBA_ASTC_10x8_Format||Et===RGBA_ASTC_10x10_Format||Et===RGBA_ASTC_12x10_Format||Et===RGBA_ASTC_12x12_Format)if(Ct=lt.get("WEBGL_compressed_texture_astc"),Ct!==null){if(Et===RGBA_ASTC_4x4_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:Ct.COMPRESSED_RGBA_ASTC_4x4_KHR;if(Et===RGBA_ASTC_5x4_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:Ct.COMPRESSED_RGBA_ASTC_5x4_KHR;if(Et===RGBA_ASTC_5x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:Ct.COMPRESSED_RGBA_ASTC_5x5_KHR;if(Et===RGBA_ASTC_6x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:Ct.COMPRESSED_RGBA_ASTC_6x5_KHR;if(Et===RGBA_ASTC_6x6_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:Ct.COMPRESSED_RGBA_ASTC_6x6_KHR;if(Et===RGBA_ASTC_8x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:Ct.COMPRESSED_RGBA_ASTC_8x5_KHR;if(Et===RGBA_ASTC_8x6_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:Ct.COMPRESSED_RGBA_ASTC_8x6_KHR;if(Et===RGBA_ASTC_8x8_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:Ct.COMPRESSED_RGBA_ASTC_8x8_KHR;if(Et===RGBA_ASTC_10x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:Ct.COMPRESSED_RGBA_ASTC_10x5_KHR;if(Et===RGBA_ASTC_10x6_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:Ct.COMPRESSED_RGBA_ASTC_10x6_KHR;if(Et===RGBA_ASTC_10x8_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:Ct.COMPRESSED_RGBA_ASTC_10x8_KHR;if(Et===RGBA_ASTC_10x10_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:Ct.COMPRESSED_RGBA_ASTC_10x10_KHR;if(Et===RGBA_ASTC_12x10_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:Ct.COMPRESSED_RGBA_ASTC_12x10_KHR;if(Et===RGBA_ASTC_12x12_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:Ct.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(Et===RGBA_BPTC_Format)if(Ct=lt.get("EXT_texture_compression_bptc"),Ct!==null){if(Et===RGBA_BPTC_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:Ct.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(Et===RED_RGTC1_Format||Et===SIGNED_RED_RGTC1_Format||Et===RED_GREEN_RGTC2_Format||Et===SIGNED_RED_GREEN_RGTC2_Format)if(Ct=lt.get("EXT_texture_compression_rgtc"),Ct!==null){if(Et===RGBA_BPTC_Format)return Ct.COMPRESSED_RED_RGTC1_EXT;if(Et===SIGNED_RED_RGTC1_Format)return Ct.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(Et===RED_GREEN_RGTC2_Format)return Ct.COMPRESSED_RED_GREEN_RGTC2_EXT;if(Et===SIGNED_RED_GREEN_RGTC2_Format)return Ct.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return Et===UnsignedInt248Type?vt?34042:(Ct=lt.get("WEBGL_depth_texture"),Ct!==null?Ct.UNSIGNED_INT_24_8_WEBGL:null):dt[Et]!==void 0?dt[Et]:null}return{convert:St}}class ArrayCamera extends PerspectiveCamera$1{constructor(lt=[]){super(),this.isArrayCamera=!0,this.cameras=lt}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(lt){return this._targetRay!==null&&this._targetRay.dispatchEvent(lt),this._grip!==null&&this._grip.dispatchEvent(lt),this._hand!==null&&this._hand.dispatchEvent(lt),this}connect(lt){if(lt&&lt.hand){const ft=this._hand;if(ft)for(const vt of lt.hand.values())this._getHandJoint(ft,vt)}return this.dispatchEvent({type:"connected",data:lt}),this}disconnect(lt){return this.dispatchEvent({type:"disconnected",data:lt}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(lt,ft,vt){let St=null,Et=null,At=null;const Ct=this._targetRay,Tt=this._grip,Rt=this._hand;if(lt&&ft.session.visibilityState!=="visible-blurred"){if(Rt&&lt.hand){At=!0;for(const Ht of lt.hand.values()){const en=ft.getJointPose(Ht,vt),Kt=this._getHandJoint(Rt,Ht);en!==null&&(Kt.matrix.fromArray(en.transform.matrix),Kt.matrix.decompose(Kt.position,Kt.rotation,Kt.scale),Kt.jointRadius=en.radius),Kt.visible=en!==null}const Bt=Rt.joints["index-finger-tip"],Ft=Rt.joints["thumb-tip"],Dt=Bt.position.distanceTo(Ft.position),kt=.02,zt=.005;Rt.inputState.pinching&&Dt>kt+zt?(Rt.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:lt.handedness,target:this})):!Rt.inputState.pinching&&Dt<=kt-zt&&(Rt.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:lt.handedness,target:this}))}else Tt!==null&&lt.gripSpace&&(Et=ft.getPose(lt.gripSpace,vt),Et!==null&&(Tt.matrix.fromArray(Et.transform.matrix),Tt.matrix.decompose(Tt.position,Tt.rotation,Tt.scale),Et.linearVelocity?(Tt.hasLinearVelocity=!0,Tt.linearVelocity.copy(Et.linearVelocity)):Tt.hasLinearVelocity=!1,Et.angularVelocity?(Tt.hasAngularVelocity=!0,Tt.angularVelocity.copy(Et.angularVelocity)):Tt.hasAngularVelocity=!1));Ct!==null&&(St=ft.getPose(lt.targetRaySpace,vt),St===null&&Et!==null&&(St=Et),St!==null&&(Ct.matrix.fromArray(St.transform.matrix),Ct.matrix.decompose(Ct.position,Ct.rotation,Ct.scale),St.linearVelocity?(Ct.hasLinearVelocity=!0,Ct.linearVelocity.copy(St.linearVelocity)):Ct.hasLinearVelocity=!1,St.angularVelocity?(Ct.hasAngularVelocity=!0,Ct.angularVelocity.copy(St.angularVelocity)):Ct.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return Ct!==null&&(Ct.visible=St!==null),Tt!==null&&(Tt.visible=Et!==null),Rt!==null&&(Rt.visible=At!==null),this}_getHandJoint(lt,ft){if(lt.joints[ft.jointName]===void 0){const vt=new Group;vt.matrixAutoUpdate=!1,vt.visible=!1,lt.joints[ft.jointName]=vt,lt.add(vt)}return lt.joints[ft.jointName]}}class DepthTexture extends Texture{constructor(lt,ft,vt,St,Et,At,Ct,Tt,Rt,Bt){if(Bt=Bt!==void 0?Bt:DepthFormat,Bt!==DepthFormat&&Bt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");vt===void 0&&Bt===DepthFormat&&(vt=UnsignedIntType),vt===void 0&&Bt===DepthStencilFormat&&(vt=UnsignedInt248Type),super(null,St,Et,At,Ct,Tt,Bt,vt,Rt),this.isDepthTexture=!0,this.image={width:lt,height:ft},this.magFilter=Ct!==void 0?Ct:NearestFilter,this.minFilter=Tt!==void 0?Tt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(lt,ft){super();const vt=this;let St=null,Et=1,At=null,Ct="local-floor",Tt=1,Rt=null,Bt=null,Ft=null,Dt=null,kt=null,zt=null;const Ht=ft.getContextAttributes();let en=null,Kt=null;const Zt=[],Wt=[],tn=new Set,an=new Map,ln=new PerspectiveCamera$1;ln.layers.enable(1),ln.viewport=new Vector4;const fn=new PerspectiveCamera$1;fn.layers.enable(2),fn.viewport=new Vector4;const un=[ln,fn],pn=new ArrayCamera;pn.layers.enable(1),pn.layers.enable(2);let xn=null,An=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Tn){let In=Zt[Tn];return In===void 0&&(In=new WebXRController,Zt[Tn]=In),In.getTargetRaySpace()},this.getControllerGrip=function(Tn){let In=Zt[Tn];return In===void 0&&(In=new WebXRController,Zt[Tn]=In),In.getGripSpace()},this.getHand=function(Tn){let In=Zt[Tn];return In===void 0&&(In=new WebXRController,Zt[Tn]=In),In.getHandSpace()};function gn(Tn){const In=Wt.indexOf(Tn.inputSource);if(In===-1)return;const Nn=Zt[In];Nn!==void 0&&Nn.dispatchEvent({type:Tn.type,data:Tn.inputSource})}function Ln(){St.removeEventListener("select",gn),St.removeEventListener("selectstart",gn),St.removeEventListener("selectend",gn),St.removeEventListener("squeeze",gn),St.removeEventListener("squeezestart",gn),St.removeEventListener("squeezeend",gn),St.removeEventListener("end",Ln),St.removeEventListener("inputsourceschange",Cn);for(let Tn=0;Tn<Zt.length;Tn++){const In=Wt[Tn];In!==null&&(Wt[Tn]=null,Zt[Tn].disconnect(In))}xn=null,An=null,lt.setRenderTarget(en),kt=null,Dt=null,Ft=null,St=null,Kt=null,Mn.stop(),vt.isPresenting=!1,vt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Tn){Et=Tn,vt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Tn){Ct=Tn,vt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return Rt||At},this.setReferenceSpace=function(Tn){Rt=Tn},this.getBaseLayer=function(){return Dt!==null?Dt:kt},this.getBinding=function(){return Ft},this.getFrame=function(){return zt},this.getSession=function(){return St},this.setSession=async function(Tn){if(St=Tn,St!==null){if(en=lt.getRenderTarget(),St.addEventListener("select",gn),St.addEventListener("selectstart",gn),St.addEventListener("selectend",gn),St.addEventListener("squeeze",gn),St.addEventListener("squeezestart",gn),St.addEventListener("squeezeend",gn),St.addEventListener("end",Ln),St.addEventListener("inputsourceschange",Cn),Ht.xrCompatible!==!0&&await ft.makeXRCompatible(),St.renderState.layers===void 0||lt.capabilities.isWebGL2===!1){const In={antialias:St.renderState.layers===void 0?Ht.antialias:!0,alpha:Ht.alpha,depth:Ht.depth,stencil:Ht.stencil,framebufferScaleFactor:Et};kt=new XRWebGLLayer(St,ft,In),St.updateRenderState({baseLayer:kt}),Kt=new WebGLRenderTarget(kt.framebufferWidth,kt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:lt.outputEncoding,stencilBuffer:Ht.stencil})}else{let In=null,Nn=null,$n=null;Ht.depth&&($n=Ht.stencil?35056:33190,In=Ht.stencil?DepthStencilFormat:DepthFormat,Nn=Ht.stencil?UnsignedInt248Type:UnsignedIntType);const Gn={colorFormat:32856,depthFormat:$n,scaleFactor:Et};Ft=new XRWebGLBinding(St,ft),Dt=Ft.createProjectionLayer(Gn),St.updateRenderState({layers:[Dt]}),Kt=new WebGLRenderTarget(Dt.textureWidth,Dt.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(Dt.textureWidth,Dt.textureHeight,Nn,void 0,void 0,void 0,void 0,void 0,void 0,In),stencilBuffer:Ht.stencil,encoding:lt.outputEncoding,samples:Ht.antialias?4:0});const Zn=lt.properties.get(Kt);Zn.__ignoreDepthValues=Dt.ignoreDepthValues}Kt.isXRRenderTarget=!0,this.setFoveation(Tt),Rt=null,At=await St.requestReferenceSpace(Ct),Mn.setContext(St),Mn.start(),vt.isPresenting=!0,vt.dispatchEvent({type:"sessionstart"})}};function Cn(Tn){for(let In=0;In<Tn.removed.length;In++){const Nn=Tn.removed[In],$n=Wt.indexOf(Nn);$n>=0&&(Wt[$n]=null,Zt[$n].disconnect(Nn))}for(let In=0;In<Tn.added.length;In++){const Nn=Tn.added[In];let $n=Wt.indexOf(Nn);if($n===-1){for(let Zn=0;Zn<Zt.length;Zn++)if(Zn>=Wt.length){Wt.push(Nn),$n=Zn;break}else if(Wt[Zn]===null){Wt[Zn]=Nn,$n=Zn;break}if($n===-1)break}const Gn=Zt[$n];Gn&&Gn.connect(Nn)}}const En=new Vector3,yn=new Vector3;function Rn(Tn,In,Nn){En.setFromMatrixPosition(In.matrixWorld),yn.setFromMatrixPosition(Nn.matrixWorld);const $n=En.distanceTo(yn),Gn=In.projectionMatrix.elements,Zn=Nn.projectionMatrix.elements,Un=Gn[14]/(Gn[10]-1),Xn=Gn[14]/(Gn[10]+1),Vn=(Gn[9]+1)/Gn[5],Wn=(Gn[9]-1)/Gn[5],Dn=(Gn[8]-1)/Gn[0],jn=(Zn[8]+1)/Zn[0],Qn=Un*Dn,ir=Un*jn,hr=$n/(-Dn+jn),Pr=hr*-Dn;In.matrixWorld.decompose(Tn.position,Tn.quaternion,Tn.scale),Tn.translateX(Pr),Tn.translateZ(hr),Tn.matrixWorld.compose(Tn.position,Tn.quaternion,Tn.scale),Tn.matrixWorldInverse.copy(Tn.matrixWorld).invert();const tr=Un+hr,xr=Xn+hr,Tr=Qn-Pr,mr=ir+($n-Pr),On=Vn*Xn/xr*tr,Bn=Wn*Xn/xr*tr;Tn.projectionMatrix.makePerspective(Tr,mr,On,Bn,tr,xr)}function hn(Tn,In){In===null?Tn.matrixWorld.copy(Tn.matrix):Tn.matrixWorld.multiplyMatrices(In.matrixWorld,Tn.matrix),Tn.matrixWorldInverse.copy(Tn.matrixWorld).invert()}this.updateCamera=function(Tn){if(St===null)return;pn.near=fn.near=ln.near=Tn.near,pn.far=fn.far=ln.far=Tn.far,(xn!==pn.near||An!==pn.far)&&(St.updateRenderState({depthNear:pn.near,depthFar:pn.far}),xn=pn.near,An=pn.far);const In=Tn.parent,Nn=pn.cameras;hn(pn,In);for(let Gn=0;Gn<Nn.length;Gn++)hn(Nn[Gn],In);pn.matrixWorld.decompose(pn.position,pn.quaternion,pn.scale),Tn.matrix.copy(pn.matrix),Tn.matrix.decompose(Tn.position,Tn.quaternion,Tn.scale);const $n=Tn.children;for(let Gn=0,Zn=$n.length;Gn<Zn;Gn++)$n[Gn].updateMatrixWorld(!0);Nn.length===2?Rn(pn,ln,fn):pn.projectionMatrix.copy(ln.projectionMatrix)},this.getCamera=function(){return pn},this.getFoveation=function(){if(!(Dt===null&&kt===null))return Tt},this.setFoveation=function(Tn){Tt=Tn,Dt!==null&&(Dt.fixedFoveation=Tn),kt!==null&&kt.fixedFoveation!==void 0&&(kt.fixedFoveation=Tn)},this.getPlanes=function(){return tn};let mn=null;function bn(Tn,In){if(Bt=In.getViewerPose(Rt||At),zt=In,Bt!==null){const Nn=Bt.views;kt!==null&&(lt.setRenderTargetFramebuffer(Kt,kt.framebuffer),lt.setRenderTarget(Kt));let $n=!1;Nn.length!==pn.cameras.length&&(pn.cameras.length=0,$n=!0);for(let Gn=0;Gn<Nn.length;Gn++){const Zn=Nn[Gn];let Un=null;if(kt!==null)Un=kt.getViewport(Zn);else{const Vn=Ft.getViewSubImage(Dt,Zn);Un=Vn.viewport,Gn===0&&(lt.setRenderTargetTextures(Kt,Vn.colorTexture,Dt.ignoreDepthValues?void 0:Vn.depthStencilTexture),lt.setRenderTarget(Kt))}let Xn=un[Gn];Xn===void 0&&(Xn=new PerspectiveCamera$1,Xn.layers.enable(Gn),Xn.viewport=new Vector4,un[Gn]=Xn),Xn.matrix.fromArray(Zn.transform.matrix),Xn.projectionMatrix.fromArray(Zn.projectionMatrix),Xn.viewport.set(Un.x,Un.y,Un.width,Un.height),Gn===0&&pn.matrix.copy(Xn.matrix),$n===!0&&pn.cameras.push(Xn)}}for(let Nn=0;Nn<Zt.length;Nn++){const $n=Wt[Nn],Gn=Zt[Nn];$n!==null&&Gn!==void 0&&Gn.update($n,In,Rt||At)}if(mn&&mn(Tn,In),In.detectedPlanes){vt.dispatchEvent({type:"planesdetected",data:In.detectedPlanes});let Nn=null;for(const $n of tn)In.detectedPlanes.has($n)||(Nn===null&&(Nn=[]),Nn.push($n));if(Nn!==null)for(const $n of Nn)tn.delete($n),an.delete($n),vt.dispatchEvent({type:"planeremoved",data:$n});for(const $n of In.detectedPlanes)if(!tn.has($n))tn.add($n),an.set($n,In.lastChangedTime),vt.dispatchEvent({type:"planeadded",data:$n});else{const Gn=an.get($n);$n.lastChangedTime>Gn&&(an.set($n,$n.lastChangedTime),vt.dispatchEvent({type:"planechanged",data:$n}))}}zt=null}const Mn=new WebGLAnimation;Mn.setAnimationLoop(bn),this.setAnimationLoop=function(Tn){mn=Tn},this.dispose=function(){}}}function WebGLMaterials(dt,lt){function ft(Ht,en){en.color.getRGB(Ht.fogColor.value,getUnlitUniformColorSpace(dt)),en.isFog?(Ht.fogNear.value=en.near,Ht.fogFar.value=en.far):en.isFogExp2&&(Ht.fogDensity.value=en.density)}function vt(Ht,en,Kt,Zt,Wt){en.isMeshBasicMaterial||en.isMeshLambertMaterial?St(Ht,en):en.isMeshToonMaterial?(St(Ht,en),Bt(Ht,en)):en.isMeshPhongMaterial?(St(Ht,en),Rt(Ht,en)):en.isMeshStandardMaterial?(St(Ht,en),Ft(Ht,en),en.isMeshPhysicalMaterial&&Dt(Ht,en,Wt)):en.isMeshMatcapMaterial?(St(Ht,en),kt(Ht,en)):en.isMeshDepthMaterial?St(Ht,en):en.isMeshDistanceMaterial?(St(Ht,en),zt(Ht,en)):en.isMeshNormalMaterial?St(Ht,en):en.isLineBasicMaterial?(Et(Ht,en),en.isLineDashedMaterial&&At(Ht,en)):en.isPointsMaterial?Ct(Ht,en,Kt,Zt):en.isSpriteMaterial?Tt(Ht,en):en.isShadowMaterial?(Ht.color.value.copy(en.color),Ht.opacity.value=en.opacity):en.isShaderMaterial&&(en.uniformsNeedUpdate=!1)}function St(Ht,en){Ht.opacity.value=en.opacity,en.color&&Ht.diffuse.value.copy(en.color),en.emissive&&Ht.emissive.value.copy(en.emissive).multiplyScalar(en.emissiveIntensity),en.map&&(Ht.map.value=en.map),en.alphaMap&&(Ht.alphaMap.value=en.alphaMap),en.bumpMap&&(Ht.bumpMap.value=en.bumpMap,Ht.bumpScale.value=en.bumpScale,en.side===BackSide&&(Ht.bumpScale.value*=-1)),en.displacementMap&&(Ht.displacementMap.value=en.displacementMap,Ht.displacementScale.value=en.displacementScale,Ht.displacementBias.value=en.displacementBias),en.emissiveMap&&(Ht.emissiveMap.value=en.emissiveMap),en.normalMap&&(Ht.normalMap.value=en.normalMap,Ht.normalScale.value.copy(en.normalScale),en.side===BackSide&&Ht.normalScale.value.negate()),en.specularMap&&(Ht.specularMap.value=en.specularMap),en.alphaTest>0&&(Ht.alphaTest.value=en.alphaTest);const Kt=lt.get(en).envMap;if(Kt&&(Ht.envMap.value=Kt,Ht.flipEnvMap.value=Kt.isCubeTexture&&Kt.isRenderTargetTexture===!1?-1:1,Ht.reflectivity.value=en.reflectivity,Ht.ior.value=en.ior,Ht.refractionRatio.value=en.refractionRatio),en.lightMap){Ht.lightMap.value=en.lightMap;const tn=dt.physicallyCorrectLights!==!0?Math.PI:1;Ht.lightMapIntensity.value=en.lightMapIntensity*tn}en.aoMap&&(Ht.aoMap.value=en.aoMap,Ht.aoMapIntensity.value=en.aoMapIntensity);let Zt;en.map?Zt=en.map:en.specularMap?Zt=en.specularMap:en.displacementMap?Zt=en.displacementMap:en.normalMap?Zt=en.normalMap:en.bumpMap?Zt=en.bumpMap:en.roughnessMap?Zt=en.roughnessMap:en.metalnessMap?Zt=en.metalnessMap:en.alphaMap?Zt=en.alphaMap:en.emissiveMap?Zt=en.emissiveMap:en.clearcoatMap?Zt=en.clearcoatMap:en.clearcoatNormalMap?Zt=en.clearcoatNormalMap:en.clearcoatRoughnessMap?Zt=en.clearcoatRoughnessMap:en.iridescenceMap?Zt=en.iridescenceMap:en.iridescenceThicknessMap?Zt=en.iridescenceThicknessMap:en.specularIntensityMap?Zt=en.specularIntensityMap:en.specularColorMap?Zt=en.specularColorMap:en.transmissionMap?Zt=en.transmissionMap:en.thicknessMap?Zt=en.thicknessMap:en.sheenColorMap?Zt=en.sheenColorMap:en.sheenRoughnessMap&&(Zt=en.sheenRoughnessMap),Zt!==void 0&&(Zt.isWebGLRenderTarget&&(Zt=Zt.texture),Zt.matrixAutoUpdate===!0&&Zt.updateMatrix(),Ht.uvTransform.value.copy(Zt.matrix));let Wt;en.aoMap?Wt=en.aoMap:en.lightMap&&(Wt=en.lightMap),Wt!==void 0&&(Wt.isWebGLRenderTarget&&(Wt=Wt.texture),Wt.matrixAutoUpdate===!0&&Wt.updateMatrix(),Ht.uv2Transform.value.copy(Wt.matrix))}function Et(Ht,en){Ht.diffuse.value.copy(en.color),Ht.opacity.value=en.opacity}function At(Ht,en){Ht.dashSize.value=en.dashSize,Ht.totalSize.value=en.dashSize+en.gapSize,Ht.scale.value=en.scale}function Ct(Ht,en,Kt,Zt){Ht.diffuse.value.copy(en.color),Ht.opacity.value=en.opacity,Ht.size.value=en.size*Kt,Ht.scale.value=Zt*.5,en.map&&(Ht.map.value=en.map),en.alphaMap&&(Ht.alphaMap.value=en.alphaMap),en.alphaTest>0&&(Ht.alphaTest.value=en.alphaTest);let Wt;en.map?Wt=en.map:en.alphaMap&&(Wt=en.alphaMap),Wt!==void 0&&(Wt.matrixAutoUpdate===!0&&Wt.updateMatrix(),Ht.uvTransform.value.copy(Wt.matrix))}function Tt(Ht,en){Ht.diffuse.value.copy(en.color),Ht.opacity.value=en.opacity,Ht.rotation.value=en.rotation,en.map&&(Ht.map.value=en.map),en.alphaMap&&(Ht.alphaMap.value=en.alphaMap),en.alphaTest>0&&(Ht.alphaTest.value=en.alphaTest);let Kt;en.map?Kt=en.map:en.alphaMap&&(Kt=en.alphaMap),Kt!==void 0&&(Kt.matrixAutoUpdate===!0&&Kt.updateMatrix(),Ht.uvTransform.value.copy(Kt.matrix))}function Rt(Ht,en){Ht.specular.value.copy(en.specular),Ht.shininess.value=Math.max(en.shininess,1e-4)}function Bt(Ht,en){en.gradientMap&&(Ht.gradientMap.value=en.gradientMap)}function Ft(Ht,en){Ht.roughness.value=en.roughness,Ht.metalness.value=en.metalness,en.roughnessMap&&(Ht.roughnessMap.value=en.roughnessMap),en.metalnessMap&&(Ht.metalnessMap.value=en.metalnessMap),lt.get(en).envMap&&(Ht.envMapIntensity.value=en.envMapIntensity)}function Dt(Ht,en,Kt){Ht.ior.value=en.ior,en.sheen>0&&(Ht.sheenColor.value.copy(en.sheenColor).multiplyScalar(en.sheen),Ht.sheenRoughness.value=en.sheenRoughness,en.sheenColorMap&&(Ht.sheenColorMap.value=en.sheenColorMap),en.sheenRoughnessMap&&(Ht.sheenRoughnessMap.value=en.sheenRoughnessMap)),en.clearcoat>0&&(Ht.clearcoat.value=en.clearcoat,Ht.clearcoatRoughness.value=en.clearcoatRoughness,en.clearcoatMap&&(Ht.clearcoatMap.value=en.clearcoatMap),en.clearcoatRoughnessMap&&(Ht.clearcoatRoughnessMap.value=en.clearcoatRoughnessMap),en.clearcoatNormalMap&&(Ht.clearcoatNormalScale.value.copy(en.clearcoatNormalScale),Ht.clearcoatNormalMap.value=en.clearcoatNormalMap,en.side===BackSide&&Ht.clearcoatNormalScale.value.negate())),en.iridescence>0&&(Ht.iridescence.value=en.iridescence,Ht.iridescenceIOR.value=en.iridescenceIOR,Ht.iridescenceThicknessMinimum.value=en.iridescenceThicknessRange[0],Ht.iridescenceThicknessMaximum.value=en.iridescenceThicknessRange[1],en.iridescenceMap&&(Ht.iridescenceMap.value=en.iridescenceMap),en.iridescenceThicknessMap&&(Ht.iridescenceThicknessMap.value=en.iridescenceThicknessMap)),en.transmission>0&&(Ht.transmission.value=en.transmission,Ht.transmissionSamplerMap.value=Kt.texture,Ht.transmissionSamplerSize.value.set(Kt.width,Kt.height),en.transmissionMap&&(Ht.transmissionMap.value=en.transmissionMap),Ht.thickness.value=en.thickness,en.thicknessMap&&(Ht.thicknessMap.value=en.thicknessMap),Ht.attenuationDistance.value=en.attenuationDistance,Ht.attenuationColor.value.copy(en.attenuationColor)),Ht.specularIntensity.value=en.specularIntensity,Ht.specularColor.value.copy(en.specularColor),en.specularIntensityMap&&(Ht.specularIntensityMap.value=en.specularIntensityMap),en.specularColorMap&&(Ht.specularColorMap.value=en.specularColorMap)}function kt(Ht,en){en.matcap&&(Ht.matcap.value=en.matcap)}function zt(Ht,en){Ht.referencePosition.value.copy(en.referencePosition),Ht.nearDistance.value=en.nearDistance,Ht.farDistance.value=en.farDistance}return{refreshFogUniforms:ft,refreshMaterialUniforms:vt}}function WebGLUniformsGroups(dt,lt,ft,vt){let St={},Et={},At=[];const Ct=ft.isWebGL2?dt.getParameter(35375):0;function Tt(Zt,Wt){const tn=Wt.program;vt.uniformBlockBinding(Zt,tn)}function Rt(Zt,Wt){let tn=St[Zt.id];tn===void 0&&(zt(Zt),tn=Bt(Zt),St[Zt.id]=tn,Zt.addEventListener("dispose",en));const an=Wt.program;vt.updateUBOMapping(Zt,an);const ln=lt.render.frame;Et[Zt.id]!==ln&&(Dt(Zt),Et[Zt.id]=ln)}function Bt(Zt){const Wt=Ft();Zt.__bindingPointIndex=Wt;const tn=dt.createBuffer(),an=Zt.__size,ln=Zt.usage;return dt.bindBuffer(35345,tn),dt.bufferData(35345,an,ln),dt.bindBuffer(35345,null),dt.bindBufferBase(35345,Wt,tn),tn}function Ft(){for(let Zt=0;Zt<Ct;Zt++)if(At.indexOf(Zt)===-1)return At.push(Zt),Zt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Dt(Zt){const Wt=St[Zt.id],tn=Zt.uniforms,an=Zt.__cache;dt.bindBuffer(35345,Wt);for(let ln=0,fn=tn.length;ln<fn;ln++){const un=tn[ln];if(kt(un,ln,an)===!0){const pn=un.__offset,xn=Array.isArray(un.value)?un.value:[un.value];let An=0;for(let gn=0;gn<xn.length;gn++){const Ln=xn[gn],Cn=Ht(Ln);typeof Ln=="number"?(un.__data[0]=Ln,dt.bufferSubData(35345,pn+An,un.__data)):Ln.isMatrix3?(un.__data[0]=Ln.elements[0],un.__data[1]=Ln.elements[1],un.__data[2]=Ln.elements[2],un.__data[3]=Ln.elements[0],un.__data[4]=Ln.elements[3],un.__data[5]=Ln.elements[4],un.__data[6]=Ln.elements[5],un.__data[7]=Ln.elements[0],un.__data[8]=Ln.elements[6],un.__data[9]=Ln.elements[7],un.__data[10]=Ln.elements[8],un.__data[11]=Ln.elements[0]):(Ln.toArray(un.__data,An),An+=Cn.storage/Float32Array.BYTES_PER_ELEMENT)}dt.bufferSubData(35345,pn,un.__data)}}dt.bindBuffer(35345,null)}function kt(Zt,Wt,tn){const an=Zt.value;if(tn[Wt]===void 0){if(typeof an=="number")tn[Wt]=an;else{const ln=Array.isArray(an)?an:[an],fn=[];for(let un=0;un<ln.length;un++)fn.push(ln[un].clone());tn[Wt]=fn}return!0}else if(typeof an=="number"){if(tn[Wt]!==an)return tn[Wt]=an,!0}else{const ln=Array.isArray(tn[Wt])?tn[Wt]:[tn[Wt]],fn=Array.isArray(an)?an:[an];for(let un=0;un<ln.length;un++){const pn=ln[un];if(pn.equals(fn[un])===!1)return pn.copy(fn[un]),!0}}return!1}function zt(Zt){const Wt=Zt.uniforms;let tn=0;const an=16;let ln=0;for(let fn=0,un=Wt.length;fn<un;fn++){const pn=Wt[fn],xn={boundary:0,storage:0},An=Array.isArray(pn.value)?pn.value:[pn.value];for(let gn=0,Ln=An.length;gn<Ln;gn++){const Cn=An[gn],En=Ht(Cn);xn.boundary+=En.boundary,xn.storage+=En.storage}if(pn.__data=new Float32Array(xn.storage/Float32Array.BYTES_PER_ELEMENT),pn.__offset=tn,fn>0){ln=tn%an;const gn=an-ln;ln!==0&&gn-xn.boundary<0&&(tn+=an-ln,pn.__offset=tn)}tn+=xn.storage}return ln=tn%an,ln>0&&(tn+=an-ln),Zt.__size=tn,Zt.__cache={},this}function Ht(Zt){const Wt={boundary:0,storage:0};return typeof Zt=="number"?(Wt.boundary=4,Wt.storage=4):Zt.isVector2?(Wt.boundary=8,Wt.storage=8):Zt.isVector3||Zt.isColor?(Wt.boundary=16,Wt.storage=12):Zt.isVector4?(Wt.boundary=16,Wt.storage=16):Zt.isMatrix3?(Wt.boundary=48,Wt.storage=48):Zt.isMatrix4?(Wt.boundary=64,Wt.storage=64):Zt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Zt),Wt}function en(Zt){const Wt=Zt.target;Wt.removeEventListener("dispose",en);const tn=At.indexOf(Wt.__bindingPointIndex);At.splice(tn,1),dt.deleteBuffer(St[Wt.id]),delete St[Wt.id],delete Et[Wt.id]}function Kt(){for(const Zt in St)dt.deleteBuffer(St[Zt]);At=[],St={},Et={}}return{bind:Tt,update:Rt,dispose:Kt}}function createCanvasElement(){const dt=createElementNS("canvas");return dt.style.display="block",dt}function WebGLRenderer(dt={}){this.isWebGLRenderer=!0;const lt=dt.canvas!==void 0?dt.canvas:createCanvasElement(),ft=dt.context!==void 0?dt.context:null,vt=dt.depth!==void 0?dt.depth:!0,St=dt.stencil!==void 0?dt.stencil:!0,Et=dt.antialias!==void 0?dt.antialias:!1,At=dt.premultipliedAlpha!==void 0?dt.premultipliedAlpha:!0,Ct=dt.preserveDrawingBuffer!==void 0?dt.preserveDrawingBuffer:!1,Tt=dt.powerPreference!==void 0?dt.powerPreference:"default",Rt=dt.failIfMajorPerformanceCaveat!==void 0?dt.failIfMajorPerformanceCaveat:!1;let Bt;ft!==null?Bt=ft.getContextAttributes().alpha:Bt=dt.alpha!==void 0?dt.alpha:!1;let Ft=null,Dt=null;const kt=[],zt=[];this.domElement=lt,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Ht=this;let en=!1,Kt=0,Zt=0,Wt=null,tn=-1,an=null;const ln=new Vector4,fn=new Vector4;let un=null,pn=lt.width,xn=lt.height,An=1,gn=null,Ln=null;const Cn=new Vector4(0,0,pn,xn),En=new Vector4(0,0,pn,xn);let yn=!1;const Rn=new Frustum;let hn=!1,mn=!1,bn=null;const Mn=new Matrix4,Tn=new Vector2,In=new Vector3,Nn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function $n(){return Wt===null?An:1}let Gn=ft;function Zn(zn,sr){for(let yr=0;yr<zn.length;yr++){const ar=zn[yr],br=lt.getContext(ar,sr);if(br!==null)return br}return null}try{const zn={alpha:!0,depth:vt,stencil:St,antialias:Et,premultipliedAlpha:At,preserveDrawingBuffer:Ct,powerPreference:Tt,failIfMajorPerformanceCaveat:Rt};if("setAttribute"in lt&&lt.setAttribute("data-engine",`three.js r${REVISION}`),lt.addEventListener("webglcontextlost",Sr,!1),lt.addEventListener("webglcontextrestored",_r,!1),lt.addEventListener("webglcontextcreationerror",Dr,!1),Gn===null){const sr=["webgl2","webgl","experimental-webgl"];if(Ht.isWebGL1Renderer===!0&&sr.shift(),Gn=Zn(sr,zn),Gn===null)throw Zn(sr)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Gn.getShaderPrecisionFormat===void 0&&(Gn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(zn){throw console.error("THREE.WebGLRenderer: "+zn.message),zn}let Un,Xn,Vn,Wn,Dn,jn,Qn,ir,hr,Pr,tr,xr,Tr,mr,On,Bn,Yn,ur,Cr,Ar,Fr,Br,pr,kr;function Jn(){Un=new WebGLExtensions(Gn),Xn=new WebGLCapabilities(Gn,Un,dt),Un.init(Xn),Br=new WebGLUtils(Gn,Un,Xn),Vn=new WebGLState(Gn,Un,Xn),Wn=new WebGLInfo,Dn=new WebGLProperties,jn=new WebGLTextures(Gn,Un,Vn,Dn,Xn,Br,Wn),Qn=new WebGLCubeMaps(Ht),ir=new WebGLCubeUVMaps(Ht),hr=new WebGLAttributes(Gn,Xn),pr=new WebGLBindingStates(Gn,Un,hr,Xn),Pr=new WebGLGeometries(Gn,hr,Wn,pr),tr=new WebGLObjects(Gn,Pr,hr,Wn),Cr=new WebGLMorphtargets(Gn,Xn,jn),Bn=new WebGLClipping(Dn),xr=new WebGLPrograms(Ht,Qn,ir,Un,Xn,pr,Bn),Tr=new WebGLMaterials(Ht,Dn),mr=new WebGLRenderLists,On=new WebGLRenderStates(Un,Xn),ur=new WebGLBackground(Ht,Qn,ir,Vn,tr,Bt,At),Yn=new WebGLShadowMap(Ht,tr,Xn),kr=new WebGLUniformsGroups(Gn,Wn,Xn,Vn),Ar=new WebGLBufferRenderer(Gn,Un,Wn,Xn),Fr=new WebGLIndexedBufferRenderer(Gn,Un,Wn,Xn),Wn.programs=xr.programs,Ht.capabilities=Xn,Ht.extensions=Un,Ht.properties=Dn,Ht.renderLists=mr,Ht.shadowMap=Yn,Ht.state=Vn,Ht.info=Wn}Jn();const cr=new WebXRManager(Ht,Gn);this.xr=cr,this.getContext=function(){return Gn},this.getContextAttributes=function(){return Gn.getContextAttributes()},this.forceContextLoss=function(){const zn=Un.get("WEBGL_lose_context");zn&&zn.loseContext()},this.forceContextRestore=function(){const zn=Un.get("WEBGL_lose_context");zn&&zn.restoreContext()},this.getPixelRatio=function(){return An},this.setPixelRatio=function(zn){zn!==void 0&&(An=zn,this.setSize(pn,xn,!1))},this.getSize=function(zn){return zn.set(pn,xn)},this.setSize=function(zn,sr,yr){if(cr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}pn=zn,xn=sr,lt.width=Math.floor(zn*An),lt.height=Math.floor(sr*An),yr!==!1&&(lt.style.width=zn+"px",lt.style.height=sr+"px"),this.setViewport(0,0,zn,sr)},this.getDrawingBufferSize=function(zn){return zn.set(pn*An,xn*An).floor()},this.setDrawingBufferSize=function(zn,sr,yr){pn=zn,xn=sr,An=yr,lt.width=Math.floor(zn*yr),lt.height=Math.floor(sr*yr),this.setViewport(0,0,zn,sr)},this.getCurrentViewport=function(zn){return zn.copy(ln)},this.getViewport=function(zn){return zn.copy(Cn)},this.setViewport=function(zn,sr,yr,ar){zn.isVector4?Cn.set(zn.x,zn.y,zn.z,zn.w):Cn.set(zn,sr,yr,ar),Vn.viewport(ln.copy(Cn).multiplyScalar(An).floor())},this.getScissor=function(zn){return zn.copy(En)},this.setScissor=function(zn,sr,yr,ar){zn.isVector4?En.set(zn.x,zn.y,zn.z,zn.w):En.set(zn,sr,yr,ar),Vn.scissor(fn.copy(En).multiplyScalar(An).floor())},this.getScissorTest=function(){return yn},this.setScissorTest=function(zn){Vn.setScissorTest(yn=zn)},this.setOpaqueSort=function(zn){gn=zn},this.setTransparentSort=function(zn){Ln=zn},this.getClearColor=function(zn){return zn.copy(ur.getClearColor())},this.setClearColor=function(){ur.setClearColor.apply(ur,arguments)},this.getClearAlpha=function(){return ur.getClearAlpha()},this.setClearAlpha=function(){ur.setClearAlpha.apply(ur,arguments)},this.clear=function(zn=!0,sr=!0,yr=!0){let ar=0;zn&&(ar|=16384),sr&&(ar|=256),yr&&(ar|=1024),Gn.clear(ar)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){lt.removeEventListener("webglcontextlost",Sr,!1),lt.removeEventListener("webglcontextrestored",_r,!1),lt.removeEventListener("webglcontextcreationerror",Dr,!1),mr.dispose(),On.dispose(),Dn.dispose(),Qn.dispose(),ir.dispose(),tr.dispose(),pr.dispose(),kr.dispose(),xr.dispose(),cr.dispose(),cr.removeEventListener("sessionstart",Gr),cr.removeEventListener("sessionend",jr),bn&&(bn.dispose(),bn=null),ts.stop()};function Sr(zn){zn.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),en=!0}function _r(){console.log("THREE.WebGLRenderer: Context Restored."),en=!1;const zn=Wn.autoReset,sr=Yn.enabled,yr=Yn.autoUpdate,ar=Yn.needsUpdate,br=Yn.type;Jn(),Wn.autoReset=zn,Yn.enabled=sr,Yn.autoUpdate=yr,Yn.needsUpdate=ar,Yn.type=br}function Dr(zn){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",zn.statusMessage)}function Wr(zn){const sr=zn.target;sr.removeEventListener("dispose",Wr),es(sr)}function es(zn){qn(zn),Dn.remove(zn)}function qn(zn){const sr=Dn.get(zn).programs;sr!==void 0&&(sr.forEach(function(yr){xr.releaseProgram(yr)}),zn.isShaderMaterial&&xr.releaseShaderCache(zn))}this.renderBufferDirect=function(zn,sr,yr,ar,br,Kr){sr===null&&(sr=Nn);const Yr=br.isMesh&&br.matrixWorld.determinant()<0,Zr=no(zn,sr,yr,ar,br);Vn.setMaterial(ar,Yr);let as=yr.index,cs=1;ar.wireframe===!0&&(as=Pr.getWireframeAttribute(yr),cs=2);const fs=yr.drawRange,ds=yr.attributes.position;let Ds=fs.start*cs,Fs=(fs.start+fs.count)*cs;Kr!==null&&(Ds=Math.max(Ds,Kr.start*cs),Fs=Math.min(Fs,(Kr.start+Kr.count)*cs)),as!==null?(Ds=Math.max(Ds,0),Fs=Math.min(Fs,as.count)):ds!=null&&(Ds=Math.max(Ds,0),Fs=Math.min(Fs,ds.count));const ho=Fs-Ds;if(ho<0||ho===1/0)return;pr.setup(br,ar,Zr,yr,as);let So,Nr=Ar;if(as!==null&&(So=hr.get(as),Nr=Fr,Nr.setIndex(So)),br.isMesh)ar.wireframe===!0?(Vn.setLineWidth(ar.wireframeLinewidth*$n()),Nr.setMode(1)):Nr.setMode(4);else if(br.isLine){let ns=ar.linewidth;ns===void 0&&(ns=1),Vn.setLineWidth(ns*$n()),br.isLineSegments?Nr.setMode(1):br.isLineLoop?Nr.setMode(2):Nr.setMode(3)}else br.isPoints?Nr.setMode(0):br.isSprite&&Nr.setMode(4);if(br.isInstancedMesh)Nr.renderInstances(Ds,ho,br.count);else if(yr.isInstancedBufferGeometry){const ns=yr._maxInstanceCount!==void 0?yr._maxInstanceCount:1/0,Qo=Math.min(yr.instanceCount,ns);Nr.renderInstances(Ds,ho,Qo)}else Nr.render(Ds,ho)},this.compile=function(zn,sr){function yr(ar,br,Kr){ar.transparent===!0&&ar.side===DoubleSide&&ar.forceSinglePass===!1?(ar.side=BackSide,ar.needsUpdate=!0,vs(ar,br,Kr),ar.side=FrontSide,ar.needsUpdate=!0,vs(ar,br,Kr),ar.side=DoubleSide):vs(ar,br,Kr)}Dt=On.get(zn),Dt.init(),zt.push(Dt),zn.traverseVisible(function(ar){ar.isLight&&ar.layers.test(sr.layers)&&(Dt.pushLight(ar),ar.castShadow&&Dt.pushShadow(ar))}),Dt.setupLights(Ht.physicallyCorrectLights),zn.traverse(function(ar){const br=ar.material;if(br)if(Array.isArray(br))for(let Kr=0;Kr<br.length;Kr++){const Yr=br[Kr];yr(Yr,zn,ar)}else yr(br,zn,ar)}),zt.pop(),Dt=null};let dr=null;function Rr(zn){dr&&dr(zn)}function Gr(){ts.stop()}function jr(){ts.start()}const ts=new WebGLAnimation;ts.setAnimationLoop(Rr),typeof self<"u"&&ts.setContext(self),this.setAnimationLoop=function(zn){dr=zn,cr.setAnimationLoop(zn),zn===null?ts.stop():ts.start()},cr.addEventListener("sessionstart",Gr),cr.addEventListener("sessionend",jr),this.render=function(zn,sr){if(sr!==void 0&&sr.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(en===!0)return;zn.matrixWorldAutoUpdate===!0&&zn.updateMatrixWorld(),sr.parent===null&&sr.matrixWorldAutoUpdate===!0&&sr.updateMatrixWorld(),cr.enabled===!0&&cr.isPresenting===!0&&(cr.cameraAutoUpdate===!0&&cr.updateCamera(sr),sr=cr.getCamera()),zn.isScene===!0&&zn.onBeforeRender(Ht,zn,sr,Wt),Dt=On.get(zn,zt.length),Dt.init(),zt.push(Dt),Mn.multiplyMatrices(sr.projectionMatrix,sr.matrixWorldInverse),Rn.setFromProjectionMatrix(Mn),mn=this.localClippingEnabled,hn=Bn.init(this.clippingPlanes,mn),Ft=mr.get(zn,kt.length),Ft.init(),kt.push(Ft),_s(zn,sr,0,Ht.sortObjects),Ft.finish(),Ht.sortObjects===!0&&Ft.sort(gn,Ln),hn===!0&&Bn.beginShadows();const yr=Dt.state.shadowsArray;if(Yn.render(yr,zn,sr),hn===!0&&Bn.endShadows(),this.info.autoReset===!0&&this.info.reset(),ur.render(Ft,zn),Dt.setupLights(Ht.physicallyCorrectLights),sr.isArrayCamera){const ar=sr.cameras;for(let br=0,Kr=ar.length;br<Kr;br++){const Yr=ar[br];Es(Ft,zn,Yr,Yr.viewport)}}else Es(Ft,zn,sr);Wt!==null&&(jn.updateMultisampleRenderTarget(Wt),jn.updateRenderTargetMipmap(Wt)),zn.isScene===!0&&zn.onAfterRender(Ht,zn,sr),pr.resetDefaultState(),tn=-1,an=null,zt.pop(),zt.length>0?Dt=zt[zt.length-1]:Dt=null,kt.pop(),kt.length>0?Ft=kt[kt.length-1]:Ft=null};function _s(zn,sr,yr,ar){if(zn.visible===!1)return;if(zn.layers.test(sr.layers)){if(zn.isGroup)yr=zn.renderOrder;else if(zn.isLOD)zn.autoUpdate===!0&&zn.update(sr);else if(zn.isLight)Dt.pushLight(zn),zn.castShadow&&Dt.pushShadow(zn);else if(zn.isSprite){if(!zn.frustumCulled||Rn.intersectsSprite(zn)){ar&&In.setFromMatrixPosition(zn.matrixWorld).applyMatrix4(Mn);const Yr=tr.update(zn),Zr=zn.material;Zr.visible&&Ft.push(zn,Yr,Zr,yr,In.z,null)}}else if((zn.isMesh||zn.isLine||zn.isPoints)&&(zn.isSkinnedMesh&&zn.skeleton.frame!==Wn.render.frame&&(zn.skeleton.update(),zn.skeleton.frame=Wn.render.frame),!zn.frustumCulled||Rn.intersectsObject(zn))){ar&&In.setFromMatrixPosition(zn.matrixWorld).applyMatrix4(Mn);const Yr=tr.update(zn),Zr=zn.material;if(Array.isArray(Zr)){const as=Yr.groups;for(let cs=0,fs=as.length;cs<fs;cs++){const ds=as[cs],Ds=Zr[ds.materialIndex];Ds&&Ds.visible&&Ft.push(zn,Yr,Ds,yr,In.z,ds)}}else Zr.visible&&Ft.push(zn,Yr,Zr,yr,In.z,null)}}const Kr=zn.children;for(let Yr=0,Zr=Kr.length;Yr<Zr;Yr++)_s(Kr[Yr],sr,yr,ar)}function Es(zn,sr,yr,ar){const br=zn.opaque,Kr=zn.transmissive,Yr=zn.transparent;Dt.setupLightsView(yr),hn===!0&&Bn.setGlobalState(Ht.clippingPlanes,yr),Kr.length>0&&xs(br,sr,yr),ar&&Vn.viewport(ln.copy(ar)),br.length>0&&gs(br,sr,yr),Kr.length>0&&gs(Kr,sr,yr),Yr.length>0&&gs(Yr,sr,yr),Vn.buffers.depth.setTest(!0),Vn.buffers.depth.setMask(!0),Vn.buffers.color.setMask(!0),Vn.setPolygonOffset(!1)}function xs(zn,sr,yr){const ar=Xn.isWebGL2;bn===null&&(bn=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Un.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:ar&&Et===!0?4:0})),Ht.getDrawingBufferSize(Tn),ar?bn.setSize(Tn.x,Tn.y):bn.setSize(floorPowerOfTwo(Tn.x),floorPowerOfTwo(Tn.y));const br=Ht.getRenderTarget();Ht.setRenderTarget(bn),Ht.clear();const Kr=Ht.toneMapping;Ht.toneMapping=NoToneMapping,gs(zn,sr,yr),Ht.toneMapping=Kr,jn.updateMultisampleRenderTarget(bn),jn.updateRenderTargetMipmap(bn),Ht.setRenderTarget(br)}function gs(zn,sr,yr){const ar=sr.isScene===!0?sr.overrideMaterial:null;for(let br=0,Kr=zn.length;br<Kr;br++){const Yr=zn[br],Zr=Yr.object,as=Yr.geometry,cs=ar===null?Yr.material:ar,fs=Yr.group;Zr.layers.test(yr.layers)&&As(Zr,sr,yr,as,cs,fs)}}function As(zn,sr,yr,ar,br,Kr){zn.onBeforeRender(Ht,sr,yr,ar,br,Kr),zn.modelViewMatrix.multiplyMatrices(yr.matrixWorldInverse,zn.matrixWorld),zn.normalMatrix.getNormalMatrix(zn.modelViewMatrix),br.onBeforeRender(Ht,sr,yr,ar,zn,Kr),br.transparent===!0&&br.side===DoubleSide&&br.forceSinglePass===!1?(br.side=BackSide,br.needsUpdate=!0,Ht.renderBufferDirect(yr,sr,ar,br,zn,Kr),br.side=FrontSide,br.needsUpdate=!0,Ht.renderBufferDirect(yr,sr,ar,br,zn,Kr),br.side=DoubleSide):Ht.renderBufferDirect(yr,sr,ar,br,zn,Kr),zn.onAfterRender(Ht,sr,yr,ar,br,Kr)}function vs(zn,sr,yr){sr.isScene!==!0&&(sr=Nn);const ar=Dn.get(zn),br=Dt.state.lights,Kr=Dt.state.shadowsArray,Yr=br.state.version,Zr=xr.getParameters(zn,br.state,Kr,sr,yr),as=xr.getProgramCacheKey(Zr);let cs=ar.programs;ar.environment=zn.isMeshStandardMaterial?sr.environment:null,ar.fog=sr.fog,ar.envMap=(zn.isMeshStandardMaterial?ir:Qn).get(zn.envMap||ar.environment),cs===void 0&&(zn.addEventListener("dispose",Wr),cs=new Map,ar.programs=cs);let fs=cs.get(as);if(fs!==void 0){if(ar.currentProgram===fs&&ar.lightsStateVersion===Yr)return oo(zn,Zr),fs}else Zr.uniforms=xr.getUniforms(zn),zn.onBuild(yr,Zr,Ht),zn.onBeforeCompile(Zr,Ht),fs=xr.acquireProgram(Zr,as),cs.set(as,fs),ar.uniforms=Zr.uniforms;const ds=ar.uniforms;(!zn.isShaderMaterial&&!zn.isRawShaderMaterial||zn.clipping===!0)&&(ds.clippingPlanes=Bn.uniform),oo(zn,Zr),ar.needsLights=Ns(zn),ar.lightsStateVersion=Yr,ar.needsLights&&(ds.ambientLightColor.value=br.state.ambient,ds.lightProbe.value=br.state.probe,ds.directionalLights.value=br.state.directional,ds.directionalLightShadows.value=br.state.directionalShadow,ds.spotLights.value=br.state.spot,ds.spotLightShadows.value=br.state.spotShadow,ds.rectAreaLights.value=br.state.rectArea,ds.ltc_1.value=br.state.rectAreaLTC1,ds.ltc_2.value=br.state.rectAreaLTC2,ds.pointLights.value=br.state.point,ds.pointLightShadows.value=br.state.pointShadow,ds.hemisphereLights.value=br.state.hemi,ds.directionalShadowMap.value=br.state.directionalShadowMap,ds.directionalShadowMatrix.value=br.state.directionalShadowMatrix,ds.spotShadowMap.value=br.state.spotShadowMap,ds.spotLightMatrix.value=br.state.spotLightMatrix,ds.spotLightMap.value=br.state.spotLightMap,ds.pointShadowMap.value=br.state.pointShadowMap,ds.pointShadowMatrix.value=br.state.pointShadowMatrix);const Ds=fs.getUniforms(),Fs=WebGLUniforms.seqWithValue(Ds.seq,ds);return ar.currentProgram=fs,ar.uniformsList=Fs,fs}function oo(zn,sr){const yr=Dn.get(zn);yr.outputEncoding=sr.outputEncoding,yr.instancing=sr.instancing,yr.skinning=sr.skinning,yr.morphTargets=sr.morphTargets,yr.morphNormals=sr.morphNormals,yr.morphColors=sr.morphColors,yr.morphTargetsCount=sr.morphTargetsCount,yr.numClippingPlanes=sr.numClippingPlanes,yr.numIntersection=sr.numClipIntersection,yr.vertexAlphas=sr.vertexAlphas,yr.vertexTangents=sr.vertexTangents,yr.toneMapping=sr.toneMapping}function no(zn,sr,yr,ar,br){sr.isScene!==!0&&(sr=Nn),jn.resetTextureUnits();const Kr=sr.fog,Yr=ar.isMeshStandardMaterial?sr.environment:null,Zr=Wt===null?Ht.outputEncoding:Wt.isXRRenderTarget===!0?Wt.texture.encoding:LinearEncoding,as=(ar.isMeshStandardMaterial?ir:Qn).get(ar.envMap||Yr),cs=ar.vertexColors===!0&&!!yr.attributes.color&&yr.attributes.color.itemSize===4,fs=!!ar.normalMap&&!!yr.attributes.tangent,ds=!!yr.morphAttributes.position,Ds=!!yr.morphAttributes.normal,Fs=!!yr.morphAttributes.color,ho=ar.toneMapped?Ht.toneMapping:NoToneMapping,So=yr.morphAttributes.position||yr.morphAttributes.normal||yr.morphAttributes.color,Nr=So!==void 0?So.length:0,ns=Dn.get(ar),Qo=Dt.state.lights;if(hn===!0&&(mn===!0||zn!==an)){const Cs=zn===an&&ar.id===tn;Bn.setState(ar,zn,Cs)}let bs=!1;ar.version===ns.__version?(ns.needsLights&&ns.lightsStateVersion!==Qo.state.version||ns.outputEncoding!==Zr||br.isInstancedMesh&&ns.instancing===!1||!br.isInstancedMesh&&ns.instancing===!0||br.isSkinnedMesh&&ns.skinning===!1||!br.isSkinnedMesh&&ns.skinning===!0||ns.envMap!==as||ar.fog===!0&&ns.fog!==Kr||ns.numClippingPlanes!==void 0&&(ns.numClippingPlanes!==Bn.numPlanes||ns.numIntersection!==Bn.numIntersection)||ns.vertexAlphas!==cs||ns.vertexTangents!==fs||ns.morphTargets!==ds||ns.morphNormals!==Ds||ns.morphColors!==Fs||ns.toneMapping!==ho||Xn.isWebGL2===!0&&ns.morphTargetsCount!==Nr)&&(bs=!0):(bs=!0,ns.__version=ar.version);let wo=ns.currentProgram;bs===!0&&(wo=vs(ar,sr,br));let No=!1,Gs=!1,ro=!1;const ss=wo.getUniforms(),hs=ns.uniforms;if(Vn.useProgram(wo.program)&&(No=!0,Gs=!0,ro=!0),ar.id!==tn&&(tn=ar.id,Gs=!0),No||an!==zn){if(ss.setValue(Gn,"projectionMatrix",zn.projectionMatrix),Xn.logarithmicDepthBuffer&&ss.setValue(Gn,"logDepthBufFC",2/(Math.log(zn.far+1)/Math.LN2)),an!==zn&&(an=zn,Gs=!0,ro=!0),ar.isShaderMaterial||ar.isMeshPhongMaterial||ar.isMeshToonMaterial||ar.isMeshStandardMaterial||ar.envMap){const Cs=ss.map.cameraPosition;Cs!==void 0&&Cs.setValue(Gn,In.setFromMatrixPosition(zn.matrixWorld))}(ar.isMeshPhongMaterial||ar.isMeshToonMaterial||ar.isMeshLambertMaterial||ar.isMeshBasicMaterial||ar.isMeshStandardMaterial||ar.isShaderMaterial)&&ss.setValue(Gn,"isOrthographic",zn.isOrthographicCamera===!0),(ar.isMeshPhongMaterial||ar.isMeshToonMaterial||ar.isMeshLambertMaterial||ar.isMeshBasicMaterial||ar.isMeshStandardMaterial||ar.isShaderMaterial||ar.isShadowMaterial||br.isSkinnedMesh)&&ss.setValue(Gn,"viewMatrix",zn.matrixWorldInverse)}if(br.isSkinnedMesh){ss.setOptional(Gn,br,"bindMatrix"),ss.setOptional(Gn,br,"bindMatrixInverse");const Cs=br.skeleton;Cs&&(Xn.floatVertexTextures?(Cs.boneTexture===null&&Cs.computeBoneTexture(),ss.setValue(Gn,"boneTexture",Cs.boneTexture,jn),ss.setValue(Gn,"boneTextureSize",Cs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const po=yr.morphAttributes;if((po.position!==void 0||po.normal!==void 0||po.color!==void 0&&Xn.isWebGL2===!0)&&Cr.update(br,yr,ar,wo),(Gs||ns.receiveShadow!==br.receiveShadow)&&(ns.receiveShadow=br.receiveShadow,ss.setValue(Gn,"receiveShadow",br.receiveShadow)),ar.isMeshGouraudMaterial&&ar.envMap!==null&&(hs.envMap.value=as,hs.flipEnvMap.value=as.isCubeTexture&&as.isRenderTargetTexture===!1?-1:1),Gs&&(ss.setValue(Gn,"toneMappingExposure",Ht.toneMappingExposure),ns.needsLights&&Ms(hs,ro),Kr&&ar.fog===!0&&Tr.refreshFogUniforms(hs,Kr),Tr.refreshMaterialUniforms(hs,ar,An,xn,bn),WebGLUniforms.upload(Gn,ns.uniformsList,hs,jn)),ar.isShaderMaterial&&ar.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Gn,ns.uniformsList,hs,jn),ar.uniformsNeedUpdate=!1),ar.isSpriteMaterial&&ss.setValue(Gn,"center",br.center),ss.setValue(Gn,"modelViewMatrix",br.modelViewMatrix),ss.setValue(Gn,"normalMatrix",br.normalMatrix),ss.setValue(Gn,"modelMatrix",br.matrixWorld),ar.isShaderMaterial||ar.isRawShaderMaterial){const Cs=ar.uniformsGroups;for(let js=0,Zs=Cs.length;js<Zs;js++)if(Xn.isWebGL2){const Eo=Cs[js];kr.update(Eo,wo),kr.bind(Eo,wo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return wo}function Ms(zn,sr){zn.ambientLightColor.needsUpdate=sr,zn.lightProbe.needsUpdate=sr,zn.directionalLights.needsUpdate=sr,zn.directionalLightShadows.needsUpdate=sr,zn.pointLights.needsUpdate=sr,zn.pointLightShadows.needsUpdate=sr,zn.spotLights.needsUpdate=sr,zn.spotLightShadows.needsUpdate=sr,zn.rectAreaLights.needsUpdate=sr,zn.hemisphereLights.needsUpdate=sr}function Ns(zn){return zn.isMeshLambertMaterial||zn.isMeshToonMaterial||zn.isMeshPhongMaterial||zn.isMeshStandardMaterial||zn.isShadowMaterial||zn.isShaderMaterial&&zn.lights===!0}this.getActiveCubeFace=function(){return Kt},this.getActiveMipmapLevel=function(){return Zt},this.getRenderTarget=function(){return Wt},this.setRenderTargetTextures=function(zn,sr,yr){Dn.get(zn.texture).__webglTexture=sr,Dn.get(zn.depthTexture).__webglTexture=yr;const ar=Dn.get(zn);ar.__hasExternalTextures=!0,ar.__hasExternalTextures&&(ar.__autoAllocateDepthBuffer=yr===void 0,ar.__autoAllocateDepthBuffer||Un.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ar.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(zn,sr){const yr=Dn.get(zn);yr.__webglFramebuffer=sr,yr.__useDefaultFramebuffer=sr===void 0},this.setRenderTarget=function(zn,sr=0,yr=0){Wt=zn,Kt=sr,Zt=yr;let ar=!0,br=null,Kr=!1,Yr=!1;if(zn){const as=Dn.get(zn);as.__useDefaultFramebuffer!==void 0?(Vn.bindFramebuffer(36160,null),ar=!1):as.__webglFramebuffer===void 0?jn.setupRenderTarget(zn):as.__hasExternalTextures&&jn.rebindTextures(zn,Dn.get(zn.texture).__webglTexture,Dn.get(zn.depthTexture).__webglTexture);const cs=zn.texture;(cs.isData3DTexture||cs.isDataArrayTexture||cs.isCompressedArrayTexture)&&(Yr=!0);const fs=Dn.get(zn).__webglFramebuffer;zn.isWebGLCubeRenderTarget?(br=fs[sr],Kr=!0):Xn.isWebGL2&&zn.samples>0&&jn.useMultisampledRTT(zn)===!1?br=Dn.get(zn).__webglMultisampledFramebuffer:br=fs,ln.copy(zn.viewport),fn.copy(zn.scissor),un=zn.scissorTest}else ln.copy(Cn).multiplyScalar(An).floor(),fn.copy(En).multiplyScalar(An).floor(),un=yn;if(Vn.bindFramebuffer(36160,br)&&Xn.drawBuffers&&ar&&Vn.drawBuffers(zn,br),Vn.viewport(ln),Vn.scissor(fn),Vn.setScissorTest(un),Kr){const as=Dn.get(zn.texture);Gn.framebufferTexture2D(36160,36064,34069+sr,as.__webglTexture,yr)}else if(Yr){const as=Dn.get(zn.texture),cs=sr||0;Gn.framebufferTextureLayer(36160,36064,as.__webglTexture,yr||0,cs)}tn=-1},this.readRenderTargetPixels=function(zn,sr,yr,ar,br,Kr,Yr){if(!(zn&&zn.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Zr=Dn.get(zn).__webglFramebuffer;if(zn.isWebGLCubeRenderTarget&&Yr!==void 0&&(Zr=Zr[Yr]),Zr){Vn.bindFramebuffer(36160,Zr);try{const as=zn.texture,cs=as.format,fs=as.type;if(cs!==RGBAFormat&&Br.convert(cs)!==Gn.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ds=fs===HalfFloatType&&(Un.has("EXT_color_buffer_half_float")||Xn.isWebGL2&&Un.has("EXT_color_buffer_float"));if(fs!==UnsignedByteType&&Br.convert(fs)!==Gn.getParameter(35738)&&!(fs===FloatType&&(Xn.isWebGL2||Un.has("OES_texture_float")||Un.has("WEBGL_color_buffer_float")))&&!ds){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}sr>=0&&sr<=zn.width-ar&&yr>=0&&yr<=zn.height-br&&Gn.readPixels(sr,yr,ar,br,Br.convert(cs),Br.convert(fs),Kr)}finally{const as=Wt!==null?Dn.get(Wt).__webglFramebuffer:null;Vn.bindFramebuffer(36160,as)}}},this.copyFramebufferToTexture=function(zn,sr,yr=0){const ar=Math.pow(2,-yr),br=Math.floor(sr.image.width*ar),Kr=Math.floor(sr.image.height*ar);jn.setTexture2D(sr,0),Gn.copyTexSubImage2D(3553,yr,0,0,zn.x,zn.y,br,Kr),Vn.unbindTexture()},this.copyTextureToTexture=function(zn,sr,yr,ar=0){const br=sr.image.width,Kr=sr.image.height,Yr=Br.convert(yr.format),Zr=Br.convert(yr.type);jn.setTexture2D(yr,0),Gn.pixelStorei(37440,yr.flipY),Gn.pixelStorei(37441,yr.premultiplyAlpha),Gn.pixelStorei(3317,yr.unpackAlignment),sr.isDataTexture?Gn.texSubImage2D(3553,ar,zn.x,zn.y,br,Kr,Yr,Zr,sr.image.data):sr.isCompressedTexture?Gn.compressedTexSubImage2D(3553,ar,zn.x,zn.y,sr.mipmaps[0].width,sr.mipmaps[0].height,Yr,sr.mipmaps[0].data):Gn.texSubImage2D(3553,ar,zn.x,zn.y,Yr,Zr,sr.image),ar===0&&yr.generateMipmaps&&Gn.generateMipmap(3553),Vn.unbindTexture()},this.copyTextureToTexture3D=function(zn,sr,yr,ar,br=0){if(Ht.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Kr=zn.max.x-zn.min.x+1,Yr=zn.max.y-zn.min.y+1,Zr=zn.max.z-zn.min.z+1,as=Br.convert(ar.format),cs=Br.convert(ar.type);let fs;if(ar.isData3DTexture)jn.setTexture3D(ar,0),fs=32879;else if(ar.isDataArrayTexture)jn.setTexture2DArray(ar,0),fs=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Gn.pixelStorei(37440,ar.flipY),Gn.pixelStorei(37441,ar.premultiplyAlpha),Gn.pixelStorei(3317,ar.unpackAlignment);const ds=Gn.getParameter(3314),Ds=Gn.getParameter(32878),Fs=Gn.getParameter(3316),ho=Gn.getParameter(3315),So=Gn.getParameter(32877),Nr=yr.isCompressedTexture?yr.mipmaps[0]:yr.image;Gn.pixelStorei(3314,Nr.width),Gn.pixelStorei(32878,Nr.height),Gn.pixelStorei(3316,zn.min.x),Gn.pixelStorei(3315,zn.min.y),Gn.pixelStorei(32877,zn.min.z),yr.isDataTexture||yr.isData3DTexture?Gn.texSubImage3D(fs,br,sr.x,sr.y,sr.z,Kr,Yr,Zr,as,cs,Nr.data):yr.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Gn.compressedTexSubImage3D(fs,br,sr.x,sr.y,sr.z,Kr,Yr,Zr,as,Nr.data)):Gn.texSubImage3D(fs,br,sr.x,sr.y,sr.z,Kr,Yr,Zr,as,cs,Nr),Gn.pixelStorei(3314,ds),Gn.pixelStorei(32878,Ds),Gn.pixelStorei(3316,Fs),Gn.pixelStorei(3315,ho),Gn.pixelStorei(32877,So),br===0&&ar.generateMipmaps&&Gn.generateMipmap(fs),Vn.unbindTexture()},this.initTexture=function(zn){zn.isCubeTexture?jn.setTextureCube(zn,0):zn.isData3DTexture?jn.setTexture3D(zn,0):zn.isDataArrayTexture||zn.isCompressedArrayTexture?jn.setTexture2DArray(zn,0):jn.setTexture2D(zn,0),Vn.unbindTexture()},this.resetState=function(){Kt=0,Zt=0,Wt=null,Vn.reset(),pr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(lt,ft=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(lt),this.density=ft}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(lt,ft=1,vt=1e3){this.isFog=!0,this.name="",this.color=new Color(lt),this.near=ft,this.far=vt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let Scene$1=class extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(lt,ft){return super.copy(lt,ft),lt.background!==null&&(this.background=lt.background.clone()),lt.environment!==null&&(this.environment=lt.environment.clone()),lt.fog!==null&&(this.fog=lt.fog.clone()),this.backgroundBlurriness=lt.backgroundBlurriness,this.backgroundIntensity=lt.backgroundIntensity,lt.overrideMaterial!==null&&(this.overrideMaterial=lt.overrideMaterial.clone()),this.matrixAutoUpdate=lt.matrixAutoUpdate,this}toJSON(lt){const ft=super.toJSON(lt);return this.fog!==null&&(ft.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(ft.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(ft.object.backgroundIntensity=this.backgroundIntensity),ft}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(lt){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=lt}};class InterleavedBuffer{constructor(lt,ft){this.isInterleavedBuffer=!0,this.array=lt,this.stride=ft,this.count=lt!==void 0?lt.length/ft:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(lt){lt===!0&&this.version++}setUsage(lt){return this.usage=lt,this}copy(lt){return this.array=new lt.array.constructor(lt.array),this.count=lt.count,this.stride=lt.stride,this.usage=lt.usage,this}copyAt(lt,ft,vt){lt*=this.stride,vt*=ft.stride;for(let St=0,Et=this.stride;St<Et;St++)this.array[lt+St]=ft.array[vt+St];return this}set(lt,ft=0){return this.array.set(lt,ft),this}clone(lt){lt.arrayBuffers===void 0&&(lt.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),lt.arrayBuffers[this.array.buffer._uuid]===void 0&&(lt.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const ft=new this.array.constructor(lt.arrayBuffers[this.array.buffer._uuid]),vt=new this.constructor(ft,this.stride);return vt.setUsage(this.usage),vt}onUpload(lt){return this.onUploadCallback=lt,this}toJSON(lt){return lt.arrayBuffers===void 0&&(lt.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),lt.arrayBuffers[this.array.buffer._uuid]===void 0&&(lt.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(lt,ft,vt,St=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=lt,this.itemSize=ft,this.offset=vt,this.normalized=St}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(lt){this.data.needsUpdate=lt}applyMatrix4(lt){for(let ft=0,vt=this.data.count;ft<vt;ft++)_vector$6.fromBufferAttribute(this,ft),_vector$6.applyMatrix4(lt),this.setXYZ(ft,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(lt){for(let ft=0,vt=this.count;ft<vt;ft++)_vector$6.fromBufferAttribute(this,ft),_vector$6.applyNormalMatrix(lt),this.setXYZ(ft,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(lt){for(let ft=0,vt=this.count;ft<vt;ft++)_vector$6.fromBufferAttribute(this,ft),_vector$6.transformDirection(lt),this.setXYZ(ft,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.data.array[lt*this.data.stride+this.offset]=ft,this}setY(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.data.array[lt*this.data.stride+this.offset+1]=ft,this}setZ(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.data.array[lt*this.data.stride+this.offset+2]=ft,this}setW(lt,ft){return this.normalized&&(ft=normalize(ft,this.array)),this.data.array[lt*this.data.stride+this.offset+3]=ft,this}getX(lt){let ft=this.data.array[lt*this.data.stride+this.offset];return this.normalized&&(ft=denormalize(ft,this.array)),ft}getY(lt){let ft=this.data.array[lt*this.data.stride+this.offset+1];return this.normalized&&(ft=denormalize(ft,this.array)),ft}getZ(lt){let ft=this.data.array[lt*this.data.stride+this.offset+2];return this.normalized&&(ft=denormalize(ft,this.array)),ft}getW(lt){let ft=this.data.array[lt*this.data.stride+this.offset+3];return this.normalized&&(ft=denormalize(ft,this.array)),ft}setXY(lt,ft,vt){return lt=lt*this.data.stride+this.offset,this.normalized&&(ft=normalize(ft,this.array),vt=normalize(vt,this.array)),this.data.array[lt+0]=ft,this.data.array[lt+1]=vt,this}setXYZ(lt,ft,vt,St){return lt=lt*this.data.stride+this.offset,this.normalized&&(ft=normalize(ft,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array)),this.data.array[lt+0]=ft,this.data.array[lt+1]=vt,this.data.array[lt+2]=St,this}setXYZW(lt,ft,vt,St,Et){return lt=lt*this.data.stride+this.offset,this.normalized&&(ft=normalize(ft,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array),Et=normalize(Et,this.array)),this.data.array[lt+0]=ft,this.data.array[lt+1]=vt,this.data.array[lt+2]=St,this.data.array[lt+3]=Et,this}clone(lt){if(lt===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const ft=[];for(let vt=0;vt<this.count;vt++){const St=vt*this.data.stride+this.offset;for(let Et=0;Et<this.itemSize;Et++)ft.push(this.data.array[St+Et])}return new BufferAttribute(new this.array.constructor(ft),this.itemSize,this.normalized)}else return lt.interleavedBuffers===void 0&&(lt.interleavedBuffers={}),lt.interleavedBuffers[this.data.uuid]===void 0&&(lt.interleavedBuffers[this.data.uuid]=this.data.clone(lt)),new InterleavedBufferAttribute(lt.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(lt){if(lt===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const ft=[];for(let vt=0;vt<this.count;vt++){const St=vt*this.data.stride+this.offset;for(let Et=0;Et<this.itemSize;Et++)ft.push(this.data.array[St+Et])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:ft,normalized:this.normalized}}else return lt.interleavedBuffers===void 0&&(lt.interleavedBuffers={}),lt.interleavedBuffers[this.data.uuid]===void 0&&(lt.interleavedBuffers[this.data.uuid]=this.data.toJSON(lt)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(lt){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.alphaMap=lt.alphaMap,this.rotation=lt.rotation,this.sizeAttenuation=lt.sizeAttenuation,this.fog=lt.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(lt){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const ft=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),vt=new InterleavedBuffer(ft,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(vt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(vt,2,3,!1))}this.geometry=_geometry,this.material=lt!==void 0?lt:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(lt,ft){lt.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(lt.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(lt.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),lt.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const vt=this.material.rotation;let St,Et;vt!==0&&(Et=Math.cos(vt),St=Math.sin(vt));const At=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,At,_worldScale,St,Et),transformVertex(_vB.set(.5,-.5,0),_mvPosition,At,_worldScale,St,Et),transformVertex(_vC.set(.5,.5,0),_mvPosition,At,_worldScale,St,Et),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let Ct=lt.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(Ct===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,At,_worldScale,St,Et),_uvB.set(0,1),Ct=lt.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),Ct===null))return;const Tt=lt.ray.origin.distanceTo(_intersectPoint);Tt<lt.near||Tt>lt.far||ft.push({distance:Tt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(lt,ft){return super.copy(lt,ft),lt.center!==void 0&&this.center.copy(lt.center),this.material=lt.material,this}}function transformVertex(dt,lt,ft,vt,St,Et){_alignedPosition.subVectors(dt,ft).addScalar(.5).multiply(vt),St!==void 0?(_rotatedPosition.x=Et*_alignedPosition.x-St*_alignedPosition.y,_rotatedPosition.y=St*_alignedPosition.x+Et*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),dt.copy(lt),dt.x+=_rotatedPosition.x,dt.y+=_rotatedPosition.y,dt.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(lt){super.copy(lt,!1);const ft=lt.levels;for(let vt=0,St=ft.length;vt<St;vt++){const Et=ft[vt];this.addLevel(Et.object.clone(),Et.distance,Et.hysteresis)}return this.autoUpdate=lt.autoUpdate,this}addLevel(lt,ft=0,vt=0){ft=Math.abs(ft);const St=this.levels;let Et;for(Et=0;Et<St.length&&!(ft<St[Et].distance);Et++);return St.splice(Et,0,{distance:ft,hysteresis:vt,object:lt}),this.add(lt),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(lt){const ft=this.levels;if(ft.length>0){let vt,St;for(vt=1,St=ft.length;vt<St;vt++){let Et=ft[vt].distance;if(ft[vt].object.visible&&(Et-=Et*ft[vt].hysteresis),lt<Et)break}return ft[vt-1].object}return null}raycast(lt,ft){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const St=lt.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(St).raycast(lt,ft)}}update(lt){const ft=this.levels;if(ft.length>1){_v1$2.setFromMatrixPosition(lt.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const vt=_v1$2.distanceTo(_v2$1)/lt.zoom;ft[0].object.visible=!0;let St,Et;for(St=1,Et=ft.length;St<Et;St++){let At=ft[St].distance;if(ft[St].object.visible&&(At-=At*ft[St].hysteresis),vt>=At)ft[St-1].object.visible=!1,ft[St].object.visible=!0;else break}for(this._currentLevel=St-1;St<Et;St++)ft[St].object.visible=!1}}toJSON(lt){const ft=super.toJSON(lt);this.autoUpdate===!1&&(ft.object.autoUpdate=!1),ft.object.levels=[];const vt=this.levels;for(let St=0,Et=vt.length;St<Et;St++){const At=vt[St];ft.object.levels.push({object:At.object.uuid,distance:At.distance,hysteresis:At.hysteresis})}return ft}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(lt,ft){super(lt,ft),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(lt,ft){return super.copy(lt,ft),this.bindMode=lt.bindMode,this.bindMatrix.copy(lt.bindMatrix),this.bindMatrixInverse.copy(lt.bindMatrixInverse),this.skeleton=lt.skeleton,this}bind(lt,ft){this.skeleton=lt,ft===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),ft=this.matrixWorld),this.bindMatrix.copy(ft),this.bindMatrixInverse.copy(ft).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const lt=new Vector4,ft=this.geometry.attributes.skinWeight;for(let vt=0,St=ft.count;vt<St;vt++){lt.fromBufferAttribute(ft,vt);const Et=1/lt.manhattanLength();Et!==1/0?lt.multiplyScalar(Et):lt.set(1,0,0,0),ft.setXYZW(vt,lt.x,lt.y,lt.z,lt.w)}}updateMatrixWorld(lt){super.updateMatrixWorld(lt),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(lt,ft){const vt=this.skeleton,St=this.geometry;_skinIndex.fromBufferAttribute(St.attributes.skinIndex,lt),_skinWeight.fromBufferAttribute(St.attributes.skinWeight,lt),_basePosition.copy(ft).applyMatrix4(this.bindMatrix),ft.set(0,0,0);for(let Et=0;Et<4;Et++){const At=_skinWeight.getComponent(Et);if(At!==0){const Ct=_skinIndex.getComponent(Et);_matrix.multiplyMatrices(vt.bones[Ct].matrixWorld,vt.boneInverses[Ct]),ft.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),At)}}return ft.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(lt=null,ft=1,vt=1,St,Et,At,Ct,Tt,Rt=NearestFilter,Bt=NearestFilter,Ft,Dt){super(null,At,Ct,Tt,Rt,Bt,St,Et,Ft,Dt),this.isDataTexture=!0,this.image={data:lt,width:ft,height:vt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(lt=[],ft=[]){this.uuid=generateUUID$1(),this.bones=lt.slice(0),this.boneInverses=ft,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const lt=this.bones,ft=this.boneInverses;if(this.boneMatrices=new Float32Array(lt.length*16),ft.length===0)this.calculateInverses();else if(lt.length!==ft.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let vt=0,St=this.bones.length;vt<St;vt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let lt=0,ft=this.bones.length;lt<ft;lt++){const vt=new Matrix4;this.bones[lt]&&vt.copy(this.bones[lt].matrixWorld).invert(),this.boneInverses.push(vt)}}pose(){for(let lt=0,ft=this.bones.length;lt<ft;lt++){const vt=this.bones[lt];vt&&vt.matrixWorld.copy(this.boneInverses[lt]).invert()}for(let lt=0,ft=this.bones.length;lt<ft;lt++){const vt=this.bones[lt];vt&&(vt.parent&&vt.parent.isBone?(vt.matrix.copy(vt.parent.matrixWorld).invert(),vt.matrix.multiply(vt.matrixWorld)):vt.matrix.copy(vt.matrixWorld),vt.matrix.decompose(vt.position,vt.quaternion,vt.scale))}}update(){const lt=this.bones,ft=this.boneInverses,vt=this.boneMatrices,St=this.boneTexture;for(let Et=0,At=lt.length;Et<At;Et++){const Ct=lt[Et]?lt[Et].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(Ct,ft[Et]),_offsetMatrix.toArray(vt,Et*16)}St!==null&&(St.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let lt=Math.sqrt(this.bones.length*4);lt=ceilPowerOfTwo(lt),lt=Math.max(lt,4);const ft=new Float32Array(lt*lt*4);ft.set(this.boneMatrices);const vt=new DataTexture(ft,lt,lt,RGBAFormat,FloatType);return vt.needsUpdate=!0,this.boneMatrices=ft,this.boneTexture=vt,this.boneTextureSize=lt,this}getBoneByName(lt){for(let ft=0,vt=this.bones.length;ft<vt;ft++){const St=this.bones[ft];if(St.name===lt)return St}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(lt,ft){this.uuid=lt.uuid;for(let vt=0,St=lt.bones.length;vt<St;vt++){const Et=lt.bones[vt];let At=ft[Et];At===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",Et),At=new Bone),this.bones.push(At),this.boneInverses.push(new Matrix4().fromArray(lt.boneInverses[vt]))}return this.init(),this}toJSON(){const lt={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};lt.uuid=this.uuid;const ft=this.bones,vt=this.boneInverses;for(let St=0,Et=ft.length;St<Et;St++){const At=ft[St];lt.bones.push(At.uuid);const Ct=vt[St];lt.boneInverses.push(Ct.toArray())}return lt}}class InstancedBufferAttribute extends BufferAttribute{constructor(lt,ft,vt,St=1){super(lt,ft,vt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=St}copy(lt){return super.copy(lt),this.meshPerAttribute=lt.meshPerAttribute,this}toJSON(){const lt=super.toJSON();return lt.meshPerAttribute=this.meshPerAttribute,lt.isInstancedBufferAttribute=!0,lt}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_identity=new Matrix4,_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(lt,ft,vt){super(lt,ft),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(vt*16),16),this.instanceColor=null,this.count=vt,this.frustumCulled=!1;for(let St=0;St<vt;St++)this.setMatrixAt(St,_identity)}copy(lt,ft){return super.copy(lt,ft),this.instanceMatrix.copy(lt.instanceMatrix),lt.instanceColor!==null&&(this.instanceColor=lt.instanceColor.clone()),this.count=lt.count,this}getColorAt(lt,ft){ft.fromArray(this.instanceColor.array,lt*3)}getMatrixAt(lt,ft){ft.fromArray(this.instanceMatrix.array,lt*16)}raycast(lt,ft){const vt=this.matrixWorld,St=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let Et=0;Et<St;Et++){this.getMatrixAt(Et,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(vt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(lt,_instanceIntersects);for(let At=0,Ct=_instanceIntersects.length;At<Ct;At++){const Tt=_instanceIntersects[At];Tt.instanceId=Et,Tt.object=this,ft.push(Tt)}_instanceIntersects.length=0}}setColorAt(lt,ft){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),ft.toArray(this.instanceColor.array,lt*3)}setMatrixAt(lt,ft){ft.toArray(this.instanceMatrix.array,lt*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(lt){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.linewidth=lt.linewidth,this.linecap=lt.linecap,this.linejoin=lt.linejoin,this.fog=lt.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere$1;let Line$1=class extends Object3D{constructor(lt=new BufferGeometry,ft=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=lt,this.material=ft,this.updateMorphTargets()}copy(lt,ft){return super.copy(lt,ft),this.material=lt.material,this.geometry=lt.geometry,this}computeLineDistances(){const lt=this.geometry;if(lt.index===null){const ft=lt.attributes.position,vt=[0];for(let St=1,Et=ft.count;St<Et;St++)_start$1.fromBufferAttribute(ft,St-1),_end$1.fromBufferAttribute(ft,St),vt[St]=vt[St-1],vt[St]+=_start$1.distanceTo(_end$1);lt.setAttribute("lineDistance",new Float32BufferAttribute(vt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(lt,ft){const vt=this.geometry,St=this.matrixWorld,Et=lt.params.Line.threshold,At=vt.drawRange;if(vt.boundingSphere===null&&vt.computeBoundingSphere(),_sphere$1.copy(vt.boundingSphere),_sphere$1.applyMatrix4(St),_sphere$1.radius+=Et,lt.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(St).invert(),_ray$1.copy(lt.ray).applyMatrix4(_inverseMatrix$1);const Ct=Et/((this.scale.x+this.scale.y+this.scale.z)/3),Tt=Ct*Ct,Rt=new Vector3,Bt=new Vector3,Ft=new Vector3,Dt=new Vector3,kt=this.isLineSegments?2:1,zt=vt.index,en=vt.attributes.position;if(zt!==null){const Kt=Math.max(0,At.start),Zt=Math.min(zt.count,At.start+At.count);for(let Wt=Kt,tn=Zt-1;Wt<tn;Wt+=kt){const an=zt.getX(Wt),ln=zt.getX(Wt+1);if(Rt.fromBufferAttribute(en,an),Bt.fromBufferAttribute(en,ln),_ray$1.distanceSqToSegment(Rt,Bt,Dt,Ft)>Tt)continue;Dt.applyMatrix4(this.matrixWorld);const un=lt.ray.origin.distanceTo(Dt);un<lt.near||un>lt.far||ft.push({distance:un,point:Ft.clone().applyMatrix4(this.matrixWorld),index:Wt,face:null,faceIndex:null,object:this})}}else{const Kt=Math.max(0,At.start),Zt=Math.min(en.count,At.start+At.count);for(let Wt=Kt,tn=Zt-1;Wt<tn;Wt+=kt){if(Rt.fromBufferAttribute(en,Wt),Bt.fromBufferAttribute(en,Wt+1),_ray$1.distanceSqToSegment(Rt,Bt,Dt,Ft)>Tt)continue;Dt.applyMatrix4(this.matrixWorld);const ln=lt.ray.origin.distanceTo(Dt);ln<lt.near||ln>lt.far||ft.push({distance:ln,point:Ft.clone().applyMatrix4(this.matrixWorld),index:Wt,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const ft=this.geometry.morphAttributes,vt=Object.keys(ft);if(vt.length>0){const St=ft[vt[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et].name||String(Et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=Et}}}}};const _start$2=new Vector3,_end$2=new Vector3;class LineSegments extends Line$1{constructor(lt,ft){super(lt,ft),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const lt=this.geometry;if(lt.index===null){const ft=lt.attributes.position,vt=[];for(let St=0,Et=ft.count;St<Et;St+=2)_start$2.fromBufferAttribute(ft,St),_end$2.fromBufferAttribute(ft,St+1),vt[St]=St===0?0:vt[St-1],vt[St+1]=vt[St]+_start$2.distanceTo(_end$2);lt.setAttribute("lineDistance",new Float32BufferAttribute(vt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line$1{constructor(lt,ft){super(lt,ft),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(lt){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.alphaMap=lt.alphaMap,this.size=lt.size,this.sizeAttenuation=lt.sizeAttenuation,this.fog=lt.fog,this}}const _inverseMatrix=new Matrix4,_ray$3=new Ray,_sphere$4=new Sphere$1,_position$2=new Vector3;class Points extends Object3D{constructor(lt=new BufferGeometry,ft=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=lt,this.material=ft,this.updateMorphTargets()}copy(lt,ft){return super.copy(lt,ft),this.material=lt.material,this.geometry=lt.geometry,this}raycast(lt,ft){const vt=this.geometry,St=this.matrixWorld,Et=lt.params.Points.threshold,At=vt.drawRange;if(vt.boundingSphere===null&&vt.computeBoundingSphere(),_sphere$4.copy(vt.boundingSphere),_sphere$4.applyMatrix4(St),_sphere$4.radius+=Et,lt.ray.intersectsSphere(_sphere$4)===!1)return;_inverseMatrix.copy(St).invert(),_ray$3.copy(lt.ray).applyMatrix4(_inverseMatrix);const Ct=Et/((this.scale.x+this.scale.y+this.scale.z)/3),Tt=Ct*Ct,Rt=vt.index,Ft=vt.attributes.position;if(Rt!==null){const Dt=Math.max(0,At.start),kt=Math.min(Rt.count,At.start+At.count);for(let zt=Dt,Ht=kt;zt<Ht;zt++){const en=Rt.getX(zt);_position$2.fromBufferAttribute(Ft,en),testPoint(_position$2,en,Tt,St,lt,ft,this)}}else{const Dt=Math.max(0,At.start),kt=Math.min(Ft.count,At.start+At.count);for(let zt=Dt,Ht=kt;zt<Ht;zt++)_position$2.fromBufferAttribute(Ft,zt),testPoint(_position$2,zt,Tt,St,lt,ft,this)}}updateMorphTargets(){const ft=this.geometry.morphAttributes,vt=Object.keys(ft);if(vt.length>0){const St=ft[vt[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et].name||String(Et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=Et}}}}}function testPoint(dt,lt,ft,vt,St,Et,At){const Ct=_ray$3.distanceSqToPoint(dt);if(Ct<ft){const Tt=new Vector3;_ray$3.closestPointToPoint(dt,Tt),Tt.applyMatrix4(vt);const Rt=St.ray.origin.distanceTo(Tt);if(Rt<St.near||Rt>St.far)return;Et.push({distance:Rt,distanceToRay:Math.sqrt(Ct),point:Tt,index:lt,face:null,object:At})}}class VideoTexture extends Texture{constructor(lt,ft,vt,St,Et,At,Ct,Tt,Rt){super(lt,ft,vt,St,Et,At,Ct,Tt,Rt),this.isVideoTexture=!0,this.minFilter=At!==void 0?At:LinearFilter,this.magFilter=Et!==void 0?Et:LinearFilter,this.generateMipmaps=!1;const Bt=this;function Ft(){Bt.needsUpdate=!0,lt.requestVideoFrameCallback(Ft)}"requestVideoFrameCallback"in lt&&lt.requestVideoFrameCallback(Ft)}clone(){return new this.constructor(this.image).copy(this)}update(){const lt=this.image;"requestVideoFrameCallback"in lt===!1&&lt.readyState>=lt.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(lt,ft,vt){super({width:lt,height:ft}),this.isFramebufferTexture=!0,this.format=vt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(lt,ft,vt,St,Et,At,Ct,Tt,Rt,Bt,Ft,Dt){super(null,At,Ct,Tt,Rt,Bt,St,Et,Ft,Dt),this.isCompressedTexture=!0,this.image={width:ft,height:vt},this.mipmaps=lt,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(lt,ft,vt,St,Et,At){super(lt,ft,vt,Et,At),this.isCompressedArrayTexture=!0,this.image.depth=St,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor(lt,ft,vt,St,Et,At,Ct,Tt,Rt){super(lt,ft,vt,St,Et,At,Ct,Tt,Rt),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(lt,ft){const vt=this.getUtoTmapping(lt);return this.getPoint(vt,ft)}getPoints(lt=5){const ft=[];for(let vt=0;vt<=lt;vt++)ft.push(this.getPoint(vt/lt));return ft}getSpacedPoints(lt=5){const ft=[];for(let vt=0;vt<=lt;vt++)ft.push(this.getPointAt(vt/lt));return ft}getLength(){const lt=this.getLengths();return lt[lt.length-1]}getLengths(lt=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===lt+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const ft=[];let vt,St=this.getPoint(0),Et=0;ft.push(0);for(let At=1;At<=lt;At++)vt=this.getPoint(At/lt),Et+=vt.distanceTo(St),ft.push(Et),St=vt;return this.cacheArcLengths=ft,ft}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(lt,ft){const vt=this.getLengths();let St=0;const Et=vt.length;let At;ft?At=ft:At=lt*vt[Et-1];let Ct=0,Tt=Et-1,Rt;for(;Ct<=Tt;)if(St=Math.floor(Ct+(Tt-Ct)/2),Rt=vt[St]-At,Rt<0)Ct=St+1;else if(Rt>0)Tt=St-1;else{Tt=St;break}if(St=Tt,vt[St]===At)return St/(Et-1);const Bt=vt[St],Dt=vt[St+1]-Bt,kt=(At-Bt)/Dt;return(St+kt)/(Et-1)}getTangent(lt,ft){let St=lt-1e-4,Et=lt+1e-4;St<0&&(St=0),Et>1&&(Et=1);const At=this.getPoint(St),Ct=this.getPoint(Et),Tt=ft||(At.isVector2?new Vector2:new Vector3);return Tt.copy(Ct).sub(At).normalize(),Tt}getTangentAt(lt,ft){const vt=this.getUtoTmapping(lt);return this.getTangent(vt,ft)}computeFrenetFrames(lt,ft){const vt=new Vector3,St=[],Et=[],At=[],Ct=new Vector3,Tt=new Matrix4;for(let kt=0;kt<=lt;kt++){const zt=kt/lt;St[kt]=this.getTangentAt(zt,new Vector3)}Et[0]=new Vector3,At[0]=new Vector3;let Rt=Number.MAX_VALUE;const Bt=Math.abs(St[0].x),Ft=Math.abs(St[0].y),Dt=Math.abs(St[0].z);Bt<=Rt&&(Rt=Bt,vt.set(1,0,0)),Ft<=Rt&&(Rt=Ft,vt.set(0,1,0)),Dt<=Rt&&vt.set(0,0,1),Ct.crossVectors(St[0],vt).normalize(),Et[0].crossVectors(St[0],Ct),At[0].crossVectors(St[0],Et[0]);for(let kt=1;kt<=lt;kt++){if(Et[kt]=Et[kt-1].clone(),At[kt]=At[kt-1].clone(),Ct.crossVectors(St[kt-1],St[kt]),Ct.length()>Number.EPSILON){Ct.normalize();const zt=Math.acos(clamp(St[kt-1].dot(St[kt]),-1,1));Et[kt].applyMatrix4(Tt.makeRotationAxis(Ct,zt))}At[kt].crossVectors(St[kt],Et[kt])}if(ft===!0){let kt=Math.acos(clamp(Et[0].dot(Et[lt]),-1,1));kt/=lt,St[0].dot(Ct.crossVectors(Et[0],Et[lt]))>0&&(kt=-kt);for(let zt=1;zt<=lt;zt++)Et[zt].applyMatrix4(Tt.makeRotationAxis(St[zt],kt*zt)),At[zt].crossVectors(St[zt],Et[zt])}return{tangents:St,normals:Et,binormals:At}}clone(){return new this.constructor().copy(this)}copy(lt){return this.arcLengthDivisions=lt.arcLengthDivisions,this}toJSON(){const lt={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return lt.arcLengthDivisions=this.arcLengthDivisions,lt.type=this.type,lt}fromJSON(lt){return this.arcLengthDivisions=lt.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(lt=0,ft=0,vt=1,St=1,Et=0,At=Math.PI*2,Ct=!1,Tt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=lt,this.aY=ft,this.xRadius=vt,this.yRadius=St,this.aStartAngle=Et,this.aEndAngle=At,this.aClockwise=Ct,this.aRotation=Tt}getPoint(lt,ft){const vt=ft||new Vector2,St=Math.PI*2;let Et=this.aEndAngle-this.aStartAngle;const At=Math.abs(Et)<Number.EPSILON;for(;Et<0;)Et+=St;for(;Et>St;)Et-=St;Et<Number.EPSILON&&(At?Et=0:Et=St),this.aClockwise===!0&&!At&&(Et===St?Et=-St:Et=Et-St);const Ct=this.aStartAngle+lt*Et;let Tt=this.aX+this.xRadius*Math.cos(Ct),Rt=this.aY+this.yRadius*Math.sin(Ct);if(this.aRotation!==0){const Bt=Math.cos(this.aRotation),Ft=Math.sin(this.aRotation),Dt=Tt-this.aX,kt=Rt-this.aY;Tt=Dt*Bt-kt*Ft+this.aX,Rt=Dt*Ft+kt*Bt+this.aY}return vt.set(Tt,Rt)}copy(lt){return super.copy(lt),this.aX=lt.aX,this.aY=lt.aY,this.xRadius=lt.xRadius,this.yRadius=lt.yRadius,this.aStartAngle=lt.aStartAngle,this.aEndAngle=lt.aEndAngle,this.aClockwise=lt.aClockwise,this.aRotation=lt.aRotation,this}toJSON(){const lt=super.toJSON();return lt.aX=this.aX,lt.aY=this.aY,lt.xRadius=this.xRadius,lt.yRadius=this.yRadius,lt.aStartAngle=this.aStartAngle,lt.aEndAngle=this.aEndAngle,lt.aClockwise=this.aClockwise,lt.aRotation=this.aRotation,lt}fromJSON(lt){return super.fromJSON(lt),this.aX=lt.aX,this.aY=lt.aY,this.xRadius=lt.xRadius,this.yRadius=lt.yRadius,this.aStartAngle=lt.aStartAngle,this.aEndAngle=lt.aEndAngle,this.aClockwise=lt.aClockwise,this.aRotation=lt.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(lt,ft,vt,St,Et,At){super(lt,ft,vt,vt,St,Et,At),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let dt=0,lt=0,ft=0,vt=0;function St(Et,At,Ct,Tt){dt=Et,lt=Ct,ft=-3*Et+3*At-2*Ct-Tt,vt=2*Et-2*At+Ct+Tt}return{initCatmullRom:function(Et,At,Ct,Tt,Rt){St(At,Ct,Rt*(Ct-Et),Rt*(Tt-At))},initNonuniformCatmullRom:function(Et,At,Ct,Tt,Rt,Bt,Ft){let Dt=(At-Et)/Rt-(Ct-Et)/(Rt+Bt)+(Ct-At)/Bt,kt=(Ct-At)/Bt-(Tt-At)/(Bt+Ft)+(Tt-Ct)/Ft;Dt*=Bt,kt*=Bt,St(At,Ct,Dt,kt)},calc:function(Et){const At=Et*Et,Ct=At*Et;return dt+lt*Et+ft*At+vt*Ct}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(lt=[],ft=!1,vt="centripetal",St=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=lt,this.closed=ft,this.curveType=vt,this.tension=St}getPoint(lt,ft=new Vector3){const vt=ft,St=this.points,Et=St.length,At=(Et-(this.closed?0:1))*lt;let Ct=Math.floor(At),Tt=At-Ct;this.closed?Ct+=Ct>0?0:(Math.floor(Math.abs(Ct)/Et)+1)*Et:Tt===0&&Ct===Et-1&&(Ct=Et-2,Tt=1);let Rt,Bt;this.closed||Ct>0?Rt=St[(Ct-1)%Et]:(tmp.subVectors(St[0],St[1]).add(St[0]),Rt=tmp);const Ft=St[Ct%Et],Dt=St[(Ct+1)%Et];if(this.closed||Ct+2<Et?Bt=St[(Ct+2)%Et]:(tmp.subVectors(St[Et-1],St[Et-2]).add(St[Et-1]),Bt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const kt=this.curveType==="chordal"?.5:.25;let zt=Math.pow(Rt.distanceToSquared(Ft),kt),Ht=Math.pow(Ft.distanceToSquared(Dt),kt),en=Math.pow(Dt.distanceToSquared(Bt),kt);Ht<1e-4&&(Ht=1),zt<1e-4&&(zt=Ht),en<1e-4&&(en=Ht),px.initNonuniformCatmullRom(Rt.x,Ft.x,Dt.x,Bt.x,zt,Ht,en),py.initNonuniformCatmullRom(Rt.y,Ft.y,Dt.y,Bt.y,zt,Ht,en),pz.initNonuniformCatmullRom(Rt.z,Ft.z,Dt.z,Bt.z,zt,Ht,en)}else this.curveType==="catmullrom"&&(px.initCatmullRom(Rt.x,Ft.x,Dt.x,Bt.x,this.tension),py.initCatmullRom(Rt.y,Ft.y,Dt.y,Bt.y,this.tension),pz.initCatmullRom(Rt.z,Ft.z,Dt.z,Bt.z,this.tension));return vt.set(px.calc(Tt),py.calc(Tt),pz.calc(Tt)),vt}copy(lt){super.copy(lt),this.points=[];for(let ft=0,vt=lt.points.length;ft<vt;ft++){const St=lt.points[ft];this.points.push(St.clone())}return this.closed=lt.closed,this.curveType=lt.curveType,this.tension=lt.tension,this}toJSON(){const lt=super.toJSON();lt.points=[];for(let ft=0,vt=this.points.length;ft<vt;ft++){const St=this.points[ft];lt.points.push(St.toArray())}return lt.closed=this.closed,lt.curveType=this.curveType,lt.tension=this.tension,lt}fromJSON(lt){super.fromJSON(lt),this.points=[];for(let ft=0,vt=lt.points.length;ft<vt;ft++){const St=lt.points[ft];this.points.push(new Vector3().fromArray(St))}return this.closed=lt.closed,this.curveType=lt.curveType,this.tension=lt.tension,this}}function CatmullRom(dt,lt,ft,vt,St){const Et=(vt-lt)*.5,At=(St-ft)*.5,Ct=dt*dt,Tt=dt*Ct;return(2*ft-2*vt+Et+At)*Tt+(-3*ft+3*vt-2*Et-At)*Ct+Et*dt+ft}function QuadraticBezierP0(dt,lt){const ft=1-dt;return ft*ft*lt}function QuadraticBezierP1(dt,lt){return 2*(1-dt)*dt*lt}function QuadraticBezierP2(dt,lt){return dt*dt*lt}function QuadraticBezier(dt,lt,ft,vt){return QuadraticBezierP0(dt,lt)+QuadraticBezierP1(dt,ft)+QuadraticBezierP2(dt,vt)}function CubicBezierP0(dt,lt){const ft=1-dt;return ft*ft*ft*lt}function CubicBezierP1(dt,lt){const ft=1-dt;return 3*ft*ft*dt*lt}function CubicBezierP2(dt,lt){return 3*(1-dt)*dt*dt*lt}function CubicBezierP3(dt,lt){return dt*dt*dt*lt}function CubicBezier(dt,lt,ft,vt,St){return CubicBezierP0(dt,lt)+CubicBezierP1(dt,ft)+CubicBezierP2(dt,vt)+CubicBezierP3(dt,St)}class CubicBezierCurve extends Curve{constructor(lt=new Vector2,ft=new Vector2,vt=new Vector2,St=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=lt,this.v1=ft,this.v2=vt,this.v3=St}getPoint(lt,ft=new Vector2){const vt=ft,St=this.v0,Et=this.v1,At=this.v2,Ct=this.v3;return vt.set(CubicBezier(lt,St.x,Et.x,At.x,Ct.x),CubicBezier(lt,St.y,Et.y,At.y,Ct.y)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this.v3.copy(lt.v3),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt.v3=this.v3.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this.v3.fromArray(lt.v3),this}}class CubicBezierCurve3 extends Curve{constructor(lt=new Vector3,ft=new Vector3,vt=new Vector3,St=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=lt,this.v1=ft,this.v2=vt,this.v3=St}getPoint(lt,ft=new Vector3){const vt=ft,St=this.v0,Et=this.v1,At=this.v2,Ct=this.v3;return vt.set(CubicBezier(lt,St.x,Et.x,At.x,Ct.x),CubicBezier(lt,St.y,Et.y,At.y,Ct.y),CubicBezier(lt,St.z,Et.z,At.z,Ct.z)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this.v3.copy(lt.v3),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt.v3=this.v3.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this.v3.fromArray(lt.v3),this}}class LineCurve extends Curve{constructor(lt=new Vector2,ft=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=lt,this.v2=ft}getPoint(lt,ft=new Vector2){const vt=ft;return lt===1?vt.copy(this.v2):(vt.copy(this.v2).sub(this.v1),vt.multiplyScalar(lt).add(this.v1)),vt}getPointAt(lt,ft){return this.getPoint(lt,ft)}getTangent(lt,ft){const vt=ft||new Vector2;return vt.copy(this.v2).sub(this.v1).normalize(),vt}copy(lt){return super.copy(lt),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class LineCurve3 extends Curve{constructor(lt=new Vector3,ft=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=lt,this.v2=ft}getPoint(lt,ft=new Vector3){const vt=ft;return lt===1?vt.copy(this.v2):(vt.copy(this.v2).sub(this.v1),vt.multiplyScalar(lt).add(this.v1)),vt}getPointAt(lt,ft){return this.getPoint(lt,ft)}copy(lt){return super.copy(lt),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class QuadraticBezierCurve extends Curve{constructor(lt=new Vector2,ft=new Vector2,vt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=lt,this.v1=ft,this.v2=vt}getPoint(lt,ft=new Vector2){const vt=ft,St=this.v0,Et=this.v1,At=this.v2;return vt.set(QuadraticBezier(lt,St.x,Et.x,At.x),QuadraticBezier(lt,St.y,Et.y,At.y)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(lt=new Vector3,ft=new Vector3,vt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=lt,this.v1=ft,this.v2=vt}getPoint(lt,ft=new Vector3){const vt=ft,St=this.v0,Et=this.v1,At=this.v2;return vt.set(QuadraticBezier(lt,St.x,Et.x,At.x),QuadraticBezier(lt,St.y,Et.y,At.y),QuadraticBezier(lt,St.z,Et.z,At.z)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class SplineCurve extends Curve{constructor(lt=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=lt}getPoint(lt,ft=new Vector2){const vt=ft,St=this.points,Et=(St.length-1)*lt,At=Math.floor(Et),Ct=Et-At,Tt=St[At===0?At:At-1],Rt=St[At],Bt=St[At>St.length-2?St.length-1:At+1],Ft=St[At>St.length-3?St.length-1:At+2];return vt.set(CatmullRom(Ct,Tt.x,Rt.x,Bt.x,Ft.x),CatmullRom(Ct,Tt.y,Rt.y,Bt.y,Ft.y)),vt}copy(lt){super.copy(lt),this.points=[];for(let ft=0,vt=lt.points.length;ft<vt;ft++){const St=lt.points[ft];this.points.push(St.clone())}return this}toJSON(){const lt=super.toJSON();lt.points=[];for(let ft=0,vt=this.points.length;ft<vt;ft++){const St=this.points[ft];lt.points.push(St.toArray())}return lt}fromJSON(lt){super.fromJSON(lt),this.points=[];for(let ft=0,vt=lt.points.length;ft<vt;ft++){const St=lt.points[ft];this.points.push(new Vector2().fromArray(St))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(lt){this.curves.push(lt)}closePath(){const lt=this.curves[0].getPoint(0),ft=this.curves[this.curves.length-1].getPoint(1);lt.equals(ft)||this.curves.push(new LineCurve(ft,lt))}getPoint(lt,ft){const vt=lt*this.getLength(),St=this.getCurveLengths();let Et=0;for(;Et<St.length;){if(St[Et]>=vt){const At=St[Et]-vt,Ct=this.curves[Et],Tt=Ct.getLength(),Rt=Tt===0?0:1-At/Tt;return Ct.getPointAt(Rt,ft)}Et++}return null}getLength(){const lt=this.getCurveLengths();return lt[lt.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const lt=[];let ft=0;for(let vt=0,St=this.curves.length;vt<St;vt++)ft+=this.curves[vt].getLength(),lt.push(ft);return this.cacheLengths=lt,lt}getSpacedPoints(lt=40){const ft=[];for(let vt=0;vt<=lt;vt++)ft.push(this.getPoint(vt/lt));return this.autoClose&&ft.push(ft[0]),ft}getPoints(lt=12){const ft=[];let vt;for(let St=0,Et=this.curves;St<Et.length;St++){const At=Et[St],Ct=At.isEllipseCurve?lt*2:At.isLineCurve||At.isLineCurve3?1:At.isSplineCurve?lt*At.points.length:lt,Tt=At.getPoints(Ct);for(let Rt=0;Rt<Tt.length;Rt++){const Bt=Tt[Rt];vt&&vt.equals(Bt)||(ft.push(Bt),vt=Bt)}}return this.autoClose&&ft.length>1&&!ft[ft.length-1].equals(ft[0])&&ft.push(ft[0]),ft}copy(lt){super.copy(lt),this.curves=[];for(let ft=0,vt=lt.curves.length;ft<vt;ft++){const St=lt.curves[ft];this.curves.push(St.clone())}return this.autoClose=lt.autoClose,this}toJSON(){const lt=super.toJSON();lt.autoClose=this.autoClose,lt.curves=[];for(let ft=0,vt=this.curves.length;ft<vt;ft++){const St=this.curves[ft];lt.curves.push(St.toJSON())}return lt}fromJSON(lt){super.fromJSON(lt),this.autoClose=lt.autoClose,this.curves=[];for(let ft=0,vt=lt.curves.length;ft<vt;ft++){const St=lt.curves[ft];this.curves.push(new Curves[St.type]().fromJSON(St))}return this}}class Path extends CurvePath{constructor(lt){super(),this.type="Path",this.currentPoint=new Vector2,lt&&this.setFromPoints(lt)}setFromPoints(lt){this.moveTo(lt[0].x,lt[0].y);for(let ft=1,vt=lt.length;ft<vt;ft++)this.lineTo(lt[ft].x,lt[ft].y);return this}moveTo(lt,ft){return this.currentPoint.set(lt,ft),this}lineTo(lt,ft){const vt=new LineCurve(this.currentPoint.clone(),new Vector2(lt,ft));return this.curves.push(vt),this.currentPoint.set(lt,ft),this}quadraticCurveTo(lt,ft,vt,St){const Et=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(lt,ft),new Vector2(vt,St));return this.curves.push(Et),this.currentPoint.set(vt,St),this}bezierCurveTo(lt,ft,vt,St,Et,At){const Ct=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(lt,ft),new Vector2(vt,St),new Vector2(Et,At));return this.curves.push(Ct),this.currentPoint.set(Et,At),this}splineThru(lt){const ft=[this.currentPoint.clone()].concat(lt),vt=new SplineCurve(ft);return this.curves.push(vt),this.currentPoint.copy(lt[lt.length-1]),this}arc(lt,ft,vt,St,Et,At){const Ct=this.currentPoint.x,Tt=this.currentPoint.y;return this.absarc(lt+Ct,ft+Tt,vt,St,Et,At),this}absarc(lt,ft,vt,St,Et,At){return this.absellipse(lt,ft,vt,vt,St,Et,At),this}ellipse(lt,ft,vt,St,Et,At,Ct,Tt){const Rt=this.currentPoint.x,Bt=this.currentPoint.y;return this.absellipse(lt+Rt,ft+Bt,vt,St,Et,At,Ct,Tt),this}absellipse(lt,ft,vt,St,Et,At,Ct,Tt){const Rt=new EllipseCurve(lt,ft,vt,St,Et,At,Ct,Tt);if(this.curves.length>0){const Ft=Rt.getPoint(0);Ft.equals(this.currentPoint)||this.lineTo(Ft.x,Ft.y)}this.curves.push(Rt);const Bt=Rt.getPoint(1);return this.currentPoint.copy(Bt),this}copy(lt){return super.copy(lt),this.currentPoint.copy(lt.currentPoint),this}toJSON(){const lt=super.toJSON();return lt.currentPoint=this.currentPoint.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.currentPoint.fromArray(lt.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(lt=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],ft=12,vt=0,St=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:lt,segments:ft,phiStart:vt,phiLength:St},ft=Math.floor(ft),St=clamp(St,0,Math.PI*2);const Et=[],At=[],Ct=[],Tt=[],Rt=[],Bt=1/ft,Ft=new Vector3,Dt=new Vector2,kt=new Vector3,zt=new Vector3,Ht=new Vector3;let en=0,Kt=0;for(let Zt=0;Zt<=lt.length-1;Zt++)switch(Zt){case 0:en=lt[Zt+1].x-lt[Zt].x,Kt=lt[Zt+1].y-lt[Zt].y,kt.x=Kt*1,kt.y=-en,kt.z=Kt*0,Ht.copy(kt),kt.normalize(),Tt.push(kt.x,kt.y,kt.z);break;case lt.length-1:Tt.push(Ht.x,Ht.y,Ht.z);break;default:en=lt[Zt+1].x-lt[Zt].x,Kt=lt[Zt+1].y-lt[Zt].y,kt.x=Kt*1,kt.y=-en,kt.z=Kt*0,zt.copy(kt),kt.x+=Ht.x,kt.y+=Ht.y,kt.z+=Ht.z,kt.normalize(),Tt.push(kt.x,kt.y,kt.z),Ht.copy(zt)}for(let Zt=0;Zt<=ft;Zt++){const Wt=vt+Zt*Bt*St,tn=Math.sin(Wt),an=Math.cos(Wt);for(let ln=0;ln<=lt.length-1;ln++){Ft.x=lt[ln].x*tn,Ft.y=lt[ln].y,Ft.z=lt[ln].x*an,At.push(Ft.x,Ft.y,Ft.z),Dt.x=Zt/ft,Dt.y=ln/(lt.length-1),Ct.push(Dt.x,Dt.y);const fn=Tt[3*ln+0]*tn,un=Tt[3*ln+1],pn=Tt[3*ln+0]*an;Rt.push(fn,un,pn)}}for(let Zt=0;Zt<ft;Zt++)for(let Wt=0;Wt<lt.length-1;Wt++){const tn=Wt+Zt*lt.length,an=tn,ln=tn+lt.length,fn=tn+lt.length+1,un=tn+1;Et.push(an,ln,un),Et.push(fn,un,ln)}this.setIndex(Et),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("uv",new Float32BufferAttribute(Ct,2)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3))}static fromJSON(lt){return new LatheGeometry(lt.points,lt.segments,lt.phiStart,lt.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(lt=1,ft=1,vt=4,St=8){const Et=new Path;Et.absarc(0,-ft/2,lt,Math.PI*1.5,0),Et.absarc(0,ft/2,lt,0,Math.PI*.5),super(Et.getPoints(vt),St),this.type="CapsuleGeometry",this.parameters={radius:lt,height:ft,capSegments:vt,radialSegments:St}}static fromJSON(lt){return new CapsuleGeometry(lt.radius,lt.length,lt.capSegments,lt.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(lt=1,ft=32,vt=0,St=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:lt,segments:ft,thetaStart:vt,thetaLength:St},ft=Math.max(3,ft);const Et=[],At=[],Ct=[],Tt=[],Rt=new Vector3,Bt=new Vector2;At.push(0,0,0),Ct.push(0,0,1),Tt.push(.5,.5);for(let Ft=0,Dt=3;Ft<=ft;Ft++,Dt+=3){const kt=vt+Ft/ft*St;Rt.x=lt*Math.cos(kt),Rt.y=lt*Math.sin(kt),At.push(Rt.x,Rt.y,Rt.z),Ct.push(0,0,1),Bt.x=(At[Dt]/lt+1)/2,Bt.y=(At[Dt+1]/lt+1)/2,Tt.push(Bt.x,Bt.y)}for(let Ft=1;Ft<=ft;Ft++)Et.push(Ft,Ft+1,0);this.setIndex(Et),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Ct,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}static fromJSON(lt){return new CircleGeometry(lt.radius,lt.segments,lt.thetaStart,lt.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(lt=1,ft=1,vt=1,St=32,Et=1,At=!1,Ct=0,Tt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:lt,radiusBottom:ft,height:vt,radialSegments:St,heightSegments:Et,openEnded:At,thetaStart:Ct,thetaLength:Tt};const Rt=this;St=Math.floor(St),Et=Math.floor(Et);const Bt=[],Ft=[],Dt=[],kt=[];let zt=0;const Ht=[],en=vt/2;let Kt=0;Zt(),At===!1&&(lt>0&&Wt(!0),ft>0&&Wt(!1)),this.setIndex(Bt),this.setAttribute("position",new Float32BufferAttribute(Ft,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute(kt,2));function Zt(){const tn=new Vector3,an=new Vector3;let ln=0;const fn=(ft-lt)/vt;for(let un=0;un<=Et;un++){const pn=[],xn=un/Et,An=xn*(ft-lt)+lt;for(let gn=0;gn<=St;gn++){const Ln=gn/St,Cn=Ln*Tt+Ct,En=Math.sin(Cn),yn=Math.cos(Cn);an.x=An*En,an.y=-xn*vt+en,an.z=An*yn,Ft.push(an.x,an.y,an.z),tn.set(En,fn,yn).normalize(),Dt.push(tn.x,tn.y,tn.z),kt.push(Ln,1-xn),pn.push(zt++)}Ht.push(pn)}for(let un=0;un<St;un++)for(let pn=0;pn<Et;pn++){const xn=Ht[pn][un],An=Ht[pn+1][un],gn=Ht[pn+1][un+1],Ln=Ht[pn][un+1];Bt.push(xn,An,Ln),Bt.push(An,gn,Ln),ln+=6}Rt.addGroup(Kt,ln,0),Kt+=ln}function Wt(tn){const an=zt,ln=new Vector2,fn=new Vector3;let un=0;const pn=tn===!0?lt:ft,xn=tn===!0?1:-1;for(let gn=1;gn<=St;gn++)Ft.push(0,en*xn,0),Dt.push(0,xn,0),kt.push(.5,.5),zt++;const An=zt;for(let gn=0;gn<=St;gn++){const Cn=gn/St*Tt+Ct,En=Math.cos(Cn),yn=Math.sin(Cn);fn.x=pn*yn,fn.y=en*xn,fn.z=pn*En,Ft.push(fn.x,fn.y,fn.z),Dt.push(0,xn,0),ln.x=En*.5+.5,ln.y=yn*.5*xn+.5,kt.push(ln.x,ln.y),zt++}for(let gn=0;gn<St;gn++){const Ln=an+gn,Cn=An+gn;tn===!0?Bt.push(Cn,Cn+1,Ln):Bt.push(Cn+1,Cn,Ln),un+=3}Rt.addGroup(Kt,un,tn===!0?1:2),Kt+=un}}static fromJSON(lt){return new CylinderGeometry(lt.radiusTop,lt.radiusBottom,lt.height,lt.radialSegments,lt.heightSegments,lt.openEnded,lt.thetaStart,lt.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(lt=1,ft=1,vt=32,St=1,Et=!1,At=0,Ct=Math.PI*2){super(0,lt,ft,vt,St,Et,At,Ct),this.type="ConeGeometry",this.parameters={radius:lt,height:ft,radialSegments:vt,heightSegments:St,openEnded:Et,thetaStart:At,thetaLength:Ct}}static fromJSON(lt){return new ConeGeometry(lt.radius,lt.height,lt.radialSegments,lt.heightSegments,lt.openEnded,lt.thetaStart,lt.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(lt=[],ft=[],vt=1,St=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:lt,indices:ft,radius:vt,detail:St};const Et=[],At=[];Ct(St),Rt(vt),Bt(),this.setAttribute("position",new Float32BufferAttribute(Et,3)),this.setAttribute("normal",new Float32BufferAttribute(Et.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(At,2)),St===0?this.computeVertexNormals():this.normalizeNormals();function Ct(Zt){const Wt=new Vector3,tn=new Vector3,an=new Vector3;for(let ln=0;ln<ft.length;ln+=3)kt(ft[ln+0],Wt),kt(ft[ln+1],tn),kt(ft[ln+2],an),Tt(Wt,tn,an,Zt)}function Tt(Zt,Wt,tn,an){const ln=an+1,fn=[];for(let un=0;un<=ln;un++){fn[un]=[];const pn=Zt.clone().lerp(tn,un/ln),xn=Wt.clone().lerp(tn,un/ln),An=ln-un;for(let gn=0;gn<=An;gn++)gn===0&&un===ln?fn[un][gn]=pn:fn[un][gn]=pn.clone().lerp(xn,gn/An)}for(let un=0;un<ln;un++)for(let pn=0;pn<2*(ln-un)-1;pn++){const xn=Math.floor(pn/2);pn%2===0?(Dt(fn[un][xn+1]),Dt(fn[un+1][xn]),Dt(fn[un][xn])):(Dt(fn[un][xn+1]),Dt(fn[un+1][xn+1]),Dt(fn[un+1][xn]))}}function Rt(Zt){const Wt=new Vector3;for(let tn=0;tn<Et.length;tn+=3)Wt.x=Et[tn+0],Wt.y=Et[tn+1],Wt.z=Et[tn+2],Wt.normalize().multiplyScalar(Zt),Et[tn+0]=Wt.x,Et[tn+1]=Wt.y,Et[tn+2]=Wt.z}function Bt(){const Zt=new Vector3;for(let Wt=0;Wt<Et.length;Wt+=3){Zt.x=Et[Wt+0],Zt.y=Et[Wt+1],Zt.z=Et[Wt+2];const tn=en(Zt)/2/Math.PI+.5,an=Kt(Zt)/Math.PI+.5;At.push(tn,1-an)}zt(),Ft()}function Ft(){for(let Zt=0;Zt<At.length;Zt+=6){const Wt=At[Zt+0],tn=At[Zt+2],an=At[Zt+4],ln=Math.max(Wt,tn,an),fn=Math.min(Wt,tn,an);ln>.9&&fn<.1&&(Wt<.2&&(At[Zt+0]+=1),tn<.2&&(At[Zt+2]+=1),an<.2&&(At[Zt+4]+=1))}}function Dt(Zt){Et.push(Zt.x,Zt.y,Zt.z)}function kt(Zt,Wt){const tn=Zt*3;Wt.x=lt[tn+0],Wt.y=lt[tn+1],Wt.z=lt[tn+2]}function zt(){const Zt=new Vector3,Wt=new Vector3,tn=new Vector3,an=new Vector3,ln=new Vector2,fn=new Vector2,un=new Vector2;for(let pn=0,xn=0;pn<Et.length;pn+=9,xn+=6){Zt.set(Et[pn+0],Et[pn+1],Et[pn+2]),Wt.set(Et[pn+3],Et[pn+4],Et[pn+5]),tn.set(Et[pn+6],Et[pn+7],Et[pn+8]),ln.set(At[xn+0],At[xn+1]),fn.set(At[xn+2],At[xn+3]),un.set(At[xn+4],At[xn+5]),an.copy(Zt).add(Wt).add(tn).divideScalar(3);const An=en(an);Ht(ln,xn+0,Zt,An),Ht(fn,xn+2,Wt,An),Ht(un,xn+4,tn,An)}}function Ht(Zt,Wt,tn,an){an<0&&Zt.x===1&&(At[Wt]=Zt.x-1),tn.x===0&&tn.z===0&&(At[Wt]=an/2/Math.PI+.5)}function en(Zt){return Math.atan2(Zt.z,-Zt.x)}function Kt(Zt){return Math.atan2(-Zt.y,Math.sqrt(Zt.x*Zt.x+Zt.z*Zt.z))}}static fromJSON(lt){return new PolyhedronGeometry(lt.vertices,lt.indices,lt.radius,lt.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ft=0){const vt=(1+Math.sqrt(5))/2,St=1/vt,Et=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-St,-vt,0,-St,vt,0,St,-vt,0,St,vt,-St,-vt,0,-St,vt,0,St,-vt,0,St,vt,0,-vt,0,-St,vt,0,-St,-vt,0,St,vt,0,St],At=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(Et,At,lt,ft),this.type="DodecahedronGeometry",this.parameters={radius:lt,detail:ft}}static fromJSON(lt){return new DodecahedronGeometry(lt.radius,lt.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(lt=null,ft=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:lt,thresholdAngle:ft},lt!==null){const St=Math.pow(10,4),Et=Math.cos(DEG2RAD*ft),At=lt.getIndex(),Ct=lt.getAttribute("position"),Tt=At?At.count:Ct.count,Rt=[0,0,0],Bt=["a","b","c"],Ft=new Array(3),Dt={},kt=[];for(let zt=0;zt<Tt;zt+=3){At?(Rt[0]=At.getX(zt),Rt[1]=At.getX(zt+1),Rt[2]=At.getX(zt+2)):(Rt[0]=zt,Rt[1]=zt+1,Rt[2]=zt+2);const{a:Ht,b:en,c:Kt}=_triangle;if(Ht.fromBufferAttribute(Ct,Rt[0]),en.fromBufferAttribute(Ct,Rt[1]),Kt.fromBufferAttribute(Ct,Rt[2]),_triangle.getNormal(_normal),Ft[0]=`${Math.round(Ht.x*St)},${Math.round(Ht.y*St)},${Math.round(Ht.z*St)}`,Ft[1]=`${Math.round(en.x*St)},${Math.round(en.y*St)},${Math.round(en.z*St)}`,Ft[2]=`${Math.round(Kt.x*St)},${Math.round(Kt.y*St)},${Math.round(Kt.z*St)}`,!(Ft[0]===Ft[1]||Ft[1]===Ft[2]||Ft[2]===Ft[0]))for(let Zt=0;Zt<3;Zt++){const Wt=(Zt+1)%3,tn=Ft[Zt],an=Ft[Wt],ln=_triangle[Bt[Zt]],fn=_triangle[Bt[Wt]],un=`${tn}_${an}`,pn=`${an}_${tn}`;pn in Dt&&Dt[pn]?(_normal.dot(Dt[pn].normal)<=Et&&(kt.push(ln.x,ln.y,ln.z),kt.push(fn.x,fn.y,fn.z)),Dt[pn]=null):un in Dt||(Dt[un]={index0:Rt[Zt],index1:Rt[Wt],normal:_normal.clone()})}}for(const zt in Dt)if(Dt[zt]){const{index0:Ht,index1:en}=Dt[zt];_v0.fromBufferAttribute(Ct,Ht),_v1$1.fromBufferAttribute(Ct,en),kt.push(_v0.x,_v0.y,_v0.z),kt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(kt,3))}}}class Shape extends Path{constructor(lt){super(lt),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(lt){const ft=[];for(let vt=0,St=this.holes.length;vt<St;vt++)ft[vt]=this.holes[vt].getPoints(lt);return ft}extractPoints(lt){return{shape:this.getPoints(lt),holes:this.getPointsHoles(lt)}}copy(lt){super.copy(lt),this.holes=[];for(let ft=0,vt=lt.holes.length;ft<vt;ft++){const St=lt.holes[ft];this.holes.push(St.clone())}return this}toJSON(){const lt=super.toJSON();lt.uuid=this.uuid,lt.holes=[];for(let ft=0,vt=this.holes.length;ft<vt;ft++){const St=this.holes[ft];lt.holes.push(St.toJSON())}return lt}fromJSON(lt){super.fromJSON(lt),this.uuid=lt.uuid,this.holes=[];for(let ft=0,vt=lt.holes.length;ft<vt;ft++){const St=lt.holes[ft];this.holes.push(new Path().fromJSON(St))}return this}}const Earcut={triangulate:function(dt,lt,ft=2){const vt=lt&&lt.length,St=vt?lt[0]*ft:dt.length;let Et=linkedList(dt,0,St,ft,!0);const At=[];if(!Et||Et.next===Et.prev)return At;let Ct,Tt,Rt,Bt,Ft,Dt,kt;if(vt&&(Et=eliminateHoles(dt,lt,Et,ft)),dt.length>80*ft){Ct=Rt=dt[0],Tt=Bt=dt[1];for(let zt=ft;zt<St;zt+=ft)Ft=dt[zt],Dt=dt[zt+1],Ft<Ct&&(Ct=Ft),Dt<Tt&&(Tt=Dt),Ft>Rt&&(Rt=Ft),Dt>Bt&&(Bt=Dt);kt=Math.max(Rt-Ct,Bt-Tt),kt=kt!==0?32767/kt:0}return earcutLinked(Et,At,ft,Ct,Tt,kt,0),At}};function linkedList(dt,lt,ft,vt,St){let Et,At;if(St===signedArea(dt,lt,ft,vt)>0)for(Et=lt;Et<ft;Et+=vt)At=insertNode(Et,dt[Et],dt[Et+1],At);else for(Et=ft-vt;Et>=lt;Et-=vt)At=insertNode(Et,dt[Et],dt[Et+1],At);return At&&equals(At,At.next)&&(removeNode(At),At=At.next),At}function filterPoints(dt,lt){if(!dt)return dt;lt||(lt=dt);let ft=dt,vt;do if(vt=!1,!ft.steiner&&(equals(ft,ft.next)||area(ft.prev,ft,ft.next)===0)){if(removeNode(ft),ft=lt=ft.prev,ft===ft.next)break;vt=!0}else ft=ft.next;while(vt||ft!==lt);return lt}function earcutLinked(dt,lt,ft,vt,St,Et,At){if(!dt)return;!At&&Et&&indexCurve(dt,vt,St,Et);let Ct=dt,Tt,Rt;for(;dt.prev!==dt.next;){if(Tt=dt.prev,Rt=dt.next,Et?isEarHashed(dt,vt,St,Et):isEar(dt)){lt.push(Tt.i/ft|0),lt.push(dt.i/ft|0),lt.push(Rt.i/ft|0),removeNode(dt),dt=Rt.next,Ct=Rt.next;continue}if(dt=Rt,dt===Ct){At?At===1?(dt=cureLocalIntersections(filterPoints(dt),lt,ft),earcutLinked(dt,lt,ft,vt,St,Et,2)):At===2&&splitEarcut(dt,lt,ft,vt,St,Et):earcutLinked(filterPoints(dt),lt,ft,vt,St,Et,1);break}}}function isEar(dt){const lt=dt.prev,ft=dt,vt=dt.next;if(area(lt,ft,vt)>=0)return!1;const St=lt.x,Et=ft.x,At=vt.x,Ct=lt.y,Tt=ft.y,Rt=vt.y,Bt=St<Et?St<At?St:At:Et<At?Et:At,Ft=Ct<Tt?Ct<Rt?Ct:Rt:Tt<Rt?Tt:Rt,Dt=St>Et?St>At?St:At:Et>At?Et:At,kt=Ct>Tt?Ct>Rt?Ct:Rt:Tt>Rt?Tt:Rt;let zt=vt.next;for(;zt!==lt;){if(zt.x>=Bt&&zt.x<=Dt&&zt.y>=Ft&&zt.y<=kt&&pointInTriangle(St,Ct,Et,Tt,At,Rt,zt.x,zt.y)&&area(zt.prev,zt,zt.next)>=0)return!1;zt=zt.next}return!0}function isEarHashed(dt,lt,ft,vt){const St=dt.prev,Et=dt,At=dt.next;if(area(St,Et,At)>=0)return!1;const Ct=St.x,Tt=Et.x,Rt=At.x,Bt=St.y,Ft=Et.y,Dt=At.y,kt=Ct<Tt?Ct<Rt?Ct:Rt:Tt<Rt?Tt:Rt,zt=Bt<Ft?Bt<Dt?Bt:Dt:Ft<Dt?Ft:Dt,Ht=Ct>Tt?Ct>Rt?Ct:Rt:Tt>Rt?Tt:Rt,en=Bt>Ft?Bt>Dt?Bt:Dt:Ft>Dt?Ft:Dt,Kt=zOrder(kt,zt,lt,ft,vt),Zt=zOrder(Ht,en,lt,ft,vt);let Wt=dt.prevZ,tn=dt.nextZ;for(;Wt&&Wt.z>=Kt&&tn&&tn.z<=Zt;){if(Wt.x>=kt&&Wt.x<=Ht&&Wt.y>=zt&&Wt.y<=en&&Wt!==St&&Wt!==At&&pointInTriangle(Ct,Bt,Tt,Ft,Rt,Dt,Wt.x,Wt.y)&&area(Wt.prev,Wt,Wt.next)>=0||(Wt=Wt.prevZ,tn.x>=kt&&tn.x<=Ht&&tn.y>=zt&&tn.y<=en&&tn!==St&&tn!==At&&pointInTriangle(Ct,Bt,Tt,Ft,Rt,Dt,tn.x,tn.y)&&area(tn.prev,tn,tn.next)>=0))return!1;tn=tn.nextZ}for(;Wt&&Wt.z>=Kt;){if(Wt.x>=kt&&Wt.x<=Ht&&Wt.y>=zt&&Wt.y<=en&&Wt!==St&&Wt!==At&&pointInTriangle(Ct,Bt,Tt,Ft,Rt,Dt,Wt.x,Wt.y)&&area(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.prevZ}for(;tn&&tn.z<=Zt;){if(tn.x>=kt&&tn.x<=Ht&&tn.y>=zt&&tn.y<=en&&tn!==St&&tn!==At&&pointInTriangle(Ct,Bt,Tt,Ft,Rt,Dt,tn.x,tn.y)&&area(tn.prev,tn,tn.next)>=0)return!1;tn=tn.nextZ}return!0}function cureLocalIntersections(dt,lt,ft){let vt=dt;do{const St=vt.prev,Et=vt.next.next;!equals(St,Et)&&intersects(St,vt,vt.next,Et)&&locallyInside(St,Et)&&locallyInside(Et,St)&&(lt.push(St.i/ft|0),lt.push(vt.i/ft|0),lt.push(Et.i/ft|0),removeNode(vt),removeNode(vt.next),vt=dt=Et),vt=vt.next}while(vt!==dt);return filterPoints(vt)}function splitEarcut(dt,lt,ft,vt,St,Et){let At=dt;do{let Ct=At.next.next;for(;Ct!==At.prev;){if(At.i!==Ct.i&&isValidDiagonal(At,Ct)){let Tt=splitPolygon(At,Ct);At=filterPoints(At,At.next),Tt=filterPoints(Tt,Tt.next),earcutLinked(At,lt,ft,vt,St,Et,0),earcutLinked(Tt,lt,ft,vt,St,Et,0);return}Ct=Ct.next}At=At.next}while(At!==dt)}function eliminateHoles(dt,lt,ft,vt){const St=[];let Et,At,Ct,Tt,Rt;for(Et=0,At=lt.length;Et<At;Et++)Ct=lt[Et]*vt,Tt=Et<At-1?lt[Et+1]*vt:dt.length,Rt=linkedList(dt,Ct,Tt,vt,!1),Rt===Rt.next&&(Rt.steiner=!0),St.push(getLeftmost(Rt));for(St.sort(compareX),Et=0;Et<St.length;Et++)ft=eliminateHole(St[Et],ft);return ft}function compareX(dt,lt){return dt.x-lt.x}function eliminateHole(dt,lt){const ft=findHoleBridge(dt,lt);if(!ft)return lt;const vt=splitPolygon(ft,dt);return filterPoints(vt,vt.next),filterPoints(ft,ft.next)}function findHoleBridge(dt,lt){let ft=lt,vt=-1/0,St;const Et=dt.x,At=dt.y;do{if(At<=ft.y&&At>=ft.next.y&&ft.next.y!==ft.y){const Dt=ft.x+(At-ft.y)*(ft.next.x-ft.x)/(ft.next.y-ft.y);if(Dt<=Et&&Dt>vt&&(vt=Dt,St=ft.x<ft.next.x?ft:ft.next,Dt===Et))return St}ft=ft.next}while(ft!==lt);if(!St)return null;const Ct=St,Tt=St.x,Rt=St.y;let Bt=1/0,Ft;ft=St;do Et>=ft.x&&ft.x>=Tt&&Et!==ft.x&&pointInTriangle(At<Rt?Et:vt,At,Tt,Rt,At<Rt?vt:Et,At,ft.x,ft.y)&&(Ft=Math.abs(At-ft.y)/(Et-ft.x),locallyInside(ft,dt)&&(Ft<Bt||Ft===Bt&&(ft.x>St.x||ft.x===St.x&&sectorContainsSector(St,ft)))&&(St=ft,Bt=Ft)),ft=ft.next;while(ft!==Ct);return St}function sectorContainsSector(dt,lt){return area(dt.prev,dt,lt.prev)<0&&area(lt.next,dt,dt.next)<0}function indexCurve(dt,lt,ft,vt){let St=dt;do St.z===0&&(St.z=zOrder(St.x,St.y,lt,ft,vt)),St.prevZ=St.prev,St.nextZ=St.next,St=St.next;while(St!==dt);St.prevZ.nextZ=null,St.prevZ=null,sortLinked(St)}function sortLinked(dt){let lt,ft,vt,St,Et,At,Ct,Tt,Rt=1;do{for(ft=dt,dt=null,Et=null,At=0;ft;){for(At++,vt=ft,Ct=0,lt=0;lt<Rt&&(Ct++,vt=vt.nextZ,!!vt);lt++);for(Tt=Rt;Ct>0||Tt>0&&vt;)Ct!==0&&(Tt===0||!vt||ft.z<=vt.z)?(St=ft,ft=ft.nextZ,Ct--):(St=vt,vt=vt.nextZ,Tt--),Et?Et.nextZ=St:dt=St,St.prevZ=Et,Et=St;ft=vt}Et.nextZ=null,Rt*=2}while(At>1);return dt}function zOrder(dt,lt,ft,vt,St){return dt=(dt-ft)*St|0,lt=(lt-vt)*St|0,dt=(dt|dt<<8)&16711935,dt=(dt|dt<<4)&252645135,dt=(dt|dt<<2)&858993459,dt=(dt|dt<<1)&1431655765,lt=(lt|lt<<8)&16711935,lt=(lt|lt<<4)&252645135,lt=(lt|lt<<2)&858993459,lt=(lt|lt<<1)&1431655765,dt|lt<<1}function getLeftmost(dt){let lt=dt,ft=dt;do(lt.x<ft.x||lt.x===ft.x&&lt.y<ft.y)&&(ft=lt),lt=lt.next;while(lt!==dt);return ft}function pointInTriangle(dt,lt,ft,vt,St,Et,At,Ct){return(St-At)*(lt-Ct)>=(dt-At)*(Et-Ct)&&(dt-At)*(vt-Ct)>=(ft-At)*(lt-Ct)&&(ft-At)*(Et-Ct)>=(St-At)*(vt-Ct)}function isValidDiagonal(dt,lt){return dt.next.i!==lt.i&&dt.prev.i!==lt.i&&!intersectsPolygon(dt,lt)&&(locallyInside(dt,lt)&&locallyInside(lt,dt)&&middleInside(dt,lt)&&(area(dt.prev,dt,lt.prev)||area(dt,lt.prev,lt))||equals(dt,lt)&&area(dt.prev,dt,dt.next)>0&&area(lt.prev,lt,lt.next)>0)}function area(dt,lt,ft){return(lt.y-dt.y)*(ft.x-lt.x)-(lt.x-dt.x)*(ft.y-lt.y)}function equals(dt,lt){return dt.x===lt.x&&dt.y===lt.y}function intersects(dt,lt,ft,vt){const St=sign(area(dt,lt,ft)),Et=sign(area(dt,lt,vt)),At=sign(area(ft,vt,dt)),Ct=sign(area(ft,vt,lt));return!!(St!==Et&&At!==Ct||St===0&&onSegment(dt,ft,lt)||Et===0&&onSegment(dt,vt,lt)||At===0&&onSegment(ft,dt,vt)||Ct===0&&onSegment(ft,lt,vt))}function onSegment(dt,lt,ft){return lt.x<=Math.max(dt.x,ft.x)&&lt.x>=Math.min(dt.x,ft.x)&&lt.y<=Math.max(dt.y,ft.y)&&lt.y>=Math.min(dt.y,ft.y)}function sign(dt){return dt>0?1:dt<0?-1:0}function intersectsPolygon(dt,lt){let ft=dt;do{if(ft.i!==dt.i&&ft.next.i!==dt.i&&ft.i!==lt.i&&ft.next.i!==lt.i&&intersects(ft,ft.next,dt,lt))return!0;ft=ft.next}while(ft!==dt);return!1}function locallyInside(dt,lt){return area(dt.prev,dt,dt.next)<0?area(dt,lt,dt.next)>=0&&area(dt,dt.prev,lt)>=0:area(dt,lt,dt.prev)<0||area(dt,dt.next,lt)<0}function middleInside(dt,lt){let ft=dt,vt=!1;const St=(dt.x+lt.x)/2,Et=(dt.y+lt.y)/2;do ft.y>Et!=ft.next.y>Et&&ft.next.y!==ft.y&&St<(ft.next.x-ft.x)*(Et-ft.y)/(ft.next.y-ft.y)+ft.x&&(vt=!vt),ft=ft.next;while(ft!==dt);return vt}function splitPolygon(dt,lt){const ft=new Node(dt.i,dt.x,dt.y),vt=new Node(lt.i,lt.x,lt.y),St=dt.next,Et=lt.prev;return dt.next=lt,lt.prev=dt,ft.next=St,St.prev=ft,vt.next=ft,ft.prev=vt,Et.next=vt,vt.prev=Et,vt}function insertNode(dt,lt,ft,vt){const St=new Node(dt,lt,ft);return vt?(St.next=vt.next,St.prev=vt,vt.next.prev=St,vt.next=St):(St.prev=St,St.next=St),St}function removeNode(dt){dt.next.prev=dt.prev,dt.prev.next=dt.next,dt.prevZ&&(dt.prevZ.nextZ=dt.nextZ),dt.nextZ&&(dt.nextZ.prevZ=dt.prevZ)}function Node(dt,lt,ft){this.i=dt,this.x=lt,this.y=ft,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(dt,lt,ft,vt){let St=0;for(let Et=lt,At=ft-vt;Et<ft;Et+=vt)St+=(dt[At]-dt[Et])*(dt[Et+1]+dt[At+1]),At=Et;return St}class ShapeUtils{static area(lt){const ft=lt.length;let vt=0;for(let St=ft-1,Et=0;Et<ft;St=Et++)vt+=lt[St].x*lt[Et].y-lt[Et].x*lt[St].y;return vt*.5}static isClockWise(lt){return ShapeUtils.area(lt)<0}static triangulateShape(lt,ft){const vt=[],St=[],Et=[];removeDupEndPts(lt),addContour(vt,lt);let At=lt.length;ft.forEach(removeDupEndPts);for(let Tt=0;Tt<ft.length;Tt++)St.push(At),At+=ft[Tt].length,addContour(vt,ft[Tt]);const Ct=Earcut.triangulate(vt,St);for(let Tt=0;Tt<Ct.length;Tt+=3)Et.push(Ct.slice(Tt,Tt+3));return Et}}function removeDupEndPts(dt){const lt=dt.length;lt>2&&dt[lt-1].equals(dt[0])&&dt.pop()}function addContour(dt,lt){for(let ft=0;ft<lt.length;ft++)dt.push(lt[ft].x),dt.push(lt[ft].y)}class ExtrudeGeometry extends BufferGeometry{constructor(lt=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),ft={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:lt,options:ft},lt=Array.isArray(lt)?lt:[lt];const vt=this,St=[],Et=[];for(let Ct=0,Tt=lt.length;Ct<Tt;Ct++){const Rt=lt[Ct];At(Rt)}this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Et,2)),this.computeVertexNormals();function At(Ct){const Tt=[],Rt=ft.curveSegments!==void 0?ft.curveSegments:12,Bt=ft.steps!==void 0?ft.steps:1,Ft=ft.depth!==void 0?ft.depth:1;let Dt=ft.bevelEnabled!==void 0?ft.bevelEnabled:!0,kt=ft.bevelThickness!==void 0?ft.bevelThickness:.2,zt=ft.bevelSize!==void 0?ft.bevelSize:kt-.1,Ht=ft.bevelOffset!==void 0?ft.bevelOffset:0,en=ft.bevelSegments!==void 0?ft.bevelSegments:3;const Kt=ft.extrudePath,Zt=ft.UVGenerator!==void 0?ft.UVGenerator:WorldUVGenerator;let Wt,tn=!1,an,ln,fn,un;Kt&&(Wt=Kt.getSpacedPoints(Bt),tn=!0,Dt=!1,an=Kt.computeFrenetFrames(Bt,!1),ln=new Vector3,fn=new Vector3,un=new Vector3),Dt||(en=0,kt=0,zt=0,Ht=0);const pn=Ct.extractPoints(Rt);let xn=pn.shape;const An=pn.holes;if(!ShapeUtils.isClockWise(xn)){xn=xn.reverse();for(let Dn=0,jn=An.length;Dn<jn;Dn++){const Qn=An[Dn];ShapeUtils.isClockWise(Qn)&&(An[Dn]=Qn.reverse())}}const Ln=ShapeUtils.triangulateShape(xn,An),Cn=xn;for(let Dn=0,jn=An.length;Dn<jn;Dn++){const Qn=An[Dn];xn=xn.concat(Qn)}function En(Dn,jn,Qn){return jn||console.error("THREE.ExtrudeGeometry: vec does not exist"),jn.clone().multiplyScalar(Qn).add(Dn)}const yn=xn.length,Rn=Ln.length;function hn(Dn,jn,Qn){let ir,hr,Pr;const tr=Dn.x-jn.x,xr=Dn.y-jn.y,Tr=Qn.x-Dn.x,mr=Qn.y-Dn.y,On=tr*tr+xr*xr,Bn=tr*mr-xr*Tr;if(Math.abs(Bn)>Number.EPSILON){const Yn=Math.sqrt(On),ur=Math.sqrt(Tr*Tr+mr*mr),Cr=jn.x-xr/Yn,Ar=jn.y+tr/Yn,Fr=Qn.x-mr/ur,Br=Qn.y+Tr/ur,pr=((Fr-Cr)*mr-(Br-Ar)*Tr)/(tr*mr-xr*Tr);ir=Cr+tr*pr-Dn.x,hr=Ar+xr*pr-Dn.y;const kr=ir*ir+hr*hr;if(kr<=2)return new Vector2(ir,hr);Pr=Math.sqrt(kr/2)}else{let Yn=!1;tr>Number.EPSILON?Tr>Number.EPSILON&&(Yn=!0):tr<-Number.EPSILON?Tr<-Number.EPSILON&&(Yn=!0):Math.sign(xr)===Math.sign(mr)&&(Yn=!0),Yn?(ir=-xr,hr=tr,Pr=Math.sqrt(On)):(ir=tr,hr=xr,Pr=Math.sqrt(On/2))}return new Vector2(ir/Pr,hr/Pr)}const mn=[];for(let Dn=0,jn=Cn.length,Qn=jn-1,ir=Dn+1;Dn<jn;Dn++,Qn++,ir++)Qn===jn&&(Qn=0),ir===jn&&(ir=0),mn[Dn]=hn(Cn[Dn],Cn[Qn],Cn[ir]);const bn=[];let Mn,Tn=mn.concat();for(let Dn=0,jn=An.length;Dn<jn;Dn++){const Qn=An[Dn];Mn=[];for(let ir=0,hr=Qn.length,Pr=hr-1,tr=ir+1;ir<hr;ir++,Pr++,tr++)Pr===hr&&(Pr=0),tr===hr&&(tr=0),Mn[ir]=hn(Qn[ir],Qn[Pr],Qn[tr]);bn.push(Mn),Tn=Tn.concat(Mn)}for(let Dn=0;Dn<en;Dn++){const jn=Dn/en,Qn=kt*Math.cos(jn*Math.PI/2),ir=zt*Math.sin(jn*Math.PI/2)+Ht;for(let hr=0,Pr=Cn.length;hr<Pr;hr++){const tr=En(Cn[hr],mn[hr],ir);Zn(tr.x,tr.y,-Qn)}for(let hr=0,Pr=An.length;hr<Pr;hr++){const tr=An[hr];Mn=bn[hr];for(let xr=0,Tr=tr.length;xr<Tr;xr++){const mr=En(tr[xr],Mn[xr],ir);Zn(mr.x,mr.y,-Qn)}}}const In=zt+Ht;for(let Dn=0;Dn<yn;Dn++){const jn=Dt?En(xn[Dn],Tn[Dn],In):xn[Dn];tn?(fn.copy(an.normals[0]).multiplyScalar(jn.x),ln.copy(an.binormals[0]).multiplyScalar(jn.y),un.copy(Wt[0]).add(fn).add(ln),Zn(un.x,un.y,un.z)):Zn(jn.x,jn.y,0)}for(let Dn=1;Dn<=Bt;Dn++)for(let jn=0;jn<yn;jn++){const Qn=Dt?En(xn[jn],Tn[jn],In):xn[jn];tn?(fn.copy(an.normals[Dn]).multiplyScalar(Qn.x),ln.copy(an.binormals[Dn]).multiplyScalar(Qn.y),un.copy(Wt[Dn]).add(fn).add(ln),Zn(un.x,un.y,un.z)):Zn(Qn.x,Qn.y,Ft/Bt*Dn)}for(let Dn=en-1;Dn>=0;Dn--){const jn=Dn/en,Qn=kt*Math.cos(jn*Math.PI/2),ir=zt*Math.sin(jn*Math.PI/2)+Ht;for(let hr=0,Pr=Cn.length;hr<Pr;hr++){const tr=En(Cn[hr],mn[hr],ir);Zn(tr.x,tr.y,Ft+Qn)}for(let hr=0,Pr=An.length;hr<Pr;hr++){const tr=An[hr];Mn=bn[hr];for(let xr=0,Tr=tr.length;xr<Tr;xr++){const mr=En(tr[xr],Mn[xr],ir);tn?Zn(mr.x,mr.y+Wt[Bt-1].y,Wt[Bt-1].x+Qn):Zn(mr.x,mr.y,Ft+Qn)}}}Nn(),$n();function Nn(){const Dn=St.length/3;if(Dt){let jn=0,Qn=yn*jn;for(let ir=0;ir<Rn;ir++){const hr=Ln[ir];Un(hr[2]+Qn,hr[1]+Qn,hr[0]+Qn)}jn=Bt+en*2,Qn=yn*jn;for(let ir=0;ir<Rn;ir++){const hr=Ln[ir];Un(hr[0]+Qn,hr[1]+Qn,hr[2]+Qn)}}else{for(let jn=0;jn<Rn;jn++){const Qn=Ln[jn];Un(Qn[2],Qn[1],Qn[0])}for(let jn=0;jn<Rn;jn++){const Qn=Ln[jn];Un(Qn[0]+yn*Bt,Qn[1]+yn*Bt,Qn[2]+yn*Bt)}}vt.addGroup(Dn,St.length/3-Dn,0)}function $n(){const Dn=St.length/3;let jn=0;Gn(Cn,jn),jn+=Cn.length;for(let Qn=0,ir=An.length;Qn<ir;Qn++){const hr=An[Qn];Gn(hr,jn),jn+=hr.length}vt.addGroup(Dn,St.length/3-Dn,1)}function Gn(Dn,jn){let Qn=Dn.length;for(;--Qn>=0;){const ir=Qn;let hr=Qn-1;hr<0&&(hr=Dn.length-1);for(let Pr=0,tr=Bt+en*2;Pr<tr;Pr++){const xr=yn*Pr,Tr=yn*(Pr+1),mr=jn+ir+xr,On=jn+hr+xr,Bn=jn+hr+Tr,Yn=jn+ir+Tr;Xn(mr,On,Bn,Yn)}}}function Zn(Dn,jn,Qn){Tt.push(Dn),Tt.push(jn),Tt.push(Qn)}function Un(Dn,jn,Qn){Vn(Dn),Vn(jn),Vn(Qn);const ir=St.length/3,hr=Zt.generateTopUV(vt,St,ir-3,ir-2,ir-1);Wn(hr[0]),Wn(hr[1]),Wn(hr[2])}function Xn(Dn,jn,Qn,ir){Vn(Dn),Vn(jn),Vn(ir),Vn(jn),Vn(Qn),Vn(ir);const hr=St.length/3,Pr=Zt.generateSideWallUV(vt,St,hr-6,hr-3,hr-2,hr-1);Wn(Pr[0]),Wn(Pr[1]),Wn(Pr[3]),Wn(Pr[1]),Wn(Pr[2]),Wn(Pr[3])}function Vn(Dn){St.push(Tt[Dn*3+0]),St.push(Tt[Dn*3+1]),St.push(Tt[Dn*3+2])}function Wn(Dn){Et.push(Dn.x),Et.push(Dn.y)}}}toJSON(){const lt=super.toJSON(),ft=this.parameters.shapes,vt=this.parameters.options;return toJSON$1(ft,vt,lt)}static fromJSON(lt,ft){const vt=[];for(let Et=0,At=lt.shapes.length;Et<At;Et++){const Ct=ft[lt.shapes[Et]];vt.push(Ct)}const St=lt.options.extrudePath;return St!==void 0&&(lt.options.extrudePath=new Curves[St.type]().fromJSON(St)),new ExtrudeGeometry(vt,lt.options)}}const WorldUVGenerator={generateTopUV:function(dt,lt,ft,vt,St){const Et=lt[ft*3],At=lt[ft*3+1],Ct=lt[vt*3],Tt=lt[vt*3+1],Rt=lt[St*3],Bt=lt[St*3+1];return[new Vector2(Et,At),new Vector2(Ct,Tt),new Vector2(Rt,Bt)]},generateSideWallUV:function(dt,lt,ft,vt,St,Et){const At=lt[ft*3],Ct=lt[ft*3+1],Tt=lt[ft*3+2],Rt=lt[vt*3],Bt=lt[vt*3+1],Ft=lt[vt*3+2],Dt=lt[St*3],kt=lt[St*3+1],zt=lt[St*3+2],Ht=lt[Et*3],en=lt[Et*3+1],Kt=lt[Et*3+2];return Math.abs(Ct-Bt)<Math.abs(At-Rt)?[new Vector2(At,1-Tt),new Vector2(Rt,1-Ft),new Vector2(Dt,1-zt),new Vector2(Ht,1-Kt)]:[new Vector2(Ct,1-Tt),new Vector2(Bt,1-Ft),new Vector2(kt,1-zt),new Vector2(en,1-Kt)]}};function toJSON$1(dt,lt,ft){if(ft.shapes=[],Array.isArray(dt))for(let vt=0,St=dt.length;vt<St;vt++){const Et=dt[vt];ft.shapes.push(Et.uuid)}else ft.shapes.push(dt.uuid);return ft.options=Object.assign({},lt),lt.extrudePath!==void 0&&(ft.options.extrudePath=lt.extrudePath.toJSON()),ft}class IcosahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ft=0){const vt=(1+Math.sqrt(5))/2,St=[-1,vt,0,1,vt,0,-1,-vt,0,1,-vt,0,0,-1,vt,0,1,vt,0,-1,-vt,0,1,-vt,vt,0,-1,vt,0,1,-vt,0,-1,-vt,0,1],Et=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(St,Et,lt,ft),this.type="IcosahedronGeometry",this.parameters={radius:lt,detail:ft}}static fromJSON(lt){return new IcosahedronGeometry(lt.radius,lt.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ft=0){const vt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],St=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(vt,St,lt,ft),this.type="OctahedronGeometry",this.parameters={radius:lt,detail:ft}}static fromJSON(lt){return new OctahedronGeometry(lt.radius,lt.detail)}}class RingGeometry extends BufferGeometry{constructor(lt=.5,ft=1,vt=32,St=1,Et=0,At=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:lt,outerRadius:ft,thetaSegments:vt,phiSegments:St,thetaStart:Et,thetaLength:At},vt=Math.max(3,vt),St=Math.max(1,St);const Ct=[],Tt=[],Rt=[],Bt=[];let Ft=lt;const Dt=(ft-lt)/St,kt=new Vector3,zt=new Vector2;for(let Ht=0;Ht<=St;Ht++){for(let en=0;en<=vt;en++){const Kt=Et+en/vt*At;kt.x=Ft*Math.cos(Kt),kt.y=Ft*Math.sin(Kt),Tt.push(kt.x,kt.y,kt.z),Rt.push(0,0,1),zt.x=(kt.x/ft+1)/2,zt.y=(kt.y/ft+1)/2,Bt.push(zt.x,zt.y)}Ft+=Dt}for(let Ht=0;Ht<St;Ht++){const en=Ht*(vt+1);for(let Kt=0;Kt<vt;Kt++){const Zt=Kt+en,Wt=Zt,tn=Zt+vt+1,an=Zt+vt+2,ln=Zt+1;Ct.push(Wt,tn,ln),Ct.push(tn,an,ln)}}this.setIndex(Ct),this.setAttribute("position",new Float32BufferAttribute(Tt,3)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3)),this.setAttribute("uv",new Float32BufferAttribute(Bt,2))}static fromJSON(lt){return new RingGeometry(lt.innerRadius,lt.outerRadius,lt.thetaSegments,lt.phiSegments,lt.thetaStart,lt.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(lt=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),ft=12){super(),this.type="ShapeGeometry",this.parameters={shapes:lt,curveSegments:ft};const vt=[],St=[],Et=[],At=[];let Ct=0,Tt=0;if(Array.isArray(lt)===!1)Rt(lt);else for(let Bt=0;Bt<lt.length;Bt++)Rt(lt[Bt]),this.addGroup(Ct,Tt,Bt),Ct+=Tt,Tt=0;this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("normal",new Float32BufferAttribute(Et,3)),this.setAttribute("uv",new Float32BufferAttribute(At,2));function Rt(Bt){const Ft=St.length/3,Dt=Bt.extractPoints(ft);let kt=Dt.shape;const zt=Dt.holes;ShapeUtils.isClockWise(kt)===!1&&(kt=kt.reverse());for(let en=0,Kt=zt.length;en<Kt;en++){const Zt=zt[en];ShapeUtils.isClockWise(Zt)===!0&&(zt[en]=Zt.reverse())}const Ht=ShapeUtils.triangulateShape(kt,zt);for(let en=0,Kt=zt.length;en<Kt;en++){const Zt=zt[en];kt=kt.concat(Zt)}for(let en=0,Kt=kt.length;en<Kt;en++){const Zt=kt[en];St.push(Zt.x,Zt.y,0),Et.push(0,0,1),At.push(Zt.x,Zt.y)}for(let en=0,Kt=Ht.length;en<Kt;en++){const Zt=Ht[en],Wt=Zt[0]+Ft,tn=Zt[1]+Ft,an=Zt[2]+Ft;vt.push(Wt,tn,an),Tt+=3}}}toJSON(){const lt=super.toJSON(),ft=this.parameters.shapes;return toJSON(ft,lt)}static fromJSON(lt,ft){const vt=[];for(let St=0,Et=lt.shapes.length;St<Et;St++){const At=ft[lt.shapes[St]];vt.push(At)}return new ShapeGeometry(vt,lt.curveSegments)}}function toJSON(dt,lt){if(lt.shapes=[],Array.isArray(dt))for(let ft=0,vt=dt.length;ft<vt;ft++){const St=dt[ft];lt.shapes.push(St.uuid)}else lt.shapes.push(dt.uuid);return lt}class SphereGeometry extends BufferGeometry{constructor(lt=1,ft=32,vt=16,St=0,Et=Math.PI*2,At=0,Ct=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:lt,widthSegments:ft,heightSegments:vt,phiStart:St,phiLength:Et,thetaStart:At,thetaLength:Ct},ft=Math.max(3,Math.floor(ft)),vt=Math.max(2,Math.floor(vt));const Tt=Math.min(At+Ct,Math.PI);let Rt=0;const Bt=[],Ft=new Vector3,Dt=new Vector3,kt=[],zt=[],Ht=[],en=[];for(let Kt=0;Kt<=vt;Kt++){const Zt=[],Wt=Kt/vt;let tn=0;Kt==0&&At==0?tn=.5/ft:Kt==vt&&Tt==Math.PI&&(tn=-.5/ft);for(let an=0;an<=ft;an++){const ln=an/ft;Ft.x=-lt*Math.cos(St+ln*Et)*Math.sin(At+Wt*Ct),Ft.y=lt*Math.cos(At+Wt*Ct),Ft.z=lt*Math.sin(St+ln*Et)*Math.sin(At+Wt*Ct),zt.push(Ft.x,Ft.y,Ft.z),Dt.copy(Ft).normalize(),Ht.push(Dt.x,Dt.y,Dt.z),en.push(ln+tn,1-Wt),Zt.push(Rt++)}Bt.push(Zt)}for(let Kt=0;Kt<vt;Kt++)for(let Zt=0;Zt<ft;Zt++){const Wt=Bt[Kt][Zt+1],tn=Bt[Kt][Zt],an=Bt[Kt+1][Zt],ln=Bt[Kt+1][Zt+1];(Kt!==0||At>0)&&kt.push(Wt,tn,ln),(Kt!==vt-1||Tt<Math.PI)&&kt.push(tn,an,ln)}this.setIndex(kt),this.setAttribute("position",new Float32BufferAttribute(zt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ht,3)),this.setAttribute("uv",new Float32BufferAttribute(en,2))}static fromJSON(lt){return new SphereGeometry(lt.radius,lt.widthSegments,lt.heightSegments,lt.phiStart,lt.phiLength,lt.thetaStart,lt.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ft=0){const vt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],St=[2,1,0,0,3,2,1,3,0,2,3,1];super(vt,St,lt,ft),this.type="TetrahedronGeometry",this.parameters={radius:lt,detail:ft}}static fromJSON(lt){return new TetrahedronGeometry(lt.radius,lt.detail)}}class TorusGeometry extends BufferGeometry{constructor(lt=1,ft=.4,vt=12,St=48,Et=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:lt,tube:ft,radialSegments:vt,tubularSegments:St,arc:Et},vt=Math.floor(vt),St=Math.floor(St);const At=[],Ct=[],Tt=[],Rt=[],Bt=new Vector3,Ft=new Vector3,Dt=new Vector3;for(let kt=0;kt<=vt;kt++)for(let zt=0;zt<=St;zt++){const Ht=zt/St*Et,en=kt/vt*Math.PI*2;Ft.x=(lt+ft*Math.cos(en))*Math.cos(Ht),Ft.y=(lt+ft*Math.cos(en))*Math.sin(Ht),Ft.z=ft*Math.sin(en),Ct.push(Ft.x,Ft.y,Ft.z),Bt.x=lt*Math.cos(Ht),Bt.y=lt*Math.sin(Ht),Dt.subVectors(Ft,Bt).normalize(),Tt.push(Dt.x,Dt.y,Dt.z),Rt.push(zt/St),Rt.push(kt/vt)}for(let kt=1;kt<=vt;kt++)for(let zt=1;zt<=St;zt++){const Ht=(St+1)*kt+zt-1,en=(St+1)*(kt-1)+zt-1,Kt=(St+1)*(kt-1)+zt,Zt=(St+1)*kt+zt;At.push(Ht,en,Zt),At.push(en,Kt,Zt)}this.setIndex(At),this.setAttribute("position",new Float32BufferAttribute(Ct,3)),this.setAttribute("normal",new Float32BufferAttribute(Tt,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2))}static fromJSON(lt){return new TorusGeometry(lt.radius,lt.tube,lt.radialSegments,lt.tubularSegments,lt.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(lt=1,ft=.4,vt=64,St=8,Et=2,At=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:lt,tube:ft,tubularSegments:vt,radialSegments:St,p:Et,q:At},vt=Math.floor(vt),St=Math.floor(St);const Ct=[],Tt=[],Rt=[],Bt=[],Ft=new Vector3,Dt=new Vector3,kt=new Vector3,zt=new Vector3,Ht=new Vector3,en=new Vector3,Kt=new Vector3;for(let Wt=0;Wt<=vt;++Wt){const tn=Wt/vt*Et*Math.PI*2;Zt(tn,Et,At,lt,kt),Zt(tn+.01,Et,At,lt,zt),en.subVectors(zt,kt),Kt.addVectors(zt,kt),Ht.crossVectors(en,Kt),Kt.crossVectors(Ht,en),Ht.normalize(),Kt.normalize();for(let an=0;an<=St;++an){const ln=an/St*Math.PI*2,fn=-ft*Math.cos(ln),un=ft*Math.sin(ln);Ft.x=kt.x+(fn*Kt.x+un*Ht.x),Ft.y=kt.y+(fn*Kt.y+un*Ht.y),Ft.z=kt.z+(fn*Kt.z+un*Ht.z),Tt.push(Ft.x,Ft.y,Ft.z),Dt.subVectors(Ft,kt).normalize(),Rt.push(Dt.x,Dt.y,Dt.z),Bt.push(Wt/vt),Bt.push(an/St)}}for(let Wt=1;Wt<=vt;Wt++)for(let tn=1;tn<=St;tn++){const an=(St+1)*(Wt-1)+(tn-1),ln=(St+1)*Wt+(tn-1),fn=(St+1)*Wt+tn,un=(St+1)*(Wt-1)+tn;Ct.push(an,ln,un),Ct.push(ln,fn,un)}this.setIndex(Ct),this.setAttribute("position",new Float32BufferAttribute(Tt,3)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3)),this.setAttribute("uv",new Float32BufferAttribute(Bt,2));function Zt(Wt,tn,an,ln,fn){const un=Math.cos(Wt),pn=Math.sin(Wt),xn=an/tn*Wt,An=Math.cos(xn);fn.x=ln*(2+An)*.5*un,fn.y=ln*(2+An)*pn*.5,fn.z=ln*Math.sin(xn)*.5}}static fromJSON(lt){return new TorusKnotGeometry(lt.radius,lt.tube,lt.tubularSegments,lt.radialSegments,lt.p,lt.q)}}class TubeGeometry extends BufferGeometry{constructor(lt=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),ft=64,vt=1,St=8,Et=!1){super(),this.type="TubeGeometry",this.parameters={path:lt,tubularSegments:ft,radius:vt,radialSegments:St,closed:Et};const At=lt.computeFrenetFrames(ft,Et);this.tangents=At.tangents,this.normals=At.normals,this.binormals=At.binormals;const Ct=new Vector3,Tt=new Vector3,Rt=new Vector2;let Bt=new Vector3;const Ft=[],Dt=[],kt=[],zt=[];Ht(),this.setIndex(zt),this.setAttribute("position",new Float32BufferAttribute(Ft,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute(kt,2));function Ht(){for(let Wt=0;Wt<ft;Wt++)en(Wt);en(Et===!1?ft:0),Zt(),Kt()}function en(Wt){Bt=lt.getPointAt(Wt/ft,Bt);const tn=At.normals[Wt],an=At.binormals[Wt];for(let ln=0;ln<=St;ln++){const fn=ln/St*Math.PI*2,un=Math.sin(fn),pn=-Math.cos(fn);Tt.x=pn*tn.x+un*an.x,Tt.y=pn*tn.y+un*an.y,Tt.z=pn*tn.z+un*an.z,Tt.normalize(),Dt.push(Tt.x,Tt.y,Tt.z),Ct.x=Bt.x+vt*Tt.x,Ct.y=Bt.y+vt*Tt.y,Ct.z=Bt.z+vt*Tt.z,Ft.push(Ct.x,Ct.y,Ct.z)}}function Kt(){for(let Wt=1;Wt<=ft;Wt++)for(let tn=1;tn<=St;tn++){const an=(St+1)*(Wt-1)+(tn-1),ln=(St+1)*Wt+(tn-1),fn=(St+1)*Wt+tn,un=(St+1)*(Wt-1)+tn;zt.push(an,ln,un),zt.push(ln,fn,un)}}function Zt(){for(let Wt=0;Wt<=ft;Wt++)for(let tn=0;tn<=St;tn++)Rt.x=Wt/ft,Rt.y=tn/St,kt.push(Rt.x,Rt.y)}}toJSON(){const lt=super.toJSON();return lt.path=this.parameters.path.toJSON(),lt}static fromJSON(lt){return new TubeGeometry(new Curves[lt.path.type]().fromJSON(lt.path),lt.tubularSegments,lt.radius,lt.radialSegments,lt.closed)}}class WireframeGeometry extends BufferGeometry{constructor(lt=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:lt},lt!==null){const ft=[],vt=new Set,St=new Vector3,Et=new Vector3;if(lt.index!==null){const At=lt.attributes.position,Ct=lt.index;let Tt=lt.groups;Tt.length===0&&(Tt=[{start:0,count:Ct.count,materialIndex:0}]);for(let Rt=0,Bt=Tt.length;Rt<Bt;++Rt){const Ft=Tt[Rt],Dt=Ft.start,kt=Ft.count;for(let zt=Dt,Ht=Dt+kt;zt<Ht;zt+=3)for(let en=0;en<3;en++){const Kt=Ct.getX(zt+en),Zt=Ct.getX(zt+(en+1)%3);St.fromBufferAttribute(At,Kt),Et.fromBufferAttribute(At,Zt),isUniqueEdge(St,Et,vt)===!0&&(ft.push(St.x,St.y,St.z),ft.push(Et.x,Et.y,Et.z))}}}else{const At=lt.attributes.position;for(let Ct=0,Tt=At.count/3;Ct<Tt;Ct++)for(let Rt=0;Rt<3;Rt++){const Bt=3*Ct+Rt,Ft=3*Ct+(Rt+1)%3;St.fromBufferAttribute(At,Bt),Et.fromBufferAttribute(At,Ft),isUniqueEdge(St,Et,vt)===!0&&(ft.push(St.x,St.y,St.z),ft.push(Et.x,Et.y,Et.z))}}this.setAttribute("position",new Float32BufferAttribute(ft,3))}}}function isUniqueEdge(dt,lt,ft){const vt=`${dt.x},${dt.y},${dt.z}-${lt.x},${lt.y},${lt.z}`,St=`${lt.x},${lt.y},${lt.z}-${dt.x},${dt.y},${dt.z}`;return ft.has(vt)===!0||ft.has(St)===!0?!1:(ft.add(vt),ft.add(St),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(lt){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.fog=lt.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(lt){super(lt),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(lt){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.defines={STANDARD:""},this.color.copy(lt.color),this.roughness=lt.roughness,this.metalness=lt.metalness,this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.roughnessMap=lt.roughnessMap,this.metalnessMap=lt.metalnessMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.envMapIntensity=lt.envMapIntensity,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(lt){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(ft){this.ior=(1+.4*ft)/(1-.4*ft)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(lt)}get sheen(){return this._sheen}set sheen(lt){this._sheen>0!=lt>0&&this.version++,this._sheen=lt}get clearcoat(){return this._clearcoat}set clearcoat(lt){this._clearcoat>0!=lt>0&&this.version++,this._clearcoat=lt}get iridescence(){return this._iridescence}set iridescence(lt){this._iridescence>0!=lt>0&&this.version++,this._iridescence=lt}get transmission(){return this._transmission}set transmission(lt){this._transmission>0!=lt>0&&this.version++,this._transmission=lt}copy(lt){return super.copy(lt),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=lt.clearcoat,this.clearcoatMap=lt.clearcoatMap,this.clearcoatRoughness=lt.clearcoatRoughness,this.clearcoatRoughnessMap=lt.clearcoatRoughnessMap,this.clearcoatNormalMap=lt.clearcoatNormalMap,this.clearcoatNormalScale.copy(lt.clearcoatNormalScale),this.ior=lt.ior,this.iridescence=lt.iridescence,this.iridescenceMap=lt.iridescenceMap,this.iridescenceIOR=lt.iridescenceIOR,this.iridescenceThicknessRange=[...lt.iridescenceThicknessRange],this.iridescenceThicknessMap=lt.iridescenceThicknessMap,this.sheen=lt.sheen,this.sheenColor.copy(lt.sheenColor),this.sheenColorMap=lt.sheenColorMap,this.sheenRoughness=lt.sheenRoughness,this.sheenRoughnessMap=lt.sheenRoughnessMap,this.transmission=lt.transmission,this.transmissionMap=lt.transmissionMap,this.thickness=lt.thickness,this.thicknessMap=lt.thicknessMap,this.attenuationDistance=lt.attenuationDistance,this.attenuationColor.copy(lt.attenuationColor),this.specularIntensity=lt.specularIntensity,this.specularIntensityMap=lt.specularIntensityMap,this.specularColor.copy(lt.specularColor),this.specularColorMap=lt.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(lt){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.specular.copy(lt.specular),this.shininess=lt.shininess,this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshToonMaterial extends Material{constructor(lt){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.gradientMap=lt.gradientMap,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.alphaMap=lt.alphaMap,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.fog=lt.fog,this}}class MeshNormalMaterial extends Material{constructor(lt){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(lt)}copy(lt){return super.copy(lt),this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.flatShading=lt.flatShading,this}}class MeshLambertMaterial extends Material{constructor(lt){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshMatcapMaterial extends Material{constructor(lt){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.defines={MATCAP:""},this.color.copy(lt.color),this.matcap=lt.matcap,this.map=lt.map,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.alphaMap=lt.alphaMap,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(lt){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(lt)}copy(lt){return super.copy(lt),this.scale=lt.scale,this.dashSize=lt.dashSize,this.gapSize=lt.gapSize,this}}function arraySlice(dt,lt,ft){return isTypedArray(dt)?new dt.constructor(dt.subarray(lt,ft!==void 0?ft:dt.length)):dt.slice(lt,ft)}function convertArray(dt,lt,ft){return!dt||!ft&&dt.constructor===lt?dt:typeof lt.BYTES_PER_ELEMENT=="number"?new lt(dt):Array.prototype.slice.call(dt)}function isTypedArray(dt){return ArrayBuffer.isView(dt)&&!(dt instanceof DataView)}function getKeyframeOrder(dt){function lt(St,Et){return dt[St]-dt[Et]}const ft=dt.length,vt=new Array(ft);for(let St=0;St!==ft;++St)vt[St]=St;return vt.sort(lt),vt}function sortedArray(dt,lt,ft){const vt=dt.length,St=new dt.constructor(vt);for(let Et=0,At=0;At!==vt;++Et){const Ct=ft[Et]*lt;for(let Tt=0;Tt!==lt;++Tt)St[At++]=dt[Ct+Tt]}return St}function flattenJSON(dt,lt,ft,vt){let St=1,Et=dt[0];for(;Et!==void 0&&Et[vt]===void 0;)Et=dt[St++];if(Et===void 0)return;let At=Et[vt];if(At!==void 0)if(Array.isArray(At))do At=Et[vt],At!==void 0&&(lt.push(Et.time),ft.push.apply(ft,At)),Et=dt[St++];while(Et!==void 0);else if(At.toArray!==void 0)do At=Et[vt],At!==void 0&&(lt.push(Et.time),At.toArray(ft,ft.length)),Et=dt[St++];while(Et!==void 0);else do At=Et[vt],At!==void 0&&(lt.push(Et.time),ft.push(At)),Et=dt[St++];while(Et!==void 0)}function subclip(dt,lt,ft,vt,St=30){const Et=dt.clone();Et.name=lt;const At=[];for(let Tt=0;Tt<Et.tracks.length;++Tt){const Rt=Et.tracks[Tt],Bt=Rt.getValueSize(),Ft=[],Dt=[];for(let kt=0;kt<Rt.times.length;++kt){const zt=Rt.times[kt]*St;if(!(zt<ft||zt>=vt)){Ft.push(Rt.times[kt]);for(let Ht=0;Ht<Bt;++Ht)Dt.push(Rt.values[kt*Bt+Ht])}}Ft.length!==0&&(Rt.times=convertArray(Ft,Rt.times.constructor),Rt.values=convertArray(Dt,Rt.values.constructor),At.push(Rt))}Et.tracks=At;let Ct=1/0;for(let Tt=0;Tt<Et.tracks.length;++Tt)Ct>Et.tracks[Tt].times[0]&&(Ct=Et.tracks[Tt].times[0]);for(let Tt=0;Tt<Et.tracks.length;++Tt)Et.tracks[Tt].shift(-1*Ct);return Et.resetDuration(),Et}function makeClipAdditive(dt,lt=0,ft=dt,vt=30){vt<=0&&(vt=30);const St=ft.tracks.length,Et=lt/vt;for(let At=0;At<St;++At){const Ct=ft.tracks[At],Tt=Ct.ValueTypeName;if(Tt==="bool"||Tt==="string")continue;const Rt=dt.tracks.find(function(Kt){return Kt.name===Ct.name&&Kt.ValueTypeName===Tt});if(Rt===void 0)continue;let Bt=0;const Ft=Ct.getValueSize();Ct.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Bt=Ft/3);let Dt=0;const kt=Rt.getValueSize();Rt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Dt=kt/3);const zt=Ct.times.length-1;let Ht;if(Et<=Ct.times[0]){const Kt=Bt,Zt=Ft-Bt;Ht=arraySlice(Ct.values,Kt,Zt)}else if(Et>=Ct.times[zt]){const Kt=zt*Ft+Bt,Zt=Kt+Ft-Bt;Ht=arraySlice(Ct.values,Kt,Zt)}else{const Kt=Ct.createInterpolant(),Zt=Bt,Wt=Ft-Bt;Kt.evaluate(Et),Ht=arraySlice(Kt.resultBuffer,Zt,Wt)}Tt==="quaternion"&&new Quaternion().fromArray(Ht).normalize().conjugate().toArray(Ht);const en=Rt.times.length;for(let Kt=0;Kt<en;++Kt){const Zt=Kt*kt+Dt;if(Tt==="quaternion")Quaternion.multiplyQuaternionsFlat(Rt.values,Zt,Ht,0,Rt.values,Zt);else{const Wt=kt-Dt*2;for(let tn=0;tn<Wt;++tn)Rt.values[Zt+tn]-=Ht[tn]}}}return dt.blendMode=AdditiveAnimationBlendMode,dt}var AnimationUtils=Object.freeze({__proto__:null,arraySlice,convertArray,flattenJSON,getKeyframeOrder,isTypedArray,makeClipAdditive,sortedArray,subclip});class Interpolant{constructor(lt,ft,vt,St){this.parameterPositions=lt,this._cachedIndex=0,this.resultBuffer=St!==void 0?St:new ft.constructor(vt),this.sampleValues=ft,this.valueSize=vt,this.settings=null,this.DefaultSettings_={}}evaluate(lt){const ft=this.parameterPositions;let vt=this._cachedIndex,St=ft[vt],Et=ft[vt-1];e:{t:{let At;n:{r:if(!(lt<St)){for(let Ct=vt+2;;){if(St===void 0){if(lt<Et)break r;return vt=ft.length,this._cachedIndex=vt,this.copySampleValue_(vt-1)}if(vt===Ct)break;if(Et=St,St=ft[++vt],lt<St)break t}At=ft.length;break n}if(!(lt>=Et)){const Ct=ft[1];lt<Ct&&(vt=2,Et=Ct);for(let Tt=vt-2;;){if(Et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(vt===Tt)break;if(St=Et,Et=ft[--vt-1],lt>=Et)break t}At=vt,vt=0;break n}break e}for(;vt<At;){const Ct=vt+At>>>1;lt<ft[Ct]?At=Ct:vt=Ct+1}if(St=ft[vt],Et=ft[vt-1],Et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(St===void 0)return vt=ft.length,this._cachedIndex=vt,this.copySampleValue_(vt-1)}this._cachedIndex=vt,this.intervalChanged_(vt,Et,St)}return this.interpolate_(vt,Et,lt,St)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(lt){const ft=this.resultBuffer,vt=this.sampleValues,St=this.valueSize,Et=lt*St;for(let At=0;At!==St;++At)ft[At]=vt[Et+At];return ft}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(lt,ft,vt,St){super(lt,ft,vt,St),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(lt,ft,vt){const St=this.parameterPositions;let Et=lt-2,At=lt+1,Ct=St[Et],Tt=St[At];if(Ct===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:Et=lt,Ct=2*ft-vt;break;case WrapAroundEnding:Et=St.length-2,Ct=ft+St[Et]-St[Et+1];break;default:Et=lt,Ct=vt}if(Tt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:At=lt,Tt=2*vt-ft;break;case WrapAroundEnding:At=1,Tt=vt+St[1]-St[0];break;default:At=lt-1,Tt=ft}const Rt=(vt-ft)*.5,Bt=this.valueSize;this._weightPrev=Rt/(ft-Ct),this._weightNext=Rt/(Tt-vt),this._offsetPrev=Et*Bt,this._offsetNext=At*Bt}interpolate_(lt,ft,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=lt*Ct,Rt=Tt-Ct,Bt=this._offsetPrev,Ft=this._offsetNext,Dt=this._weightPrev,kt=this._weightNext,zt=(vt-ft)/(St-ft),Ht=zt*zt,en=Ht*zt,Kt=-Dt*en+2*Dt*Ht-Dt*zt,Zt=(1+Dt)*en+(-1.5-2*Dt)*Ht+(-.5+Dt)*zt+1,Wt=(-1-kt)*en+(1.5+kt)*Ht+.5*zt,tn=kt*en-kt*Ht;for(let an=0;an!==Ct;++an)Et[an]=Kt*At[Bt+an]+Zt*At[Rt+an]+Wt*At[Tt+an]+tn*At[Ft+an];return Et}}class LinearInterpolant extends Interpolant{constructor(lt,ft,vt,St){super(lt,ft,vt,St)}interpolate_(lt,ft,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=lt*Ct,Rt=Tt-Ct,Bt=(vt-ft)/(St-ft),Ft=1-Bt;for(let Dt=0;Dt!==Ct;++Dt)Et[Dt]=At[Rt+Dt]*Ft+At[Tt+Dt]*Bt;return Et}}class DiscreteInterpolant extends Interpolant{constructor(lt,ft,vt,St){super(lt,ft,vt,St)}interpolate_(lt){return this.copySampleValue_(lt-1)}}class KeyframeTrack{constructor(lt,ft,vt,St){if(lt===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(ft===void 0||ft.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+lt);this.name=lt,this.times=convertArray(ft,this.TimeBufferType),this.values=convertArray(vt,this.ValueBufferType),this.setInterpolation(St||this.DefaultInterpolation)}static toJSON(lt){const ft=lt.constructor;let vt;if(ft.toJSON!==this.toJSON)vt=ft.toJSON(lt);else{vt={name:lt.name,times:convertArray(lt.times,Array),values:convertArray(lt.values,Array)};const St=lt.getInterpolation();St!==lt.DefaultInterpolation&&(vt.interpolation=St)}return vt.type=lt.ValueTypeName,vt}InterpolantFactoryMethodDiscrete(lt){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),lt)}InterpolantFactoryMethodLinear(lt){return new LinearInterpolant(this.times,this.values,this.getValueSize(),lt)}InterpolantFactoryMethodSmooth(lt){return new CubicInterpolant(this.times,this.values,this.getValueSize(),lt)}setInterpolation(lt){let ft;switch(lt){case InterpolateDiscrete:ft=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:ft=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:ft=this.InterpolantFactoryMethodSmooth;break}if(ft===void 0){const vt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(lt!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(vt);return console.warn("THREE.KeyframeTrack:",vt),this}return this.createInterpolant=ft,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(lt){if(lt!==0){const ft=this.times;for(let vt=0,St=ft.length;vt!==St;++vt)ft[vt]+=lt}return this}scale(lt){if(lt!==1){const ft=this.times;for(let vt=0,St=ft.length;vt!==St;++vt)ft[vt]*=lt}return this}trim(lt,ft){const vt=this.times,St=vt.length;let Et=0,At=St-1;for(;Et!==St&&vt[Et]<lt;)++Et;for(;At!==-1&&vt[At]>ft;)--At;if(++At,Et!==0||At!==St){Et>=At&&(At=Math.max(At,1),Et=At-1);const Ct=this.getValueSize();this.times=arraySlice(vt,Et,At),this.values=arraySlice(this.values,Et*Ct,At*Ct)}return this}validate(){let lt=!0;const ft=this.getValueSize();ft-Math.floor(ft)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),lt=!1);const vt=this.times,St=this.values,Et=vt.length;Et===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),lt=!1);let At=null;for(let Ct=0;Ct!==Et;Ct++){const Tt=vt[Ct];if(typeof Tt=="number"&&isNaN(Tt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,Ct,Tt),lt=!1;break}if(At!==null&&At>Tt){console.error("THREE.KeyframeTrack: Out of order keys.",this,Ct,Tt,At),lt=!1;break}At=Tt}if(St!==void 0&&isTypedArray(St))for(let Ct=0,Tt=St.length;Ct!==Tt;++Ct){const Rt=St[Ct];if(isNaN(Rt)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,Ct,Rt),lt=!1;break}}return lt}optimize(){const lt=arraySlice(this.times),ft=arraySlice(this.values),vt=this.getValueSize(),St=this.getInterpolation()===InterpolateSmooth,Et=lt.length-1;let At=1;for(let Ct=1;Ct<Et;++Ct){let Tt=!1;const Rt=lt[Ct],Bt=lt[Ct+1];if(Rt!==Bt&&(Ct!==1||Rt!==lt[0]))if(St)Tt=!0;else{const Ft=Ct*vt,Dt=Ft-vt,kt=Ft+vt;for(let zt=0;zt!==vt;++zt){const Ht=ft[Ft+zt];if(Ht!==ft[Dt+zt]||Ht!==ft[kt+zt]){Tt=!0;break}}}if(Tt){if(Ct!==At){lt[At]=lt[Ct];const Ft=Ct*vt,Dt=At*vt;for(let kt=0;kt!==vt;++kt)ft[Dt+kt]=ft[Ft+kt]}++At}}if(Et>0){lt[At]=lt[Et];for(let Ct=Et*vt,Tt=At*vt,Rt=0;Rt!==vt;++Rt)ft[Tt+Rt]=ft[Ct+Rt];++At}return At!==lt.length?(this.times=arraySlice(lt,0,At),this.values=arraySlice(ft,0,At*vt)):(this.times=lt,this.values=ft),this}clone(){const lt=arraySlice(this.times,0),ft=arraySlice(this.values,0),vt=this.constructor,St=new vt(this.name,lt,ft);return St.createInterpolant=this.createInterpolant,St}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(lt,ft,vt,St){super(lt,ft,vt,St)}interpolate_(lt,ft,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=(vt-ft)/(St-ft);let Rt=lt*Ct;for(let Bt=Rt+Ct;Rt!==Bt;Rt+=4)Quaternion.slerpFlat(Et,0,At,Rt-Ct,At,Rt,Tt);return Et}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(lt){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),lt)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(lt,ft=-1,vt,St=NormalAnimationBlendMode){this.name=lt,this.tracks=vt,this.duration=ft,this.blendMode=St,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(lt){const ft=[],vt=lt.tracks,St=1/(lt.fps||1);for(let At=0,Ct=vt.length;At!==Ct;++At)ft.push(parseKeyframeTrack(vt[At]).scale(St));const Et=new this(lt.name,lt.duration,ft,lt.blendMode);return Et.uuid=lt.uuid,Et}static toJSON(lt){const ft=[],vt=lt.tracks,St={name:lt.name,duration:lt.duration,tracks:ft,uuid:lt.uuid,blendMode:lt.blendMode};for(let Et=0,At=vt.length;Et!==At;++Et)ft.push(KeyframeTrack.toJSON(vt[Et]));return St}static CreateFromMorphTargetSequence(lt,ft,vt,St){const Et=ft.length,At=[];for(let Ct=0;Ct<Et;Ct++){let Tt=[],Rt=[];Tt.push((Ct+Et-1)%Et,Ct,(Ct+1)%Et),Rt.push(0,1,0);const Bt=getKeyframeOrder(Tt);Tt=sortedArray(Tt,1,Bt),Rt=sortedArray(Rt,1,Bt),!St&&Tt[0]===0&&(Tt.push(Et),Rt.push(Rt[0])),At.push(new NumberKeyframeTrack(".morphTargetInfluences["+ft[Ct].name+"]",Tt,Rt).scale(1/vt))}return new this(lt,-1,At)}static findByName(lt,ft){let vt=lt;if(!Array.isArray(lt)){const St=lt;vt=St.geometry&&St.geometry.animations||St.animations}for(let St=0;St<vt.length;St++)if(vt[St].name===ft)return vt[St];return null}static CreateClipsFromMorphTargetSequences(lt,ft,vt){const St={},Et=/^([\w-]*?)([\d]+)$/;for(let Ct=0,Tt=lt.length;Ct<Tt;Ct++){const Rt=lt[Ct],Bt=Rt.name.match(Et);if(Bt&&Bt.length>1){const Ft=Bt[1];let Dt=St[Ft];Dt||(St[Ft]=Dt=[]),Dt.push(Rt)}}const At=[];for(const Ct in St)At.push(this.CreateFromMorphTargetSequence(Ct,St[Ct],ft,vt));return At}static parseAnimation(lt,ft){if(!lt)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const vt=function(Ft,Dt,kt,zt,Ht){if(kt.length!==0){const en=[],Kt=[];flattenJSON(kt,en,Kt,zt),en.length!==0&&Ht.push(new Ft(Dt,en,Kt))}},St=[],Et=lt.name||"default",At=lt.fps||30,Ct=lt.blendMode;let Tt=lt.length||-1;const Rt=lt.hierarchy||[];for(let Ft=0;Ft<Rt.length;Ft++){const Dt=Rt[Ft].keys;if(!(!Dt||Dt.length===0))if(Dt[0].morphTargets){const kt={};let zt;for(zt=0;zt<Dt.length;zt++)if(Dt[zt].morphTargets)for(let Ht=0;Ht<Dt[zt].morphTargets.length;Ht++)kt[Dt[zt].morphTargets[Ht]]=-1;for(const Ht in kt){const en=[],Kt=[];for(let Zt=0;Zt!==Dt[zt].morphTargets.length;++Zt){const Wt=Dt[zt];en.push(Wt.time),Kt.push(Wt.morphTarget===Ht?1:0)}St.push(new NumberKeyframeTrack(".morphTargetInfluence["+Ht+"]",en,Kt))}Tt=kt.length*At}else{const kt=".bones["+ft[Ft].name+"]";vt(VectorKeyframeTrack,kt+".position",Dt,"pos",St),vt(QuaternionKeyframeTrack,kt+".quaternion",Dt,"rot",St),vt(VectorKeyframeTrack,kt+".scale",Dt,"scl",St)}}return St.length===0?null:new this(Et,Tt,St,Ct)}resetDuration(){const lt=this.tracks;let ft=0;for(let vt=0,St=lt.length;vt!==St;++vt){const Et=this.tracks[vt];ft=Math.max(ft,Et.times[Et.times.length-1])}return this.duration=ft,this}trim(){for(let lt=0;lt<this.tracks.length;lt++)this.tracks[lt].trim(0,this.duration);return this}validate(){let lt=!0;for(let ft=0;ft<this.tracks.length;ft++)lt=lt&&this.tracks[ft].validate();return lt}optimize(){for(let lt=0;lt<this.tracks.length;lt++)this.tracks[lt].optimize();return this}clone(){const lt=[];for(let ft=0;ft<this.tracks.length;ft++)lt.push(this.tracks[ft].clone());return new this.constructor(this.name,this.duration,lt,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(dt){switch(dt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+dt)}function parseKeyframeTrack(dt){if(dt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const lt=getTrackTypeForValueTypeName(dt.type);if(dt.times===void 0){const ft=[],vt=[];flattenJSON(dt.keys,ft,vt,"value"),dt.times=ft,dt.values=vt}return lt.parse!==void 0?lt.parse(dt):new lt(dt.name,dt.times,dt.values,dt.interpolation)}const Cache={enabled:!1,files:{},add:function(dt,lt){this.enabled!==!1&&(this.files[dt]=lt)},get:function(dt){if(this.enabled!==!1)return this.files[dt]},remove:function(dt){delete this.files[dt]},clear:function(){this.files={}}};class LoadingManager{constructor(lt,ft,vt){const St=this;let Et=!1,At=0,Ct=0,Tt;const Rt=[];this.onStart=void 0,this.onLoad=lt,this.onProgress=ft,this.onError=vt,this.itemStart=function(Bt){Ct++,Et===!1&&St.onStart!==void 0&&St.onStart(Bt,At,Ct),Et=!0},this.itemEnd=function(Bt){At++,St.onProgress!==void 0&&St.onProgress(Bt,At,Ct),At===Ct&&(Et=!1,St.onLoad!==void 0&&St.onLoad())},this.itemError=function(Bt){St.onError!==void 0&&St.onError(Bt)},this.resolveURL=function(Bt){return Tt?Tt(Bt):Bt},this.setURLModifier=function(Bt){return Tt=Bt,this},this.addHandler=function(Bt,Ft){return Rt.push(Bt,Ft),this},this.removeHandler=function(Bt){const Ft=Rt.indexOf(Bt);return Ft!==-1&&Rt.splice(Ft,2),this},this.getHandler=function(Bt){for(let Ft=0,Dt=Rt.length;Ft<Dt;Ft+=2){const kt=Rt[Ft],zt=Rt[Ft+1];if(kt.global&&(kt.lastIndex=0),kt.test(Bt))return zt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(lt){this.manager=lt!==void 0?lt:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(lt,ft){const vt=this;return new Promise(function(St,Et){vt.load(lt,St,ft,Et)})}parse(){}setCrossOrigin(lt){return this.crossOrigin=lt,this}setWithCredentials(lt){return this.withCredentials=lt,this}setPath(lt){return this.path=lt,this}setResourcePath(lt){return this.resourcePath=lt,this}setRequestHeader(lt){return this.requestHeader=lt,this}}const loading={};class HttpError extends Error{constructor(lt,ft){super(lt),this.response=ft}}class FileLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){lt===void 0&&(lt=""),this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const Et=Cache.get(lt);if(Et!==void 0)return this.manager.itemStart(lt),setTimeout(()=>{ft&&ft(Et),this.manager.itemEnd(lt)},0),Et;if(loading[lt]!==void 0){loading[lt].push({onLoad:ft,onProgress:vt,onError:St});return}loading[lt]=[],loading[lt].push({onLoad:ft,onProgress:vt,onError:St});const At=new Request(lt,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),Ct=this.mimeType,Tt=this.responseType;fetch(At).then(Rt=>{if(Rt.status===200||Rt.status===0){if(Rt.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||Rt.body===void 0||Rt.body.getReader===void 0)return Rt;const Bt=loading[lt],Ft=Rt.body.getReader(),Dt=Rt.headers.get("Content-Length")||Rt.headers.get("X-File-Size"),kt=Dt?parseInt(Dt):0,zt=kt!==0;let Ht=0;const en=new ReadableStream({start(Kt){Zt();function Zt(){Ft.read().then(({done:Wt,value:tn})=>{if(Wt)Kt.close();else{Ht+=tn.byteLength;const an=new ProgressEvent("progress",{lengthComputable:zt,loaded:Ht,total:kt});for(let ln=0,fn=Bt.length;ln<fn;ln++){const un=Bt[ln];un.onProgress&&un.onProgress(an)}Kt.enqueue(tn),Zt()}})}}});return new Response(en)}else throw new HttpError(`fetch for "${Rt.url}" responded with ${Rt.status}: ${Rt.statusText}`,Rt)}).then(Rt=>{switch(Tt){case"arraybuffer":return Rt.arrayBuffer();case"blob":return Rt.blob();case"document":return Rt.text().then(Bt=>new DOMParser().parseFromString(Bt,Ct));case"json":return Rt.json();default:if(Ct===void 0)return Rt.text();{const Ft=/charset="?([^;"\s]*)"?/i.exec(Ct),Dt=Ft&&Ft[1]?Ft[1].toLowerCase():void 0,kt=new TextDecoder(Dt);return Rt.arrayBuffer().then(zt=>kt.decode(zt))}}}).then(Rt=>{Cache.add(lt,Rt);const Bt=loading[lt];delete loading[lt];for(let Ft=0,Dt=Bt.length;Ft<Dt;Ft++){const kt=Bt[Ft];kt.onLoad&&kt.onLoad(Rt)}}).catch(Rt=>{const Bt=loading[lt];if(Bt===void 0)throw this.manager.itemError(lt),Rt;delete loading[lt];for(let Ft=0,Dt=Bt.length;Ft<Dt;Ft++){const kt=Bt[Ft];kt.onError&&kt.onError(Rt)}this.manager.itemError(lt)}).finally(()=>{this.manager.itemEnd(lt)}),this.manager.itemStart(lt)}setResponseType(lt){return this.responseType=lt,this}setMimeType(lt){return this.mimeType=lt,this}}class AnimationLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=this,At=new FileLoader(this.manager);At.setPath(this.path),At.setRequestHeader(this.requestHeader),At.setWithCredentials(this.withCredentials),At.load(lt,function(Ct){try{ft(Et.parse(JSON.parse(Ct)))}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}parse(lt){const ft=[];for(let vt=0;vt<lt.length;vt++){const St=AnimationClip.parse(lt[vt]);ft.push(St)}return ft}}class CompressedTextureLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=this,At=[],Ct=new CompressedTexture,Tt=new FileLoader(this.manager);Tt.setPath(this.path),Tt.setResponseType("arraybuffer"),Tt.setRequestHeader(this.requestHeader),Tt.setWithCredentials(Et.withCredentials);let Rt=0;function Bt(Ft){Tt.load(lt[Ft],function(Dt){const kt=Et.parse(Dt,!0);At[Ft]={width:kt.width,height:kt.height,format:kt.format,mipmaps:kt.mipmaps},Rt+=1,Rt===6&&(kt.mipmapCount===1&&(Ct.minFilter=LinearFilter),Ct.image=At,Ct.format=kt.format,Ct.needsUpdate=!0,ft&&ft(Ct))},vt,St)}if(Array.isArray(lt))for(let Ft=0,Dt=lt.length;Ft<Dt;++Ft)Bt(Ft);else Tt.load(lt,function(Ft){const Dt=Et.parse(Ft,!0);if(Dt.isCubemap){const kt=Dt.mipmaps.length/Dt.mipmapCount;for(let zt=0;zt<kt;zt++){At[zt]={mipmaps:[]};for(let Ht=0;Ht<Dt.mipmapCount;Ht++)At[zt].mipmaps.push(Dt.mipmaps[zt*Dt.mipmapCount+Ht]),At[zt].format=Dt.format,At[zt].width=Dt.width,At[zt].height=Dt.height}Ct.image=At}else Ct.image.width=Dt.width,Ct.image.height=Dt.height,Ct.mipmaps=Dt.mipmaps;Dt.mipmapCount===1&&(Ct.minFilter=LinearFilter),Ct.format=Dt.format,Ct.needsUpdate=!0,ft&&ft(Ct)},vt,St);return Ct}}class ImageLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const Et=this,At=Cache.get(lt);if(At!==void 0)return Et.manager.itemStart(lt),setTimeout(function(){ft&&ft(At),Et.manager.itemEnd(lt)},0),At;const Ct=createElementNS("img");function Tt(){Bt(),Cache.add(lt,this),ft&&ft(this),Et.manager.itemEnd(lt)}function Rt(Ft){Bt(),St&&St(Ft),Et.manager.itemError(lt),Et.manager.itemEnd(lt)}function Bt(){Ct.removeEventListener("load",Tt,!1),Ct.removeEventListener("error",Rt,!1)}return Ct.addEventListener("load",Tt,!1),Ct.addEventListener("error",Rt,!1),lt.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(Ct.crossOrigin=this.crossOrigin),Et.manager.itemStart(lt),Ct.src=lt,Ct}}class CubeTextureLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=new CubeTexture,At=new ImageLoader(this.manager);At.setCrossOrigin(this.crossOrigin),At.setPath(this.path);let Ct=0;function Tt(Rt){At.load(lt[Rt],function(Bt){Et.images[Rt]=Bt,Ct++,Ct===6&&(Et.needsUpdate=!0,ft&&ft(Et))},void 0,St)}for(let Rt=0;Rt<lt.length;++Rt)Tt(Rt);return Et}}class DataTextureLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=this,At=new DataTexture,Ct=new FileLoader(this.manager);return Ct.setResponseType("arraybuffer"),Ct.setRequestHeader(this.requestHeader),Ct.setPath(this.path),Ct.setWithCredentials(Et.withCredentials),Ct.load(lt,function(Tt){const Rt=Et.parse(Tt);Rt&&(Rt.image!==void 0?At.image=Rt.image:Rt.data!==void 0&&(At.image.width=Rt.width,At.image.height=Rt.height,At.image.data=Rt.data),At.wrapS=Rt.wrapS!==void 0?Rt.wrapS:ClampToEdgeWrapping,At.wrapT=Rt.wrapT!==void 0?Rt.wrapT:ClampToEdgeWrapping,At.magFilter=Rt.magFilter!==void 0?Rt.magFilter:LinearFilter,At.minFilter=Rt.minFilter!==void 0?Rt.minFilter:LinearFilter,At.anisotropy=Rt.anisotropy!==void 0?Rt.anisotropy:1,Rt.encoding!==void 0&&(At.encoding=Rt.encoding),Rt.flipY!==void 0&&(At.flipY=Rt.flipY),Rt.format!==void 0&&(At.format=Rt.format),Rt.type!==void 0&&(At.type=Rt.type),Rt.mipmaps!==void 0&&(At.mipmaps=Rt.mipmaps,At.minFilter=LinearMipmapLinearFilter),Rt.mipmapCount===1&&(At.minFilter=LinearFilter),Rt.generateMipmaps!==void 0&&(At.generateMipmaps=Rt.generateMipmaps),At.needsUpdate=!0,ft&&ft(At,Rt))},vt,St),At}}class TextureLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=new Texture,At=new ImageLoader(this.manager);return At.setCrossOrigin(this.crossOrigin),At.setPath(this.path),At.load(lt,function(Ct){Et.image=Ct,Et.needsUpdate=!0,ft!==void 0&&ft(Et)},vt,St),Et}}class Light extends Object3D{constructor(lt,ft=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(lt),this.intensity=ft}dispose(){}copy(lt,ft){return super.copy(lt,ft),this.color.copy(lt.color),this.intensity=lt.intensity,this}toJSON(lt){const ft=super.toJSON(lt);return ft.object.color=this.color.getHex(),ft.object.intensity=this.intensity,this.groundColor!==void 0&&(ft.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(ft.object.distance=this.distance),this.angle!==void 0&&(ft.object.angle=this.angle),this.decay!==void 0&&(ft.object.decay=this.decay),this.penumbra!==void 0&&(ft.object.penumbra=this.penumbra),this.shadow!==void 0&&(ft.object.shadow=this.shadow.toJSON()),ft}}class HemisphereLight extends Light{constructor(lt,ft,vt){super(lt,vt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(ft)}copy(lt,ft){return super.copy(lt,ft),this.groundColor.copy(lt.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(lt){this.camera=lt,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(lt){const ft=this.camera,vt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(lt.matrixWorld),ft.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(lt.target.matrixWorld),ft.lookAt(_lookTarget$1),ft.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(ft.projectionMatrix,ft.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),vt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),vt.multiply(_projScreenMatrix$1)}getViewport(lt){return this._viewports[lt]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(lt){return this.camera=lt.camera.clone(),this.bias=lt.bias,this.radius=lt.radius,this.mapSize.copy(lt.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const lt={};return this.bias!==0&&(lt.bias=this.bias),this.normalBias!==0&&(lt.normalBias=this.normalBias),this.radius!==1&&(lt.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(lt.mapSize=this.mapSize.toArray()),lt.camera=this.camera.toJSON(!1).object,delete lt.camera.matrix,lt}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(lt){const ft=this.camera,vt=RAD2DEG*2*lt.angle*this.focus,St=this.mapSize.width/this.mapSize.height,Et=lt.distance||ft.far;(vt!==ft.fov||St!==ft.aspect||Et!==ft.far)&&(ft.fov=vt,ft.aspect=St,ft.far=Et,ft.updateProjectionMatrix()),super.updateMatrices(lt)}copy(lt){return super.copy(lt),this.focus=lt.focus,this}}class SpotLight extends Light{constructor(lt,ft,vt=0,St=Math.PI/3,Et=0,At=2){super(lt,ft),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=vt,this.angle=St,this.penumbra=Et,this.decay=At,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(lt){this.intensity=lt/Math.PI}dispose(){this.shadow.dispose()}copy(lt,ft){return super.copy(lt,ft),this.distance=lt.distance,this.angle=lt.angle,this.penumbra=lt.penumbra,this.decay=lt.decay,this.target=lt.target.clone(),this.shadow=lt.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(lt,ft=0){const vt=this.camera,St=this.matrix,Et=lt.distance||vt.far;Et!==vt.far&&(vt.far=Et,vt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(lt.matrixWorld),vt.position.copy(_lightPositionWorld),_lookTarget.copy(vt.position),_lookTarget.add(this._cubeDirections[ft]),vt.up.copy(this._cubeUps[ft]),vt.lookAt(_lookTarget),vt.updateMatrixWorld(),St.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(vt.projectionMatrix,vt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(lt,ft,vt=0,St=2){super(lt,ft),this.isPointLight=!0,this.type="PointLight",this.distance=vt,this.decay=St,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(lt){this.intensity=lt/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(lt,ft){return super.copy(lt,ft),this.distance=lt.distance,this.decay=lt.decay,this.shadow=lt.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(lt,ft){super(lt,ft),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(lt){return super.copy(lt),this.target=lt.target.clone(),this.shadow=lt.shadow.clone(),this}}class AmbientLight extends Light{constructor(lt,ft){super(lt,ft),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(lt,ft,vt=10,St=10){super(lt,ft),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=vt,this.height=St}get power(){return this.intensity*this.width*this.height*Math.PI}set power(lt){this.intensity=lt/(this.width*this.height*Math.PI)}copy(lt){return super.copy(lt),this.width=lt.width,this.height=lt.height,this}toJSON(lt){const ft=super.toJSON(lt);return ft.object.width=this.width,ft.object.height=this.height,ft}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let lt=0;lt<9;lt++)this.coefficients.push(new Vector3)}set(lt){for(let ft=0;ft<9;ft++)this.coefficients[ft].copy(lt[ft]);return this}zero(){for(let lt=0;lt<9;lt++)this.coefficients[lt].set(0,0,0);return this}getAt(lt,ft){const vt=lt.x,St=lt.y,Et=lt.z,At=this.coefficients;return ft.copy(At[0]).multiplyScalar(.282095),ft.addScaledVector(At[1],.488603*St),ft.addScaledVector(At[2],.488603*Et),ft.addScaledVector(At[3],.488603*vt),ft.addScaledVector(At[4],1.092548*(vt*St)),ft.addScaledVector(At[5],1.092548*(St*Et)),ft.addScaledVector(At[6],.315392*(3*Et*Et-1)),ft.addScaledVector(At[7],1.092548*(vt*Et)),ft.addScaledVector(At[8],.546274*(vt*vt-St*St)),ft}getIrradianceAt(lt,ft){const vt=lt.x,St=lt.y,Et=lt.z,At=this.coefficients;return ft.copy(At[0]).multiplyScalar(.886227),ft.addScaledVector(At[1],2*.511664*St),ft.addScaledVector(At[2],2*.511664*Et),ft.addScaledVector(At[3],2*.511664*vt),ft.addScaledVector(At[4],2*.429043*vt*St),ft.addScaledVector(At[5],2*.429043*St*Et),ft.addScaledVector(At[6],.743125*Et*Et-.247708),ft.addScaledVector(At[7],2*.429043*vt*Et),ft.addScaledVector(At[8],.429043*(vt*vt-St*St)),ft}add(lt){for(let ft=0;ft<9;ft++)this.coefficients[ft].add(lt.coefficients[ft]);return this}addScaledSH(lt,ft){for(let vt=0;vt<9;vt++)this.coefficients[vt].addScaledVector(lt.coefficients[vt],ft);return this}scale(lt){for(let ft=0;ft<9;ft++)this.coefficients[ft].multiplyScalar(lt);return this}lerp(lt,ft){for(let vt=0;vt<9;vt++)this.coefficients[vt].lerp(lt.coefficients[vt],ft);return this}equals(lt){for(let ft=0;ft<9;ft++)if(!this.coefficients[ft].equals(lt.coefficients[ft]))return!1;return!0}copy(lt){return this.set(lt.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(lt,ft=0){const vt=this.coefficients;for(let St=0;St<9;St++)vt[St].fromArray(lt,ft+St*3);return this}toArray(lt=[],ft=0){const vt=this.coefficients;for(let St=0;St<9;St++)vt[St].toArray(lt,ft+St*3);return lt}static getBasisAt(lt,ft){const vt=lt.x,St=lt.y,Et=lt.z;ft[0]=.282095,ft[1]=.488603*St,ft[2]=.488603*Et,ft[3]=.488603*vt,ft[4]=1.092548*vt*St,ft[5]=1.092548*St*Et,ft[6]=.315392*(3*Et*Et-1),ft[7]=1.092548*vt*Et,ft[8]=.546274*(vt*vt-St*St)}}class LightProbe extends Light{constructor(lt=new SphericalHarmonics3,ft=1){super(void 0,ft),this.isLightProbe=!0,this.sh=lt}copy(lt){return super.copy(lt),this.sh.copy(lt.sh),this}fromJSON(lt){return this.intensity=lt.intensity,this.sh.fromArray(lt.sh),this}toJSON(lt){const ft=super.toJSON(lt);return ft.object.sh=this.sh.toArray(),ft}}class MaterialLoader extends Loader{constructor(lt){super(lt),this.textures={}}load(lt,ft,vt,St){const Et=this,At=new FileLoader(Et.manager);At.setPath(Et.path),At.setRequestHeader(Et.requestHeader),At.setWithCredentials(Et.withCredentials),At.load(lt,function(Ct){try{ft(Et.parse(JSON.parse(Ct)))}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}parse(lt){const ft=this.textures;function vt(Et){return ft[Et]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",Et),ft[Et]}const St=MaterialLoader.createMaterialFromType(lt.type);if(lt.uuid!==void 0&&(St.uuid=lt.uuid),lt.name!==void 0&&(St.name=lt.name),lt.color!==void 0&&St.color!==void 0&&St.color.setHex(lt.color),lt.roughness!==void 0&&(St.roughness=lt.roughness),lt.metalness!==void 0&&(St.metalness=lt.metalness),lt.sheen!==void 0&&(St.sheen=lt.sheen),lt.sheenColor!==void 0&&(St.sheenColor=new Color().setHex(lt.sheenColor)),lt.sheenRoughness!==void 0&&(St.sheenRoughness=lt.sheenRoughness),lt.emissive!==void 0&&St.emissive!==void 0&&St.emissive.setHex(lt.emissive),lt.specular!==void 0&&St.specular!==void 0&&St.specular.setHex(lt.specular),lt.specularIntensity!==void 0&&(St.specularIntensity=lt.specularIntensity),lt.specularColor!==void 0&&St.specularColor!==void 0&&St.specularColor.setHex(lt.specularColor),lt.shininess!==void 0&&(St.shininess=lt.shininess),lt.clearcoat!==void 0&&(St.clearcoat=lt.clearcoat),lt.clearcoatRoughness!==void 0&&(St.clearcoatRoughness=lt.clearcoatRoughness),lt.iridescence!==void 0&&(St.iridescence=lt.iridescence),lt.iridescenceIOR!==void 0&&(St.iridescenceIOR=lt.iridescenceIOR),lt.iridescenceThicknessRange!==void 0&&(St.iridescenceThicknessRange=lt.iridescenceThicknessRange),lt.transmission!==void 0&&(St.transmission=lt.transmission),lt.thickness!==void 0&&(St.thickness=lt.thickness),lt.attenuationDistance!==void 0&&(St.attenuationDistance=lt.attenuationDistance),lt.attenuationColor!==void 0&&St.attenuationColor!==void 0&&St.attenuationColor.setHex(lt.attenuationColor),lt.fog!==void 0&&(St.fog=lt.fog),lt.flatShading!==void 0&&(St.flatShading=lt.flatShading),lt.blending!==void 0&&(St.blending=lt.blending),lt.combine!==void 0&&(St.combine=lt.combine),lt.side!==void 0&&(St.side=lt.side),lt.shadowSide!==void 0&&(St.shadowSide=lt.shadowSide),lt.opacity!==void 0&&(St.opacity=lt.opacity),lt.transparent!==void 0&&(St.transparent=lt.transparent),lt.alphaTest!==void 0&&(St.alphaTest=lt.alphaTest),lt.depthTest!==void 0&&(St.depthTest=lt.depthTest),lt.depthWrite!==void 0&&(St.depthWrite=lt.depthWrite),lt.colorWrite!==void 0&&(St.colorWrite=lt.colorWrite),lt.stencilWrite!==void 0&&(St.stencilWrite=lt.stencilWrite),lt.stencilWriteMask!==void 0&&(St.stencilWriteMask=lt.stencilWriteMask),lt.stencilFunc!==void 0&&(St.stencilFunc=lt.stencilFunc),lt.stencilRef!==void 0&&(St.stencilRef=lt.stencilRef),lt.stencilFuncMask!==void 0&&(St.stencilFuncMask=lt.stencilFuncMask),lt.stencilFail!==void 0&&(St.stencilFail=lt.stencilFail),lt.stencilZFail!==void 0&&(St.stencilZFail=lt.stencilZFail),lt.stencilZPass!==void 0&&(St.stencilZPass=lt.stencilZPass),lt.wireframe!==void 0&&(St.wireframe=lt.wireframe),lt.wireframeLinewidth!==void 0&&(St.wireframeLinewidth=lt.wireframeLinewidth),lt.wireframeLinecap!==void 0&&(St.wireframeLinecap=lt.wireframeLinecap),lt.wireframeLinejoin!==void 0&&(St.wireframeLinejoin=lt.wireframeLinejoin),lt.rotation!==void 0&&(St.rotation=lt.rotation),lt.linewidth!==1&&(St.linewidth=lt.linewidth),lt.dashSize!==void 0&&(St.dashSize=lt.dashSize),lt.gapSize!==void 0&&(St.gapSize=lt.gapSize),lt.scale!==void 0&&(St.scale=lt.scale),lt.polygonOffset!==void 0&&(St.polygonOffset=lt.polygonOffset),lt.polygonOffsetFactor!==void 0&&(St.polygonOffsetFactor=lt.polygonOffsetFactor),lt.polygonOffsetUnits!==void 0&&(St.polygonOffsetUnits=lt.polygonOffsetUnits),lt.dithering!==void 0&&(St.dithering=lt.dithering),lt.alphaToCoverage!==void 0&&(St.alphaToCoverage=lt.alphaToCoverage),lt.premultipliedAlpha!==void 0&&(St.premultipliedAlpha=lt.premultipliedAlpha),lt.forceSinglePass!==void 0&&(St.forceSinglePass=lt.forceSinglePass),lt.visible!==void 0&&(St.visible=lt.visible),lt.toneMapped!==void 0&&(St.toneMapped=lt.toneMapped),lt.userData!==void 0&&(St.userData=lt.userData),lt.vertexColors!==void 0&&(typeof lt.vertexColors=="number"?St.vertexColors=lt.vertexColors>0:St.vertexColors=lt.vertexColors),lt.uniforms!==void 0)for(const Et in lt.uniforms){const At=lt.uniforms[Et];switch(St.uniforms[Et]={},At.type){case"t":St.uniforms[Et].value=vt(At.value);break;case"c":St.uniforms[Et].value=new Color().setHex(At.value);break;case"v2":St.uniforms[Et].value=new Vector2().fromArray(At.value);break;case"v3":St.uniforms[Et].value=new Vector3().fromArray(At.value);break;case"v4":St.uniforms[Et].value=new Vector4().fromArray(At.value);break;case"m3":St.uniforms[Et].value=new Matrix3().fromArray(At.value);break;case"m4":St.uniforms[Et].value=new Matrix4().fromArray(At.value);break;default:St.uniforms[Et].value=At.value}}if(lt.defines!==void 0&&(St.defines=lt.defines),lt.vertexShader!==void 0&&(St.vertexShader=lt.vertexShader),lt.fragmentShader!==void 0&&(St.fragmentShader=lt.fragmentShader),lt.glslVersion!==void 0&&(St.glslVersion=lt.glslVersion),lt.extensions!==void 0)for(const Et in lt.extensions)St.extensions[Et]=lt.extensions[Et];if(lt.size!==void 0&&(St.size=lt.size),lt.sizeAttenuation!==void 0&&(St.sizeAttenuation=lt.sizeAttenuation),lt.map!==void 0&&(St.map=vt(lt.map)),lt.matcap!==void 0&&(St.matcap=vt(lt.matcap)),lt.alphaMap!==void 0&&(St.alphaMap=vt(lt.alphaMap)),lt.bumpMap!==void 0&&(St.bumpMap=vt(lt.bumpMap)),lt.bumpScale!==void 0&&(St.bumpScale=lt.bumpScale),lt.normalMap!==void 0&&(St.normalMap=vt(lt.normalMap)),lt.normalMapType!==void 0&&(St.normalMapType=lt.normalMapType),lt.normalScale!==void 0){let Et=lt.normalScale;Array.isArray(Et)===!1&&(Et=[Et,Et]),St.normalScale=new Vector2().fromArray(Et)}return lt.displacementMap!==void 0&&(St.displacementMap=vt(lt.displacementMap)),lt.displacementScale!==void 0&&(St.displacementScale=lt.displacementScale),lt.displacementBias!==void 0&&(St.displacementBias=lt.displacementBias),lt.roughnessMap!==void 0&&(St.roughnessMap=vt(lt.roughnessMap)),lt.metalnessMap!==void 0&&(St.metalnessMap=vt(lt.metalnessMap)),lt.emissiveMap!==void 0&&(St.emissiveMap=vt(lt.emissiveMap)),lt.emissiveIntensity!==void 0&&(St.emissiveIntensity=lt.emissiveIntensity),lt.specularMap!==void 0&&(St.specularMap=vt(lt.specularMap)),lt.specularIntensityMap!==void 0&&(St.specularIntensityMap=vt(lt.specularIntensityMap)),lt.specularColorMap!==void 0&&(St.specularColorMap=vt(lt.specularColorMap)),lt.envMap!==void 0&&(St.envMap=vt(lt.envMap)),lt.envMapIntensity!==void 0&&(St.envMapIntensity=lt.envMapIntensity),lt.reflectivity!==void 0&&(St.reflectivity=lt.reflectivity),lt.refractionRatio!==void 0&&(St.refractionRatio=lt.refractionRatio),lt.lightMap!==void 0&&(St.lightMap=vt(lt.lightMap)),lt.lightMapIntensity!==void 0&&(St.lightMapIntensity=lt.lightMapIntensity),lt.aoMap!==void 0&&(St.aoMap=vt(lt.aoMap)),lt.aoMapIntensity!==void 0&&(St.aoMapIntensity=lt.aoMapIntensity),lt.gradientMap!==void 0&&(St.gradientMap=vt(lt.gradientMap)),lt.clearcoatMap!==void 0&&(St.clearcoatMap=vt(lt.clearcoatMap)),lt.clearcoatRoughnessMap!==void 0&&(St.clearcoatRoughnessMap=vt(lt.clearcoatRoughnessMap)),lt.clearcoatNormalMap!==void 0&&(St.clearcoatNormalMap=vt(lt.clearcoatNormalMap)),lt.clearcoatNormalScale!==void 0&&(St.clearcoatNormalScale=new Vector2().fromArray(lt.clearcoatNormalScale)),lt.iridescenceMap!==void 0&&(St.iridescenceMap=vt(lt.iridescenceMap)),lt.iridescenceThicknessMap!==void 0&&(St.iridescenceThicknessMap=vt(lt.iridescenceThicknessMap)),lt.transmissionMap!==void 0&&(St.transmissionMap=vt(lt.transmissionMap)),lt.thicknessMap!==void 0&&(St.thicknessMap=vt(lt.thicknessMap)),lt.sheenColorMap!==void 0&&(St.sheenColorMap=vt(lt.sheenColorMap)),lt.sheenRoughnessMap!==void 0&&(St.sheenRoughnessMap=vt(lt.sheenRoughnessMap)),St}setTextures(lt){return this.textures=lt,this}static createMaterialFromType(lt){const ft={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new ft[lt]}}class LoaderUtils{static decodeText(lt){if(typeof TextDecoder<"u")return new TextDecoder().decode(lt);let ft="";for(let vt=0,St=lt.length;vt<St;vt++)ft+=String.fromCharCode(lt[vt]);try{return decodeURIComponent(escape(ft))}catch{return ft}}static extractUrlBase(lt){const ft=lt.lastIndexOf("/");return ft===-1?"./":lt.slice(0,ft+1)}static resolveURL(lt,ft){return typeof lt!="string"||lt===""?"":(/^https?:\/\//i.test(ft)&&/^\//.test(lt)&&(ft=ft.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(lt)||/^data:.*,.*$/i.test(lt)||/^blob:.*$/i.test(lt)?lt:ft+lt)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(lt){return super.copy(lt),this.instanceCount=lt.instanceCount,this}toJSON(){const lt=super.toJSON();return lt.instanceCount=this.instanceCount,lt.isInstancedBufferGeometry=!0,lt}}class BufferGeometryLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=this,At=new FileLoader(Et.manager);At.setPath(Et.path),At.setRequestHeader(Et.requestHeader),At.setWithCredentials(Et.withCredentials),At.load(lt,function(Ct){try{ft(Et.parse(JSON.parse(Ct)))}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}parse(lt){const ft={},vt={};function St(kt,zt){if(ft[zt]!==void 0)return ft[zt];const en=kt.interleavedBuffers[zt],Kt=Et(kt,en.buffer),Zt=getTypedArray(en.type,Kt),Wt=new InterleavedBuffer(Zt,en.stride);return Wt.uuid=en.uuid,ft[zt]=Wt,Wt}function Et(kt,zt){if(vt[zt]!==void 0)return vt[zt];const en=kt.arrayBuffers[zt],Kt=new Uint32Array(en).buffer;return vt[zt]=Kt,Kt}const At=lt.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,Ct=lt.data.index;if(Ct!==void 0){const kt=getTypedArray(Ct.type,Ct.array);At.setIndex(new BufferAttribute(kt,1))}const Tt=lt.data.attributes;for(const kt in Tt){const zt=Tt[kt];let Ht;if(zt.isInterleavedBufferAttribute){const en=St(lt.data,zt.data);Ht=new InterleavedBufferAttribute(en,zt.itemSize,zt.offset,zt.normalized)}else{const en=getTypedArray(zt.type,zt.array),Kt=zt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;Ht=new Kt(en,zt.itemSize,zt.normalized)}zt.name!==void 0&&(Ht.name=zt.name),zt.usage!==void 0&&Ht.setUsage(zt.usage),zt.updateRange!==void 0&&(Ht.updateRange.offset=zt.updateRange.offset,Ht.updateRange.count=zt.updateRange.count),At.setAttribute(kt,Ht)}const Rt=lt.data.morphAttributes;if(Rt)for(const kt in Rt){const zt=Rt[kt],Ht=[];for(let en=0,Kt=zt.length;en<Kt;en++){const Zt=zt[en];let Wt;if(Zt.isInterleavedBufferAttribute){const tn=St(lt.data,Zt.data);Wt=new InterleavedBufferAttribute(tn,Zt.itemSize,Zt.offset,Zt.normalized)}else{const tn=getTypedArray(Zt.type,Zt.array);Wt=new BufferAttribute(tn,Zt.itemSize,Zt.normalized)}Zt.name!==void 0&&(Wt.name=Zt.name),Ht.push(Wt)}At.morphAttributes[kt]=Ht}lt.data.morphTargetsRelative&&(At.morphTargetsRelative=!0);const Ft=lt.data.groups||lt.data.drawcalls||lt.data.offsets;if(Ft!==void 0)for(let kt=0,zt=Ft.length;kt!==zt;++kt){const Ht=Ft[kt];At.addGroup(Ht.start,Ht.count,Ht.materialIndex)}const Dt=lt.data.boundingSphere;if(Dt!==void 0){const kt=new Vector3;Dt.center!==void 0&&kt.fromArray(Dt.center),At.boundingSphere=new Sphere$1(kt,Dt.radius)}return lt.name&&(At.name=lt.name),lt.userData&&(At.userData=lt.userData),At}}class ObjectLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=this,At=this.path===""?LoaderUtils.extractUrlBase(lt):this.path;this.resourcePath=this.resourcePath||At;const Ct=new FileLoader(this.manager);Ct.setPath(this.path),Ct.setRequestHeader(this.requestHeader),Ct.setWithCredentials(this.withCredentials),Ct.load(lt,function(Tt){let Rt=null;try{Rt=JSON.parse(Tt)}catch(Ft){St!==void 0&&St(Ft),console.error("THREE:ObjectLoader: Can't parse "+lt+".",Ft.message);return}const Bt=Rt.metadata;if(Bt===void 0||Bt.type===void 0||Bt.type.toLowerCase()==="geometry"){St!==void 0&&St(new Error("THREE.ObjectLoader: Can't load "+lt)),console.error("THREE.ObjectLoader: Can't load "+lt);return}Et.parse(Rt,ft)},vt,St)}async loadAsync(lt,ft){const vt=this,St=this.path===""?LoaderUtils.extractUrlBase(lt):this.path;this.resourcePath=this.resourcePath||St;const Et=new FileLoader(this.manager);Et.setPath(this.path),Et.setRequestHeader(this.requestHeader),Et.setWithCredentials(this.withCredentials);const At=await Et.loadAsync(lt,ft),Ct=JSON.parse(At),Tt=Ct.metadata;if(Tt===void 0||Tt.type===void 0||Tt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+lt);return await vt.parseAsync(Ct)}parse(lt,ft){const vt=this.parseAnimations(lt.animations),St=this.parseShapes(lt.shapes),Et=this.parseGeometries(lt.geometries,St),At=this.parseImages(lt.images,function(){ft!==void 0&&ft(Rt)}),Ct=this.parseTextures(lt.textures,At),Tt=this.parseMaterials(lt.materials,Ct),Rt=this.parseObject(lt.object,Et,Tt,Ct,vt),Bt=this.parseSkeletons(lt.skeletons,Rt);if(this.bindSkeletons(Rt,Bt),ft!==void 0){let Ft=!1;for(const Dt in At)if(At[Dt].data instanceof HTMLImageElement){Ft=!0;break}Ft===!1&&ft(Rt)}return Rt}async parseAsync(lt){const ft=this.parseAnimations(lt.animations),vt=this.parseShapes(lt.shapes),St=this.parseGeometries(lt.geometries,vt),Et=await this.parseImagesAsync(lt.images),At=this.parseTextures(lt.textures,Et),Ct=this.parseMaterials(lt.materials,At),Tt=this.parseObject(lt.object,St,Ct,At,ft),Rt=this.parseSkeletons(lt.skeletons,Tt);return this.bindSkeletons(Tt,Rt),Tt}parseShapes(lt){const ft={};if(lt!==void 0)for(let vt=0,St=lt.length;vt<St;vt++){const Et=new Shape().fromJSON(lt[vt]);ft[Et.uuid]=Et}return ft}parseSkeletons(lt,ft){const vt={},St={};if(ft.traverse(function(Et){Et.isBone&&(St[Et.uuid]=Et)}),lt!==void 0)for(let Et=0,At=lt.length;Et<At;Et++){const Ct=new Skeleton().fromJSON(lt[Et],St);vt[Ct.uuid]=Ct}return vt}parseGeometries(lt,ft){const vt={};if(lt!==void 0){const St=new BufferGeometryLoader;for(let Et=0,At=lt.length;Et<At;Et++){let Ct;const Tt=lt[Et];switch(Tt.type){case"BufferGeometry":case"InstancedBufferGeometry":Ct=St.parse(Tt);break;default:Tt.type in Geometries?Ct=Geometries[Tt.type].fromJSON(Tt,ft):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${Tt.type}"`)}Ct.uuid=Tt.uuid,Tt.name!==void 0&&(Ct.name=Tt.name),Ct.isBufferGeometry===!0&&Tt.userData!==void 0&&(Ct.userData=Tt.userData),vt[Tt.uuid]=Ct}}return vt}parseMaterials(lt,ft){const vt={},St={};if(lt!==void 0){const Et=new MaterialLoader;Et.setTextures(ft);for(let At=0,Ct=lt.length;At<Ct;At++){const Tt=lt[At];vt[Tt.uuid]===void 0&&(vt[Tt.uuid]=Et.parse(Tt)),St[Tt.uuid]=vt[Tt.uuid]}}return St}parseAnimations(lt){const ft={};if(lt!==void 0)for(let vt=0;vt<lt.length;vt++){const St=lt[vt],Et=AnimationClip.parse(St);ft[Et.uuid]=Et}return ft}parseImages(lt,ft){const vt=this,St={};let Et;function At(Tt){return vt.manager.itemStart(Tt),Et.load(Tt,function(){vt.manager.itemEnd(Tt)},void 0,function(){vt.manager.itemError(Tt),vt.manager.itemEnd(Tt)})}function Ct(Tt){if(typeof Tt=="string"){const Rt=Tt,Bt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Rt)?Rt:vt.resourcePath+Rt;return At(Bt)}else return Tt.data?{data:getTypedArray(Tt.type,Tt.data),width:Tt.width,height:Tt.height}:null}if(lt!==void 0&&lt.length>0){const Tt=new LoadingManager(ft);Et=new ImageLoader(Tt),Et.setCrossOrigin(this.crossOrigin);for(let Rt=0,Bt=lt.length;Rt<Bt;Rt++){const Ft=lt[Rt],Dt=Ft.url;if(Array.isArray(Dt)){const kt=[];for(let zt=0,Ht=Dt.length;zt<Ht;zt++){const en=Dt[zt],Kt=Ct(en);Kt!==null&&(Kt instanceof HTMLImageElement?kt.push(Kt):kt.push(new DataTexture(Kt.data,Kt.width,Kt.height)))}St[Ft.uuid]=new Source(kt)}else{const kt=Ct(Ft.url);St[Ft.uuid]=new Source(kt)}}}return St}async parseImagesAsync(lt){const ft=this,vt={};let St;async function Et(At){if(typeof At=="string"){const Ct=At,Tt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Ct)?Ct:ft.resourcePath+Ct;return await St.loadAsync(Tt)}else return At.data?{data:getTypedArray(At.type,At.data),width:At.width,height:At.height}:null}if(lt!==void 0&&lt.length>0){St=new ImageLoader(this.manager),St.setCrossOrigin(this.crossOrigin);for(let At=0,Ct=lt.length;At<Ct;At++){const Tt=lt[At],Rt=Tt.url;if(Array.isArray(Rt)){const Bt=[];for(let Ft=0,Dt=Rt.length;Ft<Dt;Ft++){const kt=Rt[Ft],zt=await Et(kt);zt!==null&&(zt instanceof HTMLImageElement?Bt.push(zt):Bt.push(new DataTexture(zt.data,zt.width,zt.height)))}vt[Tt.uuid]=new Source(Bt)}else{const Bt=await Et(Tt.url);vt[Tt.uuid]=new Source(Bt)}}}return vt}parseTextures(lt,ft){function vt(Et,At){return typeof Et=="number"?Et:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",Et),At[Et])}const St={};if(lt!==void 0)for(let Et=0,At=lt.length;Et<At;Et++){const Ct=lt[Et];Ct.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',Ct.uuid),ft[Ct.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",Ct.image);const Tt=ft[Ct.image],Rt=Tt.data;let Bt;Array.isArray(Rt)?(Bt=new CubeTexture,Rt.length===6&&(Bt.needsUpdate=!0)):(Rt&&Rt.data?Bt=new DataTexture:Bt=new Texture,Rt&&(Bt.needsUpdate=!0)),Bt.source=Tt,Bt.uuid=Ct.uuid,Ct.name!==void 0&&(Bt.name=Ct.name),Ct.mapping!==void 0&&(Bt.mapping=vt(Ct.mapping,TEXTURE_MAPPING)),Ct.offset!==void 0&&Bt.offset.fromArray(Ct.offset),Ct.repeat!==void 0&&Bt.repeat.fromArray(Ct.repeat),Ct.center!==void 0&&Bt.center.fromArray(Ct.center),Ct.rotation!==void 0&&(Bt.rotation=Ct.rotation),Ct.wrap!==void 0&&(Bt.wrapS=vt(Ct.wrap[0],TEXTURE_WRAPPING),Bt.wrapT=vt(Ct.wrap[1],TEXTURE_WRAPPING)),Ct.format!==void 0&&(Bt.format=Ct.format),Ct.type!==void 0&&(Bt.type=Ct.type),Ct.encoding!==void 0&&(Bt.encoding=Ct.encoding),Ct.minFilter!==void 0&&(Bt.minFilter=vt(Ct.minFilter,TEXTURE_FILTER)),Ct.magFilter!==void 0&&(Bt.magFilter=vt(Ct.magFilter,TEXTURE_FILTER)),Ct.anisotropy!==void 0&&(Bt.anisotropy=Ct.anisotropy),Ct.flipY!==void 0&&(Bt.flipY=Ct.flipY),Ct.generateMipmaps!==void 0&&(Bt.generateMipmaps=Ct.generateMipmaps),Ct.premultiplyAlpha!==void 0&&(Bt.premultiplyAlpha=Ct.premultiplyAlpha),Ct.unpackAlignment!==void 0&&(Bt.unpackAlignment=Ct.unpackAlignment),Ct.userData!==void 0&&(Bt.userData=Ct.userData),St[Ct.uuid]=Bt}return St}parseObject(lt,ft,vt,St,Et){let At;function Ct(Dt){return ft[Dt]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Dt),ft[Dt]}function Tt(Dt){if(Dt!==void 0){if(Array.isArray(Dt)){const kt=[];for(let zt=0,Ht=Dt.length;zt<Ht;zt++){const en=Dt[zt];vt[en]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",en),kt.push(vt[en])}return kt}return vt[Dt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Dt),vt[Dt]}}function Rt(Dt){return St[Dt]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",Dt),St[Dt]}let Bt,Ft;switch(lt.type){case"Scene":At=new Scene$1,lt.background!==void 0&&(Number.isInteger(lt.background)?At.background=new Color(lt.background):At.background=Rt(lt.background)),lt.environment!==void 0&&(At.environment=Rt(lt.environment)),lt.fog!==void 0&&(lt.fog.type==="Fog"?At.fog=new Fog(lt.fog.color,lt.fog.near,lt.fog.far):lt.fog.type==="FogExp2"&&(At.fog=new FogExp2(lt.fog.color,lt.fog.density))),lt.backgroundBlurriness!==void 0&&(At.backgroundBlurriness=lt.backgroundBlurriness),lt.backgroundIntensity!==void 0&&(At.backgroundIntensity=lt.backgroundIntensity);break;case"PerspectiveCamera":At=new PerspectiveCamera$1(lt.fov,lt.aspect,lt.near,lt.far),lt.focus!==void 0&&(At.focus=lt.focus),lt.zoom!==void 0&&(At.zoom=lt.zoom),lt.filmGauge!==void 0&&(At.filmGauge=lt.filmGauge),lt.filmOffset!==void 0&&(At.filmOffset=lt.filmOffset),lt.view!==void 0&&(At.view=Object.assign({},lt.view));break;case"OrthographicCamera":At=new OrthographicCamera(lt.left,lt.right,lt.top,lt.bottom,lt.near,lt.far),lt.zoom!==void 0&&(At.zoom=lt.zoom),lt.view!==void 0&&(At.view=Object.assign({},lt.view));break;case"AmbientLight":At=new AmbientLight(lt.color,lt.intensity);break;case"DirectionalLight":At=new DirectionalLight(lt.color,lt.intensity);break;case"PointLight":At=new PointLight(lt.color,lt.intensity,lt.distance,lt.decay);break;case"RectAreaLight":At=new RectAreaLight(lt.color,lt.intensity,lt.width,lt.height);break;case"SpotLight":At=new SpotLight(lt.color,lt.intensity,lt.distance,lt.angle,lt.penumbra,lt.decay);break;case"HemisphereLight":At=new HemisphereLight(lt.color,lt.groundColor,lt.intensity);break;case"LightProbe":At=new LightProbe().fromJSON(lt);break;case"SkinnedMesh":Bt=Ct(lt.geometry),Ft=Tt(lt.material),At=new SkinnedMesh(Bt,Ft),lt.bindMode!==void 0&&(At.bindMode=lt.bindMode),lt.bindMatrix!==void 0&&At.bindMatrix.fromArray(lt.bindMatrix),lt.skeleton!==void 0&&(At.skeleton=lt.skeleton);break;case"Mesh":Bt=Ct(lt.geometry),Ft=Tt(lt.material),At=new Mesh(Bt,Ft);break;case"InstancedMesh":Bt=Ct(lt.geometry),Ft=Tt(lt.material);const Dt=lt.count,kt=lt.instanceMatrix,zt=lt.instanceColor;At=new InstancedMesh(Bt,Ft,Dt),At.instanceMatrix=new InstancedBufferAttribute(new Float32Array(kt.array),16),zt!==void 0&&(At.instanceColor=new InstancedBufferAttribute(new Float32Array(zt.array),zt.itemSize));break;case"LOD":At=new LOD;break;case"Line":At=new Line$1(Ct(lt.geometry),Tt(lt.material));break;case"LineLoop":At=new LineLoop(Ct(lt.geometry),Tt(lt.material));break;case"LineSegments":At=new LineSegments(Ct(lt.geometry),Tt(lt.material));break;case"PointCloud":case"Points":At=new Points(Ct(lt.geometry),Tt(lt.material));break;case"Sprite":At=new Sprite(Tt(lt.material));break;case"Group":At=new Group;break;case"Bone":At=new Bone;break;default:At=new Object3D}if(At.uuid=lt.uuid,lt.name!==void 0&&(At.name=lt.name),lt.matrix!==void 0?(At.matrix.fromArray(lt.matrix),lt.matrixAutoUpdate!==void 0&&(At.matrixAutoUpdate=lt.matrixAutoUpdate),At.matrixAutoUpdate&&At.matrix.decompose(At.position,At.quaternion,At.scale)):(lt.position!==void 0&&At.position.fromArray(lt.position),lt.rotation!==void 0&&At.rotation.fromArray(lt.rotation),lt.quaternion!==void 0&&At.quaternion.fromArray(lt.quaternion),lt.scale!==void 0&&At.scale.fromArray(lt.scale)),lt.castShadow!==void 0&&(At.castShadow=lt.castShadow),lt.receiveShadow!==void 0&&(At.receiveShadow=lt.receiveShadow),lt.shadow&&(lt.shadow.bias!==void 0&&(At.shadow.bias=lt.shadow.bias),lt.shadow.normalBias!==void 0&&(At.shadow.normalBias=lt.shadow.normalBias),lt.shadow.radius!==void 0&&(At.shadow.radius=lt.shadow.radius),lt.shadow.mapSize!==void 0&&At.shadow.mapSize.fromArray(lt.shadow.mapSize),lt.shadow.camera!==void 0&&(At.shadow.camera=this.parseObject(lt.shadow.camera))),lt.visible!==void 0&&(At.visible=lt.visible),lt.frustumCulled!==void 0&&(At.frustumCulled=lt.frustumCulled),lt.renderOrder!==void 0&&(At.renderOrder=lt.renderOrder),lt.userData!==void 0&&(At.userData=lt.userData),lt.layers!==void 0&&(At.layers.mask=lt.layers),lt.children!==void 0){const Dt=lt.children;for(let kt=0;kt<Dt.length;kt++)At.add(this.parseObject(Dt[kt],ft,vt,St,Et))}if(lt.animations!==void 0){const Dt=lt.animations;for(let kt=0;kt<Dt.length;kt++){const zt=Dt[kt];At.animations.push(Et[zt])}}if(lt.type==="LOD"){lt.autoUpdate!==void 0&&(At.autoUpdate=lt.autoUpdate);const Dt=lt.levels;for(let kt=0;kt<Dt.length;kt++){const zt=Dt[kt],Ht=At.getObjectByProperty("uuid",zt.object);Ht!==void 0&&At.addLevel(Ht,zt.distance,zt.hysteresis)}}return At}bindSkeletons(lt,ft){Object.keys(ft).length!==0&&lt.traverse(function(vt){if(vt.isSkinnedMesh===!0&&vt.skeleton!==void 0){const St=ft[vt.skeleton];St===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",vt.skeleton):vt.bind(St,vt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(lt){super(lt),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(lt){return this.options=lt,this}load(lt,ft,vt,St){lt===void 0&&(lt=""),this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const Et=this,At=Cache.get(lt);if(At!==void 0)return Et.manager.itemStart(lt),setTimeout(function(){ft&&ft(At),Et.manager.itemEnd(lt)},0),At;const Ct={};Ct.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",Ct.headers=this.requestHeader,fetch(lt,Ct).then(function(Tt){return Tt.blob()}).then(function(Tt){return createImageBitmap(Tt,Object.assign(Et.options,{colorSpaceConversion:"none"}))}).then(function(Tt){Cache.add(lt,Tt),ft&&ft(Tt),Et.manager.itemEnd(lt)}).catch(function(Tt){St&&St(Tt),Et.manager.itemError(lt),Et.manager.itemEnd(lt)}),Et.manager.itemStart(lt)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(lt){_context=lt}}class AudioLoader extends Loader{constructor(lt){super(lt)}load(lt,ft,vt,St){const Et=this,At=new FileLoader(this.manager);At.setResponseType("arraybuffer"),At.setPath(this.path),At.setRequestHeader(this.requestHeader),At.setWithCredentials(this.withCredentials),At.load(lt,function(Ct){try{const Tt=Ct.slice(0);AudioContext.getContext().decodeAudioData(Tt,function(Bt){ft(Bt)})}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}}class HemisphereLightProbe extends LightProbe{constructor(lt,ft,vt=1){super(void 0,vt),this.isHemisphereLightProbe=!0;const St=new Color().set(lt),Et=new Color().set(ft),At=new Vector3(St.r,St.g,St.b),Ct=new Vector3(Et.r,Et.g,Et.b),Tt=Math.sqrt(Math.PI),Rt=Tt*Math.sqrt(.75);this.sh.coefficients[0].copy(At).add(Ct).multiplyScalar(Tt),this.sh.coefficients[1].copy(At).sub(Ct).multiplyScalar(Rt)}}class AmbientLightProbe extends LightProbe{constructor(lt,ft=1){super(void 0,ft),this.isAmbientLightProbe=!0;const vt=new Color().set(lt);this.sh.coefficients[0].set(vt.r,vt.g,vt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(lt){const ft=this._cache;if(ft.focus!==lt.focus||ft.fov!==lt.fov||ft.aspect!==lt.aspect*this.aspect||ft.near!==lt.near||ft.far!==lt.far||ft.zoom!==lt.zoom||ft.eyeSep!==this.eyeSep){ft.focus=lt.focus,ft.fov=lt.fov,ft.aspect=lt.aspect*this.aspect,ft.near=lt.near,ft.far=lt.far,ft.zoom=lt.zoom,ft.eyeSep=this.eyeSep,_projectionMatrix.copy(lt.projectionMatrix);const St=ft.eyeSep/2,Et=St*ft.near/ft.focus,At=ft.near*Math.tan(DEG2RAD*ft.fov*.5)/ft.zoom;let Ct,Tt;_eyeLeft.elements[12]=-St,_eyeRight.elements[12]=St,Ct=-At*ft.aspect+Et,Tt=At*ft.aspect+Et,_projectionMatrix.elements[0]=2*ft.near/(Tt-Ct),_projectionMatrix.elements[8]=(Tt+Ct)/(Tt-Ct),this.cameraL.projectionMatrix.copy(_projectionMatrix),Ct=-At*ft.aspect-Et,Tt=At*ft.aspect-Et,_projectionMatrix.elements[0]=2*ft.near/(Tt-Ct),_projectionMatrix.elements[8]=(Tt+Ct)/(Tt-Ct),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(lt.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(lt.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(lt=!0){this.autoStart=lt,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let lt=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const ft=now$2();lt=(ft-this.oldTime)/1e3,this.oldTime=ft,this.elapsedTime+=lt}return lt}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(lt){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=lt,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(lt){return this.gain.gain.setTargetAtTime(lt,this.context.currentTime,.01),this}updateMatrixWorld(lt){super.updateMatrixWorld(lt);const ft=this.context.listener,vt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),ft.positionX){const St=this.context.currentTime+this.timeDelta;ft.positionX.linearRampToValueAtTime(_position$1.x,St),ft.positionY.linearRampToValueAtTime(_position$1.y,St),ft.positionZ.linearRampToValueAtTime(_position$1.z,St),ft.forwardX.linearRampToValueAtTime(_orientation$1.x,St),ft.forwardY.linearRampToValueAtTime(_orientation$1.y,St),ft.forwardZ.linearRampToValueAtTime(_orientation$1.z,St),ft.upX.linearRampToValueAtTime(vt.x,St),ft.upY.linearRampToValueAtTime(vt.y,St),ft.upZ.linearRampToValueAtTime(vt.z,St)}else ft.setPosition(_position$1.x,_position$1.y,_position$1.z),ft.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,vt.x,vt.y,vt.z)}}class Audio extends Object3D{constructor(lt){super(),this.type="Audio",this.listener=lt,this.context=lt.context,this.gain=this.context.createGain(),this.gain.connect(lt.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(lt){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=lt,this.connect(),this}setMediaElementSource(lt){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(lt),this.connect(),this}setMediaStreamSource(lt){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(lt),this.connect(),this}setBuffer(lt){return this.buffer=lt,this.sourceType="buffer",this.autoplay&&this.play(),this}play(lt=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+lt;const ft=this.context.createBufferSource();return ft.buffer=this.buffer,ft.loop=this.loop,ft.loopStart=this.loopStart,ft.loopEnd=this.loopEnd,ft.onended=this.onEnded.bind(this),ft.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=ft,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let lt=1,ft=this.filters.length;lt<ft;lt++)this.filters[lt-1].connect(this.filters[lt]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let lt=1,ft=this.filters.length;lt<ft;lt++)this.filters[lt-1].disconnect(this.filters[lt]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(lt){return lt||(lt=[]),this._connected===!0?(this.disconnect(),this.filters=lt.slice(),this.connect()):this.filters=lt.slice(),this}setDetune(lt){if(this.detune=lt,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(lt){return this.setFilters(lt?[lt]:[])}setPlaybackRate(lt){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=lt,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(lt){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=lt,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(lt){return this.loopStart=lt,this}setLoopEnd(lt){return this.loopEnd=lt,this}getVolume(){return this.gain.gain.value}setVolume(lt){return this.gain.gain.setTargetAtTime(lt,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(lt){super(lt),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(lt){return this.panner.refDistance=lt,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(lt){return this.panner.rolloffFactor=lt,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(lt){return this.panner.distanceModel=lt,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(lt){return this.panner.maxDistance=lt,this}setDirectionalCone(lt,ft,vt){return this.panner.coneInnerAngle=lt,this.panner.coneOuterAngle=ft,this.panner.coneOuterGain=vt,this}updateMatrixWorld(lt){if(super.updateMatrixWorld(lt),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const ft=this.panner;if(ft.positionX){const vt=this.context.currentTime+this.listener.timeDelta;ft.positionX.linearRampToValueAtTime(_position.x,vt),ft.positionY.linearRampToValueAtTime(_position.y,vt),ft.positionZ.linearRampToValueAtTime(_position.z,vt),ft.orientationX.linearRampToValueAtTime(_orientation.x,vt),ft.orientationY.linearRampToValueAtTime(_orientation.y,vt),ft.orientationZ.linearRampToValueAtTime(_orientation.z,vt)}else ft.setPosition(_position.x,_position.y,_position.z),ft.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(lt,ft=2048){this.analyser=lt.context.createAnalyser(),this.analyser.fftSize=ft,this.data=new Uint8Array(this.analyser.frequencyBinCount),lt.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let lt=0;const ft=this.getFrequencyData();for(let vt=0;vt<ft.length;vt++)lt+=ft[vt];return lt/ft.length}}class PropertyMixer{constructor(lt,ft,vt){this.binding=lt,this.valueSize=vt;let St,Et,At;switch(ft){case"quaternion":St=this._slerp,Et=this._slerpAdditive,At=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(vt*6),this._workIndex=5;break;case"string":case"bool":St=this._select,Et=this._select,At=this._setAdditiveIdentityOther,this.buffer=new Array(vt*5);break;default:St=this._lerp,Et=this._lerpAdditive,At=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(vt*5)}this._mixBufferRegion=St,this._mixBufferRegionAdditive=Et,this._setIdentity=At,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(lt,ft){const vt=this.buffer,St=this.valueSize,Et=lt*St+St;let At=this.cumulativeWeight;if(At===0){for(let Ct=0;Ct!==St;++Ct)vt[Et+Ct]=vt[Ct];At=ft}else{At+=ft;const Ct=ft/At;this._mixBufferRegion(vt,Et,0,Ct,St)}this.cumulativeWeight=At}accumulateAdditive(lt){const ft=this.buffer,vt=this.valueSize,St=vt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(ft,St,0,lt,vt),this.cumulativeWeightAdditive+=lt}apply(lt){const ft=this.valueSize,vt=this.buffer,St=lt*ft+ft,Et=this.cumulativeWeight,At=this.cumulativeWeightAdditive,Ct=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,Et<1){const Tt=ft*this._origIndex;this._mixBufferRegion(vt,St,Tt,1-Et,ft)}At>0&&this._mixBufferRegionAdditive(vt,St,this._addIndex*ft,1,ft);for(let Tt=ft,Rt=ft+ft;Tt!==Rt;++Tt)if(vt[Tt]!==vt[Tt+ft]){Ct.setValue(vt,St);break}}saveOriginalState(){const lt=this.binding,ft=this.buffer,vt=this.valueSize,St=vt*this._origIndex;lt.getValue(ft,St);for(let Et=vt,At=St;Et!==At;++Et)ft[Et]=ft[St+Et%vt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const lt=this.valueSize*3;this.binding.setValue(this.buffer,lt)}_setAdditiveIdentityNumeric(){const lt=this._addIndex*this.valueSize,ft=lt+this.valueSize;for(let vt=lt;vt<ft;vt++)this.buffer[vt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const lt=this._origIndex*this.valueSize,ft=this._addIndex*this.valueSize;for(let vt=0;vt<this.valueSize;vt++)this.buffer[ft+vt]=this.buffer[lt+vt]}_select(lt,ft,vt,St,Et){if(St>=.5)for(let At=0;At!==Et;++At)lt[ft+At]=lt[vt+At]}_slerp(lt,ft,vt,St){Quaternion.slerpFlat(lt,ft,lt,ft,lt,vt,St)}_slerpAdditive(lt,ft,vt,St,Et){const At=this._workIndex*Et;Quaternion.multiplyQuaternionsFlat(lt,At,lt,ft,lt,vt),Quaternion.slerpFlat(lt,ft,lt,ft,lt,At,St)}_lerp(lt,ft,vt,St,Et){const At=1-St;for(let Ct=0;Ct!==Et;++Ct){const Tt=ft+Ct;lt[Tt]=lt[Tt]*At+lt[vt+Ct]*St}}_lerpAdditive(lt,ft,vt,St,Et){for(let At=0;At!==Et;++At){const Ct=ft+At;lt[Ct]=lt[Ct]+lt[vt+At]*St}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(lt,ft,vt){const St=vt||PropertyBinding.parseTrackName(ft);this._targetGroup=lt,this._bindings=lt.subscribe_(ft,St)}getValue(lt,ft){this.bind();const vt=this._targetGroup.nCachedObjects_,St=this._bindings[vt];St!==void 0&&St.getValue(lt,ft)}setValue(lt,ft){const vt=this._bindings;for(let St=this._targetGroup.nCachedObjects_,Et=vt.length;St!==Et;++St)vt[St].setValue(lt,ft)}bind(){const lt=this._bindings;for(let ft=this._targetGroup.nCachedObjects_,vt=lt.length;ft!==vt;++ft)lt[ft].bind()}unbind(){const lt=this._bindings;for(let ft=this._targetGroup.nCachedObjects_,vt=lt.length;ft!==vt;++ft)lt[ft].unbind()}}class PropertyBinding{constructor(lt,ft,vt){this.path=ft,this.parsedPath=vt||PropertyBinding.parseTrackName(ft),this.node=PropertyBinding.findNode(lt,this.parsedPath.nodeName)||lt,this.rootNode=lt,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(lt,ft,vt){return lt&&lt.isAnimationObjectGroup?new PropertyBinding.Composite(lt,ft,vt):new PropertyBinding(lt,ft,vt)}static sanitizeNodeName(lt){return lt.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(lt){const ft=_trackRe.exec(lt);if(ft===null)throw new Error("PropertyBinding: Cannot parse trackName: "+lt);const vt={nodeName:ft[2],objectName:ft[3],objectIndex:ft[4],propertyName:ft[5],propertyIndex:ft[6]},St=vt.nodeName&&vt.nodeName.lastIndexOf(".");if(St!==void 0&&St!==-1){const Et=vt.nodeName.substring(St+1);_supportedObjectNames.indexOf(Et)!==-1&&(vt.nodeName=vt.nodeName.substring(0,St),vt.objectName=Et)}if(vt.propertyName===null||vt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+lt);return vt}static findNode(lt,ft){if(ft===void 0||ft===""||ft==="."||ft===-1||ft===lt.name||ft===lt.uuid)return lt;if(lt.skeleton){const vt=lt.skeleton.getBoneByName(ft);if(vt!==void 0)return vt}if(lt.children){const vt=function(Et){for(let At=0;At<Et.length;At++){const Ct=Et[At];if(Ct.name===ft||Ct.uuid===ft)return Ct;const Tt=vt(Ct.children);if(Tt)return Tt}return null},St=vt(lt.children);if(St)return St}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(lt,ft){lt[ft]=this.targetObject[this.propertyName]}_getValue_array(lt,ft){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)lt[ft++]=vt[St]}_getValue_arrayElement(lt,ft){lt[ft]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(lt,ft){this.resolvedProperty.toArray(lt,ft)}_setValue_direct(lt,ft){this.targetObject[this.propertyName]=lt[ft]}_setValue_direct_setNeedsUpdate(lt,ft){this.targetObject[this.propertyName]=lt[ft],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(lt,ft){this.targetObject[this.propertyName]=lt[ft],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(lt,ft){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)vt[St]=lt[ft++]}_setValue_array_setNeedsUpdate(lt,ft){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)vt[St]=lt[ft++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(lt,ft){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)vt[St]=lt[ft++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(lt,ft){this.resolvedProperty[this.propertyIndex]=lt[ft]}_setValue_arrayElement_setNeedsUpdate(lt,ft){this.resolvedProperty[this.propertyIndex]=lt[ft],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(lt,ft){this.resolvedProperty[this.propertyIndex]=lt[ft],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(lt,ft){this.resolvedProperty.fromArray(lt,ft)}_setValue_fromArray_setNeedsUpdate(lt,ft){this.resolvedProperty.fromArray(lt,ft),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(lt,ft){this.resolvedProperty.fromArray(lt,ft),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(lt,ft){this.bind(),this.getValue(lt,ft)}_setValue_unbound(lt,ft){this.bind(),this.setValue(lt,ft)}bind(){let lt=this.node;const ft=this.parsedPath,vt=ft.objectName,St=ft.propertyName;let Et=ft.propertyIndex;if(lt||(lt=PropertyBinding.findNode(this.rootNode,ft.nodeName)||this.rootNode,this.node=lt),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!lt){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(vt){let Rt=ft.objectIndex;switch(vt){case"materials":if(!lt.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!lt.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}lt=lt.material.materials;break;case"bones":if(!lt.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}lt=lt.skeleton.bones;for(let Bt=0;Bt<lt.length;Bt++)if(lt[Bt].name===Rt){Rt=Bt;break}break;case"map":if("map"in lt){lt=lt.map;break}if(!lt.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!lt.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}lt=lt.material.map;break;default:if(lt[vt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}lt=lt[vt]}if(Rt!==void 0){if(lt[Rt]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,lt);return}lt=lt[Rt]}}const At=lt[St];if(At===void 0){const Rt=ft.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Rt+"."+St+" but it wasn't found.",lt);return}let Ct=this.Versioning.None;this.targetObject=lt,lt.needsUpdate!==void 0?Ct=this.Versioning.NeedsUpdate:lt.matrixWorldNeedsUpdate!==void 0&&(Ct=this.Versioning.MatrixWorldNeedsUpdate);let Tt=this.BindingType.Direct;if(Et!==void 0){if(St==="morphTargetInfluences"){if(!lt.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!lt.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}lt.morphTargetDictionary[Et]!==void 0&&(Et=lt.morphTargetDictionary[Et])}Tt=this.BindingType.ArrayElement,this.resolvedProperty=At,this.propertyIndex=Et}else At.fromArray!==void 0&&At.toArray!==void 0?(Tt=this.BindingType.HasFromToArray,this.resolvedProperty=At):Array.isArray(At)?(Tt=this.BindingType.EntireArray,this.resolvedProperty=At):this.propertyName=St;this.getValue=this.GetterByBindingType[Tt],this.setValue=this.SetterByBindingTypeAndVersioning[Tt][Ct]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const lt={};this._indicesByUUID=lt;for(let vt=0,St=arguments.length;vt!==St;++vt)lt[arguments[vt].uuid]=vt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const ft=this;this.stats={objects:{get total(){return ft._objects.length},get inUse(){return this.total-ft.nCachedObjects_}},get bindingsPerObject(){return ft._bindings.length}}}add(){const lt=this._objects,ft=this._indicesByUUID,vt=this._paths,St=this._parsedPaths,Et=this._bindings,At=Et.length;let Ct,Tt=lt.length,Rt=this.nCachedObjects_;for(let Bt=0,Ft=arguments.length;Bt!==Ft;++Bt){const Dt=arguments[Bt],kt=Dt.uuid;let zt=ft[kt];if(zt===void 0){zt=Tt++,ft[kt]=zt,lt.push(Dt);for(let Ht=0,en=At;Ht!==en;++Ht)Et[Ht].push(new PropertyBinding(Dt,vt[Ht],St[Ht]))}else if(zt<Rt){Ct=lt[zt];const Ht=--Rt,en=lt[Ht];ft[en.uuid]=zt,lt[zt]=en,ft[kt]=Ht,lt[Ht]=Dt;for(let Kt=0,Zt=At;Kt!==Zt;++Kt){const Wt=Et[Kt],tn=Wt[Ht];let an=Wt[zt];Wt[zt]=tn,an===void 0&&(an=new PropertyBinding(Dt,vt[Kt],St[Kt])),Wt[Ht]=an}}else lt[zt]!==Ct&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=Rt}remove(){const lt=this._objects,ft=this._indicesByUUID,vt=this._bindings,St=vt.length;let Et=this.nCachedObjects_;for(let At=0,Ct=arguments.length;At!==Ct;++At){const Tt=arguments[At],Rt=Tt.uuid,Bt=ft[Rt];if(Bt!==void 0&&Bt>=Et){const Ft=Et++,Dt=lt[Ft];ft[Dt.uuid]=Bt,lt[Bt]=Dt,ft[Rt]=Ft,lt[Ft]=Tt;for(let kt=0,zt=St;kt!==zt;++kt){const Ht=vt[kt],en=Ht[Ft],Kt=Ht[Bt];Ht[Bt]=en,Ht[Ft]=Kt}}}this.nCachedObjects_=Et}uncache(){const lt=this._objects,ft=this._indicesByUUID,vt=this._bindings,St=vt.length;let Et=this.nCachedObjects_,At=lt.length;for(let Ct=0,Tt=arguments.length;Ct!==Tt;++Ct){const Rt=arguments[Ct],Bt=Rt.uuid,Ft=ft[Bt];if(Ft!==void 0)if(delete ft[Bt],Ft<Et){const Dt=--Et,kt=lt[Dt],zt=--At,Ht=lt[zt];ft[kt.uuid]=Ft,lt[Ft]=kt,ft[Ht.uuid]=Dt,lt[Dt]=Ht,lt.pop();for(let en=0,Kt=St;en!==Kt;++en){const Zt=vt[en],Wt=Zt[Dt],tn=Zt[zt];Zt[Ft]=Wt,Zt[Dt]=tn,Zt.pop()}}else{const Dt=--At,kt=lt[Dt];Dt>0&&(ft[kt.uuid]=Ft),lt[Ft]=kt,lt.pop();for(let zt=0,Ht=St;zt!==Ht;++zt){const en=vt[zt];en[Ft]=en[Dt],en.pop()}}}this.nCachedObjects_=Et}subscribe_(lt,ft){const vt=this._bindingsIndicesByPath;let St=vt[lt];const Et=this._bindings;if(St!==void 0)return Et[St];const At=this._paths,Ct=this._parsedPaths,Tt=this._objects,Rt=Tt.length,Bt=this.nCachedObjects_,Ft=new Array(Rt);St=Et.length,vt[lt]=St,At.push(lt),Ct.push(ft),Et.push(Ft);for(let Dt=Bt,kt=Tt.length;Dt!==kt;++Dt){const zt=Tt[Dt];Ft[Dt]=new PropertyBinding(zt,lt,ft)}return Ft}unsubscribe_(lt){const ft=this._bindingsIndicesByPath,vt=ft[lt];if(vt!==void 0){const St=this._paths,Et=this._parsedPaths,At=this._bindings,Ct=At.length-1,Tt=At[Ct],Rt=lt[Ct];ft[Rt]=vt,At[vt]=Tt,At.pop(),Et[vt]=Et[Ct],Et.pop(),St[vt]=St[Ct],St.pop()}}}class AnimationAction{constructor(lt,ft,vt=null,St=ft.blendMode){this._mixer=lt,this._clip=ft,this._localRoot=vt,this.blendMode=St;const Et=ft.tracks,At=Et.length,Ct=new Array(At),Tt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let Rt=0;Rt!==At;++Rt){const Bt=Et[Rt].createInterpolant(null);Ct[Rt]=Bt,Bt.settings=Tt}this._interpolantSettings=Tt,this._interpolants=Ct,this._propertyBindings=new Array(At),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(lt){return this._startTime=lt,this}setLoop(lt,ft){return this.loop=lt,this.repetitions=ft,this}setEffectiveWeight(lt){return this.weight=lt,this._effectiveWeight=this.enabled?lt:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(lt){return this._scheduleFading(lt,0,1)}fadeOut(lt){return this._scheduleFading(lt,1,0)}crossFadeFrom(lt,ft,vt){if(lt.fadeOut(ft),this.fadeIn(ft),vt){const St=this._clip.duration,Et=lt._clip.duration,At=Et/St,Ct=St/Et;lt.warp(1,At,ft),this.warp(Ct,1,ft)}return this}crossFadeTo(lt,ft,vt){return lt.crossFadeFrom(this,ft,vt)}stopFading(){const lt=this._weightInterpolant;return lt!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(lt)),this}setEffectiveTimeScale(lt){return this.timeScale=lt,this._effectiveTimeScale=this.paused?0:lt,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(lt){return this.timeScale=this._clip.duration/lt,this.stopWarping()}syncWith(lt){return this.time=lt.time,this.timeScale=lt.timeScale,this.stopWarping()}halt(lt){return this.warp(this._effectiveTimeScale,0,lt)}warp(lt,ft,vt){const St=this._mixer,Et=St.time,At=this.timeScale;let Ct=this._timeScaleInterpolant;Ct===null&&(Ct=St._lendControlInterpolant(),this._timeScaleInterpolant=Ct);const Tt=Ct.parameterPositions,Rt=Ct.sampleValues;return Tt[0]=Et,Tt[1]=Et+vt,Rt[0]=lt/At,Rt[1]=ft/At,this}stopWarping(){const lt=this._timeScaleInterpolant;return lt!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(lt)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(lt,ft,vt,St){if(!this.enabled){this._updateWeight(lt);return}const Et=this._startTime;if(Et!==null){const Tt=(lt-Et)*vt;Tt<0||vt===0?ft=0:(this._startTime=null,ft=vt*Tt)}ft*=this._updateTimeScale(lt);const At=this._updateTime(ft),Ct=this._updateWeight(lt);if(Ct>0){const Tt=this._interpolants,Rt=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let Bt=0,Ft=Tt.length;Bt!==Ft;++Bt)Tt[Bt].evaluate(At),Rt[Bt].accumulateAdditive(Ct);break;case NormalAnimationBlendMode:default:for(let Bt=0,Ft=Tt.length;Bt!==Ft;++Bt)Tt[Bt].evaluate(At),Rt[Bt].accumulate(St,Ct)}}}_updateWeight(lt){let ft=0;if(this.enabled){ft=this.weight;const vt=this._weightInterpolant;if(vt!==null){const St=vt.evaluate(lt)[0];ft*=St,lt>vt.parameterPositions[1]&&(this.stopFading(),St===0&&(this.enabled=!1))}}return this._effectiveWeight=ft,ft}_updateTimeScale(lt){let ft=0;if(!this.paused){ft=this.timeScale;const vt=this._timeScaleInterpolant;if(vt!==null){const St=vt.evaluate(lt)[0];ft*=St,lt>vt.parameterPositions[1]&&(this.stopWarping(),ft===0?this.paused=!0:this.timeScale=ft)}}return this._effectiveTimeScale=ft,ft}_updateTime(lt){const ft=this._clip.duration,vt=this.loop;let St=this.time+lt,Et=this._loopCount;const At=vt===LoopPingPong;if(lt===0)return Et===-1?St:At&&(Et&1)===1?ft-St:St;if(vt===LoopOnce){Et===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(St>=ft)St=ft;else if(St<0)St=0;else{this.time=St;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=St,this._mixer.dispatchEvent({type:"finished",action:this,direction:lt<0?-1:1})}}else{if(Et===-1&&(lt>=0?(Et=0,this._setEndings(!0,this.repetitions===0,At)):this._setEndings(this.repetitions===0,!0,At)),St>=ft||St<0){const Ct=Math.floor(St/ft);St-=ft*Ct,Et+=Math.abs(Ct);const Tt=this.repetitions-Et;if(Tt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,St=lt>0?ft:0,this.time=St,this._mixer.dispatchEvent({type:"finished",action:this,direction:lt>0?1:-1});else{if(Tt===1){const Rt=lt<0;this._setEndings(Rt,!Rt,At)}else this._setEndings(!1,!1,At);this._loopCount=Et,this.time=St,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:Ct})}}else this.time=St;if(At&&(Et&1)===1)return ft-St}return St}_setEndings(lt,ft,vt){const St=this._interpolantSettings;vt?(St.endingStart=ZeroSlopeEnding,St.endingEnd=ZeroSlopeEnding):(lt?St.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:St.endingStart=WrapAroundEnding,ft?St.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:St.endingEnd=WrapAroundEnding)}_scheduleFading(lt,ft,vt){const St=this._mixer,Et=St.time;let At=this._weightInterpolant;At===null&&(At=St._lendControlInterpolant(),this._weightInterpolant=At);const Ct=At.parameterPositions,Tt=At.sampleValues;return Ct[0]=Et,Tt[0]=ft,Ct[1]=Et+lt,Tt[1]=vt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(lt){super(),this._root=lt,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(lt,ft){const vt=lt._localRoot||this._root,St=lt._clip.tracks,Et=St.length,At=lt._propertyBindings,Ct=lt._interpolants,Tt=vt.uuid,Rt=this._bindingsByRootAndName;let Bt=Rt[Tt];Bt===void 0&&(Bt={},Rt[Tt]=Bt);for(let Ft=0;Ft!==Et;++Ft){const Dt=St[Ft],kt=Dt.name;let zt=Bt[kt];if(zt!==void 0)++zt.referenceCount,At[Ft]=zt;else{if(zt=At[Ft],zt!==void 0){zt._cacheIndex===null&&(++zt.referenceCount,this._addInactiveBinding(zt,Tt,kt));continue}const Ht=ft&&ft._propertyBindings[Ft].binding.parsedPath;zt=new PropertyMixer(PropertyBinding.create(vt,kt,Ht),Dt.ValueTypeName,Dt.getValueSize()),++zt.referenceCount,this._addInactiveBinding(zt,Tt,kt),At[Ft]=zt}Ct[Ft].resultBuffer=zt.buffer}}_activateAction(lt){if(!this._isActiveAction(lt)){if(lt._cacheIndex===null){const vt=(lt._localRoot||this._root).uuid,St=lt._clip.uuid,Et=this._actionsByClip[St];this._bindAction(lt,Et&&Et.knownActions[0]),this._addInactiveAction(lt,St,vt)}const ft=lt._propertyBindings;for(let vt=0,St=ft.length;vt!==St;++vt){const Et=ft[vt];Et.useCount++===0&&(this._lendBinding(Et),Et.saveOriginalState())}this._lendAction(lt)}}_deactivateAction(lt){if(this._isActiveAction(lt)){const ft=lt._propertyBindings;for(let vt=0,St=ft.length;vt!==St;++vt){const Et=ft[vt];--Et.useCount===0&&(Et.restoreOriginalState(),this._takeBackBinding(Et))}this._takeBackAction(lt)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const lt=this;this.stats={actions:{get total(){return lt._actions.length},get inUse(){return lt._nActiveActions}},bindings:{get total(){return lt._bindings.length},get inUse(){return lt._nActiveBindings}},controlInterpolants:{get total(){return lt._controlInterpolants.length},get inUse(){return lt._nActiveControlInterpolants}}}}_isActiveAction(lt){const ft=lt._cacheIndex;return ft!==null&&ft<this._nActiveActions}_addInactiveAction(lt,ft,vt){const St=this._actions,Et=this._actionsByClip;let At=Et[ft];if(At===void 0)At={knownActions:[lt],actionByRoot:{}},lt._byClipCacheIndex=0,Et[ft]=At;else{const Ct=At.knownActions;lt._byClipCacheIndex=Ct.length,Ct.push(lt)}lt._cacheIndex=St.length,St.push(lt),At.actionByRoot[vt]=lt}_removeInactiveAction(lt){const ft=this._actions,vt=ft[ft.length-1],St=lt._cacheIndex;vt._cacheIndex=St,ft[St]=vt,ft.pop(),lt._cacheIndex=null;const Et=lt._clip.uuid,At=this._actionsByClip,Ct=At[Et],Tt=Ct.knownActions,Rt=Tt[Tt.length-1],Bt=lt._byClipCacheIndex;Rt._byClipCacheIndex=Bt,Tt[Bt]=Rt,Tt.pop(),lt._byClipCacheIndex=null;const Ft=Ct.actionByRoot,Dt=(lt._localRoot||this._root).uuid;delete Ft[Dt],Tt.length===0&&delete At[Et],this._removeInactiveBindingsForAction(lt)}_removeInactiveBindingsForAction(lt){const ft=lt._propertyBindings;for(let vt=0,St=ft.length;vt!==St;++vt){const Et=ft[vt];--Et.referenceCount===0&&this._removeInactiveBinding(Et)}}_lendAction(lt){const ft=this._actions,vt=lt._cacheIndex,St=this._nActiveActions++,Et=ft[St];lt._cacheIndex=St,ft[St]=lt,Et._cacheIndex=vt,ft[vt]=Et}_takeBackAction(lt){const ft=this._actions,vt=lt._cacheIndex,St=--this._nActiveActions,Et=ft[St];lt._cacheIndex=St,ft[St]=lt,Et._cacheIndex=vt,ft[vt]=Et}_addInactiveBinding(lt,ft,vt){const St=this._bindingsByRootAndName,Et=this._bindings;let At=St[ft];At===void 0&&(At={},St[ft]=At),At[vt]=lt,lt._cacheIndex=Et.length,Et.push(lt)}_removeInactiveBinding(lt){const ft=this._bindings,vt=lt.binding,St=vt.rootNode.uuid,Et=vt.path,At=this._bindingsByRootAndName,Ct=At[St],Tt=ft[ft.length-1],Rt=lt._cacheIndex;Tt._cacheIndex=Rt,ft[Rt]=Tt,ft.pop(),delete Ct[Et],Object.keys(Ct).length===0&&delete At[St]}_lendBinding(lt){const ft=this._bindings,vt=lt._cacheIndex,St=this._nActiveBindings++,Et=ft[St];lt._cacheIndex=St,ft[St]=lt,Et._cacheIndex=vt,ft[vt]=Et}_takeBackBinding(lt){const ft=this._bindings,vt=lt._cacheIndex,St=--this._nActiveBindings,Et=ft[St];lt._cacheIndex=St,ft[St]=lt,Et._cacheIndex=vt,ft[vt]=Et}_lendControlInterpolant(){const lt=this._controlInterpolants,ft=this._nActiveControlInterpolants++;let vt=lt[ft];return vt===void 0&&(vt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),vt.__cacheIndex=ft,lt[ft]=vt),vt}_takeBackControlInterpolant(lt){const ft=this._controlInterpolants,vt=lt.__cacheIndex,St=--this._nActiveControlInterpolants,Et=ft[St];lt.__cacheIndex=St,ft[St]=lt,Et.__cacheIndex=vt,ft[vt]=Et}clipAction(lt,ft,vt){const St=ft||this._root,Et=St.uuid;let At=typeof lt=="string"?AnimationClip.findByName(St,lt):lt;const Ct=At!==null?At.uuid:lt,Tt=this._actionsByClip[Ct];let Rt=null;if(vt===void 0&&(At!==null?vt=At.blendMode:vt=NormalAnimationBlendMode),Tt!==void 0){const Ft=Tt.actionByRoot[Et];if(Ft!==void 0&&Ft.blendMode===vt)return Ft;Rt=Tt.knownActions[0],At===null&&(At=Rt._clip)}if(At===null)return null;const Bt=new AnimationAction(this,At,ft,vt);return this._bindAction(Bt,Rt),this._addInactiveAction(Bt,Ct,Et),Bt}existingAction(lt,ft){const vt=ft||this._root,St=vt.uuid,Et=typeof lt=="string"?AnimationClip.findByName(vt,lt):lt,At=Et?Et.uuid:lt,Ct=this._actionsByClip[At];return Ct!==void 0&&Ct.actionByRoot[St]||null}stopAllAction(){const lt=this._actions,ft=this._nActiveActions;for(let vt=ft-1;vt>=0;--vt)lt[vt].stop();return this}update(lt){lt*=this.timeScale;const ft=this._actions,vt=this._nActiveActions,St=this.time+=lt,Et=Math.sign(lt),At=this._accuIndex^=1;for(let Rt=0;Rt!==vt;++Rt)ft[Rt]._update(St,lt,Et,At);const Ct=this._bindings,Tt=this._nActiveBindings;for(let Rt=0;Rt!==Tt;++Rt)Ct[Rt].apply(At);return this}setTime(lt){this.time=0;for(let ft=0;ft<this._actions.length;ft++)this._actions[ft].time=0;return this.update(lt)}getRoot(){return this._root}uncacheClip(lt){const ft=this._actions,vt=lt.uuid,St=this._actionsByClip,Et=St[vt];if(Et!==void 0){const At=Et.knownActions;for(let Ct=0,Tt=At.length;Ct!==Tt;++Ct){const Rt=At[Ct];this._deactivateAction(Rt);const Bt=Rt._cacheIndex,Ft=ft[ft.length-1];Rt._cacheIndex=null,Rt._byClipCacheIndex=null,Ft._cacheIndex=Bt,ft[Bt]=Ft,ft.pop(),this._removeInactiveBindingsForAction(Rt)}delete St[vt]}}uncacheRoot(lt){const ft=lt.uuid,vt=this._actionsByClip;for(const At in vt){const Ct=vt[At].actionByRoot,Tt=Ct[ft];Tt!==void 0&&(this._deactivateAction(Tt),this._removeInactiveAction(Tt))}const St=this._bindingsByRootAndName,Et=St[ft];if(Et!==void 0)for(const At in Et){const Ct=Et[At];Ct.restoreOriginalState(),this._removeInactiveBinding(Ct)}}uncacheAction(lt,ft){const vt=this.existingAction(lt,ft);vt!==null&&(this._deactivateAction(vt),this._removeInactiveAction(vt))}}class Uniform{constructor(lt){this.value=lt}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(lt){return this.uniforms.push(lt),this}remove(lt){const ft=this.uniforms.indexOf(lt);return ft!==-1&&this.uniforms.splice(ft,1),this}setName(lt){return this.name=lt,this}setUsage(lt){return this.usage=lt,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(lt){this.name=lt.name,this.usage=lt.usage;const ft=lt.uniforms;this.uniforms.length=0;for(let vt=0,St=ft.length;vt<St;vt++)this.uniforms.push(ft[vt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(lt,ft,vt=1){super(lt,ft),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=vt}copy(lt){return super.copy(lt),this.meshPerAttribute=lt.meshPerAttribute,this}clone(lt){const ft=super.clone(lt);return ft.meshPerAttribute=this.meshPerAttribute,ft}toJSON(lt){const ft=super.toJSON(lt);return ft.isInstancedInterleavedBuffer=!0,ft.meshPerAttribute=this.meshPerAttribute,ft}}class GLBufferAttribute{constructor(lt,ft,vt,St,Et){this.isGLBufferAttribute=!0,this.name="",this.buffer=lt,this.type=ft,this.itemSize=vt,this.elementSize=St,this.count=Et,this.version=0}set needsUpdate(lt){lt===!0&&this.version++}setBuffer(lt){return this.buffer=lt,this}setType(lt,ft){return this.type=lt,this.elementSize=ft,this}setItemSize(lt){return this.itemSize=lt,this}setCount(lt){return this.count=lt,this}}class Raycaster{constructor(lt,ft,vt=0,St=1/0){this.ray=new Ray(lt,ft),this.near=vt,this.far=St,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(lt,ft){this.ray.set(lt,ft)}setFromCamera(lt,ft){ft.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(ft.matrixWorld),this.ray.direction.set(lt.x,lt.y,.5).unproject(ft).sub(this.ray.origin).normalize(),this.camera=ft):ft.isOrthographicCamera?(this.ray.origin.set(lt.x,lt.y,(ft.near+ft.far)/(ft.near-ft.far)).unproject(ft),this.ray.direction.set(0,0,-1).transformDirection(ft.matrixWorld),this.camera=ft):console.error("THREE.Raycaster: Unsupported camera type: "+ft.type)}intersectObject(lt,ft=!0,vt=[]){return intersectObject(lt,this,vt,ft),vt.sort(ascSort),vt}intersectObjects(lt,ft=!0,vt=[]){for(let St=0,Et=lt.length;St<Et;St++)intersectObject(lt[St],this,vt,ft);return vt.sort(ascSort),vt}}function ascSort(dt,lt){return dt.distance-lt.distance}function intersectObject(dt,lt,ft,vt){if(dt.layers.test(lt.layers)&&dt.raycast(lt,ft),vt===!0){const St=dt.children;for(let Et=0,At=St.length;Et<At;Et++)intersectObject(St[Et],lt,ft,!0)}}class Spherical{constructor(lt=1,ft=0,vt=0){return this.radius=lt,this.phi=ft,this.theta=vt,this}set(lt,ft,vt){return this.radius=lt,this.phi=ft,this.theta=vt,this}copy(lt){return this.radius=lt.radius,this.phi=lt.phi,this.theta=lt.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(lt){return this.setFromCartesianCoords(lt.x,lt.y,lt.z)}setFromCartesianCoords(lt,ft,vt){return this.radius=Math.sqrt(lt*lt+ft*ft+vt*vt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(lt,vt),this.phi=Math.acos(clamp(ft/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(lt=1,ft=0,vt=0){return this.radius=lt,this.theta=ft,this.y=vt,this}set(lt,ft,vt){return this.radius=lt,this.theta=ft,this.y=vt,this}copy(lt){return this.radius=lt.radius,this.theta=lt.theta,this.y=lt.y,this}setFromVector3(lt){return this.setFromCartesianCoords(lt.x,lt.y,lt.z)}setFromCartesianCoords(lt,ft,vt){return this.radius=Math.sqrt(lt*lt+vt*vt),this.theta=Math.atan2(lt,vt),this.y=ft,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(lt=new Vector2(1/0,1/0),ft=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=lt,this.max=ft}set(lt,ft){return this.min.copy(lt),this.max.copy(ft),this}setFromPoints(lt){this.makeEmpty();for(let ft=0,vt=lt.length;ft<vt;ft++)this.expandByPoint(lt[ft]);return this}setFromCenterAndSize(lt,ft){const vt=_vector$4.copy(ft).multiplyScalar(.5);return this.min.copy(lt).sub(vt),this.max.copy(lt).add(vt),this}clone(){return new this.constructor().copy(this)}copy(lt){return this.min.copy(lt.min),this.max.copy(lt.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(lt){return this.isEmpty()?lt.set(0,0):lt.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(lt){return this.isEmpty()?lt.set(0,0):lt.subVectors(this.max,this.min)}expandByPoint(lt){return this.min.min(lt),this.max.max(lt),this}expandByVector(lt){return this.min.sub(lt),this.max.add(lt),this}expandByScalar(lt){return this.min.addScalar(-lt),this.max.addScalar(lt),this}containsPoint(lt){return!(lt.x<this.min.x||lt.x>this.max.x||lt.y<this.min.y||lt.y>this.max.y)}containsBox(lt){return this.min.x<=lt.min.x&&lt.max.x<=this.max.x&&this.min.y<=lt.min.y&&lt.max.y<=this.max.y}getParameter(lt,ft){return ft.set((lt.x-this.min.x)/(this.max.x-this.min.x),(lt.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(lt){return!(lt.max.x<this.min.x||lt.min.x>this.max.x||lt.max.y<this.min.y||lt.min.y>this.max.y)}clampPoint(lt,ft){return ft.copy(lt).clamp(this.min,this.max)}distanceToPoint(lt){return _vector$4.copy(lt).clamp(this.min,this.max).sub(lt).length()}intersect(lt){return this.min.max(lt.min),this.max.min(lt.max),this}union(lt){return this.min.min(lt.min),this.max.max(lt.max),this}translate(lt){return this.min.add(lt),this.max.add(lt),this}equals(lt){return lt.min.equals(this.min)&&lt.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(lt=new Vector3,ft=new Vector3){this.start=lt,this.end=ft}set(lt,ft){return this.start.copy(lt),this.end.copy(ft),this}copy(lt){return this.start.copy(lt.start),this.end.copy(lt.end),this}getCenter(lt){return lt.addVectors(this.start,this.end).multiplyScalar(.5)}delta(lt){return lt.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(lt,ft){return this.delta(ft).multiplyScalar(lt).add(this.start)}closestPointToPointParameter(lt,ft){_startP.subVectors(lt,this.start),_startEnd.subVectors(this.end,this.start);const vt=_startEnd.dot(_startEnd);let Et=_startEnd.dot(_startP)/vt;return ft&&(Et=clamp(Et,0,1)),Et}closestPointToPoint(lt,ft,vt){const St=this.closestPointToPointParameter(lt,ft);return this.delta(vt).multiplyScalar(St).add(this.start)}applyMatrix4(lt){return this.start.applyMatrix4(lt),this.end.applyMatrix4(lt),this}equals(lt){return lt.start.equals(this.start)&&lt.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(lt,ft){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=ft,this.type="SpotLightHelper";const vt=new BufferGeometry,St=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let At=0,Ct=1,Tt=32;At<Tt;At++,Ct++){const Rt=At/Tt*Math.PI*2,Bt=Ct/Tt*Math.PI*2;St.push(Math.cos(Rt),Math.sin(Rt),1,Math.cos(Bt),Math.sin(Bt),1)}vt.setAttribute("position",new Float32BufferAttribute(St,3));const Et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(vt,Et),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const lt=this.light.distance?this.light.distance:1e3,ft=lt*Math.tan(this.light.angle);this.cone.scale.set(ft,ft,lt),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(lt){const ft=getBoneList(lt),vt=new BufferGeometry,St=[],Et=[],At=new Color(0,0,1),Ct=new Color(0,1,0);for(let Rt=0;Rt<ft.length;Rt++){const Bt=ft[Rt];Bt.parent&&Bt.parent.isBone&&(St.push(0,0,0),St.push(0,0,0),Et.push(At.r,At.g,At.b),Et.push(Ct.r,Ct.g,Ct.b))}vt.setAttribute("position",new Float32BufferAttribute(St,3)),vt.setAttribute("color",new Float32BufferAttribute(Et,3));const Tt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(vt,Tt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=lt,this.bones=ft,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(lt){const ft=this.bones,vt=this.geometry,St=vt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let Et=0,At=0;Et<ft.length;Et++){const Ct=ft[Et];Ct.parent&&Ct.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,Ct.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),St.setXYZ(At,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,Ct.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),St.setXYZ(At+1,_vector$2.x,_vector$2.y,_vector$2.z),At+=2)}vt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(lt)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(dt){const lt=[];dt.isBone===!0&&lt.push(dt);for(let ft=0;ft<dt.children.length;ft++)lt.push.apply(lt,getBoneList(dt.children[ft]));return lt}class PointLightHelper extends Mesh{constructor(lt,ft,vt){const St=new SphereGeometry(ft,4,2),Et=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(St,Et),this.light=lt,this.color=vt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(lt,ft,vt){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=vt,this.type="HemisphereLightHelper";const St=new OctahedronGeometry(ft);St.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const Et=St.getAttribute("position"),At=new Float32Array(Et.count*3);St.setAttribute("color",new BufferAttribute(At,3)),this.add(new Mesh(St,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const lt=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const ft=lt.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let vt=0,St=ft.count;vt<St;vt++){const Et=vt<St/2?_color1:_color2;ft.setXYZ(vt,Et.r,Et.g,Et.b)}ft.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),lt.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(lt=10,ft=10,vt=4473924,St=8947848){vt=new Color(vt),St=new Color(St);const Et=ft/2,At=lt/ft,Ct=lt/2,Tt=[],Rt=[];for(let Dt=0,kt=0,zt=-Ct;Dt<=ft;Dt++,zt+=At){Tt.push(-Ct,0,zt,Ct,0,zt),Tt.push(zt,0,-Ct,zt,0,Ct);const Ht=Dt===Et?vt:St;Ht.toArray(Rt,kt),kt+=3,Ht.toArray(Rt,kt),kt+=3,Ht.toArray(Rt,kt),kt+=3,Ht.toArray(Rt,kt),kt+=3}const Bt=new BufferGeometry;Bt.setAttribute("position",new Float32BufferAttribute(Tt,3)),Bt.setAttribute("color",new Float32BufferAttribute(Rt,3));const Ft=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Bt,Ft),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(lt=10,ft=16,vt=8,St=64,Et=4473924,At=8947848){Et=new Color(Et),At=new Color(At);const Ct=[],Tt=[];if(ft>1)for(let Ft=0;Ft<ft;Ft++){const Dt=Ft/ft*(Math.PI*2),kt=Math.sin(Dt)*lt,zt=Math.cos(Dt)*lt;Ct.push(0,0,0),Ct.push(kt,0,zt);const Ht=Ft&1?Et:At;Tt.push(Ht.r,Ht.g,Ht.b),Tt.push(Ht.r,Ht.g,Ht.b)}for(let Ft=0;Ft<vt;Ft++){const Dt=Ft&1?Et:At,kt=lt-lt/vt*Ft;for(let zt=0;zt<St;zt++){let Ht=zt/St*(Math.PI*2),en=Math.sin(Ht)*kt,Kt=Math.cos(Ht)*kt;Ct.push(en,0,Kt),Tt.push(Dt.r,Dt.g,Dt.b),Ht=(zt+1)/St*(Math.PI*2),en=Math.sin(Ht)*kt,Kt=Math.cos(Ht)*kt,Ct.push(en,0,Kt),Tt.push(Dt.r,Dt.g,Dt.b)}}const Rt=new BufferGeometry;Rt.setAttribute("position",new Float32BufferAttribute(Ct,3)),Rt.setAttribute("color",new Float32BufferAttribute(Tt,3));const Bt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Rt,Bt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(lt,ft,vt){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=vt,this.type="DirectionalLightHelper",ft===void 0&&(ft=1);let St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute([-ft,ft,0,ft,ft,0,ft,-ft,0,-ft,-ft,0,-ft,ft,0],3));const Et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line$1(St,Et),this.add(this.lightPlane),St=new BufferGeometry,St.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line$1(St,Et),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector$d=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(lt){const ft=new BufferGeometry,vt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),St=[],Et=[],At={};Ct("n1","n2"),Ct("n2","n4"),Ct("n4","n3"),Ct("n3","n1"),Ct("f1","f2"),Ct("f2","f4"),Ct("f4","f3"),Ct("f3","f1"),Ct("n1","f1"),Ct("n2","f2"),Ct("n3","f3"),Ct("n4","f4"),Ct("p","n1"),Ct("p","n2"),Ct("p","n3"),Ct("p","n4"),Ct("u1","u2"),Ct("u2","u3"),Ct("u3","u1"),Ct("c","t"),Ct("p","c"),Ct("cn1","cn2"),Ct("cn3","cn4"),Ct("cf1","cf2"),Ct("cf3","cf4");function Ct(zt,Ht){Tt(zt),Tt(Ht)}function Tt(zt){St.push(0,0,0),Et.push(0,0,0),At[zt]===void 0&&(At[zt]=[]),At[zt].push(St.length/3-1)}ft.setAttribute("position",new Float32BufferAttribute(St,3)),ft.setAttribute("color",new Float32BufferAttribute(Et,3)),super(ft,vt),this.type="CameraHelper",this.camera=lt,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=At,this.update();const Rt=new Color(16755200),Bt=new Color(16711680),Ft=new Color(43775),Dt=new Color(16777215),kt=new Color(3355443);this.setColors(Rt,Bt,Ft,Dt,kt)}setColors(lt,ft,vt,St,Et){const Ct=this.geometry.getAttribute("color");Ct.setXYZ(0,lt.r,lt.g,lt.b),Ct.setXYZ(1,lt.r,lt.g,lt.b),Ct.setXYZ(2,lt.r,lt.g,lt.b),Ct.setXYZ(3,lt.r,lt.g,lt.b),Ct.setXYZ(4,lt.r,lt.g,lt.b),Ct.setXYZ(5,lt.r,lt.g,lt.b),Ct.setXYZ(6,lt.r,lt.g,lt.b),Ct.setXYZ(7,lt.r,lt.g,lt.b),Ct.setXYZ(8,lt.r,lt.g,lt.b),Ct.setXYZ(9,lt.r,lt.g,lt.b),Ct.setXYZ(10,lt.r,lt.g,lt.b),Ct.setXYZ(11,lt.r,lt.g,lt.b),Ct.setXYZ(12,lt.r,lt.g,lt.b),Ct.setXYZ(13,lt.r,lt.g,lt.b),Ct.setXYZ(14,lt.r,lt.g,lt.b),Ct.setXYZ(15,lt.r,lt.g,lt.b),Ct.setXYZ(16,lt.r,lt.g,lt.b),Ct.setXYZ(17,lt.r,lt.g,lt.b),Ct.setXYZ(18,lt.r,lt.g,lt.b),Ct.setXYZ(19,lt.r,lt.g,lt.b),Ct.setXYZ(20,lt.r,lt.g,lt.b),Ct.setXYZ(21,lt.r,lt.g,lt.b),Ct.setXYZ(22,lt.r,lt.g,lt.b),Ct.setXYZ(23,lt.r,lt.g,lt.b),Ct.setXYZ(24,ft.r,ft.g,ft.b),Ct.setXYZ(25,ft.r,ft.g,ft.b),Ct.setXYZ(26,ft.r,ft.g,ft.b),Ct.setXYZ(27,ft.r,ft.g,ft.b),Ct.setXYZ(28,ft.r,ft.g,ft.b),Ct.setXYZ(29,ft.r,ft.g,ft.b),Ct.setXYZ(30,ft.r,ft.g,ft.b),Ct.setXYZ(31,ft.r,ft.g,ft.b),Ct.setXYZ(32,vt.r,vt.g,vt.b),Ct.setXYZ(33,vt.r,vt.g,vt.b),Ct.setXYZ(34,vt.r,vt.g,vt.b),Ct.setXYZ(35,vt.r,vt.g,vt.b),Ct.setXYZ(36,vt.r,vt.g,vt.b),Ct.setXYZ(37,vt.r,vt.g,vt.b),Ct.setXYZ(38,St.r,St.g,St.b),Ct.setXYZ(39,St.r,St.g,St.b),Ct.setXYZ(40,Et.r,Et.g,Et.b),Ct.setXYZ(41,Et.r,Et.g,Et.b),Ct.setXYZ(42,Et.r,Et.g,Et.b),Ct.setXYZ(43,Et.r,Et.g,Et.b),Ct.setXYZ(44,Et.r,Et.g,Et.b),Ct.setXYZ(45,Et.r,Et.g,Et.b),Ct.setXYZ(46,Et.r,Et.g,Et.b),Ct.setXYZ(47,Et.r,Et.g,Et.b),Ct.setXYZ(48,Et.r,Et.g,Et.b),Ct.setXYZ(49,Et.r,Et.g,Et.b),Ct.needsUpdate=!0}update(){const lt=this.geometry,ft=this.pointMap,vt=1,St=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",ft,lt,_camera,0,0,-1),setPoint("t",ft,lt,_camera,0,0,1),setPoint("n1",ft,lt,_camera,-vt,-St,-1),setPoint("n2",ft,lt,_camera,vt,-St,-1),setPoint("n3",ft,lt,_camera,-vt,St,-1),setPoint("n4",ft,lt,_camera,vt,St,-1),setPoint("f1",ft,lt,_camera,-vt,-St,1),setPoint("f2",ft,lt,_camera,vt,-St,1),setPoint("f3",ft,lt,_camera,-vt,St,1),setPoint("f4",ft,lt,_camera,vt,St,1),setPoint("u1",ft,lt,_camera,vt*.7,St*1.1,-1),setPoint("u2",ft,lt,_camera,-vt*.7,St*1.1,-1),setPoint("u3",ft,lt,_camera,0,St*2,-1),setPoint("cf1",ft,lt,_camera,-vt,0,1),setPoint("cf2",ft,lt,_camera,vt,0,1),setPoint("cf3",ft,lt,_camera,0,-St,1),setPoint("cf4",ft,lt,_camera,0,St,1),setPoint("cn1",ft,lt,_camera,-vt,0,-1),setPoint("cn2",ft,lt,_camera,vt,0,-1),setPoint("cn3",ft,lt,_camera,0,-St,-1),setPoint("cn4",ft,lt,_camera,0,St,-1),lt.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(dt,lt,ft,vt,St,Et,At){_vector$d.set(St,Et,At).unproject(vt);const Ct=lt[dt];if(Ct!==void 0){const Tt=ft.getAttribute("position");for(let Rt=0,Bt=Ct.length;Rt<Bt;Rt++)Tt.setXYZ(Ct[Rt],_vector$d.x,_vector$d.y,_vector$d.z)}}const _box$4=new Box3;class BoxHelper extends LineSegments{constructor(lt,ft=16776960){const vt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),St=new Float32Array(8*3),Et=new BufferGeometry;Et.setIndex(new BufferAttribute(vt,1)),Et.setAttribute("position",new BufferAttribute(St,3)),super(Et,new LineBasicMaterial({color:ft,toneMapped:!1})),this.object=lt,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(lt){if(lt!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box$4.setFromObject(this.object),_box$4.isEmpty())return;const ft=_box$4.min,vt=_box$4.max,St=this.geometry.attributes.position,Et=St.array;Et[0]=vt.x,Et[1]=vt.y,Et[2]=vt.z,Et[3]=ft.x,Et[4]=vt.y,Et[5]=vt.z,Et[6]=ft.x,Et[7]=ft.y,Et[8]=vt.z,Et[9]=vt.x,Et[10]=ft.y,Et[11]=vt.z,Et[12]=vt.x,Et[13]=vt.y,Et[14]=ft.z,Et[15]=ft.x,Et[16]=vt.y,Et[17]=ft.z,Et[18]=ft.x,Et[19]=ft.y,Et[20]=ft.z,Et[21]=vt.x,Et[22]=ft.y,Et[23]=ft.z,St.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(lt){return this.object=lt,this.update(),this}copy(lt,ft){return super.copy(lt,ft),this.object=lt.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(lt,ft=16776960){const vt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),St=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],Et=new BufferGeometry;Et.setIndex(new BufferAttribute(vt,1)),Et.setAttribute("position",new Float32BufferAttribute(St,3)),super(Et,new LineBasicMaterial({color:ft,toneMapped:!1})),this.box=lt,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(lt){const ft=this.box;ft.isEmpty()||(ft.getCenter(this.position),ft.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(lt))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line$1{constructor(lt,ft=1,vt=16776960){const St=vt,Et=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],At=new BufferGeometry;At.setAttribute("position",new Float32BufferAttribute(Et,3)),At.computeBoundingSphere(),super(At,new LineBasicMaterial({color:St,toneMapped:!1})),this.type="PlaneHelper",this.plane=lt,this.size=ft;const Ct=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],Tt=new BufferGeometry;Tt.setAttribute("position",new Float32BufferAttribute(Ct,3)),Tt.computeBoundingSphere(),this.add(new Mesh(Tt,new MeshBasicMaterial({color:St,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(lt){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(lt)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(lt=new Vector3(0,0,1),ft=new Vector3(0,0,0),vt=1,St=16776960,Et=vt*.2,At=Et*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(ft),this.line=new Line$1(_lineGeometry,new LineBasicMaterial({color:St,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:St,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(lt),this.setLength(vt,Et,At)}setDirection(lt){if(lt.y>.99999)this.quaternion.set(0,0,0,1);else if(lt.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(lt.z,0,-lt.x).normalize();const ft=Math.acos(lt.y);this.quaternion.setFromAxisAngle(_axis,ft)}}setLength(lt,ft=lt*.2,vt=ft*.2){this.line.scale.set(1,Math.max(1e-4,lt-ft),1),this.line.updateMatrix(),this.cone.scale.set(vt,ft,vt),this.cone.position.y=lt,this.cone.updateMatrix()}setColor(lt){this.line.material.color.set(lt),this.cone.material.color.set(lt)}copy(lt){return super.copy(lt,!1),this.line.copy(lt.line),this.cone.copy(lt.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(lt=1){const ft=[0,0,0,lt,0,0,0,0,0,0,lt,0,0,0,0,0,0,lt],vt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute(ft,3)),St.setAttribute("color",new Float32BufferAttribute(vt,3));const Et=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(St,Et),this.type="AxesHelper"}setColors(lt,ft,vt){const St=new Color,Et=this.geometry.attributes.color.array;return St.set(lt),St.toArray(Et,0),St.toArray(Et,3),St.set(ft),St.toArray(Et,6),St.toArray(Et,9),St.set(vt),St.toArray(Et,12),St.toArray(Et,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(lt,ft){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(lt,ft),this}lineTo(lt,ft){return this.currentPath.lineTo(lt,ft),this}quadraticCurveTo(lt,ft,vt,St){return this.currentPath.quadraticCurveTo(lt,ft,vt,St),this}bezierCurveTo(lt,ft,vt,St,Et,At){return this.currentPath.bezierCurveTo(lt,ft,vt,St,Et,At),this}splineThru(lt){return this.currentPath.splineThru(lt),this}toShapes(lt){function ft(Kt){const Zt=[];for(let Wt=0,tn=Kt.length;Wt<tn;Wt++){const an=Kt[Wt],ln=new Shape;ln.curves=an.curves,Zt.push(ln)}return Zt}function vt(Kt,Zt){const Wt=Zt.length;let tn=!1;for(let an=Wt-1,ln=0;ln<Wt;an=ln++){let fn=Zt[an],un=Zt[ln],pn=un.x-fn.x,xn=un.y-fn.y;if(Math.abs(xn)>Number.EPSILON){if(xn<0&&(fn=Zt[ln],pn=-pn,un=Zt[an],xn=-xn),Kt.y<fn.y||Kt.y>un.y)continue;if(Kt.y===fn.y){if(Kt.x===fn.x)return!0}else{const An=xn*(Kt.x-fn.x)-pn*(Kt.y-fn.y);if(An===0)return!0;if(An<0)continue;tn=!tn}}else{if(Kt.y!==fn.y)continue;if(un.x<=Kt.x&&Kt.x<=fn.x||fn.x<=Kt.x&&Kt.x<=un.x)return!0}}return tn}const St=ShapeUtils.isClockWise,Et=this.subPaths;if(Et.length===0)return[];let At,Ct,Tt;const Rt=[];if(Et.length===1)return Ct=Et[0],Tt=new Shape,Tt.curves=Ct.curves,Rt.push(Tt),Rt;let Bt=!St(Et[0].getPoints());Bt=lt?!Bt:Bt;const Ft=[],Dt=[];let kt=[],zt=0,Ht;Dt[zt]=void 0,kt[zt]=[];for(let Kt=0,Zt=Et.length;Kt<Zt;Kt++)Ct=Et[Kt],Ht=Ct.getPoints(),At=St(Ht),At=lt?!At:At,At?(!Bt&&Dt[zt]&&zt++,Dt[zt]={s:new Shape,p:Ht},Dt[zt].s.curves=Ct.curves,Bt&&zt++,kt[zt]=[]):kt[zt].push({h:Ct,p:Ht[0]});if(!Dt[0])return ft(Et);if(Dt.length>1){let Kt=!1,Zt=0;for(let Wt=0,tn=Dt.length;Wt<tn;Wt++)Ft[Wt]=[];for(let Wt=0,tn=Dt.length;Wt<tn;Wt++){const an=kt[Wt];for(let ln=0;ln<an.length;ln++){const fn=an[ln];let un=!0;for(let pn=0;pn<Dt.length;pn++)vt(fn.p,Dt[pn].p)&&(Wt!==pn&&Zt++,un?(un=!1,Ft[pn].push(fn)):Kt=!0);un&&Ft[Wt].push(fn)}}Zt>0&&Kt===!1&&(kt=Ft)}let en;for(let Kt=0,Zt=Dt.length;Kt<Zt;Kt++){Tt=Dt[Kt].s,Rt.push(Tt),en=kt[Kt];for(let Wt=0,tn=en.length;Wt<tn;Wt++)Tt.holes.push(en[Wt].h)}return Rt}}const _tables=_generateTables();function _generateTables(){const dt=new ArrayBuffer(4),lt=new Float32Array(dt),ft=new Uint32Array(dt),vt=new Uint32Array(512),St=new Uint32Array(512);for(let Tt=0;Tt<256;++Tt){const Rt=Tt-127;Rt<-27?(vt[Tt]=0,vt[Tt|256]=32768,St[Tt]=24,St[Tt|256]=24):Rt<-14?(vt[Tt]=1024>>-Rt-14,vt[Tt|256]=1024>>-Rt-14|32768,St[Tt]=-Rt-1,St[Tt|256]=-Rt-1):Rt<=15?(vt[Tt]=Rt+15<<10,vt[Tt|256]=Rt+15<<10|32768,St[Tt]=13,St[Tt|256]=13):Rt<128?(vt[Tt]=31744,vt[Tt|256]=64512,St[Tt]=24,St[Tt|256]=24):(vt[Tt]=31744,vt[Tt|256]=64512,St[Tt]=13,St[Tt|256]=13)}const Et=new Uint32Array(2048),At=new Uint32Array(64),Ct=new Uint32Array(64);for(let Tt=1;Tt<1024;++Tt){let Rt=Tt<<13,Bt=0;for(;!(Rt&8388608);)Rt<<=1,Bt-=8388608;Rt&=-8388609,Bt+=947912704,Et[Tt]=Rt|Bt}for(let Tt=1024;Tt<2048;++Tt)Et[Tt]=939524096+(Tt-1024<<13);for(let Tt=1;Tt<31;++Tt)At[Tt]=Tt<<23;At[31]=1199570944,At[32]=2147483648;for(let Tt=33;Tt<63;++Tt)At[Tt]=2147483648+(Tt-32<<23);At[63]=3347054592;for(let Tt=1;Tt<64;++Tt)Tt!==32&&(Ct[Tt]=1024);return{floatView:lt,uint32View:ft,baseTable:vt,shiftTable:St,mantissaTable:Et,exponentTable:At,offsetTable:Ct}}function toHalfFloat(dt){Math.abs(dt)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),dt=clamp(dt,-65504,65504),_tables.floatView[0]=dt;const lt=_tables.uint32View[0],ft=lt>>23&511;return _tables.baseTable[ft]+((lt&8388607)>>_tables.shiftTable[ft])}function fromHalfFloat(dt){const lt=dt>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[lt]+(dt&1023)]+_tables.exponentTable[lt],_tables.floatView[0]}var DataUtils=Object.freeze({__proto__:null,fromHalfFloat,toHalfFloat});class BoxBufferGeometry extends BoxGeometry{constructor(lt,ft,vt,St,Et,At){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(lt,ft,vt,St,Et,At)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(lt,ft,vt,St){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(lt,ft,vt,St)}}class CircleBufferGeometry extends CircleGeometry{constructor(lt,ft,vt,St){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(lt,ft,vt,St)}}class ConeBufferGeometry extends ConeGeometry{constructor(lt,ft,vt,St,Et,At,Ct){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(lt,ft,vt,St,Et,At,Ct)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(lt,ft,vt,St,Et,At,Ct,Tt){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(lt,ft,vt,St,Et,At,Ct,Tt)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(lt,ft){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(lt,ft)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(lt,ft){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(lt,ft)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(lt,ft){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(lt,ft)}}class LatheBufferGeometry extends LatheGeometry{constructor(lt,ft,vt,St){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(lt,ft,vt,St)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(lt,ft){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(lt,ft)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(lt,ft,vt,St){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(lt,ft,vt,St)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(lt,ft,vt,St){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(lt,ft,vt,St)}}class RingBufferGeometry extends RingGeometry{constructor(lt,ft,vt,St,Et,At){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(lt,ft,vt,St,Et,At)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(lt,ft){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(lt,ft)}}class SphereBufferGeometry extends SphereGeometry{constructor(lt,ft,vt,St,Et,At,Ct){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(lt,ft,vt,St,Et,At,Ct)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(lt,ft){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(lt,ft)}}class TorusBufferGeometry extends TorusGeometry{constructor(lt,ft,vt,St,Et){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(lt,ft,vt,St,Et)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(lt,ft,vt,St,Et,At){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(lt,ft,vt,St,Et,At)}}class TubeBufferGeometry extends TubeGeometry{constructor(lt,ft,vt,St,Et){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(lt,ft,vt,St,Et)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const r$4=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line:Line$1,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera:PerspectiveCamera$1,Plane,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,Scene:Scene$1,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere:Sphere$1,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$4(dt){let lt;const ft=new Set,vt=(Rt,Bt)=>{const Ft=typeof Rt=="function"?Rt(lt):Rt;if(Ft!==lt){const Dt=lt;lt=Bt?Ft:Object.assign({},lt,Ft),ft.forEach(kt=>kt(lt,Dt))}},St=()=>lt,Et=(Rt,Bt=St,Ft=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Dt=Bt(lt);function kt(){const zt=Bt(lt);if(!Ft(Dt,zt)){const Ht=Dt;Rt(Dt=zt,Ht)}}return ft.add(kt),()=>ft.delete(kt)},Tt={setState:vt,getState:St,subscribe:(Rt,Bt,Ft)=>Bt||Ft?Et(Rt,Bt,Ft):(ft.add(Rt),()=>ft.delete(Rt)),destroy:()=>ft.clear()};return lt=dt(vt,St,Tt),Tt}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$4(dt){const lt=typeof dt=="function"?createStore$4(dt):dt,ft=(vt=lt.getState,St=Object.is)=>{const[,Et]=reactExports.useReducer(en=>en+1,0),At=lt.getState(),Ct=reactExports.useRef(At),Tt=reactExports.useRef(vt),Rt=reactExports.useRef(St),Bt=reactExports.useRef(!1),Ft=reactExports.useRef();Ft.current===void 0&&(Ft.current=vt(At));let Dt,kt=!1;(Ct.current!==At||Tt.current!==vt||Rt.current!==St||Bt.current)&&(Dt=vt(At),kt=!St(Ft.current,Dt)),useIsomorphicLayoutEffect$2(()=>{kt&&(Ft.current=Dt),Ct.current=At,Tt.current=vt,Rt.current=St,Bt.current=!1});const zt=reactExports.useRef(At);useIsomorphicLayoutEffect$2(()=>{const en=()=>{try{const Zt=lt.getState(),Wt=Tt.current(Zt);Rt.current(Ft.current,Wt)||(Ct.current=Zt,Ft.current=Wt,Et())}catch{Bt.current=!0,Et()}},Kt=lt.subscribe(en);return lt.getState()!==zt.current&&en(),Kt},[]);const Ht=kt?Dt:Ft.current;return reactExports.useDebugValue(Ht),Ht};return Object.assign(ft,lt),ft[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const vt=[ft,lt];return{next(){const St=vt.length<=0;return{value:vt.shift(),done:St}}}},ft}var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(dt){function lt(hn,mn){var bn=hn.length;hn.push(mn);e:for(;0<bn;){var Mn=bn-1>>>1,Tn=hn[Mn];if(0<St(Tn,mn))hn[Mn]=mn,hn[bn]=Tn,bn=Mn;else break e}}function ft(hn){return hn.length===0?null:hn[0]}function vt(hn){if(hn.length===0)return null;var mn=hn[0],bn=hn.pop();if(bn!==mn){hn[0]=bn;e:for(var Mn=0,Tn=hn.length,In=Tn>>>1;Mn<In;){var Nn=2*(Mn+1)-1,$n=hn[Nn],Gn=Nn+1,Zn=hn[Gn];if(0>St($n,bn))Gn<Tn&&0>St(Zn,$n)?(hn[Mn]=Zn,hn[Gn]=bn,Mn=Gn):(hn[Mn]=$n,hn[Nn]=bn,Mn=Nn);else if(Gn<Tn&&0>St(Zn,bn))hn[Mn]=Zn,hn[Gn]=bn,Mn=Gn;else break e}}return mn}function St(hn,mn){var bn=hn.sortIndex-mn.sortIndex;return bn!==0?bn:hn.id-mn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Et=performance;dt.unstable_now=function(){return Et.now()}}else{var At=Date,Ct=At.now();dt.unstable_now=function(){return At.now()-Ct}}var Tt=[],Rt=[],Bt=1,Ft=null,Dt=3,kt=!1,zt=!1,Ht=!1,en=typeof setTimeout=="function"?setTimeout:null,Kt=typeof clearTimeout=="function"?clearTimeout:null,Zt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Wt(hn){for(var mn=ft(Rt);mn!==null;){if(mn.callback===null)vt(Rt);else if(mn.startTime<=hn)vt(Rt),mn.sortIndex=mn.expirationTime,lt(Tt,mn);else break;mn=ft(Rt)}}function tn(hn){if(Ht=!1,Wt(hn),!zt)if(ft(Tt)!==null)zt=!0,yn(an);else{var mn=ft(Rt);mn!==null&&Rn(tn,mn.startTime-hn)}}function an(hn,mn){zt=!1,Ht&&(Ht=!1,Kt(un),un=-1),kt=!0;var bn=Dt;try{for(Wt(mn),Ft=ft(Tt);Ft!==null&&(!(Ft.expirationTime>mn)||hn&&!An());){var Mn=Ft.callback;if(typeof Mn=="function"){Ft.callback=null,Dt=Ft.priorityLevel;var Tn=Mn(Ft.expirationTime<=mn);mn=dt.unstable_now(),typeof Tn=="function"?Ft.callback=Tn:Ft===ft(Tt)&&vt(Tt),Wt(mn)}else vt(Tt);Ft=ft(Tt)}if(Ft!==null)var In=!0;else{var Nn=ft(Rt);Nn!==null&&Rn(tn,Nn.startTime-mn),In=!1}return In}finally{Ft=null,Dt=bn,kt=!1}}var ln=!1,fn=null,un=-1,pn=5,xn=-1;function An(){return!(dt.unstable_now()-xn<pn)}function gn(){if(fn!==null){var hn=dt.unstable_now();xn=hn;var mn=!0;try{mn=fn(!0,hn)}finally{mn?Ln():(ln=!1,fn=null)}}else ln=!1}var Ln;if(typeof Zt=="function")Ln=function(){Zt(gn)};else if(typeof MessageChannel<"u"){var Cn=new MessageChannel,En=Cn.port2;Cn.port1.onmessage=gn,Ln=function(){En.postMessage(null)}}else Ln=function(){en(gn,0)};function yn(hn){fn=hn,ln||(ln=!0,Ln())}function Rn(hn,mn){un=en(function(){hn(dt.unstable_now())},mn)}dt.unstable_IdlePriority=5,dt.unstable_ImmediatePriority=1,dt.unstable_LowPriority=4,dt.unstable_NormalPriority=3,dt.unstable_Profiling=null,dt.unstable_UserBlockingPriority=2,dt.unstable_cancelCallback=function(hn){hn.callback=null},dt.unstable_continueExecution=function(){zt||kt||(zt=!0,yn(an))},dt.unstable_forceFrameRate=function(hn){0>hn||125<hn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pn=0<hn?Math.floor(1e3/hn):5},dt.unstable_getCurrentPriorityLevel=function(){return Dt},dt.unstable_getFirstCallbackNode=function(){return ft(Tt)},dt.unstable_next=function(hn){switch(Dt){case 1:case 2:case 3:var mn=3;break;default:mn=Dt}var bn=Dt;Dt=mn;try{return hn()}finally{Dt=bn}},dt.unstable_pauseExecution=function(){},dt.unstable_requestPaint=function(){},dt.unstable_runWithPriority=function(hn,mn){switch(hn){case 1:case 2:case 3:case 4:case 5:break;default:hn=3}var bn=Dt;Dt=hn;try{return mn()}finally{Dt=bn}},dt.unstable_scheduleCallback=function(hn,mn,bn){var Mn=dt.unstable_now();switch(typeof bn=="object"&&bn!==null?(bn=bn.delay,bn=typeof bn=="number"&&0<bn?Mn+bn:Mn):bn=Mn,hn){case 1:var Tn=-1;break;case 2:Tn=250;break;case 5:Tn=1073741823;break;case 4:Tn=1e4;break;default:Tn=5e3}return Tn=bn+Tn,hn={id:Bt++,callback:mn,priorityLevel:hn,startTime:bn,expirationTime:Tn,sortIndex:-1},bn>Mn?(hn.sortIndex=bn,lt(Rt,hn),ft(Tt)===null&&hn===ft(Rt)&&(Ht?(Kt(un),un=-1):Ht=!0,Rn(tn,bn-Mn))):(hn.sortIndex=Tn,lt(Tt,hn),zt||kt||(zt=!0,yn(an))),hn},dt.unstable_shouldYield=An,dt.unstable_wrapCallback=function(hn){var mn=Dt;return function(){var bn=Dt;Dt=mn;try{return hn.apply(this,arguments)}finally{Dt=bn}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler$1.exports=requireScheduler_production_min()),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(lt){var ft={},vt=reactExports,St=requireScheduler(),Et=Object.assign;function At(Nt){for(var Ut="https://reactjs.org/docs/error-decoder.html?invariant="+Nt,cn=1;cn<arguments.length;cn++)Ut+="&args[]="+encodeURIComponent(arguments[cn]);return"Minified React error #"+Nt+"; visit "+Ut+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ct=vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tt=Symbol.for("react.element"),Rt=Symbol.for("react.portal"),Bt=Symbol.for("react.fragment"),Ft=Symbol.for("react.strict_mode"),Dt=Symbol.for("react.profiler"),kt=Symbol.for("react.provider"),zt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),en=Symbol.for("react.suspense"),Kt=Symbol.for("react.suspense_list"),Zt=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),tn=Symbol.for("react.offscreen"),an=Symbol.iterator;function ln(Nt){return Nt===null||typeof Nt!="object"?null:(Nt=an&&Nt[an]||Nt["@@iterator"],typeof Nt=="function"?Nt:null)}function fn(Nt){if(Nt==null)return null;if(typeof Nt=="function")return Nt.displayName||Nt.name||null;if(typeof Nt=="string")return Nt;switch(Nt){case Bt:return"Fragment";case Rt:return"Portal";case Dt:return"Profiler";case Ft:return"StrictMode";case en:return"Suspense";case Kt:return"SuspenseList"}if(typeof Nt=="object")switch(Nt.$$typeof){case zt:return(Nt.displayName||"Context")+".Consumer";case kt:return(Nt._context.displayName||"Context")+".Provider";case Ht:var Ut=Nt.render;return Nt=Nt.displayName,Nt||(Nt=Ut.displayName||Ut.name||"",Nt=Nt!==""?"ForwardRef("+Nt+")":"ForwardRef"),Nt;case Zt:return Ut=Nt.displayName||null,Ut!==null?Ut:fn(Nt.type)||"Memo";case Wt:Ut=Nt._payload,Nt=Nt._init;try{return fn(Nt(Ut))}catch{}}return null}function un(Nt){var Ut=Nt.type;switch(Nt.tag){case 24:return"Cache";case 9:return(Ut.displayName||"Context")+".Consumer";case 10:return(Ut._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Nt=Ut.render,Nt=Nt.displayName||Nt.name||"",Ut.displayName||(Nt!==""?"ForwardRef("+Nt+")":"ForwardRef");case 7:return"Fragment";case 5:return Ut;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fn(Ut);case 8:return Ut===Ft?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Ut=="function")return Ut.displayName||Ut.name||null;if(typeof Ut=="string")return Ut}return null}function pn(Nt){var Ut=Nt,cn=Nt;if(Nt.alternate)for(;Ut.return;)Ut=Ut.return;else{Nt=Ut;do Ut=Nt,Ut.flags&4098&&(cn=Ut.return),Nt=Ut.return;while(Nt)}return Ut.tag===3?cn:null}function xn(Nt){if(pn(Nt)!==Nt)throw Error(At(188))}function An(Nt){var Ut=Nt.alternate;if(!Ut){if(Ut=pn(Nt),Ut===null)throw Error(At(188));return Ut!==Nt?null:Nt}for(var cn=Nt,dn=Ut;;){var vn=cn.return;if(vn===null)break;var Pn=vn.alternate;if(Pn===null){if(dn=vn.return,dn!==null){cn=dn;continue}break}if(vn.child===Pn.child){for(Pn=vn.child;Pn;){if(Pn===cn)return xn(vn),Nt;if(Pn===dn)return xn(vn),Ut;Pn=Pn.sibling}throw Error(At(188))}if(cn.return!==dn.return)cn=vn,dn=Pn;else{for(var Kn=!1,rr=vn.child;rr;){if(rr===cn){Kn=!0,cn=vn,dn=Pn;break}if(rr===dn){Kn=!0,dn=vn,cn=Pn;break}rr=rr.sibling}if(!Kn){for(rr=Pn.child;rr;){if(rr===cn){Kn=!0,cn=Pn,dn=vn;break}if(rr===dn){Kn=!0,dn=Pn,cn=vn;break}rr=rr.sibling}if(!Kn)throw Error(At(189))}}if(cn.alternate!==dn)throw Error(At(190))}if(cn.tag!==3)throw Error(At(188));return cn.stateNode.current===cn?Nt:Ut}function gn(Nt){return Nt=An(Nt),Nt!==null?Ln(Nt):null}function Ln(Nt){if(Nt.tag===5||Nt.tag===6)return Nt;for(Nt=Nt.child;Nt!==null;){var Ut=Ln(Nt);if(Ut!==null)return Ut;Nt=Nt.sibling}return null}function Cn(Nt){if(Nt.tag===5||Nt.tag===6)return Nt;for(Nt=Nt.child;Nt!==null;){if(Nt.tag!==4){var Ut=Cn(Nt);if(Ut!==null)return Ut}Nt=Nt.sibling}return null}var En=Array.isArray,yn=lt.getPublicInstance,Rn=lt.getRootHostContext,hn=lt.getChildHostContext,mn=lt.prepareForCommit,bn=lt.resetAfterCommit,Mn=lt.createInstance,Tn=lt.appendInitialChild,In=lt.finalizeInitialChildren,Nn=lt.prepareUpdate,$n=lt.shouldSetTextContent,Gn=lt.createTextInstance,Zn=lt.scheduleTimeout,Un=lt.cancelTimeout,Xn=lt.noTimeout,Vn=lt.isPrimaryRenderer,Wn=lt.supportsMutation,Dn=lt.supportsPersistence,jn=lt.supportsHydration,Qn=lt.getInstanceFromNode,ir=lt.preparePortalMount,hr=lt.getCurrentEventPriority,Pr=lt.detachDeletedInstance,tr=lt.supportsMicrotasks,xr=lt.scheduleMicrotask,Tr=lt.supportsTestSelectors,mr=lt.findFiberRoot,On=lt.getBoundingRect,Bn=lt.getTextContent,Yn=lt.isHiddenSubtree,ur=lt.matchAccessibilityRole,Cr=lt.setFocusIfFocusable,Ar=lt.setupIntersectionObserver,Fr=lt.appendChild,Br=lt.appendChildToContainer,pr=lt.commitTextUpdate,kr=lt.commitMount,Jn=lt.commitUpdate,cr=lt.insertBefore,Sr=lt.insertInContainerBefore,_r=lt.removeChild,Dr=lt.removeChildFromContainer,Wr=lt.resetTextContent,es=lt.hideInstance,qn=lt.hideTextInstance,dr=lt.unhideInstance,Rr=lt.unhideTextInstance,Gr=lt.clearContainer,jr=lt.cloneInstance,ts=lt.createContainerChildSet,_s=lt.appendChildToContainerChildSet,Es=lt.finalizeContainerChildren,xs=lt.replaceContainerChildren,gs=lt.cloneHiddenInstance,As=lt.cloneHiddenTextInstance,vs=lt.canHydrateInstance,oo=lt.canHydrateTextInstance,no=lt.canHydrateSuspenseInstance,Ms=lt.isSuspenseInstancePending,Ns=lt.isSuspenseInstanceFallback,zn=lt.registerSuspenseInstanceRetry,sr=lt.getNextHydratableSibling,yr=lt.getFirstHydratableChild,ar=lt.getFirstHydratableChildWithinContainer,br=lt.getFirstHydratableChildWithinSuspenseInstance,Kr=lt.hydrateInstance,Yr=lt.hydrateTextInstance,Zr=lt.hydrateSuspenseInstance,as=lt.getNextHydratableInstanceAfterSuspenseInstance,cs=lt.commitHydratedContainer,fs=lt.commitHydratedSuspenseInstance,ds=lt.clearSuspenseBoundary,Ds=lt.clearSuspenseBoundaryFromContainer,Fs=lt.shouldDeleteUnhydratedTailInstances,ho=lt.didNotMatchHydratedContainerTextInstance,So=lt.didNotMatchHydratedTextInstance,Nr;function ns(Nt){if(Nr===void 0)try{throw Error()}catch(cn){var Ut=cn.stack.trim().match(/\n( *(at )?)/);Nr=Ut&&Ut[1]||""}return`
`+Nr+Nt}var Qo=!1;function bs(Nt,Ut){if(!Nt||Qo)return"";Qo=!0;var cn=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Ut)if(Ut=function(){throw Error()},Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Or){var dn=Or}Reflect.construct(Nt,[],Ut)}else{try{Ut.call()}catch(Or){dn=Or}Nt.call(Ut.prototype)}else{try{throw Error()}catch(Or){dn=Or}Nt()}}catch(Or){if(Or&&dn&&typeof Or.stack=="string"){for(var vn=Or.stack.split(`
`),Pn=dn.stack.split(`
`),Kn=vn.length-1,rr=Pn.length-1;1<=Kn&&0<=rr&&vn[Kn]!==Pn[rr];)rr--;for(;1<=Kn&&0<=rr;Kn--,rr--)if(vn[Kn]!==Pn[rr]){if(Kn!==1||rr!==1)do if(Kn--,rr--,0>rr||vn[Kn]!==Pn[rr]){var wr=`
`+vn[Kn].replace(" at new "," at ");return Nt.displayName&&wr.includes("<anonymous>")&&(wr=wr.replace("<anonymous>",Nt.displayName)),wr}while(1<=Kn&&0<=rr);break}}}finally{Qo=!1,Error.prepareStackTrace=cn}return(Nt=Nt?Nt.displayName||Nt.name:"")?ns(Nt):""}var wo=Object.prototype.hasOwnProperty,No=[],Gs=-1;function ro(Nt){return{current:Nt}}function ss(Nt){0>Gs||(Nt.current=No[Gs],No[Gs]=null,Gs--)}function hs(Nt,Ut){Gs++,No[Gs]=Nt.current,Nt.current=Ut}var po={},Cs=ro(po),js=ro(!1),Zs=po;function Eo(Nt,Ut){var cn=Nt.type.contextTypes;if(!cn)return po;var dn=Nt.stateNode;if(dn&&dn.__reactInternalMemoizedUnmaskedChildContext===Ut)return dn.__reactInternalMemoizedMaskedChildContext;var vn={},Pn;for(Pn in cn)vn[Pn]=Ut[Pn];return dn&&(Nt=Nt.stateNode,Nt.__reactInternalMemoizedUnmaskedChildContext=Ut,Nt.__reactInternalMemoizedMaskedChildContext=vn),vn}function ks(Nt){return Nt=Nt.childContextTypes,Nt!=null}function qo(){ss(js),ss(Cs)}function El(Nt,Ut,cn){if(Cs.current!==po)throw Error(At(168));hs(Cs,Ut),hs(js,cn)}function Il(Nt,Ut,cn){var dn=Nt.stateNode;if(Ut=Ut.childContextTypes,typeof dn.getChildContext!="function")return cn;dn=dn.getChildContext();for(var vn in dn)if(!(vn in Ut))throw Error(At(108,un(Nt)||"Unknown",vn));return Et({},cn,dn)}function Go(Nt){return Nt=(Nt=Nt.stateNode)&&Nt.__reactInternalMemoizedMergedChildContext||po,Zs=Cs.current,hs(Cs,Nt),hs(js,js.current),!0}function ou(Nt,Ut,cn){var dn=Nt.stateNode;if(!dn)throw Error(At(169));cn?(Nt=Il(Nt,Ut,Zs),dn.__reactInternalMemoizedMergedChildContext=Nt,ss(js),ss(Cs),hs(Cs,Nt)):ss(js),hs(js,cn)}var ao=Math.clz32?Math.clz32:au,Al=Math.log,Cl=Math.LN2;function au(Nt){return Nt>>>=0,Nt===0?32:31-(Al(Nt)/Cl|0)|0}var Uo=64,To=4194304;function go(Nt){switch(Nt&-Nt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Nt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Nt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Nt}}function Ml(Nt,Ut){var cn=Nt.pendingLanes;if(cn===0)return 0;var dn=0,vn=Nt.suspendedLanes,Pn=Nt.pingedLanes,Kn=cn&268435455;if(Kn!==0){var rr=Kn&~vn;rr!==0?dn=go(rr):(Pn&=Kn,Pn!==0&&(dn=go(Pn)))}else Kn=cn&~vn,Kn!==0?dn=go(Kn):Pn!==0&&(dn=go(Pn));if(dn===0)return 0;if(Ut!==0&&Ut!==dn&&!(Ut&vn)&&(vn=dn&-dn,Pn=Ut&-Ut,vn>=Pn||vn===16&&(Pn&4194240)!==0))return Ut;if(dn&4&&(dn|=cn&16),Ut=Nt.entangledLanes,Ut!==0)for(Nt=Nt.entanglements,Ut&=dn;0<Ut;)cn=31-ao(Ut),vn=1<<cn,dn|=Nt[cn],Ut&=~vn;return dn}function lu(Nt,Ut){switch(Nt){case 1:case 2:case 4:return Ut+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ut+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(Nt,Ut){for(var cn=Nt.suspendedLanes,dn=Nt.pingedLanes,vn=Nt.expirationTimes,Pn=Nt.pendingLanes;0<Pn;){var Kn=31-ao(Pn),rr=1<<Kn,wr=vn[Kn];wr===-1?(!(rr&cn)||rr&dn)&&(vn[Kn]=lu(rr,Ut)):wr<=Ut&&(Nt.expiredLanes|=rr),Pn&=~rr}}function Yo(Nt){return Nt=Nt.pendingLanes&-1073741825,Nt!==0?Nt:Nt&1073741824?1073741824:0}function Fl(Nt){for(var Ut=[],cn=0;31>cn;cn++)Ut.push(Nt);return Ut}function Vo(Nt,Ut,cn){Nt.pendingLanes|=Ut,Ut!==536870912&&(Nt.suspendedLanes=0,Nt.pingedLanes=0),Nt=Nt.eventTimes,Ut=31-ao(Ut),Nt[Ut]=cn}function yl(Nt,Ut){var cn=Nt.pendingLanes&~Ut;Nt.pendingLanes=Ut,Nt.suspendedLanes=0,Nt.pingedLanes=0,Nt.expiredLanes&=Ut,Nt.mutableReadLanes&=Ut,Nt.entangledLanes&=Ut,Ut=Nt.entanglements;var dn=Nt.eventTimes;for(Nt=Nt.expirationTimes;0<cn;){var vn=31-ao(cn),Pn=1<<vn;Ut[vn]=0,dn[vn]=-1,Nt[vn]=-1,cn&=~Pn}}function zo(Nt,Ut){var cn=Nt.entangledLanes|=Ut;for(Nt=Nt.entanglements;cn;){var dn=31-ao(cn),vn=1<<dn;vn&Ut|Nt[dn]&Ut&&(Nt[dn]|=Ut),cn&=~vn}}var os=0;function Dl(Nt){return Nt&=-Nt,1<Nt?4<Nt?Nt&268435455?16:536870912:4:1}var Zo=St.unstable_scheduleCallback,na=St.unstable_cancelCallback,Kl=St.unstable_shouldYield,Ol=St.unstable_requestPaint,Us=St.unstable_now,ga=St.unstable_ImmediatePriority,Xl=St.unstable_UserBlockingPriority,lo=St.unstable_NormalPriority,_a=St.unstable_IdlePriority,xa=null,Ao=null;function Jl(Nt){if(Ao&&typeof Ao.onCommitFiberRoot=="function")try{Ao.onCommitFiberRoot(xa,Nt,void 0,(Nt.current.flags&128)===128)}catch{}}function Nl(Nt,Ut){return Nt===Ut&&(Nt!==0||1/Nt===1/Ut)||Nt!==Nt&&Ut!==Ut}var Hn=typeof Object.is=="function"?Object.is:Nl,nr=null,Ir=!1,Vr=!1;function Rs(Nt){nr===null?nr=[Nt]:nr.push(Nt)}function rs(Nt){Ir=!0,Rs(Nt)}function Ss(){if(!Vr&&nr!==null){Vr=!0;var Nt=0,Ut=os;try{var cn=nr;for(os=1;Nt<cn.length;Nt++){var dn=cn[Nt];do dn=dn(!0);while(dn!==null)}nr=null,Ir=!1}catch(vn){throw nr!==null&&(nr=nr.slice(Nt+1)),Zo(ga,Ss),vn}finally{os=Ut,Vr=!1}}return null}var Vs=Ct.ReactCurrentBatchConfig;function zs(Nt,Ut){if(Hn(Nt,Ut))return!0;if(typeof Nt!="object"||Nt===null||typeof Ut!="object"||Ut===null)return!1;var cn=Object.keys(Nt),dn=Object.keys(Ut);if(cn.length!==dn.length)return!1;for(dn=0;dn<cn.length;dn++){var vn=cn[dn];if(!wo.call(Ut,vn)||!Hn(Nt[vn],Ut[vn]))return!1}return!0}function Ls(Nt){switch(Nt.tag){case 5:return ns(Nt.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return Nt=bs(Nt.type,!1),Nt;case 11:return Nt=bs(Nt.type.render,!1),Nt;case 1:return Nt=bs(Nt.type,!0),Nt;default:return""}}function Bs(Nt,Ut){if(Nt&&Nt.defaultProps){Ut=Et({},Ut),Nt=Nt.defaultProps;for(var cn in Nt)Ut[cn]===void 0&&(Ut[cn]=Nt[cn]);return Ut}return Ut}var Is=ro(null),Ws=null,$s=null,qs=null;function Co(){qs=$s=Ws=null}function Ro(Nt,Ut,cn){Vn?(hs(Is,Ut._currentValue),Ut._currentValue=cn):(hs(Is,Ut._currentValue2),Ut._currentValue2=cn)}function uo(Nt){var Ut=Is.current;ss(Is),Vn?Nt._currentValue=Ut:Nt._currentValue2=Ut}function Ks(Nt,Ut,cn){for(;Nt!==null;){var dn=Nt.alternate;if((Nt.childLanes&Ut)!==Ut?(Nt.childLanes|=Ut,dn!==null&&(dn.childLanes|=Ut)):dn!==null&&(dn.childLanes&Ut)!==Ut&&(dn.childLanes|=Ut),Nt===cn)break;Nt=Nt.return}}function Xs(Nt,Ut){Ws=Nt,qs=$s=null,Nt=Nt.dependencies,Nt!==null&&Nt.firstContext!==null&&(Nt.lanes&Ut&&(ko=!0),Nt.firstContext=null)}function ws(Nt){var Ut=Vn?Nt._currentValue:Nt._currentValue2;if(qs!==Nt)if(Nt={context:Nt,memoizedValue:Ut,next:null},$s===null){if(Ws===null)throw Error(At(308));$s=Nt,Ws.dependencies={lanes:0,firstContext:Nt}}else $s=$s.next=Nt;return Ut}var io=null,ba=!1;function yp(Nt){Nt.updateQueue={baseState:Nt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hm(Nt,Ut){Nt=Nt.updateQueue,Ut.updateQueue===Nt&&(Ut.updateQueue={baseState:Nt.baseState,firstBaseUpdate:Nt.firstBaseUpdate,lastBaseUpdate:Nt.lastBaseUpdate,shared:Nt.shared,effects:Nt.effects})}function Tl(Nt,Ut){return{eventTime:Nt,lane:Ut,tag:0,payload:null,callback:null,next:null}}function Gl(Nt,Ut){var cn=Nt.updateQueue;cn!==null&&(cn=cn.shared,eo!==null&&Nt.mode&1&&!(ys&2)?(Nt=cn.interleaved,Nt===null?(Ut.next=Ut,io===null?io=[cn]:io.push(cn)):(Ut.next=Nt.next,Nt.next=Ut),cn.interleaved=Ut):(Nt=cn.pending,Nt===null?Ut.next=Ut:(Ut.next=Nt.next,Nt.next=Ut),cn.pending=Ut))}function ku(Nt,Ut,cn){if(Ut=Ut.updateQueue,Ut!==null&&(Ut=Ut.shared,(cn&4194240)!==0)){var dn=Ut.lanes;dn&=Nt.pendingLanes,cn|=dn,Ut.lanes=cn,zo(Nt,cn)}}function dm(Nt,Ut){var cn=Nt.updateQueue,dn=Nt.alternate;if(dn!==null&&(dn=dn.updateQueue,cn===dn)){var vn=null,Pn=null;if(cn=cn.firstBaseUpdate,cn!==null){do{var Kn={eventTime:cn.eventTime,lane:cn.lane,tag:cn.tag,payload:cn.payload,callback:cn.callback,next:null};Pn===null?vn=Pn=Kn:Pn=Pn.next=Kn,cn=cn.next}while(cn!==null);Pn===null?vn=Pn=Ut:Pn=Pn.next=Ut}else vn=Pn=Ut;cn={baseState:dn.baseState,firstBaseUpdate:vn,lastBaseUpdate:Pn,shared:dn.shared,effects:dn.effects},Nt.updateQueue=cn;return}Nt=cn.lastBaseUpdate,Nt===null?cn.firstBaseUpdate=Ut:Nt.next=Ut,cn.lastBaseUpdate=Ut}function Ou(Nt,Ut,cn,dn){var vn=Nt.updateQueue;ba=!1;var Pn=vn.firstBaseUpdate,Kn=vn.lastBaseUpdate,rr=vn.shared.pending;if(rr!==null){vn.shared.pending=null;var wr=rr,Or=wr.next;wr.next=null,Kn===null?Pn=Or:Kn.next=Or,Kn=wr;var Xr=Nt.alternate;Xr!==null&&(Xr=Xr.updateQueue,rr=Xr.lastBaseUpdate,rr!==Kn&&(rr===null?Xr.firstBaseUpdate=Or:rr.next=Or,Xr.lastBaseUpdate=wr))}if(Pn!==null){var ls=vn.baseState;Kn=0,Xr=Or=wr=null,rr=Pn;do{var _i=rr.lane,Os=rr.eventTime;if((dn&_i)===_i){Xr!==null&&(Xr=Xr.next={eventTime:Os,lane:0,tag:rr.tag,payload:rr.payload,callback:rr.callback,next:null});e:{var qr=Nt,xo=rr;switch(_i=Ut,Os=cn,xo.tag){case 1:if(qr=xo.payload,typeof qr=="function"){ls=qr.call(Os,ls,_i);break e}ls=qr;break e;case 3:qr.flags=qr.flags&-65537|128;case 0:if(qr=xo.payload,_i=typeof qr=="function"?qr.call(Os,ls,_i):qr,_i==null)break e;ls=Et({},ls,_i);break e;case 2:ba=!0}}rr.callback!==null&&rr.lane!==0&&(Nt.flags|=64,_i=vn.effects,_i===null?vn.effects=[rr]:_i.push(rr))}else Os={eventTime:Os,lane:_i,tag:rr.tag,payload:rr.payload,callback:rr.callback,next:null},Xr===null?(Or=Xr=Os,wr=ls):Xr=Xr.next=Os,Kn|=_i;if(rr=rr.next,rr===null){if(rr=vn.shared.pending,rr===null)break;_i=rr,rr=_i.next,_i.next=null,vn.lastBaseUpdate=_i,vn.shared.pending=null}}while(1);if(Xr===null&&(wr=ls),vn.baseState=wr,vn.firstBaseUpdate=Or,vn.lastBaseUpdate=Xr,Ut=vn.shared.interleaved,Ut!==null){vn=Ut;do Kn|=vn.lane,vn=vn.next;while(vn!==Ut)}else Pn===null&&(vn.shared.lanes=0);vu|=Kn,Nt.lanes=Kn,Nt.memoizedState=ls}}function pm(Nt,Ut,cn){if(Nt=Ut.effects,Ut.effects=null,Nt!==null)for(Ut=0;Ut<Nt.length;Ut++){var dn=Nt[Ut],vn=dn.callback;if(vn!==null){if(dn.callback=null,dn=cn,typeof vn!="function")throw Error(At(191,vn));vn.call(dn)}}}var mm=new vt.Component().refs;function _p(Nt,Ut,cn,dn){Ut=Nt.memoizedState,cn=cn(dn,Ut),cn=cn==null?Ut:Et({},Ut,cn),Nt.memoizedState=cn,Nt.lanes===0&&(Nt.updateQueue.baseState=cn)}var Nu={isMounted:function(Nt){return(Nt=Nt._reactInternals)?pn(Nt)===Nt:!1},enqueueSetState:function(Nt,Ut,cn){Nt=Nt._reactInternals;var dn=bo(),vn=zl(Nt),Pn=Tl(dn,vn);Pn.payload=Ut,cn!=null&&(Pn.callback=cn),Gl(Nt,Pn),Ut=Ko(Nt,vn,dn),Ut!==null&&ku(Ut,Nt,vn)},enqueueReplaceState:function(Nt,Ut,cn){Nt=Nt._reactInternals;var dn=bo(),vn=zl(Nt),Pn=Tl(dn,vn);Pn.tag=1,Pn.payload=Ut,cn!=null&&(Pn.callback=cn),Gl(Nt,Pn),Ut=Ko(Nt,vn,dn),Ut!==null&&ku(Ut,Nt,vn)},enqueueForceUpdate:function(Nt,Ut){Nt=Nt._reactInternals;var cn=bo(),dn=zl(Nt),vn=Tl(cn,dn);vn.tag=2,Ut!=null&&(vn.callback=Ut),Gl(Nt,vn),Ut=Ko(Nt,dn,cn),Ut!==null&&ku(Ut,Nt,dn)}};function gm(Nt,Ut,cn,dn,vn,Pn,Kn){return Nt=Nt.stateNode,typeof Nt.shouldComponentUpdate=="function"?Nt.shouldComponentUpdate(dn,Pn,Kn):Ut.prototype&&Ut.prototype.isPureReactComponent?!zs(cn,dn)||!zs(vn,Pn):!0}function vm(Nt,Ut,cn){var dn=!1,vn=po,Pn=Ut.contextType;return typeof Pn=="object"&&Pn!==null?Pn=ws(Pn):(vn=ks(Ut)?Zs:Cs.current,dn=Ut.contextTypes,Pn=(dn=dn!=null)?Eo(Nt,vn):po),Ut=new Ut(cn,Pn),Nt.memoizedState=Ut.state!==null&&Ut.state!==void 0?Ut.state:null,Ut.updater=Nu,Nt.stateNode=Ut,Ut._reactInternals=Nt,dn&&(Nt=Nt.stateNode,Nt.__reactInternalMemoizedUnmaskedChildContext=vn,Nt.__reactInternalMemoizedMaskedChildContext=Pn),Ut}function ym(Nt,Ut,cn,dn){Nt=Ut.state,typeof Ut.componentWillReceiveProps=="function"&&Ut.componentWillReceiveProps(cn,dn),typeof Ut.UNSAFE_componentWillReceiveProps=="function"&&Ut.UNSAFE_componentWillReceiveProps(cn,dn),Ut.state!==Nt&&Nu.enqueueReplaceState(Ut,Ut.state,null)}function xp(Nt,Ut,cn,dn){var vn=Nt.stateNode;vn.props=cn,vn.state=Nt.memoizedState,vn.refs=mm,yp(Nt);var Pn=Ut.contextType;typeof Pn=="object"&&Pn!==null?vn.context=ws(Pn):(Pn=ks(Ut)?Zs:Cs.current,vn.context=Eo(Nt,Pn)),vn.state=Nt.memoizedState,Pn=Ut.getDerivedStateFromProps,typeof Pn=="function"&&(_p(Nt,Ut,Pn,cn),vn.state=Nt.memoizedState),typeof Ut.getDerivedStateFromProps=="function"||typeof vn.getSnapshotBeforeUpdate=="function"||typeof vn.UNSAFE_componentWillMount!="function"&&typeof vn.componentWillMount!="function"||(Ut=vn.state,typeof vn.componentWillMount=="function"&&vn.componentWillMount(),typeof vn.UNSAFE_componentWillMount=="function"&&vn.UNSAFE_componentWillMount(),Ut!==vn.state&&Nu.enqueueReplaceState(vn,vn.state,null),Ou(Nt,cn,vn,dn),vn.state=Nt.memoizedState),typeof vn.componentDidMount=="function"&&(Nt.flags|=4194308)}var uu=[],cu=0,Gu=null,Uu=0,$o=[],Ho=0,Ql=null,Pl=1,Rl="";function Yl(Nt,Ut){uu[cu++]=Uu,uu[cu++]=Gu,Gu=Nt,Uu=Ut}function _m(Nt,Ut,cn){$o[Ho++]=Pl,$o[Ho++]=Rl,$o[Ho++]=Ql,Ql=Nt;var dn=Pl;Nt=Rl;var vn=32-ao(dn)-1;dn&=~(1<<vn),cn+=1;var Pn=32-ao(Ut)+vn;if(30<Pn){var Kn=vn-vn%5;Pn=(dn&(1<<Kn)-1).toString(32),dn>>=Kn,vn-=Kn,Pl=1<<32-ao(Ut)+vn|cn<<vn|dn,Rl=Pn+Nt}else Pl=1<<Pn|cn<<vn|dn,Rl=Nt}function Sp(Nt){Nt.return!==null&&(Yl(Nt,1),_m(Nt,1,0))}function Ep(Nt){for(;Nt===Gu;)Gu=uu[--cu],uu[cu]=null,Uu=uu[--cu],uu[cu]=null;for(;Nt===Ql;)Ql=$o[--Ho],$o[Ho]=null,Rl=$o[--Ho],$o[Ho]=null,Pl=$o[--Ho],$o[Ho]=null}var Fo=null,Do=null,Hs=!1,_u=!1,$a=null;function xm(Nt,Ut){var cn=Xo(5,null,null,0);cn.elementType="DELETED",cn.stateNode=Ut,cn.return=Nt,Ut=Nt.deletions,Ut===null?(Nt.deletions=[cn],Nt.flags|=16):Ut.push(cn)}function Sm(Nt,Ut){switch(Nt.tag){case 5:return Ut=vs(Ut,Nt.type,Nt.pendingProps),Ut!==null?(Nt.stateNode=Ut,Fo=Nt,Do=yr(Ut),!0):!1;case 6:return Ut=oo(Ut,Nt.pendingProps),Ut!==null?(Nt.stateNode=Ut,Fo=Nt,Do=null,!0):!1;case 13:if(Ut=no(Ut),Ut!==null){var cn=Ql!==null?{id:Pl,overflow:Rl}:null;return Nt.memoizedState={dehydrated:Ut,treeContext:cn,retryLane:1073741824},cn=Xo(18,null,null,0),cn.stateNode=Ut,cn.return=Nt,Nt.child=cn,Fo=Nt,Do=null,!0}return!1;default:return!1}}function Ap(Nt){return(Nt.mode&1)!==0&&(Nt.flags&128)===0}function Cp(Nt){if(Hs){var Ut=Do;if(Ut){var cn=Ut;if(!Sm(Nt,Ut)){if(Ap(Nt))throw Error(At(418));Ut=sr(cn);var dn=Fo;Ut&&Sm(Nt,Ut)?xm(dn,cn):(Nt.flags=Nt.flags&-4097|2,Hs=!1,Fo=Nt)}}else{if(Ap(Nt))throw Error(At(418));Nt.flags=Nt.flags&-4097|2,Hs=!1,Fo=Nt}}}function Em(Nt){for(Nt=Nt.return;Nt!==null&&Nt.tag!==5&&Nt.tag!==3&&Nt.tag!==13;)Nt=Nt.return;Fo=Nt}function xu(Nt){if(!jn||Nt!==Fo)return!1;if(!Hs)return Em(Nt),Hs=!0,!1;if(Nt.tag!==3&&(Nt.tag!==5||Fs(Nt.type)&&!$n(Nt.type,Nt.memoizedProps))){var Ut=Do;if(Ut){if(Ap(Nt)){for(Nt=Do;Nt;)Nt=sr(Nt);throw Error(At(418))}for(;Ut;)xm(Nt,Ut),Ut=sr(Ut)}}if(Em(Nt),Nt.tag===13){if(!jn)throw Error(At(316));if(Nt=Nt.memoizedState,Nt=Nt!==null?Nt.dehydrated:null,!Nt)throw Error(At(317));Do=as(Nt)}else Do=Fo?sr(Nt.stateNode):null;return!0}function fu(){jn&&(Do=Fo=null,_u=Hs=!1)}function Mp(Nt){$a===null?$a=[Nt]:$a.push(Nt)}function Su(Nt,Ut,cn){if(Nt=cn.ref,Nt!==null&&typeof Nt!="function"&&typeof Nt!="object"){if(cn._owner){if(cn=cn._owner,cn){if(cn.tag!==1)throw Error(At(309));var dn=cn.stateNode}if(!dn)throw Error(At(147,Nt));var vn=dn,Pn=""+Nt;return Ut!==null&&Ut.ref!==null&&typeof Ut.ref=="function"&&Ut.ref._stringRef===Pn?Ut.ref:(Ut=function(Kn){var rr=vn.refs;rr===mm&&(rr=vn.refs={}),Kn===null?delete rr[Pn]:rr[Pn]=Kn},Ut._stringRef=Pn,Ut)}if(typeof Nt!="string")throw Error(At(284));if(!cn._owner)throw Error(At(290,Nt))}return Nt}function Vu(Nt,Ut){throw Nt=Object.prototype.toString.call(Ut),Error(At(31,Nt==="[object Object]"?"object with keys {"+Object.keys(Ut).join(", ")+"}":Nt))}function Am(Nt){var Ut=Nt._init;return Ut(Nt._payload)}function Cm(Nt){function Ut(gr,lr){if(Nt){var Er=gr.deletions;Er===null?(gr.deletions=[lr],gr.flags|=16):Er.push(lr)}}function cn(gr,lr){if(!Nt)return null;for(;lr!==null;)Ut(gr,lr),lr=lr.sibling;return null}function dn(gr,lr){for(gr=new Map;lr!==null;)lr.key!==null?gr.set(lr.key,lr):gr.set(lr.index,lr),lr=lr.sibling;return gr}function vn(gr,lr){return gr=Hl(gr,lr),gr.index=0,gr.sibling=null,gr}function Pn(gr,lr,Er){return gr.index=Er,Nt?(Er=gr.alternate,Er!==null?(Er=Er.index,Er<lr?(gr.flags|=2,lr):Er):(gr.flags|=2,lr)):(gr.flags|=1048576,lr)}function Kn(gr){return Nt&&gr.alternate===null&&(gr.flags|=2),gr}function rr(gr,lr,Er,Hr){return lr===null||lr.tag!==6?(lr=um(Er,gr.mode,Hr),lr.return=gr,lr):(lr=vn(lr,Er),lr.return=gr,lr)}function wr(gr,lr,Er,Hr){var Qr=Er.type;return Qr===Bt?Xr(gr,lr,Er.props.children,Hr,Er.key):lr!==null&&(lr.elementType===Qr||typeof Qr=="object"&&Qr!==null&&Qr.$$typeof===Wt&&Am(Qr)===lr.type)?(Hr=vn(lr,Er.props),Hr.ref=Su(gr,lr,Er),Hr.return=gr,Hr):(Hr=gp(Er.type,Er.key,Er.props,null,gr.mode,Hr),Hr.ref=Su(gr,lr,Er),Hr.return=gr,Hr)}function Or(gr,lr,Er,Hr){return lr===null||lr.tag!==4||lr.stateNode.containerInfo!==Er.containerInfo||lr.stateNode.implementation!==Er.implementation?(lr=cm(Er,gr.mode,Hr),lr.return=gr,lr):(lr=vn(lr,Er.children||[]),lr.return=gr,lr)}function Xr(gr,lr,Er,Hr,Qr){return lr===null||lr.tag!==7?(lr=su(Er,gr.mode,Hr,Qr),lr.return=gr,lr):(lr=vn(lr,Er),lr.return=gr,lr)}function ls(gr,lr,Er){if(typeof lr=="string"&&lr!==""||typeof lr=="number")return lr=um(""+lr,gr.mode,Er),lr.return=gr,lr;if(typeof lr=="object"&&lr!==null){switch(lr.$$typeof){case Tt:return Er=gp(lr.type,lr.key,lr.props,null,gr.mode,Er),Er.ref=Su(gr,null,lr),Er.return=gr,Er;case Rt:return lr=cm(lr,gr.mode,Er),lr.return=gr,lr;case Wt:var Hr=lr._init;return ls(gr,Hr(lr._payload),Er)}if(En(lr)||ln(lr))return lr=su(lr,gr.mode,Er,null),lr.return=gr,lr;Vu(gr,lr)}return null}function _i(gr,lr,Er,Hr){var Qr=lr!==null?lr.key:null;if(typeof Er=="string"&&Er!==""||typeof Er=="number")return Qr!==null?null:rr(gr,lr,""+Er,Hr);if(typeof Er=="object"&&Er!==null){switch(Er.$$typeof){case Tt:return Er.key===Qr?wr(gr,lr,Er,Hr):null;case Rt:return Er.key===Qr?Or(gr,lr,Er,Hr):null;case Wt:return Qr=Er._init,_i(gr,lr,Qr(Er._payload),Hr)}if(En(Er)||ln(Er))return Qr!==null?null:Xr(gr,lr,Er,Hr,null);Vu(gr,Er)}return null}function Os(gr,lr,Er,Hr,Qr){if(typeof Hr=="string"&&Hr!==""||typeof Hr=="number")return gr=gr.get(Er)||null,rr(lr,gr,""+Hr,Qr);if(typeof Hr=="object"&&Hr!==null){switch(Hr.$$typeof){case Tt:return gr=gr.get(Hr.key===null?Er:Hr.key)||null,wr(lr,gr,Hr,Qr);case Rt:return gr=gr.get(Hr.key===null?Er:Hr.key)||null,Or(lr,gr,Hr,Qr);case Wt:var ps=Hr._init;return Os(gr,lr,Er,ps(Hr._payload),Qr)}if(En(Hr)||ln(Hr))return gr=gr.get(Er)||null,Xr(lr,gr,Hr,Qr,null);Vu(lr,Hr)}return null}function qr(gr,lr,Er,Hr){for(var Qr=null,ps=null,us=lr,Ts=lr=0,fo=null;us!==null&&Ts<Er.length;Ts++){us.index>Ts?(fo=us,us=null):fo=us.sibling;var Ps=_i(gr,us,Er[Ts],Hr);if(Ps===null){us===null&&(us=fo);break}Nt&&us&&Ps.alternate===null&&Ut(gr,us),lr=Pn(Ps,lr,Ts),ps===null?Qr=Ps:ps.sibling=Ps,ps=Ps,us=fo}if(Ts===Er.length)return cn(gr,us),Hs&&Yl(gr,Ts),Qr;if(us===null){for(;Ts<Er.length;Ts++)us=ls(gr,Er[Ts],Hr),us!==null&&(lr=Pn(us,lr,Ts),ps===null?Qr=us:ps.sibling=us,ps=us);return Hs&&Yl(gr,Ts),Qr}for(us=dn(gr,us);Ts<Er.length;Ts++)fo=Os(us,gr,Ts,Er[Ts],Hr),fo!==null&&(Nt&&fo.alternate!==null&&us.delete(fo.key===null?Ts:fo.key),lr=Pn(fo,lr,Ts),ps===null?Qr=fo:ps.sibling=fo,ps=fo);return Nt&&us.forEach(function(Wl){return Ut(gr,Wl)}),Hs&&Yl(gr,Ts),Qr}function xo(gr,lr,Er,Hr){var Qr=ln(Er);if(typeof Qr!="function")throw Error(At(150));if(Er=Qr.call(Er),Er==null)throw Error(At(151));for(var ps=Qr=null,us=lr,Ts=lr=0,fo=null,Ps=Er.next();us!==null&&!Ps.done;Ts++,Ps=Er.next()){us.index>Ts?(fo=us,us=null):fo=us.sibling;var Wl=_i(gr,us,Ps.value,Hr);if(Wl===null){us===null&&(us=fo);break}Nt&&us&&Wl.alternate===null&&Ut(gr,us),lr=Pn(Wl,lr,Ts),ps===null?Qr=Wl:ps.sibling=Wl,ps=Wl,us=fo}if(Ps.done)return cn(gr,us),Hs&&Yl(gr,Ts),Qr;if(us===null){for(;!Ps.done;Ts++,Ps=Er.next())Ps=ls(gr,Ps.value,Hr),Ps!==null&&(lr=Pn(Ps,lr,Ts),ps===null?Qr=Ps:ps.sibling=Ps,ps=Ps);return Hs&&Yl(gr,Ts),Qr}for(us=dn(gr,us);!Ps.done;Ts++,Ps=Er.next())Ps=Os(us,gr,Ts,Ps.value,Hr),Ps!==null&&(Nt&&Ps.alternate!==null&&us.delete(Ps.key===null?Ts:Ps.key),lr=Pn(Ps,lr,Ts),ps===null?Qr=Ps:ps.sibling=Ps,ps=Ps);return Nt&&us.forEach(function(pv){return Ut(gr,pv)}),Hs&&Yl(gr,Ts),Qr}function Jo(gr,lr,Er,Hr){if(typeof Er=="object"&&Er!==null&&Er.type===Bt&&Er.key===null&&(Er=Er.props.children),typeof Er=="object"&&Er!==null){switch(Er.$$typeof){case Tt:e:{for(var Qr=Er.key,ps=lr;ps!==null;){if(ps.key===Qr){if(Qr=Er.type,Qr===Bt){if(ps.tag===7){cn(gr,ps.sibling),lr=vn(ps,Er.props.children),lr.return=gr,gr=lr;break e}}else if(ps.elementType===Qr||typeof Qr=="object"&&Qr!==null&&Qr.$$typeof===Wt&&Am(Qr)===ps.type){cn(gr,ps.sibling),lr=vn(ps,Er.props),lr.ref=Su(gr,ps,Er),lr.return=gr,gr=lr;break e}cn(gr,ps);break}else Ut(gr,ps);ps=ps.sibling}Er.type===Bt?(lr=su(Er.props.children,gr.mode,Hr,Er.key),lr.return=gr,gr=lr):(Hr=gp(Er.type,Er.key,Er.props,null,gr.mode,Hr),Hr.ref=Su(gr,lr,Er),Hr.return=gr,gr=Hr)}return Kn(gr);case Rt:e:{for(ps=Er.key;lr!==null;){if(lr.key===ps)if(lr.tag===4&&lr.stateNode.containerInfo===Er.containerInfo&&lr.stateNode.implementation===Er.implementation){cn(gr,lr.sibling),lr=vn(lr,Er.children||[]),lr.return=gr,gr=lr;break e}else{cn(gr,lr);break}else Ut(gr,lr);lr=lr.sibling}lr=cm(Er,gr.mode,Hr),lr.return=gr,gr=lr}return Kn(gr);case Wt:return ps=Er._init,Jo(gr,lr,ps(Er._payload),Hr)}if(En(Er))return qr(gr,lr,Er,Hr);if(ln(Er))return xo(gr,lr,Er,Hr);Vu(gr,Er)}return typeof Er=="string"&&Er!==""||typeof Er=="number"?(Er=""+Er,lr!==null&&lr.tag===6?(cn(gr,lr.sibling),lr=vn(lr,Er),lr.return=gr,gr=lr):(cn(gr,lr),lr=um(Er,gr.mode,Hr),lr.return=gr,gr=lr),Kn(gr)):cn(gr,lr)}return Jo}var hu=Cm(!0),Mm=Cm(!1),Eu={},jo=ro(Eu),Au=ro(Eu),du=ro(Eu);function _l(Nt){if(Nt===Eu)throw Error(At(174));return Nt}function bp(Nt,Ut){hs(du,Ut),hs(Au,Nt),hs(jo,Eu),Nt=Rn(Ut),ss(jo),hs(jo,Nt)}function pu(){ss(jo),ss(Au),ss(du)}function bm(Nt){var Ut=_l(du.current),cn=_l(jo.current);Ut=hn(cn,Nt.type,Ut),cn!==Ut&&(hs(Au,Nt),hs(jo,Ut))}function wp(Nt){Au.current===Nt&&(ss(jo),ss(Au))}var Js=ro(0);function zu(Nt){for(var Ut=Nt;Ut!==null;){if(Ut.tag===13){var cn=Ut.memoizedState;if(cn!==null&&(cn=cn.dehydrated,cn===null||Ms(cn)||Ns(cn)))return Ut}else if(Ut.tag===19&&Ut.memoizedProps.revealOrder!==void 0){if(Ut.flags&128)return Ut}else if(Ut.child!==null){Ut.child.return=Ut,Ut=Ut.child;continue}if(Ut===Nt)break;for(;Ut.sibling===null;){if(Ut.return===null||Ut.return===Nt)return null;Ut=Ut.return}Ut.sibling.return=Ut.return,Ut=Ut.sibling}return null}var Tp=[];function Pp(){for(var Nt=0;Nt<Tp.length;Nt++){var Ut=Tp[Nt];Vn?Ut._workInProgressVersionPrimary=null:Ut._workInProgressVersionSecondary=null}Tp.length=0}var $u=Ct.ReactCurrentDispatcher,Wo=Ct.ReactCurrentBatchConfig,mu=0,Qs=null,vo=null,co=null,Hu=!1,Cu=!1,Mu=0,G0=0;function yo(){throw Error(At(321))}function Rp(Nt,Ut){if(Ut===null)return!1;for(var cn=0;cn<Ut.length&&cn<Nt.length;cn++)if(!Hn(Nt[cn],Ut[cn]))return!1;return!0}function Lp(Nt,Ut,cn,dn,vn,Pn){if(mu=Pn,Qs=Ut,Ut.memoizedState=null,Ut.updateQueue=null,Ut.lanes=0,$u.current=Nt===null||Nt.memoizedState===null?$0:H0,Nt=cn(dn,vn),Cu){Pn=0;do{if(Cu=!1,Mu=0,25<=Pn)throw Error(At(301));Pn+=1,co=vo=null,Ut.updateQueue=null,$u.current=j0,Nt=cn(dn,vn)}while(Cu)}if($u.current=Ju,Ut=vo!==null&&vo.next!==null,mu=0,co=vo=Qs=null,Hu=!1,Ut)throw Error(At(300));return Nt}function Bp(){var Nt=Mu!==0;return Mu=0,Nt}function Ll(){var Nt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return co===null?Qs.memoizedState=co=Nt:co=co.next=Nt,co}function xl(){if(vo===null){var Nt=Qs.alternate;Nt=Nt!==null?Nt.memoizedState:null}else Nt=vo.next;var Ut=co===null?Qs.memoizedState:co.next;if(Ut!==null)co=Ut,vo=Nt;else{if(Nt===null)throw Error(At(310));vo=Nt,Nt={memoizedState:vo.memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},co===null?Qs.memoizedState=co=Nt:co=co.next=Nt}return co}function Zl(Nt,Ut){return typeof Ut=="function"?Ut(Nt):Ut}function ju(Nt){var Ut=xl(),cn=Ut.queue;if(cn===null)throw Error(At(311));cn.lastRenderedReducer=Nt;var dn=vo,vn=dn.baseQueue,Pn=cn.pending;if(Pn!==null){if(vn!==null){var Kn=vn.next;vn.next=Pn.next,Pn.next=Kn}dn.baseQueue=vn=Pn,cn.pending=null}if(vn!==null){Pn=vn.next,dn=dn.baseState;var rr=Kn=null,wr=null,Or=Pn;do{var Xr=Or.lane;if((mu&Xr)===Xr)wr!==null&&(wr=wr.next={lane:0,action:Or.action,hasEagerState:Or.hasEagerState,eagerState:Or.eagerState,next:null}),dn=Or.hasEagerState?Or.eagerState:Nt(dn,Or.action);else{var ls={lane:Xr,action:Or.action,hasEagerState:Or.hasEagerState,eagerState:Or.eagerState,next:null};wr===null?(rr=wr=ls,Kn=dn):wr=wr.next=ls,Qs.lanes|=Xr,vu|=Xr}Or=Or.next}while(Or!==null&&Or!==Pn);wr===null?Kn=dn:wr.next=rr,Hn(dn,Ut.memoizedState)||(ko=!0),Ut.memoizedState=dn,Ut.baseState=Kn,Ut.baseQueue=wr,cn.lastRenderedState=dn}if(Nt=cn.interleaved,Nt!==null){vn=Nt;do Pn=vn.lane,Qs.lanes|=Pn,vu|=Pn,vn=vn.next;while(vn!==Nt)}else vn===null&&(cn.lanes=0);return[Ut.memoizedState,cn.dispatch]}function Wu(Nt){var Ut=xl(),cn=Ut.queue;if(cn===null)throw Error(At(311));cn.lastRenderedReducer=Nt;var dn=cn.dispatch,vn=cn.pending,Pn=Ut.memoizedState;if(vn!==null){cn.pending=null;var Kn=vn=vn.next;do Pn=Nt(Pn,Kn.action),Kn=Kn.next;while(Kn!==vn);Hn(Pn,Ut.memoizedState)||(ko=!0),Ut.memoizedState=Pn,Ut.baseQueue===null&&(Ut.baseState=Pn),cn.lastRenderedState=Pn}return[Pn,dn]}function wm(){}function Tm(Nt,Ut){var cn=Qs,dn=xl(),vn=Ut(),Pn=!Hn(dn.memoizedState,vn);if(Pn&&(dn.memoizedState=vn,ko=!0),dn=dn.queue,wu(Lm.bind(null,cn,dn,Nt),[Nt]),dn.getSnapshot!==Ut||Pn||co!==null&&co.memoizedState.tag&1){if(cn.flags|=2048,bu(9,Rm.bind(null,cn,dn,vn,Ut),void 0,null),eo===null)throw Error(At(349));mu&30||Pm(cn,Ut,vn)}return vn}function Pm(Nt,Ut,cn){Nt.flags|=16384,Nt={getSnapshot:Ut,value:cn},Ut=Qs.updateQueue,Ut===null?(Ut={lastEffect:null,stores:null},Qs.updateQueue=Ut,Ut.stores=[Nt]):(cn=Ut.stores,cn===null?Ut.stores=[Nt]:cn.push(Nt))}function Rm(Nt,Ut,cn,dn){Ut.value=cn,Ut.getSnapshot=dn,Bm(Ut)&&Ko(Nt,1,-1)}function Lm(Nt,Ut,cn){return cn(function(){Bm(Ut)&&Ko(Nt,1,-1)})}function Bm(Nt){var Ut=Nt.getSnapshot;Nt=Nt.value;try{var cn=Ut();return!Hn(Nt,cn)}catch{return!0}}function Ip(Nt){var Ut=Ll();return typeof Nt=="function"&&(Nt=Nt()),Ut.memoizedState=Ut.baseState=Nt,Nt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:Nt},Ut.queue=Nt,Nt=Nt.dispatch=z0.bind(null,Qs,Nt),[Ut.memoizedState,Nt]}function bu(Nt,Ut,cn,dn){return Nt={tag:Nt,create:Ut,destroy:cn,deps:dn,next:null},Ut=Qs.updateQueue,Ut===null?(Ut={lastEffect:null,stores:null},Qs.updateQueue=Ut,Ut.lastEffect=Nt.next=Nt):(cn=Ut.lastEffect,cn===null?Ut.lastEffect=Nt.next=Nt:(dn=cn.next,cn.next=Nt,Nt.next=dn,Ut.lastEffect=Nt)),Nt}function Im(){return xl().memoizedState}function Ku(Nt,Ut,cn,dn){var vn=Ll();Qs.flags|=Nt,vn.memoizedState=bu(1|Ut,cn,void 0,dn===void 0?null:dn)}function Xu(Nt,Ut,cn,dn){var vn=xl();dn=dn===void 0?null:dn;var Pn=void 0;if(vo!==null){var Kn=vo.memoizedState;if(Pn=Kn.destroy,dn!==null&&Rp(dn,Kn.deps)){vn.memoizedState=bu(Ut,cn,Pn,dn);return}}Qs.flags|=Nt,vn.memoizedState=bu(1|Ut,cn,Pn,dn)}function Fp(Nt,Ut){return Ku(8390656,8,Nt,Ut)}function wu(Nt,Ut){return Xu(2048,8,Nt,Ut)}function Fm(Nt,Ut){return Xu(4,2,Nt,Ut)}function Dm(Nt,Ut){return Xu(4,4,Nt,Ut)}function km(Nt,Ut){if(typeof Ut=="function")return Nt=Nt(),Ut(Nt),function(){Ut(null)};if(Ut!=null)return Nt=Nt(),Ut.current=Nt,function(){Ut.current=null}}function Om(Nt,Ut,cn){return cn=cn!=null?cn.concat([Nt]):null,Xu(4,4,km.bind(null,Ut,Nt),cn)}function Dp(){}function Nm(Nt,Ut){var cn=xl();Ut=Ut===void 0?null:Ut;var dn=cn.memoizedState;return dn!==null&&Ut!==null&&Rp(Ut,dn[1])?dn[0]:(cn.memoizedState=[Nt,Ut],Nt)}function Gm(Nt,Ut){var cn=xl();Ut=Ut===void 0?null:Ut;var dn=cn.memoizedState;return dn!==null&&Ut!==null&&Rp(Ut,dn[1])?dn[0]:(Nt=Nt(),cn.memoizedState=[Nt,Ut],Nt)}function U0(Nt,Ut){var cn=os;os=cn!==0&&4>cn?cn:4,Nt(!0);var dn=Wo.transition;Wo.transition={};try{Nt(!1),Ut()}finally{os=cn,Wo.transition=dn}}function Um(){return xl().memoizedState}function V0(Nt,Ut,cn){var dn=zl(Nt);cn={lane:dn,action:cn,hasEagerState:!1,eagerState:null,next:null},Vm(Nt)?zm(Ut,cn):($m(Nt,Ut,cn),cn=bo(),Nt=Ko(Nt,dn,cn),Nt!==null&&Hm(Nt,Ut,dn))}function z0(Nt,Ut,cn){var dn=zl(Nt),vn={lane:dn,action:cn,hasEagerState:!1,eagerState:null,next:null};if(Vm(Nt))zm(Ut,vn);else{$m(Nt,Ut,vn);var Pn=Nt.alternate;if(Nt.lanes===0&&(Pn===null||Pn.lanes===0)&&(Pn=Ut.lastRenderedReducer,Pn!==null))try{var Kn=Ut.lastRenderedState,rr=Pn(Kn,cn);if(vn.hasEagerState=!0,vn.eagerState=rr,Hn(rr,Kn))return}catch{}finally{}cn=bo(),Nt=Ko(Nt,dn,cn),Nt!==null&&Hm(Nt,Ut,dn)}}function Vm(Nt){var Ut=Nt.alternate;return Nt===Qs||Ut!==null&&Ut===Qs}function zm(Nt,Ut){Cu=Hu=!0;var cn=Nt.pending;cn===null?Ut.next=Ut:(Ut.next=cn.next,cn.next=Ut),Nt.pending=Ut}function $m(Nt,Ut,cn){eo!==null&&Nt.mode&1&&!(ys&2)?(Nt=Ut.interleaved,Nt===null?(cn.next=cn,io===null?io=[Ut]:io.push(Ut)):(cn.next=Nt.next,Nt.next=cn),Ut.interleaved=cn):(Nt=Ut.pending,Nt===null?cn.next=cn:(cn.next=Nt.next,Nt.next=cn),Ut.pending=cn)}function Hm(Nt,Ut,cn){if(cn&4194240){var dn=Ut.lanes;dn&=Nt.pendingLanes,cn|=dn,Ut.lanes=cn,zo(Nt,cn)}}var Ju={readContext:ws,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},$0={readContext:ws,useCallback:function(Nt,Ut){return Ll().memoizedState=[Nt,Ut===void 0?null:Ut],Nt},useContext:ws,useEffect:Fp,useImperativeHandle:function(Nt,Ut,cn){return cn=cn!=null?cn.concat([Nt]):null,Ku(4194308,4,km.bind(null,Ut,Nt),cn)},useLayoutEffect:function(Nt,Ut){return Ku(4194308,4,Nt,Ut)},useInsertionEffect:function(Nt,Ut){return Ku(4,2,Nt,Ut)},useMemo:function(Nt,Ut){var cn=Ll();return Ut=Ut===void 0?null:Ut,Nt=Nt(),cn.memoizedState=[Nt,Ut],Nt},useReducer:function(Nt,Ut,cn){var dn=Ll();return Ut=cn!==void 0?cn(Ut):Ut,dn.memoizedState=dn.baseState=Ut,Nt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nt,lastRenderedState:Ut},dn.queue=Nt,Nt=Nt.dispatch=V0.bind(null,Qs,Nt),[dn.memoizedState,Nt]},useRef:function(Nt){var Ut=Ll();return Nt={current:Nt},Ut.memoizedState=Nt},useState:Ip,useDebugValue:Dp,useDeferredValue:function(Nt){var Ut=Ip(Nt),cn=Ut[0],dn=Ut[1];return Fp(function(){var vn=Wo.transition;Wo.transition={};try{dn(Nt)}finally{Wo.transition=vn}},[Nt]),cn},useTransition:function(){var Nt=Ip(!1),Ut=Nt[0];return Nt=U0.bind(null,Nt[1]),Ll().memoizedState=Nt,[Ut,Nt]},useMutableSource:function(){},useSyncExternalStore:function(Nt,Ut,cn){var dn=Qs,vn=Ll();if(Hs){if(cn===void 0)throw Error(At(407));cn=cn()}else{if(cn=Ut(),eo===null)throw Error(At(349));mu&30||Pm(dn,Ut,cn)}vn.memoizedState=cn;var Pn={value:cn,getSnapshot:Ut};return vn.queue=Pn,Fp(Lm.bind(null,dn,Pn,Nt),[Nt]),dn.flags|=2048,bu(9,Rm.bind(null,dn,Pn,cn,Ut),void 0,null),cn},useId:function(){var Nt=Ll(),Ut=eo.identifierPrefix;if(Hs){var cn=Rl,dn=Pl;cn=(dn&~(1<<32-ao(dn)-1)).toString(32)+cn,Ut=":"+Ut+"R"+cn,cn=Mu++,0<cn&&(Ut+="H"+cn.toString(32)),Ut+=":"}else cn=G0++,Ut=":"+Ut+"r"+cn.toString(32)+":";return Nt.memoizedState=Ut},unstable_isNewReconciler:!1},H0={readContext:ws,useCallback:Nm,useContext:ws,useEffect:wu,useImperativeHandle:Om,useInsertionEffect:Fm,useLayoutEffect:Dm,useMemo:Gm,useReducer:ju,useRef:Im,useState:function(){return ju(Zl)},useDebugValue:Dp,useDeferredValue:function(Nt){var Ut=ju(Zl),cn=Ut[0],dn=Ut[1];return wu(function(){var vn=Wo.transition;Wo.transition={};try{dn(Nt)}finally{Wo.transition=vn}},[Nt]),cn},useTransition:function(){var Nt=ju(Zl)[0],Ut=xl().memoizedState;return[Nt,Ut]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Um,unstable_isNewReconciler:!1},j0={readContext:ws,useCallback:Nm,useContext:ws,useEffect:wu,useImperativeHandle:Om,useInsertionEffect:Fm,useLayoutEffect:Dm,useMemo:Gm,useReducer:Wu,useRef:Im,useState:function(){return Wu(Zl)},useDebugValue:Dp,useDeferredValue:function(Nt){var Ut=Wu(Zl),cn=Ut[0],dn=Ut[1];return wu(function(){var vn=Wo.transition;Wo.transition={};try{dn(Nt)}finally{Wo.transition=vn}},[Nt]),cn},useTransition:function(){var Nt=Wu(Zl)[0],Ut=xl().memoizedState;return[Nt,Ut]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Um,unstable_isNewReconciler:!1};function kp(Nt,Ut){try{var cn="",dn=Ut;do cn+=Ls(dn),dn=dn.return;while(dn);var vn=cn}catch(Pn){vn=`
Error generating stack: `+Pn.message+`
`+Pn.stack}return{value:Nt,source:Ut,stack:vn}}function Op(Nt,Ut){try{console.error(Ut.value)}catch(cn){setTimeout(function(){throw cn})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function jm(Nt,Ut,cn){cn=Tl(-1,cn),cn.tag=3,cn.payload={element:null};var dn=Ut.value;return cn.callback=function(){up||(up=!0,tm=dn),Op(Nt,Ut)},cn}function Wm(Nt,Ut,cn){cn=Tl(-1,cn),cn.tag=3;var dn=Nt.type.getDerivedStateFromError;if(typeof dn=="function"){var vn=Ut.value;cn.payload=function(){return dn(vn)},cn.callback=function(){Op(Nt,Ut)}}var Pn=Nt.stateNode;return Pn!==null&&typeof Pn.componentDidCatch=="function"&&(cn.callback=function(){Op(Nt,Ut),typeof dn!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var Kn=Ut.stack;this.componentDidCatch(Ut.value,{componentStack:Kn!==null?Kn:""})}),cn}function Km(Nt,Ut,cn){var dn=Nt.pingCache;if(dn===null){dn=Nt.pingCache=new W0;var vn=new Set;dn.set(Ut,vn)}else vn=dn.get(Ut),vn===void 0&&(vn=new Set,dn.set(Ut,vn));vn.has(cn)||(vn.add(cn),Nt=ov.bind(null,Nt,Ut,cn),Ut.then(Nt,Nt))}function Xm(Nt){do{var Ut;if((Ut=Nt.tag===13)&&(Ut=Nt.memoizedState,Ut=Ut!==null?Ut.dehydrated!==null:!0),Ut)return Nt;Nt=Nt.return}while(Nt!==null);return null}function Jm(Nt,Ut,cn,dn,vn){return Nt.mode&1?(Nt.flags|=65536,Nt.lanes=vn,Nt):(Nt===Ut?Nt.flags|=65536:(Nt.flags|=128,cn.flags|=131072,cn.flags&=-52805,cn.tag===1&&(cn.alternate===null?cn.tag=17:(Ut=Tl(-1,1),Ut.tag=2,Gl(cn,Ut))),cn.lanes|=1),Nt)}function Sl(Nt){Nt.flags|=4}function Qm(Nt,Ut){if(Nt!==null&&Nt.child===Ut.child)return!0;if(Ut.flags&16)return!1;for(Nt=Ut.child;Nt!==null;){if(Nt.flags&12854||Nt.subtreeFlags&12854)return!1;Nt=Nt.sibling}return!0}var Tu,Pu,Qu,qu;if(Wn)Tu=function(Nt,Ut){for(var cn=Ut.child;cn!==null;){if(cn.tag===5||cn.tag===6)Tn(Nt,cn.stateNode);else if(cn.tag!==4&&cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===Ut)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===Ut)return;cn=cn.return}cn.sibling.return=cn.return,cn=cn.sibling}},Pu=function(){},Qu=function(Nt,Ut,cn,dn,vn){if(Nt=Nt.memoizedProps,Nt!==dn){var Pn=Ut.stateNode,Kn=_l(jo.current);cn=Nn(Pn,cn,Nt,dn,vn,Kn),(Ut.updateQueue=cn)&&Sl(Ut)}},qu=function(Nt,Ut,cn,dn){cn!==dn&&Sl(Ut)};else if(Dn){Tu=function(Nt,Ut,cn,dn){for(var vn=Ut.child;vn!==null;){if(vn.tag===5){var Pn=vn.stateNode;cn&&dn&&(Pn=gs(Pn,vn.type,vn.memoizedProps,vn)),Tn(Nt,Pn)}else if(vn.tag===6)Pn=vn.stateNode,cn&&dn&&(Pn=As(Pn,vn.memoizedProps,vn)),Tn(Nt,Pn);else if(vn.tag!==4){if(vn.tag===22&&vn.memoizedState!==null)Pn=vn.child,Pn!==null&&(Pn.return=vn),Tu(Nt,vn,!0,!0);else if(vn.child!==null){vn.child.return=vn,vn=vn.child;continue}}if(vn===Ut)break;for(;vn.sibling===null;){if(vn.return===null||vn.return===Ut)return;vn=vn.return}vn.sibling.return=vn.return,vn=vn.sibling}};var qm=function(Nt,Ut,cn,dn){for(var vn=Ut.child;vn!==null;){if(vn.tag===5){var Pn=vn.stateNode;cn&&dn&&(Pn=gs(Pn,vn.type,vn.memoizedProps,vn)),_s(Nt,Pn)}else if(vn.tag===6)Pn=vn.stateNode,cn&&dn&&(Pn=As(Pn,vn.memoizedProps,vn)),_s(Nt,Pn);else if(vn.tag!==4){if(vn.tag===22&&vn.memoizedState!==null)Pn=vn.child,Pn!==null&&(Pn.return=vn),qm(Nt,vn,!0,!0);else if(vn.child!==null){vn.child.return=vn,vn=vn.child;continue}}if(vn===Ut)break;for(;vn.sibling===null;){if(vn.return===null||vn.return===Ut)return;vn=vn.return}vn.sibling.return=vn.return,vn=vn.sibling}};Pu=function(Nt,Ut){var cn=Ut.stateNode;if(!Qm(Nt,Ut)){Nt=cn.containerInfo;var dn=ts(Nt);qm(dn,Ut,!1,!1),cn.pendingChildren=dn,Sl(Ut),Es(Nt,dn)}},Qu=function(Nt,Ut,cn,dn,vn){var Pn=Nt.stateNode,Kn=Nt.memoizedProps;if((Nt=Qm(Nt,Ut))&&Kn===dn)Ut.stateNode=Pn;else{var rr=Ut.stateNode,wr=_l(jo.current),Or=null;Kn!==dn&&(Or=Nn(rr,cn,Kn,dn,vn,wr)),Nt&&Or===null?Ut.stateNode=Pn:(Pn=jr(Pn,Or,cn,Kn,dn,Ut,Nt,rr),In(Pn,cn,dn,vn,wr)&&Sl(Ut),Ut.stateNode=Pn,Nt?Sl(Ut):Tu(Pn,Ut,!1,!1))}},qu=function(Nt,Ut,cn,dn){cn!==dn?(Nt=_l(du.current),cn=_l(jo.current),Ut.stateNode=Gn(dn,Nt,cn,Ut),Sl(Ut)):Ut.stateNode=Nt.stateNode}}else Pu=function(){},Qu=function(){},qu=function(){};function Ru(Nt,Ut){if(!Hs)switch(Nt.tailMode){case"hidden":Ut=Nt.tail;for(var cn=null;Ut!==null;)Ut.alternate!==null&&(cn=Ut),Ut=Ut.sibling;cn===null?Nt.tail=null:cn.sibling=null;break;case"collapsed":cn=Nt.tail;for(var dn=null;cn!==null;)cn.alternate!==null&&(dn=cn),cn=cn.sibling;dn===null?Ut||Nt.tail===null?Nt.tail=null:Nt.tail.sibling=null:dn.sibling=null}}function _o(Nt){var Ut=Nt.alternate!==null&&Nt.alternate.child===Nt.child,cn=0,dn=0;if(Ut)for(var vn=Nt.child;vn!==null;)cn|=vn.lanes|vn.childLanes,dn|=vn.subtreeFlags&14680064,dn|=vn.flags&14680064,vn.return=Nt,vn=vn.sibling;else for(vn=Nt.child;vn!==null;)cn|=vn.lanes|vn.childLanes,dn|=vn.subtreeFlags,dn|=vn.flags,vn.return=Nt,vn=vn.sibling;return Nt.subtreeFlags|=dn,Nt.childLanes=cn,Ut}function K0(Nt,Ut,cn){var dn=Ut.pendingProps;switch(Ep(Ut),Ut.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _o(Ut),null;case 1:return ks(Ut.type)&&qo(),_o(Ut),null;case 3:return dn=Ut.stateNode,pu(),ss(js),ss(Cs),Pp(),dn.pendingContext&&(dn.context=dn.pendingContext,dn.pendingContext=null),(Nt===null||Nt.child===null)&&(xu(Ut)?Sl(Ut):Nt===null||Nt.memoizedState.isDehydrated&&!(Ut.flags&256)||(Ut.flags|=1024,$a!==null&&(sm($a),$a=null))),Pu(Nt,Ut),_o(Ut),null;case 5:wp(Ut),cn=_l(du.current);var vn=Ut.type;if(Nt!==null&&Ut.stateNode!=null)Qu(Nt,Ut,vn,dn,cn),Nt.ref!==Ut.ref&&(Ut.flags|=512,Ut.flags|=2097152);else{if(!dn){if(Ut.stateNode===null)throw Error(At(166));return _o(Ut),null}if(Nt=_l(jo.current),xu(Ut)){if(!jn)throw Error(At(175));Nt=Kr(Ut.stateNode,Ut.type,Ut.memoizedProps,cn,Nt,Ut,!_u),Ut.updateQueue=Nt,Nt!==null&&Sl(Ut)}else{var Pn=Mn(vn,dn,cn,Nt,Ut);Tu(Pn,Ut,!1,!1),Ut.stateNode=Pn,In(Pn,vn,dn,cn,Nt)&&Sl(Ut)}Ut.ref!==null&&(Ut.flags|=512,Ut.flags|=2097152)}return _o(Ut),null;case 6:if(Nt&&Ut.stateNode!=null)qu(Nt,Ut,Nt.memoizedProps,dn);else{if(typeof dn!="string"&&Ut.stateNode===null)throw Error(At(166));if(Nt=_l(du.current),cn=_l(jo.current),xu(Ut)){if(!jn)throw Error(At(176));if(Nt=Ut.stateNode,dn=Ut.memoizedProps,(cn=Yr(Nt,dn,Ut,!_u))&&(vn=Fo,vn!==null))switch(Pn=(vn.mode&1)!==0,vn.tag){case 3:ho(vn.stateNode.containerInfo,Nt,dn,Pn);break;case 5:So(vn.type,vn.memoizedProps,vn.stateNode,Nt,dn,Pn)}cn&&Sl(Ut)}else Ut.stateNode=Gn(dn,Nt,cn,Ut)}return _o(Ut),null;case 13:if(ss(Js),dn=Ut.memoizedState,Hs&&Do!==null&&Ut.mode&1&&!(Ut.flags&128)){for(Nt=Do;Nt;)Nt=sr(Nt);return fu(),Ut.flags|=98560,Ut}if(dn!==null&&dn.dehydrated!==null){if(dn=xu(Ut),Nt===null){if(!dn)throw Error(At(318));if(!jn)throw Error(At(344));if(Nt=Ut.memoizedState,Nt=Nt!==null?Nt.dehydrated:null,!Nt)throw Error(At(317));Zr(Nt,Ut)}else fu(),!(Ut.flags&128)&&(Ut.memoizedState=null),Ut.flags|=4;return _o(Ut),null}return $a!==null&&(sm($a),$a=null),Ut.flags&128?(Ut.lanes=cn,Ut):(dn=dn!==null,cn=!1,Nt===null?xu(Ut):cn=Nt.memoizedState!==null,dn&&!cn&&(Ut.child.flags|=8192,Ut.mode&1&&(Nt===null||Js.current&1?so===0&&(so=3):am())),Ut.updateQueue!==null&&(Ut.flags|=4),_o(Ut),null);case 4:return pu(),Pu(Nt,Ut),Nt===null&&ir(Ut.stateNode.containerInfo),_o(Ut),null;case 10:return uo(Ut.type._context),_o(Ut),null;case 17:return ks(Ut.type)&&qo(),_o(Ut),null;case 19:if(ss(Js),vn=Ut.memoizedState,vn===null)return _o(Ut),null;if(dn=(Ut.flags&128)!==0,Pn=vn.rendering,Pn===null)if(dn)Ru(vn,!1);else{if(so!==0||Nt!==null&&Nt.flags&128)for(Nt=Ut.child;Nt!==null;){if(Pn=zu(Nt),Pn!==null){for(Ut.flags|=128,Ru(vn,!1),Nt=Pn.updateQueue,Nt!==null&&(Ut.updateQueue=Nt,Ut.flags|=4),Ut.subtreeFlags=0,Nt=cn,dn=Ut.child;dn!==null;)cn=dn,vn=Nt,cn.flags&=14680066,Pn=cn.alternate,Pn===null?(cn.childLanes=0,cn.lanes=vn,cn.child=null,cn.subtreeFlags=0,cn.memoizedProps=null,cn.memoizedState=null,cn.updateQueue=null,cn.dependencies=null,cn.stateNode=null):(cn.childLanes=Pn.childLanes,cn.lanes=Pn.lanes,cn.child=Pn.child,cn.subtreeFlags=0,cn.deletions=null,cn.memoizedProps=Pn.memoizedProps,cn.memoizedState=Pn.memoizedState,cn.updateQueue=Pn.updateQueue,cn.type=Pn.type,vn=Pn.dependencies,cn.dependencies=vn===null?null:{lanes:vn.lanes,firstContext:vn.firstContext}),dn=dn.sibling;return hs(Js,Js.current&1|2),Ut.child}Nt=Nt.sibling}vn.tail!==null&&Us()>em&&(Ut.flags|=128,dn=!0,Ru(vn,!1),Ut.lanes=4194304)}else{if(!dn)if(Nt=zu(Pn),Nt!==null){if(Ut.flags|=128,dn=!0,Nt=Nt.updateQueue,Nt!==null&&(Ut.updateQueue=Nt,Ut.flags|=4),Ru(vn,!0),vn.tail===null&&vn.tailMode==="hidden"&&!Pn.alternate&&!Hs)return _o(Ut),null}else 2*Us()-vn.renderingStartTime>em&&cn!==1073741824&&(Ut.flags|=128,dn=!0,Ru(vn,!1),Ut.lanes=4194304);vn.isBackwards?(Pn.sibling=Ut.child,Ut.child=Pn):(Nt=vn.last,Nt!==null?Nt.sibling=Pn:Ut.child=Pn,vn.last=Pn)}return vn.tail!==null?(Ut=vn.tail,vn.rendering=Ut,vn.tail=Ut.sibling,vn.renderingStartTime=Us(),Ut.sibling=null,Nt=Js.current,hs(Js,dn?Nt&1|2:Nt&1),Ut):(_o(Ut),null);case 22:case 23:return om(),dn=Ut.memoizedState!==null,Nt!==null&&Nt.memoizedState!==null!==dn&&(Ut.flags|=8192),dn&&Ut.mode&1?Oo&1073741824&&(_o(Ut),Wn&&Ut.subtreeFlags&6&&(Ut.flags|=8192)):_o(Ut),null;case 24:return null;case 25:return null}throw Error(At(156,Ut.tag))}var X0=Ct.ReactCurrentOwner,ko=!1;function Mo(Nt,Ut,cn,dn){Ut.child=Nt===null?Mm(Ut,null,cn,dn):hu(Ut,Nt.child,cn,dn)}function Ym(Nt,Ut,cn,dn,vn){cn=cn.render;var Pn=Ut.ref;return Xs(Ut,vn),dn=Lp(Nt,Ut,cn,dn,Pn,vn),cn=Bp(),Nt!==null&&!ko?(Ut.updateQueue=Nt.updateQueue,Ut.flags&=-2053,Nt.lanes&=~vn,Bl(Nt,Ut,vn)):(Hs&&cn&&Sp(Ut),Ut.flags|=1,Mo(Nt,Ut,dn,vn),Ut.child)}function Zm(Nt,Ut,cn,dn,vn){if(Nt===null){var Pn=cn.type;return typeof Pn=="function"&&!lm(Pn)&&Pn.defaultProps===void 0&&cn.compare===null&&cn.defaultProps===void 0?(Ut.tag=15,Ut.type=Pn,_g(Nt,Ut,Pn,dn,vn)):(Nt=gp(cn.type,null,dn,Ut,Ut.mode,vn),Nt.ref=Ut.ref,Nt.return=Ut,Ut.child=Nt)}if(Pn=Nt.child,!(Nt.lanes&vn)){var Kn=Pn.memoizedProps;if(cn=cn.compare,cn=cn!==null?cn:zs,cn(Kn,dn)&&Nt.ref===Ut.ref)return Bl(Nt,Ut,vn)}return Ut.flags|=1,Nt=Hl(Pn,dn),Nt.ref=Ut.ref,Nt.return=Ut,Ut.child=Nt}function _g(Nt,Ut,cn,dn,vn){if(Nt!==null&&zs(Nt.memoizedProps,dn)&&Nt.ref===Ut.ref)if(ko=!1,(Nt.lanes&vn)!==0)Nt.flags&131072&&(ko=!0);else return Ut.lanes=Nt.lanes,Bl(Nt,Ut,vn);return Np(Nt,Ut,cn,dn,vn)}function e0(Nt,Ut,cn){var dn=Ut.pendingProps,vn=dn.children,Pn=Nt!==null?Nt.memoizedState:null;if(dn.mode==="hidden")if(!(Ut.mode&1))Ut.memoizedState={baseLanes:0,cachePool:null},hs(gu,Oo),Oo|=cn;else if(cn&1073741824)Ut.memoizedState={baseLanes:0,cachePool:null},dn=Pn!==null?Pn.baseLanes:cn,hs(gu,Oo),Oo|=dn;else return Nt=Pn!==null?Pn.baseLanes|cn:cn,Ut.lanes=Ut.childLanes=1073741824,Ut.memoizedState={baseLanes:Nt,cachePool:null},Ut.updateQueue=null,hs(gu,Oo),Oo|=Nt,null;else Pn!==null?(dn=Pn.baseLanes|cn,Ut.memoizedState=null):dn=cn,hs(gu,Oo),Oo|=dn;return Mo(Nt,Ut,vn,cn),Ut.child}function t0(Nt,Ut){var cn=Ut.ref;(Nt===null&&cn!==null||Nt!==null&&Nt.ref!==cn)&&(Ut.flags|=512,Ut.flags|=2097152)}function Np(Nt,Ut,cn,dn,vn){var Pn=ks(cn)?Zs:Cs.current;return Pn=Eo(Ut,Pn),Xs(Ut,vn),cn=Lp(Nt,Ut,cn,dn,Pn,vn),dn=Bp(),Nt!==null&&!ko?(Ut.updateQueue=Nt.updateQueue,Ut.flags&=-2053,Nt.lanes&=~vn,Bl(Nt,Ut,vn)):(Hs&&dn&&Sp(Ut),Ut.flags|=1,Mo(Nt,Ut,cn,vn),Ut.child)}function n0(Nt,Ut,cn,dn,vn){if(ks(cn)){var Pn=!0;Go(Ut)}else Pn=!1;if(Xs(Ut,vn),Ut.stateNode===null)Nt!==null&&(Nt.alternate=null,Ut.alternate=null,Ut.flags|=2),vm(Ut,cn,dn),xp(Ut,cn,dn,vn),dn=!0;else if(Nt===null){var Kn=Ut.stateNode,rr=Ut.memoizedProps;Kn.props=rr;var wr=Kn.context,Or=cn.contextType;typeof Or=="object"&&Or!==null?Or=ws(Or):(Or=ks(cn)?Zs:Cs.current,Or=Eo(Ut,Or));var Xr=cn.getDerivedStateFromProps,ls=typeof Xr=="function"||typeof Kn.getSnapshotBeforeUpdate=="function";ls||typeof Kn.UNSAFE_componentWillReceiveProps!="function"&&typeof Kn.componentWillReceiveProps!="function"||(rr!==dn||wr!==Or)&&ym(Ut,Kn,dn,Or),ba=!1;var _i=Ut.memoizedState;Kn.state=_i,Ou(Ut,dn,Kn,vn),wr=Ut.memoizedState,rr!==dn||_i!==wr||js.current||ba?(typeof Xr=="function"&&(_p(Ut,cn,Xr,dn),wr=Ut.memoizedState),(rr=ba||gm(Ut,cn,rr,dn,_i,wr,Or))?(ls||typeof Kn.UNSAFE_componentWillMount!="function"&&typeof Kn.componentWillMount!="function"||(typeof Kn.componentWillMount=="function"&&Kn.componentWillMount(),typeof Kn.UNSAFE_componentWillMount=="function"&&Kn.UNSAFE_componentWillMount()),typeof Kn.componentDidMount=="function"&&(Ut.flags|=4194308)):(typeof Kn.componentDidMount=="function"&&(Ut.flags|=4194308),Ut.memoizedProps=dn,Ut.memoizedState=wr),Kn.props=dn,Kn.state=wr,Kn.context=Or,dn=rr):(typeof Kn.componentDidMount=="function"&&(Ut.flags|=4194308),dn=!1)}else{Kn=Ut.stateNode,hm(Nt,Ut),rr=Ut.memoizedProps,Or=Ut.type===Ut.elementType?rr:Bs(Ut.type,rr),Kn.props=Or,ls=Ut.pendingProps,_i=Kn.context,wr=cn.contextType,typeof wr=="object"&&wr!==null?wr=ws(wr):(wr=ks(cn)?Zs:Cs.current,wr=Eo(Ut,wr));var Os=cn.getDerivedStateFromProps;(Xr=typeof Os=="function"||typeof Kn.getSnapshotBeforeUpdate=="function")||typeof Kn.UNSAFE_componentWillReceiveProps!="function"&&typeof Kn.componentWillReceiveProps!="function"||(rr!==ls||_i!==wr)&&ym(Ut,Kn,dn,wr),ba=!1,_i=Ut.memoizedState,Kn.state=_i,Ou(Ut,dn,Kn,vn);var qr=Ut.memoizedState;rr!==ls||_i!==qr||js.current||ba?(typeof Os=="function"&&(_p(Ut,cn,Os,dn),qr=Ut.memoizedState),(Or=ba||gm(Ut,cn,Or,dn,_i,qr,wr)||!1)?(Xr||typeof Kn.UNSAFE_componentWillUpdate!="function"&&typeof Kn.componentWillUpdate!="function"||(typeof Kn.componentWillUpdate=="function"&&Kn.componentWillUpdate(dn,qr,wr),typeof Kn.UNSAFE_componentWillUpdate=="function"&&Kn.UNSAFE_componentWillUpdate(dn,qr,wr)),typeof Kn.componentDidUpdate=="function"&&(Ut.flags|=4),typeof Kn.getSnapshotBeforeUpdate=="function"&&(Ut.flags|=1024)):(typeof Kn.componentDidUpdate!="function"||rr===Nt.memoizedProps&&_i===Nt.memoizedState||(Ut.flags|=4),typeof Kn.getSnapshotBeforeUpdate!="function"||rr===Nt.memoizedProps&&_i===Nt.memoizedState||(Ut.flags|=1024),Ut.memoizedProps=dn,Ut.memoizedState=qr),Kn.props=dn,Kn.state=qr,Kn.context=wr,dn=Or):(typeof Kn.componentDidUpdate!="function"||rr===Nt.memoizedProps&&_i===Nt.memoizedState||(Ut.flags|=4),typeof Kn.getSnapshotBeforeUpdate!="function"||rr===Nt.memoizedProps&&_i===Nt.memoizedState||(Ut.flags|=1024),dn=!1)}return Gp(Nt,Ut,cn,dn,Pn,vn)}function Gp(Nt,Ut,cn,dn,vn,Pn){t0(Nt,Ut);var Kn=(Ut.flags&128)!==0;if(!dn&&!Kn)return vn&&ou(Ut,cn,!1),Bl(Nt,Ut,Pn);dn=Ut.stateNode,X0.current=Ut;var rr=Kn&&typeof cn.getDerivedStateFromError!="function"?null:dn.render();return Ut.flags|=1,Nt!==null&&Kn?(Ut.child=hu(Ut,Nt.child,null,Pn),Ut.child=hu(Ut,null,rr,Pn)):Mo(Nt,Ut,rr,Pn),Ut.memoizedState=dn.state,vn&&ou(Ut,cn,!0),Ut.child}function r0(Nt){var Ut=Nt.stateNode;Ut.pendingContext?El(Nt,Ut.pendingContext,Ut.pendingContext!==Ut.context):Ut.context&&El(Nt,Ut.context,!1),bp(Nt,Ut.containerInfo)}function i0(Nt,Ut,cn,dn,vn){return fu(),Mp(vn),Ut.flags|=256,Mo(Nt,Ut,cn,dn),Ut.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Zu(Nt){return{baseLanes:Nt,cachePool:null}}function s0(Nt,Ut,cn){var dn=Ut.pendingProps,vn=Js.current,Pn=!1,Kn=(Ut.flags&128)!==0,rr;if((rr=Kn)||(rr=Nt!==null&&Nt.memoizedState===null?!1:(vn&2)!==0),rr?(Pn=!0,Ut.flags&=-129):(Nt===null||Nt.memoizedState!==null)&&(vn|=1),hs(Js,vn&1),Nt===null)return Cp(Ut),Nt=Ut.memoizedState,Nt!==null&&(Nt=Nt.dehydrated,Nt!==null)?(Ut.mode&1?Ns(Nt)?Ut.lanes=8:Ut.lanes=1073741824:Ut.lanes=1,null):(vn=dn.children,Nt=dn.fallback,Pn?(dn=Ut.mode,Pn=Ut.child,vn={mode:"hidden",children:vn},!(dn&1)&&Pn!==null?(Pn.childLanes=0,Pn.pendingProps=vn):Pn=vp(vn,dn,0,null),Nt=su(Nt,dn,cn,null),Pn.return=Ut,Nt.return=Ut,Pn.sibling=Nt,Ut.child=Pn,Ut.child.memoizedState=Zu(cn),Ut.memoizedState=Yu,Nt):Up(Ut,vn));if(vn=Nt.memoizedState,vn!==null){if(rr=vn.dehydrated,rr!==null){if(Kn)return Ut.flags&256?(Ut.flags&=-257,_c(Nt,Ut,cn,Error(At(422)))):Ut.memoizedState!==null?(Ut.child=Nt.child,Ut.flags|=128,null):(Pn=dn.fallback,vn=Ut.mode,dn=vp({mode:"visible",children:dn.children},vn,0,null),Pn=su(Pn,vn,cn,null),Pn.flags|=2,dn.return=Ut,Pn.return=Ut,dn.sibling=Pn,Ut.child=dn,Ut.mode&1&&hu(Ut,Nt.child,null,cn),Ut.child.memoizedState=Zu(cn),Ut.memoizedState=Yu,Pn);if(!(Ut.mode&1))Ut=_c(Nt,Ut,cn,null);else if(Ns(rr))Ut=_c(Nt,Ut,cn,Error(At(419)));else if(dn=(cn&Nt.childLanes)!==0,ko||dn){if(dn=eo,dn!==null){switch(cn&-cn){case 4:Pn=2;break;case 16:Pn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Pn=32;break;case 536870912:Pn=268435456;break;default:Pn=0}dn=Pn&(dn.suspendedLanes|cn)?0:Pn,dn!==0&&dn!==vn.retryLane&&(vn.retryLane=dn,Ko(Nt,dn,-1))}am(),Ut=_c(Nt,Ut,cn,Error(At(421)))}else Ms(rr)?(Ut.flags|=128,Ut.child=Nt.child,Ut=av.bind(null,Nt),zn(rr,Ut),Ut=null):(cn=vn.treeContext,jn&&(Do=br(rr),Fo=Ut,Hs=!0,$a=null,_u=!1,cn!==null&&($o[Ho++]=Pl,$o[Ho++]=Rl,$o[Ho++]=Ql,Pl=cn.id,Rl=cn.overflow,Ql=Ut)),Ut=Up(Ut,Ut.pendingProps.children),Ut.flags|=4096);return Ut}return Pn?(dn=a0(Nt,Ut,dn.children,dn.fallback,cn),Pn=Ut.child,vn=Nt.child.memoizedState,Pn.memoizedState=vn===null?Zu(cn):{baseLanes:vn.baseLanes|cn,cachePool:null},Pn.childLanes=Nt.childLanes&~cn,Ut.memoizedState=Yu,dn):(cn=o0(Nt,Ut,dn.children,cn),Ut.memoizedState=null,cn)}return Pn?(dn=a0(Nt,Ut,dn.children,dn.fallback,cn),Pn=Ut.child,vn=Nt.child.memoizedState,Pn.memoizedState=vn===null?Zu(cn):{baseLanes:vn.baseLanes|cn,cachePool:null},Pn.childLanes=Nt.childLanes&~cn,Ut.memoizedState=Yu,dn):(cn=o0(Nt,Ut,dn.children,cn),Ut.memoizedState=null,cn)}function Up(Nt,Ut){return Ut=vp({mode:"visible",children:Ut},Nt.mode,0,null),Ut.return=Nt,Nt.child=Ut}function o0(Nt,Ut,cn,dn){var vn=Nt.child;return Nt=vn.sibling,cn=Hl(vn,{mode:"visible",children:cn}),!(Ut.mode&1)&&(cn.lanes=dn),cn.return=Ut,cn.sibling=null,Nt!==null&&(dn=Ut.deletions,dn===null?(Ut.deletions=[Nt],Ut.flags|=16):dn.push(Nt)),Ut.child=cn}function a0(Nt,Ut,cn,dn,vn){var Pn=Ut.mode;Nt=Nt.child;var Kn=Nt.sibling,rr={mode:"hidden",children:cn};return!(Pn&1)&&Ut.child!==Nt?(cn=Ut.child,cn.childLanes=0,cn.pendingProps=rr,Ut.deletions=null):(cn=Hl(Nt,rr),cn.subtreeFlags=Nt.subtreeFlags&14680064),Kn!==null?dn=Hl(Kn,dn):(dn=su(dn,Pn,vn,null),dn.flags|=2),dn.return=Ut,cn.return=Ut,cn.sibling=dn,Ut.child=cn,dn}function _c(Nt,Ut,cn,dn){return dn!==null&&Mp(dn),hu(Ut,Nt.child,null,cn),Nt=Up(Ut,Ut.pendingProps.children),Nt.flags|=2,Ut.memoizedState=null,Nt}function l0(Nt,Ut,cn){Nt.lanes|=Ut;var dn=Nt.alternate;dn!==null&&(dn.lanes|=Ut),Ks(Nt.return,Ut,cn)}function Vp(Nt,Ut,cn,dn,vn){var Pn=Nt.memoizedState;Pn===null?Nt.memoizedState={isBackwards:Ut,rendering:null,renderingStartTime:0,last:dn,tail:cn,tailMode:vn}:(Pn.isBackwards=Ut,Pn.rendering=null,Pn.renderingStartTime=0,Pn.last=dn,Pn.tail=cn,Pn.tailMode=vn)}function u0(Nt,Ut,cn){var dn=Ut.pendingProps,vn=dn.revealOrder,Pn=dn.tail;if(Mo(Nt,Ut,dn.children,cn),dn=Js.current,dn&2)dn=dn&1|2,Ut.flags|=128;else{if(Nt!==null&&Nt.flags&128)e:for(Nt=Ut.child;Nt!==null;){if(Nt.tag===13)Nt.memoizedState!==null&&l0(Nt,cn,Ut);else if(Nt.tag===19)l0(Nt,cn,Ut);else if(Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===Ut)break e;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===Ut)break e;Nt=Nt.return}Nt.sibling.return=Nt.return,Nt=Nt.sibling}dn&=1}if(hs(Js,dn),!(Ut.mode&1))Ut.memoizedState=null;else switch(vn){case"forwards":for(cn=Ut.child,vn=null;cn!==null;)Nt=cn.alternate,Nt!==null&&zu(Nt)===null&&(vn=cn),cn=cn.sibling;cn=vn,cn===null?(vn=Ut.child,Ut.child=null):(vn=cn.sibling,cn.sibling=null),Vp(Ut,!1,vn,cn,Pn);break;case"backwards":for(cn=null,vn=Ut.child,Ut.child=null;vn!==null;){if(Nt=vn.alternate,Nt!==null&&zu(Nt)===null){Ut.child=vn;break}Nt=vn.sibling,vn.sibling=cn,cn=vn,vn=Nt}Vp(Ut,!0,cn,null,Pn);break;case"together":Vp(Ut,!1,null,null,void 0);break;default:Ut.memoizedState=null}return Ut.child}function Bl(Nt,Ut,cn){if(Nt!==null&&(Ut.dependencies=Nt.dependencies),vu|=Ut.lanes,!(cn&Ut.childLanes))return null;if(Nt!==null&&Ut.child!==Nt.child)throw Error(At(153));if(Ut.child!==null){for(Nt=Ut.child,cn=Hl(Nt,Nt.pendingProps),Ut.child=cn,cn.return=Ut;Nt.sibling!==null;)Nt=Nt.sibling,cn=cn.sibling=Hl(Nt,Nt.pendingProps),cn.return=Ut;cn.sibling=null}return Ut.child}function J0(Nt,Ut,cn){switch(Ut.tag){case 3:r0(Ut),fu();break;case 5:bm(Ut);break;case 1:ks(Ut.type)&&Go(Ut);break;case 4:bp(Ut,Ut.stateNode.containerInfo);break;case 10:Ro(Ut,Ut.type._context,Ut.memoizedProps.value);break;case 13:var dn=Ut.memoizedState;if(dn!==null)return dn.dehydrated!==null?(hs(Js,Js.current&1),Ut.flags|=128,null):cn&Ut.child.childLanes?s0(Nt,Ut,cn):(hs(Js,Js.current&1),Nt=Bl(Nt,Ut,cn),Nt!==null?Nt.sibling:null);hs(Js,Js.current&1);break;case 19:if(dn=(cn&Ut.childLanes)!==0,Nt.flags&128){if(dn)return u0(Nt,Ut,cn);Ut.flags|=128}var vn=Ut.memoizedState;if(vn!==null&&(vn.rendering=null,vn.tail=null,vn.lastEffect=null),hs(Js,Js.current),dn)break;return null;case 22:case 23:return Ut.lanes=0,e0(Nt,Ut,cn)}return Bl(Nt,Ut,cn)}function Q0(Nt,Ut){switch(Ep(Ut),Ut.tag){case 1:return ks(Ut.type)&&qo(),Nt=Ut.flags,Nt&65536?(Ut.flags=Nt&-65537|128,Ut):null;case 3:return pu(),ss(js),ss(Cs),Pp(),Nt=Ut.flags,Nt&65536&&!(Nt&128)?(Ut.flags=Nt&-65537|128,Ut):null;case 5:return wp(Ut),null;case 13:if(ss(Js),Nt=Ut.memoizedState,Nt!==null&&Nt.dehydrated!==null){if(Ut.alternate===null)throw Error(At(340));fu()}return Nt=Ut.flags,Nt&65536?(Ut.flags=Nt&-65537|128,Ut):null;case 19:return ss(Js),null;case 4:return pu(),null;case 10:return uo(Ut.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var _f=!1,eu=!1,q0=typeof WeakSet=="function"?WeakSet:Set,zr=null;function _h(Nt,Ut){var cn=Nt.ref;if(cn!==null)if(typeof cn=="function")try{cn(null)}catch(dn){Io(Nt,Ut,dn)}else cn.current=null}function zp(Nt,Ut,cn){try{cn()}catch(dn){Io(Nt,Ut,dn)}}var c0=!1;function Y0(Nt,Ut){for(mn(Nt.containerInfo),zr=Ut;zr!==null;)if(Nt=zr,Ut=Nt.child,(Nt.subtreeFlags&1028)!==0&&Ut!==null)Ut.return=Nt,zr=Ut;else for(;zr!==null;){Nt=zr;try{var cn=Nt.alternate;if(Nt.flags&1024)switch(Nt.tag){case 0:case 11:case 15:break;case 1:if(cn!==null){var dn=cn.memoizedProps,vn=cn.memoizedState,Pn=Nt.stateNode,Kn=Pn.getSnapshotBeforeUpdate(Nt.elementType===Nt.type?dn:Bs(Nt.type,dn),vn);Pn.__reactInternalSnapshotBeforeUpdate=Kn}break;case 3:Wn&&Gr(Nt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(At(163))}}catch(rr){Io(Nt,Nt.return,rr)}if(Ut=Nt.sibling,Ut!==null){Ut.return=Nt.return,zr=Ut;break}zr=Nt.return}return cn=c0,c0=!1,cn}function tu(Nt,Ut,cn){var dn=Ut.updateQueue;if(dn=dn!==null?dn.lastEffect:null,dn!==null){var vn=dn=dn.next;do{if((vn.tag&Nt)===Nt){var Pn=vn.destroy;vn.destroy=void 0,Pn!==void 0&&zp(Ut,cn,Pn)}vn=vn.next}while(vn!==dn)}}function Lu(Nt,Ut){if(Ut=Ut.updateQueue,Ut=Ut!==null?Ut.lastEffect:null,Ut!==null){var cn=Ut=Ut.next;do{if((cn.tag&Nt)===Nt){var dn=cn.create;cn.destroy=dn()}cn=cn.next}while(cn!==Ut)}}function $p(Nt){var Ut=Nt.ref;if(Ut!==null){var cn=Nt.stateNode;switch(Nt.tag){case 5:Nt=yn(cn);break;default:Nt=cn}typeof Ut=="function"?Ut(Nt):Ut.current=Nt}}function f0(Nt,Ut,cn){if(Ao&&typeof Ao.onCommitFiberUnmount=="function")try{Ao.onCommitFiberUnmount(xa,Ut)}catch{}switch(Ut.tag){case 0:case 11:case 14:case 15:if(Nt=Ut.updateQueue,Nt!==null&&(Nt=Nt.lastEffect,Nt!==null)){var dn=Nt=Nt.next;do{var vn=dn,Pn=vn.destroy;vn=vn.tag,Pn!==void 0&&(vn&2||vn&4)&&zp(Ut,cn,Pn),dn=dn.next}while(dn!==Nt)}break;case 1:if(_h(Ut,cn),Nt=Ut.stateNode,typeof Nt.componentWillUnmount=="function")try{Nt.props=Ut.memoizedProps,Nt.state=Ut.memoizedState,Nt.componentWillUnmount()}catch(Kn){Io(Ut,cn,Kn)}break;case 5:_h(Ut,cn);break;case 4:Wn?v0(Nt,Ut,cn):Dn&&Dn&&(Ut=Ut.stateNode.containerInfo,cn=ts(Ut),xs(Ut,cn))}}function h0(Nt,Ut,cn){for(var dn=Ut;;)if(f0(Nt,dn,cn),dn.child===null||Wn&&dn.tag===4){if(dn===Ut)break;for(;dn.sibling===null;){if(dn.return===null||dn.return===Ut)return;dn=dn.return}dn.sibling.return=dn.return,dn=dn.sibling}else dn.child.return=dn,dn=dn.child}function d0(Nt){var Ut=Nt.alternate;Ut!==null&&(Nt.alternate=null,d0(Ut)),Nt.child=null,Nt.deletions=null,Nt.sibling=null,Nt.tag===5&&(Ut=Nt.stateNode,Ut!==null&&Pr(Ut)),Nt.stateNode=null,Nt.return=null,Nt.dependencies=null,Nt.memoizedProps=null,Nt.memoizedState=null,Nt.pendingProps=null,Nt.stateNode=null,Nt.updateQueue=null}function p0(Nt){return Nt.tag===5||Nt.tag===3||Nt.tag===4}function m0(Nt){e:for(;;){for(;Nt.sibling===null;){if(Nt.return===null||p0(Nt.return))return null;Nt=Nt.return}for(Nt.sibling.return=Nt.return,Nt=Nt.sibling;Nt.tag!==5&&Nt.tag!==6&&Nt.tag!==18;){if(Nt.flags&2||Nt.child===null||Nt.tag===4)continue e;Nt.child.return=Nt,Nt=Nt.child}if(!(Nt.flags&2))return Nt.stateNode}}function g0(Nt){if(Wn){e:{for(var Ut=Nt.return;Ut!==null;){if(p0(Ut))break e;Ut=Ut.return}throw Error(At(160))}var cn=Ut;switch(cn.tag){case 5:Ut=cn.stateNode,cn.flags&32&&(Wr(Ut),cn.flags&=-33),cn=m0(Nt),jp(Nt,cn,Ut);break;case 3:case 4:Ut=cn.stateNode.containerInfo,cn=m0(Nt),Hp(Nt,cn,Ut);break;default:throw Error(At(161))}}}function Hp(Nt,Ut,cn){var dn=Nt.tag;if(dn===5||dn===6)Nt=Nt.stateNode,Ut?Sr(cn,Nt,Ut):Br(cn,Nt);else if(dn!==4&&(Nt=Nt.child,Nt!==null))for(Hp(Nt,Ut,cn),Nt=Nt.sibling;Nt!==null;)Hp(Nt,Ut,cn),Nt=Nt.sibling}function jp(Nt,Ut,cn){var dn=Nt.tag;if(dn===5||dn===6)Nt=Nt.stateNode,Ut?cr(cn,Nt,Ut):Fr(cn,Nt);else if(dn!==4&&(Nt=Nt.child,Nt!==null))for(jp(Nt,Ut,cn),Nt=Nt.sibling;Nt!==null;)jp(Nt,Ut,cn),Nt=Nt.sibling}function v0(Nt,Ut,cn){for(var dn=Ut,vn=!1,Pn,Kn;;){if(!vn){vn=dn.return;e:for(;;){if(vn===null)throw Error(At(160));switch(Pn=vn.stateNode,vn.tag){case 5:Kn=!1;break e;case 3:Pn=Pn.containerInfo,Kn=!0;break e;case 4:Pn=Pn.containerInfo,Kn=!0;break e}vn=vn.return}vn=!0}if(dn.tag===5||dn.tag===6)h0(Nt,dn,cn),Kn?Dr(Pn,dn.stateNode):_r(Pn,dn.stateNode);else if(dn.tag===18)Kn?Ds(Pn,dn.stateNode):ds(Pn,dn.stateNode);else if(dn.tag===4){if(dn.child!==null){Pn=dn.stateNode.containerInfo,Kn=!0,dn.child.return=dn,dn=dn.child;continue}}else if(f0(Nt,dn,cn),dn.child!==null){dn.child.return=dn,dn=dn.child;continue}if(dn===Ut)break;for(;dn.sibling===null;){if(dn.return===null||dn.return===Ut)return;dn=dn.return,dn.tag===4&&(vn=!1)}dn.sibling.return=dn.return,dn=dn.sibling}}function Wp(Nt,Ut){if(Wn){switch(Ut.tag){case 0:case 11:case 14:case 15:tu(3,Ut,Ut.return),Lu(3,Ut),tu(5,Ut,Ut.return);return;case 1:return;case 5:var cn=Ut.stateNode;if(cn!=null){var dn=Ut.memoizedProps;Nt=Nt!==null?Nt.memoizedProps:dn;var vn=Ut.type,Pn=Ut.updateQueue;Ut.updateQueue=null,Pn!==null&&Jn(cn,Pn,vn,Nt,dn,Ut)}return;case 6:if(Ut.stateNode===null)throw Error(At(162));cn=Ut.memoizedProps,pr(Ut.stateNode,Nt!==null?Nt.memoizedProps:cn,cn);return;case 3:jn&&Nt!==null&&Nt.memoizedState.isDehydrated&&cs(Ut.stateNode.containerInfo);return;case 12:return;case 13:_d(Ut);return;case 19:_d(Ut);return;case 17:return}throw Error(At(163))}switch(Ut.tag){case 0:case 11:case 14:case 15:tu(3,Ut,Ut.return),Lu(3,Ut),tu(5,Ut,Ut.return);return;case 12:return;case 13:_d(Ut);return;case 19:_d(Ut);return;case 3:jn&&Nt!==null&&Nt.memoizedState.isDehydrated&&cs(Ut.stateNode.containerInfo);break;case 22:case 23:return}e:if(Dn){switch(Ut.tag){case 1:case 5:case 6:break e;case 3:case 4:Ut=Ut.stateNode,xs(Ut.containerInfo,Ut.pendingChildren);break e}throw Error(At(163))}}function _d(Nt){var Ut=Nt.updateQueue;if(Ut!==null){Nt.updateQueue=null;var cn=Nt.stateNode;cn===null&&(cn=Nt.stateNode=new q0),Ut.forEach(function(dn){var vn=lv.bind(null,Nt,dn);cn.has(dn)||(cn.add(dn),dn.then(vn,vn))})}}function Z0(Nt,Ut){for(zr=Ut;zr!==null;){Ut=zr;var cn=Ut.deletions;if(cn!==null)for(var dn=0;dn<cn.length;dn++){var vn=cn[dn];try{var Pn=Nt;Wn?v0(Pn,vn,Ut):h0(Pn,vn,Ut);var Kn=vn.alternate;Kn!==null&&(Kn.return=null),vn.return=null}catch(Qr){Io(vn,Ut,Qr)}}if(cn=Ut.child,Ut.subtreeFlags&12854&&cn!==null)cn.return=Ut,zr=cn;else for(;zr!==null;){Ut=zr;try{var rr=Ut.flags;if(rr&32&&Wn&&Wr(Ut.stateNode),rr&512){var wr=Ut.alternate;if(wr!==null){var Or=wr.ref;Or!==null&&(typeof Or=="function"?Or(null):Or.current=null)}}if(rr&8192)switch(Ut.tag){case 13:if(Ut.memoizedState!==null){var Xr=Ut.alternate;(Xr===null||Xr.memoizedState===null)&&(Zp=Us())}break;case 22:var ls=Ut.memoizedState!==null,_i=Ut.alternate,Os=_i!==null&&_i.memoizedState!==null;if(cn=Ut,Wn){e:if(dn=cn,vn=ls,Pn=null,Wn)for(var qr=dn;;){if(qr.tag===5){if(Pn===null){Pn=qr;var xo=qr.stateNode;vn?es(xo):dr(qr.stateNode,qr.memoizedProps)}}else if(qr.tag===6){if(Pn===null){var Jo=qr.stateNode;vn?qn(Jo):Rr(Jo,qr.memoizedProps)}}else if((qr.tag!==22&&qr.tag!==23||qr.memoizedState===null||qr===dn)&&qr.child!==null){qr.child.return=qr,qr=qr.child;continue}if(qr===dn)break;for(;qr.sibling===null;){if(qr.return===null||qr.return===dn)break e;Pn===qr&&(Pn=null),qr=qr.return}Pn===qr&&(Pn=null),qr.sibling.return=qr.return,qr=qr.sibling}}if(ls&&!Os&&cn.mode&1){zr=cn;for(var gr=cn.child;gr!==null;){for(cn=zr=gr;zr!==null;){dn=zr;var lr=dn.child;switch(dn.tag){case 0:case 11:case 14:case 15:tu(4,dn,dn.return);break;case 1:_h(dn,dn.return);var Er=dn.stateNode;if(typeof Er.componentWillUnmount=="function"){var Hr=dn.return;try{Er.props=dn.memoizedProps,Er.state=dn.memoizedState,Er.componentWillUnmount()}catch(Qr){Io(dn,Hr,Qr)}}break;case 5:_h(dn,dn.return);break;case 22:if(dn.memoizedState!==null){x0(cn);continue}}lr!==null?(lr.return=dn,zr=lr):x0(cn)}gr=gr.sibling}}}switch(rr&4102){case 2:g0(Ut),Ut.flags&=-3;break;case 6:g0(Ut),Ut.flags&=-3,Wp(Ut.alternate,Ut);break;case 4096:Ut.flags&=-4097;break;case 4100:Ut.flags&=-4097,Wp(Ut.alternate,Ut);break;case 4:Wp(Ut.alternate,Ut)}}catch(Qr){Io(Ut,Ut.return,Qr)}if(cn=Ut.sibling,cn!==null){cn.return=Ut.return,zr=cn;break}zr=Ut.return}}}function ev(Nt,Ut,cn){zr=Nt,y0(Nt)}function y0(Nt,Ut,cn){for(var dn=(Nt.mode&1)!==0;zr!==null;){var vn=zr,Pn=vn.child;if(vn.tag===22&&dn){var Kn=vn.memoizedState!==null||_f;if(!Kn){var rr=vn.alternate,wr=rr!==null&&rr.memoizedState!==null||eu;rr=_f;var Or=eu;if(_f=Kn,(eu=wr)&&!Or)for(zr=vn;zr!==null;)Kn=zr,wr=Kn.child,Kn.tag===22&&Kn.memoizedState!==null?S0(vn):wr!==null?(wr.return=Kn,zr=wr):S0(vn);for(;Pn!==null;)zr=Pn,y0(Pn),Pn=Pn.sibling;zr=vn,_f=rr,eu=Or}_0(Nt)}else vn.subtreeFlags&8772&&Pn!==null?(Pn.return=vn,zr=Pn):_0(Nt)}}function _0(Nt){for(;zr!==null;){var Ut=zr;if(Ut.flags&8772){var cn=Ut.alternate;try{if(Ut.flags&8772)switch(Ut.tag){case 0:case 11:case 15:eu||Lu(5,Ut);break;case 1:var dn=Ut.stateNode;if(Ut.flags&4&&!eu)if(cn===null)dn.componentDidMount();else{var vn=Ut.elementType===Ut.type?cn.memoizedProps:Bs(Ut.type,cn.memoizedProps);dn.componentDidUpdate(vn,cn.memoizedState,dn.__reactInternalSnapshotBeforeUpdate)}var Pn=Ut.updateQueue;Pn!==null&&pm(Ut,Pn,dn);break;case 3:var Kn=Ut.updateQueue;if(Kn!==null){if(cn=null,Ut.child!==null)switch(Ut.child.tag){case 5:cn=yn(Ut.child.stateNode);break;case 1:cn=Ut.child.stateNode}pm(Ut,Kn,cn)}break;case 5:var rr=Ut.stateNode;cn===null&&Ut.flags&4&&kr(rr,Ut.type,Ut.memoizedProps,Ut);break;case 6:break;case 4:break;case 12:break;case 13:if(jn&&Ut.memoizedState===null){var wr=Ut.alternate;if(wr!==null){var Or=wr.memoizedState;if(Or!==null){var Xr=Or.dehydrated;Xr!==null&&fs(Xr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(At(163))}eu||Ut.flags&512&&$p(Ut)}catch(ls){Io(Ut,Ut.return,ls)}}if(Ut===Nt){zr=null;break}if(cn=Ut.sibling,cn!==null){cn.return=Ut.return,zr=cn;break}zr=Ut.return}}function x0(Nt){for(;zr!==null;){var Ut=zr;if(Ut===Nt){zr=null;break}var cn=Ut.sibling;if(cn!==null){cn.return=Ut.return,zr=cn;break}zr=Ut.return}}function S0(Nt){for(;zr!==null;){var Ut=zr;try{switch(Ut.tag){case 0:case 11:case 15:var cn=Ut.return;try{Lu(4,Ut)}catch(wr){Io(Ut,cn,wr)}break;case 1:var dn=Ut.stateNode;if(typeof dn.componentDidMount=="function"){var vn=Ut.return;try{dn.componentDidMount()}catch(wr){Io(Ut,vn,wr)}}var Pn=Ut.return;try{$p(Ut)}catch(wr){Io(Ut,Pn,wr)}break;case 5:var Kn=Ut.return;try{$p(Ut)}catch(wr){Io(Ut,Kn,wr)}}}catch(wr){Io(Ut,Ut.return,wr)}if(Ut===Nt){zr=null;break}var rr=Ut.sibling;if(rr!==null){rr.return=Ut.return,zr=rr;break}zr=Ut.return}}var ep=0,tp=1,np=2,rp=3,sp=4;if(typeof Symbol=="function"&&Symbol.for){var Bu=Symbol.for;ep=Bu("selector.component"),tp=Bu("selector.has_pseudo_class"),np=Bu("selector.role"),rp=Bu("selector.test_id"),sp=Bu("selector.text")}function Kp(Nt){var Ut=Qn(Nt);if(Ut!=null){if(typeof Ut.memoizedProps["data-testname"]!="string")throw Error(At(364));return Ut}if(Nt=mr(Nt),Nt===null)throw Error(At(362));return Nt.stateNode.current}function Xp(Nt,Ut){switch(Ut.$$typeof){case ep:if(Nt.type===Ut.value)return!0;break;case tp:e:{Ut=Ut.value,Nt=[Nt,0];for(var cn=0;cn<Nt.length;){var dn=Nt[cn++],vn=Nt[cn++],Pn=Ut[vn];if(dn.tag!==5||!Yn(dn)){for(;Pn!=null&&Xp(dn,Pn);)vn++,Pn=Ut[vn];if(vn===Ut.length){Ut=!0;break e}else for(dn=dn.child;dn!==null;)Nt.push(dn,vn),dn=dn.sibling}}Ut=!1}return Ut;case np:if(Nt.tag===5&&ur(Nt.stateNode,Ut.value))return!0;break;case sp:if((Nt.tag===5||Nt.tag===6)&&(Nt=Bn(Nt),Nt!==null&&0<=Nt.indexOf(Ut.value)))return!0;break;case rp:if(Nt.tag===5&&(Nt=Nt.memoizedProps["data-testname"],typeof Nt=="string"&&Nt.toLowerCase()===Ut.value.toLowerCase()))return!0;break;default:throw Error(At(365))}return!1}function Jp(Nt){switch(Nt.$$typeof){case ep:return"<"+(fn(Nt.value)||"Unknown")+">";case tp:return":has("+(Jp(Nt)||"")+")";case np:return'[role="'+Nt.value+'"]';case sp:return'"'+Nt.value+'"';case rp:return'[data-testname="'+Nt.value+'"]';default:throw Error(At(365))}}function E0(Nt,Ut){var cn=[];Nt=[Nt,0];for(var dn=0;dn<Nt.length;){var vn=Nt[dn++],Pn=Nt[dn++],Kn=Ut[Pn];if(vn.tag!==5||!Yn(vn)){for(;Kn!=null&&Xp(vn,Kn);)Pn++,Kn=Ut[Pn];if(Pn===Ut.length)cn.push(vn);else for(vn=vn.child;vn!==null;)Nt.push(vn,Pn),vn=vn.sibling}}return cn}function Qp(Nt,Ut){if(!Tr)throw Error(At(363));Nt=Kp(Nt),Nt=E0(Nt,Ut),Ut=[],Nt=Array.from(Nt);for(var cn=0;cn<Nt.length;){var dn=Nt[cn++];if(dn.tag===5)Yn(dn)||Ut.push(dn.stateNode);else for(dn=dn.child;dn!==null;)Nt.push(dn),dn=dn.sibling}return Ut}var tv=Math.ceil,ap=Ct.ReactCurrentDispatcher,qp=Ct.ReactCurrentOwner,Ys=Ct.ReactCurrentBatchConfig,ys=0,eo=null,to=null,mo=0,Oo=0,gu=ro(0),so=0,Iu=null,vu=0,lp=0,Yp=0,Fu=null,Lo=null,Zp=0,em=1/0;function yu(){em=Us()+500}var up=!1,tm=null,Ul=null,cp=!1,Vl=null,fp=0,Du=0,rm=null,hp=-1,dp=0;function bo(){return ys&6?Us():hp!==-1?hp:hp=Us()}function zl(Nt){return Nt.mode&1?ys&2&&mo!==0?mo&-mo:Vs.transition!==null?(dp===0&&(Nt=Uo,Uo<<=1,!(Uo&4194240)&&(Uo=64),dp=Nt),dp):(Nt=os,Nt!==0?Nt:hr()):1}function Ko(Nt,Ut,cn){if(50<Du)throw Du=0,rm=null,Error(At(185));var dn=pp(Nt,Ut);return dn===null?null:(Vo(dn,Ut,cn),(!(ys&2)||dn!==eo)&&(dn===eo&&(!(ys&2)&&(lp|=Ut),so===4&&$l(dn,mo)),Bo(dn,cn),Ut===1&&ys===0&&!(Nt.mode&1)&&(yu(),Ir&&Ss())),dn)}function pp(Nt,Ut){Nt.lanes|=Ut;var cn=Nt.alternate;for(cn!==null&&(cn.lanes|=Ut),cn=Nt,Nt=Nt.return;Nt!==null;)Nt.childLanes|=Ut,cn=Nt.alternate,cn!==null&&(cn.childLanes|=Ut),cn=Nt,Nt=Nt.return;return cn.tag===3?cn.stateNode:null}function Bo(Nt,Ut){var cn=Nt.callbackNode;Po(Nt,Ut);var dn=Ml(Nt,Nt===eo?mo:0);if(dn===0)cn!==null&&na(cn),Nt.callbackNode=null,Nt.callbackPriority=0;else if(Ut=dn&-dn,Nt.callbackPriority!==Ut){if(cn!=null&&na(cn),Ut===1)Nt.tag===0?rs(C0.bind(null,Nt)):Rs(C0.bind(null,Nt)),tr?xr(function(){ys===0&&Ss()}):Zo(ga,Ss),cn=null;else{switch(Dl(dn)){case 1:cn=ga;break;case 4:cn=Xl;break;case 16:cn=lo;break;case 536870912:cn=_a;break;default:cn=lo}cn=I0(cn,A0.bind(null,Nt))}Nt.callbackPriority=Ut,Nt.callbackNode=cn}}function A0(Nt,Ut){if(hp=-1,dp=0,ys&6)throw Error(At(327));var cn=Nt.callbackNode;if(iu()&&Nt.callbackNode!==cn)return null;var dn=Ml(Nt,Nt===eo?mo:0);if(dn===0)return null;if(dn&30||dn&Nt.expiredLanes||Ut)Ut=mp(Nt,dn);else{Ut=dn;var vn=ys;ys|=2;var Pn=w0();(eo!==Nt||mo!==Ut)&&(yu(),nu(Nt,Ut));do try{iv();break}catch(rr){b0(Nt,rr)}while(1);Co(),ap.current=Pn,ys=vn,to!==null?Ut=0:(eo=null,mo=0,Ut=so)}if(Ut!==0){if(Ut===2&&(vn=Yo(Nt),vn!==0&&(dn=vn,Ut=im(Nt,vn))),Ut===1)throw cn=Iu,nu(Nt,0),$l(Nt,dn),Bo(Nt,Us()),cn;if(Ut===6)$l(Nt,dn);else{if(vn=Nt.current.alternate,!(dn&30)&&!nv(vn)&&(Ut=mp(Nt,dn),Ut===2&&(Pn=Yo(Nt),Pn!==0&&(dn=Pn,Ut=im(Nt,Pn))),Ut===1))throw cn=Iu,nu(Nt,0),$l(Nt,dn),Bo(Nt,Us()),cn;switch(Nt.finishedWork=vn,Nt.finishedLanes=dn,Ut){case 0:case 1:throw Error(At(345));case 2:ru(Nt,Lo);break;case 3:if($l(Nt,dn),(dn&130023424)===dn&&(Ut=Zp+500-Us(),10<Ut)){if(Ml(Nt,0)!==0)break;if(vn=Nt.suspendedLanes,(vn&dn)!==dn){bo(),Nt.pingedLanes|=Nt.suspendedLanes&vn;break}Nt.timeoutHandle=Zn(ru.bind(null,Nt,Lo),Ut);break}ru(Nt,Lo);break;case 4:if($l(Nt,dn),(dn&4194240)===dn)break;for(Ut=Nt.eventTimes,vn=-1;0<dn;){var Kn=31-ao(dn);Pn=1<<Kn,Kn=Ut[Kn],Kn>vn&&(vn=Kn),dn&=~Pn}if(dn=vn,dn=Us()-dn,dn=(120>dn?120:480>dn?480:1080>dn?1080:1920>dn?1920:3e3>dn?3e3:4320>dn?4320:1960*tv(dn/1960))-dn,10<dn){Nt.timeoutHandle=Zn(ru.bind(null,Nt,Lo),dn);break}ru(Nt,Lo);break;case 5:ru(Nt,Lo);break;default:throw Error(At(329))}}}return Bo(Nt,Us()),Nt.callbackNode===cn?A0.bind(null,Nt):null}function im(Nt,Ut){var cn=Fu;return Nt.current.memoizedState.isDehydrated&&(nu(Nt,Ut).flags|=256),Nt=mp(Nt,Ut),Nt!==2&&(Ut=Lo,Lo=cn,Ut!==null&&sm(Ut)),Nt}function sm(Nt){Lo===null?Lo=Nt:Lo.push.apply(Lo,Nt)}function nv(Nt){for(var Ut=Nt;;){if(Ut.flags&16384){var cn=Ut.updateQueue;if(cn!==null&&(cn=cn.stores,cn!==null))for(var dn=0;dn<cn.length;dn++){var vn=cn[dn],Pn=vn.getSnapshot;vn=vn.value;try{if(!Hn(Pn(),vn))return!1}catch{return!1}}}if(cn=Ut.child,Ut.subtreeFlags&16384&&cn!==null)cn.return=Ut,Ut=cn;else{if(Ut===Nt)break;for(;Ut.sibling===null;){if(Ut.return===null||Ut.return===Nt)return!0;Ut=Ut.return}Ut.sibling.return=Ut.return,Ut=Ut.sibling}}return!0}function $l(Nt,Ut){for(Ut&=~Yp,Ut&=~lp,Nt.suspendedLanes|=Ut,Nt.pingedLanes&=~Ut,Nt=Nt.expirationTimes;0<Ut;){var cn=31-ao(Ut),dn=1<<cn;Nt[cn]=-1,Ut&=~dn}}function C0(Nt){if(ys&6)throw Error(At(327));iu();var Ut=Ml(Nt,0);if(!(Ut&1))return Bo(Nt,Us()),null;var cn=mp(Nt,Ut);if(Nt.tag!==0&&cn===2){var dn=Yo(Nt);dn!==0&&(Ut=dn,cn=im(Nt,dn))}if(cn===1)throw cn=Iu,nu(Nt,0),$l(Nt,Ut),Bo(Nt,Us()),cn;if(cn===6)throw Error(At(345));return Nt.finishedWork=Nt.current.alternate,Nt.finishedLanes=Ut,ru(Nt,Lo),Bo(Nt,Us()),null}function M0(Nt){Vl!==null&&Vl.tag===0&&!(ys&6)&&iu();var Ut=ys;ys|=1;var cn=Ys.transition,dn=os;try{if(Ys.transition=null,os=1,Nt)return Nt()}finally{os=dn,Ys.transition=cn,ys=Ut,!(ys&6)&&Ss()}}function om(){Oo=gu.current,ss(gu)}function nu(Nt,Ut){Nt.finishedWork=null,Nt.finishedLanes=0;var cn=Nt.timeoutHandle;if(cn!==Xn&&(Nt.timeoutHandle=Xn,Un(cn)),to!==null)for(cn=to.return;cn!==null;){var dn=cn;switch(Ep(dn),dn.tag){case 1:dn=dn.type.childContextTypes,dn!=null&&qo();break;case 3:pu(),ss(js),ss(Cs),Pp();break;case 5:wp(dn);break;case 4:pu();break;case 13:ss(Js);break;case 19:ss(Js);break;case 10:uo(dn.type._context);break;case 22:case 23:om()}cn=cn.return}if(eo=Nt,to=Nt=Hl(Nt.current,null),mo=Oo=Ut,so=0,Iu=null,Yp=lp=vu=0,Lo=Fu=null,io!==null){for(Ut=0;Ut<io.length;Ut++)if(cn=io[Ut],dn=cn.interleaved,dn!==null){cn.interleaved=null;var vn=dn.next,Pn=cn.pending;if(Pn!==null){var Kn=Pn.next;Pn.next=vn,dn.next=Kn}cn.pending=dn}io=null}return Nt}function b0(Nt,Ut){do{var cn=to;try{if(Co(),$u.current=Ju,Hu){for(var dn=Qs.memoizedState;dn!==null;){var vn=dn.queue;vn!==null&&(vn.pending=null),dn=dn.next}Hu=!1}if(mu=0,co=vo=Qs=null,Cu=!1,Mu=0,qp.current=null,cn===null||cn.return===null){so=1,Iu=Ut,to=null;break}e:{var Pn=Nt,Kn=cn.return,rr=cn,wr=Ut;if(Ut=mo,rr.flags|=32768,wr!==null&&typeof wr=="object"&&typeof wr.then=="function"){var Or=wr,Xr=rr,ls=Xr.tag;if(!(Xr.mode&1)&&(ls===0||ls===11||ls===15)){var _i=Xr.alternate;_i?(Xr.updateQueue=_i.updateQueue,Xr.memoizedState=_i.memoizedState,Xr.lanes=_i.lanes):(Xr.updateQueue=null,Xr.memoizedState=null)}var Os=Xm(Kn);if(Os!==null){Os.flags&=-257,Jm(Os,Kn,rr,Pn,Ut),Os.mode&1&&Km(Pn,Or,Ut),Ut=Os,wr=Or;var qr=Ut.updateQueue;if(qr===null){var xo=new Set;xo.add(wr),Ut.updateQueue=xo}else qr.add(wr);break e}else{if(!(Ut&1)){Km(Pn,Or,Ut),am();break e}wr=Error(At(426))}}else if(Hs&&rr.mode&1){var Jo=Xm(Kn);if(Jo!==null){!(Jo.flags&65536)&&(Jo.flags|=256),Jm(Jo,Kn,rr,Pn,Ut),Mp(wr);break e}}Pn=wr,so!==4&&(so=2),Fu===null?Fu=[Pn]:Fu.push(Pn),wr=kp(wr,rr),rr=Kn;do{switch(rr.tag){case 3:rr.flags|=65536,Ut&=-Ut,rr.lanes|=Ut;var gr=jm(rr,wr,Ut);dm(rr,gr);break e;case 1:Pn=wr;var lr=rr.type,Er=rr.stateNode;if(!(rr.flags&128)&&(typeof lr.getDerivedStateFromError=="function"||Er!==null&&typeof Er.componentDidCatch=="function"&&(Ul===null||!Ul.has(Er)))){rr.flags|=65536,Ut&=-Ut,rr.lanes|=Ut;var Hr=Wm(rr,Pn,Ut);dm(rr,Hr);break e}}rr=rr.return}while(rr!==null)}P0(cn)}catch(Qr){Ut=Qr,to===cn&&cn!==null&&(to=cn=cn.return);continue}break}while(1)}function w0(){var Nt=ap.current;return ap.current=Ju,Nt===null?Ju:Nt}function am(){(so===0||so===3||so===2)&&(so=4),eo===null||!(vu&268435455)&&!(lp&268435455)||$l(eo,mo)}function mp(Nt,Ut){var cn=ys;ys|=2;var dn=w0();eo===Nt&&mo===Ut||nu(Nt,Ut);do try{rv();break}catch(vn){b0(Nt,vn)}while(1);if(Co(),ys=cn,ap.current=dn,to!==null)throw Error(At(261));return eo=null,mo=0,so}function rv(){for(;to!==null;)T0(to)}function iv(){for(;to!==null&&!Kl();)T0(to)}function T0(Nt){var Ut=B0(Nt.alternate,Nt,Oo);Nt.memoizedProps=Nt.pendingProps,Ut===null?P0(Nt):to=Ut,qp.current=null}function P0(Nt){var Ut=Nt;do{var cn=Ut.alternate;if(Nt=Ut.return,Ut.flags&32768){if(cn=Q0(cn,Ut),cn!==null){cn.flags&=32767,to=cn;return}if(Nt!==null)Nt.flags|=32768,Nt.subtreeFlags=0,Nt.deletions=null;else{so=6,to=null;return}}else if(cn=K0(cn,Ut,Oo),cn!==null){to=cn;return}if(Ut=Ut.sibling,Ut!==null){to=Ut;return}to=Ut=Nt}while(Ut!==null);so===0&&(so=5)}function ru(Nt,Ut){var cn=os,dn=Ys.transition;try{Ys.transition=null,os=1,sv(Nt,Ut,cn)}finally{Ys.transition=dn,os=cn}return null}function sv(Nt,Ut,cn){do iu();while(Vl!==null);if(ys&6)throw Error(At(327));var dn=Nt.finishedWork,vn=Nt.finishedLanes;if(dn===null)return null;if(Nt.finishedWork=null,Nt.finishedLanes=0,dn===Nt.current)throw Error(At(177));Nt.callbackNode=null,Nt.callbackPriority=0;var Pn=dn.lanes|dn.childLanes;if(yl(Nt,Pn),Nt===eo&&(to=eo=null,mo=0),!(dn.subtreeFlags&2064)&&!(dn.flags&2064)||cp||(cp=!0,I0(lo,function(){return iu(),null})),Pn=(dn.flags&15990)!==0,dn.subtreeFlags&15990||Pn){Pn=Ys.transition,Ys.transition=null;var Kn=os;os=1;var rr=ys;ys|=4,qp.current=null,Y0(Nt,dn),Z0(Nt,dn),bn(Nt.containerInfo),Nt.current=dn,ev(dn),Ol(),ys=rr,os=Kn,Ys.transition=Pn}else Nt.current=dn;if(cp&&(cp=!1,Vl=Nt,fp=vn),Pn=Nt.pendingLanes,Pn===0&&(Ul=null),Jl(dn.stateNode),Bo(Nt,Us()),Ut!==null)for(cn=Nt.onRecoverableError,dn=0;dn<Ut.length;dn++)cn(Ut[dn]);if(up)throw up=!1,Nt=tm,tm=null,Nt;return fp&1&&Nt.tag!==0&&iu(),Pn=Nt.pendingLanes,Pn&1?Nt===rm?Du++:(Du=0,rm=Nt):Du=0,Ss(),null}function iu(){if(Vl!==null){var Nt=Dl(fp),Ut=Ys.transition,cn=os;try{if(Ys.transition=null,os=16>Nt?16:Nt,Vl===null)var dn=!1;else{if(Nt=Vl,Vl=null,fp=0,ys&6)throw Error(At(331));var vn=ys;for(ys|=4,zr=Nt.current;zr!==null;){var Pn=zr,Kn=Pn.child;if(zr.flags&16){var rr=Pn.deletions;if(rr!==null){for(var wr=0;wr<rr.length;wr++){var Or=rr[wr];for(zr=Or;zr!==null;){var Xr=zr;switch(Xr.tag){case 0:case 11:case 15:tu(8,Xr,Pn)}var ls=Xr.child;if(ls!==null)ls.return=Xr,zr=ls;else for(;zr!==null;){Xr=zr;var _i=Xr.sibling,Os=Xr.return;if(d0(Xr),Xr===Or){zr=null;break}if(_i!==null){_i.return=Os,zr=_i;break}zr=Os}}}var qr=Pn.alternate;if(qr!==null){var xo=qr.child;if(xo!==null){qr.child=null;do{var Jo=xo.sibling;xo.sibling=null,xo=Jo}while(xo!==null)}}zr=Pn}}if(Pn.subtreeFlags&2064&&Kn!==null)Kn.return=Pn,zr=Kn;else e:for(;zr!==null;){if(Pn=zr,Pn.flags&2048)switch(Pn.tag){case 0:case 11:case 15:tu(9,Pn,Pn.return)}var gr=Pn.sibling;if(gr!==null){gr.return=Pn.return,zr=gr;break e}zr=Pn.return}}var lr=Nt.current;for(zr=lr;zr!==null;){Kn=zr;var Er=Kn.child;if(Kn.subtreeFlags&2064&&Er!==null)Er.return=Kn,zr=Er;else e:for(Kn=lr;zr!==null;){if(rr=zr,rr.flags&2048)try{switch(rr.tag){case 0:case 11:case 15:Lu(9,rr)}}catch(Qr){Io(rr,rr.return,Qr)}if(rr===Kn){zr=null;break e}var Hr=rr.sibling;if(Hr!==null){Hr.return=rr.return,zr=Hr;break e}zr=rr.return}}if(ys=vn,Ss(),Ao&&typeof Ao.onPostCommitFiberRoot=="function")try{Ao.onPostCommitFiberRoot(xa,Nt)}catch{}dn=!0}return dn}finally{os=cn,Ys.transition=Ut}}return!1}function R0(Nt,Ut,cn){Ut=kp(cn,Ut),Ut=jm(Nt,Ut,1),Gl(Nt,Ut),Ut=bo(),Nt=pp(Nt,1),Nt!==null&&(Vo(Nt,1,Ut),Bo(Nt,Ut))}function Io(Nt,Ut,cn){if(Nt.tag===3)R0(Nt,Nt,cn);else for(;Ut!==null;){if(Ut.tag===3){R0(Ut,Nt,cn);break}else if(Ut.tag===1){var dn=Ut.stateNode;if(typeof Ut.type.getDerivedStateFromError=="function"||typeof dn.componentDidCatch=="function"&&(Ul===null||!Ul.has(dn))){Nt=kp(cn,Nt),Nt=Wm(Ut,Nt,1),Gl(Ut,Nt),Nt=bo(),Ut=pp(Ut,1),Ut!==null&&(Vo(Ut,1,Nt),Bo(Ut,Nt));break}}Ut=Ut.return}}function ov(Nt,Ut,cn){var dn=Nt.pingCache;dn!==null&&dn.delete(Ut),Ut=bo(),Nt.pingedLanes|=Nt.suspendedLanes&cn,eo===Nt&&(mo&cn)===cn&&(so===4||so===3&&(mo&130023424)===mo&&500>Us()-Zp?nu(Nt,0):Yp|=cn),Bo(Nt,Ut)}function L0(Nt,Ut){Ut===0&&(Nt.mode&1?(Ut=To,To<<=1,!(To&130023424)&&(To=4194304)):Ut=1);var cn=bo();Nt=pp(Nt,Ut),Nt!==null&&(Vo(Nt,Ut,cn),Bo(Nt,cn))}function av(Nt){var Ut=Nt.memoizedState,cn=0;Ut!==null&&(cn=Ut.retryLane),L0(Nt,cn)}function lv(Nt,Ut){var cn=0;switch(Nt.tag){case 13:var dn=Nt.stateNode,vn=Nt.memoizedState;vn!==null&&(cn=vn.retryLane);break;case 19:dn=Nt.stateNode;break;default:throw Error(At(314))}dn!==null&&dn.delete(Ut),L0(Nt,cn)}var B0;B0=function(Nt,Ut,cn){if(Nt!==null)if(Nt.memoizedProps!==Ut.pendingProps||js.current)ko=!0;else{if(!(Nt.lanes&cn)&&!(Ut.flags&128))return ko=!1,J0(Nt,Ut,cn);ko=!!(Nt.flags&131072)}else ko=!1,Hs&&Ut.flags&1048576&&_m(Ut,Uu,Ut.index);switch(Ut.lanes=0,Ut.tag){case 2:var dn=Ut.type;Nt!==null&&(Nt.alternate=null,Ut.alternate=null,Ut.flags|=2),Nt=Ut.pendingProps;var vn=Eo(Ut,Cs.current);Xs(Ut,cn),vn=Lp(null,Ut,dn,Nt,vn,cn);var Pn=Bp();return Ut.flags|=1,typeof vn=="object"&&vn!==null&&typeof vn.render=="function"&&vn.$$typeof===void 0?(Ut.tag=1,Ut.memoizedState=null,Ut.updateQueue=null,ks(dn)?(Pn=!0,Go(Ut)):Pn=!1,Ut.memoizedState=vn.state!==null&&vn.state!==void 0?vn.state:null,yp(Ut),vn.updater=Nu,Ut.stateNode=vn,vn._reactInternals=Ut,xp(Ut,dn,Nt,cn),Ut=Gp(null,Ut,dn,!0,Pn,cn)):(Ut.tag=0,Hs&&Pn&&Sp(Ut),Mo(null,Ut,vn,cn),Ut=Ut.child),Ut;case 16:dn=Ut.elementType;e:{switch(Nt!==null&&(Nt.alternate=null,Ut.alternate=null,Ut.flags|=2),Nt=Ut.pendingProps,vn=dn._init,dn=vn(dn._payload),Ut.type=dn,vn=Ut.tag=cv(dn),Nt=Bs(dn,Nt),vn){case 0:Ut=Np(null,Ut,dn,Nt,cn);break e;case 1:Ut=n0(null,Ut,dn,Nt,cn);break e;case 11:Ut=Ym(null,Ut,dn,Nt,cn);break e;case 14:Ut=Zm(null,Ut,dn,Bs(dn.type,Nt),cn);break e}throw Error(At(306,dn,""))}return Ut;case 0:return dn=Ut.type,vn=Ut.pendingProps,vn=Ut.elementType===dn?vn:Bs(dn,vn),Np(Nt,Ut,dn,vn,cn);case 1:return dn=Ut.type,vn=Ut.pendingProps,vn=Ut.elementType===dn?vn:Bs(dn,vn),n0(Nt,Ut,dn,vn,cn);case 3:e:{if(r0(Ut),Nt===null)throw Error(At(387));dn=Ut.pendingProps,Pn=Ut.memoizedState,vn=Pn.element,hm(Nt,Ut),Ou(Ut,dn,null,cn);var Kn=Ut.memoizedState;if(dn=Kn.element,jn&&Pn.isDehydrated)if(Pn={element:dn,isDehydrated:!1,cache:Kn.cache,transitions:Kn.transitions},Ut.updateQueue.baseState=Pn,Ut.memoizedState=Pn,Ut.flags&256){vn=Error(At(423)),Ut=i0(Nt,Ut,dn,cn,vn);break e}else if(dn!==vn){vn=Error(At(424)),Ut=i0(Nt,Ut,dn,cn,vn);break e}else for(jn&&(Do=ar(Ut.stateNode.containerInfo),Fo=Ut,Hs=!0,$a=null,_u=!1),cn=Mm(Ut,null,dn,cn),Ut.child=cn;cn;)cn.flags=cn.flags&-3|4096,cn=cn.sibling;else{if(fu(),dn===vn){Ut=Bl(Nt,Ut,cn);break e}Mo(Nt,Ut,dn,cn)}Ut=Ut.child}return Ut;case 5:return bm(Ut),Nt===null&&Cp(Ut),dn=Ut.type,vn=Ut.pendingProps,Pn=Nt!==null?Nt.memoizedProps:null,Kn=vn.children,$n(dn,vn)?Kn=null:Pn!==null&&$n(dn,Pn)&&(Ut.flags|=32),t0(Nt,Ut),Mo(Nt,Ut,Kn,cn),Ut.child;case 6:return Nt===null&&Cp(Ut),null;case 13:return s0(Nt,Ut,cn);case 4:return bp(Ut,Ut.stateNode.containerInfo),dn=Ut.pendingProps,Nt===null?Ut.child=hu(Ut,null,dn,cn):Mo(Nt,Ut,dn,cn),Ut.child;case 11:return dn=Ut.type,vn=Ut.pendingProps,vn=Ut.elementType===dn?vn:Bs(dn,vn),Ym(Nt,Ut,dn,vn,cn);case 7:return Mo(Nt,Ut,Ut.pendingProps,cn),Ut.child;case 8:return Mo(Nt,Ut,Ut.pendingProps.children,cn),Ut.child;case 12:return Mo(Nt,Ut,Ut.pendingProps.children,cn),Ut.child;case 10:e:{if(dn=Ut.type._context,vn=Ut.pendingProps,Pn=Ut.memoizedProps,Kn=vn.value,Ro(Ut,dn,Kn),Pn!==null)if(Hn(Pn.value,Kn)){if(Pn.children===vn.children&&!js.current){Ut=Bl(Nt,Ut,cn);break e}}else for(Pn=Ut.child,Pn!==null&&(Pn.return=Ut);Pn!==null;){var rr=Pn.dependencies;if(rr!==null){Kn=Pn.child;for(var wr=rr.firstContext;wr!==null;){if(wr.context===dn){if(Pn.tag===1){wr=Tl(-1,cn&-cn),wr.tag=2;var Or=Pn.updateQueue;if(Or!==null){Or=Or.shared;var Xr=Or.pending;Xr===null?wr.next=wr:(wr.next=Xr.next,Xr.next=wr),Or.pending=wr}}Pn.lanes|=cn,wr=Pn.alternate,wr!==null&&(wr.lanes|=cn),Ks(Pn.return,cn,Ut),rr.lanes|=cn;break}wr=wr.next}}else if(Pn.tag===10)Kn=Pn.type===Ut.type?null:Pn.child;else if(Pn.tag===18){if(Kn=Pn.return,Kn===null)throw Error(At(341));Kn.lanes|=cn,rr=Kn.alternate,rr!==null&&(rr.lanes|=cn),Ks(Kn,cn,Ut),Kn=Pn.sibling}else Kn=Pn.child;if(Kn!==null)Kn.return=Pn;else for(Kn=Pn;Kn!==null;){if(Kn===Ut){Kn=null;break}if(Pn=Kn.sibling,Pn!==null){Pn.return=Kn.return,Kn=Pn;break}Kn=Kn.return}Pn=Kn}Mo(Nt,Ut,vn.children,cn),Ut=Ut.child}return Ut;case 9:return vn=Ut.type,dn=Ut.pendingProps.children,Xs(Ut,cn),vn=ws(vn),dn=dn(vn),Ut.flags|=1,Mo(Nt,Ut,dn,cn),Ut.child;case 14:return dn=Ut.type,vn=Bs(dn,Ut.pendingProps),vn=Bs(dn.type,vn),Zm(Nt,Ut,dn,vn,cn);case 15:return _g(Nt,Ut,Ut.type,Ut.pendingProps,cn);case 17:return dn=Ut.type,vn=Ut.pendingProps,vn=Ut.elementType===dn?vn:Bs(dn,vn),Nt!==null&&(Nt.alternate=null,Ut.alternate=null,Ut.flags|=2),Ut.tag=1,ks(dn)?(Nt=!0,Go(Ut)):Nt=!1,Xs(Ut,cn),vm(Ut,dn,vn),xp(Ut,dn,vn,cn),Gp(null,Ut,dn,!0,Nt,cn);case 19:return u0(Nt,Ut,cn);case 22:return e0(Nt,Ut,cn)}throw Error(At(156,Ut.tag))};function I0(Nt,Ut){return Zo(Nt,Ut)}function uv(Nt,Ut,cn,dn){this.tag=Nt,this.key=cn,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Ut,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=dn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xo(Nt,Ut,cn,dn){return new uv(Nt,Ut,cn,dn)}function lm(Nt){return Nt=Nt.prototype,!(!Nt||!Nt.isReactComponent)}function cv(Nt){if(typeof Nt=="function")return lm(Nt)?1:0;if(Nt!=null){if(Nt=Nt.$$typeof,Nt===Ht)return 11;if(Nt===Zt)return 14}return 2}function Hl(Nt,Ut){var cn=Nt.alternate;return cn===null?(cn=Xo(Nt.tag,Ut,Nt.key,Nt.mode),cn.elementType=Nt.elementType,cn.type=Nt.type,cn.stateNode=Nt.stateNode,cn.alternate=Nt,Nt.alternate=cn):(cn.pendingProps=Ut,cn.type=Nt.type,cn.flags=0,cn.subtreeFlags=0,cn.deletions=null),cn.flags=Nt.flags&14680064,cn.childLanes=Nt.childLanes,cn.lanes=Nt.lanes,cn.child=Nt.child,cn.memoizedProps=Nt.memoizedProps,cn.memoizedState=Nt.memoizedState,cn.updateQueue=Nt.updateQueue,Ut=Nt.dependencies,cn.dependencies=Ut===null?null:{lanes:Ut.lanes,firstContext:Ut.firstContext},cn.sibling=Nt.sibling,cn.index=Nt.index,cn.ref=Nt.ref,cn}function gp(Nt,Ut,cn,dn,vn,Pn){var Kn=2;if(dn=Nt,typeof Nt=="function")lm(Nt)&&(Kn=1);else if(typeof Nt=="string")Kn=5;else e:switch(Nt){case Bt:return su(cn.children,vn,Pn,Ut);case Ft:Kn=8,vn|=8;break;case Dt:return Nt=Xo(12,cn,Ut,vn|2),Nt.elementType=Dt,Nt.lanes=Pn,Nt;case en:return Nt=Xo(13,cn,Ut,vn),Nt.elementType=en,Nt.lanes=Pn,Nt;case Kt:return Nt=Xo(19,cn,Ut,vn),Nt.elementType=Kt,Nt.lanes=Pn,Nt;case tn:return vp(cn,vn,Pn,Ut);default:if(typeof Nt=="object"&&Nt!==null)switch(Nt.$$typeof){case kt:Kn=10;break e;case zt:Kn=9;break e;case Ht:Kn=11;break e;case Zt:Kn=14;break e;case Wt:Kn=16,dn=null;break e}throw Error(At(130,Nt==null?Nt:typeof Nt,""))}return Ut=Xo(Kn,cn,Ut,vn),Ut.elementType=Nt,Ut.type=dn,Ut.lanes=Pn,Ut}function su(Nt,Ut,cn,dn){return Nt=Xo(7,Nt,dn,Ut),Nt.lanes=cn,Nt}function vp(Nt,Ut,cn,dn){return Nt=Xo(22,Nt,dn,Ut),Nt.elementType=tn,Nt.lanes=cn,Nt.stateNode={},Nt}function um(Nt,Ut,cn){return Nt=Xo(6,Nt,null,Ut),Nt.lanes=cn,Nt}function cm(Nt,Ut,cn){return Ut=Xo(4,Nt.children!==null?Nt.children:[],Nt.key,Ut),Ut.lanes=cn,Ut.stateNode={containerInfo:Nt.containerInfo,pendingChildren:null,implementation:Nt.implementation},Ut}function fv(Nt,Ut,cn,dn,vn){this.tag=Ut,this.containerInfo=Nt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Xn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=dn,this.onRecoverableError=vn,jn&&(this.mutableSourceEagerHydrationData=null)}function F0(Nt,Ut,cn,dn,vn,Pn,Kn,rr,wr){return Nt=new fv(Nt,Ut,cn,rr,wr),Ut===1?(Ut=1,Pn===!0&&(Ut|=8)):Ut=0,Pn=Xo(3,null,null,Ut),Nt.current=Pn,Pn.stateNode=Nt,Pn.memoizedState={element:dn,isDehydrated:cn,cache:null,transitions:null},yp(Pn),Nt}function D0(Nt){if(!Nt)return po;Nt=Nt._reactInternals;e:{if(pn(Nt)!==Nt||Nt.tag!==1)throw Error(At(170));var Ut=Nt;do{switch(Ut.tag){case 3:Ut=Ut.stateNode.context;break e;case 1:if(ks(Ut.type)){Ut=Ut.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Ut=Ut.return}while(Ut!==null);throw Error(At(171))}if(Nt.tag===1){var cn=Nt.type;if(ks(cn))return Il(Nt,cn,Ut)}return Ut}function k0(Nt){var Ut=Nt._reactInternals;if(Ut===void 0)throw typeof Nt.render=="function"?Error(At(188)):(Nt=Object.keys(Nt).join(","),Error(At(268,Nt)));return Nt=gn(Ut),Nt===null?null:Nt.stateNode}function O0(Nt,Ut){if(Nt=Nt.memoizedState,Nt!==null&&Nt.dehydrated!==null){var cn=Nt.retryLane;Nt.retryLane=cn!==0&&cn<Ut?cn:Ut}}function fm(Nt,Ut){O0(Nt,Ut),(Nt=Nt.alternate)&&O0(Nt,Ut)}function hv(Nt){return Nt=gn(Nt),Nt===null?null:Nt.stateNode}function dv(){return null}return ft.attemptContinuousHydration=function(Nt){if(Nt.tag===13){var Ut=bo();Ko(Nt,134217728,Ut),fm(Nt,134217728)}},ft.attemptHydrationAtCurrentPriority=function(Nt){if(Nt.tag===13){var Ut=bo(),cn=zl(Nt);Ko(Nt,cn,Ut),fm(Nt,cn)}},ft.attemptSynchronousHydration=function(Nt){switch(Nt.tag){case 3:var Ut=Nt.stateNode;if(Ut.current.memoizedState.isDehydrated){var cn=go(Ut.pendingLanes);cn!==0&&(zo(Ut,cn|1),Bo(Ut,Us()),!(ys&6)&&(yu(),Ss()))}break;case 13:var dn=bo();M0(function(){return Ko(Nt,1,dn)}),fm(Nt,1)}},ft.batchedUpdates=function(Nt,Ut){var cn=ys;ys|=1;try{return Nt(Ut)}finally{ys=cn,ys===0&&(yu(),Ir&&Ss())}},ft.createComponentSelector=function(Nt){return{$$typeof:ep,value:Nt}},ft.createContainer=function(Nt,Ut,cn,dn,vn,Pn,Kn){return F0(Nt,Ut,!1,null,cn,dn,vn,Pn,Kn)},ft.createHasPseudoClassSelector=function(Nt){return{$$typeof:tp,value:Nt}},ft.createHydrationContainer=function(Nt,Ut,cn,dn,vn,Pn,Kn,rr,wr){return Nt=F0(cn,dn,!0,Nt,vn,Pn,Kn,rr,wr),Nt.context=D0(null),cn=Nt.current,dn=bo(),vn=zl(cn),Pn=Tl(dn,vn),Pn.callback=Ut??null,Gl(cn,Pn),Nt.current.lanes=vn,Vo(Nt,vn,dn),Bo(Nt,dn),Nt},ft.createPortal=function(Nt,Ut,cn){var dn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rt,key:dn==null?null:""+dn,children:Nt,containerInfo:Ut,implementation:cn}},ft.createRoleSelector=function(Nt){return{$$typeof:np,value:Nt}},ft.createTestNameSelector=function(Nt){return{$$typeof:rp,value:Nt}},ft.createTextSelector=function(Nt){return{$$typeof:sp,value:Nt}},ft.deferredUpdates=function(Nt){var Ut=os,cn=Ys.transition;try{return Ys.transition=null,os=16,Nt()}finally{os=Ut,Ys.transition=cn}},ft.discreteUpdates=function(Nt,Ut,cn,dn,vn){var Pn=os,Kn=Ys.transition;try{return Ys.transition=null,os=1,Nt(Ut,cn,dn,vn)}finally{os=Pn,Ys.transition=Kn,ys===0&&yu()}},ft.findAllNodes=Qp,ft.findBoundingRects=function(Nt,Ut){if(!Tr)throw Error(At(363));Ut=Qp(Nt,Ut),Nt=[];for(var cn=0;cn<Ut.length;cn++)Nt.push(On(Ut[cn]));for(Ut=Nt.length-1;0<Ut;Ut--){cn=Nt[Ut];for(var dn=cn.x,vn=dn+cn.width,Pn=cn.y,Kn=Pn+cn.height,rr=Ut-1;0<=rr;rr--)if(Ut!==rr){var wr=Nt[rr],Or=wr.x,Xr=Or+wr.width,ls=wr.y,_i=ls+wr.height;if(dn>=Or&&Pn>=ls&&vn<=Xr&&Kn<=_i){Nt.splice(Ut,1);break}else if(dn!==Or||cn.width!==wr.width||_i<Pn||ls>Kn){if(!(Pn!==ls||cn.height!==wr.height||Xr<dn||Or>vn)){Or>dn&&(wr.width+=Or-dn,wr.x=dn),Xr<vn&&(wr.width=vn-Or),Nt.splice(Ut,1);break}}else{ls>Pn&&(wr.height+=ls-Pn,wr.y=Pn),_i<Kn&&(wr.height=Kn-ls),Nt.splice(Ut,1);break}}}return Nt},ft.findHostInstance=k0,ft.findHostInstanceWithNoPortals=function(Nt){return Nt=An(Nt),Nt=Nt!==null?Cn(Nt):null,Nt===null?null:Nt.stateNode},ft.findHostInstanceWithWarning=function(Nt){return k0(Nt)},ft.flushControlled=function(Nt){var Ut=ys;ys|=1;var cn=Ys.transition,dn=os;try{Ys.transition=null,os=1,Nt()}finally{os=dn,Ys.transition=cn,ys=Ut,ys===0&&(yu(),Ss())}},ft.flushPassiveEffects=iu,ft.flushSync=M0,ft.focusWithin=function(Nt,Ut){if(!Tr)throw Error(At(363));for(Nt=Kp(Nt),Ut=E0(Nt,Ut),Ut=Array.from(Ut),Nt=0;Nt<Ut.length;){var cn=Ut[Nt++];if(!Yn(cn)){if(cn.tag===5&&Cr(cn.stateNode))return!0;for(cn=cn.child;cn!==null;)Ut.push(cn),cn=cn.sibling}}return!1},ft.getCurrentUpdatePriority=function(){return os},ft.getFindAllNodesFailureDescription=function(Nt,Ut){if(!Tr)throw Error(At(363));var cn=0,dn=[];Nt=[Kp(Nt),0];for(var vn=0;vn<Nt.length;){var Pn=Nt[vn++],Kn=Nt[vn++],rr=Ut[Kn];if((Pn.tag!==5||!Yn(Pn))&&(Xp(Pn,rr)&&(dn.push(Jp(rr)),Kn++,Kn>cn&&(cn=Kn)),Kn<Ut.length))for(Pn=Pn.child;Pn!==null;)Nt.push(Pn,Kn),Pn=Pn.sibling}if(cn<Ut.length){for(Nt=[];cn<Ut.length;cn++)Nt.push(Jp(Ut[cn]));return`findAllNodes was able to match part of the selector:
  `+(dn.join(" > ")+`

No matching component was found for:
  `)+Nt.join(" > ")}return null},ft.getPublicRootInstance=function(Nt){if(Nt=Nt.current,!Nt.child)return null;switch(Nt.child.tag){case 5:return yn(Nt.child.stateNode);default:return Nt.child.stateNode}},ft.injectIntoDevTools=function(Nt){if(Nt={bundleType:Nt.bundleType,version:Nt.version,rendererPackageName:Nt.rendererPackageName,rendererConfig:Nt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:hv,findFiberByHostInstance:Nt.findFiberByHostInstance||dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Nt=!1;else{var Ut=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Ut.isDisabled||!Ut.supportsFiber)Nt=!0;else{try{xa=Ut.inject(Nt),Ao=Ut}catch{}Nt=!!Ut.checkDCE}}return Nt},ft.isAlreadyRendering=function(){return!1},ft.observeVisibleRects=function(Nt,Ut,cn,dn){if(!Tr)throw Error(At(363));Nt=Qp(Nt,Ut);var vn=Ar(Nt,cn,dn).disconnect;return{disconnect:function(){vn()}}},ft.registerMutableSourceForHydration=function(Nt,Ut){var cn=Ut._getVersion;cn=cn(Ut._source),Nt.mutableSourceEagerHydrationData==null?Nt.mutableSourceEagerHydrationData=[Ut,cn]:Nt.mutableSourceEagerHydrationData.push(Ut,cn)},ft.runWithPriority=function(Nt,Ut){var cn=os;try{return os=Nt,Ut()}finally{os=cn}},ft.shouldError=function(){return null},ft.shouldSuspend=function(){return!1},ft.updateContainer=function(Nt,Ut,cn,dn){var vn=Ut.current,Pn=bo(),Kn=zl(vn);return cn=D0(cn),Ut.context===null?Ut.context=cn:Ut.pendingContext=cn,Ut=Tl(Pn,Kn),Ut.payload={element:Nt},dn=dn===void 0?null:dn,dn!==null&&(Ut.callback=dn),Gl(vn,Ut),Nt=Ko(vn,Kn,Pn),Nt!==null&&ku(Nt,vn,Kn),Kn},ft};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(dt){function lt(hn,mn){var bn=hn.length;hn.push(mn);e:for(;0<bn;){var Mn=bn-1>>>1,Tn=hn[Mn];if(0<St(Tn,mn))hn[Mn]=mn,hn[bn]=Tn,bn=Mn;else break e}}function ft(hn){return hn.length===0?null:hn[0]}function vt(hn){if(hn.length===0)return null;var mn=hn[0],bn=hn.pop();if(bn!==mn){hn[0]=bn;e:for(var Mn=0,Tn=hn.length,In=Tn>>>1;Mn<In;){var Nn=2*(Mn+1)-1,$n=hn[Nn],Gn=Nn+1,Zn=hn[Gn];if(0>St($n,bn))Gn<Tn&&0>St(Zn,$n)?(hn[Mn]=Zn,hn[Gn]=bn,Mn=Gn):(hn[Mn]=$n,hn[Nn]=bn,Mn=Nn);else if(Gn<Tn&&0>St(Zn,bn))hn[Mn]=Zn,hn[Gn]=bn,Mn=Gn;else break e}}return mn}function St(hn,mn){var bn=hn.sortIndex-mn.sortIndex;return bn!==0?bn:hn.id-mn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Et=performance;dt.unstable_now=function(){return Et.now()}}else{var At=Date,Ct=At.now();dt.unstable_now=function(){return At.now()-Ct}}var Tt=[],Rt=[],Bt=1,Ft=null,Dt=3,kt=!1,zt=!1,Ht=!1,en=typeof setTimeout=="function"?setTimeout:null,Kt=typeof clearTimeout=="function"?clearTimeout:null,Zt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Wt(hn){for(var mn=ft(Rt);mn!==null;){if(mn.callback===null)vt(Rt);else if(mn.startTime<=hn)vt(Rt),mn.sortIndex=mn.expirationTime,lt(Tt,mn);else break;mn=ft(Rt)}}function tn(hn){if(Ht=!1,Wt(hn),!zt)if(ft(Tt)!==null)zt=!0,yn(an);else{var mn=ft(Rt);mn!==null&&Rn(tn,mn.startTime-hn)}}function an(hn,mn){zt=!1,Ht&&(Ht=!1,Kt(un),un=-1),kt=!0;var bn=Dt;try{for(Wt(mn),Ft=ft(Tt);Ft!==null&&(!(Ft.expirationTime>mn)||hn&&!An());){var Mn=Ft.callback;if(typeof Mn=="function"){Ft.callback=null,Dt=Ft.priorityLevel;var Tn=Mn(Ft.expirationTime<=mn);mn=dt.unstable_now(),typeof Tn=="function"?Ft.callback=Tn:Ft===ft(Tt)&&vt(Tt),Wt(mn)}else vt(Tt);Ft=ft(Tt)}if(Ft!==null)var In=!0;else{var Nn=ft(Rt);Nn!==null&&Rn(tn,Nn.startTime-mn),In=!1}return In}finally{Ft=null,Dt=bn,kt=!1}}var ln=!1,fn=null,un=-1,pn=5,xn=-1;function An(){return!(dt.unstable_now()-xn<pn)}function gn(){if(fn!==null){var hn=dt.unstable_now();xn=hn;var mn=!0;try{mn=fn(!0,hn)}finally{mn?Ln():(ln=!1,fn=null)}}else ln=!1}var Ln;if(typeof Zt=="function")Ln=function(){Zt(gn)};else if(typeof MessageChannel<"u"){var Cn=new MessageChannel,En=Cn.port2;Cn.port1.onmessage=gn,Ln=function(){En.postMessage(null)}}else Ln=function(){en(gn,0)};function yn(hn){fn=hn,ln||(ln=!0,Ln())}function Rn(hn,mn){un=en(function(){hn(dt.unstable_now())},mn)}dt.unstable_IdlePriority=5,dt.unstable_ImmediatePriority=1,dt.unstable_LowPriority=4,dt.unstable_NormalPriority=3,dt.unstable_Profiling=null,dt.unstable_UserBlockingPriority=2,dt.unstable_cancelCallback=function(hn){hn.callback=null},dt.unstable_continueExecution=function(){zt||kt||(zt=!0,yn(an))},dt.unstable_forceFrameRate=function(hn){0>hn||125<hn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pn=0<hn?Math.floor(1e3/hn):5},dt.unstable_getCurrentPriorityLevel=function(){return Dt},dt.unstable_getFirstCallbackNode=function(){return ft(Tt)},dt.unstable_next=function(hn){switch(Dt){case 1:case 2:case 3:var mn=3;break;default:mn=Dt}var bn=Dt;Dt=mn;try{return hn()}finally{Dt=bn}},dt.unstable_pauseExecution=function(){},dt.unstable_requestPaint=function(){},dt.unstable_runWithPriority=function(hn,mn){switch(hn){case 1:case 2:case 3:case 4:case 5:break;default:hn=3}var bn=Dt;Dt=hn;try{return mn()}finally{Dt=bn}},dt.unstable_scheduleCallback=function(hn,mn,bn){var Mn=dt.unstable_now();switch(typeof bn=="object"&&bn!==null?(bn=bn.delay,bn=typeof bn=="number"&&0<bn?Mn+bn:Mn):bn=Mn,hn){case 1:var Tn=-1;break;case 2:Tn=250;break;case 5:Tn=1073741823;break;case 4:Tn=1e4;break;default:Tn=5e3}return Tn=bn+Tn,hn={id:Bt++,callback:mn,priorityLevel:hn,startTime:bn,expirationTime:Tn,sortIndex:-1},bn>Mn?(hn.sortIndex=bn,lt(Rt,hn),ft(Tt)===null&&hn===ft(Rt)&&(Ht?(Kt(un),un=-1):Ht=!0,Rn(tn,bn-Mn))):(hn.sortIndex=Tn,lt(Tt,hn),zt||kt||(zt=!0,yn(an))),hn},dt.unstable_shouldYield=An,dt.unstable_wrapCallback=function(hn){var mn=Dt;return function(){var bn=Dt;Dt=mn;try{return hn.apply(this,arguments)}finally{Dt=bn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;function shallowEqualArrays(dt,lt,ft=(vt,St)=>vt===St){if(dt===lt)return!0;if(!dt||!lt)return!1;const vt=dt.length;if(lt.length!==vt)return!1;for(let St=0;St<vt;St++)if(!ft(dt[St],lt[St]))return!1;return!0}const globalCache=[];function query(dt,lt,ft=!1,vt={}){for(const Et of globalCache)if(shallowEqualArrays(lt,Et.keys,Et.equal)){if(ft)return;if(Object.prototype.hasOwnProperty.call(Et,"error"))throw Et.error;if(Object.prototype.hasOwnProperty.call(Et,"response"))return Et.response;if(!ft)throw Et.promise}const St={keys:lt,equal:vt.equal,promise:dt(...lt).then(Et=>St.response=Et).then(()=>{vt.lifespan&&vt.lifespan>0&&setTimeout(()=>{const Et=globalCache.indexOf(St);Et!==-1&&globalCache.splice(Et,1)},vt.lifespan)}).catch(Et=>St.error=Et)};if(globalCache.push(St),!ft)throw St.promise}const suspend=(dt,lt,ft)=>query(dt,lt,!1,ft),preload=(dt,lt,ft)=>void query(dt,lt,!0,ft),clear=dt=>{if(dt===void 0||dt.length===0)globalCache.splice(0,globalCache.length);else{const lt=globalCache.find(ft=>shallowEqualArrays(dt,ft.keys,ft.equal));if(lt){const ft=globalCache.indexOf(lt);ft!==-1&&globalCache.splice(ft,1)}}},catalogue={},extend=dt=>void Object.assign(catalogue,dt);function createRenderer(dt,lt){function ft(Bt,{args:Ft=[],attach:Dt,...kt},zt){let Ht=`${Bt[0].toUpperCase()}${Bt.slice(1)}`,en;if(Bt==="primitive"){if(kt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Kt=kt.object;en=prepare(Kt,{type:Bt,root:zt,attach:Dt,primitive:!0})}else{const Kt=catalogue[Ht];if(!Kt)throw new Error(`R3F: ${Ht} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(Ft))throw new Error("R3F: The args prop must be an array!");en=prepare(new Kt(...Ft),{type:Bt,root:zt,attach:Dt,memoizedProps:{args:Ft}})}return en.__r3f.attach===void 0&&(en instanceof BufferGeometry?en.__r3f.attach="geometry":en instanceof Material&&(en.__r3f.attach="material")),Ht!=="inject"&&applyProps$1(en,kt),en}function vt(Bt,Ft){let Dt=!1;if(Ft){var kt,zt;(kt=Ft.__r3f)!=null&&kt.attach?attach(Bt,Ft,Ft.__r3f.attach):Ft.isObject3D&&Bt.isObject3D&&(Bt.add(Ft),Dt=!0),Dt||(zt=Bt.__r3f)==null||zt.objects.push(Ft),Ft.__r3f||prepare(Ft,{}),Ft.__r3f.parent=Bt,updateInstance(Ft),invalidateInstance(Ft)}}function St(Bt,Ft,Dt){let kt=!1;if(Ft){var zt,Ht;if((zt=Ft.__r3f)!=null&&zt.attach)attach(Bt,Ft,Ft.__r3f.attach);else if(Ft.isObject3D&&Bt.isObject3D){Ft.parent=Bt,Ft.dispatchEvent({type:"added"});const en=Bt.children.filter(Zt=>Zt!==Ft),Kt=en.indexOf(Dt);Bt.children=[...en.slice(0,Kt),Ft,...en.slice(Kt)],kt=!0}kt||(Ht=Bt.__r3f)==null||Ht.objects.push(Ft),Ft.__r3f||prepare(Ft,{}),Ft.__r3f.parent=Bt,updateInstance(Ft),invalidateInstance(Ft)}}function Et(Bt,Ft,Dt=!1){Bt&&[...Bt].forEach(kt=>At(Ft,kt,Dt))}function At(Bt,Ft,Dt){if(Ft){var kt,zt,Ht;if(Ft.__r3f&&(Ft.__r3f.parent=null),(kt=Bt.__r3f)!=null&&kt.objects&&(Bt.__r3f.objects=Bt.__r3f.objects.filter(tn=>tn!==Ft)),(zt=Ft.__r3f)!=null&&zt.attach)detach(Bt,Ft,Ft.__r3f.attach);else if(Ft.isObject3D&&Bt.isObject3D){var en;Bt.remove(Ft),(en=Ft.__r3f)!=null&&en.root&&removeInteractivity(Ft.__r3f.root,Ft)}const Zt=(Ht=Ft.__r3f)==null?void 0:Ht.primitive,Wt=Dt===void 0?Ft.dispose!==null&&!Zt:Dt;if(!Zt){var Kt;Et((Kt=Ft.__r3f)==null?void 0:Kt.objects,Ft,Wt),Et(Ft.children,Ft,Wt)}Ft.__r3f&&(delete Ft.__r3f.root,delete Ft.__r3f.objects,delete Ft.__r3f.handlers,delete Ft.__r3f.memoizedProps,Zt||delete Ft.__r3f),Wt&&Ft.dispose&&Ft.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{Ft.dispose()}catch{}}),invalidateInstance(Bt)}}function Ct(Bt,Ft,Dt,kt){var zt;const Ht=(zt=Bt.__r3f)==null?void 0:zt.parent;if(!Ht)return;const en=ft(Ft,Dt,Bt.__r3f.root);if(Bt.children){for(const Kt of Bt.children)Kt.__r3f&&vt(en,Kt);Bt.children=Bt.children.filter(Kt=>!Kt.__r3f)}Bt.__r3f.objects.forEach(Kt=>vt(en,Kt)),Bt.__r3f.objects=[],Bt.__r3f.autoRemovedBeforeAppend||At(Ht,Bt),en.parent&&(en.__r3f.autoRemovedBeforeAppend=!0),vt(Ht,en),en.raycast&&en.__r3f.eventCount&&en.__r3f.root.getState().internal.interaction.push(en),[kt,kt.alternate].forEach(Kt=>{Kt!==null&&(Kt.stateNode=en,Kt.ref&&(typeof Kt.ref=="function"?Kt.ref(en):Kt.ref.current=en))})}const Tt=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:ft,removeChild:At,appendChild:vt,appendInitialChild:vt,insertBefore:St,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Bt,Ft)=>{if(!Ft)return;const Dt=Bt.getState().scene;Dt.__r3f&&(Dt.__r3f.root=Bt,vt(Dt,Ft))},removeChildFromContainer:(Bt,Ft)=>{Ft&&At(Bt.getState().scene,Ft)},insertInContainerBefore:(Bt,Ft,Dt)=>{if(!Ft||!Dt)return;const kt=Bt.getState().scene;kt.__r3f&&St(kt,Ft,Dt)},getRootHostContext:()=>null,getChildHostContext:Bt=>Bt,finalizeInitialChildren(Bt){var Ft;return!!((Ft=Bt==null?void 0:Bt.__r3f)!=null?Ft:{}).handlers},prepareUpdate(Bt,Ft,Dt,kt){if(Bt.__r3f.primitive&&kt.object&&kt.object!==Bt)return[!0];{const{args:zt=[],children:Ht,...en}=kt,{args:Kt=[],children:Zt,...Wt}=Dt;if(!Array.isArray(zt))throw new Error("R3F: the args prop must be an array!");if(zt.some((an,ln)=>an!==Kt[ln]))return[!0];const tn=diffProps(Bt,en,Wt,!0);return tn.changes.length?[!1,tn]:null}},commitUpdate(Bt,[Ft,Dt],kt,zt,Ht,en){Ft?Ct(Bt,kt,Ht,en):applyProps$1(Bt,Dt)},commitMount(Bt,Ft,Dt,kt){var zt;const Ht=(zt=Bt.__r3f)!=null?zt:{};Bt.raycast&&Ht.handlers&&Ht.eventCount&&Bt.__r3f.root.getState().internal.interaction.push(Bt)},getPublicInstance:Bt=>Bt,prepareForCommit:()=>null,preparePortalMount:Bt=>prepare(Bt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Bt){var Ft;const{attach:Dt,parent:kt}=(Ft=Bt.__r3f)!=null?Ft:{};Dt&&kt&&detach(kt,Bt,Dt),Bt.isObject3D&&(Bt.visible=!1),invalidateInstance(Bt)},unhideInstance(Bt,Ft){var Dt;const{attach:kt,parent:zt}=(Dt=Bt.__r3f)!=null?Dt:{};kt&&zt&&attach(zt,Bt,kt),(Bt.isObject3D&&Ft.visible==null||Ft.visible)&&(Bt.visible=!0),invalidateInstance(Bt)},createTextInstance:Tt,hideTextInstance:Tt,unhideTextInstance:Tt,getCurrentEventPriority:()=>lt?lt():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=dt=>"colorSpace"in dt||"outputColorSpace"in dt,getColorManagement=()=>{var dt;return(dt=catalogue.ColorManagement)!=null?dt:null},isOrthographicCamera=dt=>dt&&dt.isOrthographicCamera,isRef$1=dt=>dt&&dt.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(dt){const lt=reactExports.useRef(dt);return useIsomorphicLayoutEffect$1(()=>void(lt.current=dt),[dt]),lt}function Block({set:dt}){return useIsomorphicLayoutEffect$1(()=>(dt(new Promise(()=>null)),()=>dt(!1)),[dt]),null}class ErrorBoundary extends reactExports.Component{constructor(...lt){super(...lt),this.state={error:!1}}componentDidCatch(lt){this.props.set(lt)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=dt=>dt&&!!dt.memoized&&!!dt.changes;function calculateDpr(dt){var lt;const ft=typeof window<"u"?(lt=window.devicePixelRatio)!=null?lt:2:1;return Array.isArray(dt)?Math.min(Math.max(dt[0],ft),dt[1]):dt}const getRootState=dt=>{var lt;return(lt=dt.__r3f)==null?void 0:lt.root.getState()},is={obj:dt=>dt===Object(dt)&&!is.arr(dt)&&typeof dt!="function",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",boo:dt=>typeof dt=="boolean",und:dt=>dt===void 0,arr:dt=>Array.isArray(dt),equ(dt,lt,{arrays:ft="shallow",objects:vt="reference",strict:St=!0}={}){if(typeof dt!=typeof lt||!!dt!=!!lt)return!1;if(is.str(dt)||is.num(dt))return dt===lt;const Et=is.obj(dt);if(Et&&vt==="reference")return dt===lt;const At=is.arr(dt);if(At&&ft==="reference")return dt===lt;if((At||Et)&&dt===lt)return!0;let Ct;for(Ct in dt)if(!(Ct in lt))return!1;if(Et&&ft==="shallow"&&vt==="shallow"){for(Ct in St?lt:dt)if(!is.equ(dt[Ct],lt[Ct],{strict:St,objects:"reference"}))return!1}else for(Ct in St?lt:dt)if(dt[Ct]!==lt[Ct])return!1;if(is.und(Ct)){if(At&&dt.length===0&&lt.length===0||Et&&Object.keys(dt).length===0&&Object.keys(lt).length===0)return!0;if(dt!==lt)return!1}return!0}};function buildGraph(dt){const lt={nodes:{},materials:{}};return dt&&dt.traverse(ft=>{ft.name&&(lt.nodes[ft.name]=ft),ft.material&&!lt.materials[ft.material.name]&&(lt.materials[ft.material.name]=ft.material)}),lt}function dispose(dt){dt.dispose&&dt.type!=="Scene"&&dt.dispose();for(const lt in dt)lt.dispose==null||lt.dispose(),delete dt[lt]}function prepare(dt,lt){const ft=dt;return(lt!=null&&lt.primitive||!ft.__r3f)&&(ft.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...lt}),dt}function resolve(dt,lt){let ft=dt;if(lt.includes("-")){const vt=lt.split("-"),St=vt.pop();return ft=vt.reduce((Et,At)=>Et[At],dt),{target:ft,key:St}}else return{target:ft,key:lt}}const INDEX_REGEX=/-\d+$/;function attach(dt,lt,ft){if(is.str(ft)){if(INDEX_REGEX.test(ft)){const Et=ft.replace(INDEX_REGEX,""),{target:At,key:Ct}=resolve(dt,Et);Array.isArray(At[Ct])||(At[Ct]=[])}const{target:vt,key:St}=resolve(dt,ft);lt.__r3f.previousAttach=vt[St],vt[St]=lt}else lt.__r3f.previousAttach=ft(dt,lt)}function detach(dt,lt,ft){var vt,St;if(is.str(ft)){const{target:Et,key:At}=resolve(dt,ft),Ct=lt.__r3f.previousAttach;Ct===void 0?delete Et[At]:Et[At]=Ct}else(vt=lt.__r3f)==null||vt.previousAttach==null||vt.previousAttach(dt,lt);(St=lt.__r3f)==null||delete St.previousAttach}function diffProps(dt,{children:lt,key:ft,ref:vt,...St},{children:Et,key:At,ref:Ct,...Tt}={},Rt=!1){var Bt;const Ft=(Bt=dt==null?void 0:dt.__r3f)!=null?Bt:{},Dt=Object.entries(St),kt=[];if(Rt){const Ht=Object.keys(Tt);for(let en=0;en<Ht.length;en++)St.hasOwnProperty(Ht[en])||Dt.unshift([Ht[en],DEFAULT+"remove"])}Dt.forEach(([Ht,en])=>{var Kt;if((Kt=dt.__r3f)!=null&&Kt.primitive&&Ht==="object"||is.equ(en,Tt[Ht]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Ht))return kt.push([Ht,en,!0,[]]);let Zt=[];Ht.includes("-")&&(Zt=Ht.split("-")),kt.push([Ht,en,!1,Zt]);for(const Wt in St){const tn=St[Wt];Wt.startsWith(`${Ht}-`)&&kt.push([Wt,tn,!1,Wt.split("-")])}});const zt={...St};return Ft.memoizedProps&&Ft.memoizedProps.args&&(zt.args=Ft.memoizedProps.args),Ft.memoizedProps&&Ft.memoizedProps.attach&&(zt.attach=Ft.memoizedProps.attach),{memoized:zt,changes:kt}}function applyProps$1(dt,lt){var ft,vt,St;const Et=(ft=dt.__r3f)!=null?ft:{},At=Et.root,Ct=(vt=At==null||At.getState==null?void 0:At.getState())!=null?vt:{},{memoized:Tt,changes:Rt}=isDiffSet(lt)?lt:diffProps(dt,lt),Bt=Et.eventCount;dt.__r3f&&(dt.__r3f.memoizedProps=Tt);for(let Dt=0;Dt<Rt.length;Dt++){let[kt,zt,Ht,en]=Rt[Dt];if(hasColorSpace(dt)){const tn="srgb",an="srgb-linear";kt==="encoding"?(kt="colorSpace",zt=zt===3001?tn:an):kt==="outputEncoding"&&(kt="outputColorSpace",zt=zt===3001?tn:an)}let Kt=dt,Zt=Kt[kt];if(en.length&&(Zt=en.reduce((Wt,tn)=>Wt[tn],dt),!(Zt&&Zt.set))){const[Wt,...tn]=en.reverse();Kt=tn.reverse().reduce((an,ln)=>an[ln],dt),kt=Wt}if(zt===DEFAULT+"remove")if(Kt.constructor){let Wt=DEFAULTS.get(Kt.constructor);Wt||(Wt=new Kt.constructor,DEFAULTS.set(Kt.constructor,Wt)),zt=Wt[kt]}else zt=0;if(Ht)zt?Et.handlers[kt]=zt:delete Et.handlers[kt],Et.eventCount=Object.keys(Et.handlers).length;else if(Zt&&Zt.set&&(Zt.copy||Zt instanceof Layers)){if(Array.isArray(zt))Zt.fromArray?Zt.fromArray(zt):Zt.set(...zt);else if(Zt.copy&&zt&&zt.constructor&&Zt.constructor===zt.constructor)Zt.copy(zt);else if(zt!==void 0){const Wt=Zt instanceof Color;!Wt&&Zt.setScalar?Zt.setScalar(zt):Zt instanceof Layers&&zt instanceof Layers?Zt.mask=zt.mask:Zt.set(zt),!getColorManagement()&&!Ct.linear&&Wt&&Zt.convertSRGBToLinear()}}else if(Kt[kt]=zt,Kt[kt]instanceof Texture&&Kt[kt].format===RGBAFormat&&Kt[kt].type===UnsignedByteType){const Wt=Kt[kt];hasColorSpace(Wt)&&hasColorSpace(Ct.gl)?Wt.colorSpace=Ct.gl.outputColorSpace:Wt.encoding=Ct.gl.outputEncoding}invalidateInstance(dt)}if(Et.parent&&Ct.internal&&dt.raycast&&Bt!==Et.eventCount){const Dt=Ct.internal.interaction.indexOf(dt);Dt>-1&&Ct.internal.interaction.splice(Dt,1),Et.eventCount&&Ct.internal.interaction.push(dt)}return!(Rt.length===1&&Rt[0][0]==="onUpdate")&&Rt.length&&(St=dt.__r3f)!=null&&St.parent&&updateInstance(dt),dt}function invalidateInstance(dt){var lt,ft;const vt=(lt=dt.__r3f)==null||(ft=lt.root)==null||ft.getState==null?void 0:ft.getState();vt&&vt.internal.frames===0&&vt.invalidate()}function updateInstance(dt){dt.onUpdate==null||dt.onUpdate(dt)}function updateCamera(dt,lt){dt.manual||(isOrthographicCamera(dt)?(dt.left=lt.width/-2,dt.right=lt.width/2,dt.top=lt.height/2,dt.bottom=lt.height/-2):dt.aspect=lt.width/lt.height,dt.updateProjectionMatrix(),dt.updateMatrixWorld())}function makeId(dt){return(dt.eventObject||dt.object).uuid+"/"+dt.index+dt.instanceId}function getEventPriority(){var dt;const lt=typeof self<"u"&&self||typeof window<"u"&&window;if(!lt)return constantsExports.DefaultEventPriority;switch((dt=lt.event)==null?void 0:dt.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(dt,lt,ft,vt){const St=ft.get(lt);St&&(ft.delete(lt),ft.size===0&&(dt.delete(vt),St.target.releasePointerCapture(vt)))}function removeInteractivity(dt,lt){const{internal:ft}=dt.getState();ft.interaction=ft.interaction.filter(vt=>vt!==lt),ft.initialHits=ft.initialHits.filter(vt=>vt!==lt),ft.hovered.forEach((vt,St)=>{(vt.eventObject===lt||vt.object===lt)&&ft.hovered.delete(St)}),ft.capturedMap.forEach((vt,St)=>{releaseInternalPointerCapture(ft.capturedMap,lt,vt,St)})}function createEvents(dt){function lt(Tt){const{internal:Rt}=dt.getState(),Bt=Tt.offsetX-Rt.initialClick[0],Ft=Tt.offsetY-Rt.initialClick[1];return Math.round(Math.sqrt(Bt*Bt+Ft*Ft))}function ft(Tt){return Tt.filter(Rt=>["Move","Over","Enter","Out","Leave"].some(Bt=>{var Ft;return(Ft=Rt.__r3f)==null?void 0:Ft.handlers["onPointer"+Bt]}))}function vt(Tt,Rt){const Bt=dt.getState(),Ft=new Set,Dt=[],kt=Rt?Rt(Bt.internal.interaction):Bt.internal.interaction;for(let Kt=0;Kt<kt.length;Kt++){const Zt=getRootState(kt[Kt]);Zt&&(Zt.raycaster.camera=void 0)}Bt.previousRoot||Bt.events.compute==null||Bt.events.compute(Tt,Bt);function zt(Kt){const Zt=getRootState(Kt);if(!Zt||!Zt.events.enabled||Zt.raycaster.camera===null)return[];if(Zt.raycaster.camera===void 0){var Wt;Zt.events.compute==null||Zt.events.compute(Tt,Zt,(Wt=Zt.previousRoot)==null?void 0:Wt.getState()),Zt.raycaster.camera===void 0&&(Zt.raycaster.camera=null)}return Zt.raycaster.camera?Zt.raycaster.intersectObject(Kt,!0):[]}let Ht=kt.flatMap(zt).sort((Kt,Zt)=>{const Wt=getRootState(Kt.object),tn=getRootState(Zt.object);return!Wt||!tn?Kt.distance-Zt.distance:tn.events.priority-Wt.events.priority||Kt.distance-Zt.distance}).filter(Kt=>{const Zt=makeId(Kt);return Ft.has(Zt)?!1:(Ft.add(Zt),!0)});Bt.events.filter&&(Ht=Bt.events.filter(Ht,Bt));for(const Kt of Ht){let Zt=Kt.object;for(;Zt;){var en;(en=Zt.__r3f)!=null&&en.eventCount&&Dt.push({...Kt,eventObject:Zt}),Zt=Zt.parent}}if("pointerId"in Tt&&Bt.internal.capturedMap.has(Tt.pointerId))for(let Kt of Bt.internal.capturedMap.get(Tt.pointerId).values())Ft.has(makeId(Kt.intersection))||Dt.push(Kt.intersection);return Dt}function St(Tt,Rt,Bt,Ft){const Dt=dt.getState();if(Tt.length){const kt={stopped:!1};for(const zt of Tt){const Ht=getRootState(zt.object)||Dt,{raycaster:en,pointer:Kt,camera:Zt,internal:Wt}=Ht,tn=new Vector3(Kt.x,Kt.y,0).unproject(Zt),an=xn=>{var An,gn;return(An=(gn=Wt.capturedMap.get(xn))==null?void 0:gn.has(zt.eventObject))!=null?An:!1},ln=xn=>{const An={intersection:zt,target:Rt.target};Wt.capturedMap.has(xn)?Wt.capturedMap.get(xn).set(zt.eventObject,An):Wt.capturedMap.set(xn,new Map([[zt.eventObject,An]])),Rt.target.setPointerCapture(xn)},fn=xn=>{const An=Wt.capturedMap.get(xn);An&&releaseInternalPointerCapture(Wt.capturedMap,zt.eventObject,An,xn)};let un={};for(let xn in Rt){let An=Rt[xn];typeof An!="function"&&(un[xn]=An)}let pn={...zt,...un,pointer:Kt,intersections:Tt,stopped:kt.stopped,delta:Bt,unprojectedPoint:tn,ray:en.ray,camera:Zt,stopPropagation(){const xn="pointerId"in Rt&&Wt.capturedMap.get(Rt.pointerId);if((!xn||xn.has(zt.eventObject))&&(pn.stopped=kt.stopped=!0,Wt.hovered.size&&Array.from(Wt.hovered.values()).find(An=>An.eventObject===zt.eventObject))){const An=Tt.slice(0,Tt.indexOf(zt));Et([...An,zt])}},target:{hasPointerCapture:an,setPointerCapture:ln,releasePointerCapture:fn},currentTarget:{hasPointerCapture:an,setPointerCapture:ln,releasePointerCapture:fn},nativeEvent:Rt};if(Ft(pn),kt.stopped===!0)break}}return Tt}function Et(Tt){const{internal:Rt}=dt.getState();for(const Bt of Rt.hovered.values())if(!Tt.length||!Tt.find(Ft=>Ft.object===Bt.object&&Ft.index===Bt.index&&Ft.instanceId===Bt.instanceId)){const Dt=Bt.eventObject.__r3f,kt=Dt==null?void 0:Dt.handlers;if(Rt.hovered.delete(makeId(Bt)),Dt!=null&&Dt.eventCount){const zt={...Bt,intersections:Tt};kt.onPointerOut==null||kt.onPointerOut(zt),kt.onPointerLeave==null||kt.onPointerLeave(zt)}}}function At(Tt,Rt){for(let Bt=0;Bt<Rt.length;Bt++){const Ft=Rt[Bt].__r3f;Ft==null||Ft.handlers.onPointerMissed==null||Ft.handlers.onPointerMissed(Tt)}}function Ct(Tt){switch(Tt){case"onPointerLeave":case"onPointerCancel":return()=>Et([]);case"onLostPointerCapture":return Rt=>{const{internal:Bt}=dt.getState();"pointerId"in Rt&&Bt.capturedMap.has(Rt.pointerId)&&requestAnimationFrame(()=>{Bt.capturedMap.has(Rt.pointerId)&&(Bt.capturedMap.delete(Rt.pointerId),Et([]))})}}return function(Bt){const{onPointerMissed:Ft,internal:Dt}=dt.getState();Dt.lastEvent.current=Bt;const kt=Tt==="onPointerMove",zt=Tt==="onClick"||Tt==="onContextMenu"||Tt==="onDoubleClick",en=vt(Bt,kt?ft:void 0),Kt=zt?lt(Bt):0;Tt==="onPointerDown"&&(Dt.initialClick=[Bt.offsetX,Bt.offsetY],Dt.initialHits=en.map(Wt=>Wt.eventObject)),zt&&!en.length&&Kt<=2&&(At(Bt,Dt.interaction),Ft&&Ft(Bt)),kt&&Et(en);function Zt(Wt){const tn=Wt.eventObject,an=tn.__r3f,ln=an==null?void 0:an.handlers;if(an!=null&&an.eventCount)if(kt){if(ln.onPointerOver||ln.onPointerEnter||ln.onPointerOut||ln.onPointerLeave){const fn=makeId(Wt),un=Dt.hovered.get(fn);un?un.stopped&&Wt.stopPropagation():(Dt.hovered.set(fn,Wt),ln.onPointerOver==null||ln.onPointerOver(Wt),ln.onPointerEnter==null||ln.onPointerEnter(Wt))}ln.onPointerMove==null||ln.onPointerMove(Wt)}else{const fn=ln[Tt];fn?(!zt||Dt.initialHits.includes(tn))&&(At(Bt,Dt.interaction.filter(un=>!Dt.initialHits.includes(un))),fn(Wt)):zt&&Dt.initialHits.includes(tn)&&At(Bt,Dt.interaction.filter(un=>!Dt.initialHits.includes(un)))}}St(en,Bt,Kt,Zt)}}return{handlePointer:Ct}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=dt=>!!(dt!=null&&dt.render),context$1=reactExports.createContext(null),createStore$3=(dt,lt)=>{const ft=create$4((Ct,Tt)=>{const Rt=new Vector3,Bt=new Vector3,Ft=new Vector3;function Dt(Kt=Tt().camera,Zt=Bt,Wt=Tt().size){const{width:tn,height:an,top:ln,left:fn}=Wt,un=tn/an;Zt instanceof Vector3?Ft.copy(Zt):Ft.set(...Zt);const pn=Kt.getWorldPosition(Rt).distanceTo(Ft);if(isOrthographicCamera(Kt))return{width:tn/Kt.zoom,height:an/Kt.zoom,top:ln,left:fn,factor:1,distance:pn,aspect:un};{const xn=Kt.fov*Math.PI/180,An=2*Math.tan(xn/2)*pn,gn=An*(tn/an);return{width:gn,height:An,top:ln,left:fn,factor:tn/gn,distance:pn,aspect:un}}}let kt;const zt=Kt=>Ct(Zt=>({performance:{...Zt.performance,current:Kt}})),Ht=new Vector2;return{set:Ct,get:Tt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Kt=1)=>dt(Tt(),Kt),advance:(Kt,Zt)=>lt(Kt,Zt,Tt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:Ht,mouse:Ht,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Kt=Tt();kt&&clearTimeout(kt),Kt.performance.current!==Kt.performance.min&&zt(Kt.performance.min),kt=setTimeout(()=>zt(Tt().performance.max),Kt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Dt},setEvents:Kt=>Ct(Zt=>({...Zt,events:{...Zt.events,...Kt}})),setSize:(Kt,Zt,Wt,tn,an)=>{const ln=Tt().camera,fn={width:Kt,height:Zt,top:tn||0,left:an||0,updateStyle:Wt};Ct(un=>({size:fn,viewport:{...un.viewport,...Dt(ln,Bt,fn)}}))},setDpr:Kt=>Ct(Zt=>{const Wt=calculateDpr(Kt);return{viewport:{...Zt.viewport,dpr:Wt,initialDpr:Zt.viewport.initialDpr||Wt}}}),setFrameloop:(Kt="always")=>{const Zt=Tt().clock;Zt.stop(),Zt.elapsedTime=0,Kt!=="never"&&(Zt.start(),Zt.elapsedTime=0),Ct(()=>({frameloop:Kt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Kt,Zt,Wt)=>{const tn=Tt().internal;return tn.priority=tn.priority+(Zt>0?1:0),tn.subscribers.push({ref:Kt,priority:Zt,store:Wt}),tn.subscribers=tn.subscribers.sort((an,ln)=>an.priority-ln.priority),()=>{const an=Tt().internal;an!=null&&an.subscribers&&(an.priority=an.priority-(Zt>0?1:0),an.subscribers=an.subscribers.filter(ln=>ln.ref!==Kt))}}}}}),vt=ft.getState();let St=vt.size,Et=vt.viewport.dpr,At=vt.camera;return ft.subscribe(()=>{const{camera:Ct,size:Tt,viewport:Rt,gl:Bt,set:Ft}=ft.getState();if(Tt!==St||Rt.dpr!==Et){var Dt;St=Tt,Et=Rt.dpr,updateCamera(Ct,Tt),Bt.setPixelRatio(Rt.dpr);const kt=(Dt=Tt.updateStyle)!=null?Dt:typeof HTMLCanvasElement<"u"&&Bt.domElement instanceof HTMLCanvasElement;Bt.setSize(Tt.width,Tt.height,kt)}Ct!==At&&(At=Ct,Ft(kt=>({viewport:{...kt.viewport,...kt.viewport.getCurrentViewport(Ct)}})))}),ft.subscribe(Ct=>dt(Ct)),ft};function createSubs(dt,lt){const ft={callback:dt};return lt.add(ft),()=>void lt.delete(ft)}let i$2,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=dt=>createSubs(dt,globalEffects),addAfterEffect=dt=>createSubs(dt,globalAfterEffects),addTail=dt=>createSubs(dt,globalTailEffects);function run(dt,lt){if(dt.size)for(const{callback:ft}of dt.values())ft(lt)}function flushGlobalEffects(dt,lt){switch(dt){case"before":return run(globalEffects,lt);case"after":return run(globalAfterEffects,lt);case"tail":return run(globalTailEffects,lt)}}let subscribers,subscription;function render$1(dt,lt,ft){let vt=lt.clock.getDelta();for(lt.frameloop==="never"&&typeof dt=="number"&&(vt=dt-lt.clock.elapsedTime,lt.clock.oldTime=lt.clock.elapsedTime,lt.clock.elapsedTime=dt),subscribers=lt.internal.subscribers,i$2=0;i$2<subscribers.length;i$2++)subscription=subscribers[i$2],subscription.ref.current(subscription.store.getState(),vt,ft);return!lt.internal.priority&&lt.gl.render&&lt.gl.render(lt.scene,lt.camera),lt.internal.frames=Math.max(0,lt.internal.frames-1),lt.frameloop==="always"?1:lt.internal.frames}function createLoop(dt){let lt=!1,ft,vt,St;function Et(Tt){vt=requestAnimationFrame(Et),lt=!0,ft=0,flushGlobalEffects("before",Tt);for(const Bt of dt.values()){var Rt;St=Bt.store.getState(),St.internal.active&&(St.frameloop==="always"||St.internal.frames>0)&&!((Rt=St.gl.xr)!=null&&Rt.isPresenting)&&(ft+=render$1(Tt,St))}if(flushGlobalEffects("after",Tt),ft===0)return flushGlobalEffects("tail",Tt),lt=!1,cancelAnimationFrame(vt)}function At(Tt,Rt=1){var Bt;if(!Tt)return dt.forEach(Ft=>At(Ft.store.getState()),Rt);(Bt=Tt.gl.xr)!=null&&Bt.isPresenting||!Tt.internal.active||Tt.frameloop==="never"||(Tt.internal.frames=Math.min(60,Tt.internal.frames+Rt),lt||(lt=!0,requestAnimationFrame(Et)))}function Ct(Tt,Rt=!0,Bt,Ft){if(Rt&&flushGlobalEffects("before",Tt),Bt)render$1(Tt,Bt,Ft);else for(const Dt of dt.values())render$1(Tt,Dt.store.getState());Rt&&flushGlobalEffects("after",Tt)}return{loop:Et,invalidate:At,advance:Ct}}function useStore$2(){const dt=reactExports.useContext(context$1);if(!dt)throw new Error("R3F: Hooks can only be used within the Canvas component!");return dt}function useThree(dt=ft=>ft,lt){return useStore$2()(dt,lt)}function useFrame(dt,lt=0){const ft=useStore$2(),vt=ft.getState().internal.subscribe,St=useMutableCallback(dt);return useIsomorphicLayoutEffect$1(()=>vt(St,lt,ft),[lt,vt,ft]),null}function loadingFn(dt,lt){return function(ft,...vt){const St=new ft;return dt&&dt(St),Promise.all(vt.map(Et=>new Promise((At,Ct)=>St.load(Et,Tt=>{Tt.scene&&Object.assign(Tt,buildGraph(Tt.scene)),At(Tt)},lt,Tt=>Ct(new Error(`Could not load ${Et}: ${Tt.message})`))))))}}function useLoader(dt,lt,ft,vt){const St=Array.isArray(lt)?lt:[lt],Et=suspend(loadingFn(ft,vt),[dt,...St],{equal:is.equ});return Array.isArray(lt)?Et:Et[0]}useLoader.preload=function(dt,lt,ft){const vt=Array.isArray(lt)?lt:[lt];return preload(loadingFn(ft),[dt,...vt])};useLoader.clear=function(dt,lt){const ft=Array.isArray(lt)?lt:[lt];return clear([dt,...ft])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(dt,lt)=>{const ft=typeof dt=="function"?dt(lt):dt;return isRenderer(ft)?ft:new WebGLRenderer({powerPreference:"high-performance",canvas:lt,antialias:!0,alpha:!0,...dt})};function computeInitialSize(dt,lt){if(lt)return lt;if(typeof HTMLCanvasElement<"u"&&dt instanceof HTMLCanvasElement&&dt.parentElement){const{width:ft,height:vt,top:St,left:Et}=dt.parentElement.getBoundingClientRect();return{width:ft,height:vt,top:St,left:Et}}else if(typeof OffscreenCanvas<"u"&&dt instanceof OffscreenCanvas)return{width:dt.width,height:dt.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot(dt){const lt=roots.get(dt),ft=lt==null?void 0:lt.fiber,vt=lt==null?void 0:lt.store;lt&&console.warn("R3F.createRoot should only be called once!");const St=typeof reportError=="function"?reportError:console.error,Et=vt||createStore$3(invalidate,advance),At=ft||reconciler.createContainer(Et,constantsExports.ConcurrentRoot,null,!1,null,"",St,null);lt||roots.set(dt,{fiber:At,store:Et});let Ct,Tt=!1,Rt;return{configure(Bt={}){let{gl:Ft,size:Dt,scene:kt,events:zt,onCreated:Ht,shadows:en=!1,linear:Kt=!1,flat:Zt=!1,legacy:Wt=!1,orthographic:tn=!1,frameloop:an="always",dpr:ln=[1,2],performance:fn,raycaster:un,camera:pn,onPointerMissed:xn}=Bt,An=Et.getState(),gn=An.gl;An.gl||An.set({gl:gn=createRendererInstance(Ft,dt)});let Ln=An.raycaster;Ln||An.set({raycaster:Ln=new Raycaster});const{params:Cn,...En}=un||{};if(is.equ(En,Ln,shallowLoose)||applyProps(Ln,{...En}),is.equ(Cn,Ln.params,shallowLoose)||applyProps(Ln,{params:{...Ln.params,...Cn}}),!An.camera||An.camera===Rt&&!is.equ(Rt,pn,shallowLoose)){Rt=pn;const Mn=pn instanceof Camera,Tn=Mn?pn:tn?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);Mn||(Tn.position.z=5,pn&&applyProps(Tn,pn),!An.camera&&!(pn!=null&&pn.rotation)&&Tn.lookAt(0,0,0)),An.set({camera:Tn})}if(!An.scene){let Mn;kt instanceof Scene$1?Mn=kt:(Mn=new Scene$1,kt&&applyProps(Mn,kt)),An.set({scene:prepare(Mn)})}if(!An.xr){const Mn=(Nn,$n)=>{const Gn=Et.getState();Gn.frameloop!=="never"&&advance(Nn,!0,Gn,$n)},Tn=()=>{const Nn=Et.getState();Nn.gl.xr.enabled=Nn.gl.xr.isPresenting,Nn.gl.xr.setAnimationLoop(Nn.gl.xr.isPresenting?Mn:null),Nn.gl.xr.isPresenting||invalidate(Nn)},In={connect(){const Nn=Et.getState().gl;Nn.xr.addEventListener("sessionstart",Tn),Nn.xr.addEventListener("sessionend",Tn)},disconnect(){const Nn=Et.getState().gl;Nn.xr.removeEventListener("sessionstart",Tn),Nn.xr.removeEventListener("sessionend",Tn)}};gn.xr&&In.connect(),An.set({xr:In})}if(gn.shadowMap){const Mn=gn.shadowMap.enabled,Tn=gn.shadowMap.type;if(gn.shadowMap.enabled=!!en,is.boo(en))gn.shadowMap.type=PCFSoftShadowMap;else if(is.str(en)){var yn;const In={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};gn.shadowMap.type=(yn=In[en])!=null?yn:PCFSoftShadowMap}else is.obj(en)&&Object.assign(gn.shadowMap,en);(Mn!==gn.shadowMap.enabled||Tn!==gn.shadowMap.type)&&(gn.shadowMap.needsUpdate=!0)}const Rn=getColorManagement();Rn&&("enabled"in Rn?Rn.enabled=!Wt:"legacyMode"in Rn&&(Rn.legacyMode=Wt)),applyProps(gn,{outputEncoding:Kt?3e3:3001,toneMapping:Zt?NoToneMapping:ACESFilmicToneMapping}),An.legacy!==Wt&&An.set(()=>({legacy:Wt})),An.linear!==Kt&&An.set(()=>({linear:Kt})),An.flat!==Zt&&An.set(()=>({flat:Zt})),Ft&&!is.fun(Ft)&&!isRenderer(Ft)&&!is.equ(Ft,gn,shallowLoose)&&applyProps(gn,Ft),zt&&!An.events.handlers&&An.set({events:zt(Et)});const bn=computeInitialSize(dt,Dt);return is.equ(bn,An.size,shallowLoose)||An.setSize(bn.width,bn.height,bn.updateStyle,bn.top,bn.left),ln&&An.viewport.dpr!==calculateDpr(ln)&&An.setDpr(ln),An.frameloop!==an&&An.setFrameloop(an),An.onPointerMissed||An.set({onPointerMissed:xn}),fn&&!is.equ(fn,An.performance,shallowLoose)&&An.set(Mn=>({performance:{...Mn.performance,...fn}})),Ct=Ht,Tt=!0,this},render(Bt){return Tt||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:Et,children:Bt,onCreated:Ct,rootElement:dt}),At,null,()=>{}),Et},unmount(){unmountComponentAtNode(dt)}}}function Provider({store:dt,children:lt,onCreated:ft,rootElement:vt}){return useIsomorphicLayoutEffect$1(()=>{const St=dt.getState();St.set(Et=>({internal:{...Et.internal,active:!0}})),ft&&ft(St),dt.getState().events.connected||St.events.connect==null||St.events.connect(vt)},[]),reactExports.createElement(context$1.Provider,{value:dt},lt)}function unmountComponentAtNode(dt,lt){const ft=roots.get(dt),vt=ft==null?void 0:ft.fiber;if(vt){const St=ft==null?void 0:ft.store.getState();St&&(St.internal.active=!1),reconciler.updateContainer(null,vt,null,()=>{St&&setTimeout(()=>{try{var Et,At,Ct,Tt;St.events.disconnect==null||St.events.disconnect(),(Et=St.gl)==null||(At=Et.renderLists)==null||At.dispose==null||At.dispose(),(Ct=St.gl)==null||Ct.forceContextLoss==null||Ct.forceContextLoss(),(Tt=St.gl)!=null&&Tt.xr&&St.xr.disconnect(),dispose(St),roots.delete(dt),lt&&lt(dt)}catch{}},500)})}}function createPortal(dt,lt,ft){return reactExports.createElement(Portal,{key:lt.uuid,children:dt,container:lt,state:ft})}function Portal({state:dt={},children:lt,container:ft}){const{events:vt,size:St,...Et}=dt,At=useStore$2(),[Ct]=reactExports.useState(()=>new Raycaster),[Tt]=reactExports.useState(()=>new Vector2),Rt=reactExports.useCallback((Ft,Dt)=>{const kt={...Ft};Object.keys(Ft).forEach(Ht=>{(privateKeys.includes(Ht)||Ft[Ht]!==Dt[Ht]&&Dt[Ht])&&delete kt[Ht]});let zt;if(Dt&&St){const Ht=Dt.camera;zt=Ft.viewport.getCurrentViewport(Ht,new Vector3,St),Ht!==Ft.camera&&updateCamera(Ht,St)}return{...kt,scene:ft,raycaster:Ct,pointer:Tt,mouse:Tt,previousRoot:At,events:{...Ft.events,...Dt==null?void 0:Dt.events,...vt},size:{...Ft.size,...St},viewport:{...Ft.viewport,...zt},...Et}},[dt]),[Bt]=reactExports.useState(()=>{const Ft=At.getState();return create$4((kt,zt)=>({...Ft,scene:ft,raycaster:Ct,pointer:Tt,mouse:Tt,previousRoot:At,events:{...Ft.events,...vt},size:{...Ft.size,...St},...Et,set:kt,get:zt,setEvents:Ht=>kt(en=>({...en,events:{...en.events,...Ht}}))}))});return reactExports.useEffect(()=>{const Ft=At.subscribe(Dt=>Bt.setState(kt=>Rt(Dt,kt)));return()=>{Ft(),Bt.destroy()}},[]),reactExports.useEffect(()=>{Bt.setState(Ft=>Rt(At.getState(),Ft))},[Rt]),reactExports.createElement(reactExports.Fragment,null,reconciler.createPortal(reactExports.createElement(context$1.Provider,{value:Bt},lt),Bt,null))}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce(dt,lt,ft){var vt,St,Et,At,Ct;lt==null&&(lt=100);function Tt(){var Bt=Date.now()-At;Bt<lt&&Bt>=0?vt=setTimeout(Tt,lt-Bt):(vt=null,ft||(Ct=dt.apply(Et,St),Et=St=null))}var Rt=function(){Et=this,St=arguments,At=Date.now();var Bt=ft&&!vt;return vt||(vt=setTimeout(Tt,lt)),Bt&&(Ct=dt.apply(Et,St),Et=St=null),Ct};return Rt.clear=function(){vt&&(clearTimeout(vt),vt=null)},Rt.flush=function(){vt&&(Ct=dt.apply(Et,St),Et=St=null,clearTimeout(vt),vt=null)},Rt}debounce.debounce=debounce;var debounce_1=debounce;const createDebounce=getDefaultExportFromCjs(debounce_1);function useMeasure(dt){let{debounce:lt,scroll:ft,polyfill:vt,offsetSize:St}=dt===void 0?{debounce:0,scroll:!1,offsetSize:!1}:dt;const Et=vt||(typeof window>"u"?class{}:window.ResizeObserver);if(!Et)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[At,Ct]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),Tt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:At}),Rt=lt?typeof lt=="number"?lt:lt.scroll:null,Bt=lt?typeof lt=="number"?lt:lt.resize:null,Ft=reactExports.useRef(!1);reactExports.useEffect(()=>(Ft.current=!0,()=>void(Ft.current=!1)));const[Dt,kt,zt]=reactExports.useMemo(()=>{const Zt=()=>{if(!Tt.current.element)return;const{left:Wt,top:tn,width:an,height:ln,bottom:fn,right:un,x:pn,y:xn}=Tt.current.element.getBoundingClientRect(),An={left:Wt,top:tn,width:an,height:ln,bottom:fn,right:un,x:pn,y:xn};Tt.current.element instanceof HTMLElement&&St&&(An.height=Tt.current.element.offsetHeight,An.width=Tt.current.element.offsetWidth),Object.freeze(An),Ft.current&&!areBoundsEqual(Tt.current.lastBounds,An)&&Ct(Tt.current.lastBounds=An)};return[Zt,Bt?createDebounce(Zt,Bt):Zt,Rt?createDebounce(Zt,Rt):Zt]},[Ct,St,Rt,Bt]);function Ht(){Tt.current.scrollContainers&&(Tt.current.scrollContainers.forEach(Zt=>Zt.removeEventListener("scroll",zt,!0)),Tt.current.scrollContainers=null),Tt.current.resizeObserver&&(Tt.current.resizeObserver.disconnect(),Tt.current.resizeObserver=null)}function en(){Tt.current.element&&(Tt.current.resizeObserver=new Et(zt),Tt.current.resizeObserver.observe(Tt.current.element),ft&&Tt.current.scrollContainers&&Tt.current.scrollContainers.forEach(Zt=>Zt.addEventListener("scroll",zt,{capture:!0,passive:!0})))}const Kt=Zt=>{!Zt||Zt===Tt.current.element||(Ht(),Tt.current.element=Zt,Tt.current.scrollContainers=findScrollContainers(Zt),en())};return useOnWindowScroll(zt,!!ft),useOnWindowResize(kt),reactExports.useEffect(()=>{Ht(),en()},[ft,zt,kt]),reactExports.useEffect(()=>Ht,[]),[Kt,At,Dt]}function useOnWindowResize(dt){reactExports.useEffect(()=>{const lt=dt;return window.addEventListener("resize",lt),()=>void window.removeEventListener("resize",lt)},[dt])}function useOnWindowScroll(dt,lt){reactExports.useEffect(()=>{if(lt){const ft=dt;return window.addEventListener("scroll",ft,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",ft,!0)}},[dt,lt])}function findScrollContainers(dt){const lt=[];if(!dt||dt===document.body)return lt;const{overflow:ft,overflowX:vt,overflowY:St}=window.getComputedStyle(dt);return[ft,vt,St].some(Et=>Et==="auto"||Et==="scroll")&&lt.push(dt),[...lt,...findScrollContainers(dt.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(dt,lt)=>keys.every(ft=>dt[ft]===lt[ft]);var __defProp$8=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$8=(dt,lt,ft)=>lt in dt?__defProp$8(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__spreadValues$1=(dt,lt)=>{for(var ft in lt||(lt={}))__hasOwnProp$1.call(lt,ft)&&__defNormalProp$8(dt,ft,lt[ft]);if(__getOwnPropSymbols$1)for(var ft of __getOwnPropSymbols$1(lt))__propIsEnum$1.call(lt,ft)&&__defNormalProp$8(dt,ft,lt[ft]);return dt},__spreadProps=(dt,lt)=>__defProps(dt,__getOwnPropDescs(lt));function traverseFiber(dt,lt,ft){if(!dt)return;if(ft(dt)===!0)return dt;let vt=lt?dt.return:dt.child;for(;vt;){const St=traverseFiber(vt,lt,ft);if(St)return St;vt=lt?null:vt.sibling}}function wrapContext(dt){try{return Object.defineProperties(dt,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return dt}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const dt=reactExports.useContext(FiberContext);if(!dt)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const lt=reactExports.useId();return reactExports.useMemo(()=>{var vt;return(vt=ReactCurrentOwner.current)!=null?vt:traverseFiber(dt,!1,St=>{let Et=St.memoizedState;for(;Et;){if(Et.memoizedState===lt)return!0;Et=Et.next}})},[dt,lt])}function useContextBridge(){var dt,lt;const ft=useFiber(),[vt]=reactExports.useState(()=>new Map);vt.clear();let St=ft;for(;St;){const Et=(dt=St.type)==null?void 0:dt._context;Et&&Et!==FiberContext&&!vt.has(Et)&&vt.set(Et,(lt=ReactCurrentDispatcher.current)==null?void 0:lt.readContext(wrapContext(Et))),St=St.return}return reactExports.useMemo(()=>Array.from(vt.keys()).reduce((Et,At)=>Ct=>reactExports.createElement(Et,null,reactExports.createElement(At.Provider,__spreadProps(__spreadValues$1({},Ct),{value:vt.get(At)}))),Et=>reactExports.createElement(FiberProvider,__spreadValues$1({},Et))),[vt])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(dt){const{handlePointer:lt}=createEvents(dt);return{priority:1,enabled:!0,compute(ft,vt,St){vt.pointer.set(ft.offsetX/vt.size.width*2-1,-(ft.offsetY/vt.size.height)*2+1),vt.raycaster.setFromCamera(vt.pointer,vt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((ft,vt)=>({...ft,[vt]:lt(vt)}),{}),update:()=>{var ft;const{events:vt,internal:St}=dt.getState();(ft=St.lastEvent)!=null&&ft.current&&vt.handlers&&vt.handlers.onPointerMove(St.lastEvent.current)},connect:ft=>{var vt;const{set:St,events:Et}=dt.getState();Et.disconnect==null||Et.disconnect(),St(At=>({events:{...At.events,connected:ft}})),Object.entries((vt=Et.handlers)!=null?vt:[]).forEach(([At,Ct])=>{const[Tt,Rt]=DOM_EVENTS[At];ft.addEventListener(Tt,Ct,{passive:Rt})})},disconnect:()=>{const{set:ft,events:vt}=dt.getState();if(vt.connected){var St;Object.entries((St=vt.handlers)!=null?St:[]).forEach(([Et,At])=>{if(vt&&vt.connected instanceof HTMLElement){const[Ct]=DOM_EVENTS[Et];vt.connected.removeEventListener(Ct,At)}}),ft(Et=>({events:{...Et.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function({children:lt,fallback:ft,resize:vt,style:St,gl:Et,events:At=createPointerEvents,eventSource:Ct,eventPrefix:Tt,shadows:Rt,linear:Bt,flat:Ft,legacy:Dt,orthographic:kt,frameloop:zt,dpr:Ht,performance:en,raycaster:Kt,camera:Zt,onPointerMissed:Wt,onCreated:tn,...an},ln){reactExports.useMemo(()=>extend(r$4),[]);const fn=useContextBridge(),[un,pn]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...vt}),xn=reactExports.useRef(null),An=reactExports.useRef(null);reactExports.useImperativeHandle(ln,()=>xn.current);const gn=useMutableCallback(Wt),[Ln,Cn]=reactExports.useState(!1),[En,yn]=reactExports.useState(!1);if(Ln)throw Ln;if(En)throw En;const Rn=reactExports.useRef(null);useIsomorphicLayoutEffect$1(()=>{const mn=xn.current;pn.width>0&&pn.height>0&&mn&&(Rn.current||(Rn.current=createRoot(mn)),Rn.current.configure({gl:Et,events:At,shadows:Rt,linear:Bt,flat:Ft,legacy:Dt,orthographic:kt,frameloop:zt,dpr:Ht,performance:en,raycaster:Kt,camera:Zt,size:pn,onPointerMissed:(...bn)=>gn.current==null?void 0:gn.current(...bn),onCreated:bn=>{bn.events.connect==null||bn.events.connect(Ct?isRef$1(Ct)?Ct.current:Ct:An.current),Tt&&bn.setEvents({compute:(Mn,Tn)=>{const In=Mn[Tt+"X"],Nn=Mn[Tt+"Y"];Tn.pointer.set(In/Tn.size.width*2-1,-(Nn/Tn.size.height)*2+1),Tn.raycaster.setFromCamera(Tn.pointer,Tn.camera)}}),tn==null||tn(bn)}}),Rn.current.render(reactExports.createElement(fn,null,reactExports.createElement(ErrorBoundary,{set:yn},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:Cn})},lt)))))}),reactExports.useEffect(()=>{const mn=xn.current;if(mn)return()=>unmountComponentAtNode(mn)},[]);const hn=Ct?"none":"auto";return reactExports.createElement("div",_extends({ref:An,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:hn,...St}},an),reactExports.createElement("div",{ref:un,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:xn,style:{display:"block"}},ft)))}),Canvas=reactExports.forwardRef(function(lt,ft){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends({},lt,{ref:ft})))}),v1=new Vector3,v2=new Vector3,v3=new Vector3;function defaultCalculatePosition(dt,lt,ft){const vt=v1.setFromMatrixPosition(dt.matrixWorld);vt.project(lt);const St=ft.width/2,Et=ft.height/2;return[vt.x*St+St,-(vt.y*Et)+Et]}function isObjectBehindCamera(dt,lt){const ft=v1.setFromMatrixPosition(dt.matrixWorld),vt=v2.setFromMatrixPosition(lt.matrixWorld),St=ft.sub(vt),Et=lt.getWorldDirection(v3);return St.angleTo(Et)>Math.PI/2}function isObjectVisible(dt,lt,ft,vt){const St=v1.setFromMatrixPosition(dt.matrixWorld),Et=St.clone();Et.project(lt),ft.setFromCamera(Et,lt);const At=ft.intersectObjects(vt,!0);if(At.length){const Ct=At[0].distance;return St.distanceTo(ft.ray.origin)<Ct}return!0}function objectScale(dt,lt){if(lt instanceof OrthographicCamera)return lt.zoom;if(lt instanceof PerspectiveCamera$1){const ft=v1.setFromMatrixPosition(dt.matrixWorld),vt=v2.setFromMatrixPosition(lt.matrixWorld),St=lt.fov*Math.PI/180,Et=ft.distanceTo(vt);return 1/(2*Math.tan(St/2)*Et)}else return 1}function objectZIndex(dt,lt,ft){if(lt instanceof PerspectiveCamera$1||lt instanceof OrthographicCamera){const vt=v1.setFromMatrixPosition(dt.matrixWorld),St=v2.setFromMatrixPosition(lt.matrixWorld),Et=vt.distanceTo(St),At=(ft[1]-ft[0])/(lt.far-lt.near),Ct=ft[1]-At*lt.far;return Math.round(At*Et+Ct)}}const epsilon=dt=>Math.abs(dt)<1e-10?0:dt;function getCSSMatrix(dt,lt,ft=""){let vt="matrix3d(";for(let St=0;St!==16;St++)vt+=epsilon(lt[St]*dt.elements[St])+(St!==15?",":")");return ft+vt}const getCameraCSSMatrix=(dt=>lt=>getCSSMatrix(lt,dt))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(dt=>(lt,ft)=>getCSSMatrix(lt,dt(ft),"translate(-50%,-50%)"))(dt=>[1/dt,1/dt,1/dt,1,-1/dt,-1/dt,-1/dt,-1,1/dt,1/dt,1/dt,1,1,1,1,1]);function isRefObject(dt){return dt&&typeof dt=="object"&&"current"in dt}const Html=reactExports.forwardRef(({children:dt,eps:lt=.001,style:ft,className:vt,prepend:St,center:Et,fullscreen:At,portal:Ct,distanceFactor:Tt,sprite:Rt=!1,transform:Bt=!1,occlude:Ft,onOcclude:Dt,castShadow:kt,receiveShadow:zt,material:Ht,geometry:en,zIndexRange:Kt=[16777271,0],calculatePosition:Zt=defaultCalculatePosition,as:Wt="div",wrapperClass:tn,pointerEvents:an="auto",...ln},fn)=>{const{gl:un,camera:pn,scene:xn,size:An,raycaster:gn,events:Ln,viewport:Cn}=useThree(),[En]=reactExports.useState(()=>document.createElement(Wt)),yn=reactExports.useRef(),Rn=reactExports.useRef(null),hn=reactExports.useRef(0),mn=reactExports.useRef([0,0]),bn=reactExports.useRef(null),Mn=reactExports.useRef(null),Tn=(Ct==null?void 0:Ct.current)||Ln.connected||un.domElement.parentNode,In=reactExports.useRef(null),Nn=reactExports.useRef(!1),$n=reactExports.useMemo(()=>Ft&&Ft!=="blending"||Array.isArray(Ft)&&Ft.length&&isRefObject(Ft[0]),[Ft]);reactExports.useLayoutEffect(()=>{const Vn=un.domElement;Ft&&Ft==="blending"?(Vn.style.zIndex=`${Math.floor(Kt[0]/2)}`,Vn.style.position="absolute",Vn.style.pointerEvents="none"):(Vn.style.zIndex=null,Vn.style.position=null,Vn.style.pointerEvents=null)},[Ft]),reactExports.useLayoutEffect(()=>{if(Rn.current){const Vn=yn.current=createRoot$1(En);if(xn.updateMatrixWorld(),Bt)En.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Wn=Zt(Rn.current,pn,An);En.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Wn[0]}px,${Wn[1]}px,0);transform-origin:0 0;`}return Tn&&(St?Tn.prepend(En):Tn.appendChild(En)),()=>{Tn&&Tn.removeChild(En),Vn.unmount()}}},[Tn,Bt]),reactExports.useLayoutEffect(()=>{tn&&(En.className=tn)},[tn]);const Gn=reactExports.useMemo(()=>Bt?{position:"absolute",top:0,left:0,width:An.width,height:An.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:Et?"translate3d(-50%,-50%,0)":"none",...At&&{top:-An.height/2,left:-An.width/2,width:An.width,height:An.height},...ft},[ft,Et,At,An,Bt]),Zn=reactExports.useMemo(()=>({position:"absolute",pointerEvents:an}),[an]);reactExports.useLayoutEffect(()=>{if(Nn.current=!1,Bt){var Vn;(Vn=yn.current)==null||Vn.render(reactExports.createElement("div",{ref:bn,style:Gn},reactExports.createElement("div",{ref:Mn,style:Zn},reactExports.createElement("div",{ref:fn,className:vt,style:ft,children:dt}))))}else{var Wn;(Wn=yn.current)==null||Wn.render(reactExports.createElement("div",{ref:fn,style:Gn,className:vt,children:dt}))}});const Un=reactExports.useRef(!0);useFrame(Vn=>{if(Rn.current){pn.updateMatrixWorld(),Rn.current.updateWorldMatrix(!0,!1);const Wn=Bt?mn.current:Zt(Rn.current,pn,An);if(Bt||Math.abs(hn.current-pn.zoom)>lt||Math.abs(mn.current[0]-Wn[0])>lt||Math.abs(mn.current[1]-Wn[1])>lt){const Dn=isObjectBehindCamera(Rn.current,pn);let jn=!1;$n&&(Ft!=="blending"?jn=[xn]:Array.isArray(Ft)&&(jn=Ft.map(Pr=>Pr.current)));const Qn=Un.current;if(jn){const Pr=isObjectVisible(Rn.current,pn,gn,jn);Un.current=Pr&&!Dn}else Un.current=!Dn;Qn!==Un.current&&(Dt?Dt(!Un.current):En.style.display=Un.current?"block":"none");const ir=Math.floor(Kt[0]/2),hr=Ft?$n?[Kt[0],ir]:[ir-1,0]:Kt;if(En.style.zIndex=`${objectZIndex(Rn.current,pn,hr)}`,Bt){const[Pr,tr]=[An.width/2,An.height/2],xr=pn.projectionMatrix.elements[5]*tr,{isOrthographicCamera:Tr,top:mr,left:On,bottom:Bn,right:Yn}=pn,ur=getCameraCSSMatrix(pn.matrixWorldInverse),Cr=Tr?`scale(${xr})translate(${epsilon(-(Yn+On)/2)}px,${epsilon((mr+Bn)/2)}px)`:`translateZ(${xr}px)`;let Ar=Rn.current.matrixWorld;Rt&&(Ar=pn.matrixWorldInverse.clone().transpose().copyPosition(Ar).scale(Rn.current.scale),Ar.elements[3]=Ar.elements[7]=Ar.elements[11]=0,Ar.elements[15]=1),En.style.width=An.width+"px",En.style.height=An.height+"px",En.style.perspective=Tr?"":`${xr}px`,bn.current&&Mn.current&&(bn.current.style.transform=`${Cr}${ur}translate(${Pr}px,${tr}px)`,Mn.current.style.transform=getObjectCSSMatrix(Ar,1/((Tt||10)/400)))}else{const Pr=Tt===void 0?1:objectScale(Rn.current,pn)*Tt;En.style.transform=`translate3d(${Wn[0]}px,${Wn[1]}px,0) scale(${Pr})`}mn.current=Wn,hn.current=pn.zoom}}if(!$n&&In.current&&!Nn.current)if(Bt){if(bn.current){const Wn=bn.current.children[0];if(Wn!=null&&Wn.clientWidth&&Wn!=null&&Wn.clientHeight){const{isOrthographicCamera:Dn}=pn;if(Dn||en)ln.scale&&(Array.isArray(ln.scale)?ln.scale instanceof Vector3?In.current.scale.copy(ln.scale.clone().divideScalar(1)):In.current.scale.set(1/ln.scale[0],1/ln.scale[1],1/ln.scale[2]):In.current.scale.setScalar(1/ln.scale));else{const jn=(Tt||10)/400,Qn=Wn.clientWidth*jn,ir=Wn.clientHeight*jn;In.current.scale.set(Qn,ir,1)}Nn.current=!0}}}else{const Wn=En.children[0];if(Wn!=null&&Wn.clientWidth&&Wn!=null&&Wn.clientHeight){const Dn=1/Cn.factor,jn=Wn.clientWidth*Dn,Qn=Wn.clientHeight*Dn;In.current.scale.set(jn,Qn,1),Nn.current=!0}In.current.lookAt(Vn.camera.position)}});const Xn=reactExports.useMemo(()=>({vertexShader:Bt?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[Bt]);return reactExports.createElement("group",_extends({},ln,{ref:Rn}),Ft&&!$n&&reactExports.createElement("mesh",{castShadow:kt,receiveShadow:zt,ref:In},en||reactExports.createElement("planeGeometry",null),Ht||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:Xn.vertexShader,fragmentShader:Xn.fragmentShader})))});function createStore$2(dt){let lt;const ft=new Set,vt=(Rt,Bt)=>{const Ft=typeof Rt=="function"?Rt(lt):Rt;if(Ft!==lt){const Dt=lt;lt=Bt?Ft:Object.assign({},lt,Ft),ft.forEach(kt=>kt(lt,Dt))}},St=()=>lt,Et=(Rt,Bt=St,Ft=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Dt=Bt(lt);function kt(){const zt=Bt(lt);if(!Ft(Dt,zt)){const Ht=Dt;Rt(Dt=zt,Ht)}}return ft.add(kt),()=>ft.delete(kt)},Tt={setState:vt,getState:St,subscribe:(Rt,Bt,Ft)=>Bt||Ft?Et(Rt,Bt,Ft):(ft.add(Rt),()=>ft.delete(Rt)),destroy:()=>ft.clear()};return lt=dt(vt,St,Tt),Tt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$3(dt){const lt=typeof dt=="function"?createStore$2(dt):dt,ft=(vt=lt.getState,St=Object.is)=>{const[,Et]=reactExports.useReducer(en=>en+1,0),At=lt.getState(),Ct=reactExports.useRef(At),Tt=reactExports.useRef(vt),Rt=reactExports.useRef(St),Bt=reactExports.useRef(!1),Ft=reactExports.useRef();Ft.current===void 0&&(Ft.current=vt(At));let Dt,kt=!1;(Ct.current!==At||Tt.current!==vt||Rt.current!==St||Bt.current)&&(Dt=vt(At),kt=!St(Ft.current,Dt)),useIsomorphicLayoutEffect(()=>{kt&&(Ft.current=Dt),Ct.current=At,Tt.current=vt,Rt.current=St,Bt.current=!1});const zt=reactExports.useRef(At);useIsomorphicLayoutEffect(()=>{const en=()=>{try{const Zt=lt.getState(),Wt=Tt.current(Zt);Rt.current(Ft.current,Wt)||(Ct.current=Zt,Ft.current=Wt,Et())}catch{Bt.current=!0,Et()}},Kt=lt.subscribe(en);return lt.getState()!==zt.current&&en(),Kt},[]);const Ht=kt?Dt:Ft.current;return reactExports.useDebugValue(Ht),Ht};return Object.assign(ft,lt),ft[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const vt=[ft,lt];return{next(){const St=vt.length<=0;return{value:vt.shift(),done:St}}}},ft}let saveLastTotalLoaded=0;const useProgress=create$3(dt=>(DefaultLoadingManager.onStart=(lt,ft,vt)=>{dt({active:!0,item:lt,loaded:ft,total:vt,progress:(ft-saveLastTotalLoaded)/(vt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{dt({active:!1})},DefaultLoadingManager.onError=lt=>dt(ft=>({errors:[...ft.errors,lt]})),DefaultLoadingManager.onProgress=(lt,ft,vt)=>{ft===vt&&(saveLastTotalLoaded=vt),dt({active:!0,item:lt,loaded:ft,total:vt,progress:(ft-saveLastTotalLoaded)/(vt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function mergeRefs(dt){return function(lt){dt.forEach(function(ft){typeof ft=="function"?ft(lt):ft!=null&&(ft.current=lt)})}}function toTrianglesDrawMode(dt,lt){if(lt===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),dt;if(lt===TriangleFanDrawMode||lt===TriangleStripDrawMode){let ft=dt.getIndex();if(ft===null){const At=[],Ct=dt.getAttribute("position");if(Ct!==void 0){for(let Tt=0;Tt<Ct.count;Tt++)At.push(Tt);dt.setIndex(At),ft=dt.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),dt}const vt=ft.count-2,St=[];if(ft)if(lt===TriangleFanDrawMode)for(let At=1;At<=vt;At++)St.push(ft.getX(0)),St.push(ft.getX(At)),St.push(ft.getX(At+1));else for(let At=0;At<vt;At++)At%2===0?(St.push(ft.getX(At)),St.push(ft.getX(At+1)),St.push(ft.getX(At+2))):(St.push(ft.getX(At+2)),St.push(ft.getX(At+1)),St.push(ft.getX(At)));St.length/3!==vt&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const Et=dt.clone();return Et.setIndex(St),Et.clearGroups(),Et}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",lt),dt}const isCubeTexture=dt=>dt&&dt.isCubeTexture;class GroundProjectedEnv extends Mesh{constructor(lt,ft){var vt,St;const Et=isCubeTexture(lt),Ct=((St=Et?(vt=lt.image[0])==null?void 0:vt.width:lt.image.width)!=null?St:1024)/4,Tt=Math.floor(Math.log2(Ct)),Rt=Math.pow(2,Tt),Bt=3*Math.max(Rt,16*7),Ft=4*Rt,Dt=[Et?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/Bt}`,`#define CUBEUV_TEXEL_HEIGHT ${1/Ft}`,`#define CUBEUV_MAX_MIP ${Tt}.0`],kt=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,zt=Dt.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,Ht={map:{value:lt},height:{value:(ft==null?void 0:ft.height)||15},radius:{value:(ft==null?void 0:ft.radius)||100}},en=new IcosahedronGeometry(1,16),Kt=new ShaderMaterial({uniforms:Ht,fragmentShader:zt,vertexShader:kt,side:DoubleSide});super(en,Kt)}set radius(lt){this.material.uniforms.radius.value=lt}get radius(){return this.material.uniforms.radius.value}set height(lt){this.material.uniforms.height.value=lt}get height(){return this.material.uniforms.height.value}}var __defProp$7=Object.defineProperty,__defNormalProp$7=(dt,lt,ft)=>lt in dt?__defProp$7(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__publicField$6=(dt,lt,ft)=>(__defNormalProp$7(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);const moduloWrapAround=(dt,lt)=>(dt%lt+lt)%lt;let OrbitControls$1=class extends EventDispatcher{constructor(lt,ft){super(),__publicField$6(this,"object"),__publicField$6(this,"domElement"),__publicField$6(this,"enabled",!0),__publicField$6(this,"target",new Vector3),__publicField$6(this,"minDistance",0),__publicField$6(this,"maxDistance",1/0),__publicField$6(this,"minZoom",0),__publicField$6(this,"maxZoom",1/0),__publicField$6(this,"minPolarAngle",0),__publicField$6(this,"maxPolarAngle",Math.PI),__publicField$6(this,"minAzimuthAngle",-1/0),__publicField$6(this,"maxAzimuthAngle",1/0),__publicField$6(this,"enableDamping",!1),__publicField$6(this,"dampingFactor",.05),__publicField$6(this,"enableZoom",!0),__publicField$6(this,"zoomSpeed",1),__publicField$6(this,"enableRotate",!0),__publicField$6(this,"rotateSpeed",1),__publicField$6(this,"enablePan",!0),__publicField$6(this,"panSpeed",1),__publicField$6(this,"screenSpacePanning",!0),__publicField$6(this,"keyPanSpeed",7),__publicField$6(this,"autoRotate",!1),__publicField$6(this,"autoRotateSpeed",2),__publicField$6(this,"reverseOrbit",!1),__publicField$6(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField$6(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField$6(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField$6(this,"target0"),__publicField$6(this,"position0"),__publicField$6(this,"zoom0"),__publicField$6(this,"_domElementKeyEvents",null),__publicField$6(this,"getPolarAngle"),__publicField$6(this,"getAzimuthalAngle"),__publicField$6(this,"setPolarAngle"),__publicField$6(this,"setAzimuthalAngle"),__publicField$6(this,"getDistance"),__publicField$6(this,"listenToKeyEvents"),__publicField$6(this,"saveState"),__publicField$6(this,"reset"),__publicField$6(this,"update"),__publicField$6(this,"connect"),__publicField$6(this,"dispose"),this.object=lt,this.domElement=ft,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Bt.phi,this.getAzimuthalAngle=()=>Bt.theta,this.setPolarAngle=Jn=>{let cr=moduloWrapAround(Jn,2*Math.PI),Sr=Bt.phi;Sr<0&&(Sr+=2*Math.PI),cr<0&&(cr+=2*Math.PI);let _r=Math.abs(cr-Sr);2*Math.PI-_r<_r&&(cr<Sr?cr+=2*Math.PI:Sr+=2*Math.PI),Ft.phi=cr-Sr,vt.update()},this.setAzimuthalAngle=Jn=>{let cr=moduloWrapAround(Jn,2*Math.PI),Sr=Bt.theta;Sr<0&&(Sr+=2*Math.PI),cr<0&&(cr+=2*Math.PI);let _r=Math.abs(cr-Sr);2*Math.PI-_r<_r&&(cr<Sr?cr+=2*Math.PI:Sr+=2*Math.PI),Ft.theta=cr-Sr,vt.update()},this.getDistance=()=>vt.object.position.distanceTo(vt.target),this.listenToKeyEvents=Jn=>{Jn.addEventListener("keydown",Yn),this._domElementKeyEvents=Jn},this.saveState=()=>{vt.target0.copy(vt.target),vt.position0.copy(vt.object.position),vt.zoom0=vt.object.zoom},this.reset=()=>{vt.target.copy(vt.target0),vt.object.position.copy(vt.position0),vt.object.zoom=vt.zoom0,vt.object.updateProjectionMatrix(),vt.dispatchEvent(St),vt.update(),Tt=Ct.NONE},this.update=(()=>{const Jn=new Vector3,cr=new Quaternion().setFromUnitVectors(lt.up,new Vector3(0,1,0)),Sr=cr.clone().invert(),_r=new Vector3,Dr=new Quaternion,Wr=2*Math.PI;return function(){const qn=vt.object.position;Jn.copy(qn).sub(vt.target),Jn.applyQuaternion(cr),Bt.setFromVector3(Jn),vt.autoRotate&&Tt===Ct.NONE&&gn(xn()),vt.enableDamping?(Bt.theta+=Ft.theta*vt.dampingFactor,Bt.phi+=Ft.phi*vt.dampingFactor):(Bt.theta+=Ft.theta,Bt.phi+=Ft.phi);let dr=vt.minAzimuthAngle,Rr=vt.maxAzimuthAngle;return isFinite(dr)&&isFinite(Rr)&&(dr<-Math.PI?dr+=Wr:dr>Math.PI&&(dr-=Wr),Rr<-Math.PI?Rr+=Wr:Rr>Math.PI&&(Rr-=Wr),dr<=Rr?Bt.theta=Math.max(dr,Math.min(Rr,Bt.theta)):Bt.theta=Bt.theta>(dr+Rr)/2?Math.max(dr,Bt.theta):Math.min(Rr,Bt.theta)),Bt.phi=Math.max(vt.minPolarAngle,Math.min(vt.maxPolarAngle,Bt.phi)),Bt.makeSafe(),Bt.radius*=Dt,Bt.radius=Math.max(vt.minDistance,Math.min(vt.maxDistance,Bt.radius)),vt.enableDamping===!0?vt.target.addScaledVector(kt,vt.dampingFactor):vt.target.add(kt),Jn.setFromSpherical(Bt),Jn.applyQuaternion(Sr),qn.copy(vt.target).add(Jn),vt.object.lookAt(vt.target),vt.enableDamping===!0?(Ft.theta*=1-vt.dampingFactor,Ft.phi*=1-vt.dampingFactor,kt.multiplyScalar(1-vt.dampingFactor)):(Ft.set(0,0,0),kt.set(0,0,0)),Dt=1,zt||_r.distanceToSquared(vt.object.position)>Rt||8*(1-Dr.dot(vt.object.quaternion))>Rt?(vt.dispatchEvent(St),_r.copy(vt.object.position),Dr.copy(vt.object.quaternion),zt=!1,!0):!1}})(),this.connect=Jn=>{Jn===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),vt.domElement=Jn,vt.domElement.style.touchAction="none",vt.domElement.addEventListener("contextmenu",Ar),vt.domElement.addEventListener("pointerdown",Pr),vt.domElement.addEventListener("pointercancel",Tr),vt.domElement.addEventListener("wheel",Bn)},this.dispose=()=>{var Jn,cr,Sr,_r,Dr,Wr;(Jn=vt.domElement)==null||Jn.removeEventListener("contextmenu",Ar),(cr=vt.domElement)==null||cr.removeEventListener("pointerdown",Pr),(Sr=vt.domElement)==null||Sr.removeEventListener("pointercancel",Tr),(_r=vt.domElement)==null||_r.removeEventListener("wheel",Bn),(Dr=vt.domElement)==null||Dr.ownerDocument.removeEventListener("pointermove",tr),(Wr=vt.domElement)==null||Wr.ownerDocument.removeEventListener("pointerup",xr),vt._domElementKeyEvents!==null&&vt._domElementKeyEvents.removeEventListener("keydown",Yn)};const vt=this,St={type:"change"},Et={type:"start"},At={type:"end"},Ct={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Tt=Ct.NONE;const Rt=1e-6,Bt=new Spherical,Ft=new Spherical;let Dt=1;const kt=new Vector3;let zt=!1;const Ht=new Vector2,en=new Vector2,Kt=new Vector2,Zt=new Vector2,Wt=new Vector2,tn=new Vector2,an=new Vector2,ln=new Vector2,fn=new Vector2,un=[],pn={};function xn(){return 2*Math.PI/60/60*vt.autoRotateSpeed}function An(){return Math.pow(.95,vt.zoomSpeed)}function gn(Jn){vt.reverseOrbit?Ft.theta+=Jn:Ft.theta-=Jn}function Ln(Jn){vt.reverseOrbit?Ft.phi+=Jn:Ft.phi-=Jn}const Cn=(()=>{const Jn=new Vector3;return function(Sr,_r){Jn.setFromMatrixColumn(_r,0),Jn.multiplyScalar(-Sr),kt.add(Jn)}})(),En=(()=>{const Jn=new Vector3;return function(Sr,_r){vt.screenSpacePanning===!0?Jn.setFromMatrixColumn(_r,1):(Jn.setFromMatrixColumn(_r,0),Jn.crossVectors(vt.object.up,Jn)),Jn.multiplyScalar(Sr),kt.add(Jn)}})(),yn=(()=>{const Jn=new Vector3;return function(Sr,_r){const Dr=vt.domElement;if(Dr&&vt.object instanceof PerspectiveCamera$1&&vt.object.isPerspectiveCamera){const Wr=vt.object.position;Jn.copy(Wr).sub(vt.target);let es=Jn.length();es*=Math.tan(vt.object.fov/2*Math.PI/180),Cn(2*Sr*es/Dr.clientHeight,vt.object.matrix),En(2*_r*es/Dr.clientHeight,vt.object.matrix)}else Dr&&vt.object instanceof OrthographicCamera&&vt.object.isOrthographicCamera?(Cn(Sr*(vt.object.right-vt.object.left)/vt.object.zoom/Dr.clientWidth,vt.object.matrix),En(_r*(vt.object.top-vt.object.bottom)/vt.object.zoom/Dr.clientHeight,vt.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),vt.enablePan=!1)}})();function Rn(Jn){vt.object instanceof PerspectiveCamera$1&&vt.object.isPerspectiveCamera?Dt/=Jn:vt.object instanceof OrthographicCamera&&vt.object.isOrthographicCamera?(vt.object.zoom=Math.max(vt.minZoom,Math.min(vt.maxZoom,vt.object.zoom*Jn)),vt.object.updateProjectionMatrix(),zt=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),vt.enableZoom=!1)}function hn(Jn){vt.object instanceof PerspectiveCamera$1&&vt.object.isPerspectiveCamera?Dt*=Jn:vt.object instanceof OrthographicCamera&&vt.object.isOrthographicCamera?(vt.object.zoom=Math.max(vt.minZoom,Math.min(vt.maxZoom,vt.object.zoom/Jn)),vt.object.updateProjectionMatrix(),zt=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),vt.enableZoom=!1)}function mn(Jn){Ht.set(Jn.clientX,Jn.clientY)}function bn(Jn){an.set(Jn.clientX,Jn.clientY)}function Mn(Jn){Zt.set(Jn.clientX,Jn.clientY)}function Tn(Jn){en.set(Jn.clientX,Jn.clientY),Kt.subVectors(en,Ht).multiplyScalar(vt.rotateSpeed);const cr=vt.domElement;cr&&(gn(2*Math.PI*Kt.x/cr.clientHeight),Ln(2*Math.PI*Kt.y/cr.clientHeight)),Ht.copy(en),vt.update()}function In(Jn){ln.set(Jn.clientX,Jn.clientY),fn.subVectors(ln,an),fn.y>0?Rn(An()):fn.y<0&&hn(An()),an.copy(ln),vt.update()}function Nn(Jn){Wt.set(Jn.clientX,Jn.clientY),tn.subVectors(Wt,Zt).multiplyScalar(vt.panSpeed),yn(tn.x,tn.y),Zt.copy(Wt),vt.update()}function $n(Jn){Jn.deltaY<0?hn(An()):Jn.deltaY>0&&Rn(An()),vt.update()}function Gn(Jn){let cr=!1;switch(Jn.code){case vt.keys.UP:yn(0,vt.keyPanSpeed),cr=!0;break;case vt.keys.BOTTOM:yn(0,-vt.keyPanSpeed),cr=!0;break;case vt.keys.LEFT:yn(vt.keyPanSpeed,0),cr=!0;break;case vt.keys.RIGHT:yn(-vt.keyPanSpeed,0),cr=!0;break}cr&&(Jn.preventDefault(),vt.update())}function Zn(){if(un.length==1)Ht.set(un[0].pageX,un[0].pageY);else{const Jn=.5*(un[0].pageX+un[1].pageX),cr=.5*(un[0].pageY+un[1].pageY);Ht.set(Jn,cr)}}function Un(){if(un.length==1)Zt.set(un[0].pageX,un[0].pageY);else{const Jn=.5*(un[0].pageX+un[1].pageX),cr=.5*(un[0].pageY+un[1].pageY);Zt.set(Jn,cr)}}function Xn(){const Jn=un[0].pageX-un[1].pageX,cr=un[0].pageY-un[1].pageY,Sr=Math.sqrt(Jn*Jn+cr*cr);an.set(0,Sr)}function Vn(){vt.enableZoom&&Xn(),vt.enablePan&&Un()}function Wn(){vt.enableZoom&&Xn(),vt.enableRotate&&Zn()}function Dn(Jn){if(un.length==1)en.set(Jn.pageX,Jn.pageY);else{const Sr=kr(Jn),_r=.5*(Jn.pageX+Sr.x),Dr=.5*(Jn.pageY+Sr.y);en.set(_r,Dr)}Kt.subVectors(en,Ht).multiplyScalar(vt.rotateSpeed);const cr=vt.domElement;cr&&(gn(2*Math.PI*Kt.x/cr.clientHeight),Ln(2*Math.PI*Kt.y/cr.clientHeight)),Ht.copy(en)}function jn(Jn){if(un.length==1)Wt.set(Jn.pageX,Jn.pageY);else{const cr=kr(Jn),Sr=.5*(Jn.pageX+cr.x),_r=.5*(Jn.pageY+cr.y);Wt.set(Sr,_r)}tn.subVectors(Wt,Zt).multiplyScalar(vt.panSpeed),yn(tn.x,tn.y),Zt.copy(Wt)}function Qn(Jn){const cr=kr(Jn),Sr=Jn.pageX-cr.x,_r=Jn.pageY-cr.y,Dr=Math.sqrt(Sr*Sr+_r*_r);ln.set(0,Dr),fn.set(0,Math.pow(ln.y/an.y,vt.zoomSpeed)),Rn(fn.y),an.copy(ln)}function ir(Jn){vt.enableZoom&&Qn(Jn),vt.enablePan&&jn(Jn)}function hr(Jn){vt.enableZoom&&Qn(Jn),vt.enableRotate&&Dn(Jn)}function Pr(Jn){var cr,Sr;vt.enabled!==!1&&(un.length===0&&((cr=vt.domElement)==null||cr.ownerDocument.addEventListener("pointermove",tr),(Sr=vt.domElement)==null||Sr.ownerDocument.addEventListener("pointerup",xr)),Fr(Jn),Jn.pointerType==="touch"?ur(Jn):mr(Jn))}function tr(Jn){vt.enabled!==!1&&(Jn.pointerType==="touch"?Cr(Jn):On(Jn))}function xr(Jn){var cr,Sr,_r;Br(Jn),un.length===0&&((cr=vt.domElement)==null||cr.releasePointerCapture(Jn.pointerId),(Sr=vt.domElement)==null||Sr.ownerDocument.removeEventListener("pointermove",tr),(_r=vt.domElement)==null||_r.ownerDocument.removeEventListener("pointerup",xr)),vt.dispatchEvent(At),Tt=Ct.NONE}function Tr(Jn){Br(Jn)}function mr(Jn){let cr;switch(Jn.button){case 0:cr=vt.mouseButtons.LEFT;break;case 1:cr=vt.mouseButtons.MIDDLE;break;case 2:cr=vt.mouseButtons.RIGHT;break;default:cr=-1}switch(cr){case MOUSE.DOLLY:if(vt.enableZoom===!1)return;bn(Jn),Tt=Ct.DOLLY;break;case MOUSE.ROTATE:if(Jn.ctrlKey||Jn.metaKey||Jn.shiftKey){if(vt.enablePan===!1)return;Mn(Jn),Tt=Ct.PAN}else{if(vt.enableRotate===!1)return;mn(Jn),Tt=Ct.ROTATE}break;case MOUSE.PAN:if(Jn.ctrlKey||Jn.metaKey||Jn.shiftKey){if(vt.enableRotate===!1)return;mn(Jn),Tt=Ct.ROTATE}else{if(vt.enablePan===!1)return;Mn(Jn),Tt=Ct.PAN}break;default:Tt=Ct.NONE}Tt!==Ct.NONE&&vt.dispatchEvent(Et)}function On(Jn){if(vt.enabled!==!1)switch(Tt){case Ct.ROTATE:if(vt.enableRotate===!1)return;Tn(Jn);break;case Ct.DOLLY:if(vt.enableZoom===!1)return;In(Jn);break;case Ct.PAN:if(vt.enablePan===!1)return;Nn(Jn);break}}function Bn(Jn){vt.enabled===!1||vt.enableZoom===!1||Tt!==Ct.NONE&&Tt!==Ct.ROTATE||(Jn.preventDefault(),vt.dispatchEvent(Et),$n(Jn),vt.dispatchEvent(At))}function Yn(Jn){vt.enabled===!1||vt.enablePan===!1||Gn(Jn)}function ur(Jn){switch(pr(Jn),un.length){case 1:switch(vt.touches.ONE){case TOUCH.ROTATE:if(vt.enableRotate===!1)return;Zn(),Tt=Ct.TOUCH_ROTATE;break;case TOUCH.PAN:if(vt.enablePan===!1)return;Un(),Tt=Ct.TOUCH_PAN;break;default:Tt=Ct.NONE}break;case 2:switch(vt.touches.TWO){case TOUCH.DOLLY_PAN:if(vt.enableZoom===!1&&vt.enablePan===!1)return;Vn(),Tt=Ct.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(vt.enableZoom===!1&&vt.enableRotate===!1)return;Wn(),Tt=Ct.TOUCH_DOLLY_ROTATE;break;default:Tt=Ct.NONE}break;default:Tt=Ct.NONE}Tt!==Ct.NONE&&vt.dispatchEvent(Et)}function Cr(Jn){switch(pr(Jn),Tt){case Ct.TOUCH_ROTATE:if(vt.enableRotate===!1)return;Dn(Jn),vt.update();break;case Ct.TOUCH_PAN:if(vt.enablePan===!1)return;jn(Jn),vt.update();break;case Ct.TOUCH_DOLLY_PAN:if(vt.enableZoom===!1&&vt.enablePan===!1)return;ir(Jn),vt.update();break;case Ct.TOUCH_DOLLY_ROTATE:if(vt.enableZoom===!1&&vt.enableRotate===!1)return;hr(Jn),vt.update();break;default:Tt=Ct.NONE}}function Ar(Jn){vt.enabled!==!1&&Jn.preventDefault()}function Fr(Jn){un.push(Jn)}function Br(Jn){delete pn[Jn.pointerId];for(let cr=0;cr<un.length;cr++)if(un[cr].pointerId==Jn.pointerId){un.splice(cr,1);return}}function pr(Jn){let cr=pn[Jn.pointerId];cr===void 0&&(cr=new Vector2,pn[Jn.pointerId]=cr),cr.set(Jn.pageX,Jn.pageY)}function kr(Jn){const cr=Jn.pointerId===un[0].pointerId?un[1]:un[0];return pn[cr.pointerId]}ft!==void 0&&this.connect(ft),this.update()}};var __defProp$6=Object.defineProperty,__defNormalProp$6=(dt,lt,ft)=>lt in dt?__defProp$6(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__publicField$5=(dt,lt,ft)=>(__defNormalProp$6(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);class Pass{constructor(){__publicField$5(this,"enabled",!0),__publicField$5(this,"needsSwap",!0),__publicField$5(this,"clear",!1),__publicField$5(this,"renderToScreen",!1)}setSize(lt,ft){}render(lt,ft,vt,St,Et){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class FullScreenQuad{constructor(lt){__publicField$5(this,"camera",new OrthographicCamera(-1,1,1,-1,0,1)),__publicField$5(this,"geometry",new PlaneGeometry(2,2)),__publicField$5(this,"mesh"),this.mesh=new Mesh(this.geometry,lt)}get material(){return this.mesh.material}set material(lt){this.mesh.material=lt}dispose(){this.mesh.geometry.dispose()}render(lt){lt.render(this.mesh,this.camera)}}var __defProp$5=Object.defineProperty,__defNormalProp$5=(dt,lt,ft)=>lt in dt?__defProp$5(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__publicField$4=(dt,lt,ft)=>(__defNormalProp$5(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);class ShaderPass extends Pass{constructor(lt,ft="tDiffuse"){super(),__publicField$4(this,"textureID"),__publicField$4(this,"uniforms"),__publicField$4(this,"material"),__publicField$4(this,"fsQuad"),this.textureID=ft,lt instanceof ShaderMaterial?(this.uniforms=lt.uniforms,this.material=lt):(this.uniforms=UniformsUtils.clone(lt.uniforms),this.material=new ShaderMaterial({defines:Object.assign({},lt.defines),uniforms:this.uniforms,vertexShader:lt.vertexShader,fragmentShader:lt.fragmentShader})),this.fsQuad=new FullScreenQuad(this.material)}render(lt,ft,vt){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=vt.texture),this.fsQuad.material=this.material,this.renderToScreen?(lt.setRenderTarget(null),this.fsQuad.render(lt)):(lt.setRenderTarget(ft),this.clear&&lt.clear(lt.autoClearColor,lt.autoClearDepth,lt.autoClearStencil),this.fsQuad.render(lt))}}const CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Color(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)};var __defProp$4=Object.defineProperty,__defNormalProp$4=(dt,lt,ft)=>lt in dt?__defProp$4(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__publicField$3=(dt,lt,ft)=>(__defNormalProp$4(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);const _UnrealBloomPass=class extends Pass{constructor(dt,lt,ft,vt){super(),this.strength=lt!==void 0?lt:1,this.radius=ft,this.threshold=vt,this.resolution=dt!==void 0?new Vector2(dt.x,dt.y):new Vector2(256,256),this.clearColor=new Color(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let St=Math.round(this.resolution.x/2),Et=Math.round(this.resolution.y/2);this.renderTargetBright=new WebGLRenderTarget(St,Et,{type:HalfFloatType}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let Bt=0;Bt<this.nMips;Bt++){const Ft=new WebGLRenderTarget(St,Et,{type:HalfFloatType});Ft.texture.name="UnrealBloomPass.h"+Bt,Ft.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(Ft);const Dt=new WebGLRenderTarget(St,Et,{type:HalfFloatType});Dt.texture.name="UnrealBloomPass.v"+Bt,Dt.texture.generateMipmaps=!1,this.renderTargetsVertical.push(Dt),St=Math.round(St/2),Et=Math.round(Et/2)}const At=LuminosityHighPassShader;this.highPassUniforms=UniformsUtils.clone(At.uniforms),this.highPassUniforms.luminosityThreshold.value=vt,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:At.vertexShader,fragmentShader:At.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const Ct=[3,5,7,9,11];St=Math.round(this.resolution.x/2),Et=Math.round(this.resolution.y/2);for(let Bt=0;Bt<this.nMips;Bt++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(Ct[Bt])),this.separableBlurMaterials[Bt].uniforms.texSize.value=new Vector2(St,Et),St=Math.round(St/2),Et=Math.round(Et/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=lt,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const Tt=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=Tt,this.bloomTintColors=[new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const Rt=CopyShader;this.copyUniforms=UniformsUtils.clone(Rt.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ShaderMaterial({uniforms:this.copyUniforms,vertexShader:Rt.vertexShader,fragmentShader:Rt.fragmentShader,blending:AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Color,this.oldClearAlpha=1,this.basic=new MeshBasicMaterial,this.fsQuad=new FullScreenQuad(null)}dispose(){for(let dt=0;dt<this.renderTargetsHorizontal.length;dt++)this.renderTargetsHorizontal[dt].dispose();for(let dt=0;dt<this.renderTargetsVertical.length;dt++)this.renderTargetsVertical[dt].dispose();this.renderTargetBright.dispose();for(let dt=0;dt<this.separableBlurMaterials.length;dt++)this.separableBlurMaterials[dt].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(dt,lt){let ft=Math.round(dt/2),vt=Math.round(lt/2);this.renderTargetBright.setSize(ft,vt);for(let St=0;St<this.nMips;St++)this.renderTargetsHorizontal[St].setSize(ft,vt),this.renderTargetsVertical[St].setSize(ft,vt),this.separableBlurMaterials[St].uniforms.texSize.value=new Vector2(ft,vt),ft=Math.round(ft/2),vt=Math.round(vt/2)}render(dt,lt,ft,vt,St){dt.getClearColor(this._oldClearColor),this.oldClearAlpha=dt.getClearAlpha();const Et=dt.autoClear;dt.autoClear=!1,dt.setClearColor(this.clearColor,0),St&&dt.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=ft.texture,dt.setRenderTarget(null),dt.clear(),this.fsQuad.render(dt)),this.highPassUniforms.tDiffuse.value=ft.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,dt.setRenderTarget(this.renderTargetBright),dt.clear(),this.fsQuad.render(dt);let At=this.renderTargetBright;for(let Ct=0;Ct<this.nMips;Ct++)this.fsQuad.material=this.separableBlurMaterials[Ct],this.separableBlurMaterials[Ct].uniforms.colorTexture.value=At.texture,this.separableBlurMaterials[Ct].uniforms.direction.value=_UnrealBloomPass.BlurDirectionX,dt.setRenderTarget(this.renderTargetsHorizontal[Ct]),dt.clear(),this.fsQuad.render(dt),this.separableBlurMaterials[Ct].uniforms.colorTexture.value=this.renderTargetsHorizontal[Ct].texture,this.separableBlurMaterials[Ct].uniforms.direction.value=_UnrealBloomPass.BlurDirectionY,dt.setRenderTarget(this.renderTargetsVertical[Ct]),dt.clear(),this.fsQuad.render(dt),At=this.renderTargetsVertical[Ct];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,dt.setRenderTarget(this.renderTargetsHorizontal[0]),dt.clear(),this.fsQuad.render(dt),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,St&&dt.state.buffers.stencil.setTest(!0),this.renderToScreen?(dt.setRenderTarget(null),this.fsQuad.render(dt)):(dt.setRenderTarget(ft),this.fsQuad.render(dt)),dt.setClearColor(this._oldClearColor,this.oldClearAlpha),dt.autoClear=Et}getSeperableBlurMaterial(dt){return new ShaderMaterial({defines:{KERNEL_RADIUS:dt,SIGMA:dt},uniforms:{colorTexture:{value:null},texSize:{value:new Vector2(.5,.5)},direction:{value:new Vector2(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(dt){return new ShaderMaterial({defines:{NUM_MIPS:dt},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let UnrealBloomPass=_UnrealBloomPass;__publicField$3(UnrealBloomPass,"BlurDirectionX",new Vector2(1,0));__publicField$3(UnrealBloomPass,"BlurDirectionY",new Vector2(0,1));var __defProp$3=Object.defineProperty,__defNormalProp$3=(dt,lt,ft)=>lt in dt?__defProp$3(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__publicField$2=(dt,lt,ft)=>(__defNormalProp$3(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);class MaskPass extends Pass{constructor(lt,ft){super(),__publicField$2(this,"scene"),__publicField$2(this,"camera"),__publicField$2(this,"inverse"),this.scene=lt,this.camera=ft,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(lt,ft,vt){const St=lt.getContext(),Et=lt.state;Et.buffers.color.setMask(!1),Et.buffers.depth.setMask(!1),Et.buffers.color.setLocked(!0),Et.buffers.depth.setLocked(!0);let At,Ct;this.inverse?(At=0,Ct=1):(At=1,Ct=0),Et.buffers.stencil.setTest(!0),Et.buffers.stencil.setOp(St.REPLACE,St.REPLACE,St.REPLACE),Et.buffers.stencil.setFunc(St.ALWAYS,At,4294967295),Et.buffers.stencil.setClear(Ct),Et.buffers.stencil.setLocked(!0),lt.setRenderTarget(vt),this.clear&&lt.clear(),lt.render(this.scene,this.camera),lt.setRenderTarget(ft),this.clear&&lt.clear(),lt.render(this.scene,this.camera),Et.buffers.color.setLocked(!1),Et.buffers.depth.setLocked(!1),Et.buffers.stencil.setLocked(!1),Et.buffers.stencil.setFunc(St.EQUAL,1,4294967295),Et.buffers.stencil.setOp(St.KEEP,St.KEEP,St.KEEP),Et.buffers.stencil.setLocked(!0)}}class ClearMaskPass extends Pass{constructor(){super(),this.needsSwap=!1}render(lt){lt.state.buffers.stencil.setLocked(!1),lt.state.buffers.stencil.setTest(!1)}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(dt,lt,ft)=>lt in dt?__defProp$2(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__publicField$1=(dt,lt,ft)=>(__defNormalProp$2(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);class EffectComposer{constructor(lt,ft){if(__publicField$1(this,"renderer"),__publicField$1(this,"_pixelRatio"),__publicField$1(this,"_width"),__publicField$1(this,"_height"),__publicField$1(this,"renderTarget1"),__publicField$1(this,"renderTarget2"),__publicField$1(this,"writeBuffer"),__publicField$1(this,"readBuffer"),__publicField$1(this,"renderToScreen"),__publicField$1(this,"passes",[]),__publicField$1(this,"copyPass"),__publicField$1(this,"clock"),this.renderer=lt,ft===void 0){const vt={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat},St=lt.getSize(new Vector2);this._pixelRatio=lt.getPixelRatio(),this._width=St.width,this._height=St.height,ft=new WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,vt),ft.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=ft.width,this._height=ft.height;this.renderTarget1=ft,this.renderTarget2=ft.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,CopyShader===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),ShaderPass===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new ShaderPass(CopyShader),this.clock=new Clock}swapBuffers(){const lt=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=lt}addPass(lt){this.passes.push(lt),lt.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(lt,ft){this.passes.splice(ft,0,lt),lt.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(lt){const ft=this.passes.indexOf(lt);ft!==-1&&this.passes.splice(ft,1)}isLastEnabledPass(lt){for(let ft=lt+1;ft<this.passes.length;ft++)if(this.passes[ft].enabled)return!1;return!0}render(lt){lt===void 0&&(lt=this.clock.getDelta());const ft=this.renderer.getRenderTarget();let vt=!1;const St=this.passes.length;for(let Et=0;Et<St;Et++){const At=this.passes[Et];if(At.enabled!==!1){if(At.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(Et),At.render(this.renderer,this.writeBuffer,this.readBuffer,lt,vt),At.needsSwap){if(vt){const Ct=this.renderer.getContext(),Tt=this.renderer.state.buffers.stencil;Tt.setFunc(Ct.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,lt),Tt.setFunc(Ct.EQUAL,1,4294967295)}this.swapBuffers()}MaskPass!==void 0&&(At instanceof MaskPass?vt=!0:At instanceof ClearMaskPass&&(vt=!1))}}this.renderer.setRenderTarget(ft)}reset(lt){if(lt===void 0){const ft=this.renderer.getSize(new Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=ft.width,this._height=ft.height,lt=this.renderTarget1.clone(),lt.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=lt,this.renderTarget2=lt.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(lt,ft){this._width=lt,this._height=ft;const vt=this._width*this._pixelRatio,St=this._height*this._pixelRatio;this.renderTarget1.setSize(vt,St),this.renderTarget2.setSize(vt,St);for(let Et=0;Et<this.passes.length;Et++)this.passes[Et].setSize(vt,St)}setPixelRatio(lt){this._pixelRatio=lt,this.setSize(this._width,this._height)}}var __defProp$1=Object.defineProperty,__defNormalProp$1=(dt,lt,ft)=>lt in dt?__defProp$1(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__publicField=(dt,lt,ft)=>(__defNormalProp$1(dt,typeof lt!="symbol"?lt+"":lt,ft),ft);class RenderPass extends Pass{constructor(lt,ft,vt,St,Et=0){super(),__publicField(this,"scene"),__publicField(this,"camera"),__publicField(this,"overrideMaterial"),__publicField(this,"clearColor"),__publicField(this,"clearAlpha"),__publicField(this,"clearDepth",!1),__publicField(this,"_oldClearColor",new Color),this.scene=lt,this.camera=ft,this.overrideMaterial=vt,this.clearColor=St,this.clearAlpha=Et,this.clear=!0,this.needsSwap=!1}render(lt,ft,vt){let St=lt.autoClear;lt.autoClear=!1;let Et,At=null;this.overrideMaterial!==void 0&&(At=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(lt.getClearColor(this._oldClearColor),Et=lt.getClearAlpha(),lt.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&lt.clearDepth(),lt.setRenderTarget(this.renderToScreen?null:vt),this.clear&&lt.clear(lt.autoClearColor,lt.autoClearDepth,lt.autoClearStencil),lt.render(this.scene,this.camera),this.clearColor&&lt.setClearColor(this._oldClearColor,Et),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=At),lt.autoClear=St}}class GLTFLoader extends Loader{constructor(lt){super(lt),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(ft){return new GLTFMaterialsClearcoatExtension(ft)}),this.register(function(ft){return new GLTFTextureBasisUExtension(ft)}),this.register(function(ft){return new GLTFTextureWebPExtension(ft)}),this.register(function(ft){return new GLTFTextureAVIFExtension(ft)}),this.register(function(ft){return new GLTFMaterialsSheenExtension(ft)}),this.register(function(ft){return new GLTFMaterialsTransmissionExtension(ft)}),this.register(function(ft){return new GLTFMaterialsVolumeExtension(ft)}),this.register(function(ft){return new GLTFMaterialsIorExtension(ft)}),this.register(function(ft){return new GLTFMaterialsEmissiveStrengthExtension(ft)}),this.register(function(ft){return new GLTFMaterialsSpecularExtension(ft)}),this.register(function(ft){return new GLTFMaterialsIridescenceExtension(ft)}),this.register(function(ft){return new GLTFMaterialsAnisotropyExtension(ft)}),this.register(function(ft){return new GLTFLightsExtension(ft)}),this.register(function(ft){return new GLTFMeshoptCompression(ft)}),this.register(function(ft){return new GLTFMeshGpuInstancing(ft)})}load(lt,ft,vt,St){const Et=this;let At;this.resourcePath!==""?At=this.resourcePath:this.path!==""?At=this.path:At=LoaderUtils.extractUrlBase(lt),this.manager.itemStart(lt);const Ct=function(Rt){St?St(Rt):console.error(Rt),Et.manager.itemError(lt),Et.manager.itemEnd(lt)},Tt=new FileLoader(this.manager);Tt.setPath(this.path),Tt.setResponseType("arraybuffer"),Tt.setRequestHeader(this.requestHeader),Tt.setWithCredentials(this.withCredentials),Tt.load(lt,function(Rt){try{Et.parse(Rt,At,function(Bt){ft(Bt),Et.manager.itemEnd(lt)},Ct)}catch(Bt){Ct(Bt)}},vt,Ct)}setDRACOLoader(lt){return this.dracoLoader=lt,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(lt){return this.ktx2Loader=lt,this}setMeshoptDecoder(lt){return this.meshoptDecoder=lt,this}register(lt){return this.pluginCallbacks.indexOf(lt)===-1&&this.pluginCallbacks.push(lt),this}unregister(lt){return this.pluginCallbacks.indexOf(lt)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(lt),1),this}parse(lt,ft,vt,St){let Et;const At={},Ct={};if(typeof lt=="string")Et=JSON.parse(lt);else if(lt instanceof ArrayBuffer)if(LoaderUtils.decodeText(new Uint8Array(lt.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{At[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(lt)}catch(Bt){St&&St(Bt);return}Et=JSON.parse(At[EXTENSIONS.KHR_BINARY_GLTF].content)}else Et=JSON.parse(LoaderUtils.decodeText(new Uint8Array(lt)));else Et=lt;if(Et.asset===void 0||Et.asset.version[0]<2){St&&St(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const Tt=new GLTFParser(Et,{path:ft||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Tt.fileLoader.setRequestHeader(this.requestHeader);for(let Rt=0;Rt<this.pluginCallbacks.length;Rt++){const Bt=this.pluginCallbacks[Rt](Tt);Ct[Bt.name]=Bt,At[Bt.name]=!0}if(Et.extensionsUsed)for(let Rt=0;Rt<Et.extensionsUsed.length;++Rt){const Bt=Et.extensionsUsed[Rt],Ft=Et.extensionsRequired||[];switch(Bt){case EXTENSIONS.KHR_MATERIALS_UNLIT:At[Bt]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:At[Bt]=new GLTFDracoMeshCompressionExtension(Et,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:At[Bt]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:At[Bt]=new GLTFMeshQuantizationExtension;break;default:Ft.indexOf(Bt)>=0&&Ct[Bt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+Bt+'".')}}Tt.setExtensions(At),Tt.setPlugins(Ct),Tt.parse(vt,St)}parseAsync(lt,ft){const vt=this;return new Promise(function(St,Et){vt.parse(lt,ft,St,Et)})}}function GLTFRegistry(){let dt={};return{get:function(lt){return dt[lt]},add:function(lt,ft){dt[lt]=ft},remove:function(lt){delete dt[lt]},removeAll:function(){dt={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const lt=this.parser,ft=this.parser.json.nodes||[];for(let vt=0,St=ft.length;vt<St;vt++){const Et=ft[vt];Et.extensions&&Et.extensions[this.name]&&Et.extensions[this.name].light!==void 0&&lt._addNodeRef(this.cache,Et.extensions[this.name].light)}}_loadLight(lt){const ft=this.parser,vt="light:"+lt;let St=ft.cache.get(vt);if(St)return St;const Et=ft.json,Tt=((Et.extensions&&Et.extensions[this.name]||{}).lights||[])[lt];let Rt;const Bt=new Color(16777215);Tt.color!==void 0&&Bt.fromArray(Tt.color);const Ft=Tt.range!==void 0?Tt.range:0;switch(Tt.type){case"directional":Rt=new DirectionalLight(Bt),Rt.target.position.set(0,0,-1),Rt.add(Rt.target);break;case"point":Rt=new PointLight(Bt),Rt.distance=Ft;break;case"spot":Rt=new SpotLight(Bt),Rt.distance=Ft,Tt.spot=Tt.spot||{},Tt.spot.innerConeAngle=Tt.spot.innerConeAngle!==void 0?Tt.spot.innerConeAngle:0,Tt.spot.outerConeAngle=Tt.spot.outerConeAngle!==void 0?Tt.spot.outerConeAngle:Math.PI/4,Rt.angle=Tt.spot.outerConeAngle,Rt.penumbra=1-Tt.spot.innerConeAngle/Tt.spot.outerConeAngle,Rt.target.position.set(0,0,-1),Rt.add(Rt.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+Tt.type)}return Rt.position.set(0,0,0),Rt.decay=2,assignExtrasToUserData(Rt,Tt),Tt.intensity!==void 0&&(Rt.intensity=Tt.intensity),Rt.name=ft.createUniqueName(Tt.name||"light_"+lt),St=Promise.resolve(Rt),ft.cache.add(vt,St),St}getDependency(lt,ft){if(lt==="light")return this._loadLight(ft)}createNodeAttachment(lt){const ft=this,vt=this.parser,Et=vt.json.nodes[lt],Ct=(Et.extensions&&Et.extensions[this.name]||{}).light;return Ct===void 0?null:this._loadLight(Ct).then(function(Tt){return vt._getNodeRef(ft.cache,Ct,Tt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(lt,ft,vt){const St=[];lt.color=new Color(1,1,1),lt.opacity=1;const Et=ft.pbrMetallicRoughness;if(Et){if(Array.isArray(Et.baseColorFactor)){const At=Et.baseColorFactor;lt.color.fromArray(At),lt.opacity=At[3]}Et.baseColorTexture!==void 0&&St.push(vt.assignTexture(lt,"map",Et.baseColorTexture,3001))}return Promise.all(St)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(lt,ft){const St=this.parser.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=St.extensions[this.name].emissiveStrength;return Et!==void 0&&(ft.emissiveIntensity=Et),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];if(At.clearcoatFactor!==void 0&&(ft.clearcoat=At.clearcoatFactor),At.clearcoatTexture!==void 0&&Et.push(vt.assignTexture(ft,"clearcoatMap",At.clearcoatTexture)),At.clearcoatRoughnessFactor!==void 0&&(ft.clearcoatRoughness=At.clearcoatRoughnessFactor),At.clearcoatRoughnessTexture!==void 0&&Et.push(vt.assignTexture(ft,"clearcoatRoughnessMap",At.clearcoatRoughnessTexture)),At.clearcoatNormalTexture!==void 0&&(Et.push(vt.assignTexture(ft,"clearcoatNormalMap",At.clearcoatNormalTexture)),At.clearcoatNormalTexture.scale!==void 0)){const Ct=At.clearcoatNormalTexture.scale;ft.clearcoatNormalScale=new Vector2(Ct,Ct)}return Promise.all(Et)}}class GLTFMaterialsIridescenceExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];return At.iridescenceFactor!==void 0&&(ft.iridescence=At.iridescenceFactor),At.iridescenceTexture!==void 0&&Et.push(vt.assignTexture(ft,"iridescenceMap",At.iridescenceTexture)),At.iridescenceIor!==void 0&&(ft.iridescenceIOR=At.iridescenceIor),ft.iridescenceThicknessRange===void 0&&(ft.iridescenceThicknessRange=[100,400]),At.iridescenceThicknessMinimum!==void 0&&(ft.iridescenceThicknessRange[0]=At.iridescenceThicknessMinimum),At.iridescenceThicknessMaximum!==void 0&&(ft.iridescenceThicknessRange[1]=At.iridescenceThicknessMaximum),At.iridescenceThicknessTexture!==void 0&&Et.push(vt.assignTexture(ft,"iridescenceThicknessMap",At.iridescenceThicknessTexture)),Promise.all(Et)}}class GLTFMaterialsSheenExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[];ft.sheenColor=new Color(0,0,0),ft.sheenRoughness=0,ft.sheen=1;const At=St.extensions[this.name];return At.sheenColorFactor!==void 0&&ft.sheenColor.fromArray(At.sheenColorFactor),At.sheenRoughnessFactor!==void 0&&(ft.sheenRoughness=At.sheenRoughnessFactor),At.sheenColorTexture!==void 0&&Et.push(vt.assignTexture(ft,"sheenColorMap",At.sheenColorTexture,3001)),At.sheenRoughnessTexture!==void 0&&Et.push(vt.assignTexture(ft,"sheenRoughnessMap",At.sheenRoughnessTexture)),Promise.all(Et)}}class GLTFMaterialsTransmissionExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];return At.transmissionFactor!==void 0&&(ft.transmission=At.transmissionFactor),At.transmissionTexture!==void 0&&Et.push(vt.assignTexture(ft,"transmissionMap",At.transmissionTexture)),Promise.all(Et)}}class GLTFMaterialsVolumeExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];ft.thickness=At.thicknessFactor!==void 0?At.thicknessFactor:0,At.thicknessTexture!==void 0&&Et.push(vt.assignTexture(ft,"thicknessMap",At.thicknessTexture)),ft.attenuationDistance=At.attenuationDistance||1/0;const Ct=At.attenuationColor||[1,1,1];return ft.attenuationColor=new Color(Ct[0],Ct[1],Ct[2]),Promise.all(Et)}}class GLTFMaterialsIorExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const St=this.parser.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=St.extensions[this.name];return ft.ior=Et.ior!==void 0?Et.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];ft.specularIntensity=At.specularFactor!==void 0?At.specularFactor:1,At.specularTexture!==void 0&&Et.push(vt.assignTexture(ft,"specularIntensityMap",At.specularTexture));const Ct=At.specularColorFactor||[1,1,1];return ft.specularColor=new Color(Ct[0],Ct[1],Ct[2]),At.specularColorTexture!==void 0&&Et.push(vt.assignTexture(ft,"specularColorMap",At.specularColorTexture,3001)),Promise.all(Et)}}class GLTFMaterialsAnisotropyExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ft){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];return At.anisotropyStrength!==void 0&&(ft.anisotropy=At.anisotropyStrength),At.anisotropyRotation!==void 0&&(ft.anisotropyRotation=At.anisotropyRotation),At.anisotropyTexture!==void 0&&Et.push(vt.assignTexture(ft,"anisotropyMap",At.anisotropyTexture)),Promise.all(Et)}}class GLTFTextureBasisUExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(lt){const ft=this.parser,vt=ft.json,St=vt.textures[lt];if(!St.extensions||!St.extensions[this.name])return null;const Et=St.extensions[this.name],At=ft.options.ktx2Loader;if(!At){if(vt.extensionsRequired&&vt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return ft.loadTextureImage(lt,Et.source,At)}}class GLTFTextureWebPExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(lt){const ft=this.name,vt=this.parser,St=vt.json,Et=St.textures[lt];if(!Et.extensions||!Et.extensions[ft])return null;const At=Et.extensions[ft],Ct=St.images[At.source];let Tt=vt.textureLoader;if(Ct.uri){const Rt=vt.options.manager.getHandler(Ct.uri);Rt!==null&&(Tt=Rt)}return this.detectSupport().then(function(Rt){if(Rt)return vt.loadTextureImage(lt,At.source,Tt);if(St.extensionsRequired&&St.extensionsRequired.indexOf(ft)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return vt.loadTexture(lt)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(lt){const ft=new Image;ft.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",ft.onload=ft.onerror=function(){lt(ft.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(lt){const ft=this.name,vt=this.parser,St=vt.json,Et=St.textures[lt];if(!Et.extensions||!Et.extensions[ft])return null;const At=Et.extensions[ft],Ct=St.images[At.source];let Tt=vt.textureLoader;if(Ct.uri){const Rt=vt.options.manager.getHandler(Ct.uri);Rt!==null&&(Tt=Rt)}return this.detectSupport().then(function(Rt){if(Rt)return vt.loadTextureImage(lt,At.source,Tt);if(St.extensionsRequired&&St.extensionsRequired.indexOf(ft)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return vt.loadTexture(lt)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(lt){const ft=new Image;ft.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",ft.onload=ft.onerror=function(){lt(ft.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(lt){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=lt}loadBufferView(lt){const ft=this.parser.json,vt=ft.bufferViews[lt];if(vt.extensions&&vt.extensions[this.name]){const St=vt.extensions[this.name],Et=this.parser.getDependency("buffer",St.buffer),At=this.parser.options.meshoptDecoder;if(!At||!At.supported){if(ft.extensionsRequired&&ft.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Et.then(function(Ct){const Tt=St.byteOffset||0,Rt=St.byteLength||0,Bt=St.count,Ft=St.byteStride,Dt=new Uint8Array(Ct,Tt,Rt);return At.decodeGltfBufferAsync?At.decodeGltfBufferAsync(Bt,Ft,Dt,St.mode,St.filter).then(function(kt){return kt.buffer}):At.ready.then(function(){const kt=new ArrayBuffer(Bt*Ft);return At.decodeGltfBuffer(new Uint8Array(kt),Bt,Ft,Dt,St.mode,St.filter),kt})})}else return null}}class GLTFMeshGpuInstancing{constructor(lt){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=lt}createNodeMesh(lt){const ft=this.parser.json,vt=ft.nodes[lt];if(!vt.extensions||!vt.extensions[this.name]||vt.mesh===void 0)return null;const St=ft.meshes[vt.mesh];for(const Rt of St.primitives)if(Rt.mode!==WEBGL_CONSTANTS.TRIANGLES&&Rt.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&Rt.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&Rt.mode!==void 0)return null;const At=vt.extensions[this.name].attributes,Ct=[],Tt={};for(const Rt in At)Ct.push(this.parser.getDependency("accessor",At[Rt]).then(Bt=>(Tt[Rt]=Bt,Tt[Rt])));return Ct.length<1?null:(Ct.push(this.parser.createNodeMesh(lt)),Promise.all(Ct).then(Rt=>{const Bt=Rt.pop(),Ft=Bt.isGroup?Bt.children:[Bt],Dt=Rt[0].count,kt=[];for(const zt of Ft){const Ht=new Matrix4,en=new Vector3,Kt=new Quaternion,Zt=new Vector3(1,1,1),Wt=new InstancedMesh(zt.geometry,zt.material,Dt);for(let tn=0;tn<Dt;tn++)Tt.TRANSLATION&&en.fromBufferAttribute(Tt.TRANSLATION,tn),Tt.ROTATION&&Kt.fromBufferAttribute(Tt.ROTATION,tn),Tt.SCALE&&Zt.fromBufferAttribute(Tt.SCALE,tn),Wt.setMatrixAt(tn,Ht.compose(en,Kt,Zt));for(const tn in Tt)tn!=="TRANSLATION"&&tn!=="ROTATION"&&tn!=="SCALE"&&zt.geometry.setAttribute(tn,Tt[tn]);Object3D.prototype.copy.call(Wt,zt),this.parser.assignFinalMaterial(Wt),kt.push(Wt)}return Bt.isGroup?(Bt.clear(),Bt.add(...kt),Bt):kt[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(lt){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const ft=new DataView(lt,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(lt.slice(0,4))),version:ft.getUint32(4,!0),length:ft.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const vt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,St=new DataView(lt,BINARY_EXTENSION_HEADER_LENGTH);let Et=0;for(;Et<vt;){const At=St.getUint32(Et,!0);Et+=4;const Ct=St.getUint32(Et,!0);if(Et+=4,Ct===BINARY_EXTENSION_CHUNK_TYPES.JSON){const Tt=new Uint8Array(lt,BINARY_EXTENSION_HEADER_LENGTH+Et,At);this.content=LoaderUtils.decodeText(Tt)}else if(Ct===BINARY_EXTENSION_CHUNK_TYPES.BIN){const Tt=BINARY_EXTENSION_HEADER_LENGTH+Et;this.body=lt.slice(Tt,Tt+At)}Et+=At}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(lt,ft){if(!ft)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=lt,this.dracoLoader=ft,this.dracoLoader.preload()}decodePrimitive(lt,ft){const vt=this.json,St=this.dracoLoader,Et=lt.extensions[this.name].bufferView,At=lt.extensions[this.name].attributes,Ct={},Tt={},Rt={};for(const Bt in At){const Ft=ATTRIBUTES[Bt]||Bt.toLowerCase();Ct[Ft]=At[Bt]}for(const Bt in lt.attributes){const Ft=ATTRIBUTES[Bt]||Bt.toLowerCase();if(At[Bt]!==void 0){const Dt=vt.accessors[lt.attributes[Bt]],kt=WEBGL_COMPONENT_TYPES[Dt.componentType];Rt[Ft]=kt.name,Tt[Ft]=Dt.normalized===!0}}return ft.getDependency("bufferView",Et).then(function(Bt){return new Promise(function(Ft){St.decodeDracoFile(Bt,function(Dt){for(const kt in Dt.attributes){const zt=Dt.attributes[kt],Ht=Tt[kt];Ht!==void 0&&(zt.normalized=Ht)}Ft(Dt)},Ct,Rt)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(lt,ft){return(ft.texCoord===void 0||ft.texCoord===lt.channel)&&ft.offset===void 0&&ft.rotation===void 0&&ft.scale===void 0||(lt=lt.clone(),ft.texCoord!==void 0&&(lt.channel=ft.texCoord),ft.offset!==void 0&&lt.offset.fromArray(ft.offset),ft.rotation!==void 0&&(lt.rotation=ft.rotation),ft.scale!==void 0&&lt.repeat.fromArray(ft.scale),lt.needsUpdate=!0),lt}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(lt,ft,vt,St){super(lt,ft,vt,St)}copySampleValue_(lt){const ft=this.resultBuffer,vt=this.sampleValues,St=this.valueSize,Et=lt*St*3+St;for(let At=0;At!==St;At++)ft[At]=vt[Et+At];return ft}interpolate_(lt,ft,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=Ct*2,Rt=Ct*3,Bt=St-ft,Ft=(vt-ft)/Bt,Dt=Ft*Ft,kt=Dt*Ft,zt=lt*Rt,Ht=zt-Rt,en=-2*kt+3*Dt,Kt=kt-Dt,Zt=1-en,Wt=Kt-Dt+Ft;for(let tn=0;tn!==Ct;tn++){const an=At[Ht+tn+Ct],ln=At[Ht+tn+Tt]*Bt,fn=At[zt+tn+Ct],un=At[zt+tn]*Bt;Et[tn]=Zt*an+Wt*ln+en*fn+Kt*un}return Et}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(lt,ft,vt,St){const Et=super.interpolate_(lt,ft,vt,St);return _q.fromArray(Et).normalize().toArray(Et),Et}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...REVISION.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(dt){return dt.DefaultMaterial===void 0&&(dt.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),dt.DefaultMaterial}function addUnknownExtensionsToUserData(dt,lt,ft){for(const vt in ft.extensions)dt[vt]===void 0&&(lt.userData.gltfExtensions=lt.userData.gltfExtensions||{},lt.userData.gltfExtensions[vt]=ft.extensions[vt])}function assignExtrasToUserData(dt,lt){lt.extras!==void 0&&(typeof lt.extras=="object"?Object.assign(dt.userData,lt.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+lt.extras))}function addMorphTargets(dt,lt,ft){let vt=!1,St=!1,Et=!1;for(let Rt=0,Bt=lt.length;Rt<Bt;Rt++){const Ft=lt[Rt];if(Ft.POSITION!==void 0&&(vt=!0),Ft.NORMAL!==void 0&&(St=!0),Ft.COLOR_0!==void 0&&(Et=!0),vt&&St&&Et)break}if(!vt&&!St&&!Et)return Promise.resolve(dt);const At=[],Ct=[],Tt=[];for(let Rt=0,Bt=lt.length;Rt<Bt;Rt++){const Ft=lt[Rt];if(vt){const Dt=Ft.POSITION!==void 0?ft.getDependency("accessor",Ft.POSITION):dt.attributes.position;At.push(Dt)}if(St){const Dt=Ft.NORMAL!==void 0?ft.getDependency("accessor",Ft.NORMAL):dt.attributes.normal;Ct.push(Dt)}if(Et){const Dt=Ft.COLOR_0!==void 0?ft.getDependency("accessor",Ft.COLOR_0):dt.attributes.color;Tt.push(Dt)}}return Promise.all([Promise.all(At),Promise.all(Ct),Promise.all(Tt)]).then(function(Rt){const Bt=Rt[0],Ft=Rt[1],Dt=Rt[2];return vt&&(dt.morphAttributes.position=Bt),St&&(dt.morphAttributes.normal=Ft),Et&&(dt.morphAttributes.color=Dt),dt.morphTargetsRelative=!0,dt})}function updateMorphTargets(dt,lt){if(dt.updateMorphTargets(),lt.weights!==void 0)for(let ft=0,vt=lt.weights.length;ft<vt;ft++)dt.morphTargetInfluences[ft]=lt.weights[ft];if(lt.extras&&Array.isArray(lt.extras.targetNames)){const ft=lt.extras.targetNames;if(dt.morphTargetInfluences.length===ft.length){dt.morphTargetDictionary={};for(let vt=0,St=ft.length;vt<St;vt++)dt.morphTargetDictionary[ft[vt]]=vt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(dt){let lt;const ft=dt.extensions&&dt.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(ft?lt="draco:"+ft.bufferView+":"+ft.indices+":"+createAttributesKey(ft.attributes):lt=dt.indices+":"+createAttributesKey(dt.attributes)+":"+dt.mode,dt.targets!==void 0)for(let vt=0,St=dt.targets.length;vt<St;vt++)lt+=":"+createAttributesKey(dt.targets[vt]);return lt}function createAttributesKey(dt){let lt="";const ft=Object.keys(dt).sort();for(let vt=0,St=ft.length;vt<St;vt++)lt+=ft[vt]+":"+dt[ft[vt]]+";";return lt}function getNormalizedComponentScale(dt){switch(dt){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(dt){return dt.search(/\.jpe?g($|\?)/i)>0||dt.search(/^data\:image\/jpeg/)===0?"image/jpeg":dt.search(/\.webp($|\?)/i)>0||dt.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(lt={},ft={}){this.json=lt,this.extensions={},this.plugins={},this.options=ft,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let vt=!1,St=!1,Et=-1;typeof navigator<"u"&&(vt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,St=navigator.userAgent.indexOf("Firefox")>-1,Et=St?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||vt||St&&Et<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(lt){this.extensions=lt}setPlugins(lt){this.plugins=lt}parse(lt,ft){const vt=this,St=this.json,Et=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(At){return At._markDefs&&At._markDefs()}),Promise.all(this._invokeAll(function(At){return At.beforeRoot&&At.beforeRoot()})).then(function(){return Promise.all([vt.getDependencies("scene"),vt.getDependencies("animation"),vt.getDependencies("camera")])}).then(function(At){const Ct={scene:At[0][St.scene||0],scenes:At[0],animations:At[1],cameras:At[2],asset:St.asset,parser:vt,userData:{}};addUnknownExtensionsToUserData(Et,Ct,St),assignExtrasToUserData(Ct,St),Promise.all(vt._invokeAll(function(Tt){return Tt.afterRoot&&Tt.afterRoot(Ct)})).then(function(){lt(Ct)})}).catch(ft)}_markDefs(){const lt=this.json.nodes||[],ft=this.json.skins||[],vt=this.json.meshes||[];for(let St=0,Et=ft.length;St<Et;St++){const At=ft[St].joints;for(let Ct=0,Tt=At.length;Ct<Tt;Ct++)lt[At[Ct]].isBone=!0}for(let St=0,Et=lt.length;St<Et;St++){const At=lt[St];At.mesh!==void 0&&(this._addNodeRef(this.meshCache,At.mesh),At.skin!==void 0&&(vt[At.mesh].isSkinnedMesh=!0)),At.camera!==void 0&&this._addNodeRef(this.cameraCache,At.camera)}}_addNodeRef(lt,ft){ft!==void 0&&(lt.refs[ft]===void 0&&(lt.refs[ft]=lt.uses[ft]=0),lt.refs[ft]++)}_getNodeRef(lt,ft,vt){if(lt.refs[ft]<=1)return vt;const St=vt.clone(),Et=(At,Ct)=>{const Tt=this.associations.get(At);Tt!=null&&this.associations.set(Ct,Tt);for(const[Rt,Bt]of At.children.entries())Et(Bt,Ct.children[Rt])};return Et(vt,St),St.name+="_instance_"+lt.uses[ft]++,St}_invokeOne(lt){const ft=Object.values(this.plugins);ft.push(this);for(let vt=0;vt<ft.length;vt++){const St=lt(ft[vt]);if(St)return St}return null}_invokeAll(lt){const ft=Object.values(this.plugins);ft.unshift(this);const vt=[];for(let St=0;St<ft.length;St++){const Et=lt(ft[St]);Et&&vt.push(Et)}return vt}getDependency(lt,ft){const vt=lt+":"+ft;let St=this.cache.get(vt);if(!St){switch(lt){case"scene":St=this.loadScene(ft);break;case"node":St=this._invokeOne(function(Et){return Et.loadNode&&Et.loadNode(ft)});break;case"mesh":St=this._invokeOne(function(Et){return Et.loadMesh&&Et.loadMesh(ft)});break;case"accessor":St=this.loadAccessor(ft);break;case"bufferView":St=this._invokeOne(function(Et){return Et.loadBufferView&&Et.loadBufferView(ft)});break;case"buffer":St=this.loadBuffer(ft);break;case"material":St=this._invokeOne(function(Et){return Et.loadMaterial&&Et.loadMaterial(ft)});break;case"texture":St=this._invokeOne(function(Et){return Et.loadTexture&&Et.loadTexture(ft)});break;case"skin":St=this.loadSkin(ft);break;case"animation":St=this._invokeOne(function(Et){return Et.loadAnimation&&Et.loadAnimation(ft)});break;case"camera":St=this.loadCamera(ft);break;default:if(St=this._invokeOne(function(Et){return Et!=this&&Et.getDependency&&Et.getDependency(lt,ft)}),!St)throw new Error("Unknown type: "+lt);break}this.cache.add(vt,St)}return St}getDependencies(lt){let ft=this.cache.get(lt);if(!ft){const vt=this,St=this.json[lt+(lt==="mesh"?"es":"s")]||[];ft=Promise.all(St.map(function(Et,At){return vt.getDependency(lt,At)})),this.cache.add(lt,ft)}return ft}loadBuffer(lt){const ft=this.json.buffers[lt],vt=this.fileLoader;if(ft.type&&ft.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+ft.type+" buffer type is not supported.");if(ft.uri===void 0&&lt===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const St=this.options;return new Promise(function(Et,At){vt.load(LoaderUtils.resolveURL(ft.uri,St.path),Et,void 0,function(){At(new Error('THREE.GLTFLoader: Failed to load buffer "'+ft.uri+'".'))})})}loadBufferView(lt){const ft=this.json.bufferViews[lt];return this.getDependency("buffer",ft.buffer).then(function(vt){const St=ft.byteLength||0,Et=ft.byteOffset||0;return vt.slice(Et,Et+St)})}loadAccessor(lt){const ft=this,vt=this.json,St=this.json.accessors[lt];if(St.bufferView===void 0&&St.sparse===void 0){const At=WEBGL_TYPE_SIZES[St.type],Ct=WEBGL_COMPONENT_TYPES[St.componentType],Tt=St.normalized===!0,Rt=new Ct(St.count*At);return Promise.resolve(new BufferAttribute(Rt,At,Tt))}const Et=[];return St.bufferView!==void 0?Et.push(this.getDependency("bufferView",St.bufferView)):Et.push(null),St.sparse!==void 0&&(Et.push(this.getDependency("bufferView",St.sparse.indices.bufferView)),Et.push(this.getDependency("bufferView",St.sparse.values.bufferView))),Promise.all(Et).then(function(At){const Ct=At[0],Tt=WEBGL_TYPE_SIZES[St.type],Rt=WEBGL_COMPONENT_TYPES[St.componentType],Bt=Rt.BYTES_PER_ELEMENT,Ft=Bt*Tt,Dt=St.byteOffset||0,kt=St.bufferView!==void 0?vt.bufferViews[St.bufferView].byteStride:void 0,zt=St.normalized===!0;let Ht,en;if(kt&&kt!==Ft){const Kt=Math.floor(Dt/kt),Zt="InterleavedBuffer:"+St.bufferView+":"+St.componentType+":"+Kt+":"+St.count;let Wt=ft.cache.get(Zt);Wt||(Ht=new Rt(Ct,Kt*kt,St.count*kt/Bt),Wt=new InterleavedBuffer(Ht,kt/Bt),ft.cache.add(Zt,Wt)),en=new InterleavedBufferAttribute(Wt,Tt,Dt%kt/Bt,zt)}else Ct===null?Ht=new Rt(St.count*Tt):Ht=new Rt(Ct,Dt,St.count*Tt),en=new BufferAttribute(Ht,Tt,zt);if(St.sparse!==void 0){const Kt=WEBGL_TYPE_SIZES.SCALAR,Zt=WEBGL_COMPONENT_TYPES[St.sparse.indices.componentType],Wt=St.sparse.indices.byteOffset||0,tn=St.sparse.values.byteOffset||0,an=new Zt(At[1],Wt,St.sparse.count*Kt),ln=new Rt(At[2],tn,St.sparse.count*Tt);Ct!==null&&(en=new BufferAttribute(en.array.slice(),en.itemSize,en.normalized));for(let fn=0,un=an.length;fn<un;fn++){const pn=an[fn];if(en.setX(pn,ln[fn*Tt]),Tt>=2&&en.setY(pn,ln[fn*Tt+1]),Tt>=3&&en.setZ(pn,ln[fn*Tt+2]),Tt>=4&&en.setW(pn,ln[fn*Tt+3]),Tt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return en})}loadTexture(lt){const ft=this.json,vt=this.options,Et=ft.textures[lt].source,At=ft.images[Et];let Ct=this.textureLoader;if(At.uri){const Tt=vt.manager.getHandler(At.uri);Tt!==null&&(Ct=Tt)}return this.loadTextureImage(lt,Et,Ct)}loadTextureImage(lt,ft,vt){const St=this,Et=this.json,At=Et.textures[lt],Ct=Et.images[ft],Tt=(Ct.uri||Ct.bufferView)+":"+At.sampler;if(this.textureCache[Tt])return this.textureCache[Tt];const Rt=this.loadImageSource(ft,vt).then(function(Bt){Bt.flipY=!1,Bt.name=At.name||Ct.name||"",Bt.name===""&&typeof Ct.uri=="string"&&Ct.uri.startsWith("data:image/")===!1&&(Bt.name=Ct.uri);const Dt=(Et.samplers||{})[At.sampler]||{};return Bt.magFilter=WEBGL_FILTERS[Dt.magFilter]||LinearFilter,Bt.minFilter=WEBGL_FILTERS[Dt.minFilter]||LinearMipmapLinearFilter,Bt.wrapS=WEBGL_WRAPPINGS[Dt.wrapS]||RepeatWrapping,Bt.wrapT=WEBGL_WRAPPINGS[Dt.wrapT]||RepeatWrapping,St.associations.set(Bt,{textures:lt}),Bt}).catch(function(){return null});return this.textureCache[Tt]=Rt,Rt}loadImageSource(lt,ft){const vt=this,St=this.json,Et=this.options;if(this.sourceCache[lt]!==void 0)return this.sourceCache[lt].then(Ft=>Ft.clone());const At=St.images[lt],Ct=self.URL||self.webkitURL;let Tt=At.uri||"",Rt=!1;if(At.bufferView!==void 0)Tt=vt.getDependency("bufferView",At.bufferView).then(function(Ft){Rt=!0;const Dt=new Blob([Ft],{type:At.mimeType});return Tt=Ct.createObjectURL(Dt),Tt});else if(At.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+lt+" is missing URI and bufferView");const Bt=Promise.resolve(Tt).then(function(Ft){return new Promise(function(Dt,kt){let zt=Dt;ft.isImageBitmapLoader===!0&&(zt=function(Ht){const en=new Texture(Ht);en.needsUpdate=!0,Dt(en)}),ft.load(LoaderUtils.resolveURL(Ft,Et.path),zt,void 0,kt)})}).then(function(Ft){return Rt===!0&&Ct.revokeObjectURL(Tt),Ft.userData.mimeType=At.mimeType||getImageURIMimeType(At.uri),Ft}).catch(function(Ft){throw console.error("THREE.GLTFLoader: Couldn't load texture",Tt),Ft});return this.sourceCache[lt]=Bt,Bt}assignTexture(lt,ft,vt,St){const Et=this;return this.getDependency("texture",vt.index).then(function(At){if(!At)return null;if(vt.texCoord!==void 0&&vt.texCoord>0&&(At=At.clone(),At.channel=vt.texCoord),Et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const Ct=vt.extensions!==void 0?vt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(Ct){const Tt=Et.associations.get(At);At=Et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(At,Ct),Et.associations.set(At,Tt)}}return St!==void 0&&("colorSpace"in At?At.colorSpace=St===3001?"srgb":"srgb-linear":At.encoding=St),lt[ft]=At,At})}assignFinalMaterial(lt){const ft=lt.geometry;let vt=lt.material;const St=ft.attributes.tangent===void 0,Et=ft.attributes.color!==void 0,At=ft.attributes.normal===void 0;if(lt.isPoints){const Ct="PointsMaterial:"+vt.uuid;let Tt=this.cache.get(Ct);Tt||(Tt=new PointsMaterial,Material.prototype.copy.call(Tt,vt),Tt.color.copy(vt.color),Tt.map=vt.map,Tt.sizeAttenuation=!1,this.cache.add(Ct,Tt)),vt=Tt}else if(lt.isLine){const Ct="LineBasicMaterial:"+vt.uuid;let Tt=this.cache.get(Ct);Tt||(Tt=new LineBasicMaterial,Material.prototype.copy.call(Tt,vt),Tt.color.copy(vt.color),Tt.map=vt.map,this.cache.add(Ct,Tt)),vt=Tt}if(St||Et||At){let Ct="ClonedMaterial:"+vt.uuid+":";St&&(Ct+="derivative-tangents:"),Et&&(Ct+="vertex-colors:"),At&&(Ct+="flat-shading:");let Tt=this.cache.get(Ct);Tt||(Tt=vt.clone(),Et&&(Tt.vertexColors=!0),At&&(Tt.flatShading=!0),St&&(Tt.normalScale&&(Tt.normalScale.y*=-1),Tt.clearcoatNormalScale&&(Tt.clearcoatNormalScale.y*=-1)),this.cache.add(Ct,Tt),this.associations.set(Tt,this.associations.get(vt))),vt=Tt}lt.material=vt}getMaterialType(){return MeshStandardMaterial}loadMaterial(lt){const ft=this,vt=this.json,St=this.extensions,Et=vt.materials[lt];let At;const Ct={},Tt=Et.extensions||{},Rt=[];if(Tt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const Ft=St[EXTENSIONS.KHR_MATERIALS_UNLIT];At=Ft.getMaterialType(),Rt.push(Ft.extendParams(Ct,Et,ft))}else{const Ft=Et.pbrMetallicRoughness||{};if(Ct.color=new Color(1,1,1),Ct.opacity=1,Array.isArray(Ft.baseColorFactor)){const Dt=Ft.baseColorFactor;Ct.color.fromArray(Dt),Ct.opacity=Dt[3]}Ft.baseColorTexture!==void 0&&Rt.push(ft.assignTexture(Ct,"map",Ft.baseColorTexture,3001)),Ct.metalness=Ft.metallicFactor!==void 0?Ft.metallicFactor:1,Ct.roughness=Ft.roughnessFactor!==void 0?Ft.roughnessFactor:1,Ft.metallicRoughnessTexture!==void 0&&(Rt.push(ft.assignTexture(Ct,"metalnessMap",Ft.metallicRoughnessTexture)),Rt.push(ft.assignTexture(Ct,"roughnessMap",Ft.metallicRoughnessTexture))),At=this._invokeOne(function(Dt){return Dt.getMaterialType&&Dt.getMaterialType(lt)}),Rt.push(Promise.all(this._invokeAll(function(Dt){return Dt.extendMaterialParams&&Dt.extendMaterialParams(lt,Ct)})))}Et.doubleSided===!0&&(Ct.side=DoubleSide);const Bt=Et.alphaMode||ALPHA_MODES.OPAQUE;if(Bt===ALPHA_MODES.BLEND?(Ct.transparent=!0,Ct.depthWrite=!1):(Ct.transparent=!1,Bt===ALPHA_MODES.MASK&&(Ct.alphaTest=Et.alphaCutoff!==void 0?Et.alphaCutoff:.5)),Et.normalTexture!==void 0&&At!==MeshBasicMaterial&&(Rt.push(ft.assignTexture(Ct,"normalMap",Et.normalTexture)),Ct.normalScale=new Vector2(1,1),Et.normalTexture.scale!==void 0)){const Ft=Et.normalTexture.scale;Ct.normalScale.set(Ft,Ft)}return Et.occlusionTexture!==void 0&&At!==MeshBasicMaterial&&(Rt.push(ft.assignTexture(Ct,"aoMap",Et.occlusionTexture)),Et.occlusionTexture.strength!==void 0&&(Ct.aoMapIntensity=Et.occlusionTexture.strength)),Et.emissiveFactor!==void 0&&At!==MeshBasicMaterial&&(Ct.emissive=new Color().fromArray(Et.emissiveFactor)),Et.emissiveTexture!==void 0&&At!==MeshBasicMaterial&&Rt.push(ft.assignTexture(Ct,"emissiveMap",Et.emissiveTexture,3001)),Promise.all(Rt).then(function(){const Ft=new At(Ct);return Et.name&&(Ft.name=Et.name),assignExtrasToUserData(Ft,Et),ft.associations.set(Ft,{materials:lt}),Et.extensions&&addUnknownExtensionsToUserData(St,Ft,Et),Ft})}createUniqueName(lt){const ft=PropertyBinding.sanitizeNodeName(lt||"");return ft in this.nodeNamesUsed?ft+"_"+ ++this.nodeNamesUsed[ft]:(this.nodeNamesUsed[ft]=0,ft)}loadGeometries(lt){const ft=this,vt=this.extensions,St=this.primitiveCache;function Et(Ct){return vt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(Ct,ft).then(function(Tt){return addPrimitiveAttributes(Tt,Ct,ft)})}const At=[];for(let Ct=0,Tt=lt.length;Ct<Tt;Ct++){const Rt=lt[Ct],Bt=createPrimitiveKey(Rt),Ft=St[Bt];if(Ft)At.push(Ft.promise);else{let Dt;Rt.extensions&&Rt.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?Dt=Et(Rt):Dt=addPrimitiveAttributes(new BufferGeometry,Rt,ft),St[Bt]={primitive:Rt,promise:Dt},At.push(Dt)}}return Promise.all(At)}loadMesh(lt){const ft=this,vt=this.json,St=this.extensions,Et=vt.meshes[lt],At=Et.primitives,Ct=[];for(let Tt=0,Rt=At.length;Tt<Rt;Tt++){const Bt=At[Tt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",At[Tt].material);Ct.push(Bt)}return Ct.push(ft.loadGeometries(At)),Promise.all(Ct).then(function(Tt){const Rt=Tt.slice(0,Tt.length-1),Bt=Tt[Tt.length-1],Ft=[];for(let kt=0,zt=Bt.length;kt<zt;kt++){const Ht=Bt[kt],en=At[kt];let Kt;const Zt=Rt[kt];if(en.mode===WEBGL_CONSTANTS.TRIANGLES||en.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||en.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||en.mode===void 0)Kt=Et.isSkinnedMesh===!0?new SkinnedMesh(Ht,Zt):new Mesh(Ht,Zt),Kt.isSkinnedMesh===!0&&Kt.normalizeSkinWeights(),en.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?Kt.geometry=toTrianglesDrawMode(Kt.geometry,TriangleStripDrawMode):en.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(Kt.geometry=toTrianglesDrawMode(Kt.geometry,TriangleFanDrawMode));else if(en.mode===WEBGL_CONSTANTS.LINES)Kt=new LineSegments(Ht,Zt);else if(en.mode===WEBGL_CONSTANTS.LINE_STRIP)Kt=new Line$1(Ht,Zt);else if(en.mode===WEBGL_CONSTANTS.LINE_LOOP)Kt=new LineLoop(Ht,Zt);else if(en.mode===WEBGL_CONSTANTS.POINTS)Kt=new Points(Ht,Zt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+en.mode);Object.keys(Kt.geometry.morphAttributes).length>0&&updateMorphTargets(Kt,Et),Kt.name=ft.createUniqueName(Et.name||"mesh_"+lt),assignExtrasToUserData(Kt,Et),en.extensions&&addUnknownExtensionsToUserData(St,Kt,en),ft.assignFinalMaterial(Kt),Ft.push(Kt)}for(let kt=0,zt=Ft.length;kt<zt;kt++)ft.associations.set(Ft[kt],{meshes:lt,primitives:kt});if(Ft.length===1)return Et.extensions&&addUnknownExtensionsToUserData(St,Ft[0],Et),Ft[0];const Dt=new Group;Et.extensions&&addUnknownExtensionsToUserData(St,Dt,Et),ft.associations.set(Dt,{meshes:lt});for(let kt=0,zt=Ft.length;kt<zt;kt++)Dt.add(Ft[kt]);return Dt})}loadCamera(lt){let ft;const vt=this.json.cameras[lt],St=vt[vt.type];if(!St){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return vt.type==="perspective"?ft=new PerspectiveCamera$1(MathUtils.radToDeg(St.yfov),St.aspectRatio||1,St.znear||1,St.zfar||2e6):vt.type==="orthographic"&&(ft=new OrthographicCamera(-St.xmag,St.xmag,St.ymag,-St.ymag,St.znear,St.zfar)),vt.name&&(ft.name=this.createUniqueName(vt.name)),assignExtrasToUserData(ft,vt),Promise.resolve(ft)}loadSkin(lt){const ft=this.json.skins[lt],vt=[];for(let St=0,Et=ft.joints.length;St<Et;St++)vt.push(this._loadNodeShallow(ft.joints[St]));return ft.inverseBindMatrices!==void 0?vt.push(this.getDependency("accessor",ft.inverseBindMatrices)):vt.push(null),Promise.all(vt).then(function(St){const Et=St.pop(),At=St,Ct=[],Tt=[];for(let Rt=0,Bt=At.length;Rt<Bt;Rt++){const Ft=At[Rt];if(Ft){Ct.push(Ft);const Dt=new Matrix4;Et!==null&&Dt.fromArray(Et.array,Rt*16),Tt.push(Dt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',ft.joints[Rt])}return new Skeleton(Ct,Tt)})}loadAnimation(lt){const vt=this.json.animations[lt],St=vt.name?vt.name:"animation_"+lt,Et=[],At=[],Ct=[],Tt=[],Rt=[];for(let Bt=0,Ft=vt.channels.length;Bt<Ft;Bt++){const Dt=vt.channels[Bt],kt=vt.samplers[Dt.sampler],zt=Dt.target,Ht=zt.node,en=vt.parameters!==void 0?vt.parameters[kt.input]:kt.input,Kt=vt.parameters!==void 0?vt.parameters[kt.output]:kt.output;zt.node!==void 0&&(Et.push(this.getDependency("node",Ht)),At.push(this.getDependency("accessor",en)),Ct.push(this.getDependency("accessor",Kt)),Tt.push(kt),Rt.push(zt))}return Promise.all([Promise.all(Et),Promise.all(At),Promise.all(Ct),Promise.all(Tt),Promise.all(Rt)]).then(function(Bt){const Ft=Bt[0],Dt=Bt[1],kt=Bt[2],zt=Bt[3],Ht=Bt[4],en=[];for(let Kt=0,Zt=Ft.length;Kt<Zt;Kt++){const Wt=Ft[Kt],tn=Dt[Kt],an=kt[Kt],ln=zt[Kt],fn=Ht[Kt];if(Wt===void 0)continue;Wt.updateMatrix();let un;switch(PATH_PROPERTIES[fn.path]){case PATH_PROPERTIES.weights:un=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:un=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:un=VectorKeyframeTrack;break}const pn=Wt.name?Wt.name:Wt.uuid,xn=ln.interpolation!==void 0?INTERPOLATION[ln.interpolation]:InterpolateLinear,An=[];PATH_PROPERTIES[fn.path]===PATH_PROPERTIES.weights?Wt.traverse(function(Ln){Ln.morphTargetInfluences&&An.push(Ln.name?Ln.name:Ln.uuid)}):An.push(pn);let gn=an.array;if(an.normalized){const Ln=getNormalizedComponentScale(gn.constructor),Cn=new Float32Array(gn.length);for(let En=0,yn=gn.length;En<yn;En++)Cn[En]=gn[En]*Ln;gn=Cn}for(let Ln=0,Cn=An.length;Ln<Cn;Ln++){const En=new un(An[Ln]+"."+PATH_PROPERTIES[fn.path],tn.array,gn,xn);ln.interpolation==="CUBICSPLINE"&&(En.createInterpolant=function(Rn){const hn=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new hn(this.times,this.values,this.getValueSize()/3,Rn)},En.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),en.push(En)}}return new AnimationClip(St,void 0,en)})}createNodeMesh(lt){const ft=this.json,vt=this,St=ft.nodes[lt];return St.mesh===void 0?null:vt.getDependency("mesh",St.mesh).then(function(Et){const At=vt._getNodeRef(vt.meshCache,St.mesh,Et);return St.weights!==void 0&&At.traverse(function(Ct){if(Ct.isMesh)for(let Tt=0,Rt=St.weights.length;Tt<Rt;Tt++)Ct.morphTargetInfluences[Tt]=St.weights[Tt]}),At})}loadNode(lt){const ft=this.json,vt=this,St=ft.nodes[lt],Et=vt._loadNodeShallow(lt),At=[],Ct=St.children||[];for(let Rt=0,Bt=Ct.length;Rt<Bt;Rt++)At.push(vt.getDependency("node",Ct[Rt]));const Tt=St.skin===void 0?Promise.resolve(null):vt.getDependency("skin",St.skin);return Promise.all([Et,Promise.all(At),Tt]).then(function(Rt){const Bt=Rt[0],Ft=Rt[1],Dt=Rt[2];Dt!==null&&Bt.traverse(function(kt){kt.isSkinnedMesh&&kt.bind(Dt,_identityMatrix)});for(let kt=0,zt=Ft.length;kt<zt;kt++)Bt.add(Ft[kt]);return Bt})}_loadNodeShallow(lt){const ft=this.json,vt=this.extensions,St=this;if(this.nodeCache[lt]!==void 0)return this.nodeCache[lt];const Et=ft.nodes[lt],At=Et.name?St.createUniqueName(Et.name):"",Ct=[],Tt=St._invokeOne(function(Rt){return Rt.createNodeMesh&&Rt.createNodeMesh(lt)});return Tt&&Ct.push(Tt),Et.camera!==void 0&&Ct.push(St.getDependency("camera",Et.camera).then(function(Rt){return St._getNodeRef(St.cameraCache,Et.camera,Rt)})),St._invokeAll(function(Rt){return Rt.createNodeAttachment&&Rt.createNodeAttachment(lt)}).forEach(function(Rt){Ct.push(Rt)}),this.nodeCache[lt]=Promise.all(Ct).then(function(Rt){let Bt;if(Et.isBone===!0?Bt=new Bone:Rt.length>1?Bt=new Group:Rt.length===1?Bt=Rt[0]:Bt=new Object3D,Bt!==Rt[0])for(let Ft=0,Dt=Rt.length;Ft<Dt;Ft++)Bt.add(Rt[Ft]);if(Et.name&&(Bt.userData.name=Et.name,Bt.name=At),assignExtrasToUserData(Bt,Et),Et.extensions&&addUnknownExtensionsToUserData(vt,Bt,Et),Et.matrix!==void 0){const Ft=new Matrix4;Ft.fromArray(Et.matrix),Bt.applyMatrix4(Ft)}else Et.translation!==void 0&&Bt.position.fromArray(Et.translation),Et.rotation!==void 0&&Bt.quaternion.fromArray(Et.rotation),Et.scale!==void 0&&Bt.scale.fromArray(Et.scale);return St.associations.has(Bt)||St.associations.set(Bt,{}),St.associations.get(Bt).nodes=lt,Bt}),this.nodeCache[lt]}loadScene(lt){const ft=this.extensions,vt=this.json.scenes[lt],St=this,Et=new Group;vt.name&&(Et.name=St.createUniqueName(vt.name)),assignExtrasToUserData(Et,vt),vt.extensions&&addUnknownExtensionsToUserData(ft,Et,vt);const At=vt.nodes||[],Ct=[];for(let Tt=0,Rt=At.length;Tt<Rt;Tt++)Ct.push(St.getDependency("node",At[Tt]));return Promise.all(Ct).then(function(Tt){for(let Bt=0,Ft=Tt.length;Bt<Ft;Bt++)Et.add(Tt[Bt]);const Rt=Bt=>{const Ft=new Map;for(const[Dt,kt]of St.associations)(Dt instanceof Material||Dt instanceof Texture)&&Ft.set(Dt,kt);return Bt.traverse(Dt=>{const kt=St.associations.get(Dt);kt!=null&&Ft.set(Dt,kt)}),Ft};return St.associations=Rt(Et),Et})}}function computeBounds(dt,lt,ft){const vt=lt.attributes,St=new Box3;if(vt.POSITION!==void 0){const Ct=ft.json.accessors[vt.POSITION],Tt=Ct.min,Rt=Ct.max;if(Tt!==void 0&&Rt!==void 0){if(St.set(new Vector3(Tt[0],Tt[1],Tt[2]),new Vector3(Rt[0],Rt[1],Rt[2])),Ct.normalized){const Bt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[Ct.componentType]);St.min.multiplyScalar(Bt),St.max.multiplyScalar(Bt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const Et=lt.targets;if(Et!==void 0){const Ct=new Vector3,Tt=new Vector3;for(let Rt=0,Bt=Et.length;Rt<Bt;Rt++){const Ft=Et[Rt];if(Ft.POSITION!==void 0){const Dt=ft.json.accessors[Ft.POSITION],kt=Dt.min,zt=Dt.max;if(kt!==void 0&&zt!==void 0){if(Tt.setX(Math.max(Math.abs(kt[0]),Math.abs(zt[0]))),Tt.setY(Math.max(Math.abs(kt[1]),Math.abs(zt[1]))),Tt.setZ(Math.max(Math.abs(kt[2]),Math.abs(zt[2]))),Dt.normalized){const Ht=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[Dt.componentType]);Tt.multiplyScalar(Ht)}Ct.max(Tt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}St.expandByVector(Ct)}dt.boundingBox=St;const At=new Sphere$1;St.getCenter(At.center),At.radius=St.min.distanceTo(St.max)/2,dt.boundingSphere=At}function addPrimitiveAttributes(dt,lt,ft){const vt=lt.attributes,St=[];function Et(At,Ct){return ft.getDependency("accessor",At).then(function(Tt){dt.setAttribute(Ct,Tt)})}for(const At in vt){const Ct=ATTRIBUTES[At]||At.toLowerCase();Ct in dt.attributes||St.push(Et(vt[At],Ct))}if(lt.indices!==void 0&&!dt.index){const At=ft.getDependency("accessor",lt.indices).then(function(Ct){dt.setIndex(Ct)});St.push(At)}return assignExtrasToUserData(dt,lt),computeBounds(dt,lt,ft),Promise.all(St).then(function(){return lt.targets!==void 0?addMorphTargets(dt,lt.targets,ft):dt})}const GammaCorrectionShader={uniforms:{tDiffuse:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 tex = texture2D( tDiffuse, vUv );","	gl_FragColor = LinearTosRGB( tex );","}"].join(`
`)},VignetteShader={uniforms:{tDiffuse:{value:null},offset:{value:1},darkness:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float offset;","uniform float darkness;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );","	gl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );","}"].join(`
`)};class RGBELoader extends DataTextureLoader{constructor(lt){super(lt),this.type=HalfFloatType}parse(lt){const Ct=function(Wt,tn){switch(Wt){case 1:console.error("THREE.RGBELoader Read Error: "+(tn||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(tn||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(tn||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(tn||""))}return-1},Ft=`
`,Dt=function(Wt,tn,an){tn=tn||1024;let fn=Wt.pos,un=-1,pn=0,xn="",An=String.fromCharCode.apply(null,new Uint16Array(Wt.subarray(fn,fn+128)));for(;0>(un=An.indexOf(Ft))&&pn<tn&&fn<Wt.byteLength;)xn+=An,pn+=An.length,fn+=128,An+=String.fromCharCode.apply(null,new Uint16Array(Wt.subarray(fn,fn+128)));return-1<un?(an!==!1&&(Wt.pos+=pn+un+1),xn+An.slice(0,un)):!1},kt=function(Wt){const tn=/^#\?(\S+)/,an=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,ln=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,fn=/^\s*FORMAT=(\S+)\s*$/,un=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,pn={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let xn,An;if(Wt.pos>=Wt.byteLength||!(xn=Dt(Wt)))return Ct(1,"no header found");if(!(An=xn.match(tn)))return Ct(3,"bad initial token");for(pn.valid|=1,pn.programtype=An[1],pn.string+=xn+`
`;xn=Dt(Wt),xn!==!1;){if(pn.string+=xn+`
`,xn.charAt(0)==="#"){pn.comments+=xn+`
`;continue}if((An=xn.match(an))&&(pn.gamma=parseFloat(An[1])),(An=xn.match(ln))&&(pn.exposure=parseFloat(An[1])),(An=xn.match(fn))&&(pn.valid|=2,pn.format=An[1]),(An=xn.match(un))&&(pn.valid|=4,pn.height=parseInt(An[1],10),pn.width=parseInt(An[2],10)),pn.valid&2&&pn.valid&4)break}return pn.valid&2?pn.valid&4?pn:Ct(3,"missing image size specifier"):Ct(3,"missing format specifier")},zt=function(Wt,tn,an){const ln=tn;if(ln<8||ln>32767||Wt[0]!==2||Wt[1]!==2||Wt[2]&128)return new Uint8Array(Wt);if(ln!==(Wt[2]<<8|Wt[3]))return Ct(3,"wrong scanline width");const fn=new Uint8Array(4*tn*an);if(!fn.length)return Ct(4,"unable to allocate buffer space");let un=0,pn=0;const xn=4*ln,An=new Uint8Array(4),gn=new Uint8Array(xn);let Ln=an;for(;Ln>0&&pn<Wt.byteLength;){if(pn+4>Wt.byteLength)return Ct(1);if(An[0]=Wt[pn++],An[1]=Wt[pn++],An[2]=Wt[pn++],An[3]=Wt[pn++],An[0]!=2||An[1]!=2||(An[2]<<8|An[3])!=ln)return Ct(3,"bad rgbe scanline format");let Cn=0,En;for(;Cn<xn&&pn<Wt.byteLength;){En=Wt[pn++];const Rn=En>128;if(Rn&&(En-=128),En===0||Cn+En>xn)return Ct(3,"bad scanline data");if(Rn){const hn=Wt[pn++];for(let mn=0;mn<En;mn++)gn[Cn++]=hn}else gn.set(Wt.subarray(pn,pn+En),Cn),Cn+=En,pn+=En}const yn=ln;for(let Rn=0;Rn<yn;Rn++){let hn=0;fn[un]=gn[Rn+hn],hn+=ln,fn[un+1]=gn[Rn+hn],hn+=ln,fn[un+2]=gn[Rn+hn],hn+=ln,fn[un+3]=gn[Rn+hn],un+=4}Ln--}return fn},Ht=function(Wt,tn,an,ln){const fn=Wt[tn+3],un=Math.pow(2,fn-128)/255;an[ln+0]=Wt[tn+0]*un,an[ln+1]=Wt[tn+1]*un,an[ln+2]=Wt[tn+2]*un,an[ln+3]=1},en=function(Wt,tn,an,ln){const fn=Wt[tn+3],un=Math.pow(2,fn-128)/255;an[ln+0]=DataUtils.toHalfFloat(Math.min(Wt[tn+0]*un,65504)),an[ln+1]=DataUtils.toHalfFloat(Math.min(Wt[tn+1]*un,65504)),an[ln+2]=DataUtils.toHalfFloat(Math.min(Wt[tn+2]*un,65504)),an[ln+3]=DataUtils.toHalfFloat(1)},Kt=new Uint8Array(lt);Kt.pos=0;const Zt=kt(Kt);if(Zt!==-1){const Wt=Zt.width,tn=Zt.height,an=zt(Kt.subarray(Kt.pos),Wt,tn);if(an!==-1){let ln,fn,un;switch(this.type){case FloatType:un=an.length/4;const pn=new Float32Array(un*4);for(let An=0;An<un;An++)Ht(an,An*4,pn,An*4);ln=pn,fn=FloatType;break;case HalfFloatType:un=an.length/4;const xn=new Uint16Array(un*4);for(let An=0;An<un;An++)en(an,An*4,xn,An*4);ln=xn,fn=HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:Wt,height:tn,data:ln,header:Zt.string,gamma:Zt.gamma,exposure:Zt.exposure,type:fn}}}return null}setDataType(lt){return this.type=lt,this}load(lt,ft,vt,St){function Et(At,Ct){switch(At.type){case FloatType:case HalfFloatType:"colorSpace"in At?At.colorSpace="srgb-linear":At.encoding=3e3,At.minFilter=LinearFilter,At.magFilter=LinearFilter,At.generateMipmaps=!1,At.flipY=!0;break}ft&&ft(At,Ct)}return super.load(lt,Et,vt,St)}}const _taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(lt){super(lt),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(lt){return this.decoderPath=lt,this}setDecoderConfig(lt){return this.decoderConfig=lt,this}setWorkerLimit(lt){return this.workerLimit=lt,this}load(lt,ft,vt,St){const Et=new FileLoader(this.manager);Et.setPath(this.path),Et.setResponseType("arraybuffer"),Et.setRequestHeader(this.requestHeader),Et.setWithCredentials(this.withCredentials),Et.load(lt,At=>{const Ct={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(At,Ct).then(ft).catch(St)},vt,St)}decodeDracoFile(lt,ft,vt,St){const Et={attributeIDs:vt||this.defaultAttributeIDs,attributeTypes:St||this.defaultAttributeTypes,useUniqueIDs:!!vt};this.decodeGeometry(lt,Et).then(ft)}decodeGeometry(lt,ft){for(const Tt in ft.attributeTypes){const Rt=ft.attributeTypes[Tt];Rt.BYTES_PER_ELEMENT!==void 0&&(ft.attributeTypes[Tt]=Rt.name)}const vt=JSON.stringify(ft);if(_taskCache.has(lt)){const Tt=_taskCache.get(lt);if(Tt.key===vt)return Tt.promise;if(lt.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let St;const Et=this.workerNextTaskID++,At=lt.byteLength,Ct=this._getWorker(Et,At).then(Tt=>(St=Tt,new Promise((Rt,Bt)=>{St._callbacks[Et]={resolve:Rt,reject:Bt},St.postMessage({type:"decode",id:Et,taskConfig:ft,buffer:lt},[lt])}))).then(Tt=>this._createGeometry(Tt.geometry));return Ct.catch(()=>!0).then(()=>{St&&Et&&this._releaseTask(St,Et)}),_taskCache.set(lt,{key:vt,promise:Ct}),Ct}_createGeometry(lt){const ft=new BufferGeometry;lt.index&&ft.setIndex(new BufferAttribute(lt.index.array,1));for(let vt=0;vt<lt.attributes.length;vt++){const St=lt.attributes[vt],Et=St.name,At=St.array,Ct=St.itemSize;ft.setAttribute(Et,new BufferAttribute(At,Ct))}return ft}_loadLibrary(lt,ft){const vt=new FileLoader(this.manager);return vt.setPath(this.decoderPath),vt.setResponseType(ft),vt.setWithCredentials(this.withCredentials),new Promise((St,Et)=>{vt.load(lt,St,void 0,Et)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const lt=typeof WebAssembly!="object"||this.decoderConfig.type==="js",ft=[];return lt?ft.push(this._loadLibrary("draco_decoder.js","text")):(ft.push(this._loadLibrary("draco_wasm_wrapper.js","text")),ft.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(ft).then(vt=>{const St=vt[0];lt||(this.decoderConfig.wasmBinary=vt[1]);const Et=DRACOWorker.toString(),At=["/* draco decoder */",St,"","/* worker */",Et.substring(Et.indexOf("{")+1,Et.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([At]))}),this.decoderPending}_getWorker(lt,ft){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const St=new Worker(this.workerSourceURL);St._callbacks={},St._taskCosts={},St._taskLoad=0,St.postMessage({type:"init",decoderConfig:this.decoderConfig}),St.onmessage=function(Et){const At=Et.data;switch(At.type){case"decode":St._callbacks[At.id].resolve(At);break;case"error":St._callbacks[At.id].reject(At);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+At.type+'"')}},this.workerPool.push(St)}else this.workerPool.sort(function(St,Et){return St._taskLoad>Et._taskLoad?-1:1});const vt=this.workerPool[this.workerPool.length-1];return vt._taskCosts[lt]=ft,vt._taskLoad+=ft,vt})}_releaseTask(lt,ft){lt._taskLoad-=lt._taskCosts[ft],delete lt._callbacks[ft],delete lt._taskCosts[ft]}debug(){console.log("Task load: ",this.workerPool.map(lt=>lt._taskLoad))}dispose(){for(let lt=0;lt<this.workerPool.length;++lt)this.workerPool[lt].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let dt,lt;onmessage=function(At){const Ct=At.data;switch(Ct.type){case"init":dt=Ct.decoderConfig,lt=new Promise(function(Bt){dt.onModuleLoaded=function(Ft){Bt({draco:Ft})},DracoDecoderModule(dt)});break;case"decode":const Tt=Ct.buffer,Rt=Ct.taskConfig;lt.then(Bt=>{const Ft=Bt.draco,Dt=new Ft.Decoder,kt=new Ft.DecoderBuffer;kt.Init(new Int8Array(Tt),Tt.byteLength);try{const zt=ft(Ft,Dt,kt,Rt),Ht=zt.attributes.map(en=>en.array.buffer);zt.index&&Ht.push(zt.index.array.buffer),self.postMessage({type:"decode",id:Ct.id,geometry:zt},Ht)}catch(zt){console.error(zt),self.postMessage({type:"error",id:Ct.id,error:zt.message})}finally{Ft.destroy(kt),Ft.destroy(Dt)}});break}};function ft(At,Ct,Tt,Rt){const Bt=Rt.attributeIDs,Ft=Rt.attributeTypes;let Dt,kt;const zt=Ct.GetEncodedGeometryType(Tt);if(zt===At.TRIANGULAR_MESH)Dt=new At.Mesh,kt=Ct.DecodeBufferToMesh(Tt,Dt);else if(zt===At.POINT_CLOUD)Dt=new At.PointCloud,kt=Ct.DecodeBufferToPointCloud(Tt,Dt);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!kt.ok()||Dt.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+kt.error_msg());const Ht={index:null,attributes:[]};for(const en in Bt){const Kt=self[Ft[en]];let Zt,Wt;if(Rt.useUniqueIDs)Wt=Bt[en],Zt=Ct.GetAttributeByUniqueId(Dt,Wt);else{if(Wt=Ct.GetAttributeId(Dt,At[Bt[en]]),Wt===-1)continue;Zt=Ct.GetAttribute(Dt,Wt)}Ht.attributes.push(St(At,Ct,Dt,en,Kt,Zt))}return zt===At.TRIANGULAR_MESH&&(Ht.index=vt(At,Ct,Dt)),At.destroy(Dt),Ht}function vt(At,Ct,Tt){const Bt=Tt.num_faces()*3,Ft=Bt*4,Dt=At._malloc(Ft);Ct.GetTrianglesUInt32Array(Tt,Ft,Dt);const kt=new Uint32Array(At.HEAPF32.buffer,Dt,Bt).slice();return At._free(Dt),{array:kt,itemSize:1}}function St(At,Ct,Tt,Rt,Bt,Ft){const Dt=Ft.num_components(),zt=Tt.num_points()*Dt,Ht=zt*Bt.BYTES_PER_ELEMENT,en=Et(At,Bt),Kt=At._malloc(Ht);Ct.GetAttributeDataArrayForAllPoints(Tt,Ft,en,Ht,Kt);const Zt=new Bt(At.HEAPF32.buffer,Kt,zt).slice();return At._free(Kt),{name:Rt,array:Zt,itemSize:Dt}}function Et(At,Ct){switch(Ct){case Float32Array:return At.DT_FLOAT32;case Int8Array:return At.DT_INT8;case Int16Array:return At.DT_INT16;case Int32Array:return At.DT_INT32;case Uint8Array:return At.DT_UINT8;case Uint16Array:return At.DT_UINT16;case Uint32Array:return At.DT_UINT32}}}const _box$1=new Box3,_vector=new Vector3;class LineSegmentsGeometry extends InstancedBufferGeometry{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const lt=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],ft=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],vt=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2))}applyMatrix4(lt){const ft=this.attributes.instanceStart,vt=this.attributes.instanceEnd;return ft!==void 0&&(ft.applyMatrix4(lt),vt.applyMatrix4(lt),ft.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(lt){let ft;lt instanceof Float32Array?ft=lt:Array.isArray(lt)&&(ft=new Float32Array(lt));const vt=new InstancedInterleavedBuffer(ft,6,1);return this.setAttribute("instanceStart",new InterleavedBufferAttribute(vt,3,0)),this.setAttribute("instanceEnd",new InterleavedBufferAttribute(vt,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(lt){let ft;lt instanceof Float32Array?ft=lt:Array.isArray(lt)&&(ft=new Float32Array(lt));const vt=new InstancedInterleavedBuffer(ft,6,1);return this.setAttribute("instanceColorStart",new InterleavedBufferAttribute(vt,3,0)),this.setAttribute("instanceColorEnd",new InterleavedBufferAttribute(vt,3,3)),this}fromWireframeGeometry(lt){return this.setPositions(lt.attributes.position.array),this}fromEdgesGeometry(lt){return this.setPositions(lt.attributes.position.array),this}fromMesh(lt){return this.fromWireframeGeometry(new WireframeGeometry(lt.geometry)),this}fromLineSegments(lt){const ft=lt.geometry;return this.setPositions(ft.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const lt=this.attributes.instanceStart,ft=this.attributes.instanceEnd;lt!==void 0&&ft!==void 0&&(this.boundingBox.setFromBufferAttribute(lt),_box$1.setFromBufferAttribute(ft),this.boundingBox.union(_box$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),this.boundingBox===null&&this.computeBoundingBox();const lt=this.attributes.instanceStart,ft=this.attributes.instanceEnd;if(lt!==void 0&&ft!==void 0){const vt=this.boundingSphere.center;this.boundingBox.getCenter(vt);let St=0;for(let Et=0,At=lt.count;Et<At;Et++)_vector.fromBufferAttribute(lt,Et),St=Math.max(St,vt.distanceToSquared(_vector)),_vector.fromBufferAttribute(ft,Et),St=Math.max(St,vt.distanceToSquared(_vector));this.boundingSphere.radius=Math.sqrt(St),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(lt){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(lt)}}class LineGeometry extends LineSegmentsGeometry{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(lt){const ft=lt.length-3,vt=new Float32Array(2*ft);for(let St=0;St<ft;St+=3)vt[2*St]=lt[St],vt[2*St+1]=lt[St+1],vt[2*St+2]=lt[St+2],vt[2*St+3]=lt[St+3],vt[2*St+4]=lt[St+4],vt[2*St+5]=lt[St+5];return super.setPositions(vt),this}setColors(lt){const ft=lt.length-3,vt=new Float32Array(2*ft);for(let St=0;St<ft;St+=3)vt[2*St]=lt[St],vt[2*St+1]=lt[St+1],vt[2*St+2]=lt[St+2],vt[2*St+3]=lt[St+3],vt[2*St+4]=lt[St+4],vt[2*St+5]=lt[St+5];return super.setColors(vt),this}fromLine(lt){const ft=lt.geometry;return this.setPositions(ft.attributes.position.array),this}}class LineMaterial extends ShaderMaterial{constructor(lt){super({type:"LineMaterial",uniforms:UniformsUtils.clone(UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Vector2(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <encodings_fragment>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(ft){this.uniforms.diffuse.value=ft}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(ft){ft===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(ft){this.uniforms.linewidth.value=ft}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(ft){!!ft!="USE_DASH"in this.defines&&(this.needsUpdate=!0),ft===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(ft){this.uniforms.dashScale.value=ft}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(ft){this.uniforms.dashSize.value=ft}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(ft){this.uniforms.dashOffset.value=ft}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(ft){this.uniforms.gapSize.value=ft}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(ft){this.uniforms.opacity.value=ft}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(ft){this.uniforms.resolution.value.copy(ft)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(ft){!!ft!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),ft===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(lt)}}const _start=new Vector3,_end=new Vector3,_start4=new Vector4,_end4=new Vector4,_ssOrigin=new Vector4,_ssOrigin3=new Vector3,_mvMatrix=new Matrix4,_line=new Line3,_closestPoint=new Vector3,_box=new Box3,_sphere=new Sphere$1,_clipToWorldVector=new Vector4;let _ray,_instanceStart,_instanceEnd,_lineWidth;function getWorldSpaceHalfWidth(dt,lt,ft){return _clipToWorldVector.set(0,0,-lt,1).applyMatrix4(dt.projectionMatrix),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),_clipToWorldVector.x=_lineWidth/ft.width,_clipToWorldVector.y=_lineWidth/ft.height,_clipToWorldVector.applyMatrix4(dt.projectionMatrixInverse),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),Math.abs(Math.max(_clipToWorldVector.x,_clipToWorldVector.y))}function raycastWorldUnits(dt,lt){for(let ft=0,vt=_instanceStart.count;ft<vt;ft++){_line.start.fromBufferAttribute(_instanceStart,ft),_line.end.fromBufferAttribute(_instanceEnd,ft);const St=new Vector3,Et=new Vector3;_ray.distanceSqToSegment(_line.start,_line.end,Et,St),Et.distanceTo(St)<_lineWidth*.5&&lt.push({point:Et,pointOnLine:St,distance:_ray.origin.distanceTo(Et),object:dt,face:null,faceIndex:ft,uv:null,uv2:null})}}function raycastScreenSpace(dt,lt,ft){const vt=lt.projectionMatrix,Et=dt.material.resolution,At=dt.matrixWorld,Ct=dt.geometry,Tt=Ct.attributes.instanceStart,Rt=Ct.attributes.instanceEnd,Bt=-lt.near;_ray.at(1,_ssOrigin),_ssOrigin.w=1,_ssOrigin.applyMatrix4(lt.matrixWorldInverse),_ssOrigin.applyMatrix4(vt),_ssOrigin.multiplyScalar(1/_ssOrigin.w),_ssOrigin.x*=Et.x/2,_ssOrigin.y*=Et.y/2,_ssOrigin.z=0,_ssOrigin3.copy(_ssOrigin),_mvMatrix.multiplyMatrices(lt.matrixWorldInverse,At);for(let Ft=0,Dt=Tt.count;Ft<Dt;Ft++){if(_start4.fromBufferAttribute(Tt,Ft),_end4.fromBufferAttribute(Rt,Ft),_start4.w=1,_end4.w=1,_start4.applyMatrix4(_mvMatrix),_end4.applyMatrix4(_mvMatrix),_start4.z>Bt&&_end4.z>Bt)continue;if(_start4.z>Bt){const Zt=_start4.z-_end4.z,Wt=(_start4.z-Bt)/Zt;_start4.lerp(_end4,Wt)}else if(_end4.z>Bt){const Zt=_end4.z-_start4.z,Wt=(_end4.z-Bt)/Zt;_end4.lerp(_start4,Wt)}_start4.applyMatrix4(vt),_end4.applyMatrix4(vt),_start4.multiplyScalar(1/_start4.w),_end4.multiplyScalar(1/_end4.w),_start4.x*=Et.x/2,_start4.y*=Et.y/2,_end4.x*=Et.x/2,_end4.y*=Et.y/2,_line.start.copy(_start4),_line.start.z=0,_line.end.copy(_end4),_line.end.z=0;const zt=_line.closestPointToPointParameter(_ssOrigin3,!0);_line.at(zt,_closestPoint);const Ht=MathUtils.lerp(_start4.z,_end4.z,zt),en=Ht>=-1&&Ht<=1,Kt=_ssOrigin3.distanceTo(_closestPoint)<_lineWidth*.5;if(en&&Kt){_line.start.fromBufferAttribute(Tt,Ft),_line.end.fromBufferAttribute(Rt,Ft),_line.start.applyMatrix4(At),_line.end.applyMatrix4(At);const Zt=new Vector3,Wt=new Vector3;_ray.distanceSqToSegment(_line.start,_line.end,Wt,Zt),ft.push({point:Wt,pointOnLine:Zt,distance:_ray.origin.distanceTo(Wt),object:dt,face:null,faceIndex:Ft,uv:null,uv2:null})}}}class LineSegments2 extends Mesh{constructor(lt=new LineSegmentsGeometry,ft=new LineMaterial({color:Math.random()*16777215})){super(lt,ft),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const lt=this.geometry,ft=lt.attributes.instanceStart,vt=lt.attributes.instanceEnd,St=new Float32Array(2*ft.count);for(let At=0,Ct=0,Tt=ft.count;At<Tt;At++,Ct+=2)_start.fromBufferAttribute(ft,At),_end.fromBufferAttribute(vt,At),St[Ct]=Ct===0?0:St[Ct-1],St[Ct+1]=St[Ct]+_start.distanceTo(_end);const Et=new InstancedInterleavedBuffer(St,2,1);return lt.setAttribute("instanceDistanceStart",new InterleavedBufferAttribute(Et,1,0)),lt.setAttribute("instanceDistanceEnd",new InterleavedBufferAttribute(Et,1,1)),this}raycast(lt,ft){const vt=this.material.worldUnits,St=lt.camera;St===null&&!vt&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const Et=lt.params.Line2!==void 0&&lt.params.Line2.threshold||0;_ray=lt.ray;const At=this.matrixWorld,Ct=this.geometry,Tt=this.material;_lineWidth=Tt.linewidth+Et,_instanceStart=Ct.attributes.instanceStart,_instanceEnd=Ct.attributes.instanceEnd,Ct.boundingSphere===null&&Ct.computeBoundingSphere(),_sphere.copy(Ct.boundingSphere).applyMatrix4(At);let Rt;if(vt)Rt=_lineWidth*.5;else{const Ft=Math.max(St.near,_sphere.distanceToPoint(_ray.origin));Rt=getWorldSpaceHalfWidth(St,Ft,Tt.resolution)}if(_sphere.radius+=Rt,_ray.intersectsSphere(_sphere)===!1)return;Ct.boundingBox===null&&Ct.computeBoundingBox(),_box.copy(Ct.boundingBox).applyMatrix4(At);let Bt;if(vt)Bt=_lineWidth*.5;else{const Ft=Math.max(St.near,_box.distanceToPoint(_ray.origin));Bt=getWorldSpaceHalfWidth(St,Ft,Tt.resolution)}_box.expandByScalar(Bt),_ray.intersectsBox(_box)!==!1&&(vt?raycastWorldUnits(this,ft):raycastScreenSpace(this,St,ft))}}class Line2 extends LineSegments2{constructor(lt=new LineGeometry,ft=new LineMaterial({color:Math.random()*16777215})){super(lt,ft),this.isLine2=!0,this.type="Line2"}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const dt="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",lt="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",ft=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),vt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let St=dt;WebAssembly.validate(ft)&&(St=lt);let Et;const At=WebAssembly.instantiate(Ct(St),{}).then(Ft=>{Et=Ft.instance,Et.exports.__wasm_call_ctors()});function Ct(Ft){const Dt=new Uint8Array(Ft.length);for(let zt=0;zt<Ft.length;++zt){const Ht=Ft.charCodeAt(zt);Dt[zt]=Ht>96?Ht-71:Ht>64?Ht-65:Ht>47?Ht+4:Ht>46?63:62}let kt=0;for(let zt=0;zt<Ft.length;++zt)Dt[kt++]=Dt[zt]<60?vt[Dt[zt]]:(Dt[zt]-60)*64+Dt[++zt];return Dt.buffer.slice(0,kt)}function Tt(Ft,Dt,kt,zt,Ht,en){const Kt=Et.exports.sbrk,Zt=kt+3&-4,Wt=Kt(Zt*zt),tn=Kt(Ht.length),an=new Uint8Array(Et.exports.memory.buffer);an.set(Ht,tn);const ln=Ft(Wt,kt,zt,tn,Ht.length);if(ln===0&&en&&en(Wt,Zt,zt),Dt.set(an.subarray(Wt,Wt+kt*zt)),Kt(Wt-Kt(0)),ln!==0)throw new Error(`Malformed buffer data: ${ln}`)}const Rt={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Bt={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:At,supported:!0,decodeVertexBuffer(Ft,Dt,kt,zt,Ht){Tt(Et.exports.meshopt_decodeVertexBuffer,Ft,Dt,kt,zt,Et.exports[Rt[Ht]])},decodeIndexBuffer(Ft,Dt,kt,zt){Tt(Et.exports.meshopt_decodeIndexBuffer,Ft,Dt,kt,zt)},decodeIndexSequence(Ft,Dt,kt,zt){Tt(Et.exports.meshopt_decodeIndexSequence,Ft,Dt,kt,zt)},decodeGltfBuffer(Ft,Dt,kt,zt,Ht,en){Tt(Et.exports[Bt[Ht]],Ft,Dt,kt,zt,Et.exports[Rt[en]])}},generated},Line=reactExports.forwardRef(function({points:lt,color:ft="black",vertexColors:vt,linewidth:St,lineWidth:Et,segments:At,dashed:Ct,...Tt},Rt){const Bt=useThree(zt=>zt.size),Ft=reactExports.useMemo(()=>At?new LineSegments2:new Line2,[At]),[Dt]=reactExports.useState(()=>new LineMaterial),kt=reactExports.useMemo(()=>{const zt=At?new LineSegmentsGeometry:new LineGeometry,Ht=lt.map(en=>{const Kt=Array.isArray(en);return en instanceof Vector3?[en.x,en.y,en.z]:en instanceof Vector2?[en.x,en.y,0]:Kt&&en.length===3?[en[0],en[1],en[2]]:Kt&&en.length===2?[en[0],en[1],0]:en});if(zt.setPositions(Ht.flat()),vt){const en=vt.map(Kt=>Kt instanceof Color?Kt.toArray():Kt);zt.setColors(en.flat())}return zt},[lt,At,vt]);return reactExports.useLayoutEffect(()=>{Ft.computeLineDistances()},[lt,Ft]),reactExports.useLayoutEffect(()=>{Ct?Dt.defines.USE_DASH="":delete Dt.defines.USE_DASH,Dt.needsUpdate=!0},[Ct,Dt]),reactExports.useEffect(()=>()=>kt.dispose(),[kt]),reactExports.createElement("primitive",_extends({object:Ft,ref:Rt},Tt),reactExports.createElement("primitive",{object:kt,attach:"geometry"}),reactExports.createElement("primitive",_extends({object:Dt,attach:"material",color:ft,vertexColors:!!vt,resolution:[Bt.width,Bt.height],linewidth:St??Et,dashed:Ct},Tt)))});function workerBootstrap(){var dt=Object.create(null);function lt(St,Et){var At=St.id,Ct=St.name,Tt=St.dependencies;Tt===void 0&&(Tt=[]);var Rt=St.init;Rt===void 0&&(Rt=function(){});var Bt=St.getTransferables;if(Bt===void 0&&(Bt=null),!dt[At])try{Tt=Tt.map(function(Dt){return Dt&&Dt.isWorkerModule&&(lt(Dt,function(kt){if(kt instanceof Error)throw kt}),Dt=dt[Dt.id].value),Dt}),Rt=vt("<"+Ct+">.init",Rt),Bt&&(Bt=vt("<"+Ct+">.getTransferables",Bt));var Ft=null;typeof Rt=="function"?Ft=Rt.apply(void 0,Tt):console.error("worker module init function failed to rehydrate"),dt[At]={id:At,value:Ft,getTransferables:Bt},Et(Ft)}catch(Dt){Dt&&Dt.noLog||console.error(Dt),Et(Dt)}}function ft(St,Et){var At,Ct=St.id,Tt=St.args;(!dt[Ct]||typeof dt[Ct].value!="function")&&Et(new Error("Worker module "+Ct+": not found or its 'init' did not return a function"));try{var Rt=(At=dt[Ct]).value.apply(At,Tt);Rt&&typeof Rt.then=="function"?Rt.then(Bt,function(Ft){return Et(Ft instanceof Error?Ft:new Error(""+Ft))}):Bt(Rt)}catch(Ft){Et(Ft)}function Bt(Ft){try{var Dt=dt[Ct].getTransferables&&dt[Ct].getTransferables(Ft);(!Dt||!Array.isArray(Dt)||!Dt.length)&&(Dt=void 0),Et(Ft,Dt)}catch(kt){console.error(kt),Et(kt)}}}function vt(St,Et){var At=void 0;self.troikaDefine=function(Tt){return At=Tt};var Ct=URL.createObjectURL(new Blob(["/** "+St.replace(/\*/g,"")+` **/

troikaDefine(
`+Et+`
)`],{type:"application/javascript"}));try{importScripts(Ct)}catch(Tt){console.error(Tt)}return URL.revokeObjectURL(Ct),delete self.troikaDefine,At}self.addEventListener("message",function(St){var Et=St.data,At=Et.messageId,Ct=Et.action,Tt=Et.data;try{Ct==="registerModule"&&lt(Tt,function(Rt){Rt instanceof Error?postMessage({messageId:At,success:!1,error:Rt.message}):postMessage({messageId:At,success:!0,result:{isCallable:typeof Rt=="function"}})}),Ct==="callModule"&&ft(Tt,function(Rt,Bt){Rt instanceof Error?postMessage({messageId:At,success:!1,error:Rt.message}):postMessage({messageId:At,success:!0,result:Rt},Bt||void 0)})}catch(Rt){postMessage({messageId:At,success:!1,error:Rt.stack})}})}function defineMainThreadModule(dt){var lt=function(){for(var ft=[],vt=arguments.length;vt--;)ft[vt]=arguments[vt];return lt._getInitResult().then(function(St){if(typeof St=="function")return St.apply(void 0,ft);throw new Error("Worker module function was called but `init` did not return a callable function")})};return lt._getInitResult=function(){var ft=dt.dependencies,vt=dt.init;ft=Array.isArray(ft)?ft.map(function(Et){return Et&&Et._getInitResult?Et._getInitResult():Et}):[];var St=Promise.all(ft).then(function(Et){return vt.apply(null,Et)});return lt._getInitResult=function(){return St},St},lt}var supportsWorkers=function(){var dt=!1;if(typeof window<"u"&&typeof window.document<"u")try{var lt=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));lt.terminate(),dt=!0}catch(ft){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+ft.message+"]")}return supportsWorkers=function(){return dt},dt},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(dt){if((!dt||typeof dt.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var lt=dt.dependencies,ft=dt.init,vt=dt.getTransferables,St=dt.workerId;if(!supportsWorkers())return defineMainThreadModule(dt);St==null&&(St="#default");var Et="workerModule"+ ++_workerModuleId,At=dt.name||Et,Ct=null;lt=lt&&lt.map(function(Rt){return typeof Rt=="function"&&!Rt.workerModuleData&&(_allowInitAsString=!0,Rt=defineWorkerModule({workerId:St,name:"<"+At+"> function dependency: "+Rt.name,init:`function(){return (
`+stringifyFunction(Rt)+`
)}`}),_allowInitAsString=!1),Rt&&Rt.workerModuleData&&(Rt=Rt.workerModuleData),Rt});function Tt(){for(var Rt=[],Bt=arguments.length;Bt--;)Rt[Bt]=arguments[Bt];if(!Ct){Ct=callWorker(St,"registerModule",Tt.workerModuleData);var Ft=function(){Ct=null,registeredModules[St].delete(Ft)};(registeredModules[St]||(registeredModules[St]=new Set)).add(Ft)}return Ct.then(function(Dt){var kt=Dt.isCallable;if(kt)return callWorker(St,"callModule",{id:Et,args:Rt});throw new Error("Worker module function was called but `init` did not return a callable function")})}return Tt.workerModuleData={isWorkerModule:!0,id:Et,name:At,dependencies:lt,init:stringifyFunction(ft),getTransferables:vt&&stringifyFunction(vt)},Tt}function terminateWorker(dt){registeredModules[dt]&&registeredModules[dt].forEach(function(lt){lt()}),workers[dt]&&(workers[dt].terminate(),delete workers[dt])}function stringifyFunction(dt){var lt=dt.toString();return!/^function/.test(lt)&&/^\w+\s*\(/.test(lt)&&(lt="function "+lt),lt}function getWorker(dt){var lt=workers[dt];if(!lt){var ft=stringifyFunction(workerBootstrap);lt=workers[dt]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+dt.replace(/\*/g,"")+` **/

;(`+ft+")()"],{type:"application/javascript"}))),lt.onmessage=function(vt){var St=vt.data,Et=St.messageId,At=openRequests[Et];if(!At)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[Et],At(St)}}return lt}function callWorker(dt,lt,ft){return new Promise(function(vt,St){var Et=++_messageId;openRequests[Et]=function(At){At.success?vt(At.result):St(new Error("Error in worker "+lt+" call: "+At.error))},getWorker(dt).postMessage({messageId:Et,action:lt,data:ft})})}function SDFGenerator(){var dt=function(lt){function ft(mn,bn,Mn,Tn,In,Nn,$n,Gn){var Zn=1-$n;Gn.x=Zn*Zn*mn+2*Zn*$n*Mn+$n*$n*In,Gn.y=Zn*Zn*bn+2*Zn*$n*Tn+$n*$n*Nn}function vt(mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un){var Xn=1-Zn;Un.x=Xn*Xn*Xn*mn+3*Xn*Xn*Zn*Mn+3*Xn*Zn*Zn*In+Zn*Zn*Zn*$n,Un.y=Xn*Xn*Xn*bn+3*Xn*Xn*Zn*Tn+3*Xn*Zn*Zn*Nn+Zn*Zn*Zn*Gn}function St(mn,bn){for(var Mn=/([MLQCZ])([^MLQCZ]*)/g,Tn,In,Nn,$n,Gn;Tn=Mn.exec(mn);){var Zn=Tn[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Un){return parseFloat(Un)});switch(Tn[1]){case"M":$n=In=Zn[0],Gn=Nn=Zn[1];break;case"L":(Zn[0]!==$n||Zn[1]!==Gn)&&bn("L",$n,Gn,$n=Zn[0],Gn=Zn[1]);break;case"Q":{bn("Q",$n,Gn,$n=Zn[2],Gn=Zn[3],Zn[0],Zn[1]);break}case"C":{bn("C",$n,Gn,$n=Zn[4],Gn=Zn[5],Zn[0],Zn[1],Zn[2],Zn[3]);break}case"Z":($n!==In||Gn!==Nn)&&bn("L",$n,Gn,In,Nn);break}}}function Et(mn,bn,Mn){Mn===void 0&&(Mn=16);var Tn={x:0,y:0};St(mn,function(In,Nn,$n,Gn,Zn,Un,Xn,Vn,Wn){switch(In){case"L":bn(Nn,$n,Gn,Zn);break;case"Q":{for(var Dn=Nn,jn=$n,Qn=1;Qn<Mn;Qn++)ft(Nn,$n,Un,Xn,Gn,Zn,Qn/(Mn-1),Tn),bn(Dn,jn,Tn.x,Tn.y),Dn=Tn.x,jn=Tn.y;break}case"C":{for(var ir=Nn,hr=$n,Pr=1;Pr<Mn;Pr++)vt(Nn,$n,Un,Xn,Vn,Wn,Gn,Zn,Pr/(Mn-1),Tn),bn(ir,hr,Tn.x,Tn.y),ir=Tn.x,hr=Tn.y;break}}})}var At="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",Ct="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",Tt=new WeakMap,Rt={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function Bt(mn,bn){var Mn=mn.getContext?mn.getContext("webgl",Rt):mn,Tn=Tt.get(Mn);if(!Tn){let ir=function(mr){var On=Nn[mr];if(!On&&(On=Nn[mr]=Mn.getExtension(mr),!On))throw new Error(mr+" not supported");return On},hr=function(mr,On){var Bn=Mn.createShader(On);return Mn.shaderSource(Bn,mr),Mn.compileShader(Bn),Bn},Pr=function(mr,On,Bn,Yn){if(!$n[mr]){var ur={},Cr={},Ar=Mn.createProgram();Mn.attachShader(Ar,hr(On,Mn.VERTEX_SHADER)),Mn.attachShader(Ar,hr(Bn,Mn.FRAGMENT_SHADER)),Mn.linkProgram(Ar),$n[mr]={program:Ar,transaction:function(Br){Mn.useProgram(Ar),Br({setUniform:function(kr,Jn){for(var cr=[],Sr=arguments.length-2;Sr-- >0;)cr[Sr]=arguments[Sr+2];var _r=Cr[Jn]||(Cr[Jn]=Mn.getUniformLocation(Ar,Jn));Mn["uniform"+kr].apply(Mn,[_r].concat(cr))},setAttribute:function(kr,Jn,cr,Sr,_r){var Dr=ur[kr];Dr||(Dr=ur[kr]={buf:Mn.createBuffer(),loc:Mn.getAttribLocation(Ar,kr),data:null}),Mn.bindBuffer(Mn.ARRAY_BUFFER,Dr.buf),Mn.vertexAttribPointer(Dr.loc,Jn,Mn.FLOAT,!1,0,0),Mn.enableVertexAttribArray(Dr.loc),In?Mn.vertexAttribDivisor(Dr.loc,Sr):ir("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Dr.loc,Sr),_r!==Dr.data&&(Mn.bufferData(Mn.ARRAY_BUFFER,_r,cr),Dr.data=_r)}})}}}$n[mr].transaction(Yn)},tr=function(mr,On){Zn++;try{Mn.activeTexture(Mn.TEXTURE0+Zn);var Bn=Gn[mr];Bn||(Bn=Gn[mr]=Mn.createTexture(),Mn.bindTexture(Mn.TEXTURE_2D,Bn),Mn.texParameteri(Mn.TEXTURE_2D,Mn.TEXTURE_MIN_FILTER,Mn.NEAREST),Mn.texParameteri(Mn.TEXTURE_2D,Mn.TEXTURE_MAG_FILTER,Mn.NEAREST)),Mn.bindTexture(Mn.TEXTURE_2D,Bn),On(Bn,Zn)}finally{Zn--}},xr=function(mr,On,Bn){var Yn=Mn.createFramebuffer();Un.push(Yn),Mn.bindFramebuffer(Mn.FRAMEBUFFER,Yn),Mn.activeTexture(Mn.TEXTURE0+On),Mn.bindTexture(Mn.TEXTURE_2D,mr),Mn.framebufferTexture2D(Mn.FRAMEBUFFER,Mn.COLOR_ATTACHMENT0,Mn.TEXTURE_2D,mr,0);try{Bn(Yn)}finally{Mn.deleteFramebuffer(Yn),Mn.bindFramebuffer(Mn.FRAMEBUFFER,Un[--Un.length-1]||null)}},Tr=function(){Nn={},$n={},Gn={},Zn=-1,Un.length=0};var Xn=ir,Vn=hr,Wn=Pr,Dn=tr,jn=xr,Qn=Tr,In=typeof WebGL2RenderingContext<"u"&&Mn instanceof WebGL2RenderingContext,Nn={},$n={},Gn={},Zn=-1,Un=[];Mn.canvas.addEventListener("webglcontextlost",function(mr){Tr(),mr.preventDefault()},!1),Tt.set(Mn,Tn={gl:Mn,isWebGL2:In,getExtension:ir,withProgram:Pr,withTexture:tr,withTextureFramebuffer:xr,handleContextLoss:Tr})}bn(Tn)}function Ft(mn,bn,Mn,Tn,In,Nn,$n,Gn){$n===void 0&&($n=15),Gn===void 0&&(Gn=null),Bt(mn,function(Zn){var Un=Zn.gl,Xn=Zn.withProgram,Vn=Zn.withTexture;Vn("copy",function(Wn,Dn){Un.texImage2D(Un.TEXTURE_2D,0,Un.RGBA,In,Nn,0,Un.RGBA,Un.UNSIGNED_BYTE,bn),Xn("copy",At,Ct,function(jn){var Qn=jn.setUniform,ir=jn.setAttribute;ir("aUV",2,Un.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Qn("1i","image",Dn),Un.bindFramebuffer(Un.FRAMEBUFFER,Gn||null),Un.disable(Un.BLEND),Un.colorMask($n&8,$n&4,$n&2,$n&1),Un.viewport(Mn,Tn,In,Nn),Un.scissor(Mn,Tn,In,Nn),Un.drawArrays(Un.TRIANGLES,0,3)})})})}function Dt(mn,bn,Mn){var Tn=mn.width,In=mn.height;Bt(mn,function(Nn){var $n=Nn.gl,Gn=new Uint8Array(Tn*In*4);$n.readPixels(0,0,Tn,In,$n.RGBA,$n.UNSIGNED_BYTE,Gn),mn.width=bn,mn.height=Mn,Ft($n,Gn,0,0,Tn,In)})}var kt=Object.freeze({__proto__:null,withWebGLContext:Bt,renderImageData:Ft,resizeWebGLCanvasWithoutClearing:Dt});function zt(mn,bn,Mn,Tn,In,Nn){Nn===void 0&&(Nn=1);var $n=new Uint8Array(mn*bn),Gn=Tn[2]-Tn[0],Zn=Tn[3]-Tn[1],Un=[];Et(Mn,function(ir,hr,Pr,tr){Un.push({x1:ir,y1:hr,x2:Pr,y2:tr,minX:Math.min(ir,Pr),minY:Math.min(hr,tr),maxX:Math.max(ir,Pr),maxY:Math.max(hr,tr)})}),Un.sort(function(ir,hr){return ir.maxX-hr.maxX});for(var Xn=0;Xn<mn;Xn++)for(var Vn=0;Vn<bn;Vn++){var Wn=jn(Tn[0]+Gn*(Xn+.5)/mn,Tn[1]+Zn*(Vn+.5)/bn),Dn=Math.pow(1-Math.abs(Wn)/In,Nn)/2;Wn<0&&(Dn=1-Dn),Dn=Math.max(0,Math.min(255,Math.round(Dn*255))),$n[Vn*mn+Xn]=Dn}return $n;function jn(ir,hr){for(var Pr=1/0,tr=1/0,xr=Un.length;xr--;){var Tr=Un[xr];if(Tr.maxX+tr<=ir)break;if(ir+tr>Tr.minX&&hr-tr<Tr.maxY&&hr+tr>Tr.minY){var mr=Kt(ir,hr,Tr.x1,Tr.y1,Tr.x2,Tr.y2);mr<Pr&&(Pr=mr,tr=Math.sqrt(Pr))}}return Qn(ir,hr)&&(tr=-tr),tr}function Qn(ir,hr){for(var Pr=0,tr=Un.length;tr--;){var xr=Un[tr];if(xr.maxX<=ir)break;var Tr=xr.y1>hr!=xr.y2>hr&&ir<(xr.x2-xr.x1)*(hr-xr.y1)/(xr.y2-xr.y1)+xr.x1;Tr&&(Pr+=xr.y1<xr.y2?1:-1)}return Pr!==0}}function Ht(mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un){Nn===void 0&&(Nn=1),Gn===void 0&&(Gn=0),Zn===void 0&&(Zn=0),Un===void 0&&(Un=0),en(mn,bn,Mn,Tn,In,Nn,$n,null,Gn,Zn,Un)}function en(mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un,Xn){Nn===void 0&&(Nn=1),Zn===void 0&&(Zn=0),Un===void 0&&(Un=0),Xn===void 0&&(Xn=0);for(var Vn=zt(mn,bn,Mn,Tn,In,Nn),Wn=new Uint8Array(Vn.length*4),Dn=0;Dn<Vn.length;Dn++)Wn[Dn*4+Xn]=Vn[Dn];Ft($n,Wn,Zn,Un,mn,bn,1<<3-Xn,Gn)}function Kt(mn,bn,Mn,Tn,In,Nn){var $n=In-Mn,Gn=Nn-Tn,Zn=$n*$n+Gn*Gn,Un=Zn?Math.max(0,Math.min(1,((mn-Mn)*$n+(bn-Tn)*Gn)/Zn)):0,Xn=mn-(Mn+Un*$n),Vn=bn-(Tn+Un*Gn);return Xn*Xn+Vn*Vn}var Zt=Object.freeze({__proto__:null,generate:zt,generateIntoCanvas:Ht,generateIntoFramebuffer:en}),Wt="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",tn="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",an="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",ln=new Float32Array([0,0,2,0,0,2]),fn=null,un=!1,pn={},xn=new WeakMap;function An(mn){if(!un&&!En(mn))throw new Error("WebGL generation not supported")}function gn(mn,bn,Mn,Tn,In,Nn,$n){if(Nn===void 0&&(Nn=1),$n===void 0&&($n=null),!$n&&($n=fn,!$n)){var Gn=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Gn)throw new Error("OffscreenCanvas or DOM canvas not supported");$n=fn=Gn.getContext("webgl",{depth:!1})}An($n);var Zn=new Uint8Array(mn*bn*4);Bt($n,function(Wn){var Dn=Wn.gl,jn=Wn.withTexture,Qn=Wn.withTextureFramebuffer;jn("readable",function(ir,hr){Dn.texImage2D(Dn.TEXTURE_2D,0,Dn.RGBA,mn,bn,0,Dn.RGBA,Dn.UNSIGNED_BYTE,null),Qn(ir,hr,function(Pr){Cn(mn,bn,Mn,Tn,In,Nn,Dn,Pr,0,0,0),Dn.readPixels(0,0,mn,bn,Dn.RGBA,Dn.UNSIGNED_BYTE,Zn)})})});for(var Un=new Uint8Array(mn*bn),Xn=0,Vn=0;Xn<Zn.length;Xn+=4)Un[Vn++]=Zn[Xn];return Un}function Ln(mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un){Nn===void 0&&(Nn=1),Gn===void 0&&(Gn=0),Zn===void 0&&(Zn=0),Un===void 0&&(Un=0),Cn(mn,bn,Mn,Tn,In,Nn,$n,null,Gn,Zn,Un)}function Cn(mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un,Xn){Nn===void 0&&(Nn=1),Zn===void 0&&(Zn=0),Un===void 0&&(Un=0),Xn===void 0&&(Xn=0),An($n);var Vn=[];Et(Mn,function(Wn,Dn,jn,Qn){Vn.push(Wn,Dn,jn,Qn)}),Vn=new Float32Array(Vn),Bt($n,function(Wn){var Dn=Wn.gl,jn=Wn.isWebGL2,Qn=Wn.getExtension,ir=Wn.withProgram,hr=Wn.withTexture,Pr=Wn.withTextureFramebuffer,tr=Wn.handleContextLoss;if(hr("rawDistances",function(xr,Tr){(mn!==xr._lastWidth||bn!==xr._lastHeight)&&Dn.texImage2D(Dn.TEXTURE_2D,0,Dn.RGBA,xr._lastWidth=mn,xr._lastHeight=bn,0,Dn.RGBA,Dn.UNSIGNED_BYTE,null),ir("main",Wt,tn,function(mr){var On=mr.setAttribute,Bn=mr.setUniform,Yn=!jn&&Qn("ANGLE_instanced_arrays"),ur=!jn&&Qn("EXT_blend_minmax");On("aUV",2,Dn.STATIC_DRAW,0,ln),On("aLineSegment",4,Dn.DYNAMIC_DRAW,1,Vn),Bn.apply(void 0,["4f","uGlyphBounds"].concat(Tn)),Bn("1f","uMaxDistance",In),Bn("1f","uExponent",Nn),Pr(xr,Tr,function(Cr){Dn.enable(Dn.BLEND),Dn.colorMask(!0,!0,!0,!0),Dn.viewport(0,0,mn,bn),Dn.scissor(0,0,mn,bn),Dn.blendFunc(Dn.ONE,Dn.ONE),Dn.blendEquationSeparate(Dn.FUNC_ADD,jn?Dn.MAX:ur.MAX_EXT),Dn.clear(Dn.COLOR_BUFFER_BIT),jn?Dn.drawArraysInstanced(Dn.TRIANGLES,0,3,Vn.length/4):Yn.drawArraysInstancedANGLE(Dn.TRIANGLES,0,3,Vn.length/4)})}),ir("post",At,an,function(mr){mr.setAttribute("aUV",2,Dn.STATIC_DRAW,0,ln),mr.setUniform("1i","tex",Tr),Dn.bindFramebuffer(Dn.FRAMEBUFFER,Gn),Dn.disable(Dn.BLEND),Dn.colorMask(Xn===0,Xn===1,Xn===2,Xn===3),Dn.viewport(Zn,Un,mn,bn),Dn.scissor(Zn,Un,mn,bn),Dn.drawArrays(Dn.TRIANGLES,0,3)})}),Dn.isContextLost())throw tr(),new Error("webgl context lost")})}function En(mn){var bn=!mn||mn===fn?pn:mn.canvas||mn,Mn=xn.get(bn);if(Mn===void 0){un=!0;var Tn=null;try{var In=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Nn=gn(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,mn);Mn=Nn&&In.length===Nn.length&&Nn.every(function($n,Gn){return $n===In[Gn]}),Mn||(Tn="bad trial run results",console.info(In,Nn))}catch($n){Mn=!1,Tn=$n.message}Tn&&console.warn("WebGL SDF generation not supported:",Tn),un=!1,xn.set(bn,Mn)}return Mn}var yn=Object.freeze({__proto__:null,generate:gn,generateIntoCanvas:Ln,generateIntoFramebuffer:Cn,isSupported:En});function Rn(mn,bn,Mn,Tn,In,Nn){In===void 0&&(In=Math.max(Tn[2]-Tn[0],Tn[3]-Tn[1])/2),Nn===void 0&&(Nn=1);try{return gn.apply(yn,arguments)}catch($n){return console.info("WebGL SDF generation failed, falling back to JS",$n),zt.apply(Zt,arguments)}}function hn(mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un){In===void 0&&(In=Math.max(Tn[2]-Tn[0],Tn[3]-Tn[1])/2),Nn===void 0&&(Nn=1),Gn===void 0&&(Gn=0),Zn===void 0&&(Zn=0),Un===void 0&&(Un=0);try{return Ln.apply(yn,arguments)}catch(Xn){return console.info("WebGL SDF generation failed, falling back to JS",Xn),Ht.apply(Zt,arguments)}}return lt.forEachPathCommand=St,lt.generate=Rn,lt.generateIntoCanvas=hn,lt.javascript=Zt,lt.pathToLineSegments=Et,lt.webgl=yn,lt.webglUtils=kt,Object.defineProperty(lt,"__esModule",{value:!0}),lt}({});return dt}function bidiFactory(){var dt=function(lt){var ft={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},vt={},St={};vt.L=1,St[1]="L",Object.keys(ft).forEach(function(tr,xr){vt[tr]=1<<xr+1,St[vt[tr]]=tr}),Object.freeze(vt);var Et=vt.LRI|vt.RLI|vt.FSI,At=vt.L|vt.R|vt.AL,Ct=vt.B|vt.S|vt.WS|vt.ON|vt.FSI|vt.LRI|vt.RLI|vt.PDI,Tt=vt.BN|vt.RLE|vt.LRE|vt.RLO|vt.LRO|vt.PDF,Rt=vt.S|vt.WS|vt.B|Et|vt.PDI|Tt,Bt=null;function Ft(){if(!Bt){Bt=new Map;var tr=function(Tr){if(ft.hasOwnProperty(Tr)){var mr=0;ft[Tr].split(",").forEach(function(On){var Bn=On.split("+"),Yn=Bn[0],ur=Bn[1];Yn=parseInt(Yn,36),ur=ur?parseInt(ur,36):0,Bt.set(mr+=Yn,vt[Tr]);for(var Cr=0;Cr<ur;Cr++)Bt.set(++mr,vt[Tr])})}};for(var xr in ft)tr(xr)}}function Dt(tr){return Ft(),Bt.get(tr.codePointAt(0))||vt.L}function kt(tr){return St[Dt(tr)]}var zt={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function Ht(tr,xr){var Tr=36,mr=0,On=new Map,Bn=xr&&new Map,Yn;return tr.split(",").forEach(function ur(Cr){if(Cr.indexOf("+")!==-1)for(var Ar=+Cr;Ar--;)ur(Yn);else{Yn=Cr;var Fr=Cr.split(">"),Br=Fr[0],pr=Fr[1];Br=String.fromCodePoint(mr+=parseInt(Br,Tr)),pr=String.fromCodePoint(mr+=parseInt(pr,Tr)),On.set(Br,pr),xr&&Bn.set(pr,Br)}}),{map:On,reverseMap:Bn}}var en,Kt,Zt;function Wt(){if(!en){var tr=Ht(zt.pairs,!0),xr=tr.map,Tr=tr.reverseMap;en=xr,Kt=Tr,Zt=Ht(zt.canonical,!1).map}}function tn(tr){return Wt(),en.get(tr)||null}function an(tr){return Wt(),Kt.get(tr)||null}function ln(tr){return Wt(),Zt.get(tr)||null}var fn=vt.L,un=vt.R,pn=vt.EN,xn=vt.ES,An=vt.ET,gn=vt.AN,Ln=vt.CS,Cn=vt.B,En=vt.S,yn=vt.ON,Rn=vt.BN,hn=vt.NSM,mn=vt.AL,bn=vt.LRO,Mn=vt.RLO,Tn=vt.LRE,In=vt.RLE,Nn=vt.PDF,$n=vt.LRI,Gn=vt.RLI,Zn=vt.FSI,Un=vt.PDI;function Xn(tr,xr){for(var Tr=125,mr=new Uint32Array(tr.length),On=0;On<tr.length;On++)mr[On]=Dt(tr[On]);var Bn=new Map;function Yn(Ks,Xs){var ws=mr[Ks];mr[Ks]=Xs,Bn.set(ws,Bn.get(ws)-1),ws&Ct&&Bn.set(Ct,Bn.get(Ct)-1),Bn.set(Xs,(Bn.get(Xs)||0)+1),Xs&Ct&&Bn.set(Ct,(Bn.get(Ct)||0)+1)}for(var ur=new Uint8Array(tr.length),Cr=new Map,Ar=[],Fr=null,Br=0;Br<tr.length;Br++)Fr||Ar.push(Fr={start:Br,end:tr.length-1,level:xr==="rtl"?1:xr==="ltr"?0:Co(Br,!1)}),mr[Br]&Cn&&(Fr.end=Br,Fr=null);for(var pr=In|Tn|Mn|bn|Et|Un|Nn|Cn,kr=function(Ks){return Ks+(Ks&1?1:2)},Jn=function(Ks){return Ks+(Ks&1?2:1)},cr=0;cr<Ar.length;cr++){Fr=Ar[cr];var Sr=[{_level:Fr.level,_override:0,_isolate:0}],_r=void 0,Dr=0,Wr=0,es=0;Bn.clear();for(var qn=Fr.start;qn<=Fr.end;qn++){var dr=mr[qn];if(_r=Sr[Sr.length-1],Bn.set(dr,(Bn.get(dr)||0)+1),dr&Ct&&Bn.set(Ct,(Bn.get(Ct)||0)+1),dr&pr)if(dr&(In|Tn)){ur[qn]=_r._level;var Rr=(dr===In?Jn:kr)(_r._level);Rr<=Tr&&!Dr&&!Wr?Sr.push({_level:Rr,_override:0,_isolate:0}):Dr||Wr++}else if(dr&(Mn|bn)){ur[qn]=_r._level;var Gr=(dr===Mn?Jn:kr)(_r._level);Gr<=Tr&&!Dr&&!Wr?Sr.push({_level:Gr,_override:dr&Mn?un:fn,_isolate:0}):Dr||Wr++}else if(dr&Et){dr&Zn&&(dr=Co(qn+1,!0)===1?Gn:$n),ur[qn]=_r._level,_r._override&&Yn(qn,_r._override);var jr=(dr===Gn?Jn:kr)(_r._level);jr<=Tr&&Dr===0&&Wr===0?(es++,Sr.push({_level:jr,_override:0,_isolate:1,_isolInitIndex:qn})):Dr++}else if(dr&Un){if(Dr>0)Dr--;else if(es>0){for(Wr=0;!Sr[Sr.length-1]._isolate;)Sr.pop();var ts=Sr[Sr.length-1]._isolInitIndex;ts!=null&&(Cr.set(ts,qn),Cr.set(qn,ts)),Sr.pop(),es--}_r=Sr[Sr.length-1],ur[qn]=_r._level,_r._override&&Yn(qn,_r._override)}else dr&Nn?(Dr===0&&(Wr>0?Wr--:!_r._isolate&&Sr.length>1&&(Sr.pop(),_r=Sr[Sr.length-1])),ur[qn]=_r._level):dr&Cn&&(ur[qn]=Fr.level);else ur[qn]=_r._level,_r._override&&dr!==Rn&&Yn(qn,_r._override)}for(var _s=[],Es=null,xs=Fr.start;xs<=Fr.end;xs++){var gs=mr[xs];if(!(gs&Tt)){var As=ur[xs],vs=gs&Et,oo=gs===Un;Es&&As===Es._level?(Es._end=xs,Es._endsWithIsolInit=vs):_s.push(Es={_start:xs,_end:xs,_level:As,_startsWithPDI:oo,_endsWithIsolInit:vs})}}for(var no=[],Ms=0;Ms<_s.length;Ms++){var Ns=_s[Ms];if(!Ns._startsWithPDI||Ns._startsWithPDI&&!Cr.has(Ns._start)){for(var zn=[Es=Ns],sr=void 0;Es&&Es._endsWithIsolInit&&(sr=Cr.get(Es._end))!=null;)for(var yr=Ms+1;yr<_s.length;yr++)if(_s[yr]._start===sr){zn.push(Es=_s[yr]);break}for(var ar=[],br=0;br<zn.length;br++)for(var Kr=zn[br],Yr=Kr._start;Yr<=Kr._end;Yr++)ar.push(Yr);for(var Zr=ur[ar[0]],as=Fr.level,cs=ar[0]-1;cs>=0;cs--)if(!(mr[cs]&Tt)){as=ur[cs];break}var fs=ar[ar.length-1],ds=ur[fs],Ds=Fr.level;if(!(mr[fs]&Et)){for(var Fs=fs+1;Fs<=Fr.end;Fs++)if(!(mr[Fs]&Tt)){Ds=ur[Fs];break}}no.push({_seqIndices:ar,_sosType:Math.max(as,Zr)%2?un:fn,_eosType:Math.max(Ds,ds)%2?un:fn})}}for(var ho=0;ho<no.length;ho++){var So=no[ho],Nr=So._seqIndices,ns=So._sosType,Qo=So._eosType;if(Bn.get(hn))for(var bs=0;bs<Nr.length;bs++){var wo=Nr[bs];if(mr[wo]&hn){for(var No=ns,Gs=bs-1;Gs>=0;Gs--)if(!(mr[Nr[Gs]]&Tt)){No=mr[Nr[Gs]];break}Yn(wo,No&(Et|Un)?yn:No)}}if(Bn.get(pn))for(var ro=0;ro<Nr.length;ro++){var ss=Nr[ro];if(mr[ss]&pn)for(var hs=ro-1;hs>=-1;hs--){var po=hs===-1?ns:mr[Nr[hs]];if(po&At){po===mn&&Yn(ss,gn);break}}}if(Bn.get(mn))for(var Cs=0;Cs<Nr.length;Cs++){var js=Nr[Cs];mr[js]&mn&&Yn(js,un)}if(Bn.get(xn)||Bn.get(Ln))for(var Zs=1;Zs<Nr.length-1;Zs++){var Eo=Nr[Zs];if(mr[Eo]&(xn|Ln)){for(var ks=0,qo=0,El=Zs-1;El>=0&&(ks=mr[Nr[El]],!!(ks&Tt));El--);for(var Il=Zs+1;Il<Nr.length&&(qo=mr[Nr[Il]],!!(qo&Tt));Il++);ks===qo&&(mr[Eo]===xn?ks===pn:ks&(pn|gn))&&Yn(Eo,ks)}}if(Bn.get(pn))for(var Go=0;Go<Nr.length;Go++){var ou=Nr[Go];if(mr[ou]&pn){for(var ao=Go-1;ao>=0&&mr[Nr[ao]]&(An|Tt);ao--)Yn(Nr[ao],pn);for(var Al=Go+1;Al<Nr.length&&mr[Nr[Al]]&(An|Tt);Al++)Yn(Nr[Al],pn)}}if(Bn.get(An)||Bn.get(xn)||Bn.get(Ln))for(var Cl=0;Cl<Nr.length;Cl++){var au=Nr[Cl];if(mr[au]&(An|xn|Ln)){Yn(au,yn);for(var Uo=Cl-1;Uo>=0&&mr[Nr[Uo]]&Tt;Uo--)Yn(Nr[Uo],yn);for(var To=Cl+1;To<Nr.length&&mr[Nr[To]]&Tt;To++)Yn(Nr[To],yn)}}if(Bn.get(pn))for(var go=0,Ml=ns;go<Nr.length;go++){var lu=Nr[go],Po=mr[lu];Po&pn?Ml===fn&&Yn(lu,fn):Po&At&&(Ml=Po)}if(Bn.get(Ct)){var Yo=un|pn|gn,Fl=Yo|fn,Vo=[];{for(var yl=[],zo=0;zo<Nr.length;zo++)if(mr[Nr[zo]]&Ct){var os=tr[Nr[zo]],Dl=void 0;if(tn(os)!==null)if(yl.length<63)yl.push({char:os,seqIndex:zo});else break;else if((Dl=an(os))!==null)for(var Zo=yl.length-1;Zo>=0;Zo--){var na=yl[Zo].char;if(na===Dl||na===an(ln(os))||tn(ln(na))===os){Vo.push([yl[Zo].seqIndex,zo]),yl.length=Zo;break}}}Vo.sort(function(Ks,Xs){return Ks[0]-Xs[0]})}for(var Kl=0;Kl<Vo.length;Kl++){for(var Ol=Vo[Kl],Us=Ol[0],ga=Ol[1],Xl=!1,lo=0,_a=Us+1;_a<ga;_a++){var xa=Nr[_a];if(mr[xa]&Fl){Xl=!0;var Ao=mr[xa]&Yo?un:fn;if(Ao===uo(xa)){lo=Ao;break}}}if(Xl&&!lo){lo=ns;for(var Jl=Us-1;Jl>=0;Jl--){var Nl=Nr[Jl];if(mr[Nl]&Fl){var Hn=mr[Nl]&Yo?un:fn;Hn!==uo(Nl)?lo=Hn:lo=uo(Nl);break}}}if(lo){if(mr[Nr[Us]]=mr[Nr[ga]]=lo,lo!==uo(Nr[Us])){for(var nr=Us+1;nr<Nr.length;nr++)if(!(mr[Nr[nr]]&Tt)){Dt(tr[Nr[nr]])&hn&&(mr[Nr[nr]]=lo);break}}if(lo!==uo(Nr[ga])){for(var Ir=ga+1;Ir<Nr.length;Ir++)if(!(mr[Nr[Ir]]&Tt)){Dt(tr[Nr[Ir]])&hn&&(mr[Nr[Ir]]=lo);break}}}}for(var Vr=0;Vr<Nr.length;Vr++)if(mr[Nr[Vr]]&Ct){for(var Rs=Vr,rs=Vr,Ss=ns,Vs=Vr-1;Vs>=0;Vs--)if(mr[Nr[Vs]]&Tt)Rs=Vs;else{Ss=mr[Nr[Vs]]&Yo?un:fn;break}for(var zs=Qo,Ls=Vr+1;Ls<Nr.length;Ls++)if(mr[Nr[Ls]]&(Ct|Tt))rs=Ls;else{zs=mr[Nr[Ls]]&Yo?un:fn;break}for(var Bs=Rs;Bs<=rs;Bs++)mr[Nr[Bs]]=Ss===zs?Ss:uo(Nr[Bs]);Vr=rs}}}for(var Is=Fr.start;Is<=Fr.end;Is++){var Ws=ur[Is],$s=mr[Is];if(Ws&1?$s&(fn|pn|gn)&&ur[Is]++:$s&un?ur[Is]++:$s&(gn|pn)&&(ur[Is]+=2),$s&Tt&&(ur[Is]=Is===0?Fr.level:ur[Is-1]),Is===Fr.end||Dt(tr[Is])&(En|Cn))for(var qs=Is;qs>=0&&Dt(tr[qs])&Rt;qs--)ur[qs]=Fr.level}}return{levels:ur,paragraphs:Ar};function Co(Ks,Xs){for(var ws=Ks;ws<tr.length;ws++){var io=mr[ws];if(io&(un|mn))return 1;if(io&(Cn|fn)||Xs&&io===Un)return 0;if(io&Et){var ba=Ro(ws);ws=ba===-1?tr.length:ba}}return 0}function Ro(Ks){for(var Xs=1,ws=Ks+1;ws<tr.length;ws++){var io=mr[ws];if(io&Cn)break;if(io&Un){if(--Xs===0)return ws}else io&Et&&Xs++}return-1}function uo(Ks){return ur[Ks]&1?un:fn}}var Vn="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Wn;function Dn(){if(!Wn){var tr=Ht(Vn,!0),xr=tr.map,Tr=tr.reverseMap;Tr.forEach(function(mr,On){xr.set(On,mr)}),Wn=xr}}function jn(tr){return Dn(),Wn.get(tr)||null}function Qn(tr,xr,Tr,mr){var On=tr.length;Tr=Math.max(0,Tr==null?0:+Tr),mr=Math.min(On-1,mr==null?On-1:+mr);for(var Bn=new Map,Yn=Tr;Yn<=mr;Yn++)if(xr[Yn]&1){var ur=jn(tr[Yn]);ur!==null&&Bn.set(Yn,ur)}return Bn}function ir(tr,xr,Tr,mr){var On=tr.length;Tr=Math.max(0,Tr==null?0:+Tr),mr=Math.min(On-1,mr==null?On-1:+mr);var Bn=[];return xr.paragraphs.forEach(function(Yn){var ur=Math.max(Tr,Yn.start),Cr=Math.min(mr,Yn.end);if(ur<Cr){for(var Ar=xr.levels.slice(ur,Cr+1),Fr=Cr;Fr>=ur&&Dt(tr[Fr])&Rt;Fr--)Ar[Fr]=Yn.level;for(var Br=Yn.level,pr=1/0,kr=0;kr<Ar.length;kr++){var Jn=Ar[kr];Jn>Br&&(Br=Jn),Jn<pr&&(pr=Jn|1)}for(var cr=Br;cr>=pr;cr--)for(var Sr=0;Sr<Ar.length;Sr++)if(Ar[Sr]>=cr){for(var _r=Sr;Sr+1<Ar.length&&Ar[Sr+1]>=cr;)Sr++;Sr>_r&&Bn.push([_r+Tr,Sr+Tr])}}}),Bn}function hr(tr,xr,Tr,mr){var On=Pr(tr,xr,Tr,mr),Bn=[].concat(tr);return On.forEach(function(Yn,ur){Bn[ur]=(xr.levels[Yn]&1?jn(tr[Yn]):null)||tr[Yn]}),Bn.join("")}function Pr(tr,xr,Tr,mr){for(var On=ir(tr,xr,Tr,mr),Bn=[],Yn=0;Yn<tr.length;Yn++)Bn[Yn]=Yn;return On.forEach(function(ur){for(var Cr=ur[0],Ar=ur[1],Fr=Bn.slice(Cr,Ar+1),Br=Fr.length;Br--;)Bn[Ar-Br]=Fr[Br]}),Bn}return lt.closingToOpeningBracket=an,lt.getBidiCharType=Dt,lt.getBidiCharTypeName=kt,lt.getCanonicalBracket=ln,lt.getEmbeddingLevels=Xn,lt.getMirroredCharacter=jn,lt.getMirroredCharactersMap=Qn,lt.getReorderSegments=ir,lt.getReorderedIndices=Pr,lt.getReorderedString=hr,lt.openingToClosingBracket=tn,Object.defineProperty(lt,"__esModule",{value:!0}),lt}({});return dt}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(dt){const lt=/^[ \t]*#include +<([\w\d./]+)>/gm;function ft(vt,St){let Et=ShaderChunk[St];return Et?expandShaderIncludes(Et):vt}return dt.replace(lt,ft)}const _lut=[];for(let dt=0;dt<256;dt++)_lut[dt]=(dt<16?"0":"")+dt.toString(16);function generateUUID(){const dt=Math.random()*4294967295|0,lt=Math.random()*4294967295|0,ft=Math.random()*4294967295|0,vt=Math.random()*4294967295|0;return(_lut[dt&255]+_lut[dt>>8&255]+_lut[dt>>16&255]+_lut[dt>>24&255]+"-"+_lut[lt&255]+_lut[lt>>8&255]+"-"+_lut[lt>>16&15|64]+_lut[lt>>24&255]+"-"+_lut[ft&63|128]+_lut[ft>>8&255]+"-"+_lut[ft>>16&255]+_lut[ft>>24&255]+_lut[vt&255]+_lut[vt>>8&255]+_lut[vt>>16&255]+_lut[vt>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let dt=arguments[0];for(let lt=1,ft=arguments.length;lt<ft;lt++){let vt=arguments[lt];if(vt)for(let St in vt)vt.hasOwnProperty(St)&&(dt[St]=vt[St])}return dt},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(dt,lt){const ft=getKeyForOptions(lt);let vt=CONSTRUCTOR_CACHE.get(dt);if(vt||CONSTRUCTOR_CACHE.set(dt,vt=Object.create(null)),vt[ft])return new vt[ft];const St=`_onBeforeCompile${ft}`,Et=function(Rt){dt.onBeforeCompile.call(this,Rt);const Bt=this.customProgramCacheKey()+"|"+Rt.vertexShader+"|"+Rt.fragmentShader;let Ft=SHADER_UPGRADE_CACHE[Bt];if(!Ft){const Dt=upgradeShaders(Rt,lt,ft);Ft=SHADER_UPGRADE_CACHE[Bt]=Dt}Rt.vertexShader=Ft.vertexShader,Rt.fragmentShader=Ft.fragmentShader,assign$1(Rt.uniforms,this.uniforms),lt.timeUniform&&(Rt.uniforms[lt.timeUniform]={get value(){return Date.now()-epoch}}),this[St]&&this[St](Rt)},At=function(){return Ct(lt.chained?dt:dt.clone())},Ct=function(Rt){const Bt=Object.create(Rt,Tt);return Object.defineProperty(Bt,"baseMaterial",{value:dt}),Object.defineProperty(Bt,"id",{value:materialInstanceId++}),Bt.uuid=generateUUID(),Bt.uniforms=assign$1({},Rt.uniforms,lt.uniforms),Bt.defines=assign$1({},Rt.defines,lt.defines),Bt.defines[`TROIKA_DERIVED_MATERIAL_${ft}`]="",Bt.extensions=assign$1({},Rt.extensions,lt.extensions),Bt._listeners=void 0,Bt},Tt={constructor:{value:At},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return dt.customProgramCacheKey()+"|"+ft}},onBeforeCompile:{get(){return Et},set(Rt){this[St]=Rt}},copy:{writable:!0,configurable:!0,value:function(Rt){return dt.copy.call(this,Rt),!dt.isShaderMaterial&&!dt.isDerivedMaterial&&(assign$1(this.extensions,Rt.extensions),assign$1(this.defines,Rt.defines),assign$1(this.uniforms,UniformsUtils.clone(Rt.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const Rt=new dt.constructor;return Ct(Rt).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let Rt=this._depthMaterial;return Rt||(Rt=this._depthMaterial=createDerivedMaterial(dt.isDerivedMaterial?dt.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),lt),Rt.defines.IS_DEPTH_MATERIAL="",Rt.uniforms=this.uniforms),Rt}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let Rt=this._distanceMaterial;return Rt||(Rt=this._distanceMaterial=createDerivedMaterial(dt.isDerivedMaterial?dt.getDistanceMaterial():new MeshDistanceMaterial,lt),Rt.defines.IS_DISTANCE_MATERIAL="",Rt.uniforms=this.uniforms),Rt}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:Rt,_distanceMaterial:Bt}=this;Rt&&Rt.dispose(),Bt&&Bt.dispose(),dt.dispose.call(this)}}};return vt[ft]=At,new At}function upgradeShaders({vertexShader:dt,fragmentShader:lt},ft,vt){let{vertexDefs:St,vertexMainIntro:Et,vertexMainOutro:At,vertexTransform:Ct,fragmentDefs:Tt,fragmentMainIntro:Rt,fragmentMainOutro:Bt,fragmentColorTransform:Ft,customRewriter:Dt,timeUniform:kt}=ft;if(St=St||"",Et=Et||"",At=At||"",Tt=Tt||"",Rt=Rt||"",Bt=Bt||"",(Ct||Dt)&&(dt=expandShaderIncludes(dt)),(Ft||Dt)&&(lt=lt.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),lt=expandShaderIncludes(lt)),Dt){let zt=Dt({vertexShader:dt,fragmentShader:lt});dt=zt.vertexShader,lt=zt.fragmentShader}if(Ft){let zt=[];lt=lt.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,Ht=>(zt.push(Ht),"")),Bt=`${Ft}
${zt.join(`
`)}
${Bt}`}if(kt){const zt=`
uniform float ${kt};
`;St=zt+St,Tt=zt+Tt}return Ct&&(dt=`vec3 troika_position_${vt};
vec3 troika_normal_${vt};
vec2 troika_uv_${vt};
${dt}
`,St=`${St}
void troikaVertexTransform${vt}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${Ct}
}
`,Et=`
troika_position_${vt} = vec3(position);
troika_normal_${vt} = vec3(normal);
troika_uv_${vt} = vec2(uv);
troikaVertexTransform${vt}(troika_position_${vt}, troika_normal_${vt}, troika_uv_${vt});
${Et}
`,dt=dt.replace(/\b(position|normal|uv)\b/g,(zt,Ht,en,Kt)=>/\battribute\s+vec[23]\s+$/.test(Kt.substr(0,en))?Ht:`troika_${Ht}_${vt}`)),dt=injectIntoShaderCode(dt,vt,St,Et,At),lt=injectIntoShaderCode(lt,vt,Tt,Rt,Bt),{vertexShader:dt,fragmentShader:lt}}function injectIntoShaderCode(dt,lt,ft,vt,St){return(vt||St||ft)&&(dt=dt.replace(voidMainRegExp,`
${ft}
void troikaOrigMain${lt}() {`),dt+=`
void main() {
  ${vt}
  troikaOrigMain${lt}();
  ${St}
}`),dt}function optionsJsonReplacer(dt,lt){return dt==="uniforms"?void 0:typeof lt=="function"?lt.toString():lt}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(dt){const lt=JSON.stringify(dt,optionsJsonReplacer);let ft=optionsHashesToIds.get(lt);return ft==null&&optionsHashesToIds.set(lt,ft=++_idCtr),ft}function createTypesetter(dt,lt,ft){const{defaultFontURL:vt}=ft,St=Object.create(null),Et=1/0,At=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,Ct="[^\\S\\u00A0]",Tt=new RegExp(`${Ct}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function Rt(Zt,Wt){function tn(){const an=ln=>{console.error(`Failure loading font ${Zt}${Zt===vt?"":"; trying fallback"}`,ln),Zt!==vt&&(Zt=vt,tn())};try{const ln=new XMLHttpRequest;ln.open("get",Zt,!0),ln.responseType="arraybuffer",ln.onload=function(){if(ln.status>=400)an(new Error(ln.statusText));else if(ln.status>0)try{const fn=dt(ln.response);Wt(fn)}catch(fn){an(fn)}},ln.onerror=an,ln.send()}catch(ln){an(ln)}}tn()}function Bt(Zt,Wt){Zt||(Zt=vt);let tn=St[Zt];tn?tn.pending?tn.pending.push(Wt):Wt(tn):(St[Zt]={pending:[Wt]},Rt(Zt,an=>{let ln=St[Zt].pending;St[Zt]=an,ln.forEach(fn=>fn(an))}))}function Ft({text:Zt="",font:Wt=vt,sdfGlyphSize:tn=64,fontSize:an=1,letterSpacing:ln=0,lineHeight:fn="normal",maxWidth:un=Et,direction:pn,textAlign:xn="left",textIndent:An=0,whiteSpace:gn="normal",overflowWrap:Ln="normal",anchorX:Cn=0,anchorY:En=0,includeCaretPositions:yn=!1,chunkedBoundsSize:Rn=8192,colorRanges:hn=null},mn,bn=!1){const Mn=Ht(),Tn={fontLoad:0,typesetting:0};Zt.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),Zt=Zt.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),an=+an,ln=+ln,un=+un,fn=fn||"normal",An=+An,Bt(Wt,In=>{const Nn=isFinite(un);let $n=null,Gn=null,Zn=null,Un=null,Xn=null,Vn=null,Wn=null,Dn=0,jn=0,Qn=gn!=="nowrap";const{ascender:ir,descender:hr,unitsPerEm:Pr,lineGap:tr,capHeight:xr,xHeight:Tr}=In;Tn.fontLoad=Ht()-Mn;const mr=Ht(),On=an/Pr;fn==="normal"&&(fn=(ir-hr+tr)/Pr),fn=fn*an;const Bn=(fn-(ir-hr)*On)/2,Yn=-(ir*On+Bn),ur=Math.min(fn,(ir-hr)*On),Cr=(ir+hr)/2*On-ur/2;let Ar=An,Fr=new en;const Br=[Fr];In.forEachGlyph(Zt,an,ln,(Jn,cr,Sr)=>{const _r=Zt.charAt(Sr),Dr=Jn.advanceWidth*On,Wr=Fr.count;let es;if("isEmpty"in Jn||(Jn.isWhitespace=!!_r&&new RegExp(Ct).test(_r),Jn.canBreakAfter=!!_r&&Tt.test(_r),Jn.isEmpty=Jn.xMin===Jn.xMax||Jn.yMin===Jn.yMax||At.test(_r)),!Jn.isWhitespace&&!Jn.isEmpty&&jn++,Qn&&Nn&&!Jn.isWhitespace&&cr+Dr+Ar>un&&Wr){if(Fr.glyphAt(Wr-1).glyphObj.canBreakAfter)es=new en,Ar=-cr;else for(let dr=Wr;dr--;)if(dr===0&&Ln==="break-word"){es=new en,Ar=-cr;break}else if(Fr.glyphAt(dr).glyphObj.canBreakAfter){es=Fr.splitAt(dr+1);const Rr=es.glyphAt(0).x;Ar-=Rr;for(let Gr=es.count;Gr--;)es.glyphAt(Gr).x-=Rr;break}es&&(Fr.isSoftWrapped=!0,Fr=es,Br.push(Fr),Dn=un)}let qn=Fr.glyphAt(Fr.count);qn.glyphObj=Jn,qn.x=cr+Ar,qn.width=Dr,qn.charIndex=Sr,_r===`
`&&(Fr=new en,Br.push(Fr),Ar=-(cr+Dr+ln*an)+An)}),Br.forEach(Jn=>{for(let cr=Jn.count;cr--;){let{glyphObj:Sr,x:_r,width:Dr}=Jn.glyphAt(cr);if(!Sr.isWhitespace){Jn.width=_r+Dr,Jn.width>Dn&&(Dn=Jn.width);return}}});let pr=0,kr=0;if(Cn&&(typeof Cn=="number"?pr=-Cn:typeof Cn=="string"&&(pr=-Dn*(Cn==="left"?0:Cn==="center"?.5:Cn==="right"?1:kt(Cn)))),En){if(typeof En=="number")kr=-En;else if(typeof En=="string"){let Jn=Br.length*fn;kr=En==="top"?0:En==="top-baseline"?-Yn:En==="top-cap"?-Yn-xr*On:En==="top-ex"?-Yn-Tr*On:En==="middle"?Jn/2:En==="bottom"?Jn:En==="bottom-baseline"?Jn-Bn+hr*On:kt(En)*Jn}}if(!bn){const Jn=lt.getEmbeddingLevels(Zt,pn);$n=new Uint16Array(jn),Gn=new Float32Array(jn*2),Zn={},Vn=[Et,Et,-Et,-Et],Wn=[];let cr=Yn;yn&&(Xn=new Float32Array(Zt.length*3)),hn&&(Un=new Uint8Array(jn*3));let Sr=0,_r=-1,Dr=-1,Wr,es;if(Br.forEach((qn,dr)=>{let{count:Rr,width:Gr}=qn;if(Rr>0){let jr=0;for(let As=Rr;As--&&qn.glyphAt(As).glyphObj.isWhitespace;)jr++;let ts=0,_s=0;if(xn==="center")ts=(Dn-Gr)/2;else if(xn==="right")ts=Dn-Gr;else if(xn==="justify"&&qn.isSoftWrapped){let As=0;for(let vs=Rr-jr;vs--;)qn.glyphAt(vs).glyphObj.isWhitespace&&As++;_s=(Dn-Gr)/As}if(_s||ts){let As=0;for(let vs=0;vs<Rr;vs++){let oo=qn.glyphAt(vs);const no=oo.glyphObj;oo.x+=ts+As,_s!==0&&no.isWhitespace&&vs<Rr-jr&&(As+=_s,oo.width+=_s)}}const Es=lt.getReorderSegments(Zt,Jn,qn.glyphAt(0).charIndex,qn.glyphAt(qn.count-1).charIndex);for(let As=0;As<Es.length;As++){const[vs,oo]=Es[As];let no=1/0,Ms=-1/0;for(let Ns=0;Ns<Rr;Ns++)if(qn.glyphAt(Ns).charIndex>=vs){let zn=Ns,sr=Ns;for(;sr<Rr;sr++){let yr=qn.glyphAt(sr);if(yr.charIndex>oo)break;sr<Rr-jr&&(no=Math.min(no,yr.x),Ms=Math.max(Ms,yr.x+yr.width))}for(let yr=zn;yr<sr;yr++){const ar=qn.glyphAt(yr);ar.x=Ms-(ar.x+ar.width-no)}break}}let xs;const gs=As=>xs=As;for(let As=0;As<Rr;As++){let vs=qn.glyphAt(As);xs=vs.glyphObj;const oo=xs.index,no=Jn.levels[vs.charIndex]&1;if(no){const Ms=lt.getMirroredCharacter(Zt[vs.charIndex]);Ms&&In.forEachGlyph(Ms,0,0,gs)}if(yn){const{charIndex:Ms}=vs,Ns=vs.x+pr,zn=vs.x+vs.width+pr;Xn[Ms*3]=no?zn:Ns,Xn[Ms*3+1]=no?Ns:zn,Xn[Ms*3+2]=cr+Cr+kr;const sr=Ms-_r;sr>1&&zt(Xn,_r,sr),_r=Ms}if(hn){const{charIndex:Ms}=vs;for(;Ms>Dr;)Dr++,hn.hasOwnProperty(Dr)&&(es=hn[Dr])}if(!xs.isWhitespace&&!xs.isEmpty){const Ms=Sr++;Zn[oo]||(Zn[oo]={path:xs.path,pathBounds:[xs.xMin,xs.yMin,xs.xMax,xs.yMax]});const Ns=vs.x+pr,zn=cr+kr;Gn[Ms*2]=Ns,Gn[Ms*2+1]=zn;const sr=Ns+xs.xMin*On,yr=zn+xs.yMin*On,ar=Ns+xs.xMax*On,br=zn+xs.yMax*On;sr<Vn[0]&&(Vn[0]=sr),yr<Vn[1]&&(Vn[1]=yr),ar>Vn[2]&&(Vn[2]=ar),br>Vn[3]&&(Vn[3]=br),Ms%Rn===0&&(Wr={start:Ms,end:Ms,rect:[Et,Et,-Et,-Et]},Wn.push(Wr)),Wr.end++;const Kr=Wr.rect;if(sr<Kr[0]&&(Kr[0]=sr),yr<Kr[1]&&(Kr[1]=yr),ar>Kr[2]&&(Kr[2]=ar),br>Kr[3]&&(Kr[3]=br),$n[Ms]=oo,hn){const Yr=Ms*3;Un[Yr]=es>>16&255,Un[Yr+1]=es>>8&255,Un[Yr+2]=es&255}}}}cr-=fn}),Xn){const qn=Zt.length-_r;qn>1&&zt(Xn,_r,qn)}}Tn.typesetting=Ht()-mr,mn({glyphIds:$n,glyphPositions:Gn,glyphData:Zn,caretPositions:Xn,caretHeight:ur,glyphColors:Un,chunkedBounds:Wn,fontSize:an,unitsPerEm:Pr,ascender:ir*On,descender:hr*On,capHeight:xr*On,xHeight:Tr*On,lineHeight:fn,topBaseline:Yn,blockBounds:[pr,kr-Br.length*fn,pr+Dn,kr],visibleBounds:Vn,timings:Tn})})}function Dt(Zt,Wt){Ft(Zt,tn=>{const[an,ln,fn,un]=tn.blockBounds;Wt({width:fn-an,height:un-ln})},{metricsOnly:!0})}function kt(Zt){let Wt=Zt.match(/^([\d.]+)%$/),tn=Wt?parseFloat(Wt[1]):NaN;return isNaN(tn)?0:tn/100}function zt(Zt,Wt,tn){const an=Zt[Wt*3],ln=Zt[Wt*3+1],fn=Zt[Wt*3+2],un=(ln-an)/tn;for(let pn=0;pn<tn;pn++){const xn=(Wt+pn)*3;Zt[xn]=an+un*pn,Zt[xn+1]=an+un*(pn+1),Zt[xn+2]=fn}}function Ht(){return(self.performance||Date).now()}function en(){this.data=[]}const Kt=["glyphObj","x","width","charIndex"];return en.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/Kt.length)},glyphAt(Zt){let Wt=en.flyweight;return Wt.data=this.data,Wt.index=Zt,Wt},splitAt(Zt){let Wt=new en;return Wt.data=this.data.splice(Zt*Kt.length),Wt}},en.flyweight=Kt.reduce((Zt,Wt,tn,an)=>(Object.defineProperty(Zt,Wt,{get(){return this.data[this.index*Kt.length+tn]},set(ln){this.data[this.index*Kt.length+tn]=ln}}),Zt),{data:null,index:0}),{typeset:Ft,measure:Dt,loadFont:Bt}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(dt,lt,ft,vt,St,Et,At,Ct,Tt,Rt,Bt=!0){return Bt?generateSDF_GL(dt,lt,ft,vt,St,Et,At,Ct,Tt,Rt).then(null,Ft=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",Ft),warned=!0),generateSDF_JS_Worker(dt,lt,ft,vt,St,Et,At,Ct,Tt,Rt))):generateSDF_JS_Worker(dt,lt,ft,vt,St,Et,At,Ct,Tt,Rt)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const dt=now();for(;queue.length&&now()-dt<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...dt)=>new Promise((lt,ft)=>{queue.push(()=>{const vt=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...dt),lt({timing:now()-vt})}catch(St){ft(St)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(dt,lt,ft,vt,St,Et,At,Ct,Tt,Rt){const Bt="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let Ft=threads[Bt];return Ft||(Ft=threads[Bt]={workerModule:defineWorkerModule({name:Bt,workerId:Bt,dependencies:[SDFGenerator,now],init(Dt,kt){const zt=Dt().javascript.generate;return function(...Ht){const en=kt();return{textureData:zt(...Ht),timing:kt()-en}}},getTransferables(Dt){return[Dt.textureData.buffer]}}),requests:0,idleTimer:null}),Ft.requests++,clearTimeout(Ft.idleTimer),Ft.workerModule(dt,lt,ft,vt,St,Et).then(({textureData:Dt,timing:kt})=>{const zt=now(),Ht=new Uint8Array(Dt.length*4);for(let en=0;en<Dt.length;en++)Ht[en*4+Rt]=Dt[en];return mainThreadGenerator.webglUtils.renderImageData(At,Ht,Ct,Tt,dt,lt,1<<3-Rt),kt+=now()-zt,--Ft.requests===0&&(Ft.idleTimer=setTimeout(()=>{terminateWorker(Bt)},idleTimeout)),{timing:kt}})}function warmUpSDFCanvas(dt){dt._warm||(mainThreadGenerator.webgl.isSupported(dt),dt._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(dt){var lt={parse:function(St){var Et=lt._bin,At=new Uint8Array(St);if(Et.readASCII(At,0,4)=="ttcf"){var Ct=4;Et.readUshort(At,Ct),Ct+=2,Et.readUshort(At,Ct),Ct+=2;var Tt=Et.readUint(At,Ct);Ct+=4;for(var Rt=[],Bt=0;Bt<Tt;Bt++){var Ft=Et.readUint(At,Ct);Ct+=4,Rt.push(lt._readFont(At,Ft))}return Rt}return[lt._readFont(At,0)]},_readFont:function(St,Et){var At=lt._bin,Ct=Et;At.readFixed(St,Et),Et+=4;var Tt=At.readUshort(St,Et);Et+=2,At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2;for(var Rt=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],Bt={_data:St,_offset:Ct},Ft={},Dt=0;Dt<Tt;Dt++){var kt=At.readASCII(St,Et,4);Et+=4,At.readUint(St,Et),Et+=4;var zt=At.readUint(St,Et);Et+=4;var Ht=At.readUint(St,Et);Et+=4,Ft[kt]={offset:zt,length:Ht}}for(Dt=0;Dt<Rt.length;Dt++){var en=Rt[Dt];Ft[en]&&(Bt[en.trim()]=lt[en.trim()].parse(St,Ft[en].offset,Ft[en].length,Bt))}return Bt},_tabOffset:function(St,Et,At){for(var Ct=lt._bin,Tt=Ct.readUshort(St,At+4),Rt=At+12,Bt=0;Bt<Tt;Bt++){var Ft=Ct.readASCII(St,Rt,4);Rt+=4,Ct.readUint(St,Rt),Rt+=4;var Dt=Ct.readUint(St,Rt);if(Rt+=4,Ct.readUint(St,Rt),Rt+=4,Ft==Et)return Dt}return 0}};lt._bin={readFixed:function(St,Et){return(St[Et]<<8|St[Et+1])+(St[Et+2]<<8|St[Et+3])/65540},readF2dot14:function(St,Et){return lt._bin.readShort(St,Et)/16384},readInt:function(St,Et){return lt._bin._view(St).getInt32(Et)},readInt8:function(St,Et){return lt._bin._view(St).getInt8(Et)},readShort:function(St,Et){return lt._bin._view(St).getInt16(Et)},readUshort:function(St,Et){return lt._bin._view(St).getUint16(Et)},readUshorts:function(St,Et,At){for(var Ct=[],Tt=0;Tt<At;Tt++)Ct.push(lt._bin.readUshort(St,Et+2*Tt));return Ct},readUint:function(St,Et){return lt._bin._view(St).getUint32(Et)},readUint64:function(St,Et){return 4294967296*lt._bin.readUint(St,Et)+lt._bin.readUint(St,Et+4)},readASCII:function(St,Et,At){for(var Ct="",Tt=0;Tt<At;Tt++)Ct+=String.fromCharCode(St[Et+Tt]);return Ct},readUnicode:function(St,Et,At){for(var Ct="",Tt=0;Tt<At;Tt++){var Rt=St[Et++]<<8|St[Et++];Ct+=String.fromCharCode(Rt)}return Ct},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(St,Et,At){var Ct=lt._bin._tdec;return Ct&&Et==0&&At==St.length?Ct.decode(St):lt._bin.readASCII(St,Et,At)},readBytes:function(St,Et,At){for(var Ct=[],Tt=0;Tt<At;Tt++)Ct.push(St[Et+Tt]);return Ct},readASCIIArray:function(St,Et,At){for(var Ct=[],Tt=0;Tt<At;Tt++)Ct.push(String.fromCharCode(St[Et+Tt]));return Ct},_view:function(St){return St._dataView||(St._dataView=St.buffer?new DataView(St.buffer,St.byteOffset,St.byteLength):new DataView(new Uint8Array(St).buffer))}},lt._lctf={},lt._lctf.parse=function(St,Et,At,Ct,Tt){var Rt=lt._bin,Bt={},Ft=Et;Rt.readFixed(St,Et),Et+=4;var Dt=Rt.readUshort(St,Et);Et+=2;var kt=Rt.readUshort(St,Et);Et+=2;var zt=Rt.readUshort(St,Et);return Et+=2,Bt.scriptList=lt._lctf.readScriptList(St,Ft+Dt),Bt.featureList=lt._lctf.readFeatureList(St,Ft+kt),Bt.lookupList=lt._lctf.readLookupList(St,Ft+zt,Tt),Bt},lt._lctf.readLookupList=function(St,Et,At){var Ct=lt._bin,Tt=Et,Rt=[],Bt=Ct.readUshort(St,Et);Et+=2;for(var Ft=0;Ft<Bt;Ft++){var Dt=Ct.readUshort(St,Et);Et+=2;var kt=lt._lctf.readLookupTable(St,Tt+Dt,At);Rt.push(kt)}return Rt},lt._lctf.readLookupTable=function(St,Et,At){var Ct=lt._bin,Tt=Et,Rt={tabs:[]};Rt.ltype=Ct.readUshort(St,Et),Et+=2,Rt.flag=Ct.readUshort(St,Et),Et+=2;var Bt=Ct.readUshort(St,Et);Et+=2;for(var Ft=Rt.ltype,Dt=0;Dt<Bt;Dt++){var kt=Ct.readUshort(St,Et);Et+=2;var zt=At(St,Ft,Tt+kt,Rt);Rt.tabs.push(zt)}return Rt},lt._lctf.numOfOnes=function(St){for(var Et=0,At=0;At<32;At++)St>>>At&1&&Et++;return Et},lt._lctf.readClassDef=function(St,Et){var At=lt._bin,Ct=[],Tt=At.readUshort(St,Et);if(Et+=2,Tt==1){var Rt=At.readUshort(St,Et);Et+=2;var Bt=At.readUshort(St,Et);Et+=2;for(var Ft=0;Ft<Bt;Ft++)Ct.push(Rt+Ft),Ct.push(Rt+Ft),Ct.push(At.readUshort(St,Et)),Et+=2}if(Tt==2){var Dt=At.readUshort(St,Et);for(Et+=2,Ft=0;Ft<Dt;Ft++)Ct.push(At.readUshort(St,Et)),Et+=2,Ct.push(At.readUshort(St,Et)),Et+=2,Ct.push(At.readUshort(St,Et)),Et+=2}return Ct},lt._lctf.getInterval=function(St,Et){for(var At=0;At<St.length;At+=3){var Ct=St[At],Tt=St[At+1];if(St[At+2],Ct<=Et&&Et<=Tt)return At}return-1},lt._lctf.readCoverage=function(St,Et){var At=lt._bin,Ct={};Ct.fmt=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);return Et+=2,Ct.fmt==1&&(Ct.tab=At.readUshorts(St,Et,Tt)),Ct.fmt==2&&(Ct.tab=At.readUshorts(St,Et,3*Tt)),Ct},lt._lctf.coverageIndex=function(St,Et){var At=St.tab;if(St.fmt==1)return At.indexOf(Et);if(St.fmt==2){var Ct=lt._lctf.getInterval(At,Et);if(Ct!=-1)return At[Ct+2]+(Et-At[Ct])}return-1},lt._lctf.readFeatureList=function(St,Et){var At=lt._bin,Ct=Et,Tt=[],Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Ft=At.readASCII(St,Et,4);Et+=4;var Dt=At.readUshort(St,Et);Et+=2;var kt=lt._lctf.readFeatureTable(St,Ct+Dt);kt.tag=Ft.trim(),Tt.push(kt)}return Tt},lt._lctf.readFeatureTable=function(St,Et){var At=lt._bin,Ct=Et,Tt={},Rt=At.readUshort(St,Et);Et+=2,Rt>0&&(Tt.featureParams=Ct+Rt);var Bt=At.readUshort(St,Et);Et+=2,Tt.tab=[];for(var Ft=0;Ft<Bt;Ft++)Tt.tab.push(At.readUshort(St,Et+2*Ft));return Tt},lt._lctf.readScriptList=function(St,Et){var At=lt._bin,Ct=Et,Tt={},Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Ft=At.readASCII(St,Et,4);Et+=4;var Dt=At.readUshort(St,Et);Et+=2,Tt[Ft.trim()]=lt._lctf.readScriptTable(St,Ct+Dt)}return Tt},lt._lctf.readScriptTable=function(St,Et){var At=lt._bin,Ct=Et,Tt={},Rt=At.readUshort(St,Et);Et+=2,Tt.default=lt._lctf.readLangSysTable(St,Ct+Rt);var Bt=At.readUshort(St,Et);Et+=2;for(var Ft=0;Ft<Bt;Ft++){var Dt=At.readASCII(St,Et,4);Et+=4;var kt=At.readUshort(St,Et);Et+=2,Tt[Dt.trim()]=lt._lctf.readLangSysTable(St,Ct+kt)}return Tt},lt._lctf.readLangSysTable=function(St,Et){var At=lt._bin,Ct={};At.readUshort(St,Et),Et+=2,Ct.reqFeature=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);return Et+=2,Ct.features=At.readUshorts(St,Et,Tt),Ct},lt.CFF={},lt.CFF.parse=function(St,Et,At){var Ct=lt._bin;(St=new Uint8Array(St.buffer,Et,At))[Et=0],St[++Et],St[++Et],St[++Et],Et++;var Tt=[];Et=lt.CFF.readIndex(St,Et,Tt);for(var Rt=[],Bt=0;Bt<Tt.length-1;Bt++)Rt.push(Ct.readASCII(St,Et+Tt[Bt],Tt[Bt+1]-Tt[Bt]));Et+=Tt[Tt.length-1];var Ft=[];Et=lt.CFF.readIndex(St,Et,Ft);var Dt=[];for(Bt=0;Bt<Ft.length-1;Bt++)Dt.push(lt.CFF.readDict(St,Et+Ft[Bt],Et+Ft[Bt+1]));Et+=Ft[Ft.length-1];var kt=Dt[0],zt=[];Et=lt.CFF.readIndex(St,Et,zt);var Ht=[];for(Bt=0;Bt<zt.length-1;Bt++)Ht.push(Ct.readASCII(St,Et+zt[Bt],zt[Bt+1]-zt[Bt]));if(Et+=zt[zt.length-1],lt.CFF.readSubrs(St,Et,kt),kt.CharStrings){Et=kt.CharStrings,zt=[],Et=lt.CFF.readIndex(St,Et,zt);var en=[];for(Bt=0;Bt<zt.length-1;Bt++)en.push(Ct.readBytes(St,Et+zt[Bt],zt[Bt+1]-zt[Bt]));kt.CharStrings=en}if(kt.ROS){Et=kt.FDArray;var Kt=[];for(Et=lt.CFF.readIndex(St,Et,Kt),kt.FDArray=[],Bt=0;Bt<Kt.length-1;Bt++){var Zt=lt.CFF.readDict(St,Et+Kt[Bt],Et+Kt[Bt+1]);lt.CFF._readFDict(St,Zt,Ht),kt.FDArray.push(Zt)}Et+=Kt[Kt.length-1],Et=kt.FDSelect,kt.FDSelect=[];var Wt=St[Et];if(Et++,Wt!=3)throw Wt;var tn=Ct.readUshort(St,Et);for(Et+=2,Bt=0;Bt<tn+1;Bt++)kt.FDSelect.push(Ct.readUshort(St,Et),St[Et+2]),Et+=3}return kt.Encoding&&(kt.Encoding=lt.CFF.readEncoding(St,kt.Encoding,kt.CharStrings.length)),kt.charset&&(kt.charset=lt.CFF.readCharset(St,kt.charset,kt.CharStrings.length)),lt.CFF._readFDict(St,kt,Ht),kt},lt.CFF._readFDict=function(St,Et,At){var Ct;for(var Tt in Et.Private&&(Ct=Et.Private[1],Et.Private=lt.CFF.readDict(St,Ct,Ct+Et.Private[0]),Et.Private.Subrs&&lt.CFF.readSubrs(St,Ct+Et.Private.Subrs,Et.Private)),Et)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(Tt)!=-1&&(Et[Tt]=At[Et[Tt]-426+35])},lt.CFF.readSubrs=function(St,Et,At){var Ct=lt._bin,Tt=[];Et=lt.CFF.readIndex(St,Et,Tt);var Rt,Bt=Tt.length;Rt=Bt<1240?107:Bt<33900?1131:32768,At.Bias=Rt,At.Subrs=[];for(var Ft=0;Ft<Tt.length-1;Ft++)At.Subrs.push(Ct.readBytes(St,Et+Tt[Ft],Tt[Ft+1]-Tt[Ft]))},lt.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],lt.CFF.glyphByUnicode=function(St,Et){for(var At=0;At<St.charset.length;At++)if(St.charset[At]==Et)return At;return-1},lt.CFF.glyphBySE=function(St,Et){return Et<0||Et>255?-1:lt.CFF.glyphByUnicode(St,lt.CFF.tableSE[Et])},lt.CFF.readEncoding=function(St,Et,At){lt._bin;var Ct=[".notdef"],Tt=St[Et];if(Et++,Tt!=0)throw"error: unknown encoding format: "+Tt;var Rt=St[Et];Et++;for(var Bt=0;Bt<Rt;Bt++)Ct.push(St[Et+Bt]);return Ct},lt.CFF.readCharset=function(St,Et,At){var Ct=lt._bin,Tt=[".notdef"],Rt=St[Et];if(Et++,Rt==0)for(var Bt=0;Bt<At;Bt++){var Ft=Ct.readUshort(St,Et);Et+=2,Tt.push(Ft)}else{if(Rt!=1&&Rt!=2)throw"error: format: "+Rt;for(;Tt.length<At;){Ft=Ct.readUshort(St,Et),Et+=2;var Dt=0;for(Rt==1?(Dt=St[Et],Et++):(Dt=Ct.readUshort(St,Et),Et+=2),Bt=0;Bt<=Dt;Bt++)Tt.push(Ft),Ft++}}return Tt},lt.CFF.readIndex=function(St,Et,At){var Ct=lt._bin,Tt=Ct.readUshort(St,Et)+1,Rt=St[Et+=2];if(Et++,Rt==1)for(var Bt=0;Bt<Tt;Bt++)At.push(St[Et+Bt]);else if(Rt==2)for(Bt=0;Bt<Tt;Bt++)At.push(Ct.readUshort(St,Et+2*Bt));else if(Rt==3)for(Bt=0;Bt<Tt;Bt++)At.push(16777215&Ct.readUint(St,Et+3*Bt-1));else if(Tt!=1)throw"unsupported offset size: "+Rt+", count: "+Tt;return(Et+=Tt*Rt)-1},lt.CFF.getCharString=function(St,Et,At){var Ct=lt._bin,Tt=St[Et],Rt=St[Et+1];St[Et+2],St[Et+3],St[Et+4];var Bt=1,Ft=null,Dt=null;Tt<=20&&(Ft=Tt,Bt=1),Tt==12&&(Ft=100*Tt+Rt,Bt=2),21<=Tt&&Tt<=27&&(Ft=Tt,Bt=1),Tt==28&&(Dt=Ct.readShort(St,Et+1),Bt=3),29<=Tt&&Tt<=31&&(Ft=Tt,Bt=1),32<=Tt&&Tt<=246&&(Dt=Tt-139,Bt=1),247<=Tt&&Tt<=250&&(Dt=256*(Tt-247)+Rt+108,Bt=2),251<=Tt&&Tt<=254&&(Dt=256*-(Tt-251)-Rt-108,Bt=2),Tt==255&&(Dt=Ct.readInt(St,Et+1)/65535,Bt=5),At.val=Dt??"o"+Ft,At.size=Bt},lt.CFF.readCharString=function(St,Et,At){for(var Ct=Et+At,Tt=lt._bin,Rt=[];Et<Ct;){var Bt=St[Et],Ft=St[Et+1];St[Et+2],St[Et+3],St[Et+4];var Dt=1,kt=null,zt=null;Bt<=20&&(kt=Bt,Dt=1),Bt==12&&(kt=100*Bt+Ft,Dt=2),Bt!=19&&Bt!=20||(kt=Bt,Dt=2),21<=Bt&&Bt<=27&&(kt=Bt,Dt=1),Bt==28&&(zt=Tt.readShort(St,Et+1),Dt=3),29<=Bt&&Bt<=31&&(kt=Bt,Dt=1),32<=Bt&&Bt<=246&&(zt=Bt-139,Dt=1),247<=Bt&&Bt<=250&&(zt=256*(Bt-247)+Ft+108,Dt=2),251<=Bt&&Bt<=254&&(zt=256*-(Bt-251)-Ft-108,Dt=2),Bt==255&&(zt=Tt.readInt(St,Et+1)/65535,Dt=5),Rt.push(zt??"o"+kt),Et+=Dt}return Rt},lt.CFF.readDict=function(St,Et,At){for(var Ct=lt._bin,Tt={},Rt=[];Et<At;){var Bt=St[Et],Ft=St[Et+1];St[Et+2],St[Et+3],St[Et+4];var Dt=1,kt=null,zt=null;if(Bt==28&&(zt=Ct.readShort(St,Et+1),Dt=3),Bt==29&&(zt=Ct.readInt(St,Et+1),Dt=5),32<=Bt&&Bt<=246&&(zt=Bt-139,Dt=1),247<=Bt&&Bt<=250&&(zt=256*(Bt-247)+Ft+108,Dt=2),251<=Bt&&Bt<=254&&(zt=256*-(Bt-251)-Ft-108,Dt=2),Bt==255)throw zt=Ct.readInt(St,Et+1)/65535,Dt=5,"unknown number";if(Bt==30){var Ht=[];for(Dt=1;;){var en=St[Et+Dt];Dt++;var Kt=en>>4,Zt=15&en;if(Kt!=15&&Ht.push(Kt),Zt!=15&&Ht.push(Zt),Zt==15)break}for(var Wt="",tn=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],an=0;an<Ht.length;an++)Wt+=tn[Ht[an]];zt=parseFloat(Wt)}Bt<=21&&(kt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][Bt],Dt=1,Bt==12&&(kt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][Ft],Dt=2)),kt!=null?(Tt[kt]=Rt.length==1?Rt[0]:Rt,Rt=[]):Rt.push(zt),Et+=Dt}return Tt},lt.cmap={},lt.cmap.parse=function(St,Et,At){St=new Uint8Array(St.buffer,Et,At),Et=0;var Ct=lt._bin,Tt={};Ct.readUshort(St,Et),Et+=2;var Rt=Ct.readUshort(St,Et);Et+=2;var Bt=[];Tt.tables=[];for(var Ft=0;Ft<Rt;Ft++){var Dt=Ct.readUshort(St,Et);Et+=2;var kt=Ct.readUshort(St,Et);Et+=2;var zt=Ct.readUint(St,Et);Et+=4;var Ht="p"+Dt+"e"+kt,en=Bt.indexOf(zt);if(en==-1){var Kt;en=Tt.tables.length,Bt.push(zt);var Zt=Ct.readUshort(St,zt);Zt==0?Kt=lt.cmap.parse0(St,zt):Zt==4?Kt=lt.cmap.parse4(St,zt):Zt==6?Kt=lt.cmap.parse6(St,zt):Zt==12?Kt=lt.cmap.parse12(St,zt):console.debug("unknown format: "+Zt,Dt,kt,zt),Tt.tables.push(Kt)}if(Tt[Ht]!=null)throw"multiple tables for one platform+encoding";Tt[Ht]=en}return Tt},lt.cmap.parse0=function(St,Et){var At=lt._bin,Ct={};Ct.format=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);Et+=2,At.readUshort(St,Et),Et+=2,Ct.map=[];for(var Rt=0;Rt<Tt-6;Rt++)Ct.map.push(St[Et+Rt]);return Ct},lt.cmap.parse4=function(St,Et){var At=lt._bin,Ct=Et,Tt={};Tt.format=At.readUshort(St,Et),Et+=2;var Rt=At.readUshort(St,Et);Et+=2,At.readUshort(St,Et),Et+=2;var Bt=At.readUshort(St,Et);Et+=2;var Ft=Bt/2;Tt.searchRange=At.readUshort(St,Et),Et+=2,Tt.entrySelector=At.readUshort(St,Et),Et+=2,Tt.rangeShift=At.readUshort(St,Et),Et+=2,Tt.endCount=At.readUshorts(St,Et,Ft),Et+=2*Ft,Et+=2,Tt.startCount=At.readUshorts(St,Et,Ft),Et+=2*Ft,Tt.idDelta=[];for(var Dt=0;Dt<Ft;Dt++)Tt.idDelta.push(At.readShort(St,Et)),Et+=2;for(Tt.idRangeOffset=At.readUshorts(St,Et,Ft),Et+=2*Ft,Tt.glyphIdArray=[];Et<Ct+Rt;)Tt.glyphIdArray.push(At.readUshort(St,Et)),Et+=2;return Tt},lt.cmap.parse6=function(St,Et){var At=lt._bin,Ct={};Ct.format=At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2,Ct.firstCode=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);Et+=2,Ct.glyphIdArray=[];for(var Rt=0;Rt<Tt;Rt++)Ct.glyphIdArray.push(At.readUshort(St,Et)),Et+=2;return Ct},lt.cmap.parse12=function(St,Et){var At=lt._bin,Ct={};Ct.format=At.readUshort(St,Et),Et+=2,Et+=2,At.readUint(St,Et),Et+=4,At.readUint(St,Et),Et+=4;var Tt=At.readUint(St,Et);Et+=4,Ct.groups=[];for(var Rt=0;Rt<Tt;Rt++){var Bt=Et+12*Rt,Ft=At.readUint(St,Bt+0),Dt=At.readUint(St,Bt+4),kt=At.readUint(St,Bt+8);Ct.groups.push([Ft,Dt,kt])}return Ct},lt.glyf={},lt.glyf.parse=function(St,Et,At,Ct){for(var Tt=[],Rt=0;Rt<Ct.maxp.numGlyphs;Rt++)Tt.push(null);return Tt},lt.glyf._parseGlyf=function(St,Et){var At=lt._bin,Ct=St._data,Tt=lt._tabOffset(Ct,"glyf",St._offset)+St.loca[Et];if(St.loca[Et]==St.loca[Et+1])return null;var Rt={};if(Rt.noc=At.readShort(Ct,Tt),Tt+=2,Rt.xMin=At.readShort(Ct,Tt),Tt+=2,Rt.yMin=At.readShort(Ct,Tt),Tt+=2,Rt.xMax=At.readShort(Ct,Tt),Tt+=2,Rt.yMax=At.readShort(Ct,Tt),Tt+=2,Rt.xMin>=Rt.xMax||Rt.yMin>=Rt.yMax)return null;if(Rt.noc>0){Rt.endPts=[];for(var Bt=0;Bt<Rt.noc;Bt++)Rt.endPts.push(At.readUshort(Ct,Tt)),Tt+=2;var Ft=At.readUshort(Ct,Tt);if(Tt+=2,Ct.length-Tt<Ft)return null;Rt.instructions=At.readBytes(Ct,Tt,Ft),Tt+=Ft;var Dt=Rt.endPts[Rt.noc-1]+1;for(Rt.flags=[],Bt=0;Bt<Dt;Bt++){var kt=Ct[Tt];if(Tt++,Rt.flags.push(kt),(8&kt)!=0){var zt=Ct[Tt];Tt++;for(var Ht=0;Ht<zt;Ht++)Rt.flags.push(kt),Bt++}}for(Rt.xs=[],Bt=0;Bt<Dt;Bt++){var en=(2&Rt.flags[Bt])!=0,Kt=(16&Rt.flags[Bt])!=0;en?(Rt.xs.push(Kt?Ct[Tt]:-Ct[Tt]),Tt++):Kt?Rt.xs.push(0):(Rt.xs.push(At.readShort(Ct,Tt)),Tt+=2)}for(Rt.ys=[],Bt=0;Bt<Dt;Bt++)en=(4&Rt.flags[Bt])!=0,Kt=(32&Rt.flags[Bt])!=0,en?(Rt.ys.push(Kt?Ct[Tt]:-Ct[Tt]),Tt++):Kt?Rt.ys.push(0):(Rt.ys.push(At.readShort(Ct,Tt)),Tt+=2);var Zt=0,Wt=0;for(Bt=0;Bt<Dt;Bt++)Zt+=Rt.xs[Bt],Wt+=Rt.ys[Bt],Rt.xs[Bt]=Zt,Rt.ys[Bt]=Wt}else{var tn;Rt.parts=[];do{tn=At.readUshort(Ct,Tt),Tt+=2;var an={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(Rt.parts.push(an),an.glyphIndex=At.readUshort(Ct,Tt),Tt+=2,1&tn){var ln=At.readShort(Ct,Tt);Tt+=2;var fn=At.readShort(Ct,Tt);Tt+=2}else ln=At.readInt8(Ct,Tt),Tt++,fn=At.readInt8(Ct,Tt),Tt++;2&tn?(an.m.tx=ln,an.m.ty=fn):(an.p1=ln,an.p2=fn),8&tn?(an.m.a=an.m.d=At.readF2dot14(Ct,Tt),Tt+=2):64&tn?(an.m.a=At.readF2dot14(Ct,Tt),Tt+=2,an.m.d=At.readF2dot14(Ct,Tt),Tt+=2):128&tn&&(an.m.a=At.readF2dot14(Ct,Tt),Tt+=2,an.m.b=At.readF2dot14(Ct,Tt),Tt+=2,an.m.c=At.readF2dot14(Ct,Tt),Tt+=2,an.m.d=At.readF2dot14(Ct,Tt),Tt+=2)}while(32&tn);if(256&tn){var un=At.readUshort(Ct,Tt);for(Tt+=2,Rt.instr=[],Bt=0;Bt<un;Bt++)Rt.instr.push(Ct[Tt]),Tt++}}return Rt},lt.GPOS={},lt.GPOS.parse=function(St,Et,At,Ct){return lt._lctf.parse(St,Et,At,Ct,lt.GPOS.subt)},lt.GPOS.subt=function(St,Et,At,Ct){var Tt=lt._bin,Rt=At,Bt={};if(Bt.fmt=Tt.readUshort(St,At),At+=2,Et==1||Et==2||Et==3||Et==7||Et==8&&Bt.fmt<=2){var Ft=Tt.readUshort(St,At);At+=2,Bt.coverage=lt._lctf.readCoverage(St,Ft+Rt)}if(Et==1&&Bt.fmt==1){var Dt=Tt.readUshort(St,At);At+=2;var kt=lt._lctf.numOfOnes(Dt);Dt!=0&&(Bt.pos=lt.GPOS.readValueRecord(St,At,Dt))}else if(Et==2&&Bt.fmt>=1&&Bt.fmt<=2){Dt=Tt.readUshort(St,At),At+=2;var zt=Tt.readUshort(St,At);At+=2,kt=lt._lctf.numOfOnes(Dt);var Ht=lt._lctf.numOfOnes(zt);if(Bt.fmt==1){Bt.pairsets=[];var en=Tt.readUshort(St,At);At+=2;for(var Kt=0;Kt<en;Kt++){var Zt=Rt+Tt.readUshort(St,At);At+=2;var Wt=Tt.readUshort(St,Zt);Zt+=2;for(var tn=[],an=0;an<Wt;an++){var ln=Tt.readUshort(St,Zt);Zt+=2,Dt!=0&&(gn=lt.GPOS.readValueRecord(St,Zt,Dt),Zt+=2*kt),zt!=0&&(Ln=lt.GPOS.readValueRecord(St,Zt,zt),Zt+=2*Ht),tn.push({gid2:ln,val1:gn,val2:Ln})}Bt.pairsets.push(tn)}}if(Bt.fmt==2){var fn=Tt.readUshort(St,At);At+=2;var un=Tt.readUshort(St,At);At+=2;var pn=Tt.readUshort(St,At);At+=2;var xn=Tt.readUshort(St,At);for(At+=2,Bt.classDef1=lt._lctf.readClassDef(St,Rt+fn),Bt.classDef2=lt._lctf.readClassDef(St,Rt+un),Bt.matrix=[],Kt=0;Kt<pn;Kt++){var An=[];for(an=0;an<xn;an++){var gn=null,Ln=null;Dt!=0&&(gn=lt.GPOS.readValueRecord(St,At,Dt),At+=2*kt),zt!=0&&(Ln=lt.GPOS.readValueRecord(St,At,zt),At+=2*Ht),An.push({val1:gn,val2:Ln})}Bt.matrix.push(An)}}}else{if(Et==9&&Bt.fmt==1){var Cn=Tt.readUshort(St,At);At+=2;var En=Tt.readUint(St,At);if(At+=4,Ct.ltype==9)Ct.ltype=Cn;else if(Ct.ltype!=Cn)throw"invalid extension substitution";return lt.GPOS.subt(St,Ct.ltype,Rt+En)}console.debug("unsupported GPOS table LookupType",Et,"format",Bt.fmt)}return Bt},lt.GPOS.readValueRecord=function(St,Et,At){var Ct=lt._bin,Tt=[];return Tt.push(1&At?Ct.readShort(St,Et):0),Et+=1&At?2:0,Tt.push(2&At?Ct.readShort(St,Et):0),Et+=2&At?2:0,Tt.push(4&At?Ct.readShort(St,Et):0),Et+=4&At?2:0,Tt.push(8&At?Ct.readShort(St,Et):0),Et+=8&At?2:0,Tt},lt.GSUB={},lt.GSUB.parse=function(St,Et,At,Ct){return lt._lctf.parse(St,Et,At,Ct,lt.GSUB.subt)},lt.GSUB.subt=function(St,Et,At,Ct){var Tt=lt._bin,Rt=At,Bt={};if(Bt.fmt=Tt.readUshort(St,At),At+=2,Et!=1&&Et!=4&&Et!=5&&Et!=6)return null;if(Et==1||Et==4||Et==5&&Bt.fmt<=2||Et==6&&Bt.fmt<=2){var Ft=Tt.readUshort(St,At);At+=2,Bt.coverage=lt._lctf.readCoverage(St,Rt+Ft)}if(Et==1&&Bt.fmt>=1&&Bt.fmt<=2){if(Bt.fmt==1)Bt.delta=Tt.readShort(St,At),At+=2;else if(Bt.fmt==2){var Dt=Tt.readUshort(St,At);At+=2,Bt.newg=Tt.readUshorts(St,At,Dt),At+=2*Bt.newg.length}}else if(Et==4){Bt.vals=[],Dt=Tt.readUshort(St,At),At+=2;for(var kt=0;kt<Dt;kt++){var zt=Tt.readUshort(St,At);At+=2,Bt.vals.push(lt.GSUB.readLigatureSet(St,Rt+zt))}}else if(Et==5&&Bt.fmt==2){if(Bt.fmt==2){var Ht=Tt.readUshort(St,At);At+=2,Bt.cDef=lt._lctf.readClassDef(St,Rt+Ht),Bt.scset=[];var en=Tt.readUshort(St,At);for(At+=2,kt=0;kt<en;kt++){var Kt=Tt.readUshort(St,At);At+=2,Bt.scset.push(Kt==0?null:lt.GSUB.readSubClassSet(St,Rt+Kt))}}}else if(Et==6&&Bt.fmt==3){if(Bt.fmt==3){for(kt=0;kt<3;kt++){Dt=Tt.readUshort(St,At),At+=2;for(var Zt=[],Wt=0;Wt<Dt;Wt++)Zt.push(lt._lctf.readCoverage(St,Rt+Tt.readUshort(St,At+2*Wt)));At+=2*Dt,kt==0&&(Bt.backCvg=Zt),kt==1&&(Bt.inptCvg=Zt),kt==2&&(Bt.ahedCvg=Zt)}Dt=Tt.readUshort(St,At),At+=2,Bt.lookupRec=lt.GSUB.readSubstLookupRecords(St,At,Dt)}}else{if(Et==7&&Bt.fmt==1){var tn=Tt.readUshort(St,At);At+=2;var an=Tt.readUint(St,At);if(At+=4,Ct.ltype==9)Ct.ltype=tn;else if(Ct.ltype!=tn)throw"invalid extension substitution";return lt.GSUB.subt(St,Ct.ltype,Rt+an)}console.debug("unsupported GSUB table LookupType",Et,"format",Bt.fmt)}return Bt},lt.GSUB.readSubClassSet=function(St,Et){var At=lt._bin.readUshort,Ct=Et,Tt=[],Rt=At(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Ft=At(St,Et);Et+=2,Tt.push(lt.GSUB.readSubClassRule(St,Ct+Ft))}return Tt},lt.GSUB.readSubClassRule=function(St,Et){var At=lt._bin.readUshort,Ct={},Tt=At(St,Et),Rt=At(St,Et+=2);Et+=2,Ct.input=[];for(var Bt=0;Bt<Tt-1;Bt++)Ct.input.push(At(St,Et)),Et+=2;return Ct.substLookupRecords=lt.GSUB.readSubstLookupRecords(St,Et,Rt),Ct},lt.GSUB.readSubstLookupRecords=function(St,Et,At){for(var Ct=lt._bin.readUshort,Tt=[],Rt=0;Rt<At;Rt++)Tt.push(Ct(St,Et),Ct(St,Et+2)),Et+=4;return Tt},lt.GSUB.readChainSubClassSet=function(St,Et){var At=lt._bin,Ct=Et,Tt=[],Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Ft=At.readUshort(St,Et);Et+=2,Tt.push(lt.GSUB.readChainSubClassRule(St,Ct+Ft))}return Tt},lt.GSUB.readChainSubClassRule=function(St,Et){for(var At=lt._bin,Ct={},Tt=["backtrack","input","lookahead"],Rt=0;Rt<Tt.length;Rt++){var Bt=At.readUshort(St,Et);Et+=2,Rt==1&&Bt--,Ct[Tt[Rt]]=At.readUshorts(St,Et,Bt),Et+=2*Ct[Tt[Rt]].length}return Bt=At.readUshort(St,Et),Et+=2,Ct.subst=At.readUshorts(St,Et,2*Bt),Et+=2*Ct.subst.length,Ct},lt.GSUB.readLigatureSet=function(St,Et){var At=lt._bin,Ct=Et,Tt=[],Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Ft=At.readUshort(St,Et);Et+=2,Tt.push(lt.GSUB.readLigature(St,Ct+Ft))}return Tt},lt.GSUB.readLigature=function(St,Et){var At=lt._bin,Ct={chain:[]};Ct.nglyph=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);Et+=2;for(var Rt=0;Rt<Tt-1;Rt++)Ct.chain.push(At.readUshort(St,Et)),Et+=2;return Ct},lt.head={},lt.head.parse=function(St,Et,At){var Ct=lt._bin,Tt={};return Ct.readFixed(St,Et),Et+=4,Tt.fontRevision=Ct.readFixed(St,Et),Et+=4,Ct.readUint(St,Et),Et+=4,Ct.readUint(St,Et),Et+=4,Tt.flags=Ct.readUshort(St,Et),Et+=2,Tt.unitsPerEm=Ct.readUshort(St,Et),Et+=2,Tt.created=Ct.readUint64(St,Et),Et+=8,Tt.modified=Ct.readUint64(St,Et),Et+=8,Tt.xMin=Ct.readShort(St,Et),Et+=2,Tt.yMin=Ct.readShort(St,Et),Et+=2,Tt.xMax=Ct.readShort(St,Et),Et+=2,Tt.yMax=Ct.readShort(St,Et),Et+=2,Tt.macStyle=Ct.readUshort(St,Et),Et+=2,Tt.lowestRecPPEM=Ct.readUshort(St,Et),Et+=2,Tt.fontDirectionHint=Ct.readShort(St,Et),Et+=2,Tt.indexToLocFormat=Ct.readShort(St,Et),Et+=2,Tt.glyphDataFormat=Ct.readShort(St,Et),Et+=2,Tt},lt.hhea={},lt.hhea.parse=function(St,Et,At){var Ct=lt._bin,Tt={};return Ct.readFixed(St,Et),Et+=4,Tt.ascender=Ct.readShort(St,Et),Et+=2,Tt.descender=Ct.readShort(St,Et),Et+=2,Tt.lineGap=Ct.readShort(St,Et),Et+=2,Tt.advanceWidthMax=Ct.readUshort(St,Et),Et+=2,Tt.minLeftSideBearing=Ct.readShort(St,Et),Et+=2,Tt.minRightSideBearing=Ct.readShort(St,Et),Et+=2,Tt.xMaxExtent=Ct.readShort(St,Et),Et+=2,Tt.caretSlopeRise=Ct.readShort(St,Et),Et+=2,Tt.caretSlopeRun=Ct.readShort(St,Et),Et+=2,Tt.caretOffset=Ct.readShort(St,Et),Et+=2,Et+=8,Tt.metricDataFormat=Ct.readShort(St,Et),Et+=2,Tt.numberOfHMetrics=Ct.readUshort(St,Et),Et+=2,Tt},lt.hmtx={},lt.hmtx.parse=function(St,Et,At,Ct){for(var Tt=lt._bin,Rt={aWidth:[],lsBearing:[]},Bt=0,Ft=0,Dt=0;Dt<Ct.maxp.numGlyphs;Dt++)Dt<Ct.hhea.numberOfHMetrics&&(Bt=Tt.readUshort(St,Et),Et+=2,Ft=Tt.readShort(St,Et),Et+=2),Rt.aWidth.push(Bt),Rt.lsBearing.push(Ft);return Rt},lt.kern={},lt.kern.parse=function(St,Et,At,Ct){var Tt=lt._bin,Rt=Tt.readUshort(St,Et);if(Et+=2,Rt==1)return lt.kern.parseV1(St,Et-2,At,Ct);var Bt=Tt.readUshort(St,Et);Et+=2;for(var Ft={glyph1:[],rval:[]},Dt=0;Dt<Bt;Dt++){Et+=2,At=Tt.readUshort(St,Et),Et+=2;var kt=Tt.readUshort(St,Et);Et+=2;var zt=kt>>>8;if((zt&=15)!=0)throw"unknown kern table format: "+zt;Et=lt.kern.readFormat0(St,Et,Ft)}return Ft},lt.kern.parseV1=function(St,Et,At,Ct){var Tt=lt._bin;Tt.readFixed(St,Et),Et+=4;var Rt=Tt.readUint(St,Et);Et+=4;for(var Bt={glyph1:[],rval:[]},Ft=0;Ft<Rt;Ft++){Tt.readUint(St,Et),Et+=4;var Dt=Tt.readUshort(St,Et);Et+=2,Tt.readUshort(St,Et),Et+=2;var kt=Dt>>>8;if((kt&=15)!=0)throw"unknown kern table format: "+kt;Et=lt.kern.readFormat0(St,Et,Bt)}return Bt},lt.kern.readFormat0=function(St,Et,At){var Ct=lt._bin,Tt=-1,Rt=Ct.readUshort(St,Et);Et+=2,Ct.readUshort(St,Et),Et+=2,Ct.readUshort(St,Et),Et+=2,Ct.readUshort(St,Et),Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Ft=Ct.readUshort(St,Et);Et+=2;var Dt=Ct.readUshort(St,Et);Et+=2;var kt=Ct.readShort(St,Et);Et+=2,Ft!=Tt&&(At.glyph1.push(Ft),At.rval.push({glyph2:[],vals:[]}));var zt=At.rval[At.rval.length-1];zt.glyph2.push(Dt),zt.vals.push(kt),Tt=Ft}return Et},lt.loca={},lt.loca.parse=function(St,Et,At,Ct){var Tt=lt._bin,Rt=[],Bt=Ct.head.indexToLocFormat,Ft=Ct.maxp.numGlyphs+1;if(Bt==0)for(var Dt=0;Dt<Ft;Dt++)Rt.push(Tt.readUshort(St,Et+(Dt<<1))<<1);if(Bt==1)for(Dt=0;Dt<Ft;Dt++)Rt.push(Tt.readUint(St,Et+(Dt<<2)));return Rt},lt.maxp={},lt.maxp.parse=function(St,Et,At){var Ct=lt._bin,Tt={},Rt=Ct.readUint(St,Et);return Et+=4,Tt.numGlyphs=Ct.readUshort(St,Et),Et+=2,Rt==65536&&(Tt.maxPoints=Ct.readUshort(St,Et),Et+=2,Tt.maxContours=Ct.readUshort(St,Et),Et+=2,Tt.maxCompositePoints=Ct.readUshort(St,Et),Et+=2,Tt.maxCompositeContours=Ct.readUshort(St,Et),Et+=2,Tt.maxZones=Ct.readUshort(St,Et),Et+=2,Tt.maxTwilightPoints=Ct.readUshort(St,Et),Et+=2,Tt.maxStorage=Ct.readUshort(St,Et),Et+=2,Tt.maxFunctionDefs=Ct.readUshort(St,Et),Et+=2,Tt.maxInstructionDefs=Ct.readUshort(St,Et),Et+=2,Tt.maxStackElements=Ct.readUshort(St,Et),Et+=2,Tt.maxSizeOfInstructions=Ct.readUshort(St,Et),Et+=2,Tt.maxComponentElements=Ct.readUshort(St,Et),Et+=2,Tt.maxComponentDepth=Ct.readUshort(St,Et),Et+=2),Tt},lt.name={},lt.name.parse=function(St,Et,At){var Ct=lt._bin,Tt={};Ct.readUshort(St,Et),Et+=2;var Rt=Ct.readUshort(St,Et);Et+=2,Ct.readUshort(St,Et);for(var Bt,Ft=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],Dt=Et+=2,kt=0;kt<Rt;kt++){var zt=Ct.readUshort(St,Et);Et+=2;var Ht=Ct.readUshort(St,Et);Et+=2;var en=Ct.readUshort(St,Et);Et+=2;var Kt=Ct.readUshort(St,Et);Et+=2;var Zt=Ct.readUshort(St,Et);Et+=2;var Wt=Ct.readUshort(St,Et);Et+=2;var tn,an=Ft[Kt],ln=Dt+12*Rt+Wt;if(zt==0)tn=Ct.readUnicode(St,ln,Zt/2);else if(zt==3&&Ht==0)tn=Ct.readUnicode(St,ln,Zt/2);else if(Ht==0)tn=Ct.readASCII(St,ln,Zt);else if(Ht==1)tn=Ct.readUnicode(St,ln,Zt/2);else if(Ht==3)tn=Ct.readUnicode(St,ln,Zt/2);else{if(zt!=1)throw"unknown encoding "+Ht+", platformID: "+zt;tn=Ct.readASCII(St,ln,Zt),console.debug("reading unknown MAC encoding "+Ht+" as ASCII")}var fn="p"+zt+","+en.toString(16);Tt[fn]==null&&(Tt[fn]={}),Tt[fn][an!==void 0?an:Kt]=tn,Tt[fn]._lang=en}for(var un in Tt)if(Tt[un].postScriptName!=null&&Tt[un]._lang==1033)return Tt[un];for(var un in Tt)if(Tt[un].postScriptName!=null&&Tt[un]._lang==0)return Tt[un];for(var un in Tt)if(Tt[un].postScriptName!=null&&Tt[un]._lang==3084)return Tt[un];for(var un in Tt)if(Tt[un].postScriptName!=null)return Tt[un];for(var un in Tt){Bt=un;break}return console.debug("returning name table with languageID "+Tt[Bt]._lang),Tt[Bt]},lt["OS/2"]={},lt["OS/2"].parse=function(St,Et,At){var Ct=lt._bin.readUshort(St,Et);Et+=2;var Tt={};if(Ct==0)lt["OS/2"].version0(St,Et,Tt);else if(Ct==1)lt["OS/2"].version1(St,Et,Tt);else if(Ct==2||Ct==3||Ct==4)lt["OS/2"].version2(St,Et,Tt);else{if(Ct!=5)throw"unknown OS/2 table version: "+Ct;lt["OS/2"].version5(St,Et,Tt)}return Tt},lt["OS/2"].version0=function(St,Et,At){var Ct=lt._bin;return At.xAvgCharWidth=Ct.readShort(St,Et),Et+=2,At.usWeightClass=Ct.readUshort(St,Et),Et+=2,At.usWidthClass=Ct.readUshort(St,Et),Et+=2,At.fsType=Ct.readUshort(St,Et),Et+=2,At.ySubscriptXSize=Ct.readShort(St,Et),Et+=2,At.ySubscriptYSize=Ct.readShort(St,Et),Et+=2,At.ySubscriptXOffset=Ct.readShort(St,Et),Et+=2,At.ySubscriptYOffset=Ct.readShort(St,Et),Et+=2,At.ySuperscriptXSize=Ct.readShort(St,Et),Et+=2,At.ySuperscriptYSize=Ct.readShort(St,Et),Et+=2,At.ySuperscriptXOffset=Ct.readShort(St,Et),Et+=2,At.ySuperscriptYOffset=Ct.readShort(St,Et),Et+=2,At.yStrikeoutSize=Ct.readShort(St,Et),Et+=2,At.yStrikeoutPosition=Ct.readShort(St,Et),Et+=2,At.sFamilyClass=Ct.readShort(St,Et),Et+=2,At.panose=Ct.readBytes(St,Et,10),Et+=10,At.ulUnicodeRange1=Ct.readUint(St,Et),Et+=4,At.ulUnicodeRange2=Ct.readUint(St,Et),Et+=4,At.ulUnicodeRange3=Ct.readUint(St,Et),Et+=4,At.ulUnicodeRange4=Ct.readUint(St,Et),Et+=4,At.achVendID=[Ct.readInt8(St,Et),Ct.readInt8(St,Et+1),Ct.readInt8(St,Et+2),Ct.readInt8(St,Et+3)],Et+=4,At.fsSelection=Ct.readUshort(St,Et),Et+=2,At.usFirstCharIndex=Ct.readUshort(St,Et),Et+=2,At.usLastCharIndex=Ct.readUshort(St,Et),Et+=2,At.sTypoAscender=Ct.readShort(St,Et),Et+=2,At.sTypoDescender=Ct.readShort(St,Et),Et+=2,At.sTypoLineGap=Ct.readShort(St,Et),Et+=2,At.usWinAscent=Ct.readUshort(St,Et),Et+=2,At.usWinDescent=Ct.readUshort(St,Et),Et+=2},lt["OS/2"].version1=function(St,Et,At){var Ct=lt._bin;return Et=lt["OS/2"].version0(St,Et,At),At.ulCodePageRange1=Ct.readUint(St,Et),Et+=4,At.ulCodePageRange2=Ct.readUint(St,Et),Et+=4},lt["OS/2"].version2=function(St,Et,At){var Ct=lt._bin;return Et=lt["OS/2"].version1(St,Et,At),At.sxHeight=Ct.readShort(St,Et),Et+=2,At.sCapHeight=Ct.readShort(St,Et),Et+=2,At.usDefault=Ct.readUshort(St,Et),Et+=2,At.usBreak=Ct.readUshort(St,Et),Et+=2,At.usMaxContext=Ct.readUshort(St,Et),Et+=2},lt["OS/2"].version5=function(St,Et,At){var Ct=lt._bin;return Et=lt["OS/2"].version2(St,Et,At),At.usLowerOpticalPointSize=Ct.readUshort(St,Et),Et+=2,At.usUpperOpticalPointSize=Ct.readUshort(St,Et),Et+=2},lt.post={},lt.post.parse=function(St,Et,At){var Ct=lt._bin,Tt={};return Tt.version=Ct.readFixed(St,Et),Et+=4,Tt.italicAngle=Ct.readFixed(St,Et),Et+=4,Tt.underlinePosition=Ct.readShort(St,Et),Et+=2,Tt.underlineThickness=Ct.readShort(St,Et),Et+=2,Tt},lt==null&&(lt={}),lt.U==null&&(lt.U={}),lt.U.codeToGlyph=function(St,Et){var At=St.cmap,Ct=-1;if(At.p0e4!=null?Ct=At.p0e4:At.p3e1!=null?Ct=At.p3e1:At.p1e0!=null?Ct=At.p1e0:At.p0e3!=null&&(Ct=At.p0e3),Ct==-1)throw"no familiar platform and encoding!";var Tt=At.tables[Ct];if(Tt.format==0)return Et>=Tt.map.length?0:Tt.map[Et];if(Tt.format==4){for(var Rt=-1,Bt=0;Bt<Tt.endCount.length;Bt++)if(Et<=Tt.endCount[Bt]){Rt=Bt;break}return Rt==-1||Tt.startCount[Rt]>Et?0:65535&(Tt.idRangeOffset[Rt]!=0?Tt.glyphIdArray[Et-Tt.startCount[Rt]+(Tt.idRangeOffset[Rt]>>1)-(Tt.idRangeOffset.length-Rt)]:Et+Tt.idDelta[Rt])}if(Tt.format==12){if(Et>Tt.groups[Tt.groups.length-1][1])return 0;for(Bt=0;Bt<Tt.groups.length;Bt++){var Ft=Tt.groups[Bt];if(Ft[0]<=Et&&Et<=Ft[1])return Ft[2]+(Et-Ft[0])}return 0}throw"unknown cmap table format "+Tt.format},lt.U.glyphToPath=function(St,Et){var At={cmds:[],crds:[]};if(St.SVG&&St.SVG.entries[Et]){var Ct=St.SVG.entries[Et];return Ct==null?At:(typeof Ct=="string"&&(Ct=lt.SVG.toPath(Ct),St.SVG.entries[Et]=Ct),Ct)}if(St.CFF){var Tt={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:St.CFF.Private?St.CFF.Private.defaultWidthX:0,open:!1},Rt=St.CFF,Bt=St.CFF.Private;if(Rt.ROS){for(var Ft=0;Rt.FDSelect[Ft+2]<=Et;)Ft+=2;Bt=Rt.FDArray[Rt.FDSelect[Ft+1]].Private}lt.U._drawCFF(St.CFF.CharStrings[Et],Tt,Rt,Bt,At)}else St.glyf&&lt.U._drawGlyf(Et,St,At);return At},lt.U._drawGlyf=function(St,Et,At){var Ct=Et.glyf[St];Ct==null&&(Ct=Et.glyf[St]=lt.glyf._parseGlyf(Et,St)),Ct!=null&&(Ct.noc>-1?lt.U._simpleGlyph(Ct,At):lt.U._compoGlyph(Ct,Et,At))},lt.U._simpleGlyph=function(St,Et){for(var At=0;At<St.noc;At++){for(var Ct=At==0?0:St.endPts[At-1]+1,Tt=St.endPts[At],Rt=Ct;Rt<=Tt;Rt++){var Bt=Rt==Ct?Tt:Rt-1,Ft=Rt==Tt?Ct:Rt+1,Dt=1&St.flags[Rt],kt=1&St.flags[Bt],zt=1&St.flags[Ft],Ht=St.xs[Rt],en=St.ys[Rt];if(Rt==Ct)if(Dt){if(!kt){lt.U.P.moveTo(Et,Ht,en);continue}lt.U.P.moveTo(Et,St.xs[Bt],St.ys[Bt])}else kt?lt.U.P.moveTo(Et,St.xs[Bt],St.ys[Bt]):lt.U.P.moveTo(Et,(St.xs[Bt]+Ht)/2,(St.ys[Bt]+en)/2);Dt?kt&&lt.U.P.lineTo(Et,Ht,en):zt?lt.U.P.qcurveTo(Et,Ht,en,St.xs[Ft],St.ys[Ft]):lt.U.P.qcurveTo(Et,Ht,en,(Ht+St.xs[Ft])/2,(en+St.ys[Ft])/2)}lt.U.P.closePath(Et)}},lt.U._compoGlyph=function(St,Et,At){for(var Ct=0;Ct<St.parts.length;Ct++){var Tt={cmds:[],crds:[]},Rt=St.parts[Ct];lt.U._drawGlyf(Rt.glyphIndex,Et,Tt);for(var Bt=Rt.m,Ft=0;Ft<Tt.crds.length;Ft+=2){var Dt=Tt.crds[Ft],kt=Tt.crds[Ft+1];At.crds.push(Dt*Bt.a+kt*Bt.b+Bt.tx),At.crds.push(Dt*Bt.c+kt*Bt.d+Bt.ty)}for(Ft=0;Ft<Tt.cmds.length;Ft++)At.cmds.push(Tt.cmds[Ft])}},lt.U._getGlyphClass=function(St,Et){var At=lt._lctf.getInterval(Et,St);return At==-1?0:Et[At+2]},lt.U.getPairAdjustment=function(St,Et,At){var Ct=!1;if(St.GPOS)for(var Tt=St.GPOS,Rt=Tt.lookupList,Bt=Tt.featureList,Ft=[],Dt=0;Dt<Bt.length;Dt++){var kt=Bt[Dt];if(kt.tag=="kern"){Ct=!0;for(var zt=0;zt<kt.tab.length;zt++)if(!Ft[kt.tab[zt]]){Ft[kt.tab[zt]]=!0;for(var Ht=Rt[kt.tab[zt]],en=0;en<Ht.tabs.length;en++)if(Ht.tabs[en]!=null){var Kt,Zt=Ht.tabs[en];if((!Zt.coverage||(Kt=lt._lctf.coverageIndex(Zt.coverage,Et))!=-1)&&Ht.ltype!=1){if(Ht.ltype==2){var Wt=null;if(Zt.fmt==1){var tn=Zt.pairsets[Kt];for(Dt=0;Dt<tn.length;Dt++)tn[Dt].gid2==At&&(Wt=tn[Dt])}else if(Zt.fmt==2){var an=lt.U._getGlyphClass(Et,Zt.classDef1),ln=lt.U._getGlyphClass(At,Zt.classDef2);Wt=Zt.matrix[an][ln]}if(Wt){var fn=0;return Wt.val1&&Wt.val1[2]&&(fn+=Wt.val1[2]),Wt.val2&&Wt.val2[0]&&(fn+=Wt.val2[0]),fn}}}}}}}if(St.kern&&!Ct){var un=St.kern.glyph1.indexOf(Et);if(un!=-1){var pn=St.kern.rval[un].glyph2.indexOf(At);if(pn!=-1)return St.kern.rval[un].vals[pn]}}return 0},lt.U._applySubs=function(St,Et,At,Ct){for(var Tt=St.length-Et-1,Rt=0;Rt<At.tabs.length;Rt++)if(At.tabs[Rt]!=null){var Bt,Ft=At.tabs[Rt];if(!Ft.coverage||(Bt=lt._lctf.coverageIndex(Ft.coverage,St[Et]))!=-1){if(At.ltype==1)St[Et],Ft.fmt==1?St[Et]=St[Et]+Ft.delta:St[Et]=Ft.newg[Bt];else if(At.ltype==4)for(var Dt=Ft.vals[Bt],kt=0;kt<Dt.length;kt++){var zt=Dt[kt],Ht=zt.chain.length;if(!(Ht>Tt)){for(var en=!0,Kt=0,Zt=0;Zt<Ht;Zt++){for(;St[Et+Kt+(1+Zt)]==-1;)Kt++;zt.chain[Zt]!=St[Et+Kt+(1+Zt)]&&(en=!1)}if(en){for(St[Et]=zt.nglyph,Zt=0;Zt<Ht+Kt;Zt++)St[Et+Zt+1]=-1;break}}}else if(At.ltype==5&&Ft.fmt==2)for(var Wt=lt._lctf.getInterval(Ft.cDef,St[Et]),tn=Ft.cDef[Wt+2],an=Ft.scset[tn],ln=0;ln<an.length;ln++){var fn=an[ln],un=fn.input;if(!(un.length>Tt)){for(en=!0,Zt=0;Zt<un.length;Zt++){var pn=lt._lctf.getInterval(Ft.cDef,St[Et+1+Zt]);if(Wt==-1&&Ft.cDef[pn+2]!=un[Zt]){en=!1;break}}if(en){var xn=fn.substLookupRecords;for(kt=0;kt<xn.length;kt+=2)xn[kt],xn[kt+1]}}}else if(At.ltype==6&&Ft.fmt==3){if(!lt.U._glsCovered(St,Ft.backCvg,Et-Ft.backCvg.length)||!lt.U._glsCovered(St,Ft.inptCvg,Et)||!lt.U._glsCovered(St,Ft.ahedCvg,Et+Ft.inptCvg.length))continue;var An=Ft.lookupRec;for(ln=0;ln<An.length;ln+=2){Wt=An[ln];var gn=Ct[An[ln+1]];lt.U._applySubs(St,Et+Wt,gn,Ct)}}}}},lt.U._glsCovered=function(St,Et,At){for(var Ct=0;Ct<Et.length;Ct++)if(lt._lctf.coverageIndex(Et[Ct],St[At+Ct])==-1)return!1;return!0},lt.U.glyphsToPath=function(St,Et,At){for(var Ct={cmds:[],crds:[]},Tt=0,Rt=0;Rt<Et.length;Rt++){var Bt=Et[Rt];if(Bt!=-1){for(var Ft=Rt<Et.length-1&&Et[Rt+1]!=-1?Et[Rt+1]:0,Dt=lt.U.glyphToPath(St,Bt),kt=0;kt<Dt.crds.length;kt+=2)Ct.crds.push(Dt.crds[kt]+Tt),Ct.crds.push(Dt.crds[kt+1]);for(At&&Ct.cmds.push(At),kt=0;kt<Dt.cmds.length;kt++)Ct.cmds.push(Dt.cmds[kt]);At&&Ct.cmds.push("X"),Tt+=St.hmtx.aWidth[Bt],Rt<Et.length-1&&(Tt+=lt.U.getPairAdjustment(St,Bt,Ft))}}return Ct},lt.U.P={},lt.U.P.moveTo=function(St,Et,At){St.cmds.push("M"),St.crds.push(Et,At)},lt.U.P.lineTo=function(St,Et,At){St.cmds.push("L"),St.crds.push(Et,At)},lt.U.P.curveTo=function(St,Et,At,Ct,Tt,Rt,Bt){St.cmds.push("C"),St.crds.push(Et,At,Ct,Tt,Rt,Bt)},lt.U.P.qcurveTo=function(St,Et,At,Ct,Tt){St.cmds.push("Q"),St.crds.push(Et,At,Ct,Tt)},lt.U.P.closePath=function(St){St.cmds.push("Z")},lt.U._drawCFF=function(St,Et,At,Ct,Tt){for(var Rt=Et.stack,Bt=Et.nStems,Ft=Et.haveWidth,Dt=Et.width,kt=Et.open,zt=0,Ht=Et.x,en=Et.y,Kt=0,Zt=0,Wt=0,tn=0,an=0,ln=0,fn=0,un=0,pn=0,xn=0,An={val:0,size:0};zt<St.length;){lt.CFF.getCharString(St,zt,An);var gn=An.val;if(zt+=An.size,gn=="o1"||gn=="o18")Rt.length%2!=0&&!Ft&&(Dt=Rt.shift()+Ct.nominalWidthX),Bt+=Rt.length>>1,Rt.length=0,Ft=!0;else if(gn=="o3"||gn=="o23")Rt.length%2!=0&&!Ft&&(Dt=Rt.shift()+Ct.nominalWidthX),Bt+=Rt.length>>1,Rt.length=0,Ft=!0;else if(gn=="o4")Rt.length>1&&!Ft&&(Dt=Rt.shift()+Ct.nominalWidthX,Ft=!0),kt&&lt.U.P.closePath(Tt),en+=Rt.pop(),lt.U.P.moveTo(Tt,Ht,en),kt=!0;else if(gn=="o5")for(;Rt.length>0;)Ht+=Rt.shift(),en+=Rt.shift(),lt.U.P.lineTo(Tt,Ht,en);else if(gn=="o6"||gn=="o7")for(var Ln=Rt.length,Cn=gn=="o6",En=0;En<Ln;En++){var yn=Rt.shift();Cn?Ht+=yn:en+=yn,Cn=!Cn,lt.U.P.lineTo(Tt,Ht,en)}else if(gn=="o8"||gn=="o24"){Ln=Rt.length;for(var Rn=0;Rn+6<=Ln;)Kt=Ht+Rt.shift(),Zt=en+Rt.shift(),Wt=Kt+Rt.shift(),tn=Zt+Rt.shift(),Ht=Wt+Rt.shift(),en=tn+Rt.shift(),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,Ht,en),Rn+=6;gn=="o24"&&(Ht+=Rt.shift(),en+=Rt.shift(),lt.U.P.lineTo(Tt,Ht,en))}else{if(gn=="o11")break;if(gn=="o1234"||gn=="o1235"||gn=="o1236"||gn=="o1237")gn=="o1234"&&(Zt=en,Wt=(Kt=Ht+Rt.shift())+Rt.shift(),xn=tn=Zt+Rt.shift(),ln=tn,un=en,Ht=(fn=(an=(pn=Wt+Rt.shift())+Rt.shift())+Rt.shift())+Rt.shift(),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,pn,xn),lt.U.P.curveTo(Tt,an,ln,fn,un,Ht,en)),gn=="o1235"&&(Kt=Ht+Rt.shift(),Zt=en+Rt.shift(),Wt=Kt+Rt.shift(),tn=Zt+Rt.shift(),pn=Wt+Rt.shift(),xn=tn+Rt.shift(),an=pn+Rt.shift(),ln=xn+Rt.shift(),fn=an+Rt.shift(),un=ln+Rt.shift(),Ht=fn+Rt.shift(),en=un+Rt.shift(),Rt.shift(),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,pn,xn),lt.U.P.curveTo(Tt,an,ln,fn,un,Ht,en)),gn=="o1236"&&(Kt=Ht+Rt.shift(),Zt=en+Rt.shift(),Wt=Kt+Rt.shift(),xn=tn=Zt+Rt.shift(),ln=tn,fn=(an=(pn=Wt+Rt.shift())+Rt.shift())+Rt.shift(),un=ln+Rt.shift(),Ht=fn+Rt.shift(),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,pn,xn),lt.U.P.curveTo(Tt,an,ln,fn,un,Ht,en)),gn=="o1237"&&(Kt=Ht+Rt.shift(),Zt=en+Rt.shift(),Wt=Kt+Rt.shift(),tn=Zt+Rt.shift(),pn=Wt+Rt.shift(),xn=tn+Rt.shift(),an=pn+Rt.shift(),ln=xn+Rt.shift(),fn=an+Rt.shift(),un=ln+Rt.shift(),Math.abs(fn-Ht)>Math.abs(un-en)?Ht=fn+Rt.shift():en=un+Rt.shift(),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,pn,xn),lt.U.P.curveTo(Tt,an,ln,fn,un,Ht,en));else if(gn=="o14"){if(Rt.length>0&&!Ft&&(Dt=Rt.shift()+At.nominalWidthX,Ft=!0),Rt.length==4){var hn=Rt.shift(),mn=Rt.shift(),bn=Rt.shift(),Mn=Rt.shift(),Tn=lt.CFF.glyphBySE(At,bn),In=lt.CFF.glyphBySE(At,Mn);lt.U._drawCFF(At.CharStrings[Tn],Et,At,Ct,Tt),Et.x=hn,Et.y=mn,lt.U._drawCFF(At.CharStrings[In],Et,At,Ct,Tt)}kt&&(lt.U.P.closePath(Tt),kt=!1)}else if(gn=="o19"||gn=="o20")Rt.length%2!=0&&!Ft&&(Dt=Rt.shift()+Ct.nominalWidthX),Bt+=Rt.length>>1,Rt.length=0,Ft=!0,zt+=Bt+7>>3;else if(gn=="o21")Rt.length>2&&!Ft&&(Dt=Rt.shift()+Ct.nominalWidthX,Ft=!0),en+=Rt.pop(),Ht+=Rt.pop(),kt&&lt.U.P.closePath(Tt),lt.U.P.moveTo(Tt,Ht,en),kt=!0;else if(gn=="o22")Rt.length>1&&!Ft&&(Dt=Rt.shift()+Ct.nominalWidthX,Ft=!0),Ht+=Rt.pop(),kt&&lt.U.P.closePath(Tt),lt.U.P.moveTo(Tt,Ht,en),kt=!0;else if(gn=="o25"){for(;Rt.length>6;)Ht+=Rt.shift(),en+=Rt.shift(),lt.U.P.lineTo(Tt,Ht,en);Kt=Ht+Rt.shift(),Zt=en+Rt.shift(),Wt=Kt+Rt.shift(),tn=Zt+Rt.shift(),Ht=Wt+Rt.shift(),en=tn+Rt.shift(),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,Ht,en)}else if(gn=="o26")for(Rt.length%2&&(Ht+=Rt.shift());Rt.length>0;)Kt=Ht,Zt=en+Rt.shift(),Ht=Wt=Kt+Rt.shift(),en=(tn=Zt+Rt.shift())+Rt.shift(),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,Ht,en);else if(gn=="o27")for(Rt.length%2&&(en+=Rt.shift());Rt.length>0;)Zt=en,Wt=(Kt=Ht+Rt.shift())+Rt.shift(),tn=Zt+Rt.shift(),Ht=Wt+Rt.shift(),en=tn,lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,Ht,en);else if(gn=="o10"||gn=="o29"){var Nn=gn=="o10"?Ct:At;if(Rt.length==0)console.debug("error: empty stack");else{var $n=Rt.pop(),Gn=Nn.Subrs[$n+Nn.Bias];Et.x=Ht,Et.y=en,Et.nStems=Bt,Et.haveWidth=Ft,Et.width=Dt,Et.open=kt,lt.U._drawCFF(Gn,Et,At,Ct,Tt),Ht=Et.x,en=Et.y,Bt=Et.nStems,Ft=Et.haveWidth,Dt=Et.width,kt=Et.open}}else if(gn=="o30"||gn=="o31"){var Zn=Rt.length,Un=(Rn=0,gn=="o31");for(Rn+=Zn-(Ln=-3&Zn);Rn<Ln;)Un?(Zt=en,Wt=(Kt=Ht+Rt.shift())+Rt.shift(),en=(tn=Zt+Rt.shift())+Rt.shift(),Ln-Rn==5?(Ht=Wt+Rt.shift(),Rn++):Ht=Wt,Un=!1):(Kt=Ht,Zt=en+Rt.shift(),Wt=Kt+Rt.shift(),tn=Zt+Rt.shift(),Ht=Wt+Rt.shift(),Ln-Rn==5?(en=tn+Rt.shift(),Rn++):en=tn,Un=!0),lt.U.P.curveTo(Tt,Kt,Zt,Wt,tn,Ht,en),Rn+=4}else{if((gn+"").charAt(0)=="o")throw console.debug("Unknown operation: "+gn,St),gn;Rt.push(gn)}}}Et.x=Ht,Et.y=en,Et.nStems=Bt,Et.haveWidth=Ft,Et.width=Dt,Et.open=kt};var ft=lt,vt={Typr:ft};return dt.Typr=ft,dt.default=vt,Object.defineProperty(dt,"__esModule",{value:!0}),dt}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(dt){var lt=Uint8Array,ft=Uint16Array,vt=Uint32Array,St=new lt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Et=new lt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),At=new lt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ct=function(gn,Ln){for(var Cn=new ft(31),En=0;En<31;++En)Cn[En]=Ln+=1<<gn[En-1];var yn=new vt(Cn[30]);for(En=1;En<30;++En)for(var Rn=Cn[En];Rn<Cn[En+1];++Rn)yn[Rn]=Rn-Cn[En]<<5|En;return[Cn,yn]},Tt=Ct(St,2),Rt=Tt[0],Bt=Tt[1];Rt[28]=258,Bt[258]=28;for(var Ft=Ct(Et,0)[0],Dt=new ft(32768),kt=0;kt<32768;++kt){var zt=(43690&kt)>>>1|(21845&kt)<<1;zt=(61680&(zt=(52428&zt)>>>2|(13107&zt)<<2))>>>4|(3855&zt)<<4,Dt[kt]=((65280&zt)>>>8|(255&zt)<<8)>>>1}var Ht=function(gn,Ln,Cn){for(var En=gn.length,yn=0,Rn=new ft(Ln);yn<En;++yn)++Rn[gn[yn]-1];var hn,mn=new ft(Ln);for(yn=0;yn<Ln;++yn)mn[yn]=mn[yn-1]+Rn[yn-1]<<1;if(Cn){hn=new ft(1<<Ln);var bn=15-Ln;for(yn=0;yn<En;++yn)if(gn[yn])for(var Mn=yn<<4|gn[yn],Tn=Ln-gn[yn],In=mn[gn[yn]-1]++<<Tn,Nn=In|(1<<Tn)-1;In<=Nn;++In)hn[Dt[In]>>>bn]=Mn}else for(hn=new ft(En),yn=0;yn<En;++yn)gn[yn]&&(hn[yn]=Dt[mn[gn[yn]-1]++]>>>15-gn[yn]);return hn},en=new lt(288);for(kt=0;kt<144;++kt)en[kt]=8;for(kt=144;kt<256;++kt)en[kt]=9;for(kt=256;kt<280;++kt)en[kt]=7;for(kt=280;kt<288;++kt)en[kt]=8;var Kt=new lt(32);for(kt=0;kt<32;++kt)Kt[kt]=5;var Zt=Ht(en,9,1),Wt=Ht(Kt,5,1),tn=function(gn){for(var Ln=gn[0],Cn=1;Cn<gn.length;++Cn)gn[Cn]>Ln&&(Ln=gn[Cn]);return Ln},an=function(gn,Ln,Cn){var En=Ln/8|0;return(gn[En]|gn[En+1]<<8)>>(7&Ln)&Cn},ln=function(gn,Ln){var Cn=Ln/8|0;return(gn[Cn]|gn[Cn+1]<<8|gn[Cn+2]<<16)>>(7&Ln)},fn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],un=function(gn,Ln,Cn){var En=new Error(Ln||fn[gn]);if(En.code=gn,Error.captureStackTrace&&Error.captureStackTrace(En,un),!Cn)throw En;return En},pn=function(gn,Ln,Cn){var En=gn.length;if(!En||Cn&&!Cn.l&&En<5)return Ln||new lt(0);var yn=!Ln||Cn,Rn=!Cn||Cn.i;Cn||(Cn={}),Ln||(Ln=new lt(3*En));var hn,mn=function(_r){var Dr=Ln.length;if(_r>Dr){var Wr=new lt(Math.max(2*Dr,_r));Wr.set(Ln),Ln=Wr}},bn=Cn.f||0,Mn=Cn.p||0,Tn=Cn.b||0,In=Cn.l,Nn=Cn.d,$n=Cn.m,Gn=Cn.n,Zn=8*En;do{if(!In){Cn.f=bn=an(gn,Mn,1);var Un=an(gn,Mn+1,3);if(Mn+=3,!Un){var Xn=gn[(Tr=((hn=Mn)/8|0)+(7&hn&&1)+4)-4]|gn[Tr-3]<<8,Vn=Tr+Xn;if(Vn>En){Rn&&un(0);break}yn&&mn(Tn+Xn),Ln.set(gn.subarray(Tr,Vn),Tn),Cn.b=Tn+=Xn,Cn.p=Mn=8*Vn;continue}if(Un==1)In=Zt,Nn=Wt,$n=9,Gn=5;else if(Un==2){var Wn=an(gn,Mn,31)+257,Dn=an(gn,Mn+10,15)+4,jn=Wn+an(gn,Mn+5,31)+1;Mn+=14;for(var Qn=new lt(jn),ir=new lt(19),hr=0;hr<Dn;++hr)ir[At[hr]]=an(gn,Mn+3*hr,7);Mn+=3*Dn;var Pr=tn(ir),tr=(1<<Pr)-1,xr=Ht(ir,Pr,1);for(hr=0;hr<jn;){var Tr,mr=xr[an(gn,Mn,tr)];if(Mn+=15&mr,(Tr=mr>>>4)<16)Qn[hr++]=Tr;else{var On=0,Bn=0;for(Tr==16?(Bn=3+an(gn,Mn,3),Mn+=2,On=Qn[hr-1]):Tr==17?(Bn=3+an(gn,Mn,7),Mn+=3):Tr==18&&(Bn=11+an(gn,Mn,127),Mn+=7);Bn--;)Qn[hr++]=On}}var Yn=Qn.subarray(0,Wn),ur=Qn.subarray(Wn);$n=tn(Yn),Gn=tn(ur),In=Ht(Yn,$n,1),Nn=Ht(ur,Gn,1)}else un(1);if(Mn>Zn){Rn&&un(0);break}}yn&&mn(Tn+131072);for(var Cr=(1<<$n)-1,Ar=(1<<Gn)-1,Fr=Mn;;Fr=Mn){var Br=(On=In[ln(gn,Mn)&Cr])>>>4;if((Mn+=15&On)>Zn){Rn&&un(0);break}if(On||un(2),Br<256)Ln[Tn++]=Br;else{if(Br==256){Fr=Mn,In=null;break}var pr=Br-254;if(Br>264){var kr=St[hr=Br-257];pr=an(gn,Mn,(1<<kr)-1)+Rt[hr],Mn+=kr}var Jn=Nn[ln(gn,Mn)&Ar],cr=Jn>>>4;if(Jn||un(3),Mn+=15&Jn,ur=Ft[cr],cr>3&&(kr=Et[cr],ur+=ln(gn,Mn)&(1<<kr)-1,Mn+=kr),Mn>Zn){Rn&&un(0);break}yn&&mn(Tn+131072);for(var Sr=Tn+pr;Tn<Sr;Tn+=4)Ln[Tn]=Ln[Tn-ur],Ln[Tn+1]=Ln[Tn+1-ur],Ln[Tn+2]=Ln[Tn+2-ur],Ln[Tn+3]=Ln[Tn+3-ur];Tn=Sr}}Cn.l=In,Cn.p=Fr,Cn.b=Tn,In&&(bn=1,Cn.m=$n,Cn.d=Nn,Cn.n=Gn)}while(!bn);return Tn==Ln.length?Ln:function(_r,Dr,Wr){(Dr==null||Dr<0)&&(Dr=0),(Wr==null||Wr>_r.length)&&(Wr=_r.length);var es=new(_r instanceof ft?ft:_r instanceof vt?vt:lt)(Wr-Dr);return es.set(_r.subarray(Dr,Wr)),es}(Ln,0,Tn)},xn=new lt(0),An=typeof TextDecoder<"u"&&new TextDecoder;try{An.decode(xn,{stream:!0})}catch{}return dt.convert_streams=function(gn){var Ln=new DataView(gn),Cn=0;function En(){var Wn=Ln.getUint16(Cn);return Cn+=2,Wn}function yn(){var Wn=Ln.getUint32(Cn);return Cn+=4,Wn}function Rn(Wn){Xn.setUint16(Vn,Wn),Vn+=2}function hn(Wn){Xn.setUint32(Vn,Wn),Vn+=4}for(var mn={signature:yn(),flavor:yn(),length:yn(),numTables:En(),reserved:En(),totalSfntSize:yn(),majorVersion:En(),minorVersion:En(),metaOffset:yn(),metaLength:yn(),metaOrigLength:yn(),privOffset:yn(),privLength:yn()},bn=0;Math.pow(2,bn)<=mn.numTables;)bn++;bn--;for(var Mn=16*Math.pow(2,bn),Tn=16*mn.numTables-Mn,In=12,Nn=[],$n=0;$n<mn.numTables;$n++)Nn.push({tag:yn(),offset:yn(),compLength:yn(),origLength:yn(),origChecksum:yn()}),In+=16;var Gn,Zn=new Uint8Array(12+16*Nn.length+Nn.reduce(function(Wn,Dn){return Wn+Dn.origLength+4},0)),Un=Zn.buffer,Xn=new DataView(Un),Vn=0;return hn(mn.flavor),Rn(mn.numTables),Rn(Mn),Rn(bn),Rn(Tn),Nn.forEach(function(Wn){hn(Wn.tag),hn(Wn.origChecksum),hn(In),hn(Wn.origLength),Wn.outOffset=In,(In+=Wn.origLength)%4!=0&&(In+=4-In%4)}),Nn.forEach(function(Wn){var Dn,jn=gn.slice(Wn.offset,Wn.offset+Wn.compLength);if(Wn.compLength!=Wn.origLength){var Qn=new Uint8Array(Wn.origLength);Dn=new Uint8Array(jn,2),pn(Dn,Qn)}else Qn=new Uint8Array(jn);Zn.set(Qn,Wn.outOffset);var ir=0;(In=Wn.outOffset+Wn.origLength)%4!=0&&(ir=4-In%4),Zn.set(new Uint8Array(ir).buffer,Wn.outOffset+Wn.origLength),Gn=In+ir}),Un.slice(0,Gn)},Object.defineProperty(dt,"__esModule",{value:!0}),dt}({}).convert_streams}function parserFactory(dt,lt){const ft={M:2,L:2,Q:4,C:6,Z:0},vt={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},St=1,Et=2,At=4,Ct=8,Tt=16,Rt=32;let Bt;function Ft(an){if(!Bt){const ln={R:Et,L:St,D:At,C:Tt,U:Rt,T:Ct};Bt=new Map;for(let fn in vt){let un=0;vt[fn].split(",").forEach(pn=>{let[xn,An]=pn.split("+");xn=parseInt(xn,36),An=An?parseInt(An,36):0,Bt.set(un+=xn,ln[fn]);for(let gn=An;gn--;)Bt.set(++un,ln[fn])})}}return Bt.get(an)||Rt}const Dt=1,kt=2,zt=3,Ht=4,en=[null,"isol","init","fina","medi"];function Kt(an){const ln=new Uint8Array(an.length);let fn=Rt,un=Dt,pn=-1;for(let xn=0;xn<an.length;xn++){const An=an.codePointAt(xn);let gn=Ft(An)|0,Ln=Dt;gn&Ct||(fn&(St|At|Tt)?gn&(Et|At|Tt)?(Ln=zt,(un===Dt||un===zt)&&ln[pn]++):gn&(St|Rt)&&(un===kt||un===Ht)&&ln[pn]--:fn&(Et|Rt)&&(un===kt||un===Ht)&&ln[pn]--,un=ln[xn]=Ln,fn=gn,pn=xn,An>65535&&xn++)}return ln}function Zt(an,ln){const fn=[];for(let pn=0;pn<ln.length;pn++){const xn=ln.codePointAt(pn);xn>65535&&pn++,fn.push(dt.U.codeToGlyph(an,xn))}const un=an.GSUB;if(un){const{lookupList:pn,featureList:xn}=un;let An;const gn=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,Ln=[];xn.forEach(Cn=>{if(gn.test(Cn.tag))for(let En=0;En<Cn.tab.length;En++){if(Ln[Cn.tab[En]])continue;Ln[Cn.tab[En]]=!0;const yn=pn[Cn.tab[En]],Rn=/^(isol|init|fina|medi)$/.test(Cn.tag);Rn&&!An&&(An=Kt(ln));for(let hn=0;hn<fn.length;hn++)(!An||!Rn||en[An[hn]]===Cn.tag)&&dt.U._applySubs(fn,hn,yn,pn)}})}return fn}function Wt(...an){for(let ln=0;ln<an.length;ln++)if(typeof an[ln]=="number")return an[ln]}function tn(an){const ln=Object.create(null),fn=an["OS/2"],un=an.hhea,pn=an.head.unitsPerEm,xn=Wt(fn&&fn.sTypoAscender,un&&un.ascender,pn),An={unitsPerEm:pn,ascender:xn,descender:Wt(fn&&fn.sTypoDescender,un&&un.descender,0),capHeight:Wt(fn&&fn.sCapHeight,xn),xHeight:Wt(fn&&fn.sxHeight,xn),lineGap:Wt(fn&&fn.sTypoLineGap,un&&un.lineGap),forEachGlyph(gn,Ln,Cn,En){let yn=0;const Rn=1/An.unitsPerEm*Ln,hn=Zt(an,gn);let mn=0,bn=-1;return hn.forEach((Mn,Tn)=>{if(Mn!==-1){let In=ln[Mn];if(!In){const{cmds:Nn,crds:$n}=dt.U.glyphToPath(an,Mn);let Gn="",Zn=0;for(let Dn=0,jn=Nn.length;Dn<jn;Dn++){const Qn=ft[Nn[Dn]];Gn+=Nn[Dn];for(let ir=1;ir<=Qn;ir++)Gn+=(ir>1?",":"")+$n[Zn++]}let Un,Xn,Vn,Wn;if($n.length){Un=Xn=1/0,Vn=Wn=-1/0;for(let Dn=0,jn=$n.length;Dn<jn;Dn+=2){let Qn=$n[Dn],ir=$n[Dn+1];Qn<Un&&(Un=Qn),ir<Xn&&(Xn=ir),Qn>Vn&&(Vn=Qn),ir>Wn&&(Wn=ir)}}else Un=Vn=Xn=Wn=0;In=ln[Mn]={index:Mn,advanceWidth:an.hmtx.aWidth[Mn],xMin:Un,yMin:Xn,xMax:Vn,yMax:Wn,path:Gn,pathCommandCount:Nn.length}}bn!==-1&&(yn+=dt.U.getPairAdjustment(an,bn,Mn)*Rn),En.call(null,In,yn,mn),In.advanceWidth&&(yn+=In.advanceWidth*Rn),Cn&&(yn+=Cn*Ln),bn=Mn}mn+=gn.codePointAt(mn)>65535?2:1}),yn}};return An}return function(ln){const fn=new Uint8Array(ln,0,4),un=dt._bin.readASCII(fn,0,4);if(un==="wOFF")ln=lt(ln);else if(un==="wOF2")throw new Error("woff2 fonts not supported");return tn(dt.parse(ln)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(dt,lt,ft){const vt=dt(),St=lt();return ft(vt,St)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(dt,lt){dt=assign({},dt);const ft=now$1();if(dt.font=toAbsoluteURL(dt.font||CONFIG.defaultFontURL),dt.text=""+dt.text,dt.sdfGlyphSize=dt.sdfGlyphSize||CONFIG.sdfGlyphSize,dt.colorRanges!=null){let Ft={};for(let Dt in dt.colorRanges)if(dt.colorRanges.hasOwnProperty(Dt)){let kt=dt.colorRanges[Dt];typeof kt!="number"&&(kt=tempColor.set(kt).getHex()),Ft[Dt]=kt}dt.colorRanges=Ft}Object.freeze(dt);const{textureWidth:vt,sdfExponent:St}=CONFIG,{sdfGlyphSize:Et}=dt,At=vt/Et*4;let Ct=atlases[Et];if(!Ct){const Ft=document.createElement("canvas");Ft.width=vt,Ft.height=Et*256/At,Ct=atlases[Et]={glyphCount:0,sdfGlyphSize:Et,sdfCanvas:Ft,sdfTexture:new Texture(Ft,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},Ct.sdfTexture.generateMipmaps=!1,initContextLossHandling(Ct)}const{sdfTexture:Tt,sdfCanvas:Rt}=Ct;let Bt=Ct.glyphsByFont.get(dt.font);Bt||Ct.glyphsByFont.set(dt.font,Bt=new Map),typesetInWorker(dt).then(Ft=>{const{glyphIds:Dt,glyphPositions:kt,fontSize:zt,unitsPerEm:Ht,timings:en}=Ft,Kt=[],Zt=new Float32Array(Dt.length*4),Wt=zt/Ht;let tn=0,an=0;const ln=now$1();Dt.forEach((An,gn)=>{let Ln=Bt.get(An);if(!Ln){const{path:Rn,pathBounds:hn}=Ft.glyphData[An],mn=Math.max(hn[2]-hn[0],hn[3]-hn[1])/Et*(CONFIG.sdfMargin*Et+.5),bn=Ct.glyphCount++,Mn=[hn[0]-mn,hn[1]-mn,hn[2]+mn,hn[3]+mn];Bt.set(An,Ln={path:Rn,atlasIndex:bn,sdfViewBox:Mn}),Kt.push(Ln)}const{sdfViewBox:Cn}=Ln,En=kt[an++],yn=kt[an++];Zt[tn++]=En+Cn[0]*Wt,Zt[tn++]=yn+Cn[1]*Wt,Zt[tn++]=En+Cn[2]*Wt,Zt[tn++]=yn+Cn[3]*Wt,Dt[gn]=Ln.atlasIndex}),en.quads=(en.quads||0)+(now$1()-ln);const fn=now$1();en.sdf={};const un=Rt.height,pn=Math.ceil(Ct.glyphCount/At),xn=Math.pow(2,Math.ceil(Math.log2(pn*Et)));xn>un&&(console.info(`Increasing SDF texture size ${un}->${xn}`),resizeWebGLCanvasWithoutClearing(Rt,vt,xn),Tt.dispose()),Promise.all(Kt.map(An=>generateGlyphSDF(An,Ct,dt.gpuAccelerateSDF).then(({timing:gn})=>{en.sdf[An.atlasIndex]=gn}))).then(()=>{Kt.length&&!Ct.contextLost&&(safariPre15Workaround(Ct),Tt.needsUpdate=!0),en.sdfTotal=now$1()-fn,en.total=now$1()-ft,lt(Object.freeze({parameters:dt,sdfTexture:Tt,sdfGlyphSize:Et,sdfExponent:St,glyphBounds:Zt,glyphAtlasIndices:Dt,glyphColors:Ft.glyphColors,caretPositions:Ft.caretPositions,caretHeight:Ft.caretHeight,chunkedBounds:Ft.chunkedBounds,ascender:Ft.ascender,descender:Ft.descender,lineHeight:Ft.lineHeight,capHeight:Ft.capHeight,xHeight:Ft.xHeight,topBaseline:Ft.topBaseline,blockBounds:Ft.blockBounds,visibleBounds:Ft.visibleBounds,timings:Ft.timings}))})}),Promise.resolve().then(()=>{Ct.contextLost||warmUpSDFCanvas(Rt)})}function generateGlyphSDF({path:dt,atlasIndex:lt,sdfViewBox:ft},{sdfGlyphSize:vt,sdfCanvas:St,contextLost:Et},At){if(Et)return Promise.resolve({timing:-1});const{textureWidth:Ct,sdfExponent:Tt}=CONFIG,Rt=Math.max(ft[2]-ft[0],ft[3]-ft[1]),Bt=Math.floor(lt/4),Ft=Bt%(Ct/vt)*vt,Dt=Math.floor(Bt/(Ct/vt))*vt,kt=lt%4;return generateSDF(vt,vt,dt,ft,Rt,Tt,St,Ft,Dt,kt,At)}function initContextLossHandling(dt){const lt=dt.sdfCanvas;lt.addEventListener("webglcontextlost",ft=>{console.log("Context Lost",ft),ft.preventDefault(),dt.contextLost=!0}),lt.addEventListener("webglcontextrestored",ft=>{console.log("Context Restored",ft),dt.contextLost=!1;const vt=[];dt.glyphsByFont.forEach(St=>{St.forEach(Et=>{vt.push(generateGlyphSDF(Et,dt,!0))})}),Promise.all(vt).then(()=>{safariPre15Workaround(dt),dt.sdfTexture.needsUpdate=!0})})}function preloadFont({font:dt,characters:lt,sdfGlyphSize:ft},vt){let St=Array.isArray(lt)?lt.join(`
`):""+lt;getTextRenderInfo({font:dt,sdfGlyphSize:ft,text:St},vt)}function assign(dt,lt){for(let ft in lt)lt.hasOwnProperty(ft)&&(dt[ft]=lt[ft]);return dt}let linkEl;function toAbsoluteURL(dt){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=dt,linkEl.href}function safariPre15Workaround(dt){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:lt,sdfTexture:ft}=dt,{width:vt,height:St}=lt,Et=dt.sdfCanvas.getContext("webgl");let At=ft.image.data;(!At||At.length!==vt*St*4)&&(At=new Uint8Array(vt*St*4),ft.image={width:vt,height:St,data:At},ft.flipY=!1,ft.isDataTexture=!0),Et.readPixels(0,0,vt,St,Et.RGBA,Et.UNSIGNED_BYTE,At)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(dt,lt,ft,vt){const{defaultFontURL:St}=dt;return ft(lt,vt(),{defaultFontURL:St})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(dt){return function(lt){return new Promise(ft=>{dt.typeset(lt,ft)})}},getTransferables(dt){const lt=[dt.glyphPositions.buffer,dt.glyphIds.buffer];return dt.caretPositions&&lt.push(dt.caretPositions.buffer),dt.glyphColors&&lt.push(dt.glyphColors.buffer),lt}}),templateGeometries={};function getTemplateGeometry(dt){let lt=templateGeometries[dt];if(!lt){const ft=new PlaneGeometry(1,1,dt,dt),vt=ft.clone(),St=ft.attributes,Et=vt.attributes,At=new BufferGeometry,Ct=St.uv.count;for(let Tt=0;Tt<Ct;Tt++)Et.position.array[Tt*3]*=-1,Et.normal.array[Tt*3+2]*=-1;["position","normal","uv"].forEach(Tt=>{At.setAttribute(Tt,new Float32BufferAttribute([...St[Tt].array,...Et[Tt].array],St[Tt].itemSize))}),At.setIndex([...ft.index.array,...vt.index.array.map(Tt=>Tt+Ct)]),At.translate(.5,.5,0),lt=templateGeometries[dt]=At}return lt}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere$1,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(lt){const ft=this.getIndex().count;this.setDrawRange(lt===BackSide?ft/2:0,lt===DoubleSide?ft:ft/2)}set detail(lt){if(lt!==this._detail){this._detail=lt,(typeof lt!="number"||lt<1)&&(lt=1);let ft=getTemplateGeometry(lt);["position","normal","uv"].forEach(vt=>{this.attributes[vt]=ft.attributes[vt].clone()}),this.setIndex(ft.getIndex().clone())}}get detail(){return this._detail}set curveRadius(lt){lt!==this._curveRadius&&(this._curveRadius=lt,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(lt,ft,vt,St,Et){updateBufferAttr(this,glyphBoundsAttrName,lt,4),updateBufferAttr(this,glyphIndexAttrName,ft,1),updateBufferAttr(this,glyphColorAttrName,Et,3),this._blockBounds=vt,this._chunkedBounds=St,this.instanceCount=ft.length,this._updateBounds()}_updateBounds(){const lt=this._blockBounds;if(lt){const{curveRadius:ft,boundingBox:vt}=this;if(ft){const{PI:St,floor:Et,min:At,max:Ct,sin:Tt,cos:Rt}=Math,Bt=St/2,Ft=St*2,Dt=Math.abs(ft),kt=lt[0]/Dt,zt=lt[2]/Dt,Ht=Et((kt+Bt)/Ft)!==Et((zt+Bt)/Ft)?-Dt:At(Tt(kt)*Dt,Tt(zt)*Dt),en=Et((kt-Bt)/Ft)!==Et((zt-Bt)/Ft)?Dt:Ct(Tt(kt)*Dt,Tt(zt)*Dt),Kt=Et((kt+St)/Ft)!==Et((zt+St)/Ft)?Dt*2:Ct(Dt-Rt(kt)*Dt,Dt-Rt(zt)*Dt);vt.min.set(Ht,lt[1],ft<0?-Kt:0),vt.max.set(en,lt[3],ft<0?0:Kt)}else vt.min.set(lt[0],lt[1],0),vt.max.set(lt[2],lt[3],0);vt.getBoundingSphere(this.boundingSphere)}}applyClipRect(lt){let ft=this.getAttribute(glyphIndexAttrName).count,vt=this._chunkedBounds;if(vt)for(let St=vt.length;St--;){ft=vt[St].end;let Et=vt[St].rect;if(Et[1]<lt.w&&Et[3]>lt.y&&Et[0]<lt.z&&Et[2]>lt.x)break}this.instanceCount=ft}}function updateBufferAttr(dt,lt,ft,vt){const St=dt.getAttribute(lt);ft?St&&St.array.length===ft.length?(St.array.set(ft),St.needsUpdate=!0):(dt.setAttribute(lt,new InstancedBufferAttribute(ft,vt)),delete dt._maxInstanceCount,dt.dispose()):St&&dt.deleteAttribute(lt)}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(dt){const lt=createDerivedMaterial(dt,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:ft,fragmentShader:vt}){let St=/\buniform\s+vec3\s+diffuse\b/;return St.test(vt)&&(vt=vt.replace(St,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),St.test(ft)||(ft=ft.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:ft,fragmentShader:vt}}});return lt.transparent=!0,Object.defineProperties(lt,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),lt}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(dt){return Array.isArray(dt)?dt[0]:dt}let getFlatRaycastMesh=()=>{const dt=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>dt,dt},getCurvedRaycastMesh=()=>{const dt=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>dt,dt};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const lt=new GlyphsGeometry;super(lt,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(lt){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(lt):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},ft=>{this._isSyncing=!1,this._textRenderInfo=ft,this.geometry.updateGlyphs(ft.glyphBounds,ft.glyphAtlasIndices,ft.blockBounds,ft.chunkedBounds,ft.glyphColors);const vt=this._queuedSyncs;vt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{vt.forEach(St=>St&&St())})),this.dispatchEvent(syncCompleteEvent),lt&&lt()})))}onBeforeRender(lt,ft,vt,St,Et,At){this.sync(),Et.isTroikaTextMaterial&&this._prepareForRender(Et),Et._hadOwnSide=Et.hasOwnProperty("side"),this.geometry.setSide(Et._actualSide=Et.side),Et.side=FrontSide}onAfterRender(lt,ft,vt,St,Et,At){Et._hadOwnSide?Et.side=Et._actualSide:delete Et.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let lt=this._derivedMaterial;const ft=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!lt||lt.baseMaterial!==ft)&&(lt=this._derivedMaterial=createTextDerivedMaterial(ft),ft.addEventListener("dispose",function vt(){ft.removeEventListener("dispose",vt),lt.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let vt=lt._outlineMtl;return vt||(vt=lt._outlineMtl=Object.create(lt,{id:{value:lt.id+.1}}),vt.isTextOutlineMaterial=!0,vt.depthWrite=!1,vt.map=null,lt.addEventListener("dispose",function St(){lt.removeEventListener("dispose",St),vt.dispose()})),[vt,lt]}else return lt}set material(lt){lt&&lt.isTroikaTextMaterial?(this._derivedMaterial=lt,this._baseMaterial=lt.baseMaterial):this._baseMaterial=lt}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(lt){this.geometry.detail=lt}get curveRadius(){return this.geometry.curveRadius}set curveRadius(lt){this.geometry.curveRadius=lt}get customDepthMaterial(){return first(this.material).getDepthMaterial()}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}_prepareForRender(lt){const ft=lt.isTextOutlineMaterial,vt=lt.uniforms,St=this.textRenderInfo;if(St){const{sdfTexture:Ct,blockBounds:Tt}=St;vt.uTroikaSDFTexture.value=Ct,vt.uTroikaSDFTextureSize.value.set(Ct.image.width,Ct.image.height),vt.uTroikaSDFGlyphSize.value=St.sdfGlyphSize,vt.uTroikaSDFExponent.value=St.sdfExponent,vt.uTroikaTotalBounds.value.fromArray(Tt),vt.uTroikaUseGlyphColors.value=!ft&&!!St.glyphColors;let Rt=0,Bt=0,Ft=0,Dt,kt,zt,Ht=0,en=0;if(ft){let{outlineWidth:Zt,outlineOffsetX:Wt,outlineOffsetY:tn,outlineBlur:an,outlineOpacity:ln}=this;Rt=this._parsePercent(Zt)||0,Bt=Math.max(0,this._parsePercent(an)||0),Dt=ln,Ht=this._parsePercent(Wt)||0,en=this._parsePercent(tn)||0}else Ft=Math.max(0,this._parsePercent(this.strokeWidth)||0),Ft&&(zt=this.strokeColor,vt.uTroikaStrokeColor.value.set(zt??defaultStrokeColor),kt=this.strokeOpacity,kt==null&&(kt=1)),Dt=this.fillOpacity;vt.uTroikaDistanceOffset.value=Rt,vt.uTroikaPositionOffset.value.set(Ht,en),vt.uTroikaBlurRadius.value=Bt,vt.uTroikaStrokeWidth.value=Ft,vt.uTroikaStrokeOpacity.value=kt,vt.uTroikaFillOpacity.value=Dt??1,vt.uTroikaCurveRadius.value=this.curveRadius||0;let Kt=this.clipRect;if(Kt&&Array.isArray(Kt)&&Kt.length===4)vt.uTroikaClipRect.value.fromArray(Kt);else{const Zt=(this.fontSize||.1)*100;vt.uTroikaClipRect.value.set(Tt[0]-Zt,Tt[1]-Zt,Tt[2]+Zt,Tt[3]+Zt)}this.geometry.applyClipRect(vt.uTroikaClipRect.value)}vt.uTroikaSDFDebug.value=!!this.debugSDF,lt.polygonOffset=!!this.depthOffset,lt.polygonOffsetFactor=lt.polygonOffsetUnits=this.depthOffset||0;const Et=ft?this.outlineColor||0:this.color;if(Et==null)delete lt.color;else{const Ct=lt.hasOwnProperty("color")?lt.color:lt.color=new Color;(Et!==Ct._input||typeof Et=="object")&&Ct.set(Ct._input=Et)}let At=this.orientation||defaultOrient;if(At!==lt._orientation){let Ct=vt.uTroikaOrient.value;At=At.replace(/[^-+xyz]/g,"");let Tt=At!==defaultOrient&&At.match(/^([-+])([xyz])([-+])([xyz])$/);if(Tt){let[,Rt,Bt,Ft,Dt]=Tt;tempVec3a.set(0,0,0)[Bt]=Rt==="-"?1:-1,tempVec3b.set(0,0,0)[Dt]=Ft==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),Ct.setFromMatrix4(tempMat4)}else Ct.identity();lt._orientation=At}}_parsePercent(lt){if(typeof lt=="string"){let ft=lt.match(/^(-?[\d.]+)%$/),vt=ft?parseFloat(ft[1]):NaN;lt=(isNaN(vt)?0:vt/100)*this.fontSize}return lt}localPositionToTextCoords(lt,ft=new Vector2){ft.copy(lt);const vt=this.curveRadius;return vt&&(ft.x=Math.atan2(lt.x,Math.abs(vt)-Math.abs(lt.z))*Math.abs(vt)),ft}worldPositionToTextCoords(lt,ft=new Vector2){return tempVec3a.copy(lt),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),ft)}raycast(lt,ft){const{textRenderInfo:vt,curveRadius:St}=this;if(vt){const Et=vt.blockBounds,At=St?getCurvedRaycastMesh():getFlatRaycastMesh(),Ct=At.geometry,{position:Tt,uv:Rt}=Ct.attributes;for(let Bt=0;Bt<Rt.count;Bt++){let Ft=Et[0]+Rt.getX(Bt)*(Et[2]-Et[0]);const Dt=Et[1]+Rt.getY(Bt)*(Et[3]-Et[1]);let kt=0;St&&(kt=St-Math.cos(Ft/St)*St,Ft=Math.sin(Ft/St)*St),Tt.setXYZ(Bt,Ft,Dt,kt)}Ct.boundingSphere=this.geometry.boundingSphere,Ct.boundingBox=this.geometry.boundingBox,At.matrixWorld=this.matrixWorld,At.material.side=this.material.side,tempArray.length=0,At.raycast(lt,tempArray);for(let Bt=0;Bt<tempArray.length;Bt++)tempArray[Bt].object=this,ft.push(tempArray[Bt])}}copy(lt){const ft=this.geometry;return super.copy(lt),this.geometry=ft,COPYABLE_PROPS.forEach(vt=>{this[vt]=lt[vt]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(dt=>{const lt="_private_"+dt;Object.defineProperty(Text$1.prototype,dt,{get(){return this[lt]},set(ft){ft!==this[lt]&&(this[lt]=ft,this._needsSync=!0)}})});const Text=reactExports.forwardRef(({sdfGlyphSize:dt=64,anchorX:lt="center",anchorY:ft="middle",font:vt,fontSize:St=1,children:Et,characters:At,onSync:Ct,...Tt},Rt)=>{const Bt=useThree(({invalidate:zt})=>zt),[Ft]=reactExports.useState(()=>new Text$1),[Dt,kt]=reactExports.useMemo(()=>{const zt=[];let Ht="";return reactExports.Children.forEach(Et,en=>{typeof en=="string"||typeof en=="number"?Ht+=en:zt.push(en)}),[zt,Ht]},[Et]);return suspend(()=>new Promise(zt=>preloadFont({font:vt,characters:At},zt)),["troika-text",vt,At]),reactExports.useLayoutEffect(()=>void Ft.sync(()=>{Bt(),Ct&&Ct(Ft)})),reactExports.useEffect(()=>()=>Ft.dispose(),[Ft]),reactExports.createElement("primitive",_extends({object:Ft,ref:Rt,font:vt,text:kt,anchorX:lt,anchorY:ft,fontSize:St,sdfGlyphSize:dt},Tt),Dt)}),Effects=reactExports.forwardRef(({children:dt,multisamping:lt=8,renderIndex:ft=1,disableRender:vt,disableGamma:St,disableRenderPass:Et,depthBuffer:At=!0,stencilBuffer:Ct=!1,anisotropy:Tt=1,encoding:Rt,type:Bt,...Ft},Dt)=>{reactExports.useMemo(()=>extend({EffectComposer,RenderPass,ShaderPass}),[]);const kt=reactExports.useRef(),{scene:zt,camera:Ht,gl:en,size:Kt,viewport:Zt}=useThree(),[Wt]=reactExports.useState(()=>{const an=new WebGLRenderTarget(Kt.width,Kt.height,{type:Bt||HalfFloatType,format:RGBAFormat,depthBuffer:At,stencilBuffer:Ct,anisotropy:Tt});return Bt===UnsignedByteType&&Rt!=null&&("colorSpace"in an?an.texture.colorSpace=Rt:an.texture.encoding=Rt),an.samples=lt,an});reactExports.useEffect(()=>{var an,ln;(an=kt.current)==null||an.setSize(Kt.width,Kt.height),(ln=kt.current)==null||ln.setPixelRatio(Zt.dpr)},[en,Kt,Zt.dpr]),useFrame(()=>{var an;vt||(an=kt.current)==null||an.render()},ft);const tn=[];return Et||tn.push(reactExports.createElement("renderPass",{key:"renderpass",attach:`passes-${tn.length}`,args:[zt,Ht]})),St||tn.push(reactExports.createElement("shaderPass",{attach:`passes-${tn.length}`,key:"gammapass",args:[GammaCorrectionShader]})),reactExports.Children.forEach(dt,an=>{an&&tn.push(reactExports.cloneElement(an,{key:tn.length,attach:`passes-${tn.length}`}))}),reactExports.createElement("effectComposer",_extends({ref:mergeRefs([Dt,kt]),args:[en,Wt]},Ft),tn)});function shaderMaterial(dt,lt,ft,vt){const St=class extends ShaderMaterial{constructor(At={}){const Ct=Object.entries(dt);super({uniforms:Ct.reduce((Tt,[Rt,Bt])=>{const Ft=UniformsUtils.clone({[Rt]:{value:Bt}});return{...Tt,...Ft}},{}),vertexShader:lt,fragmentShader:ft}),this.key="",Ct.forEach(([Tt])=>Object.defineProperty(this,Tt,{get:()=>this.uniforms[Tt].value,set:Rt=>this.uniforms[Tt].value=Rt})),Object.assign(this,At),vt&&vt(this)}};return St.key=MathUtils.generateUUID(),St}let dracoLoader=null;function extensions(dt,lt,ft){return vt=>{ft&&ft(vt),dt&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof dt=="string"?dt:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),vt.setDRACOLoader(dracoLoader)),lt&&vt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(dt,lt=!0,ft=!0,vt){return useLoader(GLTFLoader,dt,extensions(lt,ft,vt))}useGLTF.preload=(dt,lt=!0,ft=!0,vt)=>useLoader.preload(GLTFLoader,dt,extensions(lt,ft,vt));useGLTF.clear=dt=>useLoader.clear(GLTFLoader,dt);function useFBO(dt,lt,ft){const vt=useThree(Dt=>Dt.size),St=useThree(Dt=>Dt.viewport),Et=typeof dt=="number"?dt:vt.width*St.dpr,At=typeof lt=="number"?lt:vt.height*St.dpr,Ct=(typeof dt=="number"?ft:dt)||{},{samples:Tt=0,depth:Rt,...Bt}=Ct,Ft=reactExports.useMemo(()=>{const Dt=new WebGLRenderTarget(Et,At,{minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType,...Bt});return Rt&&(Dt.depthTexture=new DepthTexture(Et,At,FloatType)),Dt.samples=Tt,Dt},[]);return reactExports.useLayoutEffect(()=>{Ft.setSize(Et,At),Tt&&(Ft.samples=Tt)},[Tt,Ft,Et,At]),reactExports.useEffect(()=>()=>Ft.dispose(),[]),Ft}const isFunction=dt=>typeof dt=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:dt,resolution:lt=256,frames:ft=1/0,makeDefault:vt,children:St,...Et},At)=>{const Ct=useThree(({set:en})=>en),Tt=useThree(({camera:en})=>en),Rt=useThree(({size:en})=>en),Bt=reactExports.useRef(null),Ft=reactExports.useRef(null),Dt=useFBO(lt);reactExports.useLayoutEffect(()=>{Et.manual||(Bt.current.aspect=Rt.width/Rt.height)},[Rt,Et]),reactExports.useLayoutEffect(()=>{Bt.current.updateProjectionMatrix()});let kt=0,zt=null;const Ht=isFunction(St);return useFrame(en=>{Ht&&(ft===1/0||kt<ft)&&(Ft.current.visible=!1,en.gl.setRenderTarget(Dt),zt=en.scene.background,dt&&(en.scene.background=dt),en.gl.render(en.scene,Bt.current),en.scene.background=zt,en.gl.setRenderTarget(null),Ft.current.visible=!0,kt++)}),reactExports.useLayoutEffect(()=>{if(vt){const en=Tt;return Ct(()=>({camera:Bt.current})),()=>Ct(()=>({camera:en}))}},[Bt,vt,Ct]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends({ref:mergeRefs([Bt,At])},Et),!Ht&&St),reactExports.createElement("group",{ref:Ft},Ht&&St(Dt.texture)))}),OrbitControls=reactExports.forwardRef(({makeDefault:dt,camera:lt,regress:ft,domElement:vt,enableDamping:St=!0,keyEvents:Et=!1,onChange:At,onStart:Ct,onEnd:Tt,...Rt},Bt)=>{const Ft=useThree(ln=>ln.invalidate),Dt=useThree(ln=>ln.camera),kt=useThree(ln=>ln.gl),zt=useThree(ln=>ln.events),Ht=useThree(ln=>ln.setEvents),en=useThree(ln=>ln.set),Kt=useThree(ln=>ln.get),Zt=useThree(ln=>ln.performance),Wt=lt||Dt,tn=vt||zt.connected||kt.domElement,an=reactExports.useMemo(()=>new OrbitControls$1(Wt),[Wt]);return useFrame(()=>{an.enabled&&an.update()},-1),reactExports.useEffect(()=>(Et&&an.connect(Et===!0?tn:Et),an.connect(tn),()=>void an.dispose()),[Et,tn,ft,an,Ft]),reactExports.useEffect(()=>{const ln=pn=>{Ft(),ft&&Zt.regress(),At&&At(pn)},fn=pn=>{Ct&&Ct(pn)},un=pn=>{Tt&&Tt(pn)};return an.addEventListener("change",ln),an.addEventListener("start",fn),an.addEventListener("end",un),()=>{an.removeEventListener("start",fn),an.removeEventListener("end",un),an.removeEventListener("change",ln)}},[At,Ct,Tt,an,Ft,Ht]),reactExports.useEffect(()=>{if(dt){const ln=Kt().controls;return en({controls:an}),()=>en({controls:ln})}},[dt,an]),reactExports.createElement("primitive",_extends({ref:Bt,object:an,enableDamping:St},Rt))});function useAnimations(dt,lt){const ft=reactExports.useRef(),[vt]=reactExports.useState(()=>lt?lt instanceof Object3D?{current:lt}:lt:ft),[St]=reactExports.useState(()=>new AnimationMixer(void 0));reactExports.useLayoutEffect(()=>void(St._root=vt.current),[St,lt]);const Et=reactExports.useRef({}),[At]=reactExports.useState(()=>{const Ct={};return dt.forEach(Tt=>Object.defineProperty(Ct,Tt.name,{enumerable:!0,get(){if(vt.current)return Et.current[Tt.name]||(Et.current[Tt.name]=St.clipAction(Tt,vt.current))},configurable:!0})),{ref:vt,clips:dt,actions:Ct,names:dt.map(Tt=>Tt.name),mixer:St}});return useFrame((Ct,Tt)=>St.update(Tt)),reactExports.useEffect(()=>{const Ct=vt.current;return()=>{Et.current={},Object.values(At.actions).forEach(Tt=>{Ct&&St.uncacheAction(Tt,Ct)})}},[dt]),reactExports.useEffect(()=>()=>{St.stopAllAction()},[St]),At}function create$2(dt,lt){const ft=dt+"Geometry";return reactExports.forwardRef(({args:vt,children:St,...Et},At)=>{const Ct=reactExports.useRef(null);return reactExports.useImperativeHandle(At,()=>Ct.current),reactExports.useLayoutEffect(()=>void(lt==null?void 0:lt(Ct.current))),reactExports.createElement("mesh",_extends({ref:Ct},Et),reactExports.createElement(ft,{attach:"geometry",args:vt}),St)})}const Sphere=create$2("sphere"),isOrthographic=dt=>dt&&dt.isOrthographicCamera,isBox3=dt=>dt&&dt.isBox3,context=reactExports.createContext(null);function Bounds({children:dt,damping:lt=6,fit:ft,clip:vt,observe:St,margin:Et=1.2,eps:At=.01,onFit:Ct}){const Tt=reactExports.useRef(null),{camera:Rt,invalidate:Bt,size:Ft,controls:Dt}=useThree(),kt=Dt,zt=reactExports.useRef(Ct);zt.current=Ct;function Ht(ln,fn){return Math.abs(ln.x-fn.x)<At&&Math.abs(ln.y-fn.y)<At&&Math.abs(ln.z-fn.z)<At}function en(ln,fn,un,pn){ln.x=MathUtils.damp(ln.x,fn.x,un,pn),ln.y=MathUtils.damp(ln.y,fn.y,un,pn),ln.z=MathUtils.damp(ln.z,fn.z,un,pn)}const[Kt]=reactExports.useState(()=>({animating:!1,focus:new Vector3,camera:new Vector3,zoom:1})),[Zt]=reactExports.useState(()=>({focus:new Vector3,camera:new Vector3,zoom:1})),[Wt]=reactExports.useState(()=>new Box3),tn=reactExports.useMemo(()=>{function ln(){const fn=Wt.getSize(new Vector3),un=Wt.getCenter(new Vector3),pn=Math.max(fn.x,fn.y,fn.z),xn=isOrthographic(Rt)?pn*4:pn/(2*Math.atan(Math.PI*Rt.fov/360)),An=isOrthographic(Rt)?pn*4:xn/Rt.aspect,gn=Et*Math.max(xn,An);return{box:Wt,size:fn,center:un,distance:gn}}return{getSize:ln,refresh(fn){if(isBox3(fn))Wt.copy(fn);else{const un=fn||Tt.current;un.updateWorldMatrix(!0,!0),Wt.setFromObject(un)}if(Wt.isEmpty()){const un=Rt.position.length()||10;Wt.setFromCenterAndSize(new Vector3,new Vector3(un,un,un))}if((kt==null?void 0:kt.constructor.name)==="OrthographicTrackballControls"){const{distance:un}=ln(),pn=Rt.position.clone().sub(kt.target).normalize().multiplyScalar(un),xn=kt.target.clone().add(pn);Rt.position.copy(xn)}return this},clip(){const{distance:fn}=ln();return kt&&(kt.maxDistance=fn*10),Rt.near=fn/100,Rt.far=fn*100,Rt.updateProjectionMatrix(),kt&&kt.update(),Bt(),this},to({position:fn,target:un}){Kt.camera.copy(Rt.position);const{center:pn}=ln();return Zt.camera.set(...fn),un?Zt.focus.set(...un):Zt.focus.copy(pn),lt?Kt.animating=!0:Rt.position.set(...fn),this},fit(){Kt.camera.copy(Rt.position),kt&&Kt.focus.copy(kt.target);const{center:fn,distance:un}=ln(),pn=fn.clone().sub(Rt.position).normalize().multiplyScalar(un);if(Zt.camera.copy(fn).sub(pn),Zt.focus.copy(fn),isOrthographic(Rt)){Kt.zoom=Rt.zoom;let xn=0,An=0;const gn=[new Vector3(Wt.min.x,Wt.min.y,Wt.min.z),new Vector3(Wt.min.x,Wt.max.y,Wt.min.z),new Vector3(Wt.min.x,Wt.min.y,Wt.max.z),new Vector3(Wt.min.x,Wt.max.y,Wt.max.z),new Vector3(Wt.max.x,Wt.max.y,Wt.max.z),new Vector3(Wt.max.x,Wt.max.y,Wt.min.z),new Vector3(Wt.max.x,Wt.min.y,Wt.max.z),new Vector3(Wt.max.x,Wt.min.y,Wt.min.z)];fn.applyMatrix4(Rt.matrixWorldInverse);for(const En of gn)En.applyMatrix4(Rt.matrixWorldInverse),xn=Math.max(xn,Math.abs(En.y-fn.y)),An=Math.max(An,Math.abs(En.x-fn.x));xn*=2,An*=2;const Ln=(Rt.top-Rt.bottom)/xn,Cn=(Rt.right-Rt.left)/An;Zt.zoom=Math.min(Ln,Cn)/Et,lt||(Rt.zoom=Zt.zoom,Rt.updateProjectionMatrix())}return lt?Kt.animating=!0:(Rt.position.copy(Zt.camera),Rt.lookAt(Zt.focus),kt&&(kt.target.copy(Zt.focus),kt.update())),zt.current&&zt.current(this.getSize()),Bt(),this}}},[Wt,Rt,kt,Et,lt,Bt]);reactExports.useLayoutEffect(()=>{if(kt){const ln=()=>Kt.animating=!1;return kt.addEventListener("start",ln),()=>kt.removeEventListener("start",ln)}},[kt]);const an=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{(St||an.current++===0)&&(tn.refresh(),ft&&tn.fit(),vt&&tn.clip())},[Ft,vt,ft,St,Rt,kt]),useFrame((ln,fn)=>{if(Kt.animating){if(en(Kt.focus,Zt.focus,lt,fn),en(Kt.camera,Zt.camera,lt,fn),Kt.zoom=MathUtils.damp(Kt.zoom,Zt.zoom,lt,fn),Rt.position.copy(Kt.camera),isOrthographic(Rt)&&(Rt.zoom=Kt.zoom,Rt.updateProjectionMatrix()),kt?(kt.target.copy(Kt.focus),kt.update()):Rt.lookAt(Kt.focus),Bt(),isOrthographic(Rt)&&!(Math.abs(Kt.zoom-Zt.zoom)<At)||!isOrthographic(Rt)&&!Ht(Kt.camera,Zt.camera)||kt&&!Ht(Kt.focus,Zt.focus))return;Kt.animating=!1}}),reactExports.createElement("group",{ref:Tt},reactExports.createElement(context.Provider,{value:tn},dt))}function useBounds(){return reactExports.useContext(context)}const presetsObj={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},CUBEMAP_ROOT="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function useEnvironment({files:dt=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:lt="",preset:ft=void 0,encoding:vt=void 0,extensions:St}={}){if(ft){if(!(ft in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "));dt=presetsObj[ft],lt=CUBEMAP_ROOT}const Et=Array.isArray(dt),Ct=useLoader(Et?CubeTextureLoader:RGBELoader,Et?[dt]:dt,Rt=>{Rt.setPath(lt),St&&St(Rt)}),Tt=Et?Ct[0]:Ct;return Tt.mapping=Et?CubeReflectionMapping:EquirectangularReflectionMapping,Tt.encoding=vt??Et?sRGBEncoding:LinearEncoding,Tt}const isRef=dt=>dt.current&&dt.current.isScene,resolveScene=dt=>isRef(dt)?dt.current:dt;function setEnvProps(dt,lt,ft,vt,St=0){const Et=resolveScene(lt||ft),At=Et.background,Ct=Et.environment,Tt=Et.backgroundBlurriness||0;return dt!=="only"&&(Et.environment=vt),dt&&(Et.background=vt),dt&&Et.backgroundBlurriness!==void 0&&(Et.backgroundBlurriness=St),()=>{dt!=="only"&&(Et.environment=Ct),dt&&(Et.background=At),dt&&Et.backgroundBlurriness!==void 0&&(Et.backgroundBlurriness=Tt)}}function EnvironmentMap({scene:dt,background:lt=!1,blur:ft,map:vt}){const St=useThree(Et=>Et.scene);return reactExports.useLayoutEffect(()=>{if(vt)return setEnvProps(lt,dt,St,vt,ft)},[St,dt,vt,lt,ft]),null}function EnvironmentCube({background:dt=!1,scene:lt,blur:ft,...vt}){const St=useEnvironment(vt),Et=useThree(At=>At.scene);return reactExports.useLayoutEffect(()=>setEnvProps(dt,lt,Et,St,ft),[St,dt,lt,Et,ft]),null}function EnvironmentPortal({children:dt,near:lt=1,far:ft=1e3,resolution:vt=256,frames:St=1,map:Et,background:At=!1,blur:Ct,scene:Tt,files:Rt,path:Bt,preset:Ft=void 0,extensions:Dt}){const kt=useThree(Wt=>Wt.gl),zt=useThree(Wt=>Wt.scene),Ht=reactExports.useRef(null),[en]=reactExports.useState(()=>new Scene$1),Kt=reactExports.useMemo(()=>{const Wt=new WebGLCubeRenderTarget(vt);return Wt.texture.type=HalfFloatType,Wt},[vt]);reactExports.useLayoutEffect(()=>(St===1&&Ht.current.update(kt,en),setEnvProps(At,Tt,zt,Kt.texture,Ct)),[dt,en,Kt.texture,Tt,zt,At,St,kt]);let Zt=1;return useFrame(()=>{(St===1/0||Zt<St)&&(Ht.current.update(kt,en),Zt++)}),reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(reactExports.Fragment,null,dt,reactExports.createElement("cubeCamera",{ref:Ht,args:[lt,ft,Kt]}),Rt||Ft?reactExports.createElement(EnvironmentCube,{background:!0,files:Rt,preset:Ft,path:Bt,extensions:Dt}):Et?reactExports.createElement(EnvironmentMap,{background:!0,map:Et,extensions:Dt}):null),en))}function EnvironmentGround(dt){var lt,ft,vt,St;const Et=useEnvironment(dt),At=dt.map||Et;reactExports.useMemo(()=>extend({GroundProjectedEnvImpl:GroundProjectedEnv}),[]);const Ct=reactExports.useMemo(()=>[At],[At]),Tt=(lt=dt.ground)==null?void 0:lt.height,Rt=(ft=dt.ground)==null?void 0:ft.radius,Bt=(vt=(St=dt.ground)==null?void 0:St.scale)!==null&&vt!==void 0?vt:1e3;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(EnvironmentMap,_extends({},dt,{map:At})),reactExports.createElement("groundProjectedEnvImpl",{args:Ct,scale:Bt,height:Tt,radius:Rt}))}function Environment(dt){return dt.ground?reactExports.createElement(EnvironmentGround,dt):dt.map?reactExports.createElement(EnvironmentMap,dt):dt.children?reactExports.createElement(EnvironmentPortal,dt):reactExports.createElement(EnvironmentCube,dt)}function shallow$1(dt,lt){if(Object.is(dt,lt))return!0;if(typeof dt!="object"||dt===null||typeof lt!="object"||lt===null)return!1;if(dt instanceof Map&&lt instanceof Map){if(dt.size!==lt.size)return!1;for(const[vt,St]of dt)if(!Object.is(St,lt.get(vt)))return!1;return!0}if(dt instanceof Set&&lt instanceof Set){if(dt.size!==lt.size)return!1;for(const vt of dt)if(!lt.has(vt))return!1;return!0}const ft=Object.keys(dt);if(ft.length!==Object.keys(lt).length)return!1;for(let vt=0;vt<ft.length;vt++)if(!Object.prototype.hasOwnProperty.call(lt,ft[vt])||!Object.is(dt[ft[vt]],lt[ft[vt]]))return!1;return!0}const MAX_ITERATIONS_COUNT=50;function iterator(){return this}function useMultipleRefs(dt){let lt=0;return{next(){if(++lt>MAX_ITERATIONS_COUNT)throw new Error("useMultipleRefs: reached more than 50 refs. This hook can be used exclusively with the array destructuring syntax.");return{done:!1,value:reactExports.useRef(dt)}},[Symbol.iterator]:iterator}}useGLTF.preload("./models/lights/lights_v1.glb");var f$3=r$3(),n$3=dt=>c$3(dt,f$3),m$3=r$3();n$3.write=dt=>c$3(dt,m$3);var d$3=r$3();n$3.onStart=dt=>c$3(dt,d$3);var h$6=r$3();n$3.onFrame=dt=>c$3(dt,h$6);var p$4=r$3();n$3.onFinish=dt=>c$3(dt,p$4);var i$1=[];n$3.setTimeout=(dt,lt)=>{let ft=n$3.now()+lt,vt=()=>{let Et=i$1.findIndex(At=>At.cancel==vt);~Et&&i$1.splice(Et,1),u$5-=~Et?1:0},St={time:ft,handler:dt,cancel:vt};return i$1.splice(w$3(ft),0,St),u$5+=1,v$4(),St};var w$3=dt=>~(~i$1.findIndex(lt=>lt.time>dt)||~i$1.length);n$3.cancel=dt=>{d$3.delete(dt),h$6.delete(dt),p$4.delete(dt),f$3.delete(dt),m$3.delete(dt)};n$3.sync=dt=>{T$1=!0,n$3.batchedUpdates(dt),T$1=!1};n$3.throttle=dt=>{let lt;function ft(){try{dt(...lt)}finally{lt=null}}function vt(...St){lt=St,n$3.onStart(ft)}return vt.handler=dt,vt.cancel=()=>{d$3.delete(ft),lt=null},vt};var y$3=typeof window<"u"?window.requestAnimationFrame:()=>{};n$3.use=dt=>y$3=dt;n$3.now=typeof performance<"u"?()=>performance.now():Date.now;n$3.batchedUpdates=dt=>dt();n$3.catch=console.error;n$3.frameLoop="always";n$3.advance=()=>{n$3.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x$2()};var l$4=-1,u$5=0,T$1=!1;function c$3(dt,lt){T$1?(lt.delete(dt),dt(0)):(lt.add(dt),v$4())}function v$4(){l$4<0&&(l$4=0,n$3.frameLoop!=="demand"&&y$3(b$3))}function R$1(){l$4=-1}function b$3(){~l$4&&(y$3(b$3),n$3.batchedUpdates(x$2))}function x$2(){let dt=l$4;l$4=n$3.now();let lt=w$3(l$4);if(lt&&(Q$2(i$1.splice(0,lt),ft=>ft.handler()),u$5-=lt),!u$5){R$1();return}d$3.flush(),f$3.flush(dt?Math.min(64,l$4-dt):16.667),h$6.flush(),m$3.flush(),p$4.flush()}function r$3(){let dt=new Set,lt=dt;return{add(ft){u$5+=lt==dt&&!dt.has(ft)?1:0,dt.add(ft)},delete(ft){return u$5-=lt==dt&&dt.has(ft)?1:0,dt.delete(ft)},flush(ft){lt.size&&(dt=new Set,u$5-=lt.size,Q$2(lt,vt=>vt(ft)&&dt.add(vt)),u$5+=dt.size,lt=dt)}}}function Q$2(dt,lt){dt.forEach(ft=>{try{lt(ft)}catch(vt){n$3.catch(vt)}})}var ze$1=Object.defineProperty,Le$2=(dt,lt)=>{for(var ft in lt)ze$1(dt,ft,{get:lt[ft],enumerable:!0})},p$3={};Le$2(p$3,{assign:()=>U$1,colors:()=>c$2,createStringInterpolator:()=>k$3,skipAnimation:()=>ee,to:()=>J$2,willAdvance:()=>S$1});function Y$1(){}var mt$1=(dt,lt,ft)=>Object.defineProperty(dt,lt,{value:ft,writable:!0,configurable:!0}),l$3={arr:Array.isArray,obj:dt=>!!dt&&dt.constructor.name==="Object",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",und:dt=>dt===void 0};function bt$1(dt,lt){if(l$3.arr(dt)){if(!l$3.arr(lt)||dt.length!==lt.length)return!1;for(let ft=0;ft<dt.length;ft++)if(dt[ft]!==lt[ft])return!1;return!0}return dt===lt}var Ve=(dt,lt)=>dt.forEach(lt);function xt(dt,lt,ft){if(l$3.arr(dt)){for(let vt=0;vt<dt.length;vt++)lt.call(ft,dt[vt],`${vt}`);return}for(let vt in dt)dt.hasOwnProperty(vt)&&lt.call(ft,dt[vt],vt)}var ht$1=dt=>l$3.und(dt)?[]:l$3.arr(dt)?dt:[dt];function Pe$1(dt,lt){if(dt.size){let ft=Array.from(dt);dt.clear(),Ve(ft,lt)}}var yt$1=(dt,...lt)=>Pe$1(dt,ft=>ft(...lt)),h$5=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k$3,J$2,c$2=null,ee=!1,S$1=Y$1,U$1=dt=>{dt.to&&(J$2=dt.to),dt.now&&(n$3.now=dt.now),dt.colors!==void 0&&(c$2=dt.colors),dt.skipAnimation!=null&&(ee=dt.skipAnimation),dt.createStringInterpolator&&(k$3=dt.createStringInterpolator),dt.requestAnimationFrame&&n$3.use(dt.requestAnimationFrame),dt.batchedUpdates&&(n$3.batchedUpdates=dt.batchedUpdates),dt.willAdvance&&(S$1=dt.willAdvance),dt.frameLoop&&(n$3.frameLoop=dt.frameLoop)},E$3=new Set,u$4=[],H$2=[],A$1=0,qe$1={get idle(){return!E$3.size&&!u$4.length},start(dt){A$1>dt.priority?(E$3.add(dt),n$3.onStart($e)):(te$1(dt),n$3(B$1))},advance:B$1,sort(dt){if(A$1)n$3.onFrame(()=>qe$1.sort(dt));else{let lt=u$4.indexOf(dt);~lt&&(u$4.splice(lt,1),re$1(dt))}},clear(){u$4=[],E$3.clear()}};function $e(){E$3.forEach(te$1),E$3.clear(),n$3(B$1)}function te$1(dt){u$4.includes(dt)||re$1(dt)}function re$1(dt){u$4.splice(Ge$1(u$4,lt=>lt.priority>dt.priority),0,dt)}function B$1(dt){let lt=H$2;for(let ft=0;ft<u$4.length;ft++){let vt=u$4[ft];A$1=vt.priority,vt.idle||(S$1(vt),vt.advance(dt),vt.idle||lt.push(vt))}return A$1=0,H$2=u$4,H$2.length=0,u$4=lt,u$4.length>0}function Ge$1(dt,lt){let ft=dt.findIndex(lt);return ft<0?dt.length:ft}var ne$2=(dt,lt,ft)=>Math.min(Math.max(ft,dt),lt),It={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},d$2="[-+]?\\d*\\.?\\d+",M$1=d$2+"%";function C$1(...dt){return"\\(\\s*("+dt.join(")\\s*,\\s*(")+")\\s*\\)"}var oe$1=new RegExp("rgb"+C$1(d$2,d$2,d$2)),fe$1=new RegExp("rgba"+C$1(d$2,d$2,d$2,d$2)),ae$1=new RegExp("hsl"+C$1(d$2,M$1,M$1)),ie=new RegExp("hsla"+C$1(d$2,M$1,M$1,d$2)),se$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,le$1=/^#([0-9a-fA-F]{6})$/,ce=/^#([0-9a-fA-F]{8})$/;function be$1(dt){let lt;return typeof dt=="number"?dt>>>0===dt&&dt>=0&&dt<=4294967295?dt:null:(lt=le$1.exec(dt))?parseInt(lt[1]+"ff",16)>>>0:c$2&&c$2[dt]!==void 0?c$2[dt]:(lt=oe$1.exec(dt))?(y$2(lt[1])<<24|y$2(lt[2])<<16|y$2(lt[3])<<8|255)>>>0:(lt=fe$1.exec(dt))?(y$2(lt[1])<<24|y$2(lt[2])<<16|y$2(lt[3])<<8|me$1(lt[4]))>>>0:(lt=se$1.exec(dt))?parseInt(lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]+"ff",16)>>>0:(lt=ce.exec(dt))?parseInt(lt[1],16)>>>0:(lt=ue$1.exec(dt))?parseInt(lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]+lt[4]+lt[4],16)>>>0:(lt=ae$1.exec(dt))?(de$1(pe(lt[1]),z$2(lt[2]),z$2(lt[3]))|255)>>>0:(lt=ie.exec(dt))?(de$1(pe(lt[1]),z$2(lt[2]),z$2(lt[3]))|me$1(lt[4]))>>>0:null}function j$2(dt,lt,ft){return ft<0&&(ft+=1),ft>1&&(ft-=1),ft<1/6?dt+(lt-dt)*6*ft:ft<1/2?lt:ft<2/3?dt+(lt-dt)*(2/3-ft)*6:dt}function de$1(dt,lt,ft){let vt=ft<.5?ft*(1+lt):ft+lt-ft*lt,St=2*ft-vt,Et=j$2(St,vt,dt+1/3),At=j$2(St,vt,dt),Ct=j$2(St,vt,dt-1/3);return Math.round(Et*255)<<24|Math.round(At*255)<<16|Math.round(Ct*255)<<8}function y$2(dt){let lt=parseInt(dt,10);return lt<0?0:lt>255?255:lt}function pe(dt){return(parseFloat(dt)%360+360)%360/360}function me$1(dt){let lt=parseFloat(dt);return lt<0?0:lt>1?255:Math.round(lt*255)}function z$2(dt){let lt=parseFloat(dt);return lt<0?0:lt>100?1:lt/100}function D$2(dt){let lt=be$1(dt);if(lt===null)return dt;lt=lt||0;let ft=(lt&4278190080)>>>24,vt=(lt&16711680)>>>16,St=(lt&65280)>>>8,Et=(lt&255)/255;return`rgba(${ft}, ${vt}, ${St}, ${Et})`}var W$2=(dt,lt,ft)=>{if(l$3.fun(dt))return dt;if(l$3.arr(dt))return W$2({range:dt,output:lt,extrapolate:ft});if(l$3.str(dt.output[0]))return k$3(dt);let vt=dt,St=vt.output,Et=vt.range||[0,1],At=vt.extrapolateLeft||vt.extrapolate||"extend",Ct=vt.extrapolateRight||vt.extrapolate||"extend",Tt=vt.easing||(Rt=>Rt);return Rt=>{let Bt=He$1(Rt,Et);return Ue$1(Rt,Et[Bt],Et[Bt+1],St[Bt],St[Bt+1],Tt,At,Ct,vt.map)}};function Ue$1(dt,lt,ft,vt,St,Et,At,Ct,Tt){let Rt=Tt?Tt(dt):dt;if(Rt<lt){if(At==="identity")return Rt;At==="clamp"&&(Rt=lt)}if(Rt>ft){if(Ct==="identity")return Rt;Ct==="clamp"&&(Rt=ft)}return vt===St?vt:lt===ft?dt<=lt?vt:St:(lt===-1/0?Rt=-Rt:ft===1/0?Rt=Rt-lt:Rt=(Rt-lt)/(ft-lt),Rt=Et(Rt),vt===-1/0?Rt=-Rt:St===1/0?Rt=Rt+vt:Rt=Rt*(St-vt)+vt,Rt)}function He$1(dt,lt){for(var ft=1;ft<lt.length-1&&!(lt[ft]>=dt);++ft);return ft-1}var Be=(dt,lt="end")=>ft=>{ft=lt==="end"?Math.min(ft,.999):Math.max(ft,.001);let vt=ft*dt,St=lt==="end"?Math.floor(vt):Math.ceil(vt);return ne$2(0,1,St/dt)},P$1=1.70158,L$1=P$1*1.525,xe$1=P$1+1,he$1=2*Math.PI/3,ye$1=2*Math.PI/4.5,V$1=dt=>dt<1/2.75?7.5625*dt*dt:dt<2/2.75?7.5625*(dt-=1.5/2.75)*dt+.75:dt<2.5/2.75?7.5625*(dt-=2.25/2.75)*dt+.9375:7.5625*(dt-=2.625/2.75)*dt+.984375,Lt$1={linear:dt=>dt,easeInQuad:dt=>dt*dt,easeOutQuad:dt=>1-(1-dt)*(1-dt),easeInOutQuad:dt=>dt<.5?2*dt*dt:1-Math.pow(-2*dt+2,2)/2,easeInCubic:dt=>dt*dt*dt,easeOutCubic:dt=>1-Math.pow(1-dt,3),easeInOutCubic:dt=>dt<.5?4*dt*dt*dt:1-Math.pow(-2*dt+2,3)/2,easeInQuart:dt=>dt*dt*dt*dt,easeOutQuart:dt=>1-Math.pow(1-dt,4),easeInOutQuart:dt=>dt<.5?8*dt*dt*dt*dt:1-Math.pow(-2*dt+2,4)/2,easeInQuint:dt=>dt*dt*dt*dt*dt,easeOutQuint:dt=>1-Math.pow(1-dt,5),easeInOutQuint:dt=>dt<.5?16*dt*dt*dt*dt*dt:1-Math.pow(-2*dt+2,5)/2,easeInSine:dt=>1-Math.cos(dt*Math.PI/2),easeOutSine:dt=>Math.sin(dt*Math.PI/2),easeInOutSine:dt=>-(Math.cos(Math.PI*dt)-1)/2,easeInExpo:dt=>dt===0?0:Math.pow(2,10*dt-10),easeOutExpo:dt=>dt===1?1:1-Math.pow(2,-10*dt),easeInOutExpo:dt=>dt===0?0:dt===1?1:dt<.5?Math.pow(2,20*dt-10)/2:(2-Math.pow(2,-20*dt+10))/2,easeInCirc:dt=>1-Math.sqrt(1-Math.pow(dt,2)),easeOutCirc:dt=>Math.sqrt(1-Math.pow(dt-1,2)),easeInOutCirc:dt=>dt<.5?(1-Math.sqrt(1-Math.pow(2*dt,2)))/2:(Math.sqrt(1-Math.pow(-2*dt+2,2))+1)/2,easeInBack:dt=>xe$1*dt*dt*dt-P$1*dt*dt,easeOutBack:dt=>1+xe$1*Math.pow(dt-1,3)+P$1*Math.pow(dt-1,2),easeInOutBack:dt=>dt<.5?Math.pow(2*dt,2)*((L$1+1)*2*dt-L$1)/2:(Math.pow(2*dt-2,2)*((L$1+1)*(dt*2-2)+L$1)+2)/2,easeInElastic:dt=>dt===0?0:dt===1?1:-Math.pow(2,10*dt-10)*Math.sin((dt*10-10.75)*he$1),easeOutElastic:dt=>dt===0?0:dt===1?1:Math.pow(2,-10*dt)*Math.sin((dt*10-.75)*he$1)+1,easeInOutElastic:dt=>dt===0?0:dt===1?1:dt<.5?-(Math.pow(2,20*dt-10)*Math.sin((20*dt-11.125)*ye$1))/2:Math.pow(2,-20*dt+10)*Math.sin((20*dt-11.125)*ye$1)/2+1,easeInBounce:dt=>1-V$1(1-dt),easeOutBounce:V$1,easeInOutBounce:dt=>dt<.5?(1-V$1(1-2*dt))/2:(1+V$1(2*dt-1))/2,steps:Be},g$1=Symbol.for("FluidValue.get"),m$2=Symbol.for("FluidValue.observers"),Pt=dt=>!!(dt&&dt[g$1]),ve=dt=>dt&&dt[g$1]?dt[g$1]():dt,qt=dt=>dt[m$2]||null;function je(dt,lt){dt.eventObserved?dt.eventObserved(lt):dt(lt)}function $t(dt,lt){let ft=dt[m$2];ft&&ft.forEach(vt=>{je(vt,lt)})}var vv,yv,N0,ge=(N0=class{constructor(dt){Jr(this,vv);Jr(this,yv);if(!dt&&!(dt=this.get))throw Error("Unknown getter");De$1(this,dt)}},vv=g$1,yv=m$2,N0),De$1=(dt,lt)=>Ee$1(dt,g$1,lt);function Gt(dt,lt){if(dt[g$1]){let ft=dt[m$2];ft||Ee$1(dt,m$2,ft=new Set),ft.has(lt)||(ft.add(lt),dt.observerAdded&&dt.observerAdded(ft.size,lt))}return lt}function Qt(dt,lt){let ft=dt[m$2];if(ft&&ft.has(lt)){let vt=ft.size-1;vt?ft.delete(lt):dt[m$2]=null,dt.observerRemoved&&dt.observerRemoved(vt,lt)}}var Ee$1=(dt,lt,ft)=>Object.defineProperty(dt,lt,{value:ft,writable:!0,configurable:!0}),O$1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,K$1=new RegExp(`(${O$1.source})(%|[a-z]+)`,"i"),we$1=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,b$2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,N$1=dt=>{let[lt,ft]=We(dt);if(!lt||h$5())return dt;let vt=window.getComputedStyle(document.documentElement).getPropertyValue(lt);return vt?vt.trim():ft&&ft.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(ft)||dt:ft&&b$2.test(ft)?N$1(ft):ft||dt},We=dt=>{let lt=b$2.exec(dt);if(!lt)return[,];let[,ft,vt]=lt;return[ft,vt]},_,Ke$1=(dt,lt,ft,vt,St)=>`rgba(${Math.round(lt)}, ${Math.round(ft)}, ${Math.round(vt)}, ${St})`,Xt=dt=>{_||(_=c$2?new RegExp(`(${Object.keys(c$2).join("|")})(?!\\w)`,"g"):/^\b$/);let lt=dt.output.map(St=>ve(St).replace(b$2,N$1).replace(Oe,D$2).replace(_,D$2)),ft=lt.map(St=>St.match(O$1).map(Number)),vt=ft[0].map((St,Et)=>ft.map(At=>{if(!(Et in At))throw Error('The arity of each "output" value must be equal');return At[Et]})).map(St=>W$2({...dt,output:St}));return St=>{var Ct;let Et=!K$1.test(lt[0])&&((Ct=lt.find(Tt=>K$1.test(Tt)))==null?void 0:Ct.replace(O$1,"")),At=0;return lt[0].replace(O$1,()=>`${vt[At++](St)}${Et||""}`).replace(we$1,Ke$1)}},Z="react-spring: ",Te=dt=>{let lt=dt,ft=!1;if(typeof lt!="function")throw new TypeError(`${Z}once requires a function parameter`);return(...vt)=>{ft||(lt(...vt),ft=!0)}},Ne$1=Te(console.warn);function Jt(){Ne$1(`${Z}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var _e$1=Te(console.warn);function er(){_e$1(`${Z}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function or(dt){return l$3.str(dt)&&(dt[0]=="#"||/\d/.test(dt)||!h$5()&&b$2.test(dt)||dt in(c$2||{}))}var Q$1=h$5()?reactExports.useEffect:reactExports.useLayoutEffect,Ce$1=()=>{let dt=reactExports.useRef(!1);return Q$1(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt};function Mr(){let dt=reactExports.useState()[1],lt=Ce$1();return()=>{lt.current&&dt(Math.random())}}function Lr(dt,lt){let[ft]=reactExports.useState(()=>({inputs:lt,result:dt()})),vt=reactExports.useRef(),St=vt.current,Et=St;return Et?lt&&Et.inputs&&it$1(lt,Et.inputs)||(Et={inputs:lt,result:dt()}):Et=ft,reactExports.useEffect(()=>{vt.current=Et,St==ft&&(ft.inputs=ft.result=void 0)},[Et]),Et.result}function it$1(dt,lt){if(dt.length!==lt.length)return!1;for(let ft=0;ft<dt.length;ft++)if(dt[ft]!==lt[ft])return!1;return!0}var $r=dt=>reactExports.useEffect(dt,ut),ut=[];function Ur(dt){let lt=reactExports.useRef();return reactExports.useEffect(()=>{lt.current=dt}),lt.current}var h$4=Symbol.for("Animated:node"),v$3=dt=>!!dt&&dt[h$4]===dt,k$2=dt=>dt&&dt[h$4],D$1=(dt,lt)=>mt$1(dt,h$4,lt),F$1=dt=>dt&&dt[h$4]&&dt[h$4].getPayload(),c$1=class{constructor(){Jr(this,"payload");D$1(this,this)}getPayload(){return this.payload||[]}},l$2=class extends c$1{constructor(ft){super();Jr(this,"done",!0);Jr(this,"elapsedTime");Jr(this,"lastPosition");Jr(this,"lastVelocity");Jr(this,"v0");Jr(this,"durationProgress",0);this._value=ft,l$3.num(this._value)&&(this.lastPosition=this._value)}static create(ft){return new l$2(ft)}getPayload(){return[this]}getValue(){return this._value}setValue(ft,vt){return l$3.num(ft)&&(this.lastPosition=ft,vt&&(ft=Math.round(ft/vt)*vt,this.done&&(this.lastPosition=ft))),this._value===ft?!1:(this._value=ft,!0)}reset(){let{done:ft}=this;this.done=!1,l$3.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,ft&&(this.lastVelocity=null),this.v0=null)}},d$1=class extends l$2{constructor(ft){super(0);Jr(this,"_string",null);Jr(this,"_toString");this._toString=W$2({output:[ft,ft]})}static create(ft){return new d$1(ft)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(ft){if(l$3.str(ft)){if(ft==this._string)return!1;this._string=ft,this._value=1}else if(super.setValue(ft))this._string=null;else return!1;return!0}reset(ft){ft&&(this._toString=W$2({output:[this.getValue(),ft]})),this._value=0,super.reset()}},f$2={dependencies:null},u$3=class extends c$1{constructor(lt){super(),this.source=lt,this.setValue(lt)}getValue(lt){let ft={};return xt(this.source,(vt,St)=>{v$3(vt)?ft[St]=vt.getValue(lt):Pt(vt)?ft[St]=ve(vt):lt||(ft[St]=vt)}),ft}setValue(lt){this.source=lt,this.payload=this._makePayload(lt)}reset(){this.payload&&Ve(this.payload,lt=>lt.reset())}_makePayload(lt){if(lt){let ft=new Set;return xt(lt,this._addToPayload,ft),Array.from(ft)}}_addToPayload(lt){f$2.dependencies&&Pt(lt)&&f$2.dependencies.add(lt);let ft=F$1(lt);ft&&Ve(ft,vt=>this.add(vt))}},y$1=class extends u$3{constructor(lt){super(lt)}static create(lt){return new y$1(lt)}getValue(){return this.source.map(lt=>lt.getValue())}setValue(lt){let ft=this.getPayload();return lt.length==ft.length?ft.map((vt,St)=>vt.setValue(lt[St])).some(Boolean):(super.setValue(lt.map(z$1)),!0)}};function z$1(dt){return(or(dt)?d$1:l$2).create(dt)}function Le$1(dt){let lt=k$2(dt);return lt?lt.constructor:l$3.arr(dt)?y$1:or(dt)?d$1:l$2}var x$1=(dt,lt)=>{let ft=!l$3.fun(dt)||dt.prototype&&dt.prototype.isReactComponent;return reactExports.forwardRef((vt,St)=>{let Et=reactExports.useRef(null),At=ft&&reactExports.useCallback(zt=>{Et.current=ae(St,zt)},[St]),[Ct,Tt]=ne$1(vt,lt),Rt=Mr(),Bt=()=>{let zt=Et.current;ft&&!zt||(zt?lt.applyAnimatedValues(zt,Ct.getValue(!0)):!1)===!1&&Rt()},Ft=new b$1(Bt,Tt),Dt=reactExports.useRef();Q$1(()=>(Dt.current=Ft,Ve(Tt,zt=>Gt(zt,Ft)),()=>{Dt.current&&(Ve(Dt.current.deps,zt=>Qt(zt,Dt.current)),n$3.cancel(Dt.current.update))})),reactExports.useEffect(Bt,[]),$r(()=>()=>{let zt=Dt.current;Ve(zt.deps,Ht=>Qt(Ht,zt))});let kt=lt.getComponentProps(Ct.getValue());return reactExports.createElement(dt,{...kt,ref:At})})},b$1=class{constructor(lt,ft){this.update=lt,this.deps=ft}eventObserved(lt){lt.type=="change"&&n$3.write(this.update)}};function ne$1(dt,lt){let ft=new Set;return f$2.dependencies=ft,dt.style&&(dt={...dt,style:lt.createAnimatedStyle(dt.style)}),dt=new u$3(dt),f$2.dependencies=null,[dt,ft]}function ae(dt,lt){return dt&&(l$3.fun(dt)?dt(lt):dt.current=lt),lt}var j$1=Symbol.for("AnimatedComponent"),Ke=(dt,{applyAnimatedValues:lt=()=>!1,createAnimatedStyle:ft=St=>new u$3(St),getComponentProps:vt=St=>St}={})=>{let St={applyAnimatedValues:lt,createAnimatedStyle:ft,getComponentProps:vt},Et=At=>{let Ct=I$2(At)||"Anonymous";return l$3.str(At)?At=Et[At]||(Et[At]=x$1(At,St)):At=At[j$1]||(At[j$1]=x$1(At,St)),At.displayName=`Animated(${Ct})`,At};return xt(dt,(At,Ct)=>{l$3.arr(dt)&&(Ct=I$2(At)),Et[Ct]=Et(At)}),{animated:Et}},I$2=dt=>l$3.str(dt)?dt:dt&&l$3.str(dt.displayName)?dt.displayName:l$3.fun(dt)&&dt.name||null;function I$1(dt,...lt){return l$3.fun(dt)?dt(...lt):dt}var te=(dt,lt)=>dt===!0||!!(lt&&dt&&(l$3.fun(dt)?dt(lt):ht$1(dt).includes(lt))),et=(dt,lt)=>l$3.obj(dt)?lt&&dt[lt]:dt,ke=(dt,lt)=>dt.default===!0?dt[lt]:dt.default?dt.default[lt]:void 0,nn=dt=>dt,ne=(dt,lt=nn)=>{let ft=rn;dt.default&&dt.default!==!0&&(dt=dt.default,ft=Object.keys(dt));let vt={};for(let St of ft){let Et=lt(dt[St],St);l$3.und(Et)||(vt[St]=Et)}return vt},rn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],on={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function sn(dt){let lt={},ft=0;if(xt(dt,(vt,St)=>{on[St]||(lt[St]=vt,ft++)}),ft)return lt}function de(dt){let lt=sn(dt);if(lt){let ft={to:lt};return xt(dt,(vt,St)=>St in lt||(ft[St]=vt)),ft}return{...dt}}function me(dt){return dt=ve(dt),l$3.arr(dt)?dt.map(me):or(dt)?p$3.createStringInterpolator({range:[0,1],output:[dt,dt]})(1):dt}function Ue(dt){for(let lt in dt)return!0;return!1}function Ee(dt){return l$3.fun(dt)||l$3.arr(dt)&&l$3.obj(dt[0])}function xe(dt,lt){var ft;(ft=dt.ref)==null||ft.delete(dt),lt==null||lt.delete(dt)}function he(dt,lt){var ft;lt&&dt.ref!==lt&&((ft=dt.ref)==null||ft.delete(dt),lt.add(dt),dt.ref=lt)}var mt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},tt={...mt.default,mass:1,damping:1,easing:Lt$1.linear,clamp:!1},we=class{constructor(){Jr(this,"tension");Jr(this,"friction");Jr(this,"frequency");Jr(this,"damping");Jr(this,"mass");Jr(this,"velocity",0);Jr(this,"restVelocity");Jr(this,"precision");Jr(this,"progress");Jr(this,"duration");Jr(this,"easing");Jr(this,"clamp");Jr(this,"bounce");Jr(this,"decay");Jr(this,"round");Object.assign(this,tt)}};function gt(dt,lt,ft){ft&&(ft={...ft},ht(ft,lt),lt={...ft,...lt}),ht(dt,lt),Object.assign(dt,lt);for(let At in tt)dt[At]==null&&(dt[At]=tt[At]);let{frequency:vt,damping:St}=dt,{mass:Et}=dt;return l$3.und(vt)||(vt<.01&&(vt=.01),St<0&&(St=0),dt.tension=Math.pow(2*Math.PI/vt,2)*Et,dt.friction=4*Math.PI*St*Et/vt),dt}function ht(dt,lt){if(!l$3.und(lt.decay))dt.duration=void 0;else{let ft=!l$3.und(lt.tension)||!l$3.und(lt.friction);(ft||!l$3.und(lt.frequency)||!l$3.und(lt.damping)||!l$3.und(lt.mass))&&(dt.duration=void 0,dt.decay=void 0),ft&&(dt.frequency=void 0)}}var yt=[],Le=class{constructor(){Jr(this,"changed",!1);Jr(this,"values",yt);Jr(this,"toValues",null);Jr(this,"fromValues",yt);Jr(this,"to");Jr(this,"from");Jr(this,"config",new we);Jr(this,"immediate",!1)}};function Me(dt,{key:lt,props:ft,defaultProps:vt,state:St,actions:Et}){return new Promise((At,Ct)=>{let Tt,Rt,Bt=te(ft.cancel??(vt==null?void 0:vt.cancel),lt);if(Bt)kt();else{l$3.und(ft.pause)||(St.paused=te(ft.pause,lt));let zt=vt==null?void 0:vt.pause;zt!==!0&&(zt=St.paused||te(zt,lt)),Tt=I$1(ft.delay||0,lt),zt?(St.resumeQueue.add(Dt),Et.pause()):(Et.resume(),Dt())}function Ft(){St.resumeQueue.add(Dt),St.timeouts.delete(Rt),Rt.cancel(),Tt=Rt.time-n$3.now()}function Dt(){Tt>0&&!p$3.skipAnimation?(St.delayed=!0,Rt=n$3.setTimeout(kt,Tt),St.pauseQueue.add(Ft),St.timeouts.add(Rt)):kt()}function kt(){St.delayed&&(St.delayed=!1),St.pauseQueue.delete(Ft),St.timeouts.delete(Rt),dt<=(St.cancelId||0)&&(Bt=!0);try{Et.start({...ft,callId:dt,cancel:Bt},At)}catch(zt){Ct(zt)}}})}var be=(dt,lt)=>lt.length==1?lt[0]:lt.some(ft=>ft.cancelled)?q$3(dt.get()):lt.every(ft=>ft.noop)?nt(dt.get()):E$2(dt.get(),lt.every(ft=>ft.finished)),nt=dt=>({value:dt,noop:!0,finished:!0,cancelled:!1}),E$2=(dt,lt,ft=!1)=>({value:dt,finished:lt,cancelled:ft}),q$3=dt=>({value:dt,cancelled:!0,finished:!1});function De(dt,lt,ft,vt){let{callId:St,parentId:Et,onRest:At}=lt,{asyncTo:Ct,promise:Tt}=ft;return!Et&&dt===Ct&&!lt.reset?Tt:ft.promise=(async()=>{ft.asyncId=St,ft.asyncTo=dt;let Rt=ne(lt,(en,Kt)=>Kt==="onRest"?void 0:en),Bt,Ft,Dt=new Promise((en,Kt)=>(Bt=en,Ft=Kt)),kt=en=>{let Kt=St<=(ft.cancelId||0)&&q$3(vt)||St!==ft.asyncId&&E$2(vt,!1);if(Kt)throw en.result=Kt,Ft(en),en},zt=(en,Kt)=>{let Zt=new Ae,Wt=new Ne;return(async()=>{if(p$3.skipAnimation)throw oe(ft),Wt.result=E$2(vt,!1),Ft(Wt),Wt;kt(Zt);let tn=l$3.obj(en)?{...en}:{...Kt,to:en};tn.parentId=St,xt(Rt,(ln,fn)=>{l$3.und(tn[fn])&&(tn[fn]=ln)});let an=await vt.start(tn);return kt(Zt),ft.paused&&await new Promise(ln=>{ft.resumeQueue.add(ln)}),an})()},Ht;if(p$3.skipAnimation)return oe(ft),E$2(vt,!1);try{let en;l$3.arr(dt)?en=(async Kt=>{for(let Zt of Kt)await zt(Zt)})(dt):en=Promise.resolve(dt(zt,vt.stop.bind(vt))),await Promise.all([en.then(Bt),Dt]),Ht=E$2(vt.get(),!0,!1)}catch(en){if(en instanceof Ae)Ht=en.result;else if(en instanceof Ne)Ht=en.result;else throw en}finally{St==ft.asyncId&&(ft.asyncId=Et,ft.asyncTo=Et?Ct:void 0,ft.promise=Et?Tt:void 0)}return l$3.fun(At)&&n$3.batchedUpdates(()=>{At(Ht,vt,vt.item)}),Ht})()}function oe(dt,lt){Pe$1(dt.timeouts,ft=>ft.cancel()),dt.pauseQueue.clear(),dt.resumeQueue.clear(),dt.asyncId=dt.asyncTo=dt.promise=void 0,lt&&(dt.cancelId=lt)}var Ae=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");Jr(this,"result")}},Ne=class extends Error{constructor(){super("SkipAnimationSignal");Jr(this,"result")}},Re=dt=>dt instanceof X$1,Sn=1,X$1=class extends ge{constructor(){super(...arguments);Jr(this,"id",Sn++);Jr(this,"_priority",0)}get priority(){return this._priority}set priority(ft){this._priority!=ft&&(this._priority=ft,this._onPriorityChange(ft))}get(){let ft=k$2(this);return ft&&ft.getValue()}to(...ft){return p$3.to(this,ft)}interpolate(...ft){return Jt(),p$3.to(this,ft)}toJSON(){return this.get()}observerAdded(ft){ft==1&&this._attach()}observerRemoved(ft){ft==0&&this._detach()}_attach(){}_detach(){}_onChange(ft,vt=!1){$t(this,{type:"change",parent:this,value:ft,idle:vt})}_onPriorityChange(ft){this.idle||qe$1.sort(this),$t(this,{type:"priority",parent:this,priority:ft})}},se=Symbol.for("SpringPhase"),bt=1,rt=2,ot=4,qe=dt=>(dt[se]&bt)>0,Q=dt=>(dt[se]&rt)>0,ye=dt=>(dt[se]&ot)>0,st=(dt,lt)=>lt?dt[se]|=rt|bt:dt[se]&=~rt,it=(dt,lt)=>lt?dt[se]|=ot:dt[se]&=~ot,ue=class extends X$1{constructor(lt,ft){super();Jr(this,"key");Jr(this,"animation",new Le);Jr(this,"queue");Jr(this,"defaultProps",{});Jr(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Jr(this,"_pendingCalls",new Set);Jr(this,"_lastCallId",0);Jr(this,"_lastToId",0);Jr(this,"_memoizedDuration",0);if(!l$3.und(lt)||!l$3.und(ft)){let vt=l$3.obj(lt)?{...lt}:{...ft,from:lt};l$3.und(vt.default)&&(vt.default=!0),this.start(vt)}}get idle(){return!(Q(this)||this._state.asyncTo)||ye(this)}get goal(){return ve(this.animation.to)}get velocity(){let lt=k$2(this);return lt instanceof l$2?lt.lastVelocity||0:lt.getPayload().map(ft=>ft.lastVelocity||0)}get hasAnimated(){return qe(this)}get isAnimating(){return Q(this)}get isPaused(){return ye(this)}get isDelayed(){return this._state.delayed}advance(lt){let ft=!0,vt=!1,St=this.animation,{toValues:Et}=St,{config:At}=St,Ct=F$1(St.to);!Ct&&Pt(St.to)&&(Et=ht$1(ve(St.to))),St.values.forEach((Bt,Ft)=>{if(Bt.done)return;let Dt=Bt.constructor==d$1?1:Ct?Ct[Ft].lastPosition:Et[Ft],kt=St.immediate,zt=Dt;if(!kt){if(zt=Bt.lastPosition,At.tension<=0){Bt.done=!0;return}let Ht=Bt.elapsedTime+=lt,en=St.fromValues[Ft],Kt=Bt.v0!=null?Bt.v0:Bt.v0=l$3.arr(At.velocity)?At.velocity[Ft]:At.velocity,Zt,Wt=At.precision||(en==Dt?.005:Math.min(1,Math.abs(Dt-en)*.001));if(l$3.und(At.duration))if(At.decay){let tn=At.decay===!0?.998:At.decay,an=Math.exp(-(1-tn)*Ht);zt=en+Kt/(1-tn)*(1-an),kt=Math.abs(Bt.lastPosition-zt)<=Wt,Zt=Kt*an}else{Zt=Bt.lastVelocity==null?Kt:Bt.lastVelocity;let tn=At.restVelocity||Wt/10,an=At.clamp?0:At.bounce,ln=!l$3.und(an),fn=en==Dt?Bt.v0>0:en<Dt,un,pn=!1,xn=1,An=Math.ceil(lt/xn);for(let gn=0;gn<An&&(un=Math.abs(Zt)>tn,!(!un&&(kt=Math.abs(Dt-zt)<=Wt,kt)));++gn){ln&&(pn=zt==Dt||zt>Dt==fn,pn&&(Zt=-Zt*an,zt=Dt));let Ln=-At.tension*1e-6*(zt-Dt),Cn=-At.friction*.001*Zt,En=(Ln+Cn)/At.mass;Zt=Zt+En*xn,zt=zt+Zt*xn}}else{let tn=1;At.duration>0&&(this._memoizedDuration!==At.duration&&(this._memoizedDuration=At.duration,Bt.durationProgress>0&&(Bt.elapsedTime=At.duration*Bt.durationProgress,Ht=Bt.elapsedTime+=lt)),tn=(At.progress||0)+Ht/this._memoizedDuration,tn=tn>1?1:tn<0?0:tn,Bt.durationProgress=tn),zt=en+At.easing(tn)*(Dt-en),Zt=(zt-Bt.lastPosition)/lt,kt=tn==1}Bt.lastVelocity=Zt,Number.isNaN(zt)&&(console.warn("Got NaN while animating:",this),kt=!0)}Ct&&!Ct[Ft].done&&(kt=!1),kt?Bt.done=!0:ft=!1,Bt.setValue(zt,At.round)&&(vt=!0)});let Tt=k$2(this),Rt=Tt.getValue();if(ft){let Bt=ve(St.to);(Rt!==Bt||vt)&&!At.decay?(Tt.setValue(Bt),this._onChange(Bt)):vt&&At.decay&&this._onChange(Rt),this._stop()}else vt&&this._onChange(Rt)}set(lt){return n$3.batchedUpdates(()=>{this._stop(),this._focus(lt),this._set(lt)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Q(this)){let{to:lt,config:ft}=this.animation;n$3.batchedUpdates(()=>{this._onStart(),ft.decay||this._set(lt,!1),this._stop()})}return this}update(lt){return(this.queue||(this.queue=[])).push(lt),this}start(lt,ft){let vt;return l$3.und(lt)?(vt=this.queue||[],this.queue=[]):vt=[l$3.obj(lt)?lt:{...ft,to:lt}],Promise.all(vt.map(St=>this._update(St))).then(St=>be(this,St))}stop(lt){let{to:ft}=this.animation;return this._focus(this.get()),oe(this._state,lt&&this._lastCallId),n$3.batchedUpdates(()=>this._stop(ft,lt)),this}reset(){this._update({reset:!0})}eventObserved(lt){lt.type=="change"?this._start():lt.type=="priority"&&(this.priority=lt.priority+1)}_prepareNode(lt){let ft=this.key||"",{to:vt,from:St}=lt;vt=l$3.obj(vt)?vt[ft]:vt,(vt==null||Ee(vt))&&(vt=void 0),St=l$3.obj(St)?St[ft]:St,St==null&&(St=void 0);let Et={to:vt,from:St};return qe(this)||(lt.reverse&&([vt,St]=[St,vt]),St=ve(St),l$3.und(St)?k$2(this)||this._set(vt):this._set(St)),Et}_update({...lt},ft){let{key:vt,defaultProps:St}=this;lt.default&&Object.assign(St,ne(lt,(Ct,Tt)=>/^on/.test(Tt)?et(Ct,vt):Ct)),_t(this,lt,"onProps"),Ie(this,"onProps",lt,this);let Et=this._prepareNode(lt);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let At=this._state;return Me(++this._lastCallId,{key:vt,props:lt,defaultProps:St,state:At,actions:{pause:()=>{ye(this)||(it(this,!0),yt$1(At.pauseQueue),Ie(this,"onPause",E$2(this,Ce(this,this.animation.to)),this))},resume:()=>{ye(this)&&(it(this,!1),Q(this)&&this._resume(),yt$1(At.resumeQueue),Ie(this,"onResume",E$2(this,Ce(this,this.animation.to)),this))},start:this._merge.bind(this,Et)}}).then(Ct=>{if(lt.loop&&Ct.finished&&!(ft&&Ct.noop)){let Tt=at(lt);if(Tt)return this._update(Tt,!0)}return Ct})}_merge(lt,ft,vt){if(ft.cancel)return this.stop(!0),vt(q$3(this));let St=!l$3.und(lt.to),Et=!l$3.und(lt.from);if(St||Et)if(ft.callId>this._lastToId)this._lastToId=ft.callId;else return vt(q$3(this));let{key:At,defaultProps:Ct,animation:Tt}=this,{to:Rt,from:Bt}=Tt,{to:Ft=Rt,from:Dt=Bt}=lt;Et&&!St&&(!ft.default||l$3.und(Ft))&&(Ft=Dt),ft.reverse&&([Ft,Dt]=[Dt,Ft]);let kt=!bt$1(Dt,Bt);kt&&(Tt.from=Dt),Dt=ve(Dt);let zt=!bt$1(Ft,Rt);zt&&this._focus(Ft);let Ht=Ee(ft.to),{config:en}=Tt,{decay:Kt,velocity:Zt}=en;(St||Et)&&(en.velocity=0),ft.config&&!Ht&&gt(en,I$1(ft.config,At),ft.config!==Ct.config?I$1(Ct.config,At):void 0);let Wt=k$2(this);if(!Wt||l$3.und(Ft))return vt(E$2(this,!0));let tn=l$3.und(ft.reset)?Et&&!ft.default:!l$3.und(Dt)&&te(ft.reset,At),an=tn?Dt:this.get(),ln=me(Ft),fn=l$3.num(ln)||l$3.arr(ln)||or(ln),un=!Ht&&(!fn||te(Ct.immediate||ft.immediate,At));if(zt){let gn=Le$1(Ft);if(gn!==Wt.constructor)if(un)Wt=this._set(ln);else throw Error(`Cannot animate between ${Wt.constructor.name} and ${gn.name}, as the "to" prop suggests`)}let pn=Wt.constructor,xn=Pt(Ft),An=!1;if(!xn){let gn=tn||!qe(this)&&kt;(zt||gn)&&(An=bt$1(me(an),ln),xn=!An),(!bt$1(Tt.immediate,un)&&!un||!bt$1(en.decay,Kt)||!bt$1(en.velocity,Zt))&&(xn=!0)}if(An&&Q(this)&&(Tt.changed&&!tn?xn=!0:xn||this._stop(Rt)),!Ht&&((xn||Pt(Rt))&&(Tt.values=Wt.getPayload(),Tt.toValues=Pt(Ft)?null:pn==d$1?[1]:ht$1(ln)),Tt.immediate!=un&&(Tt.immediate=un,!un&&!tn&&this._set(Rt)),xn)){let{onRest:gn}=Tt;Ve(_n,Cn=>_t(this,ft,Cn));let Ln=E$2(this,Ce(this,Rt));yt$1(this._pendingCalls,Ln),this._pendingCalls.add(vt),Tt.changed&&n$3.batchedUpdates(()=>{var Cn;Tt.changed=!tn,gn==null||gn(Ln,this),tn?I$1(Ct.onRest,Ln):(Cn=Tt.onStart)==null||Cn.call(Tt,Ln,this)})}tn&&this._set(an),Ht?vt(De(ft.to,ft,this._state,this)):xn?this._start():Q(this)&&!zt?this._pendingCalls.add(vt):vt(nt(an))}_focus(lt){let ft=this.animation;lt!==ft.to&&(qt(this)&&this._detach(),ft.to=lt,qt(this)&&this._attach())}_attach(){let lt=0,{to:ft}=this.animation;Pt(ft)&&(Gt(ft,this),Re(ft)&&(lt=ft.priority+1)),this.priority=lt}_detach(){let{to:lt}=this.animation;Pt(lt)&&Qt(lt,this)}_set(lt,ft=!0){let vt=ve(lt);if(!l$3.und(vt)){let St=k$2(this);if(!St||!bt$1(vt,St.getValue())){let Et=Le$1(vt);!St||St.constructor!=Et?D$1(this,Et.create(vt)):St.setValue(vt),St&&n$3.batchedUpdates(()=>{this._onChange(vt,ft)})}}return k$2(this)}_onStart(){let lt=this.animation;lt.changed||(lt.changed=!0,Ie(this,"onStart",E$2(this,Ce(this,lt.to)),this))}_onChange(lt,ft){ft||(this._onStart(),I$1(this.animation.onChange,lt,this)),I$1(this.defaultProps.onChange,lt,this),super._onChange(lt,ft)}_start(){let lt=this.animation;k$2(this).reset(ve(lt.to)),lt.immediate||(lt.fromValues=lt.values.map(ft=>ft.lastPosition)),Q(this)||(st(this,!0),ye(this)||this._resume())}_resume(){p$3.skipAnimation?this.finish():qe$1.start(this)}_stop(lt,ft){if(Q(this)){st(this,!1);let vt=this.animation;Ve(vt.values,Et=>{Et.done=!0}),vt.toValues&&(vt.onChange=vt.onPause=vt.onResume=void 0),$t(this,{type:"idle",parent:this});let St=ft?q$3(this.get()):E$2(this.get(),Ce(this,lt??vt.to));yt$1(this._pendingCalls,St),vt.changed&&(vt.changed=!1,Ie(this,"onRest",St,this))}}};function Ce(dt,lt){let ft=me(lt),vt=me(dt.get());return bt$1(vt,ft)}function at(dt,lt=dt.loop,ft=dt.to){let vt=I$1(lt);if(vt){let St=vt!==!0&&de(vt),Et=(St||dt).reverse,At=!St||St.reset;return Pe({...dt,loop:lt,default:!1,pause:void 0,to:!Et||Ee(ft)?ft:void 0,from:At?dt.from:void 0,reset:At,...St})}}function Pe(dt){let{to:lt,from:ft}=dt=de(dt),vt=new Set;return l$3.obj(lt)&&Vt(lt,vt),l$3.obj(ft)&&Vt(ft,vt),dt.keys=vt.size?Array.from(vt):null,dt}function Ot(dt){let lt=Pe(dt);return l$3.und(lt.default)&&(lt.default=ne(lt)),lt}function Vt(dt,lt){xt(dt,(ft,vt)=>ft!=null&&lt.add(vt))}var _n=["onStart","onRest","onChange","onPause","onResume"];function _t(dt,lt,ft){dt.animation[ft]=lt[ft]!==ke(lt,ft)?et(lt[ft],dt.key):void 0}function Ie(dt,lt,...ft){var vt,St,Et,At;(St=(vt=dt.animation)[lt])==null||St.call(vt,...ft),(At=(Et=dt.defaultProps)[lt])==null||At.call(Et,...ft)}var Fn=["onStart","onChange","onRest"],kn=1,le=class{constructor(dt,lt){Jr(this,"id",kn++);Jr(this,"springs",{});Jr(this,"queue",[]);Jr(this,"ref");Jr(this,"_flush");Jr(this,"_initialProps");Jr(this,"_lastAsyncId",0);Jr(this,"_active",new Set);Jr(this,"_changed",new Set);Jr(this,"_started",!1);Jr(this,"_item");Jr(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Jr(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),lt&&(this._flush=lt),dt&&this.start({default:!0,...dt})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(dt=>dt.idle&&!dt.isDelayed&&!dt.isPaused)}get item(){return this._item}set item(dt){this._item=dt}get(){let dt={};return this.each((lt,ft)=>dt[ft]=lt.get()),dt}set(dt){for(let lt in dt){let ft=dt[lt];l$3.und(ft)||this.springs[lt].set(ft)}}update(dt){return dt&&this.queue.push(Pe(dt)),this}start(dt){let{queue:lt}=this;return dt?lt=ht$1(dt).map(Pe):this.queue=[],this._flush?this._flush(this,lt):(jt(this,lt),ze(this,lt))}stop(dt,lt){if(dt!==!!dt&&(lt=dt),lt){let ft=this.springs;Ve(ht$1(lt),vt=>ft[vt].stop(!!dt))}else oe(this._state,this._lastAsyncId),this.each(ft=>ft.stop(!!dt));return this}pause(dt){if(l$3.und(dt))this.start({pause:!0});else{let lt=this.springs;Ve(ht$1(dt),ft=>lt[ft].pause())}return this}resume(dt){if(l$3.und(dt))this.start({pause:!1});else{let lt=this.springs;Ve(ht$1(dt),ft=>lt[ft].resume())}return this}each(dt){xt(this.springs,dt)}_onFrame(){let{onStart:dt,onChange:lt,onRest:ft}=this._events,vt=this._active.size>0,St=this._changed.size>0;(vt&&!this._started||St&&!this._started)&&(this._started=!0,Pe$1(dt,([Ct,Tt])=>{Tt.value=this.get(),Ct(Tt,this,this._item)}));let Et=!vt&&this._started,At=St||Et&&ft.size?this.get():null;St&&lt.size&&Pe$1(lt,([Ct,Tt])=>{Tt.value=At,Ct(Tt,this,this._item)}),Et&&(this._started=!1,Pe$1(ft,([Ct,Tt])=>{Tt.value=At,Ct(Tt,this,this._item)}))}eventObserved(dt){if(dt.type=="change")this._changed.add(dt.parent),dt.idle||this._active.add(dt.parent);else if(dt.type=="idle")this._active.delete(dt.parent);else return;n$3.onFrame(this._onFrame)}};function ze(dt,lt){return Promise.all(lt.map(ft=>wt(dt,ft))).then(ft=>be(dt,ft))}async function wt(dt,lt,ft){let{keys:vt,to:St,from:Et,loop:At,onRest:Ct,onResolve:Tt}=lt,Rt=l$3.obj(lt.default)&&lt.default;At&&(lt.loop=!1),St===!1&&(lt.to=null),Et===!1&&(lt.from=null);let Bt=l$3.arr(St)||l$3.fun(St)?St:void 0;Bt?(lt.to=void 0,lt.onRest=void 0,Rt&&(Rt.onRest=void 0)):Ve(Fn,Ht=>{let en=lt[Ht];if(l$3.fun(en)){let Kt=dt._events[Ht];lt[Ht]=({finished:Zt,cancelled:Wt})=>{let tn=Kt.get(en);tn?(Zt||(tn.finished=!1),Wt&&(tn.cancelled=!0)):Kt.set(en,{value:null,finished:Zt||!1,cancelled:Wt||!1})},Rt&&(Rt[Ht]=lt[Ht])}});let Ft=dt._state;lt.pause===!Ft.paused?(Ft.paused=lt.pause,yt$1(lt.pause?Ft.pauseQueue:Ft.resumeQueue)):Ft.paused&&(lt.pause=!0);let Dt=(vt||Object.keys(dt.springs)).map(Ht=>dt.springs[Ht].start(lt)),kt=lt.cancel===!0||ke(lt,"cancel")===!0;(Bt||kt&&Ft.asyncId)&&Dt.push(Me(++dt._lastAsyncId,{props:lt,state:Ft,actions:{pause:Y$1,resume:Y$1,start(Ht,en){kt?(oe(Ft,dt._lastAsyncId),en(q$3(dt))):(Ht.onRest=Ct,en(De(Bt,Ht,Ft,dt)))}}})),Ft.paused&&await new Promise(Ht=>{Ft.resumeQueue.add(Ht)});let zt=be(dt,await Promise.all(Dt));if(At&&zt.finished&&!(ft&&zt.noop)){let Ht=at(lt,At,St);if(Ht)return jt(dt,[Ht]),wt(dt,Ht,!0)}return Tt&&n$3.batchedUpdates(()=>Tt(zt,dt,dt.item)),zt}function _e(dt,lt){let ft={...dt.springs};return lt&&Ve(ht$1(lt),vt=>{l$3.und(vt.keys)&&(vt=Pe(vt)),l$3.obj(vt.to)||(vt={...vt,to:void 0}),Mt(ft,vt,St=>Lt(St))}),pt(dt,ft),ft}function pt(dt,lt){xt(lt,(ft,vt)=>{dt.springs[vt]||(dt.springs[vt]=ft,Gt(ft,dt))})}function Lt(dt,lt){let ft=new ue;return ft.key=dt,lt&&Gt(ft,lt),ft}function Mt(dt,lt,ft){lt.keys&&Ve(lt.keys,vt=>{(dt[vt]||(dt[vt]=ft(vt)))._prepareNode(lt)})}function jt(dt,lt){Ve(lt,ft=>{Mt(dt.springs,ft,vt=>Lt(vt,dt))})}var H$1=({children:dt,...lt})=>{let ft=reactExports.useContext(Ge),vt=lt.pause||!!ft.pause,St=lt.immediate||!!ft.immediate;lt=Lr(()=>({pause:vt,immediate:St}),[vt,St]);let{Provider:Et}=Ge;return reactExports.createElement(Et,{value:lt},dt)},Ge=wn(H$1,{});H$1.Provider=Ge.Provider;H$1.Consumer=Ge.Consumer;function wn(dt,lt){return Object.assign(dt,reactExports.createContext(lt)),dt.Provider._context=dt,dt.Consumer._context=dt,dt}var fe=()=>{let dt=[],lt=function(vt){er();let St=[];return Ve(dt,(Et,At)=>{if(l$3.und(vt))St.push(Et.start());else{let Ct=ft(vt,Et,At);Ct&&St.push(Et.start(Ct))}}),St};lt.current=dt,lt.add=function(vt){dt.includes(vt)||dt.push(vt)},lt.delete=function(vt){let St=dt.indexOf(vt);~St&&dt.splice(St,1)},lt.pause=function(){return Ve(dt,vt=>vt.pause(...arguments)),this},lt.resume=function(){return Ve(dt,vt=>vt.resume(...arguments)),this},lt.set=function(vt){Ve(dt,(St,Et)=>{let At=l$3.fun(vt)?vt(Et,St):vt;At&&St.set(At)})},lt.start=function(vt){let St=[];return Ve(dt,(Et,At)=>{if(l$3.und(vt))St.push(Et.start());else{let Ct=this._getProps(vt,Et,At);Ct&&St.push(Et.start(Ct))}}),St},lt.stop=function(){return Ve(dt,vt=>vt.stop(...arguments)),this},lt.update=function(vt){return Ve(dt,(St,Et)=>St.update(this._getProps(vt,St,Et))),this};let ft=function(vt,St,Et){return l$3.fun(vt)?vt(Et,St):vt};return lt._getProps=ft,lt};function He(dt,lt,ft){let vt=l$3.fun(lt)&&lt;vt&&!ft&&(ft=[]);let St=reactExports.useMemo(()=>vt||arguments.length==3?fe():void 0,[]),Et=reactExports.useRef(0),At=Mr(),Ct=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(Kt,Zt){let Wt=_e(Kt,Zt);return Et.current>0&&!Ct.queue.length&&!Object.keys(Wt).some(tn=>!Kt.springs[tn])?ze(Kt,Zt):new Promise(tn=>{pt(Kt,Wt),Ct.queue.push(()=>{tn(ze(Kt,Zt))}),At()})}}),[]),Tt=reactExports.useRef([...Ct.ctrls]),Rt=[],Bt=Ur(dt)||0;reactExports.useMemo(()=>{Ve(Tt.current.slice(dt,Bt),Kt=>{xe(Kt,St),Kt.stop(!0)}),Tt.current.length=dt,Ft(Bt,dt)},[dt]),reactExports.useMemo(()=>{Ft(0,Math.min(Bt,dt))},ft);function Ft(Kt,Zt){for(let Wt=Kt;Wt<Zt;Wt++){let tn=Tt.current[Wt]||(Tt.current[Wt]=new le(null,Ct.flush)),an=vt?vt(Wt,tn):lt[Wt];an&&(Rt[Wt]=Ot(an))}}let Dt=Tt.current.map((Kt,Zt)=>_e(Kt,Rt[Zt])),kt=reactExports.useContext(H$1),zt=Ur(kt),Ht=kt!==zt&&Ue(kt);Q$1(()=>{Et.current++,Ct.ctrls=Tt.current;let{queue:Kt}=Ct;Kt.length&&(Ct.queue=[],Ve(Kt,Zt=>Zt())),Ve(Tt.current,(Zt,Wt)=>{St==null||St.add(Zt),Ht&&Zt.start({default:kt});let tn=Rt[Wt];tn&&(he(Zt,tn.ref),Zt.ref?Zt.queue.push(tn):Zt.start(tn))})}),$r(()=>()=>{Ve(Ct.ctrls,Kt=>Kt.stop(!0))});let en=Dt.map(Kt=>({...Kt}));return St?[en,St]:en}function J$1(dt,lt){let ft=l$3.fun(dt),[[vt],St]=He(1,ft?dt:[dt],ft?lt||[]:lt);return ft||arguments.length==2?[vt,St]:vt}var W$1=class extends X$1{constructor(ft,vt){super();Jr(this,"key");Jr(this,"idle",!0);Jr(this,"calc");Jr(this,"_active",new Set);this.source=ft,this.calc=W$2(...vt);let St=this._get(),Et=Le$1(St);D$1(this,Et.create(St))}advance(ft){let vt=this._get(),St=this.get();bt$1(vt,St)||(k$2(this).setValue(vt),this._onChange(vt,this.idle)),!this.idle&&Yt(this._active)&&ct(this)}_get(){let ft=l$3.arr(this.source)?this.source.map(ve):ht$1(ve(this.source));return this.calc(...ft)}_start(){this.idle&&!Yt(this._active)&&(this.idle=!1,Ve(F$1(this),ft=>{ft.done=!1}),p$3.skipAnimation?(n$3.batchedUpdates(()=>this.advance()),ct(this)):qe$1.start(this))}_attach(){let ft=1;Ve(ht$1(this.source),vt=>{Pt(vt)&&Gt(vt,this),Re(vt)&&(vt.idle||this._active.add(vt),ft=Math.max(ft,vt.priority+1))}),this.priority=ft,this._start()}_detach(){Ve(ht$1(this.source),ft=>{Pt(ft)&&Qt(ft,this)}),this._active.clear(),ct(this)}eventObserved(ft){ft.type=="change"?ft.idle?this.advance():(this._active.add(ft.parent),this._start()):ft.type=="idle"?this._active.delete(ft.parent):ft.type=="priority"&&(this.priority=ht$1(this.source).reduce((vt,St)=>Math.max(vt,(Re(St)?St.priority:0)+1),0))}};function vr(dt){return dt.idle!==!1}function Yt(dt){return!dt.size||Array.from(dt).every(vr)}function ct(dt){dt.idle||(dt.idle=!0,Ve(F$1(dt),lt=>{lt.done=!0}),$t(dt,{type:"idle",parent:dt}))}p$3.assign({createStringInterpolator:Xt,to:(dt,lt)=>new W$1(dt,lt)});var o$1=["primitive"].concat(Object.keys(r$4).filter(dt=>/^[A-Z]/.test(dt)).map(dt=>dt[0].toLowerCase()+dt.slice(1)));p$3.assign({createStringInterpolator:Xt,colors:It,frameLoop:"demand"});addEffect(()=>{n$3.advance()});var f$1=Ke(o$1,{applyAnimatedValues:applyProps}),E$1=f$1.animated;const createStoreImpl$1=dt=>{let lt;const ft=new Set,vt=(Tt,Rt)=>{const Bt=typeof Tt=="function"?Tt(lt):Tt;if(!Object.is(Bt,lt)){const Ft=lt;lt=Rt??typeof Bt!="object"?Bt:Object.assign({},lt,Bt),ft.forEach(Dt=>Dt(lt,Ft))}},St=()=>lt,Ct={setState:vt,getState:St,subscribe:Tt=>(ft.add(Tt),()=>ft.delete(Tt)),destroy:()=>{var Tt;((Tt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:Tt.MODE)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),ft.clear()}};return lt=dt(vt,St,Ct),Ct},createStore$1=dt=>dt?createStoreImpl$1(dt):createStoreImpl$1;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$3(dt,lt){return dt===lt&&(dt!==0||1/dt===1/lt)||dt!==dt&&lt!==lt}var k$1=typeof Object.is=="function"?Object.is:h$3,l$1=e$1.useState,m$1=e$1.useEffect,n$2=e$1.useLayoutEffect,p$2=e$1.useDebugValue;function q$2(dt,lt){var ft=lt(),vt=l$1({inst:{value:ft,getSnapshot:lt}}),St=vt[0].inst,Et=vt[1];return n$2(function(){St.value=ft,St.getSnapshot=lt,r$2(St)&&Et({inst:St})},[dt,ft,lt]),m$1(function(){return r$2(St)&&Et({inst:St}),dt(function(){r$2(St)&&Et({inst:St})})},[dt]),p$2(ft),ft}function r$2(dt){var lt=dt.getSnapshot;dt=dt.value;try{var ft=lt();return!k$1(dt,ft)}catch{return!0}}function t$2(dt,lt){return lt()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$1=shimExports;function p$1(dt,lt){return dt===lt&&(dt!==0||1/dt===1/lt)||dt!==dt&&lt!==lt}var q$1=typeof Object.is=="function"?Object.is:p$1,r$1=n$1.useSyncExternalStore,t$1=h$2.useRef,u$1=h$2.useEffect,v$2=h$2.useMemo,w$2=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(dt,lt,ft,vt,St){var Et=t$1(null);if(Et.current===null){var At={hasValue:!1,value:null};Et.current=At}else At=Et.current;Et=v$2(function(){function Tt(kt){if(!Rt){if(Rt=!0,Bt=kt,kt=vt(kt),St!==void 0&&At.hasValue){var zt=At.value;if(St(zt,kt))return Ft=zt}return Ft=kt}if(zt=Ft,q$1(Bt,kt))return zt;var Ht=vt(kt);return St!==void 0&&St(zt,Ht)?zt:(Bt=kt,Ft=Ht)}var Rt=!1,Bt,Ft,Dt=ft===void 0?null:ft;return[function(){return Tt(lt())},Dt===null?void 0:function(){return Tt(Dt())}]},[lt,ft,vt,St]);var Ct=r$1(dt,Et[0],Et[1]);return u$1(function(){At.hasValue=!0,At.value=Ct},[Ct]),w$2(Ct),Ct};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useSyncExternalStoreWithSelector:useSyncExternalStoreWithSelector$1}=useSyncExternalStoreExports;function useStore$1(dt,lt=dt.getState,ft){const vt=useSyncExternalStoreWithSelector$1(dt.subscribe,dt.getState,dt.getServerState||dt.getState,lt,ft);return reactExports.useDebugValue(vt),vt}const createImpl$1=dt=>{var lt;((lt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:lt.MODE)!=="production"&&typeof dt!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const ft=typeof dt=="function"?createStore$1(dt):dt,vt=(St,Et)=>useStore$1(ft,St,Et);return Object.assign(vt,ft),vt},create$1=dt=>dt?createImpl$1(dt):createImpl$1,trackedConnections=new Map,getTrackedConnectionState=dt=>{const lt=trackedConnections.get(dt);return lt?Object.fromEntries(Object.entries(lt.stores).map(([ft,vt])=>[ft,vt.getState()])):{}},extractConnectionInformation=(dt,lt,ft)=>{if(dt===void 0)return{type:"untracked",connection:lt.connect(ft)};const vt=trackedConnections.get(ft.name);if(vt)return{type:"tracked",store:dt,...vt};const St={connection:lt.connect(ft),stores:{}};return trackedConnections.set(ft.name,St),{type:"tracked",store:dt,...St}},devtoolsImpl=(dt,lt={})=>(ft,vt,St)=>{var Et,At;const{enabled:Ct,anonymousActionType:Tt,store:Rt,...Bt}=lt;let Ft;try{Ft=(Ct??((Et={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:Et.MODE)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!Ft)return((At={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:At.MODE)!=="production"&&Ct&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),dt(ft,vt,St);const{connection:Dt,...kt}=extractConnectionInformation(Rt,Ft,Bt);let zt=!0;St.setState=(Kt,Zt,Wt)=>{const tn=ft(Kt,Zt);if(!zt)return tn;const an=Wt===void 0?{type:Tt||"anonymous"}:typeof Wt=="string"?{type:Wt}:Wt;return Rt===void 0?(Dt==null||Dt.send(an,vt()),tn):(Dt==null||Dt.send({...an,type:`${Rt}/${an.type}`},{...getTrackedConnectionState(Bt.name),[Rt]:St.getState()}),tn)};const Ht=(...Kt)=>{const Zt=zt;zt=!1,ft(...Kt),zt=Zt},en=dt(St.setState,vt,St);if(kt.type==="untracked"?Dt==null||Dt.init(en):(kt.stores[kt.store]=St,Dt==null||Dt.init(Object.fromEntries(Object.entries(kt.stores).map(([Kt,Zt])=>[Kt,Kt===kt.store?en:Zt.getState()])))),St.dispatchFromDevtools&&typeof St.dispatch=="function"){let Kt=!1;const Zt=St.dispatch;St.dispatch=(...Wt)=>{var tn;((tn={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:tn.MODE)!=="production"&&Wt[0].type==="__setState"&&!Kt&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),Kt=!0),Zt(...Wt)}}return Dt.subscribe(Kt=>{var Zt;switch(Kt.type){case"ACTION":if(typeof Kt.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return parseJsonThen(Kt.payload,Wt=>{if(Wt.type==="__setState"){if(Rt===void 0){Ht(Wt.state);return}Object.keys(Wt.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const tn=Wt.state[Rt];if(tn==null)return;JSON.stringify(St.getState())!==JSON.stringify(tn)&&Ht(tn);return}St.dispatchFromDevtools&&typeof St.dispatch=="function"&&St.dispatch(Wt)});case"DISPATCH":switch(Kt.payload.type){case"RESET":return Ht(en),Rt===void 0?Dt==null?void 0:Dt.init(St.getState()):Dt==null?void 0:Dt.init(getTrackedConnectionState(Bt.name));case"COMMIT":if(Rt===void 0){Dt==null||Dt.init(St.getState());return}return Dt==null?void 0:Dt.init(getTrackedConnectionState(Bt.name));case"ROLLBACK":return parseJsonThen(Kt.state,Wt=>{if(Rt===void 0){Ht(Wt),Dt==null||Dt.init(St.getState());return}Ht(Wt[Rt]),Dt==null||Dt.init(getTrackedConnectionState(Bt.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(Kt.state,Wt=>{if(Rt===void 0){Ht(Wt);return}JSON.stringify(St.getState())!==JSON.stringify(Wt[Rt])&&Ht(Wt[Rt])});case"IMPORT_STATE":{const{nextLiftedState:Wt}=Kt.payload,tn=(Zt=Wt.computedStates.slice(-1)[0])==null?void 0:Zt.state;if(!tn)return;Ht(Rt===void 0?tn:tn[Rt]),Dt==null||Dt.send(null,Wt);return}case"PAUSE_RECORDING":return zt=!zt}return}}),en},devtools=devtoolsImpl,parseJsonThen=(dt,lt)=>{let ft;try{ft=JSON.parse(dt)}catch(vt){console.error("[zustand devtools middleware] Could not parse the received json",vt)}ft!==void 0&&lt(ft)},cameraPositionsStore={idle:{position:{x:-92.20805126509336,y:273.04918347118746,z:531.174457433966},target:{x:-246.12475794281735,y:-80.59864882547737,z:30.823659875539892}},focus:{none:{position:{x:-44.383707309870985,y:154.80725313868743,z:529.3252135652391},target:{x:0,y:0,z:0}},ring_2:{position:{x:2.190236211025621,y:1.6507264752326343,z:5.88543684469006},target:{x:5.1055895988583515,y:.19085097887625263,z:1.4062717731548435}},ring_3:{position:{x:6.606071553051454,y:5.6729398609821455,z:26.285880446623217},target:{x:-.165218981269205,y:4.315291572453687,z:10.681823086410414}},ring_4:{position:{x:-27.82759373051267,y:23.270868751842713,z:3.2027251070890017},target:{x:-17.714418994029206,y:4.378913543490656,z:-24.107682450016874}},ring_5:{position:{x:70.87439247320444,y:3.5133611177688344,z:33.70241225448102},target:{x:83.84756896892354,y:-7.9443152135505155,z:-2.4499584966239416}},ring_6:{position:{x:-127.52475157742685,y:67.22411544314939,z:173.13500278780361},target:{x:-162.69584009705767,y:-.008526349845225706,z:80.16852275398091}},pageSection:{position:{x:.6367764799058464,y:.02575067199102174,z:.8197320773716226},rotation:{isEuler:!0,_x:.2958178557573598,_y:.5678515229569016,_z:-.1624619456530673,_order:"XYZ"},quaternion:{isQuaternion:!0,_x:.11852174376106969,_y:.28763329671625587,_z:-.035896367448952596,_w:.949700549478594},target:{x:.23306836128254418,y:.21023451620411804,z:.21439031135463676}}},normal:{}},ringNames={ring_2:"Experts",ring_3:"Source",ring_4:"Support",ring_5:"Technology",ring_6:"Welfare"},sectionRings={Experts:"ring_2",Source:"ring_3",Support:"ring_4",Technology:"ring_5",Welfare:"ring_6"},activeFiles=["600x400_RIGID_BRANDED.jpg","0c5758c9-node_pladis_logo_RGB_red_72ppi_Transparent_In_association1_Medium.png","1.jpg","9fc4eb_4fe0f0e738e14b6bae0b5a7a81aff851.webp","600x400_BOX_BRANDED.jpg","600x400_BRANDED MAN TRUCK.jpg","600x400_CURTAINSIDER_BRANDED.jpg","600x400_DOUBLE DECK_BRANDED.jpg","600x400_FLATBED.jpg","600x400_REFRIGERATED.jpg","600x400_SKEL.jpg","600x400_VANS DROP N GO.jpg","600x400_VANS PEUGEOT UTILITYjpg.jpg","600x400_VANS VW CHILLER.jpg","600x400_VANS VW PANEL.jpg","600x400_VANS WELFARE.jpg","1200px-B_Q_company_logo.svg.png","187699729.jpg.gallery.jpg","Dennison-Trailers_1000x500.webp","DJI_20230213_120755_942.JPG","DJI_20230213_120925_582.jpg","DJI_20230213_120927_900.JPG","don-bur-logo-svg.svg","download.png","dummy.mp4","EXPERTS_CHRIS HEATHER.jpg","experts_dummy.jpeg","EXPERTS_DUMMY.jpg","EXPERTS_JAMES SMITH.jpg","EXPERTS_JASON CHIPCHASE.jpg","EXPERTS_KAREN McCHESNEY.jpg","EXPERTS_PAUL JEFFERY.jpg","EXPERTS_SCOTT MCMINIGLE.jpg","EXPERTS_TIM GIBSON.jpg","EXPERTS_TIM MCARTHY.jpg","Flatbed-2 copy.jpg","GA_Logo_Menu.png","Krone_logo.webp","Lawrence-David-Logo.jpeg","logo-share.png","MAN_logo_logotype_emblem_symbol.jpeg","Mercedes-Logo.svg.png","MULTIPLE VANS.MP4","Play.png","Premier_Foods_logo.svg","Sainsbury’s-Logo.png","SDC-Trailers-Logo-RGB.jpeg","Tesco_Logo.svg.png","Volvo_Trucks___Bus_logo.jpeg","woodland-logo-blue.png","XPO_logistics.5c659fd72fa20.jpeg"],appState=create$1(devtools(dt=>({started:!1,activeSlide:0,activeRing:"none",focusRing:"none",numPages:4,activePage:null,activePageNumber:null,currentView:"idle",isAnimating:!1,universeStores:null,cameraRefInfo:null,activeCameraAnchor:null,cameraOrbitPoints:generateCirclePoints(1.1,7,.6),returnCameraToOrigin:null,forcePageUpdate:!1,cameraControlsMouseButtons:{left:1,middle:8,right:2,wheel:8},dimensions:{width:window.innerWidth,height:window.innerHeight},scrollControlsInitiated:!1,activeTile:null,activeTileInfo:null,cameraControlsref:null,activeTileRef:null,focusElementRef:null,updateBounds:null,activeFiles,maxDistance:700,boundsMargin:3,activeVideo:null,loaded:!1,qrPanel:null,setActiveSlide:lt=>dt(ft=>({activeSlide:lt})),setActiveRing:lt=>dt(ft=>({activeRing:lt})),setFocusRing:lt=>dt(ft=>({focusRing:lt})),setNumPages:lt=>dt(ft=>({numPages:lt})),setActivePage:lt=>dt(ft=>({activePage:lt})),setActivePageNumber:lt=>dt(ft=>({activePageNumber:lt})),setCurrentView:lt=>dt(ft=>({currentView:lt})),setIsAnimating:lt=>dt(ft=>({isAnimating:lt})),setStarted:lt=>dt(ft=>({started:lt})),setUniverseStores:lt=>dt(ft=>({universeStores:lt})),setCameraRefInfo:lt=>dt(ft=>({cameraRefInfo:lt})),setActiveCameraAnchor:lt=>dt(ft=>({activeCameraAnchor:lt})),setCameraOrbitPoints:lt=>dt(ft=>({cameraOrbitPoints:lt})),setReturnCameraToOrigin:lt=>dt(ft=>({returnCameraToOrigin:lt})),setForcePageUpdate:lt=>dt(ft=>({forcePageUpdate:lt})),setCameraControlsMouseButtons:lt=>dt(ft=>({cameraControlsMouseButtons:lt})),setDimensions:lt=>dt(ft=>({dimensions:lt})),setScrollControlsInitiated:lt=>dt(ft=>({scrollControlsInitiated:lt})),setActiveTile:lt=>dt(ft=>({activeTile:lt})),setCameraControlsref:lt=>dt(ft=>({cameraControlsref:lt})),setActiveTileInfo:lt=>dt(ft=>({activeTileInfo:lt})),setActiveTileRef:lt=>dt(ft=>({activeTileRef:lt})),setFocusElementRef:lt=>dt(ft=>({focusElementRef:lt})),setUpdateBounds:lt=>dt(ft=>({updateBounds:lt})),setMaxDistance:lt=>dt(ft=>({maxDistance:lt})),setBoundsMargin:lt=>dt(ft=>({boundsMargin:lt})),setActiveVideo:lt=>dt(ft=>({activeVideo:lt})),setLoaded:lt=>dt(ft=>({loaded:lt})),setQrPanel:lt=>dt(ft=>({qrPanel:lt})),ringNames,ringNameFromSection:sectionRings,fetchData:null,mockData:null,setFetchData:lt=>dt(ft=>({fetchData:lt})),generateCirclePoints:(lt,ft,vt)=>generateCirclePoints(lt,ft,vt),getUniverseStores:()=>getUniverseStores()})));function generateCirclePoints(dt,lt,ft=0){const vt=[];for(let St=0;St<lt;St++){const Et=St/lt*Math.PI*2;let At=new Vector3(Math.cos(Et)*dt,ft,Math.sin(Et)*dt);vt.push(At)}return vt}const getUniverseStores=()=>{let dt=[],lt=[.831,.25,.007];for(let Et=0;Et<15;Et++){let At=[];At.push(lt[0]*Et),At.push(lt[1]*Et),At.push(lt[2]*Et),dt.push(At)}const ft={},St=(()=>{const{nodes:Et,materials:At}=useGLTF("./models/hireco_3DScene_sectLocation-v3.glb");let Ct={};return Object.keys(Et).forEach(Tt=>{let Rt=Et[Tt];Rt.name=Rt.name.replace("_location",""),Rt.type=="Mesh"&&(Ct[Rt.name]=Rt.position)}),Ct})();return{colorValues:dt,universeMultipliers:ft,sectionPositions:St}};useGLTF.preload("./models/hireco_3DScene_sectLocation-v3.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_source_v1.glb");function SupportSection(dt){const lt=reactExports.useRef(),{nodes:ft,materials:vt,animations:St}=useGLTF("./models/iconography/INCONOGRAPHY_support_v7.glb"),{actions:Et}=useAnimations(St,lt);return reactExports.useEffect(()=>{Et["Action.001"].play(),Et["Action.002"].play(),Et["hourGlass.Action"].play(),Et["hourglass.Action"].play(),Et.hourglass_4_1Action.play(),Et["hourglass_4_1Action.001"].play(),Et.hourglass_4_2Action.play(),Et["hourglass_4_2Action.001"].play(),Et.hourglass_4_3Action.play(),Et["hourglass_4_3Action.001"].play(),Et.hourglass_4_4Action.play(),Et["hourglass_4_4Action.001"].play(),Et.hourglass_4_5Action.play(),Et["hourglass_4_5Action.001"].play(),Et.spannerAction.play()},[]),jsxRuntimeExports.jsx("group",{ref:lt,...dt,dispose:null,children:jsxRuntimeExports.jsxs("group",{name:"Scene",children:[jsxRuntimeExports.jsx("group",{name:"hourGlass",children:jsxRuntimeExports.jsxs("group",{name:"hourglass_null_1",rotation:[0,.001,.122],scale:.001,children:[jsxRuntimeExports.jsx("mesh",{name:"hourglass_1",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_1.geometry,material:vt["HOUR GLASS - GLASS - 1"]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_2",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_2.geometry,material:vt.hourglass_2,scale:[1,.982,1]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_1",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_1.geometry,material:vt.hourglass_4_1,position:[0,.404,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_1001",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_1001.geometry,material:vt.hourglass_4_1,position:[0,-.404,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_2",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_2.geometry,material:vt.hourglass_4_2,position:[0,.307,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_2001",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_2001.geometry,material:vt.hourglass_4_2,position:[0,-.307,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_3",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_3.geometry,material:vt.hourglass_4_3,position:[0,.196,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_3001",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_3001.geometry,material:vt.hourglass_4_3,position:[0,-.196,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_4",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_4.geometry,material:vt.hourglass_4_4,position:[0,.086,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_4001",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_4001.geometry,material:vt.hourglass_4_4,position:[0,-.086,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_5",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_5.geometry,material:vt.hourglass_4_5,position:[0,.02,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_5001",castShadow:!0,receiveShadow:!0,geometry:ft.hourglass_4_5001.geometry,material:vt.hourglass_4_5,position:[0,-.02,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]})]})}),jsxRuntimeExports.jsxs("group",{name:"spanner",children:[jsxRuntimeExports.jsx("mesh",{name:"spanner_1",castShadow:!0,receiveShadow:!0,geometry:ft.spanner_1.geometry,material:vt.spanner_1,position:[0,.002,0]}),jsxRuntimeExports.jsx("mesh",{name:"spanner_2",castShadow:!0,receiveShadow:!0,geometry:ft.spanner_2.geometry,material:vt.spanner_2,position:[0,-.004,0],children:jsxRuntimeExports.jsx("mesh",{name:"spanner_3",castShadow:!0,receiveShadow:!0,geometry:ft.spanner_3.geometry,material:vt.spanner_3})})]})]})})}useGLTF.preload("./models/iconography/INCONOGRAPHY_support_v7.glb");function SmartTechSection(dt){const lt=reactExports.useRef(),{nodes:ft,materials:vt,animations:St}=useGLTF("./models/iconography/INCONOGRAPHY_smartTech_v4.glb"),{actions:Et}=useAnimations(St,lt);return reactExports.useEffect(()=>{Et["codeCubeAction.001"].play(),Et.wifiSpinAction.play(),Et.wifi_1_1Action.play(),Et.wifi_1_2Action.play(),Et.wifi_1_3Action.play(),Et.wifi_2_1Action.play(),Et.wifi_2_2Action.play(),Et.wifi_2_3Action.play()},[]),jsxRuntimeExports.jsx("group",{ref:lt,...dt,dispose:null,children:jsxRuntimeExports.jsxs("group",{name:"Scene",children:[jsxRuntimeExports.jsxs("group",{name:"wifiSpin",children:[jsxRuntimeExports.jsx("mesh",{name:"wifi_1",castShadow:!0,receiveShadow:!0,geometry:ft.wifi_1.geometry,material:vt["Hireco - Wifi .005"],scale:.75}),jsxRuntimeExports.jsx("mesh",{name:"wifi_2",castShadow:!0,receiveShadow:!0,geometry:ft.wifi_2.geometry,material:vt["Hireco - Wifi .004"],scale:.78}),jsxRuntimeExports.jsx("mesh",{name:"wifi_3",castShadow:!0,receiveShadow:!0,geometry:ft.wifi_3.geometry,material:vt["Hireco - Wifi .006"],scale:.74}),jsxRuntimeExports.jsx("mesh",{name:"wifi_4",castShadow:!0,receiveShadow:!0,geometry:ft.wifi_4.geometry,material:vt["Hireco - Wifi .003"],scale:.78}),jsxRuntimeExports.jsx("mesh",{name:"wifi_5",castShadow:!0,receiveShadow:!0,geometry:ft.wifi_5.geometry,material:vt["Hireco - Wifi .002"],scale:.75}),jsxRuntimeExports.jsx("mesh",{name:"wifi_6",castShadow:!0,receiveShadow:!0,geometry:ft.wifi_6.geometry,material:vt["Hireco - Wifi .001"],scale:.74})]}),jsxRuntimeExports.jsxs("group",{name:"codeCube",scale:0,children:[jsxRuntimeExports.jsx("mesh",{name:"codeCube_1",castShadow:!0,receiveShadow:!0,geometry:ft.codeCube_1.geometry,material:vt["Hireco - codeCube .001"],rotation:[Math.PI/2,0,0],scale:.3}),jsxRuntimeExports.jsx("mesh",{name:"codeCube_2",castShadow:!0,receiveShadow:!0,geometry:ft.codeCube_2.geometry,material:vt["Hireco - codeCube .002"],rotation:[Math.PI/2,0,0],scale:.29})]})]})})}useGLTF.preload("./models/iconography/INCONOGRAPHY_smartTech_v4.glb");function ExpertSection(dt){const lt=reactExports.useRef(),ft=reactExports.useRef(),{nodes:vt,materials:St,animations:Et}=useGLTF("./models/iconography/INCONOGRAPHY_Expert_v17.glb"),{actions:At}=useAnimations(Et,lt);appState(Rt=>Rt.activeRing);const[Ct,Tt]=reactExports.useState([5,5,5]);return reactExports.useEffect(()=>{At.bulb_boltSpin_Action.play(),At.bulb_mainSpin_Action.play(),At.pound_mainSpin_Action.play(),At.powerStation_bar1_Action.play(),At.powerStation_bar2_Action.play(),At.powerStation_bar3_Action.play(),At.powerStation_boltSpin_Action.play(),At.powerStation_mainSpin_Action.play()},[At]),jsxRuntimeExports.jsx("group",{ref:lt,...dt,dispose:null,children:jsxRuntimeExports.jsxs("group",{name:"Scene",children:[jsxRuntimeExports.jsxs("group",{name:"bulb",children:[jsxRuntimeExports.jsx("mesh",{name:"BULB_BOLT",castShadow:!0,receiveShadow:!0,geometry:vt.BULB_BOLT.geometry,material:St.EMMISION,position:[0,.11,0],scale:1.05,children:jsxRuntimeExports.jsx("meshBasicMaterial",{emissiveIntensity:2,toneMapped:!1,position:[0,1,0],color:Ct,ref:ft})}),jsxRuntimeExports.jsx("mesh",{name:"BULB",castShadow:!0,receiveShadow:!0,geometry:vt.BULB.geometry,material:St["Hireco - White Glass.001"],position:[0,.11,0],scale:[.13,.03,.13]}),jsxRuntimeExports.jsx("mesh",{name:"BULB_BOTTOM",castShadow:!0,receiveShadow:!0,geometry:vt.BULB_BOTTOM.geometry,material:St["Hireco - White Metal - Light Bulb 2"],position:[0,.11,0],scale:[.13,.04,.13]}),jsxRuntimeExports.jsx("mesh",{name:"BULB_MIDDLE",castShadow:!0,receiveShadow:!0,geometry:vt.BULB_MIDDLE.geometry,material:St["Hireco - White Metal - Light Bulb 1"],position:[0,.11,0],rotation:[-.02,0,0],scale:[.13,.03,.13]})]}),jsxRuntimeExports.jsx("group",{name:"poundSymbol",scale:0,children:jsxRuntimeExports.jsx("mesh",{name:"POUND_SYMBOL",castShadow:!0,receiveShadow:!0,geometry:vt.POUND_SYMBOL.geometry,material:St["Hireco-whiteMetal-poundSymbol-1"],position:[-.01,-.07,0]})}),jsxRuntimeExports.jsxs("group",{name:"powerStation",scale:0,children:[jsxRuntimeExports.jsxs("group",{name:"POWER_STATION",scale:1.18,children:[jsxRuntimeExports.jsx("mesh",{name:"BOLT001",castShadow:!0,receiveShadow:!0,geometry:vt.BOLT001.geometry,material:St.EMMISION,position:[0,.01,0],scale:.34}),jsxRuntimeExports.jsx("mesh",{name:"POWER_BAR001",castShadow:!0,receiveShadow:!0,geometry:vt.POWER_BAR001.geometry,material:St.EMMISION,position:[0,-.35,0],scale:0}),jsxRuntimeExports.jsx("mesh",{name:"POWER_BAR002",castShadow:!0,receiveShadow:!0,geometry:vt.POWER_BAR002.geometry,material:St.EMMISION,position:[0,-.26,0],scale:0}),jsxRuntimeExports.jsx("mesh",{name:"POWER_BAR003",castShadow:!0,receiveShadow:!0,geometry:vt.POWER_BAR003.geometry,material:St.EMMISION,position:[0,-.17,0],scale:0}),jsxRuntimeExports.jsx("mesh",{name:"PLUG_LEFT_",castShadow:!0,receiveShadow:!0,geometry:vt.PLUG_LEFT_.geometry,material:St["Hireco - White Metal - Power Station 2"],position:[.16,.03,0],rotation:[Math.PI,0,0],scale:-.65}),jsxRuntimeExports.jsx("mesh",{name:"PLUG_RIGHT",castShadow:!0,receiveShadow:!0,geometry:vt.PLUG_RIGHT.geometry,material:St["Hireco - White Metal - Light Bulb 3"],position:[-.17,.03,0],scale:.65}),jsxRuntimeExports.jsx("mesh",{name:"POWERSTATION_STATION",castShadow:!0,receiveShadow:!0,geometry:vt.POWERSTATION_STATION.geometry,material:St["Hireco - White Metal - Power Station 1"]})]}),jsxRuntimeExports.jsx("mesh",{name:"PLUGS",castShadow:!0,receiveShadow:!0,geometry:vt.PLUGS.geometry,material:St["Hireco - White Metal - Light Bulb 4"],scale:1.18})]}),jsxRuntimeExports.jsx("mesh",{name:"invisibleSphere",castShadow:!0,receiveShadow:!0,geometry:vt.invisibleSphere.geometry,material:St.invisible,scale:.6})]})})}useGLTF.preload("./models/iconography/INCONOGRAPHY_Expert_v17.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_welfare_v1.glb");function renderSwitch(dt,lt){switch(dt){case"ring_4":return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(SupportSection,{index:lt})});case"ring_5":return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(SmartTechSection,{index:lt})});default:return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(ExpertSection,{index:lt})})}}function SetsModel(dt){const{index:lt,position:ft,nodeName:vt}=dt,St=appState(zt=>zt.activeRing,shallow$1),Et=appState(zt=>zt.setActiveRing);appState(zt=>zt.focusRing),appState(zt=>zt.setFocusRing);const At=appState(zt=>zt.currentView),Ct=appState(zt=>zt.getUniverseStores),{colorValues:Tt}=Ct();new Color(...Tt[3]);const[Rt,Bt]=reactExports.useState(fetchScale(lt)),[Ft,Dt]=reactExports.useState(!1);J$1({scale:Ft?Rt*1.5:Rt});const kt=reactExports.useRef();return useFrame(zt=>{kt.current.rotation.y+=.015;const Ht=zt.clock.getElapsedTime();let en=1.5+Math.sin(Ht*2)/10;St==vt&&(kt.current.scale.x=en,kt.current.scale.y=en,kt.current.scale.z=en)}),reactExports.useEffect(()=>{},[St]),jsxRuntimeExports.jsx(E$1.mesh,{children:jsxRuntimeExports.jsxs("group",{onClick:zt=>{At!="page"&&Et(vt)},ref:kt,visible:At!="page"||At=="page"&&St!=vt,onPointerEnter:()=>{},position:[0,.75,0],children:[jsxRuntimeExports.jsx(Sphere,{scale:.5,children:jsxRuntimeExports.jsx("meshStandardMaterial",{color:"black",transparent:!0,opacity:0,side:BackSide})}),renderSwitch(vt,lt)]})})}function fetchScale(dt){let lt=.4;return dt=dt+4,lt=lt/dt,lt}function HirecoUniverse(dt){return reactExports.useRef(),appState(ft=>ft.currentView),appState(ft=>ft.getUniverseStores)(),new Color([.831,.25,.007]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UniverseContent,{}),jsxRuntimeExports.jsx(UniverseGradient,{})]})}const UniverseContent=dt=>{const lt=appState(Et=>Et.currentView);appState(Et=>Et.getUniverseStores);const ft=reactExports.useRef(),vt=reactExports.useRef(),St={opacity:0,depthTest:!1};return useFrame(Et=>{}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("group",{ref:ft,children:jsxRuntimeExports.jsx("group",{ref:vt,children:["ring_6","ring_5","ring_4","ring_3","ring_2","ring_1"].map((Et,At)=>{if(reactExports.useRef(),reactExports.useRef(),Et=="ring_1")return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});appState(Ft=>Ft.focusRing);const Ct=appState(Ft=>Ft.activeRing),{translateYActive:Tt,emissiveIntensity:Rt,ringOpacity:Bt}=J$1({translateYActive:(Ct==Et,0),translateYHidden:(lt=="focus"&&Ct!=Et,0),emissiveIntensity:lt=="focus"||lt=="page"?0:2,ringOpacity:lt!="page"||lt=="page"&&Ct==Et?1:0,config:St.gentle});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SectionCopy,{ring:Et,index:At}),jsxRuntimeExports.jsx(E$1.mesh,{children:jsxRuntimeExports.jsx(E$1.mesh,{"position-y":Tt,children:jsxRuntimeExports.jsx(TextSection,{nodeName:Et,index:At})})},"flatGroupMesh"+Et)]})})})})})};function SectionCopy(dt){const{ring:lt,index:ft}=dt,vt=appState(en=>en.activeTile,shallow$1),St=appState(en=>en.activeRing,shallow$1),Et=appState(en=>en.ringNames),At=appState(en=>en.fetchData),Ct=appState(en=>en.getUniverseStores),{sectionPositions:Tt}=Ct(),Rt=Tt[lt],Bt=reactExports.useRef();useFrame(({camera:en})=>{});const Ft=Et[lt],Dt=At.filter(en=>en.section=="Sectioncopy").filter(en=>en.ring==Ft);let kt,zt,Ht;return kt="",Dt.length>0&&(kt=Dt[0].title,zt=Dt[0].description,Dt[0].image,Dt[0].otherImages,Ht=Dt[0].subTitle),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(E$1.mesh,{visible:St==lt&&!vt,position:Rt,children:jsxRuntimeExports.jsxs("group",{ref:Bt,children:[jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Thin.otf",anchorX:"left",anchorY:"top",fontSize:0,outlineOffsetX:0,outlineOffsetY:0,outlineBlur:25,color:16777215,opacity:2,children:jsxRuntimeExports.jsx("meshBasicMaterial",{attach:"material",color:0})}),jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Regular.otf",anchorX:"left",anchorY:"top",position:[0,10-ft*2.3,0],fontSize:[5,4,3,2,.5,1][ft],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:5,outlineOpacity:.25,opacity:2,color:16777215,children:kt}),jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Regular.otf",anchorX:"left",anchorY:"top",position:[0,10-ft*2.3,0],fontSize:[5,4,3,2,.5,1][ft],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:5,outlineOpacity:.25,opacity:2,color:16777215,children:Ht}),jsxRuntimeExports.jsx(Text,{font:"Montserrat",anchorX:"left",anchorY:"top",position:[0,0,0],fontSize:[1.5,1.25,.75,.4,.2,.2][ft],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:.1,outlineOpacity:.25,opacity:2,color:16777215,maxWidth:[50,50,30,10,4,4][ft],children:zt})]})})})}function TextSection(dt){const{index:lt,nodeName:ft,rotationAmount:vt}=dt;if(ft.includes("H_")||ft=="ring_1")return null;const St=appState(Tn=>Tn.getUniverseStores),{sectionPositions:Et}=St(),At=Et[ft],Ct=appState(Tn=>Tn.setFocusRing),Tt=appState(Tn=>Tn.focusRing),Rt=appState(Tn=>Tn.activeRing),Bt=appState(Tn=>Tn.setActiveRing),Ft=appState(Tn=>Tn.currentView),Dt=appState(Tn=>Tn.setCurrentView),kt=appState(Tn=>Tn.setUniverseStores);appState(Tn=>Tn.universeStores);const zt=appState(Tn=>Tn.activeTile),Ht=appState(Tn=>Tn.setActiveTile),en=appState(Tn=>Tn.started);reactExports.useEffect(()=>{kt(St())},[]);const Kt=reactExports.useRef(),Zt=reactExports.useRef(),[Wt,tn]=reactExports.useState(pn(lt)),{iconScale:an,initialTextScale:ln,focusTextScale:fn}=J$1({iconScale:Tt==ft?Wt*1.25:Wt,initialTextScale:Ft=="focus"?0:1,focusTextScale:Ft=="focus"?1:0,config:mt.gentle});if(ft=="ring_1")return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let un={ring_6:{title:"WELFARE",subTitle:"ENVIRONMENT + PARK"},ring_5:{title:"TECHNOLOGY",subTitle:"SMART + ASSET"},ring_4:{title:"SUPPORT",subTitle:"MAINTAIN + FINANCE"},ring_3:{title:"SOURCE",subTitle:"ASSETS + FINANCE"},ring_2:{title:"EXPERTS",subTitle:"THE TEAM"}};useFrame(({camera:Tn})=>{Kt.current.lookAt(Tn.position)});function pn(Tn){let In=50;return Tn=Tn+3,In=In/Tn,In}function xn(){Ct(ft)}function An(){Ct("none")}const{iconScalar:gn,groupPositionY:Ln,iconElevationActive:Cn,textScalar:En,iconScalarPage:yn}=J$1({iconScalarPage:Ft=="page"?.4:1,iconScalar:Rt==ft?1.2:.8,groupPositionY:Rt==ft?.1:0,translateYHidden:Ft=="focus"&&Rt!=ft?-.05:0,iconElevationActive:Rt==ft?.1:.05,iconPageScaler:Ft=="page"?.33:1,textScalar:en?1:0,config:mt.gentle});let Rn=[40,50,35,30,20];const hn=[];let mn=new Vector3(At.x,At.y+10,At.z),bn=new Vector3(At.x,At.y+Rn[lt]-5,At.z);hn.push(mn),hn.push(bn);const Mn=Ft!="HirecoCenter";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(E$1.mesh,{"position-y":Cn,visible:Mn,children:jsxRuntimeExports.jsxs("group",{ref:Zt,onPointerOver:()=>{xn(),document.body.style.cursor="pointer"},onPointerOut:()=>{An(),document.body.style.cursor="default"},"position-y":.02,children:[jsxRuntimeExports.jsx("group",{visible:Ft!="page"&&Ft!="focus"&&Ft!="idle"||Ft=="focus"&&Rt==ft,children:jsxRuntimeExports.jsx(E$1.mesh,{scale:En,children:jsxRuntimeExports.jsxs(E$1.mesh,{scale:ln,children:[jsxRuntimeExports.jsx(Line,{points:hn,color:"white",lineWidth:1,dashed:!0}),jsxRuntimeExports.jsxs("group",{position:[0,[40,50,35,30,20][lt],0],children:[jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Thin.otf",anchorX:"center",anchorY:"middle",position:At,fontSize:0,outlineOffsetX:0,outlineOffsetY:0,outlineBlur:25,color:16777215,opacity:2,children:jsxRuntimeExports.jsx("meshBasicMaterial",{attach:"material",color:0,transparent:!0,opacity:0})}),jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Regular.otf",anchorX:"center",anchorY:"middle",position:At,fontSize:[6,5.5,5,4,3,15][lt],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:5,outlineOpacity:.25,opacity:2,ref:Kt,color:16777215,children:un[ft].title})]})]})})}),jsxRuntimeExports.jsx("group",{children:jsxRuntimeExports.jsx(E$1.mesh,{scale:an,position:At,onClick:()=>{zt||(Bt(ft),Dt("page"),Ht(null))},children:jsxRuntimeExports.jsx("group",{children:jsxRuntimeExports.jsx(E$1.mesh,{scale:yn,children:jsxRuntimeExports.jsx(SetsModel,{position:At,index:lt,nodeName:ft})})})})})]})})})}function UniverseGradient(dt){const{nodes:lt,materials:ft}=useGLTF("./models/universe/universe_gradient_v8.glb"),vt=appState(Ct=>Ct.getUniverseStores),St=appState(Ct=>Ct.activeTile);vt();let Et=new Color(.0831,.25,.007);Object.keys(ft).forEach(Ct=>{ft[Ct].emissiveIntensity=3,ft[Ct].transparent=!0,ft[Ct].alpha=!0,ft[Ct].color=Et,ft[Ct].toneMapped=!1});const{activeTileOpacity:At}=J$1({activeTileOpacity:St?.5:1,config:mt.gentle});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("group",{...dt,dispose:null,"scale-y":1,children:[jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_2_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...ft["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_3_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...ft["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_4_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...ft["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_5_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...ft["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_6_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...ft["H ORANGE.002"],opacity:At})})]})})}useGLTF.preload("./models/universe/universe_gradient_v8.glb");useGLTF.preload("./models/universe/hireco_3DScene_ringR-v1-forGLTF.glb");useGLTF.preload("./models/universe/hireco_3DScene_ringRAndO-v1-forGLTF.glb");useGLTF.preload("./models/hireco_3DScene_sectLocation-v1.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_source_van_v1.glb");useGLTF.preload("./models/universe/hireco_3DScene_GMiddle_v3.glb");useGLTF.preload("./models/INCONOGRAPHY_ArrowDirectory_v2.glb");const vert=`precision mediump float;
#define GLSLIFY 1
varying vec2 vUv;varying float vWave;uniform float uTime;vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}void main(){vUv=uv;vec3 pos=position;float noiseFreq=0.2;float noiseAmp=0.14;vec3 noisePos=vec3(pos.x*noiseFreq+uTime/10.0,pos.y,pos.z);pos.z+=snoise(noisePos)*noiseAmp;vWave=pos.z;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);}`,frag=`precision mediump float;
#define GLSLIFY 1
uniform vec3 uColor;uniform float uTime;uniform float uOpacity;uniform sampler2D uTexture;varying vec2 vUv;varying float vWave;void main(){float wave=-tan(vWave*0.8)*1.0;vec3 texture=texture2D(uTexture,vUv+wave).rgb;gl_FragColor=vec4(texture,uOpacity);}`,WaveShaderMaterial=shaderMaterial({transparent:!0,uTime:0,uOpacity:.2,uColor:new Color(0,0,0),uTexture:new Texture},vert,frag);extend({WaveShaderMaterial});const TilePlane=dt=>{const{imageSrc:lt,id:ft,linePoints:vt,section:St,otherImagesArray:Et}=dt,At=appState(xn=>xn.activeTile),Ct=appState(xn=>xn.activeRing,shallow$1),Tt=appState(xn=>xn.setActiveTile);appState(xn=>xn.activeTileRef);const Rt=appState(xn=>xn.setActiveTileRef);appState(xn=>xn.focusElementRef,shallow$1);const Bt=appState(xn=>xn.setFocusElementRef);appState(xn=>xn.activeVideo,shallow$1);const Ft=appState(xn=>xn.ringNameFromSection);reactExports.useRef();const Dt=reactExports.useRef(),kt=reactExports.useRef(),zt={ring_2:[.65,.65],ring_3:[.65*2,.65*2],ring_4:[.65*5,.65*5],ring_5:[.65*7.5,.65*7.5],ring_6:[.65*10,.65*10]},Ht={ring_2:5,ring_3:3,ring_4:2.5,ring_5:1.5,ring_6:2},en=Ft[St];useFrame(xn=>{}),reactExports.useEffect(()=>{At==ft&&Bt(kt)},[At]);let Kt;lt?Kt=`./images/${lt}`:Kt="./images/hireco_dummy.jpeg";let Zt=Kt;if(Zt.includes("dummy.mp4")==!0&&(Zt="./images/hireco_dummy.jpeg"),Zt.includes(".mp4")&&Zt.includes("dummy.mp4")==!1)try{Zt="./images/video screens/"+lt.replace(".mp4",".png")}catch{Zt="./images/dummpy.jpeg"}Zt.includes(".gif")&&(Zt="./images/hireco_dummy.jpeg"),console.log(Zt);let Wt;try{[Wt]=useLoader(TextureLoader,[Zt])}catch{Wt=useLoader(TextureLoader,["./images/hireco_dummy.jpeg"])}let tn;if(Wt&&Wt.source){const xn=Wt.source.data.width,An=Wt.source.data.height;tn=xn/An}else tn=1;const{activeScale:an,groupScale:ln,activeOpacity:fn,activeRenderOrder:un,depthTestBoolean:pn}=J$1({activeScale:At===ft?Ht[Ct]:1,activeRenderOrder:At===ft?100:-5,groupScale:At&&At!=ft?.7:1,depthTestBoolean:At===ft,activeOpacity:At===ft?1:.75,config:mt.gentle});return reactExports.useEffect(()=>{},[]),jsxRuntimeExports.jsx(E$1.mesh,{scale:ln,children:jsxRuntimeExports.jsx(E$1.mesh,{scale:an,children:jsxRuntimeExports.jsxs("group",{ref:kt,children:[At==ft?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("group",{"position-x":.2,children:jsxRuntimeExports.jsx(Html,{prepend:!0,style:{opacity:At==ft?1:0,transform:`scale(${At==ft?1:.25})`,pointerEvents:"none"},children:jsxRuntimeExports.jsx(GenerateContent,{})})})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsxs("mesh",{ref:Dt,onClick:xn=>{if(console.log("tileClick"),At==ft)return null;Tt(ft),Rt(Dt),xn.stopPropagation()},onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="default"},depthTest:!1,renderOrder:10,children:[jsxRuntimeExports.jsx("planeGeometry",{attach:"geometry",args:[zt[en][0]*tn,zt[en][1]]}),jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{attach:"material",map:Wt,transparent:!0,opacity:fn})]})]})})})};function GenerateContent(dt){const lt=appState(Ht=>Ht.activeTile,shallow$1);appState(Ht=>Ht.getContentByTitle);const ft=appState(Ht=>Ht.activeRing,shallow$1),vt=appState(Ht=>Ht.ringNames),St=appState(Ht=>Ht.fetchData,shallow$1),Et=appState(Ht=>Ht.setActiveTile),At=appState(Ht=>Ht.setActiveVideo),Ct=vt[ft],Tt=St.filter(Ht=>Ht.id==lt)[0],Rt=St.filter(Ht=>Ht.section==Ct),Bt=Rt.findIndex(Ht=>Ht.id==lt);function Ft(){if(Bt==Rt.length-1)return Et(Rt[0].id);Et(Rt[Bt+1].id),At(null)}let Dt,kt,zt;return Tt?(Dt=Tt.title||"",kt=Tt.subTitle||"",Tt.description,zt=Tt.descriptionArr||"",Tt.video,jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"pointer-events-none relative -top-52 z-30 w-[40vw] transform-gpu bg-black bg-opacity-50 p-4 text-white ",children:[jsxRuntimeExports.jsx("h1",{className:"text-[3em] font-[600] text-[#d19a41]",children:Dt}),jsxRuntimeExports.jsx("h2",{className:"text-[2em]",children:kt}),zt.map(Ht=>{console.log(Ht);let en;try{en=Ht.content[0].value}catch{en=""}return Ht.content.map(Kt=>jsxRuntimeExports.jsx("p",{className:"pt-1 font-body text-[1em] leading-tight",children:Kt.value}))}),jsxRuntimeExports.jsx("div",{className:"findclass pointer-events-auto absolute -bottom-10 right-0 z-[60] pt-12 text-white",onClick:()=>Ft(),children:"Next"})]})})):null}const ContentHolder=dt=>{const lt=reactExports.useRef(),ft=reactExports.useRef(),vt=appState(Ht=>Ht.activeRing,shallow$1),St=appState(Ht=>Ht.getUniverseStores),Et=appState(Ht=>Ht.currentView),At=appState(Ht=>Ht.fetchData,shallow$1),Ct=appState(Ht=>Ht.updateBounds,shallow$1),Tt=appState(Ht=>Ht.setActiveTile),Rt=appState(Ht=>Ht.setCurrentView),Bt=appState(Ht=>Ht.setActiveTile),Ft=At,{sectionPositions:Dt}=St();reactExports.useEffect(()=>{},[At]);const[kt,zt]=reactExports.useState(["Experts","Source","Support","Technology","Welfare"]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(E$1.mesh,{visible:Et=="page",ref:lt,children:kt.map((Ht,en)=>{let Zt="ring_"+(en+2);const Wt=Dt[Zt],tn=Ft.filter(un=>un.section==Ht),ln={ring_2:2,ring_3:5,ring_4:5,ring_5:10,ring_6:10}[Zt],fn=reactExports.useMemo(()=>{const un=[];for(let pn=0;pn<tn.length;pn++)un.push({x:randomIntFromInterval(-ln,ln),y:randomIntFromInterval(-ln,ln),z:randomIntFromInterval(-ln,ln)});return un},[]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("group",{position:Wt,scale:1.5,onClick:()=>{Bt("none"),Rt("main"),Tt(null);let[un,pn,xn]=[-75,105,324];Ct({position:{xPos:un,yPos:pn,zPos:xn},target:{xTar:0,yTar:0,zTar:0}})}}),jsxRuntimeExports.jsx("group",{position:Wt,visible:vt===Zt,children:jsxRuntimeExports.jsx("group",{ref:ft,position:[0,{ring_2:1.5,ring_3:4,ring_3:6,ring_4:10,ring_5:15,ring_6:20}[vt],0],children:jsxRuntimeExports.jsx(SectionTileHolder,{visible:vt===Zt,content:tn,randomPositionArray:fn})})},"sectionGroup"+en)]})})})})};function SectionTileHolder(dt){const{content:lt,position:ft,visible:vt,randomPositionArray:St}=dt,Et=appState(Tt=>Tt.activeRing),At=appState(Tt=>Tt.ringNames),Ct=appState(Tt=>Tt.currentView);if(appState(Tt=>Tt.activeTile),reactExports.useState(At[Et]),reactExports.useState(cameraPositionsStore.focus[Et].position),!!lt)return lt.map((Tt,Rt)=>{const{title:Bt,subtitle:Ft,description:Dt,image:kt,id:zt,section:Ht,otherImages:en}=Tt,Kt=reactExports.useRef(),[Zt,Wt]=reactExports.useState(St[Rt]),tn=[],[an,ln]=reactExports.useState(new Vector3(St[Rt].x,St[Rt].y,St[Rt].z)),[fn,un]=reactExports.useState(St[Rt+1]?new Vector3(St[Rt+1].x,St[Rt+1].y,St[Rt+1].z):new Vector3(0,0,0));tn.push(an),tn.push(fn);let pn;en&&(pn=en.replace(/, /g,",").split(","));const xn=reactExports.useRef();useFrame(({camera:gn})=>{const Ln=new Vector3(gn.position.x,gn.position.y,gn.position.z);Kt.current.lookAt(Ln)});const{contentPosition:An}=J$1({contentPosition:Ct=="page"?[Zt.x,Zt.y,Zt.z]:[0,0,0],config:mt.gentle});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("group",{ref:xn,children:jsxRuntimeExports.jsxs(E$1.mesh,{visible:Ct=="page",position:An,children:[jsxRuntimeExports.jsx("group",{position:[0,2,0]}),jsxRuntimeExports.jsx("group",{ref:Kt,position:[0,2,0],children:jsxRuntimeExports.jsx(TilePlane,{id:zt,imageSrc:kt,visible:vt,linePoints:tn,section:Ht,otherImagesArray:pn})})]},"tile - "+Rt)})})})}(function(){const dt=new Vector3,lt=new Euler,ft=new Quaternion,vt=new Vector3;return function(St){dt.x=Math.random()*40-20,dt.y=Math.random()*40-20,dt.z=Math.random()*40-20,lt.x=Math.random()*2*Math.PI,lt.y=Math.random()*2*Math.PI,lt.z=Math.random()*2*Math.PI,ft.setFromEuler(lt),vt.x=vt.y=vt.z=Math.random()*1,St.compose(dt,ft,vt)}})();function randomIntFromInterval(dt,lt){let ft=Math.random()*(lt-dt)+dt;return ft<.075&&ft>-.075&&(ft=ft*1.5),ft}var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(dt,lt){module.exports=lt()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(lt){_useWebWorker=!!lt},getWebWorker=function(){return _useWebWorker},setLocationHref=function(lt){locationHref=lt},getLocationHref=function(){return locationHref};function createTag(dt){return document.createElement(dt)}function extendPrototype(dt,lt){var ft,vt=dt.length,St;for(ft=0;ft<vt;ft+=1){St=dt[ft].prototype;for(var Et in St)Object.prototype.hasOwnProperty.call(St,Et)&&(lt.prototype[Et]=St[Et])}}function getDescriptor(dt,lt){return Object.getOwnPropertyDescriptor(dt,lt)}function createProxyFunction(dt){function lt(){}return lt.prototype=dt,lt}var audioControllerFactory=function(){function dt(lt){this.audios=[],this.audioFactory=lt,this._volume=1,this._isMuted=!1}return dt.prototype={addAudio:function(ft){this.audios.push(ft)},pause:function(){var ft,vt=this.audios.length;for(ft=0;ft<vt;ft+=1)this.audios[ft].pause()},resume:function(){var ft,vt=this.audios.length;for(ft=0;ft<vt;ft+=1)this.audios[ft].resume()},setRate:function(ft){var vt,St=this.audios.length;for(vt=0;vt<St;vt+=1)this.audios[vt].setRate(ft)},createAudio:function(ft){return this.audioFactory?this.audioFactory(ft):window.Howl?new window.Howl({src:[ft]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(ft){this.audioFactory=ft},setVolume:function(ft){this._volume=ft,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var ft,vt=this.audios.length;for(ft=0;ft<vt;ft+=1)this.audios[ft].volume(this._volume*(this._isMuted?0:1))}},function(){return new dt}}(),createTypedArray=function(){function dt(ft,vt){var St=0,Et=[],At;switch(ft){case"int16":case"uint8c":At=1;break;default:At=1.1;break}for(St=0;St<vt;St+=1)Et.push(At);return Et}function lt(ft,vt){return ft==="float32"?new Float32Array(vt):ft==="int16"?new Int16Array(vt):ft==="uint8c"?new Uint8ClampedArray(vt):dt(ft,vt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?lt:dt}();function createSizedArray(dt){return Array.apply(null,{length:dt})}function _typeof$6(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(ft){return typeof ft}:_typeof$6=function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$6(dt)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var dt=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],lt,ft=dt.length;for(lt=0;lt<ft;lt+=1)BMMath[dt[lt]]=Math[dt[lt]]})(),BMMath.random=Math.random,BMMath.abs=function(dt){var lt=_typeof$6(dt);if(lt==="object"&&dt.length){var ft=createSizedArray(dt.length),vt,St=dt.length;for(vt=0;vt<St;vt+=1)ft[vt]=Math.abs(dt[vt]);return ft}return Math.abs(dt)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(dt){dt.style.position="absolute",dt.style.top=0,dt.style.left=0,dt.style.display="block",dt.style.transformOrigin="0 0",dt.style.webkitTransformOrigin="0 0",dt.style.backfaceVisibility="visible",dt.style.webkitBackfaceVisibility="visible",dt.style.transformStyle="preserve-3d",dt.style.webkitTransformStyle="preserve-3d",dt.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(dt,lt,ft,vt){this.type=dt,this.currentTime=lt,this.totalTime=ft,this.direction=vt<0?-1:1}function BMCompleteEvent(dt,lt){this.type=dt,this.direction=lt<0?-1:1}function BMCompleteLoopEvent(dt,lt,ft,vt){this.type=dt,this.currentLoop=ft,this.totalLoops=lt,this.direction=vt<0?-1:1}function BMSegmentStartEvent(dt,lt,ft){this.type=dt,this.firstFrame=lt,this.totalFrames=ft}function BMDestroyEvent(dt,lt){this.type=dt,this.target=lt}function BMRenderFrameErrorEvent(dt,lt){this.type="renderFrameError",this.nativeError=dt,this.currentTime=lt}function BMConfigErrorEvent(dt){this.type="configError",this.nativeError=dt}var createElementID=function(){var dt=0;return function(){return dt+=1,idPrefix$1+"__lottie_element_"+dt}}();function HSVtoRGB(dt,lt,ft){var vt,St,Et,At,Ct,Tt,Rt,Bt;switch(At=Math.floor(dt*6),Ct=dt*6-At,Tt=ft*(1-lt),Rt=ft*(1-Ct*lt),Bt=ft*(1-(1-Ct)*lt),At%6){case 0:vt=ft,St=Bt,Et=Tt;break;case 1:vt=Rt,St=ft,Et=Tt;break;case 2:vt=Tt,St=ft,Et=Bt;break;case 3:vt=Tt,St=Rt,Et=ft;break;case 4:vt=Bt,St=Tt,Et=ft;break;case 5:vt=ft,St=Tt,Et=Rt;break}return[vt,St,Et]}function RGBtoHSV(dt,lt,ft){var vt=Math.max(dt,lt,ft),St=Math.min(dt,lt,ft),Et=vt-St,At,Ct=vt===0?0:Et/vt,Tt=vt/255;switch(vt){case St:At=0;break;case dt:At=lt-ft+Et*(lt<ft?6:0),At/=6*Et;break;case lt:At=ft-dt+Et*2,At/=6*Et;break;case ft:At=dt-lt+Et*4,At/=6*Et;break}return[At,Ct,Tt]}function addSaturationToRGB(dt,lt){var ft=RGBtoHSV(dt[0]*255,dt[1]*255,dt[2]*255);return ft[1]+=lt,ft[1]>1?ft[1]=1:ft[1]<=0&&(ft[1]=0),HSVtoRGB(ft[0],ft[1],ft[2])}function addBrightnessToRGB(dt,lt){var ft=RGBtoHSV(dt[0]*255,dt[1]*255,dt[2]*255);return ft[2]+=lt,ft[2]>1?ft[2]=1:ft[2]<0&&(ft[2]=0),HSVtoRGB(ft[0],ft[1],ft[2])}function addHueToRGB(dt,lt){var ft=RGBtoHSV(dt[0]*255,dt[1]*255,dt[2]*255);return ft[0]+=lt/360,ft[0]>1?ft[0]-=1:ft[0]<0&&(ft[0]+=1),HSVtoRGB(ft[0],ft[1],ft[2])}var rgbToHex=function(){var dt=[],lt,ft;for(lt=0;lt<256;lt+=1)ft=lt.toString(16),dt[lt]=ft.length===1?"0"+ft:ft;return function(vt,St,Et){return vt<0&&(vt=0),St<0&&(St=0),Et<0&&(Et=0),"#"+dt[vt]+dt[St]+dt[Et]}}(),setSubframeEnabled=function(lt){subframeEnabled=!!lt},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(lt){expressionsPlugin=lt},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(lt){expressionsInterfaces=lt},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(lt){defaultCurveSegments=lt},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(lt){idPrefix$1=lt};function createNS(dt){return document.createElementNS(svgNS,dt)}function _typeof$5(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(ft){return typeof ft}:_typeof$5=function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$5(dt)}var dataManager=function(){var dt=1,lt=[],ft,vt,St={onmessage:function(){},postMessage:function(kt){ft({data:kt})}},Et={postMessage:function(kt){St.onmessage({data:kt})}};function At(Dt){if(window.Worker&&window.Blob&&getWebWorker()){var kt=new Blob(["var _workerSelf = self; self.onmessage = ",Dt.toString()],{type:"text/javascript"}),zt=URL.createObjectURL(kt);return new Worker(zt)}return ft=Dt,St}function Ct(){vt||(vt=At(function(kt){function zt(){function en(En,yn){var Rn,hn,mn=En.length,bn,Mn,Tn,In;for(hn=0;hn<mn;hn+=1)if(Rn=En[hn],"ks"in Rn&&!Rn.completed){if(Rn.completed=!0,Rn.hasMask){var Nn=Rn.masksProperties;for(Mn=Nn.length,bn=0;bn<Mn;bn+=1)if(Nn[bn].pt.k.i)an(Nn[bn].pt.k);else for(In=Nn[bn].pt.k.length,Tn=0;Tn<In;Tn+=1)Nn[bn].pt.k[Tn].s&&an(Nn[bn].pt.k[Tn].s[0]),Nn[bn].pt.k[Tn].e&&an(Nn[bn].pt.k[Tn].e[0])}Rn.ty===0?(Rn.layers=Wt(Rn.refId,yn),en(Rn.layers,yn)):Rn.ty===4?tn(Rn.shapes):Rn.ty===5&&Ln(Rn)}}function Kt(En,yn){if(En){var Rn=0,hn=En.length;for(Rn=0;Rn<hn;Rn+=1)En[Rn].t===1&&(En[Rn].data.layers=Wt(En[Rn].data.refId,yn),en(En[Rn].data.layers,yn))}}function Zt(En,yn){for(var Rn=0,hn=yn.length;Rn<hn;){if(yn[Rn].id===En)return yn[Rn];Rn+=1}return null}function Wt(En,yn){var Rn=Zt(En,yn);return Rn?Rn.layers.__used?JSON.parse(JSON.stringify(Rn.layers)):(Rn.layers.__used=!0,Rn.layers):null}function tn(En){var yn,Rn=En.length,hn,mn;for(yn=Rn-1;yn>=0;yn-=1)if(En[yn].ty==="sh")if(En[yn].ks.k.i)an(En[yn].ks.k);else for(mn=En[yn].ks.k.length,hn=0;hn<mn;hn+=1)En[yn].ks.k[hn].s&&an(En[yn].ks.k[hn].s[0]),En[yn].ks.k[hn].e&&an(En[yn].ks.k[hn].e[0]);else En[yn].ty==="gr"&&tn(En[yn].it)}function an(En){var yn,Rn=En.i.length;for(yn=0;yn<Rn;yn+=1)En.i[yn][0]+=En.v[yn][0],En.i[yn][1]+=En.v[yn][1],En.o[yn][0]+=En.v[yn][0],En.o[yn][1]+=En.v[yn][1]}function ln(En,yn){var Rn=yn?yn.split("."):[100,100,100];return En[0]>Rn[0]?!0:Rn[0]>En[0]?!1:En[1]>Rn[1]?!0:Rn[1]>En[1]?!1:En[2]>Rn[2]?!0:Rn[2]>En[2]?!1:null}var fn=function(){var En=[4,4,14];function yn(hn){var mn=hn.t.d;hn.t.d={k:[{s:mn,t:0}]}}function Rn(hn){var mn,bn=hn.length;for(mn=0;mn<bn;mn+=1)hn[mn].ty===5&&yn(hn[mn])}return function(hn){if(ln(En,hn.v)&&(Rn(hn.layers),hn.assets)){var mn,bn=hn.assets.length;for(mn=0;mn<bn;mn+=1)hn.assets[mn].layers&&Rn(hn.assets[mn].layers)}}}(),un=function(){var En=[4,7,99];return function(yn){if(yn.chars&&!ln(En,yn.v)){var Rn,hn=yn.chars.length;for(Rn=0;Rn<hn;Rn+=1){var mn=yn.chars[Rn];mn.data&&mn.data.shapes&&(tn(mn.data.shapes),mn.data.ip=0,mn.data.op=99999,mn.data.st=0,mn.data.sr=1,mn.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},yn.chars[Rn].t||(mn.data.shapes.push({ty:"no"}),mn.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),pn=function(){var En=[5,7,15];function yn(hn){var mn=hn.t.p;typeof mn.a=="number"&&(mn.a={a:0,k:mn.a}),typeof mn.p=="number"&&(mn.p={a:0,k:mn.p}),typeof mn.r=="number"&&(mn.r={a:0,k:mn.r})}function Rn(hn){var mn,bn=hn.length;for(mn=0;mn<bn;mn+=1)hn[mn].ty===5&&yn(hn[mn])}return function(hn){if(ln(En,hn.v)&&(Rn(hn.layers),hn.assets)){var mn,bn=hn.assets.length;for(mn=0;mn<bn;mn+=1)hn.assets[mn].layers&&Rn(hn.assets[mn].layers)}}}(),xn=function(){var En=[4,1,9];function yn(hn){var mn,bn=hn.length,Mn,Tn;for(mn=0;mn<bn;mn+=1)if(hn[mn].ty==="gr")yn(hn[mn].it);else if(hn[mn].ty==="fl"||hn[mn].ty==="st")if(hn[mn].c.k&&hn[mn].c.k[0].i)for(Tn=hn[mn].c.k.length,Mn=0;Mn<Tn;Mn+=1)hn[mn].c.k[Mn].s&&(hn[mn].c.k[Mn].s[0]/=255,hn[mn].c.k[Mn].s[1]/=255,hn[mn].c.k[Mn].s[2]/=255,hn[mn].c.k[Mn].s[3]/=255),hn[mn].c.k[Mn].e&&(hn[mn].c.k[Mn].e[0]/=255,hn[mn].c.k[Mn].e[1]/=255,hn[mn].c.k[Mn].e[2]/=255,hn[mn].c.k[Mn].e[3]/=255);else hn[mn].c.k[0]/=255,hn[mn].c.k[1]/=255,hn[mn].c.k[2]/=255,hn[mn].c.k[3]/=255}function Rn(hn){var mn,bn=hn.length;for(mn=0;mn<bn;mn+=1)hn[mn].ty===4&&yn(hn[mn].shapes)}return function(hn){if(ln(En,hn.v)&&(Rn(hn.layers),hn.assets)){var mn,bn=hn.assets.length;for(mn=0;mn<bn;mn+=1)hn.assets[mn].layers&&Rn(hn.assets[mn].layers)}}}(),An=function(){var En=[4,4,18];function yn(hn){var mn,bn=hn.length,Mn,Tn;for(mn=bn-1;mn>=0;mn-=1)if(hn[mn].ty==="sh")if(hn[mn].ks.k.i)hn[mn].ks.k.c=hn[mn].closed;else for(Tn=hn[mn].ks.k.length,Mn=0;Mn<Tn;Mn+=1)hn[mn].ks.k[Mn].s&&(hn[mn].ks.k[Mn].s[0].c=hn[mn].closed),hn[mn].ks.k[Mn].e&&(hn[mn].ks.k[Mn].e[0].c=hn[mn].closed);else hn[mn].ty==="gr"&&yn(hn[mn].it)}function Rn(hn){var mn,bn,Mn=hn.length,Tn,In,Nn,$n;for(bn=0;bn<Mn;bn+=1){if(mn=hn[bn],mn.hasMask){var Gn=mn.masksProperties;for(In=Gn.length,Tn=0;Tn<In;Tn+=1)if(Gn[Tn].pt.k.i)Gn[Tn].pt.k.c=Gn[Tn].cl;else for($n=Gn[Tn].pt.k.length,Nn=0;Nn<$n;Nn+=1)Gn[Tn].pt.k[Nn].s&&(Gn[Tn].pt.k[Nn].s[0].c=Gn[Tn].cl),Gn[Tn].pt.k[Nn].e&&(Gn[Tn].pt.k[Nn].e[0].c=Gn[Tn].cl)}mn.ty===4&&yn(mn.shapes)}}return function(hn){if(ln(En,hn.v)&&(Rn(hn.layers),hn.assets)){var mn,bn=hn.assets.length;for(mn=0;mn<bn;mn+=1)hn.assets[mn].layers&&Rn(hn.assets[mn].layers)}}}();function gn(En){En.__complete||(xn(En),fn(En),un(En),pn(En),An(En),en(En.layers,En.assets),Kt(En.chars,En.assets),En.__complete=!0)}function Ln(En){En.t.a.length===0&&"m"in En.t.p}var Cn={};return Cn.completeData=gn,Cn.checkColors=xn,Cn.checkChars=un,Cn.checkPathProperties=pn,Cn.checkShapes=An,Cn.completeLayers=en,Cn}if(Et.dataManager||(Et.dataManager=zt()),Et.assetLoader||(Et.assetLoader=function(){function en(Zt){var Wt=Zt.getResponseHeader("content-type");return Wt&&Zt.responseType==="json"&&Wt.indexOf("json")!==-1||Zt.response&&_typeof$5(Zt.response)==="object"?Zt.response:Zt.response&&typeof Zt.response=="string"?JSON.parse(Zt.response):Zt.responseText?JSON.parse(Zt.responseText):null}function Kt(Zt,Wt,tn,an){var ln,fn=new XMLHttpRequest;try{fn.responseType="json"}catch{}fn.onreadystatechange=function(){if(fn.readyState===4)if(fn.status===200)ln=en(fn),tn(ln);else try{ln=en(fn),tn(ln)}catch(un){an&&an(un)}};try{fn.open(["G","E","T"].join(""),Zt,!0)}catch{fn.open(["G","E","T"].join(""),Wt+"/"+Zt,!0)}fn.send()}return{load:Kt}}()),kt.data.type==="loadAnimation")Et.assetLoader.load(kt.data.path,kt.data.fullPath,function(en){Et.dataManager.completeData(en),Et.postMessage({id:kt.data.id,payload:en,status:"success"})},function(){Et.postMessage({id:kt.data.id,status:"error"})});else if(kt.data.type==="complete"){var Ht=kt.data.animation;Et.dataManager.completeData(Ht),Et.postMessage({id:kt.data.id,payload:Ht,status:"success"})}else kt.data.type==="loadData"&&Et.assetLoader.load(kt.data.path,kt.data.fullPath,function(en){Et.postMessage({id:kt.data.id,payload:en,status:"success"})},function(){Et.postMessage({id:kt.data.id,status:"error"})})}),vt.onmessage=function(Dt){var kt=Dt.data,zt=kt.id,Ht=lt[zt];lt[zt]=null,kt.status==="success"?Ht.onComplete(kt.payload):Ht.onError&&Ht.onError()})}function Tt(Dt,kt){dt+=1;var zt="processId_"+dt;return lt[zt]={onComplete:Dt,onError:kt},zt}function Rt(Dt,kt,zt){Ct();var Ht=Tt(kt,zt);vt.postMessage({type:"loadAnimation",path:Dt,fullPath:window.location.origin+window.location.pathname,id:Ht})}function Bt(Dt,kt,zt){Ct();var Ht=Tt(kt,zt);vt.postMessage({type:"loadData",path:Dt,fullPath:window.location.origin+window.location.pathname,id:Ht})}function Ft(Dt,kt,zt){Ct();var Ht=Tt(kt,zt);vt.postMessage({type:"complete",animation:Dt,id:Ht})}return{loadAnimation:Rt,loadData:Bt,completeAnimation:Ft}}(),ImagePreloader=function(){var dt=function(){var Kt=createTag("canvas");Kt.width=1,Kt.height=1;var Zt=Kt.getContext("2d");return Zt.fillStyle="rgba(0,0,0,0)",Zt.fillRect(0,0,1,1),Kt}();function lt(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ft(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function vt(Kt,Zt,Wt){var tn="";if(Kt.e)tn=Kt.p;else if(Zt){var an=Kt.p;an.indexOf("images/")!==-1&&(an=an.split("/")[1]),tn=Zt+an}else tn=Wt,tn+=Kt.u?Kt.u:"",tn+=Kt.p;return tn}function St(Kt){var Zt=0,Wt=setInterval(function(){var tn=Kt.getBBox();(tn.width||Zt>500)&&(this._imageLoaded(),clearInterval(Wt)),Zt+=1}.bind(this),50)}function Et(Kt){var Zt=vt(Kt,this.assetsPath,this.path),Wt=createNS("image");isSafari?this.testImageLoaded(Wt):Wt.addEventListener("load",this._imageLoaded,!1),Wt.addEventListener("error",function(){tn.img=dt,this._imageLoaded()}.bind(this),!1),Wt.setAttributeNS("http://www.w3.org/1999/xlink","href",Zt),this._elementHelper.append?this._elementHelper.append(Wt):this._elementHelper.appendChild(Wt);var tn={img:Wt,assetData:Kt};return tn}function At(Kt){var Zt=vt(Kt,this.assetsPath,this.path),Wt=createTag("img");Wt.crossOrigin="anonymous",Wt.addEventListener("load",this._imageLoaded,!1),Wt.addEventListener("error",function(){tn.img=dt,this._imageLoaded()}.bind(this),!1),Wt.src=Zt;var tn={img:Wt,assetData:Kt};return tn}function Ct(Kt){var Zt={assetData:Kt},Wt=vt(Kt,this.assetsPath,this.path);return dataManager.loadData(Wt,function(tn){Zt.img=tn,this._footageLoaded()}.bind(this),function(){Zt.img={},this._footageLoaded()}.bind(this)),Zt}function Tt(Kt,Zt){this.imagesLoadedCb=Zt;var Wt,tn=Kt.length;for(Wt=0;Wt<tn;Wt+=1)Kt[Wt].layers||(!Kt[Wt].t||Kt[Wt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Kt[Wt]))):Kt[Wt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Kt[Wt]))))}function Rt(Kt){this.path=Kt||""}function Bt(Kt){this.assetsPath=Kt||""}function Ft(Kt){for(var Zt=0,Wt=this.images.length;Zt<Wt;){if(this.images[Zt].assetData===Kt)return this.images[Zt].img;Zt+=1}return null}function Dt(){this.imagesLoadedCb=null,this.images.length=0}function kt(){return this.totalImages===this.loadedAssets}function zt(){return this.totalFootages===this.loadedFootagesCount}function Ht(Kt,Zt){Kt==="svg"?(this._elementHelper=Zt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function en(){this._imageLoaded=lt.bind(this),this._footageLoaded=ft.bind(this),this.testImageLoaded=St.bind(this),this.createFootageData=Ct.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return en.prototype={loadAssets:Tt,setAssetsPath:Bt,setPath:Rt,loadedImages:kt,loadedFootages:zt,destroy:Dt,getAsset:Ft,createImgData:At,createImageData:Et,imageLoaded:lt,footageLoaded:ft,setCacheType:Ht},en}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(lt,ft){if(this._cbs[lt])for(var vt=this._cbs[lt],St=0;St<vt.length;St+=1)vt[St](ft)},addEventListener:function(lt,ft){return this._cbs[lt]||(this._cbs[lt]=[]),this._cbs[lt].push(ft),function(){this.removeEventListener(lt,ft)}.bind(this)},removeEventListener:function(lt,ft){if(!ft)this._cbs[lt]=null;else if(this._cbs[lt]){for(var vt=0,St=this._cbs[lt].length;vt<St;)this._cbs[lt][vt]===ft&&(this._cbs[lt].splice(vt,1),vt-=1,St-=1),vt+=1;this._cbs[lt].length||(this._cbs[lt]=null)}}};var markerParser=function(){function dt(lt){for(var ft=lt.split(`\r
`),vt={},St,Et=0,At=0;At<ft.length;At+=1)St=ft[At].split(":"),St.length===2&&(vt[St[0]]=St[1].trim(),Et+=1);if(Et===0)throw new Error;return vt}return function(lt){for(var ft=[],vt=0;vt<lt.length;vt+=1){var St=lt[vt],Et={time:St.tm,duration:St.dr};try{Et.payload=JSON.parse(lt[vt].cm)}catch{try{Et.payload=dt(lt[vt].cm)}catch{Et.payload={name:lt[vt].cm}}}ft.push(Et)}return ft}}(),ProjectInterface=function(){function dt(lt){this.compositions.push(lt)}return function(){function lt(ft){for(var vt=0,St=this.compositions.length;vt<St;){if(this.compositions[vt].data&&this.compositions[vt].data.nm===ft)return this.compositions[vt].prepareFrame&&this.compositions[vt].data.xt&&this.compositions[vt].prepareFrame(this.currentFrame),this.compositions[vt].compInterface;vt+=1}return null}return lt.compositions=[],lt.currentFrame=0,lt.registerComposition=dt,lt}}(),renderers={},registerRenderer=function(lt,ft){renderers[lt]=ft};function getRenderer(dt){return renderers[dt]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var dt in renderers)if(renderers[dt])return dt;return""}function _typeof$4(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(ft){return typeof ft}:_typeof$4=function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$4(dt)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(dt){(dt.wrapper||dt.container)&&(this.wrapper=dt.wrapper||dt.container);var lt="svg";dt.animType?lt=dt.animType:dt.renderer&&(lt=dt.renderer);var ft=getRenderer(lt);this.renderer=new ft(this,dt.rendererSettings),this.imagePreloader.setCacheType(lt,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=lt,dt.loop===""||dt.loop===null||dt.loop===void 0||dt.loop===!0?this.loop=!0:dt.loop===!1?this.loop=!1:this.loop=parseInt(dt.loop,10),this.autoplay="autoplay"in dt?dt.autoplay:!0,this.name=dt.name?dt.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(dt,"autoloadSegments")?dt.autoloadSegments:!0,this.assetsPath=dt.assetsPath,this.initialSegment=dt.initialSegment,dt.audioFactory&&this.audioController.setAudioFactory(dt.audioFactory),dt.animationData?this.setupAnimation(dt.animationData):dt.path&&(dt.path.lastIndexOf("\\")!==-1?this.path=dt.path.substr(0,dt.path.lastIndexOf("\\")+1):this.path=dt.path.substr(0,dt.path.lastIndexOf("/")+1),this.fileName=dt.path.substr(dt.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(dt.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(dt){dataManager.completeAnimation(dt,this.configAnimation)},AnimationItem.prototype.setData=function(dt,lt){lt&&_typeof$4(lt)!=="object"&&(lt=JSON.parse(lt));var ft={wrapper:dt,animationData:lt},vt=dt.attributes;ft.path=vt.getNamedItem("data-animation-path")?vt.getNamedItem("data-animation-path").value:vt.getNamedItem("data-bm-path")?vt.getNamedItem("data-bm-path").value:vt.getNamedItem("bm-path")?vt.getNamedItem("bm-path").value:"",ft.animType=vt.getNamedItem("data-anim-type")?vt.getNamedItem("data-anim-type").value:vt.getNamedItem("data-bm-type")?vt.getNamedItem("data-bm-type").value:vt.getNamedItem("bm-type")?vt.getNamedItem("bm-type").value:vt.getNamedItem("data-bm-renderer")?vt.getNamedItem("data-bm-renderer").value:vt.getNamedItem("bm-renderer")?vt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var St=vt.getNamedItem("data-anim-loop")?vt.getNamedItem("data-anim-loop").value:vt.getNamedItem("data-bm-loop")?vt.getNamedItem("data-bm-loop").value:vt.getNamedItem("bm-loop")?vt.getNamedItem("bm-loop").value:"";St==="false"?ft.loop=!1:St==="true"?ft.loop=!0:St!==""&&(ft.loop=parseInt(St,10));var Et=vt.getNamedItem("data-anim-autoplay")?vt.getNamedItem("data-anim-autoplay").value:vt.getNamedItem("data-bm-autoplay")?vt.getNamedItem("data-bm-autoplay").value:vt.getNamedItem("bm-autoplay")?vt.getNamedItem("bm-autoplay").value:!0;ft.autoplay=Et!=="false",ft.name=vt.getNamedItem("data-name")?vt.getNamedItem("data-name").value:vt.getNamedItem("data-bm-name")?vt.getNamedItem("data-bm-name").value:vt.getNamedItem("bm-name")?vt.getNamedItem("bm-name").value:"";var At=vt.getNamedItem("data-anim-prerender")?vt.getNamedItem("data-anim-prerender").value:vt.getNamedItem("data-bm-prerender")?vt.getNamedItem("data-bm-prerender").value:vt.getNamedItem("bm-prerender")?vt.getNamedItem("bm-prerender").value:"";At==="false"&&(ft.prerender=!1),ft.path?this.setParams(ft):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(dt){dt.op>this.animationData.op&&(this.animationData.op=dt.op,this.totalFrames=Math.floor(dt.op-this.animationData.ip));var lt=this.animationData.layers,ft,vt=lt.length,St=dt.layers,Et,At=St.length;for(Et=0;Et<At;Et+=1)for(ft=0;ft<vt;){if(lt[ft].id===St[Et].id){lt[ft]=St[Et];break}ft+=1}if((dt.chars||dt.fonts)&&(this.renderer.globalData.fontManager.addChars(dt.chars),this.renderer.globalData.fontManager.addFonts(dt.fonts,this.renderer.globalData.defs)),dt.assets)for(vt=dt.assets.length,ft=0;ft<vt;ft+=1)this.animationData.assets.push(dt.assets[ft]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(dt){this.animationData=dt;var lt=getExpressionsPlugin();lt&&lt.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var dt=this.animationData.segments;if(!dt||dt.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var lt=dt.shift();this.timeCompleted=lt.time*this.frameRate;var ft=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(ft,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var dt=this.animationData.segments;dt||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(dt){if(this.renderer)try{this.animationData=dt,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(dt),dt.assets||(dt.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(dt.assets),this.markers=markerParser(dt.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(lt){this.triggerConfigError(lt)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var dt=getExpressionsPlugin();dt&&dt.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(dt,lt){var ft=typeof dt=="number"?dt:void 0,vt=typeof lt=="number"?lt:void 0;this.renderer.updateContainerSize(ft,vt)},AnimationItem.prototype.setSubframe=function(dt){this.isSubframeEnabled=!!dt},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(dt){this.triggerRenderFrameError(dt)}},AnimationItem.prototype.play=function(dt){dt&&this.name!==dt||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(dt){dt&&this.name!==dt||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(dt){dt&&this.name!==dt||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(dt){dt&&this.name!==dt||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(dt){for(var lt,ft=0;ft<this.markers.length;ft+=1)if(lt=this.markers[ft],lt.payload&&lt.payload.name===dt)return lt;return null},AnimationItem.prototype.goToAndStop=function(dt,lt,ft){if(!(ft&&this.name!==ft)){var vt=Number(dt);if(isNaN(vt)){var St=this.getMarkerData(dt);St&&this.goToAndStop(St.time,!0)}else lt?this.setCurrentRawFrameValue(dt):this.setCurrentRawFrameValue(dt*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(dt,lt,ft){if(!(ft&&this.name!==ft)){var vt=Number(dt);if(isNaN(vt)){var St=this.getMarkerData(dt);St&&(St.duration?this.playSegments([St.time,St.time+St.duration],!0):this.goToAndStop(St.time,!0))}else this.goToAndStop(vt,lt,ft);this.play()}},AnimationItem.prototype.advanceTime=function(dt){if(!(this.isPaused===!0||this.isLoaded===!1)){var lt=this.currentRawFrame+dt*this.frameModifier,ft=!1;lt>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(lt>this.totalFrames?lt%this.totalFrames:0)||(ft=!0,lt=this.totalFrames-1):lt>=this.totalFrames?(this.playCount+=1,this.checkSegments(lt%this.totalFrames)||(this.setCurrentRawFrameValue(lt%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(lt):lt<0?this.checkSegments(lt%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+lt%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(ft=!0,lt=0)):this.setCurrentRawFrameValue(lt),ft&&(this.setCurrentRawFrameValue(lt),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(dt,lt){this.playCount=0,dt[1]<dt[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=dt[0]-dt[1],this.timeCompleted=this.totalFrames,this.firstFrame=dt[1],this.setCurrentRawFrameValue(this.totalFrames-.001-lt)):dt[1]>dt[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=dt[1]-dt[0],this.timeCompleted=this.totalFrames,this.firstFrame=dt[0],this.setCurrentRawFrameValue(.001+lt)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(dt,lt){var ft=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<dt?ft=dt:this.currentRawFrame+this.firstFrame>lt&&(ft=lt-dt)),this.firstFrame=dt,this.totalFrames=lt-dt,this.timeCompleted=this.totalFrames,ft!==-1&&this.goToAndStop(ft,!0)},AnimationItem.prototype.playSegments=function(dt,lt){if(lt&&(this.segments.length=0),_typeof$4(dt[0])==="object"){var ft,vt=dt.length;for(ft=0;ft<vt;ft+=1)this.segments.push(dt[ft])}else this.segments.push(dt);this.segments.length&&lt&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(dt){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),dt&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(dt){return this.segments.length?(this.adjustSegment(this.segments.shift(),dt),!0):!1},AnimationItem.prototype.destroy=function(dt){dt&&this.name!==dt||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(dt){this.currentRawFrame=dt,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(dt){this.playSpeed=dt,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(dt){this.playDirection=dt<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(dt){this.loop=dt},AnimationItem.prototype.setVolume=function(dt,lt){lt&&this.name!==lt||this.audioController.setVolume(dt)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(dt){dt&&this.name!==dt||this.audioController.mute()},AnimationItem.prototype.unmute=function(dt){dt&&this.name!==dt||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(dt){var lt="";if(dt.e)lt=dt.p;else if(this.assetsPath){var ft=dt.p;ft.indexOf("images/")!==-1&&(ft=ft.split("/")[1]),lt=this.assetsPath+ft}else lt=this.path,lt+=dt.u?dt.u:"",lt+=dt.p;return lt},AnimationItem.prototype.getAssetData=function(dt){for(var lt=0,ft=this.assets.length;lt<ft;){if(dt===this.assets[lt].id)return this.assets[lt];lt+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(dt){return dt?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(dt,lt,ft){try{var vt=this.renderer.getElementByPath(dt);vt.updateDocumentData(lt,ft)}catch{}},AnimationItem.prototype.trigger=function(dt){if(this._cbs&&this._cbs[dt])switch(dt){case"enterFrame":this.triggerEvent(dt,new BMEnterFrameEvent(dt,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(dt,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(dt,new BMCompleteLoopEvent(dt,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(dt,new BMCompleteEvent(dt,this.frameMult));break;case"segmentStart":this.triggerEvent(dt,new BMSegmentStartEvent(dt,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(dt,new BMDestroyEvent(dt,this));break;default:this.triggerEvent(dt)}dt==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(dt,this.currentFrame,this.totalFrames,this.frameMult)),dt==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(dt,this.loop,this.playCount,this.frameMult)),dt==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(dt,this.frameMult)),dt==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(dt,this.firstFrame,this.totalFrames)),dt==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(dt,this))},AnimationItem.prototype.triggerRenderFrameError=function(dt){var lt=new BMRenderFrameErrorEvent(dt,this.currentFrame);this.triggerEvent("error",lt),this.onError&&this.onError.call(this,lt)},AnimationItem.prototype.triggerConfigError=function(dt){var lt=new BMConfigErrorEvent(dt,this.currentFrame);this.triggerEvent("error",lt),this.onError&&this.onError.call(this,lt)};var animationManager=function(){var dt={},lt=[],ft=0,vt=0,St=0,Et=!0,At=!1;function Ct(yn){for(var Rn=0,hn=yn.target;Rn<vt;)lt[Rn].animation===hn&&(lt.splice(Rn,1),Rn-=1,vt-=1,hn.isPaused||Ft()),Rn+=1}function Tt(yn,Rn){if(!yn)return null;for(var hn=0;hn<vt;){if(lt[hn].elem===yn&&lt[hn].elem!==null)return lt[hn].animation;hn+=1}var mn=new AnimationItem;return Dt(mn,yn),mn.setData(yn,Rn),mn}function Rt(){var yn,Rn=lt.length,hn=[];for(yn=0;yn<Rn;yn+=1)hn.push(lt[yn].animation);return hn}function Bt(){St+=1,xn()}function Ft(){St-=1}function Dt(yn,Rn){yn.addEventListener("destroy",Ct),yn.addEventListener("_active",Bt),yn.addEventListener("_idle",Ft),lt.push({elem:Rn,animation:yn}),vt+=1}function kt(yn){var Rn=new AnimationItem;return Dt(Rn,null),Rn.setParams(yn),Rn}function zt(yn,Rn){var hn;for(hn=0;hn<vt;hn+=1)lt[hn].animation.setSpeed(yn,Rn)}function Ht(yn,Rn){var hn;for(hn=0;hn<vt;hn+=1)lt[hn].animation.setDirection(yn,Rn)}function en(yn){var Rn;for(Rn=0;Rn<vt;Rn+=1)lt[Rn].animation.play(yn)}function Kt(yn){var Rn=yn-ft,hn;for(hn=0;hn<vt;hn+=1)lt[hn].animation.advanceTime(Rn);ft=yn,St&&!At?window.requestAnimationFrame(Kt):Et=!0}function Zt(yn){ft=yn,window.requestAnimationFrame(Kt)}function Wt(yn){var Rn;for(Rn=0;Rn<vt;Rn+=1)lt[Rn].animation.pause(yn)}function tn(yn,Rn,hn){var mn;for(mn=0;mn<vt;mn+=1)lt[mn].animation.goToAndStop(yn,Rn,hn)}function an(yn){var Rn;for(Rn=0;Rn<vt;Rn+=1)lt[Rn].animation.stop(yn)}function ln(yn){var Rn;for(Rn=0;Rn<vt;Rn+=1)lt[Rn].animation.togglePause(yn)}function fn(yn){var Rn;for(Rn=vt-1;Rn>=0;Rn-=1)lt[Rn].animation.destroy(yn)}function un(yn,Rn,hn){var mn=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),bn,Mn=mn.length;for(bn=0;bn<Mn;bn+=1)hn&&mn[bn].setAttribute("data-bm-type",hn),Tt(mn[bn],yn);if(Rn&&Mn===0){hn||(hn="svg");var Tn=document.getElementsByTagName("body")[0];Tn.innerText="";var In=createTag("div");In.style.width="100%",In.style.height="100%",In.setAttribute("data-bm-type",hn),Tn.appendChild(In),Tt(In,yn)}}function pn(){var yn;for(yn=0;yn<vt;yn+=1)lt[yn].animation.resize()}function xn(){!At&&St&&Et&&(window.requestAnimationFrame(Zt),Et=!1)}function An(){At=!0}function gn(){At=!1,xn()}function Ln(yn,Rn){var hn;for(hn=0;hn<vt;hn+=1)lt[hn].animation.setVolume(yn,Rn)}function Cn(yn){var Rn;for(Rn=0;Rn<vt;Rn+=1)lt[Rn].animation.mute(yn)}function En(yn){var Rn;for(Rn=0;Rn<vt;Rn+=1)lt[Rn].animation.unmute(yn)}return dt.registerAnimation=Tt,dt.loadAnimation=kt,dt.setSpeed=zt,dt.setDirection=Ht,dt.play=en,dt.pause=Wt,dt.stop=an,dt.togglePause=ln,dt.searchAnimations=un,dt.resize=pn,dt.goToAndStop=tn,dt.destroy=fn,dt.freeze=An,dt.unfreeze=gn,dt.setVolume=Ln,dt.mute=Cn,dt.unmute=En,dt.getRegisteredAnimations=Rt,dt}(),BezierFactory=function(){var dt={};dt.getBezierEasing=ft;var lt={};function ft(Zt,Wt,tn,an,ln){var fn=ln||("bez_"+Zt+"_"+Wt+"_"+tn+"_"+an).replace(/\./g,"p");if(lt[fn])return lt[fn];var un=new Kt([Zt,Wt,tn,an]);return lt[fn]=un,un}var vt=4,St=.001,Et=1e-7,At=10,Ct=11,Tt=1/(Ct-1),Rt=typeof Float32Array=="function";function Bt(Zt,Wt){return 1-3*Wt+3*Zt}function Ft(Zt,Wt){return 3*Wt-6*Zt}function Dt(Zt){return 3*Zt}function kt(Zt,Wt,tn){return((Bt(Wt,tn)*Zt+Ft(Wt,tn))*Zt+Dt(Wt))*Zt}function zt(Zt,Wt,tn){return 3*Bt(Wt,tn)*Zt*Zt+2*Ft(Wt,tn)*Zt+Dt(Wt)}function Ht(Zt,Wt,tn,an,ln){var fn,un,pn=0;do un=Wt+(tn-Wt)/2,fn=kt(un,an,ln)-Zt,fn>0?tn=un:Wt=un;while(Math.abs(fn)>Et&&++pn<At);return un}function en(Zt,Wt,tn,an){for(var ln=0;ln<vt;++ln){var fn=zt(Wt,tn,an);if(fn===0)return Wt;var un=kt(Wt,tn,an)-Zt;Wt-=un/fn}return Wt}function Kt(Zt){this._p=Zt,this._mSampleValues=Rt?new Float32Array(Ct):new Array(Ct),this._precomputed=!1,this.get=this.get.bind(this)}return Kt.prototype={get:function(Wt){var tn=this._p[0],an=this._p[1],ln=this._p[2],fn=this._p[3];return this._precomputed||this._precompute(),tn===an&&ln===fn?Wt:Wt===0?0:Wt===1?1:kt(this._getTForX(Wt),an,fn)},_precompute:function(){var Wt=this._p[0],tn=this._p[1],an=this._p[2],ln=this._p[3];this._precomputed=!0,(Wt!==tn||an!==ln)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Wt=this._p[0],tn=this._p[2],an=0;an<Ct;++an)this._mSampleValues[an]=kt(an*Tt,Wt,tn)},_getTForX:function(Wt){for(var tn=this._p[0],an=this._p[2],ln=this._mSampleValues,fn=0,un=1,pn=Ct-1;un!==pn&&ln[un]<=Wt;++un)fn+=Tt;--un;var xn=(Wt-ln[un])/(ln[un+1]-ln[un]),An=fn+xn*Tt,gn=zt(An,tn,an);return gn>=St?en(Wt,An,tn,an):gn===0?An:Ht(Wt,fn,fn+Tt,tn,an)}},dt}(),pooling=function(){function dt(lt){return lt.concat(createSizedArray(lt.length))}return{double:dt}}(),poolFactory=function(){return function(dt,lt,ft){var vt=0,St=dt,Et=createSizedArray(St),At={newElement:Ct,release:Tt};function Ct(){var Rt;return vt?(vt-=1,Rt=Et[vt]):Rt=lt(),Rt}function Tt(Rt){vt===St&&(Et=pooling.double(Et),St*=2),ft&&ft(Rt),Et[vt]=Rt,vt+=1}return At}}(),bezierLengthPool=function(){function dt(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,dt)}(),segmentsLengthPool=function(){function dt(){return{lengths:[],totalLength:0}}function lt(ft){var vt,St=ft.lengths.length;for(vt=0;vt<St;vt+=1)bezierLengthPool.release(ft.lengths[vt]);ft.lengths.length=0}return poolFactory(8,dt,lt)}();function bezFunction(){var dt=Math;function lt(Dt,kt,zt,Ht,en,Kt){var Zt=Dt*Ht+kt*en+zt*Kt-en*Ht-Kt*Dt-zt*kt;return Zt>-.001&&Zt<.001}function ft(Dt,kt,zt,Ht,en,Kt,Zt,Wt,tn){if(zt===0&&Kt===0&&tn===0)return lt(Dt,kt,Ht,en,Zt,Wt);var an=dt.sqrt(dt.pow(Ht-Dt,2)+dt.pow(en-kt,2)+dt.pow(Kt-zt,2)),ln=dt.sqrt(dt.pow(Zt-Dt,2)+dt.pow(Wt-kt,2)+dt.pow(tn-zt,2)),fn=dt.sqrt(dt.pow(Zt-Ht,2)+dt.pow(Wt-en,2)+dt.pow(tn-Kt,2)),un;return an>ln?an>fn?un=an-ln-fn:un=fn-ln-an:fn>ln?un=fn-ln-an:un=ln-an-fn,un>-1e-4&&un<1e-4}var vt=function(){return function(Dt,kt,zt,Ht){var en=getDefaultCurveSegments(),Kt,Zt,Wt,tn,an,ln=0,fn,un=[],pn=[],xn=bezierLengthPool.newElement();for(Wt=zt.length,Kt=0;Kt<en;Kt+=1){for(an=Kt/(en-1),fn=0,Zt=0;Zt<Wt;Zt+=1)tn=bmPow(1-an,3)*Dt[Zt]+3*bmPow(1-an,2)*an*zt[Zt]+3*(1-an)*bmPow(an,2)*Ht[Zt]+bmPow(an,3)*kt[Zt],un[Zt]=tn,pn[Zt]!==null&&(fn+=bmPow(un[Zt]-pn[Zt],2)),pn[Zt]=un[Zt];fn&&(fn=bmSqrt(fn),ln+=fn),xn.percents[Kt]=an,xn.lengths[Kt]=ln}return xn.addedLength=ln,xn}}();function St(Dt){var kt=segmentsLengthPool.newElement(),zt=Dt.c,Ht=Dt.v,en=Dt.o,Kt=Dt.i,Zt,Wt=Dt._length,tn=kt.lengths,an=0;for(Zt=0;Zt<Wt-1;Zt+=1)tn[Zt]=vt(Ht[Zt],Ht[Zt+1],en[Zt],Kt[Zt+1]),an+=tn[Zt].addedLength;return zt&&Wt&&(tn[Zt]=vt(Ht[Zt],Ht[0],en[Zt],Kt[0]),an+=tn[Zt].addedLength),kt.totalLength=an,kt}function Et(Dt){this.segmentLength=0,this.points=new Array(Dt)}function At(Dt,kt){this.partialLength=Dt,this.point=kt}var Ct=function(){var Dt={};return function(kt,zt,Ht,en){var Kt=(kt[0]+"_"+kt[1]+"_"+zt[0]+"_"+zt[1]+"_"+Ht[0]+"_"+Ht[1]+"_"+en[0]+"_"+en[1]).replace(/\./g,"p");if(!Dt[Kt]){var Zt=getDefaultCurveSegments(),Wt,tn,an,ln,fn,un=0,pn,xn,An=null;kt.length===2&&(kt[0]!==zt[0]||kt[1]!==zt[1])&&lt(kt[0],kt[1],zt[0],zt[1],kt[0]+Ht[0],kt[1]+Ht[1])&&lt(kt[0],kt[1],zt[0],zt[1],zt[0]+en[0],zt[1]+en[1])&&(Zt=2);var gn=new Et(Zt);for(an=Ht.length,Wt=0;Wt<Zt;Wt+=1){for(xn=createSizedArray(an),fn=Wt/(Zt-1),pn=0,tn=0;tn<an;tn+=1)ln=bmPow(1-fn,3)*kt[tn]+3*bmPow(1-fn,2)*fn*(kt[tn]+Ht[tn])+3*(1-fn)*bmPow(fn,2)*(zt[tn]+en[tn])+bmPow(fn,3)*zt[tn],xn[tn]=ln,An!==null&&(pn+=bmPow(xn[tn]-An[tn],2));pn=bmSqrt(pn),un+=pn,gn.points[Wt]=new At(pn,xn),An=xn}gn.segmentLength=un,Dt[Kt]=gn}return Dt[Kt]}}();function Tt(Dt,kt){var zt=kt.percents,Ht=kt.lengths,en=zt.length,Kt=bmFloor((en-1)*Dt),Zt=Dt*kt.addedLength,Wt=0;if(Kt===en-1||Kt===0||Zt===Ht[Kt])return zt[Kt];for(var tn=Ht[Kt]>Zt?-1:1,an=!0;an;)if(Ht[Kt]<=Zt&&Ht[Kt+1]>Zt?(Wt=(Zt-Ht[Kt])/(Ht[Kt+1]-Ht[Kt]),an=!1):Kt+=tn,Kt<0||Kt>=en-1){if(Kt===en-1)return zt[Kt];an=!1}return zt[Kt]+(zt[Kt+1]-zt[Kt])*Wt}function Rt(Dt,kt,zt,Ht,en,Kt){var Zt=Tt(en,Kt),Wt=1-Zt,tn=dt.round((Wt*Wt*Wt*Dt[0]+(Zt*Wt*Wt+Wt*Zt*Wt+Wt*Wt*Zt)*zt[0]+(Zt*Zt*Wt+Wt*Zt*Zt+Zt*Wt*Zt)*Ht[0]+Zt*Zt*Zt*kt[0])*1e3)/1e3,an=dt.round((Wt*Wt*Wt*Dt[1]+(Zt*Wt*Wt+Wt*Zt*Wt+Wt*Wt*Zt)*zt[1]+(Zt*Zt*Wt+Wt*Zt*Zt+Zt*Wt*Zt)*Ht[1]+Zt*Zt*Zt*kt[1])*1e3)/1e3;return[tn,an]}var Bt=createTypedArray("float32",8);function Ft(Dt,kt,zt,Ht,en,Kt,Zt){en<0?en=0:en>1&&(en=1);var Wt=Tt(en,Zt);Kt=Kt>1?1:Kt;var tn=Tt(Kt,Zt),an,ln=Dt.length,fn=1-Wt,un=1-tn,pn=fn*fn*fn,xn=Wt*fn*fn*3,An=Wt*Wt*fn*3,gn=Wt*Wt*Wt,Ln=fn*fn*un,Cn=Wt*fn*un+fn*Wt*un+fn*fn*tn,En=Wt*Wt*un+fn*Wt*tn+Wt*fn*tn,yn=Wt*Wt*tn,Rn=fn*un*un,hn=Wt*un*un+fn*tn*un+fn*un*tn,mn=Wt*tn*un+fn*tn*tn+Wt*un*tn,bn=Wt*tn*tn,Mn=un*un*un,Tn=tn*un*un+un*tn*un+un*un*tn,In=tn*tn*un+un*tn*tn+tn*un*tn,Nn=tn*tn*tn;for(an=0;an<ln;an+=1)Bt[an*4]=dt.round((pn*Dt[an]+xn*zt[an]+An*Ht[an]+gn*kt[an])*1e3)/1e3,Bt[an*4+1]=dt.round((Ln*Dt[an]+Cn*zt[an]+En*Ht[an]+yn*kt[an])*1e3)/1e3,Bt[an*4+2]=dt.round((Rn*Dt[an]+hn*zt[an]+mn*Ht[an]+bn*kt[an])*1e3)/1e3,Bt[an*4+3]=dt.round((Mn*Dt[an]+Tn*zt[an]+In*Ht[an]+Nn*kt[an])*1e3)/1e3;return Bt}return{getSegmentsLength:St,getNewSegment:Ft,getPointInSegment:Rt,buildBezierData:Ct,pointOnLine2D:lt,pointOnLine3D:ft}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(dt,lt){var ft=this.offsetTime,vt;this.propType==="multidimensional"&&(vt=createTypedArray("float32",this.pv.length));for(var St=lt.lastIndex,Et=St,At=this.keyframes.length-1,Ct=!0,Tt,Rt,Bt;Ct;){if(Tt=this.keyframes[Et],Rt=this.keyframes[Et+1],Et===At-1&&dt>=Rt.t-ft){Tt.h&&(Tt=Rt),St=0;break}if(Rt.t-ft>dt){St=Et;break}Et<At-1?Et+=1:(St=0,Ct=!1)}Bt=this.keyframesMetadata[Et]||{};var Ft,Dt,kt,zt,Ht,en,Kt=Rt.t-ft,Zt=Tt.t-ft,Wt;if(Tt.to){Bt.bezierData||(Bt.bezierData=bez.buildBezierData(Tt.s,Rt.s||Tt.e,Tt.to,Tt.ti));var tn=Bt.bezierData;if(dt>=Kt||dt<Zt){var an=dt>=Kt?tn.points.length-1:0;for(Dt=tn.points[an].point.length,Ft=0;Ft<Dt;Ft+=1)vt[Ft]=tn.points[an].point[Ft]}else{Bt.__fnct?en=Bt.__fnct:(en=BezierFactory.getBezierEasing(Tt.o.x,Tt.o.y,Tt.i.x,Tt.i.y,Tt.n).get,Bt.__fnct=en),kt=en((dt-Zt)/(Kt-Zt));var ln=tn.segmentLength*kt,fn,un=lt.lastFrame<dt&&lt._lastKeyframeIndex===Et?lt._lastAddedLength:0;for(Ht=lt.lastFrame<dt&&lt._lastKeyframeIndex===Et?lt._lastPoint:0,Ct=!0,zt=tn.points.length;Ct;){if(un+=tn.points[Ht].partialLength,ln===0||kt===0||Ht===tn.points.length-1){for(Dt=tn.points[Ht].point.length,Ft=0;Ft<Dt;Ft+=1)vt[Ft]=tn.points[Ht].point[Ft];break}else if(ln>=un&&ln<un+tn.points[Ht+1].partialLength){for(fn=(ln-un)/tn.points[Ht+1].partialLength,Dt=tn.points[Ht].point.length,Ft=0;Ft<Dt;Ft+=1)vt[Ft]=tn.points[Ht].point[Ft]+(tn.points[Ht+1].point[Ft]-tn.points[Ht].point[Ft])*fn;break}Ht<zt-1?Ht+=1:Ct=!1}lt._lastPoint=Ht,lt._lastAddedLength=un-tn.points[Ht].partialLength,lt._lastKeyframeIndex=Et}}else{var pn,xn,An,gn,Ln;if(At=Tt.s.length,Wt=Rt.s||Tt.e,this.sh&&Tt.h!==1)if(dt>=Kt)vt[0]=Wt[0],vt[1]=Wt[1],vt[2]=Wt[2];else if(dt<=Zt)vt[0]=Tt.s[0],vt[1]=Tt.s[1],vt[2]=Tt.s[2];else{var Cn=createQuaternion(Tt.s),En=createQuaternion(Wt),yn=(dt-Zt)/(Kt-Zt);quaternionToEuler(vt,slerp(Cn,En,yn))}else for(Et=0;Et<At;Et+=1)Tt.h!==1&&(dt>=Kt?kt=1:dt<Zt?kt=0:(Tt.o.x.constructor===Array?(Bt.__fnct||(Bt.__fnct=[]),Bt.__fnct[Et]?en=Bt.__fnct[Et]:(pn=Tt.o.x[Et]===void 0?Tt.o.x[0]:Tt.o.x[Et],xn=Tt.o.y[Et]===void 0?Tt.o.y[0]:Tt.o.y[Et],An=Tt.i.x[Et]===void 0?Tt.i.x[0]:Tt.i.x[Et],gn=Tt.i.y[Et]===void 0?Tt.i.y[0]:Tt.i.y[Et],en=BezierFactory.getBezierEasing(pn,xn,An,gn).get,Bt.__fnct[Et]=en)):Bt.__fnct?en=Bt.__fnct:(pn=Tt.o.x,xn=Tt.o.y,An=Tt.i.x,gn=Tt.i.y,en=BezierFactory.getBezierEasing(pn,xn,An,gn).get,Tt.keyframeMetadata=en),kt=en((dt-Zt)/(Kt-Zt)))),Wt=Rt.s||Tt.e,Ln=Tt.h===1?Tt.s[Et]:Tt.s[Et]+(Wt[Et]-Tt.s[Et])*kt,this.propType==="multidimensional"?vt[Et]=Ln:vt=Ln}return lt.lastIndex=St,vt}function slerp(dt,lt,ft){var vt=[],St=dt[0],Et=dt[1],At=dt[2],Ct=dt[3],Tt=lt[0],Rt=lt[1],Bt=lt[2],Ft=lt[3],Dt,kt,zt,Ht,en;return kt=St*Tt+Et*Rt+At*Bt+Ct*Ft,kt<0&&(kt=-kt,Tt=-Tt,Rt=-Rt,Bt=-Bt,Ft=-Ft),1-kt>1e-6?(Dt=Math.acos(kt),zt=Math.sin(Dt),Ht=Math.sin((1-ft)*Dt)/zt,en=Math.sin(ft*Dt)/zt):(Ht=1-ft,en=ft),vt[0]=Ht*St+en*Tt,vt[1]=Ht*Et+en*Rt,vt[2]=Ht*At+en*Bt,vt[3]=Ht*Ct+en*Ft,vt}function quaternionToEuler(dt,lt){var ft=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=Math.atan2(2*vt*Et-2*ft*St,1-2*vt*vt-2*St*St),Ct=Math.asin(2*ft*vt+2*St*Et),Tt=Math.atan2(2*ft*Et-2*vt*St,1-2*ft*ft-2*St*St);dt[0]=At/degToRads,dt[1]=Ct/degToRads,dt[2]=Tt/degToRads}function createQuaternion(dt){var lt=dt[0]*degToRads,ft=dt[1]*degToRads,vt=dt[2]*degToRads,St=Math.cos(lt/2),Et=Math.cos(ft/2),At=Math.cos(vt/2),Ct=Math.sin(lt/2),Tt=Math.sin(ft/2),Rt=Math.sin(vt/2),Bt=St*Et*At-Ct*Tt*Rt,Ft=Ct*Tt*At+St*Et*Rt,Dt=Ct*Et*At+St*Tt*Rt,kt=St*Tt*At-Ct*Et*Rt;return[Ft,Dt,kt,Bt]}function getValueAtCurrentTime(){var dt=this.comp.renderedFrame-this.offsetTime,lt=this.keyframes[0].t-this.offsetTime,ft=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(dt===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=ft&&dt>=ft||this._caching.lastFrame<lt&&dt<lt))){this._caching.lastFrame>=dt&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var vt=this.interpolateValue(dt,this._caching);this.pv=vt}return this._caching.lastFrame=dt,this.pv}function setVValue(dt){var lt;if(this.propType==="unidimensional")lt=dt*this.mult,mathAbs(this.v-lt)>1e-5&&(this.v=lt,this._mdf=!0);else for(var ft=0,vt=this.v.length;ft<vt;)lt=dt[ft]*this.mult,mathAbs(this.v[ft]-lt)>1e-5&&(this.v[ft]=lt,this._mdf=!0),ft+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var dt,lt=this.effectsSequence.length,ft=this.kf?this.pv:this.data.k;for(dt=0;dt<lt;dt+=1)ft=this.effectsSequence[dt](ft);this.setVValue(ft),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(dt){this.effectsSequence.push(dt),this.container.addDynamicProperty(this)}function ValueProperty(dt,lt,ft,vt){this.propType="unidimensional",this.mult=ft||1,this.data=lt,this.v=ft?lt.k*ft:lt.k,this.pv=lt.k,this._mdf=!1,this.elem=dt,this.container=vt,this.comp=dt.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(dt,lt,ft,vt){this.propType="multidimensional",this.mult=ft||1,this.data=lt,this._mdf=!1,this.elem=dt,this.container=vt,this.comp=dt.comp,this.k=!1,this.kf=!1,this.frameId=-1;var St,Et=lt.k.length;for(this.v=createTypedArray("float32",Et),this.pv=createTypedArray("float32",Et),this.vel=createTypedArray("float32",Et),St=0;St<Et;St+=1)this.v[St]=lt.k[St]*this.mult,this.pv[St]=lt.k[St];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(dt,lt,ft,vt){this.propType="unidimensional",this.keyframes=lt.k,this.keyframesMetadata=[],this.offsetTime=dt.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=lt,this.mult=ft||1,this.elem=dt,this.container=vt,this.comp=dt.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(dt,lt,ft,vt){this.propType="multidimensional";var St,Et=lt.k.length,At,Ct,Tt,Rt;for(St=0;St<Et-1;St+=1)lt.k[St].to&&lt.k[St].s&&lt.k[St+1]&&lt.k[St+1].s&&(At=lt.k[St].s,Ct=lt.k[St+1].s,Tt=lt.k[St].to,Rt=lt.k[St].ti,(At.length===2&&!(At[0]===Ct[0]&&At[1]===Ct[1])&&bez.pointOnLine2D(At[0],At[1],Ct[0],Ct[1],At[0]+Tt[0],At[1]+Tt[1])&&bez.pointOnLine2D(At[0],At[1],Ct[0],Ct[1],Ct[0]+Rt[0],Ct[1]+Rt[1])||At.length===3&&!(At[0]===Ct[0]&&At[1]===Ct[1]&&At[2]===Ct[2])&&bez.pointOnLine3D(At[0],At[1],At[2],Ct[0],Ct[1],Ct[2],At[0]+Tt[0],At[1]+Tt[1],At[2]+Tt[2])&&bez.pointOnLine3D(At[0],At[1],At[2],Ct[0],Ct[1],Ct[2],Ct[0]+Rt[0],Ct[1]+Rt[1],Ct[2]+Rt[2]))&&(lt.k[St].to=null,lt.k[St].ti=null),At[0]===Ct[0]&&At[1]===Ct[1]&&Tt[0]===0&&Tt[1]===0&&Rt[0]===0&&Rt[1]===0&&(At.length===2||At[2]===Ct[2]&&Tt[2]===0&&Rt[2]===0)&&(lt.k[St].to=null,lt.k[St].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=lt,this.keyframes=lt.k,this.keyframesMetadata=[],this.offsetTime=dt.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=ft||1,this.elem=dt,this.container=vt,this.comp=dt.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Bt=lt.k[0].s.length;for(this.v=createTypedArray("float32",Bt),this.pv=createTypedArray("float32",Bt),St=0;St<Bt;St+=1)this.v[St]=initFrame,this.pv[St]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Bt)},this.addEffect=addEffect}var PropertyFactory=function(){function dt(ft,vt,St,Et,At){vt.sid&&(vt=ft.globalData.slotManager.getProp(vt));var Ct;if(!vt.k.length)Ct=new ValueProperty(ft,vt,Et,At);else if(typeof vt.k[0]=="number")Ct=new MultiDimensionalProperty(ft,vt,Et,At);else switch(St){case 0:Ct=new KeyframedValueProperty(ft,vt,Et,At);break;case 1:Ct=new KeyframedMultidimensionalProperty(ft,vt,Et,At);break}return Ct.effectsSequence.length&&At.addDynamicProperty(Ct),Ct}var lt={getProp:dt};return lt}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(lt){this.dynamicProperties.indexOf(lt)===-1&&(this.dynamicProperties.push(lt),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var lt,ft=this.dynamicProperties.length;for(lt=0;lt<ft;lt+=1)this.dynamicProperties[lt].getValue(),this.dynamicProperties[lt]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(lt){this.container=lt,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function dt(){return createTypedArray("float32",2)}return poolFactory(8,dt)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(dt,lt){this.c=dt,this.setLength(lt);for(var ft=0;ft<lt;)this.v[ft]=pointPool.newElement(),this.o[ft]=pointPool.newElement(),this.i[ft]=pointPool.newElement(),ft+=1},ShapePath.prototype.setLength=function(dt){for(;this._maxLength<dt;)this.doubleArrayLength();this._length=dt},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(dt,lt,ft,vt,St){var Et;switch(this._length=Math.max(this._length,vt+1),this._length>=this._maxLength&&this.doubleArrayLength(),ft){case"v":Et=this.v;break;case"i":Et=this.i;break;case"o":Et=this.o;break;default:Et=[];break}(!Et[vt]||Et[vt]&&!St)&&(Et[vt]=pointPool.newElement()),Et[vt][0]=dt,Et[vt][1]=lt},ShapePath.prototype.setTripleAt=function(dt,lt,ft,vt,St,Et,At,Ct){this.setXYAt(dt,lt,"v",At,Ct),this.setXYAt(ft,vt,"o",At,Ct),this.setXYAt(St,Et,"i",At,Ct)},ShapePath.prototype.reverse=function(){var dt=new ShapePath;dt.setPathData(this.c,this._length);var lt=this.v,ft=this.o,vt=this.i,St=0;this.c&&(dt.setTripleAt(lt[0][0],lt[0][1],vt[0][0],vt[0][1],ft[0][0],ft[0][1],0,!1),St=1);var Et=this._length-1,At=this._length,Ct;for(Ct=St;Ct<At;Ct+=1)dt.setTripleAt(lt[Et][0],lt[Et][1],vt[Et][0],vt[Et][1],ft[Et][0],ft[Et][1],Ct,!1),Et-=1;return dt},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function dt(){return new ShapePath}function lt(St){var Et=St._length,At;for(At=0;At<Et;At+=1)pointPool.release(St.v[At]),pointPool.release(St.i[At]),pointPool.release(St.o[At]),St.v[At]=null,St.i[At]=null,St.o[At]=null;St._length=0,St.c=!1}function ft(St){var Et=vt.newElement(),At,Ct=St._length===void 0?St.v.length:St._length;for(Et.setLength(Ct),Et.c=St.c,At=0;At<Ct;At+=1)Et.setTripleAt(St.v[At][0],St.v[At][1],St.o[At][0],St.o[At][1],St.i[At][0],St.i[At][1],At);return Et}var vt=poolFactory(4,dt,lt);return vt.clone=ft,vt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(dt){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=dt,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var dt;for(dt=0;dt<this._length;dt+=1)shapePool.release(this.shapes[dt]);this._length=0};var shapeCollectionPool=function(){var dt={newShapeCollection:St,release:Et},lt=0,ft=4,vt=createSizedArray(ft);function St(){var At;return lt?(lt-=1,At=vt[lt]):At=new ShapeCollection,At}function Et(At){var Ct,Tt=At._length;for(Ct=0;Ct<Tt;Ct+=1)shapePool.release(At.shapes[Ct]);At._length=0,lt===ft&&(vt=pooling.double(vt),ft*=2),vt[lt]=At,lt+=1}return dt}(),ShapePropertyFactory=function(){var dt=-999999;function lt(Kt,Zt,Wt){var tn=Wt.lastIndex,an,ln,fn,un,pn,xn,An,gn,Ln,Cn=this.keyframes;if(Kt<Cn[0].t-this.offsetTime)an=Cn[0].s[0],fn=!0,tn=0;else if(Kt>=Cn[Cn.length-1].t-this.offsetTime)an=Cn[Cn.length-1].s?Cn[Cn.length-1].s[0]:Cn[Cn.length-2].e[0],fn=!0;else{for(var En=tn,yn=Cn.length-1,Rn=!0,hn,mn,bn;Rn&&(hn=Cn[En],mn=Cn[En+1],!(mn.t-this.offsetTime>Kt));)En<yn-1?En+=1:Rn=!1;if(bn=this.keyframesMetadata[En]||{},fn=hn.h===1,tn=En,!fn){if(Kt>=mn.t-this.offsetTime)gn=1;else if(Kt<hn.t-this.offsetTime)gn=0;else{var Mn;bn.__fnct?Mn=bn.__fnct:(Mn=BezierFactory.getBezierEasing(hn.o.x,hn.o.y,hn.i.x,hn.i.y).get,bn.__fnct=Mn),gn=Mn((Kt-(hn.t-this.offsetTime))/(mn.t-this.offsetTime-(hn.t-this.offsetTime)))}ln=mn.s?mn.s[0]:hn.e[0]}an=hn.s[0]}for(xn=Zt._length,An=an.i[0].length,Wt.lastIndex=tn,un=0;un<xn;un+=1)for(pn=0;pn<An;pn+=1)Ln=fn?an.i[un][pn]:an.i[un][pn]+(ln.i[un][pn]-an.i[un][pn])*gn,Zt.i[un][pn]=Ln,Ln=fn?an.o[un][pn]:an.o[un][pn]+(ln.o[un][pn]-an.o[un][pn])*gn,Zt.o[un][pn]=Ln,Ln=fn?an.v[un][pn]:an.v[un][pn]+(ln.v[un][pn]-an.v[un][pn])*gn,Zt.v[un][pn]=Ln}function ft(){var Kt=this.comp.renderedFrame-this.offsetTime,Zt=this.keyframes[0].t-this.offsetTime,Wt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,tn=this._caching.lastFrame;return tn!==dt&&(tn<Zt&&Kt<Zt||tn>Wt&&Kt>Wt)||(this._caching.lastIndex=tn<Kt?this._caching.lastIndex:0,this.interpolateShape(Kt,this.pv,this._caching)),this._caching.lastFrame=Kt,this.pv}function vt(){this.paths=this.localShapeCollection}function St(Kt,Zt){if(Kt._length!==Zt._length||Kt.c!==Zt.c)return!1;var Wt,tn=Kt._length;for(Wt=0;Wt<tn;Wt+=1)if(Kt.v[Wt][0]!==Zt.v[Wt][0]||Kt.v[Wt][1]!==Zt.v[Wt][1]||Kt.o[Wt][0]!==Zt.o[Wt][0]||Kt.o[Wt][1]!==Zt.o[Wt][1]||Kt.i[Wt][0]!==Zt.i[Wt][0]||Kt.i[Wt][1]!==Zt.i[Wt][1])return!1;return!0}function Et(Kt){St(this.v,Kt)||(this.v=shapePool.clone(Kt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function At(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Kt;this.kf?Kt=this.pv:this.data.ks?Kt=this.data.ks.k:Kt=this.data.pt.k;var Zt,Wt=this.effectsSequence.length;for(Zt=0;Zt<Wt;Zt+=1)Kt=this.effectsSequence[Zt](Kt);this.setVValue(Kt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ct(Kt,Zt,Wt){this.propType="shape",this.comp=Kt.comp,this.container=Kt,this.elem=Kt,this.data=Zt,this.k=!1,this.kf=!1,this._mdf=!1;var tn=Wt===3?Zt.pt.k:Zt.ks.k;this.v=shapePool.clone(tn),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=vt,this.effectsSequence=[]}function Tt(Kt){this.effectsSequence.push(Kt),this.container.addDynamicProperty(this)}Ct.prototype.interpolateShape=lt,Ct.prototype.getValue=At,Ct.prototype.setVValue=Et,Ct.prototype.addEffect=Tt;function Rt(Kt,Zt,Wt){this.propType="shape",this.comp=Kt.comp,this.elem=Kt,this.container=Kt,this.offsetTime=Kt.data.st,this.keyframes=Wt===3?Zt.pt.k:Zt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var tn=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,tn),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=dt,this.reset=vt,this._caching={lastFrame:dt,lastIndex:0},this.effectsSequence=[ft.bind(this)]}Rt.prototype.getValue=At,Rt.prototype.interpolateShape=lt,Rt.prototype.setVValue=Et,Rt.prototype.addEffect=Tt;var Bt=function(){var Kt=roundCorner;function Zt(Wt,tn){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=tn.d,this.elem=Wt,this.comp=Wt.comp,this.frameId=-1,this.initDynamicPropertyContainer(Wt),this.p=PropertyFactory.getProp(Wt,tn.p,1,0,this),this.s=PropertyFactory.getProp(Wt,tn.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Zt.prototype={reset:vt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var tn=this.p.v[0],an=this.p.v[1],ln=this.s.v[0]/2,fn=this.s.v[1]/2,un=this.d!==3,pn=this.v;pn.v[0][0]=tn,pn.v[0][1]=an-fn,pn.v[1][0]=un?tn+ln:tn-ln,pn.v[1][1]=an,pn.v[2][0]=tn,pn.v[2][1]=an+fn,pn.v[3][0]=un?tn-ln:tn+ln,pn.v[3][1]=an,pn.i[0][0]=un?tn-ln*Kt:tn+ln*Kt,pn.i[0][1]=an-fn,pn.i[1][0]=un?tn+ln:tn-ln,pn.i[1][1]=an-fn*Kt,pn.i[2][0]=un?tn+ln*Kt:tn-ln*Kt,pn.i[2][1]=an+fn,pn.i[3][0]=un?tn-ln:tn+ln,pn.i[3][1]=an+fn*Kt,pn.o[0][0]=un?tn+ln*Kt:tn-ln*Kt,pn.o[0][1]=an-fn,pn.o[1][0]=un?tn+ln:tn-ln,pn.o[1][1]=an+fn*Kt,pn.o[2][0]=un?tn-ln*Kt:tn+ln*Kt,pn.o[2][1]=an+fn,pn.o[3][0]=un?tn-ln:tn+ln,pn.o[3][1]=an-fn*Kt}},extendPrototype([DynamicPropertyContainer],Zt),Zt}(),Ft=function(){function Kt(Zt,Wt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Zt,this.comp=Zt.comp,this.data=Wt,this.frameId=-1,this.d=Wt.d,this.initDynamicPropertyContainer(Zt),Wt.sy===1?(this.ir=PropertyFactory.getProp(Zt,Wt.ir,0,0,this),this.is=PropertyFactory.getProp(Zt,Wt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Zt,Wt.pt,0,0,this),this.p=PropertyFactory.getProp(Zt,Wt.p,1,0,this),this.r=PropertyFactory.getProp(Zt,Wt.r,0,degToRads,this),this.or=PropertyFactory.getProp(Zt,Wt.or,0,0,this),this.os=PropertyFactory.getProp(Zt,Wt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Kt.prototype={reset:vt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Wt=Math.floor(this.pt.v)*2,tn=Math.PI*2/Wt,an=!0,ln=this.or.v,fn=this.ir.v,un=this.os.v,pn=this.is.v,xn=2*Math.PI*ln/(Wt*2),An=2*Math.PI*fn/(Wt*2),gn,Ln,Cn,En,yn=-Math.PI/2;yn+=this.r.v;var Rn=this.data.d===3?-1:1;for(this.v._length=0,gn=0;gn<Wt;gn+=1){Ln=an?ln:fn,Cn=an?un:pn,En=an?xn:An;var hn=Ln*Math.cos(yn),mn=Ln*Math.sin(yn),bn=hn===0&&mn===0?0:mn/Math.sqrt(hn*hn+mn*mn),Mn=hn===0&&mn===0?0:-hn/Math.sqrt(hn*hn+mn*mn);hn+=+this.p.v[0],mn+=+this.p.v[1],this.v.setTripleAt(hn,mn,hn-bn*En*Cn*Rn,mn-Mn*En*Cn*Rn,hn+bn*En*Cn*Rn,mn+Mn*En*Cn*Rn,gn,!0),an=!an,yn+=tn*Rn}},convertPolygonToPath:function(){var Wt=Math.floor(this.pt.v),tn=Math.PI*2/Wt,an=this.or.v,ln=this.os.v,fn=2*Math.PI*an/(Wt*4),un,pn=-Math.PI*.5,xn=this.data.d===3?-1:1;for(pn+=this.r.v,this.v._length=0,un=0;un<Wt;un+=1){var An=an*Math.cos(pn),gn=an*Math.sin(pn),Ln=An===0&&gn===0?0:gn/Math.sqrt(An*An+gn*gn),Cn=An===0&&gn===0?0:-An/Math.sqrt(An*An+gn*gn);An+=+this.p.v[0],gn+=+this.p.v[1],this.v.setTripleAt(An,gn,An-Ln*fn*ln*xn,gn-Cn*fn*ln*xn,An+Ln*fn*ln*xn,gn+Cn*fn*ln*xn,un,!0),pn+=tn*xn}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Kt),Kt}(),Dt=function(){function Kt(Zt,Wt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Zt,this.comp=Zt.comp,this.frameId=-1,this.d=Wt.d,this.initDynamicPropertyContainer(Zt),this.p=PropertyFactory.getProp(Zt,Wt.p,1,0,this),this.s=PropertyFactory.getProp(Zt,Wt.s,1,0,this),this.r=PropertyFactory.getProp(Zt,Wt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Kt.prototype={convertRectToPath:function(){var Wt=this.p.v[0],tn=this.p.v[1],an=this.s.v[0]/2,ln=this.s.v[1]/2,fn=bmMin(an,ln,this.r.v),un=fn*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Wt+an,tn-ln+fn,Wt+an,tn-ln+fn,Wt+an,tn-ln+un,0,!0),this.v.setTripleAt(Wt+an,tn+ln-fn,Wt+an,tn+ln-un,Wt+an,tn+ln-fn,1,!0),fn!==0?(this.v.setTripleAt(Wt+an-fn,tn+ln,Wt+an-fn,tn+ln,Wt+an-un,tn+ln,2,!0),this.v.setTripleAt(Wt-an+fn,tn+ln,Wt-an+un,tn+ln,Wt-an+fn,tn+ln,3,!0),this.v.setTripleAt(Wt-an,tn+ln-fn,Wt-an,tn+ln-fn,Wt-an,tn+ln-un,4,!0),this.v.setTripleAt(Wt-an,tn-ln+fn,Wt-an,tn-ln+un,Wt-an,tn-ln+fn,5,!0),this.v.setTripleAt(Wt-an+fn,tn-ln,Wt-an+fn,tn-ln,Wt-an+un,tn-ln,6,!0),this.v.setTripleAt(Wt+an-fn,tn-ln,Wt+an-un,tn-ln,Wt+an-fn,tn-ln,7,!0)):(this.v.setTripleAt(Wt-an,tn+ln,Wt-an+un,tn+ln,Wt-an,tn+ln,2),this.v.setTripleAt(Wt-an,tn-ln,Wt-an,tn-ln+un,Wt-an,tn-ln,3))):(this.v.setTripleAt(Wt+an,tn-ln+fn,Wt+an,tn-ln+un,Wt+an,tn-ln+fn,0,!0),fn!==0?(this.v.setTripleAt(Wt+an-fn,tn-ln,Wt+an-fn,tn-ln,Wt+an-un,tn-ln,1,!0),this.v.setTripleAt(Wt-an+fn,tn-ln,Wt-an+un,tn-ln,Wt-an+fn,tn-ln,2,!0),this.v.setTripleAt(Wt-an,tn-ln+fn,Wt-an,tn-ln+fn,Wt-an,tn-ln+un,3,!0),this.v.setTripleAt(Wt-an,tn+ln-fn,Wt-an,tn+ln-un,Wt-an,tn+ln-fn,4,!0),this.v.setTripleAt(Wt-an+fn,tn+ln,Wt-an+fn,tn+ln,Wt-an+un,tn+ln,5,!0),this.v.setTripleAt(Wt+an-fn,tn+ln,Wt+an-un,tn+ln,Wt+an-fn,tn+ln,6,!0),this.v.setTripleAt(Wt+an,tn+ln-fn,Wt+an,tn+ln-fn,Wt+an,tn+ln-un,7,!0)):(this.v.setTripleAt(Wt-an,tn-ln,Wt-an+un,tn-ln,Wt-an,tn-ln,1,!0),this.v.setTripleAt(Wt-an,tn+ln,Wt-an,tn+ln-un,Wt-an,tn+ln,2,!0),this.v.setTripleAt(Wt+an,tn+ln,Wt+an-un,tn+ln,Wt+an,tn+ln,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:vt},extendPrototype([DynamicPropertyContainer],Kt),Kt}();function kt(Kt,Zt,Wt){var tn;if(Wt===3||Wt===4){var an=Wt===3?Zt.pt:Zt.ks,ln=an.k;ln.length?tn=new Rt(Kt,Zt,Wt):tn=new Ct(Kt,Zt,Wt)}else Wt===5?tn=new Dt(Kt,Zt):Wt===6?tn=new Bt(Kt,Zt):Wt===7&&(tn=new Ft(Kt,Zt));return tn.k&&Kt.addDynamicProperty(tn),tn}function zt(){return Ct}function Ht(){return Rt}var en={};return en.getShapeProp=kt,en.getConstructorFunction=zt,en.getKeyframedConstructorFunction=Ht,en}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var dt=Math.cos,lt=Math.sin,ft=Math.tan,vt=Math.round;function St(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Et(hn){if(hn===0)return this;var mn=dt(hn),bn=lt(hn);return this._t(mn,-bn,0,0,bn,mn,0,0,0,0,1,0,0,0,0,1)}function At(hn){if(hn===0)return this;var mn=dt(hn),bn=lt(hn);return this._t(1,0,0,0,0,mn,-bn,0,0,bn,mn,0,0,0,0,1)}function Ct(hn){if(hn===0)return this;var mn=dt(hn),bn=lt(hn);return this._t(mn,0,bn,0,0,1,0,0,-bn,0,mn,0,0,0,0,1)}function Tt(hn){if(hn===0)return this;var mn=dt(hn),bn=lt(hn);return this._t(mn,-bn,0,0,bn,mn,0,0,0,0,1,0,0,0,0,1)}function Rt(hn,mn){return this._t(1,mn,hn,1,0,0)}function Bt(hn,mn){return this.shear(ft(hn),ft(mn))}function Ft(hn,mn){var bn=dt(mn),Mn=lt(mn);return this._t(bn,Mn,0,0,-Mn,bn,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,ft(hn),1,0,0,0,0,1,0,0,0,0,1)._t(bn,-Mn,0,0,Mn,bn,0,0,0,0,1,0,0,0,0,1)}function Dt(hn,mn,bn){return!bn&&bn!==0&&(bn=1),hn===1&&mn===1&&bn===1?this:this._t(hn,0,0,0,0,mn,0,0,0,0,bn,0,0,0,0,1)}function kt(hn,mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un,Xn,Vn,Wn,Dn,jn){return this.props[0]=hn,this.props[1]=mn,this.props[2]=bn,this.props[3]=Mn,this.props[4]=Tn,this.props[5]=In,this.props[6]=Nn,this.props[7]=$n,this.props[8]=Gn,this.props[9]=Zn,this.props[10]=Un,this.props[11]=Xn,this.props[12]=Vn,this.props[13]=Wn,this.props[14]=Dn,this.props[15]=jn,this}function zt(hn,mn,bn){return bn=bn||0,hn!==0||mn!==0||bn!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,hn,mn,bn,1):this}function Ht(hn,mn,bn,Mn,Tn,In,Nn,$n,Gn,Zn,Un,Xn,Vn,Wn,Dn,jn){var Qn=this.props;if(hn===1&&mn===0&&bn===0&&Mn===0&&Tn===0&&In===1&&Nn===0&&$n===0&&Gn===0&&Zn===0&&Un===1&&Xn===0)return Qn[12]=Qn[12]*hn+Qn[15]*Vn,Qn[13]=Qn[13]*In+Qn[15]*Wn,Qn[14]=Qn[14]*Un+Qn[15]*Dn,Qn[15]*=jn,this._identityCalculated=!1,this;var ir=Qn[0],hr=Qn[1],Pr=Qn[2],tr=Qn[3],xr=Qn[4],Tr=Qn[5],mr=Qn[6],On=Qn[7],Bn=Qn[8],Yn=Qn[9],ur=Qn[10],Cr=Qn[11],Ar=Qn[12],Fr=Qn[13],Br=Qn[14],pr=Qn[15];return Qn[0]=ir*hn+hr*Tn+Pr*Gn+tr*Vn,Qn[1]=ir*mn+hr*In+Pr*Zn+tr*Wn,Qn[2]=ir*bn+hr*Nn+Pr*Un+tr*Dn,Qn[3]=ir*Mn+hr*$n+Pr*Xn+tr*jn,Qn[4]=xr*hn+Tr*Tn+mr*Gn+On*Vn,Qn[5]=xr*mn+Tr*In+mr*Zn+On*Wn,Qn[6]=xr*bn+Tr*Nn+mr*Un+On*Dn,Qn[7]=xr*Mn+Tr*$n+mr*Xn+On*jn,Qn[8]=Bn*hn+Yn*Tn+ur*Gn+Cr*Vn,Qn[9]=Bn*mn+Yn*In+ur*Zn+Cr*Wn,Qn[10]=Bn*bn+Yn*Nn+ur*Un+Cr*Dn,Qn[11]=Bn*Mn+Yn*$n+ur*Xn+Cr*jn,Qn[12]=Ar*hn+Fr*Tn+Br*Gn+pr*Vn,Qn[13]=Ar*mn+Fr*In+Br*Zn+pr*Wn,Qn[14]=Ar*bn+Fr*Nn+Br*Un+pr*Dn,Qn[15]=Ar*Mn+Fr*$n+Br*Xn+pr*jn,this._identityCalculated=!1,this}function en(hn){var mn=hn.props;return this.transform(mn[0],mn[1],mn[2],mn[3],mn[4],mn[5],mn[6],mn[7],mn[8],mn[9],mn[10],mn[11],mn[12],mn[13],mn[14],mn[15])}function Kt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Zt(hn){for(var mn=0;mn<16;){if(hn.props[mn]!==this.props[mn])return!1;mn+=1}return!0}function Wt(hn){var mn;for(mn=0;mn<16;mn+=1)hn.props[mn]=this.props[mn];return hn}function tn(hn){var mn;for(mn=0;mn<16;mn+=1)this.props[mn]=hn[mn]}function an(hn,mn,bn){return{x:hn*this.props[0]+mn*this.props[4]+bn*this.props[8]+this.props[12],y:hn*this.props[1]+mn*this.props[5]+bn*this.props[9]+this.props[13],z:hn*this.props[2]+mn*this.props[6]+bn*this.props[10]+this.props[14]}}function ln(hn,mn,bn){return hn*this.props[0]+mn*this.props[4]+bn*this.props[8]+this.props[12]}function fn(hn,mn,bn){return hn*this.props[1]+mn*this.props[5]+bn*this.props[9]+this.props[13]}function un(hn,mn,bn){return hn*this.props[2]+mn*this.props[6]+bn*this.props[10]+this.props[14]}function pn(){var hn=this.props[0]*this.props[5]-this.props[1]*this.props[4],mn=this.props[5]/hn,bn=-this.props[1]/hn,Mn=-this.props[4]/hn,Tn=this.props[0]/hn,In=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/hn,Nn=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/hn,$n=new Matrix;return $n.props[0]=mn,$n.props[1]=bn,$n.props[4]=Mn,$n.props[5]=Tn,$n.props[12]=In,$n.props[13]=Nn,$n}function xn(hn){var mn=this.getInverseMatrix();return mn.applyToPointArray(hn[0],hn[1],hn[2]||0)}function An(hn){var mn,bn=hn.length,Mn=[];for(mn=0;mn<bn;mn+=1)Mn[mn]=xn(hn[mn]);return Mn}function gn(hn,mn,bn){var Mn=createTypedArray("float32",6);if(this.isIdentity())Mn[0]=hn[0],Mn[1]=hn[1],Mn[2]=mn[0],Mn[3]=mn[1],Mn[4]=bn[0],Mn[5]=bn[1];else{var Tn=this.props[0],In=this.props[1],Nn=this.props[4],$n=this.props[5],Gn=this.props[12],Zn=this.props[13];Mn[0]=hn[0]*Tn+hn[1]*Nn+Gn,Mn[1]=hn[0]*In+hn[1]*$n+Zn,Mn[2]=mn[0]*Tn+mn[1]*Nn+Gn,Mn[3]=mn[0]*In+mn[1]*$n+Zn,Mn[4]=bn[0]*Tn+bn[1]*Nn+Gn,Mn[5]=bn[0]*In+bn[1]*$n+Zn}return Mn}function Ln(hn,mn,bn){var Mn;return this.isIdentity()?Mn=[hn,mn,bn]:Mn=[hn*this.props[0]+mn*this.props[4]+bn*this.props[8]+this.props[12],hn*this.props[1]+mn*this.props[5]+bn*this.props[9]+this.props[13],hn*this.props[2]+mn*this.props[6]+bn*this.props[10]+this.props[14]],Mn}function Cn(hn,mn){if(this.isIdentity())return hn+","+mn;var bn=this.props;return Math.round((hn*bn[0]+mn*bn[4]+bn[12])*100)/100+","+Math.round((hn*bn[1]+mn*bn[5]+bn[13])*100)/100}function En(){for(var hn=0,mn=this.props,bn="matrix3d(",Mn=1e4;hn<16;)bn+=vt(mn[hn]*Mn)/Mn,bn+=hn===15?")":",",hn+=1;return bn}function yn(hn){var mn=1e4;return hn<1e-6&&hn>0||hn>-1e-6&&hn<0?vt(hn*mn)/mn:hn}function Rn(){var hn=this.props,mn=yn(hn[0]),bn=yn(hn[1]),Mn=yn(hn[4]),Tn=yn(hn[5]),In=yn(hn[12]),Nn=yn(hn[13]);return"matrix("+mn+","+bn+","+Mn+","+Tn+","+In+","+Nn+")"}return function(){this.reset=St,this.rotate=Et,this.rotateX=At,this.rotateY=Ct,this.rotateZ=Tt,this.skew=Bt,this.skewFromAxis=Ft,this.shear=Rt,this.scale=Dt,this.setTransform=kt,this.translate=zt,this.transform=Ht,this.multiply=en,this.applyToPoint=an,this.applyToX=ln,this.applyToY=fn,this.applyToZ=un,this.applyToPointArray=Ln,this.applyToTriplePoints=gn,this.applyToPointStringified=Cn,this.toCSS=En,this.to2dCSS=Rn,this.clone=Wt,this.cloneFromProps=tn,this.equals=Zt,this.inversePoints=An,this.inversePoint=xn,this.getInverseMatrix=pn,this._t=this.transform,this.isIdentity=Kt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(ft){return typeof ft}:_typeof$3=function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$3(dt)}var lottie={};function setLocation(dt){setLocationHref(dt)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(dt){setSubframeEnabled(dt)}function setPrefix(dt){setIdPrefix(dt)}function loadAnimation(dt){return animationManager.loadAnimation(dt)}function setQuality(dt){if(typeof dt=="string")switch(dt){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(dt)&&dt>1&&setDefaultCurveSegments(dt)}function inBrowser(){return typeof navigator<"u"}function installPlugin(dt,lt){dt==="expressions"&&setExpressionsPlugin(lt)}function getFactory(dt){switch(dt){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(dt){for(var lt=queryString.split("&"),ft=0;ft<lt.length;ft+=1){var vt=lt[ft].split("=");if(decodeURIComponent(vt[0])==dt)return decodeURIComponent(vt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(dt){}var ShapeModifiers=function(){var dt={},lt={};dt.registerModifier=ft,dt.getModifier=vt;function ft(St,Et){lt[St]||(lt[St]=Et)}function vt(St,Et,At){return new lt[St](Et,At)}return dt}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(dt){if(!this.closed){dt.sh.container.addDynamicProperty(dt.sh);var lt={shape:dt.sh,data:dt,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(lt),this.addShapeToModifier(lt),this._isAnimated&&dt.setAsAnimated()}},ShapeModifier.prototype.init=function(dt,lt){this.shapes=[],this.elem=dt,this.initDynamicPropertyContainer(dt),this.initModifierProperties(dt,lt),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(dt,lt){this.s=PropertyFactory.getProp(dt,lt.s,0,.01,this),this.e=PropertyFactory.getProp(dt,lt.e,0,.01,this),this.o=PropertyFactory.getProp(dt,lt.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=lt.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(dt){dt.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(dt,lt,ft,vt,St){var Et=[];lt<=1?Et.push({s:dt,e:lt}):dt>=1?Et.push({s:dt-1,e:lt-1}):(Et.push({s:dt,e:1}),Et.push({s:0,e:lt-1}));var At=[],Ct,Tt=Et.length,Rt;for(Ct=0;Ct<Tt;Ct+=1)if(Rt=Et[Ct],!(Rt.e*St<vt||Rt.s*St>vt+ft)){var Bt,Ft;Rt.s*St<=vt?Bt=0:Bt=(Rt.s*St-vt)/ft,Rt.e*St>=vt+ft?Ft=1:Ft=(Rt.e*St-vt)/ft,At.push([Bt,Ft])}return At.length||At.push([0,0]),At},TrimModifier.prototype.releasePathsData=function(dt){var lt,ft=dt.length;for(lt=0;lt<ft;lt+=1)segmentsLengthPool.release(dt[lt]);return dt.length=0,dt},TrimModifier.prototype.processShapes=function(dt){var lt,ft;if(this._mdf||dt){var vt=this.o.v%360/360;if(vt<0&&(vt+=1),this.s.v>1?lt=1+vt:this.s.v<0?lt=0+vt:lt=this.s.v+vt,this.e.v>1?ft=1+vt:this.e.v<0?ft=0+vt:ft=this.e.v+vt,lt>ft){var St=lt;lt=ft,ft=St}lt=Math.round(lt*1e4)*1e-4,ft=Math.round(ft*1e4)*1e-4,this.sValue=lt,this.eValue=ft}else lt=this.sValue,ft=this.eValue;var Et,At,Ct=this.shapes.length,Tt,Rt,Bt,Ft,Dt,kt=0;if(ft===lt)for(At=0;At<Ct;At+=1)this.shapes[At].localShapeCollection.releaseShapes(),this.shapes[At].shape._mdf=!0,this.shapes[At].shape.paths=this.shapes[At].localShapeCollection,this._mdf&&(this.shapes[At].pathsData.length=0);else if(ft===1&&lt===0||ft===0&&lt===1){if(this._mdf)for(At=0;At<Ct;At+=1)this.shapes[At].pathsData.length=0,this.shapes[At].shape._mdf=!0}else{var zt=[],Ht,en;for(At=0;At<Ct;At+=1)if(Ht=this.shapes[At],!Ht.shape._mdf&&!this._mdf&&!dt&&this.m!==2)Ht.shape.paths=Ht.localShapeCollection;else{if(Et=Ht.shape.paths,Rt=Et._length,Dt=0,!Ht.shape._mdf&&Ht.pathsData.length)Dt=Ht.totalShapeLength;else{for(Bt=this.releasePathsData(Ht.pathsData),Tt=0;Tt<Rt;Tt+=1)Ft=bez.getSegmentsLength(Et.shapes[Tt]),Bt.push(Ft),Dt+=Ft.totalLength;Ht.totalShapeLength=Dt,Ht.pathsData=Bt}kt+=Dt,Ht.shape._mdf=!0}var Kt=lt,Zt=ft,Wt=0,tn;for(At=Ct-1;At>=0;At-=1)if(Ht=this.shapes[At],Ht.shape._mdf){for(en=Ht.localShapeCollection,en.releaseShapes(),this.m===2&&Ct>1?(tn=this.calculateShapeEdges(lt,ft,Ht.totalShapeLength,Wt,kt),Wt+=Ht.totalShapeLength):tn=[[Kt,Zt]],Rt=tn.length,Tt=0;Tt<Rt;Tt+=1){Kt=tn[Tt][0],Zt=tn[Tt][1],zt.length=0,Zt<=1?zt.push({s:Ht.totalShapeLength*Kt,e:Ht.totalShapeLength*Zt}):Kt>=1?zt.push({s:Ht.totalShapeLength*(Kt-1),e:Ht.totalShapeLength*(Zt-1)}):(zt.push({s:Ht.totalShapeLength*Kt,e:Ht.totalShapeLength}),zt.push({s:0,e:Ht.totalShapeLength*(Zt-1)}));var an=this.addShapes(Ht,zt[0]);if(zt[0].s!==zt[0].e){if(zt.length>1){var ln=Ht.shape.paths.shapes[Ht.shape.paths._length-1];if(ln.c){var fn=an.pop();this.addPaths(an,en),an=this.addShapes(Ht,zt[1],fn)}else this.addPaths(an,en),an=this.addShapes(Ht,zt[1])}this.addPaths(an,en)}}Ht.shape.paths=en}}},TrimModifier.prototype.addPaths=function(dt,lt){var ft,vt=dt.length;for(ft=0;ft<vt;ft+=1)lt.addShape(dt[ft])},TrimModifier.prototype.addSegment=function(dt,lt,ft,vt,St,Et,At){St.setXYAt(lt[0],lt[1],"o",Et),St.setXYAt(ft[0],ft[1],"i",Et+1),At&&St.setXYAt(dt[0],dt[1],"v",Et),St.setXYAt(vt[0],vt[1],"v",Et+1)},TrimModifier.prototype.addSegmentFromArray=function(dt,lt,ft,vt){lt.setXYAt(dt[1],dt[5],"o",ft),lt.setXYAt(dt[2],dt[6],"i",ft+1),vt&&lt.setXYAt(dt[0],dt[4],"v",ft),lt.setXYAt(dt[3],dt[7],"v",ft+1)},TrimModifier.prototype.addShapes=function(dt,lt,ft){var vt=dt.pathsData,St=dt.shape.paths.shapes,Et,At=dt.shape.paths._length,Ct,Tt,Rt=0,Bt,Ft,Dt,kt,zt=[],Ht,en=!0;for(ft?(Ft=ft._length,Ht=ft._length):(ft=shapePool.newElement(),Ft=0,Ht=0),zt.push(ft),Et=0;Et<At;Et+=1){for(Dt=vt[Et].lengths,ft.c=St[Et].c,Tt=St[Et].c?Dt.length:Dt.length+1,Ct=1;Ct<Tt;Ct+=1)if(Bt=Dt[Ct-1],Rt+Bt.addedLength<lt.s)Rt+=Bt.addedLength,ft.c=!1;else if(Rt>lt.e){ft.c=!1;break}else lt.s<=Rt&&lt.e>=Rt+Bt.addedLength?(this.addSegment(St[Et].v[Ct-1],St[Et].o[Ct-1],St[Et].i[Ct],St[Et].v[Ct],ft,Ft,en),en=!1):(kt=bez.getNewSegment(St[Et].v[Ct-1],St[Et].v[Ct],St[Et].o[Ct-1],St[Et].i[Ct],(lt.s-Rt)/Bt.addedLength,(lt.e-Rt)/Bt.addedLength,Dt[Ct-1]),this.addSegmentFromArray(kt,ft,Ft,en),en=!1,ft.c=!1),Rt+=Bt.addedLength,Ft+=1;if(St[Et].c&&Dt.length){if(Bt=Dt[Ct-1],Rt<=lt.e){var Kt=Dt[Ct-1].addedLength;lt.s<=Rt&&lt.e>=Rt+Kt?(this.addSegment(St[Et].v[Ct-1],St[Et].o[Ct-1],St[Et].i[0],St[Et].v[0],ft,Ft,en),en=!1):(kt=bez.getNewSegment(St[Et].v[Ct-1],St[Et].v[0],St[Et].o[Ct-1],St[Et].i[0],(lt.s-Rt)/Kt,(lt.e-Rt)/Kt,Dt[Ct-1]),this.addSegmentFromArray(kt,ft,Ft,en),en=!1,ft.c=!1)}else ft.c=!1;Rt+=Bt.addedLength,Ft+=1}if(ft._length&&(ft.setXYAt(ft.v[Ht][0],ft.v[Ht][1],"i",Ht),ft.setXYAt(ft.v[ft._length-1][0],ft.v[ft._length-1][1],"o",ft._length-1)),Rt>lt.e)break;Et<At-1&&(ft=shapePool.newElement(),en=!0,zt.push(ft),Ft=0)}return zt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(dt,lt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(dt,lt.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(dt,lt){var ft=lt/100,vt=[0,0],St=dt._length,Et=0;for(Et=0;Et<St;Et+=1)vt[0]+=dt.v[Et][0],vt[1]+=dt.v[Et][1];vt[0]/=St,vt[1]/=St;var At=shapePool.newElement();At.c=dt.c;var Ct,Tt,Rt,Bt,Ft,Dt;for(Et=0;Et<St;Et+=1)Ct=dt.v[Et][0]+(vt[0]-dt.v[Et][0])*ft,Tt=dt.v[Et][1]+(vt[1]-dt.v[Et][1])*ft,Rt=dt.o[Et][0]+(vt[0]-dt.o[Et][0])*-ft,Bt=dt.o[Et][1]+(vt[1]-dt.o[Et][1])*-ft,Ft=dt.i[Et][0]+(vt[0]-dt.i[Et][0])*-ft,Dt=dt.i[Et][1]+(vt[1]-dt.i[Et][1])*-ft,At.setTripleAt(Ct,Tt,Rt,Bt,Ft,Dt,Et);return At},PuckerAndBloatModifier.prototype.processShapes=function(dt){var lt,ft,vt=this.shapes.length,St,Et,At=this.amount.v;if(At!==0){var Ct,Tt;for(ft=0;ft<vt;ft+=1){if(Ct=this.shapes[ft],Tt=Ct.localShapeCollection,!(!Ct.shape._mdf&&!this._mdf&&!dt))for(Tt.releaseShapes(),Ct.shape._mdf=!0,lt=Ct.shape.paths.shapes,Et=Ct.shape.paths._length,St=0;St<Et;St+=1)Tt.addShape(this.processPath(lt[St],At));Ct.shape.paths=Ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var dt=[0,0];function lt(Tt){var Rt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Rt,this.a&&Tt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Tt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Tt.skewFromAxis(-this.sk.v,this.sa.v),this.r?Tt.rotate(-this.r.v):Tt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Tt.translate(this.px.v,this.py.v,-this.pz.v):Tt.translate(this.px.v,this.py.v,0):Tt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function ft(Tt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Tt){var Rt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Bt,Ft;if(Rt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Bt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Rt,0),Ft=this.p.getValueAtTime(this.p.keyframes[0].t/Rt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Bt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Rt,0),Ft=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Rt,0)):(Bt=this.p.pv,Ft=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Rt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Bt=[],Ft=[];var Dt=this.px,kt=this.py;Dt._caching.lastFrame+Dt.offsetTime<=Dt.keyframes[0].t?(Bt[0]=Dt.getValueAtTime((Dt.keyframes[0].t+.01)/Rt,0),Bt[1]=kt.getValueAtTime((kt.keyframes[0].t+.01)/Rt,0),Ft[0]=Dt.getValueAtTime(Dt.keyframes[0].t/Rt,0),Ft[1]=kt.getValueAtTime(kt.keyframes[0].t/Rt,0)):Dt._caching.lastFrame+Dt.offsetTime>=Dt.keyframes[Dt.keyframes.length-1].t?(Bt[0]=Dt.getValueAtTime(Dt.keyframes[Dt.keyframes.length-1].t/Rt,0),Bt[1]=kt.getValueAtTime(kt.keyframes[kt.keyframes.length-1].t/Rt,0),Ft[0]=Dt.getValueAtTime((Dt.keyframes[Dt.keyframes.length-1].t-.01)/Rt,0),Ft[1]=kt.getValueAtTime((kt.keyframes[kt.keyframes.length-1].t-.01)/Rt,0)):(Bt=[Dt.pv,kt.pv],Ft[0]=Dt.getValueAtTime((Dt._caching.lastFrame+Dt.offsetTime-.01)/Rt,Dt.offsetTime),Ft[1]=kt.getValueAtTime((kt._caching.lastFrame+kt.offsetTime-.01)/Rt,kt.offsetTime))}else Ft=dt,Bt=Ft;this.v.rotate(-Math.atan2(Bt[1]-Ft[1],Bt[0]-Ft[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function vt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function St(){}function Et(Tt){this._addDynamicProperty(Tt),this.elem.addDynamicProperty(Tt),this._isDirty=!0}function At(Tt,Rt,Bt){if(this.elem=Tt,this.frameId=-1,this.propType="transform",this.data=Rt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Bt||Tt),Rt.p&&Rt.p.s?(this.px=PropertyFactory.getProp(Tt,Rt.p.x,0,0,this),this.py=PropertyFactory.getProp(Tt,Rt.p.y,0,0,this),Rt.p.z&&(this.pz=PropertyFactory.getProp(Tt,Rt.p.z,0,0,this))):this.p=PropertyFactory.getProp(Tt,Rt.p||{k:[0,0,0]},1,0,this),Rt.rx){if(this.rx=PropertyFactory.getProp(Tt,Rt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Tt,Rt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Tt,Rt.rz,0,degToRads,this),Rt.or.k[0].ti){var Ft,Dt=Rt.or.k.length;for(Ft=0;Ft<Dt;Ft+=1)Rt.or.k[Ft].to=null,Rt.or.k[Ft].ti=null}this.or=PropertyFactory.getProp(Tt,Rt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Tt,Rt.r||{k:0},0,degToRads,this);Rt.sk&&(this.sk=PropertyFactory.getProp(Tt,Rt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Tt,Rt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Tt,Rt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Tt,Rt.s||{k:[100,100,100]},1,.01,this),Rt.o?this.o=PropertyFactory.getProp(Tt,Rt.o,0,.01,Tt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}At.prototype={applyToMatrix:lt,getValue:ft,precalculateMatrix:vt,autoOrient:St},extendPrototype([DynamicPropertyContainer],At),At.prototype.addDynamicProperty=Et,At.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Ct(Tt,Rt,Bt){return new At(Tt,Rt,Bt)}return{getTransformProperty:Ct}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(dt,lt){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(dt,lt.c,0,null,this),this.o=PropertyFactory.getProp(dt,lt.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(dt,lt.tr,this),this.so=PropertyFactory.getProp(dt,lt.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(dt,lt.tr.eo,0,.01,this),this.data=lt,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(dt,lt,ft,vt,St,Et){var At=Et?-1:1,Ct=vt.s.v[0]+(1-vt.s.v[0])*(1-St),Tt=vt.s.v[1]+(1-vt.s.v[1])*(1-St);dt.translate(vt.p.v[0]*At*St,vt.p.v[1]*At*St,vt.p.v[2]),lt.translate(-vt.a.v[0],-vt.a.v[1],vt.a.v[2]),lt.rotate(-vt.r.v*At*St),lt.translate(vt.a.v[0],vt.a.v[1],vt.a.v[2]),ft.translate(-vt.a.v[0],-vt.a.v[1],vt.a.v[2]),ft.scale(Et?1/Ct:Ct,Et?1/Tt:Tt),ft.translate(vt.a.v[0],vt.a.v[1],vt.a.v[2])},RepeaterModifier.prototype.init=function(dt,lt,ft,vt){for(this.elem=dt,this.arr=lt,this.pos=ft,this.elemsData=vt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(dt),this.initModifierProperties(dt,lt[ft]);ft>0;)ft-=1,this._elements.unshift(lt[ft]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(dt){var lt,ft=dt.length;for(lt=0;lt<ft;lt+=1)dt[lt]._processed=!1,dt[lt].ty==="gr"&&this.resetElements(dt[lt].it)},RepeaterModifier.prototype.cloneElements=function(dt){var lt=JSON.parse(JSON.stringify(dt));return this.resetElements(lt),lt},RepeaterModifier.prototype.changeGroupRender=function(dt,lt){var ft,vt=dt.length;for(ft=0;ft<vt;ft+=1)dt[ft]._render=lt,dt[ft].ty==="gr"&&this.changeGroupRender(dt[ft].it,lt)},RepeaterModifier.prototype.processShapes=function(dt){var lt,ft,vt,St,Et,At=!1;if(this._mdf||dt){var Ct=Math.ceil(this.c.v);if(this._groups.length<Ct){for(;this._groups.length<Ct;){var Tt={it:this.cloneElements(this._elements),ty:"gr"};Tt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Tt),this._groups.splice(0,0,Tt),this._currentCopies+=1}this.elem.reloadShapes(),At=!0}Et=0;var Rt;for(vt=0;vt<=this._groups.length-1;vt+=1){if(Rt=Et<Ct,this._groups[vt]._render=Rt,this.changeGroupRender(this._groups[vt].it,Rt),!Rt){var Bt=this.elemsData[vt].it,Ft=Bt[Bt.length-1];Ft.transform.op.v!==0?(Ft.transform.op._mdf=!0,Ft.transform.op.v=0):Ft.transform.op._mdf=!1}Et+=1}this._currentCopies=Ct;var Dt=this.o.v,kt=Dt%1,zt=Dt>0?Math.floor(Dt):Math.ceil(Dt),Ht=this.pMatrix.props,en=this.rMatrix.props,Kt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Zt=0;if(Dt>0){for(;Zt<zt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Zt+=1;kt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,kt,!1),Zt+=kt)}else if(Dt<0){for(;Zt>zt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Zt-=1;kt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-kt,!0),Zt-=kt)}vt=this.data.m===1?0:this._currentCopies-1,St=this.data.m===1?1:-1,Et=this._currentCopies;for(var Wt,tn;Et;){if(lt=this.elemsData[vt].it,ft=lt[lt.length-1].transform.mProps.v.props,tn=ft.length,lt[lt.length-1].transform.mProps._mdf=!0,lt[lt.length-1].transform.op._mdf=!0,lt[lt.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(vt/(this._currentCopies-1)),Zt!==0){for((vt!==0&&St===1||vt!==this._currentCopies-1&&St===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(en[0],en[1],en[2],en[3],en[4],en[5],en[6],en[7],en[8],en[9],en[10],en[11],en[12],en[13],en[14],en[15]),this.matrix.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5],Kt[6],Kt[7],Kt[8],Kt[9],Kt[10],Kt[11],Kt[12],Kt[13],Kt[14],Kt[15]),this.matrix.transform(Ht[0],Ht[1],Ht[2],Ht[3],Ht[4],Ht[5],Ht[6],Ht[7],Ht[8],Ht[9],Ht[10],Ht[11],Ht[12],Ht[13],Ht[14],Ht[15]),Wt=0;Wt<tn;Wt+=1)ft[Wt]=this.matrix.props[Wt];this.matrix.reset()}else for(this.matrix.reset(),Wt=0;Wt<tn;Wt+=1)ft[Wt]=this.matrix.props[Wt];Zt+=1,Et-=1,vt+=St}}else for(Et=this._currentCopies,vt=0,St=1;Et;)lt=this.elemsData[vt].it,ft=lt[lt.length-1].transform.mProps.v.props,lt[lt.length-1].transform.mProps._mdf=!1,lt[lt.length-1].transform.op._mdf=!1,Et-=1,vt+=St;return At},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(dt,lt){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(dt,lt.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(dt,lt){var ft=shapePool.newElement();ft.c=dt.c;var vt,St=dt._length,Et,At,Ct,Tt,Rt,Bt,Ft=0,Dt,kt,zt,Ht,en,Kt;for(vt=0;vt<St;vt+=1)Et=dt.v[vt],Ct=dt.o[vt],At=dt.i[vt],Et[0]===Ct[0]&&Et[1]===Ct[1]&&Et[0]===At[0]&&Et[1]===At[1]?(vt===0||vt===St-1)&&!dt.c?(ft.setTripleAt(Et[0],Et[1],Ct[0],Ct[1],At[0],At[1],Ft),Ft+=1):(vt===0?Tt=dt.v[St-1]:Tt=dt.v[vt-1],Rt=Math.sqrt(Math.pow(Et[0]-Tt[0],2)+Math.pow(Et[1]-Tt[1],2)),Bt=Rt?Math.min(Rt/2,lt)/Rt:0,en=Et[0]+(Tt[0]-Et[0])*Bt,Dt=en,Kt=Et[1]-(Et[1]-Tt[1])*Bt,kt=Kt,zt=Dt-(Dt-Et[0])*roundCorner,Ht=kt-(kt-Et[1])*roundCorner,ft.setTripleAt(Dt,kt,zt,Ht,en,Kt,Ft),Ft+=1,vt===St-1?Tt=dt.v[0]:Tt=dt.v[vt+1],Rt=Math.sqrt(Math.pow(Et[0]-Tt[0],2)+Math.pow(Et[1]-Tt[1],2)),Bt=Rt?Math.min(Rt/2,lt)/Rt:0,zt=Et[0]+(Tt[0]-Et[0])*Bt,Dt=zt,Ht=Et[1]+(Tt[1]-Et[1])*Bt,kt=Ht,en=Dt-(Dt-Et[0])*roundCorner,Kt=kt-(kt-Et[1])*roundCorner,ft.setTripleAt(Dt,kt,zt,Ht,en,Kt,Ft),Ft+=1):(ft.setTripleAt(dt.v[vt][0],dt.v[vt][1],dt.o[vt][0],dt.o[vt][1],dt.i[vt][0],dt.i[vt][1],Ft),Ft+=1);return ft},RoundCornersModifier.prototype.processShapes=function(dt){var lt,ft,vt=this.shapes.length,St,Et,At=this.rd.v;if(At!==0){var Ct,Tt;for(ft=0;ft<vt;ft+=1){if(Ct=this.shapes[ft],Tt=Ct.localShapeCollection,!(!Ct.shape._mdf&&!this._mdf&&!dt))for(Tt.releaseShapes(),Ct.shape._mdf=!0,lt=Ct.shape.paths.shapes,Et=Ct.shape.paths._length,St=0;St<Et;St+=1)Tt.addShape(this.processPath(lt[St],At));Ct.shape.paths=Ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(dt,lt){return Math.abs(dt-lt)*1e5<=Math.min(Math.abs(dt),Math.abs(lt))}function floatZero(dt){return Math.abs(dt)<=1e-5}function lerp(dt,lt,ft){return dt*(1-ft)+lt*ft}function lerpPoint(dt,lt,ft){return[lerp(dt[0],lt[0],ft),lerp(dt[1],lt[1],ft)]}function quadRoots(dt,lt,ft){if(dt===0)return[];var vt=lt*lt-4*dt*ft;if(vt<0)return[];var St=-lt/(2*dt);if(vt===0)return[St];var Et=Math.sqrt(vt)/(2*dt);return[St-Et,St+Et]}function polynomialCoefficients(dt,lt,ft,vt){return[-dt+3*lt-3*ft+vt,3*dt-6*lt+3*ft,-3*dt+3*lt,dt]}function singlePoint(dt){return new PolynomialBezier(dt,dt,dt,dt,!1)}function PolynomialBezier(dt,lt,ft,vt,St){St&&pointEqual(dt,lt)&&(lt=lerpPoint(dt,vt,1/3)),St&&pointEqual(ft,vt)&&(ft=lerpPoint(dt,vt,2/3));var Et=polynomialCoefficients(dt[0],lt[0],ft[0],vt[0]),At=polynomialCoefficients(dt[1],lt[1],ft[1],vt[1]);this.a=[Et[0],At[0]],this.b=[Et[1],At[1]],this.c=[Et[2],At[2]],this.d=[Et[3],At[3]],this.points=[dt,lt,ft,vt]}PolynomialBezier.prototype.point=function(dt){return[((this.a[0]*dt+this.b[0])*dt+this.c[0])*dt+this.d[0],((this.a[1]*dt+this.b[1])*dt+this.c[1])*dt+this.d[1]]},PolynomialBezier.prototype.derivative=function(dt){return[(3*dt*this.a[0]+2*this.b[0])*dt+this.c[0],(3*dt*this.a[1]+2*this.b[1])*dt+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(dt){var lt=this.derivative(dt);return Math.atan2(lt[1],lt[0])},PolynomialBezier.prototype.normalAngle=function(dt){var lt=this.derivative(dt);return Math.atan2(lt[0],lt[1])},PolynomialBezier.prototype.inflectionPoints=function(){var dt=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(dt))return[];var lt=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/dt,ft=lt*lt-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/dt;if(ft<0)return[];var vt=Math.sqrt(ft);return floatZero(vt)?vt>0&&vt<1?[lt]:[]:[lt-vt,lt+vt].filter(function(St){return St>0&&St<1})},PolynomialBezier.prototype.split=function(dt){if(dt<=0)return[singlePoint(this.points[0]),this];if(dt>=1)return[this,singlePoint(this.points[this.points.length-1])];var lt=lerpPoint(this.points[0],this.points[1],dt),ft=lerpPoint(this.points[1],this.points[2],dt),vt=lerpPoint(this.points[2],this.points[3],dt),St=lerpPoint(lt,ft,dt),Et=lerpPoint(ft,vt,dt),At=lerpPoint(St,Et,dt);return[new PolynomialBezier(this.points[0],lt,St,At,!0),new PolynomialBezier(At,Et,vt,this.points[3],!0)]};function extrema(dt,lt){var ft=dt.points[0][lt],vt=dt.points[dt.points.length-1][lt];if(ft>vt){var St=vt;vt=ft,ft=St}for(var Et=quadRoots(3*dt.a[lt],2*dt.b[lt],dt.c[lt]),At=0;At<Et.length;At+=1)if(Et[At]>0&&Et[At]<1){var Ct=dt.point(Et[At])[lt];Ct<ft?ft=Ct:Ct>vt&&(vt=Ct)}return{min:ft,max:vt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var dt=this.bounds();return{left:dt.x.min,right:dt.x.max,top:dt.y.min,bottom:dt.y.max,width:dt.x.max-dt.x.min,height:dt.y.max-dt.y.min,cx:(dt.x.max+dt.x.min)/2,cy:(dt.y.max+dt.y.min)/2}};function intersectData(dt,lt,ft){var vt=dt.boundingBox();return{cx:vt.cx,cy:vt.cy,width:vt.width,height:vt.height,bez:dt,t:(lt+ft)/2,t1:lt,t2:ft}}function splitData(dt){var lt=dt.bez.split(.5);return[intersectData(lt[0],dt.t1,dt.t),intersectData(lt[1],dt.t,dt.t2)]}function boxIntersect(dt,lt){return Math.abs(dt.cx-lt.cx)*2<dt.width+lt.width&&Math.abs(dt.cy-lt.cy)*2<dt.height+lt.height}function intersectsImpl(dt,lt,ft,vt,St,Et){if(boxIntersect(dt,lt)){if(ft>=Et||dt.width<=vt&&dt.height<=vt&&lt.width<=vt&&lt.height<=vt){St.push([dt.t,lt.t]);return}var At=splitData(dt),Ct=splitData(lt);intersectsImpl(At[0],Ct[0],ft+1,vt,St,Et),intersectsImpl(At[0],Ct[1],ft+1,vt,St,Et),intersectsImpl(At[1],Ct[0],ft+1,vt,St,Et),intersectsImpl(At[1],Ct[1],ft+1,vt,St,Et)}}PolynomialBezier.prototype.intersections=function(dt,lt,ft){lt===void 0&&(lt=2),ft===void 0&&(ft=7);var vt=[];return intersectsImpl(intersectData(this,0,1),intersectData(dt,0,1),0,lt,vt,ft),vt},PolynomialBezier.shapeSegment=function(dt,lt){var ft=(lt+1)%dt.length();return new PolynomialBezier(dt.v[lt],dt.o[lt],dt.i[ft],dt.v[ft],!0)},PolynomialBezier.shapeSegmentInverted=function(dt,lt){var ft=(lt+1)%dt.length();return new PolynomialBezier(dt.v[ft],dt.i[ft],dt.o[lt],dt.v[lt],!0)};function crossProduct(dt,lt){return[dt[1]*lt[2]-dt[2]*lt[1],dt[2]*lt[0]-dt[0]*lt[2],dt[0]*lt[1]-dt[1]*lt[0]]}function lineIntersection(dt,lt,ft,vt){var St=[dt[0],dt[1],1],Et=[lt[0],lt[1],1],At=[ft[0],ft[1],1],Ct=[vt[0],vt[1],1],Tt=crossProduct(crossProduct(St,Et),crossProduct(At,Ct));return floatZero(Tt[2])?null:[Tt[0]/Tt[2],Tt[1]/Tt[2]]}function polarOffset(dt,lt,ft){return[dt[0]+Math.cos(lt)*ft,dt[1]-Math.sin(lt)*ft]}function pointDistance(dt,lt){return Math.hypot(dt[0]-lt[0],dt[1]-lt[1])}function pointEqual(dt,lt){return floatEqual(dt[0],lt[0])&&floatEqual(dt[1],lt[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(dt,lt){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(dt,lt.s,0,null,this),this.frequency=PropertyFactory.getProp(dt,lt.r,0,null,this),this.pointsType=PropertyFactory.getProp(dt,lt.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(dt,lt,ft,vt,St,Et,At){var Ct=ft-Math.PI/2,Tt=ft+Math.PI/2,Rt=lt[0]+Math.cos(ft)*vt*St,Bt=lt[1]-Math.sin(ft)*vt*St;dt.setTripleAt(Rt,Bt,Rt+Math.cos(Ct)*Et,Bt-Math.sin(Ct)*Et,Rt+Math.cos(Tt)*At,Bt-Math.sin(Tt)*At,dt.length())}function getPerpendicularVector(dt,lt){var ft=[lt[0]-dt[0],lt[1]-dt[1]],vt=-Math.PI*.5,St=[Math.cos(vt)*ft[0]-Math.sin(vt)*ft[1],Math.sin(vt)*ft[0]+Math.cos(vt)*ft[1]];return St}function getProjectingAngle(dt,lt){var ft=lt===0?dt.length()-1:lt-1,vt=(lt+1)%dt.length(),St=dt.v[ft],Et=dt.v[vt],At=getPerpendicularVector(St,Et);return Math.atan2(0,1)-Math.atan2(At[1],At[0])}function zigZagCorner(dt,lt,ft,vt,St,Et,At){var Ct=getProjectingAngle(lt,ft),Tt=lt.v[ft%lt._length],Rt=lt.v[ft===0?lt._length-1:ft-1],Bt=lt.v[(ft+1)%lt._length],Ft=Et===2?Math.sqrt(Math.pow(Tt[0]-Rt[0],2)+Math.pow(Tt[1]-Rt[1],2)):0,Dt=Et===2?Math.sqrt(Math.pow(Tt[0]-Bt[0],2)+Math.pow(Tt[1]-Bt[1],2)):0;setPoint(dt,lt.v[ft%lt._length],Ct,At,vt,Dt/((St+1)*2),Ft/((St+1)*2))}function zigZagSegment(dt,lt,ft,vt,St,Et){for(var At=0;At<vt;At+=1){var Ct=(At+1)/(vt+1),Tt=St===2?Math.sqrt(Math.pow(lt.points[3][0]-lt.points[0][0],2)+Math.pow(lt.points[3][1]-lt.points[0][1],2)):0,Rt=lt.normalAngle(Ct),Bt=lt.point(Ct);setPoint(dt,Bt,Rt,Et,ft,Tt/((vt+1)*2),Tt/((vt+1)*2)),Et=-Et}return Et}ZigZagModifier.prototype.processPath=function(dt,lt,ft,vt){var St=dt._length,Et=shapePool.newElement();if(Et.c=dt.c,dt.c||(St-=1),St===0)return Et;var At=-1,Ct=PolynomialBezier.shapeSegment(dt,0);zigZagCorner(Et,dt,0,lt,ft,vt,At);for(var Tt=0;Tt<St;Tt+=1)At=zigZagSegment(Et,Ct,lt,ft,vt,-At),Tt===St-1&&!dt.c?Ct=null:Ct=PolynomialBezier.shapeSegment(dt,(Tt+1)%St),zigZagCorner(Et,dt,Tt+1,lt,ft,vt,At);return Et},ZigZagModifier.prototype.processShapes=function(dt){var lt,ft,vt=this.shapes.length,St,Et,At=this.amplitude.v,Ct=Math.max(0,Math.round(this.frequency.v)),Tt=this.pointsType.v;if(At!==0){var Rt,Bt;for(ft=0;ft<vt;ft+=1){if(Rt=this.shapes[ft],Bt=Rt.localShapeCollection,!(!Rt.shape._mdf&&!this._mdf&&!dt))for(Bt.releaseShapes(),Rt.shape._mdf=!0,lt=Rt.shape.paths.shapes,Et=Rt.shape.paths._length,St=0;St<Et;St+=1)Bt.addShape(this.processPath(lt[St],At,Ct,Tt));Rt.shape.paths=Rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(dt,lt,ft){var vt=Math.atan2(lt[0]-dt[0],lt[1]-dt[1]);return[polarOffset(dt,vt,ft),polarOffset(lt,vt,ft)]}function offsetSegment(dt,lt){var ft,vt,St,Et,At,Ct,Tt;Tt=linearOffset(dt.points[0],dt.points[1],lt),ft=Tt[0],vt=Tt[1],Tt=linearOffset(dt.points[1],dt.points[2],lt),St=Tt[0],Et=Tt[1],Tt=linearOffset(dt.points[2],dt.points[3],lt),At=Tt[0],Ct=Tt[1];var Rt=lineIntersection(ft,vt,St,Et);Rt===null&&(Rt=vt);var Bt=lineIntersection(At,Ct,St,Et);return Bt===null&&(Bt=At),new PolynomialBezier(ft,Rt,Bt,Ct)}function joinLines(dt,lt,ft,vt,St){var Et=lt.points[3],At=ft.points[0];if(vt===3||pointEqual(Et,At))return Et;if(vt===2){var Ct=-lt.tangentAngle(1),Tt=-ft.tangentAngle(0)+Math.PI,Rt=lineIntersection(Et,polarOffset(Et,Ct+Math.PI/2,100),At,polarOffset(At,Ct+Math.PI/2,100)),Bt=Rt?pointDistance(Rt,Et):pointDistance(Et,At)/2,Ft=polarOffset(Et,Ct,2*Bt*roundCorner);return dt.setXYAt(Ft[0],Ft[1],"o",dt.length()-1),Ft=polarOffset(At,Tt,2*Bt*roundCorner),dt.setTripleAt(At[0],At[1],At[0],At[1],Ft[0],Ft[1],dt.length()),At}var Dt=pointEqual(Et,lt.points[2])?lt.points[0]:lt.points[2],kt=pointEqual(At,ft.points[1])?ft.points[3]:ft.points[1],zt=lineIntersection(Dt,Et,At,kt);return zt&&pointDistance(zt,Et)<St?(dt.setTripleAt(zt[0],zt[1],zt[0],zt[1],zt[0],zt[1],dt.length()),zt):Et}function getIntersection(dt,lt){var ft=dt.intersections(lt);return ft.length&&floatEqual(ft[0][0],1)&&ft.shift(),ft.length?ft[0]:null}function pruneSegmentIntersection(dt,lt){var ft=dt.slice(),vt=lt.slice(),St=getIntersection(dt[dt.length-1],lt[0]);return St&&(ft[dt.length-1]=dt[dt.length-1].split(St[0])[0],vt[0]=lt[0].split(St[1])[1]),dt.length>1&&lt.length>1&&(St=getIntersection(dt[0],lt[lt.length-1]),St)?[[dt[0].split(St[0])[0]],[lt[lt.length-1].split(St[1])[1]]]:[ft,vt]}function pruneIntersections(dt){for(var lt,ft=1;ft<dt.length;ft+=1)lt=pruneSegmentIntersection(dt[ft-1],dt[ft]),dt[ft-1]=lt[0],dt[ft]=lt[1];return dt.length>1&&(lt=pruneSegmentIntersection(dt[dt.length-1],dt[0]),dt[dt.length-1]=lt[0],dt[0]=lt[1]),dt}function offsetSegmentSplit(dt,lt){var ft=dt.inflectionPoints(),vt,St,Et,At;if(ft.length===0)return[offsetSegment(dt,lt)];if(ft.length===1||floatEqual(ft[1],1))return Et=dt.split(ft[0]),vt=Et[0],St=Et[1],[offsetSegment(vt,lt),offsetSegment(St,lt)];Et=dt.split(ft[0]),vt=Et[0];var Ct=(ft[1]-ft[0])/(1-ft[0]);return Et=Et[1].split(Ct),At=Et[0],St=Et[1],[offsetSegment(vt,lt),offsetSegment(At,lt),offsetSegment(St,lt)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(dt,lt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(dt,lt.a,0,null,this),this.miterLimit=PropertyFactory.getProp(dt,lt.ml,0,null,this),this.lineJoin=lt.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(dt,lt,ft,vt){var St=shapePool.newElement();St.c=dt.c;var Et=dt.length();dt.c||(Et-=1);var At,Ct,Tt,Rt=[];for(At=0;At<Et;At+=1)Tt=PolynomialBezier.shapeSegment(dt,At),Rt.push(offsetSegmentSplit(Tt,lt));if(!dt.c)for(At=Et-1;At>=0;At-=1)Tt=PolynomialBezier.shapeSegmentInverted(dt,At),Rt.push(offsetSegmentSplit(Tt,lt));Rt=pruneIntersections(Rt);var Bt=null,Ft=null;for(At=0;At<Rt.length;At+=1){var Dt=Rt[At];for(Ft&&(Bt=joinLines(St,Ft,Dt[0],ft,vt)),Ft=Dt[Dt.length-1],Ct=0;Ct<Dt.length;Ct+=1)Tt=Dt[Ct],Bt&&pointEqual(Tt.points[0],Bt)?St.setXYAt(Tt.points[1][0],Tt.points[1][1],"o",St.length()-1):St.setTripleAt(Tt.points[0][0],Tt.points[0][1],Tt.points[1][0],Tt.points[1][1],Tt.points[0][0],Tt.points[0][1],St.length()),St.setTripleAt(Tt.points[3][0],Tt.points[3][1],Tt.points[3][0],Tt.points[3][1],Tt.points[2][0],Tt.points[2][1],St.length()),Bt=Tt.points[3]}return Rt.length&&joinLines(St,Ft,Rt[0][0],ft,vt),St},OffsetPathModifier.prototype.processShapes=function(dt){var lt,ft,vt=this.shapes.length,St,Et,At=this.amount.v,Ct=this.miterLimit.v,Tt=this.lineJoin;if(At!==0){var Rt,Bt;for(ft=0;ft<vt;ft+=1){if(Rt=this.shapes[ft],Bt=Rt.localShapeCollection,!(!Rt.shape._mdf&&!this._mdf&&!dt))for(Bt.releaseShapes(),Rt.shape._mdf=!0,lt=Rt.shape.paths.shapes,Et=Rt.shape.paths._length,St=0;St<Et;St+=1)Bt.addShape(this.processPath(lt[St],At,Tt,Ct));Rt.shape.paths=Rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(dt){for(var lt=dt.fStyle?dt.fStyle.split(" "):[],ft="normal",vt="normal",St=lt.length,Et,At=0;At<St;At+=1)switch(Et=lt[At].toLowerCase(),Et){case"italic":vt="italic";break;case"bold":ft="700";break;case"black":ft="900";break;case"medium":ft="500";break;case"regular":case"normal":ft="400";break;case"light":case"thin":ft="200";break}return{style:vt,weight:dt.fWeight||ft}}var FontManager=function(){var dt=5e3,lt={w:0,size:0,shapes:[],data:{shapes:[]}},ft=[];ft=ft.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var vt=127988,St=917631,Et=917601,At=917626,Ct=65039,Tt=8205,Rt=127462,Bt=127487,Ft=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Dt(yn){var Rn=yn.split(","),hn,mn=Rn.length,bn=[];for(hn=0;hn<mn;hn+=1)Rn[hn]!=="sans-serif"&&Rn[hn]!=="monospace"&&bn.push(Rn[hn]);return bn.join(",")}function kt(yn,Rn){var hn=createTag("span");hn.setAttribute("aria-hidden",!0),hn.style.fontFamily=Rn;var mn=createTag("span");mn.innerText="giItT1WQy@!-/#",hn.style.position="absolute",hn.style.left="-10000px",hn.style.top="-10000px",hn.style.fontSize="300px",hn.style.fontVariant="normal",hn.style.fontStyle="normal",hn.style.fontWeight="normal",hn.style.letterSpacing="0",hn.appendChild(mn),document.body.appendChild(hn);var bn=mn.offsetWidth;return mn.style.fontFamily=Dt(yn)+", "+Rn,{node:mn,w:bn,parent:hn}}function zt(){var yn,Rn=this.fonts.length,hn,mn,bn=Rn;for(yn=0;yn<Rn;yn+=1)this.fonts[yn].loaded?bn-=1:this.fonts[yn].fOrigin==="n"||this.fonts[yn].origin===0?this.fonts[yn].loaded=!0:(hn=this.fonts[yn].monoCase.node,mn=this.fonts[yn].monoCase.w,hn.offsetWidth!==mn?(bn-=1,this.fonts[yn].loaded=!0):(hn=this.fonts[yn].sansCase.node,mn=this.fonts[yn].sansCase.w,hn.offsetWidth!==mn&&(bn-=1,this.fonts[yn].loaded=!0)),this.fonts[yn].loaded&&(this.fonts[yn].sansCase.parent.parentNode.removeChild(this.fonts[yn].sansCase.parent),this.fonts[yn].monoCase.parent.parentNode.removeChild(this.fonts[yn].monoCase.parent)));bn!==0&&Date.now()-this.initTime<dt?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ht(yn,Rn){var hn=document.body&&Rn?"svg":"canvas",mn,bn=getFontProperties(yn);if(hn==="svg"){var Mn=createNS("text");Mn.style.fontSize="100px",Mn.setAttribute("font-family",yn.fFamily),Mn.setAttribute("font-style",bn.style),Mn.setAttribute("font-weight",bn.weight),Mn.textContent="1",yn.fClass?(Mn.style.fontFamily="inherit",Mn.setAttribute("class",yn.fClass)):Mn.style.fontFamily=yn.fFamily,Rn.appendChild(Mn),mn=Mn}else{var Tn=new OffscreenCanvas(500,500).getContext("2d");Tn.font=bn.style+" "+bn.weight+" 100px "+yn.fFamily,mn=Tn}function In(Nn){return hn==="svg"?(mn.textContent=Nn,mn.getComputedTextLength()):mn.measureText(Nn).width}return{measureText:In}}function en(yn,Rn){if(!yn){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=yn.list;return}if(!document.body){this.isLoaded=!0,yn.list.forEach(function(Un){Un.helper=Ht(Un),Un.cache={}}),this.fonts=yn.list;return}var hn=yn.list,mn,bn=hn.length,Mn=bn;for(mn=0;mn<bn;mn+=1){var Tn=!0,In,Nn;if(hn[mn].loaded=!1,hn[mn].monoCase=kt(hn[mn].fFamily,"monospace"),hn[mn].sansCase=kt(hn[mn].fFamily,"sans-serif"),!hn[mn].fPath)hn[mn].loaded=!0,Mn-=1;else if(hn[mn].fOrigin==="p"||hn[mn].origin===3){if(In=document.querySelectorAll('style[f-forigin="p"][f-family="'+hn[mn].fFamily+'"], style[f-origin="3"][f-family="'+hn[mn].fFamily+'"]'),In.length>0&&(Tn=!1),Tn){var $n=createTag("style");$n.setAttribute("f-forigin",hn[mn].fOrigin),$n.setAttribute("f-origin",hn[mn].origin),$n.setAttribute("f-family",hn[mn].fFamily),$n.type="text/css",$n.innerText="@font-face {font-family: "+hn[mn].fFamily+"; font-style: normal; src: url('"+hn[mn].fPath+"');}",Rn.appendChild($n)}}else if(hn[mn].fOrigin==="g"||hn[mn].origin===1){for(In=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Nn=0;Nn<In.length;Nn+=1)In[Nn].href.indexOf(hn[mn].fPath)!==-1&&(Tn=!1);if(Tn){var Gn=createTag("link");Gn.setAttribute("f-forigin",hn[mn].fOrigin),Gn.setAttribute("f-origin",hn[mn].origin),Gn.type="text/css",Gn.rel="stylesheet",Gn.href=hn[mn].fPath,document.body.appendChild(Gn)}}else if(hn[mn].fOrigin==="t"||hn[mn].origin===2){for(In=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Nn=0;Nn<In.length;Nn+=1)hn[mn].fPath===In[Nn].src&&(Tn=!1);if(Tn){var Zn=createTag("link");Zn.setAttribute("f-forigin",hn[mn].fOrigin),Zn.setAttribute("f-origin",hn[mn].origin),Zn.setAttribute("rel","stylesheet"),Zn.setAttribute("href",hn[mn].fPath),Rn.appendChild(Zn)}}hn[mn].helper=Ht(hn[mn],Rn),hn[mn].cache={},this.fonts.push(hn[mn])}Mn===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Kt(yn){if(yn){this.chars||(this.chars=[]);var Rn,hn=yn.length,mn,bn=this.chars.length,Mn;for(Rn=0;Rn<hn;Rn+=1){for(mn=0,Mn=!1;mn<bn;)this.chars[mn].style===yn[Rn].style&&this.chars[mn].fFamily===yn[Rn].fFamily&&this.chars[mn].ch===yn[Rn].ch&&(Mn=!0),mn+=1;Mn||(this.chars.push(yn[Rn]),bn+=1)}}}function Zt(yn,Rn,hn){for(var mn=0,bn=this.chars.length;mn<bn;){if(this.chars[mn].ch===yn&&this.chars[mn].style===Rn&&this.chars[mn].fFamily===hn)return this.chars[mn];mn+=1}return(typeof yn=="string"&&yn.charCodeAt(0)!==13||!yn)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",yn,Rn,hn)),lt}function Wt(yn,Rn,hn){var mn=this.getFontByName(Rn),bn=yn;if(!mn.cache[bn]){var Mn=mn.helper;if(yn===" "){var Tn=Mn.measureText("|"+yn+"|"),In=Mn.measureText("||");mn.cache[bn]=(Tn-In)/100}else mn.cache[bn]=Mn.measureText(yn)/100}return mn.cache[bn]*hn}function tn(yn){for(var Rn=0,hn=this.fonts.length;Rn<hn;){if(this.fonts[Rn].fName===yn)return this.fonts[Rn];Rn+=1}return this.fonts[0]}function an(yn){var Rn=0,hn=yn.charCodeAt(0);if(hn>=55296&&hn<=56319){var mn=yn.charCodeAt(1);mn>=56320&&mn<=57343&&(Rn=(hn-55296)*1024+mn-56320+65536)}return Rn}function ln(yn,Rn){var hn=yn.toString(16)+Rn.toString(16);return Ft.indexOf(hn)!==-1}function fn(yn){return yn===Tt}function un(yn){return yn===Ct}function pn(yn){var Rn=an(yn);return Rn>=Rt&&Rn<=Bt}function xn(yn){return pn(yn.substr(0,2))&&pn(yn.substr(2,2))}function An(yn){return ft.indexOf(yn)!==-1}function gn(yn,Rn){var hn=an(yn.substr(Rn,2));if(hn!==vt)return!1;var mn=0;for(Rn+=2;mn<5;){if(hn=an(yn.substr(Rn,2)),hn<Et||hn>At)return!1;mn+=1,Rn+=2}return an(yn.substr(Rn,2))===St}function Ln(){this.isLoaded=!0}var Cn=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Cn.isModifier=ln,Cn.isZeroWidthJoiner=fn,Cn.isFlagEmoji=xn,Cn.isRegionalCode=pn,Cn.isCombinedCharacter=An,Cn.isRegionalFlag=gn,Cn.isVariationSelector=un,Cn.BLACK_FLAG_CODE_POINT=vt;var En={addChars:Kt,addFonts:en,getCharData:Zt,getFontByName:tn,measureText:Wt,checkLoadedFonts:zt,setIsLoaded:Ln};return Cn.prototype=En,Cn}();function SlotManager(dt){this.animationData=dt}SlotManager.prototype.getProp=function(dt){return this.animationData.slots&&this.animationData.slots[dt.sid]?Object.assign(dt,this.animationData.slots[dt.sid].p):dt};function slotFactory(dt){return new SlotManager(dt)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(lt){this.renderableComponents.indexOf(lt)===-1&&this.renderableComponents.push(lt)},removeRenderableComponent:function(lt){this.renderableComponents.indexOf(lt)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(lt),1)},prepareRenderableFrame:function(lt){this.checkLayerLimits(lt)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(lt){this.data.ip-this.data.st<=lt&&this.data.op-this.data.st>lt?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var lt,ft=this.renderableComponents.length;for(lt=0;lt<ft;lt+=1)this.renderableComponents[lt].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var dt={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(lt){return dt[lt]||""}}();function SliderEffect(dt,lt,ft){this.p=PropertyFactory.getProp(lt,dt.v,0,0,ft)}function AngleEffect(dt,lt,ft){this.p=PropertyFactory.getProp(lt,dt.v,0,0,ft)}function ColorEffect(dt,lt,ft){this.p=PropertyFactory.getProp(lt,dt.v,1,0,ft)}function PointEffect(dt,lt,ft){this.p=PropertyFactory.getProp(lt,dt.v,1,0,ft)}function LayerIndexEffect(dt,lt,ft){this.p=PropertyFactory.getProp(lt,dt.v,0,0,ft)}function MaskIndexEffect(dt,lt,ft){this.p=PropertyFactory.getProp(lt,dt.v,0,0,ft)}function CheckboxEffect(dt,lt,ft){this.p=PropertyFactory.getProp(lt,dt.v,0,0,ft)}function NoValueEffect(){this.p={}}function EffectsManager(dt,lt){var ft=dt.ef||[];this.effectElements=[];var vt,St=ft.length,Et;for(vt=0;vt<St;vt+=1)Et=new GroupEffect(ft[vt],lt),this.effectElements.push(Et)}function GroupEffect(dt,lt){this.init(dt,lt)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(dt,lt){this.data=dt,this.effectElements=[],this.initDynamicPropertyContainer(lt);var ft,vt=this.data.ef.length,St,Et=this.data.ef;for(ft=0;ft<vt;ft+=1){switch(St=null,Et[ft].ty){case 0:St=new SliderEffect(Et[ft],lt,this);break;case 1:St=new AngleEffect(Et[ft],lt,this);break;case 2:St=new ColorEffect(Et[ft],lt,this);break;case 3:St=new PointEffect(Et[ft],lt,this);break;case 4:case 7:St=new CheckboxEffect(Et[ft],lt,this);break;case 10:St=new LayerIndexEffect(Et[ft],lt,this);break;case 11:St=new MaskIndexEffect(Et[ft],lt,this);break;case 5:St=new EffectsManager(Et[ft],lt);break;default:St=new NoValueEffect(Et[ft]);break}St&&this.effectElements.push(St)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var lt=0,ft=this.data.masksProperties.length;lt<ft;){if(this.data.masksProperties[lt].mode!=="n"&&this.data.masksProperties[lt].cl!==!1)return!0;lt+=1}return!1},initExpressions:function(){var lt=getExpressionInterfaces();if(lt){var ft=lt("layer"),vt=lt("effects"),St=lt("shape"),Et=lt("text"),At=lt("comp");this.layerInterface=ft(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Ct=vt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Ct),this.data.ty===0||this.data.xt?this.compInterface=At(this):this.data.ty===4?(this.layerInterface.shapeInterface=St(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Et(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var lt=getBlendMode(this.data.bm),ft=this.baseElement||this.layerElement;ft.style["mix-blend-mode"]=lt},initBaseData:function(lt,ft,vt){this.globalData=ft,this.comp=vt,this.data=lt,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(lt,ft){var vt,St=this.dynamicProperties.length;for(vt=0;vt<St;vt+=1)(ft||this._isParent&&this.dynamicProperties[vt].propType==="transform")&&(this.dynamicProperties[vt].getValue(),this.dynamicProperties[vt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(lt){this.dynamicProperties.indexOf(lt)===-1&&this.dynamicProperties.push(lt)}};function FootageElement(dt,lt,ft){this.initFrame(),this.initRenderable(),this.assetData=lt.getAssetData(dt.refId),this.footageData=lt.imageLoader.getAsset(this.assetData),this.initBaseData(dt,lt,ft)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var dt=getExpressionInterfaces();if(dt){var lt=dt("footage");this.layerInterface=lt(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(dt,lt,ft){this.initFrame(),this.initRenderable(),this.assetData=lt.getAssetData(dt.refId),this.initBaseData(dt,lt,ft),this._isPlaying=!1,this._canPlay=!1;var vt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(vt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,lt.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,dt.au&&dt.au.lv?dt.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(dt){if(this.prepareRenderableFrame(dt,!0),this.prepareProperties(dt,!0),this.tm._placeholder)this._currentTime=dt/this.data.sr;else{var lt=this.tm.v;this._currentTime=lt}this._volume=this.lv.v[0];var ft=this._volume*this._volumeMultiplier;this._previousVolume!==ft&&(this._previousVolume=ft,this.audio.volume(ft))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(dt){this.audio.rate(dt)},AudioElement.prototype.volume=function(dt){this._volumeMultiplier=dt,this._previousVolume=dt*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(dt){var lt,ft=this.layers.length,vt;for(this.completeLayers=!0,lt=ft-1;lt>=0;lt-=1)this.elements[lt]||(vt=this.layers[lt],vt.ip-vt.st<=dt-this.layers[lt].st&&vt.op-vt.st>dt-this.layers[lt].st&&this.buildItem(lt)),this.completeLayers=this.elements[lt]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(dt){switch(dt.ty){case 2:return this.createImage(dt);case 0:return this.createComp(dt);case 1:return this.createSolid(dt);case 3:return this.createNull(dt);case 4:return this.createShape(dt);case 5:return this.createText(dt);case 6:return this.createAudio(dt);case 13:return this.createCamera(dt);case 15:return this.createFootage(dt);default:return this.createNull(dt)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(dt){return new AudioElement(dt,this.globalData,this)},BaseRenderer.prototype.createFootage=function(dt){return new FootageElement(dt,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var dt,lt=this.layers.length;for(dt=0;dt<lt;dt+=1)this.buildItem(dt);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(dt){this.completeLayers=!1;var lt,ft=dt.length,vt,St=this.layers.length;for(lt=0;lt<ft;lt+=1)for(vt=0;vt<St;){if(this.layers[vt].id===dt[lt].id){this.layers[vt]=dt[lt];break}vt+=1}},BaseRenderer.prototype.setProjectInterface=function(dt){this.globalData.projectInterface=dt},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(dt,lt,ft){for(var vt=this.elements,St=this.layers,Et=0,At=St.length;Et<At;)St[Et].ind==lt&&(!vt[Et]||vt[Et]===!0?(this.buildItem(Et),this.addPendingElement(dt)):(ft.push(vt[Et]),vt[Et].setAsParent(),St[Et].parent!==void 0?this.buildElementParenting(dt,St[Et].parent,ft):dt.setHierarchy(ft))),Et+=1},BaseRenderer.prototype.addPendingElement=function(dt){this.pendingElements.push(dt)},BaseRenderer.prototype.searchExtraCompositions=function(dt){var lt,ft=dt.length;for(lt=0;lt<ft;lt+=1)if(dt[lt].xt){var vt=this.createComp(dt[lt]);vt.initExpressions(),this.globalData.projectInterface.registerComposition(vt)}},BaseRenderer.prototype.getElementById=function(dt){var lt,ft=this.elements.length;for(lt=0;lt<ft;lt+=1)if(this.elements[lt].data.ind===dt)return this.elements[lt];return null},BaseRenderer.prototype.getElementByPath=function(dt){var lt=dt.shift(),ft;if(typeof lt=="number")ft=this.elements[lt];else{var vt,St=this.elements.length;for(vt=0;vt<St;vt+=1)if(this.elements[vt].data.nm===lt){ft=this.elements[vt];break}}return dt.length===0?ft:ft.getElementByPath(dt)},BaseRenderer.prototype.setupGlobalData=function(dt,lt){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(dt),this.globalData.fontManager.addChars(dt.chars),this.globalData.fontManager.addFonts(dt.fonts,lt),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=dt.fr,this.globalData.nm=dt.nm,this.globalData.compSize={w:dt.w,h:dt.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var lt=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:lt,localMat:lt,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var lt,ft=this.finalTransform.mat,vt=0,St=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;vt<St;){if(this.hierarchy[vt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}vt+=1}if(this.finalTransform._matMdf)for(lt=this.finalTransform.mProp.v.props,ft.cloneFromProps(lt),vt=0;vt<St;vt+=1)ft.multiply(this.hierarchy[vt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var lt=0,ft=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;lt<ft;)this.localTransforms[lt]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[lt]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),lt+=1;if(this.finalTransform._localMatMdf){var vt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(vt),lt=1;lt<ft;lt+=1){var St=this.localTransforms[lt].matrix;vt.multiply(St)}vt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Et=this.finalTransform.localOpacity;for(lt=0;lt<ft;lt+=1)Et*=this.localTransforms[lt].opacity*.01;this.finalTransform.localOpacity=Et}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var lt=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(lt.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var ft=0,vt=lt.length;for(ft=0;ft<vt;ft+=1)this.localTransforms.push(lt[ft])}}},globalToLocal:function(lt){var ft=[];ft.push(this.finalTransform);for(var vt=!0,St=this.comp;vt;)St.finalTransform?(St.data.hasMask&&ft.splice(0,0,St.finalTransform),St=St.comp):vt=!1;var Et,At=ft.length,Ct;for(Et=0;Et<At;Et+=1)Ct=ft[Et].mat.applyToPointArray(0,0,0),lt=[lt[0]-Ct[0],lt[1]-Ct[1],0];return lt},mHelper:new Matrix};function MaskElement(dt,lt,ft){this.data=dt,this.element=lt,this.globalData=ft,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var vt=this.globalData.defs,St,Et=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Et),this.solidPath="";var At,Ct=this.masksProperties,Tt=0,Rt=[],Bt,Ft,Dt=createElementID(),kt,zt,Ht,en,Kt="clipPath",Zt="clip-path";for(St=0;St<Et;St+=1)if((Ct[St].mode!=="a"&&Ct[St].mode!=="n"||Ct[St].inv||Ct[St].o.k!==100||Ct[St].o.x)&&(Kt="mask",Zt="mask"),(Ct[St].mode==="s"||Ct[St].mode==="i")&&Tt===0?(kt=createNS("rect"),kt.setAttribute("fill","#ffffff"),kt.setAttribute("width",this.element.comp.data.w||0),kt.setAttribute("height",this.element.comp.data.h||0),Rt.push(kt)):kt=null,At=createNS("path"),Ct[St].mode==="n")this.viewData[St]={op:PropertyFactory.getProp(this.element,Ct[St].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ct[St],3),elem:At,lastPath:""},vt.appendChild(At);else{Tt+=1,At.setAttribute("fill",Ct[St].mode==="s"?"#000000":"#ffffff"),At.setAttribute("clip-rule","nonzero");var Wt;if(Ct[St].x.k!==0?(Kt="mask",Zt="mask",en=PropertyFactory.getProp(this.element,Ct[St].x,0,null,this.element),Wt=createElementID(),zt=createNS("filter"),zt.setAttribute("id",Wt),Ht=createNS("feMorphology"),Ht.setAttribute("operator","erode"),Ht.setAttribute("in","SourceGraphic"),Ht.setAttribute("radius","0"),zt.appendChild(Ht),vt.appendChild(zt),At.setAttribute("stroke",Ct[St].mode==="s"?"#000000":"#ffffff")):(Ht=null,en=null),this.storedData[St]={elem:At,x:en,expan:Ht,lastPath:"",lastOperator:"",filterId:Wt,lastRadius:0},Ct[St].mode==="i"){Ft=Rt.length;var tn=createNS("g");for(Bt=0;Bt<Ft;Bt+=1)tn.appendChild(Rt[Bt]);var an=createNS("mask");an.setAttribute("mask-type","alpha"),an.setAttribute("id",Dt+"_"+Tt),an.appendChild(At),vt.appendChild(an),tn.setAttribute("mask","url("+getLocationHref()+"#"+Dt+"_"+Tt+")"),Rt.length=0,Rt.push(tn)}else Rt.push(At);Ct[St].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[St]={elem:At,lastPath:"",op:PropertyFactory.getProp(this.element,Ct[St].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ct[St],3),invRect:kt},this.viewData[St].prop.k||this.drawPath(Ct[St],this.viewData[St].prop.v,this.viewData[St])}for(this.maskElement=createNS(Kt),Et=Rt.length,St=0;St<Et;St+=1)this.maskElement.appendChild(Rt[St]);Tt>0&&(this.maskElement.setAttribute("id",Dt),this.element.maskedElement.setAttribute(Zt,"url("+getLocationHref()+"#"+Dt+")"),vt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(dt){return this.viewData[dt].prop},MaskElement.prototype.renderFrame=function(dt){var lt=this.element.finalTransform.mat,ft,vt=this.masksProperties.length;for(ft=0;ft<vt;ft+=1)if((this.viewData[ft].prop._mdf||dt)&&this.drawPath(this.masksProperties[ft],this.viewData[ft].prop.v,this.viewData[ft]),(this.viewData[ft].op._mdf||dt)&&this.viewData[ft].elem.setAttribute("fill-opacity",this.viewData[ft].op.v),this.masksProperties[ft].mode!=="n"&&(this.viewData[ft].invRect&&(this.element.finalTransform.mProp._mdf||dt)&&this.viewData[ft].invRect.setAttribute("transform",lt.getInverseMatrix().to2dCSS()),this.storedData[ft].x&&(this.storedData[ft].x._mdf||dt))){var St=this.storedData[ft].expan;this.storedData[ft].x.v<0?(this.storedData[ft].lastOperator!=="erode"&&(this.storedData[ft].lastOperator="erode",this.storedData[ft].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[ft].filterId+")")),St.setAttribute("radius",-this.storedData[ft].x.v)):(this.storedData[ft].lastOperator!=="dilate"&&(this.storedData[ft].lastOperator="dilate",this.storedData[ft].elem.setAttribute("filter",null)),this.storedData[ft].elem.setAttribute("stroke-width",this.storedData[ft].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var dt="M0,0 ";return dt+=" h"+this.globalData.compSize.w,dt+=" v"+this.globalData.compSize.h,dt+=" h-"+this.globalData.compSize.w,dt+=" v-"+this.globalData.compSize.h+" ",dt},MaskElement.prototype.drawPath=function(dt,lt,ft){var vt=" M"+lt.v[0][0]+","+lt.v[0][1],St,Et;for(Et=lt._length,St=1;St<Et;St+=1)vt+=" C"+lt.o[St-1][0]+","+lt.o[St-1][1]+" "+lt.i[St][0]+","+lt.i[St][1]+" "+lt.v[St][0]+","+lt.v[St][1];if(lt.c&&Et>1&&(vt+=" C"+lt.o[St-1][0]+","+lt.o[St-1][1]+" "+lt.i[0][0]+","+lt.i[0][1]+" "+lt.v[0][0]+","+lt.v[0][1]),ft.lastPath!==vt){var At="";ft.elem&&(lt.c&&(At=dt.inv?this.solidPath+vt:vt),ft.elem.setAttribute("d",At)),ft.lastPath=vt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var dt={};dt.createFilter=lt,dt.createAlphaToLuminanceFilter=ft;function lt(vt,St){var Et=createNS("filter");return Et.setAttribute("id",vt),St!==!0&&(Et.setAttribute("filterUnits","objectBoundingBox"),Et.setAttribute("x","0%"),Et.setAttribute("y","0%"),Et.setAttribute("width","100%"),Et.setAttribute("height","100%")),Et}function ft(){var vt=createNS("feColorMatrix");return vt.setAttribute("type","matrix"),vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),vt}return dt}(),featureSupport=function(){var dt={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(dt.maskType=!1),/firefox/i.test(navigator.userAgent)&&(dt.svgLumaHidden=!1),dt}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(dt){var lt,ft="SourceGraphic",vt=dt.data.ef?dt.data.ef.length:0,St=createElementID(),Et=filtersFactory.createFilter(St,!0),At=0;this.filters=[];var Ct;for(lt=0;lt<vt;lt+=1){Ct=null;var Tt=dt.data.ef[lt].ty;if(registeredEffects$1[Tt]){var Rt=registeredEffects$1[Tt].effect;Ct=new Rt(Et,dt.effectsManager.effectElements[lt],dt,idPrefix+At,ft),ft=idPrefix+At,registeredEffects$1[Tt].countsAsEffect&&(At+=1)}Ct&&this.filters.push(Ct)}At&&(dt.globalData.defs.appendChild(Et),dt.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+St+")")),this.filters.length&&dt.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(dt){var lt,ft=this.filters.length;for(lt=0;lt<ft;lt+=1)this.filters[lt].renderFrame(dt)},SVGEffects.prototype.getEffects=function(dt){var lt,ft=this.filters.length,vt=[];for(lt=0;lt<ft;lt+=1)this.filters[lt].type===dt&&vt.push(this.filters[lt]);return vt};function registerEffect$1(dt,lt,ft){registeredEffects$1[dt]={effect:lt,countsAsEffect:ft}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var lt=null;if(this.data.td){this.matteMasks={};var ft=createNS("g");ft.setAttribute("id",this.layerId),ft.appendChild(this.layerElement),lt=ft,this.globalData.defs.appendChild(ft)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),lt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var vt=createNS("clipPath"),St=createNS("path");St.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Et=createElementID();if(vt.setAttribute("id",Et),vt.appendChild(St),this.globalData.defs.appendChild(vt),this.checkMasks()){var At=createNS("g");At.setAttribute("clip-path","url("+getLocationHref()+"#"+Et+")"),At.appendChild(this.layerElement),this.transformedElement=At,lt?lt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Et+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(lt){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[lt]){var ft=this.layerId+"_"+lt,vt,St,Et,At;if(lt===1||lt===3){var Ct=createNS("mask");Ct.setAttribute("id",ft),Ct.setAttribute("mask-type",lt===3?"luminance":"alpha"),Et=createNS("use"),Et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ct.appendChild(Et),this.globalData.defs.appendChild(Ct),!featureSupport.maskType&&lt===1&&(Ct.setAttribute("mask-type","luminance"),vt=createElementID(),St=filtersFactory.createFilter(vt),this.globalData.defs.appendChild(St),St.appendChild(filtersFactory.createAlphaToLuminanceFilter()),At=createNS("g"),At.appendChild(Et),Ct.appendChild(At),At.setAttribute("filter","url("+getLocationHref()+"#"+vt+")"))}else if(lt===2){var Tt=createNS("mask");Tt.setAttribute("id",ft),Tt.setAttribute("mask-type","alpha");var Rt=createNS("g");Tt.appendChild(Rt),vt=createElementID(),St=filtersFactory.createFilter(vt);var Bt=createNS("feComponentTransfer");Bt.setAttribute("in","SourceGraphic"),St.appendChild(Bt);var Ft=createNS("feFuncA");Ft.setAttribute("type","table"),Ft.setAttribute("tableValues","1.0 0.0"),Bt.appendChild(Ft),this.globalData.defs.appendChild(St);var Dt=createNS("rect");Dt.setAttribute("width",this.comp.data.w),Dt.setAttribute("height",this.comp.data.h),Dt.setAttribute("x","0"),Dt.setAttribute("y","0"),Dt.setAttribute("fill","#ffffff"),Dt.setAttribute("opacity","0"),Rt.setAttribute("filter","url("+getLocationHref()+"#"+vt+")"),Rt.appendChild(Dt),Et=createNS("use"),Et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Rt.appendChild(Et),featureSupport.maskType||(Tt.setAttribute("mask-type","luminance"),St.appendChild(filtersFactory.createAlphaToLuminanceFilter()),At=createNS("g"),Rt.appendChild(Dt),At.appendChild(this.layerElement),Rt.appendChild(At)),this.globalData.defs.appendChild(Tt)}this.matteMasks[lt]=ft}return this.matteMasks[lt]},setMatte:function(lt){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+lt+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(lt){this.hierarchy=lt},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var dt={initElement:function(ft,vt,St){this.initFrame(),this.initBaseData(ft,vt,St),this.initTransform(ft,vt,St),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var ft=this.baseElement||this.layerElement;ft.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var ft=this.baseElement||this.layerElement;ft.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(ft){this._mdf=!1,this.prepareRenderableFrame(ft),this.prepareProperties(ft,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(dt)],RenderableDOMElement)})();function IImageElement(dt,lt,ft){this.assetData=lt.getAssetData(dt.refId),this.assetData&&this.assetData.sid&&(this.assetData=lt.slotManager.getProp(this.assetData)),this.initElement(dt,lt,ft),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var dt=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",dt),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(dt,lt){this.elem=dt,this.pos=lt}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(lt){var ft,vt=this.shapeModifiers.length;for(ft=0;ft<vt;ft+=1)this.shapeModifiers[ft].addShape(lt)},isShapeInAnimatedModifiers:function(lt){for(var ft=0,vt=this.shapeModifiers.length;ft<vt;)if(this.shapeModifiers[ft].isAnimatedWithShape(lt))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var lt,ft=this.shapes.length;for(lt=0;lt<ft;lt+=1)this.shapes[lt].sh.reset();ft=this.shapeModifiers.length;var vt;for(lt=ft-1;lt>=0&&(vt=this.shapeModifiers[lt].processShapes(this._isFirstFrame),!vt);lt-=1);}},searchProcessedElement:function(lt){for(var ft=this.processedElements,vt=0,St=ft.length;vt<St;){if(ft[vt].elem===lt)return ft[vt].pos;vt+=1}return 0},addProcessedElement:function(lt,ft){for(var vt=this.processedElements,St=vt.length;St;)if(St-=1,vt[St].elem===lt){vt[St].pos=ft;return}vt.push(new ProcessedElement(lt,ft))},prepareFrame:function(lt){this.prepareRenderableFrame(lt),this.prepareProperties(lt,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(dt,lt,ft){this.caches=[],this.styles=[],this.transformers=dt,this.lStr="",this.sh=ft,this.lvl=lt,this._isAnimated=!!ft.k;for(var vt=0,St=dt.length;vt<St;){if(dt[vt].mProps.dynamicProperties.length){this._isAnimated=!0;break}vt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(dt,lt){this.data=dt,this.type=dt.ty,this.d="",this.lvl=lt,this._mdf=!1,this.closed=dt.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(dt,lt,ft,vt){this.elem=dt,this.frameId=-1,this.dataProps=createSizedArray(lt.length),this.renderer=ft,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",lt.length?lt.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(vt);var St,Et=lt.length||0,At;for(St=0;St<Et;St+=1)At=PropertyFactory.getProp(dt,lt[St].v,0,0,this),this.k=At.k||this.k,this.dataProps[St]={n:lt[St].n,p:At};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(dt){if(!(this.elem.globalData.frameId===this.frameId&&!dt)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||dt,this._mdf)){var lt=0,ft=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),lt=0;lt<ft;lt+=1)this.dataProps[lt].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[lt].p.v:this.dashArray[lt]=this.dataProps[lt].p.v:this.dashoffset[0]=this.dataProps[lt].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(dt,lt,ft){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(dt,lt.o,0,.01,this),this.w=PropertyFactory.getProp(dt,lt.w,0,null,this),this.d=new DashProperty(dt,lt.d||{},"svg",this),this.c=PropertyFactory.getProp(dt,lt.c,1,255,this),this.style=ft,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(dt,lt,ft){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(dt,lt.o,0,.01,this),this.c=PropertyFactory.getProp(dt,lt.c,1,255,this),this.style=ft}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(dt,lt,ft){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.style=ft}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(dt,lt,ft){this.data=lt,this.c=createTypedArray("uint8c",lt.p*4);var vt=lt.k.k[0].s?lt.k.k[0].s.length-lt.p*4:lt.k.k.length-lt.p*4;this.o=createTypedArray("float32",vt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=vt,this.initDynamicPropertyContainer(ft),this.prop=PropertyFactory.getProp(dt,lt.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(dt,lt){for(var ft=0,vt=this.o.length/2,St;ft<vt;){if(St=Math.abs(dt[ft*4]-dt[lt*4+ft*2]),St>.01)return!1;ft+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var dt=0,lt=this.data.k.k.length;dt<lt;){if(!this.comparePoints(this.data.k.k[dt].s,this.data.p))return!1;dt+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(dt){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||dt){var lt,ft=this.data.p*4,vt,St;for(lt=0;lt<ft;lt+=1)vt=lt%4===0?100:255,St=Math.round(this.prop.v[lt]*vt),this.c[lt]!==St&&(this.c[lt]=St,this._cmdf=!dt);if(this.o.length)for(ft=this.prop.v.length,lt=this.data.p*4;lt<ft;lt+=1)vt=lt%2===0?100:1,St=lt%2===0?Math.round(this.prop.v[lt]*100):this.prop.v[lt],this.o[lt-this.data.p*4]!==St&&(this.o[lt-this.data.p*4]=St,this._omdf=!dt);this._mdf=!dt}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(dt,lt,ft){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.initGradientData(dt,lt,ft)}SVGGradientFillStyleData.prototype.initGradientData=function(dt,lt,ft){this.o=PropertyFactory.getProp(dt,lt.o,0,.01,this),this.s=PropertyFactory.getProp(dt,lt.s,1,null,this),this.e=PropertyFactory.getProp(dt,lt.e,1,null,this),this.h=PropertyFactory.getProp(dt,lt.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(dt,lt.a||{k:0},0,degToRads,this),this.g=new GradientProperty(dt,lt.g,this),this.style=ft,this.stops=[],this.setGradientData(ft.pElem,lt),this.setGradientOpacity(lt,ft),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(dt,lt){var ft=createElementID(),vt=createNS(lt.t===1?"linearGradient":"radialGradient");vt.setAttribute("id",ft),vt.setAttribute("spreadMethod","pad"),vt.setAttribute("gradientUnits","userSpaceOnUse");var St=[],Et,At,Ct;for(Ct=lt.g.p*4,At=0;At<Ct;At+=4)Et=createNS("stop"),vt.appendChild(Et),St.push(Et);dt.setAttribute(lt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ft+")"),this.gf=vt,this.cst=St},SVGGradientFillStyleData.prototype.setGradientOpacity=function(dt,lt){if(this.g._hasOpacity&&!this.g._collapsable){var ft,vt,St,Et=createNS("mask"),At=createNS("path");Et.appendChild(At);var Ct=createElementID(),Tt=createElementID();Et.setAttribute("id",Tt);var Rt=createNS(dt.t===1?"linearGradient":"radialGradient");Rt.setAttribute("id",Ct),Rt.setAttribute("spreadMethod","pad"),Rt.setAttribute("gradientUnits","userSpaceOnUse"),St=dt.g.k.k[0].s?dt.g.k.k[0].s.length:dt.g.k.k.length;var Bt=this.stops;for(vt=dt.g.p*4;vt<St;vt+=2)ft=createNS("stop"),ft.setAttribute("stop-color","rgb(255,255,255)"),Rt.appendChild(ft),Bt.push(ft);At.setAttribute(dt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ct+")"),dt.ty==="gs"&&(At.setAttribute("stroke-linecap",lineCapEnum[dt.lc||2]),At.setAttribute("stroke-linejoin",lineJoinEnum[dt.lj||2]),dt.lj===1&&At.setAttribute("stroke-miterlimit",dt.ml)),this.of=Rt,this.ms=Et,this.ost=Bt,this.maskId=Tt,lt.msElem=At}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(dt,lt,ft){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(dt,lt.w,0,null,this),this.d=new DashProperty(dt,lt.d||{},"svg",this),this.initGradientData(dt,lt,ft),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(dt,lt,ft){this.transform={mProps:dt,op:lt,container:ft},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(lt,ft,vt,St){if(ft===0)return"";var Et=lt.o,At=lt.i,Ct=lt.v,Tt,Rt=" M"+St.applyToPointStringified(Ct[0][0],Ct[0][1]);for(Tt=1;Tt<ft;Tt+=1)Rt+=" C"+St.applyToPointStringified(Et[Tt-1][0],Et[Tt-1][1])+" "+St.applyToPointStringified(At[Tt][0],At[Tt][1])+" "+St.applyToPointStringified(Ct[Tt][0],Ct[Tt][1]);return vt&&ft&&(Rt+=" C"+St.applyToPointStringified(Et[Tt-1][0],Et[Tt-1][1])+" "+St.applyToPointStringified(At[0][0],At[0][1])+" "+St.applyToPointStringified(Ct[0][0],Ct[0][1]),Rt+="z"),Rt},SVGElementsRenderer=function(){var dt=new Matrix,lt=new Matrix,ft={createRenderFunction:vt};function vt(Ft){switch(Ft.ty){case"fl":return Ct;case"gf":return Rt;case"gs":return Tt;case"st":return Bt;case"sh":case"el":case"rc":case"sr":return At;case"tr":return St;case"no":return Et;default:return null}}function St(Ft,Dt,kt){(kt||Dt.transform.op._mdf)&&Dt.transform.container.setAttribute("opacity",Dt.transform.op.v),(kt||Dt.transform.mProps._mdf)&&Dt.transform.container.setAttribute("transform",Dt.transform.mProps.v.to2dCSS())}function Et(){}function At(Ft,Dt,kt){var zt,Ht,en,Kt,Zt,Wt,tn=Dt.styles.length,an=Dt.lvl,ln,fn,un,pn;for(Wt=0;Wt<tn;Wt+=1){if(Kt=Dt.sh._mdf||kt,Dt.styles[Wt].lvl<an){for(fn=lt.reset(),un=an-Dt.styles[Wt].lvl,pn=Dt.transformers.length-1;!Kt&&un>0;)Kt=Dt.transformers[pn].mProps._mdf||Kt,un-=1,pn-=1;if(Kt)for(un=an-Dt.styles[Wt].lvl,pn=Dt.transformers.length-1;un>0;)fn.multiply(Dt.transformers[pn].mProps.v),un-=1,pn-=1}else fn=dt;if(ln=Dt.sh.paths,Ht=ln._length,Kt){for(en="",zt=0;zt<Ht;zt+=1)Zt=ln.shapes[zt],Zt&&Zt._length&&(en+=buildShapeString(Zt,Zt._length,Zt.c,fn));Dt.caches[Wt]=en}else en=Dt.caches[Wt];Dt.styles[Wt].d+=Ft.hd===!0?"":en,Dt.styles[Wt]._mdf=Kt||Dt.styles[Wt]._mdf}}function Ct(Ft,Dt,kt){var zt=Dt.style;(Dt.c._mdf||kt)&&zt.pElem.setAttribute("fill","rgb("+bmFloor(Dt.c.v[0])+","+bmFloor(Dt.c.v[1])+","+bmFloor(Dt.c.v[2])+")"),(Dt.o._mdf||kt)&&zt.pElem.setAttribute("fill-opacity",Dt.o.v)}function Tt(Ft,Dt,kt){Rt(Ft,Dt,kt),Bt(Ft,Dt,kt)}function Rt(Ft,Dt,kt){var zt=Dt.gf,Ht=Dt.g._hasOpacity,en=Dt.s.v,Kt=Dt.e.v;if(Dt.o._mdf||kt){var Zt=Ft.ty==="gf"?"fill-opacity":"stroke-opacity";Dt.style.pElem.setAttribute(Zt,Dt.o.v)}if(Dt.s._mdf||kt){var Wt=Ft.t===1?"x1":"cx",tn=Wt==="x1"?"y1":"cy";zt.setAttribute(Wt,en[0]),zt.setAttribute(tn,en[1]),Ht&&!Dt.g._collapsable&&(Dt.of.setAttribute(Wt,en[0]),Dt.of.setAttribute(tn,en[1]))}var an,ln,fn,un;if(Dt.g._cmdf||kt){an=Dt.cst;var pn=Dt.g.c;for(fn=an.length,ln=0;ln<fn;ln+=1)un=an[ln],un.setAttribute("offset",pn[ln*4]+"%"),un.setAttribute("stop-color","rgb("+pn[ln*4+1]+","+pn[ln*4+2]+","+pn[ln*4+3]+")")}if(Ht&&(Dt.g._omdf||kt)){var xn=Dt.g.o;for(Dt.g._collapsable?an=Dt.cst:an=Dt.ost,fn=an.length,ln=0;ln<fn;ln+=1)un=an[ln],Dt.g._collapsable||un.setAttribute("offset",xn[ln*2]+"%"),un.setAttribute("stop-opacity",xn[ln*2+1])}if(Ft.t===1)(Dt.e._mdf||kt)&&(zt.setAttribute("x2",Kt[0]),zt.setAttribute("y2",Kt[1]),Ht&&!Dt.g._collapsable&&(Dt.of.setAttribute("x2",Kt[0]),Dt.of.setAttribute("y2",Kt[1])));else{var An;if((Dt.s._mdf||Dt.e._mdf||kt)&&(An=Math.sqrt(Math.pow(en[0]-Kt[0],2)+Math.pow(en[1]-Kt[1],2)),zt.setAttribute("r",An),Ht&&!Dt.g._collapsable&&Dt.of.setAttribute("r",An)),Dt.e._mdf||Dt.h._mdf||Dt.a._mdf||kt){An||(An=Math.sqrt(Math.pow(en[0]-Kt[0],2)+Math.pow(en[1]-Kt[1],2)));var gn=Math.atan2(Kt[1]-en[1],Kt[0]-en[0]),Ln=Dt.h.v;Ln>=1?Ln=.99:Ln<=-1&&(Ln=-.99);var Cn=An*Ln,En=Math.cos(gn+Dt.a.v)*Cn+en[0],yn=Math.sin(gn+Dt.a.v)*Cn+en[1];zt.setAttribute("fx",En),zt.setAttribute("fy",yn),Ht&&!Dt.g._collapsable&&(Dt.of.setAttribute("fx",En),Dt.of.setAttribute("fy",yn))}}}function Bt(Ft,Dt,kt){var zt=Dt.style,Ht=Dt.d;Ht&&(Ht._mdf||kt)&&Ht.dashStr&&(zt.pElem.setAttribute("stroke-dasharray",Ht.dashStr),zt.pElem.setAttribute("stroke-dashoffset",Ht.dashoffset[0])),Dt.c&&(Dt.c._mdf||kt)&&zt.pElem.setAttribute("stroke","rgb("+bmFloor(Dt.c.v[0])+","+bmFloor(Dt.c.v[1])+","+bmFloor(Dt.c.v[2])+")"),(Dt.o._mdf||kt)&&zt.pElem.setAttribute("stroke-opacity",Dt.o.v),(Dt.w._mdf||kt)&&(zt.pElem.setAttribute("stroke-width",Dt.w.v),zt.msElem&&zt.msElem.setAttribute("stroke-width",Dt.w.v))}return ft}();function SVGShapeElement(dt,lt,ft){this.shapes=[],this.shapesData=dt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(dt,lt,ft),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var dt,lt=this.shapes.length,ft,vt,St=this.stylesList.length,Et,At=[],Ct=!1;for(vt=0;vt<St;vt+=1){for(Et=this.stylesList[vt],Ct=!1,At.length=0,dt=0;dt<lt;dt+=1)ft=this.shapes[dt],ft.styles.indexOf(Et)!==-1&&(At.push(ft),Ct=ft._isAnimated||Ct);At.length>1&&Ct&&this.setShapesAsAnimated(At)}},SVGShapeElement.prototype.setShapesAsAnimated=function(dt){var lt,ft=dt.length;for(lt=0;lt<ft;lt+=1)dt[lt].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(dt,lt){var ft,vt=new SVGStyleData(dt,lt),St=vt.pElem;if(dt.ty==="st")ft=new SVGStrokeStyleData(this,dt,vt);else if(dt.ty==="fl")ft=new SVGFillStyleData(this,dt,vt);else if(dt.ty==="gf"||dt.ty==="gs"){var Et=dt.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;ft=new Et(this,dt,vt),this.globalData.defs.appendChild(ft.gf),ft.maskId&&(this.globalData.defs.appendChild(ft.ms),this.globalData.defs.appendChild(ft.of),St.setAttribute("mask","url("+getLocationHref()+"#"+ft.maskId+")"))}else dt.ty==="no"&&(ft=new SVGNoStyleData(this,dt,vt));return(dt.ty==="st"||dt.ty==="gs")&&(St.setAttribute("stroke-linecap",lineCapEnum[dt.lc||2]),St.setAttribute("stroke-linejoin",lineJoinEnum[dt.lj||2]),St.setAttribute("fill-opacity","0"),dt.lj===1&&St.setAttribute("stroke-miterlimit",dt.ml)),dt.r===2&&St.setAttribute("fill-rule","evenodd"),dt.ln&&St.setAttribute("id",dt.ln),dt.cl&&St.setAttribute("class",dt.cl),dt.bm&&(St.style["mix-blend-mode"]=getBlendMode(dt.bm)),this.stylesList.push(vt),this.addToAnimatedContents(dt,ft),ft},SVGShapeElement.prototype.createGroupElement=function(dt){var lt=new ShapeGroupData;return dt.ln&&lt.gr.setAttribute("id",dt.ln),dt.cl&&lt.gr.setAttribute("class",dt.cl),dt.bm&&(lt.gr.style["mix-blend-mode"]=getBlendMode(dt.bm)),lt},SVGShapeElement.prototype.createTransformElement=function(dt,lt){var ft=TransformPropertyFactory.getTransformProperty(this,dt,this),vt=new SVGTransformData(ft,ft.o,lt);return this.addToAnimatedContents(dt,vt),vt},SVGShapeElement.prototype.createShapeElement=function(dt,lt,ft){var vt=4;dt.ty==="rc"?vt=5:dt.ty==="el"?vt=6:dt.ty==="sr"&&(vt=7);var St=ShapePropertyFactory.getShapeProp(this,dt,vt,this),Et=new SVGShapeData(lt,ft,St);return this.shapes.push(Et),this.addShapeToModifiers(Et),this.addToAnimatedContents(dt,Et),Et},SVGShapeElement.prototype.addToAnimatedContents=function(dt,lt){for(var ft=0,vt=this.animatedContents.length;ft<vt;){if(this.animatedContents[ft].element===lt)return;ft+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(dt),element:lt,data:dt})},SVGShapeElement.prototype.setElementStyles=function(dt){var lt=dt.styles,ft,vt=this.stylesList.length;for(ft=0;ft<vt;ft+=1)this.stylesList[ft].closed||lt.push(this.stylesList[ft])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var dt,lt=this.itemsData.length;for(dt=0;dt<lt;dt+=1)this.prevViewData[dt]=this.itemsData[dt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),lt=this.dynamicProperties.length,dt=0;dt<lt;dt+=1)this.dynamicProperties[dt].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(dt,lt,ft,vt,St,Et,At){var Ct=[].concat(Et),Tt,Rt=dt.length-1,Bt,Ft,Dt=[],kt=[],zt,Ht,en;for(Tt=Rt;Tt>=0;Tt-=1){if(en=this.searchProcessedElement(dt[Tt]),en?lt[Tt]=ft[en-1]:dt[Tt]._render=At,dt[Tt].ty==="fl"||dt[Tt].ty==="st"||dt[Tt].ty==="gf"||dt[Tt].ty==="gs"||dt[Tt].ty==="no")en?lt[Tt].style.closed=!1:lt[Tt]=this.createStyleElement(dt[Tt],St),dt[Tt]._render&&lt[Tt].style.pElem.parentNode!==vt&&vt.appendChild(lt[Tt].style.pElem),Dt.push(lt[Tt].style);else if(dt[Tt].ty==="gr"){if(!en)lt[Tt]=this.createGroupElement(dt[Tt]);else for(Ft=lt[Tt].it.length,Bt=0;Bt<Ft;Bt+=1)lt[Tt].prevViewData[Bt]=lt[Tt].it[Bt];this.searchShapes(dt[Tt].it,lt[Tt].it,lt[Tt].prevViewData,lt[Tt].gr,St+1,Ct,At),dt[Tt]._render&&lt[Tt].gr.parentNode!==vt&&vt.appendChild(lt[Tt].gr)}else dt[Tt].ty==="tr"?(en||(lt[Tt]=this.createTransformElement(dt[Tt],vt)),zt=lt[Tt].transform,Ct.push(zt)):dt[Tt].ty==="sh"||dt[Tt].ty==="rc"||dt[Tt].ty==="el"||dt[Tt].ty==="sr"?(en||(lt[Tt]=this.createShapeElement(dt[Tt],Ct,St)),this.setElementStyles(lt[Tt])):dt[Tt].ty==="tm"||dt[Tt].ty==="rd"||dt[Tt].ty==="ms"||dt[Tt].ty==="pb"||dt[Tt].ty==="zz"||dt[Tt].ty==="op"?(en?(Ht=lt[Tt],Ht.closed=!1):(Ht=ShapeModifiers.getModifier(dt[Tt].ty),Ht.init(this,dt[Tt]),lt[Tt]=Ht,this.shapeModifiers.push(Ht)),kt.push(Ht)):dt[Tt].ty==="rp"&&(en?(Ht=lt[Tt],Ht.closed=!0):(Ht=ShapeModifiers.getModifier(dt[Tt].ty),lt[Tt]=Ht,Ht.init(this,dt,Tt,lt),this.shapeModifiers.push(Ht),At=!1),kt.push(Ht));this.addProcessedElement(dt[Tt],Tt+1)}for(Rt=Dt.length,Tt=0;Tt<Rt;Tt+=1)Dt[Tt].closed=!0;for(Rt=kt.length,Tt=0;Tt<Rt;Tt+=1)kt[Tt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var dt,lt=this.stylesList.length;for(dt=0;dt<lt;dt+=1)this.stylesList[dt].reset();for(this.renderShape(),dt=0;dt<lt;dt+=1)(this.stylesList[dt]._mdf||this._isFirstFrame)&&(this.stylesList[dt].msElem&&(this.stylesList[dt].msElem.setAttribute("d",this.stylesList[dt].d),this.stylesList[dt].d="M0 0"+this.stylesList[dt].d),this.stylesList[dt].pElem.setAttribute("d",this.stylesList[dt].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var dt,lt=this.animatedContents.length,ft;for(dt=0;dt<lt;dt+=1)ft=this.animatedContents[dt],(this._isFirstFrame||ft.element._isAnimated)&&ft.data!==!0&&ft.fn(ft.data,ft.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(dt,lt,ft,vt,St,Et){this.o=dt,this.sw=lt,this.sc=ft,this.fc=vt,this.m=St,this.p=Et,this._mdf={o:!0,sw:!!lt,sc:!!ft,fc:!!vt,m:!0,p:!0}}LetterProps.prototype.update=function(dt,lt,ft,vt,St,Et){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var At=!1;return this.o!==dt&&(this.o=dt,this._mdf.o=!0,At=!0),this.sw!==lt&&(this.sw=lt,this._mdf.sw=!0,At=!0),this.sc!==ft&&(this.sc=ft,this._mdf.sc=!0,At=!0),this.fc!==vt&&(this.fc=vt,this._mdf.fc=!0,At=!0),this.m!==St&&(this.m=St,this._mdf.m=!0,At=!0),Et.length&&(this.p[0]!==Et[0]||this.p[1]!==Et[1]||this.p[4]!==Et[4]||this.p[5]!==Et[5]||this.p[12]!==Et[12]||this.p[13]!==Et[13])&&(this.p=Et,this._mdf.p=!0,At=!0),At};function TextProperty(dt,lt){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,lt.d&&lt.d.sid&&(lt.d=dt.globalData.slotManager.getProp(lt.d)),this.data=lt,this.elem=dt,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(dt,lt){for(var ft in lt)Object.prototype.hasOwnProperty.call(lt,ft)&&(dt[ft]=lt[ft]);return dt},TextProperty.prototype.setCurrentData=function(dt){dt.__complete||this.completeTextData(dt),this.currentData=dt,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(dt){this.effectsSequence.push(dt),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(dt){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!dt)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var lt=this.currentData,ft=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var vt,St=this.effectsSequence.length,Et=dt||this.data.d.k[this.keysIndex].s;for(vt=0;vt<St;vt+=1)ft!==this.keysIndex?Et=this.effectsSequence[vt](Et,Et.t):Et=this.effectsSequence[vt](this.currentData,Et.t);lt!==Et&&this.setCurrentData(Et),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var dt=this.data.d.k,lt=this.elem.comp.renderedFrame,ft=0,vt=dt.length;ft<=vt-1&&!(ft===vt-1||dt[ft+1].t>lt);)ft+=1;return this.keysIndex!==ft&&(this.keysIndex=ft),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(dt){for(var lt=[],ft=0,vt=dt.length,St,Et,At=!1,Ct=!1,Tt="";ft<vt;)At=Ct,Ct=!1,St=dt.charCodeAt(ft),Tt=dt.charAt(ft),FontManager.isCombinedCharacter(St)?At=!0:St>=55296&&St<=56319?FontManager.isRegionalFlag(dt,ft)?Tt=dt.substr(ft,14):(Et=dt.charCodeAt(ft+1),Et>=56320&&Et<=57343&&(FontManager.isModifier(St,Et)?(Tt=dt.substr(ft,2),At=!0):FontManager.isFlagEmoji(dt.substr(ft,4))?Tt=dt.substr(ft,4):Tt=dt.substr(ft,2))):St>56319?(Et=dt.charCodeAt(ft+1),FontManager.isVariationSelector(St)&&(At=!0)):FontManager.isZeroWidthJoiner(St)&&(At=!0,Ct=!0),At?(lt[lt.length-1]+=Tt,At=!1):lt.push(Tt),ft+=Tt.length;return lt},TextProperty.prototype.completeTextData=function(dt){dt.__complete=!0;var lt=this.elem.globalData.fontManager,ft=this.data,vt=[],St,Et,At,Ct=0,Tt,Rt=ft.m.g,Bt=0,Ft=0,Dt=0,kt=[],zt=0,Ht=0,en,Kt,Zt=lt.getFontByName(dt.f),Wt,tn=0,an=getFontProperties(Zt);dt.fWeight=an.weight,dt.fStyle=an.style,dt.finalSize=dt.s,dt.finalText=this.buildFinalText(dt.t),Et=dt.finalText.length,dt.finalLineHeight=dt.lh;var ln=dt.tr/1e3*dt.finalSize,fn;if(dt.sz)for(var un=!0,pn=dt.sz[0],xn=dt.sz[1],An,gn;un;){gn=this.buildFinalText(dt.t),An=0,zt=0,Et=gn.length,ln=dt.tr/1e3*dt.finalSize;var Ln=-1;for(St=0;St<Et;St+=1)fn=gn[St].charCodeAt(0),At=!1,gn[St]===" "?Ln=St:(fn===13||fn===3)&&(zt=0,At=!0,An+=dt.finalLineHeight||dt.finalSize*1.2),lt.chars?(Wt=lt.getCharData(gn[St],Zt.fStyle,Zt.fFamily),tn=At?0:Wt.w*dt.finalSize/100):tn=lt.measureText(gn[St],dt.f,dt.finalSize),zt+tn>pn&&gn[St]!==" "?(Ln===-1?Et+=1:St=Ln,An+=dt.finalLineHeight||dt.finalSize*1.2,gn.splice(St,Ln===St?1:0,"\r"),Ln=-1,zt=0):(zt+=tn,zt+=ln);An+=Zt.ascent*dt.finalSize/100,this.canResize&&dt.finalSize>this.minimumFontSize&&xn<An?(dt.finalSize-=1,dt.finalLineHeight=dt.finalSize*dt.lh/dt.s):(dt.finalText=gn,Et=dt.finalText.length,un=!1)}zt=-ln,tn=0;var Cn=0,En;for(St=0;St<Et;St+=1)if(At=!1,En=dt.finalText[St],fn=En.charCodeAt(0),fn===13||fn===3?(Cn=0,kt.push(zt),Ht=zt>Ht?zt:Ht,zt=-2*ln,Tt="",At=!0,Dt+=1):Tt=En,lt.chars?(Wt=lt.getCharData(En,Zt.fStyle,lt.getFontByName(dt.f).fFamily),tn=At?0:Wt.w*dt.finalSize/100):tn=lt.measureText(Tt,dt.f,dt.finalSize),En===" "?Cn+=tn+ln:(zt+=tn+ln+Cn,Cn=0),vt.push({l:tn,an:tn,add:Bt,n:At,anIndexes:[],val:Tt,line:Dt,animatorJustifyOffset:0}),Rt==2){if(Bt+=tn,Tt===""||Tt===" "||St===Et-1){for((Tt===""||Tt===" ")&&(Bt-=tn);Ft<=St;)vt[Ft].an=Bt,vt[Ft].ind=Ct,vt[Ft].extra=tn,Ft+=1;Ct+=1,Bt=0}}else if(Rt==3){if(Bt+=tn,Tt===""||St===Et-1){for(Tt===""&&(Bt-=tn);Ft<=St;)vt[Ft].an=Bt,vt[Ft].ind=Ct,vt[Ft].extra=tn,Ft+=1;Bt=0,Ct+=1}}else vt[Ct].ind=Ct,vt[Ct].extra=0,Ct+=1;if(dt.l=vt,Ht=zt>Ht?zt:Ht,kt.push(zt),dt.sz)dt.boxWidth=dt.sz[0],dt.justifyOffset=0;else switch(dt.boxWidth=Ht,dt.j){case 1:dt.justifyOffset=-dt.boxWidth;break;case 2:dt.justifyOffset=-dt.boxWidth/2;break;default:dt.justifyOffset=0}dt.lineWidths=kt;var yn=ft.a,Rn,hn;Kt=yn.length;var mn,bn,Mn=[];for(en=0;en<Kt;en+=1){for(Rn=yn[en],Rn.a.sc&&(dt.strokeColorAnim=!0),Rn.a.sw&&(dt.strokeWidthAnim=!0),(Rn.a.fc||Rn.a.fh||Rn.a.fs||Rn.a.fb)&&(dt.fillColorAnim=!0),bn=0,mn=Rn.s.b,St=0;St<Et;St+=1)hn=vt[St],hn.anIndexes[en]=bn,(mn==1&&hn.val!==""||mn==2&&hn.val!==""&&hn.val!==" "||mn==3&&(hn.n||hn.val==" "||St==Et-1)||mn==4&&(hn.n||St==Et-1))&&(Rn.s.rn===1&&Mn.push(bn),bn+=1);ft.a[en].s.totalChars=bn;var Tn=-1,In;if(Rn.s.rn===1)for(St=0;St<Et;St+=1)hn=vt[St],Tn!=hn.anIndexes[en]&&(Tn=hn.anIndexes[en],In=Mn.splice(Math.floor(Math.random()*Mn.length),1)[0]),hn.anIndexes[en]=In}dt.yOffset=dt.finalLineHeight||dt.finalSize*1.2,dt.ls=dt.ls||0,dt.ascent=Zt.ascent*dt.finalSize/100},TextProperty.prototype.updateDocumentData=function(dt,lt){lt=lt===void 0?this.keysIndex:lt;var ft=this.copyData({},this.data.d.k[lt].s);ft=this.copyData(ft,dt),this.data.d.k[lt].s=ft,this.recalculate(lt),this.setCurrentData(ft),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(dt){var lt=this.data.d.k[dt].s;lt.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(lt)},TextProperty.prototype.canResizeFont=function(dt){this.canResize=dt,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(dt){this.minimumFontSize=Math.floor(dt)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var dt=Math.max,lt=Math.min,ft=Math.floor;function vt(Et,At){this._currentTextLength=-1,this.k=!1,this.data=At,this.elem=Et,this.comp=Et.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Et),this.s=PropertyFactory.getProp(Et,At.s||{k:0},0,0,this),"e"in At?this.e=PropertyFactory.getProp(Et,At.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Et,At.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Et,At.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Et,At.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Et,At.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Et,At.a,0,.01,this),this.dynamicProperties.length||this.getValue()}vt.prototype={getMult:function(At){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ct=0,Tt=0,Rt=1,Bt=1;this.ne.v>0?Ct=this.ne.v/100:Tt=-this.ne.v/100,this.xe.v>0?Rt=1-this.xe.v/100:Bt=1+this.xe.v/100;var Ft=BezierFactory.getBezierEasing(Ct,Tt,Rt,Bt).get,Dt=0,kt=this.finalS,zt=this.finalE,Ht=this.data.sh;if(Ht===2)zt===kt?Dt=At>=zt?1:0:Dt=dt(0,lt(.5/(zt-kt)+(At-kt)/(zt-kt),1)),Dt=Ft(Dt);else if(Ht===3)zt===kt?Dt=At>=zt?0:1:Dt=1-dt(0,lt(.5/(zt-kt)+(At-kt)/(zt-kt),1)),Dt=Ft(Dt);else if(Ht===4)zt===kt?Dt=0:(Dt=dt(0,lt(.5/(zt-kt)+(At-kt)/(zt-kt),1)),Dt<.5?Dt*=2:Dt=1-2*(Dt-.5)),Dt=Ft(Dt);else if(Ht===5){if(zt===kt)Dt=0;else{var en=zt-kt;At=lt(dt(0,At+.5-kt),zt-kt);var Kt=-en/2+At,Zt=en/2;Dt=Math.sqrt(1-Kt*Kt/(Zt*Zt))}Dt=Ft(Dt)}else Ht===6?(zt===kt?Dt=0:(At=lt(dt(0,At+.5-kt),zt-kt),Dt=(1+Math.cos(Math.PI+Math.PI*2*At/(zt-kt)))/2),Dt=Ft(Dt)):(At>=ft(kt)&&(At-kt<0?Dt=dt(0,lt(lt(zt,1)-(kt-At),1)):Dt=dt(0,lt(zt-At,1))),Dt=Ft(Dt));if(this.sm.v!==100){var Wt=this.sm.v*.01;Wt===0&&(Wt=1e-8);var tn=.5-Wt*.5;Dt<tn?Dt=0:(Dt=(Dt-tn)/Wt,Dt>1&&(Dt=1))}return Dt*this.a.v},getValue:function(At){this.iterateDynamicProperties(),this._mdf=At||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,At&&this.data.r===2&&(this.e.v=this._currentTextLength);var Ct=this.data.r===2?1:100/this.data.totalChars,Tt=this.o.v/Ct,Rt=this.s.v/Ct+Tt,Bt=this.e.v/Ct+Tt;if(Rt>Bt){var Ft=Rt;Rt=Bt,Bt=Ft}this.finalS=Rt,this.finalE=Bt}},extendPrototype([DynamicPropertyContainer],vt);function St(Et,At,Ct){return new vt(Et,At)}return{getTextSelectorProp:St}}();function TextAnimatorDataProperty(dt,lt,ft){var vt={propType:!1},St=PropertyFactory.getProp,Et=lt.a;this.a={r:Et.r?St(dt,Et.r,0,degToRads,ft):vt,rx:Et.rx?St(dt,Et.rx,0,degToRads,ft):vt,ry:Et.ry?St(dt,Et.ry,0,degToRads,ft):vt,sk:Et.sk?St(dt,Et.sk,0,degToRads,ft):vt,sa:Et.sa?St(dt,Et.sa,0,degToRads,ft):vt,s:Et.s?St(dt,Et.s,1,.01,ft):vt,a:Et.a?St(dt,Et.a,1,0,ft):vt,o:Et.o?St(dt,Et.o,0,.01,ft):vt,p:Et.p?St(dt,Et.p,1,0,ft):vt,sw:Et.sw?St(dt,Et.sw,0,0,ft):vt,sc:Et.sc?St(dt,Et.sc,1,0,ft):vt,fc:Et.fc?St(dt,Et.fc,1,0,ft):vt,fh:Et.fh?St(dt,Et.fh,0,0,ft):vt,fs:Et.fs?St(dt,Et.fs,0,.01,ft):vt,fb:Et.fb?St(dt,Et.fb,0,.01,ft):vt,t:Et.t?St(dt,Et.t,0,0,ft):vt},this.s=TextSelectorProp.getTextSelectorProp(dt,lt.s,ft),this.s.t=lt.s.t}function TextAnimatorProperty(dt,lt,ft){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=dt,this._renderType=lt,this._elem=ft,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(ft)}TextAnimatorProperty.prototype.searchProperties=function(){var dt,lt=this._textData.a.length,ft,vt=PropertyFactory.getProp;for(dt=0;dt<lt;dt+=1)ft=this._textData.a[dt],this._animatorsData[dt]=new TextAnimatorDataProperty(this._elem,ft,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:vt(this._elem,this._textData.p.a,0,0,this),f:vt(this._elem,this._textData.p.f,0,0,this),l:vt(this._elem,this._textData.p.l,0,0,this),r:vt(this._elem,this._textData.p.r,0,0,this),p:vt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=vt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(dt,lt){if(this.lettersChangedFlag=lt,!(!this._mdf&&!this._isFirstFrame&&!lt&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var ft=this._moreOptions.alignment.v,vt=this._animatorsData,St=this._textData,Et=this.mHelper,At=this._renderType,Ct=this.renderedLetters.length,Tt,Rt,Bt,Ft,Dt=dt.l,kt,zt,Ht,en,Kt,Zt,Wt,tn,an,ln,fn,un,pn,xn,An;if(this._hasMaskedPath){if(An=this._pathData.m,!this._pathData.n||this._pathData._mdf){var gn=An.v;this._pathData.r.v&&(gn=gn.reverse()),kt={tLength:0,segments:[]},Ft=gn._length-1;var Ln;for(un=0,Bt=0;Bt<Ft;Bt+=1)Ln=bez.buildBezierData(gn.v[Bt],gn.v[Bt+1],[gn.o[Bt][0]-gn.v[Bt][0],gn.o[Bt][1]-gn.v[Bt][1]],[gn.i[Bt+1][0]-gn.v[Bt+1][0],gn.i[Bt+1][1]-gn.v[Bt+1][1]]),kt.tLength+=Ln.segmentLength,kt.segments.push(Ln),un+=Ln.segmentLength;Bt=Ft,An.v.c&&(Ln=bez.buildBezierData(gn.v[Bt],gn.v[0],[gn.o[Bt][0]-gn.v[Bt][0],gn.o[Bt][1]-gn.v[Bt][1]],[gn.i[0][0]-gn.v[0][0],gn.i[0][1]-gn.v[0][1]]),kt.tLength+=Ln.segmentLength,kt.segments.push(Ln),un+=Ln.segmentLength),this._pathData.pi=kt}if(kt=this._pathData.pi,zt=this._pathData.f.v,Wt=0,Zt=1,en=0,Kt=!0,ln=kt.segments,zt<0&&An.v.c)for(kt.tLength<Math.abs(zt)&&(zt=-Math.abs(zt)%kt.tLength),Wt=ln.length-1,an=ln[Wt].points,Zt=an.length-1;zt<0;)zt+=an[Zt].partialLength,Zt-=1,Zt<0&&(Wt-=1,an=ln[Wt].points,Zt=an.length-1);an=ln[Wt].points,tn=an[Zt-1],Ht=an[Zt],fn=Ht.partialLength}Ft=Dt.length,Tt=0,Rt=0;var Cn=dt.finalSize*1.2*.714,En=!0,yn,Rn,hn,mn,bn;mn=vt.length;var Mn,Tn=-1,In,Nn,$n,Gn=zt,Zn=Wt,Un=Zt,Xn=-1,Vn,Wn,Dn,jn,Qn,ir,hr,Pr,tr="",xr=this.defaultPropsArray,Tr;if(dt.j===2||dt.j===1){var mr=0,On=0,Bn=dt.j===2?-.5:-1,Yn=0,ur=!0;for(Bt=0;Bt<Ft;Bt+=1)if(Dt[Bt].n){for(mr&&(mr+=On);Yn<Bt;)Dt[Yn].animatorJustifyOffset=mr,Yn+=1;mr=0,ur=!0}else{for(hn=0;hn<mn;hn+=1)yn=vt[hn].a,yn.t.propType&&(ur&&dt.j===2&&(On+=yn.t.v*Bn),Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),Mn.length?mr+=yn.t.v*Mn[0]*Bn:mr+=yn.t.v*Mn*Bn);ur=!1}for(mr&&(mr+=On);Yn<Bt;)Dt[Yn].animatorJustifyOffset=mr,Yn+=1}for(Bt=0;Bt<Ft;Bt+=1){if(Et.reset(),Vn=1,Dt[Bt].n)Tt=0,Rt+=dt.yOffset,Rt+=En?1:0,zt=Gn,En=!1,this._hasMaskedPath&&(Wt=Zn,Zt=Un,an=ln[Wt].points,tn=an[Zt-1],Ht=an[Zt],fn=Ht.partialLength,en=0),tr="",Pr="",ir="",Tr="",xr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Xn!==Dt[Bt].line){switch(dt.j){case 1:zt+=un-dt.lineWidths[Dt[Bt].line];break;case 2:zt+=(un-dt.lineWidths[Dt[Bt].line])/2;break}Xn=Dt[Bt].line}Tn!==Dt[Bt].ind&&(Dt[Tn]&&(zt+=Dt[Tn].extra),zt+=Dt[Bt].an/2,Tn=Dt[Bt].ind),zt+=ft[0]*Dt[Bt].an*.005;var Cr=0;for(hn=0;hn<mn;hn+=1)yn=vt[hn].a,yn.p.propType&&(Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),Mn.length?Cr+=yn.p.v[0]*Mn[0]:Cr+=yn.p.v[0]*Mn),yn.a.propType&&(Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),Mn.length?Cr+=yn.a.v[0]*Mn[0]:Cr+=yn.a.v[0]*Mn);for(Kt=!0,this._pathData.a.v&&(zt=Dt[0].an*.5+(un-this._pathData.f.v-Dt[0].an*.5-Dt[Dt.length-1].an*.5)*Tn/(Ft-1),zt+=this._pathData.f.v);Kt;)en+fn>=zt+Cr||!an?(pn=(zt+Cr-en)/Ht.partialLength,Nn=tn.point[0]+(Ht.point[0]-tn.point[0])*pn,$n=tn.point[1]+(Ht.point[1]-tn.point[1])*pn,Et.translate(-ft[0]*Dt[Bt].an*.005,-(ft[1]*Cn)*.01),Kt=!1):an&&(en+=Ht.partialLength,Zt+=1,Zt>=an.length&&(Zt=0,Wt+=1,ln[Wt]?an=ln[Wt].points:An.v.c?(Zt=0,Wt=0,an=ln[Wt].points):(en-=Ht.partialLength,an=null)),an&&(tn=Ht,Ht=an[Zt],fn=Ht.partialLength));In=Dt[Bt].an/2-Dt[Bt].add,Et.translate(-In,0,0)}else In=Dt[Bt].an/2-Dt[Bt].add,Et.translate(-In,0,0),Et.translate(-ft[0]*Dt[Bt].an*.005,-ft[1]*Cn*.01,0);for(hn=0;hn<mn;hn+=1)yn=vt[hn].a,yn.t.propType&&(Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),(Tt!==0||dt.j!==0)&&(this._hasMaskedPath?Mn.length?zt+=yn.t.v*Mn[0]:zt+=yn.t.v*Mn:Mn.length?Tt+=yn.t.v*Mn[0]:Tt+=yn.t.v*Mn));for(dt.strokeWidthAnim&&(Dn=dt.sw||0),dt.strokeColorAnim&&(dt.sc?Wn=[dt.sc[0],dt.sc[1],dt.sc[2]]:Wn=[0,0,0]),dt.fillColorAnim&&dt.fc&&(jn=[dt.fc[0],dt.fc[1],dt.fc[2]]),hn=0;hn<mn;hn+=1)yn=vt[hn].a,yn.a.propType&&(Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),Mn.length?Et.translate(-yn.a.v[0]*Mn[0],-yn.a.v[1]*Mn[1],yn.a.v[2]*Mn[2]):Et.translate(-yn.a.v[0]*Mn,-yn.a.v[1]*Mn,yn.a.v[2]*Mn));for(hn=0;hn<mn;hn+=1)yn=vt[hn].a,yn.s.propType&&(Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),Mn.length?Et.scale(1+(yn.s.v[0]-1)*Mn[0],1+(yn.s.v[1]-1)*Mn[1],1):Et.scale(1+(yn.s.v[0]-1)*Mn,1+(yn.s.v[1]-1)*Mn,1));for(hn=0;hn<mn;hn+=1){if(yn=vt[hn].a,Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),yn.sk.propType&&(Mn.length?Et.skewFromAxis(-yn.sk.v*Mn[0],yn.sa.v*Mn[1]):Et.skewFromAxis(-yn.sk.v*Mn,yn.sa.v*Mn)),yn.r.propType&&(Mn.length?Et.rotateZ(-yn.r.v*Mn[2]):Et.rotateZ(-yn.r.v*Mn)),yn.ry.propType&&(Mn.length?Et.rotateY(yn.ry.v*Mn[1]):Et.rotateY(yn.ry.v*Mn)),yn.rx.propType&&(Mn.length?Et.rotateX(yn.rx.v*Mn[0]):Et.rotateX(yn.rx.v*Mn)),yn.o.propType&&(Mn.length?Vn+=(yn.o.v*Mn[0]-Vn)*Mn[0]:Vn+=(yn.o.v*Mn-Vn)*Mn),dt.strokeWidthAnim&&yn.sw.propType&&(Mn.length?Dn+=yn.sw.v*Mn[0]:Dn+=yn.sw.v*Mn),dt.strokeColorAnim&&yn.sc.propType)for(Qn=0;Qn<3;Qn+=1)Mn.length?Wn[Qn]+=(yn.sc.v[Qn]-Wn[Qn])*Mn[0]:Wn[Qn]+=(yn.sc.v[Qn]-Wn[Qn])*Mn;if(dt.fillColorAnim&&dt.fc){if(yn.fc.propType)for(Qn=0;Qn<3;Qn+=1)Mn.length?jn[Qn]+=(yn.fc.v[Qn]-jn[Qn])*Mn[0]:jn[Qn]+=(yn.fc.v[Qn]-jn[Qn])*Mn;yn.fh.propType&&(Mn.length?jn=addHueToRGB(jn,yn.fh.v*Mn[0]):jn=addHueToRGB(jn,yn.fh.v*Mn)),yn.fs.propType&&(Mn.length?jn=addSaturationToRGB(jn,yn.fs.v*Mn[0]):jn=addSaturationToRGB(jn,yn.fs.v*Mn)),yn.fb.propType&&(Mn.length?jn=addBrightnessToRGB(jn,yn.fb.v*Mn[0]):jn=addBrightnessToRGB(jn,yn.fb.v*Mn))}}for(hn=0;hn<mn;hn+=1)yn=vt[hn].a,yn.p.propType&&(Rn=vt[hn].s,Mn=Rn.getMult(Dt[Bt].anIndexes[hn],St.a[hn].s.totalChars),this._hasMaskedPath?Mn.length?Et.translate(0,yn.p.v[1]*Mn[0],-yn.p.v[2]*Mn[1]):Et.translate(0,yn.p.v[1]*Mn,-yn.p.v[2]*Mn):Mn.length?Et.translate(yn.p.v[0]*Mn[0],yn.p.v[1]*Mn[1],-yn.p.v[2]*Mn[2]):Et.translate(yn.p.v[0]*Mn,yn.p.v[1]*Mn,-yn.p.v[2]*Mn));if(dt.strokeWidthAnim&&(ir=Dn<0?0:Dn),dt.strokeColorAnim&&(hr="rgb("+Math.round(Wn[0]*255)+","+Math.round(Wn[1]*255)+","+Math.round(Wn[2]*255)+")"),dt.fillColorAnim&&dt.fc&&(Pr="rgb("+Math.round(jn[0]*255)+","+Math.round(jn[1]*255)+","+Math.round(jn[2]*255)+")"),this._hasMaskedPath){if(Et.translate(0,-dt.ls),Et.translate(0,ft[1]*Cn*.01+Rt,0),this._pathData.p.v){xn=(Ht.point[1]-tn.point[1])/(Ht.point[0]-tn.point[0]);var Ar=Math.atan(xn)*180/Math.PI;Ht.point[0]<tn.point[0]&&(Ar+=180),Et.rotate(-Ar*Math.PI/180)}Et.translate(Nn,$n,0),zt-=ft[0]*Dt[Bt].an*.005,Dt[Bt+1]&&Tn!==Dt[Bt+1].ind&&(zt+=Dt[Bt].an/2,zt+=dt.tr*.001*dt.finalSize)}else{switch(Et.translate(Tt,Rt,0),dt.ps&&Et.translate(dt.ps[0],dt.ps[1]+dt.ascent,0),dt.j){case 1:Et.translate(Dt[Bt].animatorJustifyOffset+dt.justifyOffset+(dt.boxWidth-dt.lineWidths[Dt[Bt].line]),0,0);break;case 2:Et.translate(Dt[Bt].animatorJustifyOffset+dt.justifyOffset+(dt.boxWidth-dt.lineWidths[Dt[Bt].line])/2,0,0);break}Et.translate(0,-dt.ls),Et.translate(In,0,0),Et.translate(ft[0]*Dt[Bt].an*.005,ft[1]*Cn*.01,0),Tt+=Dt[Bt].l+dt.tr*.001*dt.finalSize}At==="html"?tr=Et.toCSS():At==="svg"?tr=Et.to2dCSS():xr=[Et.props[0],Et.props[1],Et.props[2],Et.props[3],Et.props[4],Et.props[5],Et.props[6],Et.props[7],Et.props[8],Et.props[9],Et.props[10],Et.props[11],Et.props[12],Et.props[13],Et.props[14],Et.props[15]],Tr=Vn}Ct<=Bt?(bn=new LetterProps(Tr,ir,hr,Pr,tr,xr),this.renderedLetters.push(bn),Ct+=1,this.lettersChangedFlag=!0):(bn=this.renderedLetters[Bt],this.lettersChangedFlag=bn.update(Tr,ir,hr,Pr,tr,xr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(dt,lt,ft){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(dt,lt,ft),this.textProperty=new TextProperty(this,dt.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(dt.t,this.renderType,this),this.initTransform(dt,lt,ft),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(dt){this._mdf=!1,this.prepareRenderableFrame(dt),this.prepareProperties(dt,this.isInRange)},ITextElement.prototype.createPathShape=function(dt,lt){var ft,vt=lt.length,St,Et="";for(ft=0;ft<vt;ft+=1)lt[ft].ty==="sh"&&(St=lt[ft].ks.k,Et+=buildShapeString(St,St.i.length,!0,dt));return Et},ITextElement.prototype.updateDocumentData=function(dt,lt){this.textProperty.updateDocumentData(dt,lt)},ITextElement.prototype.canResizeFont=function(dt){this.textProperty.canResizeFont(dt)},ITextElement.prototype.setMinimumFontSize=function(dt){this.textProperty.setMinimumFontSize(dt)},ITextElement.prototype.applyTextPropertiesToMatrix=function(dt,lt,ft,vt,St){switch(dt.ps&&lt.translate(dt.ps[0],dt.ps[1]+dt.ascent,0),lt.translate(0,-dt.ls,0),dt.j){case 1:lt.translate(dt.justifyOffset+(dt.boxWidth-dt.lineWidths[ft]),0,0);break;case 2:lt.translate(dt.justifyOffset+(dt.boxWidth-dt.lineWidths[ft])/2,0,0);break}lt.translate(vt,St,0)},ITextElement.prototype.buildColor=function(dt){return"rgb("+Math.round(dt[0]*255)+","+Math.round(dt[1]*255)+","+Math.round(dt[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(dt,lt,ft){this.textSpans=[],this.renderType="svg",this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(dt){for(var lt=0,ft=dt.length,vt=[],St="";lt<ft;)dt[lt]===String.fromCharCode(13)||dt[lt]===String.fromCharCode(3)?(vt.push(St),St=""):St+=dt[lt],lt+=1;return vt.push(St),vt},SVGTextLottieElement.prototype.buildShapeData=function(dt,lt){if(dt.shapes&&dt.shapes.length){var ft=dt.shapes[0];if(ft.it){var vt=ft.it[ft.it.length-1];vt.s&&(vt.s.k[0]=lt,vt.s.k[1]=lt)}}return dt},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var dt,lt,ft=this.textProperty.currentData;this.renderedLetters=createSizedArray(ft?ft.l.length:0),ft.fc?this.layerElement.setAttribute("fill",this.buildColor(ft.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),ft.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(ft.sc)),this.layerElement.setAttribute("stroke-width",ft.sw)),this.layerElement.setAttribute("font-size",ft.finalSize);var vt=this.globalData.fontManager.getFontByName(ft.f);if(vt.fClass)this.layerElement.setAttribute("class",vt.fClass);else{this.layerElement.setAttribute("font-family",vt.fFamily);var St=ft.fWeight,Et=ft.fStyle;this.layerElement.setAttribute("font-style",Et),this.layerElement.setAttribute("font-weight",St)}this.layerElement.setAttribute("aria-label",ft.t);var At=ft.l||[],Ct=!!this.globalData.fontManager.chars;lt=At.length;var Tt,Rt=this.mHelper,Bt="",Ft=this.data.singleShape,Dt=0,kt=0,zt=!0,Ht=ft.tr*.001*ft.finalSize;if(Ft&&!Ct&&!ft.sz){var en=this.textContainer,Kt="start";switch(ft.j){case 1:Kt="end";break;case 2:Kt="middle";break;default:Kt="start";break}en.setAttribute("text-anchor",Kt),en.setAttribute("letter-spacing",Ht);var Zt=this.buildTextContents(ft.finalText);for(lt=Zt.length,kt=ft.ps?ft.ps[1]+ft.ascent:0,dt=0;dt<lt;dt+=1)Tt=this.textSpans[dt].span||createNS("tspan"),Tt.textContent=Zt[dt],Tt.setAttribute("x",0),Tt.setAttribute("y",kt),Tt.style.display="inherit",en.appendChild(Tt),this.textSpans[dt]||(this.textSpans[dt]={span:null,glyph:null}),this.textSpans[dt].span=Tt,kt+=ft.finalLineHeight;this.layerElement.appendChild(en)}else{var Wt=this.textSpans.length,tn;for(dt=0;dt<lt;dt+=1){if(this.textSpans[dt]||(this.textSpans[dt]={span:null,childSpan:null,glyph:null}),!Ct||!Ft||dt===0){if(Tt=Wt>dt?this.textSpans[dt].span:createNS(Ct?"g":"text"),Wt<=dt){if(Tt.setAttribute("stroke-linecap","butt"),Tt.setAttribute("stroke-linejoin","round"),Tt.setAttribute("stroke-miterlimit","4"),this.textSpans[dt].span=Tt,Ct){var an=createNS("g");Tt.appendChild(an),this.textSpans[dt].childSpan=an}this.textSpans[dt].span=Tt,this.layerElement.appendChild(Tt)}Tt.style.display="inherit"}if(Rt.reset(),Ft&&(At[dt].n&&(Dt=-Ht,kt+=ft.yOffset,kt+=zt?1:0,zt=!1),this.applyTextPropertiesToMatrix(ft,Rt,At[dt].line,Dt,kt),Dt+=At[dt].l||0,Dt+=Ht),Ct){tn=this.globalData.fontManager.getCharData(ft.finalText[dt],vt.fStyle,this.globalData.fontManager.getFontByName(ft.f).fFamily);var ln;if(tn.t===1)ln=new SVGCompElement(tn.data,this.globalData,this);else{var fn=emptyShapeData;tn.data&&tn.data.shapes&&(fn=this.buildShapeData(tn.data,ft.finalSize)),ln=new SVGShapeElement(fn,this.globalData,this)}if(this.textSpans[dt].glyph){var un=this.textSpans[dt].glyph;this.textSpans[dt].childSpan.removeChild(un.layerElement),un.destroy()}this.textSpans[dt].glyph=ln,ln._debug=!0,ln.prepareFrame(0),ln.renderFrame(),this.textSpans[dt].childSpan.appendChild(ln.layerElement),tn.t===1&&this.textSpans[dt].childSpan.setAttribute("transform","scale("+ft.finalSize/100+","+ft.finalSize/100+")")}else Ft&&Tt.setAttribute("transform","translate("+Rt.props[12]+","+Rt.props[13]+")"),Tt.textContent=At[dt].val,Tt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Ft&&Tt&&Tt.setAttribute("d",Bt)}for(;dt<this.textSpans.length;)this.textSpans[dt].span.style.display="none",dt+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var dt=this.layerElement.getBBox();this.bbox={top:dt.y,left:dt.x,width:dt.width,height:dt.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var dt,lt=this.textSpans.length,ft;for(this.renderedFrame=this.comp.renderedFrame,dt=0;dt<lt;dt+=1)ft=this.textSpans[dt].glyph,ft&&(ft.prepareFrame(this.comp.renderedFrame-this.data.st),ft._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var dt,lt,ft=this.textAnimator.renderedLetters,vt=this.textProperty.currentData.l;lt=vt.length;var St,Et,At;for(dt=0;dt<lt;dt+=1)vt[dt].n||(St=ft[dt],Et=this.textSpans[dt].span,At=this.textSpans[dt].glyph,At&&At.renderFrame(),St._mdf.m&&Et.setAttribute("transform",St.m),St._mdf.o&&Et.setAttribute("opacity",St.o),St._mdf.sw&&Et.setAttribute("stroke-width",St.sw),St._mdf.sc&&Et.setAttribute("stroke",St.sc),St._mdf.fc&&Et.setAttribute("fill",St.fc))}};function ISolidElement(dt,lt,ft){this.initElement(dt,lt,ft)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var dt=createNS("rect");dt.setAttribute("width",this.data.sw),dt.setAttribute("height",this.data.sh),dt.setAttribute("fill",this.data.sc),this.layerElement.appendChild(dt)};function NullElement(dt,lt,ft){this.initFrame(),this.initBaseData(dt,lt,ft),this.initFrame(),this.initTransform(dt,lt,ft),this.initHierarchy()}NullElement.prototype.prepareFrame=function(dt){this.prepareProperties(dt,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(dt){return new NullElement(dt,this.globalData,this)},SVGRendererBase.prototype.createShape=function(dt){return new SVGShapeElement(dt,this.globalData,this)},SVGRendererBase.prototype.createText=function(dt){return new SVGTextLottieElement(dt,this.globalData,this)},SVGRendererBase.prototype.createImage=function(dt){return new IImageElement(dt,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(dt){return new ISolidElement(dt,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(dt){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+dt.w+" "+dt.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",dt.w),this.svgElement.setAttribute("height",dt.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var lt=this.globalData.defs;this.setupGlobalData(dt,lt),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=dt;var ft=createNS("clipPath"),vt=createNS("rect");vt.setAttribute("width",dt.w),vt.setAttribute("height",dt.h),vt.setAttribute("x",0),vt.setAttribute("y",0);var St=createElementID();ft.setAttribute("id",St),ft.appendChild(vt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+St+")"),lt.appendChild(ft),this.layers=dt.layers,this.elements=createSizedArray(dt.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var dt,lt=this.layers?this.layers.length:0;for(dt=0;dt<lt;dt+=1)this.elements[dt]&&this.elements[dt].destroy&&this.elements[dt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(dt){var lt=0,ft=this.layers.length;for(lt=0;lt<ft;lt+=1)if(this.layers[lt].ind===dt)return lt;return-1},SVGRendererBase.prototype.buildItem=function(dt){var lt=this.elements;if(!(lt[dt]||this.layers[dt].ty===99)){lt[dt]=!0;var ft=this.createItem(this.layers[dt]);if(lt[dt]=ft,getExpressionsPlugin()&&(this.layers[dt].ty===0&&this.globalData.projectInterface.registerComposition(ft),ft.initExpressions()),this.appendElementInPos(ft,dt),this.layers[dt].tt){var vt="tp"in this.layers[dt]?this.findIndexByInd(this.layers[dt].tp):dt-1;if(vt===-1)return;if(!this.elements[vt]||this.elements[vt]===!0)this.buildItem(vt),this.addPendingElement(ft);else{var St=lt[vt],Et=St.getMatte(this.layers[dt].tt);ft.setMatte(Et)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var dt=this.pendingElements.pop();if(dt.checkParenting(),dt.data.tt)for(var lt=0,ft=this.elements.length;lt<ft;){if(this.elements[lt]===dt){var vt="tp"in dt.data?this.findIndexByInd(dt.data.tp):lt-1,St=this.elements[vt],Et=St.getMatte(this.layers[lt].tt);dt.setMatte(Et);break}lt+=1}}},SVGRendererBase.prototype.renderFrame=function(dt){if(!(this.renderedFrame===dt||this.destroyed)){dt===null?dt=this.renderedFrame:this.renderedFrame=dt,this.globalData.frameNum=dt,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=dt,this.globalData._mdf=!1;var lt,ft=this.layers.length;for(this.completeLayers||this.checkLayers(dt),lt=ft-1;lt>=0;lt-=1)(this.completeLayers||this.elements[lt])&&this.elements[lt].prepareFrame(dt-this.layers[lt].st);if(this.globalData._mdf)for(lt=0;lt<ft;lt+=1)(this.completeLayers||this.elements[lt])&&this.elements[lt].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(dt,lt){var ft=dt.getBaseElement();if(ft){for(var vt=0,St;vt<lt;)this.elements[vt]&&this.elements[vt]!==!0&&this.elements[vt].getBaseElement()&&(St=this.elements[vt].getBaseElement()),vt+=1;St?this.layerElement.insertBefore(ft,St):this.layerElement.appendChild(ft)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(dt,lt,ft){this.initFrame(),this.initBaseData(dt,lt,ft),this.initTransform(dt,lt,ft),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!lt.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(dt){if(this._mdf=!1,this.prepareRenderableFrame(dt),this.prepareProperties(dt,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=dt/this.data.sr;else{var lt=this.tm.v;lt===this.data.op&&(lt=this.data.op-1),this.renderedFrame=lt}var ft,vt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),ft=vt-1;ft>=0;ft-=1)(this.completeLayers||this.elements[ft])&&(this.elements[ft].prepareFrame(this.renderedFrame-this.layers[ft].st),this.elements[ft]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var dt,lt=this.layers.length;for(dt=0;dt<lt;dt+=1)(this.completeLayers||this.elements[dt])&&this.elements[dt].renderFrame()},ICompElement.prototype.setElements=function(dt){this.elements=dt},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var dt,lt=this.layers.length;for(dt=0;dt<lt;dt+=1)this.elements[dt]&&this.elements[dt].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(dt,lt,ft){this.layers=dt.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(dt,lt,ft),this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,lt.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(dt){return new SVGCompElement(dt,this.globalData,this)};function SVGRenderer(dt,lt){this.animationItem=dt,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var ft="";if(lt&&lt.title){var vt=createNS("title"),St=createElementID();vt.setAttribute("id",St),vt.textContent=lt.title,this.svgElement.appendChild(vt),ft+=St}if(lt&&lt.description){var Et=createNS("desc"),At=createElementID();Et.setAttribute("id",At),Et.textContent=lt.description,this.svgElement.appendChild(Et),ft+=" "+At}ft&&this.svgElement.setAttribute("aria-labelledby",ft);var Ct=createNS("defs");this.svgElement.appendChild(Ct);var Tt=createNS("g");this.svgElement.appendChild(Tt),this.layerElement=Tt,this.renderConfig={preserveAspectRatio:lt&&lt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:lt&&lt.contentVisibility||"visible",progressiveLoad:lt&&lt.progressiveLoad||!1,hideOnTransparent:!(lt&&lt.hideOnTransparent===!1),viewBoxOnly:lt&&lt.viewBoxOnly||!1,viewBoxSize:lt&&lt.viewBoxSize||!1,className:lt&&lt.className||"",id:lt&&lt.id||"",focusable:lt&&lt.focusable,filterSize:{width:lt&&lt.filterSize&&lt.filterSize.width||"100%",height:lt&&lt.filterSize&&lt.filterSize.height||"100%",x:lt&&lt.filterSize&&lt.filterSize.x||"0%",y:lt&&lt.filterSize&&lt.filterSize.y||"0%"},width:lt&&lt.width,height:lt&&lt.height,runExpressions:!lt||lt.runExpressions===void 0||lt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Ct,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(dt){return new SVGCompElement(dt,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(lt){var ft,vt=lt.length,St="_";for(ft=0;ft<vt;ft+=1)St+=lt[ft].transform.key+"_";var Et=this.sequences[St];return Et||(Et={transforms:[].concat(lt),finalTransform:new Matrix,_mdf:!1},this.sequences[St]=Et,this.sequenceList.push(Et)),Et},processSequence:function(lt,ft){for(var vt=0,St=lt.transforms.length,Et=ft;vt<St&&!ft;){if(lt.transforms[vt].transform.mProps._mdf){Et=!0;break}vt+=1}if(Et)for(lt.finalTransform.reset(),vt=St-1;vt>=0;vt-=1)lt.finalTransform.multiply(lt.transforms[vt].transform.mProps.v);lt._mdf=Et},processSequences:function(lt){var ft,vt=this.sequenceList.length;for(ft=0;ft<vt;ft+=1)this.processSequence(this.sequenceList[ft],lt)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var lt="__lottie_element_luma_buffer",ft=null,vt=null,St=null;function Et(){var Tt=createNS("svg"),Rt=createNS("filter"),Bt=createNS("feColorMatrix");return Rt.setAttribute("id",lt),Bt.setAttribute("type","matrix"),Bt.setAttribute("color-interpolation-filters","sRGB"),Bt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Rt.appendChild(Bt),Tt.appendChild(Rt),Tt.setAttribute("id",lt+"_svg"),featureSupport.svgLumaHidden&&(Tt.style.display="none"),Tt}function At(){ft||(St=Et(),document.body.appendChild(St),ft=createTag("canvas"),vt=ft.getContext("2d"),vt.filter="url(#"+lt+")",vt.fillStyle="rgba(0,0,0,0)",vt.fillRect(0,0,1,1))}function Ct(Tt){return ft||At(),ft.width=Tt.width,ft.height=Tt.height,vt.filter="url(#"+lt+")",ft}return{load:At,get:Ct}};function createCanvas(dt,lt){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(dt,lt);var ft=createTag("canvas");return ft.width=dt,ft.height=lt,ft}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(dt){var lt,ft=dt.data.ef?dt.data.ef.length:0;this.filters=[];var vt;for(lt=0;lt<ft;lt+=1){vt=null;var St=dt.data.ef[lt].ty;if(registeredEffects[St]){var Et=registeredEffects[St].effect;vt=new Et(dt.effectsManager.effectElements[lt],dt)}vt&&this.filters.push(vt)}this.filters.length&&dt.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(dt){var lt,ft=this.filters.length;for(lt=0;lt<ft;lt+=1)this.filters[lt].renderFrame(dt)},CVEffects.prototype.getEffects=function(dt){var lt,ft=this.filters.length,vt=[];for(lt=0;lt<ft;lt+=1)this.filters[lt].type===dt&&vt.push(this.filters[lt]);return vt};function registerEffect(dt,lt){registeredEffects[dt]={effect:lt}}function CVMaskElement(dt,lt){this.data=dt,this.element=lt,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var ft,vt=this.masksProperties.length,St=!1;for(ft=0;ft<vt;ft+=1)this.masksProperties[ft].mode!=="n"&&(St=!0),this.viewData[ft]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[ft],3);this.hasMasks=St,St&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var dt=this.element.finalTransform.mat,lt=this.element.canvasContext,ft,vt=this.masksProperties.length,St,Et,At;for(lt.beginPath(),ft=0;ft<vt;ft+=1)if(this.masksProperties[ft].mode!=="n"){this.masksProperties[ft].inv&&(lt.moveTo(0,0),lt.lineTo(this.element.globalData.compSize.w,0),lt.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),lt.lineTo(0,this.element.globalData.compSize.h),lt.lineTo(0,0)),At=this.viewData[ft].v,St=dt.applyToPointArray(At.v[0][0],At.v[0][1],0),lt.moveTo(St[0],St[1]);var Ct,Tt=At._length;for(Ct=1;Ct<Tt;Ct+=1)Et=dt.applyToTriplePoints(At.o[Ct-1],At.i[Ct],At.v[Ct]),lt.bezierCurveTo(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5]);Et=dt.applyToTriplePoints(At.o[Ct-1],At.i[0],At.v[0]),lt.bezierCurveTo(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5])}this.element.globalData.renderer.save(!0),lt.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var lt=this.globalData.canvasContext,ft=assetLoader.createCanvas(lt.canvas.width,lt.canvas.height);this.buffers.push(ft);var vt=assetLoader.createCanvas(lt.canvas.width,lt.canvas.height);this.buffers.push(vt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var lt=this.globalData;if(lt.blendMode!==this.data.bm){lt.blendMode=this.data.bm;var ft=getBlendMode(this.data.bm);lt.canvasContext.globalCompositeOperation=ft}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(lt){lt.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var lt=this.buffers[0],ft=lt.getContext("2d");this.clearCanvas(ft),ft.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var lt=this.buffers[1],ft=lt.getContext("2d");this.clearCanvas(ft),ft.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var vt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(vt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var St=assetLoader.getLumaCanvas(this.canvasContext.canvas),Et=St.getContext("2d");Et.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(St,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(lt,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(lt){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!lt)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var ft=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(ft),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(ft),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(dt,lt,ft,vt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var St=4;lt.ty==="rc"?St=5:lt.ty==="el"?St=6:lt.ty==="sr"&&(St=7),this.sh=ShapePropertyFactory.getShapeProp(dt,lt,St,dt);var Et,At=ft.length,Ct;for(Et=0;Et<At;Et+=1)ft[Et].closed||(Ct={transforms:vt.addTransformSequence(ft[Et].transforms),trNodes:[]},this.styledShapes.push(Ct),ft[Et].elements.push(Ct))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(dt,lt,ft){this.shapes=[],this.shapesData=dt.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(dt,lt){var ft={data:dt,type:dt.ty,preTransforms:this.transformsManager.addTransformSequence(lt),transforms:[],elements:[],closed:dt.hd===!0},vt={};if(dt.ty==="fl"||dt.ty==="st"?(vt.c=PropertyFactory.getProp(this,dt.c,1,255,this),vt.c.k||(ft.co="rgb("+bmFloor(vt.c.v[0])+","+bmFloor(vt.c.v[1])+","+bmFloor(vt.c.v[2])+")")):(dt.ty==="gf"||dt.ty==="gs")&&(vt.s=PropertyFactory.getProp(this,dt.s,1,null,this),vt.e=PropertyFactory.getProp(this,dt.e,1,null,this),vt.h=PropertyFactory.getProp(this,dt.h||{k:0},0,.01,this),vt.a=PropertyFactory.getProp(this,dt.a||{k:0},0,degToRads,this),vt.g=new GradientProperty(this,dt.g,this)),vt.o=PropertyFactory.getProp(this,dt.o,0,.01,this),dt.ty==="st"||dt.ty==="gs"){if(ft.lc=lineCapEnum[dt.lc||2],ft.lj=lineJoinEnum[dt.lj||2],dt.lj==1&&(ft.ml=dt.ml),vt.w=PropertyFactory.getProp(this,dt.w,0,null,this),vt.w.k||(ft.wi=vt.w.v),dt.d){var St=new DashProperty(this,dt.d,"canvas",this);vt.d=St,vt.d.k||(ft.da=vt.d.dashArray,ft.do=vt.d.dashoffset[0])}}else ft.r=dt.r===2?"evenodd":"nonzero";return this.stylesList.push(ft),vt.style=ft,vt},CVShapeElement.prototype.createGroupElement=function(){var dt={it:[],prevViewData:[]};return dt},CVShapeElement.prototype.createTransformElement=function(dt){var lt={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,dt.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,dt,this)}};return lt},CVShapeElement.prototype.createShapeElement=function(dt){var lt=new CVShapeData(this,dt,this.stylesList,this.transformsManager);return this.shapes.push(lt),this.addShapeToModifiers(lt),lt},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var dt,lt=this.itemsData.length;for(dt=0;dt<lt;dt+=1)this.prevViewData[dt]=this.itemsData[dt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),lt=this.dynamicProperties.length,dt=0;dt<lt;dt+=1)this.dynamicProperties[dt].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(dt){var lt,ft=this.stylesList.length;for(lt=0;lt<ft;lt+=1)this.stylesList[lt].closed||this.stylesList[lt].transforms.push(dt)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var dt,lt=this.stylesList.length;for(dt=0;dt<lt;dt+=1)this.stylesList[dt].closed||this.stylesList[dt].transforms.pop()},CVShapeElement.prototype.closeStyles=function(dt){var lt,ft=dt.length;for(lt=0;lt<ft;lt+=1)dt[lt].closed=!0},CVShapeElement.prototype.searchShapes=function(dt,lt,ft,vt,St){var Et,At=dt.length-1,Ct,Tt,Rt=[],Bt=[],Ft,Dt,kt,zt=[].concat(St);for(Et=At;Et>=0;Et-=1){if(Ft=this.searchProcessedElement(dt[Et]),Ft?lt[Et]=ft[Ft-1]:dt[Et]._shouldRender=vt,dt[Et].ty==="fl"||dt[Et].ty==="st"||dt[Et].ty==="gf"||dt[Et].ty==="gs")Ft?lt[Et].style.closed=!1:lt[Et]=this.createStyleElement(dt[Et],zt),Rt.push(lt[Et].style);else if(dt[Et].ty==="gr"){if(!Ft)lt[Et]=this.createGroupElement(dt[Et]);else for(Tt=lt[Et].it.length,Ct=0;Ct<Tt;Ct+=1)lt[Et].prevViewData[Ct]=lt[Et].it[Ct];this.searchShapes(dt[Et].it,lt[Et].it,lt[Et].prevViewData,vt,zt)}else dt[Et].ty==="tr"?(Ft||(kt=this.createTransformElement(dt[Et]),lt[Et]=kt),zt.push(lt[Et]),this.addTransformToStyleList(lt[Et])):dt[Et].ty==="sh"||dt[Et].ty==="rc"||dt[Et].ty==="el"||dt[Et].ty==="sr"?Ft||(lt[Et]=this.createShapeElement(dt[Et])):dt[Et].ty==="tm"||dt[Et].ty==="rd"||dt[Et].ty==="pb"||dt[Et].ty==="zz"||dt[Et].ty==="op"?(Ft?(Dt=lt[Et],Dt.closed=!1):(Dt=ShapeModifiers.getModifier(dt[Et].ty),Dt.init(this,dt[Et]),lt[Et]=Dt,this.shapeModifiers.push(Dt)),Bt.push(Dt)):dt[Et].ty==="rp"&&(Ft?(Dt=lt[Et],Dt.closed=!0):(Dt=ShapeModifiers.getModifier(dt[Et].ty),lt[Et]=Dt,Dt.init(this,dt,Et,lt),this.shapeModifiers.push(Dt),vt=!1),Bt.push(Dt));this.addProcessedElement(dt[Et],Et+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Rt),At=Bt.length,Et=0;Et<At;Et+=1)Bt[Et].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(dt,lt){(dt._opMdf||lt.op._mdf||this._isFirstFrame)&&(lt.opacity=dt.opacity,lt.opacity*=lt.op.v,lt._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var dt,lt=this.stylesList.length,ft,vt,St,Et,At,Ct,Tt=this.globalData.renderer,Rt=this.globalData.canvasContext,Bt,Ft;for(dt=0;dt<lt;dt+=1)if(Ft=this.stylesList[dt],Bt=Ft.type,!((Bt==="st"||Bt==="gs")&&Ft.wi===0||!Ft.data._shouldRender||Ft.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Tt.save(),At=Ft.elements,Bt==="st"||Bt==="gs"?(Tt.ctxStrokeStyle(Bt==="st"?Ft.co:Ft.grd),Tt.ctxLineWidth(Ft.wi),Tt.ctxLineCap(Ft.lc),Tt.ctxLineJoin(Ft.lj),Tt.ctxMiterLimit(Ft.ml||0)):Tt.ctxFillStyle(Bt==="fl"?Ft.co:Ft.grd),Tt.ctxOpacity(Ft.coOp),Bt!=="st"&&Bt!=="gs"&&Rt.beginPath(),Tt.ctxTransform(Ft.preTransforms.finalTransform.props),vt=At.length,ft=0;ft<vt;ft+=1){for((Bt==="st"||Bt==="gs")&&(Rt.beginPath(),Ft.da&&(Rt.setLineDash(Ft.da),Rt.lineDashOffset=Ft.do)),Ct=At[ft].trNodes,Et=Ct.length,St=0;St<Et;St+=1)Ct[St].t==="m"?Rt.moveTo(Ct[St].p[0],Ct[St].p[1]):Ct[St].t==="c"?Rt.bezierCurveTo(Ct[St].pts[0],Ct[St].pts[1],Ct[St].pts[2],Ct[St].pts[3],Ct[St].pts[4],Ct[St].pts[5]):Rt.closePath();(Bt==="st"||Bt==="gs")&&(Tt.ctxStroke(),Ft.da&&Rt.setLineDash(this.dashResetter))}Bt!=="st"&&Bt!=="gs"&&this.globalData.renderer.ctxFill(Ft.r),Tt.restore()}},CVShapeElement.prototype.renderShape=function(dt,lt,ft,vt){var St,Et=lt.length-1,At;for(At=dt,St=Et;St>=0;St-=1)lt[St].ty==="tr"?(At=ft[St].transform,this.renderShapeTransform(dt,At)):lt[St].ty==="sh"||lt[St].ty==="el"||lt[St].ty==="rc"||lt[St].ty==="sr"?this.renderPath(lt[St],ft[St]):lt[St].ty==="fl"?this.renderFill(lt[St],ft[St],At):lt[St].ty==="st"?this.renderStroke(lt[St],ft[St],At):lt[St].ty==="gf"||lt[St].ty==="gs"?this.renderGradientFill(lt[St],ft[St],At):lt[St].ty==="gr"?this.renderShape(At,lt[St].it,ft[St].it):lt[St].ty;vt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(dt,lt){if(this._isFirstFrame||lt._mdf||dt.transforms._mdf){var ft=dt.trNodes,vt=lt.paths,St,Et,At,Ct=vt._length;ft.length=0;var Tt=dt.transforms.finalTransform;for(At=0;At<Ct;At+=1){var Rt=vt.shapes[At];if(Rt&&Rt.v){for(Et=Rt._length,St=1;St<Et;St+=1)St===1&&ft.push({t:"m",p:Tt.applyToPointArray(Rt.v[0][0],Rt.v[0][1],0)}),ft.push({t:"c",pts:Tt.applyToTriplePoints(Rt.o[St-1],Rt.i[St],Rt.v[St])});Et===1&&ft.push({t:"m",p:Tt.applyToPointArray(Rt.v[0][0],Rt.v[0][1],0)}),Rt.c&&Et&&(ft.push({t:"c",pts:Tt.applyToTriplePoints(Rt.o[St-1],Rt.i[0],Rt.v[0])}),ft.push({t:"z"}))}}dt.trNodes=ft}},CVShapeElement.prototype.renderPath=function(dt,lt){if(dt.hd!==!0&&dt._shouldRender){var ft,vt=lt.styledShapes.length;for(ft=0;ft<vt;ft+=1)this.renderStyledShape(lt.styledShapes[ft],lt.sh)}},CVShapeElement.prototype.renderFill=function(dt,lt,ft){var vt=lt.style;(lt.c._mdf||this._isFirstFrame)&&(vt.co="rgb("+bmFloor(lt.c.v[0])+","+bmFloor(lt.c.v[1])+","+bmFloor(lt.c.v[2])+")"),(lt.o._mdf||ft._opMdf||this._isFirstFrame)&&(vt.coOp=lt.o.v*ft.opacity)},CVShapeElement.prototype.renderGradientFill=function(dt,lt,ft){var vt=lt.style,St;if(!vt.grd||lt.g._mdf||lt.s._mdf||lt.e._mdf||dt.t!==1&&(lt.h._mdf||lt.a._mdf)){var Et=this.globalData.canvasContext,At=lt.s.v,Ct=lt.e.v;if(dt.t===1)St=Et.createLinearGradient(At[0],At[1],Ct[0],Ct[1]);else{var Tt=Math.sqrt(Math.pow(At[0]-Ct[0],2)+Math.pow(At[1]-Ct[1],2)),Rt=Math.atan2(Ct[1]-At[1],Ct[0]-At[0]),Bt=lt.h.v;Bt>=1?Bt=.99:Bt<=-1&&(Bt=-.99);var Ft=Tt*Bt,Dt=Math.cos(Rt+lt.a.v)*Ft+At[0],kt=Math.sin(Rt+lt.a.v)*Ft+At[1];St=Et.createRadialGradient(Dt,kt,0,At[0],At[1],Tt)}var zt,Ht=dt.g.p,en=lt.g.c,Kt=1;for(zt=0;zt<Ht;zt+=1)lt.g._hasOpacity&&lt.g._collapsable&&(Kt=lt.g.o[zt*2+1]),St.addColorStop(en[zt*4]/100,"rgba("+en[zt*4+1]+","+en[zt*4+2]+","+en[zt*4+3]+","+Kt+")");vt.grd=St}vt.coOp=lt.o.v*ft.opacity},CVShapeElement.prototype.renderStroke=function(dt,lt,ft){var vt=lt.style,St=lt.d;St&&(St._mdf||this._isFirstFrame)&&(vt.da=St.dashArray,vt.do=St.dashoffset[0]),(lt.c._mdf||this._isFirstFrame)&&(vt.co="rgb("+bmFloor(lt.c.v[0])+","+bmFloor(lt.c.v[1])+","+bmFloor(lt.c.v[2])+")"),(lt.o._mdf||ft._opMdf||this._isFirstFrame)&&(vt.coOp=lt.o.v*ft.opacity),(lt.w._mdf||this._isFirstFrame)&&(vt.wi=lt.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(dt,lt,ft){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var dt=this.textProperty.currentData;this.renderedLetters=createSizedArray(dt.l?dt.l.length:0);var lt=!1;dt.fc?(lt=!0,this.values.fill=this.buildColor(dt.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=lt;var ft=!1;dt.sc&&(ft=!0,this.values.stroke=this.buildColor(dt.sc),this.values.sWidth=dt.sw);var vt=this.globalData.fontManager.getFontByName(dt.f),St,Et,At=dt.l,Ct=this.mHelper;this.stroke=ft,this.values.fValue=dt.finalSize+"px "+this.globalData.fontManager.getFontByName(dt.f).fFamily,Et=dt.finalText.length;var Tt,Rt,Bt,Ft,Dt,kt,zt,Ht,en,Kt,Zt=this.data.singleShape,Wt=dt.tr*.001*dt.finalSize,tn=0,an=0,ln=!0,fn=0;for(St=0;St<Et;St+=1){Tt=this.globalData.fontManager.getCharData(dt.finalText[St],vt.fStyle,this.globalData.fontManager.getFontByName(dt.f).fFamily),Rt=Tt&&Tt.data||{},Ct.reset(),Zt&&At[St].n&&(tn=-Wt,an+=dt.yOffset,an+=ln?1:0,ln=!1),Dt=Rt.shapes?Rt.shapes[0].it:[],zt=Dt.length,Ct.scale(dt.finalSize/100,dt.finalSize/100),Zt&&this.applyTextPropertiesToMatrix(dt,Ct,At[St].line,tn,an),en=createSizedArray(zt-1);var un=0;for(kt=0;kt<zt;kt+=1)if(Dt[kt].ty==="sh"){for(Ft=Dt[kt].ks.k.i.length,Ht=Dt[kt].ks.k,Kt=[],Bt=1;Bt<Ft;Bt+=1)Bt===1&&Kt.push(Ct.applyToX(Ht.v[0][0],Ht.v[0][1],0),Ct.applyToY(Ht.v[0][0],Ht.v[0][1],0)),Kt.push(Ct.applyToX(Ht.o[Bt-1][0],Ht.o[Bt-1][1],0),Ct.applyToY(Ht.o[Bt-1][0],Ht.o[Bt-1][1],0),Ct.applyToX(Ht.i[Bt][0],Ht.i[Bt][1],0),Ct.applyToY(Ht.i[Bt][0],Ht.i[Bt][1],0),Ct.applyToX(Ht.v[Bt][0],Ht.v[Bt][1],0),Ct.applyToY(Ht.v[Bt][0],Ht.v[Bt][1],0));Kt.push(Ct.applyToX(Ht.o[Bt-1][0],Ht.o[Bt-1][1],0),Ct.applyToY(Ht.o[Bt-1][0],Ht.o[Bt-1][1],0),Ct.applyToX(Ht.i[0][0],Ht.i[0][1],0),Ct.applyToY(Ht.i[0][0],Ht.i[0][1],0),Ct.applyToX(Ht.v[0][0],Ht.v[0][1],0),Ct.applyToY(Ht.v[0][0],Ht.v[0][1],0)),en[un]=Kt,un+=1}Zt&&(tn+=At[St].l,tn+=Wt),this.textSpans[fn]?this.textSpans[fn].elem=en:this.textSpans[fn]={elem:en},fn+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var dt=this.canvasContext;dt.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var lt,ft,vt,St,Et,At,Ct=this.textAnimator.renderedLetters,Tt=this.textProperty.currentData.l;ft=Tt.length;var Rt,Bt=null,Ft=null,Dt=null,kt,zt,Ht=this.globalData.renderer;for(lt=0;lt<ft;lt+=1)if(!Tt[lt].n){if(Rt=Ct[lt],Rt&&(Ht.save(),Ht.ctxTransform(Rt.p),Ht.ctxOpacity(Rt.o)),this.fill){for(Rt&&Rt.fc?Bt!==Rt.fc&&(Ht.ctxFillStyle(Rt.fc),Bt=Rt.fc):Bt!==this.values.fill&&(Bt=this.values.fill,Ht.ctxFillStyle(this.values.fill)),kt=this.textSpans[lt].elem,St=kt.length,this.globalData.canvasContext.beginPath(),vt=0;vt<St;vt+=1)for(zt=kt[vt],At=zt.length,this.globalData.canvasContext.moveTo(zt[0],zt[1]),Et=2;Et<At;Et+=6)this.globalData.canvasContext.bezierCurveTo(zt[Et],zt[Et+1],zt[Et+2],zt[Et+3],zt[Et+4],zt[Et+5]);this.globalData.canvasContext.closePath(),Ht.ctxFill()}if(this.stroke){for(Rt&&Rt.sw?Dt!==Rt.sw&&(Dt=Rt.sw,Ht.ctxLineWidth(Rt.sw)):Dt!==this.values.sWidth&&(Dt=this.values.sWidth,Ht.ctxLineWidth(this.values.sWidth)),Rt&&Rt.sc?Ft!==Rt.sc&&(Ft=Rt.sc,Ht.ctxStrokeStyle(Rt.sc)):Ft!==this.values.stroke&&(Ft=this.values.stroke,Ht.ctxStrokeStyle(this.values.stroke)),kt=this.textSpans[lt].elem,St=kt.length,this.globalData.canvasContext.beginPath(),vt=0;vt<St;vt+=1)for(zt=kt[vt],At=zt.length,this.globalData.canvasContext.moveTo(zt[0],zt[1]),Et=2;Et<At;Et+=6)this.globalData.canvasContext.bezierCurveTo(zt[Et],zt[Et+1],zt[Et+2],zt[Et+3],zt[Et+4],zt[Et+5]);this.globalData.canvasContext.closePath(),Ht.ctxStroke()}Rt&&this.globalData.renderer.restore()}};function CVImageElement(dt,lt,ft){this.assetData=lt.getAssetData(dt.refId),this.img=lt.imageLoader.getAsset(this.assetData),this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var dt=createTag("canvas");dt.width=this.assetData.w,dt.height=this.assetData.h;var lt=dt.getContext("2d"),ft=this.img.width,vt=this.img.height,St=ft/vt,Et=this.assetData.w/this.assetData.h,At,Ct,Tt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;St>Et&&Tt==="xMidYMid slice"||St<Et&&Tt!=="xMidYMid slice"?(Ct=vt,At=Ct*Et):(At=ft,Ct=At/Et),lt.drawImage(this.img,(ft-At)/2,(vt-Ct)/2,At,Ct,0,0,this.assetData.w,this.assetData.h),this.img=dt}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(dt,lt,ft){this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(dt){return new CVShapeElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createText=function(dt){return new CVTextElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(dt){return new CVImageElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(dt){return new CVSolidElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(dt){dt[0]===1&&dt[1]===0&&dt[4]===0&&dt[5]===1&&dt[12]===0&&dt[13]===0||this.canvasContext.transform(dt[0],dt[1],dt[4],dt[5],dt[12],dt[13])},CanvasRendererBase.prototype.ctxOpacity=function(dt){this.canvasContext.globalAlpha*=dt<0?0:dt},CanvasRendererBase.prototype.ctxFillStyle=function(dt){this.canvasContext.fillStyle=dt},CanvasRendererBase.prototype.ctxStrokeStyle=function(dt){this.canvasContext.strokeStyle=dt},CanvasRendererBase.prototype.ctxLineWidth=function(dt){this.canvasContext.lineWidth=dt},CanvasRendererBase.prototype.ctxLineCap=function(dt){this.canvasContext.lineCap=dt},CanvasRendererBase.prototype.ctxLineJoin=function(dt){this.canvasContext.lineJoin=dt},CanvasRendererBase.prototype.ctxMiterLimit=function(dt){this.canvasContext.miterLimit=dt},CanvasRendererBase.prototype.ctxFill=function(dt){this.canvasContext.fill(dt)},CanvasRendererBase.prototype.ctxFillRect=function(dt,lt,ft,vt){this.canvasContext.fillRect(dt,lt,ft,vt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(dt){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}dt&&(this.globalData.blendMode="source-over"),this.contextData.restore(dt)},CanvasRendererBase.prototype.configAnimation=function(dt){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var lt=this.animationItem.container.style;lt.width="100%",lt.height="100%";var ft="0px 0px 0px";lt.transformOrigin=ft,lt.mozTransformOrigin=ft,lt.webkitTransformOrigin=ft,lt["-webkit-transform"]=ft,lt.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=dt,this.layers=dt.layers,this.transformCanvas={w:dt.w,h:dt.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(dt,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(dt.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(dt,lt){this.reset();var ft,vt;dt?(ft=dt,vt=lt,this.canvasContext.canvas.width=ft,this.canvasContext.canvas.height=vt):(this.animationItem.wrapper&&this.animationItem.container?(ft=this.animationItem.wrapper.offsetWidth,vt=this.animationItem.wrapper.offsetHeight):(ft=this.canvasContext.canvas.width,vt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=ft*this.renderConfig.dpr,this.canvasContext.canvas.height=vt*this.renderConfig.dpr);var St,Et;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var At=this.renderConfig.preserveAspectRatio.split(" "),Ct=At[1]||"meet",Tt=At[0]||"xMidYMid",Rt=Tt.substr(0,4),Bt=Tt.substr(4);St=ft/vt,Et=this.transformCanvas.w/this.transformCanvas.h,Et>St&&Ct==="meet"||Et<St&&Ct==="slice"?(this.transformCanvas.sx=ft/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ft/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=vt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=vt/(this.transformCanvas.h/this.renderConfig.dpr)),Rt==="xMid"&&(Et<St&&Ct==="meet"||Et>St&&Ct==="slice")?this.transformCanvas.tx=(ft-this.transformCanvas.w*(vt/this.transformCanvas.h))/2*this.renderConfig.dpr:Rt==="xMax"&&(Et<St&&Ct==="meet"||Et>St&&Ct==="slice")?this.transformCanvas.tx=(ft-this.transformCanvas.w*(vt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Bt==="YMid"&&(Et>St&&Ct==="meet"||Et<St&&Ct==="slice")?this.transformCanvas.ty=(vt-this.transformCanvas.h*(ft/this.transformCanvas.w))/2*this.renderConfig.dpr:Bt==="YMax"&&(Et>St&&Ct==="meet"||Et<St&&Ct==="slice")?this.transformCanvas.ty=(vt-this.transformCanvas.h*(ft/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=ft/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=vt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var dt,lt=this.layers?this.layers.length:0;for(dt=lt-1;dt>=0;dt-=1)this.elements[dt]&&this.elements[dt].destroy&&this.elements[dt].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(dt,lt){if(!(this.renderedFrame===dt&&this.renderConfig.clearCanvas===!0&&!lt||this.destroyed||dt===-1)){this.renderedFrame=dt,this.globalData.frameNum=dt-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||lt,this.globalData.projectInterface.currentFrame=dt;var ft,vt=this.layers.length;for(this.completeLayers||this.checkLayers(dt),ft=vt-1;ft>=0;ft-=1)(this.completeLayers||this.elements[ft])&&this.elements[ft].prepareFrame(dt-this.layers[ft].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),ft=vt-1;ft>=0;ft-=1)(this.completeLayers||this.elements[ft])&&this.elements[ft].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(dt){var lt=this.elements;if(!(lt[dt]||this.layers[dt].ty===99)){var ft=this.createItem(this.layers[dt],this,this.globalData);lt[dt]=ft,ft.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var dt=this.pendingElements.pop();dt.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var dt,lt=15;for(dt=0;dt<lt;dt+=1){var ft=new CanvasContext;this.stack[dt]=ft}this._length=lt,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var dt=this._length*2,lt=0;for(lt=this._length;lt<dt;lt+=1)this.stack[lt]=new CanvasContext;this._length=dt},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(dt){this.cArrPos-=1;var lt=this.stack[this.cArrPos],ft=lt.transform,vt,St=this.cTr.props;for(vt=0;vt<16;vt+=1)St[vt]=ft[vt];if(dt){this.nativeContext.restore();var Et=this.stack[this.cArrPos+1];this.appliedFillStyle=Et.fillStyle,this.appliedStrokeStyle=Et.strokeStyle,this.appliedLineWidth=Et.lineWidth,this.appliedLineCap=Et.lineCap,this.appliedLineJoin=Et.lineJoin,this.appliedMiterLimit=Et.miterLimit}this.nativeContext.setTransform(ft[0],ft[1],ft[4],ft[5],ft[12],ft[13]),(dt||lt.opacity!==-1&&this.currentOpacity!==lt.opacity)&&(this.nativeContext.globalAlpha=lt.opacity,this.currentOpacity=lt.opacity),this.currentFillStyle=lt.fillStyle,this.currentStrokeStyle=lt.strokeStyle,this.currentLineWidth=lt.lineWidth,this.currentLineCap=lt.lineCap,this.currentLineJoin=lt.lineJoin,this.currentMiterLimit=lt.miterLimit},CVContextData.prototype.save=function(dt){dt&&this.nativeContext.save();var lt=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var ft=this.stack[this.cArrPos],vt;for(vt=0;vt<16;vt+=1)ft.transform[vt]=lt[vt];this.cArrPos+=1;var St=this.stack[this.cArrPos];St.opacity=ft.opacity,St.fillStyle=ft.fillStyle,St.strokeStyle=ft.strokeStyle,St.lineWidth=ft.lineWidth,St.lineCap=ft.lineCap,St.lineJoin=ft.lineJoin,St.miterLimit=ft.miterLimit},CVContextData.prototype.setOpacity=function(dt){this.stack[this.cArrPos].opacity=dt},CVContextData.prototype.setContext=function(dt){this.nativeContext=dt},CVContextData.prototype.fillStyle=function(dt){this.stack[this.cArrPos].fillStyle!==dt&&(this.currentFillStyle=dt,this.stack[this.cArrPos].fillStyle=dt)},CVContextData.prototype.strokeStyle=function(dt){this.stack[this.cArrPos].strokeStyle!==dt&&(this.currentStrokeStyle=dt,this.stack[this.cArrPos].strokeStyle=dt)},CVContextData.prototype.lineWidth=function(dt){this.stack[this.cArrPos].lineWidth!==dt&&(this.currentLineWidth=dt,this.stack[this.cArrPos].lineWidth=dt)},CVContextData.prototype.lineCap=function(dt){this.stack[this.cArrPos].lineCap!==dt&&(this.currentLineCap=dt,this.stack[this.cArrPos].lineCap=dt)},CVContextData.prototype.lineJoin=function(dt){this.stack[this.cArrPos].lineJoin!==dt&&(this.currentLineJoin=dt,this.stack[this.cArrPos].lineJoin=dt)},CVContextData.prototype.miterLimit=function(dt){this.stack[this.cArrPos].miterLimit!==dt&&(this.currentMiterLimit=dt,this.stack[this.cArrPos].miterLimit=dt)},CVContextData.prototype.transform=function(dt){this.transformMat.cloneFromProps(dt);var lt=this.cTr;this.transformMat.multiply(lt),lt.cloneFromProps(this.transformMat.props);var ft=lt.props;this.nativeContext.setTransform(ft[0],ft[1],ft[4],ft[5],ft[12],ft[13])},CVContextData.prototype.opacity=function(dt){var lt=this.stack[this.cArrPos].opacity;lt*=dt<0?0:dt,this.stack[this.cArrPos].opacity!==lt&&(this.currentOpacity!==dt&&(this.nativeContext.globalAlpha=dt,this.currentOpacity=dt),this.stack[this.cArrPos].opacity=lt)},CVContextData.prototype.fill=function(dt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(dt)},CVContextData.prototype.fillRect=function(dt,lt,ft,vt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(dt,lt,ft,vt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(dt,lt,ft){this.completeLayers=!1,this.layers=dt.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(dt,lt,ft),this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,lt.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var dt=this.canvasContext;dt.beginPath(),dt.moveTo(0,0),dt.lineTo(this.data.w,0),dt.lineTo(this.data.w,this.data.h),dt.lineTo(0,this.data.h),dt.lineTo(0,0),dt.clip();var lt,ft=this.layers.length;for(lt=ft-1;lt>=0;lt-=1)(this.completeLayers||this.elements[lt])&&this.elements[lt].renderFrame()},CVCompElement.prototype.destroy=function(){var dt,lt=this.layers.length;for(dt=lt-1;dt>=0;dt-=1)this.elements[dt]&&this.elements[dt].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(dt){return new CVCompElement(dt,this.globalData,this)};function CanvasRenderer(dt,lt){this.animationItem=dt,this.renderConfig={clearCanvas:lt&&lt.clearCanvas!==void 0?lt.clearCanvas:!0,context:lt&&lt.context||null,progressiveLoad:lt&&lt.progressiveLoad||!1,preserveAspectRatio:lt&&lt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:lt&&lt.contentVisibility||"visible",className:lt&&lt.className||"",id:lt&&lt.id||"",runExpressions:!lt||lt.runExpressions===void 0||lt.runExpressions},this.renderConfig.dpr=lt&&lt.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=lt&&lt.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(dt){return new CVCompElement(dt,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var lt=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var ft=this.finalTransform.mat.toCSS();lt.transform=ft,lt.webkitTransform=ft}this.finalTransform._opMdf&&(lt.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(dt,lt,ft){this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var dt;this.data.hasMask?(dt=createNS("rect"),dt.setAttribute("width",this.data.sw),dt.setAttribute("height",this.data.sh),dt.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(dt=createTag("div"),dt.style.width=this.data.sw+"px",dt.style.height=this.data.sh+"px",dt.style.backgroundColor=this.data.sc),this.layerElement.appendChild(dt)};function HShapeElement(dt,lt,ft){this.shapes=[],this.shapesData=dt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(dt,lt,ft),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var dt;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),dt=this.svgElement;else{dt=createNS("svg");var lt=this.comp.data?this.comp.data:this.globalData.compSize;dt.setAttribute("width",lt.w),dt.setAttribute("height",lt.h),dt.appendChild(this.shapesContainer),this.layerElement.appendChild(dt)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=dt},HShapeElement.prototype.getTransformedPoint=function(dt,lt){var ft,vt=dt.length;for(ft=0;ft<vt;ft+=1)lt=dt[ft].mProps.v.applyToPointArray(lt[0],lt[1],0);return lt},HShapeElement.prototype.calculateShapeBoundingBox=function(dt,lt){var ft=dt.sh.v,vt=dt.transformers,St,Et=ft._length,At,Ct,Tt,Rt;if(!(Et<=1)){for(St=0;St<Et-1;St+=1)At=this.getTransformedPoint(vt,ft.v[St]),Ct=this.getTransformedPoint(vt,ft.o[St]),Tt=this.getTransformedPoint(vt,ft.i[St+1]),Rt=this.getTransformedPoint(vt,ft.v[St+1]),this.checkBounds(At,Ct,Tt,Rt,lt);ft.c&&(At=this.getTransformedPoint(vt,ft.v[St]),Ct=this.getTransformedPoint(vt,ft.o[St]),Tt=this.getTransformedPoint(vt,ft.i[0]),Rt=this.getTransformedPoint(vt,ft.v[0]),this.checkBounds(At,Ct,Tt,Rt,lt))}},HShapeElement.prototype.checkBounds=function(dt,lt,ft,vt,St){this.getBoundsOfCurve(dt,lt,ft,vt);var Et=this.shapeBoundingBox;St.x=bmMin(Et.left,St.x),St.xMax=bmMax(Et.right,St.xMax),St.y=bmMin(Et.top,St.y),St.yMax=bmMax(Et.bottom,St.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(dt,lt,ft,vt){for(var St=[[dt[0],vt[0]],[dt[1],vt[1]]],Et,At,Ct,Tt,Rt,Bt,Ft,Dt=0;Dt<2;++Dt)At=6*dt[Dt]-12*lt[Dt]+6*ft[Dt],Et=-3*dt[Dt]+9*lt[Dt]-9*ft[Dt]+3*vt[Dt],Ct=3*lt[Dt]-3*dt[Dt],At|=0,Et|=0,Ct|=0,Et===0&&At===0||(Et===0?(Tt=-Ct/At,Tt>0&&Tt<1&&St[Dt].push(this.calculateF(Tt,dt,lt,ft,vt,Dt))):(Rt=At*At-4*Ct*Et,Rt>=0&&(Bt=(-At+bmSqrt(Rt))/(2*Et),Bt>0&&Bt<1&&St[Dt].push(this.calculateF(Bt,dt,lt,ft,vt,Dt)),Ft=(-At-bmSqrt(Rt))/(2*Et),Ft>0&&Ft<1&&St[Dt].push(this.calculateF(Ft,dt,lt,ft,vt,Dt)))));this.shapeBoundingBox.left=bmMin.apply(null,St[0]),this.shapeBoundingBox.top=bmMin.apply(null,St[1]),this.shapeBoundingBox.right=bmMax.apply(null,St[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,St[1])},HShapeElement.prototype.calculateF=function(dt,lt,ft,vt,St,Et){return bmPow(1-dt,3)*lt[Et]+3*bmPow(1-dt,2)*dt*ft[Et]+3*(1-dt)*bmPow(dt,2)*vt[Et]+bmPow(dt,3)*St[Et]},HShapeElement.prototype.calculateBoundingBox=function(dt,lt){var ft,vt=dt.length;for(ft=0;ft<vt;ft+=1)dt[ft]&&dt[ft].sh?this.calculateShapeBoundingBox(dt[ft],lt):dt[ft]&&dt[ft].it?this.calculateBoundingBox(dt[ft].it,lt):dt[ft]&&dt[ft].style&&dt[ft].w&&this.expandStrokeBoundingBox(dt[ft].w,lt)},HShapeElement.prototype.expandStrokeBoundingBox=function(dt,lt){var ft=0;if(dt.keyframes){for(var vt=0;vt<dt.keyframes.length;vt+=1){var St=dt.keyframes[vt].s;St>ft&&(ft=St)}ft*=dt.mult}else ft=dt.v*dt.mult;lt.x-=ft,lt.xMax+=ft,lt.y-=ft,lt.yMax+=ft},HShapeElement.prototype.currentBoxContains=function(dt){return this.currentBBox.x<=dt.x&&this.currentBBox.y<=dt.y&&this.currentBBox.width+this.currentBBox.x>=dt.x+dt.width&&this.currentBBox.height+this.currentBBox.y>=dt.y+dt.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var dt=this.tempBoundingBox,lt=999999;if(dt.x=lt,dt.xMax=-lt,dt.y=lt,dt.yMax=-lt,this.calculateBoundingBox(this.itemsData,dt),dt.width=dt.xMax<dt.x?0:dt.xMax-dt.x,dt.height=dt.yMax<dt.y?0:dt.yMax-dt.y,this.currentBoxContains(dt))return;var ft=!1;if(this.currentBBox.w!==dt.width&&(this.currentBBox.w=dt.width,this.shapeCont.setAttribute("width",dt.width),ft=!0),this.currentBBox.h!==dt.height&&(this.currentBBox.h=dt.height,this.shapeCont.setAttribute("height",dt.height),ft=!0),ft||this.currentBBox.x!==dt.x||this.currentBBox.y!==dt.y){this.currentBBox.w=dt.width,this.currentBBox.h=dt.height,this.currentBBox.x=dt.x,this.currentBBox.y=dt.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var vt=this.shapeCont.style,St="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";vt.transform=St,vt.webkitTransform=St}}};function HTextElement(dt,lt,ft){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var dt=createNS("g");this.maskedElement.appendChild(dt),this.innerElem=dt}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var dt=this.textProperty.currentData;this.renderedLetters=createSizedArray(dt.l?dt.l.length:0);var lt=this.innerElem.style,ft=dt.fc?this.buildColor(dt.fc):"rgba(0,0,0,0)";lt.fill=ft,lt.color=ft,dt.sc&&(lt.stroke=this.buildColor(dt.sc),lt.strokeWidth=dt.sw+"px");var vt=this.globalData.fontManager.getFontByName(dt.f);if(!this.globalData.fontManager.chars)if(lt.fontSize=dt.finalSize+"px",lt.lineHeight=dt.finalSize+"px",vt.fClass)this.innerElem.className=vt.fClass;else{lt.fontFamily=vt.fFamily;var St=dt.fWeight,Et=dt.fStyle;lt.fontStyle=Et,lt.fontWeight=St}var At,Ct,Tt=dt.l;Ct=Tt.length;var Rt,Bt,Ft,Dt=this.mHelper,kt,zt="",Ht=0;for(At=0;At<Ct;At+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ht]?Rt=this.textPaths[Ht]:(Rt=createNS("path"),Rt.setAttribute("stroke-linecap",lineCapEnum[1]),Rt.setAttribute("stroke-linejoin",lineJoinEnum[2]),Rt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ht]?(Bt=this.textSpans[Ht],Ft=Bt.children[0]):(Bt=createTag("div"),Bt.style.lineHeight=0,Ft=createNS("svg"),Ft.appendChild(Rt),styleDiv(Bt)))):this.isMasked?Rt=this.textPaths[Ht]?this.textPaths[Ht]:createNS("text"):this.textSpans[Ht]?(Bt=this.textSpans[Ht],Rt=this.textPaths[Ht]):(Bt=createTag("span"),styleDiv(Bt),Rt=createTag("span"),styleDiv(Rt),Bt.appendChild(Rt)),this.globalData.fontManager.chars){var en=this.globalData.fontManager.getCharData(dt.finalText[At],vt.fStyle,this.globalData.fontManager.getFontByName(dt.f).fFamily),Kt;if(en?Kt=en.data:Kt=null,Dt.reset(),Kt&&Kt.shapes&&Kt.shapes.length&&(kt=Kt.shapes[0].it,Dt.scale(dt.finalSize/100,dt.finalSize/100),zt=this.createPathShape(Dt,kt),Rt.setAttribute("d",zt)),this.isMasked)this.innerElem.appendChild(Rt);else{if(this.innerElem.appendChild(Bt),Kt&&Kt.shapes){document.body.appendChild(Ft);var Zt=Ft.getBBox();Ft.setAttribute("width",Zt.width+2),Ft.setAttribute("height",Zt.height+2),Ft.setAttribute("viewBox",Zt.x-1+" "+(Zt.y-1)+" "+(Zt.width+2)+" "+(Zt.height+2));var Wt=Ft.style,tn="translate("+(Zt.x-1)+"px,"+(Zt.y-1)+"px)";Wt.transform=tn,Wt.webkitTransform=tn,Tt[At].yOffset=Zt.y-1}else Ft.setAttribute("width",1),Ft.setAttribute("height",1);Bt.appendChild(Ft)}}else if(Rt.textContent=Tt[At].val,Rt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Rt);else{this.innerElem.appendChild(Bt);var an=Rt.style,ln="translate3d(0,"+-dt.finalSize/1.2+"px,0)";an.transform=ln,an.webkitTransform=ln}this.isMasked?this.textSpans[Ht]=Rt:this.textSpans[Ht]=Bt,this.textSpans[Ht].style.display="block",this.textPaths[Ht]=Rt,Ht+=1}for(;Ht<this.textSpans.length;)this.textSpans[Ht].style.display="none",Ht+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var dt;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),dt=this.svgElement.style;var lt="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";dt.transform=lt,dt.webkitTransform=lt}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var ft,vt,St=0,Et=this.textAnimator.renderedLetters,At=this.textProperty.currentData.l;vt=At.length;var Ct,Tt,Rt;for(ft=0;ft<vt;ft+=1)At[ft].n?St+=1:(Tt=this.textSpans[ft],Rt=this.textPaths[ft],Ct=Et[St],St+=1,Ct._mdf.m&&(this.isMasked?Tt.setAttribute("transform",Ct.m):(Tt.style.webkitTransform=Ct.m,Tt.style.transform=Ct.m)),Tt.style.opacity=Ct.o,Ct.sw&&Ct._mdf.sw&&Rt.setAttribute("stroke-width",Ct.sw),Ct.sc&&Ct._mdf.sc&&Rt.setAttribute("stroke",Ct.sc),Ct.fc&&Ct._mdf.fc&&(Rt.setAttribute("fill",Ct.fc),Rt.style.color=Ct.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Bt=this.innerElem.getBBox();this.currentBBox.w!==Bt.width&&(this.currentBBox.w=Bt.width,this.svgElement.setAttribute("width",Bt.width)),this.currentBBox.h!==Bt.height&&(this.currentBBox.h=Bt.height,this.svgElement.setAttribute("height",Bt.height));var Ft=1;if(this.currentBBox.w!==Bt.width+Ft*2||this.currentBBox.h!==Bt.height+Ft*2||this.currentBBox.x!==Bt.x-Ft||this.currentBBox.y!==Bt.y-Ft){this.currentBBox.w=Bt.width+Ft*2,this.currentBBox.h=Bt.height+Ft*2,this.currentBBox.x=Bt.x-Ft,this.currentBBox.y=Bt.y-Ft,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),dt=this.svgElement.style;var Dt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";dt.transform=Dt,dt.webkitTransform=Dt}}}};function HCameraElement(dt,lt,ft){this.initFrame(),this.initBaseData(dt,lt,ft),this.initHierarchy();var vt=PropertyFactory.getProp;if(this.pe=vt(this,dt.pe,0,0,this),dt.ks.p.s?(this.px=vt(this,dt.ks.p.x,1,0,this),this.py=vt(this,dt.ks.p.y,1,0,this),this.pz=vt(this,dt.ks.p.z,1,0,this)):this.p=vt(this,dt.ks.p,1,0,this),dt.ks.a&&(this.a=vt(this,dt.ks.a,1,0,this)),dt.ks.or.k.length&&dt.ks.or.k[0].to){var St,Et=dt.ks.or.k.length;for(St=0;St<Et;St+=1)dt.ks.or.k[St].to=null,dt.ks.or.k[St].ti=null}this.or=vt(this,dt.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=vt(this,dt.ks.rx,0,degToRads,this),this.ry=vt(this,dt.ks.ry,0,degToRads,this),this.rz=vt(this,dt.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var dt,lt=this.comp.threeDElements.length,ft,vt,St;for(dt=0;dt<lt;dt+=1)if(ft=this.comp.threeDElements[dt],ft.type==="3d"){vt=ft.perspectiveElem.style,St=ft.container.style;var Et=this.pe.v+"px",At="0px 0px 0px",Ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";vt.perspective=Et,vt.webkitPerspective=Et,St.transformOrigin=At,St.mozTransformOrigin=At,St.webkitTransformOrigin=At,vt.transform=Ct,vt.webkitTransform=Ct}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var dt=this._isFirstFrame,lt,ft;if(this.hierarchy)for(ft=this.hierarchy.length,lt=0;lt<ft;lt+=1)dt=this.hierarchy[lt].finalTransform.mProp._mdf||dt;if(dt||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(ft=this.hierarchy.length-1,lt=ft;lt>=0;lt-=1){var vt=this.hierarchy[lt].finalTransform.mProp;this.mat.translate(-vt.p.v[0],-vt.p.v[1],vt.p.v[2]),this.mat.rotateX(-vt.or.v[0]).rotateY(-vt.or.v[1]).rotateZ(vt.or.v[2]),this.mat.rotateX(-vt.rx.v).rotateY(-vt.ry.v).rotateZ(vt.rz.v),this.mat.scale(1/vt.s.v[0],1/vt.s.v[1],1/vt.s.v[2]),this.mat.translate(vt.a.v[0],vt.a.v[1],vt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var St;this.p?St=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:St=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Et=Math.sqrt(Math.pow(St[0],2)+Math.pow(St[1],2)+Math.pow(St[2],2)),At=[St[0]/Et,St[1]/Et,St[2]/Et],Ct=Math.sqrt(At[2]*At[2]+At[0]*At[0]),Tt=Math.atan2(At[1],Ct),Rt=Math.atan2(At[0],-At[2]);this.mat.rotateY(Rt).rotateX(-Tt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Bt=!this._prevMat.equals(this.mat);if((Bt||this.pe._mdf)&&this.comp.threeDElements){ft=this.comp.threeDElements.length;var Ft,Dt,kt;for(lt=0;lt<ft;lt+=1)if(Ft=this.comp.threeDElements[lt],Ft.type==="3d"){if(Bt){var zt=this.mat.toCSS();kt=Ft.container.style,kt.transform=zt,kt.webkitTransform=zt}this.pe._mdf&&(Dt=Ft.perspectiveElem.style,Dt.perspective=this.pe.v+"px",Dt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(dt){this.prepareProperties(dt,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(dt,lt,ft){this.assetData=lt.getAssetData(dt.refId),this.initElement(dt,lt,ft)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var dt=this.globalData.getAssetsPath(this.assetData),lt=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",dt),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(lt),lt.crossOrigin="anonymous",lt.src=dt,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(dt,lt){this.animationItem=dt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:lt&&lt.className||"",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(lt&&lt.hideOnTransparent===!1),filterSize:{width:lt&&lt.filterSize&&lt.filterSize.width||"400%",height:lt&&lt.filterSize&&lt.filterSize.height||"400%",x:lt&&lt.filterSize&&lt.filterSize.x||"-100%",y:lt&&lt.filterSize&&lt.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var dt=this.pendingElements.pop();dt.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(dt,lt){var ft=dt.getBaseElement();if(ft){var vt=this.layers[lt];if(!vt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(ft,lt);else{for(var St=0,Et,At,Ct;St<lt;)this.elements[St]&&this.elements[St]!==!0&&this.elements[St].getBaseElement&&(At=this.elements[St],Ct=this.layers[St].ddd?this.getThreeDContainerByPos(St):At.getBaseElement(),Et=Ct||Et),St+=1;Et?(!vt.ddd||!this.supports3d)&&this.layerElement.insertBefore(ft,Et):(!vt.ddd||!this.supports3d)&&this.layerElement.appendChild(ft)}else this.addTo3dContainer(ft,lt)}},HybridRendererBase.prototype.createShape=function(dt){return this.supports3d?new HShapeElement(dt,this.globalData,this):new SVGShapeElement(dt,this.globalData,this)},HybridRendererBase.prototype.createText=function(dt){return this.supports3d?new HTextElement(dt,this.globalData,this):new SVGTextLottieElement(dt,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(dt){return this.camera=new HCameraElement(dt,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(dt){return this.supports3d?new HImageElement(dt,this.globalData,this):new IImageElement(dt,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(dt){return this.supports3d?new HSolidElement(dt,this.globalData,this):new ISolidElement(dt,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(dt){for(var lt=0,ft=this.threeDElements.length;lt<ft;){if(this.threeDElements[lt].startPos<=dt&&this.threeDElements[lt].endPos>=dt)return this.threeDElements[lt].perspectiveElem;lt+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(dt,lt){var ft=createTag("div"),vt,St;styleDiv(ft);var Et=createTag("div");if(styleDiv(Et),lt==="3d"){vt=ft.style,vt.width=this.globalData.compSize.w+"px",vt.height=this.globalData.compSize.h+"px";var At="50% 50%";vt.webkitTransformOrigin=At,vt.mozTransformOrigin=At,vt.transformOrigin=At,St=Et.style;var Ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";St.transform=Ct,St.webkitTransform=Ct}ft.appendChild(Et);var Tt={container:Et,perspectiveElem:ft,startPos:dt,endPos:dt,type:lt};return this.threeDElements.push(Tt),Tt},HybridRendererBase.prototype.build3dContainers=function(){var dt,lt=this.layers.length,ft,vt="";for(dt=0;dt<lt;dt+=1)this.layers[dt].ddd&&this.layers[dt].ty!==3?(vt!=="3d"&&(vt="3d",ft=this.createThreeDContainer(dt,"3d")),ft.endPos=Math.max(ft.endPos,dt)):(vt!=="2d"&&(vt="2d",ft=this.createThreeDContainer(dt,"2d")),ft.endPos=Math.max(ft.endPos,dt));for(lt=this.threeDElements.length,dt=lt-1;dt>=0;dt-=1)this.resizerElem.appendChild(this.threeDElements[dt].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(dt,lt){for(var ft=0,vt=this.threeDElements.length;ft<vt;){if(lt<=this.threeDElements[ft].endPos){for(var St=this.threeDElements[ft].startPos,Et;St<lt;)this.elements[St]&&this.elements[St].getBaseElement&&(Et=this.elements[St].getBaseElement()),St+=1;Et?this.threeDElements[ft].container.insertBefore(dt,Et):this.threeDElements[ft].container.appendChild(dt);break}ft+=1}},HybridRendererBase.prototype.configAnimation=function(dt){var lt=createTag("div"),ft=this.animationItem.wrapper,vt=lt.style;vt.width=dt.w+"px",vt.height=dt.h+"px",this.resizerElem=lt,styleDiv(lt),vt.transformStyle="flat",vt.mozTransformStyle="flat",vt.webkitTransformStyle="flat",this.renderConfig.className&&lt.setAttribute("class",this.renderConfig.className),ft.appendChild(lt),vt.overflow="hidden";var St=createNS("svg");St.setAttribute("width","1"),St.setAttribute("height","1"),styleDiv(St),this.resizerElem.appendChild(St);var Et=createNS("defs");St.appendChild(Et),this.data=dt,this.setupGlobalData(dt,St),this.globalData.defs=Et,this.layers=dt.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var dt,lt=this.layers?this.layers.length:0;for(dt=0;dt<lt;dt+=1)this.elements[dt]&&this.elements[dt].destroy&&this.elements[dt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var dt=this.animationItem.wrapper.offsetWidth,lt=this.animationItem.wrapper.offsetHeight,ft=dt/lt,vt=this.globalData.compSize.w/this.globalData.compSize.h,St,Et,At,Ct;vt>ft?(St=dt/this.globalData.compSize.w,Et=dt/this.globalData.compSize.w,At=0,Ct=(lt-this.globalData.compSize.h*(dt/this.globalData.compSize.w))/2):(St=lt/this.globalData.compSize.h,Et=lt/this.globalData.compSize.h,At=(dt-this.globalData.compSize.w*(lt/this.globalData.compSize.h))/2,Ct=0);var Tt=this.resizerElem.style;Tt.webkitTransform="matrix3d("+St+",0,0,0,0,"+Et+",0,0,0,0,1,0,"+At+","+Ct+",0,1)",Tt.transform=Tt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var dt=this.globalData.compSize.w,lt=this.globalData.compSize.h,ft,vt=this.threeDElements.length;for(ft=0;ft<vt;ft+=1){var St=this.threeDElements[ft].perspectiveElem.style;St.webkitPerspective=Math.sqrt(Math.pow(dt,2)+Math.pow(lt,2))+"px",St.perspective=St.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(dt){var lt,ft=dt.length,vt=createTag("div");for(lt=0;lt<ft;lt+=1)if(dt[lt].xt){var St=this.createComp(dt[lt],vt,this.globalData.comp,null);St.initExpressions(),this.globalData.projectInterface.registerComposition(St)}};function HCompElement(dt,lt,ft){this.layers=dt.layers,this.supports3d=!dt.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(dt,lt,ft),this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,lt.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(dt,lt){for(var ft=0,vt;ft<lt;)this.elements[ft]&&this.elements[ft].getBaseElement&&(vt=this.elements[ft].getBaseElement()),ft+=1;vt?this.layerElement.insertBefore(dt,vt):this.layerElement.appendChild(dt)},HCompElement.prototype.createComp=function(dt){return this.supports3d?new HCompElement(dt,this.globalData,this):new SVGCompElement(dt,this.globalData,this)};function HybridRenderer(dt,lt){this.animationItem=dt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:lt&&lt.className||"",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(lt&&lt.hideOnTransparent===!1),filterSize:{width:lt&&lt.filterSize&&lt.filterSize.width||"400%",height:lt&&lt.filterSize&&lt.filterSize.height||"400%",x:lt&&lt.filterSize&&lt.filterSize.x||"-100%",y:lt&&lt.filterSize&&lt.filterSize.y||"-100%"},runExpressions:!lt||lt.runExpressions===void 0||lt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(dt){return this.supports3d?new HCompElement(dt,this.globalData,this):new SVGCompElement(dt,this.globalData,this)};var CompExpressionInterface=function(){return function(dt){function lt(ft){for(var vt=0,St=dt.layers.length;vt<St;){if(dt.layers[vt].nm===ft||dt.layers[vt].ind===ft)return dt.elements[vt].layerInterface;vt+=1}return null}return Object.defineProperty(lt,"_name",{value:dt.data.nm}),lt.layer=lt,lt.pixelAspect=1,lt.height=dt.data.h||dt.globalData.compSize.h,lt.width=dt.data.w||dt.globalData.compSize.w,lt.pixelAspect=1,lt.frameDuration=1/dt.globalData.frameRate,lt.displayStartTime=0,lt.numLayers=dt.layers.length,lt}}();function _typeof$2(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(ft){return typeof ft}:_typeof$2=function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$2(dt)}function seedRandom(dt,lt){var ft=this,vt=256,St=6,Et=52,At="random",Ct=lt.pow(vt,St),Tt=lt.pow(2,Et),Rt=Tt*2,Bt=vt-1,Ft;function Dt(Wt,tn,an){var ln=[];tn=tn===!0?{entropy:!0}:tn||{};var fn=en(Ht(tn.entropy?[Wt,Zt(dt)]:Wt===null?Kt():Wt,3),ln),un=new kt(ln),pn=function(){for(var An=un.g(St),gn=Ct,Ln=0;An<Tt;)An=(An+Ln)*vt,gn*=vt,Ln=un.g(1);for(;An>=Rt;)An/=2,gn/=2,Ln>>>=1;return(An+Ln)/gn};return pn.int32=function(){return un.g(4)|0},pn.quick=function(){return un.g(4)/4294967296},pn.double=pn,en(Zt(un.S),dt),(tn.pass||an||function(xn,An,gn,Ln){return Ln&&(Ln.S&&zt(Ln,un),xn.state=function(){return zt(un,{})}),gn?(lt[At]=xn,An):xn})(pn,fn,"global"in tn?tn.global:this==lt,tn.state)}lt["seed"+At]=Dt;function kt(Wt){var tn,an=Wt.length,ln=this,fn=0,un=ln.i=ln.j=0,pn=ln.S=[];for(an||(Wt=[an++]);fn<vt;)pn[fn]=fn++;for(fn=0;fn<vt;fn++)pn[fn]=pn[un=Bt&un+Wt[fn%an]+(tn=pn[fn])],pn[un]=tn;ln.g=function(xn){for(var An,gn=0,Ln=ln.i,Cn=ln.j,En=ln.S;xn--;)An=En[Ln=Bt&Ln+1],gn=gn*vt+En[Bt&(En[Ln]=En[Cn=Bt&Cn+An])+(En[Cn]=An)];return ln.i=Ln,ln.j=Cn,gn}}function zt(Wt,tn){return tn.i=Wt.i,tn.j=Wt.j,tn.S=Wt.S.slice(),tn}function Ht(Wt,tn){var an=[],ln=_typeof$2(Wt),fn;if(tn&&ln=="object")for(fn in Wt)try{an.push(Ht(Wt[fn],tn-1))}catch{}return an.length?an:ln=="string"?Wt:Wt+"\0"}function en(Wt,tn){for(var an=Wt+"",ln,fn=0;fn<an.length;)tn[Bt&fn]=Bt&(ln^=tn[Bt&fn]*19)+an.charCodeAt(fn++);return Zt(tn)}function Kt(){try{var Wt=new Uint8Array(vt);return(ft.crypto||ft.msCrypto).getRandomValues(Wt),Zt(Wt)}catch{var tn=ft.navigator,an=tn&&tn.plugins;return[+new Date,ft,an,ft.screen,Zt(dt)]}}function Zt(Wt){return String.fromCharCode.apply(0,Wt)}en(lt.random(),dt)}function initialize$2(dt){seedRandom([],dt)}var propTypes={SHAPE:"shape"};function _typeof$1(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(ft){return typeof ft}:_typeof$1=function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$1(dt)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(dt){return dt.constructor===Array||dt.constructor===Float32Array}function isNumerable(dt,lt){return dt==="number"||lt instanceof Number||dt==="boolean"||dt==="string"}function $bm_neg(dt){var lt=_typeof$1(dt);if(lt==="number"||dt instanceof Number||lt==="boolean")return-dt;if($bm_isInstanceOfArray(dt)){var ft,vt=dt.length,St=[];for(ft=0;ft<vt;ft+=1)St[ft]=-dt[ft];return St}return dt.propType?dt.v:-dt}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(dt,lt){var ft=_typeof$1(dt),vt=_typeof$1(lt);if(isNumerable(ft,dt)&&isNumerable(vt,lt)||ft==="string"||vt==="string")return dt+lt;if($bm_isInstanceOfArray(dt)&&isNumerable(vt,lt))return dt=dt.slice(0),dt[0]+=lt,dt;if(isNumerable(ft,dt)&&$bm_isInstanceOfArray(lt))return lt=lt.slice(0),lt[0]=dt+lt[0],lt;if($bm_isInstanceOfArray(dt)&&$bm_isInstanceOfArray(lt)){for(var St=0,Et=dt.length,At=lt.length,Ct=[];St<Et||St<At;)(typeof dt[St]=="number"||dt[St]instanceof Number)&&(typeof lt[St]=="number"||lt[St]instanceof Number)?Ct[St]=dt[St]+lt[St]:Ct[St]=lt[St]===void 0?dt[St]:dt[St]||lt[St],St+=1;return Ct}return 0}var add=sum;function sub(dt,lt){var ft=_typeof$1(dt),vt=_typeof$1(lt);if(isNumerable(ft,dt)&&isNumerable(vt,lt))return ft==="string"&&(dt=parseInt(dt,10)),vt==="string"&&(lt=parseInt(lt,10)),dt-lt;if($bm_isInstanceOfArray(dt)&&isNumerable(vt,lt))return dt=dt.slice(0),dt[0]-=lt,dt;if(isNumerable(ft,dt)&&$bm_isInstanceOfArray(lt))return lt=lt.slice(0),lt[0]=dt-lt[0],lt;if($bm_isInstanceOfArray(dt)&&$bm_isInstanceOfArray(lt)){for(var St=0,Et=dt.length,At=lt.length,Ct=[];St<Et||St<At;)(typeof dt[St]=="number"||dt[St]instanceof Number)&&(typeof lt[St]=="number"||lt[St]instanceof Number)?Ct[St]=dt[St]-lt[St]:Ct[St]=lt[St]===void 0?dt[St]:dt[St]||lt[St],St+=1;return Ct}return 0}function mul(dt,lt){var ft=_typeof$1(dt),vt=_typeof$1(lt),St;if(isNumerable(ft,dt)&&isNumerable(vt,lt))return dt*lt;var Et,At;if($bm_isInstanceOfArray(dt)&&isNumerable(vt,lt)){for(At=dt.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=dt[Et]*lt;return St}if(isNumerable(ft,dt)&&$bm_isInstanceOfArray(lt)){for(At=lt.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=dt*lt[Et];return St}return 0}function div(dt,lt){var ft=_typeof$1(dt),vt=_typeof$1(lt),St;if(isNumerable(ft,dt)&&isNumerable(vt,lt))return dt/lt;var Et,At;if($bm_isInstanceOfArray(dt)&&isNumerable(vt,lt)){for(At=dt.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=dt[Et]/lt;return St}if(isNumerable(ft,dt)&&$bm_isInstanceOfArray(lt)){for(At=lt.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=dt/lt[Et];return St}return 0}function mod(dt,lt){return typeof dt=="string"&&(dt=parseInt(dt,10)),typeof lt=="string"&&(lt=parseInt(lt,10)),dt%lt}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(dt,lt,ft){if(lt>ft){var vt=ft;ft=lt,lt=vt}return Math.min(Math.max(dt,lt),ft)}function radiansToDegrees(dt){return dt/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(dt){return dt*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(dt,lt){if(typeof dt=="number"||dt instanceof Number)return lt=lt||0,Math.abs(dt-lt);lt||(lt=helperLengthArray);var ft,vt=Math.min(dt.length,lt.length),St=0;for(ft=0;ft<vt;ft+=1)St+=Math.pow(lt[ft]-dt[ft],2);return Math.sqrt(St)}function normalize(dt){return div(dt,length(dt))}function rgbToHsl(dt){var lt=dt[0],ft=dt[1],vt=dt[2],St=Math.max(lt,ft,vt),Et=Math.min(lt,ft,vt),At,Ct,Tt=(St+Et)/2;if(St===Et)At=0,Ct=0;else{var Rt=St-Et;switch(Ct=Tt>.5?Rt/(2-St-Et):Rt/(St+Et),St){case lt:At=(ft-vt)/Rt+(ft<vt?6:0);break;case ft:At=(vt-lt)/Rt+2;break;case vt:At=(lt-ft)/Rt+4;break}At/=6}return[At,Ct,Tt,dt[3]]}function hue2rgb(dt,lt,ft){return ft<0&&(ft+=1),ft>1&&(ft-=1),ft<1/6?dt+(lt-dt)*6*ft:ft<1/2?lt:ft<2/3?dt+(lt-dt)*(2/3-ft)*6:dt}function hslToRgb(dt){var lt=dt[0],ft=dt[1],vt=dt[2],St,Et,At;if(ft===0)St=vt,At=vt,Et=vt;else{var Ct=vt<.5?vt*(1+ft):vt+ft-vt*ft,Tt=2*vt-Ct;St=hue2rgb(Tt,Ct,lt+1/3),Et=hue2rgb(Tt,Ct,lt),At=hue2rgb(Tt,Ct,lt-1/3)}return[St,Et,At,dt[3]]}function linear(dt,lt,ft,vt,St){if((vt===void 0||St===void 0)&&(vt=lt,St=ft,lt=0,ft=1),ft<lt){var Et=ft;ft=lt,lt=Et}if(dt<=lt)return vt;if(dt>=ft)return St;var At=ft===lt?0:(dt-lt)/(ft-lt);if(!vt.length)return vt+(St-vt)*At;var Ct,Tt=vt.length,Rt=createTypedArray("float32",Tt);for(Ct=0;Ct<Tt;Ct+=1)Rt[Ct]=vt[Ct]+(St[Ct]-vt[Ct])*At;return Rt}function random(dt,lt){if(lt===void 0&&(dt===void 0?(dt=0,lt=1):(lt=dt,dt=void 0)),lt.length){var ft,vt=lt.length;dt||(dt=createTypedArray("float32",vt));var St=createTypedArray("float32",vt),Et=BMMath.random();for(ft=0;ft<vt;ft+=1)St[ft]=dt[ft]+Et*(lt[ft]-dt[ft]);return St}dt===void 0&&(dt=0);var At=BMMath.random();return dt+At*(lt-dt)}function createPath(dt,lt,ft,vt){var St,Et=dt.length,At=shapePool.newElement();At.setPathData(!!vt,Et);var Ct=[0,0],Tt,Rt;for(St=0;St<Et;St+=1)Tt=lt&&lt[St]?lt[St]:Ct,Rt=ft&&ft[St]?ft[St]:Ct,At.setTripleAt(dt[St][0],dt[St][1],Rt[0]+dt[St][0],Rt[1]+dt[St][1],Tt[0]+dt[St][0],Tt[1]+dt[St][1],St,!0);return At}function initiateExpression(elem,data,property){function noOp(dt){return dt}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function dt(lt,ft){var vt,St,Et=this.pv.length?this.pv.length:1,At=createTypedArray("float32",Et);lt=5;var Ct=Math.floor(time*lt);for(vt=0,St=0;vt<Ct;){for(St=0;St<Et;St+=1)At[St]+=-ft+ft*2*BMMath.random();vt+=1}var Tt=time*lt,Rt=Tt-Math.floor(Tt),Bt=createTypedArray("float32",Et);if(Et>1){for(St=0;St<Et;St+=1)Bt[St]=this.pv[St]+At[St]+(-ft+ft*2*BMMath.random())*Rt;return Bt}return this.pv+At[0]+(-ft+ft*2*BMMath.random())*Rt}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(dt,lt){return loopIn(dt,lt,!0)}function loopOutDuration(dt,lt){return loopOut(dt,lt,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(dt,lt){var ft=[lt[0]-dt[0],lt[1]-dt[1],lt[2]-dt[2]],vt=Math.atan2(ft[0],Math.sqrt(ft[1]*ft[1]+ft[2]*ft[2]))/degToRads,St=-Math.atan2(ft[1],ft[2])/degToRads;return[St,vt,0]}function easeOut(dt,lt,ft,vt,St){return applyEase(easeOutBez,dt,lt,ft,vt,St)}function easeIn(dt,lt,ft,vt,St){return applyEase(easeInBez,dt,lt,ft,vt,St)}function ease(dt,lt,ft,vt,St){return applyEase(easeInOutBez,dt,lt,ft,vt,St)}function applyEase(dt,lt,ft,vt,St,Et){St===void 0?(St=ft,Et=vt):lt=(lt-ft)/(vt-ft),lt>1?lt=1:lt<0&&(lt=0);var At=dt(lt);if($bm_isInstanceOfArray(St)){var Ct,Tt=St.length,Rt=createTypedArray("float32",Tt);for(Ct=0;Ct<Tt;Ct+=1)Rt[Ct]=(Et[Ct]-St[Ct])*At+St[Ct];return Rt}return(Et-St)*At+St}function nearestKey(dt){var lt,ft=data.k.length,vt,St;if(!data.k.length||typeof data.k[0]=="number")vt=0,St=0;else if(vt=-1,dt*=elem.comp.globalData.frameRate,dt<data.k[0].t)vt=1,St=data.k[0].t;else{for(lt=0;lt<ft-1;lt+=1)if(dt===data.k[lt].t){vt=lt+1,St=data.k[lt].t;break}else if(dt>data.k[lt].t&&dt<data.k[lt+1].t){dt-data.k[lt].t>data.k[lt+1].t-dt?(vt=lt+2,St=data.k[lt+1].t):(vt=lt+1,St=data.k[lt].t);break}vt===-1&&(vt=lt+1,St=data.k[lt].t)}var Et={};return Et.index=vt,Et.time=St/elem.comp.globalData.frameRate,Et}function key(dt){var lt,ft,vt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+dt);dt-=1,lt={time:data.k[dt].t/elem.comp.globalData.frameRate,value:[]};var St=Object.prototype.hasOwnProperty.call(data.k[dt],"s")?data.k[dt].s:data.k[dt-1].e;for(vt=St.length,ft=0;ft<vt;ft+=1)lt[ft]=St[ft],lt.value[ft]=St[ft];return lt}function framesToTime(dt,lt){return lt||(lt=elem.comp.globalData.frameRate),dt/lt}function timeToFrames(dt,lt){return!dt&&dt!==0&&(dt=time),lt||(lt=elem.comp.globalData.frameRate),dt*lt}function seedRandom(dt){BMMath.seedrandom(randSeed+dt)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(dt,lt){return typeof value=="string"?lt===void 0?value.substring(dt):value.substring(dt,lt):""}function substr(dt,lt){return typeof value=="string"?lt===void 0?value.substr(dt):value.substr(dt,lt):""}function posterizeTime(dt){time=dt===0?0:Math.floor(time*dt)/dt,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(dt){return value=dt,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var dt={};dt.initExpressions=lt,dt.resetFrame=ExpressionManager.resetFrame;function lt(ft){var vt=0,St=[];function Et(){vt+=1}function At(){vt-=1,vt===0&&Tt()}function Ct(Rt){St.indexOf(Rt)===-1&&St.push(Rt)}function Tt(){var Rt,Bt=St.length;for(Rt=0;Rt<Bt;Rt+=1)St[Rt].release();St.length=0}ft.renderer.compInterface=CompExpressionInterface(ft.renderer),ft.renderer.globalData.projectInterface.registerComposition(ft.renderer),ft.renderer.globalData.pushExpression=Et,ft.renderer.globalData.popExpression=At,ft.renderer.globalData.registerExpressionProperty=Ct}return dt}(),MaskManagerInterface=function(){function dt(ft,vt){this._mask=ft,this._data=vt}Object.defineProperty(dt.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(dt.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var lt=function(vt){var St=createSizedArray(vt.viewData.length),Et,At=vt.viewData.length;for(Et=0;Et<At;Et+=1)St[Et]=new dt(vt.viewData[Et],vt.masksProperties[Et]);var Ct=function(Rt){for(Et=0;Et<At;){if(vt.masksProperties[Et].nm===Rt)return St[Et];Et+=1}return null};return Ct};return lt}(),ExpressionPropertyInterface=function(){var dt={pv:0,v:0,mult:1},lt={pv:[0,0,0],v:[0,0,0],mult:1};function ft(At,Ct,Tt){Object.defineProperty(At,"velocity",{get:function(){return Ct.getVelocityAtTime(Ct.comp.currentFrame)}}),At.numKeys=Ct.keyframes?Ct.keyframes.length:0,At.key=function(Rt){if(!At.numKeys)return 0;var Bt="";"s"in Ct.keyframes[Rt-1]?Bt=Ct.keyframes[Rt-1].s:"e"in Ct.keyframes[Rt-2]?Bt=Ct.keyframes[Rt-2].e:Bt=Ct.keyframes[Rt-2].s;var Ft=Tt==="unidimensional"?new Number(Bt):Object.assign({},Bt);return Ft.time=Ct.keyframes[Rt-1].t/Ct.elem.comp.globalData.frameRate,Ft.value=Tt==="unidimensional"?Bt[0]:Bt,Ft},At.valueAtTime=Ct.getValueAtTime,At.speedAtTime=Ct.getSpeedAtTime,At.velocityAtTime=Ct.getVelocityAtTime,At.propertyGroup=Ct.propertyGroup}function vt(At){(!At||!("pv"in At))&&(At=dt);var Ct=1/At.mult,Tt=At.pv*Ct,Rt=new Number(Tt);return Rt.value=Tt,ft(Rt,At,"unidimensional"),function(){return At.k&&At.getValue(),Tt=At.v*Ct,Rt.value!==Tt&&(Rt=new Number(Tt),Rt.value=Tt,ft(Rt,At,"unidimensional")),Rt}}function St(At){(!At||!("pv"in At))&&(At=lt);var Ct=1/At.mult,Tt=At.data&&At.data.l||At.pv.length,Rt=createTypedArray("float32",Tt),Bt=createTypedArray("float32",Tt);return Rt.value=Bt,ft(Rt,At,"multidimensional"),function(){At.k&&At.getValue();for(var Ft=0;Ft<Tt;Ft+=1)Bt[Ft]=At.v[Ft]*Ct,Rt[Ft]=Bt[Ft];return Rt}}function Et(){return dt}return function(At){return At?At.propType==="unidimensional"?vt(At):St(At):Et}}(),TransformExpressionInterface=function(){return function(dt){function lt(At){switch(At){case"scale":case"Scale":case"ADBE Scale":case 6:return lt.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return lt.rotation;case"ADBE Rotate X":return lt.xRotation;case"ADBE Rotate Y":return lt.yRotation;case"position":case"Position":case"ADBE Position":case 2:return lt.position;case"ADBE Position_0":return lt.xPosition;case"ADBE Position_1":return lt.yPosition;case"ADBE Position_2":return lt.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return lt.anchorPoint;case"opacity":case"Opacity":case 11:return lt.opacity;default:return null}}Object.defineProperty(lt,"rotation",{get:ExpressionPropertyInterface(dt.r||dt.rz)}),Object.defineProperty(lt,"zRotation",{get:ExpressionPropertyInterface(dt.rz||dt.r)}),Object.defineProperty(lt,"xRotation",{get:ExpressionPropertyInterface(dt.rx)}),Object.defineProperty(lt,"yRotation",{get:ExpressionPropertyInterface(dt.ry)}),Object.defineProperty(lt,"scale",{get:ExpressionPropertyInterface(dt.s)});var ft,vt,St,Et;return dt.p?Et=ExpressionPropertyInterface(dt.p):(ft=ExpressionPropertyInterface(dt.px),vt=ExpressionPropertyInterface(dt.py),dt.pz&&(St=ExpressionPropertyInterface(dt.pz))),Object.defineProperty(lt,"position",{get:function(){return dt.p?Et():[ft(),vt(),St?St():0]}}),Object.defineProperty(lt,"xPosition",{get:ExpressionPropertyInterface(dt.px)}),Object.defineProperty(lt,"yPosition",{get:ExpressionPropertyInterface(dt.py)}),Object.defineProperty(lt,"zPosition",{get:ExpressionPropertyInterface(dt.pz)}),Object.defineProperty(lt,"anchorPoint",{get:ExpressionPropertyInterface(dt.a)}),Object.defineProperty(lt,"opacity",{get:ExpressionPropertyInterface(dt.o)}),Object.defineProperty(lt,"skew",{get:ExpressionPropertyInterface(dt.sk)}),Object.defineProperty(lt,"skewAxis",{get:ExpressionPropertyInterface(dt.sa)}),Object.defineProperty(lt,"orientation",{get:ExpressionPropertyInterface(dt.or)}),lt}}(),LayerExpressionInterface=function(){function dt(Rt){var Bt=new Matrix;if(Rt!==void 0){var Ft=this._elem.finalTransform.mProp.getValueAtTime(Rt);Ft.clone(Bt)}else{var Dt=this._elem.finalTransform.mProp;Dt.applyToMatrix(Bt)}return Bt}function lt(Rt,Bt){var Ft=this.getMatrix(Bt);return Ft.props[12]=0,Ft.props[13]=0,Ft.props[14]=0,this.applyPoint(Ft,Rt)}function ft(Rt,Bt){var Ft=this.getMatrix(Bt);return this.applyPoint(Ft,Rt)}function vt(Rt,Bt){var Ft=this.getMatrix(Bt);return Ft.props[12]=0,Ft.props[13]=0,Ft.props[14]=0,this.invertPoint(Ft,Rt)}function St(Rt,Bt){var Ft=this.getMatrix(Bt);return this.invertPoint(Ft,Rt)}function Et(Rt,Bt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ft,Dt=this._elem.hierarchy.length;for(Ft=0;Ft<Dt;Ft+=1)this._elem.hierarchy[Ft].finalTransform.mProp.applyToMatrix(Rt)}return Rt.applyToPointArray(Bt[0],Bt[1],Bt[2]||0)}function At(Rt,Bt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ft,Dt=this._elem.hierarchy.length;for(Ft=0;Ft<Dt;Ft+=1)this._elem.hierarchy[Ft].finalTransform.mProp.applyToMatrix(Rt)}return Rt.inversePoint(Bt)}function Ct(Rt){var Bt=new Matrix;if(Bt.reset(),this._elem.finalTransform.mProp.applyToMatrix(Bt),this._elem.hierarchy&&this._elem.hierarchy.length){var Ft,Dt=this._elem.hierarchy.length;for(Ft=0;Ft<Dt;Ft+=1)this._elem.hierarchy[Ft].finalTransform.mProp.applyToMatrix(Bt);return Bt.inversePoint(Rt)}return Bt.inversePoint(Rt)}function Tt(){return[1,1,1,1]}return function(Rt){var Bt;function Ft(Ht){kt.mask=new MaskManagerInterface(Ht,Rt)}function Dt(Ht){kt.effect=Ht}function kt(Ht){switch(Ht){case"ADBE Root Vectors Group":case"Contents":case 2:return kt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Bt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return kt.effect;case"ADBE Text Properties":return kt.textInterface;default:return null}}kt.getMatrix=dt,kt.invertPoint=At,kt.applyPoint=Et,kt.toWorld=ft,kt.toWorldVec=lt,kt.fromWorld=St,kt.fromWorldVec=vt,kt.toComp=ft,kt.fromComp=Ct,kt.sampleImage=Tt,kt.sourceRectAtTime=Rt.sourceRectAtTime.bind(Rt),kt._elem=Rt,Bt=TransformExpressionInterface(Rt.finalTransform.mProp);var zt=getDescriptor(Bt,"anchorPoint");return Object.defineProperties(kt,{hasParent:{get:function(){return Rt.hierarchy.length}},parent:{get:function(){return Rt.hierarchy[0].layerInterface}},rotation:getDescriptor(Bt,"rotation"),scale:getDescriptor(Bt,"scale"),position:getDescriptor(Bt,"position"),opacity:getDescriptor(Bt,"opacity"),anchorPoint:zt,anchor_point:zt,transform:{get:function(){return Bt}},active:{get:function(){return Rt.isInRange}}}),kt.startTime=Rt.data.st,kt.index=Rt.data.ind,kt.source=Rt.data.refId,kt.height=Rt.data.ty===0?Rt.data.h:100,kt.width=Rt.data.ty===0?Rt.data.w:100,kt.inPoint=Rt.data.ip/Rt.comp.globalData.frameRate,kt.outPoint=Rt.data.op/Rt.comp.globalData.frameRate,kt._name=Rt.data.nm,kt.registerMaskInterface=Ft,kt.registerEffectsInterface=Dt,kt}}(),propertyGroupFactory=function(){return function(dt,lt){return function(ft){return ft=ft===void 0?1:ft,ft<=0?dt:lt(ft-1)}}}(),PropertyInterface=function(){return function(dt,lt){var ft={_name:dt};function vt(St){return St=St===void 0?1:St,St<=0?ft:lt(St-1)}return vt}}(),EffectsExpressionInterface=function(){var dt={createEffectsInterface:lt};function lt(St,Et){if(St.effectsManager){var At=[],Ct=St.data.ef,Tt,Rt=St.effectsManager.effectElements.length;for(Tt=0;Tt<Rt;Tt+=1)At.push(ft(Ct[Tt],St.effectsManager.effectElements[Tt],Et,St));var Bt=St.data.ef||[],Ft=function(kt){for(Tt=0,Rt=Bt.length;Tt<Rt;){if(kt===Bt[Tt].nm||kt===Bt[Tt].mn||kt===Bt[Tt].ix)return At[Tt];Tt+=1}return null};return Object.defineProperty(Ft,"numProperties",{get:function(){return Bt.length}}),Ft}return null}function ft(St,Et,At,Ct){function Tt(kt){for(var zt=St.ef,Ht=0,en=zt.length;Ht<en;){if(kt===zt[Ht].nm||kt===zt[Ht].mn||kt===zt[Ht].ix)return zt[Ht].ty===5?Bt[Ht]:Bt[Ht]();Ht+=1}throw new Error}var Rt=propertyGroupFactory(Tt,At),Bt=[],Ft,Dt=St.ef.length;for(Ft=0;Ft<Dt;Ft+=1)St.ef[Ft].ty===5?Bt.push(ft(St.ef[Ft],Et.effectElements[Ft],Et.effectElements[Ft].propertyGroup,Ct)):Bt.push(vt(Et.effectElements[Ft],St.ef[Ft].ty,Ct,Rt));return St.mn==="ADBE Color Control"&&Object.defineProperty(Tt,"color",{get:function(){return Bt[0]()}}),Object.defineProperties(Tt,{numProperties:{get:function(){return St.np}},_name:{value:St.nm},propertyGroup:{value:Rt}}),Tt.enabled=St.en!==0,Tt.active=Tt.enabled,Tt}function vt(St,Et,At,Ct){var Tt=ExpressionPropertyInterface(St.p);function Rt(){return Et===10?At.comp.compInterface(St.p.v):Tt()}return St.p.setGroupProperty&&St.p.setGroupProperty(PropertyInterface("",Ct)),Rt}return dt}(),ShapePathInterface=function(){return function(lt,ft,vt){var St=ft.sh;function Et(Ct){return Ct==="Shape"||Ct==="shape"||Ct==="Path"||Ct==="path"||Ct==="ADBE Vector Shape"||Ct===2?Et.path:null}var At=propertyGroupFactory(Et,vt);return St.setGroupProperty(PropertyInterface("Path",At)),Object.defineProperties(Et,{path:{get:function(){return St.k&&St.getValue(),St}},shape:{get:function(){return St.k&&St.getValue(),St}},_name:{value:lt.nm},ix:{value:lt.ix},propertyIndex:{value:lt.ix},mn:{value:lt.mn},propertyGroup:{value:vt}}),Et}}(),ShapeExpressionInterface=function(){function dt(zt,Ht,en){var Kt=[],Zt,Wt=zt?zt.length:0;for(Zt=0;Zt<Wt;Zt+=1)zt[Zt].ty==="gr"?Kt.push(ft(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="fl"?Kt.push(vt(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="st"?Kt.push(At(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="tm"?Kt.push(Ct(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="tr"||(zt[Zt].ty==="el"?Kt.push(Rt(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="sr"?Kt.push(Bt(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="sh"?Kt.push(ShapePathInterface(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="rc"?Kt.push(Ft(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="rd"?Kt.push(Dt(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="rp"?Kt.push(kt(zt[Zt],Ht[Zt],en)):zt[Zt].ty==="gf"?Kt.push(St(zt[Zt],Ht[Zt],en)):Kt.push(Et(zt[Zt],Ht[Zt])));return Kt}function lt(zt,Ht,en){var Kt,Zt=function(an){for(var ln=0,fn=Kt.length;ln<fn;){if(Kt[ln]._name===an||Kt[ln].mn===an||Kt[ln].propertyIndex===an||Kt[ln].ix===an||Kt[ln].ind===an)return Kt[ln];ln+=1}return typeof an=="number"?Kt[an-1]:null};Zt.propertyGroup=propertyGroupFactory(Zt,en),Kt=dt(zt.it,Ht.it,Zt.propertyGroup),Zt.numProperties=Kt.length;var Wt=Tt(zt.it[zt.it.length-1],Ht.it[Ht.it.length-1],Zt.propertyGroup);return Zt.transform=Wt,Zt.propertyIndex=zt.cix,Zt._name=zt.nm,Zt}function ft(zt,Ht,en){var Kt=function(an){switch(an){case"ADBE Vectors Group":case"Contents":case 2:return Kt.content;default:return Kt.transform}};Kt.propertyGroup=propertyGroupFactory(Kt,en);var Zt=lt(zt,Ht,Kt.propertyGroup),Wt=Tt(zt.it[zt.it.length-1],Ht.it[Ht.it.length-1],Kt.propertyGroup);return Kt.content=Zt,Kt.transform=Wt,Object.defineProperty(Kt,"_name",{get:function(){return zt.nm}}),Kt.numProperties=zt.np,Kt.propertyIndex=zt.ix,Kt.nm=zt.nm,Kt.mn=zt.mn,Kt}function vt(zt,Ht,en){function Kt(Zt){return Zt==="Color"||Zt==="color"?Kt.color:Zt==="Opacity"||Zt==="opacity"?Kt.opacity:null}return Object.defineProperties(Kt,{color:{get:ExpressionPropertyInterface(Ht.c)},opacity:{get:ExpressionPropertyInterface(Ht.o)},_name:{value:zt.nm},mn:{value:zt.mn}}),Ht.c.setGroupProperty(PropertyInterface("Color",en)),Ht.o.setGroupProperty(PropertyInterface("Opacity",en)),Kt}function St(zt,Ht,en){function Kt(Zt){return Zt==="Start Point"||Zt==="start point"?Kt.startPoint:Zt==="End Point"||Zt==="end point"?Kt.endPoint:Zt==="Opacity"||Zt==="opacity"?Kt.opacity:null}return Object.defineProperties(Kt,{startPoint:{get:ExpressionPropertyInterface(Ht.s)},endPoint:{get:ExpressionPropertyInterface(Ht.e)},opacity:{get:ExpressionPropertyInterface(Ht.o)},type:{get:function(){return"a"}},_name:{value:zt.nm},mn:{value:zt.mn}}),Ht.s.setGroupProperty(PropertyInterface("Start Point",en)),Ht.e.setGroupProperty(PropertyInterface("End Point",en)),Ht.o.setGroupProperty(PropertyInterface("Opacity",en)),Kt}function Et(){function zt(){return null}return zt}function At(zt,Ht,en){var Kt=propertyGroupFactory(fn,en),Zt=propertyGroupFactory(ln,Kt);function Wt(un){Object.defineProperty(ln,zt.d[un].nm,{get:ExpressionPropertyInterface(Ht.d.dataProps[un].p)})}var tn,an=zt.d?zt.d.length:0,ln={};for(tn=0;tn<an;tn+=1)Wt(tn),Ht.d.dataProps[tn].p.setGroupProperty(Zt);function fn(un){return un==="Color"||un==="color"?fn.color:un==="Opacity"||un==="opacity"?fn.opacity:un==="Stroke Width"||un==="stroke width"?fn.strokeWidth:null}return Object.defineProperties(fn,{color:{get:ExpressionPropertyInterface(Ht.c)},opacity:{get:ExpressionPropertyInterface(Ht.o)},strokeWidth:{get:ExpressionPropertyInterface(Ht.w)},dash:{get:function(){return ln}},_name:{value:zt.nm},mn:{value:zt.mn}}),Ht.c.setGroupProperty(PropertyInterface("Color",Kt)),Ht.o.setGroupProperty(PropertyInterface("Opacity",Kt)),Ht.w.setGroupProperty(PropertyInterface("Stroke Width",Kt)),fn}function Ct(zt,Ht,en){function Kt(Wt){return Wt===zt.e.ix||Wt==="End"||Wt==="end"?Kt.end:Wt===zt.s.ix?Kt.start:Wt===zt.o.ix?Kt.offset:null}var Zt=propertyGroupFactory(Kt,en);return Kt.propertyIndex=zt.ix,Ht.s.setGroupProperty(PropertyInterface("Start",Zt)),Ht.e.setGroupProperty(PropertyInterface("End",Zt)),Ht.o.setGroupProperty(PropertyInterface("Offset",Zt)),Kt.propertyIndex=zt.ix,Kt.propertyGroup=en,Object.defineProperties(Kt,{start:{get:ExpressionPropertyInterface(Ht.s)},end:{get:ExpressionPropertyInterface(Ht.e)},offset:{get:ExpressionPropertyInterface(Ht.o)},_name:{value:zt.nm}}),Kt.mn=zt.mn,Kt}function Tt(zt,Ht,en){function Kt(Wt){return zt.a.ix===Wt||Wt==="Anchor Point"?Kt.anchorPoint:zt.o.ix===Wt||Wt==="Opacity"?Kt.opacity:zt.p.ix===Wt||Wt==="Position"?Kt.position:zt.r.ix===Wt||Wt==="Rotation"||Wt==="ADBE Vector Rotation"?Kt.rotation:zt.s.ix===Wt||Wt==="Scale"?Kt.scale:zt.sk&&zt.sk.ix===Wt||Wt==="Skew"?Kt.skew:zt.sa&&zt.sa.ix===Wt||Wt==="Skew Axis"?Kt.skewAxis:null}var Zt=propertyGroupFactory(Kt,en);return Ht.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Zt)),Ht.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Zt)),Ht.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Zt)),Ht.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Zt)),Ht.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Zt)),Ht.transform.mProps.sk&&(Ht.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Zt)),Ht.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Zt))),Ht.transform.op.setGroupProperty(PropertyInterface("Opacity",Zt)),Object.defineProperties(Kt,{opacity:{get:ExpressionPropertyInterface(Ht.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ht.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ht.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ht.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ht.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ht.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ht.transform.mProps.sa)},_name:{value:zt.nm}}),Kt.ty="tr",Kt.mn=zt.mn,Kt.propertyGroup=en,Kt}function Rt(zt,Ht,en){function Kt(tn){return zt.p.ix===tn?Kt.position:zt.s.ix===tn?Kt.size:null}var Zt=propertyGroupFactory(Kt,en);Kt.propertyIndex=zt.ix;var Wt=Ht.sh.ty==="tm"?Ht.sh.prop:Ht.sh;return Wt.s.setGroupProperty(PropertyInterface("Size",Zt)),Wt.p.setGroupProperty(PropertyInterface("Position",Zt)),Object.defineProperties(Kt,{size:{get:ExpressionPropertyInterface(Wt.s)},position:{get:ExpressionPropertyInterface(Wt.p)},_name:{value:zt.nm}}),Kt.mn=zt.mn,Kt}function Bt(zt,Ht,en){function Kt(tn){return zt.p.ix===tn?Kt.position:zt.r.ix===tn?Kt.rotation:zt.pt.ix===tn?Kt.points:zt.or.ix===tn||tn==="ADBE Vector Star Outer Radius"?Kt.outerRadius:zt.os.ix===tn?Kt.outerRoundness:zt.ir&&(zt.ir.ix===tn||tn==="ADBE Vector Star Inner Radius")?Kt.innerRadius:zt.is&&zt.is.ix===tn?Kt.innerRoundness:null}var Zt=propertyGroupFactory(Kt,en),Wt=Ht.sh.ty==="tm"?Ht.sh.prop:Ht.sh;return Kt.propertyIndex=zt.ix,Wt.or.setGroupProperty(PropertyInterface("Outer Radius",Zt)),Wt.os.setGroupProperty(PropertyInterface("Outer Roundness",Zt)),Wt.pt.setGroupProperty(PropertyInterface("Points",Zt)),Wt.p.setGroupProperty(PropertyInterface("Position",Zt)),Wt.r.setGroupProperty(PropertyInterface("Rotation",Zt)),zt.ir&&(Wt.ir.setGroupProperty(PropertyInterface("Inner Radius",Zt)),Wt.is.setGroupProperty(PropertyInterface("Inner Roundness",Zt))),Object.defineProperties(Kt,{position:{get:ExpressionPropertyInterface(Wt.p)},rotation:{get:ExpressionPropertyInterface(Wt.r)},points:{get:ExpressionPropertyInterface(Wt.pt)},outerRadius:{get:ExpressionPropertyInterface(Wt.or)},outerRoundness:{get:ExpressionPropertyInterface(Wt.os)},innerRadius:{get:ExpressionPropertyInterface(Wt.ir)},innerRoundness:{get:ExpressionPropertyInterface(Wt.is)},_name:{value:zt.nm}}),Kt.mn=zt.mn,Kt}function Ft(zt,Ht,en){function Kt(tn){return zt.p.ix===tn?Kt.position:zt.r.ix===tn?Kt.roundness:zt.s.ix===tn||tn==="Size"||tn==="ADBE Vector Rect Size"?Kt.size:null}var Zt=propertyGroupFactory(Kt,en),Wt=Ht.sh.ty==="tm"?Ht.sh.prop:Ht.sh;return Kt.propertyIndex=zt.ix,Wt.p.setGroupProperty(PropertyInterface("Position",Zt)),Wt.s.setGroupProperty(PropertyInterface("Size",Zt)),Wt.r.setGroupProperty(PropertyInterface("Rotation",Zt)),Object.defineProperties(Kt,{position:{get:ExpressionPropertyInterface(Wt.p)},roundness:{get:ExpressionPropertyInterface(Wt.r)},size:{get:ExpressionPropertyInterface(Wt.s)},_name:{value:zt.nm}}),Kt.mn=zt.mn,Kt}function Dt(zt,Ht,en){function Kt(tn){return zt.r.ix===tn||tn==="Round Corners 1"?Kt.radius:null}var Zt=propertyGroupFactory(Kt,en),Wt=Ht;return Kt.propertyIndex=zt.ix,Wt.rd.setGroupProperty(PropertyInterface("Radius",Zt)),Object.defineProperties(Kt,{radius:{get:ExpressionPropertyInterface(Wt.rd)},_name:{value:zt.nm}}),Kt.mn=zt.mn,Kt}function kt(zt,Ht,en){function Kt(tn){return zt.c.ix===tn||tn==="Copies"?Kt.copies:zt.o.ix===tn||tn==="Offset"?Kt.offset:null}var Zt=propertyGroupFactory(Kt,en),Wt=Ht;return Kt.propertyIndex=zt.ix,Wt.c.setGroupProperty(PropertyInterface("Copies",Zt)),Wt.o.setGroupProperty(PropertyInterface("Offset",Zt)),Object.defineProperties(Kt,{copies:{get:ExpressionPropertyInterface(Wt.c)},offset:{get:ExpressionPropertyInterface(Wt.o)},_name:{value:zt.nm}}),Kt.mn=zt.mn,Kt}return function(zt,Ht,en){var Kt;function Zt(tn){if(typeof tn=="number")return tn=tn===void 0?1:tn,tn===0?en:Kt[tn-1];for(var an=0,ln=Kt.length;an<ln;){if(Kt[an]._name===tn)return Kt[an];an+=1}return null}function Wt(){return en}return Zt.propertyGroup=propertyGroupFactory(Zt,Wt),Kt=dt(zt,Ht,Zt.propertyGroup),Zt.numProperties=Kt.length,Zt._name="Contents",Zt}}(),TextExpressionInterface=function(){return function(dt){var lt;function ft(vt){switch(vt){case"ADBE Text Document":return ft.sourceText;default:return null}}return Object.defineProperty(ft,"sourceText",{get:function(){dt.textProperty.getValue();var St=dt.textProperty.currentData.t;return(!lt||St!==lt.value)&&(lt=new String(St),lt.value=St||new String(St),Object.defineProperty(lt,"style",{get:function(){return{fillColor:dt.textProperty.currentData.fc}}})),lt}}),ft}}();function _typeof(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(ft){return typeof ft}:_typeof=function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof(dt)}var FootageInterface=function(){var dt=function(vt){var St="",Et=vt.getFootageData();function At(){return St="",Et=vt.getFootageData(),Ct}function Ct(Tt){if(Et[Tt])return St=Tt,Et=Et[Tt],_typeof(Et)==="object"?Ct:Et;var Rt=Tt.indexOf(St);if(Rt!==-1){var Bt=parseInt(Tt.substr(Rt+St.length),10);return Et=Et[Bt],_typeof(Et)==="object"?Ct:Et}return""}return At},lt=function(vt){function St(Et){return Et==="Outline"?St.outlineInterface():null}return St._name="Outline",St.outlineInterface=dt(vt),St};return function(ft){function vt(St){return St==="Data"?vt.dataInterface:null}return vt._name="Data",vt.dataInterface=lt(ft),vt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(dt){return interfaces[dt]||null}var expressionHelpers=function(){function dt(At,Ct,Tt){Ct.x&&(Tt.k=!0,Tt.x=!0,Tt.initiateExpression=ExpressionManager.initiateExpression,Tt.effectsSequence.push(Tt.initiateExpression(At,Ct,Tt).bind(Tt)))}function lt(At){return At*=this.elem.globalData.frameRate,At-=this.offsetTime,At!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<At?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(At,this._cachingAtTime),this._cachingAtTime.lastFrame=At),this._cachingAtTime.value}function ft(At){var Ct=-.01,Tt=this.getValueAtTime(At),Rt=this.getValueAtTime(At+Ct),Bt=0;if(Tt.length){var Ft;for(Ft=0;Ft<Tt.length;Ft+=1)Bt+=Math.pow(Rt[Ft]-Tt[Ft],2);Bt=Math.sqrt(Bt)*100}else Bt=0;return Bt}function vt(At){if(this.vel!==void 0)return this.vel;var Ct=-.001,Tt=this.getValueAtTime(At),Rt=this.getValueAtTime(At+Ct),Bt;if(Tt.length){Bt=createTypedArray("float32",Tt.length);var Ft;for(Ft=0;Ft<Tt.length;Ft+=1)Bt[Ft]=(Rt[Ft]-Tt[Ft])/Ct}else Bt=(Rt-Tt)/Ct;return Bt}function St(){return this.pv}function Et(At){this.propertyGroup=At}return{searchExpressions:dt,getSpeedAtTime:ft,getVelocityAtTime:vt,getValueAtTime:lt,getStaticValueAtTime:St,setGroupProperty:Et}}();function addPropertyDecorator(){function dt(Dt,kt,zt){if(!this.k||!this.keyframes)return this.pv;Dt=Dt?Dt.toLowerCase():"";var Ht=this.comp.renderedFrame,en=this.keyframes,Kt=en[en.length-1].t;if(Ht<=Kt)return this.pv;var Zt,Wt;zt?(kt?Zt=Math.abs(Kt-this.elem.comp.globalData.frameRate*kt):Zt=Math.max(0,Kt-this.elem.data.ip),Wt=Kt-Zt):((!kt||kt>en.length-1)&&(kt=en.length-1),Wt=en[en.length-1-kt].t,Zt=Kt-Wt);var tn,an,ln;if(Dt==="pingpong"){var fn=Math.floor((Ht-Wt)/Zt);if(fn%2!==0)return this.getValueAtTime((Zt-(Ht-Wt)%Zt+Wt)/this.comp.globalData.frameRate,0)}else if(Dt==="offset"){var un=this.getValueAtTime(Wt/this.comp.globalData.frameRate,0),pn=this.getValueAtTime(Kt/this.comp.globalData.frameRate,0),xn=this.getValueAtTime(((Ht-Wt)%Zt+Wt)/this.comp.globalData.frameRate,0),An=Math.floor((Ht-Wt)/Zt);if(this.pv.length){for(ln=new Array(un.length),an=ln.length,tn=0;tn<an;tn+=1)ln[tn]=(pn[tn]-un[tn])*An+xn[tn];return ln}return(pn-un)*An+xn}else if(Dt==="continue"){var gn=this.getValueAtTime(Kt/this.comp.globalData.frameRate,0),Ln=this.getValueAtTime((Kt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ln=new Array(gn.length),an=ln.length,tn=0;tn<an;tn+=1)ln[tn]=gn[tn]+(gn[tn]-Ln[tn])*((Ht-Kt)/this.comp.globalData.frameRate)/5e-4;return ln}return gn+(gn-Ln)*((Ht-Kt)/.001)}return this.getValueAtTime(((Ht-Wt)%Zt+Wt)/this.comp.globalData.frameRate,0)}function lt(Dt,kt,zt){if(!this.k)return this.pv;Dt=Dt?Dt.toLowerCase():"";var Ht=this.comp.renderedFrame,en=this.keyframes,Kt=en[0].t;if(Ht>=Kt)return this.pv;var Zt,Wt;zt?(kt?Zt=Math.abs(this.elem.comp.globalData.frameRate*kt):Zt=Math.max(0,this.elem.data.op-Kt),Wt=Kt+Zt):((!kt||kt>en.length-1)&&(kt=en.length-1),Wt=en[kt].t,Zt=Wt-Kt);var tn,an,ln;if(Dt==="pingpong"){var fn=Math.floor((Kt-Ht)/Zt);if(fn%2===0)return this.getValueAtTime(((Kt-Ht)%Zt+Kt)/this.comp.globalData.frameRate,0)}else if(Dt==="offset"){var un=this.getValueAtTime(Kt/this.comp.globalData.frameRate,0),pn=this.getValueAtTime(Wt/this.comp.globalData.frameRate,0),xn=this.getValueAtTime((Zt-(Kt-Ht)%Zt+Kt)/this.comp.globalData.frameRate,0),An=Math.floor((Kt-Ht)/Zt)+1;if(this.pv.length){for(ln=new Array(un.length),an=ln.length,tn=0;tn<an;tn+=1)ln[tn]=xn[tn]-(pn[tn]-un[tn])*An;return ln}return xn-(pn-un)*An}else if(Dt==="continue"){var gn=this.getValueAtTime(Kt/this.comp.globalData.frameRate,0),Ln=this.getValueAtTime((Kt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ln=new Array(gn.length),an=ln.length,tn=0;tn<an;tn+=1)ln[tn]=gn[tn]+(gn[tn]-Ln[tn])*(Kt-Ht)/.001;return ln}return gn+(gn-Ln)*(Kt-Ht)/.001}return this.getValueAtTime((Zt-((Kt-Ht)%Zt+Kt))/this.comp.globalData.frameRate,0)}function ft(Dt,kt){if(!this.k)return this.pv;if(Dt=(Dt||.4)*.5,kt=Math.floor(kt||5),kt<=1)return this.pv;var zt=this.comp.renderedFrame/this.comp.globalData.frameRate,Ht=zt-Dt,en=zt+Dt,Kt=kt>1?(en-Ht)/(kt-1):1,Zt=0,Wt=0,tn;this.pv.length?tn=createTypedArray("float32",this.pv.length):tn=0;for(var an;Zt<kt;){if(an=this.getValueAtTime(Ht+Zt*Kt),this.pv.length)for(Wt=0;Wt<this.pv.length;Wt+=1)tn[Wt]+=an[Wt];else tn+=an;Zt+=1}if(this.pv.length)for(Wt=0;Wt<this.pv.length;Wt+=1)tn[Wt]/=kt;else tn/=kt;return tn}function vt(Dt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var kt=this._transformCachingAtTime.v;if(kt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var zt=this.a.getValueAtTime(Dt);kt.translate(-zt[0]*this.a.mult,-zt[1]*this.a.mult,zt[2]*this.a.mult)}if(this.appliedTransformations<2){var Ht=this.s.getValueAtTime(Dt);kt.scale(Ht[0]*this.s.mult,Ht[1]*this.s.mult,Ht[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var en=this.sk.getValueAtTime(Dt),Kt=this.sa.getValueAtTime(Dt);kt.skewFromAxis(-en*this.sk.mult,Kt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Zt=this.r.getValueAtTime(Dt);kt.rotate(-Zt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Wt=this.rz.getValueAtTime(Dt),tn=this.ry.getValueAtTime(Dt),an=this.rx.getValueAtTime(Dt),ln=this.or.getValueAtTime(Dt);kt.rotateZ(-Wt*this.rz.mult).rotateY(tn*this.ry.mult).rotateX(an*this.rx.mult).rotateZ(-ln[2]*this.or.mult).rotateY(ln[1]*this.or.mult).rotateX(ln[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var fn=this.px.getValueAtTime(Dt),un=this.py.getValueAtTime(Dt);if(this.data.p.z){var pn=this.pz.getValueAtTime(Dt);kt.translate(fn*this.px.mult,un*this.py.mult,-pn*this.pz.mult)}else kt.translate(fn*this.px.mult,un*this.py.mult,0)}else{var xn=this.p.getValueAtTime(Dt);kt.translate(xn[0]*this.p.mult,xn[1]*this.p.mult,-xn[2]*this.p.mult)}return kt}function St(){return this.v.clone(new Matrix)}var Et=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Dt,kt,zt){var Ht=Et(Dt,kt,zt);return Ht.dynamicProperties.length?Ht.getValueAtTime=vt.bind(Ht):Ht.getValueAtTime=St.bind(Ht),Ht.setGroupProperty=expressionHelpers.setGroupProperty,Ht};var At=PropertyFactory.getProp;PropertyFactory.getProp=function(Dt,kt,zt,Ht,en){var Kt=At(Dt,kt,zt,Ht,en);Kt.kf?Kt.getValueAtTime=expressionHelpers.getValueAtTime.bind(Kt):Kt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Kt),Kt.setGroupProperty=expressionHelpers.setGroupProperty,Kt.loopOut=dt,Kt.loopIn=lt,Kt.smooth=ft,Kt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Kt),Kt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Kt),Kt.numKeys=kt.a===1?kt.k.length:0,Kt.propertyIndex=kt.ix;var Zt=0;return zt!==0&&(Zt=createTypedArray("float32",kt.a===1?kt.k[0].s.length:kt.k.length)),Kt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Zt},expressionHelpers.searchExpressions(Dt,kt,Kt),Kt.k&&en.addDynamicProperty(Kt),Kt};function Ct(Dt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Dt*=this.elem.globalData.frameRate,Dt-=this.offsetTime,Dt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Dt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Dt,this.interpolateShape(Dt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Tt=ShapePropertyFactory.getConstructorFunction(),Rt=ShapePropertyFactory.getKeyframedConstructorFunction();function Bt(){}Bt.prototype={vertices:function(kt,zt){this.k&&this.getValue();var Ht=this.v;zt!==void 0&&(Ht=this.getValueAtTime(zt,0));var en,Kt=Ht._length,Zt=Ht[kt],Wt=Ht.v,tn=createSizedArray(Kt);for(en=0;en<Kt;en+=1)kt==="i"||kt==="o"?tn[en]=[Zt[en][0]-Wt[en][0],Zt[en][1]-Wt[en][1]]:tn[en]=[Zt[en][0],Zt[en][1]];return tn},points:function(kt){return this.vertices("v",kt)},inTangents:function(kt){return this.vertices("i",kt)},outTangents:function(kt){return this.vertices("o",kt)},isClosed:function(){return this.v.c},pointOnPath:function(kt,zt){var Ht=this.v;zt!==void 0&&(Ht=this.getValueAtTime(zt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ht));for(var en=this._segmentsLength,Kt=en.lengths,Zt=en.totalLength*kt,Wt=0,tn=Kt.length,an=0,ln;Wt<tn;){if(an+Kt[Wt].addedLength>Zt){var fn=Wt,un=Ht.c&&Wt===tn-1?0:Wt+1,pn=(Zt-an)/Kt[Wt].addedLength;ln=bez.getPointInSegment(Ht.v[fn],Ht.v[un],Ht.o[fn],Ht.i[un],pn,Kt[Wt]);break}else an+=Kt[Wt].addedLength;Wt+=1}return ln||(ln=Ht.c?[Ht.v[0][0],Ht.v[0][1]]:[Ht.v[Ht._length-1][0],Ht.v[Ht._length-1][1]]),ln},vectorOnPath:function(kt,zt,Ht){kt==1?kt=this.v.c:kt==0&&(kt=.999);var en=this.pointOnPath(kt,zt),Kt=this.pointOnPath(kt+.001,zt),Zt=Kt[0]-en[0],Wt=Kt[1]-en[1],tn=Math.sqrt(Math.pow(Zt,2)+Math.pow(Wt,2));if(tn===0)return[0,0];var an=Ht==="tangent"?[Zt/tn,Wt/tn]:[-Wt/tn,Zt/tn];return an},tangentOnPath:function(kt,zt){return this.vectorOnPath(kt,zt,"tangent")},normalOnPath:function(kt,zt){return this.vectorOnPath(kt,zt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Bt],Tt),extendPrototype([Bt],Rt),Rt.prototype.getValueAtTime=Ct,Rt.prototype.initiateExpression=ExpressionManager.initiateExpression;var Ft=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Dt,kt,zt,Ht,en){var Kt=Ft(Dt,kt,zt,Ht,en);return Kt.propertyIndex=kt.ix,Kt.lock=!1,zt===3?expressionHelpers.searchExpressions(Dt,kt.pt,Kt):zt===4&&expressionHelpers.searchExpressions(Dt,kt.ks,Kt),Kt.k&&Dt.addDynamicProperty(Kt),Kt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function dt(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(lt,ft){var vt=this.calculateExpression(ft);if(lt.t!==vt){var St={};return this.copyData(St,lt),St.t=vt.toString(),St.__complete=!1,St}return lt},TextProperty.prototype.searchProperty=function(){var lt=this.searchKeyframes(),ft=this.searchExpressions();return this.kf=lt||ft,this.kf},TextProperty.prototype.searchExpressions=dt}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function dt(lt,ft){var vt=createNS("feMerge");vt.setAttribute("result",lt);var St,Et;for(Et=0;Et<ft.length;Et+=1)St=createNS("feMergeNode"),St.setAttribute("in",ft[Et]),vt.appendChild(St),vt.appendChild(St);return vt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(dt,lt,ft,vt,St){this.filterManager=lt;var Et=createNS("feColorMatrix");Et.setAttribute("type","matrix"),Et.setAttribute("color-interpolation-filters","linearRGB"),Et.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Et,Et.setAttribute("result",vt+"_tint_1"),dt.appendChild(Et),Et=createNS("feColorMatrix"),Et.setAttribute("type","matrix"),Et.setAttribute("color-interpolation-filters","sRGB"),Et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Et.setAttribute("result",vt+"_tint_2"),dt.appendChild(Et),this.matrixFilter=Et;var At=this.createMergeNode(vt,[St,vt+"_tint_1",vt+"_tint_2"]);dt.appendChild(At)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var lt=this.filterManager.effectElements[0].p.v,ft=this.filterManager.effectElements[1].p.v,vt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+vt+" 0"),this.matrixFilter.setAttribute("values",ft[0]-lt[0]+" 0 0 0 "+lt[0]+" "+(ft[1]-lt[1])+" 0 0 0 "+lt[1]+" "+(ft[2]-lt[2])+" 0 0 0 "+lt[2]+" 0 0 0 1 0")}};function SVGFillFilter(dt,lt,ft,vt){this.filterManager=lt;var St=createNS("feColorMatrix");St.setAttribute("type","matrix"),St.setAttribute("color-interpolation-filters","sRGB"),St.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),St.setAttribute("result",vt),dt.appendChild(St),this.matrixFilter=St}SVGFillFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var lt=this.filterManager.effectElements[2].p.v,ft=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+lt[0]+" 0 0 0 0 "+lt[1]+" 0 0 0 0 "+lt[2]+" 0 0 0 "+ft+" 0")}};function SVGStrokeEffect(dt,lt,ft){this.initialized=!1,this.filterManager=lt,this.elem=ft,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var dt=this.elem.layerElement.children||this.elem.layerElement.childNodes,lt,ft,vt,St;for(this.filterManager.effectElements[1].p.v===1?(St=this.elem.maskManager.masksProperties.length,vt=0):(vt=this.filterManager.effectElements[0].p.v-1,St=vt+1),ft=createNS("g"),ft.setAttribute("fill","none"),ft.setAttribute("stroke-linecap","round"),ft.setAttribute("stroke-dashoffset",1),vt;vt<St;vt+=1)lt=createNS("path"),ft.appendChild(lt),this.paths.push({p:lt,m:vt});if(this.filterManager.effectElements[10].p.v===3){var Et=createNS("mask"),At=createElementID();Et.setAttribute("id",At),Et.setAttribute("mask-type","alpha"),Et.appendChild(ft),this.elem.globalData.defs.appendChild(Et);var Ct=createNS("g");for(Ct.setAttribute("mask","url("+getLocationHref()+"#"+At+")");dt[0];)Ct.appendChild(dt[0]);this.elem.layerElement.appendChild(Ct),this.masker=Et,ft.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(dt=this.elem.layerElement.children||this.elem.layerElement.childNodes;dt.length;)this.elem.layerElement.removeChild(dt[0]);this.elem.layerElement.appendChild(ft),this.elem.layerElement.removeAttribute("mask"),ft.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=ft},SVGStrokeEffect.prototype.renderFrame=function(dt){this.initialized||this.initialize();var lt,ft=this.paths.length,vt,St;for(lt=0;lt<ft;lt+=1)if(this.paths[lt].m!==-1&&(vt=this.elem.maskManager.viewData[this.paths[lt].m],St=this.paths[lt].p,(dt||this.filterManager._mdf||vt.prop._mdf)&&St.setAttribute("d",vt.lastPath),dt||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||vt.prop._mdf)){var Et;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var At=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ct=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Tt=St.getTotalLength();Et="0 0 0 "+Tt*At+" ";var Rt=Tt*(Ct-At),Bt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Ft=Math.floor(Rt/Bt),Dt;for(Dt=0;Dt<Ft;Dt+=1)Et+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Et+="0 "+Tt*10+" 0 0"}else Et="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;St.setAttribute("stroke-dasharray",Et)}if((dt||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(dt||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(dt||this.filterManager.effectElements[3].p._mdf)){var kt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(kt[0]*255)+","+bmFloor(kt[1]*255)+","+bmFloor(kt[2]*255)+")")}};function SVGTritoneFilter(dt,lt,ft,vt){this.filterManager=lt;var St=createNS("feColorMatrix");St.setAttribute("type","matrix"),St.setAttribute("color-interpolation-filters","linearRGB"),St.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),dt.appendChild(St);var Et=createNS("feComponentTransfer");Et.setAttribute("color-interpolation-filters","sRGB"),Et.setAttribute("result",vt),this.matrixFilter=Et;var At=createNS("feFuncR");At.setAttribute("type","table"),Et.appendChild(At),this.feFuncR=At;var Ct=createNS("feFuncG");Ct.setAttribute("type","table"),Et.appendChild(Ct),this.feFuncG=Ct;var Tt=createNS("feFuncB");Tt.setAttribute("type","table"),Et.appendChild(Tt),this.feFuncB=Tt,dt.appendChild(Et)}SVGTritoneFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var lt=this.filterManager.effectElements[0].p.v,ft=this.filterManager.effectElements[1].p.v,vt=this.filterManager.effectElements[2].p.v,St=vt[0]+" "+ft[0]+" "+lt[0],Et=vt[1]+" "+ft[1]+" "+lt[1],At=vt[2]+" "+ft[2]+" "+lt[2];this.feFuncR.setAttribute("tableValues",St),this.feFuncG.setAttribute("tableValues",Et),this.feFuncB.setAttribute("tableValues",At)}};function SVGProLevelsFilter(dt,lt,ft,vt){this.filterManager=lt;var St=this.filterManager.effectElements,Et=createNS("feComponentTransfer");(St[10].p.k||St[10].p.v!==0||St[11].p.k||St[11].p.v!==1||St[12].p.k||St[12].p.v!==1||St[13].p.k||St[13].p.v!==0||St[14].p.k||St[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Et)),(St[17].p.k||St[17].p.v!==0||St[18].p.k||St[18].p.v!==1||St[19].p.k||St[19].p.v!==1||St[20].p.k||St[20].p.v!==0||St[21].p.k||St[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Et)),(St[24].p.k||St[24].p.v!==0||St[25].p.k||St[25].p.v!==1||St[26].p.k||St[26].p.v!==1||St[27].p.k||St[27].p.v!==0||St[28].p.k||St[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Et)),(St[31].p.k||St[31].p.v!==0||St[32].p.k||St[32].p.v!==1||St[33].p.k||St[33].p.v!==1||St[34].p.k||St[34].p.v!==0||St[35].p.k||St[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Et)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Et.setAttribute("color-interpolation-filters","sRGB"),dt.appendChild(Et)),(St[3].p.k||St[3].p.v!==0||St[4].p.k||St[4].p.v!==1||St[5].p.k||St[5].p.v!==1||St[6].p.k||St[6].p.v!==0||St[7].p.k||St[7].p.v!==1)&&(Et=createNS("feComponentTransfer"),Et.setAttribute("color-interpolation-filters","sRGB"),Et.setAttribute("result",vt),dt.appendChild(Et),this.feFuncRComposed=this.createFeFunc("feFuncR",Et),this.feFuncGComposed=this.createFeFunc("feFuncG",Et),this.feFuncBComposed=this.createFeFunc("feFuncB",Et))}SVGProLevelsFilter.prototype.createFeFunc=function(dt,lt){var ft=createNS(dt);return ft.setAttribute("type","table"),lt.appendChild(ft),ft},SVGProLevelsFilter.prototype.getTableValue=function(dt,lt,ft,vt,St){for(var Et=0,At=256,Ct,Tt=Math.min(dt,lt),Rt=Math.max(dt,lt),Bt=Array.call(null,{length:At}),Ft,Dt=0,kt=St-vt,zt=lt-dt;Et<=256;)Ct=Et/256,Ct<=Tt?Ft=zt<0?St:vt:Ct>=Rt?Ft=zt<0?vt:St:Ft=vt+kt*Math.pow((Ct-dt)/zt,1/ft),Bt[Dt]=Ft,Dt+=1,Et+=256/(At-1);return Bt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var lt,ft=this.filterManager.effectElements;this.feFuncRComposed&&(dt||ft[3].p._mdf||ft[4].p._mdf||ft[5].p._mdf||ft[6].p._mdf||ft[7].p._mdf)&&(lt=this.getTableValue(ft[3].p.v,ft[4].p.v,ft[5].p.v,ft[6].p.v,ft[7].p.v),this.feFuncRComposed.setAttribute("tableValues",lt),this.feFuncGComposed.setAttribute("tableValues",lt),this.feFuncBComposed.setAttribute("tableValues",lt)),this.feFuncR&&(dt||ft[10].p._mdf||ft[11].p._mdf||ft[12].p._mdf||ft[13].p._mdf||ft[14].p._mdf)&&(lt=this.getTableValue(ft[10].p.v,ft[11].p.v,ft[12].p.v,ft[13].p.v,ft[14].p.v),this.feFuncR.setAttribute("tableValues",lt)),this.feFuncG&&(dt||ft[17].p._mdf||ft[18].p._mdf||ft[19].p._mdf||ft[20].p._mdf||ft[21].p._mdf)&&(lt=this.getTableValue(ft[17].p.v,ft[18].p.v,ft[19].p.v,ft[20].p.v,ft[21].p.v),this.feFuncG.setAttribute("tableValues",lt)),this.feFuncB&&(dt||ft[24].p._mdf||ft[25].p._mdf||ft[26].p._mdf||ft[27].p._mdf||ft[28].p._mdf)&&(lt=this.getTableValue(ft[24].p.v,ft[25].p.v,ft[26].p.v,ft[27].p.v,ft[28].p.v),this.feFuncB.setAttribute("tableValues",lt)),this.feFuncA&&(dt||ft[31].p._mdf||ft[32].p._mdf||ft[33].p._mdf||ft[34].p._mdf||ft[35].p._mdf)&&(lt=this.getTableValue(ft[31].p.v,ft[32].p.v,ft[33].p.v,ft[34].p.v,ft[35].p.v),this.feFuncA.setAttribute("tableValues",lt))}};function SVGDropShadowEffect(dt,lt,ft,vt,St){var Et=lt.container.globalData.renderConfig.filterSize,At=lt.data.fs||Et;dt.setAttribute("x",At.x||Et.x),dt.setAttribute("y",At.y||Et.y),dt.setAttribute("width",At.width||Et.width),dt.setAttribute("height",At.height||Et.height),this.filterManager=lt;var Ct=createNS("feGaussianBlur");Ct.setAttribute("in","SourceAlpha"),Ct.setAttribute("result",vt+"_drop_shadow_1"),Ct.setAttribute("stdDeviation","0"),this.feGaussianBlur=Ct,dt.appendChild(Ct);var Tt=createNS("feOffset");Tt.setAttribute("dx","25"),Tt.setAttribute("dy","0"),Tt.setAttribute("in",vt+"_drop_shadow_1"),Tt.setAttribute("result",vt+"_drop_shadow_2"),this.feOffset=Tt,dt.appendChild(Tt);var Rt=createNS("feFlood");Rt.setAttribute("flood-color","#00ff00"),Rt.setAttribute("flood-opacity","1"),Rt.setAttribute("result",vt+"_drop_shadow_3"),this.feFlood=Rt,dt.appendChild(Rt);var Bt=createNS("feComposite");Bt.setAttribute("in",vt+"_drop_shadow_3"),Bt.setAttribute("in2",vt+"_drop_shadow_2"),Bt.setAttribute("operator","in"),Bt.setAttribute("result",vt+"_drop_shadow_4"),dt.appendChild(Bt);var Ft=this.createMergeNode(vt,[vt+"_drop_shadow_4",St]);dt.appendChild(Ft)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){if((dt||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),dt||this.filterManager.effectElements[0].p._mdf){var lt=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(lt[0]*255),Math.round(lt[1]*255),Math.round(lt[2]*255)))}if((dt||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),dt||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var ft=this.filterManager.effectElements[3].p.v,vt=(this.filterManager.effectElements[2].p.v-90)*degToRads,St=ft*Math.cos(vt),Et=ft*Math.sin(vt);this.feOffset.setAttribute("dx",St),this.feOffset.setAttribute("dy",Et)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(dt,lt,ft){this.initialized=!1,this.filterManager=lt,this.filterElem=dt,this.elem=ft,ft.matteElement=createNS("g"),ft.matteElement.appendChild(ft.layerElement),ft.matteElement.appendChild(ft.transformedElement),ft.baseElement=ft.matteElement}SVGMatte3Effect.prototype.findSymbol=function(dt){for(var lt=0,ft=_svgMatteSymbols.length;lt<ft;){if(_svgMatteSymbols[lt]===dt)return _svgMatteSymbols[lt];lt+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(dt,lt){var ft=dt.layerElement.parentNode;if(ft){for(var vt=ft.children,St=0,Et=vt.length;St<Et&&vt[St]!==dt.layerElement;)St+=1;var At;St<=Et-2&&(At=vt[St+1]);var Ct=createNS("use");Ct.setAttribute("href","#"+lt),At?ft.insertBefore(Ct,At):ft.appendChild(Ct)}},SVGMatte3Effect.prototype.setElementAsMask=function(dt,lt){if(!this.findSymbol(lt)){var ft=createElementID(),vt=createNS("mask");vt.setAttribute("id",lt.layerId),vt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(lt);var St=dt.globalData.defs;St.appendChild(vt);var Et=createNS("symbol");Et.setAttribute("id",ft),this.replaceInParent(lt,ft),Et.appendChild(lt.layerElement),St.appendChild(Et);var At=createNS("use");At.setAttribute("href","#"+ft),vt.appendChild(At),lt.data.hd=!1,lt.show()}dt.setMatte(lt.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var dt=this.filterManager.effectElements[0].p.v,lt=this.elem.comp.elements,ft=0,vt=lt.length;ft<vt;)lt[ft]&&lt[ft].data.ind===dt&&this.setElementAsMask(this.elem,lt[ft]),ft+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(dt,lt,ft,vt){dt.setAttribute("x","-100%"),dt.setAttribute("y","-100%"),dt.setAttribute("width","300%"),dt.setAttribute("height","300%"),this.filterManager=lt;var St=createNS("feGaussianBlur");St.setAttribute("result",vt),dt.appendChild(St),this.feGaussianBlur=St}SVGGaussianBlurEffect.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var lt=.3,ft=this.filterManager.effectElements[0].p.v*lt,vt=this.filterManager.effectElements[1].p.v,St=vt==3?0:ft,Et=vt==2?0:ft;this.feGaussianBlur.setAttribute("stdDeviation",St+" "+Et);var At=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",At)}};function TransformEffect(){}TransformEffect.prototype.init=function(dt){this.effectsManager=dt,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(dt){if(this._opMdf=!1,this._mdf=!1,dt||this.effectsManager._mdf){var lt=this.effectsManager.effectElements,ft=lt[0].p.v,vt=lt[1].p.v,St=lt[2].p.v===1,Et=lt[3].p.v,At=St?Et:lt[4].p.v,Ct=lt[5].p.v,Tt=lt[6].p.v,Rt=lt[7].p.v;this.matrix.reset(),this.matrix.translate(-ft[0],-ft[1],ft[2]),this.matrix.scale(At*.01,Et*.01,1),this.matrix.rotate(-Rt*degToRads),this.matrix.skewFromAxis(-Ct*degToRads,(Tt+90)*degToRads),this.matrix.translate(vt[0],vt[1],0),this._mdf=!0,this.opacity!==lt[8].p.v&&(this.opacity=lt[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(dt,lt){this.init(lt)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(dt){this.init(dt)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit(dt,lt){var ft=dt==null?null:typeof Symbol<"u"&&dt[Symbol.iterator]||dt["@@iterator"];if(ft!=null){var vt,St,Et,At,Ct=[],Tt=!0,Rt=!1;try{if(Et=(ft=ft.call(dt)).next,lt===0){if(Object(ft)!==ft)return;Tt=!1}else for(;!(Tt=(vt=Et.call(ft)).done)&&(Ct.push(vt.value),Ct.length!==lt);Tt=!0);}catch(Bt){Rt=!0,St=Bt}finally{try{if(!Tt&&ft.return!=null&&(At=ft.return(),Object(At)!==At))return}finally{if(Rt)throw St}}return Ct}}function ownKeys(dt,lt){var ft=Object.keys(dt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(dt);lt&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor(dt,St).enumerable})),ft.push.apply(ft,vt)}return ft}function _objectSpread2(dt){for(var lt=1;lt<arguments.length;lt++){var ft=arguments[lt]!=null?arguments[lt]:{};lt%2?ownKeys(Object(ft),!0).forEach(function(vt){_defineProperty(dt,vt,ft[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors(ft)):ownKeys(Object(ft)).forEach(function(vt){Object.defineProperty(dt,vt,Object.getOwnPropertyDescriptor(ft,vt))})}return dt}function _defineProperty(dt,lt,ft){return lt=_toPropertyKey(lt),lt in dt?Object.defineProperty(dt,lt,{value:ft,enumerable:!0,configurable:!0,writable:!0}):dt[lt]=ft,dt}function _objectWithoutPropertiesLoose$1(dt,lt){if(dt==null)return{};var ft={},vt=Object.keys(dt),St,Et;for(Et=0;Et<vt.length;Et++)St=vt[Et],!(lt.indexOf(St)>=0)&&(ft[St]=dt[St]);return ft}function _objectWithoutProperties(dt,lt){if(dt==null)return{};var ft=_objectWithoutPropertiesLoose$1(dt,lt),vt,St;if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(dt);for(St=0;St<Et.length;St++)vt=Et[St],!(lt.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(dt,vt)&&(ft[vt]=dt[vt])}return ft}function _slicedToArray(dt,lt){return _arrayWithHoles(dt)||_iterableToArrayLimit(dt,lt)||_unsupportedIterableToArray(dt,lt)||_nonIterableRest()}function _arrayWithHoles(dt){if(Array.isArray(dt))return dt}function _unsupportedIterableToArray(dt,lt){if(dt){if(typeof dt=="string")return _arrayLikeToArray(dt,lt);var ft=Object.prototype.toString.call(dt).slice(8,-1);if(ft==="Object"&&dt.constructor&&(ft=dt.constructor.name),ft==="Map"||ft==="Set")return Array.from(dt);if(ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ft))return _arrayLikeToArray(dt,lt)}}function _arrayLikeToArray(dt,lt){(lt==null||lt>dt.length)&&(lt=dt.length);for(var ft=0,vt=new Array(lt);ft<lt;ft++)vt[ft]=dt[ft];return vt}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(dt,lt){if(typeof dt!="object"||dt===null)return dt;var ft=dt[Symbol.toPrimitive];if(ft!==void 0){var vt=ft.call(dt,lt||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lt==="string"?String:Number)(dt)}function _toPropertyKey(dt){var lt=_toPrimitive(dt,"string");return typeof lt=="symbol"?lt:String(lt)}var _excluded$1$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function dt(lt,ft){var vt=lt.animationData,St=lt.loop,Et=lt.autoplay,At=lt.initialSegment,Ct=lt.onComplete,Tt=lt.onLoopComplete,Rt=lt.onEnterFrame,Bt=lt.onSegmentStart,Ft=lt.onConfigReady,Dt=lt.onDataReady,kt=lt.onDataFailed,zt=lt.onLoadedImages,Ht=lt.onDOMLoaded,en=lt.onDestroy;lt.lottieRef,lt.renderer,lt.name,lt.assetsPath,lt.rendererSettings;var Kt=_objectWithoutProperties(lt,_excluded$1$1),Zt=reactExports.useState(!1),Wt=_slicedToArray(Zt,2),tn=Wt[0],an=Wt[1],ln=reactExports.useRef(),fn=reactExports.useRef(null),un=function(){var Tn;(Tn=ln.current)===null||Tn===void 0||Tn.play()},pn=function(){var Tn;(Tn=ln.current)===null||Tn===void 0||Tn.stop()},xn=function(){var Tn;(Tn=ln.current)===null||Tn===void 0||Tn.pause()},An=function(Tn){var In;(In=ln.current)===null||In===void 0||In.setSpeed(Tn)},gn=function(Tn,In){var Nn;(Nn=ln.current)===null||Nn===void 0||Nn.goToAndPlay(Tn,In)},Ln=function(Tn,In){var Nn;(Nn=ln.current)===null||Nn===void 0||Nn.goToAndStop(Tn,In)},Cn=function(Tn){var In;(In=ln.current)===null||In===void 0||In.setDirection(Tn)},En=function(Tn,In){var Nn;(Nn=ln.current)===null||Nn===void 0||Nn.playSegments(Tn,In)},yn=function(Tn){var In;(In=ln.current)===null||In===void 0||In.setSubframe(Tn)},Rn=function(Tn){var In;return(In=ln.current)===null||In===void 0?void 0:In.getDuration(Tn)},hn=function(){var Tn;(Tn=ln.current)===null||Tn===void 0||Tn.destroy(),ln.current=void 0},mn=function(){var Tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},In;if(fn.current){(In=ln.current)===null||In===void 0||In.destroy();var Nn=_objectSpread2(_objectSpread2(_objectSpread2({},lt),Tn),{},{container:fn.current});return ln.current=lottie.loadAnimation(Nn),an(!!ln.current),function(){var $n;($n=ln.current)===null||$n===void 0||$n.destroy(),ln.current=void 0}}};reactExports.useEffect(function(){var Mn=mn();return function(){return Mn==null?void 0:Mn()}},[vt,St]),reactExports.useEffect(function(){ln.current&&(ln.current.autoplay=!!Et)},[Et]),reactExports.useEffect(function(){if(ln.current){if(!At){ln.current.resetSegments(!0);return}!Array.isArray(At)||!At.length||((ln.current.currentRawFrame<At[0]||ln.current.currentRawFrame>At[1])&&(ln.current.currentRawFrame=At[0]),ln.current.setSegment(At[0],At[1]))}},[At]),reactExports.useEffect(function(){var Mn=[{name:"complete",handler:Ct},{name:"loopComplete",handler:Tt},{name:"enterFrame",handler:Rt},{name:"segmentStart",handler:Bt},{name:"config_ready",handler:Ft},{name:"data_ready",handler:Dt},{name:"data_failed",handler:kt},{name:"loaded_images",handler:zt},{name:"DOMLoaded",handler:Ht},{name:"destroy",handler:en}],Tn=Mn.filter(function(Nn){return Nn.handler!=null});if(Tn.length){var In=Tn.map(function(Nn){var $n;return($n=ln.current)===null||$n===void 0||$n.addEventListener(Nn.name,Nn.handler),function(){var Gn;(Gn=ln.current)===null||Gn===void 0||Gn.removeEventListener(Nn.name,Nn.handler)}});return function(){In.forEach(function(Nn){return Nn()})}}},[Ct,Tt,Rt,Bt,Ft,Dt,kt,zt,Ht,en]);var bn=React$1.createElement("div",_objectSpread2({style:ft,ref:fn},Kt));return{View:bn,play:un,stop:pn,pause:xn,setSpeed:An,goToAndStop:Ln,goToAndPlay:gn,setDirection:Cn,playSegments:En,setSubframe:yn,getDuration:Rn,destroy:hn,animationContainerRef:fn,animationLoaded:tn,animationItem:ln.current}};function getContainerVisibility(dt){var lt=dt.getBoundingClientRect(),ft=lt.top,vt=lt.height,St=window.innerHeight-ft,Et=window.innerHeight+vt;return St/Et}function getContainerCursorPosition(dt,lt,ft){var vt=dt.getBoundingClientRect(),St=vt.top,Et=vt.left,At=vt.width,Ct=vt.height,Tt=(lt-Et)/At,Rt=(ft-St)/Ct;return{x:Tt,y:Rt}}var useInitInteractivity=function dt(lt){var ft=lt.wrapperRef,vt=lt.animationItem,St=lt.mode,Et=lt.actions;reactExports.useEffect(function(){var At=ft.current;if(!(!At||!vt||!Et.length)){vt.stop();var Ct=function(){var Bt=null,Ft=function(){var kt=getContainerVisibility(At),zt=Et.find(function(en){var Kt=en.visibility;return Kt&&kt>=Kt[0]&&kt<=Kt[1]});if(zt){if(zt.type==="seek"&&zt.visibility&&zt.frames.length===2){var Ht=zt.frames[0]+Math.ceil((kt-zt.visibility[0])/(zt.visibility[1]-zt.visibility[0])*zt.frames[1]);//! goToAndStop must be relative to the start of the current segment
vt.goToAndStop(Ht-vt.firstFrame-1,!0)}zt.type==="loop"&&(Bt===null||Bt!==zt.frames||vt.isPaused)&&(vt.playSegments(zt.frames,!0),Bt=zt.frames),zt.type==="play"&&vt.isPaused&&(vt.resetSegments(!0),vt.play()),zt.type==="stop"&&vt.goToAndStop(zt.frames[0]-vt.firstFrame-1,!0)}};return document.addEventListener("scroll",Ft),function(){document.removeEventListener("scroll",Ft)}},Tt=function(){var Bt=function(zt,Ht){var en=zt,Kt=Ht;if(en!==-1&&Kt!==-1){var Zt=getContainerCursorPosition(At,en,Kt);en=Zt.x,Kt=Zt.y}var Wt=Et.find(function(ln){var fn=ln.position;return fn&&Array.isArray(fn.x)&&Array.isArray(fn.y)?en>=fn.x[0]&&en<=fn.x[1]&&Kt>=fn.y[0]&&Kt<=fn.y[1]:fn&&!Number.isNaN(fn.x)&&!Number.isNaN(fn.y)?en===fn.x&&Kt===fn.y:!1});if(Wt){if(Wt.type==="seek"&&Wt.position&&Array.isArray(Wt.position.x)&&Array.isArray(Wt.position.y)&&Wt.frames.length===2){var tn=(en-Wt.position.x[0])/(Wt.position.x[1]-Wt.position.x[0]),an=(Kt-Wt.position.y[0])/(Wt.position.y[1]-Wt.position.y[0]);vt.playSegments(Wt.frames,!0),vt.goToAndStop(Math.ceil((tn+an)/2*(Wt.frames[1]-Wt.frames[0])),!0)}Wt.type==="loop"&&vt.playSegments(Wt.frames,!0),Wt.type==="play"&&(vt.isPaused&&vt.resetSegments(!1),vt.playSegments(Wt.frames)),Wt.type==="stop"&&vt.goToAndStop(Wt.frames[0],!0)}},Ft=function(zt){Bt(zt.clientX,zt.clientY)},Dt=function(){Bt(-1,-1)};return At.addEventListener("mousemove",Ft),At.addEventListener("mouseout",Dt),function(){At.removeEventListener("mousemove",Ft),At.removeEventListener("mouseout",Dt)}};switch(St){case"scroll":return Ct();case"cursor":return Tt()}}},[St,vt])},useLottieInteractivity=function dt(lt){var ft=lt.actions,vt=lt.mode,St=lt.lottieObj,Et=St.animationItem,At=St.View,Ct=St.animationContainerRef;return useInitInteractivity({actions:ft,animationItem:Et,mode:vt,wrapperRef:Ct}),At},_excluded=["style","interactivity"],Lottie=function dt(lt){var ft,vt,St,Et=lt.style,At=lt.interactivity,Ct=_objectWithoutProperties(lt,_excluded),Tt=useLottie(Ct,Et),Rt=Tt.View,Bt=Tt.play,Ft=Tt.stop,Dt=Tt.pause,kt=Tt.setSpeed,zt=Tt.goToAndStop,Ht=Tt.goToAndPlay,en=Tt.setDirection,Kt=Tt.playSegments,Zt=Tt.setSubframe,Wt=Tt.getDuration,tn=Tt.destroy,an=Tt.animationContainerRef,ln=Tt.animationLoaded,fn=Tt.animationItem;return reactExports.useEffect(function(){lt.lottieRef&&(lt.lottieRef.current={play:Bt,stop:Ft,pause:Dt,setSpeed:kt,goToAndPlay:Ht,goToAndStop:zt,setDirection:en,playSegments:Kt,setSubframe:Zt,getDuration:Wt,destroy:tn,animationContainerRef:an,animationLoaded:ln,animationItem:fn})},[(ft=lt.lottieRef)===null||ft===void 0?void 0:ft.current]),useLottieInteractivity({lottieObj:{View:Rt,play:Bt,stop:Ft,pause:Dt,setSpeed:kt,goToAndStop:zt,goToAndPlay:Ht,setDirection:en,playSegments:Kt,setSubframe:Zt,getDuration:Wt,destroy:tn,animationContainerRef:an,animationLoaded:ln,animationItem:fn},actions:(vt=At==null?void 0:At.actions)!==null&&vt!==void 0?vt:[],mode:(St=At==null?void 0:At.mode)!==null&&St!==void 0?St:"scroll"})};const v$1="4.8.0",meta={g:"LottieFiles AE 3.4.5",a:"",k:"",d:"",tc:""},fr=30,ip=113,op=215,w$1=1e3,h$1=1e3,nm="PRE COMP 2",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Layer 2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[500,500,0],ix:2},a:{a:0,k:[127.688,125.134,0],ix:1},s:{a:0,k:[13780.399,13780.399,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.543,-.104],[0,0],[0,0],[0,1.253],[-1.314,0],[0,-1.315],[1.207,-.117],[0,0],[0,0],[0,1.567],[1.638,0],[0,-1.637]],o:[[0,0],[0,0],[-1.229,-.095],[0,-1.315],[1.315,0],[0,1.237],[0,0],[0,0],[1.54,-.108],[0,-1.637],[-1.637,0],[0,1.569]],v:[[-.202,2.965],[-.477,2.687],[-.184,2.382],[-2.385,.004],[-.001,-2.382],[2.385,.004],[.232,2.377],[-.063,2.687],[.21,2.965],[2.969,.004],[-.001,-2.965],[-2.969,.004]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[127.649,125.206],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:113,s:[0]},{t:214,s:[360]}],ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-.175,0],[0,-.164],[0,0],[.175,0],[0,.164],[0,0],[0,0],[0,.14],[-.144,0]],o:[[0,0],[0,-.164],[.175,0],[0,0],[0,.164],[-.175,0],[0,0],[0,0],[-.144,0],[0,-.14],[0,0]],v:[[.271,-.291],[.271,-.973],[.558,-1.248],[.845,-.973],[.845,.973],[.558,1.248],[.271,.973],[.271,.171],[-.613,.17],[-.845,-.06],[-.604,-.29]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[127.903,125.176],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.175,0],[0,.164],[0,0],[-.175,0],[0,-.164]],o:[[0,.164],[-.175,0],[0,0],[0,-.164],[.175,0],[0,0]],v:[[.287,.973],[0,1.247],[-.287,.973],[-.287,-.974],[0,-1.247],[.287,-.974]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[126.679,125.179],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1230,st:0,bm:0}],markers=[],animation={v:v$1,meta,fr,ip,op,w:w$1,h:h$1,nm,ddd,assets,layers,markers};function CustomLoader(){const{progress:dt}=useProgress(),lt=appState(St=>St.started,shallow$1);appState(St=>St.setStarted);const[ft,vt]=reactExports.useState(!1);return reactExports.useEffect(()=>{console.log("started"),console.log(lt)},[lt]),reactExports.useEffect(()=>{dt==100&&setTimeout(()=>{vt(!0)},2500)},[dt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:`custom-loader pointer-events-none absolute  z-[60]  flex h-full w-full items-center justify-center bg-black transition-all delay-[200ms] duration-[800ms] ease-in-out ${ft?" opacity-0 ":"opacity-100"}`,children:jsxRuntimeExports.jsx("div",{className:"w-32",children:jsxRuntimeExports.jsx(Lottie,{animationData:animation,loop:!0})})})})})})}function resolveAfterSmoothTime(dt){return new Promise(lt=>{setTimeout(()=>{lt("resolved")},dt*100)})}async function asyncCall(dt){await resolveAfterSmoothTime(dt)}function Scene(dt){const{orbitControlsRef:lt}=dt,[ft,vt]=useMultipleRefs(),St=appState(an=>an.currentView,shallow$1),Et=appState(an=>an.activeRing,shallow$1),At=appState(an=>an.activeTile,shallow$1),Ct=appState(an=>an.focusElementRef,shallow$1),Tt=appState(an=>an.ringNames),Rt=appState(an=>an.setUpdateBounds),Bt=appState(an=>an.getUniverseStores);appState(an=>an.setFetchData),appState(an=>an.mockData);const Ft=appState(an=>an.setMaxDistance);appState(an=>an.maxDistance),appState(an=>an.boundsMargin),appState(an=>an.setBoundsMargin);const Dt=appState(an=>an.started),kt=appState(an=>an.setStarted),{sectionPositions:zt}=Bt(),[Ht,en]=reactExports.useState(!1),Kt=useBounds();function Zt(an){lt.current.enabled=!1,setTimeout(()=>{lt.current.enabled=!0},3500);const{position:ln,target:fn}=an,{xPos:un,yPos:pn,zPos:xn}=ln,{xTar:An,yTar:gn,zTar:Ln}=fn;console.log("updateBoundsFunction"),Kt.to({position:[un,pn,xn],target:[An,gn,Ln]})}function Wt(){Ft(375);let[an,ln,fn]=[cameraPositionsStore.focus.none.position.x,cameraPositionsStore.focus.none.position.y,cameraPositionsStore.focus.none.position.z],[un,pn,xn]=[0,0,0];Kt.to({position:[an,ln,fn],target:[un,pn,xn]})}Rt(Zt),useFrame(an=>{const{camera:ln}=an,fn=an.clock.getElapsedTime();At||(ft.current.rotation.set(Math.cos(fn/8)/8,Math.sin(fn/8)/16,-.2-Math.sin(fn/3)/30),ft.current.rotation.z-=.02),St=="page"&&ln.fov<75?(ln.fov+=.33,ln.updateProjectionMatrix()):St=="main"&&ln.fov>60&&(ln.fov=ln.fov-=.55,ln.fov<60&&(ln.fov=60),ln.updateProjectionMatrix())}),reactExports.useEffect(()=>{if(!Ht){const{x:an,y:ln,z:fn}=cameraPositionsStore.idle.position,{x:un,y:pn,z:xn}=cameraPositionsStore.idle.target;Kt.to({position:[an,ln,fn],target:[un,pn,xn]}),en(!0)}},[]);const tn={ring_6:120,ring_5:80,ring_4:80,ring_3:30,ring_2:10};return reactExports.useEffect(()=>{St=="main"&&(Wt(),Dt||setTimeout(()=>{kt(!0)},500)),St=="page"&&asyncCall(15).then(()=>{Ft(tn[Et])})},[St]),reactExports.useEffect(()=>{if(St=="page"){lt.current.enabled=!1,setTimeout(()=>{lt.current.enabled=!0},1750);let[an,ln,fn]=[cameraPositionsStore.focus[Et].position.x,cameraPositionsStore.focus[Et].position.y,cameraPositionsStore.focus[Et].position.z],{x:un,y:pn,z:xn}=zt[Et],An={ring_6:20,ring_5:1,ring_4:1,ring_3:2,ring_2:2}[Et];pn=pn+An,Kt.to({position:[an,ln,fn],target:[un,pn,xn]})}},[Et]),reactExports.useEffect(()=>{Ct&&(St=="page"?(console.log("focusing on element"),Kt.refresh(Ct.current),Kt.fit()):Kt.refresh())},[Ct]),jsxRuntimeExports.jsxs("group",{ref:ft,children:[jsxRuntimeExports.jsx(ContentHolder,{visible:St=="page",sectionName:Tt[Et]}),jsxRuntimeExports.jsx("group",{ref:vt,children:jsxRuntimeExports.jsx(HirecoUniverse,{})})]})}class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(lt){const ft={listener:lt};return this.listeners.add(ft),this.onSubscribe(),()=>{this.listeners.delete(ft),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop(){}function functionalUpdate(dt,lt){return typeof dt=="function"?dt(lt):dt}function isValidTimeout(dt){return typeof dt=="number"&&dt>=0&&dt!==1/0}function timeUntilStale(dt,lt){return Math.max(dt+(lt||0)-Date.now(),0)}function parseQueryArgs(dt,lt,ft){return isQueryKey(dt)?typeof lt=="function"?{...ft,queryKey:dt,queryFn:lt}:{...lt,queryKey:dt}:dt}function parseFilterArgs(dt,lt,ft){return isQueryKey(dt)?[{...lt,queryKey:dt},ft]:[dt||{},lt]}function matchQuery(dt,lt){const{type:ft="all",exact:vt,fetchStatus:St,predicate:Et,queryKey:At,stale:Ct}=dt;if(isQueryKey(At)){if(vt){if(lt.queryHash!==hashQueryKeyByOptions(At,lt.options))return!1}else if(!partialMatchKey(lt.queryKey,At))return!1}if(ft!=="all"){const Tt=lt.isActive();if(ft==="active"&&!Tt||ft==="inactive"&&Tt)return!1}return!(typeof Ct=="boolean"&&lt.isStale()!==Ct||typeof St<"u"&&St!==lt.state.fetchStatus||Et&&!Et(lt))}function matchMutation(dt,lt){const{exact:ft,fetching:vt,predicate:St,mutationKey:Et}=dt;if(isQueryKey(Et)){if(!lt.options.mutationKey)return!1;if(ft){if(hashQueryKey(lt.options.mutationKey)!==hashQueryKey(Et))return!1}else if(!partialMatchKey(lt.options.mutationKey,Et))return!1}return!(typeof vt=="boolean"&&lt.state.status==="loading"!==vt||St&&!St(lt))}function hashQueryKeyByOptions(dt,lt){return((lt==null?void 0:lt.queryKeyHashFn)||hashQueryKey)(dt)}function hashQueryKey(dt){return JSON.stringify(dt,(lt,ft)=>isPlainObject(ft)?Object.keys(ft).sort().reduce((vt,St)=>(vt[St]=ft[St],vt),{}):ft)}function partialMatchKey(dt,lt){return partialDeepEqual(dt,lt)}function partialDeepEqual(dt,lt){return dt===lt?!0:typeof dt!=typeof lt?!1:dt&&lt&&typeof dt=="object"&&typeof lt=="object"?!Object.keys(lt).some(ft=>!partialDeepEqual(dt[ft],lt[ft])):!1}function replaceEqualDeep(dt,lt){if(dt===lt)return dt;const ft=isPlainArray(dt)&&isPlainArray(lt);if(ft||isPlainObject(dt)&&isPlainObject(lt)){const vt=ft?dt.length:Object.keys(dt).length,St=ft?lt:Object.keys(lt),Et=St.length,At=ft?[]:{};let Ct=0;for(let Tt=0;Tt<Et;Tt++){const Rt=ft?Tt:St[Tt];At[Rt]=replaceEqualDeep(dt[Rt],lt[Rt]),At[Rt]===dt[Rt]&&Ct++}return vt===Et&&Ct===vt?dt:At}return lt}function shallowEqualObjects(dt,lt){if(dt&&!lt||lt&&!dt)return!1;for(const ft in dt)if(dt[ft]!==lt[ft])return!1;return!0}function isPlainArray(dt){return Array.isArray(dt)&&dt.length===Object.keys(dt).length}function isPlainObject(dt){if(!hasObjectPrototype(dt))return!1;const lt=dt.constructor;if(typeof lt>"u")return!0;const ft=lt.prototype;return!(!hasObjectPrototype(ft)||!ft.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(dt){return Object.prototype.toString.call(dt)==="[object Object]"}function isQueryKey(dt){return Array.isArray(dt)}function sleep(dt){return new Promise(lt=>{setTimeout(lt,dt)})}function scheduleMicrotask(dt){sleep(0).then(dt)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(dt,lt,ft){return ft.isDataEqual!=null&&ft.isDataEqual(dt,lt)?dt:typeof ft.structuralSharing=="function"?ft.structuralSharing(dt,lt):ft.structuralSharing!==!1?replaceEqualDeep(dt,lt):lt}class FocusManager extends Subscribable{constructor(){super(),this.setup=lt=>{if(!isServer&&window.addEventListener){const ft=()=>lt();return window.addEventListener("visibilitychange",ft,!1),window.addEventListener("focus",ft,!1),()=>{window.removeEventListener("visibilitychange",ft),window.removeEventListener("focus",ft)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var lt;(lt=this.cleanup)==null||lt.call(this),this.cleanup=void 0}}setEventListener(lt){var ft;this.setup=lt,(ft=this.cleanup)==null||ft.call(this),this.cleanup=lt(vt=>{typeof vt=="boolean"?this.setFocused(vt):this.onFocus()})}setFocused(lt){this.focused=lt,lt&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:lt})=>{lt()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=lt=>{if(!isServer&&window.addEventListener){const ft=()=>lt();return onlineEvents.forEach(vt=>{window.addEventListener(vt,ft,!1)}),()=>{onlineEvents.forEach(vt=>{window.removeEventListener(vt,ft)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var lt;(lt=this.cleanup)==null||lt.call(this),this.cleanup=void 0}}setEventListener(lt){var ft;this.setup=lt,(ft=this.cleanup)==null||ft.call(this),this.cleanup=lt(vt=>{typeof vt=="boolean"?this.setOnline(vt):this.onOnline()})}setOnline(lt){this.online=lt,lt&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:lt})=>{lt()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(dt){return Math.min(1e3*2**dt,3e4)}function canFetch(dt){return(dt??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(lt){this.revert=lt==null?void 0:lt.revert,this.silent=lt==null?void 0:lt.silent}}function isCancelledError(dt){return dt instanceof CancelledError}function createRetryer(dt){let lt=!1,ft=0,vt=!1,St,Et,At;const Ct=new Promise((en,Kt)=>{Et=en,At=Kt}),Tt=en=>{vt||(kt(new CancelledError(en)),dt.abort==null||dt.abort())},Rt=()=>{lt=!0},Bt=()=>{lt=!1},Ft=()=>!focusManager.isFocused()||dt.networkMode!=="always"&&!onlineManager.isOnline(),Dt=en=>{vt||(vt=!0,dt.onSuccess==null||dt.onSuccess(en),St==null||St(),Et(en))},kt=en=>{vt||(vt=!0,dt.onError==null||dt.onError(en),St==null||St(),At(en))},zt=()=>new Promise(en=>{St=Kt=>{const Zt=vt||!Ft();return Zt&&en(Kt),Zt},dt.onPause==null||dt.onPause()}).then(()=>{St=void 0,vt||dt.onContinue==null||dt.onContinue()}),Ht=()=>{if(vt)return;let en;try{en=dt.fn()}catch(Kt){en=Promise.reject(Kt)}Promise.resolve(en).then(Dt).catch(Kt=>{var Zt,Wt;if(vt)return;const tn=(Zt=dt.retry)!=null?Zt:3,an=(Wt=dt.retryDelay)!=null?Wt:defaultRetryDelay,ln=typeof an=="function"?an(ft,Kt):an,fn=tn===!0||typeof tn=="number"&&ft<tn||typeof tn=="function"&&tn(ft,Kt);if(lt||!fn){kt(Kt);return}ft++,dt.onFail==null||dt.onFail(ft,Kt),sleep(ln).then(()=>{if(Ft())return zt()}).then(()=>{lt?kt(Kt):Ht()})})};return canFetch(dt.networkMode)?Ht():zt().then(Ht),{promise:Ct,cancel:Tt,continue:()=>(St==null?void 0:St())?Ct:Promise.resolve(),cancelRetry:Rt,continueRetry:Bt}}const defaultLogger=console;function createNotifyManager(){let dt=[],lt=0,ft=Bt=>{Bt()},vt=Bt=>{Bt()};const St=Bt=>{let Ft;lt++;try{Ft=Bt()}finally{lt--,lt||Ct()}return Ft},Et=Bt=>{lt?dt.push(Bt):scheduleMicrotask(()=>{ft(Bt)})},At=Bt=>(...Ft)=>{Et(()=>{Bt(...Ft)})},Ct=()=>{const Bt=dt;dt=[],Bt.length&&scheduleMicrotask(()=>{vt(()=>{Bt.forEach(Ft=>{ft(Ft)})})})};return{batch:St,batchCalls:At,schedule:Et,setNotifyFunction:Bt=>{ft=Bt},setBatchNotifyFunction:Bt=>{vt=Bt}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(lt){this.cacheTime=Math.max(this.cacheTime||0,lt??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(lt){super(),this.abortSignalConsumed=!1,this.defaultOptions=lt.defaultOptions,this.setOptions(lt.options),this.observers=[],this.cache=lt.cache,this.logger=lt.logger||defaultLogger,this.queryKey=lt.queryKey,this.queryHash=lt.queryHash,this.initialState=lt.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(lt){this.options={...this.defaultOptions,...lt},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(lt,ft){const vt=replaceData(this.state.data,lt,this.options);return this.dispatch({data:vt,type:"success",dataUpdatedAt:ft==null?void 0:ft.updatedAt,manual:ft==null?void 0:ft.manual}),vt}setState(lt,ft){this.dispatch({type:"setState",state:lt,setStateOptions:ft})}cancel(lt){var ft;const vt=this.promise;return(ft=this.retryer)==null||ft.cancel(lt),vt?vt.then(noop).catch(noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(lt=>lt.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(lt=>lt.getCurrentResult().isStale)}isStaleByTime(lt=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,lt)}onFocus(){var lt;const ft=this.observers.find(vt=>vt.shouldFetchOnWindowFocus());ft&&ft.refetch({cancelRefetch:!1}),(lt=this.retryer)==null||lt.continue()}onOnline(){var lt;const ft=this.observers.find(vt=>vt.shouldFetchOnReconnect());ft&&ft.refetch({cancelRefetch:!1}),(lt=this.retryer)==null||lt.continue()}addObserver(lt){this.observers.includes(lt)||(this.observers.push(lt),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:lt}))}removeObserver(lt){this.observers.includes(lt)&&(this.observers=this.observers.filter(ft=>ft!==lt),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:lt}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(lt,ft){var vt,St;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&ft!=null&&ft.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var Et;return(Et=this.retryer)==null||Et.continueRetry(),this.promise}}if(lt&&this.setOptions(lt),!this.options.queryFn){const kt=this.observers.find(zt=>zt.options.queryFn);kt&&this.setOptions(kt.options)}Array.isArray(this.options.queryKey);const At=getAbortController(),Ct={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},Tt=kt=>{Object.defineProperty(kt,"signal",{enumerable:!0,get:()=>{if(At)return this.abortSignalConsumed=!0,At.signal}})};Tt(Ct);const Rt=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(Ct)):Promise.reject("Missing queryFn"),Bt={fetchOptions:ft,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:Rt};if(Tt(Bt),(vt=this.options.behavior)==null||vt.onFetch(Bt),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((St=Bt.fetchOptions)==null?void 0:St.meta)){var Ft;this.dispatch({type:"fetch",meta:(Ft=Bt.fetchOptions)==null?void 0:Ft.meta})}const Dt=kt=>{if(isCancelledError(kt)&&kt.silent||this.dispatch({type:"error",error:kt}),!isCancelledError(kt)){var zt,Ht,en,Kt;(zt=(Ht=this.cache.config).onError)==null||zt.call(Ht,kt,this),(en=(Kt=this.cache.config).onSettled)==null||en.call(Kt,this.state.data,kt,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:Bt.fetchFn,abort:At==null?void 0:At.abort.bind(At),onSuccess:kt=>{var zt,Ht,en,Kt;if(typeof kt>"u"){Dt(new Error(this.queryHash+" data is undefined"));return}this.setData(kt),(zt=(Ht=this.cache.config).onSuccess)==null||zt.call(Ht,kt,this),(en=(Kt=this.cache.config).onSettled)==null||en.call(Kt,kt,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:Dt,onFail:(kt,zt)=>{this.dispatch({type:"failed",failureCount:kt,error:zt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:Bt.options.retry,retryDelay:Bt.options.retryDelay,networkMode:Bt.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(lt){const ft=vt=>{var St,Et;switch(lt.type){case"failed":return{...vt,fetchFailureCount:lt.failureCount,fetchFailureReason:lt.error};case"pause":return{...vt,fetchStatus:"paused"};case"continue":return{...vt,fetchStatus:"fetching"};case"fetch":return{...vt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(St=lt.meta)!=null?St:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!vt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...vt,data:lt.data,dataUpdateCount:vt.dataUpdateCount+1,dataUpdatedAt:(Et=lt.dataUpdatedAt)!=null?Et:Date.now(),error:null,isInvalidated:!1,status:"success",...!lt.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const At=lt.error;return isCancelledError(At)&&At.revert&&this.revertState?{...this.revertState}:{...vt,error:At,errorUpdateCount:vt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:vt.fetchFailureCount+1,fetchFailureReason:At,fetchStatus:"idle",status:"error"};case"invalidate":return{...vt,isInvalidated:!0};case"setState":return{...vt,...lt.state}}};this.state=ft(this.state),notifyManager.batch(()=>{this.observers.forEach(vt=>{vt.onQueryUpdate(lt)}),this.cache.notify({query:this,type:"updated",action:lt})})}}function getDefaultState$1(dt){const lt=typeof dt.initialData=="function"?dt.initialData():dt.initialData,ft=typeof lt<"u",vt=ft?typeof dt.initialDataUpdatedAt=="function"?dt.initialDataUpdatedAt():dt.initialDataUpdatedAt:0;return{data:lt,dataUpdateCount:0,dataUpdatedAt:ft?vt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:ft?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(lt){super(),this.config=lt||{},this.queries=[],this.queriesMap={}}build(lt,ft,vt){var St;const Et=ft.queryKey,At=(St=ft.queryHash)!=null?St:hashQueryKeyByOptions(Et,ft);let Ct=this.get(At);return Ct||(Ct=new Query({cache:this,logger:lt.getLogger(),queryKey:Et,queryHash:At,options:lt.defaultQueryOptions(ft),state:vt,defaultOptions:lt.getQueryDefaults(Et)}),this.add(Ct)),Ct}add(lt){this.queriesMap[lt.queryHash]||(this.queriesMap[lt.queryHash]=lt,this.queries.push(lt),this.notify({type:"added",query:lt}))}remove(lt){const ft=this.queriesMap[lt.queryHash];ft&&(lt.destroy(),this.queries=this.queries.filter(vt=>vt!==lt),ft===lt&&delete this.queriesMap[lt.queryHash],this.notify({type:"removed",query:lt}))}clear(){notifyManager.batch(()=>{this.queries.forEach(lt=>{this.remove(lt)})})}get(lt){return this.queriesMap[lt]}getAll(){return this.queries}find(lt,ft){const[vt]=parseFilterArgs(lt,ft);return typeof vt.exact>"u"&&(vt.exact=!0),this.queries.find(St=>matchQuery(vt,St))}findAll(lt,ft){const[vt]=parseFilterArgs(lt,ft);return Object.keys(vt).length>0?this.queries.filter(St=>matchQuery(vt,St)):this.queries}notify(lt){notifyManager.batch(()=>{this.listeners.forEach(({listener:ft})=>{ft(lt)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(lt=>{lt.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(lt=>{lt.onOnline()})})}}class Mutation extends Removable{constructor(lt){super(),this.defaultOptions=lt.defaultOptions,this.mutationId=lt.mutationId,this.mutationCache=lt.mutationCache,this.logger=lt.logger||defaultLogger,this.observers=[],this.state=lt.state||getDefaultState(),this.setOptions(lt.options),this.scheduleGc()}setOptions(lt){this.options={...this.defaultOptions,...lt},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(lt){this.dispatch({type:"setState",state:lt})}addObserver(lt){this.observers.includes(lt)||(this.observers.push(lt),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:lt}))}removeObserver(lt){this.observers=this.observers.filter(ft=>ft!==lt),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:lt})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var lt,ft;return(lt=(ft=this.retryer)==null?void 0:ft.continue())!=null?lt:this.execute()}async execute(){const lt=()=>{var fn;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(un,pn)=>{this.dispatch({type:"failed",failureCount:un,error:pn})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(fn=this.options.retry)!=null?fn:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},ft=this.state.status==="loading";try{var vt,St,Et,At,Ct,Tt,Rt,Bt;if(!ft){var Ft,Dt,kt,zt;this.dispatch({type:"loading",variables:this.options.variables}),await((Ft=(Dt=this.mutationCache.config).onMutate)==null?void 0:Ft.call(Dt,this.state.variables,this));const un=await((kt=(zt=this.options).onMutate)==null?void 0:kt.call(zt,this.state.variables));un!==this.state.context&&this.dispatch({type:"loading",context:un,variables:this.state.variables})}const fn=await lt();return await((vt=(St=this.mutationCache.config).onSuccess)==null?void 0:vt.call(St,fn,this.state.variables,this.state.context,this)),await((Et=(At=this.options).onSuccess)==null?void 0:Et.call(At,fn,this.state.variables,this.state.context)),await((Ct=(Tt=this.mutationCache.config).onSettled)==null?void 0:Ct.call(Tt,fn,null,this.state.variables,this.state.context,this)),await((Rt=(Bt=this.options).onSettled)==null?void 0:Rt.call(Bt,fn,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:fn}),fn}catch(fn){try{var Ht,en,Kt,Zt,Wt,tn,an,ln;throw await((Ht=(en=this.mutationCache.config).onError)==null?void 0:Ht.call(en,fn,this.state.variables,this.state.context,this)),await((Kt=(Zt=this.options).onError)==null?void 0:Kt.call(Zt,fn,this.state.variables,this.state.context)),await((Wt=(tn=this.mutationCache.config).onSettled)==null?void 0:Wt.call(tn,void 0,fn,this.state.variables,this.state.context,this)),await((an=(ln=this.options).onSettled)==null?void 0:an.call(ln,void 0,fn,this.state.variables,this.state.context)),fn}finally{this.dispatch({type:"error",error:fn})}}}dispatch(lt){const ft=vt=>{switch(lt.type){case"failed":return{...vt,failureCount:lt.failureCount,failureReason:lt.error};case"pause":return{...vt,isPaused:!0};case"continue":return{...vt,isPaused:!1};case"loading":return{...vt,context:lt.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:lt.variables};case"success":return{...vt,data:lt.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...vt,data:void 0,error:lt.error,failureCount:vt.failureCount+1,failureReason:lt.error,isPaused:!1,status:"error"};case"setState":return{...vt,...lt.state}}};this.state=ft(this.state),notifyManager.batch(()=>{this.observers.forEach(vt=>{vt.onMutationUpdate(lt)}),this.mutationCache.notify({mutation:this,type:"updated",action:lt})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(lt){super(),this.config=lt||{},this.mutations=[],this.mutationId=0}build(lt,ft,vt){const St=new Mutation({mutationCache:this,logger:lt.getLogger(),mutationId:++this.mutationId,options:lt.defaultMutationOptions(ft),state:vt,defaultOptions:ft.mutationKey?lt.getMutationDefaults(ft.mutationKey):void 0});return this.add(St),St}add(lt){this.mutations.push(lt),this.notify({type:"added",mutation:lt})}remove(lt){this.mutations=this.mutations.filter(ft=>ft!==lt),this.notify({type:"removed",mutation:lt})}clear(){notifyManager.batch(()=>{this.mutations.forEach(lt=>{this.remove(lt)})})}getAll(){return this.mutations}find(lt){return typeof lt.exact>"u"&&(lt.exact=!0),this.mutations.find(ft=>matchMutation(lt,ft))}findAll(lt){return this.mutations.filter(ft=>matchMutation(lt,ft))}notify(lt){notifyManager.batch(()=>{this.listeners.forEach(({listener:ft})=>{ft(lt)})})}resumePausedMutations(){var lt;return this.resuming=((lt=this.resuming)!=null?lt:Promise.resolve()).then(()=>{const ft=this.mutations.filter(vt=>vt.state.isPaused);return notifyManager.batch(()=>ft.reduce((vt,St)=>vt.then(()=>St.continue().catch(noop)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:dt=>{dt.fetchFn=()=>{var lt,ft,vt,St,Et,At;const Ct=(lt=dt.fetchOptions)==null||(ft=lt.meta)==null?void 0:ft.refetchPage,Tt=(vt=dt.fetchOptions)==null||(St=vt.meta)==null?void 0:St.fetchMore,Rt=Tt==null?void 0:Tt.pageParam,Bt=(Tt==null?void 0:Tt.direction)==="forward",Ft=(Tt==null?void 0:Tt.direction)==="backward",Dt=((Et=dt.state.data)==null?void 0:Et.pages)||[],kt=((At=dt.state.data)==null?void 0:At.pageParams)||[];let zt=kt,Ht=!1;const en=ln=>{Object.defineProperty(ln,"signal",{enumerable:!0,get:()=>{var fn;if((fn=dt.signal)!=null&&fn.aborted)Ht=!0;else{var un;(un=dt.signal)==null||un.addEventListener("abort",()=>{Ht=!0})}return dt.signal}})},Kt=dt.options.queryFn||(()=>Promise.reject("Missing queryFn")),Zt=(ln,fn,un,pn)=>(zt=pn?[fn,...zt]:[...zt,fn],pn?[un,...ln]:[...ln,un]),Wt=(ln,fn,un,pn)=>{if(Ht)return Promise.reject("Cancelled");if(typeof un>"u"&&!fn&&ln.length)return Promise.resolve(ln);const xn={queryKey:dt.queryKey,pageParam:un,meta:dt.options.meta};en(xn);const An=Kt(xn);return Promise.resolve(An).then(Ln=>Zt(ln,un,Ln,pn))};let tn;if(!Dt.length)tn=Wt([]);else if(Bt){const ln=typeof Rt<"u",fn=ln?Rt:getNextPageParam(dt.options,Dt);tn=Wt(Dt,ln,fn)}else if(Ft){const ln=typeof Rt<"u",fn=ln?Rt:getPreviousPageParam(dt.options,Dt);tn=Wt(Dt,ln,fn,!0)}else{zt=[];const ln=typeof dt.options.getNextPageParam>"u";tn=(Ct&&Dt[0]?Ct(Dt[0],0,Dt):!0)?Wt([],ln,kt[0]):Promise.resolve(Zt([],kt[0],Dt[0]));for(let un=1;un<Dt.length;un++)tn=tn.then(pn=>{if(Ct&&Dt[un]?Ct(Dt[un],un,Dt):!0){const An=ln?kt[un]:getNextPageParam(dt.options,pn);return Wt(pn,ln,An)}return Promise.resolve(Zt(pn,kt[un],Dt[un]))})}return tn.then(ln=>({pages:ln,pageParams:zt}))}}}}function getNextPageParam(dt,lt){return dt.getNextPageParam==null?void 0:dt.getNextPageParam(lt[lt.length-1],lt)}function getPreviousPageParam(dt,lt){return dt.getPreviousPageParam==null?void 0:dt.getPreviousPageParam(lt[0],lt)}class QueryClient{constructor(lt={}){this.queryCache=lt.queryCache||new QueryCache,this.mutationCache=lt.mutationCache||new MutationCache,this.logger=lt.logger||defaultLogger,this.defaultOptions=lt.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var lt,ft;this.mountCount--,this.mountCount===0&&((lt=this.unsubscribeFocus)==null||lt.call(this),this.unsubscribeFocus=void 0,(ft=this.unsubscribeOnline)==null||ft.call(this),this.unsubscribeOnline=void 0)}isFetching(lt,ft){const[vt]=parseFilterArgs(lt,ft);return vt.fetchStatus="fetching",this.queryCache.findAll(vt).length}isMutating(lt){return this.mutationCache.findAll({...lt,fetching:!0}).length}getQueryData(lt,ft){var vt;return(vt=this.queryCache.find(lt,ft))==null?void 0:vt.state.data}ensureQueryData(lt,ft,vt){const St=parseQueryArgs(lt,ft,vt),Et=this.getQueryData(St.queryKey);return Et?Promise.resolve(Et):this.fetchQuery(St)}getQueriesData(lt){return this.getQueryCache().findAll(lt).map(({queryKey:ft,state:vt})=>{const St=vt.data;return[ft,St]})}setQueryData(lt,ft,vt){const St=this.queryCache.find(lt),Et=St==null?void 0:St.state.data,At=functionalUpdate(ft,Et);if(typeof At>"u")return;const Ct=parseQueryArgs(lt),Tt=this.defaultQueryOptions(Ct);return this.queryCache.build(this,Tt).setData(At,{...vt,manual:!0})}setQueriesData(lt,ft,vt){return notifyManager.batch(()=>this.getQueryCache().findAll(lt).map(({queryKey:St})=>[St,this.setQueryData(St,ft,vt)]))}getQueryState(lt,ft){var vt;return(vt=this.queryCache.find(lt,ft))==null?void 0:vt.state}removeQueries(lt,ft){const[vt]=parseFilterArgs(lt,ft),St=this.queryCache;notifyManager.batch(()=>{St.findAll(vt).forEach(Et=>{St.remove(Et)})})}resetQueries(lt,ft,vt){const[St,Et]=parseFilterArgs(lt,ft,vt),At=this.queryCache,Ct={type:"active",...St};return notifyManager.batch(()=>(At.findAll(St).forEach(Tt=>{Tt.reset()}),this.refetchQueries(Ct,Et)))}cancelQueries(lt,ft,vt){const[St,Et={}]=parseFilterArgs(lt,ft,vt);typeof Et.revert>"u"&&(Et.revert=!0);const At=notifyManager.batch(()=>this.queryCache.findAll(St).map(Ct=>Ct.cancel(Et)));return Promise.all(At).then(noop).catch(noop)}invalidateQueries(lt,ft,vt){const[St,Et]=parseFilterArgs(lt,ft,vt);return notifyManager.batch(()=>{var At,Ct;if(this.queryCache.findAll(St).forEach(Rt=>{Rt.invalidate()}),St.refetchType==="none")return Promise.resolve();const Tt={...St,type:(At=(Ct=St.refetchType)!=null?Ct:St.type)!=null?At:"active"};return this.refetchQueries(Tt,Et)})}refetchQueries(lt,ft,vt){const[St,Et]=parseFilterArgs(lt,ft,vt),At=notifyManager.batch(()=>this.queryCache.findAll(St).filter(Tt=>!Tt.isDisabled()).map(Tt=>{var Rt;return Tt.fetch(void 0,{...Et,cancelRefetch:(Rt=Et==null?void 0:Et.cancelRefetch)!=null?Rt:!0,meta:{refetchPage:St.refetchPage}})}));let Ct=Promise.all(At).then(noop);return Et!=null&&Et.throwOnError||(Ct=Ct.catch(noop)),Ct}fetchQuery(lt,ft,vt){const St=parseQueryArgs(lt,ft,vt),Et=this.defaultQueryOptions(St);typeof Et.retry>"u"&&(Et.retry=!1);const At=this.queryCache.build(this,Et);return At.isStaleByTime(Et.staleTime)?At.fetch(Et):Promise.resolve(At.state.data)}prefetchQuery(lt,ft,vt){return this.fetchQuery(lt,ft,vt).then(noop).catch(noop)}fetchInfiniteQuery(lt,ft,vt){const St=parseQueryArgs(lt,ft,vt);return St.behavior=infiniteQueryBehavior(),this.fetchQuery(St)}prefetchInfiniteQuery(lt,ft,vt){return this.fetchInfiniteQuery(lt,ft,vt).then(noop).catch(noop)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(lt){this.defaultOptions=lt}setQueryDefaults(lt,ft){const vt=this.queryDefaults.find(St=>hashQueryKey(lt)===hashQueryKey(St.queryKey));vt?vt.defaultOptions=ft:this.queryDefaults.push({queryKey:lt,defaultOptions:ft})}getQueryDefaults(lt){if(!lt)return;const ft=this.queryDefaults.find(vt=>partialMatchKey(lt,vt.queryKey));return ft==null?void 0:ft.defaultOptions}setMutationDefaults(lt,ft){const vt=this.mutationDefaults.find(St=>hashQueryKey(lt)===hashQueryKey(St.mutationKey));vt?vt.defaultOptions=ft:this.mutationDefaults.push({mutationKey:lt,defaultOptions:ft})}getMutationDefaults(lt){if(!lt)return;const ft=this.mutationDefaults.find(vt=>partialMatchKey(lt,vt.mutationKey));return ft==null?void 0:ft.defaultOptions}defaultQueryOptions(lt){if(lt!=null&&lt._defaulted)return lt;const ft={...this.defaultOptions.queries,...this.getQueryDefaults(lt==null?void 0:lt.queryKey),...lt,_defaulted:!0};return!ft.queryHash&&ft.queryKey&&(ft.queryHash=hashQueryKeyByOptions(ft.queryKey,ft)),typeof ft.refetchOnReconnect>"u"&&(ft.refetchOnReconnect=ft.networkMode!=="always"),typeof ft.useErrorBoundary>"u"&&(ft.useErrorBoundary=!!ft.suspense),ft}defaultMutationOptions(lt){return lt!=null&&lt._defaulted?lt:{...this.defaultOptions.mutations,...this.getMutationDefaults(lt==null?void 0:lt.mutationKey),...lt,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(lt,ft){super(),this.client=lt,this.options=ft,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(ft)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(lt,ft){const vt=this.options,St=this.currentQuery;if(this.options=this.client.defaultQueryOptions(lt),shallowEqualObjects(vt,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=vt.queryKey),this.updateQuery();const Et=this.hasListeners();Et&&shouldFetchOptionally(this.currentQuery,St,this.options,vt)&&this.executeFetch(),this.updateResult(ft),Et&&(this.currentQuery!==St||this.options.enabled!==vt.enabled||this.options.staleTime!==vt.staleTime)&&this.updateStaleTimeout();const At=this.computeRefetchInterval();Et&&(this.currentQuery!==St||this.options.enabled!==vt.enabled||At!==this.currentRefetchInterval)&&this.updateRefetchInterval(At)}getOptimisticResult(lt){const ft=this.client.getQueryCache().build(this.client,lt);return this.createResult(ft,lt)}getCurrentResult(){return this.currentResult}trackResult(lt){const ft={};return Object.keys(lt).forEach(vt=>{Object.defineProperty(ft,vt,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(vt),lt[vt])})}),ft}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:lt,...ft}={}){return this.fetch({...ft,meta:{refetchPage:lt}})}fetchOptimistic(lt){const ft=this.client.defaultQueryOptions(lt),vt=this.client.getQueryCache().build(this.client,ft);return vt.isFetchingOptimistic=!0,vt.fetch().then(()=>this.createResult(vt,ft))}fetch(lt){var ft;return this.executeFetch({...lt,cancelRefetch:(ft=lt.cancelRefetch)!=null?ft:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(lt){this.updateQuery();let ft=this.currentQuery.fetch(this.options,lt);return lt!=null&&lt.throwOnError||(ft=ft.catch(noop)),ft}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const ft=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},ft)}computeRefetchInterval(){var lt;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(lt=this.options.refetchInterval)!=null?lt:!1}updateRefetchInterval(lt){this.clearRefetchInterval(),this.currentRefetchInterval=lt,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(lt,ft){const vt=this.currentQuery,St=this.options,Et=this.currentResult,At=this.currentResultState,Ct=this.currentResultOptions,Tt=lt!==vt,Rt=Tt?lt.state:this.currentQueryInitialState,Bt=Tt?this.currentResult:this.previousQueryResult,{state:Ft}=lt;let{dataUpdatedAt:Dt,error:kt,errorUpdatedAt:zt,fetchStatus:Ht,status:en}=Ft,Kt=!1,Zt=!1,Wt;if(ft._optimisticResults){const un=this.hasListeners(),pn=!un&&shouldFetchOnMount(lt,ft),xn=un&&shouldFetchOptionally(lt,vt,ft,St);(pn||xn)&&(Ht=canFetch(lt.options.networkMode)?"fetching":"paused",Dt||(en="loading")),ft._optimisticResults==="isRestoring"&&(Ht="idle")}if(ft.keepPreviousData&&!Ft.dataUpdatedAt&&Bt!=null&&Bt.isSuccess&&en!=="error")Wt=Bt.data,Dt=Bt.dataUpdatedAt,en=Bt.status,Kt=!0;else if(ft.select&&typeof Ft.data<"u")if(Et&&Ft.data===(At==null?void 0:At.data)&&ft.select===this.selectFn)Wt=this.selectResult;else try{this.selectFn=ft.select,Wt=ft.select(Ft.data),Wt=replaceData(Et==null?void 0:Et.data,Wt,ft),this.selectResult=Wt,this.selectError=null}catch(un){this.selectError=un}else Wt=Ft.data;if(typeof ft.placeholderData<"u"&&typeof Wt>"u"&&en==="loading"){let un;if(Et!=null&&Et.isPlaceholderData&&ft.placeholderData===(Ct==null?void 0:Ct.placeholderData))un=Et.data;else if(un=typeof ft.placeholderData=="function"?ft.placeholderData():ft.placeholderData,ft.select&&typeof un<"u")try{un=ft.select(un),this.selectError=null}catch(pn){this.selectError=pn}typeof un<"u"&&(en="success",Wt=replaceData(Et==null?void 0:Et.data,un,ft),Zt=!0)}this.selectError&&(kt=this.selectError,Wt=this.selectResult,zt=Date.now(),en="error");const tn=Ht==="fetching",an=en==="loading",ln=en==="error";return{status:en,fetchStatus:Ht,isLoading:an,isSuccess:en==="success",isError:ln,isInitialLoading:an&&tn,data:Wt,dataUpdatedAt:Dt,error:kt,errorUpdatedAt:zt,failureCount:Ft.fetchFailureCount,failureReason:Ft.fetchFailureReason,errorUpdateCount:Ft.errorUpdateCount,isFetched:Ft.dataUpdateCount>0||Ft.errorUpdateCount>0,isFetchedAfterMount:Ft.dataUpdateCount>Rt.dataUpdateCount||Ft.errorUpdateCount>Rt.errorUpdateCount,isFetching:tn,isRefetching:tn&&!an,isLoadingError:ln&&Ft.dataUpdatedAt===0,isPaused:Ht==="paused",isPlaceholderData:Zt,isPreviousData:Kt,isRefetchError:ln&&Ft.dataUpdatedAt!==0,isStale:isStale(lt,ft),refetch:this.refetch,remove:this.remove}}updateResult(lt){const ft=this.currentResult,vt=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(vt,ft))return;this.currentResult=vt;const St={cache:!0},Et=()=>{if(!ft)return!0;const{notifyOnChangeProps:At}=this.options;if(At==="all"||!At&&!this.trackedProps.size)return!0;const Ct=new Set(At??this.trackedProps);return this.options.useErrorBoundary&&Ct.add("error"),Object.keys(this.currentResult).some(Tt=>{const Rt=Tt;return this.currentResult[Rt]!==ft[Rt]&&Ct.has(Rt)})};(lt==null?void 0:lt.listeners)!==!1&&Et()&&(St.listeners=!0),this.notify({...St,...lt})}updateQuery(){const lt=this.client.getQueryCache().build(this.client,this.options);if(lt===this.currentQuery)return;const ft=this.currentQuery;this.currentQuery=lt,this.currentQueryInitialState=lt.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(ft==null||ft.removeObserver(this),lt.addObserver(this))}onQueryUpdate(lt){const ft={};lt.type==="success"?ft.onSuccess=!lt.manual:lt.type==="error"&&!isCancelledError(lt.error)&&(ft.onError=!0),this.updateResult(ft),this.hasListeners()&&this.updateTimers()}notify(lt){notifyManager.batch(()=>{if(lt.onSuccess){var ft,vt,St,Et;(ft=(vt=this.options).onSuccess)==null||ft.call(vt,this.currentResult.data),(St=(Et=this.options).onSettled)==null||St.call(Et,this.currentResult.data,null)}else if(lt.onError){var At,Ct,Tt,Rt;(At=(Ct=this.options).onError)==null||At.call(Ct,this.currentResult.error),(Tt=(Rt=this.options).onSettled)==null||Tt.call(Rt,void 0,this.currentResult.error)}lt.listeners&&this.listeners.forEach(({listener:Bt})=>{Bt(this.currentResult)}),lt.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(dt,lt){return lt.enabled!==!1&&!dt.state.dataUpdatedAt&&!(dt.state.status==="error"&&lt.retryOnMount===!1)}function shouldFetchOnMount(dt,lt){return shouldLoadOnMount(dt,lt)||dt.state.dataUpdatedAt>0&&shouldFetchOn(dt,lt,lt.refetchOnMount)}function shouldFetchOn(dt,lt,ft){if(lt.enabled!==!1){const vt=typeof ft=="function"?ft(dt):ft;return vt==="always"||vt!==!1&&isStale(dt,lt)}return!1}function shouldFetchOptionally(dt,lt,ft,vt){return ft.enabled!==!1&&(dt!==lt||vt.enabled===!1)&&(!ft.suspense||dt.state.status!=="error")&&isStale(dt,ft)}function isStale(dt,lt){return dt.isStaleByTime(lt.staleTime)}const useSyncExternalStore=shimExports.useSyncExternalStore,defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(dt,lt){return dt||(lt&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:dt}={})=>{const lt=reactExports.useContext(getQueryClientContext(dt,reactExports.useContext(QueryClientSharingContext)));if(!lt)throw new Error("No QueryClient set, use QueryClientProvider to set one");return lt},QueryClientProvider=({client:dt,children:lt,context:ft,contextSharing:vt=!1})=>{reactExports.useEffect(()=>(dt.mount(),()=>{dt.unmount()}),[dt]);const St=getQueryClientContext(ft,vt);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!ft&&vt},reactExports.createElement(St.Provider,{value:dt},lt))},IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let dt=!1;return{clearReset:()=>{dt=!1},reset:()=>{dt=!0},isReset:()=>dt}}const QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(dt,lt){return typeof dt=="function"?dt(...lt):!!dt}const ensurePreventErrorBoundaryRetry=(dt,lt)=>{(dt.suspense||dt.useErrorBoundary)&&(lt.isReset()||(dt.retryOnMount=!1))},useClearResetErrorBoundary=dt=>{reactExports.useEffect(()=>{dt.clearReset()},[dt])},getHasError=({result:dt,errorResetBoundary:lt,useErrorBoundary:ft,query:vt})=>dt.isError&&!lt.isReset()&&!dt.isFetching&&shouldThrowError(ft,[dt.error,vt]),ensureStaleTime=dt=>{dt.suspense&&typeof dt.staleTime!="number"&&(dt.staleTime=1e3)},willFetch=(dt,lt)=>dt.isLoading&&dt.isFetching&&!lt,shouldSuspend=(dt,lt,ft)=>(dt==null?void 0:dt.suspense)&&willFetch(lt,ft),fetchOptimistic=(dt,lt,ft)=>lt.fetchOptimistic(dt).then(({data:vt})=>{dt.onSuccess==null||dt.onSuccess(vt),dt.onSettled==null||dt.onSettled(vt,null)}).catch(vt=>{ft.clearReset(),dt.onError==null||dt.onError(vt),dt.onSettled==null||dt.onSettled(void 0,vt)});function useBaseQuery(dt,lt){const ft=useQueryClient({context:dt.context}),vt=useIsRestoring(),St=useQueryErrorResetBoundary(),Et=ft.defaultQueryOptions(dt);Et._optimisticResults=vt?"isRestoring":"optimistic",Et.onError&&(Et.onError=notifyManager.batchCalls(Et.onError)),Et.onSuccess&&(Et.onSuccess=notifyManager.batchCalls(Et.onSuccess)),Et.onSettled&&(Et.onSettled=notifyManager.batchCalls(Et.onSettled)),ensureStaleTime(Et),ensurePreventErrorBoundaryRetry(Et,St),useClearResetErrorBoundary(St);const[At]=reactExports.useState(()=>new lt(ft,Et)),Ct=At.getOptimisticResult(Et);if(useSyncExternalStore(reactExports.useCallback(Tt=>{const Rt=vt?()=>{}:At.subscribe(notifyManager.batchCalls(Tt));return At.updateResult(),Rt},[At,vt]),()=>At.getCurrentResult(),()=>At.getCurrentResult()),reactExports.useEffect(()=>{At.setOptions(Et,{listeners:!1})},[Et,At]),shouldSuspend(Et,Ct,vt))throw fetchOptimistic(Et,At,St);if(getHasError({result:Ct,errorResetBoundary:St,useErrorBoundary:Et.useErrorBoundary,query:At.getCurrentQuery()}))throw Ct.error;return Et.notifyOnChangeProps?Ct:At.trackResult(Ct)}function useQuery(dt,lt,ft){const vt=parseQueryArgs(dt,lt,ft);return useBaseQuery(vt,QueryObserver)}var dist$1={},lodash_isequal={exports:{}};lodash_isequal.exports;(function(dt,lt){var ft=200,vt="__lodash_hash_undefined__",St=1,Et=2,At=9007199254740991,Ct="[object Arguments]",Tt="[object Array]",Rt="[object AsyncFunction]",Bt="[object Boolean]",Ft="[object Date]",Dt="[object Error]",kt="[object Function]",zt="[object GeneratorFunction]",Ht="[object Map]",en="[object Number]",Kt="[object Null]",Zt="[object Object]",Wt="[object Promise]",tn="[object Proxy]",an="[object RegExp]",ln="[object Set]",fn="[object String]",un="[object Symbol]",pn="[object Undefined]",xn="[object WeakMap]",An="[object ArrayBuffer]",gn="[object DataView]",Ln="[object Float32Array]",Cn="[object Float64Array]",En="[object Int8Array]",yn="[object Int16Array]",Rn="[object Int32Array]",hn="[object Uint8Array]",mn="[object Uint8ClampedArray]",bn="[object Uint16Array]",Mn="[object Uint32Array]",Tn=/[\\^$.*+?()[\]{}|]/g,In=/^\[object .+?Constructor\]$/,Nn=/^(?:0|[1-9]\d*)$/,$n={};$n[Ln]=$n[Cn]=$n[En]=$n[yn]=$n[Rn]=$n[hn]=$n[mn]=$n[bn]=$n[Mn]=!0,$n[Ct]=$n[Tt]=$n[An]=$n[Bt]=$n[gn]=$n[Ft]=$n[Dt]=$n[kt]=$n[Ht]=$n[en]=$n[Zt]=$n[an]=$n[ln]=$n[fn]=$n[xn]=!1;var Gn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Zn=typeof self=="object"&&self&&self.Object===Object&&self,Un=Gn||Zn||Function("return this")(),Xn=lt&&!lt.nodeType&&lt,Vn=Xn&&!0&&dt&&!dt.nodeType&&dt,Wn=Vn&&Vn.exports===Xn,Dn=Wn&&Gn.process,jn=function(){try{return Dn&&Dn.binding&&Dn.binding("util")}catch{}}(),Qn=jn&&jn.isTypedArray;function ir(Hn,nr){for(var Ir=-1,Vr=Hn==null?0:Hn.length,Rs=0,rs=[];++Ir<Vr;){var Ss=Hn[Ir];nr(Ss,Ir,Hn)&&(rs[Rs++]=Ss)}return rs}function hr(Hn,nr){for(var Ir=-1,Vr=nr.length,Rs=Hn.length;++Ir<Vr;)Hn[Rs+Ir]=nr[Ir];return Hn}function Pr(Hn,nr){for(var Ir=-1,Vr=Hn==null?0:Hn.length;++Ir<Vr;)if(nr(Hn[Ir],Ir,Hn))return!0;return!1}function tr(Hn,nr){for(var Ir=-1,Vr=Array(Hn);++Ir<Hn;)Vr[Ir]=nr(Ir);return Vr}function xr(Hn){return function(nr){return Hn(nr)}}function Tr(Hn,nr){return Hn.has(nr)}function mr(Hn,nr){return Hn==null?void 0:Hn[nr]}function On(Hn){var nr=-1,Ir=Array(Hn.size);return Hn.forEach(function(Vr,Rs){Ir[++nr]=[Rs,Vr]}),Ir}function Bn(Hn,nr){return function(Ir){return Hn(nr(Ir))}}function Yn(Hn){var nr=-1,Ir=Array(Hn.size);return Hn.forEach(function(Vr){Ir[++nr]=Vr}),Ir}var ur=Array.prototype,Cr=Function.prototype,Ar=Object.prototype,Fr=Un["__core-js_shared__"],Br=Cr.toString,pr=Ar.hasOwnProperty,kr=function(){var Hn=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||"");return Hn?"Symbol(src)_1."+Hn:""}(),Jn=Ar.toString,cr=RegExp("^"+Br.call(pr).replace(Tn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sr=Wn?Un.Buffer:void 0,_r=Un.Symbol,Dr=Un.Uint8Array,Wr=Ar.propertyIsEnumerable,es=ur.splice,qn=_r?_r.toStringTag:void 0,dr=Object.getOwnPropertySymbols,Rr=Sr?Sr.isBuffer:void 0,Gr=Bn(Object.keys,Object),jr=go(Un,"DataView"),ts=go(Un,"Map"),_s=go(Un,"Promise"),Es=go(Un,"Set"),xs=go(Un,"WeakMap"),gs=go(Object,"create"),As=os(jr),vs=os(ts),oo=os(_s),no=os(Es),Ms=os(xs),Ns=_r?_r.prototype:void 0,zn=Ns?Ns.valueOf:void 0;function sr(Hn){var nr=-1,Ir=Hn==null?0:Hn.length;for(this.clear();++nr<Ir;){var Vr=Hn[nr];this.set(Vr[0],Vr[1])}}function yr(){this.__data__=gs?gs(null):{},this.size=0}function ar(Hn){var nr=this.has(Hn)&&delete this.__data__[Hn];return this.size-=nr?1:0,nr}function br(Hn){var nr=this.__data__;if(gs){var Ir=nr[Hn];return Ir===vt?void 0:Ir}return pr.call(nr,Hn)?nr[Hn]:void 0}function Kr(Hn){var nr=this.__data__;return gs?nr[Hn]!==void 0:pr.call(nr,Hn)}function Yr(Hn,nr){var Ir=this.__data__;return this.size+=this.has(Hn)?0:1,Ir[Hn]=gs&&nr===void 0?vt:nr,this}sr.prototype.clear=yr,sr.prototype.delete=ar,sr.prototype.get=br,sr.prototype.has=Kr,sr.prototype.set=Yr;function Zr(Hn){var nr=-1,Ir=Hn==null?0:Hn.length;for(this.clear();++nr<Ir;){var Vr=Hn[nr];this.set(Vr[0],Vr[1])}}function as(){this.__data__=[],this.size=0}function cs(Hn){var nr=this.__data__,Ir=Zs(nr,Hn);if(Ir<0)return!1;var Vr=nr.length-1;return Ir==Vr?nr.pop():es.call(nr,Ir,1),--this.size,!0}function fs(Hn){var nr=this.__data__,Ir=Zs(nr,Hn);return Ir<0?void 0:nr[Ir][1]}function ds(Hn){return Zs(this.__data__,Hn)>-1}function Ds(Hn,nr){var Ir=this.__data__,Vr=Zs(Ir,Hn);return Vr<0?(++this.size,Ir.push([Hn,nr])):Ir[Vr][1]=nr,this}Zr.prototype.clear=as,Zr.prototype.delete=cs,Zr.prototype.get=fs,Zr.prototype.has=ds,Zr.prototype.set=Ds;function Fs(Hn){var nr=-1,Ir=Hn==null?0:Hn.length;for(this.clear();++nr<Ir;){var Vr=Hn[nr];this.set(Vr[0],Vr[1])}}function ho(){this.size=0,this.__data__={hash:new sr,map:new(ts||Zr),string:new sr}}function So(Hn){var nr=To(this,Hn).delete(Hn);return this.size-=nr?1:0,nr}function Nr(Hn){return To(this,Hn).get(Hn)}function ns(Hn){return To(this,Hn).has(Hn)}function Qo(Hn,nr){var Ir=To(this,Hn),Vr=Ir.size;return Ir.set(Hn,nr),this.size+=Ir.size==Vr?0:1,this}Fs.prototype.clear=ho,Fs.prototype.delete=So,Fs.prototype.get=Nr,Fs.prototype.has=ns,Fs.prototype.set=Qo;function bs(Hn){var nr=-1,Ir=Hn==null?0:Hn.length;for(this.__data__=new Fs;++nr<Ir;)this.add(Hn[nr])}function wo(Hn){return this.__data__.set(Hn,vt),this}function No(Hn){return this.__data__.has(Hn)}bs.prototype.add=bs.prototype.push=wo,bs.prototype.has=No;function Gs(Hn){var nr=this.__data__=new Zr(Hn);this.size=nr.size}function ro(){this.__data__=new Zr,this.size=0}function ss(Hn){var nr=this.__data__,Ir=nr.delete(Hn);return this.size=nr.size,Ir}function hs(Hn){return this.__data__.get(Hn)}function po(Hn){return this.__data__.has(Hn)}function Cs(Hn,nr){var Ir=this.__data__;if(Ir instanceof Zr){var Vr=Ir.__data__;if(!ts||Vr.length<ft-1)return Vr.push([Hn,nr]),this.size=++Ir.size,this;Ir=this.__data__=new Fs(Vr)}return Ir.set(Hn,nr),this.size=Ir.size,this}Gs.prototype.clear=ro,Gs.prototype.delete=ss,Gs.prototype.get=hs,Gs.prototype.has=po,Gs.prototype.set=Cs;function js(Hn,nr){var Ir=na(Hn),Vr=!Ir&&Zo(Hn),Rs=!Ir&&!Vr&&Ol(Hn),rs=!Ir&&!Vr&&!Rs&&xa(Hn),Ss=Ir||Vr||Rs||rs,Vs=Ss?tr(Hn.length,String):[],zs=Vs.length;for(var Ls in Hn)(nr||pr.call(Hn,Ls))&&!(Ss&&(Ls=="length"||Rs&&(Ls=="offset"||Ls=="parent")||rs&&(Ls=="buffer"||Ls=="byteLength"||Ls=="byteOffset")||Yo(Ls,zs)))&&Vs.push(Ls);return Vs}function Zs(Hn,nr){for(var Ir=Hn.length;Ir--;)if(Dl(Hn[Ir][0],nr))return Ir;return-1}function Eo(Hn,nr,Ir){var Vr=nr(Hn);return na(Hn)?Vr:hr(Vr,Ir(Hn))}function ks(Hn){return Hn==null?Hn===void 0?pn:Kt:qn&&qn in Object(Hn)?Ml(Hn):zo(Hn)}function qo(Hn){return _a(Hn)&&ks(Hn)==Ct}function El(Hn,nr,Ir,Vr,Rs){return Hn===nr?!0:Hn==null||nr==null||!_a(Hn)&&!_a(nr)?Hn!==Hn&&nr!==nr:Il(Hn,nr,Ir,Vr,El,Rs)}function Il(Hn,nr,Ir,Vr,Rs,rs){var Ss=na(Hn),Vs=na(nr),zs=Ss?Tt:Po(Hn),Ls=Vs?Tt:Po(nr);zs=zs==Ct?Zt:zs,Ls=Ls==Ct?Zt:Ls;var Bs=zs==Zt,Is=Ls==Zt,Ws=zs==Ls;if(Ws&&Ol(Hn)){if(!Ol(nr))return!1;Ss=!0,Bs=!1}if(Ws&&!Bs)return rs||(rs=new Gs),Ss||xa(Hn)?Al(Hn,nr,Ir,Vr,Rs,rs):Cl(Hn,nr,zs,Ir,Vr,Rs,rs);if(!(Ir&St)){var $s=Bs&&pr.call(Hn,"__wrapped__"),qs=Is&&pr.call(nr,"__wrapped__");if($s||qs){var Co=$s?Hn.value():Hn,Ro=qs?nr.value():nr;return rs||(rs=new Gs),Rs(Co,Ro,Ir,Vr,rs)}}return Ws?(rs||(rs=new Gs),au(Hn,nr,Ir,Vr,Rs,rs)):!1}function Go(Hn){if(!lo(Hn)||Vo(Hn))return!1;var nr=ga(Hn)?cr:In;return nr.test(os(Hn))}function ou(Hn){return _a(Hn)&&Xl(Hn.length)&&!!$n[ks(Hn)]}function ao(Hn){if(!yl(Hn))return Gr(Hn);var nr=[];for(var Ir in Object(Hn))pr.call(Hn,Ir)&&Ir!="constructor"&&nr.push(Ir);return nr}function Al(Hn,nr,Ir,Vr,Rs,rs){var Ss=Ir&St,Vs=Hn.length,zs=nr.length;if(Vs!=zs&&!(Ss&&zs>Vs))return!1;var Ls=rs.get(Hn);if(Ls&&rs.get(nr))return Ls==nr;var Bs=-1,Is=!0,Ws=Ir&Et?new bs:void 0;for(rs.set(Hn,nr),rs.set(nr,Hn);++Bs<Vs;){var $s=Hn[Bs],qs=nr[Bs];if(Vr)var Co=Ss?Vr(qs,$s,Bs,nr,Hn,rs):Vr($s,qs,Bs,Hn,nr,rs);if(Co!==void 0){if(Co)continue;Is=!1;break}if(Ws){if(!Pr(nr,function(Ro,uo){if(!Tr(Ws,uo)&&($s===Ro||Rs($s,Ro,Ir,Vr,rs)))return Ws.push(uo)})){Is=!1;break}}else if(!($s===qs||Rs($s,qs,Ir,Vr,rs))){Is=!1;break}}return rs.delete(Hn),rs.delete(nr),Is}function Cl(Hn,nr,Ir,Vr,Rs,rs,Ss){switch(Ir){case gn:if(Hn.byteLength!=nr.byteLength||Hn.byteOffset!=nr.byteOffset)return!1;Hn=Hn.buffer,nr=nr.buffer;case An:return!(Hn.byteLength!=nr.byteLength||!rs(new Dr(Hn),new Dr(nr)));case Bt:case Ft:case en:return Dl(+Hn,+nr);case Dt:return Hn.name==nr.name&&Hn.message==nr.message;case an:case fn:return Hn==nr+"";case Ht:var Vs=On;case ln:var zs=Vr&St;if(Vs||(Vs=Yn),Hn.size!=nr.size&&!zs)return!1;var Ls=Ss.get(Hn);if(Ls)return Ls==nr;Vr|=Et,Ss.set(Hn,nr);var Bs=Al(Vs(Hn),Vs(nr),Vr,Rs,rs,Ss);return Ss.delete(Hn),Bs;case un:if(zn)return zn.call(Hn)==zn.call(nr)}return!1}function au(Hn,nr,Ir,Vr,Rs,rs){var Ss=Ir&St,Vs=Uo(Hn),zs=Vs.length,Ls=Uo(nr),Bs=Ls.length;if(zs!=Bs&&!Ss)return!1;for(var Is=zs;Is--;){var Ws=Vs[Is];if(!(Ss?Ws in nr:pr.call(nr,Ws)))return!1}var $s=rs.get(Hn);if($s&&rs.get(nr))return $s==nr;var qs=!0;rs.set(Hn,nr),rs.set(nr,Hn);for(var Co=Ss;++Is<zs;){Ws=Vs[Is];var Ro=Hn[Ws],uo=nr[Ws];if(Vr)var Ks=Ss?Vr(uo,Ro,Ws,nr,Hn,rs):Vr(Ro,uo,Ws,Hn,nr,rs);if(!(Ks===void 0?Ro===uo||Rs(Ro,uo,Ir,Vr,rs):Ks)){qs=!1;break}Co||(Co=Ws=="constructor")}if(qs&&!Co){var Xs=Hn.constructor,ws=nr.constructor;Xs!=ws&&"constructor"in Hn&&"constructor"in nr&&!(typeof Xs=="function"&&Xs instanceof Xs&&typeof ws=="function"&&ws instanceof ws)&&(qs=!1)}return rs.delete(Hn),rs.delete(nr),qs}function Uo(Hn){return Eo(Hn,Ao,lu)}function To(Hn,nr){var Ir=Hn.__data__;return Fl(nr)?Ir[typeof nr=="string"?"string":"hash"]:Ir.map}function go(Hn,nr){var Ir=mr(Hn,nr);return Go(Ir)?Ir:void 0}function Ml(Hn){var nr=pr.call(Hn,qn),Ir=Hn[qn];try{Hn[qn]=void 0;var Vr=!0}catch{}var Rs=Jn.call(Hn);return Vr&&(nr?Hn[qn]=Ir:delete Hn[qn]),Rs}var lu=dr?function(Hn){return Hn==null?[]:(Hn=Object(Hn),ir(dr(Hn),function(nr){return Wr.call(Hn,nr)}))}:Jl,Po=ks;(jr&&Po(new jr(new ArrayBuffer(1)))!=gn||ts&&Po(new ts)!=Ht||_s&&Po(_s.resolve())!=Wt||Es&&Po(new Es)!=ln||xs&&Po(new xs)!=xn)&&(Po=function(Hn){var nr=ks(Hn),Ir=nr==Zt?Hn.constructor:void 0,Vr=Ir?os(Ir):"";if(Vr)switch(Vr){case As:return gn;case vs:return Ht;case oo:return Wt;case no:return ln;case Ms:return xn}return nr});function Yo(Hn,nr){return nr=nr??At,!!nr&&(typeof Hn=="number"||Nn.test(Hn))&&Hn>-1&&Hn%1==0&&Hn<nr}function Fl(Hn){var nr=typeof Hn;return nr=="string"||nr=="number"||nr=="symbol"||nr=="boolean"?Hn!=="__proto__":Hn===null}function Vo(Hn){return!!kr&&kr in Hn}function yl(Hn){var nr=Hn&&Hn.constructor,Ir=typeof nr=="function"&&nr.prototype||Ar;return Hn===Ir}function zo(Hn){return Jn.call(Hn)}function os(Hn){if(Hn!=null){try{return Br.call(Hn)}catch{}try{return Hn+""}catch{}}return""}function Dl(Hn,nr){return Hn===nr||Hn!==Hn&&nr!==nr}var Zo=qo(function(){return arguments}())?qo:function(Hn){return _a(Hn)&&pr.call(Hn,"callee")&&!Wr.call(Hn,"callee")},na=Array.isArray;function Kl(Hn){return Hn!=null&&Xl(Hn.length)&&!ga(Hn)}var Ol=Rr||Nl;function Us(Hn,nr){return El(Hn,nr)}function ga(Hn){if(!lo(Hn))return!1;var nr=ks(Hn);return nr==kt||nr==zt||nr==Rt||nr==tn}function Xl(Hn){return typeof Hn=="number"&&Hn>-1&&Hn%1==0&&Hn<=At}function lo(Hn){var nr=typeof Hn;return Hn!=null&&(nr=="object"||nr=="function")}function _a(Hn){return Hn!=null&&typeof Hn=="object"}var xa=Qn?xr(Qn):ou;function Ao(Hn){return Kl(Hn)?js(Hn):ao(Hn)}function Jl(){return[]}function Nl(){return!1}dt.exports=Us})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,qrcode={exports:{}};(function(dt,lt){var ft=function(){var vt=function(an,ln){var fn=236,un=17,pn=an,xn=Et[ln],An=null,gn=0,Ln=null,Cn=[],En={},yn=function(Un,Xn){gn=pn*4+17,An=function(Vn){for(var Wn=new Array(Vn),Dn=0;Dn<Vn;Dn+=1){Wn[Dn]=new Array(Vn);for(var jn=0;jn<Vn;jn+=1)Wn[Dn][jn]=null}return Wn}(gn),Rn(0,0),Rn(gn-7,0),Rn(0,gn-7),bn(),mn(),Tn(Un,Xn),pn>=7&&Mn(Un),Ln==null&&(Ln=$n(pn,xn,Cn)),In(Ln,Xn)},Rn=function(Un,Xn){for(var Vn=-1;Vn<=7;Vn+=1)if(!(Un+Vn<=-1||gn<=Un+Vn))for(var Wn=-1;Wn<=7;Wn+=1)Xn+Wn<=-1||gn<=Xn+Wn||(0<=Vn&&Vn<=6&&(Wn==0||Wn==6)||0<=Wn&&Wn<=6&&(Vn==0||Vn==6)||2<=Vn&&Vn<=4&&2<=Wn&&Wn<=4?An[Un+Vn][Xn+Wn]=!0:An[Un+Vn][Xn+Wn]=!1)},hn=function(){for(var Un=0,Xn=0,Vn=0;Vn<8;Vn+=1){yn(!0,Vn);var Wn=Ct.getLostPoint(En);(Vn==0||Un>Wn)&&(Un=Wn,Xn=Vn)}return Xn},mn=function(){for(var Un=8;Un<gn-8;Un+=1)An[Un][6]==null&&(An[Un][6]=Un%2==0);for(var Xn=8;Xn<gn-8;Xn+=1)An[6][Xn]==null&&(An[6][Xn]=Xn%2==0)},bn=function(){for(var Un=Ct.getPatternPosition(pn),Xn=0;Xn<Un.length;Xn+=1)for(var Vn=0;Vn<Un.length;Vn+=1){var Wn=Un[Xn],Dn=Un[Vn];if(An[Wn][Dn]==null)for(var jn=-2;jn<=2;jn+=1)for(var Qn=-2;Qn<=2;Qn+=1)jn==-2||jn==2||Qn==-2||Qn==2||jn==0&&Qn==0?An[Wn+jn][Dn+Qn]=!0:An[Wn+jn][Dn+Qn]=!1}},Mn=function(Un){for(var Xn=Ct.getBCHTypeNumber(pn),Vn=0;Vn<18;Vn+=1){var Wn=!Un&&(Xn>>Vn&1)==1;An[Math.floor(Vn/3)][Vn%3+gn-8-3]=Wn}for(var Vn=0;Vn<18;Vn+=1){var Wn=!Un&&(Xn>>Vn&1)==1;An[Vn%3+gn-8-3][Math.floor(Vn/3)]=Wn}},Tn=function(Un,Xn){for(var Vn=xn<<3|Xn,Wn=Ct.getBCHTypeInfo(Vn),Dn=0;Dn<15;Dn+=1){var jn=!Un&&(Wn>>Dn&1)==1;Dn<6?An[Dn][8]=jn:Dn<8?An[Dn+1][8]=jn:An[gn-15+Dn][8]=jn}for(var Dn=0;Dn<15;Dn+=1){var jn=!Un&&(Wn>>Dn&1)==1;Dn<8?An[8][gn-Dn-1]=jn:Dn<9?An[8][15-Dn-1+1]=jn:An[8][15-Dn-1]=jn}An[gn-8][8]=!Un},In=function(Un,Xn){for(var Vn=-1,Wn=gn-1,Dn=7,jn=0,Qn=Ct.getMaskFunction(Xn),ir=gn-1;ir>0;ir-=2)for(ir==6&&(ir-=1);;){for(var hr=0;hr<2;hr+=1)if(An[Wn][ir-hr]==null){var Pr=!1;jn<Un.length&&(Pr=(Un[jn]>>>Dn&1)==1);var tr=Qn(Wn,ir-hr);tr&&(Pr=!Pr),An[Wn][ir-hr]=Pr,Dn-=1,Dn==-1&&(jn+=1,Dn=7)}if(Wn+=Vn,Wn<0||gn<=Wn){Wn-=Vn,Vn=-Vn;break}}},Nn=function(Un,Xn){for(var Vn=0,Wn=0,Dn=0,jn=new Array(Xn.length),Qn=new Array(Xn.length),ir=0;ir<Xn.length;ir+=1){var hr=Xn[ir].dataCount,Pr=Xn[ir].totalCount-hr;Wn=Math.max(Wn,hr),Dn=Math.max(Dn,Pr),jn[ir]=new Array(hr);for(var tr=0;tr<jn[ir].length;tr+=1)jn[ir][tr]=255&Un.getBuffer()[tr+Vn];Vn+=hr;var xr=Ct.getErrorCorrectPolynomial(Pr),Tr=Rt(jn[ir],xr.getLength()-1),mr=Tr.mod(xr);Qn[ir]=new Array(xr.getLength()-1);for(var tr=0;tr<Qn[ir].length;tr+=1){var On=tr+mr.getLength()-Qn[ir].length;Qn[ir][tr]=On>=0?mr.getAt(On):0}}for(var Bn=0,tr=0;tr<Xn.length;tr+=1)Bn+=Xn[tr].totalCount;for(var Yn=new Array(Bn),ur=0,tr=0;tr<Wn;tr+=1)for(var ir=0;ir<Xn.length;ir+=1)tr<jn[ir].length&&(Yn[ur]=jn[ir][tr],ur+=1);for(var tr=0;tr<Dn;tr+=1)for(var ir=0;ir<Xn.length;ir+=1)tr<Qn[ir].length&&(Yn[ur]=Qn[ir][tr],ur+=1);return Yn},$n=function(Un,Xn,Vn){for(var Wn=Bt.getRSBlocks(Un,Xn),Dn=Ft(),jn=0;jn<Vn.length;jn+=1){var Qn=Vn[jn];Dn.put(Qn.getMode(),4),Dn.put(Qn.getLength(),Ct.getLengthInBits(Qn.getMode(),Un)),Qn.write(Dn)}for(var ir=0,jn=0;jn<Wn.length;jn+=1)ir+=Wn[jn].dataCount;if(Dn.getLengthInBits()>ir*8)throw"code length overflow. ("+Dn.getLengthInBits()+">"+ir*8+")";for(Dn.getLengthInBits()+4<=ir*8&&Dn.put(0,4);Dn.getLengthInBits()%8!=0;)Dn.putBit(!1);for(;!(Dn.getLengthInBits()>=ir*8||(Dn.put(fn,8),Dn.getLengthInBits()>=ir*8));)Dn.put(un,8);return Nn(Dn,Wn)};En.addData=function(Un,Xn){Xn=Xn||"Byte";var Vn=null;switch(Xn){case"Numeric":Vn=Dt(Un);break;case"Alphanumeric":Vn=kt(Un);break;case"Byte":Vn=zt(Un);break;case"Kanji":Vn=Ht(Un);break;default:throw"mode:"+Xn}Cn.push(Vn),Ln=null},En.isDark=function(Un,Xn){if(Un<0||gn<=Un||Xn<0||gn<=Xn)throw Un+","+Xn;return An[Un][Xn]},En.getModuleCount=function(){return gn},En.make=function(){if(pn<1){for(var Un=1;Un<40;Un++){for(var Xn=Bt.getRSBlocks(Un,xn),Vn=Ft(),Wn=0;Wn<Cn.length;Wn++){var Dn=Cn[Wn];Vn.put(Dn.getMode(),4),Vn.put(Dn.getLength(),Ct.getLengthInBits(Dn.getMode(),Un)),Dn.write(Vn)}for(var jn=0,Wn=0;Wn<Xn.length;Wn++)jn+=Xn[Wn].dataCount;if(Vn.getLengthInBits()<=jn*8)break}pn=Un}yn(!1,hn())},En.createTableTag=function(Un,Xn){Un=Un||2,Xn=typeof Xn>"u"?Un*4:Xn;var Vn="";Vn+='<table style="',Vn+=" border-width: 0px; border-style: none;",Vn+=" border-collapse: collapse;",Vn+=" padding: 0px; margin: "+Xn+"px;",Vn+='">',Vn+="<tbody>";for(var Wn=0;Wn<En.getModuleCount();Wn+=1){Vn+="<tr>";for(var Dn=0;Dn<En.getModuleCount();Dn+=1)Vn+='<td style="',Vn+=" border-width: 0px; border-style: none;",Vn+=" border-collapse: collapse;",Vn+=" padding: 0px; margin: 0px;",Vn+=" width: "+Un+"px;",Vn+=" height: "+Un+"px;",Vn+=" background-color: ",Vn+=En.isDark(Wn,Dn)?"#000000":"#ffffff",Vn+=";",Vn+='"/>';Vn+="</tr>"}return Vn+="</tbody>",Vn+="</table>",Vn},En.createSvgTag=function(Un,Xn,Vn,Wn){var Dn={};typeof arguments[0]=="object"&&(Dn=arguments[0],Un=Dn.cellSize,Xn=Dn.margin,Vn=Dn.alt,Wn=Dn.title),Un=Un||2,Xn=typeof Xn>"u"?Un*4:Xn,Vn=typeof Vn=="string"?{text:Vn}:Vn||{},Vn.text=Vn.text||null,Vn.id=Vn.text?Vn.id||"qrcode-description":null,Wn=typeof Wn=="string"?{text:Wn}:Wn||{},Wn.text=Wn.text||null,Wn.id=Wn.text?Wn.id||"qrcode-title":null;var jn=En.getModuleCount()*Un+Xn*2,Qn,ir,hr,Pr,tr="",xr;for(xr="l"+Un+",0 0,"+Un+" -"+Un+",0 0,-"+Un+"z ",tr+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',tr+=Dn.scalable?"":' width="'+jn+'px" height="'+jn+'px"',tr+=' viewBox="0 0 '+jn+" "+jn+'" ',tr+=' preserveAspectRatio="xMinYMin meet"',tr+=Wn.text||Vn.text?' role="img" aria-labelledby="'+Gn([Wn.id,Vn.id].join(" ").trim())+'"':"",tr+=">",tr+=Wn.text?'<title id="'+Gn(Wn.id)+'">'+Gn(Wn.text)+"</title>":"",tr+=Vn.text?'<description id="'+Gn(Vn.id)+'">'+Gn(Vn.text)+"</description>":"",tr+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',tr+='<path d="',hr=0;hr<En.getModuleCount();hr+=1)for(Pr=hr*Un+Xn,Qn=0;Qn<En.getModuleCount();Qn+=1)En.isDark(hr,Qn)&&(ir=Qn*Un+Xn,tr+="M"+ir+","+Pr+xr);return tr+='" stroke="transparent" fill="black"/>',tr+="</svg>",tr},En.createDataURL=function(Un,Xn){Un=Un||2,Xn=typeof Xn>"u"?Un*4:Xn;var Vn=En.getModuleCount()*Un+Xn*2,Wn=Xn,Dn=Vn-Xn;return tn(Vn,Vn,function(jn,Qn){if(Wn<=jn&&jn<Dn&&Wn<=Qn&&Qn<Dn){var ir=Math.floor((jn-Wn)/Un),hr=Math.floor((Qn-Wn)/Un);return En.isDark(hr,ir)?0:1}else return 1})},En.createImgTag=function(Un,Xn,Vn){Un=Un||2,Xn=typeof Xn>"u"?Un*4:Xn;var Wn=En.getModuleCount()*Un+Xn*2,Dn="";return Dn+="<img",Dn+=' src="',Dn+=En.createDataURL(Un,Xn),Dn+='"',Dn+=' width="',Dn+=Wn,Dn+='"',Dn+=' height="',Dn+=Wn,Dn+='"',Vn&&(Dn+=' alt="',Dn+=Gn(Vn),Dn+='"'),Dn+="/>",Dn};var Gn=function(Un){for(var Xn="",Vn=0;Vn<Un.length;Vn+=1){var Wn=Un.charAt(Vn);switch(Wn){case"<":Xn+="&lt;";break;case">":Xn+="&gt;";break;case"&":Xn+="&amp;";break;case'"':Xn+="&quot;";break;default:Xn+=Wn;break}}return Xn},Zn=function(Un){var Xn=1;Un=typeof Un>"u"?Xn*2:Un;var Vn=En.getModuleCount()*Xn+Un*2,Wn=Un,Dn=Vn-Un,jn,Qn,ir,hr,Pr,tr={"██":"█","█ ":"▀"," █":"▄","  ":" "},xr={"██":"▀","█ ":"▀"," █":" ","  ":" "},Tr="";for(jn=0;jn<Vn;jn+=2){for(ir=Math.floor((jn-Wn)/Xn),hr=Math.floor((jn+1-Wn)/Xn),Qn=0;Qn<Vn;Qn+=1)Pr="█",Wn<=Qn&&Qn<Dn&&Wn<=jn&&jn<Dn&&En.isDark(ir,Math.floor((Qn-Wn)/Xn))&&(Pr=" "),Wn<=Qn&&Qn<Dn&&Wn<=jn+1&&jn+1<Dn&&En.isDark(hr,Math.floor((Qn-Wn)/Xn))?Pr+=" ":Pr+="█",Tr+=Un<1&&jn+1>=Dn?xr[Pr]:tr[Pr];Tr+=`
`}return Vn%2&&Un>0?Tr.substring(0,Tr.length-Vn-1)+Array(Vn+1).join("▀"):Tr.substring(0,Tr.length-1)};return En.createASCII=function(Un,Xn){if(Un=Un||1,Un<2)return Zn(Xn);Un-=1,Xn=typeof Xn>"u"?Un*2:Xn;var Vn=En.getModuleCount()*Un+Xn*2,Wn=Xn,Dn=Vn-Xn,jn,Qn,ir,hr,Pr=Array(Un+1).join("██"),tr=Array(Un+1).join("  "),xr="",Tr="";for(jn=0;jn<Vn;jn+=1){for(ir=Math.floor((jn-Wn)/Un),Tr="",Qn=0;Qn<Vn;Qn+=1)hr=1,Wn<=Qn&&Qn<Dn&&Wn<=jn&&jn<Dn&&En.isDark(ir,Math.floor((Qn-Wn)/Un))&&(hr=0),Tr+=hr?Pr:tr;for(ir=0;ir<Un;ir+=1)xr+=Tr+`
`}return xr.substring(0,xr.length-1)},En.renderTo2dContext=function(Un,Xn){Xn=Xn||2;for(var Vn=En.getModuleCount(),Wn=0;Wn<Vn;Wn++)for(var Dn=0;Dn<Vn;Dn++)Un.fillStyle=En.isDark(Wn,Dn)?"black":"white",Un.fillRect(Wn*Xn,Dn*Xn,Xn,Xn)},En};vt.stringToBytesFuncs={default:function(an){for(var ln=[],fn=0;fn<an.length;fn+=1){var un=an.charCodeAt(fn);ln.push(un&255)}return ln}},vt.stringToBytes=vt.stringToBytesFuncs.default,vt.createStringToBytes=function(an,ln){var fn=function(){for(var pn=Zt(an),xn=function(){var mn=pn.read();if(mn==-1)throw"eof";return mn},An=0,gn={};;){var Ln=pn.read();if(Ln==-1)break;var Cn=xn(),En=xn(),yn=xn(),Rn=String.fromCharCode(Ln<<8|Cn),hn=En<<8|yn;gn[Rn]=hn,An+=1}if(An!=ln)throw An+" != "+ln;return gn}(),un="?".charCodeAt(0);return function(pn){for(var xn=[],An=0;An<pn.length;An+=1){var gn=pn.charCodeAt(An);if(gn<128)xn.push(gn);else{var Ln=fn[pn.charAt(An)];typeof Ln=="number"?(Ln&255)==Ln?xn.push(Ln):(xn.push(Ln>>>8),xn.push(Ln&255)):xn.push(un)}}return xn}};var St={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Et={L:1,M:0,Q:3,H:2},At={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ct=function(){var an=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],ln=1335,fn=7973,un=21522,pn={},xn=function(An){for(var gn=0;An!=0;)gn+=1,An>>>=1;return gn};return pn.getBCHTypeInfo=function(An){for(var gn=An<<10;xn(gn)-xn(ln)>=0;)gn^=ln<<xn(gn)-xn(ln);return(An<<10|gn)^un},pn.getBCHTypeNumber=function(An){for(var gn=An<<12;xn(gn)-xn(fn)>=0;)gn^=fn<<xn(gn)-xn(fn);return An<<12|gn},pn.getPatternPosition=function(An){return an[An-1]},pn.getMaskFunction=function(An){switch(An){case At.PATTERN000:return function(gn,Ln){return(gn+Ln)%2==0};case At.PATTERN001:return function(gn,Ln){return gn%2==0};case At.PATTERN010:return function(gn,Ln){return Ln%3==0};case At.PATTERN011:return function(gn,Ln){return(gn+Ln)%3==0};case At.PATTERN100:return function(gn,Ln){return(Math.floor(gn/2)+Math.floor(Ln/3))%2==0};case At.PATTERN101:return function(gn,Ln){return gn*Ln%2+gn*Ln%3==0};case At.PATTERN110:return function(gn,Ln){return(gn*Ln%2+gn*Ln%3)%2==0};case At.PATTERN111:return function(gn,Ln){return(gn*Ln%3+(gn+Ln)%2)%2==0};default:throw"bad maskPattern:"+An}},pn.getErrorCorrectPolynomial=function(An){for(var gn=Rt([1],0),Ln=0;Ln<An;Ln+=1)gn=gn.multiply(Rt([1,Tt.gexp(Ln)],0));return gn},pn.getLengthInBits=function(An,gn){if(1<=gn&&gn<10)switch(An){case St.MODE_NUMBER:return 10;case St.MODE_ALPHA_NUM:return 9;case St.MODE_8BIT_BYTE:return 8;case St.MODE_KANJI:return 8;default:throw"mode:"+An}else if(gn<27)switch(An){case St.MODE_NUMBER:return 12;case St.MODE_ALPHA_NUM:return 11;case St.MODE_8BIT_BYTE:return 16;case St.MODE_KANJI:return 10;default:throw"mode:"+An}else if(gn<41)switch(An){case St.MODE_NUMBER:return 14;case St.MODE_ALPHA_NUM:return 13;case St.MODE_8BIT_BYTE:return 16;case St.MODE_KANJI:return 12;default:throw"mode:"+An}else throw"type:"+gn},pn.getLostPoint=function(An){for(var gn=An.getModuleCount(),Ln=0,Cn=0;Cn<gn;Cn+=1)for(var En=0;En<gn;En+=1){for(var yn=0,Rn=An.isDark(Cn,En),hn=-1;hn<=1;hn+=1)if(!(Cn+hn<0||gn<=Cn+hn))for(var mn=-1;mn<=1;mn+=1)En+mn<0||gn<=En+mn||hn==0&&mn==0||Rn==An.isDark(Cn+hn,En+mn)&&(yn+=1);yn>5&&(Ln+=3+yn-5)}for(var Cn=0;Cn<gn-1;Cn+=1)for(var En=0;En<gn-1;En+=1){var bn=0;An.isDark(Cn,En)&&(bn+=1),An.isDark(Cn+1,En)&&(bn+=1),An.isDark(Cn,En+1)&&(bn+=1),An.isDark(Cn+1,En+1)&&(bn+=1),(bn==0||bn==4)&&(Ln+=3)}for(var Cn=0;Cn<gn;Cn+=1)for(var En=0;En<gn-6;En+=1)An.isDark(Cn,En)&&!An.isDark(Cn,En+1)&&An.isDark(Cn,En+2)&&An.isDark(Cn,En+3)&&An.isDark(Cn,En+4)&&!An.isDark(Cn,En+5)&&An.isDark(Cn,En+6)&&(Ln+=40);for(var En=0;En<gn;En+=1)for(var Cn=0;Cn<gn-6;Cn+=1)An.isDark(Cn,En)&&!An.isDark(Cn+1,En)&&An.isDark(Cn+2,En)&&An.isDark(Cn+3,En)&&An.isDark(Cn+4,En)&&!An.isDark(Cn+5,En)&&An.isDark(Cn+6,En)&&(Ln+=40);for(var Mn=0,En=0;En<gn;En+=1)for(var Cn=0;Cn<gn;Cn+=1)An.isDark(Cn,En)&&(Mn+=1);var Tn=Math.abs(100*Mn/gn/gn-50)/5;return Ln+=Tn*10,Ln},pn}(),Tt=function(){for(var an=new Array(256),ln=new Array(256),fn=0;fn<8;fn+=1)an[fn]=1<<fn;for(var fn=8;fn<256;fn+=1)an[fn]=an[fn-4]^an[fn-5]^an[fn-6]^an[fn-8];for(var fn=0;fn<255;fn+=1)ln[an[fn]]=fn;var un={};return un.glog=function(pn){if(pn<1)throw"glog("+pn+")";return ln[pn]},un.gexp=function(pn){for(;pn<0;)pn+=255;for(;pn>=256;)pn-=255;return an[pn]},un}();function Rt(an,ln){if(typeof an.length>"u")throw an.length+"/"+ln;var fn=function(){for(var pn=0;pn<an.length&&an[pn]==0;)pn+=1;for(var xn=new Array(an.length-pn+ln),An=0;An<an.length-pn;An+=1)xn[An]=an[An+pn];return xn}(),un={};return un.getAt=function(pn){return fn[pn]},un.getLength=function(){return fn.length},un.multiply=function(pn){for(var xn=new Array(un.getLength()+pn.getLength()-1),An=0;An<un.getLength();An+=1)for(var gn=0;gn<pn.getLength();gn+=1)xn[An+gn]^=Tt.gexp(Tt.glog(un.getAt(An))+Tt.glog(pn.getAt(gn)));return Rt(xn,0)},un.mod=function(pn){if(un.getLength()-pn.getLength()<0)return un;for(var xn=Tt.glog(un.getAt(0))-Tt.glog(pn.getAt(0)),An=new Array(un.getLength()),gn=0;gn<un.getLength();gn+=1)An[gn]=un.getAt(gn);for(var gn=0;gn<pn.getLength();gn+=1)An[gn]^=Tt.gexp(Tt.glog(pn.getAt(gn))+xn);return Rt(An,0).mod(pn)},un}var Bt=function(){var an=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ln=function(pn,xn){var An={};return An.totalCount=pn,An.dataCount=xn,An},fn={},un=function(pn,xn){switch(xn){case Et.L:return an[(pn-1)*4+0];case Et.M:return an[(pn-1)*4+1];case Et.Q:return an[(pn-1)*4+2];case Et.H:return an[(pn-1)*4+3];default:return}};return fn.getRSBlocks=function(pn,xn){var An=un(pn,xn);if(typeof An>"u")throw"bad rs block @ typeNumber:"+pn+"/errorCorrectionLevel:"+xn;for(var gn=An.length/3,Ln=[],Cn=0;Cn<gn;Cn+=1)for(var En=An[Cn*3+0],yn=An[Cn*3+1],Rn=An[Cn*3+2],hn=0;hn<En;hn+=1)Ln.push(ln(yn,Rn));return Ln},fn}(),Ft=function(){var an=[],ln=0,fn={};return fn.getBuffer=function(){return an},fn.getAt=function(un){var pn=Math.floor(un/8);return(an[pn]>>>7-un%8&1)==1},fn.put=function(un,pn){for(var xn=0;xn<pn;xn+=1)fn.putBit((un>>>pn-xn-1&1)==1)},fn.getLengthInBits=function(){return ln},fn.putBit=function(un){var pn=Math.floor(ln/8);an.length<=pn&&an.push(0),un&&(an[pn]|=128>>>ln%8),ln+=1},fn},Dt=function(an){var ln=St.MODE_NUMBER,fn=an,un={};un.getMode=function(){return ln},un.getLength=function(An){return fn.length},un.write=function(An){for(var gn=fn,Ln=0;Ln+2<gn.length;)An.put(pn(gn.substring(Ln,Ln+3)),10),Ln+=3;Ln<gn.length&&(gn.length-Ln==1?An.put(pn(gn.substring(Ln,Ln+1)),4):gn.length-Ln==2&&An.put(pn(gn.substring(Ln,Ln+2)),7))};var pn=function(An){for(var gn=0,Ln=0;Ln<An.length;Ln+=1)gn=gn*10+xn(An.charAt(Ln));return gn},xn=function(An){if("0"<=An&&An<="9")return An.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+An};return un},kt=function(an){var ln=St.MODE_ALPHA_NUM,fn=an,un={};un.getMode=function(){return ln},un.getLength=function(xn){return fn.length},un.write=function(xn){for(var An=fn,gn=0;gn+1<An.length;)xn.put(pn(An.charAt(gn))*45+pn(An.charAt(gn+1)),11),gn+=2;gn<An.length&&xn.put(pn(An.charAt(gn)),6)};var pn=function(xn){if("0"<=xn&&xn<="9")return xn.charCodeAt(0)-"0".charCodeAt(0);if("A"<=xn&&xn<="Z")return xn.charCodeAt(0)-"A".charCodeAt(0)+10;switch(xn){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+xn}};return un},zt=function(an){var ln=St.MODE_8BIT_BYTE,fn=vt.stringToBytes(an),un={};return un.getMode=function(){return ln},un.getLength=function(pn){return fn.length},un.write=function(pn){for(var xn=0;xn<fn.length;xn+=1)pn.put(fn[xn],8)},un},Ht=function(an){var ln=St.MODE_KANJI,fn=vt.stringToBytesFuncs.SJIS;if(!fn)throw"sjis not supported.";(function(xn,An){var gn=fn(xn);if(gn.length!=2||(gn[0]<<8|gn[1])!=An)throw"sjis not supported."})("友",38726);var un=fn(an),pn={};return pn.getMode=function(){return ln},pn.getLength=function(xn){return~~(un.length/2)},pn.write=function(xn){for(var An=un,gn=0;gn+1<An.length;){var Ln=(255&An[gn])<<8|255&An[gn+1];if(33088<=Ln&&Ln<=40956)Ln-=33088;else if(57408<=Ln&&Ln<=60351)Ln-=49472;else throw"illegal char at "+(gn+1)+"/"+Ln;Ln=(Ln>>>8&255)*192+(Ln&255),xn.put(Ln,13),gn+=2}if(gn<An.length)throw"illegal char at "+(gn+1)},pn},en=function(){var an=[],ln={};return ln.writeByte=function(fn){an.push(fn&255)},ln.writeShort=function(fn){ln.writeByte(fn),ln.writeByte(fn>>>8)},ln.writeBytes=function(fn,un,pn){un=un||0,pn=pn||fn.length;for(var xn=0;xn<pn;xn+=1)ln.writeByte(fn[xn+un])},ln.writeString=function(fn){for(var un=0;un<fn.length;un+=1)ln.writeByte(fn.charCodeAt(un))},ln.toByteArray=function(){return an},ln.toString=function(){var fn="";fn+="[";for(var un=0;un<an.length;un+=1)un>0&&(fn+=","),fn+=an[un];return fn+="]",fn},ln},Kt=function(){var an=0,ln=0,fn=0,un="",pn={},xn=function(gn){un+=String.fromCharCode(An(gn&63))},An=function(gn){if(!(gn<0)){if(gn<26)return 65+gn;if(gn<52)return 97+(gn-26);if(gn<62)return 48+(gn-52);if(gn==62)return 43;if(gn==63)return 47}throw"n:"+gn};return pn.writeByte=function(gn){for(an=an<<8|gn&255,ln+=8,fn+=1;ln>=6;)xn(an>>>ln-6),ln-=6},pn.flush=function(){if(ln>0&&(xn(an<<6-ln),an=0,ln=0),fn%3!=0)for(var gn=3-fn%3,Ln=0;Ln<gn;Ln+=1)un+="="},pn.toString=function(){return un},pn},Zt=function(an){var ln=an,fn=0,un=0,pn=0,xn={};xn.read=function(){for(;pn<8;){if(fn>=ln.length){if(pn==0)return-1;throw"unexpected end of file./"+pn}var gn=ln.charAt(fn);if(fn+=1,gn=="=")return pn=0,-1;if(gn.match(/^\s$/))continue;un=un<<6|An(gn.charCodeAt(0)),pn+=6}var Ln=un>>>pn-8&255;return pn-=8,Ln};var An=function(gn){if(65<=gn&&gn<=90)return gn-65;if(97<=gn&&gn<=122)return gn-97+26;if(48<=gn&&gn<=57)return gn-48+52;if(gn==43)return 62;if(gn==47)return 63;throw"c:"+gn};return xn},Wt=function(an,ln){var fn=an,un=ln,pn=new Array(an*ln),xn={};xn.setPixel=function(Cn,En,yn){pn[En*fn+Cn]=yn},xn.write=function(Cn){Cn.writeString("GIF87a"),Cn.writeShort(fn),Cn.writeShort(un),Cn.writeByte(128),Cn.writeByte(0),Cn.writeByte(0),Cn.writeByte(0),Cn.writeByte(0),Cn.writeByte(0),Cn.writeByte(255),Cn.writeByte(255),Cn.writeByte(255),Cn.writeString(","),Cn.writeShort(0),Cn.writeShort(0),Cn.writeShort(fn),Cn.writeShort(un),Cn.writeByte(0);var En=2,yn=gn(En);Cn.writeByte(En);for(var Rn=0;yn.length-Rn>255;)Cn.writeByte(255),Cn.writeBytes(yn,Rn,255),Rn+=255;Cn.writeByte(yn.length-Rn),Cn.writeBytes(yn,Rn,yn.length-Rn),Cn.writeByte(0),Cn.writeString(";")};var An=function(Cn){var En=Cn,yn=0,Rn=0,hn={};return hn.write=function(mn,bn){if(mn>>>bn)throw"length over";for(;yn+bn>=8;)En.writeByte(255&(mn<<yn|Rn)),bn-=8-yn,mn>>>=8-yn,Rn=0,yn=0;Rn=mn<<yn|Rn,yn=yn+bn},hn.flush=function(){yn>0&&En.writeByte(Rn)},hn},gn=function(Cn){for(var En=1<<Cn,yn=(1<<Cn)+1,Rn=Cn+1,hn=Ln(),mn=0;mn<En;mn+=1)hn.add(String.fromCharCode(mn));hn.add(String.fromCharCode(En)),hn.add(String.fromCharCode(yn));var bn=en(),Mn=An(bn);Mn.write(En,Rn);var Tn=0,In=String.fromCharCode(pn[Tn]);for(Tn+=1;Tn<pn.length;){var Nn=String.fromCharCode(pn[Tn]);Tn+=1,hn.contains(In+Nn)?In=In+Nn:(Mn.write(hn.indexOf(In),Rn),hn.size()<4095&&(hn.size()==1<<Rn&&(Rn+=1),hn.add(In+Nn)),In=Nn)}return Mn.write(hn.indexOf(In),Rn),Mn.write(yn,Rn),Mn.flush(),bn.toByteArray()},Ln=function(){var Cn={},En=0,yn={};return yn.add=function(Rn){if(yn.contains(Rn))throw"dup key:"+Rn;Cn[Rn]=En,En+=1},yn.size=function(){return En},yn.indexOf=function(Rn){return Cn[Rn]},yn.contains=function(Rn){return typeof Cn[Rn]<"u"},yn};return xn},tn=function(an,ln,fn){for(var un=Wt(an,ln),pn=0;pn<ln;pn+=1)for(var xn=0;xn<an;xn+=1)un.setPixel(xn,pn,fn(xn,pn));var An=en();un.write(An);for(var gn=Kt(),Ln=An.toByteArray(),Cn=0;Cn<Ln.length;Cn+=1)gn.writeByte(Ln[Cn]);return gn.flush(),"data:image/gif;base64,"+gn};return vt}();(function(){ft.stringToBytesFuncs["UTF-8"]=function(vt){function St(Et){for(var At=[],Ct=0;Ct<Et.length;Ct++){var Tt=Et.charCodeAt(Ct);Tt<128?At.push(Tt):Tt<2048?At.push(192|Tt>>6,128|Tt&63):Tt<55296||Tt>=57344?At.push(224|Tt>>12,128|Tt>>6&63,128|Tt&63):(Ct++,Tt=65536+((Tt&1023)<<10|Et.charCodeAt(Ct)&1023),At.push(240|Tt>>18,128|Tt>>12&63,128|Tt>>6&63,128|Tt&63))}return At}return St(vt)}})(),function(vt){dt.exports=vt()}(function(){return ft})})(qrcode);var qrcodeExports=qrcode.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var dt=function(lt,ft){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,St){vt.__proto__=St}||function(vt,St){for(var Et in St)St.hasOwnProperty(Et)&&(vt[Et]=St[Et])},dt(lt,ft)};return function(lt,ft){dt(lt,ft);function vt(){this.constructor=lt}lt.prototype=ft===null?Object.create(ft):(vt.prototype=ft.prototype,new vt)}}();Object.defineProperty(dist$1,"__esModule",{value:!0});dist$1.QRCode=void 0;var isEqual=lodash_isequalExports,qrGenerator=qrcodeExports,React=reactExports,ReactDOM=reactDomExports,QRCode=function(dt){__extends(lt,dt);function lt(ft){var vt=dt.call(this,ft)||this;return vt.canvas=React.createRef(),vt}return lt.utf16to8=function(ft){var vt="",St,Et,At=ft.length;for(St=0;St<At;St++)Et=ft.charCodeAt(St),Et>=1&&Et<=127?vt+=ft.charAt(St):Et>2047?(vt+=String.fromCharCode(224|Et>>12&15),vt+=String.fromCharCode(128|Et>>6&63),vt+=String.fromCharCode(128|Et>>0&63)):(vt+=String.fromCharCode(192|Et>>6&31),vt+=String.fromCharCode(128|Et>>0&63));return vt},lt.prototype.drawRoundedSquare=function(ft,vt,St,Et,At,Ct,Tt,Rt){Rt.lineWidth=ft,Rt.fillStyle=At,Rt.strokeStyle=At,St+=ft/2,vt+=ft/2,Et-=ft,Array.isArray(Ct)||(Ct=[Ct,Ct,Ct,Ct]),Ct=Ct.map(function(zt){return zt=Math.min(zt,Et/2),zt<0?0:zt});var Bt=Ct[0]||0,Ft=Ct[1]||0,Dt=Ct[2]||0,kt=Ct[3]||0;Rt.beginPath(),Rt.moveTo(vt+Bt,St),Rt.lineTo(vt+Et-Ft,St),Ft&&Rt.quadraticCurveTo(vt+Et,St,vt+Et,St+Ft),Rt.lineTo(vt+Et,St+Et-Dt),Dt&&Rt.quadraticCurveTo(vt+Et,St+Et,vt+Et-Dt,St+Et),Rt.lineTo(vt+kt,St+Et),kt&&Rt.quadraticCurveTo(vt,St+Et,vt,St+Et-kt),Rt.lineTo(vt,St+Bt),Bt&&Rt.quadraticCurveTo(vt,St,vt+Bt,St),Rt.closePath(),Rt.stroke(),Tt&&Rt.fill()},lt.prototype.drawPositioningPattern=function(ft,vt,St,Et,At,Ct,Tt){Tt===void 0&&(Tt=[0,0,0,0]);var Rt=Math.ceil(vt),Bt,Ft;typeof Tt!="number"&&!Array.isArray(Tt)?(Bt=Tt.outer||0,Ft=Tt.inner||0):(Bt=Tt,Ft=Bt);var Dt,kt;typeof Ct!="string"?(Dt=Ct.outer,kt=Ct.inner):(Dt=Ct,kt=Ct);var zt=Et*vt+St,Ht=At*vt+St,en=vt*7;this.drawRoundedSquare(Rt,Ht,zt,en,Dt,Bt,!1,ft),en=vt*3,zt+=vt*2,Ht+=vt*2,this.drawRoundedSquare(Rt,Ht,zt,en,kt,Ft,!0,ft)},lt.prototype.isInPositioninZone=function(ft,vt,St){return St.some(function(Et){return vt>=Et.row&&vt<=Et.row+7&&ft>=Et.col&&ft<=Et.col+7})},lt.prototype.transformPixelLengthIntoNumberOfCells=function(ft,vt){return ft/vt},lt.prototype.isCoordinateInImage=function(ft,vt,St,Et,At,Ct,Tt,Rt){if(Rt){var Bt=2,Ft=this.transformPixelLengthIntoNumberOfCells(At,Tt),Dt=this.transformPixelLengthIntoNumberOfCells(Ct,Tt),kt=this.transformPixelLengthIntoNumberOfCells(St,Tt)-1,zt=this.transformPixelLengthIntoNumberOfCells(Et,Tt)-1;return vt>=Ft-Bt&&vt<=Ft+kt+Bt&&ft>=Dt-Bt&&ft<=Dt+zt+Bt}else return!1},lt.prototype.shouldComponentUpdate=function(ft){return!isEqual(this.props,ft)},lt.prototype.componentDidMount=function(){this.update()},lt.prototype.componentDidUpdate=function(){this.update()},lt.prototype.update=function(){var ft=this.props,vt=ft.value,St=ft.ecLevel,Et=ft.enableCORS,At=ft.bgColor,Ct=ft.fgColor,Tt=ft.logoImage,Rt=ft.logoOpacity,Bt=ft.logoOnLoad,Ft=ft.removeQrCodeBehindLogo,Dt=ft.qrStyle,kt=ft.eyeRadius,zt=ft.eyeColor,Ht=ft.logoPaddingStyle,en=+this.props.size,Kt=+this.props.quietZone,Zt=this.props.logoWidth?+this.props.logoWidth:0,Wt=this.props.logoHeight?+this.props.logoHeight:0,tn=this.props.logoPadding?+this.props.logoPadding:0,an=qrGenerator(0,St);an.addData(lt.utf16to8(vt)),an.make();var ln=ReactDOM.findDOMNode(this.canvas.current),fn=ln.getContext("2d"),un=en+2*Kt,pn=an.getModuleCount(),xn=en/pn,An=window.devicePixelRatio||1;ln.height=ln.width=un*An,fn.scale(An,An),fn.fillStyle=At,fn.fillRect(0,0,un,un);var gn=Kt,Ln=[{row:0,col:0},{row:0,col:pn-7},{row:pn-7,col:0}];if(fn.strokeStyle=Ct,Dt==="dots"){fn.fillStyle=Ct;for(var Cn=xn/2,En=0;En<pn;En++)for(var yn=0;yn<pn;yn++)an.isDark(En,yn)&&!this.isInPositioninZone(En,yn,Ln)&&(fn.beginPath(),fn.arc(Math.round(yn*xn)+Cn+gn,Math.round(En*xn)+Cn+gn,Cn/100*75,0,2*Math.PI,!1),fn.closePath(),fn.fill())}else for(var En=0;En<pn;En++)for(var yn=0;yn<pn;yn++)if(an.isDark(En,yn)&&!this.isInPositioninZone(En,yn,Ln)){fn.fillStyle=Ct;var Rn=Math.ceil((yn+1)*xn)-Math.floor(yn*xn),hn=Math.ceil((En+1)*xn)-Math.floor(En*xn);fn.fillRect(Math.round(yn*xn)+gn,Math.round(En*xn)+gn,Rn,hn)}for(var mn=0;mn<3;mn++){var bn=Ln[mn],En=bn.row,yn=bn.col,Mn=kt,Tn=void 0;Array.isArray(Mn)&&(Mn=Mn[mn]),typeof Mn=="number"&&(Mn=[Mn,Mn,Mn,Mn]),zt?Array.isArray(zt)?Tn=zt[mn]:Tn=zt:Tn=Ct,this.drawPositioningPattern(fn,xn,gn,En,yn,Tn,Mn)}if(Tt){var In=new Image;Et&&(In.crossOrigin="Anonymous"),In.onload=function(){fn.save();var Nn=Zt||en*.2,$n=Wt||Nn,Gn=(en-Nn)/2,Zn=(en-$n)/2;if(Ft||tn){fn.beginPath(),fn.strokeStyle=At,fn.fillStyle=At;var Un=Nn+2*tn,Xn=$n+2*tn,Vn=Gn+gn-tn,Wn=Zn+gn-tn;if(Ht==="circle"){var Dn=Vn+Un/2,jn=Wn+Xn/2;fn.ellipse(Dn,jn,Un/2,Xn/2,0,0,2*Math.PI),fn.stroke(),fn.fill()}else fn.fillRect(Vn,Wn,Un,Xn)}fn.globalAlpha=Rt,fn.drawImage(In,Gn+gn,Zn+gn,Nn,$n),fn.restore(),Bt&&Bt()},In.src=Tt}},lt.prototype.render=function(){var ft,vt=+this.props.size+2*+this.props.quietZone;return React.createElement("canvas",{id:(ft=this.props.id)!==null&&ft!==void 0?ft:"react-qrcode-logo",height:vt,width:vt,style:{height:vt+"px",width:vt+"px"},ref:this.canvas})},lt.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},lt}(React.Component);dist$1.QRCode=QRCode;var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(dt,lt,ft)=>lt in dt?__defProp(dt,lt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):dt[lt]=ft,__spreadValues=(dt,lt)=>{for(var ft in lt||(lt={}))__hasOwnProp.call(lt,ft)&&__defNormalProp(dt,ft,lt[ft]);if(__getOwnPropSymbols)for(var ft of __getOwnPropSymbols(lt))__propIsEnum.call(lt,ft)&&__defNormalProp(dt,ft,lt[ft]);return dt},__objRest=(dt,lt)=>{var ft={};for(var vt in dt)__hasOwnProp.call(dt,vt)&&lt.indexOf(vt)<0&&(ft[vt]=dt[vt]);if(dt!=null&&__getOwnPropSymbols)for(var vt of __getOwnPropSymbols(dt))lt.indexOf(vt)<0&&__propIsEnum.call(dt,vt)&&(ft[vt]=dt[vt]);return ft};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qrcodegen;(dt=>{const lt=class{constructor(Tt,Rt,Bt,Ft){if(this.version=Tt,this.errorCorrectionLevel=Rt,this.modules=[],this.isFunction=[],Tt<lt.MIN_VERSION||Tt>lt.MAX_VERSION)throw new RangeError("Version value out of range");if(Ft<-1||Ft>7)throw new RangeError("Mask value out of range");this.size=Tt*4+17;let Dt=[];for(let zt=0;zt<this.size;zt++)Dt.push(!1);for(let zt=0;zt<this.size;zt++)this.modules.push(Dt.slice()),this.isFunction.push(Dt.slice());this.drawFunctionPatterns();const kt=this.addEccAndInterleave(Bt);if(this.drawCodewords(kt),Ft==-1){let zt=1e9;for(let Ht=0;Ht<8;Ht++){this.applyMask(Ht),this.drawFormatBits(Ht);const en=this.getPenaltyScore();en<zt&&(Ft=Ht,zt=en),this.applyMask(Ht)}}Et(0<=Ft&&Ft<=7),this.mask=Ft,this.applyMask(Ft),this.drawFormatBits(Ft),this.isFunction=[]}static encodeText(Tt,Rt){const Bt=dt.QrSegment.makeSegments(Tt);return lt.encodeSegments(Bt,Rt)}static encodeBinary(Tt,Rt){const Bt=dt.QrSegment.makeBytes(Tt);return lt.encodeSegments([Bt],Rt)}static encodeSegments(Tt,Rt,Bt=1,Ft=40,Dt=-1,kt=!0){if(!(lt.MIN_VERSION<=Bt&&Bt<=Ft&&Ft<=lt.MAX_VERSION)||Dt<-1||Dt>7)throw new RangeError("Invalid value");let zt,Ht;for(zt=Bt;;zt++){const Wt=lt.getNumDataCodewords(zt,Rt)*8,tn=Ct.getTotalBits(Tt,zt);if(tn<=Wt){Ht=tn;break}if(zt>=Ft)throw new RangeError("Data too long")}for(const Wt of[lt.Ecc.MEDIUM,lt.Ecc.QUARTILE,lt.Ecc.HIGH])kt&&Ht<=lt.getNumDataCodewords(zt,Wt)*8&&(Rt=Wt);let en=[];for(const Wt of Tt){vt(Wt.mode.modeBits,4,en),vt(Wt.numChars,Wt.mode.numCharCountBits(zt),en);for(const tn of Wt.getData())en.push(tn)}Et(en.length==Ht);const Kt=lt.getNumDataCodewords(zt,Rt)*8;Et(en.length<=Kt),vt(0,Math.min(4,Kt-en.length),en),vt(0,(8-en.length%8)%8,en),Et(en.length%8==0);for(let Wt=236;en.length<Kt;Wt^=253)vt(Wt,8,en);let Zt=[];for(;Zt.length*8<en.length;)Zt.push(0);return en.forEach((Wt,tn)=>Zt[tn>>>3]|=Wt<<7-(tn&7)),new lt(zt,Rt,Zt,Dt)}getModule(Tt,Rt){return 0<=Tt&&Tt<this.size&&0<=Rt&&Rt<this.size&&this.modules[Rt][Tt]}getModules(){return this.modules}drawFunctionPatterns(){for(let Bt=0;Bt<this.size;Bt++)this.setFunctionModule(6,Bt,Bt%2==0),this.setFunctionModule(Bt,6,Bt%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const Tt=this.getAlignmentPatternPositions(),Rt=Tt.length;for(let Bt=0;Bt<Rt;Bt++)for(let Ft=0;Ft<Rt;Ft++)Bt==0&&Ft==0||Bt==0&&Ft==Rt-1||Bt==Rt-1&&Ft==0||this.drawAlignmentPattern(Tt[Bt],Tt[Ft]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(Tt){const Rt=this.errorCorrectionLevel.formatBits<<3|Tt;let Bt=Rt;for(let Dt=0;Dt<10;Dt++)Bt=Bt<<1^(Bt>>>9)*1335;const Ft=(Rt<<10|Bt)^21522;Et(Ft>>>15==0);for(let Dt=0;Dt<=5;Dt++)this.setFunctionModule(8,Dt,St(Ft,Dt));this.setFunctionModule(8,7,St(Ft,6)),this.setFunctionModule(8,8,St(Ft,7)),this.setFunctionModule(7,8,St(Ft,8));for(let Dt=9;Dt<15;Dt++)this.setFunctionModule(14-Dt,8,St(Ft,Dt));for(let Dt=0;Dt<8;Dt++)this.setFunctionModule(this.size-1-Dt,8,St(Ft,Dt));for(let Dt=8;Dt<15;Dt++)this.setFunctionModule(8,this.size-15+Dt,St(Ft,Dt));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let Tt=this.version;for(let Bt=0;Bt<12;Bt++)Tt=Tt<<1^(Tt>>>11)*7973;const Rt=this.version<<12|Tt;Et(Rt>>>18==0);for(let Bt=0;Bt<18;Bt++){const Ft=St(Rt,Bt),Dt=this.size-11+Bt%3,kt=Math.floor(Bt/3);this.setFunctionModule(Dt,kt,Ft),this.setFunctionModule(kt,Dt,Ft)}}drawFinderPattern(Tt,Rt){for(let Bt=-4;Bt<=4;Bt++)for(let Ft=-4;Ft<=4;Ft++){const Dt=Math.max(Math.abs(Ft),Math.abs(Bt)),kt=Tt+Ft,zt=Rt+Bt;0<=kt&&kt<this.size&&0<=zt&&zt<this.size&&this.setFunctionModule(kt,zt,Dt!=2&&Dt!=4)}}drawAlignmentPattern(Tt,Rt){for(let Bt=-2;Bt<=2;Bt++)for(let Ft=-2;Ft<=2;Ft++)this.setFunctionModule(Tt+Ft,Rt+Bt,Math.max(Math.abs(Ft),Math.abs(Bt))!=1)}setFunctionModule(Tt,Rt,Bt){this.modules[Rt][Tt]=Bt,this.isFunction[Rt][Tt]=!0}addEccAndInterleave(Tt){const Rt=this.version,Bt=this.errorCorrectionLevel;if(Tt.length!=lt.getNumDataCodewords(Rt,Bt))throw new RangeError("Invalid argument");const Ft=lt.NUM_ERROR_CORRECTION_BLOCKS[Bt.ordinal][Rt],Dt=lt.ECC_CODEWORDS_PER_BLOCK[Bt.ordinal][Rt],kt=Math.floor(lt.getNumRawDataModules(Rt)/8),zt=Ft-kt%Ft,Ht=Math.floor(kt/Ft);let en=[];const Kt=lt.reedSolomonComputeDivisor(Dt);for(let Wt=0,tn=0;Wt<Ft;Wt++){let an=Tt.slice(tn,tn+Ht-Dt+(Wt<zt?0:1));tn+=an.length;const ln=lt.reedSolomonComputeRemainder(an,Kt);Wt<zt&&an.push(0),en.push(an.concat(ln))}let Zt=[];for(let Wt=0;Wt<en[0].length;Wt++)en.forEach((tn,an)=>{(Wt!=Ht-Dt||an>=zt)&&Zt.push(tn[Wt])});return Et(Zt.length==kt),Zt}drawCodewords(Tt){if(Tt.length!=Math.floor(lt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let Rt=0;for(let Bt=this.size-1;Bt>=1;Bt-=2){Bt==6&&(Bt=5);for(let Ft=0;Ft<this.size;Ft++)for(let Dt=0;Dt<2;Dt++){const kt=Bt-Dt,Ht=(Bt+1&2)==0?this.size-1-Ft:Ft;!this.isFunction[Ht][kt]&&Rt<Tt.length*8&&(this.modules[Ht][kt]=St(Tt[Rt>>>3],7-(Rt&7)),Rt++)}}Et(Rt==Tt.length*8)}applyMask(Tt){if(Tt<0||Tt>7)throw new RangeError("Mask value out of range");for(let Rt=0;Rt<this.size;Rt++)for(let Bt=0;Bt<this.size;Bt++){let Ft;switch(Tt){case 0:Ft=(Bt+Rt)%2==0;break;case 1:Ft=Rt%2==0;break;case 2:Ft=Bt%3==0;break;case 3:Ft=(Bt+Rt)%3==0;break;case 4:Ft=(Math.floor(Bt/3)+Math.floor(Rt/2))%2==0;break;case 5:Ft=Bt*Rt%2+Bt*Rt%3==0;break;case 6:Ft=(Bt*Rt%2+Bt*Rt%3)%2==0;break;case 7:Ft=((Bt+Rt)%2+Bt*Rt%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[Rt][Bt]&&Ft&&(this.modules[Rt][Bt]=!this.modules[Rt][Bt])}}getPenaltyScore(){let Tt=0;for(let Dt=0;Dt<this.size;Dt++){let kt=!1,zt=0,Ht=[0,0,0,0,0,0,0];for(let en=0;en<this.size;en++)this.modules[Dt][en]==kt?(zt++,zt==5?Tt+=lt.PENALTY_N1:zt>5&&Tt++):(this.finderPenaltyAddHistory(zt,Ht),kt||(Tt+=this.finderPenaltyCountPatterns(Ht)*lt.PENALTY_N3),kt=this.modules[Dt][en],zt=1);Tt+=this.finderPenaltyTerminateAndCount(kt,zt,Ht)*lt.PENALTY_N3}for(let Dt=0;Dt<this.size;Dt++){let kt=!1,zt=0,Ht=[0,0,0,0,0,0,0];for(let en=0;en<this.size;en++)this.modules[en][Dt]==kt?(zt++,zt==5?Tt+=lt.PENALTY_N1:zt>5&&Tt++):(this.finderPenaltyAddHistory(zt,Ht),kt||(Tt+=this.finderPenaltyCountPatterns(Ht)*lt.PENALTY_N3),kt=this.modules[en][Dt],zt=1);Tt+=this.finderPenaltyTerminateAndCount(kt,zt,Ht)*lt.PENALTY_N3}for(let Dt=0;Dt<this.size-1;Dt++)for(let kt=0;kt<this.size-1;kt++){const zt=this.modules[Dt][kt];zt==this.modules[Dt][kt+1]&&zt==this.modules[Dt+1][kt]&&zt==this.modules[Dt+1][kt+1]&&(Tt+=lt.PENALTY_N2)}let Rt=0;for(const Dt of this.modules)Rt=Dt.reduce((kt,zt)=>kt+(zt?1:0),Rt);const Bt=this.size*this.size,Ft=Math.ceil(Math.abs(Rt*20-Bt*10)/Bt)-1;return Et(0<=Ft&&Ft<=9),Tt+=Ft*lt.PENALTY_N4,Et(0<=Tt&&Tt<=2568888),Tt}getAlignmentPatternPositions(){if(this.version==1)return[];{const Tt=Math.floor(this.version/7)+2,Rt=this.version==32?26:Math.ceil((this.version*4+4)/(Tt*2-2))*2;let Bt=[6];for(let Ft=this.size-7;Bt.length<Tt;Ft-=Rt)Bt.splice(1,0,Ft);return Bt}}static getNumRawDataModules(Tt){if(Tt<lt.MIN_VERSION||Tt>lt.MAX_VERSION)throw new RangeError("Version number out of range");let Rt=(16*Tt+128)*Tt+64;if(Tt>=2){const Bt=Math.floor(Tt/7)+2;Rt-=(25*Bt-10)*Bt-55,Tt>=7&&(Rt-=36)}return Et(208<=Rt&&Rt<=29648),Rt}static getNumDataCodewords(Tt,Rt){return Math.floor(lt.getNumRawDataModules(Tt)/8)-lt.ECC_CODEWORDS_PER_BLOCK[Rt.ordinal][Tt]*lt.NUM_ERROR_CORRECTION_BLOCKS[Rt.ordinal][Tt]}static reedSolomonComputeDivisor(Tt){if(Tt<1||Tt>255)throw new RangeError("Degree out of range");let Rt=[];for(let Ft=0;Ft<Tt-1;Ft++)Rt.push(0);Rt.push(1);let Bt=1;for(let Ft=0;Ft<Tt;Ft++){for(let Dt=0;Dt<Rt.length;Dt++)Rt[Dt]=lt.reedSolomonMultiply(Rt[Dt],Bt),Dt+1<Rt.length&&(Rt[Dt]^=Rt[Dt+1]);Bt=lt.reedSolomonMultiply(Bt,2)}return Rt}static reedSolomonComputeRemainder(Tt,Rt){let Bt=Rt.map(Ft=>0);for(const Ft of Tt){const Dt=Ft^Bt.shift();Bt.push(0),Rt.forEach((kt,zt)=>Bt[zt]^=lt.reedSolomonMultiply(kt,Dt))}return Bt}static reedSolomonMultiply(Tt,Rt){if(Tt>>>8||Rt>>>8)throw new RangeError("Byte out of range");let Bt=0;for(let Ft=7;Ft>=0;Ft--)Bt=Bt<<1^(Bt>>>7)*285,Bt^=(Rt>>>Ft&1)*Tt;return Et(Bt>>>8==0),Bt}finderPenaltyCountPatterns(Tt){const Rt=Tt[1];Et(Rt<=this.size*3);const Bt=Rt>0&&Tt[2]==Rt&&Tt[3]==Rt*3&&Tt[4]==Rt&&Tt[5]==Rt;return(Bt&&Tt[0]>=Rt*4&&Tt[6]>=Rt?1:0)+(Bt&&Tt[6]>=Rt*4&&Tt[0]>=Rt?1:0)}finderPenaltyTerminateAndCount(Tt,Rt,Bt){return Tt&&(this.finderPenaltyAddHistory(Rt,Bt),Rt=0),Rt+=this.size,this.finderPenaltyAddHistory(Rt,Bt),this.finderPenaltyCountPatterns(Bt)}finderPenaltyAddHistory(Tt,Rt){Rt[0]==0&&(Tt+=this.size),Rt.pop(),Rt.unshift(Tt)}};let ft=lt;ft.MIN_VERSION=1,ft.MAX_VERSION=40,ft.PENALTY_N1=3,ft.PENALTY_N2=3,ft.PENALTY_N3=40,ft.PENALTY_N4=10,ft.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],ft.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],dt.QrCode=ft;function vt(Tt,Rt,Bt){if(Rt<0||Rt>31||Tt>>>Rt)throw new RangeError("Value out of range");for(let Ft=Rt-1;Ft>=0;Ft--)Bt.push(Tt>>>Ft&1)}function St(Tt,Rt){return(Tt>>>Rt&1)!=0}function Et(Tt){if(!Tt)throw new Error("Assertion error")}const At=class{constructor(Tt,Rt,Bt){if(this.mode=Tt,this.numChars=Rt,this.bitData=Bt,Rt<0)throw new RangeError("Invalid argument");this.bitData=Bt.slice()}static makeBytes(Tt){let Rt=[];for(const Bt of Tt)vt(Bt,8,Rt);return new At(At.Mode.BYTE,Tt.length,Rt)}static makeNumeric(Tt){if(!At.isNumeric(Tt))throw new RangeError("String contains non-numeric characters");let Rt=[];for(let Bt=0;Bt<Tt.length;){const Ft=Math.min(Tt.length-Bt,3);vt(parseInt(Tt.substr(Bt,Ft),10),Ft*3+1,Rt),Bt+=Ft}return new At(At.Mode.NUMERIC,Tt.length,Rt)}static makeAlphanumeric(Tt){if(!At.isAlphanumeric(Tt))throw new RangeError("String contains unencodable characters in alphanumeric mode");let Rt=[],Bt;for(Bt=0;Bt+2<=Tt.length;Bt+=2){let Ft=At.ALPHANUMERIC_CHARSET.indexOf(Tt.charAt(Bt))*45;Ft+=At.ALPHANUMERIC_CHARSET.indexOf(Tt.charAt(Bt+1)),vt(Ft,11,Rt)}return Bt<Tt.length&&vt(At.ALPHANUMERIC_CHARSET.indexOf(Tt.charAt(Bt)),6,Rt),new At(At.Mode.ALPHANUMERIC,Tt.length,Rt)}static makeSegments(Tt){return Tt==""?[]:At.isNumeric(Tt)?[At.makeNumeric(Tt)]:At.isAlphanumeric(Tt)?[At.makeAlphanumeric(Tt)]:[At.makeBytes(At.toUtf8ByteArray(Tt))]}static makeEci(Tt){let Rt=[];if(Tt<0)throw new RangeError("ECI assignment value out of range");if(Tt<128)vt(Tt,8,Rt);else if(Tt<16384)vt(2,2,Rt),vt(Tt,14,Rt);else if(Tt<1e6)vt(6,3,Rt),vt(Tt,21,Rt);else throw new RangeError("ECI assignment value out of range");return new At(At.Mode.ECI,0,Rt)}static isNumeric(Tt){return At.NUMERIC_REGEX.test(Tt)}static isAlphanumeric(Tt){return At.ALPHANUMERIC_REGEX.test(Tt)}getData(){return this.bitData.slice()}static getTotalBits(Tt,Rt){let Bt=0;for(const Ft of Tt){const Dt=Ft.mode.numCharCountBits(Rt);if(Ft.numChars>=1<<Dt)return 1/0;Bt+=4+Dt+Ft.bitData.length}return Bt}static toUtf8ByteArray(Tt){Tt=encodeURI(Tt);let Rt=[];for(let Bt=0;Bt<Tt.length;Bt++)Tt.charAt(Bt)!="%"?Rt.push(Tt.charCodeAt(Bt)):(Rt.push(parseInt(Tt.substr(Bt+1,2),16)),Bt+=2);return Rt}};let Ct=At;Ct.NUMERIC_REGEX=/^[0-9]*$/,Ct.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,Ct.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",dt.QrSegment=Ct})(qrcodegen||(qrcodegen={}));(dt=>{(lt=>{const ft=class{constructor(St,Et){this.ordinal=St,this.formatBits=Et}};let vt=ft;vt.LOW=new ft(0,1),vt.MEDIUM=new ft(1,0),vt.QUARTILE=new ft(2,3),vt.HIGH=new ft(3,2),lt.Ecc=vt})(dt.QrCode||(dt.QrCode={}))})(qrcodegen||(qrcodegen={}));(dt=>{(lt=>{const ft=class{constructor(St,Et){this.modeBits=St,this.numBitsCharCount=Et}numCharCountBits(St){return this.numBitsCharCount[Math.floor((St+7)/17)]}};let vt=ft;vt.NUMERIC=new ft(1,[10,12,14]),vt.ALPHANUMERIC=new ft(2,[9,11,13]),vt.BYTE=new ft(4,[8,16,16]),vt.KANJI=new ft(8,[8,10,12]),vt.ECI=new ft(7,[0,0,0]),lt.Mode=vt})(dt.QrSegment||(dt.QrSegment={}))})(qrcodegen||(qrcodegen={}));var qrcodegen_default=qrcodegen;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ERROR_LEVEL_MAP={L:qrcodegen_default.QrCode.Ecc.LOW,M:qrcodegen_default.QrCode.Ecc.MEDIUM,Q:qrcodegen_default.QrCode.Ecc.QUARTILE,H:qrcodegen_default.QrCode.Ecc.HIGH},DEFAULT_SIZE=128,DEFAULT_LEVEL="L",DEFAULT_BGCOLOR="#FFFFFF",DEFAULT_FGCOLOR="#000000",DEFAULT_INCLUDEMARGIN=!1,MARGIN_SIZE=4,DEFAULT_IMG_SCALE=.1;function generatePath(dt,lt=0){const ft=[];return dt.forEach(function(vt,St){let Et=null;vt.forEach(function(At,Ct){if(!At&&Et!==null){ft.push(`M${Et+lt} ${St+lt}h${Ct-Et}v1H${Et+lt}z`),Et=null;return}if(Ct===vt.length-1){if(!At)return;Et===null?ft.push(`M${Ct+lt},${St+lt} h1v1H${Ct+lt}z`):ft.push(`M${Et+lt},${St+lt} h${Ct+1-Et}v1H${Et+lt}z`);return}At&&Et===null&&(Et=Ct)})}),ft.join("")}function excavateModules(dt,lt){return dt.slice().map((ft,vt)=>vt<lt.y||vt>=lt.y+lt.h?ft:ft.map((St,Et)=>Et<lt.x||Et>=lt.x+lt.w?St:!1))}function getImageSettings(dt,lt,ft,vt){if(vt==null)return null;const St=ft?MARGIN_SIZE:0,Et=dt.length+St*2,At=Math.floor(lt*DEFAULT_IMG_SCALE),Ct=Et/lt,Tt=(vt.width||At)*Ct,Rt=(vt.height||At)*Ct,Bt=vt.x==null?dt.length/2-Tt/2:vt.x*Ct,Ft=vt.y==null?dt.length/2-Rt/2:vt.y*Ct;let Dt=null;if(vt.excavate){let kt=Math.floor(Bt),zt=Math.floor(Ft),Ht=Math.ceil(Tt+Bt-kt),en=Math.ceil(Rt+Ft-zt);Dt={x:kt,y:zt,w:Ht,h:en}}return{x:Bt,y:Ft,h:Rt,w:Tt,excavation:Dt}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function QRCodeSVG(dt){const lt=dt,{value:ft,size:vt=DEFAULT_SIZE,level:St=DEFAULT_LEVEL,bgColor:Et=DEFAULT_BGCOLOR,fgColor:At=DEFAULT_FGCOLOR,includeMargin:Ct=DEFAULT_INCLUDEMARGIN,imageSettings:Tt}=lt,Rt=__objRest(lt,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let Bt=qrcodegen_default.QrCode.encodeText(ft,ERROR_LEVEL_MAP[St]).getModules();const Ft=Ct?MARGIN_SIZE:0,Dt=Bt.length+Ft*2,kt=getImageSettings(Bt,vt,Ct,Tt);let zt=null;Tt!=null&&kt!=null&&(kt.excavation!=null&&(Bt=excavateModules(Bt,kt.excavation)),zt=React$1.createElement("image",{xlinkHref:Tt.src,height:kt.h,width:kt.w,x:kt.x+Ft,y:kt.y+Ft,preserveAspectRatio:"none"}));const Ht=generatePath(Bt,Ft);return React$1.createElement("svg",__spreadValues({height:vt,width:vt,viewBox:`0 0 ${Dt} ${Dt}`},Rt),React$1.createElement("path",{fill:Et,d:`M0,0 h${Dt}v${Dt}H0z`,shapeRendering:"crispEdges"}),React$1.createElement("path",{fill:At,d:Ht,shapeRendering:"crispEdges"}),zt)}var key={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},webkit=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],moz=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],ms=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],document$1=typeof window<"u"&&typeof window.document<"u"?window.document:{},vendor="fullscreenEnabled"in document$1&&Object.keys(key)||webkit[0]in document$1&&webkit||moz[0]in document$1&&moz||ms[0]in document$1&&ms||[],fscreen={requestFullscreen:function(dt){return dt[vendor[key.requestFullscreen]]()},requestFullscreenFunction:function(dt){return dt[vendor[key.requestFullscreen]]},get exitFullscreen(){return document$1[vendor[key.exitFullscreen]].bind(document$1)},get fullscreenPseudoClass(){return":"+vendor[key.fullscreen]},addEventListener:function(dt,lt,ft){return document$1.addEventListener(vendor[key[dt]],lt,ft)},removeEventListener:function(dt,lt,ft){return document$1.removeEventListener(vendor[key[dt]],lt,ft)},get fullscreenEnabled(){return!!document$1[vendor[key.fullscreenEnabled]]},set fullscreenEnabled(dt){},get fullscreenElement(){return document$1[vendor[key.fullscreenElement]]},set fullscreenElement(dt){},get onfullscreenchange(){return document$1[("on"+vendor[key.fullscreenchange]).toLowerCase()]},set onfullscreenchange(dt){return document$1[("on"+vendor[key.fullscreenchange]).toLowerCase()]=dt},get onfullscreenerror(){return document$1[("on"+vendor[key.fullscreenerror]).toLowerCase()]},set onfullscreenerror(dt){return document$1[("on"+vendor[key.fullscreenerror]).toLowerCase()]=dt}};const fscreen$1=fscreen;function useFullScreenHandle(){var dt=reactExports.useState(!1),lt=dt[0],ft=dt[1],vt=reactExports.useRef(null);reactExports.useEffect(function(){var At=function(){ft(fscreen$1.fullscreenElement===vt.current)};return fscreen$1.addEventListener("fullscreenchange",At),function(){return fscreen$1.removeEventListener("fullscreenchange",At)}},[]);var St=reactExports.useCallback(function(){if(fscreen$1.fullscreenElement)return fscreen$1.exitFullscreen().then(function(){return fscreen$1.requestFullscreen(vt.current)});if(vt.current)return fscreen$1.requestFullscreen(vt.current)},[]),Et=reactExports.useCallback(function(){return fscreen$1.fullscreenElement===vt.current?fscreen$1.exitFullscreen():Promise.resolve()},[]);return reactExports.useMemo(function(){return{active:lt,enter:St,exit:Et,node:vt}},[lt,St,Et])}const createStoreImpl=dt=>{let lt;const ft=new Set,vt=(Tt,Rt)=>{const Bt=typeof Tt=="function"?Tt(lt):Tt;if(!Object.is(Bt,lt)){const Ft=lt;lt=Rt??typeof Bt!="object"?Bt:Object.assign({},lt,Bt),ft.forEach(Dt=>Dt(lt,Ft))}},St=()=>lt,Ct={setState:vt,getState:St,subscribe:Tt=>(ft.add(Tt),()=>ft.delete(Tt)),destroy:()=>ft.clear()};return lt=dt(vt,St,Ct),Ct},createStore=dt=>dt?createStoreImpl(dt):createStoreImpl,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;function useStore(dt,lt=dt.getState,ft){const vt=useSyncExternalStoreWithSelector(dt.subscribe,dt.getState,dt.getServerState||dt.getState,lt,ft);return reactExports.useDebugValue(vt),vt}const createImpl=dt=>{const lt=typeof dt=="function"?createStore(dt):dt,ft=(vt,St)=>useStore(lt,vt,St);return Object.assign(ft,lt),ft},create=dt=>dt?createImpl(dt):createImpl;function shallow(dt,lt){if(Object.is(dt,lt))return!0;if(typeof dt!="object"||dt===null||typeof lt!="object"||lt===null)return!1;if(dt instanceof Map&&lt instanceof Map){if(dt.size!==lt.size)return!1;for(const[vt,St]of dt)if(!Object.is(St,lt.get(vt)))return!1;return!0}if(dt instanceof Set&&lt instanceof Set){if(dt.size!==lt.size)return!1;for(const vt of dt)if(!lt.has(vt))return!1;return!0}const ft=Object.keys(dt);if(ft.length!==Object.keys(lt).length)return!1;for(let vt=0;vt<ft.length;vt++)if(!Object.prototype.hasOwnProperty.call(lt,ft[vt])||!Object.is(dt[ft[vt]],lt[ft[vt]]))return!1;return!0}const usePerfImpl=create((dt,lt)=>{function ft(){var vt;const{accumulated:St,startTime:Et,infos:At}=lt(),Ct=(vt=lt().log)==null?void 0:vt.maxMemory,{totalFrames:Tt,log:Rt,gl:Bt,max:Ft}=St,Dt={calls:Bt.calls/Tt,triangles:Bt.triangles/Tt,points:Bt.points/Tt,lines:Bt.lines/Tt},kt={gpu:Rt.gpu/Tt,cpu:Rt.cpu/Tt,mem:Rt.mem/Tt,fps:Rt.fps/Tt};return{sessionTime:(window.performance.now()-Et)/1e3,infos:At,log:kt,gl:Dt,max:Ft,maxMemory:Ct,totalFrames:Tt}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:ft}}),usePerf=dt=>usePerfImpl(dt,shallow);Object.assign(usePerf,usePerfImpl);const{getState:getPerf,setState:setPerf}=usePerfImpl,overLimitFps={value:0,fpsLimit:60,isOverLimit:0},average=dt=>(dt==null?void 0:dt.reduce((lt,ft)=>lt+ft,0))/dt.length;class GLPerf{constructor(lt={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,lt),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=MathUtils.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let lt=0;const ft=vt=>{++lt<20?this.rafId=window.requestAnimationFrame(ft):(this.detected=Math.ceil(1e3*lt/(vt-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=vt)};this.rafId=window.requestAnimationFrame(ft)}addUI(lt){this.names.indexOf(lt)===-1&&(this.names.push(lt),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(lt){const ft=16.666666666666668,vt=ft-lt.timeRemaining(),St=ft*overLimitFps.fpsLimit/10/vt;St<0||(overLimitFps.value=St,overLimitFps.isOverLimit<25?overLimitFps.isOverLimit++:setPerf({overclockingFps:!0}))}nextFrame(lt){this.frameId++;const ft=lt||this.now();let vt=ft-this.paramTime,St=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=ft;else if(ft>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const Et=this.frameId-this.paramFrame,At=Et*1e3/vt,Ct=getPerf().overclockingFps?overLimitFps.value:At;if(St=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/vt,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const Tt=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=Tt.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(At),this.logsAccums.fps.push(Ct),this.logsAccums.gpu.push(St),this.overClock&&typeof window.requestIdleCallback<"u"&&(overLimitFps.isOverLimit>0&&Ct>At?overLimitFps.isOverLimit--:getPerf().overclockingFps&&setPerf({overclockingFps:!1})),ft>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:average(this.logsAccums.cpu),gpu:average(this.logsAccums.gpu),mem:average(this.logsAccums.mem),fps:average(this.logsAccums.fps),duration:Math.round(vt),maxMemory:this.maxMemory,frameCount:Et}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=ft),this.overClock&&ft-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=lt,overLimitFps.fpsLimit=Math.round(average(this.logsAccums.fpsFixed)/10)*100,setPerf({fpsLimit:overLimitFps.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=ft)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=ft,this.circularId=0;else{const Et=ft-this.chartTime;let At=this.chartHz*Et/1e3;for(;--At>0&&this.detected;){const Tt=(this.frameId-this.chartFrame)/Et*1e3,Rt=getPerf().overclockingFps?overLimitFps.value:Tt;this.fpsChart[this.circularId%this.chartLen]=Rt;const Bt=1e3/this.currentMem,Ft=this.currentCpu,Dt=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/vt*100))+4;Dt>0&&(this.gpuChart[this.circularId%this.chartLen]=Dt),Ft>0&&(this.cpuChart[this.circularId%this.chartLen]=Ft),Bt>0&&(this.memChart[this.circularId%this.chartLen]=Bt);for(let kt=0;kt<this.names.length;kt++)this.chartLogger({i:kt,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=ft}}}startGpu(){const lt=this.gl,ft=this.extension;if(!(!lt||!ft)&&this.isWebGL2){let vt=!1,St,Et;if(this.query){this.queryHasResult=!1;let At=this.query;if(vt=lt.getQueryParameter(At,lt.QUERY_RESULT_AVAILABLE),St=lt.getParameter(ft.GPU_DISJOINT_EXT),vt&&!St){Et=lt.getQueryParameter(this.query,lt.QUERY_RESULT);const Ct=Et*1e-6;(vt||St)&&(lt.deleteQuery(this.query),At=null),vt&&Ct>0&&(St||this.activeAccums.forEach((Tt,Rt)=>{this.gpuAccums[Rt]=Ct}))}}(vt||!this.query)&&(this.queryCreated=!0,this.query=lt.createQuery(),lt.beginQuery(ft.TIME_ELAPSED_EXT,this.query))}}endGpu(){const lt=this.extension,ft=this.gl;this.isWebGL2&&this.queryCreated&&ft.getQuery(lt.TIME_ELAPSED_EXT,ft.CURRENT_QUERY)&&ft.endQuery(lt.TIME_ELAPSED_EXT)}begin(lt){this.startGpu(),this.updateAccums(lt)}end(lt){this.endGpu(),this.updateAccums(lt)}updateAccums(lt){let ft=this.names.indexOf(lt);ft===-1&&(ft=this.names.length,this.addUI(lt));const vt=this.now();this.activeAccums[ft]=!this.activeAccums[ft],this.t0=vt}}const countGeoDrawCalls=dt=>{dt.forEach((lt,ft)=>{const{meshes:vt}=lt;if(!vt)return;let St={total:0,type:"Triangle",data:[]};Object.keys(vt).forEach(Et=>{const At=vt[Et],{geometry:Ct,material:Tt}=At;let Rt=Ct.index;const Bt=Ct.attributes.position;if(!Bt)return;let Ft=1;Tt.wireframe===!0&&(Ft=0);const Dt=Rt!==null?Rt.count:Bt.count,kt=Ct.drawRange.start*Ft,zt=Ct.drawRange.count*Ft,Ht=kt,en=Math.min(Dt,kt+zt)-1;let Kt=1;const Zt=At.count||1;let Wt="Triangle",tn=0;At.isMesh?Tt.wireframe===!0?(Wt="Line",Kt=Kt/2):(Wt="Triangle",Kt=Kt/3):At.isLine?(Wt="Line",At.isLineSegments?Kt=Kt/2:At.isLineLoop?Kt=Kt:Kt=Kt-1):At.isPoints?(Wt="Point",Kt=Kt):At.isSprite&&(Wt="Triangle",Kt=Kt/3);const an=Math.round(Math.max(0,en-Ht+1)*(Kt*Zt));an>tn&&(tn=an,St.type=Wt),St.total+=an,St.data.push({drawCount:an,type:Wt}),At.userData.drawCount={type:Wt,count:an}}),lt.drawCounts=St})};var eventemitter3={exports:{}};(function(dt){var lt=Object.prototype.hasOwnProperty,ft="~";function vt(){}Object.create&&(vt.prototype=Object.create(null),new vt().__proto__||(ft=!1));function St(Tt,Rt,Bt){this.fn=Tt,this.context=Rt,this.once=Bt||!1}function Et(Tt,Rt,Bt,Ft,Dt){if(typeof Bt!="function")throw new TypeError("The listener must be a function");var kt=new St(Bt,Ft||Tt,Dt),zt=ft?ft+Rt:Rt;return Tt._events[zt]?Tt._events[zt].fn?Tt._events[zt]=[Tt._events[zt],kt]:Tt._events[zt].push(kt):(Tt._events[zt]=kt,Tt._eventsCount++),Tt}function At(Tt,Rt){--Tt._eventsCount===0?Tt._events=new vt:delete Tt._events[Rt]}function Ct(){this._events=new vt,this._eventsCount=0}Ct.prototype.eventNames=function(){var Rt=[],Bt,Ft;if(this._eventsCount===0)return Rt;for(Ft in Bt=this._events)lt.call(Bt,Ft)&&Rt.push(ft?Ft.slice(1):Ft);return Object.getOwnPropertySymbols?Rt.concat(Object.getOwnPropertySymbols(Bt)):Rt},Ct.prototype.listeners=function(Rt){var Bt=ft?ft+Rt:Rt,Ft=this._events[Bt];if(!Ft)return[];if(Ft.fn)return[Ft.fn];for(var Dt=0,kt=Ft.length,zt=new Array(kt);Dt<kt;Dt++)zt[Dt]=Ft[Dt].fn;return zt},Ct.prototype.listenerCount=function(Rt){var Bt=ft?ft+Rt:Rt,Ft=this._events[Bt];return Ft?Ft.fn?1:Ft.length:0},Ct.prototype.emit=function(Rt,Bt,Ft,Dt,kt,zt){var Ht=ft?ft+Rt:Rt;if(!this._events[Ht])return!1;var en=this._events[Ht],Kt=arguments.length,Zt,Wt;if(en.fn){switch(en.once&&this.removeListener(Rt,en.fn,void 0,!0),Kt){case 1:return en.fn.call(en.context),!0;case 2:return en.fn.call(en.context,Bt),!0;case 3:return en.fn.call(en.context,Bt,Ft),!0;case 4:return en.fn.call(en.context,Bt,Ft,Dt),!0;case 5:return en.fn.call(en.context,Bt,Ft,Dt,kt),!0;case 6:return en.fn.call(en.context,Bt,Ft,Dt,kt,zt),!0}for(Wt=1,Zt=new Array(Kt-1);Wt<Kt;Wt++)Zt[Wt-1]=arguments[Wt];en.fn.apply(en.context,Zt)}else{var tn=en.length,an;for(Wt=0;Wt<tn;Wt++)switch(en[Wt].once&&this.removeListener(Rt,en[Wt].fn,void 0,!0),Kt){case 1:en[Wt].fn.call(en[Wt].context);break;case 2:en[Wt].fn.call(en[Wt].context,Bt);break;case 3:en[Wt].fn.call(en[Wt].context,Bt,Ft);break;case 4:en[Wt].fn.call(en[Wt].context,Bt,Ft,Dt);break;default:if(!Zt)for(an=1,Zt=new Array(Kt-1);an<Kt;an++)Zt[an-1]=arguments[an];en[Wt].fn.apply(en[Wt].context,Zt)}}return!0},Ct.prototype.on=function(Rt,Bt,Ft){return Et(this,Rt,Bt,Ft,!1)},Ct.prototype.once=function(Rt,Bt,Ft){return Et(this,Rt,Bt,Ft,!0)},Ct.prototype.removeListener=function(Rt,Bt,Ft,Dt){var kt=ft?ft+Rt:Rt;if(!this._events[kt])return this;if(!Bt)return At(this,kt),this;var zt=this._events[kt];if(zt.fn)zt.fn===Bt&&(!Dt||zt.once)&&(!Ft||zt.context===Ft)&&At(this,kt);else{for(var Ht=0,en=[],Kt=zt.length;Ht<Kt;Ht++)(zt[Ht].fn!==Bt||Dt&&!zt[Ht].once||Ft&&zt[Ht].context!==Ft)&&en.push(zt[Ht]);en.length?this._events[kt]=en.length===1?en[0]:en:At(this,kt)}return this},Ct.prototype.removeAllListeners=function(Rt){var Bt;return Rt?(Bt=ft?ft+Rt:Rt,this._events[Bt]&&At(this,Bt)):(this._events=new vt,this._eventsCount=0),this},Ct.prototype.off=Ct.prototype.removeListener,Ct.prototype.addListener=Ct.prototype.on,Ct.prefixed=ft,Ct.EventEmitter=Ct,dt.exports=Ct})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),eventEmitter=new EventEmitter;function onEvent(dt,lt,ft){return ft!=null&&ft.once?eventEmitter.once(dt,lt):eventEmitter.on(dt,lt)}function offEvent(dt,lt,ft){var vt;eventEmitter.removeListener(dt,lt,(vt=ft==null?void 0:ft.context)!=null?vt:null,ft==null?void 0:ft.once)}function emitEvent(dt,lt){eventEmitter.emit(dt,lt)}function useEvent(dt,lt,ft=[],vt){const St=reactExports.useRef(lt);reactExports.useEffect(()=>void(St.current=lt),[lt]),reactExports.useEffect(()=>{const Et=Ct=>{var Tt;return(Tt=St.current)==null?void 0:Tt.call(St,Ct)},At=onEvent(dt,Et,vt);return()=>offEvent(dt,Et,{...vt,context:At})},[dt,vt==null?void 0:vt.once,...ft])}const updateMatrixWorldTemp=Object3D.prototype.updateMatrixWorld,updateWorldMatrixTemp=Object3D.prototype.updateWorldMatrix,updateMatrixTemp=Object3D.prototype.updateMatrix,maxGl=["calls","triangles","points","lines"],maxLog=["gpu","cpu","mem","fps"];let matriceWorldCount={value:0},matriceCount={value:0};const isUUID=dt=>{let lt=""+dt;return lt=lt.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),lt!==null},addMuiPerfID=(dt,lt)=>{dt.defines||(dt.defines={}),dt.defines&&!dt.defines.muiPerf&&(dt.defines=Object.assign(dt.defines||{},{muiPerf:dt.uuid}));const ft=dt.uuid;return lt[ft]||(lt[ft]={meshes:{},material:dt},dt.needsUpdate=!0),dt.needsUpdate=!1,ft},getMUIIndex=dt=>dt==="muiPerf",PerfHeadless=({overClock:dt,logsPerSecond:lt,chart:ft,deepAnalyze:vt,matrixUpdate:St})=>{const{gl:Et,scene:At}=useThree();setPerf({gl:Et,scene:At});const Ct=reactExports.useMemo(()=>{const Tt=new GLPerf({trackGPU:!0,overClock:dt,chartLen:ft?ft.length:120,chartHz:ft?ft.hz:60,logsPerSecond:lt||10,gl:Et.getContext(),chartLogger:en=>{setPerf({chart:en})},paramLogger:en=>{const Kt={maxMemory:en.maxMemory,gpu:en.gpu,cpu:en.cpu,mem:en.mem,fps:en.fps,totalTime:en.duration,frameCount:en.frameCount};setPerf({log:Kt});const{accumulated:Zt}=getPerf(),Wt=Et.info.render;Zt.totalFrames++,Zt.gl.calls+=Wt.calls,Zt.gl.triangles+=Wt.triangles,Zt.gl.points+=Wt.points,Zt.gl.lines+=Wt.lines,Zt.log.gpu+=en.gpu,Zt.log.cpu+=en.cpu,Zt.log.mem+=en.mem,Zt.log.fps+=en.fps;for(let tn=0;tn<maxGl.length;tn++){const an=maxGl[tn],ln=Wt[an];ln>Zt.max.gl[an]&&(Zt.max.gl[an]=ln)}for(let tn=0;tn<maxLog.length;tn++){const an=maxLog[tn],ln=en[an];ln>Zt.max.log[an]&&(Zt.max.log[an]=ln)}setPerf({accumulated:Zt}),emitEvent("log",[Kt,Et])}}),Rt=Et.getContext();let Bt=null,Ft=null;const Dt=Rt.getExtension("WEBGL_debug_renderer_info"),kt=Rt.getParameter(Rt.VERSION);Dt!=null&&(Bt=Rt.getParameter(Dt.UNMASKED_RENDERER_WEBGL),Ft=Rt.getParameter(Dt.UNMASKED_VENDOR_WEBGL)),Ft||(Ft="Unknown vendor"),Bt||(Bt=Rt.getParameter(Rt.RENDERER)),setPerf({startTime:window.performance.now(),infos:{version:kt,renderer:Bt,vendor:Ft}});const zt=new Map,Ht=new Map;return Object.defineProperty(Scene$1.prototype,"onBeforeRender",{get(){return(...en)=>{var Kt;Tt&&Tt.begin("profiler"),(Kt=zt.get(this))==null||Kt(...en)}},set(en){zt.set(this,en)},configurable:!0}),Object.defineProperty(Scene$1.prototype,"onAfterRender",{get(){return(...en)=>{var Kt;Tt&&Tt.end("profiler"),(Kt=Ht.get(this))==null||Kt(...en)}},set(en){Ht.set(this,en)},configurable:!0}),Tt},[]);return reactExports.useEffect(()=>{Ct&&(Ct.overClock=dt||!1,dt===!1&&(setPerf({overclockingFps:!1}),overLimitFps.value=0,overLimitFps.isOverLimit=0),Ct.chartHz=(ft==null?void 0:ft.hz)||60,Ct.chartLen=(ft==null?void 0:ft.length)||120)},[dt,Ct,ft==null?void 0:ft.length,ft==null?void 0:ft.hz]),reactExports.useEffect(()=>{St&&(Object3D.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&matriceWorldCount.value++,updateMatrixWorldTemp.apply(this,arguments)},Object3D.prototype.updateWorldMatrix=function(){matriceWorldCount.value++,updateWorldMatrixTemp.apply(this,arguments)},Object3D.prototype.updateMatrix=function(){matriceCount.value++,updateMatrixTemp.apply(this,arguments)}),Et.info.autoReset=!1;let Tt=null,Rt=null;if(Et.info)return Tt=addEffect(function(){getPerf().paused&&setPerf({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),Ct.startCpuProfiling=!0),matriceCount.value-=1,matriceWorldCount.value=0,matriceCount.value=0,Et.info&&Et.info.reset()}),Rt=addAfterEffect(function(){var Ft,Dt;if(Ct&&!Ct.paused&&(Ct.nextFrame(window.performance.now()),dt&&typeof window.requestIdleCallback<"u"&&(Ct.idleCbId=requestIdleCallback(Ct.nextFps))),vt){const kt={},zt=new Map;At.traverse(function(en){if((en instanceof Mesh||en instanceof Points)&&en.material){let Kt=en.material.uuid;Array.isArray(en.material)&&en.material.length>1?Kt=addMuiPerfID(en.material[1],kt):Kt=addMuiPerfID(en.material,kt),kt[Kt].meshes[en.uuid]=en}}),(Dt=(Ft=Et==null?void 0:Et.info)==null?void 0:Ft.programs)==null||Dt.forEach(Ht=>{const en=Ht.cacheKey.split(","),Kt=en[en.findIndex(getMUIIndex)+1];if(isUUID(Kt)&&kt[Kt]){const{material:Zt,meshes:Wt}=kt[Kt];zt.set(Kt,{program:Ht,material:Zt,meshes:Wt,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),zt.size!==getPerf().programs.size&&(countGeoDrawCalls(zt),setPerf({programs:zt,triggerProgramsUpdate:getPerf().triggerProgramsUpdate++}))}}),()=>{Ct&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(Ct.idleCbId),window.cancelAnimationFrame(Ct.rafId),window.cancelAnimationFrame(Ct.checkQueryId)),St&&(Object3D.prototype.updateMatrixWorld=updateMatrixTemp),Tt(),Rt()}},[Ct,Et,ft,St]),reactExports.useEffect(()=>{const Tt=addTail(function(){return Ct&&(Ct.paused=!0,matriceCount.value=0,matriceWorldCount.value=0,setPerf({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{Tt()}},[]),null};var e="colors",t="sizes",r="space",n={gap:r,gridGap:r,columnGap:r,gridColumnGap:r,rowGap:r,gridRowGap:r,inset:r,insetBlock:r,insetBlockEnd:r,insetBlockStart:r,insetInline:r,insetInlineEnd:r,insetInlineStart:r,margin:r,marginTop:r,marginRight:r,marginBottom:r,marginLeft:r,marginBlock:r,marginBlockEnd:r,marginBlockStart:r,marginInline:r,marginInlineEnd:r,marginInlineStart:r,padding:r,paddingTop:r,paddingRight:r,paddingBottom:r,paddingLeft:r,paddingBlock:r,paddingBlockEnd:r,paddingBlockStart:r,paddingInline:r,paddingInlineEnd:r,paddingInlineStart:r,top:r,right:r,bottom:r,left:r,scrollMargin:r,scrollMarginTop:r,scrollMarginRight:r,scrollMarginBottom:r,scrollMarginLeft:r,scrollMarginX:r,scrollMarginY:r,scrollMarginBlock:r,scrollMarginBlockEnd:r,scrollMarginBlockStart:r,scrollMarginInline:r,scrollMarginInlineEnd:r,scrollMarginInlineStart:r,scrollPadding:r,scrollPaddingTop:r,scrollPaddingRight:r,scrollPaddingBottom:r,scrollPaddingLeft:r,scrollPaddingX:r,scrollPaddingY:r,scrollPaddingBlock:r,scrollPaddingBlockEnd:r,scrollPaddingBlockStart:r,scrollPaddingInline:r,scrollPaddingInlineEnd:r,scrollPaddingInlineStart:r,fontSize:"fontSizes",background:e,backgroundColor:e,backgroundImage:e,borderImage:e,border:e,borderBlock:e,borderBlockEnd:e,borderBlockStart:e,borderBottom:e,borderBottomColor:e,borderColor:e,borderInline:e,borderInlineEnd:e,borderInlineStart:e,borderLeft:e,borderLeftColor:e,borderRight:e,borderRightColor:e,borderTop:e,borderTopColor:e,caretColor:e,color:e,columnRuleColor:e,fill:e,outline:e,outlineColor:e,stroke:e,textDecorationColor:e,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t,minBlockSize:t,maxBlockSize:t,inlineSize:t,minInlineSize:t,maxInlineSize:t,width:t,minWidth:t,maxWidth:t,height:t,minHeight:t,maxHeight:t,flexBasis:t,gridTemplateColumns:t,gridTemplateRows:t,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i=(dt,lt)=>typeof lt=="function"?{"()":Function.prototype.toString.call(lt)}:lt,o=()=>{const dt=Object.create(null);return(lt,ft,...vt)=>{const St=(Et=>JSON.stringify(Et,i))(lt);return St in dt?dt[St]:dt[St]=ft(lt,...vt)}},l=Symbol.for("sxs.internal"),s=(dt,lt)=>Object.defineProperties(dt,Object.getOwnPropertyDescriptors(lt)),a=dt=>{for(const lt in dt)return!0;return!1},{hasOwnProperty:c}=Object.prototype,d=dt=>dt.includes("-")?dt:dt.replace(/[A-Z]/g,lt=>"-"+lt.toLowerCase()),g=/\s+(?![^()]*\))/,p=dt=>lt=>dt(...typeof lt=="string"?String(lt).split(g):[lt]),u={appearance:dt=>({WebkitAppearance:dt,appearance:dt}),backfaceVisibility:dt=>({WebkitBackfaceVisibility:dt,backfaceVisibility:dt}),backdropFilter:dt=>({WebkitBackdropFilter:dt,backdropFilter:dt}),backgroundClip:dt=>({WebkitBackgroundClip:dt,backgroundClip:dt}),boxDecorationBreak:dt=>({WebkitBoxDecorationBreak:dt,boxDecorationBreak:dt}),clipPath:dt=>({WebkitClipPath:dt,clipPath:dt}),content:dt=>({content:dt.includes('"')||dt.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(dt)?dt:`"${dt}"`}),hyphens:dt=>({WebkitHyphens:dt,hyphens:dt}),maskImage:dt=>({WebkitMaskImage:dt,maskImage:dt}),maskSize:dt=>({WebkitMaskSize:dt,maskSize:dt}),tabSize:dt=>({MozTabSize:dt,tabSize:dt}),textSizeAdjust:dt=>({WebkitTextSizeAdjust:dt,textSizeAdjust:dt}),userSelect:dt=>({WebkitUserSelect:dt,userSelect:dt}),marginBlock:p((dt,lt)=>({marginBlockStart:dt,marginBlockEnd:lt||dt})),marginInline:p((dt,lt)=>({marginInlineStart:dt,marginInlineEnd:lt||dt})),maxSize:p((dt,lt)=>({maxBlockSize:dt,maxInlineSize:lt||dt})),minSize:p((dt,lt)=>({minBlockSize:dt,minInlineSize:lt||dt})),paddingBlock:p((dt,lt)=>({paddingBlockStart:dt,paddingBlockEnd:lt||dt})),paddingInline:p((dt,lt)=>({paddingInlineStart:dt,paddingInlineEnd:lt||dt}))},h=/([\d.]+)([^]*)/,f=(dt,lt)=>dt.length?dt.reduce((ft,vt)=>(ft.push(...lt.map(St=>St.includes("&")?St.replace(/&/g,/[ +>|~]/.test(vt)&&/&.*&/.test(St)?`:is(${vt})`:vt):vt+" "+St)),ft),[]):lt,m=(dt,lt)=>dt in b&&typeof lt=="string"?lt.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(ft,vt,St,Et)=>vt+(St==="stretch"?`-moz-available${Et};${d(dt)}:${vt}-webkit-fill-available`:`-moz-fit-content${Et};${d(dt)}:${vt}fit-content`)+Et):String(lt),b={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S=dt=>dt?dt+"-":"",k=(dt,lt,ft)=>dt.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(vt,St,Et,At,Ct)=>At=="$"==!!Et?vt:(St||At=="--"?"calc(":"")+"var(--"+(At==="$"?S(lt)+(Ct.includes("$")?"":S(ft))+Ct.replace(/\$/g,"-"):Ct)+")"+(St||At=="--"?"*"+(St||"")+(Et||"1")+")":"")),y=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$=(dt,lt,ft,vt,St)=>{let Et,At,Ct;const Tt=(Rt,Bt,Ft)=>{let Dt,kt;const zt=Ht=>{for(Dt in Ht){const Zt=Dt.charCodeAt(0)===64,Wt=Zt&&Array.isArray(Ht[Dt])?Ht[Dt]:[Ht[Dt]];for(kt of Wt){const tn=/[A-Z]/.test(Kt=Dt)?Kt:Kt.replace(/-[^]/g,ln=>ln[1].toUpperCase()),an=typeof kt=="object"&&kt&&kt.toString===B&&(!vt.utils[tn]||!Bt.length);if(tn in vt.utils&&!an){const ln=vt.utils[tn];if(ln!==At){At=ln,zt(ln(kt)),At=null;continue}}else if(tn in u){const ln=u[tn];if(ln!==Ct){Ct=ln,zt(ln(kt)),Ct=null;continue}}if(Zt&&(en=Dt.slice(1)in vt.media?"@media "+vt.media[Dt.slice(1)]:Dt,Dt=en.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(ln,fn,un,pn,xn,An)=>{const gn=h.test(fn),Ln=.0625*(gn?-1:1),[Cn,En]=gn?[pn,fn]:[fn,pn];return"("+(un[0]==="="?"":un[0]===">"===gn?"max-":"min-")+Cn+":"+(un[0]!=="="&&un.length===1?En.replace(h,(yn,Rn,hn)=>Number(Rn)+Ln*(un===">"?1:-1)+hn):En)+(xn?") and ("+(xn[0]===">"?"min-":"max-")+Cn+":"+(xn.length===1?An.replace(h,(yn,Rn,hn)=>Number(Rn)+Ln*(xn===">"?-1:1)+hn):An):"")+")"})),an){const ln=Zt?Ft.concat(Dt):[...Ft],fn=Zt?[...Bt]:f(Bt,Dt.split(y));Et!==void 0&&St(x(...Et)),Et=void 0,Tt(kt,fn,ln)}else Et===void 0&&(Et=[[],Bt,Ft]),Dt=Zt||Dt.charCodeAt(0)!==36?Dt:`--${S(vt.prefix)}${Dt.slice(1).replace(/\$/g,"-")}`,kt=an?kt:typeof kt=="number"?kt&&tn in I?String(kt)+"px":String(kt):k(m(tn,kt??""),vt.prefix,vt.themeMap[tn]),Et[0].push(`${Zt?`${Dt} `:`${d(Dt)}:`}${kt}`)}}var en,Kt};zt(Rt),Et!==void 0&&St(x(...Et)),Et=void 0};Tt(dt,lt,ft)},x=(dt,lt,ft)=>`${ft.map(vt=>`${vt}{`).join("")}${lt.length?`${lt.join(",")}{`:""}${dt.join(";")}${lt.length?"}":""}${Array(ft.length?ft.length+1:0).join("}")}`,I={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=dt=>String.fromCharCode(dt+(dt>25?39:97)),z=dt=>(lt=>{let ft,vt="";for(ft=Math.abs(lt);ft>52;ft=ft/52|0)vt=R(ft%52)+vt;return R(ft%52)+vt})(((lt,ft)=>{let vt=ft.length;for(;vt;)lt=33*lt^ft.charCodeAt(--vt);return lt})(5381,JSON.stringify(dt))>>>0),W=["themed","global","styled","onevar","resonevar","allvar","inline"],j=dt=>{if(dt.href&&!dt.href.startsWith(location.origin))return!1;try{return!!dt.cssRules}catch{return!1}},E=dt=>{let lt;const ft=()=>{const{cssRules:St}=lt.sheet;return[].map.call(St,(Et,At)=>{const{cssText:Ct}=Et;let Tt="";if(Ct.startsWith("--sxs"))return"";if(St[At-1]&&(Tt=St[At-1].cssText).startsWith("--sxs")){if(!Et.cssRules.length)return"";for(const Rt in lt.rules)if(lt.rules[Rt].group===Et)return`--sxs{--sxs:${[...lt.rules[Rt].cache].join(" ")}}${Ct}`;return Et.cssRules.length?`${Tt}${Ct}`:""}return Ct}).join("")},vt=()=>{if(lt){const{rules:Ct,sheet:Tt}=lt;if(!Tt.deleteRule){for(;Object(Object(Tt.cssRules)[0]).type===3;)Tt.cssRules.splice(0,1);Tt.cssRules=[]}for(const Rt in Ct)delete Ct[Rt]}const St=Object(dt).styleSheets||[];for(const Ct of St)if(j(Ct)){for(let Tt=0,Rt=Ct.cssRules;Rt[Tt];++Tt){const Bt=Object(Rt[Tt]);if(Bt.type!==1)continue;const Ft=Object(Rt[Tt+1]);if(Ft.type!==4)continue;++Tt;const{cssText:Dt}=Bt;if(!Dt.startsWith("--sxs"))continue;const kt=Dt.slice(14,-3).trim().split(/\s+/),zt=W[kt[0]];zt&&(lt||(lt={sheet:Ct,reset:vt,rules:{},toString:ft}),lt.rules[zt]={group:Ft,index:Tt,cache:new Set(kt)})}if(lt)break}if(!lt){const Ct=(Tt,Rt)=>({type:Rt,cssRules:[],insertRule(Bt,Ft){this.cssRules.splice(Ft,0,Ct(Bt,{import:3,undefined:1}[(Bt.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return Tt==="@media{}"?`@media{${[].map.call(this.cssRules,Bt=>Bt.cssText).join("")}}`:Tt}});lt={sheet:dt?(dt.head||dt).appendChild(document.createElement("style")).sheet:Ct("","text/css"),rules:{},reset:vt,toString:ft}}const{sheet:Et,rules:At}=lt;for(let Ct=W.length-1;Ct>=0;--Ct){const Tt=W[Ct];if(!At[Tt]){const Rt=W[Ct+1],Bt=At[Rt]?At[Rt].index:Et.cssRules.length;Et.insertRule("@media{}",Bt),Et.insertRule(`--sxs{--sxs:${Ct}}`,Bt),At[Tt]={group:Et.cssRules[Bt+1],index:Bt,cache:new Set([Ct])}}v(At[Tt])}};return vt(),lt},v=dt=>{const lt=dt.group;let ft=lt.cssRules.length;dt.apply=vt=>{try{lt.insertRule(vt,ft),++ft}catch{}}},T=Symbol(),w=o(),M=(dt,lt)=>w(dt,()=>(...ft)=>{let vt={type:null,composers:new Set};for(const St of ft)if(St!=null)if(St[l]){vt.type==null&&(vt.type=St[l].type);for(const Et of St[l].composers)vt.composers.add(Et)}else St.constructor!==Object||St.$$typeof?vt.type==null&&(vt.type=St):vt.composers.add(C(St,dt));return vt.type==null&&(vt.type="span"),vt.composers.size||vt.composers.add(["PJLV",{},[],[],{},[]]),P(dt,vt,lt)}),C=({variants:dt,compoundVariants:lt,defaultVariants:ft,...vt},St)=>{const Et=`${S(St.prefix)}c-${z(vt)}`,At=[],Ct=[],Tt=Object.create(null),Rt=[];for(const Dt in ft)Tt[Dt]=String(ft[Dt]);if(typeof dt=="object"&&dt)for(const Dt in dt){Bt=Tt,Ft=Dt,c.call(Bt,Ft)||(Tt[Dt]="undefined");const kt=dt[Dt];for(const zt in kt){const Ht={[Dt]:String(zt)};String(zt)==="undefined"&&Rt.push(Dt);const en=kt[zt],Kt=[Ht,en,!a(en)];At.push(Kt)}}var Bt,Ft;if(typeof lt=="object"&&lt)for(const Dt of lt){let{css:kt,...zt}=Dt;kt=typeof kt=="object"&&kt||{};for(const en in zt)zt[en]=String(zt[en]);const Ht=[zt,kt,!a(kt)];Ct.push(Ht)}return[Et,vt,At,Ct,Tt,Rt]},P=(dt,lt,ft)=>{const[vt,St,Et,At]=L(lt.composers),Ct=typeof lt.type=="function"||lt.type.$$typeof?(Ft=>{function Dt(){for(let kt=0;kt<Dt[T].length;kt++){const[zt,Ht]=Dt[T][kt];Ft.rules[zt].apply(Ht)}return Dt[T]=[],null}return Dt[T]=[],Dt.rules={},W.forEach(kt=>Dt.rules[kt]={apply:zt=>Dt[T].push([kt,zt])}),Dt})(ft):null,Tt=(Ct||ft).rules,Rt=`.${vt}${St.length>1?`:where(.${St.slice(1).join(".")})`:""}`,Bt=Ft=>{Ft=typeof Ft=="object"&&Ft||A;const{css:Dt,...kt}=Ft,zt={};for(const Kt in Et)if(delete kt[Kt],Kt in Ft){let Zt=Ft[Kt];typeof Zt=="object"&&Zt?zt[Kt]={"@initial":Et[Kt],...Zt}:(Zt=String(Zt),zt[Kt]=Zt!=="undefined"||At.has(Kt)?Zt:Et[Kt])}else zt[Kt]=Et[Kt];const Ht=new Set([...St]);for(const[Kt,Zt,Wt,tn]of lt.composers){ft.rules.styled.cache.has(Kt)||(ft.rules.styled.cache.add(Kt),$(Zt,[`.${Kt}`],[],dt,fn=>{Tt.styled.apply(fn)}));const an=O(Wt,zt,dt.media),ln=O(tn,zt,dt.media,!0);for(const fn of an)if(fn!==void 0)for(const[un,pn,xn]of fn){const An=`${Kt}-${z(pn)}-${un}`;Ht.add(An);const gn=(xn?ft.rules.resonevar:ft.rules.onevar).cache,Ln=xn?Tt.resonevar:Tt.onevar;gn.has(An)||(gn.add(An),$(pn,[`.${An}`],[],dt,Cn=>{Ln.apply(Cn)}))}for(const fn of ln)if(fn!==void 0)for(const[un,pn]of fn){const xn=`${Kt}-${z(pn)}-${un}`;Ht.add(xn),ft.rules.allvar.cache.has(xn)||(ft.rules.allvar.cache.add(xn),$(pn,[`.${xn}`],[],dt,An=>{Tt.allvar.apply(An)}))}}if(typeof Dt=="object"&&Dt){const Kt=`${vt}-i${z(Dt)}-css`;Ht.add(Kt),ft.rules.inline.cache.has(Kt)||(ft.rules.inline.cache.add(Kt),$(Dt,[`.${Kt}`],[],dt,Zt=>{Tt.inline.apply(Zt)}))}for(const Kt of String(Ft.className||"").trim().split(/\s+/))Kt&&Ht.add(Kt);const en=kt.className=[...Ht].join(" ");return{type:lt.type,className:en,selector:Rt,props:kt,toString:()=>en,deferredInjector:Ct}};return s(Bt,{className:vt,selector:Rt,[l]:lt,toString:()=>(ft.rules.styled.cache.has(vt)||Bt(),vt)})},L=dt=>{let lt="";const ft=[],vt={},St=[];for(const[Et,,,,At,Ct]of dt){lt===""&&(lt=Et),ft.push(Et),St.push(...Ct);for(const Tt in At){const Rt=At[Tt];(vt[Tt]===void 0||Rt!=="undefined"||Ct.includes(Rt))&&(vt[Tt]=Rt)}}return[lt,ft,vt,new Set(St)]},O=(dt,lt,ft,vt)=>{const St=[];e:for(let[Et,At,Ct]of dt){if(Ct)continue;let Tt,Rt=0,Bt=!1;for(Tt in Et){const Ft=Et[Tt];let Dt=lt[Tt];if(Dt!==Ft){if(typeof Dt!="object"||!Dt)continue e;{let kt,zt,Ht=0;for(const en in Dt){if(Ft===String(Dt[en])){if(en!=="@initial"){const Kt=en.slice(1);(zt=zt||[]).push(Kt in ft?ft[Kt]:en.replace(/^@media ?/,"")),Bt=!0}Rt+=Ht,kt=!0}++Ht}if(zt&&zt.length&&(At={["@media "+zt.join(", ")]:At}),!kt)continue e}}}(St[Rt]=St[Rt]||[]).push([vt?"cv":`${Tt}-${Et[Tt]}`,At,Bt])}return St},A={},N=o(),D=(dt,lt)=>N(dt,()=>(...ft)=>{const vt=()=>{for(let St of ft){St=typeof St=="object"&&St||{};let Et=z(St);if(!lt.rules.global.cache.has(Et)){if(lt.rules.global.cache.add(Et),"@import"in St){let At=[].indexOf.call(lt.sheet.cssRules,lt.rules.themed.group)-1;for(let Ct of[].concat(St["@import"]))Ct=Ct.includes('"')||Ct.includes("'")?Ct:`"${Ct}"`,lt.sheet.insertRule(`@import ${Ct};`,At++);delete St["@import"]}$(St,[],[],dt,At=>{lt.rules.global.apply(At)})}}return""};return s(vt,{toString:vt})}),H=o(),V=(dt,lt)=>H(dt,()=>ft=>{const vt=`${S(dt.prefix)}k-${z(ft)}`,St=()=>{if(!lt.rules.global.cache.has(vt)){lt.rules.global.cache.add(vt);const Et=[];$(ft,[],[],dt,Ct=>Et.push(Ct));const At=`@keyframes ${vt}{${Et.join("")}}`;lt.rules.global.apply(At)}return vt};return s(St,{get name(){return St()},toString:St})}),G=class{constructor(dt,lt,ft,vt){this.token=dt==null?"":String(dt),this.value=lt==null?"":String(lt),this.scale=ft==null?"":String(ft),this.prefix=vt==null?"":String(vt)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S(this.prefix)+S(this.scale)+this.token}toString(){return this.computedValue}},F=o(),J=(dt,lt)=>F(dt,()=>(ft,vt)=>{vt=typeof ft=="object"&&ft||Object(vt);const St=`.${ft=(ft=typeof ft=="string"?ft:"")||`${S(dt.prefix)}t-${z(vt)}`}`,Et={},At=[];for(const Tt in vt){Et[Tt]={};for(const Rt in vt[Tt]){const Bt=`--${S(dt.prefix)}${Tt}-${Rt}`,Ft=k(String(vt[Tt][Rt]),dt.prefix,Tt);Et[Tt][Rt]=new G(Rt,Ft,Tt,dt.prefix),At.push(`${Bt}:${Ft}`)}}const Ct=()=>{if(At.length&&!lt.rules.themed.cache.has(ft)){lt.rules.themed.cache.add(ft);const Tt=`${vt===dt.theme?":root,":""}.${ft}{${At.join(";")}}`;lt.rules.themed.apply(Tt)}return ft};return{...Et,get className(){return Ct()},selector:St,toString:Ct}}),U=o(),X,Y=o(),q=dt=>{const lt=(ft=>{let vt=!1;const St=U(ft,Et=>{vt=!0;const At="prefix"in(Et=typeof Et=="object"&&Et||{})?String(Et.prefix):"",Ct=typeof Et.media=="object"&&Et.media||{},Tt=typeof Et.root=="object"?Et.root||null:globalThis.document||null,Rt=typeof Et.theme=="object"&&Et.theme||{},Bt={prefix:At,media:Ct,theme:Rt,themeMap:typeof Et.themeMap=="object"&&Et.themeMap||{...n},utils:typeof Et.utils=="object"&&Et.utils||{}},Ft=E(Tt),Dt={css:M(Bt,Ft),globalCss:D(Bt,Ft),keyframes:V(Bt,Ft),createTheme:J(Bt,Ft),reset(){Ft.reset(),Dt.theme.toString()},theme:{},sheet:Ft,config:Bt,prefix:At,getCssText:Ft.toString,toString:Ft.toString};return String(Dt.theme=Dt.createTheme(Rt)),Dt});return vt||St.reset(),St})(dt);return lt.styled=(({config:ft,sheet:vt})=>Y(ft,()=>{const St=M(ft,vt);return(...Et)=>{const At=St(...Et),Ct=At[l].type,Tt=React$1.forwardRef((Rt,Bt)=>{const Ft=Rt&&Rt.as||Ct,{props:Dt,deferredInjector:kt}=At(Rt);return delete Dt.as,Dt.ref=Bt,kt?React$1.createElement(React$1.Fragment,null,React$1.createElement(Ft,Dt),React$1.createElement(kt,null)):React$1.createElement(Ft,Dt)});return Tt.className=At.className,Tt.displayName=`Styled.${Ct.displayName||Ct.name||Ct}`,Tt.selector=At.selector,Tt.toString=()=>At.selector,Tt[l]=At[l],Tt}}))(lt),lt},K=()=>X||(X=q()),re=(...dt)=>K().styled(...dt);const PerfS=re("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),PerfSmallI=re("small",{position:"absolute",right:0,fontSize:"10px"}),PerfI=re("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),PerfB=re("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),PerfIContainer=re("div",{display:"flex"}),ProgramHeader=re("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Graph=re("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),Graphpc=re("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Toggle=re("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ToggleVisible=re("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ProgramGeo=re("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),ProgramTitle=re("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),ContainerScroll=re("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),ProgramsContainer=re("div",{marginTop:"0"}),ProgramsULHeader=re("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),ProgramsUL=re("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),ProgramConsole=re("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),ToggleContainer=re("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),ProgramsGeoLi=re("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function _objectWithoutPropertiesLoose(dt,lt){if(dt==null)return{};var ft={},vt=Object.keys(dt),St,Et;for(Et=0;Et<vt.length;Et++)St=vt[Et],!(lt.indexOf(St)>=0)&&(ft[St]=dt[St]);return ft}var _excluded$1=["color"],ActivityLogIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$1);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$o=["color"],BarChartIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$o);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$H=["color"],ButtonIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1w=["color"],CubeIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$1w);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1H=["color"],DotIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$1H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1W=["color"],DropdownMenuIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$1W);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$25=["color"],EyeNoneIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$25);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$26=["color"],EyeOpenIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$26);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2C=["color"],ImageIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$2C);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2H=["color"],LapTimerIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$2H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2J=["color"],LayersIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$2J);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2Q=["color"],LightningBoltIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$2Q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$34=["color"],MarginIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$34);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$37=["color"],MinusIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$37);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3m=["color"],PauseIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$3m);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3H=["color"],RocketIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$3H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3L=["color"],RulerHorizontalIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$3L);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4q=["color"],TextAlignJustifyIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$4q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4H=["color"],TriangleDownIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$4H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:vt}))}),_excluded$4K=["color"],TriangleUpIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$4K);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:vt}))}),_excluded$4R=["color"],VercelLogoIcon=reactExports.forwardRef(function(dt,lt){var ft=dt.color,vt=ft===void 0?"currentColor":ft,St=_objectWithoutPropertiesLoose(dt,_excluded$4R);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))});const TextHighHZ=reactExports.memo(({isPerf:dt,color:lt,colorBlind:ft,customData:vt,isMemory:St,isShadersInfo:Et,metric:At,fontSize:Ct,offsetY:Tt=0,offsetX:Rt,round:Bt,hasInstance:Ft})=>{const{width:Dt,height:kt}=useThree(en=>en.viewport),zt=reactExports.useRef(null),Ht=reactExports.useRef(null);return useEvent("log",function([Kt,Zt]){var Wt;if(!Kt||!zt.current||(vt&&(zt.current.text=(Math.round(getPerf().customData*Math.pow(10,Bt))/Math.pow(10,Bt)).toFixed(Bt)),!At))return;let tn=Kt[At];if(Et?tn=(Wt=Zt.info.programs)==null?void 0:Wt.length:At==="matriceCount"?tn=matriceCount.value:!dt&&Zt.info.render&&(tn=(St?Zt.info.memory:Zt.info.render)[At]),At==="fps"&&(zt.current.color=getPerf().overclockingFps?colorsGraph(ft).overClock.toString():`rgb(${colorsGraph(ft).fps.toString()})`),zt.current.text=(Math.round(tn*Math.pow(10,Bt))/Math.pow(10,Bt)).toFixed(Bt),Ft){const an=Zt.info.instance;if(typeof an>"u"&&At!=="matriceCount")return;let ln;At==="matriceCount"?ln=matriceWorldCount.value:ln=an[At],ln>0?(zt.current.fontSize=Ct/1.15,Ht.current.fontSize=tn>0?Ct/1.4:Ct,zt.current.position.y=kt/2-Tt-Ct/1.9,Ht.current.text=" ±	"+(Math.round(ln*Math.pow(10,Bt))/Math.pow(10,Bt)).toFixed(Bt)):(Ht.current.text&&(Ht.current.text=""),zt.current.position.y=kt/2-Tt-Ct,zt.current.fontSize=Ct)}matriceCount.value-=1,zt.current.updateMatrix(),zt.current.matrixWorld.copy(zt.current.matrix)}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsxs(Text,{textAlign:"justify",matrixAutoUpdate:!1,ref:zt,fontSize:Ct,position:[-Dt/2+Rt+Ct,kt/2-Tt-Ct,0],color:lt,characters:"0123456789",onUpdate:en=>{en.updateMatrix(),matriceCount.value-=1,en.matrixWorld.copy(en.matrix)},children:[jsxRuntimeExports.jsx("meshBasicMaterial",{blending:NormalBlending}),"0"]}),Ft&&jsxRuntimeExports.jsx(Text,{textAlign:"justify",matrixAutoUpdate:!1,ref:Ht,fontSize:8,position:[-Dt/2+Rt+Ct,kt/2-Tt-Ct*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:en=>{en.updateMatrix(),matriceCount.value-=1,en.matrixWorld.copy(en.matrix)},children:jsxRuntimeExports.jsx("meshBasicMaterial",{blending:NormalBlending})})]})}),TextsHighHZ=({colorBlind:dt,customData:lt,minimal:ft,matrixUpdate:vt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextHighHZ,{colorBlind:dt,color:`rgb(${colorsGraph(dt).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(dt).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(dt).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),ft?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextHighHZ,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),vt&&jsxRuntimeExports.jsx(TextHighHZ,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),lt&&jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(dt).custom.toString()})`,customData:lt,fontSize:14,offsetY:0,offsetX:ft?200:320,round:lt.round||2})]}),ChartCurve=({colorBlind:dt,minimal:lt,chart:ft={length:120,hz:60}})=>{const vt=reactExports.useMemo(()=>({fps:new Float32Array(ft.length*3),cpu:new Float32Array(ft.length*3),gpu:new Float32Array(ft.length*3)}),[ft]),St=reactExports.useRef(null),Et=reactExports.useRef(null),At=reactExports.useRef(null),Ct=reactExports.useRef(null),Tt=reactExports.useMemo(()=>new Vector3(0,0,0),[]),Rt=(Bt,Ft=1,Dt,kt)=>{let zt=0;const{width:Ht,height:en}=kt,Kt=getPerf().chart.data[Bt];if(!Kt||Kt.length===0)return;const Zt=lt?2:6,Wt=lt?12:50;let tn=Kt.length;for(let an=0;an<tn;an++){let ln=(getPerf().chart.circularId+an+1)%tn;Kt[ln]!==void 0&&(Kt[ln]>zt&&(zt=Kt[ln]*Ft),Tt.set(Zt+an/(tn-1)*(Ht-Zt*2)-Ht/2,Math.min(100,Kt[ln])*Ft/100*(en-Zt*2-Wt)-en/2,0),Tt.toArray(Dt.attributes.position.array,an*3))}Dt.attributes.position.needsUpdate=!0};return useFrame(function({viewport:Ft}){Rt("fps",1,St.current,Ft),Et.current&&Et.current.color.set(getPerf().overclockingFps?colorsGraph(dt).overClock.toString():`rgb(${colorsGraph(dt).fps.toString()})`),Rt("gpu",5,At.current,Ft),Rt("cpu",5,Ct.current,Ft)}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("line",{onUpdate:Bt=>{Bt.updateMatrix(),matriceCount.value-=1,Bt.matrixWorld.copy(Bt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:St,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:ft.length,array:vt.fps,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{ref:Et,color:`rgb(${colorsGraph(dt).fps.toString()})`,transparent:!0,opacity:.5})]}),jsxRuntimeExports.jsxs("line",{onUpdate:Bt=>{Bt.updateMatrix(),matriceCount.value-=1,Bt.matrixWorld.copy(Bt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:At,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:ft.length,array:vt.gpu,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{color:`rgb(${colorsGraph(dt).gpu.toString()})`,transparent:!0,opacity:.5})]}),jsxRuntimeExports.jsxs("line",{onUpdate:Bt=>{Bt.updateMatrix(),matriceCount.value-=1,Bt.matrixWorld.copy(Bt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:Ct,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:ft.length,array:vt.cpu,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{color:`rgb(${colorsGraph(dt).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},ChartUI=({colorBlind:dt,chart:lt,customData:ft,matrixUpdate:vt,showGraph:St=!0,antialias:Et=!0,minimal:At})=>{const Ct=reactExports.useRef(void 0),Tt=usePerf(Rt=>Rt.paused);return jsxRuntimeExports.jsxs(Graph,{style:{display:"flex",position:"absolute",height:`${At?37:St?100:60}px`,minWidth:`${At?"100px":ft?"370px":"310px"}`},children:[jsxRuntimeExports.jsx(Canvas,{ref:Ct,orthographic:!0,dpr:Et?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:Rt})=>{Rt.traverse(Bt=>{Bt.matrixWorldAutoUpdate=!1,Bt.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${At?37:St?100:60}px`},children:Tt?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Renderer,{}),jsxRuntimeExports.jsx(TextsHighHZ,{customData:ft,minimal:At,matrixUpdate:vt}),St&&jsxRuntimeExports.jsx(ChartCurve,{colorBlind:dt,minimal:At,chart:lt})]})}),Tt&&jsxRuntimeExports.jsxs(Graphpc,{children:[jsxRuntimeExports.jsx(PauseIcon,{})," PAUSED"]})]})},Renderer=()=>(useFrame(function({gl:lt,scene:ft,camera:vt}){vt.updateMatrix(),matriceCount.value-=1,vt.matrixWorld.copy(vt.matrix),vt.matrixWorldInverse.copy(vt.matrixWorld).invert(),lt.render(ft,vt),matriceWorldCount.value=0,matriceCount.value=0},1/0),null),HtmlMinimal=reactExports.forwardRef(({portal:dt,className:lt,children:ft,name:vt,...St},Et)=>{const At=useThree(Bt=>Bt.gl),Ct=reactExports.useRef(null),Tt=reactExports.useRef(null),Rt=(dt==null?void 0:dt.current)!=null?dt.current:At.domElement.parentNode;return reactExports.useLayoutEffect(()=>{if(!Ct.current||!Rt)return;const Bt=document.createElement("div"),Ft=Tt.current=createRoot$1(Bt);return Rt.appendChild(Bt),()=>{Ft.unmount(),Tt.current=null,Rt.removeChild(Bt)}},[Rt]),reactExports.useLayoutEffect(()=>{const Bt=Tt.current;Bt&&Bt.render(jsxRuntimeExports.jsx("div",{ref:Et,className:lt,children:ft}))}),jsxRuntimeExports.jsx("group",{name:vt,...St,ref:Ct})});function estimateBytesUsed(dt){let lt=0;for(let vt in dt.attributes){const St=dt.getAttribute(vt);lt+=St.count*St.itemSize*St.array.BYTES_PER_ELEMENT}const ft=dt.getIndex();return lt+=ft?ft.count*ft.itemSize*ft.array.BYTES_PER_ELEMENT:0,lt}const addTextureUniforms=(dt,lt)=>{const ft=St=>{switch(St){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},vt=St=>{switch(St){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:dt,url:lt.image.currentSrc,encoding:vt(lt.encoding),wrapT:ft(lt.wrapT),flipY:lt.flipY.toString()}},UniformsGL=({program:dt,material:lt,setTexNumber:ft})=>{const vt=usePerf(At=>At.gl),[St,Et]=reactExports.useState(null);return reactExports.useEffect(()=>{if(vt){const At=dt==null?void 0:dt.getUniforms();let Ct=0;const Tt=new Map;At.seq.forEach(Rt=>{if(!Rt.id.includes("uTroika")&&Rt.id!=="isOrthographic"&&Rt.id!=="uvTransform"&&Rt.id!=="lightProbe"&&Rt.id!=="projectionMatrix"&&Rt.id!=="viewMatrix"&&Rt.id!=="normalMatrix"&&Rt.id!=="modelMatrix"&&Rt.id!=="modelViewMatrix"){let Bt=[],Ft={name:Rt.id};Rt.cache&&(Rt.cache.forEach(Dt=>{typeof Dt<"u"&&Bt.push(Dt.toString().substring(0,4))}),Ft.value=Bt.join(),lt[Rt.id]&&lt[Rt.id].image&&lt[Rt.id].image&&(Ct++,Ft.value=addTextureUniforms(Rt.id,lt[Rt.id])),Ft.value||(Ft.value="empty"),Tt.set(Rt.id,Ft))}}),lt.uniforms&&Object.keys(lt.uniforms).forEach(Rt=>{const Bt=lt.uniforms[Rt];if(Bt.value){const{value:Ft}=Bt;let Dt={name:Rt};if(Rt.includes("uTroika"))return;if(Ft.isTexture)Ct++,Dt.value=addTextureUniforms(Rt,Ft);else{let kt=JSON.stringify(Ft);try{kt=JSON.stringify(Ft)}catch{kt=Ft.toString()}Dt.value=kt}Tt.set(Rt,Dt)}}),Ct>0&&ft(Ct),Et(Tt)}},[]),jsxRuntimeExports.jsx(ProgramsUL,{children:St&&Array.from(St.values()).map(At=>jsxRuntimeExports.jsx("span",{children:typeof At.value=="string"?jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("span",{children:[At.name," :"," ",jsxRuntimeExports.jsxs("b",{children:[At.value.substring(0,30),At.value.length>30?"...":""]})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("b",{children:[At.value.name,":"]})}),jsxRuntimeExports.jsxs("div",{children:[Object.keys(At.value).map(Ct=>Ct!=="name"?jsxRuntimeExports.jsx("div",{children:Ct==="url"?jsxRuntimeExports.jsx("a",{href:At.value[Ct],target:"_blank",children:jsxRuntimeExports.jsx("img",{src:At.value[Ct]})}):jsxRuntimeExports.jsxs("li",{children:[Ct,": ",jsxRuntimeExports.jsx("b",{children:At.value[Ct]})]})},Ct):null),jsxRuntimeExports.jsxs(ProgramConsole,{onClick:()=>{var Ct;console.info(lt[At.value.name]||((Ct=lt==null?void 0:lt.uniforms[At.value.name])==null?void 0:Ct.value))},children:["console.info(",At.value.name,");"]})]})]})},At.name))})},DynamicDrawCallInfo=({el:dt})=>{usePerf(vt=>vt.log);const lt=usePerf(vt=>vt.gl),ft=vt=>{if(!lt)return 0;const St=Math.round(vt.drawCounts.total/(lt.info.render.triangles+lt.info.render.lines+lt.info.render.points)*100*10)/10;return isFinite(St)&&St||0};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:dt.drawCounts.total>0&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[dt.drawCounts.type==="Triangle"?jsxRuntimeExports.jsx(VercelLogoIcon,{style:{top:"-1px"}}):jsxRuntimeExports.jsx(ActivityLogIcon,{style:{top:"-1px"}}),dt.drawCounts.total,jsxRuntimeExports.jsxs("small",{children:[dt.drawCounts.type,"s"]}),lt&&jsxRuntimeExports.jsxs(PerfB,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[dt.visible&&!dt.material.wireframe?ft(dt):0,"%"]})]})})},ProgramUI=({el:dt})=>{const[lt,ft]=reactExports.useState(dt.visible),[vt,St]=reactExports.useState(dt.expand),[Et,At]=reactExports.useState(0),{meshes:Ct,program:Tt,material:Rt}=dt;return jsxRuntimeExports.jsxs(ProgramGeo,{children:[jsxRuntimeExports.jsxs(ProgramHeader,{onClick:()=>{dt.expand=!vt,Object.keys(Ct).forEach(Bt=>{const Ft=Ct[Bt];Ft.material.wireframe=!1}),St(!vt)},children:[jsxRuntimeExports.jsx(Toggle,{style:{marginRight:"6px"},children:vt?jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(TriangleDownIcon,{})}):jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(TriangleUpIcon,{})})}),Tt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(ProgramTitle,{children:Tt.name}),jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[jsxRuntimeExports.jsx(LayersIcon,{style:{top:"-1px"}}),Object.keys(Ct).length,jsxRuntimeExports.jsx("small",{children:Object.keys(Ct).length>1?"users":"user"})]}),Et>0&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[Et>1?jsxRuntimeExports.jsx(ImageIcon,{style:{top:"-1px"}}):jsxRuntimeExports.jsx(ImageIcon,{style:{top:"-1px"}}),Et,jsxRuntimeExports.jsx("small",{children:"tex"})]}),jsxRuntimeExports.jsx(DynamicDrawCallInfo,{el:dt}),Rt.glslVersion==="300 es"&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[jsxRuntimeExports.jsx(RocketIcon,{style:{top:"-1px"}}),"300",jsxRuntimeExports.jsx("small",{children:"es"}),jsxRuntimeExports.jsx(PerfB,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),jsxRuntimeExports.jsx(ToggleVisible,{onPointerEnter:()=>{Object.keys(Ct).forEach(Bt=>{const Ft=Ct[Bt];Ft.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(Ct).forEach(Bt=>{const Ft=Ct[Bt];Ft.material.wireframe=!1})},onClick:Bt=>{Bt.stopPropagation(),Object.keys(Ct).forEach(Ft=>{const Dt=Ct[Ft],kt=!lt;Dt.visible=kt,dt.visible=kt,ft(kt)})},children:lt?jsxRuntimeExports.jsx(EyeOpenIcon,{}):jsxRuntimeExports.jsx(EyeNoneIcon,{})})]}),jsxRuntimeExports.jsxs("div",{style:{maxHeight:vt?"9999px":0,overflow:"hidden"},children:[jsxRuntimeExports.jsxs(ProgramsULHeader,{children:[jsxRuntimeExports.jsx(ButtonIcon,{})," Uniforms:"]}),jsxRuntimeExports.jsx(UniformsGL,{program:Tt,material:Rt,setTexNumber:At}),jsxRuntimeExports.jsxs(ProgramsULHeader,{children:[jsxRuntimeExports.jsx(CubeIcon,{})," Geometries:"]}),jsxRuntimeExports.jsx(ProgramsUL,{children:Ct&&Object.keys(Ct).map(Bt=>Ct[Bt]&&Ct[Bt].geometry&&jsxRuntimeExports.jsxs(ProgramsGeoLi,{children:[jsxRuntimeExports.jsxs("span",{children:[Ct[Bt].geometry.type,": "]}),Ct[Bt].userData&&Ct[Bt].userData.drawCount&&jsxRuntimeExports.jsxs("b",{children:[jsxRuntimeExports.jsxs("div",{children:[Ct[Bt].userData.drawCount.count,jsxRuntimeExports.jsxs("small",{children:[" ",Ct[Bt].userData.drawCount.type,"s"]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:[Math.round(estimateBytesUsed(Ct[Bt].geometry)/1024*1e3)/1e3,"Kb",jsxRuntimeExports.jsx("small",{children:" memory used"})]})]})]},Bt))}),jsxRuntimeExports.jsxs(ProgramConsole,{onClick:()=>{console.info(Rt)},children:["console.info(",Rt.type,")"]})]})]})},ProgramsUI=()=>{usePerf(lt=>lt.triggerProgramsUpdate);const dt=usePerf(lt=>lt.programs);return jsxRuntimeExports.jsx(ProgramsContainer,{children:dt&&Array.from(dt.values()).map(lt=>lt&&lt?jsxRuntimeExports.jsx(ProgramUI,{el:lt},lt.material.uuid):null)})},colorsGraph=dt=>({overClock:"#ff6eff",fps:dt?"100, 143, 255":"238,38,110",cpu:dt?"254, 254, 98":"66,226,46",gpu:dt?"254,254,254":"253,151,31",custom:dt?"86,180,233":"40,255,255"}),DynamicUIPerf=({showGraph:dt,colorBlind:lt})=>{const ft=usePerf(St=>St.overclockingFps),vt=usePerf(St=>St.fpsLimit);return jsxRuntimeExports.jsxs(PerfB,{style:dt?{color:ft?colorsGraph(lt).overClock.toString():`rgb(${colorsGraph(lt).fps})`}:{},children:["FPS ",ft?`${vt}🚀`:""]})},DynamicUI=({showGraph:dt,colorBlind:lt,customData:ft,minimal:vt})=>{const St=usePerf(Et=>Et.gl);return St?jsxRuntimeExports.jsxs(PerfIContainer,{children:[jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(LightningBoltIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:dt?{color:`rgb(${colorsGraph(lt).gpu.toString()})`}:{},children:"GPU"}),jsxRuntimeExports.jsx(PerfSmallI,{children:"ms"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(RulerHorizontalIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:dt?{color:`rgb(${colorsGraph(lt).cpu.toString()})`}:{},children:"CPU"}),jsxRuntimeExports.jsx(PerfSmallI,{children:"ms"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(LapTimerIcon,{}),jsxRuntimeExports.jsx(DynamicUIPerf,{showGraph:dt,colorBlind:lt})]}),!vt&&St&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(TextAlignJustifyIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:St.info.render.calls===1?"call":"calls"})]}),!vt&&St&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(VercelLogoIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Triangles"})]}),ft&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(BarChartIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:dt?{color:`rgb(${colorsGraph(lt).custom})`}:{},children:ft.name}),ft.info&&jsxRuntimeExports.jsx(PerfSmallI,{children:ft.info})]})]}):null},PerfUI=({showGraph:dt,colorBlind:lt,deepAnalyze:ft,customData:vt,matrixUpdate:St,openByDefault:Et,minimal:At})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DynamicUI,{showGraph:dt,colorBlind:lt,customData:vt,minimal:At}),!At&&jsxRuntimeExports.jsx(PerfThree,{matrixUpdate:St,openByDefault:Et,deepAnalyze:ft,showGraph:dt})]}),InfoUI=({matrixUpdate:dt})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(MarginIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Geometries"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(ImageIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Textures"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(ActivityLogIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"shaders"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(MinusIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Lines"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(DotIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Points"})]}),dt&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(DropdownMenuIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Matrices"})]})]}),ToggleEl=({tab:dt,title:lt,set:ft})=>{const vt=usePerf(St=>St.tab);return jsxRuntimeExports.jsx(Toggle,{className:`${vt===dt?" __perf_toggle_tab_active":""}`,onClick:()=>{ft(!0),setPerf({tab:dt})},children:jsxRuntimeExports.jsx("span",{children:lt})})},PerfThree=({openByDefault:dt,showGraph:lt,deepAnalyze:ft,matrixUpdate:vt})=>{const[St,Et]=React$1.useState(dt);return jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TabContainers,{show:St,showGraph:lt,matrixUpdate:vt}),dt&&!ft?null:jsxRuntimeExports.jsxs(ToggleContainer,{className:"__perf_toggle",children:[ft&&jsxRuntimeExports.jsx(ToggleEl,{tab:"programs",title:"Programs",set:Et}),ft&&jsxRuntimeExports.jsx(ToggleEl,{tab:"infos",title:"Infos",set:Et}),jsxRuntimeExports.jsx(Toggle,{onClick:()=>{Et(!St)},children:St?jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TriangleDownIcon,{})," Minimize"]}):jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TriangleUpIcon,{})," More"]})})]})]})},TabContainers=({show:dt,showGraph:lt,matrixUpdate:ft})=>{const vt=usePerf(St=>St.tab);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoUI,{matrixUpdate:ft}),dt&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ContainerScroll,{style:{marginTop:lt?"38px":0},children:vt==="programs"&&jsxRuntimeExports.jsx(ProgramsUI,{})})})]})},Perf=({showGraph:dt=!0,colorBlind:lt=!1,openByDefault:ft=!0,className:vt,overClock:St=!1,style:Et,position:At="top-right",chart:Ct,logsPerSecond:Tt,deepAnalyze:Rt=!1,antialias:Bt=!0,customData:Ft,matrixUpdate:Dt,minimal:kt})=>{const zt=reactExports.useRef(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PerfHeadless,{logsPerSecond:Tt,chart:Ct,overClock:St,deepAnalyze:Rt,matrixUpdate:Dt}),jsxRuntimeExports.jsx(HtmlMinimal,{name:"r3f-perf",children:jsxRuntimeExports.jsxs(PerfS,{className:(vt?" ".concat(vt):" ")+` ${At||""} ${kt?"minimal":""}`,style:{minHeight:kt?"37px":dt?"100px":"60px",...Et},ref:zt,children:[jsxRuntimeExports.jsx(ChartUI,{perfContainerRef:zt,colorBlind:lt,chart:Ct,showGraph:dt,antialias:Bt,customData:Ft,minimal:kt,matrixUpdate:Dt}),jsxRuntimeExports.jsx(PerfUI,{colorBlind:lt,showGraph:dt,deepAnalyze:Rt,openByDefault:ft,customData:Ft,matrixUpdate:Dt,minimal:kt})]})})]})};var dist={},blocks={};(function(dt){Object.defineProperty(dt,"__esModule",{value:!0}),dt.BLOCKS=void 0,function(lt){lt.DOCUMENT="document",lt.PARAGRAPH="paragraph",lt.HEADING_1="heading-1",lt.HEADING_2="heading-2",lt.HEADING_3="heading-3",lt.HEADING_4="heading-4",lt.HEADING_5="heading-5",lt.HEADING_6="heading-6",lt.OL_LIST="ordered-list",lt.UL_LIST="unordered-list",lt.LIST_ITEM="list-item",lt.HR="hr",lt.QUOTE="blockquote",lt.EMBEDDED_ENTRY="embedded-entry-block",lt.EMBEDDED_ASSET="embedded-asset-block",lt.EMBEDDED_RESOURCE="embedded-resource-block",lt.TABLE="table",lt.TABLE_ROW="table-row",lt.TABLE_CELL="table-cell",lt.TABLE_HEADER_CELL="table-header-cell"}(dt.BLOCKS||(dt.BLOCKS={}))})(blocks);var inlines={};(function(dt){Object.defineProperty(dt,"__esModule",{value:!0}),dt.INLINES=void 0,function(lt){lt.HYPERLINK="hyperlink",lt.ENTRY_HYPERLINK="entry-hyperlink",lt.ASSET_HYPERLINK="asset-hyperlink",lt.EMBEDDED_ENTRY="embedded-entry-inline"}(dt.INLINES||(dt.INLINES={}))})(inlines);var marks={};Object.defineProperty(marks,"__esModule",{value:!0});var MARKS;(function(dt){dt.BOLD="bold",dt.ITALIC="italic",dt.UNDERLINE="underline",dt.CODE="code",dt.SUPERSCRIPT="superscript",dt.SUBSCRIPT="subscript"})(MARKS||(MARKS={}));marks.default=MARKS;var schemaConstraints={};(function(dt){var lt=commonjsGlobal&&commonjsGlobal.__spreadArray||function(Ct,Tt,Rt){if(Rt||arguments.length===2)for(var Bt=0,Ft=Tt.length,Dt;Bt<Ft;Bt++)(Dt||!(Bt in Tt))&&(Dt||(Dt=Array.prototype.slice.call(Tt,0,Bt)),Dt[Bt]=Tt[Bt]);return Ct.concat(Dt||Array.prototype.slice.call(Tt))},ft=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}},vt;Object.defineProperty(dt,"__esModule",{value:!0}),dt.V1_MARKS=dt.V1_NODE_TYPES=dt.TEXT_CONTAINERS=dt.HEADINGS=dt.CONTAINERS=dt.VOID_BLOCKS=dt.TABLE_BLOCKS=dt.LIST_ITEM_BLOCKS=dt.TOP_LEVEL_BLOCKS=void 0;var St=blocks,Et=inlines,At=ft(marks);dt.TOP_LEVEL_BLOCKS=[St.BLOCKS.PARAGRAPH,St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6,St.BLOCKS.OL_LIST,St.BLOCKS.UL_LIST,St.BLOCKS.HR,St.BLOCKS.QUOTE,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,St.BLOCKS.EMBEDDED_RESOURCE,St.BLOCKS.TABLE],dt.LIST_ITEM_BLOCKS=[St.BLOCKS.PARAGRAPH,St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6,St.BLOCKS.OL_LIST,St.BLOCKS.UL_LIST,St.BLOCKS.HR,St.BLOCKS.QUOTE,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,St.BLOCKS.EMBEDDED_RESOURCE],dt.TABLE_BLOCKS=[St.BLOCKS.TABLE,St.BLOCKS.TABLE_ROW,St.BLOCKS.TABLE_CELL,St.BLOCKS.TABLE_HEADER_CELL],dt.VOID_BLOCKS=[St.BLOCKS.HR,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,St.BLOCKS.EMBEDDED_RESOURCE],dt.CONTAINERS=(vt={},vt[St.BLOCKS.OL_LIST]=[St.BLOCKS.LIST_ITEM],vt[St.BLOCKS.UL_LIST]=[St.BLOCKS.LIST_ITEM],vt[St.BLOCKS.LIST_ITEM]=dt.LIST_ITEM_BLOCKS,vt[St.BLOCKS.QUOTE]=[St.BLOCKS.PARAGRAPH],vt[St.BLOCKS.TABLE]=[St.BLOCKS.TABLE_ROW],vt[St.BLOCKS.TABLE_ROW]=[St.BLOCKS.TABLE_CELL,St.BLOCKS.TABLE_HEADER_CELL],vt[St.BLOCKS.TABLE_CELL]=[St.BLOCKS.PARAGRAPH],vt[St.BLOCKS.TABLE_HEADER_CELL]=[St.BLOCKS.PARAGRAPH],vt),dt.HEADINGS=[St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6],dt.TEXT_CONTAINERS=lt([St.BLOCKS.PARAGRAPH],dt.HEADINGS,!0),dt.V1_NODE_TYPES=[St.BLOCKS.DOCUMENT,St.BLOCKS.PARAGRAPH,St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6,St.BLOCKS.OL_LIST,St.BLOCKS.UL_LIST,St.BLOCKS.LIST_ITEM,St.BLOCKS.HR,St.BLOCKS.QUOTE,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,Et.INLINES.HYPERLINK,Et.INLINES.ENTRY_HYPERLINK,Et.INLINES.ASSET_HYPERLINK,Et.INLINES.EMBEDDED_ENTRY,"text"],dt.V1_MARKS=[At.default.BOLD,At.default.CODE,At.default.ITALIC,At.default.UNDERLINE]})(schemaConstraints);var types={};Object.defineProperty(types,"__esModule",{value:!0});var nodeTypes={};Object.defineProperty(nodeTypes,"__esModule",{value:!0});var emptyDocument={};Object.defineProperty(emptyDocument,"__esModule",{value:!0});var blocks_1$1=blocks,EMPTY_DOCUMENT={nodeType:blocks_1$1.BLOCKS.DOCUMENT,data:{},content:[{nodeType:blocks_1$1.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};emptyDocument.default=EMPTY_DOCUMENT;var helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.isText=helpers.isBlock=helpers.isInline=void 0;var blocks_1=blocks,inlines_1=inlines;function hasValue(dt,lt){for(var ft=0,vt=Object.keys(dt);ft<vt.length;ft++){var St=vt[ft];if(lt===dt[St])return!0}return!1}function isInline(dt){return hasValue(inlines_1.INLINES,dt.nodeType)}helpers.isInline=isInline;function isBlock(dt){return hasValue(blocks_1.BLOCKS,dt.nodeType)}helpers.isBlock=isBlock;function isText(dt){return dt.nodeType==="text"}helpers.isText=isText;(function(dt){var lt=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ft,Dt,kt,zt){zt===void 0&&(zt=kt);var Ht=Object.getOwnPropertyDescriptor(Dt,kt);(!Ht||("get"in Ht?!Dt.__esModule:Ht.writable||Ht.configurable))&&(Ht={enumerable:!0,get:function(){return Dt[kt]}}),Object.defineProperty(Ft,zt,Ht)}:function(Ft,Dt,kt,zt){zt===void 0&&(zt=kt),Ft[zt]=Dt[kt]}),ft=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ft,Dt){Object.defineProperty(Ft,"default",{enumerable:!0,value:Dt})}:function(Ft,Dt){Ft.default=Dt}),vt=commonjsGlobal&&commonjsGlobal.__exportStar||function(Ft,Dt){for(var kt in Ft)kt!=="default"&&!Object.prototype.hasOwnProperty.call(Dt,kt)&&lt(Dt,Ft,kt)},St=commonjsGlobal&&commonjsGlobal.__importStar||function(Ft){if(Ft&&Ft.__esModule)return Ft;var Dt={};if(Ft!=null)for(var kt in Ft)kt!=="default"&&Object.prototype.hasOwnProperty.call(Ft,kt)&&lt(Dt,Ft,kt);return ft(Dt,Ft),Dt},Et=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ft){return Ft&&Ft.__esModule?Ft:{default:Ft}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.helpers=dt.EMPTY_DOCUMENT=dt.MARKS=dt.INLINES=dt.BLOCKS=void 0;var At=blocks;Object.defineProperty(dt,"BLOCKS",{enumerable:!0,get:function(){return At.BLOCKS}});var Ct=inlines;Object.defineProperty(dt,"INLINES",{enumerable:!0,get:function(){return Ct.INLINES}});var Tt=marks;Object.defineProperty(dt,"MARKS",{enumerable:!0,get:function(){return Et(Tt).default}}),vt(schemaConstraints,dt),vt(types,dt),vt(nodeTypes,dt);var Rt=emptyDocument;Object.defineProperty(dt,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return Et(Rt).default}});var Bt=St(helpers);dt.helpers=Bt})(dist);var richTextReactRenderer_es5={};(function(dt){Object.defineProperty(dt,"__esModule",{value:!0});function lt(Cn){return Cn&&typeof Cn=="object"&&"default"in Cn?Cn.default:Cn}var ft=reactExports,vt=lt(ft);/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var St=function(){return St=Object.assign||function(En){for(var yn,Rn=1,hn=arguments.length;Rn<hn;Rn++){yn=arguments[Rn];for(var mn in yn)Object.prototype.hasOwnProperty.call(yn,mn)&&(En[mn]=yn[mn])}return En},St.apply(this,arguments)},Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function At(Cn){return Cn&&Cn.__esModule&&Object.prototype.hasOwnProperty.call(Cn,"default")?Cn.default:Cn}function Ct(Cn,En){return En={exports:{}},Cn(En,En.exports),En.exports}var Tt=Ct(function(Cn,En){Object.defineProperty(En,"__esModule",{value:!0}),En.BLOCKS=void 0,function(yn){yn.DOCUMENT="document",yn.PARAGRAPH="paragraph",yn.HEADING_1="heading-1",yn.HEADING_2="heading-2",yn.HEADING_3="heading-3",yn.HEADING_4="heading-4",yn.HEADING_5="heading-5",yn.HEADING_6="heading-6",yn.OL_LIST="ordered-list",yn.UL_LIST="unordered-list",yn.LIST_ITEM="list-item",yn.HR="hr",yn.QUOTE="blockquote",yn.EMBEDDED_ENTRY="embedded-entry-block",yn.EMBEDDED_ASSET="embedded-asset-block",yn.EMBEDDED_RESOURCE="embedded-resource-block",yn.TABLE="table",yn.TABLE_ROW="table-row",yn.TABLE_CELL="table-cell",yn.TABLE_HEADER_CELL="table-header-cell"}(En.BLOCKS||(En.BLOCKS={}))});At(Tt),Tt.BLOCKS;var Rt=Ct(function(Cn,En){Object.defineProperty(En,"__esModule",{value:!0}),En.INLINES=void 0,function(yn){yn.HYPERLINK="hyperlink",yn.ENTRY_HYPERLINK="entry-hyperlink",yn.ASSET_HYPERLINK="asset-hyperlink",yn.EMBEDDED_ENTRY="embedded-entry-inline"}(En.INLINES||(En.INLINES={}))});At(Rt),Rt.INLINES;var Bt=Ct(function(Cn,En){Object.defineProperty(En,"__esModule",{value:!0});var yn;(function(Rn){Rn.BOLD="bold",Rn.ITALIC="italic",Rn.UNDERLINE="underline",Rn.CODE="code",Rn.SUPERSCRIPT="superscript",Rn.SUBSCRIPT="subscript"})(yn||(yn={})),En.default=yn});At(Bt);var Ft=Ct(function(Cn,En){var yn=Et&&Et.__spreadArray||function(bn,Mn,Tn){if(Tn||arguments.length===2)for(var In=0,Nn=Mn.length,$n;In<Nn;In++)($n||!(In in Mn))&&($n||($n=Array.prototype.slice.call(Mn,0,In)),$n[In]=Mn[In]);return bn.concat($n||Array.prototype.slice.call(Mn))},Rn=Et&&Et.__importDefault||function(bn){return bn&&bn.__esModule?bn:{default:bn}},hn;Object.defineProperty(En,"__esModule",{value:!0}),En.V1_MARKS=En.V1_NODE_TYPES=En.TEXT_CONTAINERS=En.HEADINGS=En.CONTAINERS=En.VOID_BLOCKS=En.TABLE_BLOCKS=En.LIST_ITEM_BLOCKS=En.TOP_LEVEL_BLOCKS=void 0;var mn=Rn(Bt);En.TOP_LEVEL_BLOCKS=[Tt.BLOCKS.PARAGRAPH,Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6,Tt.BLOCKS.OL_LIST,Tt.BLOCKS.UL_LIST,Tt.BLOCKS.HR,Tt.BLOCKS.QUOTE,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Tt.BLOCKS.EMBEDDED_RESOURCE,Tt.BLOCKS.TABLE],En.LIST_ITEM_BLOCKS=[Tt.BLOCKS.PARAGRAPH,Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6,Tt.BLOCKS.OL_LIST,Tt.BLOCKS.UL_LIST,Tt.BLOCKS.HR,Tt.BLOCKS.QUOTE,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Tt.BLOCKS.EMBEDDED_RESOURCE],En.TABLE_BLOCKS=[Tt.BLOCKS.TABLE,Tt.BLOCKS.TABLE_ROW,Tt.BLOCKS.TABLE_CELL,Tt.BLOCKS.TABLE_HEADER_CELL],En.VOID_BLOCKS=[Tt.BLOCKS.HR,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Tt.BLOCKS.EMBEDDED_RESOURCE],En.CONTAINERS=(hn={},hn[Tt.BLOCKS.OL_LIST]=[Tt.BLOCKS.LIST_ITEM],hn[Tt.BLOCKS.UL_LIST]=[Tt.BLOCKS.LIST_ITEM],hn[Tt.BLOCKS.LIST_ITEM]=En.LIST_ITEM_BLOCKS,hn[Tt.BLOCKS.QUOTE]=[Tt.BLOCKS.PARAGRAPH],hn[Tt.BLOCKS.TABLE]=[Tt.BLOCKS.TABLE_ROW],hn[Tt.BLOCKS.TABLE_ROW]=[Tt.BLOCKS.TABLE_CELL,Tt.BLOCKS.TABLE_HEADER_CELL],hn[Tt.BLOCKS.TABLE_CELL]=[Tt.BLOCKS.PARAGRAPH],hn[Tt.BLOCKS.TABLE_HEADER_CELL]=[Tt.BLOCKS.PARAGRAPH],hn),En.HEADINGS=[Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6],En.TEXT_CONTAINERS=yn([Tt.BLOCKS.PARAGRAPH],En.HEADINGS,!0),En.V1_NODE_TYPES=[Tt.BLOCKS.DOCUMENT,Tt.BLOCKS.PARAGRAPH,Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6,Tt.BLOCKS.OL_LIST,Tt.BLOCKS.UL_LIST,Tt.BLOCKS.LIST_ITEM,Tt.BLOCKS.HR,Tt.BLOCKS.QUOTE,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Rt.INLINES.HYPERLINK,Rt.INLINES.ENTRY_HYPERLINK,Rt.INLINES.ASSET_HYPERLINK,Rt.INLINES.EMBEDDED_ENTRY,"text"],En.V1_MARKS=[mn.default.BOLD,mn.default.CODE,mn.default.ITALIC,mn.default.UNDERLINE]});At(Ft),Ft.V1_MARKS,Ft.V1_NODE_TYPES,Ft.TEXT_CONTAINERS,Ft.HEADINGS,Ft.CONTAINERS,Ft.VOID_BLOCKS,Ft.TABLE_BLOCKS,Ft.LIST_ITEM_BLOCKS,Ft.TOP_LEVEL_BLOCKS;var Dt=Ct(function(Cn,En){Object.defineProperty(En,"__esModule",{value:!0})});At(Dt);var kt=Ct(function(Cn,En){Object.defineProperty(En,"__esModule",{value:!0})});At(kt);var zt=Ct(function(Cn,En){Object.defineProperty(En,"__esModule",{value:!0});var yn={nodeType:Tt.BLOCKS.DOCUMENT,data:{},content:[{nodeType:Tt.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};En.default=yn});At(zt);var Ht=Ct(function(Cn,En){Object.defineProperty(En,"__esModule",{value:!0}),En.isText=En.isBlock=En.isInline=void 0;function yn(bn,Mn){for(var Tn=0,In=Object.keys(bn);Tn<In.length;Tn++){var Nn=In[Tn];if(Mn===bn[Nn])return!0}return!1}function Rn(bn){return yn(Rt.INLINES,bn.nodeType)}En.isInline=Rn;function hn(bn){return yn(Tt.BLOCKS,bn.nodeType)}En.isBlock=hn;function mn(bn){return bn.nodeType==="text"}En.isText=mn});At(Ht),Ht.isText,Ht.isBlock,Ht.isInline;var en=Ct(function(Cn,En){var yn=Et&&Et.__createBinding||(Object.create?function(Tn,In,Nn,$n){$n===void 0&&($n=Nn);var Gn=Object.getOwnPropertyDescriptor(In,Nn);(!Gn||("get"in Gn?!In.__esModule:Gn.writable||Gn.configurable))&&(Gn={enumerable:!0,get:function(){return In[Nn]}}),Object.defineProperty(Tn,$n,Gn)}:function(Tn,In,Nn,$n){$n===void 0&&($n=Nn),Tn[$n]=In[Nn]}),Rn=Et&&Et.__setModuleDefault||(Object.create?function(Tn,In){Object.defineProperty(Tn,"default",{enumerable:!0,value:In})}:function(Tn,In){Tn.default=In}),hn=Et&&Et.__exportStar||function(Tn,In){for(var Nn in Tn)Nn!=="default"&&!Object.prototype.hasOwnProperty.call(In,Nn)&&yn(In,Tn,Nn)},mn=Et&&Et.__importStar||function(Tn){if(Tn&&Tn.__esModule)return Tn;var In={};if(Tn!=null)for(var Nn in Tn)Nn!=="default"&&Object.prototype.hasOwnProperty.call(Tn,Nn)&&yn(In,Tn,Nn);return Rn(In,Tn),In},bn=Et&&Et.__importDefault||function(Tn){return Tn&&Tn.__esModule?Tn:{default:Tn}};Object.defineProperty(En,"__esModule",{value:!0}),En.helpers=En.EMPTY_DOCUMENT=En.MARKS=En.INLINES=En.BLOCKS=void 0,Object.defineProperty(En,"BLOCKS",{enumerable:!0,get:function(){return Tt.BLOCKS}}),Object.defineProperty(En,"INLINES",{enumerable:!0,get:function(){return Rt.INLINES}}),Object.defineProperty(En,"MARKS",{enumerable:!0,get:function(){return bn(Bt).default}}),hn(Ft,En),hn(Dt,En),hn(kt,En),Object.defineProperty(En,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return bn(zt).default}});var Mn=mn(Ht);En.helpers=Mn});At(en);var Kt=en.helpers;en.EMPTY_DOCUMENT;var Zt=en.MARKS,Wt=en.INLINES,tn=en.BLOCKS;function an(Cn,En){return ft.isValidElement(Cn)&&Cn.key===null?ft.cloneElement(Cn,{key:En}):Cn}function ln(Cn,En){return Cn.map(function(yn,Rn){return an(fn(yn,En),Rn)})}function fn(Cn,En){var yn=En.renderNode,Rn=En.renderMark,hn=En.renderText;if(Kt.isText(Cn))return Cn.marks.reduce(function(bn,Mn){return Rn[Mn.type]?Rn[Mn.type](bn):bn},hn?hn(Cn.value):Cn.value);var mn=ln(Cn.content,En);return!Cn.nodeType||!yn[Cn.nodeType]?vt.createElement(vt.Fragment,null,mn):yn[Cn.nodeType](Cn,mn)}var un,pn,xn=(un={},un[tn.DOCUMENT]=function(Cn,En){return En},un[tn.PARAGRAPH]=function(Cn,En){return vt.createElement("p",null,En)},un[tn.HEADING_1]=function(Cn,En){return vt.createElement("h1",null,En)},un[tn.HEADING_2]=function(Cn,En){return vt.createElement("h2",null,En)},un[tn.HEADING_3]=function(Cn,En){return vt.createElement("h3",null,En)},un[tn.HEADING_4]=function(Cn,En){return vt.createElement("h4",null,En)},un[tn.HEADING_5]=function(Cn,En){return vt.createElement("h5",null,En)},un[tn.HEADING_6]=function(Cn,En){return vt.createElement("h6",null,En)},un[tn.EMBEDDED_ENTRY]=function(Cn,En){return vt.createElement("div",null,En)},un[tn.EMBEDDED_RESOURCE]=function(Cn,En){return vt.createElement("div",null,En)},un[tn.UL_LIST]=function(Cn,En){return vt.createElement("ul",null,En)},un[tn.OL_LIST]=function(Cn,En){return vt.createElement("ol",null,En)},un[tn.LIST_ITEM]=function(Cn,En){return vt.createElement("li",null,En)},un[tn.QUOTE]=function(Cn,En){return vt.createElement("blockquote",null,En)},un[tn.HR]=function(){return vt.createElement("hr",null)},un[tn.TABLE]=function(Cn,En){return vt.createElement("table",null,vt.createElement("tbody",null,En))},un[tn.TABLE_ROW]=function(Cn,En){return vt.createElement("tr",null,En)},un[tn.TABLE_HEADER_CELL]=function(Cn,En){return vt.createElement("th",null,En)},un[tn.TABLE_CELL]=function(Cn,En){return vt.createElement("td",null,En)},un[Wt.ASSET_HYPERLINK]=function(Cn){return gn(Wt.ASSET_HYPERLINK,Cn)},un[Wt.ENTRY_HYPERLINK]=function(Cn){return gn(Wt.ENTRY_HYPERLINK,Cn)},un[Wt.EMBEDDED_ENTRY]=function(Cn){return gn(Wt.EMBEDDED_ENTRY,Cn)},un[Wt.HYPERLINK]=function(Cn,En){return vt.createElement("a",{href:Cn.data.uri},En)},un),An=(pn={},pn[Zt.BOLD]=function(Cn){return vt.createElement("b",null,Cn)},pn[Zt.ITALIC]=function(Cn){return vt.createElement("i",null,Cn)},pn[Zt.UNDERLINE]=function(Cn){return vt.createElement("u",null,Cn)},pn[Zt.CODE]=function(Cn){return vt.createElement("code",null,Cn)},pn[Zt.SUPERSCRIPT]=function(Cn){return vt.createElement("sup",null,Cn)},pn[Zt.SUBSCRIPT]=function(Cn){return vt.createElement("sub",null,Cn)},pn);function gn(Cn,En){return vt.createElement("span",{key:En.data.target.sys.id},"type: ",En.nodeType," id: ",En.data.target.sys.id)}function Ln(Cn,En){return En===void 0&&(En={}),Cn?fn(Cn,{renderNode:St(St({},xn),En.renderNode),renderMark:St(St({},An),En.renderMark),renderText:En.renderText}):null}dt.documentToReactComponents=Ln})(richTextReactRenderer_es5);extend({UnrealBloomPass,VignetteShader});function processData(dt){let lt=[];return dt.items.forEach(ft=>{console.log(ft);let vt={};const{fields:St,metadata:Et,sys:At}=ft;let{title:Ct,subtitle:Tt,description:Rt,image:Bt,otherImages:Ft,whatsappNumber:Dt,linkedIn:kt}=St,zt=St.video||!1;console.log(St);let Ht,en;Ht=At.contentType.sys.id,Ht=="sectionCopy"&&(en=St.section);let{id:Kt}=At;const Zt=({children:ln})=>jsxRuntimeExports.jsx("p",{className:"bold",children:ln}),Wt=({children:ln})=>jsxRuntimeExports.jsx("p",{className:"align-center",children:ln}),tn={renderMark:{[dist.MARKS.BOLD]:ln=>jsxRuntimeExports.jsx(Zt,{children:ln})},renderNode:{[dist.BLOCKS.PARAGRAPH]:(ln,fn)=>jsxRuntimeExports.jsx(Wt,{children:fn})},renderText:ln=>ln.replace("!","?")};richTextReactRenderer_es5.documentToReactComponents(Rt,tn);let an=Rt.content;Rt=Rt.content[0],Rt.content[0].value?Rt=Rt.content[0].value:Rt="",vt.title=Ct,vt.subTitle=Tt,vt.description=Rt,vt.descriptionArr=an,vt.image=Bt,vt.section=toTitleCase(Ht),vt.otherImages=Ft,vt.ring=en,vt.id=Kt,vt.video=zt,vt.whatsapp=Dt,vt.linkedIn=kt,lt.push(vt)}),lt}function toTitleCase(dt){return dt.replace(/\w\S*/g,function(lt){return lt.charAt(0).toUpperCase()+lt.substr(1).toLowerCase()})}function QRPanel(){return jsxRuntimeExports.jsx("div",{className:"custom-loader pointer-events-none absolute  z-[60]  flex h-full w-full items-center justify-center  transition-all delay-[200ms] duration-[800ms] ease-in-out",children:jsxRuntimeExports.jsx("div",{className:"mt-64 flex justify-center bg-black bg-opacity-30 p-12",children:jsxRuntimeExports.jsx("div",{className:"bg-white p-2",children:jsxRuntimeExports.jsx(QRCodeSVG,{value:"hireco.co.uk"})})})})}function App(){const dt=appState(fn=>fn.activeRing),lt=appState(fn=>fn.fetchData,shallow$1),ft=appState(fn=>fn.activeTile),vt=appState(fn=>fn.getUniverseStores),St=appState(fn=>fn.setFetchData),Et=appState(fn=>fn.maxDistance,shallow$1),At=appState(fn=>fn.boundsMargin,shallow$1),Ct=appState(fn=>fn.activeVideo,shallow$1),Tt=appState(fn=>fn.setLoaded),Rt=appState(fn=>fn.qrPanel,shallow$1),Bt=appState(fn=>fn.currentView,shallow$1);vt();const Ft=reactExports.useRef(),Dt=reactExports.useRef(),kt=reactExports.useRef();reactExports.useRef(),reactExports.useState(.5),reactExports.useState(1);const{progress:zt}=useProgress();reactExports.useEffect(()=>{},[Bt]),reactExports.useEffect(()=>{zt==100&&setTimeout(()=>{Tt(!0)},3e3)},[zt]);const{isLoading:Ht,error:en,data:Kt}=useQuery({queryKey:["repoData"],queryFn:()=>fetch("https://cdn.contentful.com/spaces/ndcfmypd0yep/environments/master/entries?access_token=YZXIc9fW0cmy7ymmmZGQ6k8W2vO76zG3XIvsoccZLE8").then(fn=>fn.json())});reactExports.useEffect(()=>{Kt&&St(processData(Kt))},[Kt]),reactExports.useEffect(()=>{!kt||!kt.current||(ft?kt.current.enableZoom=!1:kt.current.enableZoom=!0)},[ft]);const[Zt,Wt]=reactExports.useState(!1);reactExports.useEffect(()=>{console.log("change active video"),ft?lt.filter(fn=>fn.id==ft)[0].video&&(console.log("show play button"),setTimeout(()=>{console.log("async"),Wt(!0)},1250)):Wt(!1)},[ft]);const[tn,an]=reactExports.useState(!1),ln=useFullScreenHandle();return reactExports.useEffect(()=>{tn?(console.log("enter"),ln.enter()):ln.exit()},[tn]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[dt!="none"&&!Ct?jsxRuntimeExports.jsx(ContentOverlay,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),Zt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(PlayButton,{})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx(WelcomeToUniverse,{}),jsxRuntimeExports.jsx(CustomLoader,{}),Rt?jsxRuntimeExports.jsx(QRPanel,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),lt&&jsxRuntimeExports.jsxs(Canvas,{className:"relative",style:{height:"100vh"},children:[jsxRuntimeExports.jsx(Perf,{}),jsxRuntimeExports.jsxs("group",{ref:Ft,children:[jsxRuntimeExports.jsx(PerspectiveCamera,{ref:Dt,aspect:window.innerWidth/window.innerHeight,fov:60,position:[-500,-500,-500],near:.1,makeDefault:!0}),jsxRuntimeExports.jsx(OrbitControls,{makeDefault:!0,minPolarAngle:.5,maxPolarAngle:Math.PI/2,minDistance:5,maxDistance:Et,ref:kt,enablePan:!1}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx(Environment,{files:"./environment/nedula.hdr",background:!0}),jsxRuntimeExports.jsx(Bounds,{damping:3,margin:At,children:jsxRuntimeExports.jsx(Scene,{cameraRef:Dt,orbitControlsRef:kt})}),jsxRuntimeExports.jsx(Effects,{disableGamma:!0,children:jsxRuntimeExports.jsx("unrealBloomPass",{threshold:1,strength:.5,radius:.25})})]})]})]})]})}function WelcomeToUniverse(){const dt=appState(ft=>ft.setCurrentView),lt=appState(ft=>ft.currentView,shallow$1);return jsxRuntimeExports.jsx("div",{className:` absolute z-50 h-screen w-screen bg-black bg-opacity-60 text-white transition-opacity ${lt!="idle"?"pointer-events-none opacity-0":""}`,onClick:()=>dt("main"),children:jsxRuntimeExports.jsx("div",{className:"flex h-full flex-col justify-end pl-[10vw] pb-[10vh]",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-start text-left ",children:[jsxRuntimeExports.jsx("p",{class:"text-[8em] font-bold uppercase text-orange-500",children:"WELCOME TO"}),jsxRuntimeExports.jsx("p",{class:"text-[4.75em] font-bold uppercase",children:"THE HIRECO UNIVERSE"}),jsxRuntimeExports.jsx("p",{class:"pt-3  text-[2.33em] font-bold uppercase ",children:"YOUR DIGITAL TRANSPORT SOLUTION AWAITS"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-start pt-12 align-middle ",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.714",height:"31.438",viewBox:"0 0 30.714 31.438",children:jsxRuntimeExports.jsx("path",{id:"Icon_material-touch-app","data-name":"Icon material-touch-app",d:"M12.326,14.584V10.007a3.059,3.059,0,1,1,6.119,0v4.577a5.507,5.507,0,1,0-6.119,0ZM24.368,20.25l-5.556-2.766a1.723,1.723,0,0,0-.661-.135h-.93V10.007a1.836,1.836,0,1,0-3.671,0V23.15l-4.2-.881a2.139,2.139,0,0,0-.294-.037,1.369,1.369,0,0,0-.967.4l-.967.979L13.17,29.66a1.842,1.842,0,0,0,1.3.538h8.309a1.782,1.782,0,0,0,1.762-1.566l.918-6.449a1.759,1.759,0,0,0-1.089-1.934Z",transform:"translate(14.435 -8.071) rotate(41)",fill:"#fff"})}),jsxRuntimeExports.jsx("p",{class:"pl-3 text-[2.5em] font-thin uppercase",children:"Tap to explore"})]})]})})})}function ContentOverlay(dt){const lt=appState(kt=>kt.setActiveRing),ft=appState(kt=>kt.setCurrentView),vt=appState(kt=>kt.setActiveTile),St=appState(kt=>kt.activeRing,shallow$1),Et=appState(kt=>kt.activeTile,shallow$1),At=appState(kt=>kt.currentView,shallow$1),Ct=appState(kt=>kt.updateBounds,shallow$1);appState(kt=>kt.activeVideo,shallow$1),appState(kt=>kt.focusElementRef,shallow$1);const Tt=appState(kt=>kt.setActiveVideo,shallow$1),Rt=appState(kt=>kt.setFocusElementRef),Bt=appState(kt=>kt.ringNames),Ft=appState(kt=>kt.setQrPanel);return appState(kt=>kt.fetchData,shallow$1).filter(kt=>kt.id==Et)[0],jsxRuntimeExports.jsx("div",{className:"wrap grad-left pointer-events-none absolute  z-40 flex h-screen w-1/2 items-center pl-10 pr-[30%] ",children:jsxRuntimeExports.jsxs("div",{className:"content flex h-full flex-col justify-around text-white",children:[jsxRuntimeExports.jsxs("div",{className:"back pointer-events-auto flex cursor-pointer pb-6 pt-6",onClick:()=>{if(Et){vt(null),Rt(null),Tt(null),Ft(null);let[kt,zt,Ht]=[cameraPositionsStore.focus[St].position.x,cameraPositionsStore.focus[St].position.y,cameraPositionsStore.focus[St].position.z],[en,Kt,Zt]=[cameraPositionsStore.focus[St].target.x,cameraPositionsStore.focus[St].target.y,cameraPositionsStore.focus[St].target.z];Ct({position:{xPos:kt,yPos:zt,zPos:Ht},target:{xTar:en,yTar:Kt,zTar:Zt}})}else lt("none"),ft("main"),vt(null),Rt(null),Tt(null),Ft(null)},children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40.681",height:"18",viewBox:"0 0 40.681 18",children:jsxRuntimeExports.jsxs("g",{id:"Group_1","data-name":"Group 1",transform:"translate(-109.319 -43.115)",children:[jsxRuntimeExports.jsxs("g",{id:"Icon_ionic-ios-planet","data-name":"Icon ionic-ios-planet",transform:"translate(117.378 34.115)",children:[jsxRuntimeExports.jsx("path",{id:"Path_1","data-name":"Path 1",d:"M32.52,24.771a4.139,4.139,0,0,0-.8-1.287,26.5,26.5,0,0,0-3.853-3.319.341.341,0,0,0-.527.162l-.33.942a.34.34,0,0,0,.12.387,18.511,18.511,0,0,1,2.939,2.524.262.262,0,0,1-.274.408,30.239,30.239,0,0,1-3.108-.9c-.6-.218-1.245-.471-1.913-.745a8.375,8.375,0,0,0-.872-11.18,8.6,8.6,0,0,0-11-.717A8.458,8.458,0,0,0,10.048,14.7c-.584-.422-1.132-.837-1.631-1.238A17.582,17.582,0,0,1,5.7,11.025c-.155-.2.063-.471.309-.415A39.946,39.946,0,0,1,9.97,11.939a.309.309,0,0,0,.316-.056l.78-.71a.3.3,0,0,0-.091-.506A19.85,19.85,0,0,0,5.147,9a1.734,1.734,0,0,0-1.638.731c-.534.935.5,2.475,3.171,4.7a65.483,65.483,0,0,0,9.6,6.469c6.152,3.452,12.03,5.7,14.625,5.7a1.652,1.652,0,0,0,1.554-.64A1.367,1.367,0,0,0,32.52,24.771Z",fill:"#fff"}),jsxRuntimeExports.jsx("path",{id:"Path_2","data-name":"Path 2",d:"M21.938,24.891a69.329,69.329,0,0,1-6.511-3.15c-2.116-1.188-4.177-2.566-5.934-3.769a.421.421,0,0,0-.239-.077.433.433,0,0,0-.429.415c0,.084-.007.169-.007.246a8.332,8.332,0,0,0,2.5,5.97A8.589,8.589,0,0,0,22,25.629a.409.409,0,0,0,.19-.387A.4.4,0,0,0,21.938,24.891Z",fill:"#fff"})]}),jsxRuntimeExports.jsx("path",{id:"Icon_ionic-ios-arrow-back","data-name":"Icon ionic-ios-arrow-back",d:"M13.32,12.195l4.543-4.539a.858.858,0,0,0-1.215-1.212L11.5,11.587a.856.856,0,0,0-.025,1.183l5.168,5.179a.858.858,0,1,0,1.215-1.212Z",transform:"translate(98.068 39.918)",fill:"#fff"})]})}),jsxRuntimeExports.jsx("span",{className:"pl-4 font-bold uppercase tracking-wider",children:"Back"})]}),At=="page"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"testimonial text-xl",children:St=="ring_2"&&Et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{class:"text-right text-orange-500",children:'"Gendae nam fugit, u opta cus es eum alibusdae peditiur re laut fuga. Em fugiam GXO, Head of Fleet UK"'}),jsxRuntimeExports.jsxs("div",{className:"pointer-events-auto pt-12",onClick:()=>{console.log("first"),Ft(!0)},children:[jsxRuntimeExports.jsxs("div",{className:"linkedIn flex  items-center justify-end",children:[jsxRuntimeExports.jsx("p",{class:" pr-4 text-right font-body font-bold text-green-500",children:"Whatsapp"}),jsxRuntimeExports.jsx("div",{className:"flex h-[40px] w-[40px] rounded-full bg-white p-2",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Icons",viewBox:"0 0 32 32",width:"30px",children:[jsxRuntimeExports.jsx("path",{fill:"#25D366",d:"M17,0C8.7,0,2,6.7,2,15c0,3.4,1.1,6.6,3.2,9.2l-2.1,6.4c-0.1,0.4,0,0.8,0.3,1.1C3.5,31.9,3.8,32,4,32  c0.1,0,0.3,0,0.4-0.1l6.9-3.1C13.1,29.6,15,30,17,30c8.3,0,15-6.7,15-15S25.3,0,17,0z"}),jsxRuntimeExports.jsx("path",{fill:"#FFFFFF",d:"M25.7,20.5c-0.4,1.2-1.9,2.2-3.2,2.4C22.2,23,21.9,23,21.5,23c-0.8,0-2-0.2-4.1-1.1c-2.4-1-4.8-3.1-6.7-5.8  L10.7,16C10.1,15.1,9,13.4,9,11.6c0-2.2,1.1-3.3,1.5-3.8c0.5-0.5,1.2-0.8,2-0.8c0.2,0,0.3,0,0.5,0c0.7,0,1.2,0.2,1.7,1.2l0.4,0.8  c0.3,0.8,0.7,1.7,0.8,1.8c0.3,0.6,0.3,1.1,0,1.6c-0.1,0.3-0.3,0.5-0.5,0.7c-0.1,0.2-0.2,0.3-0.3,0.3c-0.1,0.1-0.1,0.1-0.2,0.2  c0.3,0.5,0.9,1.4,1.7,2.1c1.2,1.1,2.1,1.4,2.6,1.6l0,0c0.2-0.2,0.4-0.6,0.7-0.9l0.1-0.2c0.5-0.7,1.3-0.9,2.1-0.6  c0.4,0.2,2.6,1.2,2.6,1.2l0.2,0.1c0.3,0.2,0.7,0.3,0.9,0.7C26.2,18.5,25.9,19.8,25.7,20.5z"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"linkedIn flex  items-center justify-end pt-2",children:[jsxRuntimeExports.jsx("p",{class:" pr-4 text-right font-body font-bold text-blue-500",children:"LinkedIn"}),jsxRuntimeExports.jsx("div",{className:"flex h-[40px] w-[40px] rounded-full bg-white p-2",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","data-supported-dps":"24x24",fill:"#2B55B7",class:"mercado-match",focusable:"false",width:"30px",children:jsxRuntimeExports.jsx("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})})})]})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:" "})}),jsxRuntimeExports.jsxs("div",{className:"ask-me-more pointer-events-auto pt-12 text-xl",children:[jsxRuntimeExports.jsx("p",{class:"font-bold uppercase text-orange-500",children:"Want to know more about"}),["ring_2","ring_3","ring_4","ring_5","ring_6"].map((kt,zt)=>{const Ht=Bt[kt];return jsxRuntimeExports.jsx("p",{class:"cursor-pointer font-bold uppercase ",onClick:()=>{lt(kt),vt(null),Tt(null)},children:"> "+Ht})})]}),jsxRuntimeExports.jsx("div",{className:""})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})]})})}function PlayButton(){const dt=appState(Rt=>Rt.activeRing),lt=appState(Rt=>Rt.ringNames),ft=appState(Rt=>Rt.fetchData),vt=appState(Rt=>Rt.activeTile);appState(Rt=>Rt.activeVideo);const St=appState(Rt=>Rt.setActiveVideo);lt[dt];function Et(){console.log("play video"),console.log(Tt),St(Tt)}if(!ft)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let At;if(At=ft.filter(Rt=>Rt.id==vt)[0],!At)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let Ct,Tt;return Ct=At.video||!1,Tt=At.image||!1,Ct?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"playbutton pointer-events-none absolute top-0 left-0 z-50 flex h-screen w-screen scale-[3] items-center justify-center opacity-100  transition-opacity delay-[3000ms] ease-in-out ",children:[jsxRuntimeExports.jsx("div",{className:"svg pointer-events-auto absolute animate-[ping_3s_ease-in-out_infinite] shadow-[5_50px_60px_-15px_rgba(0,0,0,1)]",onClick:()=>Et(),children:jsxRuntimeExports.jsx(PlaySvg,{})}),jsxRuntimeExports.jsx("div",{className:"svg absolute scale-125 shadow-[0_35px_60px_-15px_rgba(0,0,0,0.3)]",children:jsxRuntimeExports.jsx(PlaySvg,{})})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function PlaySvg(){return jsxRuntimeExports.jsx("div",{className:"relative z-50",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34.081",height:"38.953",viewBox:"0 0 34.081 38.953",children:jsxRuntimeExports.jsx("path",{id:"Icon_awesome-play","data-name":"Icon awesome-play",d:"M32.287,16.334,5.508.5A3.631,3.631,0,0,0,0,3.644V35.3a3.648,3.648,0,0,0,5.508,3.142L32.287,22.617a3.648,3.648,0,0,0,0-6.284Z",transform:"translate(0 -0.002)",fill:"#fff"})})})}const global$1="",queryClient=new QueryClient;client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(App,{})})}));
