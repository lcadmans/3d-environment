var mv=Object.defineProperty;var gv=(ft,lt,dt)=>lt in ft?mv(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt;var Xn=(ft,lt,dt)=>(gv(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);(function(){const lt=document.createElement("link").relList;if(lt&&lt.supports&&lt.supports("modulepreload"))return;for(const St of document.querySelectorAll('link[rel="modulepreload"]'))vt(St);new MutationObserver(St=>{for(const Et of St)if(Et.type==="childList")for(const At of Et.addedNodes)At.tagName==="LINK"&&At.rel==="modulepreload"&&vt(At)}).observe(document,{childList:!0,subtree:!0});function dt(St){const Et={};return St.integrity&&(Et.integrity=St.integrity),St.referrerPolicy&&(Et.referrerPolicy=St.referrerPolicy),St.crossOrigin==="use-credentials"?Et.credentials="include":St.crossOrigin==="anonymous"?Et.credentials="omit":Et.credentials="same-origin",Et}function vt(St){if(St.ep)return;St.ep=!0;const Et=dt(St);fetch(St.href,Et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ft){return ft&&ft.__esModule&&Object.prototype.hasOwnProperty.call(ft,"default")?ft.default:ft}function getAugmentedNamespace(ft){if(ft.__esModule)return ft;var lt=ft.default;if(typeof lt=="function"){var dt=function vt(){if(this instanceof vt){var St=[null];St.push.apply(St,arguments);var Et=Function.bind.apply(lt,St);return new Et}return lt.apply(this,arguments)};dt.prototype=lt.prototype}else dt={};return Object.defineProperty(dt,"__esModule",{value:!0}),Object.keys(ft).forEach(function(vt){var St=Object.getOwnPropertyDescriptor(ft,vt);Object.defineProperty(dt,vt,St.get?St:{enumerable:!0,get:function(){return ft[vt]}})}),dt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$4=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(ft){return ft===null||typeof ft!="object"?null:(ft=z$4&&ft[z$4]||ft["@@iterator"],typeof ft=="function"?ft:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$4={};function E$5(ft,lt,dt){this.props=ft,this.context=lt,this.refs=D$4,this.updater=dt||B$3}E$5.prototype.isReactComponent={};E$5.prototype.setState=function(ft,lt){if(typeof ft!="object"&&typeof ft!="function"&&ft!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ft,lt,"setState")};E$5.prototype.forceUpdate=function(ft){this.updater.enqueueForceUpdate(this,ft,"forceUpdate")};function F$2(){}F$2.prototype=E$5.prototype;function G$2(ft,lt,dt){this.props=ft,this.context=lt,this.refs=D$4,this.updater=dt||B$3}var H$4=G$2.prototype=new F$2;H$4.constructor=G$2;C$3(H$4,E$5.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(ft,lt,dt){var vt,St={},Et=null,At=null;if(lt!=null)for(vt in lt.ref!==void 0&&(At=lt.ref),lt.key!==void 0&&(Et=""+lt.key),lt)J$3.call(lt,vt)&&!L$3.hasOwnProperty(vt)&&(St[vt]=lt[vt]);var Ct=arguments.length-2;if(Ct===1)St.children=dt;else if(1<Ct){for(var Tt=Array(Ct),Rt=0;Rt<Ct;Rt++)Tt[Rt]=arguments[Rt+2];St.children=Tt}if(ft&&ft.defaultProps)for(vt in Ct=ft.defaultProps,Ct)St[vt]===void 0&&(St[vt]=Ct[vt]);return{$$typeof:l$6,type:ft,key:Et,ref:At,props:St,_owner:K$3.current}}function N$3(ft,lt){return{$$typeof:l$6,type:ft.type,key:lt,ref:ft.ref,props:ft.props,_owner:ft._owner}}function O$3(ft){return typeof ft=="object"&&ft!==null&&ft.$$typeof===l$6}function escape$1(ft){var lt={"=":"=0",":":"=2"};return"$"+ft.replace(/[=:]/g,function(dt){return lt[dt]})}var P$3=/\/+/g;function Q$4(ft,lt){return typeof ft=="object"&&ft!==null&&ft.key!=null?escape$1(""+ft.key):lt.toString(36)}function R$3(ft,lt,dt,vt,St){var Et=typeof ft;(Et==="undefined"||Et==="boolean")&&(ft=null);var At=!1;if(ft===null)At=!0;else switch(Et){case"string":case"number":At=!0;break;case"object":switch(ft.$$typeof){case l$6:case n$5:At=!0}}if(At)return At=ft,St=St(At),ft=vt===""?"."+Q$4(At,0):vt,I$4(St)?(dt="",ft!=null&&(dt=ft.replace(P$3,"$&/")+"/"),R$3(St,lt,dt,"",function(Rt){return Rt})):St!=null&&(O$3(St)&&(St=N$3(St,dt+(!St.key||At&&At.key===St.key?"":(""+St.key).replace(P$3,"$&/")+"/")+ft)),lt.push(St)),1;if(At=0,vt=vt===""?".":vt+":",I$4(ft))for(var Ct=0;Ct<ft.length;Ct++){Et=ft[Ct];var Tt=vt+Q$4(Et,Ct);At+=R$3(Et,lt,dt,Tt,St)}else if(Tt=A$3(ft),typeof Tt=="function")for(ft=Tt.call(ft),Ct=0;!(Et=ft.next()).done;)Et=Et.value,Tt=vt+Q$4(Et,Ct++),At+=R$3(Et,lt,dt,Tt,St);else if(Et==="object")throw lt=String(ft),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(ft).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.");return At}function S$3(ft,lt,dt){if(ft==null)return ft;var vt=[],St=0;return R$3(ft,vt,"","",function(Et){return lt.call(dt,Et,St++)}),vt}function T$3(ft){if(ft._status===-1){var lt=ft._result;lt=lt(),lt.then(function(dt){(ft._status===0||ft._status===-1)&&(ft._status=1,ft._result=dt)},function(dt){(ft._status===0||ft._status===-1)&&(ft._status=2,ft._result=dt)}),ft._status===-1&&(ft._status=0,ft._result=lt)}if(ft._status===1)return ft._result.default;throw ft._result}var U$3={current:null},V$3={transition:null},W$4={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(ft,lt,dt){S$3(ft,function(){lt.apply(this,arguments)},dt)},count:function(ft){var lt=0;return S$3(ft,function(){lt++}),lt},toArray:function(ft){return S$3(ft,function(lt){return lt})||[]},only:function(ft){if(!O$3(ft))throw Error("React.Children.only expected to receive a single React element child.");return ft}};react_production_min.Component=E$5;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(ft,lt,dt){if(ft==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ft+".");var vt=C$3({},ft.props),St=ft.key,Et=ft.ref,At=ft._owner;if(lt!=null){if(lt.ref!==void 0&&(Et=lt.ref,At=K$3.current),lt.key!==void 0&&(St=""+lt.key),ft.type&&ft.type.defaultProps)var Ct=ft.type.defaultProps;for(Tt in lt)J$3.call(lt,Tt)&&!L$3.hasOwnProperty(Tt)&&(vt[Tt]=lt[Tt]===void 0&&Ct!==void 0?Ct[Tt]:lt[Tt])}var Tt=arguments.length-2;if(Tt===1)vt.children=dt;else if(1<Tt){Ct=Array(Tt);for(var Rt=0;Rt<Tt;Rt++)Ct[Rt]=arguments[Rt+2];vt.children=Ct}return{$$typeof:l$6,type:ft.type,key:St,ref:Et,props:vt,_owner:At}};react_production_min.createContext=function(ft){return ft={$$typeof:u$6,_currentValue:ft,_currentValue2:ft,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ft.Provider={$$typeof:t$3,_context:ft},ft.Consumer=ft};react_production_min.createElement=M$3;react_production_min.createFactory=function(ft){var lt=M$3.bind(null,ft);return lt.type=ft,lt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ft){return{$$typeof:v$6,render:ft}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(ft){return{$$typeof:y$4,_payload:{_status:-1,_result:ft},_init:T$3}};react_production_min.memo=function(ft,lt){return{$$typeof:x$3,type:ft,compare:lt===void 0?null:lt}};react_production_min.startTransition=function(ft){var lt=V$3.transition;V$3.transition={};try{ft()}finally{V$3.transition=lt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(ft,lt){return U$3.current.useCallback(ft,lt)};react_production_min.useContext=function(ft){return U$3.current.useContext(ft)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ft){return U$3.current.useDeferredValue(ft)};react_production_min.useEffect=function(ft,lt){return U$3.current.useEffect(ft,lt)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(ft,lt,dt){return U$3.current.useImperativeHandle(ft,lt,dt)};react_production_min.useInsertionEffect=function(ft,lt){return U$3.current.useInsertionEffect(ft,lt)};react_production_min.useLayoutEffect=function(ft,lt){return U$3.current.useLayoutEffect(ft,lt)};react_production_min.useMemo=function(ft,lt){return U$3.current.useMemo(ft,lt)};react_production_min.useReducer=function(ft,lt,dt){return U$3.current.useReducer(ft,lt,dt)};react_production_min.useRef=function(ft){return U$3.current.useRef(ft)};react_production_min.useState=function(ft){return U$3.current.useState(ft)};react_production_min.useSyncExternalStore=function(ft,lt,dt){return U$3.current.useSyncExternalStore(ft,lt,dt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$4=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$4(ft,lt,dt){var vt,St={},Et=null,At=null;dt!==void 0&&(Et=""+dt),lt.key!==void 0&&(Et=""+lt.key),lt.ref!==void 0&&(At=lt.ref);for(vt in lt)m$5.call(lt,vt)&&!p$6.hasOwnProperty(vt)&&(St[vt]=lt[vt]);if(ft&&ft.defaultProps)for(vt in lt=ft.defaultProps,lt)St[vt]===void 0&&(St[vt]=lt[vt]);return{$$typeof:k$4,type:ft,key:Et,ref:At,props:St,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ft){function lt(cr,pr){var Er=cr.length;cr.push(pr);e:for(;0<Er;){var _r=Er-1>>>1,Ar=cr[_r];if(0<St(Ar,pr))cr[_r]=pr,cr[Er]=Ar,Er=_r;else break e}}function dt(cr){return cr.length===0?null:cr[0]}function vt(cr){if(cr.length===0)return null;var pr=cr[0],Er=cr.pop();if(Er!==pr){cr[0]=Er;e:for(var _r=0,Ar=cr.length,Pr=Ar>>>1;_r<Pr;){var Ir=2*(_r+1)-1,kr=cr[Ir],Dr=Ir+1,Jr=cr[Dr];if(0>St(kr,Er))Dr<Ar&&0>St(Jr,kr)?(cr[_r]=Jr,cr[Dr]=Er,_r=Dr):(cr[_r]=kr,cr[Ir]=Er,_r=Ir);else if(Dr<Ar&&0>St(Jr,Er))cr[_r]=Jr,cr[Dr]=Er,_r=Dr;else break e}}return pr}function St(cr,pr){var Er=cr.sortIndex-pr.sortIndex;return Er!==0?Er:cr.id-pr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Et=performance;ft.unstable_now=function(){return Et.now()}}else{var At=Date,Ct=At.now();ft.unstable_now=function(){return At.now()-Ct}}var Tt=[],Rt=[],Bt=1,Dt=null,Ft=3,kt=!1,Ut=!1,Kt=!1,tr=typeof setTimeout=="function"?setTimeout:null,Wt=typeof clearTimeout=="function"?clearTimeout:null,Zt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ht(cr){for(var pr=dt(Rt);pr!==null;){if(pr.callback===null)vt(Rt);else if(pr.startTime<=cr)vt(Rt),pr.sortIndex=pr.expirationTime,lt(Tt,pr);else break;pr=dt(Rt)}}function nr(cr){if(Kt=!1,Ht(cr),!Ut)if(dt(Tt)!==null)Ut=!0,Sr(sr);else{var pr=dt(Rt);pr!==null&&br(nr,pr.startTime-cr)}}function sr(cr,pr){Ut=!1,Kt&&(Kt=!1,Wt(rr),rr=-1),kt=!0;var Er=Ft;try{for(Ht(pr),Dt=dt(Tt);Dt!==null&&(!(Dt.expirationTime>pr)||cr&&!dr());){var _r=Dt.callback;if(typeof _r=="function"){Dt.callback=null,Ft=Dt.priorityLevel;var Ar=_r(Dt.expirationTime<=pr);pr=ft.unstable_now(),typeof Ar=="function"?Dt.callback=Ar:Dt===dt(Tt)&&vt(Tt),Ht(pr)}else vt(Tt);Dt=dt(Tt)}if(Dt!==null)var Pr=!0;else{var Ir=dt(Rt);Ir!==null&&br(nr,Ir.startTime-pr),Pr=!1}return Pr}finally{Dt=null,Ft=Er,kt=!1}}var ar=!1,ir=null,rr=-1,lr=5,ur=-1;function dr(){return!(ft.unstable_now()-ur<lr)}function mr(){if(ir!==null){var cr=ft.unstable_now();ur=cr;var pr=!0;try{pr=ir(!0,cr)}finally{pr?Cr():(ar=!1,ir=null)}}else ar=!1}var Cr;if(typeof Zt=="function")Cr=function(){Zt(mr)};else if(typeof MessageChannel<"u"){var yr=new MessageChannel,xr=yr.port2;yr.port1.onmessage=mr,Cr=function(){xr.postMessage(null)}}else Cr=function(){tr(mr,0)};function Sr(cr){ir=cr,ar||(ar=!0,Cr())}function br(cr,pr){rr=tr(function(){cr(ft.unstable_now())},pr)}ft.unstable_IdlePriority=5,ft.unstable_ImmediatePriority=1,ft.unstable_LowPriority=4,ft.unstable_NormalPriority=3,ft.unstable_Profiling=null,ft.unstable_UserBlockingPriority=2,ft.unstable_cancelCallback=function(cr){cr.callback=null},ft.unstable_continueExecution=function(){Ut||kt||(Ut=!0,Sr(sr))},ft.unstable_forceFrameRate=function(cr){0>cr||125<cr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lr=0<cr?Math.floor(1e3/cr):5},ft.unstable_getCurrentPriorityLevel=function(){return Ft},ft.unstable_getFirstCallbackNode=function(){return dt(Tt)},ft.unstable_next=function(cr){switch(Ft){case 1:case 2:case 3:var pr=3;break;default:pr=Ft}var Er=Ft;Ft=pr;try{return cr()}finally{Ft=Er}},ft.unstable_pauseExecution=function(){},ft.unstable_requestPaint=function(){},ft.unstable_runWithPriority=function(cr,pr){switch(cr){case 1:case 2:case 3:case 4:case 5:break;default:cr=3}var Er=Ft;Ft=cr;try{return pr()}finally{Ft=Er}},ft.unstable_scheduleCallback=function(cr,pr,Er){var _r=ft.unstable_now();switch(typeof Er=="object"&&Er!==null?(Er=Er.delay,Er=typeof Er=="number"&&0<Er?_r+Er:_r):Er=_r,cr){case 1:var Ar=-1;break;case 2:Ar=250;break;case 5:Ar=1073741823;break;case 4:Ar=1e4;break;default:Ar=5e3}return Ar=Er+Ar,cr={id:Bt++,callback:pr,priorityLevel:cr,startTime:Er,expirationTime:Ar,sortIndex:-1},Er>_r?(cr.sortIndex=Er,lt(Rt,cr),dt(Tt)===null&&cr===dt(Rt)&&(Kt?(Wt(rr),rr=-1):Kt=!0,br(nr,Er-_r))):(cr.sortIndex=Ar,lt(Tt,cr),Ut||kt||(Ut=!0,Sr(sr))),cr},ft.unstable_shouldYield=dr,ft.unstable_wrapCallback=function(cr){var pr=Ft;return function(){var Er=Ft;Ft=pr;try{return cr.apply(this,arguments)}finally{Ft=Er}}}})(scheduler_production_min$2);scheduler$2.exports=scheduler_production_min$2;var schedulerExports$1=scheduler$2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$5(ft){for(var lt="https://reactjs.org/docs/error-decoder.html?invariant="+ft,dt=1;dt<arguments.length;dt++)lt+="&args[]="+encodeURIComponent(arguments[dt]);return"Minified React error #"+ft+"; visit "+lt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(ft,lt){ha(ft,lt),ha(ft+"Capture",lt)}function ha(ft,lt){for(ea[ft]=lt,ft=0;ft<lt.length;ft++)da.add(lt[ft])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(ft){return ja.call(ma,ft)?!0:ja.call(la,ft)?!1:ka.test(ft)?ma[ft]=!0:(la[ft]=!0,!1)}function pa(ft,lt,dt,vt){if(dt!==null&&dt.type===0)return!1;switch(typeof lt){case"function":case"symbol":return!0;case"boolean":return vt?!1:dt!==null?!dt.acceptsBooleans:(ft=ft.toLowerCase().slice(0,5),ft!=="data-"&&ft!=="aria-");default:return!1}}function qa(ft,lt,dt,vt){if(lt===null||typeof lt>"u"||pa(ft,lt,dt,vt))return!0;if(vt)return!1;if(dt!==null)switch(dt.type){case 3:return!lt;case 4:return lt===!1;case 5:return isNaN(lt);case 6:return isNaN(lt)||1>lt}return!1}function v$5(ft,lt,dt,vt,St,Et,At){this.acceptsBooleans=lt===2||lt===3||lt===4,this.attributeName=vt,this.attributeNamespace=St,this.mustUseProperty=dt,this.propertyName=ft,this.type=lt,this.sanitizeURL=Et,this.removeEmptyString=At}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ft){z$3[ft]=new v$5(ft,0,!1,ft,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ft){var lt=ft[0];z$3[lt]=new v$5(lt,1,!1,ft[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ft){z$3[ft]=new v$5(ft,2,!1,ft.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ft){z$3[ft]=new v$5(ft,2,!1,ft,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ft){z$3[ft]=new v$5(ft,3,!1,ft.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ft){z$3[ft]=new v$5(ft,3,!0,ft,null,!1,!1)});["capture","download"].forEach(function(ft){z$3[ft]=new v$5(ft,4,!1,ft,null,!1,!1)});["cols","rows","size","span"].forEach(function(ft){z$3[ft]=new v$5(ft,6,!1,ft,null,!1,!1)});["rowSpan","start"].forEach(function(ft){z$3[ft]=new v$5(ft,5,!1,ft.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(ft){return ft[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ft){var lt=ft.replace(ra,sa);z$3[lt]=new v$5(lt,1,!1,ft,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ft){var lt=ft.replace(ra,sa);z$3[lt]=new v$5(lt,1,!1,ft,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ft){var lt=ft.replace(ra,sa);z$3[lt]=new v$5(lt,1,!1,ft,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ft){z$3[ft]=new v$5(ft,1,!1,ft.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ft){z$3[ft]=new v$5(ft,1,!1,ft.toLowerCase(),null,!0,!0)});function ta(ft,lt,dt,vt){var St=z$3.hasOwnProperty(lt)?z$3[lt]:null;(St!==null?St.type!==0:vt||!(2<lt.length)||lt[0]!=="o"&&lt[0]!=="O"||lt[1]!=="n"&&lt[1]!=="N")&&(qa(lt,dt,St,vt)&&(dt=null),vt||St===null?oa(lt)&&(dt===null?ft.removeAttribute(lt):ft.setAttribute(lt,""+dt)):St.mustUseProperty?ft[St.propertyName]=dt===null?St.type===3?!1:"":dt:(lt=St.attributeName,vt=St.attributeNamespace,dt===null?ft.removeAttribute(lt):(St=St.type,dt=St===3||St===4&&dt===!0?"":""+dt,vt?ft.setAttributeNS(vt,lt,dt):ft.setAttribute(lt,dt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(ft){return ft===null||typeof ft!="object"?null:(ft=Ja&&ft[Ja]||ft["@@iterator"],typeof ft=="function"?ft:null)}var A$2=Object.assign,La;function Ma(ft){if(La===void 0)try{throw Error()}catch(dt){var lt=dt.stack.trim().match(/\n( *(at )?)/);La=lt&&lt[1]||""}return`
`+La+ft}var Na=!1;function Oa(ft,lt){if(!ft||Na)return"";Na=!0;var dt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(lt)if(lt=function(){throw Error()},Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Rt){var vt=Rt}Reflect.construct(ft,[],lt)}else{try{lt.call()}catch(Rt){vt=Rt}ft.call(lt.prototype)}else{try{throw Error()}catch(Rt){vt=Rt}ft()}}catch(Rt){if(Rt&&vt&&typeof Rt.stack=="string"){for(var St=Rt.stack.split(`
`),Et=vt.stack.split(`
`),At=St.length-1,Ct=Et.length-1;1<=At&&0<=Ct&&St[At]!==Et[Ct];)Ct--;for(;1<=At&&0<=Ct;At--,Ct--)if(St[At]!==Et[Ct]){if(At!==1||Ct!==1)do if(At--,Ct--,0>Ct||St[At]!==Et[Ct]){var Tt=`
`+St[At].replace(" at new "," at ");return ft.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",ft.displayName)),Tt}while(1<=At&&0<=Ct);break}}}finally{Na=!1,Error.prepareStackTrace=dt}return(ft=ft?ft.displayName||ft.name:"")?Ma(ft):""}function Pa(ft){switch(ft.tag){case 5:return Ma(ft.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ft=Oa(ft.type,!1),ft;case 11:return ft=Oa(ft.type.render,!1),ft;case 1:return ft=Oa(ft.type,!0),ft;default:return""}}function Qa(ft){if(ft==null)return null;if(typeof ft=="function")return ft.displayName||ft.name||null;if(typeof ft=="string")return ft;switch(ft){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof ft=="object")switch(ft.$$typeof){case Ca:return(ft.displayName||"Context")+".Consumer";case Ba:return(ft._context.displayName||"Context")+".Provider";case Da:var lt=ft.render;return ft=ft.displayName,ft||(ft=lt.displayName||lt.name||"",ft=ft!==""?"ForwardRef("+ft+")":"ForwardRef"),ft;case Ga:return lt=ft.displayName||null,lt!==null?lt:Qa(ft.type)||"Memo";case Ha:lt=ft._payload,ft=ft._init;try{return Qa(ft(lt))}catch{}}return null}function Ra(ft){var lt=ft.type;switch(ft.tag){case 24:return"Cache";case 9:return(lt.displayName||"Context")+".Consumer";case 10:return(lt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ft=lt.render,ft=ft.displayName||ft.name||"",lt.displayName||(ft!==""?"ForwardRef("+ft+")":"ForwardRef");case 7:return"Fragment";case 5:return lt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(lt);case 8:return lt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt}return null}function Sa(ft){switch(typeof ft){case"boolean":case"number":case"string":case"undefined":return ft;case"object":return ft;default:return""}}function Ta(ft){var lt=ft.type;return(ft=ft.nodeName)&&ft.toLowerCase()==="input"&&(lt==="checkbox"||lt==="radio")}function Ua(ft){var lt=Ta(ft)?"checked":"value",dt=Object.getOwnPropertyDescriptor(ft.constructor.prototype,lt),vt=""+ft[lt];if(!ft.hasOwnProperty(lt)&&typeof dt<"u"&&typeof dt.get=="function"&&typeof dt.set=="function"){var St=dt.get,Et=dt.set;return Object.defineProperty(ft,lt,{configurable:!0,get:function(){return St.call(this)},set:function(At){vt=""+At,Et.call(this,At)}}),Object.defineProperty(ft,lt,{enumerable:dt.enumerable}),{getValue:function(){return vt},setValue:function(At){vt=""+At},stopTracking:function(){ft._valueTracker=null,delete ft[lt]}}}}function Va(ft){ft._valueTracker||(ft._valueTracker=Ua(ft))}function Wa(ft){if(!ft)return!1;var lt=ft._valueTracker;if(!lt)return!0;var dt=lt.getValue(),vt="";return ft&&(vt=Ta(ft)?ft.checked?"true":"false":ft.value),ft=vt,ft!==dt?(lt.setValue(ft),!0):!1}function Xa(ft){if(ft=ft||(typeof document<"u"?document:void 0),typeof ft>"u")return null;try{return ft.activeElement||ft.body}catch{return ft.body}}function Ya(ft,lt){var dt=lt.checked;return A$2({},lt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:dt??ft._wrapperState.initialChecked})}function Za(ft,lt){var dt=lt.defaultValue==null?"":lt.defaultValue,vt=lt.checked!=null?lt.checked:lt.defaultChecked;dt=Sa(lt.value!=null?lt.value:dt),ft._wrapperState={initialChecked:vt,initialValue:dt,controlled:lt.type==="checkbox"||lt.type==="radio"?lt.checked!=null:lt.value!=null}}function ab(ft,lt){lt=lt.checked,lt!=null&&ta(ft,"checked",lt,!1)}function bb(ft,lt){ab(ft,lt);var dt=Sa(lt.value),vt=lt.type;if(dt!=null)vt==="number"?(dt===0&&ft.value===""||ft.value!=dt)&&(ft.value=""+dt):ft.value!==""+dt&&(ft.value=""+dt);else if(vt==="submit"||vt==="reset"){ft.removeAttribute("value");return}lt.hasOwnProperty("value")?cb(ft,lt.type,dt):lt.hasOwnProperty("defaultValue")&&cb(ft,lt.type,Sa(lt.defaultValue)),lt.checked==null&&lt.defaultChecked!=null&&(ft.defaultChecked=!!lt.defaultChecked)}function db(ft,lt,dt){if(lt.hasOwnProperty("value")||lt.hasOwnProperty("defaultValue")){var vt=lt.type;if(!(vt!=="submit"&&vt!=="reset"||lt.value!==void 0&&lt.value!==null))return;lt=""+ft._wrapperState.initialValue,dt||lt===ft.value||(ft.value=lt),ft.defaultValue=lt}dt=ft.name,dt!==""&&(ft.name=""),ft.defaultChecked=!!ft._wrapperState.initialChecked,dt!==""&&(ft.name=dt)}function cb(ft,lt,dt){(lt!=="number"||Xa(ft.ownerDocument)!==ft)&&(dt==null?ft.defaultValue=""+ft._wrapperState.initialValue:ft.defaultValue!==""+dt&&(ft.defaultValue=""+dt))}var eb=Array.isArray;function fb(ft,lt,dt,vt){if(ft=ft.options,lt){lt={};for(var St=0;St<dt.length;St++)lt["$"+dt[St]]=!0;for(dt=0;dt<ft.length;dt++)St=lt.hasOwnProperty("$"+ft[dt].value),ft[dt].selected!==St&&(ft[dt].selected=St),St&&vt&&(ft[dt].defaultSelected=!0)}else{for(dt=""+Sa(dt),lt=null,St=0;St<ft.length;St++){if(ft[St].value===dt){ft[St].selected=!0,vt&&(ft[St].defaultSelected=!0);return}lt!==null||ft[St].disabled||(lt=ft[St])}lt!==null&&(lt.selected=!0)}}function gb(ft,lt){if(lt.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},lt,{value:void 0,defaultValue:void 0,children:""+ft._wrapperState.initialValue})}function hb(ft,lt){var dt=lt.value;if(dt==null){if(dt=lt.children,lt=lt.defaultValue,dt!=null){if(lt!=null)throw Error(p$5(92));if(eb(dt)){if(1<dt.length)throw Error(p$5(93));dt=dt[0]}lt=dt}lt==null&&(lt=""),dt=lt}ft._wrapperState={initialValue:Sa(dt)}}function ib(ft,lt){var dt=Sa(lt.value),vt=Sa(lt.defaultValue);dt!=null&&(dt=""+dt,dt!==ft.value&&(ft.value=dt),lt.defaultValue==null&&ft.defaultValue!==dt&&(ft.defaultValue=dt)),vt!=null&&(ft.defaultValue=""+vt)}function jb(ft){var lt=ft.textContent;lt===ft._wrapperState.initialValue&&lt!==""&&lt!==null&&(ft.value=lt)}function kb(ft){switch(ft){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(ft,lt){return ft==null||ft==="http://www.w3.org/1999/xhtml"?kb(lt):ft==="http://www.w3.org/2000/svg"&&lt==="foreignObject"?"http://www.w3.org/1999/xhtml":ft}var mb,nb=function(ft){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(lt,dt,vt,St){MSApp.execUnsafeLocalFunction(function(){return ft(lt,dt,vt,St)})}:ft}(function(ft,lt){if(ft.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ft)ft.innerHTML=lt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+lt.valueOf().toString()+"</svg>",lt=mb.firstChild;ft.firstChild;)ft.removeChild(ft.firstChild);for(;lt.firstChild;)ft.appendChild(lt.firstChild)}});function ob(ft,lt){if(lt){var dt=ft.firstChild;if(dt&&dt===ft.lastChild&&dt.nodeType===3){dt.nodeValue=lt;return}}ft.textContent=lt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(ft){qb.forEach(function(lt){lt=lt+ft.charAt(0).toUpperCase()+ft.substring(1),pb[lt]=pb[ft]})});function rb(ft,lt,dt){return lt==null||typeof lt=="boolean"||lt===""?"":dt||typeof lt!="number"||lt===0||pb.hasOwnProperty(ft)&&pb[ft]?(""+lt).trim():lt+"px"}function sb(ft,lt){ft=ft.style;for(var dt in lt)if(lt.hasOwnProperty(dt)){var vt=dt.indexOf("--")===0,St=rb(dt,lt[dt],vt);dt==="float"&&(dt="cssFloat"),vt?ft.setProperty(dt,St):ft[dt]=St}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(ft,lt){if(lt){if(tb[ft]&&(lt.children!=null||lt.dangerouslySetInnerHTML!=null))throw Error(p$5(137,ft));if(lt.dangerouslySetInnerHTML!=null){if(lt.children!=null)throw Error(p$5(60));if(typeof lt.dangerouslySetInnerHTML!="object"||!("__html"in lt.dangerouslySetInnerHTML))throw Error(p$5(61))}if(lt.style!=null&&typeof lt.style!="object")throw Error(p$5(62))}}function vb(ft,lt){if(ft.indexOf("-")===-1)return typeof lt.is=="string";switch(ft){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(ft){return ft=ft.target||ft.srcElement||window,ft.correspondingUseElement&&(ft=ft.correspondingUseElement),ft.nodeType===3?ft.parentNode:ft}var yb=null,zb=null,Ab=null;function Bb(ft){if(ft=Cb(ft)){if(typeof yb!="function")throw Error(p$5(280));var lt=ft.stateNode;lt&&(lt=Db(lt),yb(ft.stateNode,ft.type,lt))}}function Eb(ft){zb?Ab?Ab.push(ft):Ab=[ft]:zb=ft}function Fb(){if(zb){var ft=zb,lt=Ab;if(Ab=zb=null,Bb(ft),lt)for(ft=0;ft<lt.length;ft++)Bb(lt[ft])}}function Gb(ft,lt){return ft(lt)}function Hb(){}var Ib=!1;function Jb(ft,lt,dt){if(Ib)return ft(lt,dt);Ib=!0;try{return Gb(ft,lt,dt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(ft,lt){var dt=ft.stateNode;if(dt===null)return null;var vt=Db(dt);if(vt===null)return null;dt=vt[lt];e:switch(lt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(ft=ft.type,vt=!(ft==="button"||ft==="input"||ft==="select"||ft==="textarea")),ft=!vt;break e;default:ft=!1}if(ft)return null;if(dt&&typeof dt!="function")throw Error(p$5(231,lt,typeof dt));return dt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(ft,lt,dt,vt,St,Et,At,Ct,Tt){var Rt=Array.prototype.slice.call(arguments,3);try{lt.apply(dt,Rt)}catch(Bt){this.onError(Bt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(ft){Ob=!0,Pb=ft}};function Tb(ft,lt,dt,vt,St,Et,At,Ct,Tt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(ft,lt,dt,vt,St,Et,At,Ct,Tt){if(Tb.apply(this,arguments),Ob){if(Ob){var Rt=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=Rt)}}function Vb(ft){var lt=ft,dt=ft;if(ft.alternate)for(;lt.return;)lt=lt.return;else{ft=lt;do lt=ft,lt.flags&4098&&(dt=lt.return),ft=lt.return;while(ft)}return lt.tag===3?dt:null}function Wb(ft){if(ft.tag===13){var lt=ft.memoizedState;if(lt===null&&(ft=ft.alternate,ft!==null&&(lt=ft.memoizedState)),lt!==null)return lt.dehydrated}return null}function Xb(ft){if(Vb(ft)!==ft)throw Error(p$5(188))}function Yb(ft){var lt=ft.alternate;if(!lt){if(lt=Vb(ft),lt===null)throw Error(p$5(188));return lt!==ft?null:ft}for(var dt=ft,vt=lt;;){var St=dt.return;if(St===null)break;var Et=St.alternate;if(Et===null){if(vt=St.return,vt!==null){dt=vt;continue}break}if(St.child===Et.child){for(Et=St.child;Et;){if(Et===dt)return Xb(St),ft;if(Et===vt)return Xb(St),lt;Et=Et.sibling}throw Error(p$5(188))}if(dt.return!==vt.return)dt=St,vt=Et;else{for(var At=!1,Ct=St.child;Ct;){if(Ct===dt){At=!0,dt=St,vt=Et;break}if(Ct===vt){At=!0,vt=St,dt=Et;break}Ct=Ct.sibling}if(!At){for(Ct=Et.child;Ct;){if(Ct===dt){At=!0,dt=Et,vt=St;break}if(Ct===vt){At=!0,vt=Et,dt=St;break}Ct=Ct.sibling}if(!At)throw Error(p$5(189))}}if(dt.alternate!==vt)throw Error(p$5(190))}if(dt.tag!==3)throw Error(p$5(188));return dt.stateNode.current===dt?ft:lt}function Zb(ft){return ft=Yb(ft),ft!==null?$b(ft):null}function $b(ft){if(ft.tag===5||ft.tag===6)return ft;for(ft=ft.child;ft!==null;){var lt=$b(ft);if(lt!==null)return lt;ft=ft.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(ft){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,ft,void 0,(ft.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(ft){return ft>>>=0,ft===0?32:31-(pc(ft)/qc|0)|0}var rc=64,sc=4194304;function tc(ft){switch(ft&-ft){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ft&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ft&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ft}}function uc(ft,lt){var dt=ft.pendingLanes;if(dt===0)return 0;var vt=0,St=ft.suspendedLanes,Et=ft.pingedLanes,At=dt&268435455;if(At!==0){var Ct=At&~St;Ct!==0?vt=tc(Ct):(Et&=At,Et!==0&&(vt=tc(Et)))}else At=dt&~St,At!==0?vt=tc(At):Et!==0&&(vt=tc(Et));if(vt===0)return 0;if(lt!==0&&lt!==vt&&!(lt&St)&&(St=vt&-vt,Et=lt&-lt,St>=Et||St===16&&(Et&4194240)!==0))return lt;if(vt&4&&(vt|=dt&16),lt=ft.entangledLanes,lt!==0)for(ft=ft.entanglements,lt&=vt;0<lt;)dt=31-oc(lt),St=1<<dt,vt|=ft[dt],lt&=~St;return vt}function vc(ft,lt){switch(ft){case 1:case 2:case 4:return lt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(ft,lt){for(var dt=ft.suspendedLanes,vt=ft.pingedLanes,St=ft.expirationTimes,Et=ft.pendingLanes;0<Et;){var At=31-oc(Et),Ct=1<<At,Tt=St[At];Tt===-1?(!(Ct&dt)||Ct&vt)&&(St[At]=vc(Ct,lt)):Tt<=lt&&(ft.expiredLanes|=Ct),Et&=~Ct}}function xc(ft){return ft=ft.pendingLanes&-1073741825,ft!==0?ft:ft&1073741824?1073741824:0}function yc(){var ft=rc;return rc<<=1,!(rc&4194240)&&(rc=64),ft}function zc(ft){for(var lt=[],dt=0;31>dt;dt++)lt.push(ft);return lt}function Ac(ft,lt,dt){ft.pendingLanes|=lt,lt!==536870912&&(ft.suspendedLanes=0,ft.pingedLanes=0),ft=ft.eventTimes,lt=31-oc(lt),ft[lt]=dt}function Bc(ft,lt){var dt=ft.pendingLanes&~lt;ft.pendingLanes=lt,ft.suspendedLanes=0,ft.pingedLanes=0,ft.expiredLanes&=lt,ft.mutableReadLanes&=lt,ft.entangledLanes&=lt,lt=ft.entanglements;var vt=ft.eventTimes;for(ft=ft.expirationTimes;0<dt;){var St=31-oc(dt),Et=1<<St;lt[St]=0,vt[St]=-1,ft[St]=-1,dt&=~Et}}function Cc(ft,lt){var dt=ft.entangledLanes|=lt;for(ft=ft.entanglements;dt;){var vt=31-oc(dt),St=1<<vt;St&lt|ft[vt]&lt&&(ft[vt]|=lt),dt&=~St}}var C$2=0;function Dc(ft){return ft&=-ft,1<ft?4<ft?ft&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(ft,lt){switch(ft){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(lt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(lt.pointerId)}}function Tc(ft,lt,dt,vt,St,Et){return ft===null||ft.nativeEvent!==Et?(ft={blockedOn:lt,domEventName:dt,eventSystemFlags:vt,nativeEvent:Et,targetContainers:[St]},lt!==null&&(lt=Cb(lt),lt!==null&&Fc(lt)),ft):(ft.eventSystemFlags|=vt,lt=ft.targetContainers,St!==null&&lt.indexOf(St)===-1&&lt.push(St),ft)}function Uc(ft,lt,dt,vt,St){switch(lt){case"focusin":return Lc=Tc(Lc,ft,lt,dt,vt,St),!0;case"dragenter":return Mc=Tc(Mc,ft,lt,dt,vt,St),!0;case"mouseover":return Nc=Tc(Nc,ft,lt,dt,vt,St),!0;case"pointerover":var Et=St.pointerId;return Oc.set(Et,Tc(Oc.get(Et)||null,ft,lt,dt,vt,St)),!0;case"gotpointercapture":return Et=St.pointerId,Pc.set(Et,Tc(Pc.get(Et)||null,ft,lt,dt,vt,St)),!0}return!1}function Vc(ft){var lt=Wc(ft.target);if(lt!==null){var dt=Vb(lt);if(dt!==null){if(lt=dt.tag,lt===13){if(lt=Wb(dt),lt!==null){ft.blockedOn=lt,Ic(ft.priority,function(){Gc(dt)});return}}else if(lt===3&&dt.stateNode.current.memoizedState.isDehydrated){ft.blockedOn=dt.tag===3?dt.stateNode.containerInfo:null;return}}}ft.blockedOn=null}function Xc(ft){if(ft.blockedOn!==null)return!1;for(var lt=ft.targetContainers;0<lt.length;){var dt=Yc(ft.domEventName,ft.eventSystemFlags,lt[0],ft.nativeEvent);if(dt===null){dt=ft.nativeEvent;var vt=new dt.constructor(dt.type,dt);wb=vt,dt.target.dispatchEvent(vt),wb=null}else return lt=Cb(dt),lt!==null&&Fc(lt),ft.blockedOn=dt,!1;lt.shift()}return!0}function Zc(ft,lt,dt){Xc(ft)&&dt.delete(lt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(ft,lt){ft.blockedOn===lt&&(ft.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(ft){function lt(St){return ad(St,ft)}if(0<Kc.length){ad(Kc[0],ft);for(var dt=1;dt<Kc.length;dt++){var vt=Kc[dt];vt.blockedOn===ft&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,ft),Mc!==null&&ad(Mc,ft),Nc!==null&&ad(Nc,ft),Oc.forEach(lt),Pc.forEach(lt),dt=0;dt<Qc.length;dt++)vt=Qc[dt],vt.blockedOn===ft&&(vt.blockedOn=null);for(;0<Qc.length&&(dt=Qc[0],dt.blockedOn===null);)Vc(dt),dt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(ft,lt,dt,vt){var St=C$2,Et=cd.transition;cd.transition=null;try{C$2=1,fd(ft,lt,dt,vt)}finally{C$2=St,cd.transition=Et}}function gd(ft,lt,dt,vt){var St=C$2,Et=cd.transition;cd.transition=null;try{C$2=4,fd(ft,lt,dt,vt)}finally{C$2=St,cd.transition=Et}}function fd(ft,lt,dt,vt){if(dd){var St=Yc(ft,lt,dt,vt);if(St===null)hd(ft,lt,vt,id$1,dt),Sc(ft,vt);else if(Uc(St,ft,lt,dt,vt))vt.stopPropagation();else if(Sc(ft,vt),lt&4&&-1<Rc.indexOf(ft)){for(;St!==null;){var Et=Cb(St);if(Et!==null&&Ec(Et),Et=Yc(ft,lt,dt,vt),Et===null&&hd(ft,lt,vt,id$1,dt),Et===St)break;St=Et}St!==null&&vt.stopPropagation()}else hd(ft,lt,vt,null,dt)}}var id$1=null;function Yc(ft,lt,dt,vt){if(id$1=null,ft=xb(vt),ft=Wc(ft),ft!==null)if(lt=Vb(ft),lt===null)ft=null;else if(dt=lt.tag,dt===13){if(ft=Wb(lt),ft!==null)return ft;ft=null}else if(dt===3){if(lt.stateNode.current.memoizedState.isDehydrated)return lt.tag===3?lt.stateNode.containerInfo:null;ft=null}else lt!==ft&&(ft=null);return id$1=ft,null}function jd(ft){switch(ft){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var ft,lt=ld,dt=lt.length,vt,St="value"in kd?kd.value:kd.textContent,Et=St.length;for(ft=0;ft<dt&&lt[ft]===St[ft];ft++);var At=dt-ft;for(vt=1;vt<=At&&lt[dt-vt]===St[Et-vt];vt++);return md=St.slice(ft,1<vt?1-vt:void 0)}function od(ft){var lt=ft.keyCode;return"charCode"in ft?(ft=ft.charCode,ft===0&&lt===13&&(ft=13)):ft=lt,ft===10&&(ft=13),32<=ft||ft===13?ft:0}function pd(){return!0}function qd(){return!1}function rd(ft){function lt(dt,vt,St,Et,At){this._reactName=dt,this._targetInst=St,this.type=vt,this.nativeEvent=Et,this.target=At,this.currentTarget=null;for(var Ct in ft)ft.hasOwnProperty(Ct)&&(dt=ft[Ct],this[Ct]=dt?dt(Et):Et[Ct]);return this.isDefaultPrevented=(Et.defaultPrevented!=null?Et.defaultPrevented:Et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var dt=this.nativeEvent;dt&&(dt.preventDefault?dt.preventDefault():typeof dt.returnValue!="unknown"&&(dt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var dt=this.nativeEvent;dt&&(dt.stopPropagation?dt.stopPropagation():typeof dt.cancelBubble!="unknown"&&(dt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),lt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ft){return ft.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(ft){return ft.relatedTarget===void 0?ft.fromElement===ft.srcElement?ft.toElement:ft.fromElement:ft.relatedTarget},movementX:function(ft){return"movementX"in ft?ft.movementX:(ft!==yd&&(yd&&ft.type==="mousemove"?(wd=ft.screenX-yd.screenX,xd=ft.screenY-yd.screenY):xd=wd=0,yd=ft),wd)},movementY:function(ft){return"movementY"in ft?ft.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(ft){return"clipboardData"in ft?ft.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(ft){var lt=this.nativeEvent;return lt.getModifierState?lt.getModifierState(ft):(ft=Od[ft])?!!lt[ft]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(ft){if(ft.key){var lt=Md[ft.key]||ft.key;if(lt!=="Unidentified")return lt}return ft.type==="keypress"?(ft=od(ft),ft===13?"Enter":String.fromCharCode(ft)):ft.type==="keydown"||ft.type==="keyup"?Nd[ft.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(ft){return ft.type==="keypress"?od(ft):0},keyCode:function(ft){return ft.type==="keydown"||ft.type==="keyup"?ft.keyCode:0},which:function(ft){return ft.type==="keypress"?od(ft):ft.type==="keydown"||ft.type==="keyup"?ft.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(ft){return"deltaX"in ft?ft.deltaX:"wheelDeltaX"in ft?-ft.wheelDeltaX:0},deltaY:function(ft){return"deltaY"in ft?ft.deltaY:"wheelDeltaY"in ft?-ft.wheelDeltaY:"wheelDelta"in ft?-ft.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$2,de$2=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=String.fromCharCode(32),fe$2=!1;function ge$1(ft,lt){switch(ft){case"keyup":return $d.indexOf(lt.keyCode)!==-1;case"keydown":return lt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(ft){return ft=ft.detail,typeof ft=="object"&&"data"in ft?ft.data:null}var ie$1=!1;function je$1(ft,lt){switch(ft){case"compositionend":return he$2(lt);case"keypress":return lt.which!==32?null:(fe$2=!0,ee$1);case"textInput":return ft=lt.data,ft===ee$1&&fe$2?null:ft;default:return null}}function ke$1(ft,lt){if(ie$1)return ft==="compositionend"||!ae$2&&ge$1(ft,lt)?(ft=nd(),md=ld=kd=null,ie$1=!1,ft):null;switch(ft){case"paste":return null;case"keypress":if(!(lt.ctrlKey||lt.altKey||lt.metaKey)||lt.ctrlKey&&lt.altKey){if(lt.char&&1<lt.char.length)return lt.char;if(lt.which)return String.fromCharCode(lt.which)}return null;case"compositionend":return de$2&&lt.locale!=="ko"?null:lt.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(ft){var lt=ft&&ft.nodeName&&ft.nodeName.toLowerCase();return lt==="input"?!!le$2[ft.type]:lt==="textarea"}function ne$3(ft,lt,dt,vt){Eb(vt),lt=oe$2(lt,"onChange"),0<lt.length&&(dt=new td("onChange","change",null,dt,vt),ft.push({event:dt,listeners:lt}))}var pe$1=null,qe$2=null;function re$2(ft){se$2(ft,0)}function te$2(ft){var lt=ue$2(ft);if(Wa(lt))return ft}function ve$1(ft,lt){if(ft==="change")return lt}var we$2=!1;if(ia){var xe$2;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$2=typeof ze$2.oninput=="function"}xe$2=ye$2}else xe$2=!1;we$2=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$2=pe$1=null)}function Be$1(ft){if(ft.propertyName==="value"&&te$2(qe$2)){var lt=[];ne$3(lt,qe$2,ft,xb(ft)),Jb(re$2,lt)}}function Ce$2(ft,lt,dt){ft==="focusin"?(Ae$1(),pe$1=lt,qe$2=dt,pe$1.attachEvent("onpropertychange",Be$1)):ft==="focusout"&&Ae$1()}function De$2(ft){if(ft==="selectionchange"||ft==="keyup"||ft==="keydown")return te$2(qe$2)}function Ee$2(ft,lt){if(ft==="click")return te$2(lt)}function Fe(ft,lt){if(ft==="input"||ft==="change")return te$2(lt)}function Ge$2(ft,lt){return ft===lt&&(ft!==0||1/ft===1/lt)||ft!==ft&&lt!==lt}var He$2=typeof Object.is=="function"?Object.is:Ge$2;function Ie$1(ft,lt){if(He$2(ft,lt))return!0;if(typeof ft!="object"||ft===null||typeof lt!="object"||lt===null)return!1;var dt=Object.keys(ft),vt=Object.keys(lt);if(dt.length!==vt.length)return!1;for(vt=0;vt<dt.length;vt++){var St=dt[vt];if(!ja.call(lt,St)||!He$2(ft[St],lt[St]))return!1}return!0}function Je(ft){for(;ft&&ft.firstChild;)ft=ft.firstChild;return ft}function Ke$2(ft,lt){var dt=Je(ft);ft=0;for(var vt;dt;){if(dt.nodeType===3){if(vt=ft+dt.textContent.length,ft<=lt&&vt>=lt)return{node:dt,offset:lt-ft};ft=vt}e:{for(;dt;){if(dt.nextSibling){dt=dt.nextSibling;break e}dt=dt.parentNode}dt=void 0}dt=Je(dt)}}function Le$3(ft,lt){return ft&&lt?ft===lt?!0:ft&&ft.nodeType===3?!1:lt&&lt.nodeType===3?Le$3(ft,lt.parentNode):"contains"in ft?ft.contains(lt):ft.compareDocumentPosition?!!(ft.compareDocumentPosition(lt)&16):!1:!1}function Me$1(){for(var ft=window,lt=Xa();lt instanceof ft.HTMLIFrameElement;){try{var dt=typeof lt.contentWindow.location.href=="string"}catch{dt=!1}if(dt)ft=lt.contentWindow;else break;lt=Xa(ft.document)}return lt}function Ne$2(ft){var lt=ft&&ft.nodeName&&ft.nodeName.toLowerCase();return lt&&(lt==="input"&&(ft.type==="text"||ft.type==="search"||ft.type==="tel"||ft.type==="url"||ft.type==="password")||lt==="textarea"||ft.contentEditable==="true")}function Oe$1(ft){var lt=Me$1(),dt=ft.focusedElem,vt=ft.selectionRange;if(lt!==dt&&dt&&dt.ownerDocument&&Le$3(dt.ownerDocument.documentElement,dt)){if(vt!==null&&Ne$2(dt)){if(lt=vt.start,ft=vt.end,ft===void 0&&(ft=lt),"selectionStart"in dt)dt.selectionStart=lt,dt.selectionEnd=Math.min(ft,dt.value.length);else if(ft=(lt=dt.ownerDocument||document)&&lt.defaultView||window,ft.getSelection){ft=ft.getSelection();var St=dt.textContent.length,Et=Math.min(vt.start,St);vt=vt.end===void 0?Et:Math.min(vt.end,St),!ft.extend&&Et>vt&&(St=vt,vt=Et,Et=St),St=Ke$2(dt,Et);var At=Ke$2(dt,vt);St&&At&&(ft.rangeCount!==1||ft.anchorNode!==St.node||ft.anchorOffset!==St.offset||ft.focusNode!==At.node||ft.focusOffset!==At.offset)&&(lt=lt.createRange(),lt.setStart(St.node,St.offset),ft.removeAllRanges(),Et>vt?(ft.addRange(lt),ft.extend(At.node,At.offset)):(lt.setEnd(At.node,At.offset),ft.addRange(lt)))}}for(lt=[],ft=dt;ft=ft.parentNode;)ft.nodeType===1&&lt.push({element:ft,left:ft.scrollLeft,top:ft.scrollTop});for(typeof dt.focus=="function"&&dt.focus(),dt=0;dt<lt.length;dt++)ft=lt[dt],ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}var Pe$2=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue$2(ft,lt,dt){var vt=dt.window===dt?dt.document:dt.nodeType===9?dt:dt.ownerDocument;Te$1||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne$2(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie$1(Se,vt)||(Se=vt,vt=oe$2(Re$1,"onSelect"),0<vt.length&&(lt=new td("onSelect","select",null,lt,dt),ft.push({event:lt,listeners:vt}),lt.target=Qe)))}function Ve$1(ft,lt){var dt={};return dt[ft.toLowerCase()]=lt.toLowerCase(),dt["Webkit"+ft]="webkit"+lt,dt["Moz"+ft]="moz"+lt,dt}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(ft){if(Xe[ft])return Xe[ft];if(!We$1[ft])return ft;var lt=We$1[ft],dt;for(dt in lt)if(lt.hasOwnProperty(dt)&&dt in Ye)return Xe[ft]=lt[dt];return ft}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(ft,lt){df.set(ft,lt),fa(lt,[ft])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(ft,lt,dt){var vt=ft.type||"unknown-event";ft.currentTarget=dt,Ub(vt,lt,void 0,ft),ft.currentTarget=null}function se$2(ft,lt){lt=(lt&4)!==0;for(var dt=0;dt<ft.length;dt++){var vt=ft[dt],St=vt.event;vt=vt.listeners;e:{var Et=void 0;if(lt)for(var At=vt.length-1;0<=At;At--){var Ct=vt[At],Tt=Ct.instance,Rt=Ct.currentTarget;if(Ct=Ct.listener,Tt!==Et&&St.isPropagationStopped())break e;nf(St,Ct,Rt),Et=Tt}else for(At=0;At<vt.length;At++){if(Ct=vt[At],Tt=Ct.instance,Rt=Ct.currentTarget,Ct=Ct.listener,Tt!==Et&&St.isPropagationStopped())break e;nf(St,Ct,Rt),Et=Tt}}}if(Qb)throw ft=Rb,Qb=!1,Rb=null,ft}function D$3(ft,lt){var dt=lt[of];dt===void 0&&(dt=lt[of]=new Set);var vt=ft+"__bubble";dt.has(vt)||(pf(lt,ft,2,!1),dt.add(vt))}function qf(ft,lt,dt){var vt=0;lt&&(vt|=4),pf(dt,ft,vt,lt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(ft){if(!ft[rf]){ft[rf]=!0,da.forEach(function(dt){dt!=="selectionchange"&&(mf.has(dt)||qf(dt,!1,ft),qf(dt,!0,ft))});var lt=ft.nodeType===9?ft:ft.ownerDocument;lt===null||lt[rf]||(lt[rf]=!0,qf("selectionchange",!1,lt))}}function pf(ft,lt,dt,vt){switch(jd(lt)){case 1:var St=ed;break;case 4:St=gd;break;default:St=fd}dt=St.bind(null,lt,dt,ft),St=void 0,!Lb||lt!=="touchstart"&&lt!=="touchmove"&&lt!=="wheel"||(St=!0),vt?St!==void 0?ft.addEventListener(lt,dt,{capture:!0,passive:St}):ft.addEventListener(lt,dt,!0):St!==void 0?ft.addEventListener(lt,dt,{passive:St}):ft.addEventListener(lt,dt,!1)}function hd(ft,lt,dt,vt,St){var Et=vt;if(!(lt&1)&&!(lt&2)&&vt!==null)e:for(;;){if(vt===null)return;var At=vt.tag;if(At===3||At===4){var Ct=vt.stateNode.containerInfo;if(Ct===St||Ct.nodeType===8&&Ct.parentNode===St)break;if(At===4)for(At=vt.return;At!==null;){var Tt=At.tag;if((Tt===3||Tt===4)&&(Tt=At.stateNode.containerInfo,Tt===St||Tt.nodeType===8&&Tt.parentNode===St))return;At=At.return}for(;Ct!==null;){if(At=Wc(Ct),At===null)return;if(Tt=At.tag,Tt===5||Tt===6){vt=Et=At;continue e}Ct=Ct.parentNode}}vt=vt.return}Jb(function(){var Rt=Et,Bt=xb(dt),Dt=[];e:{var Ft=df.get(ft);if(Ft!==void 0){var kt=td,Ut=ft;switch(ft){case"keypress":if(od(dt)===0)break e;case"keydown":case"keyup":kt=Rd;break;case"focusin":Ut="focus",kt=Fd;break;case"focusout":Ut="blur",kt=Fd;break;case"beforeblur":case"afterblur":kt=Fd;break;case"click":if(dt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Vd;break;case $e$1:case af:case bf:kt=Hd;break;case cf:kt=Xd;break;case"scroll":kt=vd;break;case"wheel":kt=Zd;break;case"copy":case"cut":case"paste":kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Td}var Kt=(lt&4)!==0,tr=!Kt&&ft==="scroll",Wt=Kt?Ft!==null?Ft+"Capture":null:Ft;Kt=[];for(var Zt=Rt,Ht;Zt!==null;){Ht=Zt;var nr=Ht.stateNode;if(Ht.tag===5&&nr!==null&&(Ht=nr,Wt!==null&&(nr=Kb(Zt,Wt),nr!=null&&Kt.push(tf(Zt,nr,Ht)))),tr)break;Zt=Zt.return}0<Kt.length&&(Ft=new kt(Ft,Ut,null,dt,Bt),Dt.push({event:Ft,listeners:Kt}))}}if(!(lt&7)){e:{if(Ft=ft==="mouseover"||ft==="pointerover",kt=ft==="mouseout"||ft==="pointerout",Ft&&dt!==wb&&(Ut=dt.relatedTarget||dt.fromElement)&&(Wc(Ut)||Ut[uf]))break e;if((kt||Ft)&&(Ft=Bt.window===Bt?Bt:(Ft=Bt.ownerDocument)?Ft.defaultView||Ft.parentWindow:window,kt?(Ut=dt.relatedTarget||dt.toElement,kt=Rt,Ut=Ut?Wc(Ut):null,Ut!==null&&(tr=Vb(Ut),Ut!==tr||Ut.tag!==5&&Ut.tag!==6)&&(Ut=null)):(kt=null,Ut=Rt),kt!==Ut)){if(Kt=Bd,nr="onMouseLeave",Wt="onMouseEnter",Zt="mouse",(ft==="pointerout"||ft==="pointerover")&&(Kt=Td,nr="onPointerLeave",Wt="onPointerEnter",Zt="pointer"),tr=kt==null?Ft:ue$2(kt),Ht=Ut==null?Ft:ue$2(Ut),Ft=new Kt(nr,Zt+"leave",kt,dt,Bt),Ft.target=tr,Ft.relatedTarget=Ht,nr=null,Wc(Bt)===Rt&&(Kt=new Kt(Wt,Zt+"enter",Ut,dt,Bt),Kt.target=Ht,Kt.relatedTarget=tr,nr=Kt),tr=nr,kt&&Ut)t:{for(Kt=kt,Wt=Ut,Zt=0,Ht=Kt;Ht;Ht=vf(Ht))Zt++;for(Ht=0,nr=Wt;nr;nr=vf(nr))Ht++;for(;0<Zt-Ht;)Kt=vf(Kt),Zt--;for(;0<Ht-Zt;)Wt=vf(Wt),Ht--;for(;Zt--;){if(Kt===Wt||Wt!==null&&Kt===Wt.alternate)break t;Kt=vf(Kt),Wt=vf(Wt)}Kt=null}else Kt=null;kt!==null&&wf(Dt,Ft,kt,Kt,!1),Ut!==null&&tr!==null&&wf(Dt,tr,Ut,Kt,!0)}}e:{if(Ft=Rt?ue$2(Rt):window,kt=Ft.nodeName&&Ft.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Ft.type==="file")var sr=ve$1;else if(me$2(Ft))if(we$2)sr=Fe;else{sr=De$2;var ar=Ce$2}else(kt=Ft.nodeName)&&kt.toLowerCase()==="input"&&(Ft.type==="checkbox"||Ft.type==="radio")&&(sr=Ee$2);if(sr&&(sr=sr(ft,Rt))){ne$3(Dt,sr,dt,Bt);break e}ar&&ar(ft,Ft,Rt),ft==="focusout"&&(ar=Ft._wrapperState)&&ar.controlled&&Ft.type==="number"&&cb(Ft,"number",Ft.value)}switch(ar=Rt?ue$2(Rt):window,ft){case"focusin":(me$2(ar)||ar.contentEditable==="true")&&(Qe=ar,Re$1=Rt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$2(Dt,dt,Bt);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$2(Dt,dt,Bt)}var ir;if(ae$2)e:{switch(ft){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else ie$1?ge$1(ft,dt)&&(rr="onCompositionEnd"):ft==="keydown"&&dt.keyCode===229&&(rr="onCompositionStart");rr&&(de$2&&dt.locale!=="ko"&&(ie$1||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&ie$1&&(ir=nd()):(kd=Bt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),ar=oe$2(Rt,rr),0<ar.length&&(rr=new Ld(rr,ft,null,dt,Bt),Dt.push({event:rr,listeners:ar}),ir?rr.data=ir:(ir=he$2(dt),ir!==null&&(rr.data=ir)))),(ir=ce$1?je$1(ft,dt):ke$1(ft,dt))&&(Rt=oe$2(Rt,"onBeforeInput"),0<Rt.length&&(Bt=new Ld("onBeforeInput","beforeinput",null,dt,Bt),Dt.push({event:Bt,listeners:Rt}),Bt.data=ir))}se$2(Dt,lt)})}function tf(ft,lt,dt){return{instance:ft,listener:lt,currentTarget:dt}}function oe$2(ft,lt){for(var dt=lt+"Capture",vt=[];ft!==null;){var St=ft,Et=St.stateNode;St.tag===5&&Et!==null&&(St=Et,Et=Kb(ft,dt),Et!=null&&vt.unshift(tf(ft,Et,St)),Et=Kb(ft,lt),Et!=null&&vt.push(tf(ft,Et,St))),ft=ft.return}return vt}function vf(ft){if(ft===null)return null;do ft=ft.return;while(ft&&ft.tag!==5);return ft||null}function wf(ft,lt,dt,vt,St){for(var Et=lt._reactName,At=[];dt!==null&&dt!==vt;){var Ct=dt,Tt=Ct.alternate,Rt=Ct.stateNode;if(Tt!==null&&Tt===vt)break;Ct.tag===5&&Rt!==null&&(Ct=Rt,St?(Tt=Kb(dt,Et),Tt!=null&&At.unshift(tf(dt,Tt,Ct))):St||(Tt=Kb(dt,Et),Tt!=null&&At.push(tf(dt,Tt,Ct)))),dt=dt.return}At.length!==0&&ft.push({event:lt,listeners:At})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(ft){return(typeof ft=="string"?ft:""+ft).replace(xf,`
`).replace(yf,"")}function Af(ft,lt,dt){if(lt=zf(lt),zf(ft)!==lt&&dt)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(ft,lt){return ft==="textarea"||ft==="noscript"||typeof lt.children=="string"||typeof lt.children=="number"||typeof lt.dangerouslySetInnerHTML=="object"&&lt.dangerouslySetInnerHTML!==null&&lt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(ft){return Hf.resolve(null).then(ft).catch(If)}:Ff;function If(ft){setTimeout(function(){throw ft})}function Kf(ft,lt){var dt=lt,vt=0;do{var St=dt.nextSibling;if(ft.removeChild(dt),St&&St.nodeType===8)if(dt=St.data,dt==="/$"){if(vt===0){ft.removeChild(St),bd(lt);return}vt--}else dt!=="$"&&dt!=="$?"&&dt!=="$!"||vt++;dt=St}while(dt);bd(lt)}function Lf(ft){for(;ft!=null;ft=ft.nextSibling){var lt=ft.nodeType;if(lt===1||lt===3)break;if(lt===8){if(lt=ft.data,lt==="$"||lt==="$!"||lt==="$?")break;if(lt==="/$")return null}}return ft}function Mf(ft){ft=ft.previousSibling;for(var lt=0;ft;){if(ft.nodeType===8){var dt=ft.data;if(dt==="$"||dt==="$!"||dt==="$?"){if(lt===0)return ft;lt--}else dt==="/$"&&lt++}ft=ft.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(ft){var lt=ft[Of];if(lt)return lt;for(var dt=ft.parentNode;dt;){if(lt=dt[uf]||dt[Of]){if(dt=lt.alternate,lt.child!==null||dt!==null&&dt.child!==null)for(ft=Mf(ft);ft!==null;){if(dt=ft[Of])return dt;ft=Mf(ft)}return lt}ft=dt,dt=ft.parentNode}return null}function Cb(ft){return ft=ft[Of]||ft[uf],!ft||ft.tag!==5&&ft.tag!==6&&ft.tag!==13&&ft.tag!==3?null:ft}function ue$2(ft){if(ft.tag===5||ft.tag===6)return ft.stateNode;throw Error(p$5(33))}function Db(ft){return ft[Pf]||null}var Sf=[],Tf=-1;function Uf(ft){return{current:ft}}function E$4(ft){0>Tf||(ft.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(ft,lt){Tf++,Sf[Tf]=ft.current,ft.current=lt}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(ft,lt){var dt=ft.type.contextTypes;if(!dt)return Vf;var vt=ft.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===lt)return vt.__reactInternalMemoizedMaskedChildContext;var St={},Et;for(Et in dt)St[Et]=lt[Et];return vt&&(ft=ft.stateNode,ft.__reactInternalMemoizedUnmaskedChildContext=lt,ft.__reactInternalMemoizedMaskedChildContext=St),St}function Zf(ft){return ft=ft.childContextTypes,ft!=null}function $f(){E$4(Wf),E$4(H$3)}function ag(ft,lt,dt){if(H$3.current!==Vf)throw Error(p$5(168));G$1(H$3,lt),G$1(Wf,dt)}function bg(ft,lt,dt){var vt=ft.stateNode;if(lt=lt.childContextTypes,typeof vt.getChildContext!="function")return dt;vt=vt.getChildContext();for(var St in vt)if(!(St in lt))throw Error(p$5(108,Ra(ft)||"Unknown",St));return A$2({},dt,vt)}function cg(ft){return ft=(ft=ft.stateNode)&&ft.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,ft),G$1(Wf,Wf.current),!0}function dg(ft,lt,dt){var vt=ft.stateNode;if(!vt)throw Error(p$5(169));dt?(ft=bg(ft,lt,Xf),vt.__reactInternalMemoizedMergedChildContext=ft,E$4(Wf),E$4(H$3),G$1(H$3,ft)):E$4(Wf),G$1(Wf,dt)}var eg=null,fg=!1,gg=!1;function hg(ft){eg===null?eg=[ft]:eg.push(ft)}function ig(ft){fg=!0,hg(ft)}function jg(){if(!gg&&eg!==null){gg=!0;var ft=0,lt=C$2;try{var dt=eg;for(C$2=1;ft<dt.length;ft++){var vt=dt[ft];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(St){throw eg!==null&&(eg=eg.slice(ft+1)),ac(fc,jg),St}finally{C$2=lt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(ft,lt){kg[lg++]=ng,kg[lg++]=mg,mg=ft,ng=lt}function ug(ft,lt,dt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=ft;var vt=rg;ft=sg;var St=32-oc(vt)-1;vt&=~(1<<St),dt+=1;var Et=32-oc(lt)+St;if(30<Et){var At=St-St%5;Et=(vt&(1<<At)-1).toString(32),vt>>=At,St-=At,rg=1<<32-oc(lt)+St|dt<<St|vt,sg=Et+ft}else rg=1<<Et|dt<<St|vt,sg=ft}function vg(ft){ft.return!==null&&(tg(ft,1),ug(ft,1,0))}function wg(ft){for(;ft===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;ft===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(ft,lt){var dt=Bg(5,null,null,0);dt.elementType="DELETED",dt.stateNode=lt,dt.return=ft,lt=ft.deletions,lt===null?(ft.deletions=[dt],ft.flags|=16):lt.push(dt)}function Cg(ft,lt){switch(ft.tag){case 5:var dt=ft.type;return lt=lt.nodeType!==1||dt.toLowerCase()!==lt.nodeName.toLowerCase()?null:lt,lt!==null?(ft.stateNode=lt,xg=ft,yg=Lf(lt.firstChild),!0):!1;case 6:return lt=ft.pendingProps===""||lt.nodeType!==3?null:lt,lt!==null?(ft.stateNode=lt,xg=ft,yg=null,!0):!1;case 13:return lt=lt.nodeType!==8?null:lt,lt!==null?(dt=qg!==null?{id:rg,overflow:sg}:null,ft.memoizedState={dehydrated:lt,treeContext:dt,retryLane:1073741824},dt=Bg(18,null,null,0),dt.stateNode=lt,dt.return=ft,ft.child=dt,xg=ft,yg=null,!0):!1;default:return!1}}function Dg(ft){return(ft.mode&1)!==0&&(ft.flags&128)===0}function Eg(ft){if(I$3){var lt=yg;if(lt){var dt=lt;if(!Cg(ft,lt)){if(Dg(ft))throw Error(p$5(418));lt=Lf(dt.nextSibling);var vt=xg;lt&&Cg(ft,lt)?Ag(vt,dt):(ft.flags=ft.flags&-4097|2,I$3=!1,xg=ft)}}else{if(Dg(ft))throw Error(p$5(418));ft.flags=ft.flags&-4097|2,I$3=!1,xg=ft}}}function Fg(ft){for(ft=ft.return;ft!==null&&ft.tag!==5&&ft.tag!==3&&ft.tag!==13;)ft=ft.return;xg=ft}function Gg(ft){if(ft!==xg)return!1;if(!I$3)return Fg(ft),I$3=!0,!1;var lt;if((lt=ft.tag!==3)&&!(lt=ft.tag!==5)&&(lt=ft.type,lt=lt!=="head"&&lt!=="body"&&!Ef(ft.type,ft.memoizedProps)),lt&&(lt=yg)){if(Dg(ft))throw Hg(),Error(p$5(418));for(;lt;)Ag(ft,lt),lt=Lf(lt.nextSibling)}if(Fg(ft),ft.tag===13){if(ft=ft.memoizedState,ft=ft!==null?ft.dehydrated:null,!ft)throw Error(p$5(317));e:{for(ft=ft.nextSibling,lt=0;ft;){if(ft.nodeType===8){var dt=ft.data;if(dt==="/$"){if(lt===0){yg=Lf(ft.nextSibling);break e}lt--}else dt!=="$"&&dt!=="$!"&&dt!=="$?"||lt++}ft=ft.nextSibling}yg=null}}else yg=xg?Lf(ft.stateNode.nextSibling):null;return!0}function Hg(){for(var ft=yg;ft;)ft=Lf(ft.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(ft){zg===null?zg=[ft]:zg.push(ft)}var Kg=ua.ReactCurrentBatchConfig;function Lg(ft,lt){if(ft&&ft.defaultProps){lt=A$2({},lt),ft=ft.defaultProps;for(var dt in ft)lt[dt]===void 0&&(lt[dt]=ft[dt]);return lt}return lt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(ft){var lt=Mg.current;E$4(Mg),ft._currentValue=lt}function Sg(ft,lt,dt){for(;ft!==null;){var vt=ft.alternate;if((ft.childLanes&lt)!==lt?(ft.childLanes|=lt,vt!==null&&(vt.childLanes|=lt)):vt!==null&&(vt.childLanes&lt)!==lt&&(vt.childLanes|=lt),ft===dt)break;ft=ft.return}}function Tg(ft,lt){Ng=ft,Pg=Og=null,ft=ft.dependencies,ft!==null&&ft.firstContext!==null&&(ft.lanes&lt&&(Ug=!0),ft.firstContext=null)}function Vg(ft){var lt=ft._currentValue;if(Pg!==ft)if(ft={context:ft,memoizedValue:lt,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=ft,Ng.dependencies={lanes:0,firstContext:ft}}else Og=Og.next=ft;return lt}var Wg=null;function Xg(ft){Wg===null?Wg=[ft]:Wg.push(ft)}function Yg(ft,lt,dt,vt){var St=lt.interleaved;return St===null?(dt.next=dt,Xg(lt)):(dt.next=St.next,St.next=dt),lt.interleaved=dt,Zg(ft,vt)}function Zg(ft,lt){ft.lanes|=lt;var dt=ft.alternate;for(dt!==null&&(dt.lanes|=lt),dt=ft,ft=ft.return;ft!==null;)ft.childLanes|=lt,dt=ft.alternate,dt!==null&&(dt.childLanes|=lt),dt=ft,ft=ft.return;return dt.tag===3?dt.stateNode:null}var $g=!1;function ah(ft){ft.updateQueue={baseState:ft.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(ft,lt){ft=ft.updateQueue,lt.updateQueue===ft&&(lt.updateQueue={baseState:ft.baseState,firstBaseUpdate:ft.firstBaseUpdate,lastBaseUpdate:ft.lastBaseUpdate,shared:ft.shared,effects:ft.effects})}function ch(ft,lt){return{eventTime:ft,lane:lt,tag:0,payload:null,callback:null,next:null}}function dh(ft,lt,dt){var vt=ft.updateQueue;if(vt===null)return null;if(vt=vt.shared,K$2&2){var St=vt.pending;return St===null?lt.next=lt:(lt.next=St.next,St.next=lt),vt.pending=lt,Zg(ft,dt)}return St=vt.interleaved,St===null?(lt.next=lt,Xg(vt)):(lt.next=St.next,St.next=lt),vt.interleaved=lt,Zg(ft,dt)}function eh(ft,lt,dt){if(lt=lt.updateQueue,lt!==null&&(lt=lt.shared,(dt&4194240)!==0)){var vt=lt.lanes;vt&=ft.pendingLanes,dt|=vt,lt.lanes=dt,Cc(ft,dt)}}function fh(ft,lt){var dt=ft.updateQueue,vt=ft.alternate;if(vt!==null&&(vt=vt.updateQueue,dt===vt)){var St=null,Et=null;if(dt=dt.firstBaseUpdate,dt!==null){do{var At={eventTime:dt.eventTime,lane:dt.lane,tag:dt.tag,payload:dt.payload,callback:dt.callback,next:null};Et===null?St=Et=At:Et=Et.next=At,dt=dt.next}while(dt!==null);Et===null?St=Et=lt:Et=Et.next=lt}else St=Et=lt;dt={baseState:vt.baseState,firstBaseUpdate:St,lastBaseUpdate:Et,shared:vt.shared,effects:vt.effects},ft.updateQueue=dt;return}ft=dt.lastBaseUpdate,ft===null?dt.firstBaseUpdate=lt:ft.next=lt,dt.lastBaseUpdate=lt}function gh(ft,lt,dt,vt){var St=ft.updateQueue;$g=!1;var Et=St.firstBaseUpdate,At=St.lastBaseUpdate,Ct=St.shared.pending;if(Ct!==null){St.shared.pending=null;var Tt=Ct,Rt=Tt.next;Tt.next=null,At===null?Et=Rt:At.next=Rt,At=Tt;var Bt=ft.alternate;Bt!==null&&(Bt=Bt.updateQueue,Ct=Bt.lastBaseUpdate,Ct!==At&&(Ct===null?Bt.firstBaseUpdate=Rt:Ct.next=Rt,Bt.lastBaseUpdate=Tt))}if(Et!==null){var Dt=St.baseState;At=0,Bt=Rt=Tt=null,Ct=Et;do{var Ft=Ct.lane,kt=Ct.eventTime;if((vt&Ft)===Ft){Bt!==null&&(Bt=Bt.next={eventTime:kt,lane:0,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null});e:{var Ut=ft,Kt=Ct;switch(Ft=lt,kt=dt,Kt.tag){case 1:if(Ut=Kt.payload,typeof Ut=="function"){Dt=Ut.call(kt,Dt,Ft);break e}Dt=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Kt.payload,Ft=typeof Ut=="function"?Ut.call(kt,Dt,Ft):Ut,Ft==null)break e;Dt=A$2({},Dt,Ft);break e;case 2:$g=!0}}Ct.callback!==null&&Ct.lane!==0&&(ft.flags|=64,Ft=St.effects,Ft===null?St.effects=[Ct]:Ft.push(Ct))}else kt={eventTime:kt,lane:Ft,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null},Bt===null?(Rt=Bt=kt,Tt=Dt):Bt=Bt.next=kt,At|=Ft;if(Ct=Ct.next,Ct===null){if(Ct=St.shared.pending,Ct===null)break;Ft=Ct,Ct=Ft.next,Ft.next=null,St.lastBaseUpdate=Ft,St.shared.pending=null}}while(1);if(Bt===null&&(Tt=Dt),St.baseState=Tt,St.firstBaseUpdate=Rt,St.lastBaseUpdate=Bt,lt=St.shared.interleaved,lt!==null){St=lt;do At|=St.lane,St=St.next;while(St!==lt)}else Et===null&&(St.shared.lanes=0);hh|=At,ft.lanes=At,ft.memoizedState=Dt}}function ih(ft,lt,dt){if(ft=lt.effects,lt.effects=null,ft!==null)for(lt=0;lt<ft.length;lt++){var vt=ft[lt],St=vt.callback;if(St!==null){if(vt.callback=null,vt=dt,typeof St!="function")throw Error(p$5(191,St));St.call(vt)}}}var jh=new aa.Component().refs;function kh(ft,lt,dt,vt){lt=ft.memoizedState,dt=dt(vt,lt),dt=dt==null?lt:A$2({},lt,dt),ft.memoizedState=dt,ft.lanes===0&&(ft.updateQueue.baseState=dt)}var nh={isMounted:function(ft){return(ft=ft._reactInternals)?Vb(ft)===ft:!1},enqueueSetState:function(ft,lt,dt){ft=ft._reactInternals;var vt=L$2(),St=lh(ft),Et=ch(vt,St);Et.payload=lt,dt!=null&&(Et.callback=dt),lt=dh(ft,Et,St),lt!==null&&(mh(lt,ft,St,vt),eh(lt,ft,St))},enqueueReplaceState:function(ft,lt,dt){ft=ft._reactInternals;var vt=L$2(),St=lh(ft),Et=ch(vt,St);Et.tag=1,Et.payload=lt,dt!=null&&(Et.callback=dt),lt=dh(ft,Et,St),lt!==null&&(mh(lt,ft,St,vt),eh(lt,ft,St))},enqueueForceUpdate:function(ft,lt){ft=ft._reactInternals;var dt=L$2(),vt=lh(ft),St=ch(dt,vt);St.tag=2,lt!=null&&(St.callback=lt),lt=dh(ft,St,vt),lt!==null&&(mh(lt,ft,vt,dt),eh(lt,ft,vt))}};function oh(ft,lt,dt,vt,St,Et,At){return ft=ft.stateNode,typeof ft.shouldComponentUpdate=="function"?ft.shouldComponentUpdate(vt,Et,At):lt.prototype&&lt.prototype.isPureReactComponent?!Ie$1(dt,vt)||!Ie$1(St,Et):!0}function ph(ft,lt,dt){var vt=!1,St=Vf,Et=lt.contextType;return typeof Et=="object"&&Et!==null?Et=Vg(Et):(St=Zf(lt)?Xf:H$3.current,vt=lt.contextTypes,Et=(vt=vt!=null)?Yf(ft,St):Vf),lt=new lt(dt,Et),ft.memoizedState=lt.state!==null&&lt.state!==void 0?lt.state:null,lt.updater=nh,ft.stateNode=lt,lt._reactInternals=ft,vt&&(ft=ft.stateNode,ft.__reactInternalMemoizedUnmaskedChildContext=St,ft.__reactInternalMemoizedMaskedChildContext=Et),lt}function qh(ft,lt,dt,vt){ft=lt.state,typeof lt.componentWillReceiveProps=="function"&&lt.componentWillReceiveProps(dt,vt),typeof lt.UNSAFE_componentWillReceiveProps=="function"&&lt.UNSAFE_componentWillReceiveProps(dt,vt),lt.state!==ft&&nh.enqueueReplaceState(lt,lt.state,null)}function rh(ft,lt,dt,vt){var St=ft.stateNode;St.props=dt,St.state=ft.memoizedState,St.refs=jh,ah(ft);var Et=lt.contextType;typeof Et=="object"&&Et!==null?St.context=Vg(Et):(Et=Zf(lt)?Xf:H$3.current,St.context=Yf(ft,Et)),St.state=ft.memoizedState,Et=lt.getDerivedStateFromProps,typeof Et=="function"&&(kh(ft,lt,Et,dt),St.state=ft.memoizedState),typeof lt.getDerivedStateFromProps=="function"||typeof St.getSnapshotBeforeUpdate=="function"||typeof St.UNSAFE_componentWillMount!="function"&&typeof St.componentWillMount!="function"||(lt=St.state,typeof St.componentWillMount=="function"&&St.componentWillMount(),typeof St.UNSAFE_componentWillMount=="function"&&St.UNSAFE_componentWillMount(),lt!==St.state&&nh.enqueueReplaceState(St,St.state,null),gh(ft,dt,St,vt),St.state=ft.memoizedState),typeof St.componentDidMount=="function"&&(ft.flags|=4194308)}function sh(ft,lt,dt){if(ft=dt.ref,ft!==null&&typeof ft!="function"&&typeof ft!="object"){if(dt._owner){if(dt=dt._owner,dt){if(dt.tag!==1)throw Error(p$5(309));var vt=dt.stateNode}if(!vt)throw Error(p$5(147,ft));var St=vt,Et=""+ft;return lt!==null&&lt.ref!==null&&typeof lt.ref=="function"&&lt.ref._stringRef===Et?lt.ref:(lt=function(At){var Ct=St.refs;Ct===jh&&(Ct=St.refs={}),At===null?delete Ct[Et]:Ct[Et]=At},lt._stringRef=Et,lt)}if(typeof ft!="string")throw Error(p$5(284));if(!dt._owner)throw Error(p$5(290,ft))}return ft}function th(ft,lt){throw ft=Object.prototype.toString.call(lt),Error(p$5(31,ft==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":ft))}function uh(ft){var lt=ft._init;return lt(ft._payload)}function vh(ft){function lt(Wt,Zt){if(ft){var Ht=Wt.deletions;Ht===null?(Wt.deletions=[Zt],Wt.flags|=16):Ht.push(Zt)}}function dt(Wt,Zt){if(!ft)return null;for(;Zt!==null;)lt(Wt,Zt),Zt=Zt.sibling;return null}function vt(Wt,Zt){for(Wt=new Map;Zt!==null;)Zt.key!==null?Wt.set(Zt.key,Zt):Wt.set(Zt.index,Zt),Zt=Zt.sibling;return Wt}function St(Wt,Zt){return Wt=wh(Wt,Zt),Wt.index=0,Wt.sibling=null,Wt}function Et(Wt,Zt,Ht){return Wt.index=Ht,ft?(Ht=Wt.alternate,Ht!==null?(Ht=Ht.index,Ht<Zt?(Wt.flags|=2,Zt):Ht):(Wt.flags|=2,Zt)):(Wt.flags|=1048576,Zt)}function At(Wt){return ft&&Wt.alternate===null&&(Wt.flags|=2),Wt}function Ct(Wt,Zt,Ht,nr){return Zt===null||Zt.tag!==6?(Zt=xh(Ht,Wt.mode,nr),Zt.return=Wt,Zt):(Zt=St(Zt,Ht),Zt.return=Wt,Zt)}function Tt(Wt,Zt,Ht,nr){var sr=Ht.type;return sr===ya?Bt(Wt,Zt,Ht.props.children,nr,Ht.key):Zt!==null&&(Zt.elementType===sr||typeof sr=="object"&&sr!==null&&sr.$$typeof===Ha&&uh(sr)===Zt.type)?(nr=St(Zt,Ht.props),nr.ref=sh(Wt,Zt,Ht),nr.return=Wt,nr):(nr=yh(Ht.type,Ht.key,Ht.props,null,Wt.mode,nr),nr.ref=sh(Wt,Zt,Ht),nr.return=Wt,nr)}function Rt(Wt,Zt,Ht,nr){return Zt===null||Zt.tag!==4||Zt.stateNode.containerInfo!==Ht.containerInfo||Zt.stateNode.implementation!==Ht.implementation?(Zt=zh(Ht,Wt.mode,nr),Zt.return=Wt,Zt):(Zt=St(Zt,Ht.children||[]),Zt.return=Wt,Zt)}function Bt(Wt,Zt,Ht,nr,sr){return Zt===null||Zt.tag!==7?(Zt=Ah(Ht,Wt.mode,nr,sr),Zt.return=Wt,Zt):(Zt=St(Zt,Ht),Zt.return=Wt,Zt)}function Dt(Wt,Zt,Ht){if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number")return Zt=xh(""+Zt,Wt.mode,Ht),Zt.return=Wt,Zt;if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case va:return Ht=yh(Zt.type,Zt.key,Zt.props,null,Wt.mode,Ht),Ht.ref=sh(Wt,null,Zt),Ht.return=Wt,Ht;case wa:return Zt=zh(Zt,Wt.mode,Ht),Zt.return=Wt,Zt;case Ha:var nr=Zt._init;return Dt(Wt,nr(Zt._payload),Ht)}if(eb(Zt)||Ka(Zt))return Zt=Ah(Zt,Wt.mode,Ht,null),Zt.return=Wt,Zt;th(Wt,Zt)}return null}function Ft(Wt,Zt,Ht,nr){var sr=Zt!==null?Zt.key:null;if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return sr!==null?null:Ct(Wt,Zt,""+Ht,nr);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:return Ht.key===sr?Tt(Wt,Zt,Ht,nr):null;case wa:return Ht.key===sr?Rt(Wt,Zt,Ht,nr):null;case Ha:return sr=Ht._init,Ft(Wt,Zt,sr(Ht._payload),nr)}if(eb(Ht)||Ka(Ht))return sr!==null?null:Bt(Wt,Zt,Ht,nr,null);th(Wt,Ht)}return null}function kt(Wt,Zt,Ht,nr,sr){if(typeof nr=="string"&&nr!==""||typeof nr=="number")return Wt=Wt.get(Ht)||null,Ct(Zt,Wt,""+nr,sr);if(typeof nr=="object"&&nr!==null){switch(nr.$$typeof){case va:return Wt=Wt.get(nr.key===null?Ht:nr.key)||null,Tt(Zt,Wt,nr,sr);case wa:return Wt=Wt.get(nr.key===null?Ht:nr.key)||null,Rt(Zt,Wt,nr,sr);case Ha:var ar=nr._init;return kt(Wt,Zt,Ht,ar(nr._payload),sr)}if(eb(nr)||Ka(nr))return Wt=Wt.get(Ht)||null,Bt(Zt,Wt,nr,sr,null);th(Zt,nr)}return null}function Ut(Wt,Zt,Ht,nr){for(var sr=null,ar=null,ir=Zt,rr=Zt=0,lr=null;ir!==null&&rr<Ht.length;rr++){ir.index>rr?(lr=ir,ir=null):lr=ir.sibling;var ur=Ft(Wt,ir,Ht[rr],nr);if(ur===null){ir===null&&(ir=lr);break}ft&&ir&&ur.alternate===null&&lt(Wt,ir),Zt=Et(ur,Zt,rr),ar===null?sr=ur:ar.sibling=ur,ar=ur,ir=lr}if(rr===Ht.length)return dt(Wt,ir),I$3&&tg(Wt,rr),sr;if(ir===null){for(;rr<Ht.length;rr++)ir=Dt(Wt,Ht[rr],nr),ir!==null&&(Zt=Et(ir,Zt,rr),ar===null?sr=ir:ar.sibling=ir,ar=ir);return I$3&&tg(Wt,rr),sr}for(ir=vt(Wt,ir);rr<Ht.length;rr++)lr=kt(ir,Wt,rr,Ht[rr],nr),lr!==null&&(ft&&lr.alternate!==null&&ir.delete(lr.key===null?rr:lr.key),Zt=Et(lr,Zt,rr),ar===null?sr=lr:ar.sibling=lr,ar=lr);return ft&&ir.forEach(function(dr){return lt(Wt,dr)}),I$3&&tg(Wt,rr),sr}function Kt(Wt,Zt,Ht,nr){var sr=Ka(Ht);if(typeof sr!="function")throw Error(p$5(150));if(Ht=sr.call(Ht),Ht==null)throw Error(p$5(151));for(var ar=sr=null,ir=Zt,rr=Zt=0,lr=null,ur=Ht.next();ir!==null&&!ur.done;rr++,ur=Ht.next()){ir.index>rr?(lr=ir,ir=null):lr=ir.sibling;var dr=Ft(Wt,ir,ur.value,nr);if(dr===null){ir===null&&(ir=lr);break}ft&&ir&&dr.alternate===null&&lt(Wt,ir),Zt=Et(dr,Zt,rr),ar===null?sr=dr:ar.sibling=dr,ar=dr,ir=lr}if(ur.done)return dt(Wt,ir),I$3&&tg(Wt,rr),sr;if(ir===null){for(;!ur.done;rr++,ur=Ht.next())ur=Dt(Wt,ur.value,nr),ur!==null&&(Zt=Et(ur,Zt,rr),ar===null?sr=ur:ar.sibling=ur,ar=ur);return I$3&&tg(Wt,rr),sr}for(ir=vt(Wt,ir);!ur.done;rr++,ur=Ht.next())ur=kt(ir,Wt,rr,ur.value,nr),ur!==null&&(ft&&ur.alternate!==null&&ir.delete(ur.key===null?rr:ur.key),Zt=Et(ur,Zt,rr),ar===null?sr=ur:ar.sibling=ur,ar=ur);return ft&&ir.forEach(function(mr){return lt(Wt,mr)}),I$3&&tg(Wt,rr),sr}function tr(Wt,Zt,Ht,nr){if(typeof Ht=="object"&&Ht!==null&&Ht.type===ya&&Ht.key===null&&(Ht=Ht.props.children),typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:e:{for(var sr=Ht.key,ar=Zt;ar!==null;){if(ar.key===sr){if(sr=Ht.type,sr===ya){if(ar.tag===7){dt(Wt,ar.sibling),Zt=St(ar,Ht.props.children),Zt.return=Wt,Wt=Zt;break e}}else if(ar.elementType===sr||typeof sr=="object"&&sr!==null&&sr.$$typeof===Ha&&uh(sr)===ar.type){dt(Wt,ar.sibling),Zt=St(ar,Ht.props),Zt.ref=sh(Wt,ar,Ht),Zt.return=Wt,Wt=Zt;break e}dt(Wt,ar);break}else lt(Wt,ar);ar=ar.sibling}Ht.type===ya?(Zt=Ah(Ht.props.children,Wt.mode,nr,Ht.key),Zt.return=Wt,Wt=Zt):(nr=yh(Ht.type,Ht.key,Ht.props,null,Wt.mode,nr),nr.ref=sh(Wt,Zt,Ht),nr.return=Wt,Wt=nr)}return At(Wt);case wa:e:{for(ar=Ht.key;Zt!==null;){if(Zt.key===ar)if(Zt.tag===4&&Zt.stateNode.containerInfo===Ht.containerInfo&&Zt.stateNode.implementation===Ht.implementation){dt(Wt,Zt.sibling),Zt=St(Zt,Ht.children||[]),Zt.return=Wt,Wt=Zt;break e}else{dt(Wt,Zt);break}else lt(Wt,Zt);Zt=Zt.sibling}Zt=zh(Ht,Wt.mode,nr),Zt.return=Wt,Wt=Zt}return At(Wt);case Ha:return ar=Ht._init,tr(Wt,Zt,ar(Ht._payload),nr)}if(eb(Ht))return Ut(Wt,Zt,Ht,nr);if(Ka(Ht))return Kt(Wt,Zt,Ht,nr);th(Wt,Ht)}return typeof Ht=="string"&&Ht!==""||typeof Ht=="number"?(Ht=""+Ht,Zt!==null&&Zt.tag===6?(dt(Wt,Zt.sibling),Zt=St(Zt,Ht),Zt.return=Wt,Wt=Zt):(dt(Wt,Zt),Zt=xh(Ht,Wt.mode,nr),Zt.return=Wt,Wt=Zt),At(Wt)):dt(Wt,Zt)}return tr}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(ft){if(ft===Dh)throw Error(p$5(174));return ft}function Ih(ft,lt){switch(G$1(Gh,lt),G$1(Fh,ft),G$1(Eh,Dh),ft=lt.nodeType,ft){case 9:case 11:lt=(lt=lt.documentElement)?lt.namespaceURI:lb(null,"");break;default:ft=ft===8?lt.parentNode:lt,lt=ft.namespaceURI||null,ft=ft.tagName,lt=lb(lt,ft)}E$4(Eh),G$1(Eh,lt)}function Jh(){E$4(Eh),E$4(Fh),E$4(Gh)}function Kh(ft){Hh(Gh.current);var lt=Hh(Eh.current),dt=lb(lt,ft.type);lt!==dt&&(G$1(Fh,ft),G$1(Eh,dt))}function Lh(ft){Fh.current===ft&&(E$4(Eh),E$4(Fh))}var M$2=Uf(0);function Mh(ft){for(var lt=ft;lt!==null;){if(lt.tag===13){var dt=lt.memoizedState;if(dt!==null&&(dt=dt.dehydrated,dt===null||dt.data==="$?"||dt.data==="$!"))return lt}else if(lt.tag===19&&lt.memoizedProps.revealOrder!==void 0){if(lt.flags&128)return lt}else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===ft)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===ft)return null;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}return null}var Nh=[];function Oh(){for(var ft=0;ft<Nh.length;ft++)Nh[ft]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$3(){throw Error(p$5(321))}function Wh(ft,lt){if(lt===null)return!1;for(var dt=0;dt<lt.length&&dt<ft.length;dt++)if(!He$2(ft[dt],lt[dt]))return!1;return!0}function Xh(ft,lt,dt,vt,St,Et){if(Rh=Et,N$2=lt,lt.memoizedState=null,lt.updateQueue=null,lt.lanes=0,Ph.current=ft===null||ft.memoizedState===null?Yh:Zh,ft=dt(vt,St),Th){Et=0;do{if(Th=!1,Uh=0,25<=Et)throw Error(p$5(301));Et+=1,P$2=O$2=null,lt.updateQueue=null,Ph.current=$h,ft=dt(vt,St)}while(Th)}if(Ph.current=ai,lt=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$2=null,Sh=!1,lt)throw Error(p$5(300));return ft}function bi(){var ft=Uh!==0;return Uh=0,ft}function ci(){var ft={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=ft:P$2=P$2.next=ft,P$2}function di(){if(O$2===null){var ft=N$2.alternate;ft=ft!==null?ft.memoizedState:null}else ft=O$2.next;var lt=P$2===null?N$2.memoizedState:P$2.next;if(lt!==null)P$2=lt,O$2=ft;else{if(ft===null)throw Error(p$5(310));O$2=ft,ft={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$2.memoizedState=P$2=ft:P$2=P$2.next=ft}return P$2}function ei(ft,lt){return typeof lt=="function"?lt(ft):lt}function fi(ft){var lt=di(),dt=lt.queue;if(dt===null)throw Error(p$5(311));dt.lastRenderedReducer=ft;var vt=O$2,St=vt.baseQueue,Et=dt.pending;if(Et!==null){if(St!==null){var At=St.next;St.next=Et.next,Et.next=At}vt.baseQueue=St=Et,dt.pending=null}if(St!==null){Et=St.next,vt=vt.baseState;var Ct=At=null,Tt=null,Rt=Et;do{var Bt=Rt.lane;if((Rh&Bt)===Bt)Tt!==null&&(Tt=Tt.next={lane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),vt=Rt.hasEagerState?Rt.eagerState:ft(vt,Rt.action);else{var Dt={lane:Bt,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null};Tt===null?(Ct=Tt=Dt,At=vt):Tt=Tt.next=Dt,N$2.lanes|=Bt,hh|=Bt}Rt=Rt.next}while(Rt!==null&&Rt!==Et);Tt===null?At=vt:Tt.next=Ct,He$2(vt,lt.memoizedState)||(Ug=!0),lt.memoizedState=vt,lt.baseState=At,lt.baseQueue=Tt,dt.lastRenderedState=vt}if(ft=dt.interleaved,ft!==null){St=ft;do Et=St.lane,N$2.lanes|=Et,hh|=Et,St=St.next;while(St!==ft)}else St===null&&(dt.lanes=0);return[lt.memoizedState,dt.dispatch]}function gi(ft){var lt=di(),dt=lt.queue;if(dt===null)throw Error(p$5(311));dt.lastRenderedReducer=ft;var vt=dt.dispatch,St=dt.pending,Et=lt.memoizedState;if(St!==null){dt.pending=null;var At=St=St.next;do Et=ft(Et,At.action),At=At.next;while(At!==St);He$2(Et,lt.memoizedState)||(Ug=!0),lt.memoizedState=Et,lt.baseQueue===null&&(lt.baseState=Et),dt.lastRenderedState=Et}return[Et,vt]}function hi(){}function ii(ft,lt){var dt=N$2,vt=di(),St=lt(),Et=!He$2(vt.memoizedState,St);if(Et&&(vt.memoizedState=St,Ug=!0),vt=vt.queue,ji(ki.bind(null,dt,vt,ft),[ft]),vt.getSnapshot!==lt||Et||P$2!==null&&P$2.memoizedState.tag&1){if(dt.flags|=2048,li(9,mi.bind(null,dt,vt,St,lt),void 0,null),R$2===null)throw Error(p$5(349));Rh&30||ni(dt,lt,St)}return St}function ni(ft,lt,dt){ft.flags|=16384,ft={getSnapshot:lt,value:dt},lt=N$2.updateQueue,lt===null?(lt={lastEffect:null,stores:null},N$2.updateQueue=lt,lt.stores=[ft]):(dt=lt.stores,dt===null?lt.stores=[ft]:dt.push(ft))}function mi(ft,lt,dt,vt){lt.value=dt,lt.getSnapshot=vt,oi(lt)&&pi(ft)}function ki(ft,lt,dt){return dt(function(){oi(lt)&&pi(ft)})}function oi(ft){var lt=ft.getSnapshot;ft=ft.value;try{var dt=lt();return!He$2(ft,dt)}catch{return!0}}function pi(ft){var lt=Zg(ft,1);lt!==null&&mh(lt,ft,1,-1)}function qi(ft){var lt=ci();return typeof ft=="function"&&(ft=ft()),lt.memoizedState=lt.baseState=ft,ft={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:ft},lt.queue=ft,ft=ft.dispatch=ri.bind(null,N$2,ft),[lt.memoizedState,ft]}function li(ft,lt,dt,vt){return ft={tag:ft,create:lt,destroy:dt,deps:vt,next:null},lt=N$2.updateQueue,lt===null?(lt={lastEffect:null,stores:null},N$2.updateQueue=lt,lt.lastEffect=ft.next=ft):(dt=lt.lastEffect,dt===null?lt.lastEffect=ft.next=ft:(vt=dt.next,dt.next=ft,ft.next=vt,lt.lastEffect=ft)),ft}function si(){return di().memoizedState}function ti(ft,lt,dt,vt){var St=ci();N$2.flags|=ft,St.memoizedState=li(1|lt,dt,void 0,vt===void 0?null:vt)}function ui(ft,lt,dt,vt){var St=di();vt=vt===void 0?null:vt;var Et=void 0;if(O$2!==null){var At=O$2.memoizedState;if(Et=At.destroy,vt!==null&&Wh(vt,At.deps)){St.memoizedState=li(lt,dt,Et,vt);return}}N$2.flags|=ft,St.memoizedState=li(1|lt,dt,Et,vt)}function vi(ft,lt){return ti(8390656,8,ft,lt)}function ji(ft,lt){return ui(2048,8,ft,lt)}function wi(ft,lt){return ui(4,2,ft,lt)}function xi(ft,lt){return ui(4,4,ft,lt)}function yi(ft,lt){if(typeof lt=="function")return ft=ft(),lt(ft),function(){lt(null)};if(lt!=null)return ft=ft(),lt.current=ft,function(){lt.current=null}}function zi(ft,lt,dt){return dt=dt!=null?dt.concat([ft]):null,ui(4,4,yi.bind(null,lt,ft),dt)}function Ai(){}function Bi(ft,lt){var dt=di();lt=lt===void 0?null:lt;var vt=dt.memoizedState;return vt!==null&&lt!==null&&Wh(lt,vt[1])?vt[0]:(dt.memoizedState=[ft,lt],ft)}function Ci(ft,lt){var dt=di();lt=lt===void 0?null:lt;var vt=dt.memoizedState;return vt!==null&&lt!==null&&Wh(lt,vt[1])?vt[0]:(ft=ft(),dt.memoizedState=[ft,lt],ft)}function Di(ft,lt,dt){return Rh&21?(He$2(dt,lt)||(dt=yc(),N$2.lanes|=dt,hh|=dt,ft.baseState=!0),lt):(ft.baseState&&(ft.baseState=!1,Ug=!0),ft.memoizedState=dt)}function Ei(ft,lt){var dt=C$2;C$2=dt!==0&&4>dt?dt:4,ft(!0);var vt=Qh.transition;Qh.transition={};try{ft(!1),lt()}finally{C$2=dt,Qh.transition=vt}}function Fi(){return di().memoizedState}function Gi(ft,lt,dt){var vt=lh(ft);if(dt={lane:vt,action:dt,hasEagerState:!1,eagerState:null,next:null},Hi(ft))Ii(lt,dt);else if(dt=Yg(ft,lt,dt,vt),dt!==null){var St=L$2();mh(dt,ft,vt,St),Ji(dt,lt,vt)}}function ri(ft,lt,dt){var vt=lh(ft),St={lane:vt,action:dt,hasEagerState:!1,eagerState:null,next:null};if(Hi(ft))Ii(lt,St);else{var Et=ft.alternate;if(ft.lanes===0&&(Et===null||Et.lanes===0)&&(Et=lt.lastRenderedReducer,Et!==null))try{var At=lt.lastRenderedState,Ct=Et(At,dt);if(St.hasEagerState=!0,St.eagerState=Ct,He$2(Ct,At)){var Tt=lt.interleaved;Tt===null?(St.next=St,Xg(lt)):(St.next=Tt.next,Tt.next=St),lt.interleaved=St;return}}catch{}finally{}dt=Yg(ft,lt,St,vt),dt!==null&&(St=L$2(),mh(dt,ft,vt,St),Ji(dt,lt,vt))}}function Hi(ft){var lt=ft.alternate;return ft===N$2||lt!==null&&lt===N$2}function Ii(ft,lt){Th=Sh=!0;var dt=ft.pending;dt===null?lt.next=lt:(lt.next=dt.next,dt.next=lt),ft.pending=lt}function Ji(ft,lt,dt){if(dt&4194240){var vt=lt.lanes;vt&=ft.pendingLanes,dt|=vt,lt.lanes=dt,Cc(ft,dt)}}var ai={readContext:Vg,useCallback:Q$3,useContext:Q$3,useEffect:Q$3,useImperativeHandle:Q$3,useInsertionEffect:Q$3,useLayoutEffect:Q$3,useMemo:Q$3,useReducer:Q$3,useRef:Q$3,useState:Q$3,useDebugValue:Q$3,useDeferredValue:Q$3,useTransition:Q$3,useMutableSource:Q$3,useSyncExternalStore:Q$3,useId:Q$3,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(ft,lt){return ci().memoizedState=[ft,lt===void 0?null:lt],ft},useContext:Vg,useEffect:vi,useImperativeHandle:function(ft,lt,dt){return dt=dt!=null?dt.concat([ft]):null,ti(4194308,4,yi.bind(null,lt,ft),dt)},useLayoutEffect:function(ft,lt){return ti(4194308,4,ft,lt)},useInsertionEffect:function(ft,lt){return ti(4,2,ft,lt)},useMemo:function(ft,lt){var dt=ci();return lt=lt===void 0?null:lt,ft=ft(),dt.memoizedState=[ft,lt],ft},useReducer:function(ft,lt,dt){var vt=ci();return lt=dt!==void 0?dt(lt):lt,vt.memoizedState=vt.baseState=lt,ft={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ft,lastRenderedState:lt},vt.queue=ft,ft=ft.dispatch=Gi.bind(null,N$2,ft),[vt.memoizedState,ft]},useRef:function(ft){var lt=ci();return ft={current:ft},lt.memoizedState=ft},useState:qi,useDebugValue:Ai,useDeferredValue:function(ft){return ci().memoizedState=ft},useTransition:function(){var ft=qi(!1),lt=ft[0];return ft=Ei.bind(null,ft[1]),ci().memoizedState=ft,[lt,ft]},useMutableSource:function(){},useSyncExternalStore:function(ft,lt,dt){var vt=N$2,St=ci();if(I$3){if(dt===void 0)throw Error(p$5(407));dt=dt()}else{if(dt=lt(),R$2===null)throw Error(p$5(349));Rh&30||ni(vt,lt,dt)}St.memoizedState=dt;var Et={value:dt,getSnapshot:lt};return St.queue=Et,vi(ki.bind(null,vt,Et,ft),[ft]),vt.flags|=2048,li(9,mi.bind(null,vt,Et,dt,lt),void 0,null),dt},useId:function(){var ft=ci(),lt=R$2.identifierPrefix;if(I$3){var dt=sg,vt=rg;dt=(vt&~(1<<32-oc(vt)-1)).toString(32)+dt,lt=":"+lt+"R"+dt,dt=Uh++,0<dt&&(lt+="H"+dt.toString(32)),lt+=":"}else dt=Vh++,lt=":"+lt+"r"+dt.toString(32)+":";return ft.memoizedState=lt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(ft){var lt=di();return Di(lt,O$2.memoizedState,ft)},useTransition:function(){var ft=fi(ei)[0],lt=di().memoizedState;return[ft,lt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(ft){var lt=di();return O$2===null?lt.memoizedState=ft:Di(lt,O$2.memoizedState,ft)},useTransition:function(){var ft=gi(ei)[0],lt=di().memoizedState;return[ft,lt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(ft,lt){try{var dt="",vt=lt;do dt+=Pa(vt),vt=vt.return;while(vt);var St=dt}catch(Et){St=`
Error generating stack: `+Et.message+`
`+Et.stack}return{value:ft,source:lt,stack:St,digest:null}}function Li(ft,lt,dt){return{value:ft,source:null,stack:dt??null,digest:lt??null}}function Mi(ft,lt){try{console.error(lt.value)}catch(dt){setTimeout(function(){throw dt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(ft,lt,dt){dt=ch(-1,dt),dt.tag=3,dt.payload={element:null};var vt=lt.value;return dt.callback=function(){Pi||(Pi=!0,Qi=vt),Mi(ft,lt)},dt}function Ri(ft,lt,dt){dt=ch(-1,dt),dt.tag=3;var vt=ft.type.getDerivedStateFromError;if(typeof vt=="function"){var St=lt.value;dt.payload=function(){return vt(St)},dt.callback=function(){Mi(ft,lt)}}var Et=ft.stateNode;return Et!==null&&typeof Et.componentDidCatch=="function"&&(dt.callback=function(){Mi(ft,lt),typeof vt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var At=lt.stack;this.componentDidCatch(lt.value,{componentStack:At!==null?At:""})}),dt}function Ti(ft,lt,dt){var vt=ft.pingCache;if(vt===null){vt=ft.pingCache=new Ni;var St=new Set;vt.set(lt,St)}else St=vt.get(lt),St===void 0&&(St=new Set,vt.set(lt,St));St.has(dt)||(St.add(dt),ft=Ui.bind(null,ft,lt,dt),lt.then(ft,ft))}function Vi(ft){do{var lt;if((lt=ft.tag===13)&&(lt=ft.memoizedState,lt=lt!==null?lt.dehydrated!==null:!0),lt)return ft;ft=ft.return}while(ft!==null);return null}function Wi(ft,lt,dt,vt,St){return ft.mode&1?(ft.flags|=65536,ft.lanes=St,ft):(ft===lt?ft.flags|=65536:(ft.flags|=128,dt.flags|=131072,dt.flags&=-52805,dt.tag===1&&(dt.alternate===null?dt.tag=17:(lt=ch(-1,1),lt.tag=2,dh(dt,lt,1))),dt.lanes|=1),ft)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(ft,lt,dt,vt){lt.child=ft===null?Ch(lt,null,dt,vt):Bh(lt,ft.child,dt,vt)}function Zi(ft,lt,dt,vt,St){dt=dt.render;var Et=lt.ref;return Tg(lt,St),vt=Xh(ft,lt,dt,vt,Et,St),dt=bi(),ft!==null&&!Ug?(lt.updateQueue=ft.updateQueue,lt.flags&=-2053,ft.lanes&=~St,$i(ft,lt,St)):(I$3&&dt&&vg(lt),lt.flags|=1,Yi(ft,lt,vt,St),lt.child)}function aj(ft,lt,dt,vt,St){if(ft===null){var Et=dt.type;return typeof Et=="function"&&!bj(Et)&&Et.defaultProps===void 0&&dt.compare===null&&dt.defaultProps===void 0?(lt.tag=15,lt.type=Et,cj(ft,lt,Et,vt,St)):(ft=yh(dt.type,null,vt,lt,lt.mode,St),ft.ref=lt.ref,ft.return=lt,lt.child=ft)}if(Et=ft.child,!(ft.lanes&St)){var At=Et.memoizedProps;if(dt=dt.compare,dt=dt!==null?dt:Ie$1,dt(At,vt)&&ft.ref===lt.ref)return $i(ft,lt,St)}return lt.flags|=1,ft=wh(Et,vt),ft.ref=lt.ref,ft.return=lt,lt.child=ft}function cj(ft,lt,dt,vt,St){if(ft!==null){var Et=ft.memoizedProps;if(Ie$1(Et,vt)&&ft.ref===lt.ref)if(Ug=!1,lt.pendingProps=vt=Et,(ft.lanes&St)!==0)ft.flags&131072&&(Ug=!0);else return lt.lanes=ft.lanes,$i(ft,lt,St)}return dj(ft,lt,dt,vt,St)}function ej(ft,lt,dt){var vt=lt.pendingProps,St=vt.children,Et=ft!==null?ft.memoizedState:null;if(vt.mode==="hidden")if(!(lt.mode&1))lt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=dt;else{if(!(dt&1073741824))return ft=Et!==null?Et.baseLanes|dt:dt,lt.lanes=lt.childLanes=1073741824,lt.memoizedState={baseLanes:ft,cachePool:null,transitions:null},lt.updateQueue=null,G$1(fj,gj),gj|=ft,null;lt.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=Et!==null?Et.baseLanes:dt,G$1(fj,gj),gj|=vt}else Et!==null?(vt=Et.baseLanes|dt,lt.memoizedState=null):vt=dt,G$1(fj,gj),gj|=vt;return Yi(ft,lt,St,dt),lt.child}function hj(ft,lt){var dt=lt.ref;(ft===null&&dt!==null||ft!==null&&ft.ref!==dt)&&(lt.flags|=512,lt.flags|=2097152)}function dj(ft,lt,dt,vt,St){var Et=Zf(dt)?Xf:H$3.current;return Et=Yf(lt,Et),Tg(lt,St),dt=Xh(ft,lt,dt,vt,Et,St),vt=bi(),ft!==null&&!Ug?(lt.updateQueue=ft.updateQueue,lt.flags&=-2053,ft.lanes&=~St,$i(ft,lt,St)):(I$3&&vt&&vg(lt),lt.flags|=1,Yi(ft,lt,dt,St),lt.child)}function ij(ft,lt,dt,vt,St){if(Zf(dt)){var Et=!0;cg(lt)}else Et=!1;if(Tg(lt,St),lt.stateNode===null)jj(ft,lt),ph(lt,dt,vt),rh(lt,dt,vt,St),vt=!0;else if(ft===null){var At=lt.stateNode,Ct=lt.memoizedProps;At.props=Ct;var Tt=At.context,Rt=dt.contextType;typeof Rt=="object"&&Rt!==null?Rt=Vg(Rt):(Rt=Zf(dt)?Xf:H$3.current,Rt=Yf(lt,Rt));var Bt=dt.getDerivedStateFromProps,Dt=typeof Bt=="function"||typeof At.getSnapshotBeforeUpdate=="function";Dt||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Ct!==vt||Tt!==Rt)&&qh(lt,At,vt,Rt),$g=!1;var Ft=lt.memoizedState;At.state=Ft,gh(lt,vt,At,St),Tt=lt.memoizedState,Ct!==vt||Ft!==Tt||Wf.current||$g?(typeof Bt=="function"&&(kh(lt,dt,Bt,vt),Tt=lt.memoizedState),(Ct=$g||oh(lt,dt,Ct,vt,Ft,Tt,Rt))?(Dt||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||(typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount()),typeof At.componentDidMount=="function"&&(lt.flags|=4194308)):(typeof At.componentDidMount=="function"&&(lt.flags|=4194308),lt.memoizedProps=vt,lt.memoizedState=Tt),At.props=vt,At.state=Tt,At.context=Rt,vt=Ct):(typeof At.componentDidMount=="function"&&(lt.flags|=4194308),vt=!1)}else{At=lt.stateNode,bh(ft,lt),Ct=lt.memoizedProps,Rt=lt.type===lt.elementType?Ct:Lg(lt.type,Ct),At.props=Rt,Dt=lt.pendingProps,Ft=At.context,Tt=dt.contextType,typeof Tt=="object"&&Tt!==null?Tt=Vg(Tt):(Tt=Zf(dt)?Xf:H$3.current,Tt=Yf(lt,Tt));var kt=dt.getDerivedStateFromProps;(Bt=typeof kt=="function"||typeof At.getSnapshotBeforeUpdate=="function")||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Ct!==Dt||Ft!==Tt)&&qh(lt,At,vt,Tt),$g=!1,Ft=lt.memoizedState,At.state=Ft,gh(lt,vt,At,St);var Ut=lt.memoizedState;Ct!==Dt||Ft!==Ut||Wf.current||$g?(typeof kt=="function"&&(kh(lt,dt,kt,vt),Ut=lt.memoizedState),(Rt=$g||oh(lt,dt,Rt,vt,Ft,Ut,Tt)||!1)?(Bt||typeof At.UNSAFE_componentWillUpdate!="function"&&typeof At.componentWillUpdate!="function"||(typeof At.componentWillUpdate=="function"&&At.componentWillUpdate(vt,Ut,Tt),typeof At.UNSAFE_componentWillUpdate=="function"&&At.UNSAFE_componentWillUpdate(vt,Ut,Tt)),typeof At.componentDidUpdate=="function"&&(lt.flags|=4),typeof At.getSnapshotBeforeUpdate=="function"&&(lt.flags|=1024)):(typeof At.componentDidUpdate!="function"||Ct===ft.memoizedProps&&Ft===ft.memoizedState||(lt.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Ct===ft.memoizedProps&&Ft===ft.memoizedState||(lt.flags|=1024),lt.memoizedProps=vt,lt.memoizedState=Ut),At.props=vt,At.state=Ut,At.context=Tt,vt=Rt):(typeof At.componentDidUpdate!="function"||Ct===ft.memoizedProps&&Ft===ft.memoizedState||(lt.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Ct===ft.memoizedProps&&Ft===ft.memoizedState||(lt.flags|=1024),vt=!1)}return kj(ft,lt,dt,vt,Et,St)}function kj(ft,lt,dt,vt,St,Et){hj(ft,lt);var At=(lt.flags&128)!==0;if(!vt&&!At)return St&&dg(lt,dt,!1),$i(ft,lt,Et);vt=lt.stateNode,Xi.current=lt;var Ct=At&&typeof dt.getDerivedStateFromError!="function"?null:vt.render();return lt.flags|=1,ft!==null&&At?(lt.child=Bh(lt,ft.child,null,Et),lt.child=Bh(lt,null,Ct,Et)):Yi(ft,lt,Ct,Et),lt.memoizedState=vt.state,St&&dg(lt,dt,!0),lt.child}function lj(ft){var lt=ft.stateNode;lt.pendingContext?ag(ft,lt.pendingContext,lt.pendingContext!==lt.context):lt.context&&ag(ft,lt.context,!1),Ih(ft,lt.containerInfo)}function mj(ft,lt,dt,vt,St){return Ig(),Jg(St),lt.flags|=256,Yi(ft,lt,dt,vt),lt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(ft){return{baseLanes:ft,cachePool:null,transitions:null}}function pj(ft,lt,dt){var vt=lt.pendingProps,St=M$2.current,Et=!1,At=(lt.flags&128)!==0,Ct;if((Ct=At)||(Ct=ft!==null&&ft.memoizedState===null?!1:(St&2)!==0),Ct?(Et=!0,lt.flags&=-129):(ft===null||ft.memoizedState!==null)&&(St|=1),G$1(M$2,St&1),ft===null)return Eg(lt),ft=lt.memoizedState,ft!==null&&(ft=ft.dehydrated,ft!==null)?(lt.mode&1?ft.data==="$!"?lt.lanes=8:lt.lanes=1073741824:lt.lanes=1,null):(At=vt.children,ft=vt.fallback,Et?(vt=lt.mode,Et=lt.child,At={mode:"hidden",children:At},!(vt&1)&&Et!==null?(Et.childLanes=0,Et.pendingProps=At):Et=qj(At,vt,0,null),ft=Ah(ft,vt,dt,null),Et.return=lt,ft.return=lt,Et.sibling=ft,lt.child=Et,lt.child.memoizedState=oj(dt),lt.memoizedState=nj,ft):rj(lt,At));if(St=ft.memoizedState,St!==null&&(Ct=St.dehydrated,Ct!==null))return sj(ft,lt,At,vt,Ct,St,dt);if(Et){Et=vt.fallback,At=lt.mode,St=ft.child,Ct=St.sibling;var Tt={mode:"hidden",children:vt.children};return!(At&1)&&lt.child!==St?(vt=lt.child,vt.childLanes=0,vt.pendingProps=Tt,lt.deletions=null):(vt=wh(St,Tt),vt.subtreeFlags=St.subtreeFlags&14680064),Ct!==null?Et=wh(Ct,Et):(Et=Ah(Et,At,dt,null),Et.flags|=2),Et.return=lt,vt.return=lt,vt.sibling=Et,lt.child=vt,vt=Et,Et=lt.child,At=ft.child.memoizedState,At=At===null?oj(dt):{baseLanes:At.baseLanes|dt,cachePool:null,transitions:At.transitions},Et.memoizedState=At,Et.childLanes=ft.childLanes&~dt,lt.memoizedState=nj,vt}return Et=ft.child,ft=Et.sibling,vt=wh(Et,{mode:"visible",children:vt.children}),!(lt.mode&1)&&(vt.lanes=dt),vt.return=lt,vt.sibling=null,ft!==null&&(dt=lt.deletions,dt===null?(lt.deletions=[ft],lt.flags|=16):dt.push(ft)),lt.child=vt,lt.memoizedState=null,vt}function rj(ft,lt){return lt=qj({mode:"visible",children:lt},ft.mode,0,null),lt.return=ft,ft.child=lt}function tj(ft,lt,dt,vt){return vt!==null&&Jg(vt),Bh(lt,ft.child,null,dt),ft=rj(lt,lt.pendingProps.children),ft.flags|=2,lt.memoizedState=null,ft}function sj(ft,lt,dt,vt,St,Et,At){if(dt)return lt.flags&256?(lt.flags&=-257,vt=Li(Error(p$5(422))),tj(ft,lt,At,vt)):lt.memoizedState!==null?(lt.child=ft.child,lt.flags|=128,null):(Et=vt.fallback,St=lt.mode,vt=qj({mode:"visible",children:vt.children},St,0,null),Et=Ah(Et,St,At,null),Et.flags|=2,vt.return=lt,Et.return=lt,vt.sibling=Et,lt.child=vt,lt.mode&1&&Bh(lt,ft.child,null,At),lt.child.memoizedState=oj(At),lt.memoizedState=nj,Et);if(!(lt.mode&1))return tj(ft,lt,At,null);if(St.data==="$!"){if(vt=St.nextSibling&&St.nextSibling.dataset,vt)var Ct=vt.dgst;return vt=Ct,Et=Error(p$5(419)),vt=Li(Et,vt,void 0),tj(ft,lt,At,vt)}if(Ct=(At&ft.childLanes)!==0,Ug||Ct){if(vt=R$2,vt!==null){switch(At&-At){case 4:St=2;break;case 16:St=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:St=32;break;case 536870912:St=268435456;break;default:St=0}St=St&(vt.suspendedLanes|At)?0:St,St!==0&&St!==Et.retryLane&&(Et.retryLane=St,Zg(ft,St),mh(vt,ft,St,-1))}return uj(),vt=Li(Error(p$5(421))),tj(ft,lt,At,vt)}return St.data==="$?"?(lt.flags|=128,lt.child=ft.child,lt=vj.bind(null,ft),St._reactRetry=lt,null):(ft=Et.treeContext,yg=Lf(St.nextSibling),xg=lt,I$3=!0,zg=null,ft!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=ft.id,sg=ft.overflow,qg=lt),lt=rj(lt,vt.children),lt.flags|=4096,lt)}function wj(ft,lt,dt){ft.lanes|=lt;var vt=ft.alternate;vt!==null&&(vt.lanes|=lt),Sg(ft.return,lt,dt)}function xj(ft,lt,dt,vt,St){var Et=ft.memoizedState;Et===null?ft.memoizedState={isBackwards:lt,rendering:null,renderingStartTime:0,last:vt,tail:dt,tailMode:St}:(Et.isBackwards=lt,Et.rendering=null,Et.renderingStartTime=0,Et.last=vt,Et.tail=dt,Et.tailMode=St)}function yj(ft,lt,dt){var vt=lt.pendingProps,St=vt.revealOrder,Et=vt.tail;if(Yi(ft,lt,vt.children,dt),vt=M$2.current,vt&2)vt=vt&1|2,lt.flags|=128;else{if(ft!==null&&ft.flags&128)e:for(ft=lt.child;ft!==null;){if(ft.tag===13)ft.memoizedState!==null&&wj(ft,dt,lt);else if(ft.tag===19)wj(ft,dt,lt);else if(ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===lt)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===lt)break e;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}vt&=1}if(G$1(M$2,vt),!(lt.mode&1))lt.memoizedState=null;else switch(St){case"forwards":for(dt=lt.child,St=null;dt!==null;)ft=dt.alternate,ft!==null&&Mh(ft)===null&&(St=dt),dt=dt.sibling;dt=St,dt===null?(St=lt.child,lt.child=null):(St=dt.sibling,dt.sibling=null),xj(lt,!1,St,dt,Et);break;case"backwards":for(dt=null,St=lt.child,lt.child=null;St!==null;){if(ft=St.alternate,ft!==null&&Mh(ft)===null){lt.child=St;break}ft=St.sibling,St.sibling=dt,dt=St,St=ft}xj(lt,!0,dt,null,Et);break;case"together":xj(lt,!1,null,null,void 0);break;default:lt.memoizedState=null}return lt.child}function jj(ft,lt){!(lt.mode&1)&&ft!==null&&(ft.alternate=null,lt.alternate=null,lt.flags|=2)}function $i(ft,lt,dt){if(ft!==null&&(lt.dependencies=ft.dependencies),hh|=lt.lanes,!(dt&lt.childLanes))return null;if(ft!==null&&lt.child!==ft.child)throw Error(p$5(153));if(lt.child!==null){for(ft=lt.child,dt=wh(ft,ft.pendingProps),lt.child=dt,dt.return=lt;ft.sibling!==null;)ft=ft.sibling,dt=dt.sibling=wh(ft,ft.pendingProps),dt.return=lt;dt.sibling=null}return lt.child}function zj(ft,lt,dt){switch(lt.tag){case 3:lj(lt),Ig();break;case 5:Kh(lt);break;case 1:Zf(lt.type)&&cg(lt);break;case 4:Ih(lt,lt.stateNode.containerInfo);break;case 10:var vt=lt.type._context,St=lt.memoizedProps.value;G$1(Mg,vt._currentValue),vt._currentValue=St;break;case 13:if(vt=lt.memoizedState,vt!==null)return vt.dehydrated!==null?(G$1(M$2,M$2.current&1),lt.flags|=128,null):dt&lt.child.childLanes?pj(ft,lt,dt):(G$1(M$2,M$2.current&1),ft=$i(ft,lt,dt),ft!==null?ft.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(vt=(dt&lt.childLanes)!==0,ft.flags&128){if(vt)return yj(ft,lt,dt);lt.flags|=128}if(St=lt.memoizedState,St!==null&&(St.rendering=null,St.tail=null,St.lastEffect=null),G$1(M$2,M$2.current),vt)break;return null;case 22:case 23:return lt.lanes=0,ej(ft,lt,dt)}return $i(ft,lt,dt)}var Aj,Bj,Cj,Dj;Aj=function(ft,lt){for(var dt=lt.child;dt!==null;){if(dt.tag===5||dt.tag===6)ft.appendChild(dt.stateNode);else if(dt.tag!==4&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===lt)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===lt)return;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}};Bj=function(){};Cj=function(ft,lt,dt,vt){var St=ft.memoizedProps;if(St!==vt){ft=lt.stateNode,Hh(Eh.current);var Et=null;switch(dt){case"input":St=Ya(ft,St),vt=Ya(ft,vt),Et=[];break;case"select":St=A$2({},St,{value:void 0}),vt=A$2({},vt,{value:void 0}),Et=[];break;case"textarea":St=gb(ft,St),vt=gb(ft,vt),Et=[];break;default:typeof St.onClick!="function"&&typeof vt.onClick=="function"&&(ft.onclick=Bf)}ub(dt,vt);var At;dt=null;for(Rt in St)if(!vt.hasOwnProperty(Rt)&&St.hasOwnProperty(Rt)&&St[Rt]!=null)if(Rt==="style"){var Ct=St[Rt];for(At in Ct)Ct.hasOwnProperty(At)&&(dt||(dt={}),dt[At]="")}else Rt!=="dangerouslySetInnerHTML"&&Rt!=="children"&&Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&Rt!=="autoFocus"&&(ea.hasOwnProperty(Rt)?Et||(Et=[]):(Et=Et||[]).push(Rt,null));for(Rt in vt){var Tt=vt[Rt];if(Ct=St!=null?St[Rt]:void 0,vt.hasOwnProperty(Rt)&&Tt!==Ct&&(Tt!=null||Ct!=null))if(Rt==="style")if(Ct){for(At in Ct)!Ct.hasOwnProperty(At)||Tt&&Tt.hasOwnProperty(At)||(dt||(dt={}),dt[At]="");for(At in Tt)Tt.hasOwnProperty(At)&&Ct[At]!==Tt[At]&&(dt||(dt={}),dt[At]=Tt[At])}else dt||(Et||(Et=[]),Et.push(Rt,dt)),dt=Tt;else Rt==="dangerouslySetInnerHTML"?(Tt=Tt?Tt.__html:void 0,Ct=Ct?Ct.__html:void 0,Tt!=null&&Ct!==Tt&&(Et=Et||[]).push(Rt,Tt)):Rt==="children"?typeof Tt!="string"&&typeof Tt!="number"||(Et=Et||[]).push(Rt,""+Tt):Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Rt)?(Tt!=null&&Rt==="onScroll"&&D$3("scroll",ft),Et||Ct===Tt||(Et=[])):(Et=Et||[]).push(Rt,Tt))}dt&&(Et=Et||[]).push("style",dt);var Rt=Et;(lt.updateQueue=Rt)&&(lt.flags|=4)}};Dj=function(ft,lt,dt,vt){dt!==vt&&(lt.flags|=4)};function Ej(ft,lt){if(!I$3)switch(ft.tailMode){case"hidden":lt=ft.tail;for(var dt=null;lt!==null;)lt.alternate!==null&&(dt=lt),lt=lt.sibling;dt===null?ft.tail=null:dt.sibling=null;break;case"collapsed":dt=ft.tail;for(var vt=null;dt!==null;)dt.alternate!==null&&(vt=dt),dt=dt.sibling;vt===null?lt||ft.tail===null?ft.tail=null:ft.tail.sibling=null:vt.sibling=null}}function S$2(ft){var lt=ft.alternate!==null&&ft.alternate.child===ft.child,dt=0,vt=0;if(lt)for(var St=ft.child;St!==null;)dt|=St.lanes|St.childLanes,vt|=St.subtreeFlags&14680064,vt|=St.flags&14680064,St.return=ft,St=St.sibling;else for(St=ft.child;St!==null;)dt|=St.lanes|St.childLanes,vt|=St.subtreeFlags,vt|=St.flags,St.return=ft,St=St.sibling;return ft.subtreeFlags|=vt,ft.childLanes=dt,lt}function Fj(ft,lt,dt){var vt=lt.pendingProps;switch(wg(lt),lt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(lt),null;case 1:return Zf(lt.type)&&$f(),S$2(lt),null;case 3:return vt=lt.stateNode,Jh(),E$4(Wf),E$4(H$3),Oh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(ft===null||ft.child===null)&&(Gg(lt)?lt.flags|=4:ft===null||ft.memoizedState.isDehydrated&&!(lt.flags&256)||(lt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(ft,lt),S$2(lt),null;case 5:Lh(lt);var St=Hh(Gh.current);if(dt=lt.type,ft!==null&&lt.stateNode!=null)Cj(ft,lt,dt,vt,St),ft.ref!==lt.ref&&(lt.flags|=512,lt.flags|=2097152);else{if(!vt){if(lt.stateNode===null)throw Error(p$5(166));return S$2(lt),null}if(ft=Hh(Eh.current),Gg(lt)){vt=lt.stateNode,dt=lt.type;var Et=lt.memoizedProps;switch(vt[Of]=lt,vt[Pf]=Et,ft=(lt.mode&1)!==0,dt){case"dialog":D$3("cancel",vt),D$3("close",vt);break;case"iframe":case"object":case"embed":D$3("load",vt);break;case"video":case"audio":for(St=0;St<lf.length;St++)D$3(lf[St],vt);break;case"source":D$3("error",vt);break;case"img":case"image":case"link":D$3("error",vt),D$3("load",vt);break;case"details":D$3("toggle",vt);break;case"input":Za(vt,Et),D$3("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!Et.multiple},D$3("invalid",vt);break;case"textarea":hb(vt,Et),D$3("invalid",vt)}ub(dt,Et),St=null;for(var At in Et)if(Et.hasOwnProperty(At)){var Ct=Et[At];At==="children"?typeof Ct=="string"?vt.textContent!==Ct&&(Et.suppressHydrationWarning!==!0&&Af(vt.textContent,Ct,ft),St=["children",Ct]):typeof Ct=="number"&&vt.textContent!==""+Ct&&(Et.suppressHydrationWarning!==!0&&Af(vt.textContent,Ct,ft),St=["children",""+Ct]):ea.hasOwnProperty(At)&&Ct!=null&&At==="onScroll"&&D$3("scroll",vt)}switch(dt){case"input":Va(vt),db(vt,Et,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof Et.onClick=="function"&&(vt.onclick=Bf)}vt=St,lt.updateQueue=vt,vt!==null&&(lt.flags|=4)}else{At=St.nodeType===9?St:St.ownerDocument,ft==="http://www.w3.org/1999/xhtml"&&(ft=kb(dt)),ft==="http://www.w3.org/1999/xhtml"?dt==="script"?(ft=At.createElement("div"),ft.innerHTML="<script><\/script>",ft=ft.removeChild(ft.firstChild)):typeof vt.is=="string"?ft=At.createElement(dt,{is:vt.is}):(ft=At.createElement(dt),dt==="select"&&(At=ft,vt.multiple?At.multiple=!0:vt.size&&(At.size=vt.size))):ft=At.createElementNS(ft,dt),ft[Of]=lt,ft[Pf]=vt,Aj(ft,lt,!1,!1),lt.stateNode=ft;e:{switch(At=vb(dt,vt),dt){case"dialog":D$3("cancel",ft),D$3("close",ft),St=vt;break;case"iframe":case"object":case"embed":D$3("load",ft),St=vt;break;case"video":case"audio":for(St=0;St<lf.length;St++)D$3(lf[St],ft);St=vt;break;case"source":D$3("error",ft),St=vt;break;case"img":case"image":case"link":D$3("error",ft),D$3("load",ft),St=vt;break;case"details":D$3("toggle",ft),St=vt;break;case"input":Za(ft,vt),St=Ya(ft,vt),D$3("invalid",ft);break;case"option":St=vt;break;case"select":ft._wrapperState={wasMultiple:!!vt.multiple},St=A$2({},vt,{value:void 0}),D$3("invalid",ft);break;case"textarea":hb(ft,vt),St=gb(ft,vt),D$3("invalid",ft);break;default:St=vt}ub(dt,St),Ct=St;for(Et in Ct)if(Ct.hasOwnProperty(Et)){var Tt=Ct[Et];Et==="style"?sb(ft,Tt):Et==="dangerouslySetInnerHTML"?(Tt=Tt?Tt.__html:void 0,Tt!=null&&nb(ft,Tt)):Et==="children"?typeof Tt=="string"?(dt!=="textarea"||Tt!=="")&&ob(ft,Tt):typeof Tt=="number"&&ob(ft,""+Tt):Et!=="suppressContentEditableWarning"&&Et!=="suppressHydrationWarning"&&Et!=="autoFocus"&&(ea.hasOwnProperty(Et)?Tt!=null&&Et==="onScroll"&&D$3("scroll",ft):Tt!=null&&ta(ft,Et,Tt,At))}switch(dt){case"input":Va(ft),db(ft,vt,!1);break;case"textarea":Va(ft),jb(ft);break;case"option":vt.value!=null&&ft.setAttribute("value",""+Sa(vt.value));break;case"select":ft.multiple=!!vt.multiple,Et=vt.value,Et!=null?fb(ft,!!vt.multiple,Et,!1):vt.defaultValue!=null&&fb(ft,!!vt.multiple,vt.defaultValue,!0);break;default:typeof St.onClick=="function"&&(ft.onclick=Bf)}switch(dt){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&(lt.flags|=4)}lt.ref!==null&&(lt.flags|=512,lt.flags|=2097152)}return S$2(lt),null;case 6:if(ft&&lt.stateNode!=null)Dj(ft,lt,ft.memoizedProps,vt);else{if(typeof vt!="string"&&lt.stateNode===null)throw Error(p$5(166));if(dt=Hh(Gh.current),Hh(Eh.current),Gg(lt)){if(vt=lt.stateNode,dt=lt.memoizedProps,vt[Of]=lt,(Et=vt.nodeValue!==dt)&&(ft=xg,ft!==null))switch(ft.tag){case 3:Af(vt.nodeValue,dt,(ft.mode&1)!==0);break;case 5:ft.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,dt,(ft.mode&1)!==0)}Et&&(lt.flags|=4)}else vt=(dt.nodeType===9?dt:dt.ownerDocument).createTextNode(vt),vt[Of]=lt,lt.stateNode=vt}return S$2(lt),null;case 13:if(E$4(M$2),vt=lt.memoizedState,ft===null||ft.memoizedState!==null&&ft.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&lt.mode&1&&!(lt.flags&128))Hg(),Ig(),lt.flags|=98560,Et=!1;else if(Et=Gg(lt),vt!==null&&vt.dehydrated!==null){if(ft===null){if(!Et)throw Error(p$5(318));if(Et=lt.memoizedState,Et=Et!==null?Et.dehydrated:null,!Et)throw Error(p$5(317));Et[Of]=lt}else Ig(),!(lt.flags&128)&&(lt.memoizedState=null),lt.flags|=4;S$2(lt),Et=!1}else zg!==null&&(Gj(zg),zg=null),Et=!0;if(!Et)return lt.flags&65536?lt:null}return lt.flags&128?(lt.lanes=dt,lt):(vt=vt!==null,vt!==(ft!==null&&ft.memoizedState!==null)&&vt&&(lt.child.flags|=8192,lt.mode&1&&(ft===null||M$2.current&1?T$2===0&&(T$2=3):uj())),lt.updateQueue!==null&&(lt.flags|=4),S$2(lt),null);case 4:return Jh(),Bj(ft,lt),ft===null&&sf(lt.stateNode.containerInfo),S$2(lt),null;case 10:return Rg(lt.type._context),S$2(lt),null;case 17:return Zf(lt.type)&&$f(),S$2(lt),null;case 19:if(E$4(M$2),Et=lt.memoizedState,Et===null)return S$2(lt),null;if(vt=(lt.flags&128)!==0,At=Et.rendering,At===null)if(vt)Ej(Et,!1);else{if(T$2!==0||ft!==null&&ft.flags&128)for(ft=lt.child;ft!==null;){if(At=Mh(ft),At!==null){for(lt.flags|=128,Ej(Et,!1),vt=At.updateQueue,vt!==null&&(lt.updateQueue=vt,lt.flags|=4),lt.subtreeFlags=0,vt=dt,dt=lt.child;dt!==null;)Et=dt,ft=vt,Et.flags&=14680066,At=Et.alternate,At===null?(Et.childLanes=0,Et.lanes=ft,Et.child=null,Et.subtreeFlags=0,Et.memoizedProps=null,Et.memoizedState=null,Et.updateQueue=null,Et.dependencies=null,Et.stateNode=null):(Et.childLanes=At.childLanes,Et.lanes=At.lanes,Et.child=At.child,Et.subtreeFlags=0,Et.deletions=null,Et.memoizedProps=At.memoizedProps,Et.memoizedState=At.memoizedState,Et.updateQueue=At.updateQueue,Et.type=At.type,ft=At.dependencies,Et.dependencies=ft===null?null:{lanes:ft.lanes,firstContext:ft.firstContext}),dt=dt.sibling;return G$1(M$2,M$2.current&1|2),lt.child}ft=ft.sibling}Et.tail!==null&&B$2()>Hj&&(lt.flags|=128,vt=!0,Ej(Et,!1),lt.lanes=4194304)}else{if(!vt)if(ft=Mh(At),ft!==null){if(lt.flags|=128,vt=!0,dt=ft.updateQueue,dt!==null&&(lt.updateQueue=dt,lt.flags|=4),Ej(Et,!0),Et.tail===null&&Et.tailMode==="hidden"&&!At.alternate&&!I$3)return S$2(lt),null}else 2*B$2()-Et.renderingStartTime>Hj&&dt!==1073741824&&(lt.flags|=128,vt=!0,Ej(Et,!1),lt.lanes=4194304);Et.isBackwards?(At.sibling=lt.child,lt.child=At):(dt=Et.last,dt!==null?dt.sibling=At:lt.child=At,Et.last=At)}return Et.tail!==null?(lt=Et.tail,Et.rendering=lt,Et.tail=lt.sibling,Et.renderingStartTime=B$2(),lt.sibling=null,dt=M$2.current,G$1(M$2,vt?dt&1|2:dt&1),lt):(S$2(lt),null);case 22:case 23:return Ij(),vt=lt.memoizedState!==null,ft!==null&&ft.memoizedState!==null!==vt&&(lt.flags|=8192),vt&&lt.mode&1?gj&1073741824&&(S$2(lt),lt.subtreeFlags&6&&(lt.flags|=8192)):S$2(lt),null;case 24:return null;case 25:return null}throw Error(p$5(156,lt.tag))}function Jj(ft,lt){switch(wg(lt),lt.tag){case 1:return Zf(lt.type)&&$f(),ft=lt.flags,ft&65536?(lt.flags=ft&-65537|128,lt):null;case 3:return Jh(),E$4(Wf),E$4(H$3),Oh(),ft=lt.flags,ft&65536&&!(ft&128)?(lt.flags=ft&-65537|128,lt):null;case 5:return Lh(lt),null;case 13:if(E$4(M$2),ft=lt.memoizedState,ft!==null&&ft.dehydrated!==null){if(lt.alternate===null)throw Error(p$5(340));Ig()}return ft=lt.flags,ft&65536?(lt.flags=ft&-65537|128,lt):null;case 19:return E$4(M$2),null;case 4:return Jh(),null;case 10:return Rg(lt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(ft,lt){var dt=ft.ref;if(dt!==null)if(typeof dt=="function")try{dt(null)}catch(vt){W$3(ft,lt,vt)}else dt.current=null}function Nj(ft,lt,dt){try{dt()}catch(vt){W$3(ft,lt,vt)}}var Oj=!1;function Pj(ft,lt){if(Cf=dd,ft=Me$1(),Ne$2(ft)){if("selectionStart"in ft)var dt={start:ft.selectionStart,end:ft.selectionEnd};else e:{dt=(dt=ft.ownerDocument)&&dt.defaultView||window;var vt=dt.getSelection&&dt.getSelection();if(vt&&vt.rangeCount!==0){dt=vt.anchorNode;var St=vt.anchorOffset,Et=vt.focusNode;vt=vt.focusOffset;try{dt.nodeType,Et.nodeType}catch{dt=null;break e}var At=0,Ct=-1,Tt=-1,Rt=0,Bt=0,Dt=ft,Ft=null;t:for(;;){for(var kt;Dt!==dt||St!==0&&Dt.nodeType!==3||(Ct=At+St),Dt!==Et||vt!==0&&Dt.nodeType!==3||(Tt=At+vt),Dt.nodeType===3&&(At+=Dt.nodeValue.length),(kt=Dt.firstChild)!==null;)Ft=Dt,Dt=kt;for(;;){if(Dt===ft)break t;if(Ft===dt&&++Rt===St&&(Ct=At),Ft===Et&&++Bt===vt&&(Tt=At),(kt=Dt.nextSibling)!==null)break;Dt=Ft,Ft=Dt.parentNode}Dt=kt}dt=Ct===-1||Tt===-1?null:{start:Ct,end:Tt}}else dt=null}dt=dt||{start:0,end:0}}else dt=null;for(Df={focusedElem:ft,selectionRange:dt},dd=!1,V$2=lt;V$2!==null;)if(lt=V$2,ft=lt.child,(lt.subtreeFlags&1028)!==0&&ft!==null)ft.return=lt,V$2=ft;else for(;V$2!==null;){lt=V$2;try{var Ut=lt.alternate;if(lt.flags&1024)switch(lt.tag){case 0:case 11:case 15:break;case 1:if(Ut!==null){var Kt=Ut.memoizedProps,tr=Ut.memoizedState,Wt=lt.stateNode,Zt=Wt.getSnapshotBeforeUpdate(lt.elementType===lt.type?Kt:Lg(lt.type,Kt),tr);Wt.__reactInternalSnapshotBeforeUpdate=Zt}break;case 3:var Ht=lt.stateNode.containerInfo;Ht.nodeType===1?Ht.textContent="":Ht.nodeType===9&&Ht.documentElement&&Ht.removeChild(Ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(nr){W$3(lt,lt.return,nr)}if(ft=lt.sibling,ft!==null){ft.return=lt.return,V$2=ft;break}V$2=lt.return}return Ut=Oj,Oj=!1,Ut}function Qj(ft,lt,dt){var vt=lt.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var St=vt=vt.next;do{if((St.tag&ft)===ft){var Et=St.destroy;St.destroy=void 0,Et!==void 0&&Nj(lt,dt,Et)}St=St.next}while(St!==vt)}}function Rj(ft,lt){if(lt=lt.updateQueue,lt=lt!==null?lt.lastEffect:null,lt!==null){var dt=lt=lt.next;do{if((dt.tag&ft)===ft){var vt=dt.create;dt.destroy=vt()}dt=dt.next}while(dt!==lt)}}function Sj(ft){var lt=ft.ref;if(lt!==null){var dt=ft.stateNode;switch(ft.tag){case 5:ft=dt;break;default:ft=dt}typeof lt=="function"?lt(ft):lt.current=ft}}function Tj(ft){var lt=ft.alternate;lt!==null&&(ft.alternate=null,Tj(lt)),ft.child=null,ft.deletions=null,ft.sibling=null,ft.tag===5&&(lt=ft.stateNode,lt!==null&&(delete lt[Of],delete lt[Pf],delete lt[of],delete lt[Qf],delete lt[Rf])),ft.stateNode=null,ft.return=null,ft.dependencies=null,ft.memoizedProps=null,ft.memoizedState=null,ft.pendingProps=null,ft.stateNode=null,ft.updateQueue=null}function Uj(ft){return ft.tag===5||ft.tag===3||ft.tag===4}function Vj(ft){e:for(;;){for(;ft.sibling===null;){if(ft.return===null||Uj(ft.return))return null;ft=ft.return}for(ft.sibling.return=ft.return,ft=ft.sibling;ft.tag!==5&&ft.tag!==6&&ft.tag!==18;){if(ft.flags&2||ft.child===null||ft.tag===4)continue e;ft.child.return=ft,ft=ft.child}if(!(ft.flags&2))return ft.stateNode}}function Wj(ft,lt,dt){var vt=ft.tag;if(vt===5||vt===6)ft=ft.stateNode,lt?dt.nodeType===8?dt.parentNode.insertBefore(ft,lt):dt.insertBefore(ft,lt):(dt.nodeType===8?(lt=dt.parentNode,lt.insertBefore(ft,dt)):(lt=dt,lt.appendChild(ft)),dt=dt._reactRootContainer,dt!=null||lt.onclick!==null||(lt.onclick=Bf));else if(vt!==4&&(ft=ft.child,ft!==null))for(Wj(ft,lt,dt),ft=ft.sibling;ft!==null;)Wj(ft,lt,dt),ft=ft.sibling}function Xj(ft,lt,dt){var vt=ft.tag;if(vt===5||vt===6)ft=ft.stateNode,lt?dt.insertBefore(ft,lt):dt.appendChild(ft);else if(vt!==4&&(ft=ft.child,ft!==null))for(Xj(ft,lt,dt),ft=ft.sibling;ft!==null;)Xj(ft,lt,dt),ft=ft.sibling}var X$2=null,Yj=!1;function Zj(ft,lt,dt){for(dt=dt.child;dt!==null;)ak(ft,lt,dt),dt=dt.sibling}function ak(ft,lt,dt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,dt)}catch{}switch(dt.tag){case 5:U$2||Mj(dt,lt);case 6:var vt=X$2,St=Yj;X$2=null,Zj(ft,lt,dt),X$2=vt,Yj=St,X$2!==null&&(Yj?(ft=X$2,dt=dt.stateNode,ft.nodeType===8?ft.parentNode.removeChild(dt):ft.removeChild(dt)):X$2.removeChild(dt.stateNode));break;case 18:X$2!==null&&(Yj?(ft=X$2,dt=dt.stateNode,ft.nodeType===8?Kf(ft.parentNode,dt):ft.nodeType===1&&Kf(ft,dt),bd(ft)):Kf(X$2,dt.stateNode));break;case 4:vt=X$2,St=Yj,X$2=dt.stateNode.containerInfo,Yj=!0,Zj(ft,lt,dt),X$2=vt,Yj=St;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=dt.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){St=vt=vt.next;do{var Et=St,At=Et.destroy;Et=Et.tag,At!==void 0&&(Et&2||Et&4)&&Nj(dt,lt,At),St=St.next}while(St!==vt)}Zj(ft,lt,dt);break;case 1:if(!U$2&&(Mj(dt,lt),vt=dt.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=dt.memoizedProps,vt.state=dt.memoizedState,vt.componentWillUnmount()}catch(Ct){W$3(dt,lt,Ct)}Zj(ft,lt,dt);break;case 21:Zj(ft,lt,dt);break;case 22:dt.mode&1?(U$2=(vt=U$2)||dt.memoizedState!==null,Zj(ft,lt,dt),U$2=vt):Zj(ft,lt,dt);break;default:Zj(ft,lt,dt)}}function bk(ft){var lt=ft.updateQueue;if(lt!==null){ft.updateQueue=null;var dt=ft.stateNode;dt===null&&(dt=ft.stateNode=new Lj),lt.forEach(function(vt){var St=ck.bind(null,ft,vt);dt.has(vt)||(dt.add(vt),vt.then(St,St))})}}function dk(ft,lt){var dt=lt.deletions;if(dt!==null)for(var vt=0;vt<dt.length;vt++){var St=dt[vt];try{var Et=ft,At=lt,Ct=At;e:for(;Ct!==null;){switch(Ct.tag){case 5:X$2=Ct.stateNode,Yj=!1;break e;case 3:X$2=Ct.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=Ct.stateNode.containerInfo,Yj=!0;break e}Ct=Ct.return}if(X$2===null)throw Error(p$5(160));ak(Et,At,St),X$2=null,Yj=!1;var Tt=St.alternate;Tt!==null&&(Tt.return=null),St.return=null}catch(Rt){W$3(St,lt,Rt)}}if(lt.subtreeFlags&12854)for(lt=lt.child;lt!==null;)ek(lt,ft),lt=lt.sibling}function ek(ft,lt){var dt=ft.alternate,vt=ft.flags;switch(ft.tag){case 0:case 11:case 14:case 15:if(dk(lt,ft),fk(ft),vt&4){try{Qj(3,ft,ft.return),Rj(3,ft)}catch(Kt){W$3(ft,ft.return,Kt)}try{Qj(5,ft,ft.return)}catch(Kt){W$3(ft,ft.return,Kt)}}break;case 1:dk(lt,ft),fk(ft),vt&512&&dt!==null&&Mj(dt,dt.return);break;case 5:if(dk(lt,ft),fk(ft),vt&512&&dt!==null&&Mj(dt,dt.return),ft.flags&32){var St=ft.stateNode;try{ob(St,"")}catch(Kt){W$3(ft,ft.return,Kt)}}if(vt&4&&(St=ft.stateNode,St!=null)){var Et=ft.memoizedProps,At=dt!==null?dt.memoizedProps:Et,Ct=ft.type,Tt=ft.updateQueue;if(ft.updateQueue=null,Tt!==null)try{Ct==="input"&&Et.type==="radio"&&Et.name!=null&&ab(St,Et),vb(Ct,At);var Rt=vb(Ct,Et);for(At=0;At<Tt.length;At+=2){var Bt=Tt[At],Dt=Tt[At+1];Bt==="style"?sb(St,Dt):Bt==="dangerouslySetInnerHTML"?nb(St,Dt):Bt==="children"?ob(St,Dt):ta(St,Bt,Dt,Rt)}switch(Ct){case"input":bb(St,Et);break;case"textarea":ib(St,Et);break;case"select":var Ft=St._wrapperState.wasMultiple;St._wrapperState.wasMultiple=!!Et.multiple;var kt=Et.value;kt!=null?fb(St,!!Et.multiple,kt,!1):Ft!==!!Et.multiple&&(Et.defaultValue!=null?fb(St,!!Et.multiple,Et.defaultValue,!0):fb(St,!!Et.multiple,Et.multiple?[]:"",!1))}St[Pf]=Et}catch(Kt){W$3(ft,ft.return,Kt)}}break;case 6:if(dk(lt,ft),fk(ft),vt&4){if(ft.stateNode===null)throw Error(p$5(162));St=ft.stateNode,Et=ft.memoizedProps;try{St.nodeValue=Et}catch(Kt){W$3(ft,ft.return,Kt)}}break;case 3:if(dk(lt,ft),fk(ft),vt&4&&dt!==null&&dt.memoizedState.isDehydrated)try{bd(lt.containerInfo)}catch(Kt){W$3(ft,ft.return,Kt)}break;case 4:dk(lt,ft),fk(ft);break;case 13:dk(lt,ft),fk(ft),St=ft.child,St.flags&8192&&(Et=St.memoizedState!==null,St.stateNode.isHidden=Et,!Et||St.alternate!==null&&St.alternate.memoizedState!==null||(gk=B$2())),vt&4&&bk(ft);break;case 22:if(Bt=dt!==null&&dt.memoizedState!==null,ft.mode&1?(U$2=(Rt=U$2)||Bt,dk(lt,ft),U$2=Rt):dk(lt,ft),fk(ft),vt&8192){if(Rt=ft.memoizedState!==null,(ft.stateNode.isHidden=Rt)&&!Bt&&ft.mode&1)for(V$2=ft,Bt=ft.child;Bt!==null;){for(Dt=V$2=Bt;V$2!==null;){switch(Ft=V$2,kt=Ft.child,Ft.tag){case 0:case 11:case 14:case 15:Qj(4,Ft,Ft.return);break;case 1:Mj(Ft,Ft.return);var Ut=Ft.stateNode;if(typeof Ut.componentWillUnmount=="function"){vt=Ft,dt=Ft.return;try{lt=vt,Ut.props=lt.memoizedProps,Ut.state=lt.memoizedState,Ut.componentWillUnmount()}catch(Kt){W$3(vt,dt,Kt)}}break;case 5:Mj(Ft,Ft.return);break;case 22:if(Ft.memoizedState!==null){hk(Dt);continue}}kt!==null?(kt.return=Ft,V$2=kt):hk(Dt)}Bt=Bt.sibling}e:for(Bt=null,Dt=ft;;){if(Dt.tag===5){if(Bt===null){Bt=Dt;try{St=Dt.stateNode,Rt?(Et=St.style,typeof Et.setProperty=="function"?Et.setProperty("display","none","important"):Et.display="none"):(Ct=Dt.stateNode,Tt=Dt.memoizedProps.style,At=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null,Ct.style.display=rb("display",At))}catch(Kt){W$3(ft,ft.return,Kt)}}}else if(Dt.tag===6){if(Bt===null)try{Dt.stateNode.nodeValue=Rt?"":Dt.memoizedProps}catch(Kt){W$3(ft,ft.return,Kt)}}else if((Dt.tag!==22&&Dt.tag!==23||Dt.memoizedState===null||Dt===ft)&&Dt.child!==null){Dt.child.return=Dt,Dt=Dt.child;continue}if(Dt===ft)break e;for(;Dt.sibling===null;){if(Dt.return===null||Dt.return===ft)break e;Bt===Dt&&(Bt=null),Dt=Dt.return}Bt===Dt&&(Bt=null),Dt.sibling.return=Dt.return,Dt=Dt.sibling}}break;case 19:dk(lt,ft),fk(ft),vt&4&&bk(ft);break;case 21:break;default:dk(lt,ft),fk(ft)}}function fk(ft){var lt=ft.flags;if(lt&2){try{e:{for(var dt=ft.return;dt!==null;){if(Uj(dt)){var vt=dt;break e}dt=dt.return}throw Error(p$5(160))}switch(vt.tag){case 5:var St=vt.stateNode;vt.flags&32&&(ob(St,""),vt.flags&=-33);var Et=Vj(ft);Xj(ft,Et,St);break;case 3:case 4:var At=vt.stateNode.containerInfo,Ct=Vj(ft);Wj(ft,Ct,At);break;default:throw Error(p$5(161))}}catch(Tt){W$3(ft,ft.return,Tt)}ft.flags&=-3}lt&4096&&(ft.flags&=-4097)}function ik(ft,lt,dt){V$2=ft,jk(ft)}function jk(ft,lt,dt){for(var vt=(ft.mode&1)!==0;V$2!==null;){var St=V$2,Et=St.child;if(St.tag===22&&vt){var At=St.memoizedState!==null||Kj;if(!At){var Ct=St.alternate,Tt=Ct!==null&&Ct.memoizedState!==null||U$2;Ct=Kj;var Rt=U$2;if(Kj=At,(U$2=Tt)&&!Rt)for(V$2=St;V$2!==null;)At=V$2,Tt=At.child,At.tag===22&&At.memoizedState!==null?kk(St):Tt!==null?(Tt.return=At,V$2=Tt):kk(St);for(;Et!==null;)V$2=Et,jk(Et),Et=Et.sibling;V$2=St,Kj=Ct,U$2=Rt}lk(ft)}else St.subtreeFlags&8772&&Et!==null?(Et.return=St,V$2=Et):lk(ft)}}function lk(ft){for(;V$2!==null;){var lt=V$2;if(lt.flags&8772){var dt=lt.alternate;try{if(lt.flags&8772)switch(lt.tag){case 0:case 11:case 15:U$2||Rj(5,lt);break;case 1:var vt=lt.stateNode;if(lt.flags&4&&!U$2)if(dt===null)vt.componentDidMount();else{var St=lt.elementType===lt.type?dt.memoizedProps:Lg(lt.type,dt.memoizedProps);vt.componentDidUpdate(St,dt.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var Et=lt.updateQueue;Et!==null&&ih(lt,Et,vt);break;case 3:var At=lt.updateQueue;if(At!==null){if(dt=null,lt.child!==null)switch(lt.child.tag){case 5:dt=lt.child.stateNode;break;case 1:dt=lt.child.stateNode}ih(lt,At,dt)}break;case 5:var Ct=lt.stateNode;if(dt===null&&lt.flags&4){dt=Ct;var Tt=lt.memoizedProps;switch(lt.type){case"button":case"input":case"select":case"textarea":Tt.autoFocus&&dt.focus();break;case"img":Tt.src&&(dt.src=Tt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(lt.memoizedState===null){var Rt=lt.alternate;if(Rt!==null){var Bt=Rt.memoizedState;if(Bt!==null){var Dt=Bt.dehydrated;Dt!==null&&bd(Dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$2||lt.flags&512&&Sj(lt)}catch(Ft){W$3(lt,lt.return,Ft)}}if(lt===ft){V$2=null;break}if(dt=lt.sibling,dt!==null){dt.return=lt.return,V$2=dt;break}V$2=lt.return}}function hk(ft){for(;V$2!==null;){var lt=V$2;if(lt===ft){V$2=null;break}var dt=lt.sibling;if(dt!==null){dt.return=lt.return,V$2=dt;break}V$2=lt.return}}function kk(ft){for(;V$2!==null;){var lt=V$2;try{switch(lt.tag){case 0:case 11:case 15:var dt=lt.return;try{Rj(4,lt)}catch(Tt){W$3(lt,dt,Tt)}break;case 1:var vt=lt.stateNode;if(typeof vt.componentDidMount=="function"){var St=lt.return;try{vt.componentDidMount()}catch(Tt){W$3(lt,St,Tt)}}var Et=lt.return;try{Sj(lt)}catch(Tt){W$3(lt,Et,Tt)}break;case 5:var At=lt.return;try{Sj(lt)}catch(Tt){W$3(lt,At,Tt)}}}catch(Tt){W$3(lt,lt.return,Tt)}if(lt===ft){V$2=null;break}var Ct=lt.sibling;if(Ct!==null){Ct.return=lt.return,V$2=Ct;break}V$2=lt.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$2=0,R$2=null,Y$2=null,Z$1=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K$2&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(ft){return ft.mode&1?K$2&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(ft=C$2,ft!==0||(ft=window.event,ft=ft===void 0?16:jd(ft.type)),ft):1}function mh(ft,lt,dt,vt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac(ft,dt,vt),(!(K$2&2)||ft!==R$2)&&(ft===R$2&&(!(K$2&2)&&(rk|=dt),T$2===4&&Dk(ft,Z$1)),Ek(ft,vt),dt===1&&K$2===0&&!(lt.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(ft,lt){var dt=ft.callbackNode;wc(ft,lt);var vt=uc(ft,ft===R$2?Z$1:0);if(vt===0)dt!==null&&bc(dt),ft.callbackNode=null,ft.callbackPriority=0;else if(lt=vt&-vt,ft.callbackPriority!==lt){if(dt!=null&&bc(dt),lt===1)ft.tag===0?ig(Fk.bind(null,ft)):hg(Fk.bind(null,ft)),Jf(function(){!(K$2&6)&&jg()}),dt=null;else{switch(Dc(vt)){case 1:dt=fc;break;case 4:dt=gc;break;case 16:dt=hc;break;case 536870912:dt=jc;break;default:dt=hc}dt=Gk(dt,Hk.bind(null,ft))}ft.callbackPriority=lt,ft.callbackNode=dt}}function Hk(ft,lt){if(Bk=-1,Ck=0,K$2&6)throw Error(p$5(327));var dt=ft.callbackNode;if(Ik()&&ft.callbackNode!==dt)return null;var vt=uc(ft,ft===R$2?Z$1:0);if(vt===0)return null;if(vt&30||vt&ft.expiredLanes||lt)lt=Jk(ft,vt);else{lt=vt;var St=K$2;K$2|=2;var Et=Kk();(R$2!==ft||Z$1!==lt)&&(vk=null,Hj=B$2()+500,Lk(ft,lt));do try{Mk();break}catch(Ct){Nk(ft,Ct)}while(1);Qg(),nk.current=Et,K$2=St,Y$2!==null?lt=0:(R$2=null,Z$1=0,lt=T$2)}if(lt!==0){if(lt===2&&(St=xc(ft),St!==0&&(vt=St,lt=Ok(ft,St))),lt===1)throw dt=qk,Lk(ft,0),Dk(ft,vt),Ek(ft,B$2()),dt;if(lt===6)Dk(ft,vt);else{if(St=ft.current.alternate,!(vt&30)&&!Pk(St)&&(lt=Jk(ft,vt),lt===2&&(Et=xc(ft),Et!==0&&(vt=Et,lt=Ok(ft,Et))),lt===1))throw dt=qk,Lk(ft,0),Dk(ft,vt),Ek(ft,B$2()),dt;switch(ft.finishedWork=St,ft.finishedLanes=vt,lt){case 0:case 1:throw Error(p$5(345));case 2:Qk(ft,uk,vk);break;case 3:if(Dk(ft,vt),(vt&130023424)===vt&&(lt=gk+500-B$2(),10<lt)){if(uc(ft,0)!==0)break;if(St=ft.suspendedLanes,(St&vt)!==vt){L$2(),ft.pingedLanes|=ft.suspendedLanes&St;break}ft.timeoutHandle=Ff(Qk.bind(null,ft,uk,vk),lt);break}Qk(ft,uk,vk);break;case 4:if(Dk(ft,vt),(vt&4194240)===vt)break;for(lt=ft.eventTimes,St=-1;0<vt;){var At=31-oc(vt);Et=1<<At,At=lt[At],At>St&&(St=At),vt&=~Et}if(vt=St,vt=B$2()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*mk(vt/1960))-vt,10<vt){ft.timeoutHandle=Ff(Qk.bind(null,ft,uk,vk),vt);break}Qk(ft,uk,vk);break;case 5:Qk(ft,uk,vk);break;default:throw Error(p$5(329))}}}return Ek(ft,B$2()),ft.callbackNode===dt?Hk.bind(null,ft):null}function Ok(ft,lt){var dt=tk;return ft.current.memoizedState.isDehydrated&&(Lk(ft,lt).flags|=256),ft=Jk(ft,lt),ft!==2&&(lt=uk,uk=dt,lt!==null&&Gj(lt)),ft}function Gj(ft){uk===null?uk=ft:uk.push.apply(uk,ft)}function Pk(ft){for(var lt=ft;;){if(lt.flags&16384){var dt=lt.updateQueue;if(dt!==null&&(dt=dt.stores,dt!==null))for(var vt=0;vt<dt.length;vt++){var St=dt[vt],Et=St.getSnapshot;St=St.value;try{if(!He$2(Et(),St))return!1}catch{return!1}}}if(dt=lt.child,lt.subtreeFlags&16384&&dt!==null)dt.return=lt,lt=dt;else{if(lt===ft)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===ft)return!0;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}}return!0}function Dk(ft,lt){for(lt&=~sk,lt&=~rk,ft.suspendedLanes|=lt,ft.pingedLanes&=~lt,ft=ft.expirationTimes;0<lt;){var dt=31-oc(lt),vt=1<<dt;ft[dt]=-1,lt&=~vt}}function Fk(ft){if(K$2&6)throw Error(p$5(327));Ik();var lt=uc(ft,0);if(!(lt&1))return Ek(ft,B$2()),null;var dt=Jk(ft,lt);if(ft.tag!==0&&dt===2){var vt=xc(ft);vt!==0&&(lt=vt,dt=Ok(ft,vt))}if(dt===1)throw dt=qk,Lk(ft,0),Dk(ft,lt),Ek(ft,B$2()),dt;if(dt===6)throw Error(p$5(345));return ft.finishedWork=ft.current.alternate,ft.finishedLanes=lt,Qk(ft,uk,vk),Ek(ft,B$2()),null}function Rk(ft,lt){var dt=K$2;K$2|=1;try{return ft(lt)}finally{K$2=dt,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(ft){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var lt=K$2;K$2|=1;var dt=pk.transition,vt=C$2;try{if(pk.transition=null,C$2=1,ft)return ft()}finally{C$2=vt,pk.transition=dt,K$2=lt,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$4(fj)}function Lk(ft,lt){ft.finishedWork=null,ft.finishedLanes=0;var dt=ft.timeoutHandle;if(dt!==-1&&(ft.timeoutHandle=-1,Gf(dt)),Y$2!==null)for(dt=Y$2.return;dt!==null;){var vt=dt;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:Jh(),E$4(Wf),E$4(H$3),Oh();break;case 5:Lh(vt);break;case 4:Jh();break;case 13:E$4(M$2);break;case 19:E$4(M$2);break;case 10:Rg(vt.type._context);break;case 22:case 23:Ij()}dt=dt.return}if(R$2=ft,Y$2=ft=wh(ft.current,null),Z$1=gj=lt,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(lt=0;lt<Wg.length;lt++)if(dt=Wg[lt],vt=dt.interleaved,vt!==null){dt.interleaved=null;var St=vt.next,Et=dt.pending;if(Et!==null){var At=Et.next;Et.next=St,vt.next=At}dt.pending=vt}Wg=null}return ft}function Nk(ft,lt){do{var dt=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var vt=N$2.memoizedState;vt!==null;){var St=vt.queue;St!==null&&(St.pending=null),vt=vt.next}Sh=!1}if(Rh=0,P$2=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,dt===null||dt.return===null){T$2=1,qk=lt,Y$2=null;break}e:{var Et=ft,At=dt.return,Ct=dt,Tt=lt;if(lt=Z$1,Ct.flags|=32768,Tt!==null&&typeof Tt=="object"&&typeof Tt.then=="function"){var Rt=Tt,Bt=Ct,Dt=Bt.tag;if(!(Bt.mode&1)&&(Dt===0||Dt===11||Dt===15)){var Ft=Bt.alternate;Ft?(Bt.updateQueue=Ft.updateQueue,Bt.memoizedState=Ft.memoizedState,Bt.lanes=Ft.lanes):(Bt.updateQueue=null,Bt.memoizedState=null)}var kt=Vi(At);if(kt!==null){kt.flags&=-257,Wi(kt,At,Ct,Et,lt),kt.mode&1&&Ti(Et,Rt,lt),lt=kt,Tt=Rt;var Ut=lt.updateQueue;if(Ut===null){var Kt=new Set;Kt.add(Tt),lt.updateQueue=Kt}else Ut.add(Tt);break e}else{if(!(lt&1)){Ti(Et,Rt,lt),uj();break e}Tt=Error(p$5(426))}}else if(I$3&&Ct.mode&1){var tr=Vi(At);if(tr!==null){!(tr.flags&65536)&&(tr.flags|=256),Wi(tr,At,Ct,Et,lt),Jg(Ki(Tt,Ct));break e}}Et=Tt=Ki(Tt,Ct),T$2!==4&&(T$2=2),tk===null?tk=[Et]:tk.push(Et),Et=At;do{switch(Et.tag){case 3:Et.flags|=65536,lt&=-lt,Et.lanes|=lt;var Wt=Oi(Et,Tt,lt);fh(Et,Wt);break e;case 1:Ct=Tt;var Zt=Et.type,Ht=Et.stateNode;if(!(Et.flags&128)&&(typeof Zt.getDerivedStateFromError=="function"||Ht!==null&&typeof Ht.componentDidCatch=="function"&&(Si===null||!Si.has(Ht)))){Et.flags|=65536,lt&=-lt,Et.lanes|=lt;var nr=Ri(Et,Ct,lt);fh(Et,nr);break e}}Et=Et.return}while(Et!==null)}Tk(dt)}catch(sr){lt=sr,Y$2===dt&&dt!==null&&(Y$2=dt=dt.return);continue}break}while(1)}function Kk(){var ft=nk.current;return nk.current=ai,ft===null?ai:ft}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$1)}function Jk(ft,lt){var dt=K$2;K$2|=2;var vt=Kk();(R$2!==ft||Z$1!==lt)&&(vk=null,Lk(ft,lt));do try{Uk();break}catch(St){Nk(ft,St)}while(1);if(Qg(),K$2=dt,nk.current=vt,Y$2!==null)throw Error(p$5(261));return R$2=null,Z$1=0,T$2}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc();)Vk(Y$2)}function Vk(ft){var lt=Wk(ft.alternate,ft,gj);ft.memoizedProps=ft.pendingProps,lt===null?Tk(ft):Y$2=lt,ok.current=null}function Tk(ft){var lt=ft;do{var dt=lt.alternate;if(ft=lt.return,lt.flags&32768){if(dt=Jj(dt,lt),dt!==null){dt.flags&=32767,Y$2=dt;return}if(ft!==null)ft.flags|=32768,ft.subtreeFlags=0,ft.deletions=null;else{T$2=6,Y$2=null;return}}else if(dt=Fj(dt,lt,gj),dt!==null){Y$2=dt;return}if(lt=lt.sibling,lt!==null){Y$2=lt;return}Y$2=lt=ft}while(lt!==null);T$2===0&&(T$2=5)}function Qk(ft,lt,dt){var vt=C$2,St=pk.transition;try{pk.transition=null,C$2=1,Xk(ft,lt,dt,vt)}finally{pk.transition=St,C$2=vt}return null}function Xk(ft,lt,dt,vt){do Ik();while(xk!==null);if(K$2&6)throw Error(p$5(327));dt=ft.finishedWork;var St=ft.finishedLanes;if(dt===null)return null;if(ft.finishedWork=null,ft.finishedLanes=0,dt===ft.current)throw Error(p$5(177));ft.callbackNode=null,ft.callbackPriority=0;var Et=dt.lanes|dt.childLanes;if(Bc(ft,Et),ft===R$2&&(Y$2=R$2=null,Z$1=0),!(dt.subtreeFlags&2064)&&!(dt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),Et=(dt.flags&15990)!==0,dt.subtreeFlags&15990||Et){Et=pk.transition,pk.transition=null;var At=C$2;C$2=1;var Ct=K$2;K$2|=4,ok.current=null,Pj(ft,dt),ek(dt,ft),Oe$1(Df),dd=!!Cf,Df=Cf=null,ft.current=dt,ik(dt),dc(),K$2=Ct,C$2=At,pk.transition=Et}else ft.current=dt;if(wk&&(wk=!1,xk=ft,yk=St),Et=ft.pendingLanes,Et===0&&(Si=null),mc(dt.stateNode),Ek(ft,B$2()),lt!==null)for(vt=ft.onRecoverableError,dt=0;dt<lt.length;dt++)St=lt[dt],vt(St.value,{componentStack:St.stack,digest:St.digest});if(Pi)throw Pi=!1,ft=Qi,Qi=null,ft;return yk&1&&ft.tag!==0&&Ik(),Et=ft.pendingLanes,Et&1?ft===Ak?zk++:(zk=0,Ak=ft):zk=0,jg(),null}function Ik(){if(xk!==null){var ft=Dc(yk),lt=pk.transition,dt=C$2;try{if(pk.transition=null,C$2=16>ft?16:ft,xk===null)var vt=!1;else{if(ft=xk,xk=null,yk=0,K$2&6)throw Error(p$5(331));var St=K$2;for(K$2|=4,V$2=ft.current;V$2!==null;){var Et=V$2,At=Et.child;if(V$2.flags&16){var Ct=Et.deletions;if(Ct!==null){for(var Tt=0;Tt<Ct.length;Tt++){var Rt=Ct[Tt];for(V$2=Rt;V$2!==null;){var Bt=V$2;switch(Bt.tag){case 0:case 11:case 15:Qj(8,Bt,Et)}var Dt=Bt.child;if(Dt!==null)Dt.return=Bt,V$2=Dt;else for(;V$2!==null;){Bt=V$2;var Ft=Bt.sibling,kt=Bt.return;if(Tj(Bt),Bt===Rt){V$2=null;break}if(Ft!==null){Ft.return=kt,V$2=Ft;break}V$2=kt}}}var Ut=Et.alternate;if(Ut!==null){var Kt=Ut.child;if(Kt!==null){Ut.child=null;do{var tr=Kt.sibling;Kt.sibling=null,Kt=tr}while(Kt!==null)}}V$2=Et}}if(Et.subtreeFlags&2064&&At!==null)At.return=Et,V$2=At;else e:for(;V$2!==null;){if(Et=V$2,Et.flags&2048)switch(Et.tag){case 0:case 11:case 15:Qj(9,Et,Et.return)}var Wt=Et.sibling;if(Wt!==null){Wt.return=Et.return,V$2=Wt;break e}V$2=Et.return}}var Zt=ft.current;for(V$2=Zt;V$2!==null;){At=V$2;var Ht=At.child;if(At.subtreeFlags&2064&&Ht!==null)Ht.return=At,V$2=Ht;else e:for(At=Zt;V$2!==null;){if(Ct=V$2,Ct.flags&2048)try{switch(Ct.tag){case 0:case 11:case 15:Rj(9,Ct)}}catch(sr){W$3(Ct,Ct.return,sr)}if(Ct===At){V$2=null;break e}var nr=Ct.sibling;if(nr!==null){nr.return=Ct.return,V$2=nr;break e}V$2=Ct.return}}if(K$2=St,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,ft)}catch{}vt=!0}return vt}finally{C$2=dt,pk.transition=lt}}return!1}function Yk(ft,lt,dt){lt=Ki(dt,lt),lt=Oi(ft,lt,1),ft=dh(ft,lt,1),lt=L$2(),ft!==null&&(Ac(ft,1,lt),Ek(ft,lt))}function W$3(ft,lt,dt){if(ft.tag===3)Yk(ft,ft,dt);else for(;lt!==null;){if(lt.tag===3){Yk(lt,ft,dt);break}else if(lt.tag===1){var vt=lt.stateNode;if(typeof lt.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Si===null||!Si.has(vt))){ft=Ki(dt,ft),ft=Ri(lt,ft,1),lt=dh(lt,ft,1),ft=L$2(),lt!==null&&(Ac(lt,1,ft),Ek(lt,ft));break}}lt=lt.return}}function Ui(ft,lt,dt){var vt=ft.pingCache;vt!==null&&vt.delete(lt),lt=L$2(),ft.pingedLanes|=ft.suspendedLanes&dt,R$2===ft&&(Z$1&dt)===dt&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(ft,0):sk|=dt),Ek(ft,lt)}function Zk(ft,lt){lt===0&&(ft.mode&1?(lt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):lt=1);var dt=L$2();ft=Zg(ft,lt),ft!==null&&(Ac(ft,lt,dt),Ek(ft,dt))}function vj(ft){var lt=ft.memoizedState,dt=0;lt!==null&&(dt=lt.retryLane),Zk(ft,dt)}function ck(ft,lt){var dt=0;switch(ft.tag){case 13:var vt=ft.stateNode,St=ft.memoizedState;St!==null&&(dt=St.retryLane);break;case 19:vt=ft.stateNode;break;default:throw Error(p$5(314))}vt!==null&&vt.delete(lt),Zk(ft,dt)}var Wk;Wk=function(ft,lt,dt){if(ft!==null)if(ft.memoizedProps!==lt.pendingProps||Wf.current)Ug=!0;else{if(!(ft.lanes&dt)&&!(lt.flags&128))return Ug=!1,zj(ft,lt,dt);Ug=!!(ft.flags&131072)}else Ug=!1,I$3&&lt.flags&1048576&&ug(lt,ng,lt.index);switch(lt.lanes=0,lt.tag){case 2:var vt=lt.type;jj(ft,lt),ft=lt.pendingProps;var St=Yf(lt,H$3.current);Tg(lt,dt),St=Xh(null,lt,vt,ft,St,dt);var Et=bi();return lt.flags|=1,typeof St=="object"&&St!==null&&typeof St.render=="function"&&St.$$typeof===void 0?(lt.tag=1,lt.memoizedState=null,lt.updateQueue=null,Zf(vt)?(Et=!0,cg(lt)):Et=!1,lt.memoizedState=St.state!==null&&St.state!==void 0?St.state:null,ah(lt),St.updater=nh,lt.stateNode=St,St._reactInternals=lt,rh(lt,vt,ft,dt),lt=kj(null,lt,vt,!0,Et,dt)):(lt.tag=0,I$3&&Et&&vg(lt),Yi(null,lt,St,dt),lt=lt.child),lt;case 16:vt=lt.elementType;e:{switch(jj(ft,lt),ft=lt.pendingProps,St=vt._init,vt=St(vt._payload),lt.type=vt,St=lt.tag=$k(vt),ft=Lg(vt,ft),St){case 0:lt=dj(null,lt,vt,ft,dt);break e;case 1:lt=ij(null,lt,vt,ft,dt);break e;case 11:lt=Zi(null,lt,vt,ft,dt);break e;case 14:lt=aj(null,lt,vt,Lg(vt.type,ft),dt);break e}throw Error(p$5(306,vt,""))}return lt;case 0:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),dj(ft,lt,vt,St,dt);case 1:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),ij(ft,lt,vt,St,dt);case 3:e:{if(lj(lt),ft===null)throw Error(p$5(387));vt=lt.pendingProps,Et=lt.memoizedState,St=Et.element,bh(ft,lt),gh(lt,vt,null,dt);var At=lt.memoizedState;if(vt=At.element,Et.isDehydrated)if(Et={element:vt,isDehydrated:!1,cache:At.cache,pendingSuspenseBoundaries:At.pendingSuspenseBoundaries,transitions:At.transitions},lt.updateQueue.baseState=Et,lt.memoizedState=Et,lt.flags&256){St=Ki(Error(p$5(423)),lt),lt=mj(ft,lt,vt,dt,St);break e}else if(vt!==St){St=Ki(Error(p$5(424)),lt),lt=mj(ft,lt,vt,dt,St);break e}else for(yg=Lf(lt.stateNode.containerInfo.firstChild),xg=lt,I$3=!0,zg=null,dt=Ch(lt,null,vt,dt),lt.child=dt;dt;)dt.flags=dt.flags&-3|4096,dt=dt.sibling;else{if(Ig(),vt===St){lt=$i(ft,lt,dt);break e}Yi(ft,lt,vt,dt)}lt=lt.child}return lt;case 5:return Kh(lt),ft===null&&Eg(lt),vt=lt.type,St=lt.pendingProps,Et=ft!==null?ft.memoizedProps:null,At=St.children,Ef(vt,St)?At=null:Et!==null&&Ef(vt,Et)&&(lt.flags|=32),hj(ft,lt),Yi(ft,lt,At,dt),lt.child;case 6:return ft===null&&Eg(lt),null;case 13:return pj(ft,lt,dt);case 4:return Ih(lt,lt.stateNode.containerInfo),vt=lt.pendingProps,ft===null?lt.child=Bh(lt,null,vt,dt):Yi(ft,lt,vt,dt),lt.child;case 11:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),Zi(ft,lt,vt,St,dt);case 7:return Yi(ft,lt,lt.pendingProps,dt),lt.child;case 8:return Yi(ft,lt,lt.pendingProps.children,dt),lt.child;case 12:return Yi(ft,lt,lt.pendingProps.children,dt),lt.child;case 10:e:{if(vt=lt.type._context,St=lt.pendingProps,Et=lt.memoizedProps,At=St.value,G$1(Mg,vt._currentValue),vt._currentValue=At,Et!==null)if(He$2(Et.value,At)){if(Et.children===St.children&&!Wf.current){lt=$i(ft,lt,dt);break e}}else for(Et=lt.child,Et!==null&&(Et.return=lt);Et!==null;){var Ct=Et.dependencies;if(Ct!==null){At=Et.child;for(var Tt=Ct.firstContext;Tt!==null;){if(Tt.context===vt){if(Et.tag===1){Tt=ch(-1,dt&-dt),Tt.tag=2;var Rt=Et.updateQueue;if(Rt!==null){Rt=Rt.shared;var Bt=Rt.pending;Bt===null?Tt.next=Tt:(Tt.next=Bt.next,Bt.next=Tt),Rt.pending=Tt}}Et.lanes|=dt,Tt=Et.alternate,Tt!==null&&(Tt.lanes|=dt),Sg(Et.return,dt,lt),Ct.lanes|=dt;break}Tt=Tt.next}}else if(Et.tag===10)At=Et.type===lt.type?null:Et.child;else if(Et.tag===18){if(At=Et.return,At===null)throw Error(p$5(341));At.lanes|=dt,Ct=At.alternate,Ct!==null&&(Ct.lanes|=dt),Sg(At,dt,lt),At=Et.sibling}else At=Et.child;if(At!==null)At.return=Et;else for(At=Et;At!==null;){if(At===lt){At=null;break}if(Et=At.sibling,Et!==null){Et.return=At.return,At=Et;break}At=At.return}Et=At}Yi(ft,lt,St.children,dt),lt=lt.child}return lt;case 9:return St=lt.type,vt=lt.pendingProps.children,Tg(lt,dt),St=Vg(St),vt=vt(St),lt.flags|=1,Yi(ft,lt,vt,dt),lt.child;case 14:return vt=lt.type,St=Lg(vt,lt.pendingProps),St=Lg(vt.type,St),aj(ft,lt,vt,St,dt);case 15:return cj(ft,lt,lt.type,lt.pendingProps,dt);case 17:return vt=lt.type,St=lt.pendingProps,St=lt.elementType===vt?St:Lg(vt,St),jj(ft,lt),lt.tag=1,Zf(vt)?(ft=!0,cg(lt)):ft=!1,Tg(lt,dt),ph(lt,vt,St),rh(lt,vt,St,dt),kj(null,lt,vt,!0,ft,dt);case 19:return yj(ft,lt,dt);case 22:return ej(ft,lt,dt)}throw Error(p$5(156,lt.tag))};function Gk(ft,lt){return ac(ft,lt)}function al(ft,lt,dt,vt){this.tag=ft,this.key=dt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=lt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(ft,lt,dt,vt){return new al(ft,lt,dt,vt)}function bj(ft){return ft=ft.prototype,!(!ft||!ft.isReactComponent)}function $k(ft){if(typeof ft=="function")return bj(ft)?1:0;if(ft!=null){if(ft=ft.$$typeof,ft===Da)return 11;if(ft===Ga)return 14}return 2}function wh(ft,lt){var dt=ft.alternate;return dt===null?(dt=Bg(ft.tag,lt,ft.key,ft.mode),dt.elementType=ft.elementType,dt.type=ft.type,dt.stateNode=ft.stateNode,dt.alternate=ft,ft.alternate=dt):(dt.pendingProps=lt,dt.type=ft.type,dt.flags=0,dt.subtreeFlags=0,dt.deletions=null),dt.flags=ft.flags&14680064,dt.childLanes=ft.childLanes,dt.lanes=ft.lanes,dt.child=ft.child,dt.memoizedProps=ft.memoizedProps,dt.memoizedState=ft.memoizedState,dt.updateQueue=ft.updateQueue,lt=ft.dependencies,dt.dependencies=lt===null?null:{lanes:lt.lanes,firstContext:lt.firstContext},dt.sibling=ft.sibling,dt.index=ft.index,dt.ref=ft.ref,dt}function yh(ft,lt,dt,vt,St,Et){var At=2;if(vt=ft,typeof ft=="function")bj(ft)&&(At=1);else if(typeof ft=="string")At=5;else e:switch(ft){case ya:return Ah(dt.children,St,Et,lt);case za:At=8,St|=8;break;case Aa:return ft=Bg(12,dt,lt,St|2),ft.elementType=Aa,ft.lanes=Et,ft;case Ea:return ft=Bg(13,dt,lt,St),ft.elementType=Ea,ft.lanes=Et,ft;case Fa:return ft=Bg(19,dt,lt,St),ft.elementType=Fa,ft.lanes=Et,ft;case Ia:return qj(dt,St,Et,lt);default:if(typeof ft=="object"&&ft!==null)switch(ft.$$typeof){case Ba:At=10;break e;case Ca:At=9;break e;case Da:At=11;break e;case Ga:At=14;break e;case Ha:At=16,vt=null;break e}throw Error(p$5(130,ft==null?ft:typeof ft,""))}return lt=Bg(At,dt,lt,St),lt.elementType=ft,lt.type=vt,lt.lanes=Et,lt}function Ah(ft,lt,dt,vt){return ft=Bg(7,ft,vt,lt),ft.lanes=dt,ft}function qj(ft,lt,dt,vt){return ft=Bg(22,ft,vt,lt),ft.elementType=Ia,ft.lanes=dt,ft.stateNode={isHidden:!1},ft}function xh(ft,lt,dt){return ft=Bg(6,ft,null,lt),ft.lanes=dt,ft}function zh(ft,lt,dt){return lt=Bg(4,ft.children!==null?ft.children:[],ft.key,lt),lt.lanes=dt,lt.stateNode={containerInfo:ft.containerInfo,pendingChildren:null,implementation:ft.implementation},lt}function bl(ft,lt,dt,vt,St){this.tag=lt,this.containerInfo=ft,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=St,this.mutableSourceEagerHydrationData=null}function cl(ft,lt,dt,vt,St,Et,At,Ct,Tt){return ft=new bl(ft,lt,dt,Ct,Tt),lt===1?(lt=1,Et===!0&&(lt|=8)):lt=0,Et=Bg(3,null,null,lt),ft.current=Et,Et.stateNode=ft,Et.memoizedState={element:vt,isDehydrated:dt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(Et),ft}function dl(ft,lt,dt){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:ft,containerInfo:lt,implementation:dt}}function el(ft){if(!ft)return Vf;ft=ft._reactInternals;e:{if(Vb(ft)!==ft||ft.tag!==1)throw Error(p$5(170));var lt=ft;do{switch(lt.tag){case 3:lt=lt.stateNode.context;break e;case 1:if(Zf(lt.type)){lt=lt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}lt=lt.return}while(lt!==null);throw Error(p$5(171))}if(ft.tag===1){var dt=ft.type;if(Zf(dt))return bg(ft,dt,lt)}return lt}function fl(ft,lt,dt,vt,St,Et,At,Ct,Tt){return ft=cl(dt,vt,!0,ft,St,Et,At,Ct,Tt),ft.context=el(null),dt=ft.current,vt=L$2(),St=lh(dt),Et=ch(vt,St),Et.callback=lt??null,dh(dt,Et,St),ft.current.lanes=St,Ac(ft,St,vt),Ek(ft,vt),ft}function gl(ft,lt,dt,vt){var St=lt.current,Et=L$2(),At=lh(St);return dt=el(dt),lt.context===null?lt.context=dt:lt.pendingContext=dt,lt=ch(Et,At),lt.payload={element:ft},vt=vt===void 0?null:vt,vt!==null&&(lt.callback=vt),ft=dh(St,lt,At),ft!==null&&(mh(ft,St,At,Et),eh(ft,St,At)),At}function hl(ft){if(ft=ft.current,!ft.child)return null;switch(ft.child.tag){case 5:return ft.child.stateNode;default:return ft.child.stateNode}}function il(ft,lt){if(ft=ft.memoizedState,ft!==null&&ft.dehydrated!==null){var dt=ft.retryLane;ft.retryLane=dt!==0&&dt<lt?dt:lt}}function jl(ft,lt){il(ft,lt),(ft=ft.alternate)&&il(ft,lt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(ft){console.error(ft)};function ml(ft){this._internalRoot=ft}nl.prototype.render=ml.prototype.render=function(ft){var lt=this._internalRoot;if(lt===null)throw Error(p$5(409));gl(ft,lt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var ft=this._internalRoot;if(ft!==null){this._internalRoot=null;var lt=ft.containerInfo;Sk(function(){gl(null,ft,null,null)}),lt[uf]=null}};function nl(ft){this._internalRoot=ft}nl.prototype.unstable_scheduleHydration=function(ft){if(ft){var lt=Hc();ft={blockedOn:null,target:ft,priority:lt};for(var dt=0;dt<Qc.length&&lt!==0&&lt<Qc[dt].priority;dt++);Qc.splice(dt,0,ft),dt===0&&Vc(ft)}};function ol(ft){return!(!ft||ft.nodeType!==1&&ft.nodeType!==9&&ft.nodeType!==11)}function pl(ft){return!(!ft||ft.nodeType!==1&&ft.nodeType!==9&&ft.nodeType!==11&&(ft.nodeType!==8||ft.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(ft,lt,dt,vt,St){if(St){if(typeof vt=="function"){var Et=vt;vt=function(){var Rt=hl(At);Et.call(Rt)}}var At=fl(lt,vt,ft,0,null,!1,!1,"",ql);return ft._reactRootContainer=At,ft[uf]=At.current,sf(ft.nodeType===8?ft.parentNode:ft),Sk(),At}for(;St=ft.lastChild;)ft.removeChild(St);if(typeof vt=="function"){var Ct=vt;vt=function(){var Rt=hl(Tt);Ct.call(Rt)}}var Tt=cl(ft,0,!1,null,null,!1,!1,"",ql);return ft._reactRootContainer=Tt,ft[uf]=Tt.current,sf(ft.nodeType===8?ft.parentNode:ft),Sk(function(){gl(lt,Tt,dt,vt)}),Tt}function sl(ft,lt,dt,vt,St){var Et=dt._reactRootContainer;if(Et){var At=Et;if(typeof St=="function"){var Ct=St;St=function(){var Tt=hl(At);Ct.call(Tt)}}gl(lt,At,ft,St)}else At=rl(dt,lt,ft,St,vt);return hl(At)}Ec=function(ft){switch(ft.tag){case 3:var lt=ft.stateNode;if(lt.current.memoizedState.isDehydrated){var dt=tc(lt.pendingLanes);dt!==0&&(Cc(lt,dt|1),Ek(lt,B$2()),!(K$2&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var vt=Zg(ft,1);if(vt!==null){var St=L$2();mh(vt,ft,1,St)}}),jl(ft,1)}};Fc=function(ft){if(ft.tag===13){var lt=Zg(ft,134217728);if(lt!==null){var dt=L$2();mh(lt,ft,134217728,dt)}jl(ft,134217728)}};Gc=function(ft){if(ft.tag===13){var lt=lh(ft),dt=Zg(ft,lt);if(dt!==null){var vt=L$2();mh(dt,ft,lt,vt)}jl(ft,lt)}};Hc=function(){return C$2};Ic=function(ft,lt){var dt=C$2;try{return C$2=ft,lt()}finally{C$2=dt}};yb=function(ft,lt,dt){switch(lt){case"input":if(bb(ft,dt),lt=dt.name,dt.type==="radio"&&lt!=null){for(dt=ft;dt.parentNode;)dt=dt.parentNode;for(dt=dt.querySelectorAll("input[name="+JSON.stringify(""+lt)+'][type="radio"]'),lt=0;lt<dt.length;lt++){var vt=dt[lt];if(vt!==ft&&vt.form===ft.form){var St=Db(vt);if(!St)throw Error(p$5(90));Wa(vt),bb(vt,St)}}}break;case"textarea":ib(ft,dt);break;case"select":lt=dt.value,lt!=null&&fb(ft,!!dt.multiple,lt,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(ft){return ft=Zb(ft),ft===null?null:ft.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(ft,lt){var dt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(lt))throw Error(p$5(200));return dl(ft,lt,null,dt)};reactDom_production_min.createRoot=function(ft,lt){if(!ol(ft))throw Error(p$5(299));var dt=!1,vt="",St=ll;return lt!=null&&(lt.unstable_strictMode===!0&&(dt=!0),lt.identifierPrefix!==void 0&&(vt=lt.identifierPrefix),lt.onRecoverableError!==void 0&&(St=lt.onRecoverableError)),lt=cl(ft,1,!1,null,null,dt,!1,vt,St),ft[uf]=lt.current,sf(ft.nodeType===8?ft.parentNode:ft),new ml(lt)};reactDom_production_min.findDOMNode=function(ft){if(ft==null)return null;if(ft.nodeType===1)return ft;var lt=ft._reactInternals;if(lt===void 0)throw typeof ft.render=="function"?Error(p$5(188)):(ft=Object.keys(ft).join(","),Error(p$5(268,ft)));return ft=Zb(lt),ft=ft===null?null:ft.stateNode,ft};reactDom_production_min.flushSync=function(ft){return Sk(ft)};reactDom_production_min.hydrate=function(ft,lt,dt){if(!pl(lt))throw Error(p$5(200));return sl(null,ft,lt,!0,dt)};reactDom_production_min.hydrateRoot=function(ft,lt,dt){if(!ol(ft))throw Error(p$5(405));var vt=dt!=null&&dt.hydratedSources||null,St=!1,Et="",At=ll;if(dt!=null&&(dt.unstable_strictMode===!0&&(St=!0),dt.identifierPrefix!==void 0&&(Et=dt.identifierPrefix),dt.onRecoverableError!==void 0&&(At=dt.onRecoverableError)),lt=fl(lt,null,ft,1,dt??null,St,!1,Et,At),ft[uf]=lt.current,sf(ft),vt)for(ft=0;ft<vt.length;ft++)dt=vt[ft],St=dt._getVersion,St=St(dt._source),lt.mutableSourceEagerHydrationData==null?lt.mutableSourceEagerHydrationData=[dt,St]:lt.mutableSourceEagerHydrationData.push(dt,St);return new nl(lt)};reactDom_production_min.render=function(ft,lt,dt){if(!pl(lt))throw Error(p$5(200));return sl(null,ft,lt,!1,dt)};reactDom_production_min.unmountComponentAtNode=function(ft){if(!pl(ft))throw Error(p$5(40));return ft._reactRootContainer?(Sk(function(){sl(null,null,ft,!1,function(){ft._reactRootContainer=null,ft[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ft,lt,dt,vt){if(!pl(dt))throw Error(p$5(200));if(ft==null||ft._reactInternals===void 0)throw Error(p$5(38));return sl(ft,lt,dt,!1,vt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ft){console.error(ft)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot$1,m$4=reactDomExports;createRoot$1=client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ft){for(var lt=1;lt<arguments.length;lt++){var dt=arguments[lt];for(var vt in dt)Object.prototype.hasOwnProperty.call(dt,vt)&&(ft[vt]=dt[vt])}return ft},_extends$1.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="149",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(lt,dt){this._listeners===void 0&&(this._listeners={});const vt=this._listeners;vt[lt]===void 0&&(vt[lt]=[]),vt[lt].indexOf(dt)===-1&&vt[lt].push(dt)}hasEventListener(lt,dt){if(this._listeners===void 0)return!1;const vt=this._listeners;return vt[lt]!==void 0&&vt[lt].indexOf(dt)!==-1}removeEventListener(lt,dt){if(this._listeners===void 0)return;const St=this._listeners[lt];if(St!==void 0){const Et=St.indexOf(dt);Et!==-1&&St.splice(Et,1)}}dispatchEvent(lt){if(this._listeners===void 0)return;const vt=this._listeners[lt.type];if(vt!==void 0){lt.target=this;const St=vt.slice(0);for(let Et=0,At=St.length;Et<At;Et++)St[Et].call(this,lt);lt.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const ft=Math.random()*4294967295|0,lt=Math.random()*4294967295|0,dt=Math.random()*4294967295|0,vt=Math.random()*4294967295|0;return(_lut$1[ft&255]+_lut$1[ft>>8&255]+_lut$1[ft>>16&255]+_lut$1[ft>>24&255]+"-"+_lut$1[lt&255]+_lut$1[lt>>8&255]+"-"+_lut$1[lt>>16&15|64]+_lut$1[lt>>24&255]+"-"+_lut$1[dt&63|128]+_lut$1[dt>>8&255]+"-"+_lut$1[dt>>16&255]+_lut$1[dt>>24&255]+_lut$1[vt&255]+_lut$1[vt>>8&255]+_lut$1[vt>>16&255]+_lut$1[vt>>24&255]).toLowerCase()}function clamp(ft,lt,dt){return Math.max(lt,Math.min(dt,ft))}function euclideanModulo(ft,lt){return(ft%lt+lt)%lt}function mapLinear(ft,lt,dt,vt,St){return vt+(ft-lt)*(St-vt)/(dt-lt)}function inverseLerp(ft,lt,dt){return ft!==lt?(dt-ft)/(lt-ft):0}function lerp(ft,lt,dt){return(1-dt)*ft+dt*lt}function damp(ft,lt,dt,vt){return lerp(ft,lt,1-Math.exp(-dt*vt))}function pingpong(ft,lt=1){return lt-Math.abs(euclideanModulo(ft,lt*2)-lt)}function smoothstep(ft,lt,dt){return ft<=lt?0:ft>=dt?1:(ft=(ft-lt)/(dt-lt),ft*ft*(3-2*ft))}function smootherstep(ft,lt,dt){return ft<=lt?0:ft>=dt?1:(ft=(ft-lt)/(dt-lt),ft*ft*ft*(ft*(ft*6-15)+10))}function randInt(ft,lt){return ft+Math.floor(Math.random()*(lt-ft+1))}function randFloat(ft,lt){return ft+Math.random()*(lt-ft)}function randFloatSpread(ft){return ft*(.5-Math.random())}function seededRandom(ft){ft!==void 0&&(_seed=ft);let lt=_seed+=1831565813;return lt=Math.imul(lt^lt>>>15,lt|1),lt^=lt+Math.imul(lt^lt>>>7,lt|61),((lt^lt>>>14)>>>0)/4294967296}function degToRad(ft){return ft*DEG2RAD}function radToDeg(ft){return ft*RAD2DEG}function isPowerOfTwo(ft){return(ft&ft-1)===0&&ft!==0}function ceilPowerOfTwo(ft){return Math.pow(2,Math.ceil(Math.log(ft)/Math.LN2))}function floorPowerOfTwo(ft){return Math.pow(2,Math.floor(Math.log(ft)/Math.LN2))}function setQuaternionFromProperEuler(ft,lt,dt,vt,St){const Et=Math.cos,At=Math.sin,Ct=Et(dt/2),Tt=At(dt/2),Rt=Et((lt+vt)/2),Bt=At((lt+vt)/2),Dt=Et((lt-vt)/2),Ft=At((lt-vt)/2),kt=Et((vt-lt)/2),Ut=At((vt-lt)/2);switch(St){case"XYX":ft.set(Ct*Bt,Tt*Dt,Tt*Ft,Ct*Rt);break;case"YZY":ft.set(Tt*Ft,Ct*Bt,Tt*Dt,Ct*Rt);break;case"ZXZ":ft.set(Tt*Dt,Tt*Ft,Ct*Bt,Ct*Rt);break;case"XZX":ft.set(Ct*Bt,Tt*Ut,Tt*kt,Ct*Rt);break;case"YXY":ft.set(Tt*kt,Ct*Bt,Tt*Ut,Ct*Rt);break;case"ZYZ":ft.set(Tt*Ut,Tt*kt,Ct*Bt,Ct*Rt);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+St)}}function denormalize(ft,lt){switch(lt.constructor){case Float32Array:return ft;case Uint16Array:return ft/65535;case Uint8Array:return ft/255;case Int16Array:return Math.max(ft/32767,-1);case Int8Array:return Math.max(ft/127,-1);default:throw new Error("Invalid component type.")}}function normalize(ft,lt){switch(lt.constructor){case Float32Array:return ft;case Uint16Array:return Math.round(ft*65535);case Uint8Array:return Math.round(ft*255);case Int16Array:return Math.round(ft*32767);case Int8Array:return Math.round(ft*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,ceilPowerOfTwo,clamp,damp,degToRad,denormalize,euclideanModulo,floorPowerOfTwo,generateUUID:generateUUID$1,inverseLerp,isPowerOfTwo,lerp,mapLinear,normalize,pingpong,radToDeg,randFloat,randFloatSpread,randInt,seededRandom,setQuaternionFromProperEuler,smootherstep,smoothstep});class Vector2{constructor(lt=0,dt=0){Vector2.prototype.isVector2=!0,this.x=lt,this.y=dt}get width(){return this.x}set width(lt){this.x=lt}get height(){return this.y}set height(lt){this.y=lt}set(lt,dt){return this.x=lt,this.y=dt,this}setScalar(lt){return this.x=lt,this.y=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setComponent(lt,dt){switch(lt){case 0:this.x=dt;break;case 1:this.y=dt;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y)}copy(lt){return this.x=lt.x,this.y=lt.y,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this}addScalar(lt){return this.x+=lt,this.y+=lt,this}addVectors(lt,dt){return this.x=lt.x+dt.x,this.y=lt.y+dt.y,this}addScaledVector(lt,dt){return this.x+=lt.x*dt,this.y+=lt.y*dt,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this}subScalar(lt){return this.x-=lt,this.y-=lt,this}subVectors(lt,dt){return this.x=lt.x-dt.x,this.y=lt.y-dt.y,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this}divide(lt){return this.x/=lt.x,this.y/=lt.y,this}divideScalar(lt){return this.multiplyScalar(1/lt)}applyMatrix3(lt){const dt=this.x,vt=this.y,St=lt.elements;return this.x=St[0]*dt+St[3]*vt+St[6],this.y=St[1]*dt+St[4]*vt+St[7],this}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this}clamp(lt,dt){return this.x=Math.max(lt.x,Math.min(dt.x,this.x)),this.y=Math.max(lt.y,Math.min(dt.y,this.y)),this}clampScalar(lt,dt){return this.x=Math.max(lt,Math.min(dt,this.x)),this.y=Math.max(lt,Math.min(dt,this.y)),this}clampLength(lt,dt){const vt=this.length();return this.divideScalar(vt||1).multiplyScalar(Math.max(lt,Math.min(dt,vt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(lt){return this.x*lt.x+this.y*lt.y}cross(lt){return this.x*lt.y-this.y*lt.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(lt){return Math.sqrt(this.distanceToSquared(lt))}distanceToSquared(lt){const dt=this.x-lt.x,vt=this.y-lt.y;return dt*dt+vt*vt}manhattanDistanceTo(lt){return Math.abs(this.x-lt.x)+Math.abs(this.y-lt.y)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,dt){return this.x+=(lt.x-this.x)*dt,this.y+=(lt.y-this.y)*dt,this}lerpVectors(lt,dt,vt){return this.x=lt.x+(dt.x-lt.x)*vt,this.y=lt.y+(dt.y-lt.y)*vt,this}equals(lt){return lt.x===this.x&&lt.y===this.y}fromArray(lt,dt=0){return this.x=lt[dt],this.y=lt[dt+1],this}toArray(lt=[],dt=0){return lt[dt]=this.x,lt[dt+1]=this.y,lt}fromBufferAttribute(lt,dt){return this.x=lt.getX(dt),this.y=lt.getY(dt),this}rotateAround(lt,dt){const vt=Math.cos(dt),St=Math.sin(dt),Et=this.x-lt.x,At=this.y-lt.y;return this.x=Et*vt-At*St+lt.x,this.y=Et*St+At*vt+lt.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(lt,dt,vt,St,Et,At,Ct,Tt,Rt){const Bt=this.elements;return Bt[0]=lt,Bt[1]=St,Bt[2]=Ct,Bt[3]=dt,Bt[4]=Et,Bt[5]=Tt,Bt[6]=vt,Bt[7]=At,Bt[8]=Rt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(lt){const dt=this.elements,vt=lt.elements;return dt[0]=vt[0],dt[1]=vt[1],dt[2]=vt[2],dt[3]=vt[3],dt[4]=vt[4],dt[5]=vt[5],dt[6]=vt[6],dt[7]=vt[7],dt[8]=vt[8],this}extractBasis(lt,dt,vt){return lt.setFromMatrix3Column(this,0),dt.setFromMatrix3Column(this,1),vt.setFromMatrix3Column(this,2),this}setFromMatrix4(lt){const dt=lt.elements;return this.set(dt[0],dt[4],dt[8],dt[1],dt[5],dt[9],dt[2],dt[6],dt[10]),this}multiply(lt){return this.multiplyMatrices(this,lt)}premultiply(lt){return this.multiplyMatrices(lt,this)}multiplyMatrices(lt,dt){const vt=lt.elements,St=dt.elements,Et=this.elements,At=vt[0],Ct=vt[3],Tt=vt[6],Rt=vt[1],Bt=vt[4],Dt=vt[7],Ft=vt[2],kt=vt[5],Ut=vt[8],Kt=St[0],tr=St[3],Wt=St[6],Zt=St[1],Ht=St[4],nr=St[7],sr=St[2],ar=St[5],ir=St[8];return Et[0]=At*Kt+Ct*Zt+Tt*sr,Et[3]=At*tr+Ct*Ht+Tt*ar,Et[6]=At*Wt+Ct*nr+Tt*ir,Et[1]=Rt*Kt+Bt*Zt+Dt*sr,Et[4]=Rt*tr+Bt*Ht+Dt*ar,Et[7]=Rt*Wt+Bt*nr+Dt*ir,Et[2]=Ft*Kt+kt*Zt+Ut*sr,Et[5]=Ft*tr+kt*Ht+Ut*ar,Et[8]=Ft*Wt+kt*nr+Ut*ir,this}multiplyScalar(lt){const dt=this.elements;return dt[0]*=lt,dt[3]*=lt,dt[6]*=lt,dt[1]*=lt,dt[4]*=lt,dt[7]*=lt,dt[2]*=lt,dt[5]*=lt,dt[8]*=lt,this}determinant(){const lt=this.elements,dt=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=lt[4],Ct=lt[5],Tt=lt[6],Rt=lt[7],Bt=lt[8];return dt*At*Bt-dt*Ct*Rt-vt*Et*Bt+vt*Ct*Tt+St*Et*Rt-St*At*Tt}invert(){const lt=this.elements,dt=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=lt[4],Ct=lt[5],Tt=lt[6],Rt=lt[7],Bt=lt[8],Dt=Bt*At-Ct*Rt,Ft=Ct*Tt-Bt*Et,kt=Rt*Et-At*Tt,Ut=dt*Dt+vt*Ft+St*kt;if(Ut===0)return this.set(0,0,0,0,0,0,0,0,0);const Kt=1/Ut;return lt[0]=Dt*Kt,lt[1]=(St*Rt-Bt*vt)*Kt,lt[2]=(Ct*vt-St*At)*Kt,lt[3]=Ft*Kt,lt[4]=(Bt*dt-St*Tt)*Kt,lt[5]=(St*Et-Ct*dt)*Kt,lt[6]=kt*Kt,lt[7]=(vt*Tt-Rt*dt)*Kt,lt[8]=(At*dt-vt*Et)*Kt,this}transpose(){let lt;const dt=this.elements;return lt=dt[1],dt[1]=dt[3],dt[3]=lt,lt=dt[2],dt[2]=dt[6],dt[6]=lt,lt=dt[5],dt[5]=dt[7],dt[7]=lt,this}getNormalMatrix(lt){return this.setFromMatrix4(lt).invert().transpose()}transposeIntoArray(lt){const dt=this.elements;return lt[0]=dt[0],lt[1]=dt[3],lt[2]=dt[6],lt[3]=dt[1],lt[4]=dt[4],lt[5]=dt[7],lt[6]=dt[2],lt[7]=dt[5],lt[8]=dt[8],this}setUvTransform(lt,dt,vt,St,Et,At,Ct){const Tt=Math.cos(Et),Rt=Math.sin(Et);return this.set(vt*Tt,vt*Rt,-vt*(Tt*At+Rt*Ct)+At+lt,-St*Rt,St*Tt,-St*(-Rt*At+Tt*Ct)+Ct+dt,0,0,1),this}scale(lt,dt){return this.premultiply(_m3.makeScale(lt,dt)),this}rotate(lt){return this.premultiply(_m3.makeRotation(-lt)),this}translate(lt,dt){return this.premultiply(_m3.makeTranslation(lt,dt)),this}makeTranslation(lt,dt){return this.set(1,0,lt,0,1,dt,0,0,1),this}makeRotation(lt){const dt=Math.cos(lt),vt=Math.sin(lt);return this.set(dt,-vt,0,vt,dt,0,0,0,1),this}makeScale(lt,dt){return this.set(lt,0,0,0,dt,0,0,0,1),this}equals(lt){const dt=this.elements,vt=lt.elements;for(let St=0;St<9;St++)if(dt[St]!==vt[St])return!1;return!0}fromArray(lt,dt=0){for(let vt=0;vt<9;vt++)this.elements[vt]=lt[vt+dt];return this}toArray(lt=[],dt=0){const vt=this.elements;return lt[dt]=vt[0],lt[dt+1]=vt[1],lt[dt+2]=vt[2],lt[dt+3]=vt[3],lt[dt+4]=vt[4],lt[dt+5]=vt[5],lt[dt+6]=vt[6],lt[dt+7]=vt[7],lt[dt+8]=vt[8],lt}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(ft){for(let lt=ft.length-1;lt>=0;--lt)if(ft[lt]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(ft,lt){return new TYPED_ARRAYS[ft](lt)}function createElementNS(ft){return document.createElementNS("http://www.w3.org/1999/xhtml",ft)}function SRGBToLinear(ft){return ft<.04045?ft*.0773993808:Math.pow(ft*.9478672986+.0521327014,2.4)}function LinearToSRGB(ft){return ft<.0031308?ft*12.92:1.055*Math.pow(ft,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(ft){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(ft,lt,dt){if(this.legacyMode||lt===dt||!lt||!dt)return ft;if(FN[lt]&&FN[lt][dt]!==void 0){const vt=FN[lt][dt];return ft.r=vt(ft.r),ft.g=vt(ft.g),ft.b=vt(ft.b),ft}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(ft,lt){return this.convert(ft,this.workingColorSpace,lt)},toWorkingColorSpace:function(ft,lt){return this.convert(ft,lt,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb$1={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(ft,lt,dt){return dt<0&&(dt+=1),dt>1&&(dt-=1),dt<1/6?ft+(lt-ft)*6*dt:dt<1/2?lt:dt<2/3?ft+(lt-ft)*6*(2/3-dt):ft}function toComponents(ft,lt){return lt.r=ft.r,lt.g=ft.g,lt.b=ft.b,lt}class Color{constructor(lt,dt,vt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,dt===void 0&&vt===void 0?this.set(lt):this.setRGB(lt,dt,vt)}set(lt){return lt&&lt.isColor?this.copy(lt):typeof lt=="number"?this.setHex(lt):typeof lt=="string"&&this.setStyle(lt),this}setScalar(lt){return this.r=lt,this.g=lt,this.b=lt,this}setHex(lt,dt=SRGBColorSpace){return lt=Math.floor(lt),this.r=(lt>>16&255)/255,this.g=(lt>>8&255)/255,this.b=(lt&255)/255,ColorManagement.toWorkingColorSpace(this,dt),this}setRGB(lt,dt,vt,St=ColorManagement.workingColorSpace){return this.r=lt,this.g=dt,this.b=vt,ColorManagement.toWorkingColorSpace(this,St),this}setHSL(lt,dt,vt,St=ColorManagement.workingColorSpace){if(lt=euclideanModulo(lt,1),dt=clamp(dt,0,1),vt=clamp(vt,0,1),dt===0)this.r=this.g=this.b=vt;else{const Et=vt<=.5?vt*(1+dt):vt+dt-vt*dt,At=2*vt-Et;this.r=hue2rgb(At,Et,lt+1/3),this.g=hue2rgb(At,Et,lt),this.b=hue2rgb(At,Et,lt-1/3)}return ColorManagement.toWorkingColorSpace(this,St),this}setStyle(lt,dt=SRGBColorSpace){function vt(Et){Et!==void 0&&parseFloat(Et)<1&&console.warn("THREE.Color: Alpha component of "+lt+" will be ignored.")}let St;if(St=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(lt)){let Et;const At=St[1],Ct=St[2];switch(At){case"rgb":case"rgba":if(Et=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct))return this.r=Math.min(255,parseInt(Et[1],10))/255,this.g=Math.min(255,parseInt(Et[2],10))/255,this.b=Math.min(255,parseInt(Et[3],10))/255,ColorManagement.toWorkingColorSpace(this,dt),vt(Et[4]),this;if(Et=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct))return this.r=Math.min(100,parseInt(Et[1],10))/100,this.g=Math.min(100,parseInt(Et[2],10))/100,this.b=Math.min(100,parseInt(Et[3],10))/100,ColorManagement.toWorkingColorSpace(this,dt),vt(Et[4]),this;break;case"hsl":case"hsla":if(Et=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Ct)){const Tt=parseFloat(Et[1])/360,Rt=parseFloat(Et[2])/100,Bt=parseFloat(Et[3])/100;return vt(Et[4]),this.setHSL(Tt,Rt,Bt,dt)}break}}else if(St=/^\#([A-Fa-f\d]+)$/.exec(lt)){const Et=St[1],At=Et.length;if(At===3)return this.r=parseInt(Et.charAt(0)+Et.charAt(0),16)/255,this.g=parseInt(Et.charAt(1)+Et.charAt(1),16)/255,this.b=parseInt(Et.charAt(2)+Et.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,dt),this;if(At===6)return this.r=parseInt(Et.charAt(0)+Et.charAt(1),16)/255,this.g=parseInt(Et.charAt(2)+Et.charAt(3),16)/255,this.b=parseInt(Et.charAt(4)+Et.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,dt),this}return lt&&lt.length>0?this.setColorName(lt,dt):this}setColorName(lt,dt=SRGBColorSpace){const vt=_colorKeywords[lt.toLowerCase()];return vt!==void 0?this.setHex(vt,dt):console.warn("THREE.Color: Unknown color "+lt),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(lt){return this.r=lt.r,this.g=lt.g,this.b=lt.b,this}copySRGBToLinear(lt){return this.r=SRGBToLinear(lt.r),this.g=SRGBToLinear(lt.g),this.b=SRGBToLinear(lt.b),this}copyLinearToSRGB(lt){return this.r=LinearToSRGB(lt.r),this.g=LinearToSRGB(lt.g),this.b=LinearToSRGB(lt.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(lt=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),lt),clamp(_rgb$1.r*255,0,255)<<16^clamp(_rgb$1.g*255,0,255)<<8^clamp(_rgb$1.b*255,0,255)<<0}getHexString(lt=SRGBColorSpace){return("000000"+this.getHex(lt).toString(16)).slice(-6)}getHSL(lt,dt=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),dt);const vt=_rgb$1.r,St=_rgb$1.g,Et=_rgb$1.b,At=Math.max(vt,St,Et),Ct=Math.min(vt,St,Et);let Tt,Rt;const Bt=(Ct+At)/2;if(Ct===At)Tt=0,Rt=0;else{const Dt=At-Ct;switch(Rt=Bt<=.5?Dt/(At+Ct):Dt/(2-At-Ct),At){case vt:Tt=(St-Et)/Dt+(St<Et?6:0);break;case St:Tt=(Et-vt)/Dt+2;break;case Et:Tt=(vt-St)/Dt+4;break}Tt/=6}return lt.h=Tt,lt.s=Rt,lt.l=Bt,lt}getRGB(lt,dt=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),dt),lt.r=_rgb$1.r,lt.g=_rgb$1.g,lt.b=_rgb$1.b,lt}getStyle(lt=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),lt),lt!==SRGBColorSpace?`color(${lt} ${_rgb$1.r} ${_rgb$1.g} ${_rgb$1.b})`:`rgb(${_rgb$1.r*255|0},${_rgb$1.g*255|0},${_rgb$1.b*255|0})`}offsetHSL(lt,dt,vt){return this.getHSL(_hslA),_hslA.h+=lt,_hslA.s+=dt,_hslA.l+=vt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(lt){return this.r+=lt.r,this.g+=lt.g,this.b+=lt.b,this}addColors(lt,dt){return this.r=lt.r+dt.r,this.g=lt.g+dt.g,this.b=lt.b+dt.b,this}addScalar(lt){return this.r+=lt,this.g+=lt,this.b+=lt,this}sub(lt){return this.r=Math.max(0,this.r-lt.r),this.g=Math.max(0,this.g-lt.g),this.b=Math.max(0,this.b-lt.b),this}multiply(lt){return this.r*=lt.r,this.g*=lt.g,this.b*=lt.b,this}multiplyScalar(lt){return this.r*=lt,this.g*=lt,this.b*=lt,this}lerp(lt,dt){return this.r+=(lt.r-this.r)*dt,this.g+=(lt.g-this.g)*dt,this.b+=(lt.b-this.b)*dt,this}lerpColors(lt,dt,vt){return this.r=lt.r+(dt.r-lt.r)*vt,this.g=lt.g+(dt.g-lt.g)*vt,this.b=lt.b+(dt.b-lt.b)*vt,this}lerpHSL(lt,dt){this.getHSL(_hslA),lt.getHSL(_hslB);const vt=lerp(_hslA.h,_hslB.h,dt),St=lerp(_hslA.s,_hslB.s,dt),Et=lerp(_hslA.l,_hslB.l,dt);return this.setHSL(vt,St,Et),this}equals(lt){return lt.r===this.r&&lt.g===this.g&&lt.b===this.b}fromArray(lt,dt=0){return this.r=lt[dt],this.g=lt[dt+1],this.b=lt[dt+2],this}toArray(lt=[],dt=0){return lt[dt]=this.r,lt[dt+1]=this.g,lt[dt+2]=this.b,lt}fromBufferAttribute(lt,dt){return this.r=lt.getX(dt),this.g=lt.getY(dt),this.b=lt.getZ(dt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color.NAMES=_colorKeywords;let _canvas;class ImageUtils{static getDataURL(lt){if(/^data:/i.test(lt.src)||typeof HTMLCanvasElement>"u")return lt.src;let dt;if(lt instanceof HTMLCanvasElement)dt=lt;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=lt.width,_canvas.height=lt.height;const vt=_canvas.getContext("2d");lt instanceof ImageData?vt.putImageData(lt,0,0):vt.drawImage(lt,0,0,lt.width,lt.height),dt=_canvas}return dt.width>2048||dt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",lt),dt.toDataURL("image/jpeg",.6)):dt.toDataURL("image/png")}static sRGBToLinear(lt){if(typeof HTMLImageElement<"u"&&lt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&lt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&lt instanceof ImageBitmap){const dt=createElementNS("canvas");dt.width=lt.width,dt.height=lt.height;const vt=dt.getContext("2d");vt.drawImage(lt,0,0,lt.width,lt.height);const St=vt.getImageData(0,0,lt.width,lt.height),Et=St.data;for(let At=0;At<Et.length;At++)Et[At]=SRGBToLinear(Et[At]/255)*255;return vt.putImageData(St,0,0),dt}else if(lt.data){const dt=lt.data.slice(0);for(let vt=0;vt<dt.length;vt++)dt instanceof Uint8Array||dt instanceof Uint8ClampedArray?dt[vt]=Math.floor(SRGBToLinear(dt[vt]/255)*255):dt[vt]=SRGBToLinear(dt[vt]);return{data:dt,width:lt.width,height:lt.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),lt}}class Source{constructor(lt=null){this.isSource=!0,this.uuid=generateUUID$1(),this.data=lt,this.version=0}set needsUpdate(lt){lt===!0&&this.version++}toJSON(lt){const dt=lt===void 0||typeof lt=="string";if(!dt&&lt.images[this.uuid]!==void 0)return lt.images[this.uuid];const vt={uuid:this.uuid,url:""},St=this.data;if(St!==null){let Et;if(Array.isArray(St)){Et=[];for(let At=0,Ct=St.length;At<Ct;At++)St[At].isDataTexture?Et.push(serializeImage(St[At].image)):Et.push(serializeImage(St[At]))}else Et=serializeImage(St);vt.url=Et}return dt||(lt.images[this.uuid]=vt),vt}}function serializeImage(ft){return typeof HTMLImageElement<"u"&&ft instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ft instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ft instanceof ImageBitmap?ImageUtils.getDataURL(ft):ft.data?{data:Array.from(ft.data),width:ft.width,height:ft.height,type:ft.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(lt=Texture.DEFAULT_IMAGE,dt=Texture.DEFAULT_MAPPING,vt=ClampToEdgeWrapping,St=ClampToEdgeWrapping,Et=LinearFilter,At=LinearMipmapLinearFilter,Ct=RGBAFormat,Tt=UnsignedByteType,Rt=Texture.DEFAULT_ANISOTROPY,Bt=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(lt),this.mipmaps=[],this.mapping=dt,this.wrapS=vt,this.wrapT=St,this.magFilter=Et,this.minFilter=At,this.anisotropy=Rt,this.format=Ct,this.internalFormat=null,this.type=Tt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=Bt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(lt){this.source.data=lt}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(lt){return this.name=lt.name,this.source=lt.source,this.mipmaps=lt.mipmaps.slice(0),this.mapping=lt.mapping,this.wrapS=lt.wrapS,this.wrapT=lt.wrapT,this.magFilter=lt.magFilter,this.minFilter=lt.minFilter,this.anisotropy=lt.anisotropy,this.format=lt.format,this.internalFormat=lt.internalFormat,this.type=lt.type,this.offset.copy(lt.offset),this.repeat.copy(lt.repeat),this.center.copy(lt.center),this.rotation=lt.rotation,this.matrixAutoUpdate=lt.matrixAutoUpdate,this.matrix.copy(lt.matrix),this.generateMipmaps=lt.generateMipmaps,this.premultiplyAlpha=lt.premultiplyAlpha,this.flipY=lt.flipY,this.unpackAlignment=lt.unpackAlignment,this.encoding=lt.encoding,this.userData=JSON.parse(JSON.stringify(lt.userData)),this.needsUpdate=!0,this}toJSON(lt){const dt=lt===void 0||typeof lt=="string";if(!dt&&lt.textures[this.uuid]!==void 0)return lt.textures[this.uuid];const vt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(lt).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(vt.userData=this.userData),dt||(lt.textures[this.uuid]=vt),vt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(lt){if(this.mapping!==UVMapping)return lt;if(lt.applyMatrix3(this.matrix),lt.x<0||lt.x>1)switch(this.wrapS){case RepeatWrapping:lt.x=lt.x-Math.floor(lt.x);break;case ClampToEdgeWrapping:lt.x=lt.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(lt.x)%2)===1?lt.x=Math.ceil(lt.x)-lt.x:lt.x=lt.x-Math.floor(lt.x);break}if(lt.y<0||lt.y>1)switch(this.wrapT){case RepeatWrapping:lt.y=lt.y-Math.floor(lt.y);break;case ClampToEdgeWrapping:lt.y=lt.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(lt.y)%2)===1?lt.y=Math.ceil(lt.y)-lt.y:lt.y=lt.y-Math.floor(lt.y);break}return this.flipY&&(lt.y=1-lt.y),lt}set needsUpdate(lt){lt===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(lt=0,dt=0,vt=0,St=1){Vector4.prototype.isVector4=!0,this.x=lt,this.y=dt,this.z=vt,this.w=St}get width(){return this.z}set width(lt){this.z=lt}get height(){return this.w}set height(lt){this.w=lt}set(lt,dt,vt,St){return this.x=lt,this.y=dt,this.z=vt,this.w=St,this}setScalar(lt){return this.x=lt,this.y=lt,this.z=lt,this.w=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setZ(lt){return this.z=lt,this}setW(lt){return this.w=lt,this}setComponent(lt,dt){switch(lt){case 0:this.x=dt;break;case 1:this.y=dt;break;case 2:this.z=dt;break;case 3:this.w=dt;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(lt){return this.x=lt.x,this.y=lt.y,this.z=lt.z,this.w=lt.w!==void 0?lt.w:1,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this.z+=lt.z,this.w+=lt.w,this}addScalar(lt){return this.x+=lt,this.y+=lt,this.z+=lt,this.w+=lt,this}addVectors(lt,dt){return this.x=lt.x+dt.x,this.y=lt.y+dt.y,this.z=lt.z+dt.z,this.w=lt.w+dt.w,this}addScaledVector(lt,dt){return this.x+=lt.x*dt,this.y+=lt.y*dt,this.z+=lt.z*dt,this.w+=lt.w*dt,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this.z-=lt.z,this.w-=lt.w,this}subScalar(lt){return this.x-=lt,this.y-=lt,this.z-=lt,this.w-=lt,this}subVectors(lt,dt){return this.x=lt.x-dt.x,this.y=lt.y-dt.y,this.z=lt.z-dt.z,this.w=lt.w-dt.w,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this.z*=lt.z,this.w*=lt.w,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this.z*=lt,this.w*=lt,this}applyMatrix4(lt){const dt=this.x,vt=this.y,St=this.z,Et=this.w,At=lt.elements;return this.x=At[0]*dt+At[4]*vt+At[8]*St+At[12]*Et,this.y=At[1]*dt+At[5]*vt+At[9]*St+At[13]*Et,this.z=At[2]*dt+At[6]*vt+At[10]*St+At[14]*Et,this.w=At[3]*dt+At[7]*vt+At[11]*St+At[15]*Et,this}divideScalar(lt){return this.multiplyScalar(1/lt)}setAxisAngleFromQuaternion(lt){this.w=2*Math.acos(lt.w);const dt=Math.sqrt(1-lt.w*lt.w);return dt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=lt.x/dt,this.y=lt.y/dt,this.z=lt.z/dt),this}setAxisAngleFromRotationMatrix(lt){let dt,vt,St,Et;const Tt=lt.elements,Rt=Tt[0],Bt=Tt[4],Dt=Tt[8],Ft=Tt[1],kt=Tt[5],Ut=Tt[9],Kt=Tt[2],tr=Tt[6],Wt=Tt[10];if(Math.abs(Bt-Ft)<.01&&Math.abs(Dt-Kt)<.01&&Math.abs(Ut-tr)<.01){if(Math.abs(Bt+Ft)<.1&&Math.abs(Dt+Kt)<.1&&Math.abs(Ut+tr)<.1&&Math.abs(Rt+kt+Wt-3)<.1)return this.set(1,0,0,0),this;dt=Math.PI;const Ht=(Rt+1)/2,nr=(kt+1)/2,sr=(Wt+1)/2,ar=(Bt+Ft)/4,ir=(Dt+Kt)/4,rr=(Ut+tr)/4;return Ht>nr&&Ht>sr?Ht<.01?(vt=0,St=.707106781,Et=.707106781):(vt=Math.sqrt(Ht),St=ar/vt,Et=ir/vt):nr>sr?nr<.01?(vt=.707106781,St=0,Et=.707106781):(St=Math.sqrt(nr),vt=ar/St,Et=rr/St):sr<.01?(vt=.707106781,St=.707106781,Et=0):(Et=Math.sqrt(sr),vt=ir/Et,St=rr/Et),this.set(vt,St,Et,dt),this}let Zt=Math.sqrt((tr-Ut)*(tr-Ut)+(Dt-Kt)*(Dt-Kt)+(Ft-Bt)*(Ft-Bt));return Math.abs(Zt)<.001&&(Zt=1),this.x=(tr-Ut)/Zt,this.y=(Dt-Kt)/Zt,this.z=(Ft-Bt)/Zt,this.w=Math.acos((Rt+kt+Wt-1)/2),this}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this.z=Math.min(this.z,lt.z),this.w=Math.min(this.w,lt.w),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this.z=Math.max(this.z,lt.z),this.w=Math.max(this.w,lt.w),this}clamp(lt,dt){return this.x=Math.max(lt.x,Math.min(dt.x,this.x)),this.y=Math.max(lt.y,Math.min(dt.y,this.y)),this.z=Math.max(lt.z,Math.min(dt.z,this.z)),this.w=Math.max(lt.w,Math.min(dt.w,this.w)),this}clampScalar(lt,dt){return this.x=Math.max(lt,Math.min(dt,this.x)),this.y=Math.max(lt,Math.min(dt,this.y)),this.z=Math.max(lt,Math.min(dt,this.z)),this.w=Math.max(lt,Math.min(dt,this.w)),this}clampLength(lt,dt){const vt=this.length();return this.divideScalar(vt||1).multiplyScalar(Math.max(lt,Math.min(dt,vt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(lt){return this.x*lt.x+this.y*lt.y+this.z*lt.z+this.w*lt.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,dt){return this.x+=(lt.x-this.x)*dt,this.y+=(lt.y-this.y)*dt,this.z+=(lt.z-this.z)*dt,this.w+=(lt.w-this.w)*dt,this}lerpVectors(lt,dt,vt){return this.x=lt.x+(dt.x-lt.x)*vt,this.y=lt.y+(dt.y-lt.y)*vt,this.z=lt.z+(dt.z-lt.z)*vt,this.w=lt.w+(dt.w-lt.w)*vt,this}equals(lt){return lt.x===this.x&&lt.y===this.y&&lt.z===this.z&&lt.w===this.w}fromArray(lt,dt=0){return this.x=lt[dt],this.y=lt[dt+1],this.z=lt[dt+2],this.w=lt[dt+3],this}toArray(lt=[],dt=0){return lt[dt]=this.x,lt[dt+1]=this.y,lt[dt+2]=this.z,lt[dt+3]=this.w,lt}fromBufferAttribute(lt,dt){return this.x=lt.getX(dt),this.y=lt.getY(dt),this.z=lt.getZ(dt),this.w=lt.getW(dt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(lt=1,dt=1,vt={}){super(),this.isWebGLRenderTarget=!0,this.width=lt,this.height=dt,this.depth=1,this.scissor=new Vector4(0,0,lt,dt),this.scissorTest=!1,this.viewport=new Vector4(0,0,lt,dt);const St={width:lt,height:dt,depth:1};this.texture=new Texture(St,vt.mapping,vt.wrapS,vt.wrapT,vt.magFilter,vt.minFilter,vt.format,vt.type,vt.anisotropy,vt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=vt.generateMipmaps!==void 0?vt.generateMipmaps:!1,this.texture.internalFormat=vt.internalFormat!==void 0?vt.internalFormat:null,this.texture.minFilter=vt.minFilter!==void 0?vt.minFilter:LinearFilter,this.depthBuffer=vt.depthBuffer!==void 0?vt.depthBuffer:!0,this.stencilBuffer=vt.stencilBuffer!==void 0?vt.stencilBuffer:!1,this.depthTexture=vt.depthTexture!==void 0?vt.depthTexture:null,this.samples=vt.samples!==void 0?vt.samples:0}setSize(lt,dt,vt=1){(this.width!==lt||this.height!==dt||this.depth!==vt)&&(this.width=lt,this.height=dt,this.depth=vt,this.texture.image.width=lt,this.texture.image.height=dt,this.texture.image.depth=vt,this.dispose()),this.viewport.set(0,0,lt,dt),this.scissor.set(0,0,lt,dt)}clone(){return new this.constructor().copy(this)}copy(lt){this.width=lt.width,this.height=lt.height,this.depth=lt.depth,this.viewport.copy(lt.viewport),this.texture=lt.texture.clone(),this.texture.isRenderTargetTexture=!0;const dt=Object.assign({},lt.texture.image);return this.texture.source=new Source(dt),this.depthBuffer=lt.depthBuffer,this.stencilBuffer=lt.stencilBuffer,lt.depthTexture!==null&&(this.depthTexture=lt.depthTexture.clone()),this.samples=lt.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(lt=null,dt=1,vt=1,St=1){super(null),this.isDataArrayTexture=!0,this.image={data:lt,width:dt,height:vt,depth:St},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(lt=1,dt=1,vt=1){super(lt,dt),this.isWebGLArrayRenderTarget=!0,this.depth=vt,this.texture=new DataArrayTexture(null,lt,dt,vt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(lt=null,dt=1,vt=1,St=1){super(null),this.isData3DTexture=!0,this.image={data:lt,width:dt,height:vt,depth:St},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(lt=1,dt=1,vt=1){super(lt,dt),this.isWebGL3DRenderTarget=!0,this.depth=vt,this.texture=new Data3DTexture(null,lt,dt,vt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(lt=1,dt=1,vt=1,St={}){super(lt,dt,St),this.isWebGLMultipleRenderTargets=!0;const Et=this.texture;this.texture=[];for(let At=0;At<vt;At++)this.texture[At]=Et.clone(),this.texture[At].isRenderTargetTexture=!0}setSize(lt,dt,vt=1){if(this.width!==lt||this.height!==dt||this.depth!==vt){this.width=lt,this.height=dt,this.depth=vt;for(let St=0,Et=this.texture.length;St<Et;St++)this.texture[St].image.width=lt,this.texture[St].image.height=dt,this.texture[St].image.depth=vt;this.dispose()}return this.viewport.set(0,0,lt,dt),this.scissor.set(0,0,lt,dt),this}copy(lt){this.dispose(),this.width=lt.width,this.height=lt.height,this.depth=lt.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=lt.depthBuffer,this.stencilBuffer=lt.stencilBuffer,lt.depthTexture!==null&&(this.depthTexture=lt.depthTexture.clone()),this.texture.length=0;for(let dt=0,vt=lt.texture.length;dt<vt;dt++)this.texture[dt]=lt.texture[dt].clone(),this.texture[dt].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(lt=0,dt=0,vt=0,St=1){this.isQuaternion=!0,this._x=lt,this._y=dt,this._z=vt,this._w=St}static slerpFlat(lt,dt,vt,St,Et,At,Ct){let Tt=vt[St+0],Rt=vt[St+1],Bt=vt[St+2],Dt=vt[St+3];const Ft=Et[At+0],kt=Et[At+1],Ut=Et[At+2],Kt=Et[At+3];if(Ct===0){lt[dt+0]=Tt,lt[dt+1]=Rt,lt[dt+2]=Bt,lt[dt+3]=Dt;return}if(Ct===1){lt[dt+0]=Ft,lt[dt+1]=kt,lt[dt+2]=Ut,lt[dt+3]=Kt;return}if(Dt!==Kt||Tt!==Ft||Rt!==kt||Bt!==Ut){let tr=1-Ct;const Wt=Tt*Ft+Rt*kt+Bt*Ut+Dt*Kt,Zt=Wt>=0?1:-1,Ht=1-Wt*Wt;if(Ht>Number.EPSILON){const sr=Math.sqrt(Ht),ar=Math.atan2(sr,Wt*Zt);tr=Math.sin(tr*ar)/sr,Ct=Math.sin(Ct*ar)/sr}const nr=Ct*Zt;if(Tt=Tt*tr+Ft*nr,Rt=Rt*tr+kt*nr,Bt=Bt*tr+Ut*nr,Dt=Dt*tr+Kt*nr,tr===1-Ct){const sr=1/Math.sqrt(Tt*Tt+Rt*Rt+Bt*Bt+Dt*Dt);Tt*=sr,Rt*=sr,Bt*=sr,Dt*=sr}}lt[dt]=Tt,lt[dt+1]=Rt,lt[dt+2]=Bt,lt[dt+3]=Dt}static multiplyQuaternionsFlat(lt,dt,vt,St,Et,At){const Ct=vt[St],Tt=vt[St+1],Rt=vt[St+2],Bt=vt[St+3],Dt=Et[At],Ft=Et[At+1],kt=Et[At+2],Ut=Et[At+3];return lt[dt]=Ct*Ut+Bt*Dt+Tt*kt-Rt*Ft,lt[dt+1]=Tt*Ut+Bt*Ft+Rt*Dt-Ct*kt,lt[dt+2]=Rt*Ut+Bt*kt+Ct*Ft-Tt*Dt,lt[dt+3]=Bt*Ut-Ct*Dt-Tt*Ft-Rt*kt,lt}get x(){return this._x}set x(lt){this._x=lt,this._onChangeCallback()}get y(){return this._y}set y(lt){this._y=lt,this._onChangeCallback()}get z(){return this._z}set z(lt){this._z=lt,this._onChangeCallback()}get w(){return this._w}set w(lt){this._w=lt,this._onChangeCallback()}set(lt,dt,vt,St){return this._x=lt,this._y=dt,this._z=vt,this._w=St,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(lt){return this._x=lt.x,this._y=lt.y,this._z=lt.z,this._w=lt.w,this._onChangeCallback(),this}setFromEuler(lt,dt){const vt=lt._x,St=lt._y,Et=lt._z,At=lt._order,Ct=Math.cos,Tt=Math.sin,Rt=Ct(vt/2),Bt=Ct(St/2),Dt=Ct(Et/2),Ft=Tt(vt/2),kt=Tt(St/2),Ut=Tt(Et/2);switch(At){case"XYZ":this._x=Ft*Bt*Dt+Rt*kt*Ut,this._y=Rt*kt*Dt-Ft*Bt*Ut,this._z=Rt*Bt*Ut+Ft*kt*Dt,this._w=Rt*Bt*Dt-Ft*kt*Ut;break;case"YXZ":this._x=Ft*Bt*Dt+Rt*kt*Ut,this._y=Rt*kt*Dt-Ft*Bt*Ut,this._z=Rt*Bt*Ut-Ft*kt*Dt,this._w=Rt*Bt*Dt+Ft*kt*Ut;break;case"ZXY":this._x=Ft*Bt*Dt-Rt*kt*Ut,this._y=Rt*kt*Dt+Ft*Bt*Ut,this._z=Rt*Bt*Ut+Ft*kt*Dt,this._w=Rt*Bt*Dt-Ft*kt*Ut;break;case"ZYX":this._x=Ft*Bt*Dt-Rt*kt*Ut,this._y=Rt*kt*Dt+Ft*Bt*Ut,this._z=Rt*Bt*Ut-Ft*kt*Dt,this._w=Rt*Bt*Dt+Ft*kt*Ut;break;case"YZX":this._x=Ft*Bt*Dt+Rt*kt*Ut,this._y=Rt*kt*Dt+Ft*Bt*Ut,this._z=Rt*Bt*Ut-Ft*kt*Dt,this._w=Rt*Bt*Dt-Ft*kt*Ut;break;case"XZY":this._x=Ft*Bt*Dt-Rt*kt*Ut,this._y=Rt*kt*Dt-Ft*Bt*Ut,this._z=Rt*Bt*Ut+Ft*kt*Dt,this._w=Rt*Bt*Dt+Ft*kt*Ut;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+At)}return dt!==!1&&this._onChangeCallback(),this}setFromAxisAngle(lt,dt){const vt=dt/2,St=Math.sin(vt);return this._x=lt.x*St,this._y=lt.y*St,this._z=lt.z*St,this._w=Math.cos(vt),this._onChangeCallback(),this}setFromRotationMatrix(lt){const dt=lt.elements,vt=dt[0],St=dt[4],Et=dt[8],At=dt[1],Ct=dt[5],Tt=dt[9],Rt=dt[2],Bt=dt[6],Dt=dt[10],Ft=vt+Ct+Dt;if(Ft>0){const kt=.5/Math.sqrt(Ft+1);this._w=.25/kt,this._x=(Bt-Tt)*kt,this._y=(Et-Rt)*kt,this._z=(At-St)*kt}else if(vt>Ct&&vt>Dt){const kt=2*Math.sqrt(1+vt-Ct-Dt);this._w=(Bt-Tt)/kt,this._x=.25*kt,this._y=(St+At)/kt,this._z=(Et+Rt)/kt}else if(Ct>Dt){const kt=2*Math.sqrt(1+Ct-vt-Dt);this._w=(Et-Rt)/kt,this._x=(St+At)/kt,this._y=.25*kt,this._z=(Tt+Bt)/kt}else{const kt=2*Math.sqrt(1+Dt-vt-Ct);this._w=(At-St)/kt,this._x=(Et+Rt)/kt,this._y=(Tt+Bt)/kt,this._z=.25*kt}return this._onChangeCallback(),this}setFromUnitVectors(lt,dt){let vt=lt.dot(dt)+1;return vt<Number.EPSILON?(vt=0,Math.abs(lt.x)>Math.abs(lt.z)?(this._x=-lt.y,this._y=lt.x,this._z=0,this._w=vt):(this._x=0,this._y=-lt.z,this._z=lt.y,this._w=vt)):(this._x=lt.y*dt.z-lt.z*dt.y,this._y=lt.z*dt.x-lt.x*dt.z,this._z=lt.x*dt.y-lt.y*dt.x,this._w=vt),this.normalize()}angleTo(lt){return 2*Math.acos(Math.abs(clamp(this.dot(lt),-1,1)))}rotateTowards(lt,dt){const vt=this.angleTo(lt);if(vt===0)return this;const St=Math.min(1,dt/vt);return this.slerp(lt,St),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(lt){return this._x*lt._x+this._y*lt._y+this._z*lt._z+this._w*lt._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let lt=this.length();return lt===0?(this._x=0,this._y=0,this._z=0,this._w=1):(lt=1/lt,this._x=this._x*lt,this._y=this._y*lt,this._z=this._z*lt,this._w=this._w*lt),this._onChangeCallback(),this}multiply(lt){return this.multiplyQuaternions(this,lt)}premultiply(lt){return this.multiplyQuaternions(lt,this)}multiplyQuaternions(lt,dt){const vt=lt._x,St=lt._y,Et=lt._z,At=lt._w,Ct=dt._x,Tt=dt._y,Rt=dt._z,Bt=dt._w;return this._x=vt*Bt+At*Ct+St*Rt-Et*Tt,this._y=St*Bt+At*Tt+Et*Ct-vt*Rt,this._z=Et*Bt+At*Rt+vt*Tt-St*Ct,this._w=At*Bt-vt*Ct-St*Tt-Et*Rt,this._onChangeCallback(),this}slerp(lt,dt){if(dt===0)return this;if(dt===1)return this.copy(lt);const vt=this._x,St=this._y,Et=this._z,At=this._w;let Ct=At*lt._w+vt*lt._x+St*lt._y+Et*lt._z;if(Ct<0?(this._w=-lt._w,this._x=-lt._x,this._y=-lt._y,this._z=-lt._z,Ct=-Ct):this.copy(lt),Ct>=1)return this._w=At,this._x=vt,this._y=St,this._z=Et,this;const Tt=1-Ct*Ct;if(Tt<=Number.EPSILON){const kt=1-dt;return this._w=kt*At+dt*this._w,this._x=kt*vt+dt*this._x,this._y=kt*St+dt*this._y,this._z=kt*Et+dt*this._z,this.normalize(),this._onChangeCallback(),this}const Rt=Math.sqrt(Tt),Bt=Math.atan2(Rt,Ct),Dt=Math.sin((1-dt)*Bt)/Rt,Ft=Math.sin(dt*Bt)/Rt;return this._w=At*Dt+this._w*Ft,this._x=vt*Dt+this._x*Ft,this._y=St*Dt+this._y*Ft,this._z=Et*Dt+this._z*Ft,this._onChangeCallback(),this}slerpQuaternions(lt,dt,vt){return this.copy(lt).slerp(dt,vt)}random(){const lt=Math.random(),dt=Math.sqrt(1-lt),vt=Math.sqrt(lt),St=2*Math.PI*Math.random(),Et=2*Math.PI*Math.random();return this.set(dt*Math.cos(St),vt*Math.sin(Et),vt*Math.cos(Et),dt*Math.sin(St))}equals(lt){return lt._x===this._x&&lt._y===this._y&&lt._z===this._z&&lt._w===this._w}fromArray(lt,dt=0){return this._x=lt[dt],this._y=lt[dt+1],this._z=lt[dt+2],this._w=lt[dt+3],this._onChangeCallback(),this}toArray(lt=[],dt=0){return lt[dt]=this._x,lt[dt+1]=this._y,lt[dt+2]=this._z,lt[dt+3]=this._w,lt}fromBufferAttribute(lt,dt){return this._x=lt.getX(dt),this._y=lt.getY(dt),this._z=lt.getZ(dt),this._w=lt.getW(dt),this}_onChange(lt){return this._onChangeCallback=lt,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(lt=0,dt=0,vt=0){Vector3.prototype.isVector3=!0,this.x=lt,this.y=dt,this.z=vt}set(lt,dt,vt){return vt===void 0&&(vt=this.z),this.x=lt,this.y=dt,this.z=vt,this}setScalar(lt){return this.x=lt,this.y=lt,this.z=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setZ(lt){return this.z=lt,this}setComponent(lt,dt){switch(lt){case 0:this.x=dt;break;case 1:this.y=dt;break;case 2:this.z=dt;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(lt){return this.x=lt.x,this.y=lt.y,this.z=lt.z,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this.z+=lt.z,this}addScalar(lt){return this.x+=lt,this.y+=lt,this.z+=lt,this}addVectors(lt,dt){return this.x=lt.x+dt.x,this.y=lt.y+dt.y,this.z=lt.z+dt.z,this}addScaledVector(lt,dt){return this.x+=lt.x*dt,this.y+=lt.y*dt,this.z+=lt.z*dt,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this.z-=lt.z,this}subScalar(lt){return this.x-=lt,this.y-=lt,this.z-=lt,this}subVectors(lt,dt){return this.x=lt.x-dt.x,this.y=lt.y-dt.y,this.z=lt.z-dt.z,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this.z*=lt.z,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this.z*=lt,this}multiplyVectors(lt,dt){return this.x=lt.x*dt.x,this.y=lt.y*dt.y,this.z=lt.z*dt.z,this}applyEuler(lt){return this.applyQuaternion(_quaternion$4.setFromEuler(lt))}applyAxisAngle(lt,dt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(lt,dt))}applyMatrix3(lt){const dt=this.x,vt=this.y,St=this.z,Et=lt.elements;return this.x=Et[0]*dt+Et[3]*vt+Et[6]*St,this.y=Et[1]*dt+Et[4]*vt+Et[7]*St,this.z=Et[2]*dt+Et[5]*vt+Et[8]*St,this}applyNormalMatrix(lt){return this.applyMatrix3(lt).normalize()}applyMatrix4(lt){const dt=this.x,vt=this.y,St=this.z,Et=lt.elements,At=1/(Et[3]*dt+Et[7]*vt+Et[11]*St+Et[15]);return this.x=(Et[0]*dt+Et[4]*vt+Et[8]*St+Et[12])*At,this.y=(Et[1]*dt+Et[5]*vt+Et[9]*St+Et[13])*At,this.z=(Et[2]*dt+Et[6]*vt+Et[10]*St+Et[14])*At,this}applyQuaternion(lt){const dt=this.x,vt=this.y,St=this.z,Et=lt.x,At=lt.y,Ct=lt.z,Tt=lt.w,Rt=Tt*dt+At*St-Ct*vt,Bt=Tt*vt+Ct*dt-Et*St,Dt=Tt*St+Et*vt-At*dt,Ft=-Et*dt-At*vt-Ct*St;return this.x=Rt*Tt+Ft*-Et+Bt*-Ct-Dt*-At,this.y=Bt*Tt+Ft*-At+Dt*-Et-Rt*-Ct,this.z=Dt*Tt+Ft*-Ct+Rt*-At-Bt*-Et,this}project(lt){return this.applyMatrix4(lt.matrixWorldInverse).applyMatrix4(lt.projectionMatrix)}unproject(lt){return this.applyMatrix4(lt.projectionMatrixInverse).applyMatrix4(lt.matrixWorld)}transformDirection(lt){const dt=this.x,vt=this.y,St=this.z,Et=lt.elements;return this.x=Et[0]*dt+Et[4]*vt+Et[8]*St,this.y=Et[1]*dt+Et[5]*vt+Et[9]*St,this.z=Et[2]*dt+Et[6]*vt+Et[10]*St,this.normalize()}divide(lt){return this.x/=lt.x,this.y/=lt.y,this.z/=lt.z,this}divideScalar(lt){return this.multiplyScalar(1/lt)}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this.z=Math.min(this.z,lt.z),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this.z=Math.max(this.z,lt.z),this}clamp(lt,dt){return this.x=Math.max(lt.x,Math.min(dt.x,this.x)),this.y=Math.max(lt.y,Math.min(dt.y,this.y)),this.z=Math.max(lt.z,Math.min(dt.z,this.z)),this}clampScalar(lt,dt){return this.x=Math.max(lt,Math.min(dt,this.x)),this.y=Math.max(lt,Math.min(dt,this.y)),this.z=Math.max(lt,Math.min(dt,this.z)),this}clampLength(lt,dt){const vt=this.length();return this.divideScalar(vt||1).multiplyScalar(Math.max(lt,Math.min(dt,vt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(lt){return this.x*lt.x+this.y*lt.y+this.z*lt.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,dt){return this.x+=(lt.x-this.x)*dt,this.y+=(lt.y-this.y)*dt,this.z+=(lt.z-this.z)*dt,this}lerpVectors(lt,dt,vt){return this.x=lt.x+(dt.x-lt.x)*vt,this.y=lt.y+(dt.y-lt.y)*vt,this.z=lt.z+(dt.z-lt.z)*vt,this}cross(lt){return this.crossVectors(this,lt)}crossVectors(lt,dt){const vt=lt.x,St=lt.y,Et=lt.z,At=dt.x,Ct=dt.y,Tt=dt.z;return this.x=St*Tt-Et*Ct,this.y=Et*At-vt*Tt,this.z=vt*Ct-St*At,this}projectOnVector(lt){const dt=lt.lengthSq();if(dt===0)return this.set(0,0,0);const vt=lt.dot(this)/dt;return this.copy(lt).multiplyScalar(vt)}projectOnPlane(lt){return _vector$c.copy(this).projectOnVector(lt),this.sub(_vector$c)}reflect(lt){return this.sub(_vector$c.copy(lt).multiplyScalar(2*this.dot(lt)))}angleTo(lt){const dt=Math.sqrt(this.lengthSq()*lt.lengthSq());if(dt===0)return Math.PI/2;const vt=this.dot(lt)/dt;return Math.acos(clamp(vt,-1,1))}distanceTo(lt){return Math.sqrt(this.distanceToSquared(lt))}distanceToSquared(lt){const dt=this.x-lt.x,vt=this.y-lt.y,St=this.z-lt.z;return dt*dt+vt*vt+St*St}manhattanDistanceTo(lt){return Math.abs(this.x-lt.x)+Math.abs(this.y-lt.y)+Math.abs(this.z-lt.z)}setFromSpherical(lt){return this.setFromSphericalCoords(lt.radius,lt.phi,lt.theta)}setFromSphericalCoords(lt,dt,vt){const St=Math.sin(dt)*lt;return this.x=St*Math.sin(vt),this.y=Math.cos(dt)*lt,this.z=St*Math.cos(vt),this}setFromCylindrical(lt){return this.setFromCylindricalCoords(lt.radius,lt.theta,lt.y)}setFromCylindricalCoords(lt,dt,vt){return this.x=lt*Math.sin(dt),this.y=vt,this.z=lt*Math.cos(dt),this}setFromMatrixPosition(lt){const dt=lt.elements;return this.x=dt[12],this.y=dt[13],this.z=dt[14],this}setFromMatrixScale(lt){const dt=this.setFromMatrixColumn(lt,0).length(),vt=this.setFromMatrixColumn(lt,1).length(),St=this.setFromMatrixColumn(lt,2).length();return this.x=dt,this.y=vt,this.z=St,this}setFromMatrixColumn(lt,dt){return this.fromArray(lt.elements,dt*4)}setFromMatrix3Column(lt,dt){return this.fromArray(lt.elements,dt*3)}setFromEuler(lt){return this.x=lt._x,this.y=lt._y,this.z=lt._z,this}equals(lt){return lt.x===this.x&&lt.y===this.y&&lt.z===this.z}fromArray(lt,dt=0){return this.x=lt[dt],this.y=lt[dt+1],this.z=lt[dt+2],this}toArray(lt=[],dt=0){return lt[dt]=this.x,lt[dt+1]=this.y,lt[dt+2]=this.z,lt}fromBufferAttribute(lt,dt){return this.x=lt.getX(dt),this.y=lt.getY(dt),this.z=lt.getZ(dt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const lt=(Math.random()-.5)*2,dt=Math.random()*Math.PI*2,vt=Math.sqrt(1-lt**2);return this.x=vt*Math.cos(dt),this.y=vt*Math.sin(dt),this.z=lt,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(lt=new Vector3(1/0,1/0,1/0),dt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=lt,this.max=dt}set(lt,dt){return this.min.copy(lt),this.max.copy(dt),this}setFromArray(lt){let dt=1/0,vt=1/0,St=1/0,Et=-1/0,At=-1/0,Ct=-1/0;for(let Tt=0,Rt=lt.length;Tt<Rt;Tt+=3){const Bt=lt[Tt],Dt=lt[Tt+1],Ft=lt[Tt+2];Bt<dt&&(dt=Bt),Dt<vt&&(vt=Dt),Ft<St&&(St=Ft),Bt>Et&&(Et=Bt),Dt>At&&(At=Dt),Ft>Ct&&(Ct=Ft)}return this.min.set(dt,vt,St),this.max.set(Et,At,Ct),this}setFromBufferAttribute(lt){let dt=1/0,vt=1/0,St=1/0,Et=-1/0,At=-1/0,Ct=-1/0;for(let Tt=0,Rt=lt.count;Tt<Rt;Tt++){const Bt=lt.getX(Tt),Dt=lt.getY(Tt),Ft=lt.getZ(Tt);Bt<dt&&(dt=Bt),Dt<vt&&(vt=Dt),Ft<St&&(St=Ft),Bt>Et&&(Et=Bt),Dt>At&&(At=Dt),Ft>Ct&&(Ct=Ft)}return this.min.set(dt,vt,St),this.max.set(Et,At,Ct),this}setFromPoints(lt){this.makeEmpty();for(let dt=0,vt=lt.length;dt<vt;dt++)this.expandByPoint(lt[dt]);return this}setFromCenterAndSize(lt,dt){const vt=_vector$b.copy(dt).multiplyScalar(.5);return this.min.copy(lt).sub(vt),this.max.copy(lt).add(vt),this}setFromObject(lt,dt=!1){return this.makeEmpty(),this.expandByObject(lt,dt)}clone(){return new this.constructor().copy(this)}copy(lt){return this.min.copy(lt.min),this.max.copy(lt.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(lt){return this.isEmpty()?lt.set(0,0,0):lt.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(lt){return this.isEmpty()?lt.set(0,0,0):lt.subVectors(this.max,this.min)}expandByPoint(lt){return this.min.min(lt),this.max.max(lt),this}expandByVector(lt){return this.min.sub(lt),this.max.add(lt),this}expandByScalar(lt){return this.min.addScalar(-lt),this.max.addScalar(lt),this}expandByObject(lt,dt=!1){lt.updateWorldMatrix(!1,!1);const vt=lt.geometry;if(vt!==void 0)if(dt&&vt.attributes!=null&&vt.attributes.position!==void 0){const Et=vt.attributes.position;for(let At=0,Ct=Et.count;At<Ct;At++)_vector$b.fromBufferAttribute(Et,At).applyMatrix4(lt.matrixWorld),this.expandByPoint(_vector$b)}else vt.boundingBox===null&&vt.computeBoundingBox(),_box$3.copy(vt.boundingBox),_box$3.applyMatrix4(lt.matrixWorld),this.union(_box$3);const St=lt.children;for(let Et=0,At=St.length;Et<At;Et++)this.expandByObject(St[Et],dt);return this}containsPoint(lt){return!(lt.x<this.min.x||lt.x>this.max.x||lt.y<this.min.y||lt.y>this.max.y||lt.z<this.min.z||lt.z>this.max.z)}containsBox(lt){return this.min.x<=lt.min.x&&lt.max.x<=this.max.x&&this.min.y<=lt.min.y&&lt.max.y<=this.max.y&&this.min.z<=lt.min.z&&lt.max.z<=this.max.z}getParameter(lt,dt){return dt.set((lt.x-this.min.x)/(this.max.x-this.min.x),(lt.y-this.min.y)/(this.max.y-this.min.y),(lt.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(lt){return!(lt.max.x<this.min.x||lt.min.x>this.max.x||lt.max.y<this.min.y||lt.min.y>this.max.y||lt.max.z<this.min.z||lt.min.z>this.max.z)}intersectsSphere(lt){return this.clampPoint(lt.center,_vector$b),_vector$b.distanceToSquared(lt.center)<=lt.radius*lt.radius}intersectsPlane(lt){let dt,vt;return lt.normal.x>0?(dt=lt.normal.x*this.min.x,vt=lt.normal.x*this.max.x):(dt=lt.normal.x*this.max.x,vt=lt.normal.x*this.min.x),lt.normal.y>0?(dt+=lt.normal.y*this.min.y,vt+=lt.normal.y*this.max.y):(dt+=lt.normal.y*this.max.y,vt+=lt.normal.y*this.min.y),lt.normal.z>0?(dt+=lt.normal.z*this.min.z,vt+=lt.normal.z*this.max.z):(dt+=lt.normal.z*this.max.z,vt+=lt.normal.z*this.min.z),dt<=-lt.constant&&vt>=-lt.constant}intersectsTriangle(lt){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(lt.a,_center),_v1$7.subVectors(lt.b,_center),_v2$4.subVectors(lt.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let dt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(dt,_v0$2,_v1$7,_v2$4,_extents)||(dt=[1,0,0,0,1,0,0,0,1],!satForAxes(dt,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),dt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(dt,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(lt,dt){return dt.copy(lt).clamp(this.min,this.max)}distanceToPoint(lt){return _vector$b.copy(lt).clamp(this.min,this.max).sub(lt).length()}getBoundingSphere(lt){return this.getCenter(lt.center),lt.radius=this.getSize(_vector$b).length()*.5,lt}intersect(lt){return this.min.max(lt.min),this.max.min(lt.max),this.isEmpty()&&this.makeEmpty(),this}union(lt){return this.min.min(lt.min),this.max.max(lt.max),this}applyMatrix4(lt){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(lt),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(lt),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(lt),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(lt),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(lt),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(lt),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(lt),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(lt),this.setFromPoints(_points),this)}translate(lt){return this.min.add(lt),this.max.add(lt),this}equals(lt){return lt.min.equals(this.min)&&lt.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(ft,lt,dt,vt,St){for(let Et=0,At=ft.length-3;Et<=At;Et+=3){_testAxis.fromArray(ft,Et);const Ct=St.x*Math.abs(_testAxis.x)+St.y*Math.abs(_testAxis.y)+St.z*Math.abs(_testAxis.z),Tt=lt.dot(_testAxis),Rt=dt.dot(_testAxis),Bt=vt.dot(_testAxis);if(Math.max(-Math.max(Tt,Rt,Bt),Math.min(Tt,Rt,Bt))>Ct)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;let Sphere$1=class{constructor(lt=new Vector3,dt=-1){this.center=lt,this.radius=dt}set(lt,dt){return this.center.copy(lt),this.radius=dt,this}setFromPoints(lt,dt){const vt=this.center;dt!==void 0?vt.copy(dt):_box$2.setFromPoints(lt).getCenter(vt);let St=0;for(let Et=0,At=lt.length;Et<At;Et++)St=Math.max(St,vt.distanceToSquared(lt[Et]));return this.radius=Math.sqrt(St),this}copy(lt){return this.center.copy(lt.center),this.radius=lt.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(lt){return lt.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(lt){return lt.distanceTo(this.center)-this.radius}intersectsSphere(lt){const dt=this.radius+lt.radius;return lt.center.distanceToSquared(this.center)<=dt*dt}intersectsBox(lt){return lt.intersectsSphere(this)}intersectsPlane(lt){return Math.abs(lt.distanceToPoint(this.center))<=this.radius}clampPoint(lt,dt){const vt=this.center.distanceToSquared(lt);return dt.copy(lt),vt>this.radius*this.radius&&(dt.sub(this.center).normalize(),dt.multiplyScalar(this.radius).add(this.center)),dt}getBoundingBox(lt){return this.isEmpty()?(lt.makeEmpty(),lt):(lt.set(this.center,this.center),lt.expandByScalar(this.radius),lt)}applyMatrix4(lt){return this.center.applyMatrix4(lt),this.radius=this.radius*lt.getMaxScaleOnAxis(),this}translate(lt){return this.center.add(lt),this}expandByPoint(lt){if(this.isEmpty())return this.center.copy(lt),this.radius=0,this;_v1$6.subVectors(lt,this.center);const dt=_v1$6.lengthSq();if(dt>this.radius*this.radius){const vt=Math.sqrt(dt),St=(vt-this.radius)*.5;this.center.addScaledVector(_v1$6,St/vt),this.radius+=St}return this}union(lt){return lt.isEmpty()?this:this.isEmpty()?(this.copy(lt),this):(this.center.equals(lt.center)===!0?this.radius=Math.max(this.radius,lt.radius):(_v2$3.subVectors(lt.center,this.center).setLength(lt.radius),this.expandByPoint(_v1$6.copy(lt.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(lt.center).sub(_v2$3))),this)}equals(lt){return lt.center.equals(this.center)&&lt.radius===this.radius}clone(){return new this.constructor().copy(this)}};const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(lt=new Vector3,dt=new Vector3(0,0,-1)){this.origin=lt,this.direction=dt}set(lt,dt){return this.origin.copy(lt),this.direction.copy(dt),this}copy(lt){return this.origin.copy(lt.origin),this.direction.copy(lt.direction),this}at(lt,dt){return dt.copy(this.direction).multiplyScalar(lt).add(this.origin)}lookAt(lt){return this.direction.copy(lt).sub(this.origin).normalize(),this}recast(lt){return this.origin.copy(this.at(lt,_vector$a)),this}closestPointToPoint(lt,dt){dt.subVectors(lt,this.origin);const vt=dt.dot(this.direction);return vt<0?dt.copy(this.origin):dt.copy(this.direction).multiplyScalar(vt).add(this.origin)}distanceToPoint(lt){return Math.sqrt(this.distanceSqToPoint(lt))}distanceSqToPoint(lt){const dt=_vector$a.subVectors(lt,this.origin).dot(this.direction);return dt<0?this.origin.distanceToSquared(lt):(_vector$a.copy(this.direction).multiplyScalar(dt).add(this.origin),_vector$a.distanceToSquared(lt))}distanceSqToSegment(lt,dt,vt,St){_segCenter.copy(lt).add(dt).multiplyScalar(.5),_segDir.copy(dt).sub(lt).normalize(),_diff.copy(this.origin).sub(_segCenter);const Et=lt.distanceTo(dt)*.5,At=-this.direction.dot(_segDir),Ct=_diff.dot(this.direction),Tt=-_diff.dot(_segDir),Rt=_diff.lengthSq(),Bt=Math.abs(1-At*At);let Dt,Ft,kt,Ut;if(Bt>0)if(Dt=At*Tt-Ct,Ft=At*Ct-Tt,Ut=Et*Bt,Dt>=0)if(Ft>=-Ut)if(Ft<=Ut){const Kt=1/Bt;Dt*=Kt,Ft*=Kt,kt=Dt*(Dt+At*Ft+2*Ct)+Ft*(At*Dt+Ft+2*Tt)+Rt}else Ft=Et,Dt=Math.max(0,-(At*Ft+Ct)),kt=-Dt*Dt+Ft*(Ft+2*Tt)+Rt;else Ft=-Et,Dt=Math.max(0,-(At*Ft+Ct)),kt=-Dt*Dt+Ft*(Ft+2*Tt)+Rt;else Ft<=-Ut?(Dt=Math.max(0,-(-At*Et+Ct)),Ft=Dt>0?-Et:Math.min(Math.max(-Et,-Tt),Et),kt=-Dt*Dt+Ft*(Ft+2*Tt)+Rt):Ft<=Ut?(Dt=0,Ft=Math.min(Math.max(-Et,-Tt),Et),kt=Ft*(Ft+2*Tt)+Rt):(Dt=Math.max(0,-(At*Et+Ct)),Ft=Dt>0?Et:Math.min(Math.max(-Et,-Tt),Et),kt=-Dt*Dt+Ft*(Ft+2*Tt)+Rt);else Ft=At>0?-Et:Et,Dt=Math.max(0,-(At*Ft+Ct)),kt=-Dt*Dt+Ft*(Ft+2*Tt)+Rt;return vt&&vt.copy(this.direction).multiplyScalar(Dt).add(this.origin),St&&St.copy(_segDir).multiplyScalar(Ft).add(_segCenter),kt}intersectSphere(lt,dt){_vector$a.subVectors(lt.center,this.origin);const vt=_vector$a.dot(this.direction),St=_vector$a.dot(_vector$a)-vt*vt,Et=lt.radius*lt.radius;if(St>Et)return null;const At=Math.sqrt(Et-St),Ct=vt-At,Tt=vt+At;return Ct<0&&Tt<0?null:Ct<0?this.at(Tt,dt):this.at(Ct,dt)}intersectsSphere(lt){return this.distanceSqToPoint(lt.center)<=lt.radius*lt.radius}distanceToPlane(lt){const dt=lt.normal.dot(this.direction);if(dt===0)return lt.distanceToPoint(this.origin)===0?0:null;const vt=-(this.origin.dot(lt.normal)+lt.constant)/dt;return vt>=0?vt:null}intersectPlane(lt,dt){const vt=this.distanceToPlane(lt);return vt===null?null:this.at(vt,dt)}intersectsPlane(lt){const dt=lt.distanceToPoint(this.origin);return dt===0||lt.normal.dot(this.direction)*dt<0}intersectBox(lt,dt){let vt,St,Et,At,Ct,Tt;const Rt=1/this.direction.x,Bt=1/this.direction.y,Dt=1/this.direction.z,Ft=this.origin;return Rt>=0?(vt=(lt.min.x-Ft.x)*Rt,St=(lt.max.x-Ft.x)*Rt):(vt=(lt.max.x-Ft.x)*Rt,St=(lt.min.x-Ft.x)*Rt),Bt>=0?(Et=(lt.min.y-Ft.y)*Bt,At=(lt.max.y-Ft.y)*Bt):(Et=(lt.max.y-Ft.y)*Bt,At=(lt.min.y-Ft.y)*Bt),vt>At||Et>St||((Et>vt||isNaN(vt))&&(vt=Et),(At<St||isNaN(St))&&(St=At),Dt>=0?(Ct=(lt.min.z-Ft.z)*Dt,Tt=(lt.max.z-Ft.z)*Dt):(Ct=(lt.max.z-Ft.z)*Dt,Tt=(lt.min.z-Ft.z)*Dt),vt>Tt||Ct>St)||((Ct>vt||vt!==vt)&&(vt=Ct),(Tt<St||St!==St)&&(St=Tt),St<0)?null:this.at(vt>=0?vt:St,dt)}intersectsBox(lt){return this.intersectBox(lt,_vector$a)!==null}intersectTriangle(lt,dt,vt,St,Et){_edge1.subVectors(dt,lt),_edge2.subVectors(vt,lt),_normal$1.crossVectors(_edge1,_edge2);let At=this.direction.dot(_normal$1),Ct;if(At>0){if(St)return null;Ct=1}else if(At<0)Ct=-1,At=-At;else return null;_diff.subVectors(this.origin,lt);const Tt=Ct*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(Tt<0)return null;const Rt=Ct*this.direction.dot(_edge1.cross(_diff));if(Rt<0||Tt+Rt>At)return null;const Bt=-Ct*_diff.dot(_normal$1);return Bt<0?null:this.at(Bt/At,Et)}applyMatrix4(lt){return this.origin.applyMatrix4(lt),this.direction.transformDirection(lt),this}equals(lt){return lt.origin.equals(this.origin)&&lt.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(lt,dt,vt,St,Et,At,Ct,Tt,Rt,Bt,Dt,Ft,kt,Ut,Kt,tr){const Wt=this.elements;return Wt[0]=lt,Wt[4]=dt,Wt[8]=vt,Wt[12]=St,Wt[1]=Et,Wt[5]=At,Wt[9]=Ct,Wt[13]=Tt,Wt[2]=Rt,Wt[6]=Bt,Wt[10]=Dt,Wt[14]=Ft,Wt[3]=kt,Wt[7]=Ut,Wt[11]=Kt,Wt[15]=tr,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(lt){const dt=this.elements,vt=lt.elements;return dt[0]=vt[0],dt[1]=vt[1],dt[2]=vt[2],dt[3]=vt[3],dt[4]=vt[4],dt[5]=vt[5],dt[6]=vt[6],dt[7]=vt[7],dt[8]=vt[8],dt[9]=vt[9],dt[10]=vt[10],dt[11]=vt[11],dt[12]=vt[12],dt[13]=vt[13],dt[14]=vt[14],dt[15]=vt[15],this}copyPosition(lt){const dt=this.elements,vt=lt.elements;return dt[12]=vt[12],dt[13]=vt[13],dt[14]=vt[14],this}setFromMatrix3(lt){const dt=lt.elements;return this.set(dt[0],dt[3],dt[6],0,dt[1],dt[4],dt[7],0,dt[2],dt[5],dt[8],0,0,0,0,1),this}extractBasis(lt,dt,vt){return lt.setFromMatrixColumn(this,0),dt.setFromMatrixColumn(this,1),vt.setFromMatrixColumn(this,2),this}makeBasis(lt,dt,vt){return this.set(lt.x,dt.x,vt.x,0,lt.y,dt.y,vt.y,0,lt.z,dt.z,vt.z,0,0,0,0,1),this}extractRotation(lt){const dt=this.elements,vt=lt.elements,St=1/_v1$5.setFromMatrixColumn(lt,0).length(),Et=1/_v1$5.setFromMatrixColumn(lt,1).length(),At=1/_v1$5.setFromMatrixColumn(lt,2).length();return dt[0]=vt[0]*St,dt[1]=vt[1]*St,dt[2]=vt[2]*St,dt[3]=0,dt[4]=vt[4]*Et,dt[5]=vt[5]*Et,dt[6]=vt[6]*Et,dt[7]=0,dt[8]=vt[8]*At,dt[9]=vt[9]*At,dt[10]=vt[10]*At,dt[11]=0,dt[12]=0,dt[13]=0,dt[14]=0,dt[15]=1,this}makeRotationFromEuler(lt){const dt=this.elements,vt=lt.x,St=lt.y,Et=lt.z,At=Math.cos(vt),Ct=Math.sin(vt),Tt=Math.cos(St),Rt=Math.sin(St),Bt=Math.cos(Et),Dt=Math.sin(Et);if(lt.order==="XYZ"){const Ft=At*Bt,kt=At*Dt,Ut=Ct*Bt,Kt=Ct*Dt;dt[0]=Tt*Bt,dt[4]=-Tt*Dt,dt[8]=Rt,dt[1]=kt+Ut*Rt,dt[5]=Ft-Kt*Rt,dt[9]=-Ct*Tt,dt[2]=Kt-Ft*Rt,dt[6]=Ut+kt*Rt,dt[10]=At*Tt}else if(lt.order==="YXZ"){const Ft=Tt*Bt,kt=Tt*Dt,Ut=Rt*Bt,Kt=Rt*Dt;dt[0]=Ft+Kt*Ct,dt[4]=Ut*Ct-kt,dt[8]=At*Rt,dt[1]=At*Dt,dt[5]=At*Bt,dt[9]=-Ct,dt[2]=kt*Ct-Ut,dt[6]=Kt+Ft*Ct,dt[10]=At*Tt}else if(lt.order==="ZXY"){const Ft=Tt*Bt,kt=Tt*Dt,Ut=Rt*Bt,Kt=Rt*Dt;dt[0]=Ft-Kt*Ct,dt[4]=-At*Dt,dt[8]=Ut+kt*Ct,dt[1]=kt+Ut*Ct,dt[5]=At*Bt,dt[9]=Kt-Ft*Ct,dt[2]=-At*Rt,dt[6]=Ct,dt[10]=At*Tt}else if(lt.order==="ZYX"){const Ft=At*Bt,kt=At*Dt,Ut=Ct*Bt,Kt=Ct*Dt;dt[0]=Tt*Bt,dt[4]=Ut*Rt-kt,dt[8]=Ft*Rt+Kt,dt[1]=Tt*Dt,dt[5]=Kt*Rt+Ft,dt[9]=kt*Rt-Ut,dt[2]=-Rt,dt[6]=Ct*Tt,dt[10]=At*Tt}else if(lt.order==="YZX"){const Ft=At*Tt,kt=At*Rt,Ut=Ct*Tt,Kt=Ct*Rt;dt[0]=Tt*Bt,dt[4]=Kt-Ft*Dt,dt[8]=Ut*Dt+kt,dt[1]=Dt,dt[5]=At*Bt,dt[9]=-Ct*Bt,dt[2]=-Rt*Bt,dt[6]=kt*Dt+Ut,dt[10]=Ft-Kt*Dt}else if(lt.order==="XZY"){const Ft=At*Tt,kt=At*Rt,Ut=Ct*Tt,Kt=Ct*Rt;dt[0]=Tt*Bt,dt[4]=-Dt,dt[8]=Rt*Bt,dt[1]=Ft*Dt+Kt,dt[5]=At*Bt,dt[9]=kt*Dt-Ut,dt[2]=Ut*Dt-kt,dt[6]=Ct*Bt,dt[10]=Kt*Dt+Ft}return dt[3]=0,dt[7]=0,dt[11]=0,dt[12]=0,dt[13]=0,dt[14]=0,dt[15]=1,this}makeRotationFromQuaternion(lt){return this.compose(_zero,lt,_one)}lookAt(lt,dt,vt){const St=this.elements;return _z.subVectors(lt,dt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(vt,_z),_x.lengthSq()===0&&(Math.abs(vt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(vt,_z)),_x.normalize(),_y.crossVectors(_z,_x),St[0]=_x.x,St[4]=_y.x,St[8]=_z.x,St[1]=_x.y,St[5]=_y.y,St[9]=_z.y,St[2]=_x.z,St[6]=_y.z,St[10]=_z.z,this}multiply(lt){return this.multiplyMatrices(this,lt)}premultiply(lt){return this.multiplyMatrices(lt,this)}multiplyMatrices(lt,dt){const vt=lt.elements,St=dt.elements,Et=this.elements,At=vt[0],Ct=vt[4],Tt=vt[8],Rt=vt[12],Bt=vt[1],Dt=vt[5],Ft=vt[9],kt=vt[13],Ut=vt[2],Kt=vt[6],tr=vt[10],Wt=vt[14],Zt=vt[3],Ht=vt[7],nr=vt[11],sr=vt[15],ar=St[0],ir=St[4],rr=St[8],lr=St[12],ur=St[1],dr=St[5],mr=St[9],Cr=St[13],yr=St[2],xr=St[6],Sr=St[10],br=St[14],cr=St[3],pr=St[7],Er=St[11],_r=St[15];return Et[0]=At*ar+Ct*ur+Tt*yr+Rt*cr,Et[4]=At*ir+Ct*dr+Tt*xr+Rt*pr,Et[8]=At*rr+Ct*mr+Tt*Sr+Rt*Er,Et[12]=At*lr+Ct*Cr+Tt*br+Rt*_r,Et[1]=Bt*ar+Dt*ur+Ft*yr+kt*cr,Et[5]=Bt*ir+Dt*dr+Ft*xr+kt*pr,Et[9]=Bt*rr+Dt*mr+Ft*Sr+kt*Er,Et[13]=Bt*lr+Dt*Cr+Ft*br+kt*_r,Et[2]=Ut*ar+Kt*ur+tr*yr+Wt*cr,Et[6]=Ut*ir+Kt*dr+tr*xr+Wt*pr,Et[10]=Ut*rr+Kt*mr+tr*Sr+Wt*Er,Et[14]=Ut*lr+Kt*Cr+tr*br+Wt*_r,Et[3]=Zt*ar+Ht*ur+nr*yr+sr*cr,Et[7]=Zt*ir+Ht*dr+nr*xr+sr*pr,Et[11]=Zt*rr+Ht*mr+nr*Sr+sr*Er,Et[15]=Zt*lr+Ht*Cr+nr*br+sr*_r,this}multiplyScalar(lt){const dt=this.elements;return dt[0]*=lt,dt[4]*=lt,dt[8]*=lt,dt[12]*=lt,dt[1]*=lt,dt[5]*=lt,dt[9]*=lt,dt[13]*=lt,dt[2]*=lt,dt[6]*=lt,dt[10]*=lt,dt[14]*=lt,dt[3]*=lt,dt[7]*=lt,dt[11]*=lt,dt[15]*=lt,this}determinant(){const lt=this.elements,dt=lt[0],vt=lt[4],St=lt[8],Et=lt[12],At=lt[1],Ct=lt[5],Tt=lt[9],Rt=lt[13],Bt=lt[2],Dt=lt[6],Ft=lt[10],kt=lt[14],Ut=lt[3],Kt=lt[7],tr=lt[11],Wt=lt[15];return Ut*(+Et*Tt*Dt-St*Rt*Dt-Et*Ct*Ft+vt*Rt*Ft+St*Ct*kt-vt*Tt*kt)+Kt*(+dt*Tt*kt-dt*Rt*Ft+Et*At*Ft-St*At*kt+St*Rt*Bt-Et*Tt*Bt)+tr*(+dt*Rt*Dt-dt*Ct*kt-Et*At*Dt+vt*At*kt+Et*Ct*Bt-vt*Rt*Bt)+Wt*(-St*Ct*Bt-dt*Tt*Dt+dt*Ct*Ft+St*At*Dt-vt*At*Ft+vt*Tt*Bt)}transpose(){const lt=this.elements;let dt;return dt=lt[1],lt[1]=lt[4],lt[4]=dt,dt=lt[2],lt[2]=lt[8],lt[8]=dt,dt=lt[6],lt[6]=lt[9],lt[9]=dt,dt=lt[3],lt[3]=lt[12],lt[12]=dt,dt=lt[7],lt[7]=lt[13],lt[13]=dt,dt=lt[11],lt[11]=lt[14],lt[14]=dt,this}setPosition(lt,dt,vt){const St=this.elements;return lt.isVector3?(St[12]=lt.x,St[13]=lt.y,St[14]=lt.z):(St[12]=lt,St[13]=dt,St[14]=vt),this}invert(){const lt=this.elements,dt=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=lt[4],Ct=lt[5],Tt=lt[6],Rt=lt[7],Bt=lt[8],Dt=lt[9],Ft=lt[10],kt=lt[11],Ut=lt[12],Kt=lt[13],tr=lt[14],Wt=lt[15],Zt=Dt*tr*Rt-Kt*Ft*Rt+Kt*Tt*kt-Ct*tr*kt-Dt*Tt*Wt+Ct*Ft*Wt,Ht=Ut*Ft*Rt-Bt*tr*Rt-Ut*Tt*kt+At*tr*kt+Bt*Tt*Wt-At*Ft*Wt,nr=Bt*Kt*Rt-Ut*Dt*Rt+Ut*Ct*kt-At*Kt*kt-Bt*Ct*Wt+At*Dt*Wt,sr=Ut*Dt*Tt-Bt*Kt*Tt-Ut*Ct*Ft+At*Kt*Ft+Bt*Ct*tr-At*Dt*tr,ar=dt*Zt+vt*Ht+St*nr+Et*sr;if(ar===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ir=1/ar;return lt[0]=Zt*ir,lt[1]=(Kt*Ft*Et-Dt*tr*Et-Kt*St*kt+vt*tr*kt+Dt*St*Wt-vt*Ft*Wt)*ir,lt[2]=(Ct*tr*Et-Kt*Tt*Et+Kt*St*Rt-vt*tr*Rt-Ct*St*Wt+vt*Tt*Wt)*ir,lt[3]=(Dt*Tt*Et-Ct*Ft*Et-Dt*St*Rt+vt*Ft*Rt+Ct*St*kt-vt*Tt*kt)*ir,lt[4]=Ht*ir,lt[5]=(Bt*tr*Et-Ut*Ft*Et+Ut*St*kt-dt*tr*kt-Bt*St*Wt+dt*Ft*Wt)*ir,lt[6]=(Ut*Tt*Et-At*tr*Et-Ut*St*Rt+dt*tr*Rt+At*St*Wt-dt*Tt*Wt)*ir,lt[7]=(At*Ft*Et-Bt*Tt*Et+Bt*St*Rt-dt*Ft*Rt-At*St*kt+dt*Tt*kt)*ir,lt[8]=nr*ir,lt[9]=(Ut*Dt*Et-Bt*Kt*Et-Ut*vt*kt+dt*Kt*kt+Bt*vt*Wt-dt*Dt*Wt)*ir,lt[10]=(At*Kt*Et-Ut*Ct*Et+Ut*vt*Rt-dt*Kt*Rt-At*vt*Wt+dt*Ct*Wt)*ir,lt[11]=(Bt*Ct*Et-At*Dt*Et-Bt*vt*Rt+dt*Dt*Rt+At*vt*kt-dt*Ct*kt)*ir,lt[12]=sr*ir,lt[13]=(Bt*Kt*St-Ut*Dt*St+Ut*vt*Ft-dt*Kt*Ft-Bt*vt*tr+dt*Dt*tr)*ir,lt[14]=(Ut*Ct*St-At*Kt*St-Ut*vt*Tt+dt*Kt*Tt+At*vt*tr-dt*Ct*tr)*ir,lt[15]=(At*Dt*St-Bt*Ct*St+Bt*vt*Tt-dt*Dt*Tt-At*vt*Ft+dt*Ct*Ft)*ir,this}scale(lt){const dt=this.elements,vt=lt.x,St=lt.y,Et=lt.z;return dt[0]*=vt,dt[4]*=St,dt[8]*=Et,dt[1]*=vt,dt[5]*=St,dt[9]*=Et,dt[2]*=vt,dt[6]*=St,dt[10]*=Et,dt[3]*=vt,dt[7]*=St,dt[11]*=Et,this}getMaxScaleOnAxis(){const lt=this.elements,dt=lt[0]*lt[0]+lt[1]*lt[1]+lt[2]*lt[2],vt=lt[4]*lt[4]+lt[5]*lt[5]+lt[6]*lt[6],St=lt[8]*lt[8]+lt[9]*lt[9]+lt[10]*lt[10];return Math.sqrt(Math.max(dt,vt,St))}makeTranslation(lt,dt,vt){return this.set(1,0,0,lt,0,1,0,dt,0,0,1,vt,0,0,0,1),this}makeRotationX(lt){const dt=Math.cos(lt),vt=Math.sin(lt);return this.set(1,0,0,0,0,dt,-vt,0,0,vt,dt,0,0,0,0,1),this}makeRotationY(lt){const dt=Math.cos(lt),vt=Math.sin(lt);return this.set(dt,0,vt,0,0,1,0,0,-vt,0,dt,0,0,0,0,1),this}makeRotationZ(lt){const dt=Math.cos(lt),vt=Math.sin(lt);return this.set(dt,-vt,0,0,vt,dt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(lt,dt){const vt=Math.cos(dt),St=Math.sin(dt),Et=1-vt,At=lt.x,Ct=lt.y,Tt=lt.z,Rt=Et*At,Bt=Et*Ct;return this.set(Rt*At+vt,Rt*Ct-St*Tt,Rt*Tt+St*Ct,0,Rt*Ct+St*Tt,Bt*Ct+vt,Bt*Tt-St*At,0,Rt*Tt-St*Ct,Bt*Tt+St*At,Et*Tt*Tt+vt,0,0,0,0,1),this}makeScale(lt,dt,vt){return this.set(lt,0,0,0,0,dt,0,0,0,0,vt,0,0,0,0,1),this}makeShear(lt,dt,vt,St,Et,At){return this.set(1,vt,Et,0,lt,1,At,0,dt,St,1,0,0,0,0,1),this}compose(lt,dt,vt){const St=this.elements,Et=dt._x,At=dt._y,Ct=dt._z,Tt=dt._w,Rt=Et+Et,Bt=At+At,Dt=Ct+Ct,Ft=Et*Rt,kt=Et*Bt,Ut=Et*Dt,Kt=At*Bt,tr=At*Dt,Wt=Ct*Dt,Zt=Tt*Rt,Ht=Tt*Bt,nr=Tt*Dt,sr=vt.x,ar=vt.y,ir=vt.z;return St[0]=(1-(Kt+Wt))*sr,St[1]=(kt+nr)*sr,St[2]=(Ut-Ht)*sr,St[3]=0,St[4]=(kt-nr)*ar,St[5]=(1-(Ft+Wt))*ar,St[6]=(tr+Zt)*ar,St[7]=0,St[8]=(Ut+Ht)*ir,St[9]=(tr-Zt)*ir,St[10]=(1-(Ft+Kt))*ir,St[11]=0,St[12]=lt.x,St[13]=lt.y,St[14]=lt.z,St[15]=1,this}decompose(lt,dt,vt){const St=this.elements;let Et=_v1$5.set(St[0],St[1],St[2]).length();const At=_v1$5.set(St[4],St[5],St[6]).length(),Ct=_v1$5.set(St[8],St[9],St[10]).length();this.determinant()<0&&(Et=-Et),lt.x=St[12],lt.y=St[13],lt.z=St[14],_m1$2.copy(this);const Rt=1/Et,Bt=1/At,Dt=1/Ct;return _m1$2.elements[0]*=Rt,_m1$2.elements[1]*=Rt,_m1$2.elements[2]*=Rt,_m1$2.elements[4]*=Bt,_m1$2.elements[5]*=Bt,_m1$2.elements[6]*=Bt,_m1$2.elements[8]*=Dt,_m1$2.elements[9]*=Dt,_m1$2.elements[10]*=Dt,dt.setFromRotationMatrix(_m1$2),vt.x=Et,vt.y=At,vt.z=Ct,this}makePerspective(lt,dt,vt,St,Et,At){const Ct=this.elements,Tt=2*Et/(dt-lt),Rt=2*Et/(vt-St),Bt=(dt+lt)/(dt-lt),Dt=(vt+St)/(vt-St),Ft=-(At+Et)/(At-Et),kt=-2*At*Et/(At-Et);return Ct[0]=Tt,Ct[4]=0,Ct[8]=Bt,Ct[12]=0,Ct[1]=0,Ct[5]=Rt,Ct[9]=Dt,Ct[13]=0,Ct[2]=0,Ct[6]=0,Ct[10]=Ft,Ct[14]=kt,Ct[3]=0,Ct[7]=0,Ct[11]=-1,Ct[15]=0,this}makeOrthographic(lt,dt,vt,St,Et,At){const Ct=this.elements,Tt=1/(dt-lt),Rt=1/(vt-St),Bt=1/(At-Et),Dt=(dt+lt)*Tt,Ft=(vt+St)*Rt,kt=(At+Et)*Bt;return Ct[0]=2*Tt,Ct[4]=0,Ct[8]=0,Ct[12]=-Dt,Ct[1]=0,Ct[5]=2*Rt,Ct[9]=0,Ct[13]=-Ft,Ct[2]=0,Ct[6]=0,Ct[10]=-2*Bt,Ct[14]=-kt,Ct[3]=0,Ct[7]=0,Ct[11]=0,Ct[15]=1,this}equals(lt){const dt=this.elements,vt=lt.elements;for(let St=0;St<16;St++)if(dt[St]!==vt[St])return!1;return!0}fromArray(lt,dt=0){for(let vt=0;vt<16;vt++)this.elements[vt]=lt[vt+dt];return this}toArray(lt=[],dt=0){const vt=this.elements;return lt[dt]=vt[0],lt[dt+1]=vt[1],lt[dt+2]=vt[2],lt[dt+3]=vt[3],lt[dt+4]=vt[4],lt[dt+5]=vt[5],lt[dt+6]=vt[6],lt[dt+7]=vt[7],lt[dt+8]=vt[8],lt[dt+9]=vt[9],lt[dt+10]=vt[10],lt[dt+11]=vt[11],lt[dt+12]=vt[12],lt[dt+13]=vt[13],lt[dt+14]=vt[14],lt[dt+15]=vt[15],lt}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(lt=0,dt=0,vt=0,St=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=lt,this._y=dt,this._z=vt,this._order=St}get x(){return this._x}set x(lt){this._x=lt,this._onChangeCallback()}get y(){return this._y}set y(lt){this._y=lt,this._onChangeCallback()}get z(){return this._z}set z(lt){this._z=lt,this._onChangeCallback()}get order(){return this._order}set order(lt){this._order=lt,this._onChangeCallback()}set(lt,dt,vt,St=this._order){return this._x=lt,this._y=dt,this._z=vt,this._order=St,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(lt){return this._x=lt._x,this._y=lt._y,this._z=lt._z,this._order=lt._order,this._onChangeCallback(),this}setFromRotationMatrix(lt,dt=this._order,vt=!0){const St=lt.elements,Et=St[0],At=St[4],Ct=St[8],Tt=St[1],Rt=St[5],Bt=St[9],Dt=St[2],Ft=St[6],kt=St[10];switch(dt){case"XYZ":this._y=Math.asin(clamp(Ct,-1,1)),Math.abs(Ct)<.9999999?(this._x=Math.atan2(-Bt,kt),this._z=Math.atan2(-At,Et)):(this._x=Math.atan2(Ft,Rt),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(Bt,-1,1)),Math.abs(Bt)<.9999999?(this._y=Math.atan2(Ct,kt),this._z=Math.atan2(Tt,Rt)):(this._y=Math.atan2(-Dt,Et),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(Ft,-1,1)),Math.abs(Ft)<.9999999?(this._y=Math.atan2(-Dt,kt),this._z=Math.atan2(-At,Rt)):(this._y=0,this._z=Math.atan2(Tt,Et));break;case"ZYX":this._y=Math.asin(-clamp(Dt,-1,1)),Math.abs(Dt)<.9999999?(this._x=Math.atan2(Ft,kt),this._z=Math.atan2(Tt,Et)):(this._x=0,this._z=Math.atan2(-At,Rt));break;case"YZX":this._z=Math.asin(clamp(Tt,-1,1)),Math.abs(Tt)<.9999999?(this._x=Math.atan2(-Bt,Rt),this._y=Math.atan2(-Dt,Et)):(this._x=0,this._y=Math.atan2(Ct,kt));break;case"XZY":this._z=Math.asin(-clamp(At,-1,1)),Math.abs(At)<.9999999?(this._x=Math.atan2(Ft,Rt),this._y=Math.atan2(Ct,Et)):(this._x=Math.atan2(-Bt,kt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+dt)}return this._order=dt,vt===!0&&this._onChangeCallback(),this}setFromQuaternion(lt,dt,vt){return _matrix$1.makeRotationFromQuaternion(lt),this.setFromRotationMatrix(_matrix$1,dt,vt)}setFromVector3(lt,dt=this._order){return this.set(lt.x,lt.y,lt.z,dt)}reorder(lt){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,lt)}equals(lt){return lt._x===this._x&&lt._y===this._y&&lt._z===this._z&&lt._order===this._order}fromArray(lt){return this._x=lt[0],this._y=lt[1],this._z=lt[2],lt[3]!==void 0&&(this._order=lt[3]),this._onChangeCallback(),this}toArray(lt=[],dt=0){return lt[dt]=this._x,lt[dt+1]=this._y,lt[dt+2]=this._z,lt[dt+3]=this._order,lt}_onChange(lt){return this._onChangeCallback=lt,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(lt){this.mask=(1<<lt|0)>>>0}enable(lt){this.mask|=1<<lt|0}enableAll(){this.mask=-1}toggle(lt){this.mask^=1<<lt|0}disable(lt){this.mask&=~(1<<lt|0)}disableAll(){this.mask=0}test(lt){return(this.mask&lt.mask)!==0}isEnabled(lt){return(this.mask&(1<<lt|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const lt=new Vector3,dt=new Euler,vt=new Quaternion,St=new Vector3(1,1,1);function Et(){vt.setFromEuler(dt,!1)}function At(){dt.setFromQuaternion(vt,void 0,!1)}dt._onChange(Et),vt._onChange(At),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:lt},rotation:{configurable:!0,enumerable:!0,value:dt},quaternion:{configurable:!0,enumerable:!0,value:vt},scale:{configurable:!0,enumerable:!0,value:St},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(lt){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(lt),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(lt){return this.quaternion.premultiply(lt),this}setRotationFromAxisAngle(lt,dt){this.quaternion.setFromAxisAngle(lt,dt)}setRotationFromEuler(lt){this.quaternion.setFromEuler(lt,!0)}setRotationFromMatrix(lt){this.quaternion.setFromRotationMatrix(lt)}setRotationFromQuaternion(lt){this.quaternion.copy(lt)}rotateOnAxis(lt,dt){return _q1.setFromAxisAngle(lt,dt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(lt,dt){return _q1.setFromAxisAngle(lt,dt),this.quaternion.premultiply(_q1),this}rotateX(lt){return this.rotateOnAxis(_xAxis,lt)}rotateY(lt){return this.rotateOnAxis(_yAxis,lt)}rotateZ(lt){return this.rotateOnAxis(_zAxis,lt)}translateOnAxis(lt,dt){return _v1$4.copy(lt).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(dt)),this}translateX(lt){return this.translateOnAxis(_xAxis,lt)}translateY(lt){return this.translateOnAxis(_yAxis,lt)}translateZ(lt){return this.translateOnAxis(_zAxis,lt)}localToWorld(lt){return this.updateWorldMatrix(!0,!1),lt.applyMatrix4(this.matrixWorld)}worldToLocal(lt){return this.updateWorldMatrix(!0,!1),lt.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(lt,dt,vt){lt.isVector3?_target.copy(lt):_target.set(lt,dt,vt);const St=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),St&&(_m1$1.extractRotation(St.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(lt){if(arguments.length>1){for(let dt=0;dt<arguments.length;dt++)this.add(arguments[dt]);return this}return lt===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",lt),this):(lt&&lt.isObject3D?(lt.parent!==null&&lt.parent.remove(lt),lt.parent=this,this.children.push(lt),lt.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",lt),this)}remove(lt){if(arguments.length>1){for(let vt=0;vt<arguments.length;vt++)this.remove(arguments[vt]);return this}const dt=this.children.indexOf(lt);return dt!==-1&&(lt.parent=null,this.children.splice(dt,1),lt.dispatchEvent(_removedEvent)),this}removeFromParent(){const lt=this.parent;return lt!==null&&lt.remove(this),this}clear(){for(let lt=0;lt<this.children.length;lt++){const dt=this.children[lt];dt.parent=null,dt.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(lt){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),lt.parent!==null&&(lt.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(lt.parent.matrixWorld)),lt.applyMatrix4(_m1$1),this.add(lt),lt.updateWorldMatrix(!1,!0),this}getObjectById(lt){return this.getObjectByProperty("id",lt)}getObjectByName(lt){return this.getObjectByProperty("name",lt)}getObjectByProperty(lt,dt){if(this[lt]===dt)return this;for(let vt=0,St=this.children.length;vt<St;vt++){const At=this.children[vt].getObjectByProperty(lt,dt);if(At!==void 0)return At}}getObjectsByProperty(lt,dt){let vt=[];this[lt]===dt&&vt.push(this);for(let St=0,Et=this.children.length;St<Et;St++){const At=this.children[St].getObjectsByProperty(lt,dt);At.length>0&&(vt=vt.concat(At))}return vt}getWorldPosition(lt){return this.updateWorldMatrix(!0,!1),lt.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(lt){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,lt,_scale$2),lt}getWorldScale(lt){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,lt),lt}getWorldDirection(lt){this.updateWorldMatrix(!0,!1);const dt=this.matrixWorld.elements;return lt.set(dt[8],dt[9],dt[10]).normalize()}raycast(){}traverse(lt){lt(this);const dt=this.children;for(let vt=0,St=dt.length;vt<St;vt++)dt[vt].traverse(lt)}traverseVisible(lt){if(this.visible===!1)return;lt(this);const dt=this.children;for(let vt=0,St=dt.length;vt<St;vt++)dt[vt].traverseVisible(lt)}traverseAncestors(lt){const dt=this.parent;dt!==null&&(lt(dt),dt.traverseAncestors(lt))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(lt){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||lt)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,lt=!0);const dt=this.children;for(let vt=0,St=dt.length;vt<St;vt++){const Et=dt[vt];(Et.matrixWorldAutoUpdate===!0||lt===!0)&&Et.updateMatrixWorld(lt)}}updateWorldMatrix(lt,dt){const vt=this.parent;if(lt===!0&&vt!==null&&vt.matrixWorldAutoUpdate===!0&&vt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),dt===!0){const St=this.children;for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et];Ct.matrixWorldAutoUpdate===!0&&Ct.updateWorldMatrix(!1,!0)}}}toJSON(lt){const dt=lt===void 0||typeof lt=="string",vt={};dt&&(lt={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},vt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const St={};St.uuid=this.uuid,St.type=this.type,this.name!==""&&(St.name=this.name),this.castShadow===!0&&(St.castShadow=!0),this.receiveShadow===!0&&(St.receiveShadow=!0),this.visible===!1&&(St.visible=!1),this.frustumCulled===!1&&(St.frustumCulled=!1),this.renderOrder!==0&&(St.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(St.userData=this.userData),St.layers=this.layers.mask,St.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(St.matrixAutoUpdate=!1),this.isInstancedMesh&&(St.type="InstancedMesh",St.count=this.count,St.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(St.instanceColor=this.instanceColor.toJSON()));function Et(Ct,Tt){return Ct[Tt.uuid]===void 0&&(Ct[Tt.uuid]=Tt.toJSON(lt)),Tt.uuid}if(this.isScene)this.background&&(this.background.isColor?St.background=this.background.toJSON():this.background.isTexture&&(St.background=this.background.toJSON(lt).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(St.environment=this.environment.toJSON(lt).uuid);else if(this.isMesh||this.isLine||this.isPoints){St.geometry=Et(lt.geometries,this.geometry);const Ct=this.geometry.parameters;if(Ct!==void 0&&Ct.shapes!==void 0){const Tt=Ct.shapes;if(Array.isArray(Tt))for(let Rt=0,Bt=Tt.length;Rt<Bt;Rt++){const Dt=Tt[Rt];Et(lt.shapes,Dt)}else Et(lt.shapes,Tt)}}if(this.isSkinnedMesh&&(St.bindMode=this.bindMode,St.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(Et(lt.skeletons,this.skeleton),St.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const Ct=[];for(let Tt=0,Rt=this.material.length;Tt<Rt;Tt++)Ct.push(Et(lt.materials,this.material[Tt]));St.material=Ct}else St.material=Et(lt.materials,this.material);if(this.children.length>0){St.children=[];for(let Ct=0;Ct<this.children.length;Ct++)St.children.push(this.children[Ct].toJSON(lt).object)}if(this.animations.length>0){St.animations=[];for(let Ct=0;Ct<this.animations.length;Ct++){const Tt=this.animations[Ct];St.animations.push(Et(lt.animations,Tt))}}if(dt){const Ct=At(lt.geometries),Tt=At(lt.materials),Rt=At(lt.textures),Bt=At(lt.images),Dt=At(lt.shapes),Ft=At(lt.skeletons),kt=At(lt.animations),Ut=At(lt.nodes);Ct.length>0&&(vt.geometries=Ct),Tt.length>0&&(vt.materials=Tt),Rt.length>0&&(vt.textures=Rt),Bt.length>0&&(vt.images=Bt),Dt.length>0&&(vt.shapes=Dt),Ft.length>0&&(vt.skeletons=Ft),kt.length>0&&(vt.animations=kt),Ut.length>0&&(vt.nodes=Ut)}return vt.object=St,vt;function At(Ct){const Tt=[];for(const Rt in Ct){const Bt=Ct[Rt];delete Bt.metadata,Tt.push(Bt)}return Tt}}clone(lt){return new this.constructor().copy(this,lt)}copy(lt,dt=!0){if(this.name=lt.name,this.up.copy(lt.up),this.position.copy(lt.position),this.rotation.order=lt.rotation.order,this.quaternion.copy(lt.quaternion),this.scale.copy(lt.scale),this.matrix.copy(lt.matrix),this.matrixWorld.copy(lt.matrixWorld),this.matrixAutoUpdate=lt.matrixAutoUpdate,this.matrixWorldNeedsUpdate=lt.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=lt.matrixWorldAutoUpdate,this.layers.mask=lt.layers.mask,this.visible=lt.visible,this.castShadow=lt.castShadow,this.receiveShadow=lt.receiveShadow,this.frustumCulled=lt.frustumCulled,this.renderOrder=lt.renderOrder,this.userData=JSON.parse(JSON.stringify(lt.userData)),dt===!0)for(let vt=0;vt<lt.children.length;vt++){const St=lt.children[vt];this.add(St.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(lt=new Vector3,dt=new Vector3,vt=new Vector3){this.a=lt,this.b=dt,this.c=vt}static getNormal(lt,dt,vt,St){St.subVectors(vt,dt),_v0$1.subVectors(lt,dt),St.cross(_v0$1);const Et=St.lengthSq();return Et>0?St.multiplyScalar(1/Math.sqrt(Et)):St.set(0,0,0)}static getBarycoord(lt,dt,vt,St,Et){_v0$1.subVectors(St,dt),_v1$3.subVectors(vt,dt),_v2$2.subVectors(lt,dt);const At=_v0$1.dot(_v0$1),Ct=_v0$1.dot(_v1$3),Tt=_v0$1.dot(_v2$2),Rt=_v1$3.dot(_v1$3),Bt=_v1$3.dot(_v2$2),Dt=At*Rt-Ct*Ct;if(Dt===0)return Et.set(-2,-1,-1);const Ft=1/Dt,kt=(Rt*Tt-Ct*Bt)*Ft,Ut=(At*Bt-Ct*Tt)*Ft;return Et.set(1-kt-Ut,Ut,kt)}static containsPoint(lt,dt,vt,St){return this.getBarycoord(lt,dt,vt,St,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(lt,dt,vt,St,Et,At,Ct,Tt){return this.getBarycoord(lt,dt,vt,St,_v3$1),Tt.set(0,0),Tt.addScaledVector(Et,_v3$1.x),Tt.addScaledVector(At,_v3$1.y),Tt.addScaledVector(Ct,_v3$1.z),Tt}static isFrontFacing(lt,dt,vt,St){return _v0$1.subVectors(vt,dt),_v1$3.subVectors(lt,dt),_v0$1.cross(_v1$3).dot(St)<0}set(lt,dt,vt){return this.a.copy(lt),this.b.copy(dt),this.c.copy(vt),this}setFromPointsAndIndices(lt,dt,vt,St){return this.a.copy(lt[dt]),this.b.copy(lt[vt]),this.c.copy(lt[St]),this}setFromAttributeAndIndices(lt,dt,vt,St){return this.a.fromBufferAttribute(lt,dt),this.b.fromBufferAttribute(lt,vt),this.c.fromBufferAttribute(lt,St),this}clone(){return new this.constructor().copy(this)}copy(lt){return this.a.copy(lt.a),this.b.copy(lt.b),this.c.copy(lt.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(lt){return lt.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(lt){return Triangle.getNormal(this.a,this.b,this.c,lt)}getPlane(lt){return lt.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(lt,dt){return Triangle.getBarycoord(lt,this.a,this.b,this.c,dt)}getUV(lt,dt,vt,St,Et){return Triangle.getUV(lt,this.a,this.b,this.c,dt,vt,St,Et)}containsPoint(lt){return Triangle.containsPoint(lt,this.a,this.b,this.c)}isFrontFacing(lt){return Triangle.isFrontFacing(this.a,this.b,this.c,lt)}intersectsBox(lt){return lt.intersectsTriangle(this)}closestPointToPoint(lt,dt){const vt=this.a,St=this.b,Et=this.c;let At,Ct;_vab.subVectors(St,vt),_vac.subVectors(Et,vt),_vap.subVectors(lt,vt);const Tt=_vab.dot(_vap),Rt=_vac.dot(_vap);if(Tt<=0&&Rt<=0)return dt.copy(vt);_vbp.subVectors(lt,St);const Bt=_vab.dot(_vbp),Dt=_vac.dot(_vbp);if(Bt>=0&&Dt<=Bt)return dt.copy(St);const Ft=Tt*Dt-Bt*Rt;if(Ft<=0&&Tt>=0&&Bt<=0)return At=Tt/(Tt-Bt),dt.copy(vt).addScaledVector(_vab,At);_vcp.subVectors(lt,Et);const kt=_vab.dot(_vcp),Ut=_vac.dot(_vcp);if(Ut>=0&&kt<=Ut)return dt.copy(Et);const Kt=kt*Rt-Tt*Ut;if(Kt<=0&&Rt>=0&&Ut<=0)return Ct=Rt/(Rt-Ut),dt.copy(vt).addScaledVector(_vac,Ct);const tr=Bt*Ut-kt*Dt;if(tr<=0&&Dt-Bt>=0&&kt-Ut>=0)return _vbc.subVectors(Et,St),Ct=(Dt-Bt)/(Dt-Bt+(kt-Ut)),dt.copy(St).addScaledVector(_vbc,Ct);const Wt=1/(tr+Kt+Ft);return At=Kt*Wt,Ct=Ft*Wt,dt.copy(vt).addScaledVector(_vab,At).addScaledVector(_vac,Ct)}equals(lt){return lt.a.equals(this.a)&&lt.b.equals(this.b)&&lt.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(lt){this._alphaTest>0!=lt>0&&this.version++,this._alphaTest=lt}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(lt){if(lt!==void 0)for(const dt in lt){const vt=lt[dt];if(vt===void 0){console.warn("THREE.Material: '"+dt+"' parameter is undefined.");continue}const St=this[dt];if(St===void 0){console.warn("THREE."+this.type+": '"+dt+"' is not a property of this material.");continue}St&&St.isColor?St.set(vt):St&&St.isVector3&&vt&&vt.isVector3?St.copy(vt):this[dt]=vt}}toJSON(lt){const dt=lt===void 0||typeof lt=="string";dt&&(lt={textures:{},images:{}});const vt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};vt.uuid=this.uuid,vt.type=this.type,this.name!==""&&(vt.name=this.name),this.color&&this.color.isColor&&(vt.color=this.color.getHex()),this.roughness!==void 0&&(vt.roughness=this.roughness),this.metalness!==void 0&&(vt.metalness=this.metalness),this.sheen!==void 0&&(vt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(vt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(vt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(vt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(vt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(vt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(vt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(vt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(vt.shininess=this.shininess),this.clearcoat!==void 0&&(vt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(vt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(vt.clearcoatMap=this.clearcoatMap.toJSON(lt).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(vt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(lt).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(vt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(lt).uuid,vt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(vt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(vt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(vt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(vt.iridescenceMap=this.iridescenceMap.toJSON(lt).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(vt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(lt).uuid),this.map&&this.map.isTexture&&(vt.map=this.map.toJSON(lt).uuid),this.matcap&&this.matcap.isTexture&&(vt.matcap=this.matcap.toJSON(lt).uuid),this.alphaMap&&this.alphaMap.isTexture&&(vt.alphaMap=this.alphaMap.toJSON(lt).uuid),this.lightMap&&this.lightMap.isTexture&&(vt.lightMap=this.lightMap.toJSON(lt).uuid,vt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(vt.aoMap=this.aoMap.toJSON(lt).uuid,vt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(vt.bumpMap=this.bumpMap.toJSON(lt).uuid,vt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(vt.normalMap=this.normalMap.toJSON(lt).uuid,vt.normalMapType=this.normalMapType,vt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(vt.displacementMap=this.displacementMap.toJSON(lt).uuid,vt.displacementScale=this.displacementScale,vt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(vt.roughnessMap=this.roughnessMap.toJSON(lt).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(vt.metalnessMap=this.metalnessMap.toJSON(lt).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(vt.emissiveMap=this.emissiveMap.toJSON(lt).uuid),this.specularMap&&this.specularMap.isTexture&&(vt.specularMap=this.specularMap.toJSON(lt).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(vt.specularIntensityMap=this.specularIntensityMap.toJSON(lt).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(vt.specularColorMap=this.specularColorMap.toJSON(lt).uuid),this.envMap&&this.envMap.isTexture&&(vt.envMap=this.envMap.toJSON(lt).uuid,this.combine!==void 0&&(vt.combine=this.combine)),this.envMapIntensity!==void 0&&(vt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(vt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(vt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(vt.gradientMap=this.gradientMap.toJSON(lt).uuid),this.transmission!==void 0&&(vt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(vt.transmissionMap=this.transmissionMap.toJSON(lt).uuid),this.thickness!==void 0&&(vt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(vt.thicknessMap=this.thicknessMap.toJSON(lt).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(vt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(vt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(vt.size=this.size),this.shadowSide!==null&&(vt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(vt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(vt.blending=this.blending),this.side!==FrontSide&&(vt.side=this.side),this.vertexColors&&(vt.vertexColors=!0),this.opacity<1&&(vt.opacity=this.opacity),this.transparent===!0&&(vt.transparent=this.transparent),vt.depthFunc=this.depthFunc,vt.depthTest=this.depthTest,vt.depthWrite=this.depthWrite,vt.colorWrite=this.colorWrite,vt.stencilWrite=this.stencilWrite,vt.stencilWriteMask=this.stencilWriteMask,vt.stencilFunc=this.stencilFunc,vt.stencilRef=this.stencilRef,vt.stencilFuncMask=this.stencilFuncMask,vt.stencilFail=this.stencilFail,vt.stencilZFail=this.stencilZFail,vt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(vt.rotation=this.rotation),this.polygonOffset===!0&&(vt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(vt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(vt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(vt.linewidth=this.linewidth),this.dashSize!==void 0&&(vt.dashSize=this.dashSize),this.gapSize!==void 0&&(vt.gapSize=this.gapSize),this.scale!==void 0&&(vt.scale=this.scale),this.dithering===!0&&(vt.dithering=!0),this.alphaTest>0&&(vt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(vt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(vt.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(vt.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(vt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(vt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(vt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(vt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(vt.flatShading=this.flatShading),this.visible===!1&&(vt.visible=!1),this.toneMapped===!1&&(vt.toneMapped=!1),this.fog===!1&&(vt.fog=!1),Object.keys(this.userData).length>0&&(vt.userData=this.userData);function St(Et){const At=[];for(const Ct in Et){const Tt=Et[Ct];delete Tt.metadata,At.push(Tt)}return At}if(dt){const Et=St(lt.textures),At=St(lt.images);Et.length>0&&(vt.textures=Et),At.length>0&&(vt.images=At)}return vt}clone(){return new this.constructor().copy(this)}copy(lt){this.name=lt.name,this.blending=lt.blending,this.side=lt.side,this.vertexColors=lt.vertexColors,this.opacity=lt.opacity,this.transparent=lt.transparent,this.blendSrc=lt.blendSrc,this.blendDst=lt.blendDst,this.blendEquation=lt.blendEquation,this.blendSrcAlpha=lt.blendSrcAlpha,this.blendDstAlpha=lt.blendDstAlpha,this.blendEquationAlpha=lt.blendEquationAlpha,this.depthFunc=lt.depthFunc,this.depthTest=lt.depthTest,this.depthWrite=lt.depthWrite,this.stencilWriteMask=lt.stencilWriteMask,this.stencilFunc=lt.stencilFunc,this.stencilRef=lt.stencilRef,this.stencilFuncMask=lt.stencilFuncMask,this.stencilFail=lt.stencilFail,this.stencilZFail=lt.stencilZFail,this.stencilZPass=lt.stencilZPass,this.stencilWrite=lt.stencilWrite;const dt=lt.clippingPlanes;let vt=null;if(dt!==null){const St=dt.length;vt=new Array(St);for(let Et=0;Et!==St;++Et)vt[Et]=dt[Et].clone()}return this.clippingPlanes=vt,this.clipIntersection=lt.clipIntersection,this.clipShadows=lt.clipShadows,this.shadowSide=lt.shadowSide,this.colorWrite=lt.colorWrite,this.precision=lt.precision,this.polygonOffset=lt.polygonOffset,this.polygonOffsetFactor=lt.polygonOffsetFactor,this.polygonOffsetUnits=lt.polygonOffsetUnits,this.dithering=lt.dithering,this.alphaTest=lt.alphaTest,this.alphaToCoverage=lt.alphaToCoverage,this.premultipliedAlpha=lt.premultipliedAlpha,this.forceSinglePass=lt.forceSinglePass,this.visible=lt.visible,this.toneMapped=lt.toneMapped,this.userData=JSON.parse(JSON.stringify(lt.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(lt){lt===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(lt){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.fog=lt.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(lt,dt,vt=!1){if(Array.isArray(lt))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=lt,this.itemSize=dt,this.count=lt!==void 0?lt.length/dt:0,this.normalized=vt,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(lt){lt===!0&&this.version++}setUsage(lt){return this.usage=lt,this}copy(lt){return this.name=lt.name,this.array=new lt.array.constructor(lt.array),this.itemSize=lt.itemSize,this.count=lt.count,this.normalized=lt.normalized,this.usage=lt.usage,this}copyAt(lt,dt,vt){lt*=this.itemSize,vt*=dt.itemSize;for(let St=0,Et=this.itemSize;St<Et;St++)this.array[lt+St]=dt.array[vt+St];return this}copyArray(lt){return this.array.set(lt),this}applyMatrix3(lt){if(this.itemSize===2)for(let dt=0,vt=this.count;dt<vt;dt++)_vector2$1.fromBufferAttribute(this,dt),_vector2$1.applyMatrix3(lt),this.setXY(dt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let dt=0,vt=this.count;dt<vt;dt++)_vector$9.fromBufferAttribute(this,dt),_vector$9.applyMatrix3(lt),this.setXYZ(dt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(lt){for(let dt=0,vt=this.count;dt<vt;dt++)_vector$9.fromBufferAttribute(this,dt),_vector$9.applyMatrix4(lt),this.setXYZ(dt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(lt){for(let dt=0,vt=this.count;dt<vt;dt++)_vector$9.fromBufferAttribute(this,dt),_vector$9.applyNormalMatrix(lt),this.setXYZ(dt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(lt){for(let dt=0,vt=this.count;dt<vt;dt++)_vector$9.fromBufferAttribute(this,dt),_vector$9.transformDirection(lt),this.setXYZ(dt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(lt,dt=0){return this.array.set(lt,dt),this}getX(lt){let dt=this.array[lt*this.itemSize];return this.normalized&&(dt=denormalize(dt,this.array)),dt}setX(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.array[lt*this.itemSize]=dt,this}getY(lt){let dt=this.array[lt*this.itemSize+1];return this.normalized&&(dt=denormalize(dt,this.array)),dt}setY(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.array[lt*this.itemSize+1]=dt,this}getZ(lt){let dt=this.array[lt*this.itemSize+2];return this.normalized&&(dt=denormalize(dt,this.array)),dt}setZ(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.array[lt*this.itemSize+2]=dt,this}getW(lt){let dt=this.array[lt*this.itemSize+3];return this.normalized&&(dt=denormalize(dt,this.array)),dt}setW(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.array[lt*this.itemSize+3]=dt,this}setXY(lt,dt,vt){return lt*=this.itemSize,this.normalized&&(dt=normalize(dt,this.array),vt=normalize(vt,this.array)),this.array[lt+0]=dt,this.array[lt+1]=vt,this}setXYZ(lt,dt,vt,St){return lt*=this.itemSize,this.normalized&&(dt=normalize(dt,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array)),this.array[lt+0]=dt,this.array[lt+1]=vt,this.array[lt+2]=St,this}setXYZW(lt,dt,vt,St,Et){return lt*=this.itemSize,this.normalized&&(dt=normalize(dt,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array),Et=normalize(Et,this.array)),this.array[lt+0]=dt,this.array[lt+1]=vt,this.array[lt+2]=St,this.array[lt+3]=Et,this}onUpload(lt){return this.onUploadCallback=lt,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const lt={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(lt.name=this.name),this.usage!==StaticDrawUsage&&(lt.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(lt.updateRange=this.updateRange),lt}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Int8Array(lt),dt,vt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Uint8Array(lt),dt,vt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Uint8ClampedArray(lt),dt,vt)}}class Int16BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Int16Array(lt),dt,vt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Uint16Array(lt),dt,vt)}}class Int32BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Int32Array(lt),dt,vt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Uint32Array(lt),dt,vt)}}class Float16BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Uint16Array(lt),dt,vt),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Float32Array(lt),dt,vt)}}class Float64BufferAttribute extends BufferAttribute{constructor(lt,dt,vt){super(new Float64Array(lt),dt,vt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(lt){return Array.isArray(lt)?this.index=new(arrayNeedsUint32(lt)?Uint32BufferAttribute:Uint16BufferAttribute)(lt,1):this.index=lt,this}getAttribute(lt){return this.attributes[lt]}setAttribute(lt,dt){return this.attributes[lt]=dt,this}deleteAttribute(lt){return delete this.attributes[lt],this}hasAttribute(lt){return this.attributes[lt]!==void 0}addGroup(lt,dt,vt=0){this.groups.push({start:lt,count:dt,materialIndex:vt})}clearGroups(){this.groups=[]}setDrawRange(lt,dt){this.drawRange.start=lt,this.drawRange.count=dt}applyMatrix4(lt){const dt=this.attributes.position;dt!==void 0&&(dt.applyMatrix4(lt),dt.needsUpdate=!0);const vt=this.attributes.normal;if(vt!==void 0){const Et=new Matrix3().getNormalMatrix(lt);vt.applyNormalMatrix(Et),vt.needsUpdate=!0}const St=this.attributes.tangent;return St!==void 0&&(St.transformDirection(lt),St.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(lt){return _m1.makeRotationFromQuaternion(lt),this.applyMatrix4(_m1),this}rotateX(lt){return _m1.makeRotationX(lt),this.applyMatrix4(_m1),this}rotateY(lt){return _m1.makeRotationY(lt),this.applyMatrix4(_m1),this}rotateZ(lt){return _m1.makeRotationZ(lt),this.applyMatrix4(_m1),this}translate(lt,dt,vt){return _m1.makeTranslation(lt,dt,vt),this.applyMatrix4(_m1),this}scale(lt,dt,vt){return _m1.makeScale(lt,dt,vt),this.applyMatrix4(_m1),this}lookAt(lt){return _obj.lookAt(lt),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(lt){const dt=[];for(let vt=0,St=lt.length;vt<St;vt++){const Et=lt[vt];dt.push(Et.x,Et.y,Et.z||0)}return this.setAttribute("position",new Float32BufferAttribute(dt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const lt=this.attributes.position,dt=this.morphAttributes.position;if(lt&&lt.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(lt!==void 0){if(this.boundingBox.setFromBufferAttribute(lt),dt)for(let vt=0,St=dt.length;vt<St;vt++){const Et=dt[vt];_box$1$1.setFromBufferAttribute(Et),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1$1.min),this.boundingBox.expandByPoint(_box$1$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const lt=this.attributes.position,dt=this.morphAttributes.position;if(lt&&lt.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(lt){const vt=this.boundingSphere.center;if(_box$1$1.setFromBufferAttribute(lt),dt)for(let Et=0,At=dt.length;Et<At;Et++){const Ct=dt[Et];_boxMorphTargets.setFromBufferAttribute(Ct),this.morphTargetsRelative?(_vector$8.addVectors(_box$1$1.min,_boxMorphTargets.min),_box$1$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1$1.max,_boxMorphTargets.max),_box$1$1.expandByPoint(_vector$8)):(_box$1$1.expandByPoint(_boxMorphTargets.min),_box$1$1.expandByPoint(_boxMorphTargets.max))}_box$1$1.getCenter(vt);let St=0;for(let Et=0,At=lt.count;Et<At;Et++)_vector$8.fromBufferAttribute(lt,Et),St=Math.max(St,vt.distanceToSquared(_vector$8));if(dt)for(let Et=0,At=dt.length;Et<At;Et++){const Ct=dt[Et],Tt=this.morphTargetsRelative;for(let Rt=0,Bt=Ct.count;Rt<Bt;Rt++)_vector$8.fromBufferAttribute(Ct,Rt),Tt&&(_offset.fromBufferAttribute(lt,Rt),_vector$8.add(_offset)),St=Math.max(St,vt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(St),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const lt=this.index,dt=this.attributes;if(lt===null||dt.position===void 0||dt.normal===void 0||dt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const vt=lt.array,St=dt.position.array,Et=dt.normal.array,At=dt.uv.array,Ct=St.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*Ct),4));const Tt=this.getAttribute("tangent").array,Rt=[],Bt=[];for(let ur=0;ur<Ct;ur++)Rt[ur]=new Vector3,Bt[ur]=new Vector3;const Dt=new Vector3,Ft=new Vector3,kt=new Vector3,Ut=new Vector2,Kt=new Vector2,tr=new Vector2,Wt=new Vector3,Zt=new Vector3;function Ht(ur,dr,mr){Dt.fromArray(St,ur*3),Ft.fromArray(St,dr*3),kt.fromArray(St,mr*3),Ut.fromArray(At,ur*2),Kt.fromArray(At,dr*2),tr.fromArray(At,mr*2),Ft.sub(Dt),kt.sub(Dt),Kt.sub(Ut),tr.sub(Ut);const Cr=1/(Kt.x*tr.y-tr.x*Kt.y);isFinite(Cr)&&(Wt.copy(Ft).multiplyScalar(tr.y).addScaledVector(kt,-Kt.y).multiplyScalar(Cr),Zt.copy(kt).multiplyScalar(Kt.x).addScaledVector(Ft,-tr.x).multiplyScalar(Cr),Rt[ur].add(Wt),Rt[dr].add(Wt),Rt[mr].add(Wt),Bt[ur].add(Zt),Bt[dr].add(Zt),Bt[mr].add(Zt))}let nr=this.groups;nr.length===0&&(nr=[{start:0,count:vt.length}]);for(let ur=0,dr=nr.length;ur<dr;++ur){const mr=nr[ur],Cr=mr.start,yr=mr.count;for(let xr=Cr,Sr=Cr+yr;xr<Sr;xr+=3)Ht(vt[xr+0],vt[xr+1],vt[xr+2])}const sr=new Vector3,ar=new Vector3,ir=new Vector3,rr=new Vector3;function lr(ur){ir.fromArray(Et,ur*3),rr.copy(ir);const dr=Rt[ur];sr.copy(dr),sr.sub(ir.multiplyScalar(ir.dot(dr))).normalize(),ar.crossVectors(rr,dr);const Cr=ar.dot(Bt[ur])<0?-1:1;Tt[ur*4]=sr.x,Tt[ur*4+1]=sr.y,Tt[ur*4+2]=sr.z,Tt[ur*4+3]=Cr}for(let ur=0,dr=nr.length;ur<dr;++ur){const mr=nr[ur],Cr=mr.start,yr=mr.count;for(let xr=Cr,Sr=Cr+yr;xr<Sr;xr+=3)lr(vt[xr+0]),lr(vt[xr+1]),lr(vt[xr+2])}}computeVertexNormals(){const lt=this.index,dt=this.getAttribute("position");if(dt!==void 0){let vt=this.getAttribute("normal");if(vt===void 0)vt=new BufferAttribute(new Float32Array(dt.count*3),3),this.setAttribute("normal",vt);else for(let Ft=0,kt=vt.count;Ft<kt;Ft++)vt.setXYZ(Ft,0,0,0);const St=new Vector3,Et=new Vector3,At=new Vector3,Ct=new Vector3,Tt=new Vector3,Rt=new Vector3,Bt=new Vector3,Dt=new Vector3;if(lt)for(let Ft=0,kt=lt.count;Ft<kt;Ft+=3){const Ut=lt.getX(Ft+0),Kt=lt.getX(Ft+1),tr=lt.getX(Ft+2);St.fromBufferAttribute(dt,Ut),Et.fromBufferAttribute(dt,Kt),At.fromBufferAttribute(dt,tr),Bt.subVectors(At,Et),Dt.subVectors(St,Et),Bt.cross(Dt),Ct.fromBufferAttribute(vt,Ut),Tt.fromBufferAttribute(vt,Kt),Rt.fromBufferAttribute(vt,tr),Ct.add(Bt),Tt.add(Bt),Rt.add(Bt),vt.setXYZ(Ut,Ct.x,Ct.y,Ct.z),vt.setXYZ(Kt,Tt.x,Tt.y,Tt.z),vt.setXYZ(tr,Rt.x,Rt.y,Rt.z)}else for(let Ft=0,kt=dt.count;Ft<kt;Ft+=3)St.fromBufferAttribute(dt,Ft+0),Et.fromBufferAttribute(dt,Ft+1),At.fromBufferAttribute(dt,Ft+2),Bt.subVectors(At,Et),Dt.subVectors(St,Et),Bt.cross(Dt),vt.setXYZ(Ft+0,Bt.x,Bt.y,Bt.z),vt.setXYZ(Ft+1,Bt.x,Bt.y,Bt.z),vt.setXYZ(Ft+2,Bt.x,Bt.y,Bt.z);this.normalizeNormals(),vt.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const lt=this.attributes.normal;for(let dt=0,vt=lt.count;dt<vt;dt++)_vector$8.fromBufferAttribute(lt,dt),_vector$8.normalize(),lt.setXYZ(dt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function lt(Ct,Tt){const Rt=Ct.array,Bt=Ct.itemSize,Dt=Ct.normalized,Ft=new Rt.constructor(Tt.length*Bt);let kt=0,Ut=0;for(let Kt=0,tr=Tt.length;Kt<tr;Kt++){Ct.isInterleavedBufferAttribute?kt=Tt[Kt]*Ct.data.stride+Ct.offset:kt=Tt[Kt]*Bt;for(let Wt=0;Wt<Bt;Wt++)Ft[Ut++]=Rt[kt++]}return new BufferAttribute(Ft,Bt,Dt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const dt=new BufferGeometry,vt=this.index.array,St=this.attributes;for(const Ct in St){const Tt=St[Ct],Rt=lt(Tt,vt);dt.setAttribute(Ct,Rt)}const Et=this.morphAttributes;for(const Ct in Et){const Tt=[],Rt=Et[Ct];for(let Bt=0,Dt=Rt.length;Bt<Dt;Bt++){const Ft=Rt[Bt],kt=lt(Ft,vt);Tt.push(kt)}dt.morphAttributes[Ct]=Tt}dt.morphTargetsRelative=this.morphTargetsRelative;const At=this.groups;for(let Ct=0,Tt=At.length;Ct<Tt;Ct++){const Rt=At[Ct];dt.addGroup(Rt.start,Rt.count,Rt.materialIndex)}return dt}toJSON(){const lt={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(lt.uuid=this.uuid,lt.type=this.type,this.name!==""&&(lt.name=this.name),Object.keys(this.userData).length>0&&(lt.userData=this.userData),this.parameters!==void 0){const Tt=this.parameters;for(const Rt in Tt)Tt[Rt]!==void 0&&(lt[Rt]=Tt[Rt]);return lt}lt.data={attributes:{}};const dt=this.index;dt!==null&&(lt.data.index={type:dt.array.constructor.name,array:Array.prototype.slice.call(dt.array)});const vt=this.attributes;for(const Tt in vt){const Rt=vt[Tt];lt.data.attributes[Tt]=Rt.toJSON(lt.data)}const St={};let Et=!1;for(const Tt in this.morphAttributes){const Rt=this.morphAttributes[Tt],Bt=[];for(let Dt=0,Ft=Rt.length;Dt<Ft;Dt++){const kt=Rt[Dt];Bt.push(kt.toJSON(lt.data))}Bt.length>0&&(St[Tt]=Bt,Et=!0)}Et&&(lt.data.morphAttributes=St,lt.data.morphTargetsRelative=this.morphTargetsRelative);const At=this.groups;At.length>0&&(lt.data.groups=JSON.parse(JSON.stringify(At)));const Ct=this.boundingSphere;return Ct!==null&&(lt.data.boundingSphere={center:Ct.center.toArray(),radius:Ct.radius}),lt}clone(){return new this.constructor().copy(this)}copy(lt){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const dt={};this.name=lt.name;const vt=lt.index;vt!==null&&this.setIndex(vt.clone(dt));const St=lt.attributes;for(const Rt in St){const Bt=St[Rt];this.setAttribute(Rt,Bt.clone(dt))}const Et=lt.morphAttributes;for(const Rt in Et){const Bt=[],Dt=Et[Rt];for(let Ft=0,kt=Dt.length;Ft<kt;Ft++)Bt.push(Dt[Ft].clone(dt));this.morphAttributes[Rt]=Bt}this.morphTargetsRelative=lt.morphTargetsRelative;const At=lt.groups;for(let Rt=0,Bt=At.length;Rt<Bt;Rt++){const Dt=At[Rt];this.addGroup(Dt.start,Dt.count,Dt.materialIndex)}const Ct=lt.boundingBox;Ct!==null&&(this.boundingBox=Ct.clone());const Tt=lt.boundingSphere;return Tt!==null&&(this.boundingSphere=Tt.clone()),this.drawRange.start=lt.drawRange.start,this.drawRange.count=lt.drawRange.count,this.userData=lt.userData,lt.parameters!==void 0&&(this.parameters=Object.assign({},lt.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere$1,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(lt=new BufferGeometry,dt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=lt,this.material=dt,this.updateMorphTargets()}copy(lt,dt){return super.copy(lt,dt),lt.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=lt.morphTargetInfluences.slice()),lt.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},lt.morphTargetDictionary)),this.material=lt.material,this.geometry=lt.geometry,this}updateMorphTargets(){const dt=this.geometry.morphAttributes,vt=Object.keys(dt);if(vt.length>0){const St=dt[vt[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et].name||String(Et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=Et}}}}getVertexPosition(lt,dt){const vt=this.geometry,St=vt.attributes.position,Et=vt.morphAttributes.position,At=vt.morphTargetsRelative;dt.fromBufferAttribute(St,lt);const Ct=this.morphTargetInfluences;if(Et&&Ct){_morphA.set(0,0,0);for(let Tt=0,Rt=Et.length;Tt<Rt;Tt++){const Bt=Ct[Tt],Dt=Et[Tt];Bt!==0&&(_tempA.fromBufferAttribute(Dt,lt),At?_morphA.addScaledVector(_tempA,Bt):_morphA.addScaledVector(_tempA.sub(dt),Bt))}dt.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform(lt,dt),dt}raycast(lt,dt){const vt=this.geometry,St=this.material,Et=this.matrixWorld;if(St===void 0||(vt.boundingSphere===null&&vt.computeBoundingSphere(),_sphere$3.copy(vt.boundingSphere),_sphere$3.applyMatrix4(Et),lt.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(Et).invert(),_ray$2.copy(lt.ray).applyMatrix4(_inverseMatrix$2),vt.boundingBox!==null&&_ray$2.intersectsBox(vt.boundingBox)===!1))return;let At;const Ct=vt.index,Tt=vt.attributes.position,Rt=vt.attributes.uv,Bt=vt.attributes.uv2,Dt=vt.groups,Ft=vt.drawRange;if(Ct!==null)if(Array.isArray(St))for(let kt=0,Ut=Dt.length;kt<Ut;kt++){const Kt=Dt[kt],tr=St[Kt.materialIndex],Wt=Math.max(Kt.start,Ft.start),Zt=Math.min(Ct.count,Math.min(Kt.start+Kt.count,Ft.start+Ft.count));for(let Ht=Wt,nr=Zt;Ht<nr;Ht+=3){const sr=Ct.getX(Ht),ar=Ct.getX(Ht+1),ir=Ct.getX(Ht+2);At=checkBufferGeometryIntersection(this,tr,lt,_ray$2,Rt,Bt,sr,ar,ir),At&&(At.faceIndex=Math.floor(Ht/3),At.face.materialIndex=Kt.materialIndex,dt.push(At))}}else{const kt=Math.max(0,Ft.start),Ut=Math.min(Ct.count,Ft.start+Ft.count);for(let Kt=kt,tr=Ut;Kt<tr;Kt+=3){const Wt=Ct.getX(Kt),Zt=Ct.getX(Kt+1),Ht=Ct.getX(Kt+2);At=checkBufferGeometryIntersection(this,St,lt,_ray$2,Rt,Bt,Wt,Zt,Ht),At&&(At.faceIndex=Math.floor(Kt/3),dt.push(At))}}else if(Tt!==void 0)if(Array.isArray(St))for(let kt=0,Ut=Dt.length;kt<Ut;kt++){const Kt=Dt[kt],tr=St[Kt.materialIndex],Wt=Math.max(Kt.start,Ft.start),Zt=Math.min(Tt.count,Math.min(Kt.start+Kt.count,Ft.start+Ft.count));for(let Ht=Wt,nr=Zt;Ht<nr;Ht+=3){const sr=Ht,ar=Ht+1,ir=Ht+2;At=checkBufferGeometryIntersection(this,tr,lt,_ray$2,Rt,Bt,sr,ar,ir),At&&(At.faceIndex=Math.floor(Ht/3),At.face.materialIndex=Kt.materialIndex,dt.push(At))}}else{const kt=Math.max(0,Ft.start),Ut=Math.min(Tt.count,Ft.start+Ft.count);for(let Kt=kt,tr=Ut;Kt<tr;Kt+=3){const Wt=Kt,Zt=Kt+1,Ht=Kt+2;At=checkBufferGeometryIntersection(this,St,lt,_ray$2,Rt,Bt,Wt,Zt,Ht),At&&(At.faceIndex=Math.floor(Kt/3),dt.push(At))}}}}function checkIntersection(ft,lt,dt,vt,St,Et,At,Ct){let Tt;if(lt.side===BackSide?Tt=vt.intersectTriangle(At,Et,St,!0,Ct):Tt=vt.intersectTriangle(St,Et,At,lt.side===FrontSide,Ct),Tt===null)return null;_intersectionPointWorld.copy(Ct),_intersectionPointWorld.applyMatrix4(ft.matrixWorld);const Rt=dt.ray.origin.distanceTo(_intersectionPointWorld);return Rt<dt.near||Rt>dt.far?null:{distance:Rt,point:_intersectionPointWorld.clone(),object:ft}}function checkBufferGeometryIntersection(ft,lt,dt,vt,St,Et,At,Ct,Tt){ft.getVertexPosition(At,_vA$1),ft.getVertexPosition(Ct,_vB$1),ft.getVertexPosition(Tt,_vC$1);const Rt=checkIntersection(ft,lt,dt,vt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(Rt){St&&(_uvA$1.fromBufferAttribute(St,At),_uvB$1.fromBufferAttribute(St,Ct),_uvC$1.fromBufferAttribute(St,Tt),Rt.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),Et&&(_uvA$1.fromBufferAttribute(Et,At),_uvB$1.fromBufferAttribute(Et,Ct),_uvC$1.fromBufferAttribute(Et,Tt),Rt.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const Bt={a:At,b:Ct,c:Tt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,Bt.normal),Rt.face=Bt}return Rt}class BoxGeometry extends BufferGeometry{constructor(lt=1,dt=1,vt=1,St=1,Et=1,At=1){super(),this.type="BoxGeometry",this.parameters={width:lt,height:dt,depth:vt,widthSegments:St,heightSegments:Et,depthSegments:At};const Ct=this;St=Math.floor(St),Et=Math.floor(Et),At=Math.floor(At);const Tt=[],Rt=[],Bt=[],Dt=[];let Ft=0,kt=0;Ut("z","y","x",-1,-1,vt,dt,lt,At,Et,0),Ut("z","y","x",1,-1,vt,dt,-lt,At,Et,1),Ut("x","z","y",1,1,lt,vt,dt,St,At,2),Ut("x","z","y",1,-1,lt,vt,-dt,St,At,3),Ut("x","y","z",1,-1,lt,dt,vt,St,Et,4),Ut("x","y","z",-1,-1,lt,dt,-vt,St,Et,5),this.setIndex(Tt),this.setAttribute("position",new Float32BufferAttribute(Rt,3)),this.setAttribute("normal",new Float32BufferAttribute(Bt,3)),this.setAttribute("uv",new Float32BufferAttribute(Dt,2));function Ut(Kt,tr,Wt,Zt,Ht,nr,sr,ar,ir,rr,lr){const ur=nr/ir,dr=sr/rr,mr=nr/2,Cr=sr/2,yr=ar/2,xr=ir+1,Sr=rr+1;let br=0,cr=0;const pr=new Vector3;for(let Er=0;Er<Sr;Er++){const _r=Er*dr-Cr;for(let Ar=0;Ar<xr;Ar++){const Pr=Ar*ur-mr;pr[Kt]=Pr*Zt,pr[tr]=_r*Ht,pr[Wt]=yr,Rt.push(pr.x,pr.y,pr.z),pr[Kt]=0,pr[tr]=0,pr[Wt]=ar>0?1:-1,Bt.push(pr.x,pr.y,pr.z),Dt.push(Ar/ir),Dt.push(1-Er/rr),br+=1}}for(let Er=0;Er<rr;Er++)for(let _r=0;_r<ir;_r++){const Ar=Ft+_r+xr*Er,Pr=Ft+_r+xr*(Er+1),Ir=Ft+(_r+1)+xr*(Er+1),kr=Ft+(_r+1)+xr*Er;Tt.push(Ar,Pr,kr),Tt.push(Pr,Ir,kr),cr+=6}Ct.addGroup(kt,cr,lr),kt+=cr,Ft+=br}}static fromJSON(lt){return new BoxGeometry(lt.width,lt.height,lt.depth,lt.widthSegments,lt.heightSegments,lt.depthSegments)}}function cloneUniforms(ft){const lt={};for(const dt in ft){lt[dt]={};for(const vt in ft[dt]){const St=ft[dt][vt];St&&(St.isColor||St.isMatrix3||St.isMatrix4||St.isVector2||St.isVector3||St.isVector4||St.isTexture||St.isQuaternion)?lt[dt][vt]=St.clone():Array.isArray(St)?lt[dt][vt]=St.slice():lt[dt][vt]=St}}return lt}function mergeUniforms(ft){const lt={};for(let dt=0;dt<ft.length;dt++){const vt=cloneUniforms(ft[dt]);for(const St in vt)lt[St]=vt[St]}return lt}function cloneUniformsGroups(ft){const lt=[];for(let dt=0;dt<ft.length;dt++)lt.push(ft[dt].clone());return lt}function getUnlitUniformColorSpace(ft){return ft.getRenderTarget()===null&&ft.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(lt){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,lt!==void 0&&this.setValues(lt)}copy(lt){return super.copy(lt),this.fragmentShader=lt.fragmentShader,this.vertexShader=lt.vertexShader,this.uniforms=cloneUniforms(lt.uniforms),this.uniformsGroups=cloneUniformsGroups(lt.uniformsGroups),this.defines=Object.assign({},lt.defines),this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.fog=lt.fog,this.lights=lt.lights,this.clipping=lt.clipping,this.extensions=Object.assign({},lt.extensions),this.glslVersion=lt.glslVersion,this}toJSON(lt){const dt=super.toJSON(lt);dt.glslVersion=this.glslVersion,dt.uniforms={};for(const St in this.uniforms){const At=this.uniforms[St].value;At&&At.isTexture?dt.uniforms[St]={type:"t",value:At.toJSON(lt).uuid}:At&&At.isColor?dt.uniforms[St]={type:"c",value:At.getHex()}:At&&At.isVector2?dt.uniforms[St]={type:"v2",value:At.toArray()}:At&&At.isVector3?dt.uniforms[St]={type:"v3",value:At.toArray()}:At&&At.isVector4?dt.uniforms[St]={type:"v4",value:At.toArray()}:At&&At.isMatrix3?dt.uniforms[St]={type:"m3",value:At.toArray()}:At&&At.isMatrix4?dt.uniforms[St]={type:"m4",value:At.toArray()}:dt.uniforms[St]={value:At}}Object.keys(this.defines).length>0&&(dt.defines=this.defines),dt.vertexShader=this.vertexShader,dt.fragmentShader=this.fragmentShader;const vt={};for(const St in this.extensions)this.extensions[St]===!0&&(vt[St]=!0);return Object.keys(vt).length>0&&(dt.extensions=vt),dt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(lt,dt){return super.copy(lt,dt),this.matrixWorldInverse.copy(lt.matrixWorldInverse),this.projectionMatrix.copy(lt.projectionMatrix),this.projectionMatrixInverse.copy(lt.projectionMatrixInverse),this}getWorldDirection(lt){this.updateWorldMatrix(!0,!1);const dt=this.matrixWorld.elements;return lt.set(-dt[8],-dt[9],-dt[10]).normalize()}updateMatrixWorld(lt){super.updateMatrixWorld(lt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(lt,dt){super.updateWorldMatrix(lt,dt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let PerspectiveCamera$1=class extends Camera{constructor(lt=50,dt=1,vt=.1,St=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=lt,this.zoom=1,this.near=vt,this.far=St,this.focus=10,this.aspect=dt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(lt,dt){return super.copy(lt,dt),this.fov=lt.fov,this.zoom=lt.zoom,this.near=lt.near,this.far=lt.far,this.focus=lt.focus,this.aspect=lt.aspect,this.view=lt.view===null?null:Object.assign({},lt.view),this.filmGauge=lt.filmGauge,this.filmOffset=lt.filmOffset,this}setFocalLength(lt){const dt=.5*this.getFilmHeight()/lt;this.fov=RAD2DEG*2*Math.atan(dt),this.updateProjectionMatrix()}getFocalLength(){const lt=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/lt}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(lt,dt,vt,St,Et,At){this.aspect=lt/dt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=lt,this.view.fullHeight=dt,this.view.offsetX=vt,this.view.offsetY=St,this.view.width=Et,this.view.height=At,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const lt=this.near;let dt=lt*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,vt=2*dt,St=this.aspect*vt,Et=-.5*St;const At=this.view;if(this.view!==null&&this.view.enabled){const Tt=At.fullWidth,Rt=At.fullHeight;Et+=At.offsetX*St/Tt,dt-=At.offsetY*vt/Rt,St*=At.width/Tt,vt*=At.height/Rt}const Ct=this.filmOffset;Ct!==0&&(Et+=lt*Ct/this.getFilmWidth()),this.projectionMatrix.makePerspective(Et,Et+St,dt,dt-vt,lt,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(lt){const dt=super.toJSON(lt);return dt.object.fov=this.fov,dt.object.zoom=this.zoom,dt.object.near=this.near,dt.object.far=this.far,dt.object.focus=this.focus,dt.object.aspect=this.aspect,this.view!==null&&(dt.object.view=Object.assign({},this.view)),dt.object.filmGauge=this.filmGauge,dt.object.filmOffset=this.filmOffset,dt}};const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(lt,dt,vt){super(),this.type="CubeCamera",this.renderTarget=vt;const St=new PerspectiveCamera$1(fov,aspect,lt,dt);St.layers=this.layers,St.up.set(0,1,0),St.lookAt(1,0,0),this.add(St);const Et=new PerspectiveCamera$1(fov,aspect,lt,dt);Et.layers=this.layers,Et.up.set(0,1,0),Et.lookAt(-1,0,0),this.add(Et);const At=new PerspectiveCamera$1(fov,aspect,lt,dt);At.layers=this.layers,At.up.set(0,0,-1),At.lookAt(0,1,0),this.add(At);const Ct=new PerspectiveCamera$1(fov,aspect,lt,dt);Ct.layers=this.layers,Ct.up.set(0,0,1),Ct.lookAt(0,-1,0),this.add(Ct);const Tt=new PerspectiveCamera$1(fov,aspect,lt,dt);Tt.layers=this.layers,Tt.up.set(0,1,0),Tt.lookAt(0,0,1),this.add(Tt);const Rt=new PerspectiveCamera$1(fov,aspect,lt,dt);Rt.layers=this.layers,Rt.up.set(0,1,0),Rt.lookAt(0,0,-1),this.add(Rt)}update(lt,dt){this.parent===null&&this.updateMatrixWorld();const vt=this.renderTarget,[St,Et,At,Ct,Tt,Rt]=this.children,Bt=lt.getRenderTarget(),Dt=lt.toneMapping,Ft=lt.xr.enabled;lt.toneMapping=NoToneMapping,lt.xr.enabled=!1;const kt=vt.texture.generateMipmaps;vt.texture.generateMipmaps=!1,lt.setRenderTarget(vt,0),lt.render(dt,St),lt.setRenderTarget(vt,1),lt.render(dt,Et),lt.setRenderTarget(vt,2),lt.render(dt,At),lt.setRenderTarget(vt,3),lt.render(dt,Ct),lt.setRenderTarget(vt,4),lt.render(dt,Tt),vt.texture.generateMipmaps=kt,lt.setRenderTarget(vt,5),lt.render(dt,Rt),lt.setRenderTarget(Bt),lt.toneMapping=Dt,lt.xr.enabled=Ft,vt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(lt,dt,vt,St,Et,At,Ct,Tt,Rt,Bt){lt=lt!==void 0?lt:[],dt=dt!==void 0?dt:CubeReflectionMapping,super(lt,dt,vt,St,Et,At,Ct,Tt,Rt,Bt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(lt){this.image=lt}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(lt=1,dt={}){super(lt,lt,dt),this.isWebGLCubeRenderTarget=!0;const vt={width:lt,height:lt,depth:1},St=[vt,vt,vt,vt,vt,vt];this.texture=new CubeTexture(St,dt.mapping,dt.wrapS,dt.wrapT,dt.magFilter,dt.minFilter,dt.format,dt.type,dt.anisotropy,dt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=dt.generateMipmaps!==void 0?dt.generateMipmaps:!1,this.texture.minFilter=dt.minFilter!==void 0?dt.minFilter:LinearFilter}fromEquirectangularTexture(lt,dt){this.texture.type=dt.type,this.texture.encoding=dt.encoding,this.texture.generateMipmaps=dt.generateMipmaps,this.texture.minFilter=dt.minFilter,this.texture.magFilter=dt.magFilter;const vt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},St=new BoxGeometry(5,5,5),Et=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(vt.uniforms),vertexShader:vt.vertexShader,fragmentShader:vt.fragmentShader,side:BackSide,blending:NoBlending});Et.uniforms.tEquirect.value=dt;const At=new Mesh(St,Et),Ct=dt.minFilter;return dt.minFilter===LinearMipmapLinearFilter&&(dt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(lt,At),dt.minFilter=Ct,At.geometry.dispose(),At.material.dispose(),this}clear(lt,dt,vt,St){const Et=lt.getRenderTarget();for(let At=0;At<6;At++)lt.setRenderTarget(this,At),lt.clear(dt,vt,St);lt.setRenderTarget(Et)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;let Plane$1=class{constructor(lt=new Vector3(1,0,0),dt=0){this.isPlane=!0,this.normal=lt,this.constant=dt}set(lt,dt){return this.normal.copy(lt),this.constant=dt,this}setComponents(lt,dt,vt,St){return this.normal.set(lt,dt,vt),this.constant=St,this}setFromNormalAndCoplanarPoint(lt,dt){return this.normal.copy(lt),this.constant=-dt.dot(this.normal),this}setFromCoplanarPoints(lt,dt,vt){const St=_vector1.subVectors(vt,dt).cross(_vector2.subVectors(lt,dt)).normalize();return this.setFromNormalAndCoplanarPoint(St,lt),this}copy(lt){return this.normal.copy(lt.normal),this.constant=lt.constant,this}normalize(){const lt=1/this.normal.length();return this.normal.multiplyScalar(lt),this.constant*=lt,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(lt){return this.normal.dot(lt)+this.constant}distanceToSphere(lt){return this.distanceToPoint(lt.center)-lt.radius}projectPoint(lt,dt){return dt.copy(this.normal).multiplyScalar(-this.distanceToPoint(lt)).add(lt)}intersectLine(lt,dt){const vt=lt.delta(_vector1),St=this.normal.dot(vt);if(St===0)return this.distanceToPoint(lt.start)===0?dt.copy(lt.start):null;const Et=-(lt.start.dot(this.normal)+this.constant)/St;return Et<0||Et>1?null:dt.copy(vt).multiplyScalar(Et).add(lt.start)}intersectsLine(lt){const dt=this.distanceToPoint(lt.start),vt=this.distanceToPoint(lt.end);return dt<0&&vt>0||vt<0&&dt>0}intersectsBox(lt){return lt.intersectsPlane(this)}intersectsSphere(lt){return lt.intersectsPlane(this)}coplanarPoint(lt){return lt.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(lt,dt){const vt=dt||_normalMatrix.getNormalMatrix(lt),St=this.coplanarPoint(_vector1).applyMatrix4(lt),Et=this.normal.applyMatrix3(vt).normalize();return this.constant=-St.dot(Et),this}translate(lt){return this.constant-=lt.dot(this.normal),this}equals(lt){return lt.normal.equals(this.normal)&&lt.constant===this.constant}clone(){return new this.constructor().copy(this)}};const _sphere$2=new Sphere$1,_vector$7=new Vector3;class Frustum{constructor(lt=new Plane$1,dt=new Plane$1,vt=new Plane$1,St=new Plane$1,Et=new Plane$1,At=new Plane$1){this.planes=[lt,dt,vt,St,Et,At]}set(lt,dt,vt,St,Et,At){const Ct=this.planes;return Ct[0].copy(lt),Ct[1].copy(dt),Ct[2].copy(vt),Ct[3].copy(St),Ct[4].copy(Et),Ct[5].copy(At),this}copy(lt){const dt=this.planes;for(let vt=0;vt<6;vt++)dt[vt].copy(lt.planes[vt]);return this}setFromProjectionMatrix(lt){const dt=this.planes,vt=lt.elements,St=vt[0],Et=vt[1],At=vt[2],Ct=vt[3],Tt=vt[4],Rt=vt[5],Bt=vt[6],Dt=vt[7],Ft=vt[8],kt=vt[9],Ut=vt[10],Kt=vt[11],tr=vt[12],Wt=vt[13],Zt=vt[14],Ht=vt[15];return dt[0].setComponents(Ct-St,Dt-Tt,Kt-Ft,Ht-tr).normalize(),dt[1].setComponents(Ct+St,Dt+Tt,Kt+Ft,Ht+tr).normalize(),dt[2].setComponents(Ct+Et,Dt+Rt,Kt+kt,Ht+Wt).normalize(),dt[3].setComponents(Ct-Et,Dt-Rt,Kt-kt,Ht-Wt).normalize(),dt[4].setComponents(Ct-At,Dt-Bt,Kt-Ut,Ht-Zt).normalize(),dt[5].setComponents(Ct+At,Dt+Bt,Kt+Ut,Ht+Zt).normalize(),this}intersectsObject(lt){const dt=lt.geometry;return dt.boundingSphere===null&&dt.computeBoundingSphere(),_sphere$2.copy(dt.boundingSphere).applyMatrix4(lt.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(lt){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(lt.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(lt){const dt=this.planes,vt=lt.center,St=-lt.radius;for(let Et=0;Et<6;Et++)if(dt[Et].distanceToPoint(vt)<St)return!1;return!0}intersectsBox(lt){const dt=this.planes;for(let vt=0;vt<6;vt++){const St=dt[vt];if(_vector$7.x=St.normal.x>0?lt.max.x:lt.min.x,_vector$7.y=St.normal.y>0?lt.max.y:lt.min.y,_vector$7.z=St.normal.z>0?lt.max.z:lt.min.z,St.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(lt){const dt=this.planes;for(let vt=0;vt<6;vt++)if(dt[vt].distanceToPoint(lt)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let ft=null,lt=!1,dt=null,vt=null;function St(Et,At){dt(Et,At),vt=ft.requestAnimationFrame(St)}return{start:function(){lt!==!0&&dt!==null&&(vt=ft.requestAnimationFrame(St),lt=!0)},stop:function(){ft.cancelAnimationFrame(vt),lt=!1},setAnimationLoop:function(Et){dt=Et},setContext:function(Et){ft=Et}}}function WebGLAttributes(ft,lt){const dt=lt.isWebGL2,vt=new WeakMap;function St(Rt,Bt){const Dt=Rt.array,Ft=Rt.usage,kt=ft.createBuffer();ft.bindBuffer(Bt,kt),ft.bufferData(Bt,Dt,Ft),Rt.onUploadCallback();let Ut;if(Dt instanceof Float32Array)Ut=5126;else if(Dt instanceof Uint16Array)if(Rt.isFloat16BufferAttribute)if(dt)Ut=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else Ut=5123;else if(Dt instanceof Int16Array)Ut=5122;else if(Dt instanceof Uint32Array)Ut=5125;else if(Dt instanceof Int32Array)Ut=5124;else if(Dt instanceof Int8Array)Ut=5120;else if(Dt instanceof Uint8Array)Ut=5121;else if(Dt instanceof Uint8ClampedArray)Ut=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+Dt);return{buffer:kt,type:Ut,bytesPerElement:Dt.BYTES_PER_ELEMENT,version:Rt.version}}function Et(Rt,Bt,Dt){const Ft=Bt.array,kt=Bt.updateRange;ft.bindBuffer(Dt,Rt),kt.count===-1?ft.bufferSubData(Dt,0,Ft):(dt?ft.bufferSubData(Dt,kt.offset*Ft.BYTES_PER_ELEMENT,Ft,kt.offset,kt.count):ft.bufferSubData(Dt,kt.offset*Ft.BYTES_PER_ELEMENT,Ft.subarray(kt.offset,kt.offset+kt.count)),kt.count=-1),Bt.onUploadCallback()}function At(Rt){return Rt.isInterleavedBufferAttribute&&(Rt=Rt.data),vt.get(Rt)}function Ct(Rt){Rt.isInterleavedBufferAttribute&&(Rt=Rt.data);const Bt=vt.get(Rt);Bt&&(ft.deleteBuffer(Bt.buffer),vt.delete(Rt))}function Tt(Rt,Bt){if(Rt.isGLBufferAttribute){const Ft=vt.get(Rt);(!Ft||Ft.version<Rt.version)&&vt.set(Rt,{buffer:Rt.buffer,type:Rt.type,bytesPerElement:Rt.elementSize,version:Rt.version});return}Rt.isInterleavedBufferAttribute&&(Rt=Rt.data);const Dt=vt.get(Rt);Dt===void 0?vt.set(Rt,St(Rt,Bt)):Dt.version<Rt.version&&(Et(Dt.buffer,Rt,Bt),Dt.version=Rt.version)}return{get:At,remove:Ct,update:Tt}}class PlaneGeometry extends BufferGeometry{constructor(lt=1,dt=1,vt=1,St=1){super(),this.type="PlaneGeometry",this.parameters={width:lt,height:dt,widthSegments:vt,heightSegments:St};const Et=lt/2,At=dt/2,Ct=Math.floor(vt),Tt=Math.floor(St),Rt=Ct+1,Bt=Tt+1,Dt=lt/Ct,Ft=dt/Tt,kt=[],Ut=[],Kt=[],tr=[];for(let Wt=0;Wt<Bt;Wt++){const Zt=Wt*Ft-At;for(let Ht=0;Ht<Rt;Ht++){const nr=Ht*Dt-Et;Ut.push(nr,-Zt,0),Kt.push(0,0,1),tr.push(Ht/Ct),tr.push(1-Wt/Tt)}}for(let Wt=0;Wt<Tt;Wt++)for(let Zt=0;Zt<Ct;Zt++){const Ht=Zt+Rt*Wt,nr=Zt+Rt*(Wt+1),sr=Zt+1+Rt*(Wt+1),ar=Zt+1+Rt*Wt;kt.push(Ht,nr,ar),kt.push(nr,sr,ar)}this.setIndex(kt),this.setAttribute("position",new Float32BufferAttribute(Ut,3)),this.setAttribute("normal",new Float32BufferAttribute(Kt,3)),this.setAttribute("uv",new Float32BufferAttribute(tr,2))}static fromJSON(lt){return new PlaneGeometry(lt.width,lt.height,lt.widthSegments,lt.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(ft,lt,dt,vt,St,Et,At){const Ct=new Color(0);let Tt=Et===!0?0:1,Rt,Bt,Dt=null,Ft=0,kt=null;function Ut(tr,Wt){let Zt=!1,Ht=Wt.isScene===!0?Wt.background:null;Ht&&Ht.isTexture&&(Ht=(Wt.backgroundBlurriness>0?dt:lt).get(Ht));const nr=ft.xr,sr=nr.getSession&&nr.getSession();sr&&sr.environmentBlendMode==="additive"&&(Ht=null),Ht===null?Kt(Ct,Tt):Ht&&Ht.isColor&&(Kt(Ht,1),Zt=!0),(ft.autoClear||Zt)&&ft.clear(ft.autoClearColor,ft.autoClearDepth,ft.autoClearStencil),Ht&&(Ht.isCubeTexture||Ht.mapping===CubeUVReflectionMapping)?(Bt===void 0&&(Bt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),Bt.geometry.deleteAttribute("normal"),Bt.geometry.deleteAttribute("uv"),Bt.onBeforeRender=function(ar,ir,rr){this.matrixWorld.copyPosition(rr.matrixWorld)},Object.defineProperty(Bt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),St.update(Bt)),Bt.material.uniforms.envMap.value=Ht,Bt.material.uniforms.flipEnvMap.value=Ht.isCubeTexture&&Ht.isRenderTargetTexture===!1?-1:1,Bt.material.uniforms.backgroundBlurriness.value=Wt.backgroundBlurriness,Bt.material.uniforms.backgroundIntensity.value=Wt.backgroundIntensity,Bt.material.toneMapped=Ht.encoding!==sRGBEncoding,(Dt!==Ht||Ft!==Ht.version||kt!==ft.toneMapping)&&(Bt.material.needsUpdate=!0,Dt=Ht,Ft=Ht.version,kt=ft.toneMapping),Bt.layers.enableAll(),tr.unshift(Bt,Bt.geometry,Bt.material,0,0,null)):Ht&&Ht.isTexture&&(Rt===void 0&&(Rt=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),Rt.geometry.deleteAttribute("normal"),Object.defineProperty(Rt.material,"map",{get:function(){return this.uniforms.t2D.value}}),St.update(Rt)),Rt.material.uniforms.t2D.value=Ht,Rt.material.uniforms.backgroundIntensity.value=Wt.backgroundIntensity,Rt.material.toneMapped=Ht.encoding!==sRGBEncoding,Ht.matrixAutoUpdate===!0&&Ht.updateMatrix(),Rt.material.uniforms.uvTransform.value.copy(Ht.matrix),(Dt!==Ht||Ft!==Ht.version||kt!==ft.toneMapping)&&(Rt.material.needsUpdate=!0,Dt=Ht,Ft=Ht.version,kt=ft.toneMapping),Rt.layers.enableAll(),tr.unshift(Rt,Rt.geometry,Rt.material,0,0,null))}function Kt(tr,Wt){tr.getRGB(_rgb,getUnlitUniformColorSpace(ft)),vt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Wt,At)}return{getClearColor:function(){return Ct},setClearColor:function(tr,Wt=1){Ct.set(tr),Tt=Wt,Kt(Ct,Tt)},getClearAlpha:function(){return Tt},setClearAlpha:function(tr){Tt=tr,Kt(Ct,Tt)},render:Ut}}function WebGLBindingStates(ft,lt,dt,vt){const St=ft.getParameter(34921),Et=vt.isWebGL2?null:lt.get("OES_vertex_array_object"),At=vt.isWebGL2||Et!==null,Ct={},Tt=tr(null);let Rt=Tt,Bt=!1;function Dt(yr,xr,Sr,br,cr){let pr=!1;if(At){const Er=Kt(br,Sr,xr);Rt!==Er&&(Rt=Er,kt(Rt.object)),pr=Wt(yr,br,Sr,cr),pr&&Zt(yr,br,Sr,cr)}else{const Er=xr.wireframe===!0;(Rt.geometry!==br.id||Rt.program!==Sr.id||Rt.wireframe!==Er)&&(Rt.geometry=br.id,Rt.program=Sr.id,Rt.wireframe=Er,pr=!0)}cr!==null&&dt.update(cr,34963),(pr||Bt)&&(Bt=!1,rr(yr,xr,Sr,br),cr!==null&&ft.bindBuffer(34963,dt.get(cr).buffer))}function Ft(){return vt.isWebGL2?ft.createVertexArray():Et.createVertexArrayOES()}function kt(yr){return vt.isWebGL2?ft.bindVertexArray(yr):Et.bindVertexArrayOES(yr)}function Ut(yr){return vt.isWebGL2?ft.deleteVertexArray(yr):Et.deleteVertexArrayOES(yr)}function Kt(yr,xr,Sr){const br=Sr.wireframe===!0;let cr=Ct[yr.id];cr===void 0&&(cr={},Ct[yr.id]=cr);let pr=cr[xr.id];pr===void 0&&(pr={},cr[xr.id]=pr);let Er=pr[br];return Er===void 0&&(Er=tr(Ft()),pr[br]=Er),Er}function tr(yr){const xr=[],Sr=[],br=[];for(let cr=0;cr<St;cr++)xr[cr]=0,Sr[cr]=0,br[cr]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:xr,enabledAttributes:Sr,attributeDivisors:br,object:yr,attributes:{},index:null}}function Wt(yr,xr,Sr,br){const cr=Rt.attributes,pr=xr.attributes;let Er=0;const _r=Sr.getAttributes();for(const Ar in _r)if(_r[Ar].location>=0){const Ir=cr[Ar];let kr=pr[Ar];if(kr===void 0&&(Ar==="instanceMatrix"&&yr.instanceMatrix&&(kr=yr.instanceMatrix),Ar==="instanceColor"&&yr.instanceColor&&(kr=yr.instanceColor)),Ir===void 0||Ir.attribute!==kr||kr&&Ir.data!==kr.data)return!0;Er++}return Rt.attributesNum!==Er||Rt.index!==br}function Zt(yr,xr,Sr,br){const cr={},pr=xr.attributes;let Er=0;const _r=Sr.getAttributes();for(const Ar in _r)if(_r[Ar].location>=0){let Ir=pr[Ar];Ir===void 0&&(Ar==="instanceMatrix"&&yr.instanceMatrix&&(Ir=yr.instanceMatrix),Ar==="instanceColor"&&yr.instanceColor&&(Ir=yr.instanceColor));const kr={};kr.attribute=Ir,Ir&&Ir.data&&(kr.data=Ir.data),cr[Ar]=kr,Er++}Rt.attributes=cr,Rt.attributesNum=Er,Rt.index=br}function Ht(){const yr=Rt.newAttributes;for(let xr=0,Sr=yr.length;xr<Sr;xr++)yr[xr]=0}function nr(yr){sr(yr,0)}function sr(yr,xr){const Sr=Rt.newAttributes,br=Rt.enabledAttributes,cr=Rt.attributeDivisors;Sr[yr]=1,br[yr]===0&&(ft.enableVertexAttribArray(yr),br[yr]=1),cr[yr]!==xr&&((vt.isWebGL2?ft:lt.get("ANGLE_instanced_arrays"))[vt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](yr,xr),cr[yr]=xr)}function ar(){const yr=Rt.newAttributes,xr=Rt.enabledAttributes;for(let Sr=0,br=xr.length;Sr<br;Sr++)xr[Sr]!==yr[Sr]&&(ft.disableVertexAttribArray(Sr),xr[Sr]=0)}function ir(yr,xr,Sr,br,cr,pr){vt.isWebGL2===!0&&(Sr===5124||Sr===5125)?ft.vertexAttribIPointer(yr,xr,Sr,cr,pr):ft.vertexAttribPointer(yr,xr,Sr,br,cr,pr)}function rr(yr,xr,Sr,br){if(vt.isWebGL2===!1&&(yr.isInstancedMesh||br.isInstancedBufferGeometry)&&lt.get("ANGLE_instanced_arrays")===null)return;Ht();const cr=br.attributes,pr=Sr.getAttributes(),Er=xr.defaultAttributeValues;for(const _r in pr){const Ar=pr[_r];if(Ar.location>=0){let Pr=cr[_r];if(Pr===void 0&&(_r==="instanceMatrix"&&yr.instanceMatrix&&(Pr=yr.instanceMatrix),_r==="instanceColor"&&yr.instanceColor&&(Pr=yr.instanceColor)),Pr!==void 0){const Ir=Pr.normalized,kr=Pr.itemSize,Dr=dt.get(Pr);if(Dr===void 0)continue;const Jr=Dr.buffer,Or=Dr.type,jr=Dr.bytesPerElement;if(Pr.isInterleavedBufferAttribute){const Nr=Pr.data,Vr=Nr.stride,Br=Pr.offset;if(Nr.isInstancedInterleavedBuffer){for(let zr=0;zr<Ar.locationSize;zr++)sr(Ar.location+zr,Nr.meshPerAttribute);yr.isInstancedMesh!==!0&&br._maxInstanceCount===void 0&&(br._maxInstanceCount=Nr.meshPerAttribute*Nr.count)}else for(let zr=0;zr<Ar.locationSize;zr++)nr(Ar.location+zr);ft.bindBuffer(34962,Jr);for(let zr=0;zr<Ar.locationSize;zr++)ir(Ar.location+zr,kr/Ar.locationSize,Or,Ir,Vr*jr,(Br+kr/Ar.locationSize*zr)*jr)}else{if(Pr.isInstancedBufferAttribute){for(let Nr=0;Nr<Ar.locationSize;Nr++)sr(Ar.location+Nr,Pr.meshPerAttribute);yr.isInstancedMesh!==!0&&br._maxInstanceCount===void 0&&(br._maxInstanceCount=Pr.meshPerAttribute*Pr.count)}else for(let Nr=0;Nr<Ar.locationSize;Nr++)nr(Ar.location+Nr);ft.bindBuffer(34962,Jr);for(let Nr=0;Nr<Ar.locationSize;Nr++)ir(Ar.location+Nr,kr/Ar.locationSize,Or,Ir,kr*jr,kr/Ar.locationSize*Nr*jr)}}else if(Er!==void 0){const Ir=Er[_r];if(Ir!==void 0)switch(Ir.length){case 2:ft.vertexAttrib2fv(Ar.location,Ir);break;case 3:ft.vertexAttrib3fv(Ar.location,Ir);break;case 4:ft.vertexAttrib4fv(Ar.location,Ir);break;default:ft.vertexAttrib1fv(Ar.location,Ir)}}}}ar()}function lr(){mr();for(const yr in Ct){const xr=Ct[yr];for(const Sr in xr){const br=xr[Sr];for(const cr in br)Ut(br[cr].object),delete br[cr];delete xr[Sr]}delete Ct[yr]}}function ur(yr){if(Ct[yr.id]===void 0)return;const xr=Ct[yr.id];for(const Sr in xr){const br=xr[Sr];for(const cr in br)Ut(br[cr].object),delete br[cr];delete xr[Sr]}delete Ct[yr.id]}function dr(yr){for(const xr in Ct){const Sr=Ct[xr];if(Sr[yr.id]===void 0)continue;const br=Sr[yr.id];for(const cr in br)Ut(br[cr].object),delete br[cr];delete Sr[yr.id]}}function mr(){Cr(),Bt=!0,Rt!==Tt&&(Rt=Tt,kt(Rt.object))}function Cr(){Tt.geometry=null,Tt.program=null,Tt.wireframe=!1}return{setup:Dt,reset:mr,resetDefaultState:Cr,dispose:lr,releaseStatesOfGeometry:ur,releaseStatesOfProgram:dr,initAttributes:Ht,enableAttribute:nr,disableUnusedAttributes:ar}}function WebGLBufferRenderer(ft,lt,dt,vt){const St=vt.isWebGL2;let Et;function At(Rt){Et=Rt}function Ct(Rt,Bt){ft.drawArrays(Et,Rt,Bt),dt.update(Bt,Et,1)}function Tt(Rt,Bt,Dt){if(Dt===0)return;let Ft,kt;if(St)Ft=ft,kt="drawArraysInstanced";else if(Ft=lt.get("ANGLE_instanced_arrays"),kt="drawArraysInstancedANGLE",Ft===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Ft[kt](Et,Rt,Bt,Dt),dt.update(Bt,Et,Dt)}this.setMode=At,this.render=Ct,this.renderInstances=Tt}function WebGLCapabilities(ft,lt,dt){let vt;function St(){if(vt!==void 0)return vt;if(lt.has("EXT_texture_filter_anisotropic")===!0){const ir=lt.get("EXT_texture_filter_anisotropic");vt=ft.getParameter(ir.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else vt=0;return vt}function Et(ir){if(ir==="highp"){if(ft.getShaderPrecisionFormat(35633,36338).precision>0&&ft.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ir="mediump"}return ir==="mediump"&&ft.getShaderPrecisionFormat(35633,36337).precision>0&&ft.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const At=typeof WebGL2RenderingContext<"u"&&ft instanceof WebGL2RenderingContext;let Ct=dt.precision!==void 0?dt.precision:"highp";const Tt=Et(Ct);Tt!==Ct&&(console.warn("THREE.WebGLRenderer:",Ct,"not supported, using",Tt,"instead."),Ct=Tt);const Rt=At||lt.has("WEBGL_draw_buffers"),Bt=dt.logarithmicDepthBuffer===!0,Dt=ft.getParameter(34930),Ft=ft.getParameter(35660),kt=ft.getParameter(3379),Ut=ft.getParameter(34076),Kt=ft.getParameter(34921),tr=ft.getParameter(36347),Wt=ft.getParameter(36348),Zt=ft.getParameter(36349),Ht=Ft>0,nr=At||lt.has("OES_texture_float"),sr=Ht&&nr,ar=At?ft.getParameter(36183):0;return{isWebGL2:At,drawBuffers:Rt,getMaxAnisotropy:St,getMaxPrecision:Et,precision:Ct,logarithmicDepthBuffer:Bt,maxTextures:Dt,maxVertexTextures:Ft,maxTextureSize:kt,maxCubemapSize:Ut,maxAttributes:Kt,maxVertexUniforms:tr,maxVaryings:Wt,maxFragmentUniforms:Zt,vertexTextures:Ht,floatFragmentTextures:nr,floatVertexTextures:sr,maxSamples:ar}}function WebGLClipping(ft){const lt=this;let dt=null,vt=0,St=!1,Et=!1;const At=new Plane$1,Ct=new Matrix3,Tt={value:null,needsUpdate:!1};this.uniform=Tt,this.numPlanes=0,this.numIntersection=0,this.init=function(Dt,Ft){const kt=Dt.length!==0||Ft||vt!==0||St;return St=Ft,vt=Dt.length,kt},this.beginShadows=function(){Et=!0,Bt(null)},this.endShadows=function(){Et=!1},this.setGlobalState=function(Dt,Ft){dt=Bt(Dt,Ft,0)},this.setState=function(Dt,Ft,kt){const Ut=Dt.clippingPlanes,Kt=Dt.clipIntersection,tr=Dt.clipShadows,Wt=ft.get(Dt);if(!St||Ut===null||Ut.length===0||Et&&!tr)Et?Bt(null):Rt();else{const Zt=Et?0:vt,Ht=Zt*4;let nr=Wt.clippingState||null;Tt.value=nr,nr=Bt(Ut,Ft,Ht,kt);for(let sr=0;sr!==Ht;++sr)nr[sr]=dt[sr];Wt.clippingState=nr,this.numIntersection=Kt?this.numPlanes:0,this.numPlanes+=Zt}};function Rt(){Tt.value!==dt&&(Tt.value=dt,Tt.needsUpdate=vt>0),lt.numPlanes=vt,lt.numIntersection=0}function Bt(Dt,Ft,kt,Ut){const Kt=Dt!==null?Dt.length:0;let tr=null;if(Kt!==0){if(tr=Tt.value,Ut!==!0||tr===null){const Wt=kt+Kt*4,Zt=Ft.matrixWorldInverse;Ct.getNormalMatrix(Zt),(tr===null||tr.length<Wt)&&(tr=new Float32Array(Wt));for(let Ht=0,nr=kt;Ht!==Kt;++Ht,nr+=4)At.copy(Dt[Ht]).applyMatrix4(Zt,Ct),At.normal.toArray(tr,nr),tr[nr+3]=At.constant}Tt.value=tr,Tt.needsUpdate=!0}return lt.numPlanes=Kt,lt.numIntersection=0,tr}}function WebGLCubeMaps(ft){let lt=new WeakMap;function dt(At,Ct){return Ct===EquirectangularReflectionMapping?At.mapping=CubeReflectionMapping:Ct===EquirectangularRefractionMapping&&(At.mapping=CubeRefractionMapping),At}function vt(At){if(At&&At.isTexture&&At.isRenderTargetTexture===!1){const Ct=At.mapping;if(Ct===EquirectangularReflectionMapping||Ct===EquirectangularRefractionMapping)if(lt.has(At)){const Tt=lt.get(At).texture;return dt(Tt,At.mapping)}else{const Tt=At.image;if(Tt&&Tt.height>0){const Rt=new WebGLCubeRenderTarget(Tt.height/2);return Rt.fromEquirectangularTexture(ft,At),lt.set(At,Rt),At.addEventListener("dispose",St),dt(Rt.texture,At.mapping)}else return null}}return At}function St(At){const Ct=At.target;Ct.removeEventListener("dispose",St);const Tt=lt.get(Ct);Tt!==void 0&&(lt.delete(Ct),Tt.dispose())}function Et(){lt=new WeakMap}return{get:vt,dispose:Et}}class OrthographicCamera extends Camera{constructor(lt=-1,dt=1,vt=1,St=-1,Et=.1,At=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=lt,this.right=dt,this.top=vt,this.bottom=St,this.near=Et,this.far=At,this.updateProjectionMatrix()}copy(lt,dt){return super.copy(lt,dt),this.left=lt.left,this.right=lt.right,this.top=lt.top,this.bottom=lt.bottom,this.near=lt.near,this.far=lt.far,this.zoom=lt.zoom,this.view=lt.view===null?null:Object.assign({},lt.view),this}setViewOffset(lt,dt,vt,St,Et,At){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=lt,this.view.fullHeight=dt,this.view.offsetX=vt,this.view.offsetY=St,this.view.width=Et,this.view.height=At,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const lt=(this.right-this.left)/(2*this.zoom),dt=(this.top-this.bottom)/(2*this.zoom),vt=(this.right+this.left)/2,St=(this.top+this.bottom)/2;let Et=vt-lt,At=vt+lt,Ct=St+dt,Tt=St-dt;if(this.view!==null&&this.view.enabled){const Rt=(this.right-this.left)/this.view.fullWidth/this.zoom,Bt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;Et+=Rt*this.view.offsetX,At=Et+Rt*this.view.width,Ct-=Bt*this.view.offsetY,Tt=Ct-Bt*this.view.height}this.projectionMatrix.makeOrthographic(Et,At,Ct,Tt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(lt){const dt=super.toJSON(lt);return dt.object.zoom=this.zoom,dt.object.left=this.left,dt.object.right=this.right,dt.object.top=this.top,dt.object.bottom=this.bottom,dt.object.near=this.near,dt.object.far=this.far,this.view!==null&&(dt.object.view=Object.assign({},this.view)),dt}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(lt){this._renderer=lt,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(lt,dt=0,vt=.1,St=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const Et=this._allocateTargets();return Et.depthBuffer=!0,this._sceneToCubeUV(lt,vt,St,Et),dt>0&&this._blur(Et,0,0,dt),this._applyPMREM(Et),this._cleanup(Et),Et}fromEquirectangular(lt,dt=null){return this._fromTexture(lt,dt)}fromCubemap(lt,dt=null){return this._fromTexture(lt,dt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(lt){this._lodMax=Math.floor(Math.log2(lt)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let lt=0;lt<this._lodPlanes.length;lt++)this._lodPlanes[lt].dispose()}_cleanup(lt){this._renderer.setRenderTarget(_oldTarget),lt.scissorTest=!1,_setViewport(lt,0,0,lt.width,lt.height)}_fromTexture(lt,dt){lt.mapping===CubeReflectionMapping||lt.mapping===CubeRefractionMapping?this._setSize(lt.image.length===0?16:lt.image[0].width||lt.image[0].image.width):this._setSize(lt.image.width/4),_oldTarget=this._renderer.getRenderTarget();const vt=dt||this._allocateTargets();return this._textureToCubeUV(lt,vt),this._applyPMREM(vt),this._cleanup(vt),vt}_allocateTargets(){const lt=3*Math.max(this._cubeSize,112),dt=4*this._cubeSize,vt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},St=_createRenderTarget(lt,dt,vt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==lt||this._pingPongRenderTarget.height!==dt){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(lt,dt,vt);const{_lodMax:Et}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(Et)),this._blurMaterial=_getBlurShader(Et,lt,dt)}return St}_compileMaterial(lt){const dt=new Mesh(this._lodPlanes[0],lt);this._renderer.compile(dt,_flatCamera)}_sceneToCubeUV(lt,dt,vt,St){const Ct=new PerspectiveCamera$1(90,1,dt,vt),Tt=[1,-1,1,1,1,1],Rt=[1,1,1,-1,-1,-1],Bt=this._renderer,Dt=Bt.autoClear,Ft=Bt.toneMapping;Bt.getClearColor(_clearColor),Bt.toneMapping=NoToneMapping,Bt.autoClear=!1;const kt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),Ut=new Mesh(new BoxGeometry,kt);let Kt=!1;const tr=lt.background;tr?tr.isColor&&(kt.color.copy(tr),lt.background=null,Kt=!0):(kt.color.copy(_clearColor),Kt=!0);for(let Wt=0;Wt<6;Wt++){const Zt=Wt%3;Zt===0?(Ct.up.set(0,Tt[Wt],0),Ct.lookAt(Rt[Wt],0,0)):Zt===1?(Ct.up.set(0,0,Tt[Wt]),Ct.lookAt(0,Rt[Wt],0)):(Ct.up.set(0,Tt[Wt],0),Ct.lookAt(0,0,Rt[Wt]));const Ht=this._cubeSize;_setViewport(St,Zt*Ht,Wt>2?Ht:0,Ht,Ht),Bt.setRenderTarget(St),Kt&&Bt.render(Ut,Ct),Bt.render(lt,Ct)}Ut.geometry.dispose(),Ut.material.dispose(),Bt.toneMapping=Ft,Bt.autoClear=Dt,lt.background=tr}_textureToCubeUV(lt,dt){const vt=this._renderer,St=lt.mapping===CubeReflectionMapping||lt.mapping===CubeRefractionMapping;St?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=lt.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const Et=St?this._cubemapMaterial:this._equirectMaterial,At=new Mesh(this._lodPlanes[0],Et),Ct=Et.uniforms;Ct.envMap.value=lt;const Tt=this._cubeSize;_setViewport(dt,0,0,3*Tt,2*Tt),vt.setRenderTarget(dt),vt.render(At,_flatCamera)}_applyPMREM(lt){const dt=this._renderer,vt=dt.autoClear;dt.autoClear=!1;for(let St=1;St<this._lodPlanes.length;St++){const Et=Math.sqrt(this._sigmas[St]*this._sigmas[St]-this._sigmas[St-1]*this._sigmas[St-1]),At=_axisDirections[(St-1)%_axisDirections.length];this._blur(lt,St-1,St,Et,At)}dt.autoClear=vt}_blur(lt,dt,vt,St,Et){const At=this._pingPongRenderTarget;this._halfBlur(lt,At,dt,vt,St,"latitudinal",Et),this._halfBlur(At,lt,vt,vt,St,"longitudinal",Et)}_halfBlur(lt,dt,vt,St,Et,At,Ct){const Tt=this._renderer,Rt=this._blurMaterial;At!=="latitudinal"&&At!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Bt=3,Dt=new Mesh(this._lodPlanes[St],Rt),Ft=Rt.uniforms,kt=this._sizeLods[vt]-1,Ut=isFinite(Et)?Math.PI/(2*kt):2*Math.PI/(2*MAX_SAMPLES-1),Kt=Et/Ut,tr=isFinite(Et)?1+Math.floor(Bt*Kt):MAX_SAMPLES;tr>MAX_SAMPLES&&console.warn(`sigmaRadians, ${Et}, is too large and will clip, as it requested ${tr} samples when the maximum is set to ${MAX_SAMPLES}`);const Wt=[];let Zt=0;for(let ir=0;ir<MAX_SAMPLES;++ir){const rr=ir/Kt,lr=Math.exp(-rr*rr/2);Wt.push(lr),ir===0?Zt+=lr:ir<tr&&(Zt+=2*lr)}for(let ir=0;ir<Wt.length;ir++)Wt[ir]=Wt[ir]/Zt;Ft.envMap.value=lt.texture,Ft.samples.value=tr,Ft.weights.value=Wt,Ft.latitudinal.value=At==="latitudinal",Ct&&(Ft.poleAxis.value=Ct);const{_lodMax:Ht}=this;Ft.dTheta.value=Ut,Ft.mipInt.value=Ht-vt;const nr=this._sizeLods[St],sr=3*nr*(St>Ht-LOD_MIN?St-Ht+LOD_MIN:0),ar=4*(this._cubeSize-nr);_setViewport(dt,sr,ar,3*nr,2*nr),Tt.setRenderTarget(dt),Tt.render(Dt,_flatCamera)}}function _createPlanes(ft){const lt=[],dt=[],vt=[];let St=ft;const Et=ft-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let At=0;At<Et;At++){const Ct=Math.pow(2,St);dt.push(Ct);let Tt=1/Ct;At>ft-LOD_MIN?Tt=EXTRA_LOD_SIGMA[At-ft+LOD_MIN-1]:At===0&&(Tt=0),vt.push(Tt);const Rt=1/(Ct-2),Bt=-Rt,Dt=1+Rt,Ft=[Bt,Bt,Dt,Bt,Dt,Dt,Bt,Bt,Dt,Dt,Bt,Dt],kt=6,Ut=6,Kt=3,tr=2,Wt=1,Zt=new Float32Array(Kt*Ut*kt),Ht=new Float32Array(tr*Ut*kt),nr=new Float32Array(Wt*Ut*kt);for(let ar=0;ar<kt;ar++){const ir=ar%3*2/3-1,rr=ar>2?0:-1,lr=[ir,rr,0,ir+2/3,rr,0,ir+2/3,rr+1,0,ir,rr,0,ir+2/3,rr+1,0,ir,rr+1,0];Zt.set(lr,Kt*Ut*ar),Ht.set(Ft,tr*Ut*ar);const ur=[ar,ar,ar,ar,ar,ar];nr.set(ur,Wt*Ut*ar)}const sr=new BufferGeometry;sr.setAttribute("position",new BufferAttribute(Zt,Kt)),sr.setAttribute("uv",new BufferAttribute(Ht,tr)),sr.setAttribute("faceIndex",new BufferAttribute(nr,Wt)),lt.push(sr),St>LOD_MIN&&St--}return{lodPlanes:lt,sizeLods:dt,sigmas:vt}}function _createRenderTarget(ft,lt,dt){const vt=new WebGLRenderTarget(ft,lt,dt);return vt.texture.mapping=CubeUVReflectionMapping,vt.texture.name="PMREM.cubeUv",vt.scissorTest=!0,vt}function _setViewport(ft,lt,dt,vt,St){ft.viewport.set(lt,dt,vt,St),ft.scissor.set(lt,dt,vt,St)}function _getBlurShader(ft,lt,dt){const vt=new Float32Array(MAX_SAMPLES),St=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/lt,CUBEUV_TEXEL_HEIGHT:1/dt,CUBEUV_MAX_MIP:`${ft}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:vt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:St}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(ft){let lt=new WeakMap,dt=null;function vt(Ct){if(Ct&&Ct.isTexture){const Tt=Ct.mapping,Rt=Tt===EquirectangularReflectionMapping||Tt===EquirectangularRefractionMapping,Bt=Tt===CubeReflectionMapping||Tt===CubeRefractionMapping;if(Rt||Bt)if(Ct.isRenderTargetTexture&&Ct.needsPMREMUpdate===!0){Ct.needsPMREMUpdate=!1;let Dt=lt.get(Ct);return dt===null&&(dt=new PMREMGenerator(ft)),Dt=Rt?dt.fromEquirectangular(Ct,Dt):dt.fromCubemap(Ct,Dt),lt.set(Ct,Dt),Dt.texture}else{if(lt.has(Ct))return lt.get(Ct).texture;{const Dt=Ct.image;if(Rt&&Dt&&Dt.height>0||Bt&&Dt&&St(Dt)){dt===null&&(dt=new PMREMGenerator(ft));const Ft=Rt?dt.fromEquirectangular(Ct):dt.fromCubemap(Ct);return lt.set(Ct,Ft),Ct.addEventListener("dispose",Et),Ft.texture}else return null}}}return Ct}function St(Ct){let Tt=0;const Rt=6;for(let Bt=0;Bt<Rt;Bt++)Ct[Bt]!==void 0&&Tt++;return Tt===Rt}function Et(Ct){const Tt=Ct.target;Tt.removeEventListener("dispose",Et);const Rt=lt.get(Tt);Rt!==void 0&&(lt.delete(Tt),Rt.dispose())}function At(){lt=new WeakMap,dt!==null&&(dt.dispose(),dt=null)}return{get:vt,dispose:At}}function WebGLExtensions(ft){const lt={};function dt(vt){if(lt[vt]!==void 0)return lt[vt];let St;switch(vt){case"WEBGL_depth_texture":St=ft.getExtension("WEBGL_depth_texture")||ft.getExtension("MOZ_WEBGL_depth_texture")||ft.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":St=ft.getExtension("EXT_texture_filter_anisotropic")||ft.getExtension("MOZ_EXT_texture_filter_anisotropic")||ft.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":St=ft.getExtension("WEBGL_compressed_texture_s3tc")||ft.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||ft.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":St=ft.getExtension("WEBGL_compressed_texture_pvrtc")||ft.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:St=ft.getExtension(vt)}return lt[vt]=St,St}return{has:function(vt){return dt(vt)!==null},init:function(vt){vt.isWebGL2?dt("EXT_color_buffer_float"):(dt("WEBGL_depth_texture"),dt("OES_texture_float"),dt("OES_texture_half_float"),dt("OES_texture_half_float_linear"),dt("OES_standard_derivatives"),dt("OES_element_index_uint"),dt("OES_vertex_array_object"),dt("ANGLE_instanced_arrays")),dt("OES_texture_float_linear"),dt("EXT_color_buffer_half_float"),dt("WEBGL_multisampled_render_to_texture")},get:function(vt){const St=dt(vt);return St===null&&console.warn("THREE.WebGLRenderer: "+vt+" extension not supported."),St}}}function WebGLGeometries(ft,lt,dt,vt){const St={},Et=new WeakMap;function At(Dt){const Ft=Dt.target;Ft.index!==null&&lt.remove(Ft.index);for(const Ut in Ft.attributes)lt.remove(Ft.attributes[Ut]);Ft.removeEventListener("dispose",At),delete St[Ft.id];const kt=Et.get(Ft);kt&&(lt.remove(kt),Et.delete(Ft)),vt.releaseStatesOfGeometry(Ft),Ft.isInstancedBufferGeometry===!0&&delete Ft._maxInstanceCount,dt.memory.geometries--}function Ct(Dt,Ft){return St[Ft.id]===!0||(Ft.addEventListener("dispose",At),St[Ft.id]=!0,dt.memory.geometries++),Ft}function Tt(Dt){const Ft=Dt.attributes;for(const Ut in Ft)lt.update(Ft[Ut],34962);const kt=Dt.morphAttributes;for(const Ut in kt){const Kt=kt[Ut];for(let tr=0,Wt=Kt.length;tr<Wt;tr++)lt.update(Kt[tr],34962)}}function Rt(Dt){const Ft=[],kt=Dt.index,Ut=Dt.attributes.position;let Kt=0;if(kt!==null){const Zt=kt.array;Kt=kt.version;for(let Ht=0,nr=Zt.length;Ht<nr;Ht+=3){const sr=Zt[Ht+0],ar=Zt[Ht+1],ir=Zt[Ht+2];Ft.push(sr,ar,ar,ir,ir,sr)}}else{const Zt=Ut.array;Kt=Ut.version;for(let Ht=0,nr=Zt.length/3-1;Ht<nr;Ht+=3){const sr=Ht+0,ar=Ht+1,ir=Ht+2;Ft.push(sr,ar,ar,ir,ir,sr)}}const tr=new(arrayNeedsUint32(Ft)?Uint32BufferAttribute:Uint16BufferAttribute)(Ft,1);tr.version=Kt;const Wt=Et.get(Dt);Wt&&lt.remove(Wt),Et.set(Dt,tr)}function Bt(Dt){const Ft=Et.get(Dt);if(Ft){const kt=Dt.index;kt!==null&&Ft.version<kt.version&&Rt(Dt)}else Rt(Dt);return Et.get(Dt)}return{get:Ct,update:Tt,getWireframeAttribute:Bt}}function WebGLIndexedBufferRenderer(ft,lt,dt,vt){const St=vt.isWebGL2;let Et;function At(Ft){Et=Ft}let Ct,Tt;function Rt(Ft){Ct=Ft.type,Tt=Ft.bytesPerElement}function Bt(Ft,kt){ft.drawElements(Et,kt,Ct,Ft*Tt),dt.update(kt,Et,1)}function Dt(Ft,kt,Ut){if(Ut===0)return;let Kt,tr;if(St)Kt=ft,tr="drawElementsInstanced";else if(Kt=lt.get("ANGLE_instanced_arrays"),tr="drawElementsInstancedANGLE",Kt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Kt[tr](Et,kt,Ct,Ft*Tt,Ut),dt.update(kt,Et,Ut)}this.setMode=At,this.setIndex=Rt,this.render=Bt,this.renderInstances=Dt}function WebGLInfo(ft){const lt={geometries:0,textures:0},dt={frame:0,calls:0,triangles:0,points:0,lines:0};function vt(Et,At,Ct){switch(dt.calls++,At){case 4:dt.triangles+=Ct*(Et/3);break;case 1:dt.lines+=Ct*(Et/2);break;case 3:dt.lines+=Ct*(Et-1);break;case 2:dt.lines+=Ct*Et;break;case 0:dt.points+=Ct*Et;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",At);break}}function St(){dt.frame++,dt.calls=0,dt.triangles=0,dt.points=0,dt.lines=0}return{memory:lt,render:dt,programs:null,autoReset:!0,reset:St,update:vt}}function numericalSort(ft,lt){return ft[0]-lt[0]}function absNumericalSort(ft,lt){return Math.abs(lt[1])-Math.abs(ft[1])}function WebGLMorphtargets(ft,lt,dt){const vt={},St=new Float32Array(8),Et=new WeakMap,At=new Vector4,Ct=[];for(let Rt=0;Rt<8;Rt++)Ct[Rt]=[Rt,0];function Tt(Rt,Bt,Dt,Ft){const kt=Rt.morphTargetInfluences;if(lt.isWebGL2===!0){const Kt=Bt.morphAttributes.position||Bt.morphAttributes.normal||Bt.morphAttributes.color,tr=Kt!==void 0?Kt.length:0;let Wt=Et.get(Bt);if(Wt===void 0||Wt.count!==tr){let Sr=function(){yr.dispose(),Et.delete(Bt),Bt.removeEventListener("dispose",Sr)};var Ut=Sr;Wt!==void 0&&Wt.texture.dispose();const nr=Bt.morphAttributes.position!==void 0,sr=Bt.morphAttributes.normal!==void 0,ar=Bt.morphAttributes.color!==void 0,ir=Bt.morphAttributes.position||[],rr=Bt.morphAttributes.normal||[],lr=Bt.morphAttributes.color||[];let ur=0;nr===!0&&(ur=1),sr===!0&&(ur=2),ar===!0&&(ur=3);let dr=Bt.attributes.position.count*ur,mr=1;dr>lt.maxTextureSize&&(mr=Math.ceil(dr/lt.maxTextureSize),dr=lt.maxTextureSize);const Cr=new Float32Array(dr*mr*4*tr),yr=new DataArrayTexture(Cr,dr,mr,tr);yr.type=FloatType,yr.needsUpdate=!0;const xr=ur*4;for(let br=0;br<tr;br++){const cr=ir[br],pr=rr[br],Er=lr[br],_r=dr*mr*4*br;for(let Ar=0;Ar<cr.count;Ar++){const Pr=Ar*xr;nr===!0&&(At.fromBufferAttribute(cr,Ar),Cr[_r+Pr+0]=At.x,Cr[_r+Pr+1]=At.y,Cr[_r+Pr+2]=At.z,Cr[_r+Pr+3]=0),sr===!0&&(At.fromBufferAttribute(pr,Ar),Cr[_r+Pr+4]=At.x,Cr[_r+Pr+5]=At.y,Cr[_r+Pr+6]=At.z,Cr[_r+Pr+7]=0),ar===!0&&(At.fromBufferAttribute(Er,Ar),Cr[_r+Pr+8]=At.x,Cr[_r+Pr+9]=At.y,Cr[_r+Pr+10]=At.z,Cr[_r+Pr+11]=Er.itemSize===4?At.w:1)}}Wt={count:tr,texture:yr,size:new Vector2(dr,mr)},Et.set(Bt,Wt),Bt.addEventListener("dispose",Sr)}let Zt=0;for(let nr=0;nr<kt.length;nr++)Zt+=kt[nr];const Ht=Bt.morphTargetsRelative?1:1-Zt;Ft.getUniforms().setValue(ft,"morphTargetBaseInfluence",Ht),Ft.getUniforms().setValue(ft,"morphTargetInfluences",kt),Ft.getUniforms().setValue(ft,"morphTargetsTexture",Wt.texture,dt),Ft.getUniforms().setValue(ft,"morphTargetsTextureSize",Wt.size)}else{const Kt=kt===void 0?0:kt.length;let tr=vt[Bt.id];if(tr===void 0||tr.length!==Kt){tr=[];for(let sr=0;sr<Kt;sr++)tr[sr]=[sr,0];vt[Bt.id]=tr}for(let sr=0;sr<Kt;sr++){const ar=tr[sr];ar[0]=sr,ar[1]=kt[sr]}tr.sort(absNumericalSort);for(let sr=0;sr<8;sr++)sr<Kt&&tr[sr][1]?(Ct[sr][0]=tr[sr][0],Ct[sr][1]=tr[sr][1]):(Ct[sr][0]=Number.MAX_SAFE_INTEGER,Ct[sr][1]=0);Ct.sort(numericalSort);const Wt=Bt.morphAttributes.position,Zt=Bt.morphAttributes.normal;let Ht=0;for(let sr=0;sr<8;sr++){const ar=Ct[sr],ir=ar[0],rr=ar[1];ir!==Number.MAX_SAFE_INTEGER&&rr?(Wt&&Bt.getAttribute("morphTarget"+sr)!==Wt[ir]&&Bt.setAttribute("morphTarget"+sr,Wt[ir]),Zt&&Bt.getAttribute("morphNormal"+sr)!==Zt[ir]&&Bt.setAttribute("morphNormal"+sr,Zt[ir]),St[sr]=rr,Ht+=rr):(Wt&&Bt.hasAttribute("morphTarget"+sr)===!0&&Bt.deleteAttribute("morphTarget"+sr),Zt&&Bt.hasAttribute("morphNormal"+sr)===!0&&Bt.deleteAttribute("morphNormal"+sr),St[sr]=0)}const nr=Bt.morphTargetsRelative?1:1-Ht;Ft.getUniforms().setValue(ft,"morphTargetBaseInfluence",nr),Ft.getUniforms().setValue(ft,"morphTargetInfluences",St)}}return{update:Tt}}function WebGLObjects(ft,lt,dt,vt){let St=new WeakMap;function Et(Tt){const Rt=vt.render.frame,Bt=Tt.geometry,Dt=lt.get(Tt,Bt);return St.get(Dt)!==Rt&&(lt.update(Dt),St.set(Dt,Rt)),Tt.isInstancedMesh&&(Tt.hasEventListener("dispose",Ct)===!1&&Tt.addEventListener("dispose",Ct),dt.update(Tt.instanceMatrix,34962),Tt.instanceColor!==null&&dt.update(Tt.instanceColor,34962)),Dt}function At(){St=new WeakMap}function Ct(Tt){const Rt=Tt.target;Rt.removeEventListener("dispose",Ct),dt.remove(Rt.instanceMatrix),Rt.instanceColor!==null&&dt.remove(Rt.instanceColor)}return{update:Et,dispose:At}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(ft,lt,dt){const vt=ft[0];if(vt<=0||vt>0)return ft;const St=lt*dt;let Et=arrayCacheF32[St];if(Et===void 0&&(Et=new Float32Array(St),arrayCacheF32[St]=Et),lt!==0){vt.toArray(Et,0);for(let At=1,Ct=0;At!==lt;++At)Ct+=dt,ft[At].toArray(Et,Ct)}return Et}function arraysEqual(ft,lt){if(ft.length!==lt.length)return!1;for(let dt=0,vt=ft.length;dt<vt;dt++)if(ft[dt]!==lt[dt])return!1;return!0}function copyArray(ft,lt){for(let dt=0,vt=lt.length;dt<vt;dt++)ft[dt]=lt[dt]}function allocTexUnits(ft,lt){let dt=arrayCacheI32[lt];dt===void 0&&(dt=new Int32Array(lt),arrayCacheI32[lt]=dt);for(let vt=0;vt!==lt;++vt)dt[vt]=ft.allocateTextureUnit();return dt}function setValueV1f(ft,lt){const dt=this.cache;dt[0]!==lt&&(ft.uniform1f(this.addr,lt),dt[0]=lt)}function setValueV2f(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y)&&(ft.uniform2f(this.addr,lt.x,lt.y),dt[0]=lt.x,dt[1]=lt.y);else{if(arraysEqual(dt,lt))return;ft.uniform2fv(this.addr,lt),copyArray(dt,lt)}}function setValueV3f(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y||dt[2]!==lt.z)&&(ft.uniform3f(this.addr,lt.x,lt.y,lt.z),dt[0]=lt.x,dt[1]=lt.y,dt[2]=lt.z);else if(lt.r!==void 0)(dt[0]!==lt.r||dt[1]!==lt.g||dt[2]!==lt.b)&&(ft.uniform3f(this.addr,lt.r,lt.g,lt.b),dt[0]=lt.r,dt[1]=lt.g,dt[2]=lt.b);else{if(arraysEqual(dt,lt))return;ft.uniform3fv(this.addr,lt),copyArray(dt,lt)}}function setValueV4f(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y||dt[2]!==lt.z||dt[3]!==lt.w)&&(ft.uniform4f(this.addr,lt.x,lt.y,lt.z,lt.w),dt[0]=lt.x,dt[1]=lt.y,dt[2]=lt.z,dt[3]=lt.w);else{if(arraysEqual(dt,lt))return;ft.uniform4fv(this.addr,lt),copyArray(dt,lt)}}function setValueM2(ft,lt){const dt=this.cache,vt=lt.elements;if(vt===void 0){if(arraysEqual(dt,lt))return;ft.uniformMatrix2fv(this.addr,!1,lt),copyArray(dt,lt)}else{if(arraysEqual(dt,vt))return;mat2array.set(vt),ft.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(dt,vt)}}function setValueM3(ft,lt){const dt=this.cache,vt=lt.elements;if(vt===void 0){if(arraysEqual(dt,lt))return;ft.uniformMatrix3fv(this.addr,!1,lt),copyArray(dt,lt)}else{if(arraysEqual(dt,vt))return;mat3array.set(vt),ft.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(dt,vt)}}function setValueM4(ft,lt){const dt=this.cache,vt=lt.elements;if(vt===void 0){if(arraysEqual(dt,lt))return;ft.uniformMatrix4fv(this.addr,!1,lt),copyArray(dt,lt)}else{if(arraysEqual(dt,vt))return;mat4array.set(vt),ft.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(dt,vt)}}function setValueV1i(ft,lt){const dt=this.cache;dt[0]!==lt&&(ft.uniform1i(this.addr,lt),dt[0]=lt)}function setValueV2i(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y)&&(ft.uniform2i(this.addr,lt.x,lt.y),dt[0]=lt.x,dt[1]=lt.y);else{if(arraysEqual(dt,lt))return;ft.uniform2iv(this.addr,lt),copyArray(dt,lt)}}function setValueV3i(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y||dt[2]!==lt.z)&&(ft.uniform3i(this.addr,lt.x,lt.y,lt.z),dt[0]=lt.x,dt[1]=lt.y,dt[2]=lt.z);else{if(arraysEqual(dt,lt))return;ft.uniform3iv(this.addr,lt),copyArray(dt,lt)}}function setValueV4i(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y||dt[2]!==lt.z||dt[3]!==lt.w)&&(ft.uniform4i(this.addr,lt.x,lt.y,lt.z,lt.w),dt[0]=lt.x,dt[1]=lt.y,dt[2]=lt.z,dt[3]=lt.w);else{if(arraysEqual(dt,lt))return;ft.uniform4iv(this.addr,lt),copyArray(dt,lt)}}function setValueV1ui(ft,lt){const dt=this.cache;dt[0]!==lt&&(ft.uniform1ui(this.addr,lt),dt[0]=lt)}function setValueV2ui(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y)&&(ft.uniform2ui(this.addr,lt.x,lt.y),dt[0]=lt.x,dt[1]=lt.y);else{if(arraysEqual(dt,lt))return;ft.uniform2uiv(this.addr,lt),copyArray(dt,lt)}}function setValueV3ui(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y||dt[2]!==lt.z)&&(ft.uniform3ui(this.addr,lt.x,lt.y,lt.z),dt[0]=lt.x,dt[1]=lt.y,dt[2]=lt.z);else{if(arraysEqual(dt,lt))return;ft.uniform3uiv(this.addr,lt),copyArray(dt,lt)}}function setValueV4ui(ft,lt){const dt=this.cache;if(lt.x!==void 0)(dt[0]!==lt.x||dt[1]!==lt.y||dt[2]!==lt.z||dt[3]!==lt.w)&&(ft.uniform4ui(this.addr,lt.x,lt.y,lt.z,lt.w),dt[0]=lt.x,dt[1]=lt.y,dt[2]=lt.z,dt[3]=lt.w);else{if(arraysEqual(dt,lt))return;ft.uniform4uiv(this.addr,lt),copyArray(dt,lt)}}function setValueT1(ft,lt,dt){const vt=this.cache,St=dt.allocateTextureUnit();vt[0]!==St&&(ft.uniform1i(this.addr,St),vt[0]=St),dt.setTexture2D(lt||emptyTexture,St)}function setValueT3D1(ft,lt,dt){const vt=this.cache,St=dt.allocateTextureUnit();vt[0]!==St&&(ft.uniform1i(this.addr,St),vt[0]=St),dt.setTexture3D(lt||empty3dTexture,St)}function setValueT6(ft,lt,dt){const vt=this.cache,St=dt.allocateTextureUnit();vt[0]!==St&&(ft.uniform1i(this.addr,St),vt[0]=St),dt.setTextureCube(lt||emptyCubeTexture,St)}function setValueT2DArray1(ft,lt,dt){const vt=this.cache,St=dt.allocateTextureUnit();vt[0]!==St&&(ft.uniform1i(this.addr,St),vt[0]=St),dt.setTexture2DArray(lt||emptyArrayTexture,St)}function getSingularSetter(ft){switch(ft){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(ft,lt){ft.uniform1fv(this.addr,lt)}function setValueV2fArray(ft,lt){const dt=flatten(lt,this.size,2);ft.uniform2fv(this.addr,dt)}function setValueV3fArray(ft,lt){const dt=flatten(lt,this.size,3);ft.uniform3fv(this.addr,dt)}function setValueV4fArray(ft,lt){const dt=flatten(lt,this.size,4);ft.uniform4fv(this.addr,dt)}function setValueM2Array(ft,lt){const dt=flatten(lt,this.size,4);ft.uniformMatrix2fv(this.addr,!1,dt)}function setValueM3Array(ft,lt){const dt=flatten(lt,this.size,9);ft.uniformMatrix3fv(this.addr,!1,dt)}function setValueM4Array(ft,lt){const dt=flatten(lt,this.size,16);ft.uniformMatrix4fv(this.addr,!1,dt)}function setValueV1iArray(ft,lt){ft.uniform1iv(this.addr,lt)}function setValueV2iArray(ft,lt){ft.uniform2iv(this.addr,lt)}function setValueV3iArray(ft,lt){ft.uniform3iv(this.addr,lt)}function setValueV4iArray(ft,lt){ft.uniform4iv(this.addr,lt)}function setValueV1uiArray(ft,lt){ft.uniform1uiv(this.addr,lt)}function setValueV2uiArray(ft,lt){ft.uniform2uiv(this.addr,lt)}function setValueV3uiArray(ft,lt){ft.uniform3uiv(this.addr,lt)}function setValueV4uiArray(ft,lt){ft.uniform4uiv(this.addr,lt)}function setValueT1Array(ft,lt,dt){const vt=this.cache,St=lt.length,Et=allocTexUnits(dt,St);arraysEqual(vt,Et)||(ft.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)dt.setTexture2D(lt[At]||emptyTexture,Et[At])}function setValueT3DArray(ft,lt,dt){const vt=this.cache,St=lt.length,Et=allocTexUnits(dt,St);arraysEqual(vt,Et)||(ft.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)dt.setTexture3D(lt[At]||empty3dTexture,Et[At])}function setValueT6Array(ft,lt,dt){const vt=this.cache,St=lt.length,Et=allocTexUnits(dt,St);arraysEqual(vt,Et)||(ft.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)dt.setTextureCube(lt[At]||emptyCubeTexture,Et[At])}function setValueT2DArrayArray(ft,lt,dt){const vt=this.cache,St=lt.length,Et=allocTexUnits(dt,St);arraysEqual(vt,Et)||(ft.uniform1iv(this.addr,Et),copyArray(vt,Et));for(let At=0;At!==St;++At)dt.setTexture2DArray(lt[At]||emptyArrayTexture,Et[At])}function getPureArraySetter(ft){switch(ft){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(lt,dt,vt){this.id=lt,this.addr=vt,this.cache=[],this.setValue=getSingularSetter(dt.type)}}class PureArrayUniform{constructor(lt,dt,vt){this.id=lt,this.addr=vt,this.cache=[],this.size=dt.size,this.setValue=getPureArraySetter(dt.type)}}class StructuredUniform{constructor(lt){this.id=lt,this.seq=[],this.map={}}setValue(lt,dt,vt){const St=this.seq;for(let Et=0,At=St.length;Et!==At;++Et){const Ct=St[Et];Ct.setValue(lt,dt[Ct.id],vt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(ft,lt){ft.seq.push(lt),ft.map[lt.id]=lt}function parseUniform(ft,lt,dt){const vt=ft.name,St=vt.length;for(RePathPart.lastIndex=0;;){const Et=RePathPart.exec(vt),At=RePathPart.lastIndex;let Ct=Et[1];const Tt=Et[2]==="]",Rt=Et[3];if(Tt&&(Ct=Ct|0),Rt===void 0||Rt==="["&&At+2===St){addUniform(dt,Rt===void 0?new SingleUniform(Ct,ft,lt):new PureArrayUniform(Ct,ft,lt));break}else{let Dt=dt.map[Ct];Dt===void 0&&(Dt=new StructuredUniform(Ct),addUniform(dt,Dt)),dt=Dt}}}class WebGLUniforms{constructor(lt,dt){this.seq=[],this.map={};const vt=lt.getProgramParameter(dt,35718);for(let St=0;St<vt;++St){const Et=lt.getActiveUniform(dt,St),At=lt.getUniformLocation(dt,Et.name);parseUniform(Et,At,this)}}setValue(lt,dt,vt,St){const Et=this.map[dt];Et!==void 0&&Et.setValue(lt,vt,St)}setOptional(lt,dt,vt){const St=dt[vt];St!==void 0&&this.setValue(lt,vt,St)}static upload(lt,dt,vt,St){for(let Et=0,At=dt.length;Et!==At;++Et){const Ct=dt[Et],Tt=vt[Ct.id];Tt.needsUpdate!==!1&&Ct.setValue(lt,Tt.value,St)}}static seqWithValue(lt,dt){const vt=[];for(let St=0,Et=lt.length;St!==Et;++St){const At=lt[St];At.id in dt&&vt.push(At)}return vt}}function WebGLShader(ft,lt,dt){const vt=ft.createShader(lt);return ft.shaderSource(vt,dt),ft.compileShader(vt),vt}let programIdCount=0;function handleSource(ft,lt){const dt=ft.split(`
`),vt=[],St=Math.max(lt-6,0),Et=Math.min(lt+6,dt.length);for(let At=St;At<Et;At++){const Ct=At+1;vt.push(`${Ct===lt?">":" "} ${Ct}: ${dt[At]}`)}return vt.join(`
`)}function getEncodingComponents(ft){switch(ft){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",ft),["Linear","( value )"]}}function getShaderErrors(ft,lt,dt){const vt=ft.getShaderParameter(lt,35713),St=ft.getShaderInfoLog(lt).trim();if(vt&&St==="")return"";const Et=/ERROR: 0:(\d+)/.exec(St);if(Et){const At=parseInt(Et[1]);return dt.toUpperCase()+`

`+St+`

`+handleSource(ft.getShaderSource(lt),At)}else return St}function getTexelEncodingFunction(ft,lt){const dt=getEncodingComponents(lt);return"vec4 "+ft+"( vec4 value ) { return LinearTo"+dt[0]+dt[1]+"; }"}function getToneMappingFunction(ft,lt){let dt;switch(lt){case LinearToneMapping:dt="Linear";break;case ReinhardToneMapping:dt="Reinhard";break;case CineonToneMapping:dt="OptimizedCineon";break;case ACESFilmicToneMapping:dt="ACESFilmic";break;case CustomToneMapping:dt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",lt),dt="Linear"}return"vec3 "+ft+"( vec3 color ) { return "+dt+"ToneMapping( color ); }"}function generateExtensions(ft){return[ft.extensionDerivatives||ft.envMapCubeUVHeight||ft.bumpMap||ft.tangentSpaceNormalMap||ft.clearcoatNormalMap||ft.flatShading||ft.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(ft.extensionFragDepth||ft.logarithmicDepthBuffer)&&ft.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",ft.extensionDrawBuffers&&ft.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(ft.extensionShaderTextureLOD||ft.envMap||ft.transmission)&&ft.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(ft){const lt=[];for(const dt in ft){const vt=ft[dt];vt!==!1&&lt.push("#define "+dt+" "+vt)}return lt.join(`
`)}function fetchAttributeLocations(ft,lt){const dt={},vt=ft.getProgramParameter(lt,35721);for(let St=0;St<vt;St++){const Et=ft.getActiveAttrib(lt,St),At=Et.name;let Ct=1;Et.type===35674&&(Ct=2),Et.type===35675&&(Ct=3),Et.type===35676&&(Ct=4),dt[At]={type:Et.type,location:ft.getAttribLocation(lt,At),locationSize:Ct}}return dt}function filterEmptyLine(ft){return ft!==""}function replaceLightNums(ft,lt){const dt=lt.numSpotLightShadows+lt.numSpotLightMaps-lt.numSpotLightShadowsWithMaps;return ft.replace(/NUM_DIR_LIGHTS/g,lt.numDirLights).replace(/NUM_SPOT_LIGHTS/g,lt.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,lt.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,dt).replace(/NUM_RECT_AREA_LIGHTS/g,lt.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,lt.numPointLights).replace(/NUM_HEMI_LIGHTS/g,lt.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,lt.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,lt.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,lt.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,lt.numPointLightShadows)}function replaceClippingPlaneNums(ft,lt){return ft.replace(/NUM_CLIPPING_PLANES/g,lt.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,lt.numClippingPlanes-lt.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(ft){return ft.replace(includePattern,includeReplacer)}function includeReplacer(ft,lt){const dt=ShaderChunk[lt];if(dt===void 0)throw new Error("Can not resolve #include <"+lt+">");return resolveIncludes(dt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(ft){return ft.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(ft,lt,dt,vt){let St="";for(let Et=parseInt(lt);Et<parseInt(dt);Et++)St+=vt.replace(/\[\s*i\s*\]/g,"[ "+Et+" ]").replace(/UNROLLED_LOOP_INDEX/g,Et);return St}function generatePrecision(ft){let lt="precision "+ft.precision+` float;
precision `+ft.precision+" int;";return ft.precision==="highp"?lt+=`
#define HIGH_PRECISION`:ft.precision==="mediump"?lt+=`
#define MEDIUM_PRECISION`:ft.precision==="lowp"&&(lt+=`
#define LOW_PRECISION`),lt}function generateShadowMapTypeDefine(ft){let lt="SHADOWMAP_TYPE_BASIC";return ft.shadowMapType===PCFShadowMap?lt="SHADOWMAP_TYPE_PCF":ft.shadowMapType===PCFSoftShadowMap?lt="SHADOWMAP_TYPE_PCF_SOFT":ft.shadowMapType===VSMShadowMap&&(lt="SHADOWMAP_TYPE_VSM"),lt}function generateEnvMapTypeDefine(ft){let lt="ENVMAP_TYPE_CUBE";if(ft.envMap)switch(ft.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:lt="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:lt="ENVMAP_TYPE_CUBE_UV";break}return lt}function generateEnvMapModeDefine(ft){let lt="ENVMAP_MODE_REFLECTION";if(ft.envMap)switch(ft.envMapMode){case CubeRefractionMapping:lt="ENVMAP_MODE_REFRACTION";break}return lt}function generateEnvMapBlendingDefine(ft){let lt="ENVMAP_BLENDING_NONE";if(ft.envMap)switch(ft.combine){case MultiplyOperation:lt="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:lt="ENVMAP_BLENDING_MIX";break;case AddOperation:lt="ENVMAP_BLENDING_ADD";break}return lt}function generateCubeUVSize(ft){const lt=ft.envMapCubeUVHeight;if(lt===null)return null;const dt=Math.log2(lt)-2,vt=1/lt;return{texelWidth:1/(3*Math.max(Math.pow(2,dt),7*16)),texelHeight:vt,maxMip:dt}}function WebGLProgram(ft,lt,dt,vt){const St=ft.getContext(),Et=dt.defines;let At=dt.vertexShader,Ct=dt.fragmentShader;const Tt=generateShadowMapTypeDefine(dt),Rt=generateEnvMapTypeDefine(dt),Bt=generateEnvMapModeDefine(dt),Dt=generateEnvMapBlendingDefine(dt),Ft=generateCubeUVSize(dt),kt=dt.isWebGL2?"":generateExtensions(dt),Ut=generateDefines(Et),Kt=St.createProgram();let tr,Wt,Zt=dt.glslVersion?"#version "+dt.glslVersion+`
`:"";dt.isRawShaderMaterial?(tr=[Ut].filter(filterEmptyLine).join(`
`),tr.length>0&&(tr+=`
`),Wt=[kt,Ut].filter(filterEmptyLine).join(`
`),Wt.length>0&&(Wt+=`
`)):(tr=[generatePrecision(dt),"#define SHADER_NAME "+dt.shaderName,Ut,dt.instancing?"#define USE_INSTANCING":"",dt.instancingColor?"#define USE_INSTANCING_COLOR":"",dt.supportsVertexTextures?"#define VERTEX_TEXTURES":"",dt.useFog&&dt.fog?"#define USE_FOG":"",dt.useFog&&dt.fogExp2?"#define FOG_EXP2":"",dt.map?"#define USE_MAP":"",dt.envMap?"#define USE_ENVMAP":"",dt.envMap?"#define "+Bt:"",dt.lightMap?"#define USE_LIGHTMAP":"",dt.aoMap?"#define USE_AOMAP":"",dt.emissiveMap?"#define USE_EMISSIVEMAP":"",dt.bumpMap?"#define USE_BUMPMAP":"",dt.normalMap?"#define USE_NORMALMAP":"",dt.normalMap&&dt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",dt.normalMap&&dt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",dt.clearcoatMap?"#define USE_CLEARCOATMAP":"",dt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",dt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",dt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",dt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",dt.displacementMap&&dt.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",dt.specularMap?"#define USE_SPECULARMAP":"",dt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",dt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",dt.roughnessMap?"#define USE_ROUGHNESSMAP":"",dt.metalnessMap?"#define USE_METALNESSMAP":"",dt.alphaMap?"#define USE_ALPHAMAP":"",dt.transmission?"#define USE_TRANSMISSION":"",dt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",dt.thicknessMap?"#define USE_THICKNESSMAP":"",dt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",dt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",dt.vertexTangents?"#define USE_TANGENT":"",dt.vertexColors?"#define USE_COLOR":"",dt.vertexAlphas?"#define USE_COLOR_ALPHA":"",dt.vertexUvs?"#define USE_UV":"",dt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",dt.flatShading?"#define FLAT_SHADED":"",dt.skinning?"#define USE_SKINNING":"",dt.morphTargets?"#define USE_MORPHTARGETS":"",dt.morphNormals&&dt.flatShading===!1?"#define USE_MORPHNORMALS":"",dt.morphColors&&dt.isWebGL2?"#define USE_MORPHCOLORS":"",dt.morphTargetsCount>0&&dt.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",dt.morphTargetsCount>0&&dt.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+dt.morphTextureStride:"",dt.morphTargetsCount>0&&dt.isWebGL2?"#define MORPHTARGETS_COUNT "+dt.morphTargetsCount:"",dt.doubleSided?"#define DOUBLE_SIDED":"",dt.flipSided?"#define FLIP_SIDED":"",dt.shadowMapEnabled?"#define USE_SHADOWMAP":"",dt.shadowMapEnabled?"#define "+Tt:"",dt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",dt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",dt.logarithmicDepthBuffer&&dt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Wt=[kt,generatePrecision(dt),"#define SHADER_NAME "+dt.shaderName,Ut,dt.useFog&&dt.fog?"#define USE_FOG":"",dt.useFog&&dt.fogExp2?"#define FOG_EXP2":"",dt.map?"#define USE_MAP":"",dt.matcap?"#define USE_MATCAP":"",dt.envMap?"#define USE_ENVMAP":"",dt.envMap?"#define "+Rt:"",dt.envMap?"#define "+Bt:"",dt.envMap?"#define "+Dt:"",Ft?"#define CUBEUV_TEXEL_WIDTH "+Ft.texelWidth:"",Ft?"#define CUBEUV_TEXEL_HEIGHT "+Ft.texelHeight:"",Ft?"#define CUBEUV_MAX_MIP "+Ft.maxMip+".0":"",dt.lightMap?"#define USE_LIGHTMAP":"",dt.aoMap?"#define USE_AOMAP":"",dt.emissiveMap?"#define USE_EMISSIVEMAP":"",dt.bumpMap?"#define USE_BUMPMAP":"",dt.normalMap?"#define USE_NORMALMAP":"",dt.normalMap&&dt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",dt.normalMap&&dt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",dt.clearcoat?"#define USE_CLEARCOAT":"",dt.clearcoatMap?"#define USE_CLEARCOATMAP":"",dt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",dt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",dt.iridescence?"#define USE_IRIDESCENCE":"",dt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",dt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",dt.specularMap?"#define USE_SPECULARMAP":"",dt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",dt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",dt.roughnessMap?"#define USE_ROUGHNESSMAP":"",dt.metalnessMap?"#define USE_METALNESSMAP":"",dt.alphaMap?"#define USE_ALPHAMAP":"",dt.alphaTest?"#define USE_ALPHATEST":"",dt.sheen?"#define USE_SHEEN":"",dt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",dt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",dt.transmission?"#define USE_TRANSMISSION":"",dt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",dt.thicknessMap?"#define USE_THICKNESSMAP":"",dt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",dt.vertexTangents?"#define USE_TANGENT":"",dt.vertexColors||dt.instancingColor?"#define USE_COLOR":"",dt.vertexAlphas?"#define USE_COLOR_ALPHA":"",dt.vertexUvs?"#define USE_UV":"",dt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",dt.gradientMap?"#define USE_GRADIENTMAP":"",dt.flatShading?"#define FLAT_SHADED":"",dt.doubleSided?"#define DOUBLE_SIDED":"",dt.flipSided?"#define FLIP_SIDED":"",dt.shadowMapEnabled?"#define USE_SHADOWMAP":"",dt.shadowMapEnabled?"#define "+Tt:"",dt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",dt.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",dt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",dt.logarithmicDepthBuffer&&dt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",dt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",dt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",dt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",dt.toneMapping):"",dt.dithering?"#define DITHERING":"",dt.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",dt.outputEncoding),dt.useDepthPacking?"#define DEPTH_PACKING "+dt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),At=resolveIncludes(At),At=replaceLightNums(At,dt),At=replaceClippingPlaneNums(At,dt),Ct=resolveIncludes(Ct),Ct=replaceLightNums(Ct,dt),Ct=replaceClippingPlaneNums(Ct,dt),At=unrollLoops(At),Ct=unrollLoops(Ct),dt.isWebGL2&&dt.isRawShaderMaterial!==!0&&(Zt=`#version 300 es
`,tr=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+tr,Wt=["#define varying in",dt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",dt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Wt);const Ht=Zt+tr+At,nr=Zt+Wt+Ct,sr=WebGLShader(St,35633,Ht),ar=WebGLShader(St,35632,nr);if(St.attachShader(Kt,sr),St.attachShader(Kt,ar),dt.index0AttributeName!==void 0?St.bindAttribLocation(Kt,0,dt.index0AttributeName):dt.morphTargets===!0&&St.bindAttribLocation(Kt,0,"position"),St.linkProgram(Kt),ft.debug.checkShaderErrors){const lr=St.getProgramInfoLog(Kt).trim(),ur=St.getShaderInfoLog(sr).trim(),dr=St.getShaderInfoLog(ar).trim();let mr=!0,Cr=!0;if(St.getProgramParameter(Kt,35714)===!1){mr=!1;const yr=getShaderErrors(St,sr,"vertex"),xr=getShaderErrors(St,ar,"fragment");console.error("THREE.WebGLProgram: Shader Error "+St.getError()+" - VALIDATE_STATUS "+St.getProgramParameter(Kt,35715)+`

Program Info Log: `+lr+`
`+yr+`
`+xr)}else lr!==""?console.warn("THREE.WebGLProgram: Program Info Log:",lr):(ur===""||dr==="")&&(Cr=!1);Cr&&(this.diagnostics={runnable:mr,programLog:lr,vertexShader:{log:ur,prefix:tr},fragmentShader:{log:dr,prefix:Wt}})}St.deleteShader(sr),St.deleteShader(ar);let ir;this.getUniforms=function(){return ir===void 0&&(ir=new WebGLUniforms(St,Kt)),ir};let rr;return this.getAttributes=function(){return rr===void 0&&(rr=fetchAttributeLocations(St,Kt)),rr},this.destroy=function(){vt.releaseStatesOfProgram(this),St.deleteProgram(Kt),this.program=void 0},this.name=dt.shaderName,this.id=programIdCount++,this.cacheKey=lt,this.usedTimes=1,this.program=Kt,this.vertexShader=sr,this.fragmentShader=ar,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(lt){const dt=lt.vertexShader,vt=lt.fragmentShader,St=this._getShaderStage(dt),Et=this._getShaderStage(vt),At=this._getShaderCacheForMaterial(lt);return At.has(St)===!1&&(At.add(St),St.usedTimes++),At.has(Et)===!1&&(At.add(Et),Et.usedTimes++),this}remove(lt){const dt=this.materialCache.get(lt);for(const vt of dt)vt.usedTimes--,vt.usedTimes===0&&this.shaderCache.delete(vt.code);return this.materialCache.delete(lt),this}getVertexShaderID(lt){return this._getShaderStage(lt.vertexShader).id}getFragmentShaderID(lt){return this._getShaderStage(lt.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(lt){const dt=this.materialCache;let vt=dt.get(lt);return vt===void 0&&(vt=new Set,dt.set(lt,vt)),vt}_getShaderStage(lt){const dt=this.shaderCache;let vt=dt.get(lt);return vt===void 0&&(vt=new WebGLShaderStage(lt),dt.set(lt,vt)),vt}}class WebGLShaderStage{constructor(lt){this.id=_id++,this.code=lt,this.usedTimes=0}}function WebGLPrograms(ft,lt,dt,vt,St,Et,At){const Ct=new Layers,Tt=new WebGLShaderCache,Rt=[],Bt=St.isWebGL2,Dt=St.logarithmicDepthBuffer,Ft=St.vertexTextures;let kt=St.precision;const Ut={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Kt(rr,lr,ur,dr,mr){const Cr=dr.fog,yr=mr.geometry,xr=rr.isMeshStandardMaterial?dr.environment:null,Sr=(rr.isMeshStandardMaterial?dt:lt).get(rr.envMap||xr),br=Sr&&Sr.mapping===CubeUVReflectionMapping?Sr.image.height:null,cr=Ut[rr.type];rr.precision!==null&&(kt=St.getMaxPrecision(rr.precision),kt!==rr.precision&&console.warn("THREE.WebGLProgram.getParameters:",rr.precision,"not supported, using",kt,"instead."));const pr=yr.morphAttributes.position||yr.morphAttributes.normal||yr.morphAttributes.color,Er=pr!==void 0?pr.length:0;let _r=0;yr.morphAttributes.position!==void 0&&(_r=1),yr.morphAttributes.normal!==void 0&&(_r=2),yr.morphAttributes.color!==void 0&&(_r=3);let Ar,Pr,Ir,kr;if(cr){const Vr=ShaderLib[cr];Ar=Vr.vertexShader,Pr=Vr.fragmentShader}else Ar=rr.vertexShader,Pr=rr.fragmentShader,Tt.update(rr),Ir=Tt.getVertexShaderID(rr),kr=Tt.getFragmentShaderID(rr);const Dr=ft.getRenderTarget(),Jr=rr.alphaTest>0,Or=rr.clearcoat>0,jr=rr.iridescence>0;return{isWebGL2:Bt,shaderID:cr,shaderName:rr.type,vertexShader:Ar,fragmentShader:Pr,defines:rr.defines,customVertexShaderID:Ir,customFragmentShaderID:kr,isRawShaderMaterial:rr.isRawShaderMaterial===!0,glslVersion:rr.glslVersion,precision:kt,instancing:mr.isInstancedMesh===!0,instancingColor:mr.isInstancedMesh===!0&&mr.instanceColor!==null,supportsVertexTextures:Ft,outputEncoding:Dr===null?ft.outputEncoding:Dr.isXRRenderTarget===!0?Dr.texture.encoding:LinearEncoding,map:!!rr.map,matcap:!!rr.matcap,envMap:!!Sr,envMapMode:Sr&&Sr.mapping,envMapCubeUVHeight:br,lightMap:!!rr.lightMap,aoMap:!!rr.aoMap,emissiveMap:!!rr.emissiveMap,bumpMap:!!rr.bumpMap,normalMap:!!rr.normalMap,objectSpaceNormalMap:rr.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:rr.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!rr.map&&rr.map.isVideoTexture===!0&&rr.map.encoding===sRGBEncoding,clearcoat:Or,clearcoatMap:Or&&!!rr.clearcoatMap,clearcoatRoughnessMap:Or&&!!rr.clearcoatRoughnessMap,clearcoatNormalMap:Or&&!!rr.clearcoatNormalMap,iridescence:jr,iridescenceMap:jr&&!!rr.iridescenceMap,iridescenceThicknessMap:jr&&!!rr.iridescenceThicknessMap,displacementMap:!!rr.displacementMap,roughnessMap:!!rr.roughnessMap,metalnessMap:!!rr.metalnessMap,specularMap:!!rr.specularMap,specularIntensityMap:!!rr.specularIntensityMap,specularColorMap:!!rr.specularColorMap,opaque:rr.transparent===!1&&rr.blending===NormalBlending,alphaMap:!!rr.alphaMap,alphaTest:Jr,gradientMap:!!rr.gradientMap,sheen:rr.sheen>0,sheenColorMap:!!rr.sheenColorMap,sheenRoughnessMap:!!rr.sheenRoughnessMap,transmission:rr.transmission>0,transmissionMap:!!rr.transmissionMap,thicknessMap:!!rr.thicknessMap,combine:rr.combine,vertexTangents:!!rr.normalMap&&!!yr.attributes.tangent,vertexColors:rr.vertexColors,vertexAlphas:rr.vertexColors===!0&&!!yr.attributes.color&&yr.attributes.color.itemSize===4,vertexUvs:!!rr.map||!!rr.bumpMap||!!rr.normalMap||!!rr.specularMap||!!rr.alphaMap||!!rr.emissiveMap||!!rr.roughnessMap||!!rr.metalnessMap||!!rr.clearcoatMap||!!rr.clearcoatRoughnessMap||!!rr.clearcoatNormalMap||!!rr.iridescenceMap||!!rr.iridescenceThicknessMap||!!rr.displacementMap||!!rr.transmissionMap||!!rr.thicknessMap||!!rr.specularIntensityMap||!!rr.specularColorMap||!!rr.sheenColorMap||!!rr.sheenRoughnessMap,uvsVertexOnly:!(rr.map||rr.bumpMap||rr.normalMap||rr.specularMap||rr.alphaMap||rr.emissiveMap||rr.roughnessMap||rr.metalnessMap||rr.clearcoatNormalMap||rr.iridescenceMap||rr.iridescenceThicknessMap||rr.transmission>0||rr.transmissionMap||rr.thicknessMap||rr.specularIntensityMap||rr.specularColorMap||rr.sheen>0||rr.sheenColorMap||rr.sheenRoughnessMap)&&!!rr.displacementMap,fog:!!Cr,useFog:rr.fog===!0,fogExp2:Cr&&Cr.isFogExp2,flatShading:!!rr.flatShading,sizeAttenuation:rr.sizeAttenuation,logarithmicDepthBuffer:Dt,skinning:mr.isSkinnedMesh===!0,morphTargets:yr.morphAttributes.position!==void 0,morphNormals:yr.morphAttributes.normal!==void 0,morphColors:yr.morphAttributes.color!==void 0,morphTargetsCount:Er,morphTextureStride:_r,numDirLights:lr.directional.length,numPointLights:lr.point.length,numSpotLights:lr.spot.length,numSpotLightMaps:lr.spotLightMap.length,numRectAreaLights:lr.rectArea.length,numHemiLights:lr.hemi.length,numDirLightShadows:lr.directionalShadowMap.length,numPointLightShadows:lr.pointShadowMap.length,numSpotLightShadows:lr.spotShadowMap.length,numSpotLightShadowsWithMaps:lr.numSpotLightShadowsWithMaps,numClippingPlanes:At.numPlanes,numClipIntersection:At.numIntersection,dithering:rr.dithering,shadowMapEnabled:ft.shadowMap.enabled&&ur.length>0,shadowMapType:ft.shadowMap.type,toneMapping:rr.toneMapped?ft.toneMapping:NoToneMapping,physicallyCorrectLights:ft.physicallyCorrectLights,premultipliedAlpha:rr.premultipliedAlpha,doubleSided:rr.side===DoubleSide,flipSided:rr.side===BackSide,useDepthPacking:!!rr.depthPacking,depthPacking:rr.depthPacking||0,index0AttributeName:rr.index0AttributeName,extensionDerivatives:rr.extensions&&rr.extensions.derivatives,extensionFragDepth:rr.extensions&&rr.extensions.fragDepth,extensionDrawBuffers:rr.extensions&&rr.extensions.drawBuffers,extensionShaderTextureLOD:rr.extensions&&rr.extensions.shaderTextureLOD,rendererExtensionFragDepth:Bt||vt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:Bt||vt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:Bt||vt.has("EXT_shader_texture_lod"),customProgramCacheKey:rr.customProgramCacheKey()}}function tr(rr){const lr=[];if(rr.shaderID?lr.push(rr.shaderID):(lr.push(rr.customVertexShaderID),lr.push(rr.customFragmentShaderID)),rr.defines!==void 0)for(const ur in rr.defines)lr.push(ur),lr.push(rr.defines[ur]);return rr.isRawShaderMaterial===!1&&(Wt(lr,rr),Zt(lr,rr),lr.push(ft.outputEncoding)),lr.push(rr.customProgramCacheKey),lr.join()}function Wt(rr,lr){rr.push(lr.precision),rr.push(lr.outputEncoding),rr.push(lr.envMapMode),rr.push(lr.envMapCubeUVHeight),rr.push(lr.combine),rr.push(lr.vertexUvs),rr.push(lr.fogExp2),rr.push(lr.sizeAttenuation),rr.push(lr.morphTargetsCount),rr.push(lr.morphAttributeCount),rr.push(lr.numDirLights),rr.push(lr.numPointLights),rr.push(lr.numSpotLights),rr.push(lr.numSpotLightMaps),rr.push(lr.numHemiLights),rr.push(lr.numRectAreaLights),rr.push(lr.numDirLightShadows),rr.push(lr.numPointLightShadows),rr.push(lr.numSpotLightShadows),rr.push(lr.numSpotLightShadowsWithMaps),rr.push(lr.shadowMapType),rr.push(lr.toneMapping),rr.push(lr.numClippingPlanes),rr.push(lr.numClipIntersection),rr.push(lr.depthPacking)}function Zt(rr,lr){Ct.disableAll(),lr.isWebGL2&&Ct.enable(0),lr.supportsVertexTextures&&Ct.enable(1),lr.instancing&&Ct.enable(2),lr.instancingColor&&Ct.enable(3),lr.map&&Ct.enable(4),lr.matcap&&Ct.enable(5),lr.envMap&&Ct.enable(6),lr.lightMap&&Ct.enable(7),lr.aoMap&&Ct.enable(8),lr.emissiveMap&&Ct.enable(9),lr.bumpMap&&Ct.enable(10),lr.normalMap&&Ct.enable(11),lr.objectSpaceNormalMap&&Ct.enable(12),lr.tangentSpaceNormalMap&&Ct.enable(13),lr.clearcoat&&Ct.enable(14),lr.clearcoatMap&&Ct.enable(15),lr.clearcoatRoughnessMap&&Ct.enable(16),lr.clearcoatNormalMap&&Ct.enable(17),lr.iridescence&&Ct.enable(18),lr.iridescenceMap&&Ct.enable(19),lr.iridescenceThicknessMap&&Ct.enable(20),lr.displacementMap&&Ct.enable(21),lr.specularMap&&Ct.enable(22),lr.roughnessMap&&Ct.enable(23),lr.metalnessMap&&Ct.enable(24),lr.gradientMap&&Ct.enable(25),lr.alphaMap&&Ct.enable(26),lr.alphaTest&&Ct.enable(27),lr.vertexColors&&Ct.enable(28),lr.vertexAlphas&&Ct.enable(29),lr.vertexUvs&&Ct.enable(30),lr.vertexTangents&&Ct.enable(31),lr.uvsVertexOnly&&Ct.enable(32),rr.push(Ct.mask),Ct.disableAll(),lr.fog&&Ct.enable(0),lr.useFog&&Ct.enable(1),lr.flatShading&&Ct.enable(2),lr.logarithmicDepthBuffer&&Ct.enable(3),lr.skinning&&Ct.enable(4),lr.morphTargets&&Ct.enable(5),lr.morphNormals&&Ct.enable(6),lr.morphColors&&Ct.enable(7),lr.premultipliedAlpha&&Ct.enable(8),lr.shadowMapEnabled&&Ct.enable(9),lr.physicallyCorrectLights&&Ct.enable(10),lr.doubleSided&&Ct.enable(11),lr.flipSided&&Ct.enable(12),lr.useDepthPacking&&Ct.enable(13),lr.dithering&&Ct.enable(14),lr.specularIntensityMap&&Ct.enable(15),lr.specularColorMap&&Ct.enable(16),lr.transmission&&Ct.enable(17),lr.transmissionMap&&Ct.enable(18),lr.thicknessMap&&Ct.enable(19),lr.sheen&&Ct.enable(20),lr.sheenColorMap&&Ct.enable(21),lr.sheenRoughnessMap&&Ct.enable(22),lr.decodeVideoTexture&&Ct.enable(23),lr.opaque&&Ct.enable(24),rr.push(Ct.mask)}function Ht(rr){const lr=Ut[rr.type];let ur;if(lr){const dr=ShaderLib[lr];ur=UniformsUtils.clone(dr.uniforms)}else ur=rr.uniforms;return ur}function nr(rr,lr){let ur;for(let dr=0,mr=Rt.length;dr<mr;dr++){const Cr=Rt[dr];if(Cr.cacheKey===lr){ur=Cr,++ur.usedTimes;break}}return ur===void 0&&(ur=new WebGLProgram(ft,lr,rr,Et),Rt.push(ur)),ur}function sr(rr){if(--rr.usedTimes===0){const lr=Rt.indexOf(rr);Rt[lr]=Rt[Rt.length-1],Rt.pop(),rr.destroy()}}function ar(rr){Tt.remove(rr)}function ir(){Tt.dispose()}return{getParameters:Kt,getProgramCacheKey:tr,getUniforms:Ht,acquireProgram:nr,releaseProgram:sr,releaseShaderCache:ar,programs:Rt,dispose:ir}}function WebGLProperties(){let ft=new WeakMap;function lt(Et){let At=ft.get(Et);return At===void 0&&(At={},ft.set(Et,At)),At}function dt(Et){ft.delete(Et)}function vt(Et,At,Ct){ft.get(Et)[At]=Ct}function St(){ft=new WeakMap}return{get:lt,remove:dt,update:vt,dispose:St}}function painterSortStable(ft,lt){return ft.groupOrder!==lt.groupOrder?ft.groupOrder-lt.groupOrder:ft.renderOrder!==lt.renderOrder?ft.renderOrder-lt.renderOrder:ft.material.id!==lt.material.id?ft.material.id-lt.material.id:ft.z!==lt.z?ft.z-lt.z:ft.id-lt.id}function reversePainterSortStable(ft,lt){return ft.groupOrder!==lt.groupOrder?ft.groupOrder-lt.groupOrder:ft.renderOrder!==lt.renderOrder?ft.renderOrder-lt.renderOrder:ft.z!==lt.z?lt.z-ft.z:ft.id-lt.id}function WebGLRenderList(){const ft=[];let lt=0;const dt=[],vt=[],St=[];function Et(){lt=0,dt.length=0,vt.length=0,St.length=0}function At(Dt,Ft,kt,Ut,Kt,tr){let Wt=ft[lt];return Wt===void 0?(Wt={id:Dt.id,object:Dt,geometry:Ft,material:kt,groupOrder:Ut,renderOrder:Dt.renderOrder,z:Kt,group:tr},ft[lt]=Wt):(Wt.id=Dt.id,Wt.object=Dt,Wt.geometry=Ft,Wt.material=kt,Wt.groupOrder=Ut,Wt.renderOrder=Dt.renderOrder,Wt.z=Kt,Wt.group=tr),lt++,Wt}function Ct(Dt,Ft,kt,Ut,Kt,tr){const Wt=At(Dt,Ft,kt,Ut,Kt,tr);kt.transmission>0?vt.push(Wt):kt.transparent===!0?St.push(Wt):dt.push(Wt)}function Tt(Dt,Ft,kt,Ut,Kt,tr){const Wt=At(Dt,Ft,kt,Ut,Kt,tr);kt.transmission>0?vt.unshift(Wt):kt.transparent===!0?St.unshift(Wt):dt.unshift(Wt)}function Rt(Dt,Ft){dt.length>1&&dt.sort(Dt||painterSortStable),vt.length>1&&vt.sort(Ft||reversePainterSortStable),St.length>1&&St.sort(Ft||reversePainterSortStable)}function Bt(){for(let Dt=lt,Ft=ft.length;Dt<Ft;Dt++){const kt=ft[Dt];if(kt.id===null)break;kt.id=null,kt.object=null,kt.geometry=null,kt.material=null,kt.group=null}}return{opaque:dt,transmissive:vt,transparent:St,init:Et,push:Ct,unshift:Tt,finish:Bt,sort:Rt}}function WebGLRenderLists(){let ft=new WeakMap;function lt(vt,St){const Et=ft.get(vt);let At;return Et===void 0?(At=new WebGLRenderList,ft.set(vt,[At])):St>=Et.length?(At=new WebGLRenderList,Et.push(At)):At=Et[St],At}function dt(){ft=new WeakMap}return{get:lt,dispose:dt}}function UniformsCache(){const ft={};return{get:function(lt){if(ft[lt.id]!==void 0)return ft[lt.id];let dt;switch(lt.type){case"DirectionalLight":dt={direction:new Vector3,color:new Color};break;case"SpotLight":dt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":dt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":dt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":dt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return ft[lt.id]=dt,dt}}}function ShadowUniformsCache(){const ft={};return{get:function(lt){if(ft[lt.id]!==void 0)return ft[lt.id];let dt;switch(lt.type){case"DirectionalLight":dt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":dt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":dt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return ft[lt.id]=dt,dt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(ft,lt){return(lt.castShadow?2:0)-(ft.castShadow?2:0)+(lt.map?1:0)-(ft.map?1:0)}function WebGLLights(ft,lt){const dt=new UniformsCache,vt=ShadowUniformsCache(),St={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let Bt=0;Bt<9;Bt++)St.probe.push(new Vector3);const Et=new Vector3,At=new Matrix4,Ct=new Matrix4;function Tt(Bt,Dt){let Ft=0,kt=0,Ut=0;for(let dr=0;dr<9;dr++)St.probe[dr].set(0,0,0);let Kt=0,tr=0,Wt=0,Zt=0,Ht=0,nr=0,sr=0,ar=0,ir=0,rr=0;Bt.sort(shadowCastingAndTexturingLightsFirst);const lr=Dt!==!0?Math.PI:1;for(let dr=0,mr=Bt.length;dr<mr;dr++){const Cr=Bt[dr],yr=Cr.color,xr=Cr.intensity,Sr=Cr.distance,br=Cr.shadow&&Cr.shadow.map?Cr.shadow.map.texture:null;if(Cr.isAmbientLight)Ft+=yr.r*xr*lr,kt+=yr.g*xr*lr,Ut+=yr.b*xr*lr;else if(Cr.isLightProbe)for(let cr=0;cr<9;cr++)St.probe[cr].addScaledVector(Cr.sh.coefficients[cr],xr);else if(Cr.isDirectionalLight){const cr=dt.get(Cr);if(cr.color.copy(Cr.color).multiplyScalar(Cr.intensity*lr),Cr.castShadow){const pr=Cr.shadow,Er=vt.get(Cr);Er.shadowBias=pr.bias,Er.shadowNormalBias=pr.normalBias,Er.shadowRadius=pr.radius,Er.shadowMapSize=pr.mapSize,St.directionalShadow[Kt]=Er,St.directionalShadowMap[Kt]=br,St.directionalShadowMatrix[Kt]=Cr.shadow.matrix,nr++}St.directional[Kt]=cr,Kt++}else if(Cr.isSpotLight){const cr=dt.get(Cr);cr.position.setFromMatrixPosition(Cr.matrixWorld),cr.color.copy(yr).multiplyScalar(xr*lr),cr.distance=Sr,cr.coneCos=Math.cos(Cr.angle),cr.penumbraCos=Math.cos(Cr.angle*(1-Cr.penumbra)),cr.decay=Cr.decay,St.spot[Wt]=cr;const pr=Cr.shadow;if(Cr.map&&(St.spotLightMap[ir]=Cr.map,ir++,pr.updateMatrices(Cr),Cr.castShadow&&rr++),St.spotLightMatrix[Wt]=pr.matrix,Cr.castShadow){const Er=vt.get(Cr);Er.shadowBias=pr.bias,Er.shadowNormalBias=pr.normalBias,Er.shadowRadius=pr.radius,Er.shadowMapSize=pr.mapSize,St.spotShadow[Wt]=Er,St.spotShadowMap[Wt]=br,ar++}Wt++}else if(Cr.isRectAreaLight){const cr=dt.get(Cr);cr.color.copy(yr).multiplyScalar(xr),cr.halfWidth.set(Cr.width*.5,0,0),cr.halfHeight.set(0,Cr.height*.5,0),St.rectArea[Zt]=cr,Zt++}else if(Cr.isPointLight){const cr=dt.get(Cr);if(cr.color.copy(Cr.color).multiplyScalar(Cr.intensity*lr),cr.distance=Cr.distance,cr.decay=Cr.decay,Cr.castShadow){const pr=Cr.shadow,Er=vt.get(Cr);Er.shadowBias=pr.bias,Er.shadowNormalBias=pr.normalBias,Er.shadowRadius=pr.radius,Er.shadowMapSize=pr.mapSize,Er.shadowCameraNear=pr.camera.near,Er.shadowCameraFar=pr.camera.far,St.pointShadow[tr]=Er,St.pointShadowMap[tr]=br,St.pointShadowMatrix[tr]=Cr.shadow.matrix,sr++}St.point[tr]=cr,tr++}else if(Cr.isHemisphereLight){const cr=dt.get(Cr);cr.skyColor.copy(Cr.color).multiplyScalar(xr*lr),cr.groundColor.copy(Cr.groundColor).multiplyScalar(xr*lr),St.hemi[Ht]=cr,Ht++}}Zt>0&&(lt.isWebGL2||ft.has("OES_texture_float_linear")===!0?(St.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,St.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):ft.has("OES_texture_half_float_linear")===!0?(St.rectAreaLTC1=UniformsLib.LTC_HALF_1,St.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),St.ambient[0]=Ft,St.ambient[1]=kt,St.ambient[2]=Ut;const ur=St.hash;(ur.directionalLength!==Kt||ur.pointLength!==tr||ur.spotLength!==Wt||ur.rectAreaLength!==Zt||ur.hemiLength!==Ht||ur.numDirectionalShadows!==nr||ur.numPointShadows!==sr||ur.numSpotShadows!==ar||ur.numSpotMaps!==ir)&&(St.directional.length=Kt,St.spot.length=Wt,St.rectArea.length=Zt,St.point.length=tr,St.hemi.length=Ht,St.directionalShadow.length=nr,St.directionalShadowMap.length=nr,St.pointShadow.length=sr,St.pointShadowMap.length=sr,St.spotShadow.length=ar,St.spotShadowMap.length=ar,St.directionalShadowMatrix.length=nr,St.pointShadowMatrix.length=sr,St.spotLightMatrix.length=ar+ir-rr,St.spotLightMap.length=ir,St.numSpotLightShadowsWithMaps=rr,ur.directionalLength=Kt,ur.pointLength=tr,ur.spotLength=Wt,ur.rectAreaLength=Zt,ur.hemiLength=Ht,ur.numDirectionalShadows=nr,ur.numPointShadows=sr,ur.numSpotShadows=ar,ur.numSpotMaps=ir,St.version=nextVersion++)}function Rt(Bt,Dt){let Ft=0,kt=0,Ut=0,Kt=0,tr=0;const Wt=Dt.matrixWorldInverse;for(let Zt=0,Ht=Bt.length;Zt<Ht;Zt++){const nr=Bt[Zt];if(nr.isDirectionalLight){const sr=St.directional[Ft];sr.direction.setFromMatrixPosition(nr.matrixWorld),Et.setFromMatrixPosition(nr.target.matrixWorld),sr.direction.sub(Et),sr.direction.transformDirection(Wt),Ft++}else if(nr.isSpotLight){const sr=St.spot[Ut];sr.position.setFromMatrixPosition(nr.matrixWorld),sr.position.applyMatrix4(Wt),sr.direction.setFromMatrixPosition(nr.matrixWorld),Et.setFromMatrixPosition(nr.target.matrixWorld),sr.direction.sub(Et),sr.direction.transformDirection(Wt),Ut++}else if(nr.isRectAreaLight){const sr=St.rectArea[Kt];sr.position.setFromMatrixPosition(nr.matrixWorld),sr.position.applyMatrix4(Wt),Ct.identity(),At.copy(nr.matrixWorld),At.premultiply(Wt),Ct.extractRotation(At),sr.halfWidth.set(nr.width*.5,0,0),sr.halfHeight.set(0,nr.height*.5,0),sr.halfWidth.applyMatrix4(Ct),sr.halfHeight.applyMatrix4(Ct),Kt++}else if(nr.isPointLight){const sr=St.point[kt];sr.position.setFromMatrixPosition(nr.matrixWorld),sr.position.applyMatrix4(Wt),kt++}else if(nr.isHemisphereLight){const sr=St.hemi[tr];sr.direction.setFromMatrixPosition(nr.matrixWorld),sr.direction.transformDirection(Wt),tr++}}}return{setup:Tt,setupView:Rt,state:St}}function WebGLRenderState(ft,lt){const dt=new WebGLLights(ft,lt),vt=[],St=[];function Et(){vt.length=0,St.length=0}function At(Dt){vt.push(Dt)}function Ct(Dt){St.push(Dt)}function Tt(Dt){dt.setup(vt,Dt)}function Rt(Dt){dt.setupView(vt,Dt)}return{init:Et,state:{lightsArray:vt,shadowsArray:St,lights:dt},setupLights:Tt,setupLightsView:Rt,pushLight:At,pushShadow:Ct}}function WebGLRenderStates(ft,lt){let dt=new WeakMap;function vt(Et,At=0){const Ct=dt.get(Et);let Tt;return Ct===void 0?(Tt=new WebGLRenderState(ft,lt),dt.set(Et,[Tt])):At>=Ct.length?(Tt=new WebGLRenderState(ft,lt),Ct.push(Tt)):Tt=Ct[At],Tt}function St(){dt=new WeakMap}return{get:vt,dispose:St}}class MeshDepthMaterial extends Material{constructor(lt){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(lt)}copy(lt){return super.copy(lt),this.depthPacking=lt.depthPacking,this.map=lt.map,this.alphaMap=lt.alphaMap,this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(lt){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(lt)}copy(lt){return super.copy(lt),this.referencePosition.copy(lt.referencePosition),this.nearDistance=lt.nearDistance,this.farDistance=lt.farDistance,this.map=lt.map,this.alphaMap=lt.alphaMap,this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(ft,lt,dt){let vt=new Frustum;const St=new Vector2,Et=new Vector2,At=new Vector4,Ct=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),Tt=new MeshDistanceMaterial,Rt={},Bt=dt.maxTextureSize,Dt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},Ft=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),kt=Ft.clone();kt.defines.HORIZONTAL_PASS=1;const Ut=new BufferGeometry;Ut.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Kt=new Mesh(Ut,Ft),tr=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(nr,sr,ar){if(tr.enabled===!1||tr.autoUpdate===!1&&tr.needsUpdate===!1||nr.length===0)return;const ir=ft.getRenderTarget(),rr=ft.getActiveCubeFace(),lr=ft.getActiveMipmapLevel(),ur=ft.state;ur.setBlending(NoBlending),ur.buffers.color.setClear(1,1,1,1),ur.buffers.depth.setTest(!0),ur.setScissorTest(!1);for(let dr=0,mr=nr.length;dr<mr;dr++){const Cr=nr[dr],yr=Cr.shadow;if(yr===void 0){console.warn("THREE.WebGLShadowMap:",Cr,"has no shadow.");continue}if(yr.autoUpdate===!1&&yr.needsUpdate===!1)continue;St.copy(yr.mapSize);const xr=yr.getFrameExtents();if(St.multiply(xr),Et.copy(yr.mapSize),(St.x>Bt||St.y>Bt)&&(St.x>Bt&&(Et.x=Math.floor(Bt/xr.x),St.x=Et.x*xr.x,yr.mapSize.x=Et.x),St.y>Bt&&(Et.y=Math.floor(Bt/xr.y),St.y=Et.y*xr.y,yr.mapSize.y=Et.y)),yr.map===null){const br=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};yr.map=new WebGLRenderTarget(St.x,St.y,br),yr.map.texture.name=Cr.name+".shadowMap",yr.camera.updateProjectionMatrix()}ft.setRenderTarget(yr.map),ft.clear();const Sr=yr.getViewportCount();for(let br=0;br<Sr;br++){const cr=yr.getViewport(br);At.set(Et.x*cr.x,Et.y*cr.y,Et.x*cr.z,Et.y*cr.w),ur.viewport(At),yr.updateMatrices(Cr,br),vt=yr.getFrustum(),Ht(sr,ar,yr.camera,Cr,this.type)}yr.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Wt(yr,ar),yr.needsUpdate=!1}tr.needsUpdate=!1,ft.setRenderTarget(ir,rr,lr)};function Wt(nr,sr){const ar=lt.update(Kt);Ft.defines.VSM_SAMPLES!==nr.blurSamples&&(Ft.defines.VSM_SAMPLES=nr.blurSamples,kt.defines.VSM_SAMPLES=nr.blurSamples,Ft.needsUpdate=!0,kt.needsUpdate=!0),nr.mapPass===null&&(nr.mapPass=new WebGLRenderTarget(St.x,St.y)),Ft.uniforms.shadow_pass.value=nr.map.texture,Ft.uniforms.resolution.value=nr.mapSize,Ft.uniforms.radius.value=nr.radius,ft.setRenderTarget(nr.mapPass),ft.clear(),ft.renderBufferDirect(sr,null,ar,Ft,Kt,null),kt.uniforms.shadow_pass.value=nr.mapPass.texture,kt.uniforms.resolution.value=nr.mapSize,kt.uniforms.radius.value=nr.radius,ft.setRenderTarget(nr.map),ft.clear(),ft.renderBufferDirect(sr,null,ar,kt,Kt,null)}function Zt(nr,sr,ar,ir,rr,lr){let ur=null;const dr=ar.isPointLight===!0?nr.customDistanceMaterial:nr.customDepthMaterial;if(dr!==void 0)ur=dr;else if(ur=ar.isPointLight===!0?Tt:Ct,ft.localClippingEnabled&&sr.clipShadows===!0&&Array.isArray(sr.clippingPlanes)&&sr.clippingPlanes.length!==0||sr.displacementMap&&sr.displacementScale!==0||sr.alphaMap&&sr.alphaTest>0||sr.map&&sr.alphaTest>0){const mr=ur.uuid,Cr=sr.uuid;let yr=Rt[mr];yr===void 0&&(yr={},Rt[mr]=yr);let xr=yr[Cr];xr===void 0&&(xr=ur.clone(),yr[Cr]=xr),ur=xr}return ur.visible=sr.visible,ur.wireframe=sr.wireframe,lr===VSMShadowMap?ur.side=sr.shadowSide!==null?sr.shadowSide:sr.side:ur.side=sr.shadowSide!==null?sr.shadowSide:Dt[sr.side],ur.alphaMap=sr.alphaMap,ur.alphaTest=sr.alphaTest,ur.map=sr.map,ur.clipShadows=sr.clipShadows,ur.clippingPlanes=sr.clippingPlanes,ur.clipIntersection=sr.clipIntersection,ur.displacementMap=sr.displacementMap,ur.displacementScale=sr.displacementScale,ur.displacementBias=sr.displacementBias,ur.wireframeLinewidth=sr.wireframeLinewidth,ur.linewidth=sr.linewidth,ar.isPointLight===!0&&ur.isMeshDistanceMaterial===!0&&(ur.referencePosition.setFromMatrixPosition(ar.matrixWorld),ur.nearDistance=ir,ur.farDistance=rr),ur}function Ht(nr,sr,ar,ir,rr){if(nr.visible===!1)return;if(nr.layers.test(sr.layers)&&(nr.isMesh||nr.isLine||nr.isPoints)&&(nr.castShadow||nr.receiveShadow&&rr===VSMShadowMap)&&(!nr.frustumCulled||vt.intersectsObject(nr))){nr.modelViewMatrix.multiplyMatrices(ar.matrixWorldInverse,nr.matrixWorld);const dr=lt.update(nr),mr=nr.material;if(Array.isArray(mr)){const Cr=dr.groups;for(let yr=0,xr=Cr.length;yr<xr;yr++){const Sr=Cr[yr],br=mr[Sr.materialIndex];if(br&&br.visible){const cr=Zt(nr,br,ir,ar.near,ar.far,rr);ft.renderBufferDirect(ar,null,dr,cr,nr,Sr)}}}else if(mr.visible){const Cr=Zt(nr,mr,ir,ar.near,ar.far,rr);ft.renderBufferDirect(ar,null,dr,Cr,nr,null)}}const ur=nr.children;for(let dr=0,mr=ur.length;dr<mr;dr++)Ht(ur[dr],sr,ar,ir,rr)}}function WebGLState(ft,lt,dt){const vt=dt.isWebGL2;function St(){let Xr=!1;const dn=new Vector4;let Ln=null;const Vn=new Vector4(0,0,0,0);return{setMask:function(jn){Ln!==jn&&!Xr&&(ft.colorMask(jn,jn,jn,jn),Ln=jn)},setLocked:function(jn){Xr=jn},setClear:function(jn,ts,_s,Es,xs){xs===!0&&(jn*=Es,ts*=Es,_s*=Es),dn.set(jn,ts,_s,Es),Vn.equals(dn)===!1&&(ft.clearColor(jn,ts,_s,Es),Vn.copy(dn))},reset:function(){Xr=!1,Ln=null,Vn.set(-1,0,0,0)}}}function Et(){let Xr=!1,dn=null,Ln=null,Vn=null;return{setTest:function(jn){jn?Jr(2929):Or(2929)},setMask:function(jn){dn!==jn&&!Xr&&(ft.depthMask(jn),dn=jn)},setFunc:function(jn){if(Ln!==jn){switch(jn){case NeverDepth:ft.depthFunc(512);break;case AlwaysDepth:ft.depthFunc(519);break;case LessDepth:ft.depthFunc(513);break;case LessEqualDepth:ft.depthFunc(515);break;case EqualDepth:ft.depthFunc(514);break;case GreaterEqualDepth:ft.depthFunc(518);break;case GreaterDepth:ft.depthFunc(516);break;case NotEqualDepth:ft.depthFunc(517);break;default:ft.depthFunc(515)}Ln=jn}},setLocked:function(jn){Xr=jn},setClear:function(jn){Vn!==jn&&(ft.clearDepth(jn),Vn=jn)},reset:function(){Xr=!1,dn=null,Ln=null,Vn=null}}}function At(){let Xr=!1,dn=null,Ln=null,Vn=null,jn=null,ts=null,_s=null,Es=null,xs=null;return{setTest:function(gs){Xr||(gs?Jr(2960):Or(2960))},setMask:function(gs){dn!==gs&&!Xr&&(ft.stencilMask(gs),dn=gs)},setFunc:function(gs,bs,vs){(Ln!==gs||Vn!==bs||jn!==vs)&&(ft.stencilFunc(gs,bs,vs),Ln=gs,Vn=bs,jn=vs)},setOp:function(gs,bs,vs){(ts!==gs||_s!==bs||Es!==vs)&&(ft.stencilOp(gs,bs,vs),ts=gs,_s=bs,Es=vs)},setLocked:function(gs){Xr=gs},setClear:function(gs){xs!==gs&&(ft.clearStencil(gs),xs=gs)},reset:function(){Xr=!1,dn=null,Ln=null,Vn=null,jn=null,ts=null,_s=null,Es=null,xs=null}}}const Ct=new St,Tt=new Et,Rt=new At,Bt=new WeakMap,Dt=new WeakMap;let Ft={},kt={},Ut=new WeakMap,Kt=[],tr=null,Wt=!1,Zt=null,Ht=null,nr=null,sr=null,ar=null,ir=null,rr=null,lr=!1,ur=null,dr=null,mr=null,Cr=null,yr=null;const xr=ft.getParameter(35661);let Sr=!1,br=0;const cr=ft.getParameter(7938);cr.indexOf("WebGL")!==-1?(br=parseFloat(/^WebGL (\d)/.exec(cr)[1]),Sr=br>=1):cr.indexOf("OpenGL ES")!==-1&&(br=parseFloat(/^OpenGL ES (\d)/.exec(cr)[1]),Sr=br>=2);let pr=null,Er={};const _r=ft.getParameter(3088),Ar=ft.getParameter(2978),Pr=new Vector4().fromArray(_r),Ir=new Vector4().fromArray(Ar);function kr(Xr,dn,Ln){const Vn=new Uint8Array(4),jn=ft.createTexture();ft.bindTexture(Xr,jn),ft.texParameteri(Xr,10241,9728),ft.texParameteri(Xr,10240,9728);for(let ts=0;ts<Ln;ts++)ft.texImage2D(dn+ts,0,6408,1,1,0,6408,5121,Vn);return jn}const Dr={};Dr[3553]=kr(3553,3553,1),Dr[34067]=kr(34067,34069,6),Ct.setClear(0,0,0,1),Tt.setClear(1),Rt.setClear(0),Jr(2929),Tt.setFunc(LessEqualDepth),cn(!1),Rn(CullFaceBack),Jr(2884),qr(NoBlending);function Jr(Xr){Ft[Xr]!==!0&&(ft.enable(Xr),Ft[Xr]=!0)}function Or(Xr){Ft[Xr]!==!1&&(ft.disable(Xr),Ft[Xr]=!1)}function jr(Xr,dn){return kt[Xr]!==dn?(ft.bindFramebuffer(Xr,dn),kt[Xr]=dn,vt&&(Xr===36009&&(kt[36160]=dn),Xr===36160&&(kt[36009]=dn)),!0):!1}function Nr(Xr,dn){let Ln=Kt,Vn=!1;if(Xr)if(Ln=Ut.get(dn),Ln===void 0&&(Ln=[],Ut.set(dn,Ln)),Xr.isWebGLMultipleRenderTargets){const jn=Xr.texture;if(Ln.length!==jn.length||Ln[0]!==36064){for(let ts=0,_s=jn.length;ts<_s;ts++)Ln[ts]=36064+ts;Ln.length=jn.length,Vn=!0}}else Ln[0]!==36064&&(Ln[0]=36064,Vn=!0);else Ln[0]!==1029&&(Ln[0]=1029,Vn=!0);Vn&&(dt.isWebGL2?ft.drawBuffers(Ln):lt.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ln))}function Vr(Xr){return tr!==Xr?(ft.useProgram(Xr),tr=Xr,!0):!1}const Br={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(vt)Br[MinEquation]=32775,Br[MaxEquation]=32776;else{const Xr=lt.get("EXT_blend_minmax");Xr!==null&&(Br[MinEquation]=Xr.MIN_EXT,Br[MaxEquation]=Xr.MAX_EXT)}const zr={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function qr(Xr,dn,Ln,Vn,jn,ts,_s,Es){if(Xr===NoBlending){Wt===!0&&(Or(3042),Wt=!1);return}if(Wt===!1&&(Jr(3042),Wt=!0),Xr!==CustomBlending){if(Xr!==Zt||Es!==lr){if((Ht!==AddEquation||ar!==AddEquation)&&(ft.blendEquation(32774),Ht=AddEquation,ar=AddEquation),Es)switch(Xr){case NormalBlending:ft.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:ft.blendFunc(1,1);break;case SubtractiveBlending:ft.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:ft.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xr);break}else switch(Xr){case NormalBlending:ft.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:ft.blendFunc(770,1);break;case SubtractiveBlending:ft.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:ft.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xr);break}nr=null,sr=null,ir=null,rr=null,Zt=Xr,lr=Es}return}jn=jn||dn,ts=ts||Ln,_s=_s||Vn,(dn!==Ht||jn!==ar)&&(ft.blendEquationSeparate(Br[dn],Br[jn]),Ht=dn,ar=jn),(Ln!==nr||Vn!==sr||ts!==ir||_s!==rr)&&(ft.blendFuncSeparate(zr[Ln],zr[Vn],zr[ts],zr[_s]),nr=Ln,sr=Vn,ir=ts,rr=_s),Zt=Xr,lr=!1}function en(Xr,dn){Xr.side===DoubleSide?Or(2884):Jr(2884);let Ln=Xr.side===BackSide;dn&&(Ln=!Ln),cn(Ln),Xr.blending===NormalBlending&&Xr.transparent===!1?qr(NoBlending):qr(Xr.blending,Xr.blendEquation,Xr.blendSrc,Xr.blendDst,Xr.blendEquationAlpha,Xr.blendSrcAlpha,Xr.blendDstAlpha,Xr.premultipliedAlpha),Tt.setFunc(Xr.depthFunc),Tt.setTest(Xr.depthTest),Tt.setMask(Xr.depthWrite),Ct.setMask(Xr.colorWrite);const Vn=Xr.stencilWrite;Rt.setTest(Vn),Vn&&(Rt.setMask(Xr.stencilWriteMask),Rt.setFunc(Xr.stencilFunc,Xr.stencilRef,Xr.stencilFuncMask),Rt.setOp(Xr.stencilFail,Xr.stencilZFail,Xr.stencilZPass)),yn(Xr.polygonOffset,Xr.polygonOffsetFactor,Xr.polygonOffsetUnits),Xr.alphaToCoverage===!0?Jr(32926):Or(32926)}function cn(Xr){ur!==Xr&&(Xr?ft.frontFace(2304):ft.frontFace(2305),ur=Xr)}function Rn(Xr){Xr!==CullFaceNone?(Jr(2884),Xr!==dr&&(Xr===CullFaceBack?ft.cullFace(1029):Xr===CullFaceFront?ft.cullFace(1028):ft.cullFace(1032))):Or(2884),dr=Xr}function Qr(Xr){Xr!==mr&&(Sr&&ft.lineWidth(Xr),mr=Xr)}function yn(Xr,dn,Ln){Xr?(Jr(32823),(Cr!==dn||yr!==Ln)&&(ft.polygonOffset(dn,Ln),Cr=dn,yr=Ln)):Or(32823)}function Pn(Xr){Xr?Jr(3089):Or(3089)}function pn(Xr){Xr===void 0&&(Xr=33984+xr-1),pr!==Xr&&(ft.activeTexture(Xr),pr=Xr)}function Fr(Xr,dn,Ln){Ln===void 0&&(pr===null?Ln=33984+xr-1:Ln=pr);let Vn=Er[Ln];Vn===void 0&&(Vn={type:void 0,texture:void 0},Er[Ln]=Vn),(Vn.type!==Xr||Vn.texture!==dn)&&(pr!==Ln&&(ft.activeTexture(Ln),pr=Ln),ft.bindTexture(Xr,dn||Dr[Xr]),Vn.type=Xr,Vn.texture=dn)}function Rr(){const Xr=Er[pr];Xr!==void 0&&Xr.type!==void 0&&(ft.bindTexture(Xr.type,null),Xr.type=void 0,Xr.texture=void 0)}function Yr(){try{ft.compressedTexImage2D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function fn(){try{ft.compressedTexImage3D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function Cn(){try{ft.texSubImage2D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function An(){try{ft.texSubImage3D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function Dn(){try{ft.compressedTexSubImage2D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function In(){try{ft.compressedTexSubImage3D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function mn(){try{ft.texStorage2D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function Nn(){try{ft.texStorage3D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function Kr(){try{ft.texImage2D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function hn(){try{ft.texImage3D.apply(ft,arguments)}catch(Xr){console.error("THREE.WebGLState:",Xr)}}function En(Xr){Pr.equals(Xr)===!1&&(ft.scissor(Xr.x,Xr.y,Xr.z,Xr.w),Pr.copy(Xr))}function xn(Xr){Ir.equals(Xr)===!1&&(ft.viewport(Xr.x,Xr.y,Xr.z,Xr.w),Ir.copy(Xr))}function On(Xr,dn){let Ln=Dt.get(dn);Ln===void 0&&(Ln=new WeakMap,Dt.set(dn,Ln));let Vn=Ln.get(Xr);Vn===void 0&&(Vn=ft.getUniformBlockIndex(dn,Xr.name),Ln.set(Xr,Vn))}function Wn(Xr,dn){const Vn=Dt.get(dn).get(Xr);Bt.get(dn)!==Vn&&(ft.uniformBlockBinding(dn,Vn,Xr.__bindingPointIndex),Bt.set(dn,Vn))}function es(){ft.disable(3042),ft.disable(2884),ft.disable(2929),ft.disable(32823),ft.disable(3089),ft.disable(2960),ft.disable(32926),ft.blendEquation(32774),ft.blendFunc(1,0),ft.blendFuncSeparate(1,0,1,0),ft.colorMask(!0,!0,!0,!0),ft.clearColor(0,0,0,0),ft.depthMask(!0),ft.depthFunc(513),ft.clearDepth(1),ft.stencilMask(4294967295),ft.stencilFunc(519,0,4294967295),ft.stencilOp(7680,7680,7680),ft.clearStencil(0),ft.cullFace(1029),ft.frontFace(2305),ft.polygonOffset(0,0),ft.activeTexture(33984),ft.bindFramebuffer(36160,null),vt===!0&&(ft.bindFramebuffer(36009,null),ft.bindFramebuffer(36008,null)),ft.useProgram(null),ft.lineWidth(1),ft.scissor(0,0,ft.canvas.width,ft.canvas.height),ft.viewport(0,0,ft.canvas.width,ft.canvas.height),Ft={},pr=null,Er={},kt={},Ut=new WeakMap,Kt=[],tr=null,Wt=!1,Zt=null,Ht=null,nr=null,sr=null,ar=null,ir=null,rr=null,lr=!1,ur=null,dr=null,mr=null,Cr=null,yr=null,Pr.set(0,0,ft.canvas.width,ft.canvas.height),Ir.set(0,0,ft.canvas.width,ft.canvas.height),Ct.reset(),Tt.reset(),Rt.reset()}return{buffers:{color:Ct,depth:Tt,stencil:Rt},enable:Jr,disable:Or,bindFramebuffer:jr,drawBuffers:Nr,useProgram:Vr,setBlending:qr,setMaterial:en,setFlipSided:cn,setCullFace:Rn,setLineWidth:Qr,setPolygonOffset:yn,setScissorTest:Pn,activeTexture:pn,bindTexture:Fr,unbindTexture:Rr,compressedTexImage2D:Yr,compressedTexImage3D:fn,texImage2D:Kr,texImage3D:hn,updateUBOMapping:On,uniformBlockBinding:Wn,texStorage2D:mn,texStorage3D:Nn,texSubImage2D:Cn,texSubImage3D:An,compressedTexSubImage2D:Dn,compressedTexSubImage3D:In,scissor:En,viewport:xn,reset:es}}function WebGLTextures(ft,lt,dt,vt,St,Et,At){const Ct=St.isWebGL2,Tt=St.maxTextures,Rt=St.maxCubemapSize,Bt=St.maxTextureSize,Dt=St.maxSamples,Ft=lt.has("WEBGL_multisampled_render_to_texture")?lt.get("WEBGL_multisampled_render_to_texture"):null,kt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),Ut=new WeakMap;let Kt;const tr=new WeakMap;let Wt=!1;try{Wt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Zt(Fr,Rr){return Wt?new OffscreenCanvas(Fr,Rr):createElementNS("canvas")}function Ht(Fr,Rr,Yr,fn){let Cn=1;if((Fr.width>fn||Fr.height>fn)&&(Cn=fn/Math.max(Fr.width,Fr.height)),Cn<1||Rr===!0)if(typeof HTMLImageElement<"u"&&Fr instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Fr instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Fr instanceof ImageBitmap){const An=Rr?floorPowerOfTwo:Math.floor,Dn=An(Cn*Fr.width),In=An(Cn*Fr.height);Kt===void 0&&(Kt=Zt(Dn,In));const mn=Yr?Zt(Dn,In):Kt;return mn.width=Dn,mn.height=In,mn.getContext("2d").drawImage(Fr,0,0,Dn,In),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Fr.width+"x"+Fr.height+") to ("+Dn+"x"+In+")."),mn}else return"data"in Fr&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Fr.width+"x"+Fr.height+")."),Fr;return Fr}function nr(Fr){return isPowerOfTwo(Fr.width)&&isPowerOfTwo(Fr.height)}function sr(Fr){return Ct?!1:Fr.wrapS!==ClampToEdgeWrapping||Fr.wrapT!==ClampToEdgeWrapping||Fr.minFilter!==NearestFilter&&Fr.minFilter!==LinearFilter}function ar(Fr,Rr){return Fr.generateMipmaps&&Rr&&Fr.minFilter!==NearestFilter&&Fr.minFilter!==LinearFilter}function ir(Fr){ft.generateMipmap(Fr)}function rr(Fr,Rr,Yr,fn,Cn=!1){if(Ct===!1)return Rr;if(Fr!==null){if(ft[Fr]!==void 0)return ft[Fr];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Fr+"'")}let An=Rr;return Rr===6403&&(Yr===5126&&(An=33326),Yr===5131&&(An=33325),Yr===5121&&(An=33321)),Rr===33319&&(Yr===5126&&(An=33328),Yr===5131&&(An=33327),Yr===5121&&(An=33323)),Rr===6408&&(Yr===5126&&(An=34836),Yr===5131&&(An=34842),Yr===5121&&(An=fn===sRGBEncoding&&Cn===!1?35907:32856),Yr===32819&&(An=32854),Yr===32820&&(An=32855)),(An===33325||An===33326||An===33327||An===33328||An===34842||An===34836)&&lt.get("EXT_color_buffer_float"),An}function lr(Fr,Rr,Yr){return ar(Fr,Yr)===!0||Fr.isFramebufferTexture&&Fr.minFilter!==NearestFilter&&Fr.minFilter!==LinearFilter?Math.log2(Math.max(Rr.width,Rr.height))+1:Fr.mipmaps!==void 0&&Fr.mipmaps.length>0?Fr.mipmaps.length:Fr.isCompressedTexture&&Array.isArray(Fr.image)?Rr.mipmaps.length:1}function ur(Fr){return Fr===NearestFilter||Fr===NearestMipmapNearestFilter||Fr===NearestMipmapLinearFilter?9728:9729}function dr(Fr){const Rr=Fr.target;Rr.removeEventListener("dispose",dr),Cr(Rr),Rr.isVideoTexture&&Ut.delete(Rr)}function mr(Fr){const Rr=Fr.target;Rr.removeEventListener("dispose",mr),xr(Rr)}function Cr(Fr){const Rr=vt.get(Fr);if(Rr.__webglInit===void 0)return;const Yr=Fr.source,fn=tr.get(Yr);if(fn){const Cn=fn[Rr.__cacheKey];Cn.usedTimes--,Cn.usedTimes===0&&yr(Fr),Object.keys(fn).length===0&&tr.delete(Yr)}vt.remove(Fr)}function yr(Fr){const Rr=vt.get(Fr);ft.deleteTexture(Rr.__webglTexture);const Yr=Fr.source,fn=tr.get(Yr);delete fn[Rr.__cacheKey],At.memory.textures--}function xr(Fr){const Rr=Fr.texture,Yr=vt.get(Fr),fn=vt.get(Rr);if(fn.__webglTexture!==void 0&&(ft.deleteTexture(fn.__webglTexture),At.memory.textures--),Fr.depthTexture&&Fr.depthTexture.dispose(),Fr.isWebGLCubeRenderTarget)for(let Cn=0;Cn<6;Cn++)ft.deleteFramebuffer(Yr.__webglFramebuffer[Cn]),Yr.__webglDepthbuffer&&ft.deleteRenderbuffer(Yr.__webglDepthbuffer[Cn]);else{if(ft.deleteFramebuffer(Yr.__webglFramebuffer),Yr.__webglDepthbuffer&&ft.deleteRenderbuffer(Yr.__webglDepthbuffer),Yr.__webglMultisampledFramebuffer&&ft.deleteFramebuffer(Yr.__webglMultisampledFramebuffer),Yr.__webglColorRenderbuffer)for(let Cn=0;Cn<Yr.__webglColorRenderbuffer.length;Cn++)Yr.__webglColorRenderbuffer[Cn]&&ft.deleteRenderbuffer(Yr.__webglColorRenderbuffer[Cn]);Yr.__webglDepthRenderbuffer&&ft.deleteRenderbuffer(Yr.__webglDepthRenderbuffer)}if(Fr.isWebGLMultipleRenderTargets)for(let Cn=0,An=Rr.length;Cn<An;Cn++){const Dn=vt.get(Rr[Cn]);Dn.__webglTexture&&(ft.deleteTexture(Dn.__webglTexture),At.memory.textures--),vt.remove(Rr[Cn])}vt.remove(Rr),vt.remove(Fr)}let Sr=0;function br(){Sr=0}function cr(){const Fr=Sr;return Fr>=Tt&&console.warn("THREE.WebGLTextures: Trying to use "+Fr+" texture units while this GPU supports only "+Tt),Sr+=1,Fr}function pr(Fr){const Rr=[];return Rr.push(Fr.wrapS),Rr.push(Fr.wrapT),Rr.push(Fr.wrapR||0),Rr.push(Fr.magFilter),Rr.push(Fr.minFilter),Rr.push(Fr.anisotropy),Rr.push(Fr.internalFormat),Rr.push(Fr.format),Rr.push(Fr.type),Rr.push(Fr.generateMipmaps),Rr.push(Fr.premultiplyAlpha),Rr.push(Fr.flipY),Rr.push(Fr.unpackAlignment),Rr.push(Fr.encoding),Rr.join()}function Er(Fr,Rr){const Yr=vt.get(Fr);if(Fr.isVideoTexture&&Pn(Fr),Fr.isRenderTargetTexture===!1&&Fr.version>0&&Yr.__version!==Fr.version){const fn=Fr.image;if(fn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(fn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Or(Yr,Fr,Rr);return}}dt.bindTexture(3553,Yr.__webglTexture,33984+Rr)}function _r(Fr,Rr){const Yr=vt.get(Fr);if(Fr.version>0&&Yr.__version!==Fr.version){Or(Yr,Fr,Rr);return}dt.bindTexture(35866,Yr.__webglTexture,33984+Rr)}function Ar(Fr,Rr){const Yr=vt.get(Fr);if(Fr.version>0&&Yr.__version!==Fr.version){Or(Yr,Fr,Rr);return}dt.bindTexture(32879,Yr.__webglTexture,33984+Rr)}function Pr(Fr,Rr){const Yr=vt.get(Fr);if(Fr.version>0&&Yr.__version!==Fr.version){jr(Yr,Fr,Rr);return}dt.bindTexture(34067,Yr.__webglTexture,33984+Rr)}const Ir={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},kr={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Dr(Fr,Rr,Yr){if(Yr?(ft.texParameteri(Fr,10242,Ir[Rr.wrapS]),ft.texParameteri(Fr,10243,Ir[Rr.wrapT]),(Fr===32879||Fr===35866)&&ft.texParameteri(Fr,32882,Ir[Rr.wrapR]),ft.texParameteri(Fr,10240,kr[Rr.magFilter]),ft.texParameteri(Fr,10241,kr[Rr.minFilter])):(ft.texParameteri(Fr,10242,33071),ft.texParameteri(Fr,10243,33071),(Fr===32879||Fr===35866)&&ft.texParameteri(Fr,32882,33071),(Rr.wrapS!==ClampToEdgeWrapping||Rr.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),ft.texParameteri(Fr,10240,ur(Rr.magFilter)),ft.texParameteri(Fr,10241,ur(Rr.minFilter)),Rr.minFilter!==NearestFilter&&Rr.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),lt.has("EXT_texture_filter_anisotropic")===!0){const fn=lt.get("EXT_texture_filter_anisotropic");if(Rr.magFilter===NearestFilter||Rr.minFilter!==NearestMipmapLinearFilter&&Rr.minFilter!==LinearMipmapLinearFilter||Rr.type===FloatType&&lt.has("OES_texture_float_linear")===!1||Ct===!1&&Rr.type===HalfFloatType&&lt.has("OES_texture_half_float_linear")===!1)return;(Rr.anisotropy>1||vt.get(Rr).__currentAnisotropy)&&(ft.texParameterf(Fr,fn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Rr.anisotropy,St.getMaxAnisotropy())),vt.get(Rr).__currentAnisotropy=Rr.anisotropy)}}function Jr(Fr,Rr){let Yr=!1;Fr.__webglInit===void 0&&(Fr.__webglInit=!0,Rr.addEventListener("dispose",dr));const fn=Rr.source;let Cn=tr.get(fn);Cn===void 0&&(Cn={},tr.set(fn,Cn));const An=pr(Rr);if(An!==Fr.__cacheKey){Cn[An]===void 0&&(Cn[An]={texture:ft.createTexture(),usedTimes:0},At.memory.textures++,Yr=!0),Cn[An].usedTimes++;const Dn=Cn[Fr.__cacheKey];Dn!==void 0&&(Cn[Fr.__cacheKey].usedTimes--,Dn.usedTimes===0&&yr(Rr)),Fr.__cacheKey=An,Fr.__webglTexture=Cn[An].texture}return Yr}function Or(Fr,Rr,Yr){let fn=3553;(Rr.isDataArrayTexture||Rr.isCompressedArrayTexture)&&(fn=35866),Rr.isData3DTexture&&(fn=32879);const Cn=Jr(Fr,Rr),An=Rr.source;dt.bindTexture(fn,Fr.__webglTexture,33984+Yr);const Dn=vt.get(An);if(An.version!==Dn.__version||Cn===!0){dt.activeTexture(33984+Yr),ft.pixelStorei(37440,Rr.flipY),ft.pixelStorei(37441,Rr.premultiplyAlpha),ft.pixelStorei(3317,Rr.unpackAlignment),ft.pixelStorei(37443,0);const In=sr(Rr)&&nr(Rr.image)===!1;let mn=Ht(Rr.image,In,!1,Bt);mn=pn(Rr,mn);const Nn=nr(mn)||Ct,Kr=Et.convert(Rr.format,Rr.encoding);let hn=Et.convert(Rr.type),En=rr(Rr.internalFormat,Kr,hn,Rr.encoding,Rr.isVideoTexture);Dr(fn,Rr,Nn);let xn;const On=Rr.mipmaps,Wn=Ct&&Rr.isVideoTexture!==!0,es=Dn.__version===void 0||Cn===!0,Xr=lr(Rr,mn,Nn);if(Rr.isDepthTexture)En=6402,Ct?Rr.type===FloatType?En=36012:Rr.type===UnsignedIntType?En=33190:Rr.type===UnsignedInt248Type?En=35056:En=33189:Rr.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Rr.format===DepthFormat&&En===6402&&Rr.type!==UnsignedShortType&&Rr.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Rr.type=UnsignedIntType,hn=Et.convert(Rr.type)),Rr.format===DepthStencilFormat&&En===6402&&(En=34041,Rr.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Rr.type=UnsignedInt248Type,hn=Et.convert(Rr.type))),es&&(Wn?dt.texStorage2D(3553,1,En,mn.width,mn.height):dt.texImage2D(3553,0,En,mn.width,mn.height,0,Kr,hn,null));else if(Rr.isDataTexture)if(On.length>0&&Nn){Wn&&es&&dt.texStorage2D(3553,Xr,En,On[0].width,On[0].height);for(let dn=0,Ln=On.length;dn<Ln;dn++)xn=On[dn],Wn?dt.texSubImage2D(3553,dn,0,0,xn.width,xn.height,Kr,hn,xn.data):dt.texImage2D(3553,dn,En,xn.width,xn.height,0,Kr,hn,xn.data);Rr.generateMipmaps=!1}else Wn?(es&&dt.texStorage2D(3553,Xr,En,mn.width,mn.height),dt.texSubImage2D(3553,0,0,0,mn.width,mn.height,Kr,hn,mn.data)):dt.texImage2D(3553,0,En,mn.width,mn.height,0,Kr,hn,mn.data);else if(Rr.isCompressedTexture)if(Rr.isCompressedArrayTexture){Wn&&es&&dt.texStorage3D(35866,Xr,En,On[0].width,On[0].height,mn.depth);for(let dn=0,Ln=On.length;dn<Ln;dn++)xn=On[dn],Rr.format!==RGBAFormat?Kr!==null?Wn?dt.compressedTexSubImage3D(35866,dn,0,0,0,xn.width,xn.height,mn.depth,Kr,xn.data,0,0):dt.compressedTexImage3D(35866,dn,En,xn.width,xn.height,mn.depth,0,xn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Wn?dt.texSubImage3D(35866,dn,0,0,0,xn.width,xn.height,mn.depth,Kr,hn,xn.data):dt.texImage3D(35866,dn,En,xn.width,xn.height,mn.depth,0,Kr,hn,xn.data)}else{Wn&&es&&dt.texStorage2D(3553,Xr,En,On[0].width,On[0].height);for(let dn=0,Ln=On.length;dn<Ln;dn++)xn=On[dn],Rr.format!==RGBAFormat?Kr!==null?Wn?dt.compressedTexSubImage2D(3553,dn,0,0,xn.width,xn.height,Kr,xn.data):dt.compressedTexImage2D(3553,dn,En,xn.width,xn.height,0,xn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Wn?dt.texSubImage2D(3553,dn,0,0,xn.width,xn.height,Kr,hn,xn.data):dt.texImage2D(3553,dn,En,xn.width,xn.height,0,Kr,hn,xn.data)}else if(Rr.isDataArrayTexture)Wn?(es&&dt.texStorage3D(35866,Xr,En,mn.width,mn.height,mn.depth),dt.texSubImage3D(35866,0,0,0,0,mn.width,mn.height,mn.depth,Kr,hn,mn.data)):dt.texImage3D(35866,0,En,mn.width,mn.height,mn.depth,0,Kr,hn,mn.data);else if(Rr.isData3DTexture)Wn?(es&&dt.texStorage3D(32879,Xr,En,mn.width,mn.height,mn.depth),dt.texSubImage3D(32879,0,0,0,0,mn.width,mn.height,mn.depth,Kr,hn,mn.data)):dt.texImage3D(32879,0,En,mn.width,mn.height,mn.depth,0,Kr,hn,mn.data);else if(Rr.isFramebufferTexture){if(es)if(Wn)dt.texStorage2D(3553,Xr,En,mn.width,mn.height);else{let dn=mn.width,Ln=mn.height;for(let Vn=0;Vn<Xr;Vn++)dt.texImage2D(3553,Vn,En,dn,Ln,0,Kr,hn,null),dn>>=1,Ln>>=1}}else if(On.length>0&&Nn){Wn&&es&&dt.texStorage2D(3553,Xr,En,On[0].width,On[0].height);for(let dn=0,Ln=On.length;dn<Ln;dn++)xn=On[dn],Wn?dt.texSubImage2D(3553,dn,0,0,Kr,hn,xn):dt.texImage2D(3553,dn,En,Kr,hn,xn);Rr.generateMipmaps=!1}else Wn?(es&&dt.texStorage2D(3553,Xr,En,mn.width,mn.height),dt.texSubImage2D(3553,0,0,0,Kr,hn,mn)):dt.texImage2D(3553,0,En,Kr,hn,mn);ar(Rr,Nn)&&ir(fn),Dn.__version=An.version,Rr.onUpdate&&Rr.onUpdate(Rr)}Fr.__version=Rr.version}function jr(Fr,Rr,Yr){if(Rr.image.length!==6)return;const fn=Jr(Fr,Rr),Cn=Rr.source;dt.bindTexture(34067,Fr.__webglTexture,33984+Yr);const An=vt.get(Cn);if(Cn.version!==An.__version||fn===!0){dt.activeTexture(33984+Yr),ft.pixelStorei(37440,Rr.flipY),ft.pixelStorei(37441,Rr.premultiplyAlpha),ft.pixelStorei(3317,Rr.unpackAlignment),ft.pixelStorei(37443,0);const Dn=Rr.isCompressedTexture||Rr.image[0].isCompressedTexture,In=Rr.image[0]&&Rr.image[0].isDataTexture,mn=[];for(let dn=0;dn<6;dn++)!Dn&&!In?mn[dn]=Ht(Rr.image[dn],!1,!0,Rt):mn[dn]=In?Rr.image[dn].image:Rr.image[dn],mn[dn]=pn(Rr,mn[dn]);const Nn=mn[0],Kr=nr(Nn)||Ct,hn=Et.convert(Rr.format,Rr.encoding),En=Et.convert(Rr.type),xn=rr(Rr.internalFormat,hn,En,Rr.encoding),On=Ct&&Rr.isVideoTexture!==!0,Wn=An.__version===void 0||fn===!0;let es=lr(Rr,Nn,Kr);Dr(34067,Rr,Kr);let Xr;if(Dn){On&&Wn&&dt.texStorage2D(34067,es,xn,Nn.width,Nn.height);for(let dn=0;dn<6;dn++){Xr=mn[dn].mipmaps;for(let Ln=0;Ln<Xr.length;Ln++){const Vn=Xr[Ln];Rr.format!==RGBAFormat?hn!==null?On?dt.compressedTexSubImage2D(34069+dn,Ln,0,0,Vn.width,Vn.height,hn,Vn.data):dt.compressedTexImage2D(34069+dn,Ln,xn,Vn.width,Vn.height,0,Vn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):On?dt.texSubImage2D(34069+dn,Ln,0,0,Vn.width,Vn.height,hn,En,Vn.data):dt.texImage2D(34069+dn,Ln,xn,Vn.width,Vn.height,0,hn,En,Vn.data)}}}else{Xr=Rr.mipmaps,On&&Wn&&(Xr.length>0&&es++,dt.texStorage2D(34067,es,xn,mn[0].width,mn[0].height));for(let dn=0;dn<6;dn++)if(In){On?dt.texSubImage2D(34069+dn,0,0,0,mn[dn].width,mn[dn].height,hn,En,mn[dn].data):dt.texImage2D(34069+dn,0,xn,mn[dn].width,mn[dn].height,0,hn,En,mn[dn].data);for(let Ln=0;Ln<Xr.length;Ln++){const jn=Xr[Ln].image[dn].image;On?dt.texSubImage2D(34069+dn,Ln+1,0,0,jn.width,jn.height,hn,En,jn.data):dt.texImage2D(34069+dn,Ln+1,xn,jn.width,jn.height,0,hn,En,jn.data)}}else{On?dt.texSubImage2D(34069+dn,0,0,0,hn,En,mn[dn]):dt.texImage2D(34069+dn,0,xn,hn,En,mn[dn]);for(let Ln=0;Ln<Xr.length;Ln++){const Vn=Xr[Ln];On?dt.texSubImage2D(34069+dn,Ln+1,0,0,hn,En,Vn.image[dn]):dt.texImage2D(34069+dn,Ln+1,xn,hn,En,Vn.image[dn])}}}ar(Rr,Kr)&&ir(34067),An.__version=Cn.version,Rr.onUpdate&&Rr.onUpdate(Rr)}Fr.__version=Rr.version}function Nr(Fr,Rr,Yr,fn,Cn){const An=Et.convert(Yr.format,Yr.encoding),Dn=Et.convert(Yr.type),In=rr(Yr.internalFormat,An,Dn,Yr.encoding);vt.get(Rr).__hasExternalTextures||(Cn===32879||Cn===35866?dt.texImage3D(Cn,0,In,Rr.width,Rr.height,Rr.depth,0,An,Dn,null):dt.texImage2D(Cn,0,In,Rr.width,Rr.height,0,An,Dn,null)),dt.bindFramebuffer(36160,Fr),yn(Rr)?Ft.framebufferTexture2DMultisampleEXT(36160,fn,Cn,vt.get(Yr).__webglTexture,0,Qr(Rr)):(Cn===3553||Cn>=34069&&Cn<=34074)&&ft.framebufferTexture2D(36160,fn,Cn,vt.get(Yr).__webglTexture,0),dt.bindFramebuffer(36160,null)}function Vr(Fr,Rr,Yr){if(ft.bindRenderbuffer(36161,Fr),Rr.depthBuffer&&!Rr.stencilBuffer){let fn=33189;if(Yr||yn(Rr)){const Cn=Rr.depthTexture;Cn&&Cn.isDepthTexture&&(Cn.type===FloatType?fn=36012:Cn.type===UnsignedIntType&&(fn=33190));const An=Qr(Rr);yn(Rr)?Ft.renderbufferStorageMultisampleEXT(36161,An,fn,Rr.width,Rr.height):ft.renderbufferStorageMultisample(36161,An,fn,Rr.width,Rr.height)}else ft.renderbufferStorage(36161,fn,Rr.width,Rr.height);ft.framebufferRenderbuffer(36160,36096,36161,Fr)}else if(Rr.depthBuffer&&Rr.stencilBuffer){const fn=Qr(Rr);Yr&&yn(Rr)===!1?ft.renderbufferStorageMultisample(36161,fn,35056,Rr.width,Rr.height):yn(Rr)?Ft.renderbufferStorageMultisampleEXT(36161,fn,35056,Rr.width,Rr.height):ft.renderbufferStorage(36161,34041,Rr.width,Rr.height),ft.framebufferRenderbuffer(36160,33306,36161,Fr)}else{const fn=Rr.isWebGLMultipleRenderTargets===!0?Rr.texture:[Rr.texture];for(let Cn=0;Cn<fn.length;Cn++){const An=fn[Cn],Dn=Et.convert(An.format,An.encoding),In=Et.convert(An.type),mn=rr(An.internalFormat,Dn,In,An.encoding),Nn=Qr(Rr);Yr&&yn(Rr)===!1?ft.renderbufferStorageMultisample(36161,Nn,mn,Rr.width,Rr.height):yn(Rr)?Ft.renderbufferStorageMultisampleEXT(36161,Nn,mn,Rr.width,Rr.height):ft.renderbufferStorage(36161,mn,Rr.width,Rr.height)}}ft.bindRenderbuffer(36161,null)}function Br(Fr,Rr){if(Rr&&Rr.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(dt.bindFramebuffer(36160,Fr),!(Rr.depthTexture&&Rr.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!vt.get(Rr.depthTexture).__webglTexture||Rr.depthTexture.image.width!==Rr.width||Rr.depthTexture.image.height!==Rr.height)&&(Rr.depthTexture.image.width=Rr.width,Rr.depthTexture.image.height=Rr.height,Rr.depthTexture.needsUpdate=!0),Er(Rr.depthTexture,0);const fn=vt.get(Rr.depthTexture).__webglTexture,Cn=Qr(Rr);if(Rr.depthTexture.format===DepthFormat)yn(Rr)?Ft.framebufferTexture2DMultisampleEXT(36160,36096,3553,fn,0,Cn):ft.framebufferTexture2D(36160,36096,3553,fn,0);else if(Rr.depthTexture.format===DepthStencilFormat)yn(Rr)?Ft.framebufferTexture2DMultisampleEXT(36160,33306,3553,fn,0,Cn):ft.framebufferTexture2D(36160,33306,3553,fn,0);else throw new Error("Unknown depthTexture format")}function zr(Fr){const Rr=vt.get(Fr),Yr=Fr.isWebGLCubeRenderTarget===!0;if(Fr.depthTexture&&!Rr.__autoAllocateDepthBuffer){if(Yr)throw new Error("target.depthTexture not supported in Cube render targets");Br(Rr.__webglFramebuffer,Fr)}else if(Yr){Rr.__webglDepthbuffer=[];for(let fn=0;fn<6;fn++)dt.bindFramebuffer(36160,Rr.__webglFramebuffer[fn]),Rr.__webglDepthbuffer[fn]=ft.createRenderbuffer(),Vr(Rr.__webglDepthbuffer[fn],Fr,!1)}else dt.bindFramebuffer(36160,Rr.__webglFramebuffer),Rr.__webglDepthbuffer=ft.createRenderbuffer(),Vr(Rr.__webglDepthbuffer,Fr,!1);dt.bindFramebuffer(36160,null)}function qr(Fr,Rr,Yr){const fn=vt.get(Fr);Rr!==void 0&&Nr(fn.__webglFramebuffer,Fr,Fr.texture,36064,3553),Yr!==void 0&&zr(Fr)}function en(Fr){const Rr=Fr.texture,Yr=vt.get(Fr),fn=vt.get(Rr);Fr.addEventListener("dispose",mr),Fr.isWebGLMultipleRenderTargets!==!0&&(fn.__webglTexture===void 0&&(fn.__webglTexture=ft.createTexture()),fn.__version=Rr.version,At.memory.textures++);const Cn=Fr.isWebGLCubeRenderTarget===!0,An=Fr.isWebGLMultipleRenderTargets===!0,Dn=nr(Fr)||Ct;if(Cn){Yr.__webglFramebuffer=[];for(let In=0;In<6;In++)Yr.__webglFramebuffer[In]=ft.createFramebuffer()}else{if(Yr.__webglFramebuffer=ft.createFramebuffer(),An)if(St.drawBuffers){const In=Fr.texture;for(let mn=0,Nn=In.length;mn<Nn;mn++){const Kr=vt.get(In[mn]);Kr.__webglTexture===void 0&&(Kr.__webglTexture=ft.createTexture(),At.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(Ct&&Fr.samples>0&&yn(Fr)===!1){const In=An?Rr:[Rr];Yr.__webglMultisampledFramebuffer=ft.createFramebuffer(),Yr.__webglColorRenderbuffer=[],dt.bindFramebuffer(36160,Yr.__webglMultisampledFramebuffer);for(let mn=0;mn<In.length;mn++){const Nn=In[mn];Yr.__webglColorRenderbuffer[mn]=ft.createRenderbuffer(),ft.bindRenderbuffer(36161,Yr.__webglColorRenderbuffer[mn]);const Kr=Et.convert(Nn.format,Nn.encoding),hn=Et.convert(Nn.type),En=rr(Nn.internalFormat,Kr,hn,Nn.encoding,Fr.isXRRenderTarget===!0),xn=Qr(Fr);ft.renderbufferStorageMultisample(36161,xn,En,Fr.width,Fr.height),ft.framebufferRenderbuffer(36160,36064+mn,36161,Yr.__webglColorRenderbuffer[mn])}ft.bindRenderbuffer(36161,null),Fr.depthBuffer&&(Yr.__webglDepthRenderbuffer=ft.createRenderbuffer(),Vr(Yr.__webglDepthRenderbuffer,Fr,!0)),dt.bindFramebuffer(36160,null)}}if(Cn){dt.bindTexture(34067,fn.__webglTexture),Dr(34067,Rr,Dn);for(let In=0;In<6;In++)Nr(Yr.__webglFramebuffer[In],Fr,Rr,36064,34069+In);ar(Rr,Dn)&&ir(34067),dt.unbindTexture()}else if(An){const In=Fr.texture;for(let mn=0,Nn=In.length;mn<Nn;mn++){const Kr=In[mn],hn=vt.get(Kr);dt.bindTexture(3553,hn.__webglTexture),Dr(3553,Kr,Dn),Nr(Yr.__webglFramebuffer,Fr,Kr,36064+mn,3553),ar(Kr,Dn)&&ir(3553)}dt.unbindTexture()}else{let In=3553;(Fr.isWebGL3DRenderTarget||Fr.isWebGLArrayRenderTarget)&&(Ct?In=Fr.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),dt.bindTexture(In,fn.__webglTexture),Dr(In,Rr,Dn),Nr(Yr.__webglFramebuffer,Fr,Rr,36064,In),ar(Rr,Dn)&&ir(In),dt.unbindTexture()}Fr.depthBuffer&&zr(Fr)}function cn(Fr){const Rr=nr(Fr)||Ct,Yr=Fr.isWebGLMultipleRenderTargets===!0?Fr.texture:[Fr.texture];for(let fn=0,Cn=Yr.length;fn<Cn;fn++){const An=Yr[fn];if(ar(An,Rr)){const Dn=Fr.isWebGLCubeRenderTarget?34067:3553,In=vt.get(An).__webglTexture;dt.bindTexture(Dn,In),ir(Dn),dt.unbindTexture()}}}function Rn(Fr){if(Ct&&Fr.samples>0&&yn(Fr)===!1){const Rr=Fr.isWebGLMultipleRenderTargets?Fr.texture:[Fr.texture],Yr=Fr.width,fn=Fr.height;let Cn=16384;const An=[],Dn=Fr.stencilBuffer?33306:36096,In=vt.get(Fr),mn=Fr.isWebGLMultipleRenderTargets===!0;if(mn)for(let Nn=0;Nn<Rr.length;Nn++)dt.bindFramebuffer(36160,In.__webglMultisampledFramebuffer),ft.framebufferRenderbuffer(36160,36064+Nn,36161,null),dt.bindFramebuffer(36160,In.__webglFramebuffer),ft.framebufferTexture2D(36009,36064+Nn,3553,null,0);dt.bindFramebuffer(36008,In.__webglMultisampledFramebuffer),dt.bindFramebuffer(36009,In.__webglFramebuffer);for(let Nn=0;Nn<Rr.length;Nn++){An.push(36064+Nn),Fr.depthBuffer&&An.push(Dn);const Kr=In.__ignoreDepthValues!==void 0?In.__ignoreDepthValues:!1;if(Kr===!1&&(Fr.depthBuffer&&(Cn|=256),Fr.stencilBuffer&&(Cn|=1024)),mn&&ft.framebufferRenderbuffer(36008,36064,36161,In.__webglColorRenderbuffer[Nn]),Kr===!0&&(ft.invalidateFramebuffer(36008,[Dn]),ft.invalidateFramebuffer(36009,[Dn])),mn){const hn=vt.get(Rr[Nn]).__webglTexture;ft.framebufferTexture2D(36009,36064,3553,hn,0)}ft.blitFramebuffer(0,0,Yr,fn,0,0,Yr,fn,Cn,9728),kt&&ft.invalidateFramebuffer(36008,An)}if(dt.bindFramebuffer(36008,null),dt.bindFramebuffer(36009,null),mn)for(let Nn=0;Nn<Rr.length;Nn++){dt.bindFramebuffer(36160,In.__webglMultisampledFramebuffer),ft.framebufferRenderbuffer(36160,36064+Nn,36161,In.__webglColorRenderbuffer[Nn]);const Kr=vt.get(Rr[Nn]).__webglTexture;dt.bindFramebuffer(36160,In.__webglFramebuffer),ft.framebufferTexture2D(36009,36064+Nn,3553,Kr,0)}dt.bindFramebuffer(36009,In.__webglMultisampledFramebuffer)}}function Qr(Fr){return Math.min(Dt,Fr.samples)}function yn(Fr){const Rr=vt.get(Fr);return Ct&&Fr.samples>0&&lt.has("WEBGL_multisampled_render_to_texture")===!0&&Rr.__useRenderToTexture!==!1}function Pn(Fr){const Rr=At.render.frame;Ut.get(Fr)!==Rr&&(Ut.set(Fr,Rr),Fr.update())}function pn(Fr,Rr){const Yr=Fr.encoding,fn=Fr.format,Cn=Fr.type;return Fr.isCompressedTexture===!0||Fr.isVideoTexture===!0||Fr.format===_SRGBAFormat||Yr!==LinearEncoding&&(Yr===sRGBEncoding?Ct===!1?lt.has("EXT_sRGB")===!0&&fn===RGBAFormat?(Fr.format=_SRGBAFormat,Fr.minFilter=LinearFilter,Fr.generateMipmaps=!1):Rr=ImageUtils.sRGBToLinear(Rr):(fn!==RGBAFormat||Cn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Yr)),Rr}this.allocateTextureUnit=cr,this.resetTextureUnits=br,this.setTexture2D=Er,this.setTexture2DArray=_r,this.setTexture3D=Ar,this.setTextureCube=Pr,this.rebindTextures=qr,this.setupRenderTarget=en,this.updateRenderTargetMipmap=cn,this.updateMultisampleRenderTarget=Rn,this.setupDepthRenderbuffer=zr,this.setupFrameBufferTexture=Nr,this.useMultisampledRTT=yn}function WebGLUtils(ft,lt,dt){const vt=dt.isWebGL2;function St(Et,At=null){let Ct;if(Et===UnsignedByteType)return 5121;if(Et===UnsignedShort4444Type)return 32819;if(Et===UnsignedShort5551Type)return 32820;if(Et===ByteType)return 5120;if(Et===ShortType)return 5122;if(Et===UnsignedShortType)return 5123;if(Et===IntType)return 5124;if(Et===UnsignedIntType)return 5125;if(Et===FloatType)return 5126;if(Et===HalfFloatType)return vt?5131:(Ct=lt.get("OES_texture_half_float"),Ct!==null?Ct.HALF_FLOAT_OES:null);if(Et===AlphaFormat)return 6406;if(Et===RGBAFormat)return 6408;if(Et===LuminanceFormat)return 6409;if(Et===LuminanceAlphaFormat)return 6410;if(Et===DepthFormat)return 6402;if(Et===DepthStencilFormat)return 34041;if(Et===_SRGBAFormat)return Ct=lt.get("EXT_sRGB"),Ct!==null?Ct.SRGB_ALPHA_EXT:null;if(Et===RedFormat)return 6403;if(Et===RedIntegerFormat)return 36244;if(Et===RGFormat)return 33319;if(Et===RGIntegerFormat)return 33320;if(Et===RGBAIntegerFormat)return 36249;if(Et===RGB_S3TC_DXT1_Format||Et===RGBA_S3TC_DXT1_Format||Et===RGBA_S3TC_DXT3_Format||Et===RGBA_S3TC_DXT5_Format)if(At===sRGBEncoding)if(Ct=lt.get("WEBGL_compressed_texture_s3tc_srgb"),Ct!==null){if(Et===RGB_S3TC_DXT1_Format)return Ct.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT1_Format)return Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT3_Format)return Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(Et===RGBA_S3TC_DXT5_Format)return Ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(Ct=lt.get("WEBGL_compressed_texture_s3tc"),Ct!==null){if(Et===RGB_S3TC_DXT1_Format)return Ct.COMPRESSED_RGB_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT1_Format)return Ct.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(Et===RGBA_S3TC_DXT3_Format)return Ct.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(Et===RGBA_S3TC_DXT5_Format)return Ct.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(Et===RGB_PVRTC_4BPPV1_Format||Et===RGB_PVRTC_2BPPV1_Format||Et===RGBA_PVRTC_4BPPV1_Format||Et===RGBA_PVRTC_2BPPV1_Format)if(Ct=lt.get("WEBGL_compressed_texture_pvrtc"),Ct!==null){if(Et===RGB_PVRTC_4BPPV1_Format)return Ct.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(Et===RGB_PVRTC_2BPPV1_Format)return Ct.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(Et===RGBA_PVRTC_4BPPV1_Format)return Ct.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(Et===RGBA_PVRTC_2BPPV1_Format)return Ct.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(Et===RGB_ETC1_Format)return Ct=lt.get("WEBGL_compressed_texture_etc1"),Ct!==null?Ct.COMPRESSED_RGB_ETC1_WEBGL:null;if(Et===RGB_ETC2_Format||Et===RGBA_ETC2_EAC_Format)if(Ct=lt.get("WEBGL_compressed_texture_etc"),Ct!==null){if(Et===RGB_ETC2_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ETC2:Ct.COMPRESSED_RGB8_ETC2;if(Et===RGBA_ETC2_EAC_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:Ct.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(Et===RGBA_ASTC_4x4_Format||Et===RGBA_ASTC_5x4_Format||Et===RGBA_ASTC_5x5_Format||Et===RGBA_ASTC_6x5_Format||Et===RGBA_ASTC_6x6_Format||Et===RGBA_ASTC_8x5_Format||Et===RGBA_ASTC_8x6_Format||Et===RGBA_ASTC_8x8_Format||Et===RGBA_ASTC_10x5_Format||Et===RGBA_ASTC_10x6_Format||Et===RGBA_ASTC_10x8_Format||Et===RGBA_ASTC_10x10_Format||Et===RGBA_ASTC_12x10_Format||Et===RGBA_ASTC_12x12_Format)if(Ct=lt.get("WEBGL_compressed_texture_astc"),Ct!==null){if(Et===RGBA_ASTC_4x4_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:Ct.COMPRESSED_RGBA_ASTC_4x4_KHR;if(Et===RGBA_ASTC_5x4_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:Ct.COMPRESSED_RGBA_ASTC_5x4_KHR;if(Et===RGBA_ASTC_5x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:Ct.COMPRESSED_RGBA_ASTC_5x5_KHR;if(Et===RGBA_ASTC_6x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:Ct.COMPRESSED_RGBA_ASTC_6x5_KHR;if(Et===RGBA_ASTC_6x6_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:Ct.COMPRESSED_RGBA_ASTC_6x6_KHR;if(Et===RGBA_ASTC_8x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:Ct.COMPRESSED_RGBA_ASTC_8x5_KHR;if(Et===RGBA_ASTC_8x6_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:Ct.COMPRESSED_RGBA_ASTC_8x6_KHR;if(Et===RGBA_ASTC_8x8_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:Ct.COMPRESSED_RGBA_ASTC_8x8_KHR;if(Et===RGBA_ASTC_10x5_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:Ct.COMPRESSED_RGBA_ASTC_10x5_KHR;if(Et===RGBA_ASTC_10x6_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:Ct.COMPRESSED_RGBA_ASTC_10x6_KHR;if(Et===RGBA_ASTC_10x8_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:Ct.COMPRESSED_RGBA_ASTC_10x8_KHR;if(Et===RGBA_ASTC_10x10_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:Ct.COMPRESSED_RGBA_ASTC_10x10_KHR;if(Et===RGBA_ASTC_12x10_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:Ct.COMPRESSED_RGBA_ASTC_12x10_KHR;if(Et===RGBA_ASTC_12x12_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:Ct.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(Et===RGBA_BPTC_Format)if(Ct=lt.get("EXT_texture_compression_bptc"),Ct!==null){if(Et===RGBA_BPTC_Format)return At===sRGBEncoding?Ct.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:Ct.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(Et===RED_RGTC1_Format||Et===SIGNED_RED_RGTC1_Format||Et===RED_GREEN_RGTC2_Format||Et===SIGNED_RED_GREEN_RGTC2_Format)if(Ct=lt.get("EXT_texture_compression_rgtc"),Ct!==null){if(Et===RGBA_BPTC_Format)return Ct.COMPRESSED_RED_RGTC1_EXT;if(Et===SIGNED_RED_RGTC1_Format)return Ct.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(Et===RED_GREEN_RGTC2_Format)return Ct.COMPRESSED_RED_GREEN_RGTC2_EXT;if(Et===SIGNED_RED_GREEN_RGTC2_Format)return Ct.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return Et===UnsignedInt248Type?vt?34042:(Ct=lt.get("WEBGL_depth_texture"),Ct!==null?Ct.UNSIGNED_INT_24_8_WEBGL:null):ft[Et]!==void 0?ft[Et]:null}return{convert:St}}class ArrayCamera extends PerspectiveCamera$1{constructor(lt=[]){super(),this.isArrayCamera=!0,this.cameras=lt}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(lt){return this._targetRay!==null&&this._targetRay.dispatchEvent(lt),this._grip!==null&&this._grip.dispatchEvent(lt),this._hand!==null&&this._hand.dispatchEvent(lt),this}connect(lt){if(lt&&lt.hand){const dt=this._hand;if(dt)for(const vt of lt.hand.values())this._getHandJoint(dt,vt)}return this.dispatchEvent({type:"connected",data:lt}),this}disconnect(lt){return this.dispatchEvent({type:"disconnected",data:lt}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(lt,dt,vt){let St=null,Et=null,At=null;const Ct=this._targetRay,Tt=this._grip,Rt=this._hand;if(lt&&dt.session.visibilityState!=="visible-blurred"){if(Rt&&lt.hand){At=!0;for(const Kt of lt.hand.values()){const tr=dt.getJointPose(Kt,vt),Wt=this._getHandJoint(Rt,Kt);tr!==null&&(Wt.matrix.fromArray(tr.transform.matrix),Wt.matrix.decompose(Wt.position,Wt.rotation,Wt.scale),Wt.jointRadius=tr.radius),Wt.visible=tr!==null}const Bt=Rt.joints["index-finger-tip"],Dt=Rt.joints["thumb-tip"],Ft=Bt.position.distanceTo(Dt.position),kt=.02,Ut=.005;Rt.inputState.pinching&&Ft>kt+Ut?(Rt.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:lt.handedness,target:this})):!Rt.inputState.pinching&&Ft<=kt-Ut&&(Rt.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:lt.handedness,target:this}))}else Tt!==null&&lt.gripSpace&&(Et=dt.getPose(lt.gripSpace,vt),Et!==null&&(Tt.matrix.fromArray(Et.transform.matrix),Tt.matrix.decompose(Tt.position,Tt.rotation,Tt.scale),Et.linearVelocity?(Tt.hasLinearVelocity=!0,Tt.linearVelocity.copy(Et.linearVelocity)):Tt.hasLinearVelocity=!1,Et.angularVelocity?(Tt.hasAngularVelocity=!0,Tt.angularVelocity.copy(Et.angularVelocity)):Tt.hasAngularVelocity=!1));Ct!==null&&(St=dt.getPose(lt.targetRaySpace,vt),St===null&&Et!==null&&(St=Et),St!==null&&(Ct.matrix.fromArray(St.transform.matrix),Ct.matrix.decompose(Ct.position,Ct.rotation,Ct.scale),St.linearVelocity?(Ct.hasLinearVelocity=!0,Ct.linearVelocity.copy(St.linearVelocity)):Ct.hasLinearVelocity=!1,St.angularVelocity?(Ct.hasAngularVelocity=!0,Ct.angularVelocity.copy(St.angularVelocity)):Ct.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return Ct!==null&&(Ct.visible=St!==null),Tt!==null&&(Tt.visible=Et!==null),Rt!==null&&(Rt.visible=At!==null),this}_getHandJoint(lt,dt){if(lt.joints[dt.jointName]===void 0){const vt=new Group;vt.matrixAutoUpdate=!1,vt.visible=!1,lt.joints[dt.jointName]=vt,lt.add(vt)}return lt.joints[dt.jointName]}}class DepthTexture extends Texture{constructor(lt,dt,vt,St,Et,At,Ct,Tt,Rt,Bt){if(Bt=Bt!==void 0?Bt:DepthFormat,Bt!==DepthFormat&&Bt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");vt===void 0&&Bt===DepthFormat&&(vt=UnsignedIntType),vt===void 0&&Bt===DepthStencilFormat&&(vt=UnsignedInt248Type),super(null,St,Et,At,Ct,Tt,Bt,vt,Rt),this.isDepthTexture=!0,this.image={width:lt,height:dt},this.magFilter=Ct!==void 0?Ct:NearestFilter,this.minFilter=Tt!==void 0?Tt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(lt,dt){super();const vt=this;let St=null,Et=1,At=null,Ct="local-floor",Tt=1,Rt=null,Bt=null,Dt=null,Ft=null,kt=null,Ut=null;const Kt=dt.getContextAttributes();let tr=null,Wt=null;const Zt=[],Ht=[],nr=new Set,sr=new Map,ar=new PerspectiveCamera$1;ar.layers.enable(1),ar.viewport=new Vector4;const ir=new PerspectiveCamera$1;ir.layers.enable(2),ir.viewport=new Vector4;const rr=[ar,ir],lr=new ArrayCamera;lr.layers.enable(1),lr.layers.enable(2);let ur=null,dr=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ar){let Pr=Zt[Ar];return Pr===void 0&&(Pr=new WebXRController,Zt[Ar]=Pr),Pr.getTargetRaySpace()},this.getControllerGrip=function(Ar){let Pr=Zt[Ar];return Pr===void 0&&(Pr=new WebXRController,Zt[Ar]=Pr),Pr.getGripSpace()},this.getHand=function(Ar){let Pr=Zt[Ar];return Pr===void 0&&(Pr=new WebXRController,Zt[Ar]=Pr),Pr.getHandSpace()};function mr(Ar){const Pr=Ht.indexOf(Ar.inputSource);if(Pr===-1)return;const Ir=Zt[Pr];Ir!==void 0&&Ir.dispatchEvent({type:Ar.type,data:Ar.inputSource})}function Cr(){St.removeEventListener("select",mr),St.removeEventListener("selectstart",mr),St.removeEventListener("selectend",mr),St.removeEventListener("squeeze",mr),St.removeEventListener("squeezestart",mr),St.removeEventListener("squeezeend",mr),St.removeEventListener("end",Cr),St.removeEventListener("inputsourceschange",yr);for(let Ar=0;Ar<Zt.length;Ar++){const Pr=Ht[Ar];Pr!==null&&(Ht[Ar]=null,Zt[Ar].disconnect(Pr))}ur=null,dr=null,lt.setRenderTarget(tr),kt=null,Ft=null,Dt=null,St=null,Wt=null,_r.stop(),vt.isPresenting=!1,vt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ar){Et=Ar,vt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ar){Ct=Ar,vt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return Rt||At},this.setReferenceSpace=function(Ar){Rt=Ar},this.getBaseLayer=function(){return Ft!==null?Ft:kt},this.getBinding=function(){return Dt},this.getFrame=function(){return Ut},this.getSession=function(){return St},this.setSession=async function(Ar){if(St=Ar,St!==null){if(tr=lt.getRenderTarget(),St.addEventListener("select",mr),St.addEventListener("selectstart",mr),St.addEventListener("selectend",mr),St.addEventListener("squeeze",mr),St.addEventListener("squeezestart",mr),St.addEventListener("squeezeend",mr),St.addEventListener("end",Cr),St.addEventListener("inputsourceschange",yr),Kt.xrCompatible!==!0&&await dt.makeXRCompatible(),St.renderState.layers===void 0||lt.capabilities.isWebGL2===!1){const Pr={antialias:St.renderState.layers===void 0?Kt.antialias:!0,alpha:Kt.alpha,depth:Kt.depth,stencil:Kt.stencil,framebufferScaleFactor:Et};kt=new XRWebGLLayer(St,dt,Pr),St.updateRenderState({baseLayer:kt}),Wt=new WebGLRenderTarget(kt.framebufferWidth,kt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:lt.outputEncoding,stencilBuffer:Kt.stencil})}else{let Pr=null,Ir=null,kr=null;Kt.depth&&(kr=Kt.stencil?35056:33190,Pr=Kt.stencil?DepthStencilFormat:DepthFormat,Ir=Kt.stencil?UnsignedInt248Type:UnsignedIntType);const Dr={colorFormat:32856,depthFormat:kr,scaleFactor:Et};Dt=new XRWebGLBinding(St,dt),Ft=Dt.createProjectionLayer(Dr),St.updateRenderState({layers:[Ft]}),Wt=new WebGLRenderTarget(Ft.textureWidth,Ft.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(Ft.textureWidth,Ft.textureHeight,Ir,void 0,void 0,void 0,void 0,void 0,void 0,Pr),stencilBuffer:Kt.stencil,encoding:lt.outputEncoding,samples:Kt.antialias?4:0});const Jr=lt.properties.get(Wt);Jr.__ignoreDepthValues=Ft.ignoreDepthValues}Wt.isXRRenderTarget=!0,this.setFoveation(Tt),Rt=null,At=await St.requestReferenceSpace(Ct),_r.setContext(St),_r.start(),vt.isPresenting=!0,vt.dispatchEvent({type:"sessionstart"})}};function yr(Ar){for(let Pr=0;Pr<Ar.removed.length;Pr++){const Ir=Ar.removed[Pr],kr=Ht.indexOf(Ir);kr>=0&&(Ht[kr]=null,Zt[kr].disconnect(Ir))}for(let Pr=0;Pr<Ar.added.length;Pr++){const Ir=Ar.added[Pr];let kr=Ht.indexOf(Ir);if(kr===-1){for(let Jr=0;Jr<Zt.length;Jr++)if(Jr>=Ht.length){Ht.push(Ir),kr=Jr;break}else if(Ht[Jr]===null){Ht[Jr]=Ir,kr=Jr;break}if(kr===-1)break}const Dr=Zt[kr];Dr&&Dr.connect(Ir)}}const xr=new Vector3,Sr=new Vector3;function br(Ar,Pr,Ir){xr.setFromMatrixPosition(Pr.matrixWorld),Sr.setFromMatrixPosition(Ir.matrixWorld);const kr=xr.distanceTo(Sr),Dr=Pr.projectionMatrix.elements,Jr=Ir.projectionMatrix.elements,Or=Dr[14]/(Dr[10]-1),jr=Dr[14]/(Dr[10]+1),Nr=(Dr[9]+1)/Dr[5],Vr=(Dr[9]-1)/Dr[5],Br=(Dr[8]-1)/Dr[0],zr=(Jr[8]+1)/Jr[0],qr=Or*Br,en=Or*zr,cn=kr/(-Br+zr),Rn=cn*-Br;Pr.matrixWorld.decompose(Ar.position,Ar.quaternion,Ar.scale),Ar.translateX(Rn),Ar.translateZ(cn),Ar.matrixWorld.compose(Ar.position,Ar.quaternion,Ar.scale),Ar.matrixWorldInverse.copy(Ar.matrixWorld).invert();const Qr=Or+cn,yn=jr+cn,Pn=qr-Rn,pn=en+(kr-Rn),Fr=Nr*jr/yn*Qr,Rr=Vr*jr/yn*Qr;Ar.projectionMatrix.makePerspective(Pn,pn,Fr,Rr,Qr,yn)}function cr(Ar,Pr){Pr===null?Ar.matrixWorld.copy(Ar.matrix):Ar.matrixWorld.multiplyMatrices(Pr.matrixWorld,Ar.matrix),Ar.matrixWorldInverse.copy(Ar.matrixWorld).invert()}this.updateCamera=function(Ar){if(St===null)return;lr.near=ir.near=ar.near=Ar.near,lr.far=ir.far=ar.far=Ar.far,(ur!==lr.near||dr!==lr.far)&&(St.updateRenderState({depthNear:lr.near,depthFar:lr.far}),ur=lr.near,dr=lr.far);const Pr=Ar.parent,Ir=lr.cameras;cr(lr,Pr);for(let Dr=0;Dr<Ir.length;Dr++)cr(Ir[Dr],Pr);lr.matrixWorld.decompose(lr.position,lr.quaternion,lr.scale),Ar.matrix.copy(lr.matrix),Ar.matrix.decompose(Ar.position,Ar.quaternion,Ar.scale);const kr=Ar.children;for(let Dr=0,Jr=kr.length;Dr<Jr;Dr++)kr[Dr].updateMatrixWorld(!0);Ir.length===2?br(lr,ar,ir):lr.projectionMatrix.copy(ar.projectionMatrix)},this.getCamera=function(){return lr},this.getFoveation=function(){if(!(Ft===null&&kt===null))return Tt},this.setFoveation=function(Ar){Tt=Ar,Ft!==null&&(Ft.fixedFoveation=Ar),kt!==null&&kt.fixedFoveation!==void 0&&(kt.fixedFoveation=Ar)},this.getPlanes=function(){return nr};let pr=null;function Er(Ar,Pr){if(Bt=Pr.getViewerPose(Rt||At),Ut=Pr,Bt!==null){const Ir=Bt.views;kt!==null&&(lt.setRenderTargetFramebuffer(Wt,kt.framebuffer),lt.setRenderTarget(Wt));let kr=!1;Ir.length!==lr.cameras.length&&(lr.cameras.length=0,kr=!0);for(let Dr=0;Dr<Ir.length;Dr++){const Jr=Ir[Dr];let Or=null;if(kt!==null)Or=kt.getViewport(Jr);else{const Nr=Dt.getViewSubImage(Ft,Jr);Or=Nr.viewport,Dr===0&&(lt.setRenderTargetTextures(Wt,Nr.colorTexture,Ft.ignoreDepthValues?void 0:Nr.depthStencilTexture),lt.setRenderTarget(Wt))}let jr=rr[Dr];jr===void 0&&(jr=new PerspectiveCamera$1,jr.layers.enable(Dr),jr.viewport=new Vector4,rr[Dr]=jr),jr.matrix.fromArray(Jr.transform.matrix),jr.projectionMatrix.fromArray(Jr.projectionMatrix),jr.viewport.set(Or.x,Or.y,Or.width,Or.height),Dr===0&&lr.matrix.copy(jr.matrix),kr===!0&&lr.cameras.push(jr)}}for(let Ir=0;Ir<Zt.length;Ir++){const kr=Ht[Ir],Dr=Zt[Ir];kr!==null&&Dr!==void 0&&Dr.update(kr,Pr,Rt||At)}if(pr&&pr(Ar,Pr),Pr.detectedPlanes){vt.dispatchEvent({type:"planesdetected",data:Pr.detectedPlanes});let Ir=null;for(const kr of nr)Pr.detectedPlanes.has(kr)||(Ir===null&&(Ir=[]),Ir.push(kr));if(Ir!==null)for(const kr of Ir)nr.delete(kr),sr.delete(kr),vt.dispatchEvent({type:"planeremoved",data:kr});for(const kr of Pr.detectedPlanes)if(!nr.has(kr))nr.add(kr),sr.set(kr,Pr.lastChangedTime),vt.dispatchEvent({type:"planeadded",data:kr});else{const Dr=sr.get(kr);kr.lastChangedTime>Dr&&(sr.set(kr,kr.lastChangedTime),vt.dispatchEvent({type:"planechanged",data:kr}))}}Ut=null}const _r=new WebGLAnimation;_r.setAnimationLoop(Er),this.setAnimationLoop=function(Ar){pr=Ar},this.dispose=function(){}}}function WebGLMaterials(ft,lt){function dt(Kt,tr){tr.color.getRGB(Kt.fogColor.value,getUnlitUniformColorSpace(ft)),tr.isFog?(Kt.fogNear.value=tr.near,Kt.fogFar.value=tr.far):tr.isFogExp2&&(Kt.fogDensity.value=tr.density)}function vt(Kt,tr,Wt,Zt,Ht){tr.isMeshBasicMaterial||tr.isMeshLambertMaterial?St(Kt,tr):tr.isMeshToonMaterial?(St(Kt,tr),Bt(Kt,tr)):tr.isMeshPhongMaterial?(St(Kt,tr),Rt(Kt,tr)):tr.isMeshStandardMaterial?(St(Kt,tr),Dt(Kt,tr),tr.isMeshPhysicalMaterial&&Ft(Kt,tr,Ht)):tr.isMeshMatcapMaterial?(St(Kt,tr),kt(Kt,tr)):tr.isMeshDepthMaterial?St(Kt,tr):tr.isMeshDistanceMaterial?(St(Kt,tr),Ut(Kt,tr)):tr.isMeshNormalMaterial?St(Kt,tr):tr.isLineBasicMaterial?(Et(Kt,tr),tr.isLineDashedMaterial&&At(Kt,tr)):tr.isPointsMaterial?Ct(Kt,tr,Wt,Zt):tr.isSpriteMaterial?Tt(Kt,tr):tr.isShadowMaterial?(Kt.color.value.copy(tr.color),Kt.opacity.value=tr.opacity):tr.isShaderMaterial&&(tr.uniformsNeedUpdate=!1)}function St(Kt,tr){Kt.opacity.value=tr.opacity,tr.color&&Kt.diffuse.value.copy(tr.color),tr.emissive&&Kt.emissive.value.copy(tr.emissive).multiplyScalar(tr.emissiveIntensity),tr.map&&(Kt.map.value=tr.map),tr.alphaMap&&(Kt.alphaMap.value=tr.alphaMap),tr.bumpMap&&(Kt.bumpMap.value=tr.bumpMap,Kt.bumpScale.value=tr.bumpScale,tr.side===BackSide&&(Kt.bumpScale.value*=-1)),tr.displacementMap&&(Kt.displacementMap.value=tr.displacementMap,Kt.displacementScale.value=tr.displacementScale,Kt.displacementBias.value=tr.displacementBias),tr.emissiveMap&&(Kt.emissiveMap.value=tr.emissiveMap),tr.normalMap&&(Kt.normalMap.value=tr.normalMap,Kt.normalScale.value.copy(tr.normalScale),tr.side===BackSide&&Kt.normalScale.value.negate()),tr.specularMap&&(Kt.specularMap.value=tr.specularMap),tr.alphaTest>0&&(Kt.alphaTest.value=tr.alphaTest);const Wt=lt.get(tr).envMap;if(Wt&&(Kt.envMap.value=Wt,Kt.flipEnvMap.value=Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1?-1:1,Kt.reflectivity.value=tr.reflectivity,Kt.ior.value=tr.ior,Kt.refractionRatio.value=tr.refractionRatio),tr.lightMap){Kt.lightMap.value=tr.lightMap;const nr=ft.physicallyCorrectLights!==!0?Math.PI:1;Kt.lightMapIntensity.value=tr.lightMapIntensity*nr}tr.aoMap&&(Kt.aoMap.value=tr.aoMap,Kt.aoMapIntensity.value=tr.aoMapIntensity);let Zt;tr.map?Zt=tr.map:tr.specularMap?Zt=tr.specularMap:tr.displacementMap?Zt=tr.displacementMap:tr.normalMap?Zt=tr.normalMap:tr.bumpMap?Zt=tr.bumpMap:tr.roughnessMap?Zt=tr.roughnessMap:tr.metalnessMap?Zt=tr.metalnessMap:tr.alphaMap?Zt=tr.alphaMap:tr.emissiveMap?Zt=tr.emissiveMap:tr.clearcoatMap?Zt=tr.clearcoatMap:tr.clearcoatNormalMap?Zt=tr.clearcoatNormalMap:tr.clearcoatRoughnessMap?Zt=tr.clearcoatRoughnessMap:tr.iridescenceMap?Zt=tr.iridescenceMap:tr.iridescenceThicknessMap?Zt=tr.iridescenceThicknessMap:tr.specularIntensityMap?Zt=tr.specularIntensityMap:tr.specularColorMap?Zt=tr.specularColorMap:tr.transmissionMap?Zt=tr.transmissionMap:tr.thicknessMap?Zt=tr.thicknessMap:tr.sheenColorMap?Zt=tr.sheenColorMap:tr.sheenRoughnessMap&&(Zt=tr.sheenRoughnessMap),Zt!==void 0&&(Zt.isWebGLRenderTarget&&(Zt=Zt.texture),Zt.matrixAutoUpdate===!0&&Zt.updateMatrix(),Kt.uvTransform.value.copy(Zt.matrix));let Ht;tr.aoMap?Ht=tr.aoMap:tr.lightMap&&(Ht=tr.lightMap),Ht!==void 0&&(Ht.isWebGLRenderTarget&&(Ht=Ht.texture),Ht.matrixAutoUpdate===!0&&Ht.updateMatrix(),Kt.uv2Transform.value.copy(Ht.matrix))}function Et(Kt,tr){Kt.diffuse.value.copy(tr.color),Kt.opacity.value=tr.opacity}function At(Kt,tr){Kt.dashSize.value=tr.dashSize,Kt.totalSize.value=tr.dashSize+tr.gapSize,Kt.scale.value=tr.scale}function Ct(Kt,tr,Wt,Zt){Kt.diffuse.value.copy(tr.color),Kt.opacity.value=tr.opacity,Kt.size.value=tr.size*Wt,Kt.scale.value=Zt*.5,tr.map&&(Kt.map.value=tr.map),tr.alphaMap&&(Kt.alphaMap.value=tr.alphaMap),tr.alphaTest>0&&(Kt.alphaTest.value=tr.alphaTest);let Ht;tr.map?Ht=tr.map:tr.alphaMap&&(Ht=tr.alphaMap),Ht!==void 0&&(Ht.matrixAutoUpdate===!0&&Ht.updateMatrix(),Kt.uvTransform.value.copy(Ht.matrix))}function Tt(Kt,tr){Kt.diffuse.value.copy(tr.color),Kt.opacity.value=tr.opacity,Kt.rotation.value=tr.rotation,tr.map&&(Kt.map.value=tr.map),tr.alphaMap&&(Kt.alphaMap.value=tr.alphaMap),tr.alphaTest>0&&(Kt.alphaTest.value=tr.alphaTest);let Wt;tr.map?Wt=tr.map:tr.alphaMap&&(Wt=tr.alphaMap),Wt!==void 0&&(Wt.matrixAutoUpdate===!0&&Wt.updateMatrix(),Kt.uvTransform.value.copy(Wt.matrix))}function Rt(Kt,tr){Kt.specular.value.copy(tr.specular),Kt.shininess.value=Math.max(tr.shininess,1e-4)}function Bt(Kt,tr){tr.gradientMap&&(Kt.gradientMap.value=tr.gradientMap)}function Dt(Kt,tr){Kt.roughness.value=tr.roughness,Kt.metalness.value=tr.metalness,tr.roughnessMap&&(Kt.roughnessMap.value=tr.roughnessMap),tr.metalnessMap&&(Kt.metalnessMap.value=tr.metalnessMap),lt.get(tr).envMap&&(Kt.envMapIntensity.value=tr.envMapIntensity)}function Ft(Kt,tr,Wt){Kt.ior.value=tr.ior,tr.sheen>0&&(Kt.sheenColor.value.copy(tr.sheenColor).multiplyScalar(tr.sheen),Kt.sheenRoughness.value=tr.sheenRoughness,tr.sheenColorMap&&(Kt.sheenColorMap.value=tr.sheenColorMap),tr.sheenRoughnessMap&&(Kt.sheenRoughnessMap.value=tr.sheenRoughnessMap)),tr.clearcoat>0&&(Kt.clearcoat.value=tr.clearcoat,Kt.clearcoatRoughness.value=tr.clearcoatRoughness,tr.clearcoatMap&&(Kt.clearcoatMap.value=tr.clearcoatMap),tr.clearcoatRoughnessMap&&(Kt.clearcoatRoughnessMap.value=tr.clearcoatRoughnessMap),tr.clearcoatNormalMap&&(Kt.clearcoatNormalScale.value.copy(tr.clearcoatNormalScale),Kt.clearcoatNormalMap.value=tr.clearcoatNormalMap,tr.side===BackSide&&Kt.clearcoatNormalScale.value.negate())),tr.iridescence>0&&(Kt.iridescence.value=tr.iridescence,Kt.iridescenceIOR.value=tr.iridescenceIOR,Kt.iridescenceThicknessMinimum.value=tr.iridescenceThicknessRange[0],Kt.iridescenceThicknessMaximum.value=tr.iridescenceThicknessRange[1],tr.iridescenceMap&&(Kt.iridescenceMap.value=tr.iridescenceMap),tr.iridescenceThicknessMap&&(Kt.iridescenceThicknessMap.value=tr.iridescenceThicknessMap)),tr.transmission>0&&(Kt.transmission.value=tr.transmission,Kt.transmissionSamplerMap.value=Wt.texture,Kt.transmissionSamplerSize.value.set(Wt.width,Wt.height),tr.transmissionMap&&(Kt.transmissionMap.value=tr.transmissionMap),Kt.thickness.value=tr.thickness,tr.thicknessMap&&(Kt.thicknessMap.value=tr.thicknessMap),Kt.attenuationDistance.value=tr.attenuationDistance,Kt.attenuationColor.value.copy(tr.attenuationColor)),Kt.specularIntensity.value=tr.specularIntensity,Kt.specularColor.value.copy(tr.specularColor),tr.specularIntensityMap&&(Kt.specularIntensityMap.value=tr.specularIntensityMap),tr.specularColorMap&&(Kt.specularColorMap.value=tr.specularColorMap)}function kt(Kt,tr){tr.matcap&&(Kt.matcap.value=tr.matcap)}function Ut(Kt,tr){Kt.referencePosition.value.copy(tr.referencePosition),Kt.nearDistance.value=tr.nearDistance,Kt.farDistance.value=tr.farDistance}return{refreshFogUniforms:dt,refreshMaterialUniforms:vt}}function WebGLUniformsGroups(ft,lt,dt,vt){let St={},Et={},At=[];const Ct=dt.isWebGL2?ft.getParameter(35375):0;function Tt(Zt,Ht){const nr=Ht.program;vt.uniformBlockBinding(Zt,nr)}function Rt(Zt,Ht){let nr=St[Zt.id];nr===void 0&&(Ut(Zt),nr=Bt(Zt),St[Zt.id]=nr,Zt.addEventListener("dispose",tr));const sr=Ht.program;vt.updateUBOMapping(Zt,sr);const ar=lt.render.frame;Et[Zt.id]!==ar&&(Ft(Zt),Et[Zt.id]=ar)}function Bt(Zt){const Ht=Dt();Zt.__bindingPointIndex=Ht;const nr=ft.createBuffer(),sr=Zt.__size,ar=Zt.usage;return ft.bindBuffer(35345,nr),ft.bufferData(35345,sr,ar),ft.bindBuffer(35345,null),ft.bindBufferBase(35345,Ht,nr),nr}function Dt(){for(let Zt=0;Zt<Ct;Zt++)if(At.indexOf(Zt)===-1)return At.push(Zt),Zt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Ft(Zt){const Ht=St[Zt.id],nr=Zt.uniforms,sr=Zt.__cache;ft.bindBuffer(35345,Ht);for(let ar=0,ir=nr.length;ar<ir;ar++){const rr=nr[ar];if(kt(rr,ar,sr)===!0){const lr=rr.__offset,ur=Array.isArray(rr.value)?rr.value:[rr.value];let dr=0;for(let mr=0;mr<ur.length;mr++){const Cr=ur[mr],yr=Kt(Cr);typeof Cr=="number"?(rr.__data[0]=Cr,ft.bufferSubData(35345,lr+dr,rr.__data)):Cr.isMatrix3?(rr.__data[0]=Cr.elements[0],rr.__data[1]=Cr.elements[1],rr.__data[2]=Cr.elements[2],rr.__data[3]=Cr.elements[0],rr.__data[4]=Cr.elements[3],rr.__data[5]=Cr.elements[4],rr.__data[6]=Cr.elements[5],rr.__data[7]=Cr.elements[0],rr.__data[8]=Cr.elements[6],rr.__data[9]=Cr.elements[7],rr.__data[10]=Cr.elements[8],rr.__data[11]=Cr.elements[0]):(Cr.toArray(rr.__data,dr),dr+=yr.storage/Float32Array.BYTES_PER_ELEMENT)}ft.bufferSubData(35345,lr,rr.__data)}}ft.bindBuffer(35345,null)}function kt(Zt,Ht,nr){const sr=Zt.value;if(nr[Ht]===void 0){if(typeof sr=="number")nr[Ht]=sr;else{const ar=Array.isArray(sr)?sr:[sr],ir=[];for(let rr=0;rr<ar.length;rr++)ir.push(ar[rr].clone());nr[Ht]=ir}return!0}else if(typeof sr=="number"){if(nr[Ht]!==sr)return nr[Ht]=sr,!0}else{const ar=Array.isArray(nr[Ht])?nr[Ht]:[nr[Ht]],ir=Array.isArray(sr)?sr:[sr];for(let rr=0;rr<ar.length;rr++){const lr=ar[rr];if(lr.equals(ir[rr])===!1)return lr.copy(ir[rr]),!0}}return!1}function Ut(Zt){const Ht=Zt.uniforms;let nr=0;const sr=16;let ar=0;for(let ir=0,rr=Ht.length;ir<rr;ir++){const lr=Ht[ir],ur={boundary:0,storage:0},dr=Array.isArray(lr.value)?lr.value:[lr.value];for(let mr=0,Cr=dr.length;mr<Cr;mr++){const yr=dr[mr],xr=Kt(yr);ur.boundary+=xr.boundary,ur.storage+=xr.storage}if(lr.__data=new Float32Array(ur.storage/Float32Array.BYTES_PER_ELEMENT),lr.__offset=nr,ir>0){ar=nr%sr;const mr=sr-ar;ar!==0&&mr-ur.boundary<0&&(nr+=sr-ar,lr.__offset=nr)}nr+=ur.storage}return ar=nr%sr,ar>0&&(nr+=sr-ar),Zt.__size=nr,Zt.__cache={},this}function Kt(Zt){const Ht={boundary:0,storage:0};return typeof Zt=="number"?(Ht.boundary=4,Ht.storage=4):Zt.isVector2?(Ht.boundary=8,Ht.storage=8):Zt.isVector3||Zt.isColor?(Ht.boundary=16,Ht.storage=12):Zt.isVector4?(Ht.boundary=16,Ht.storage=16):Zt.isMatrix3?(Ht.boundary=48,Ht.storage=48):Zt.isMatrix4?(Ht.boundary=64,Ht.storage=64):Zt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Zt),Ht}function tr(Zt){const Ht=Zt.target;Ht.removeEventListener("dispose",tr);const nr=At.indexOf(Ht.__bindingPointIndex);At.splice(nr,1),ft.deleteBuffer(St[Ht.id]),delete St[Ht.id],delete Et[Ht.id]}function Wt(){for(const Zt in St)ft.deleteBuffer(St[Zt]);At=[],St={},Et={}}return{bind:Tt,update:Rt,dispose:Wt}}function createCanvasElement(){const ft=createElementNS("canvas");return ft.style.display="block",ft}function WebGLRenderer(ft={}){this.isWebGLRenderer=!0;const lt=ft.canvas!==void 0?ft.canvas:createCanvasElement(),dt=ft.context!==void 0?ft.context:null,vt=ft.depth!==void 0?ft.depth:!0,St=ft.stencil!==void 0?ft.stencil:!0,Et=ft.antialias!==void 0?ft.antialias:!1,At=ft.premultipliedAlpha!==void 0?ft.premultipliedAlpha:!0,Ct=ft.preserveDrawingBuffer!==void 0?ft.preserveDrawingBuffer:!1,Tt=ft.powerPreference!==void 0?ft.powerPreference:"default",Rt=ft.failIfMajorPerformanceCaveat!==void 0?ft.failIfMajorPerformanceCaveat:!1;let Bt;dt!==null?Bt=dt.getContextAttributes().alpha:Bt=ft.alpha!==void 0?ft.alpha:!1;let Dt=null,Ft=null;const kt=[],Ut=[];this.domElement=lt,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Kt=this;let tr=!1,Wt=0,Zt=0,Ht=null,nr=-1,sr=null;const ar=new Vector4,ir=new Vector4;let rr=null,lr=lt.width,ur=lt.height,dr=1,mr=null,Cr=null;const yr=new Vector4(0,0,lr,ur),xr=new Vector4(0,0,lr,ur);let Sr=!1;const br=new Frustum;let cr=!1,pr=!1,Er=null;const _r=new Matrix4,Ar=new Vector2,Pr=new Vector3,Ir={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function kr(){return Ht===null?dr:1}let Dr=dt;function Jr(Gr,an){for(let vn=0;vn<Gr.length;vn++){const ln=Gr[vn],Mn=lt.getContext(ln,an);if(Mn!==null)return Mn}return null}try{const Gr={alpha:!0,depth:vt,stencil:St,antialias:Et,premultipliedAlpha:At,preserveDrawingBuffer:Ct,powerPreference:Tt,failIfMajorPerformanceCaveat:Rt};if("setAttribute"in lt&&lt.setAttribute("data-engine",`three.js r${REVISION}`),lt.addEventListener("webglcontextlost",En,!1),lt.addEventListener("webglcontextrestored",xn,!1),lt.addEventListener("webglcontextcreationerror",On,!1),Dr===null){const an=["webgl2","webgl","experimental-webgl"];if(Kt.isWebGL1Renderer===!0&&an.shift(),Dr=Jr(an,Gr),Dr===null)throw Jr(an)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Dr.getShaderPrecisionFormat===void 0&&(Dr.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Gr){throw console.error("THREE.WebGLRenderer: "+Gr.message),Gr}let Or,jr,Nr,Vr,Br,zr,qr,en,cn,Rn,Qr,yn,Pn,pn,Fr,Rr,Yr,fn,Cn,An,Dn,In,mn,Nn;function Kr(){Or=new WebGLExtensions(Dr),jr=new WebGLCapabilities(Dr,Or,ft),Or.init(jr),In=new WebGLUtils(Dr,Or,jr),Nr=new WebGLState(Dr,Or,jr),Vr=new WebGLInfo,Br=new WebGLProperties,zr=new WebGLTextures(Dr,Or,Nr,Br,jr,In,Vr),qr=new WebGLCubeMaps(Kt),en=new WebGLCubeUVMaps(Kt),cn=new WebGLAttributes(Dr,jr),mn=new WebGLBindingStates(Dr,Or,cn,jr),Rn=new WebGLGeometries(Dr,cn,Vr,mn),Qr=new WebGLObjects(Dr,Rn,cn,Vr),Cn=new WebGLMorphtargets(Dr,jr,zr),Rr=new WebGLClipping(Br),yn=new WebGLPrograms(Kt,qr,en,Or,jr,mn,Rr),Pn=new WebGLMaterials(Kt,Br),pn=new WebGLRenderLists,Fr=new WebGLRenderStates(Or,jr),fn=new WebGLBackground(Kt,qr,en,Nr,Qr,Bt,At),Yr=new WebGLShadowMap(Kt,Qr,jr),Nn=new WebGLUniformsGroups(Dr,Vr,jr,Nr),An=new WebGLBufferRenderer(Dr,Or,Vr,jr),Dn=new WebGLIndexedBufferRenderer(Dr,Or,Vr,jr),Vr.programs=yn.programs,Kt.capabilities=jr,Kt.extensions=Or,Kt.properties=Br,Kt.renderLists=pn,Kt.shadowMap=Yr,Kt.state=Nr,Kt.info=Vr}Kr();const hn=new WebXRManager(Kt,Dr);this.xr=hn,this.getContext=function(){return Dr},this.getContextAttributes=function(){return Dr.getContextAttributes()},this.forceContextLoss=function(){const Gr=Or.get("WEBGL_lose_context");Gr&&Gr.loseContext()},this.forceContextRestore=function(){const Gr=Or.get("WEBGL_lose_context");Gr&&Gr.restoreContext()},this.getPixelRatio=function(){return dr},this.setPixelRatio=function(Gr){Gr!==void 0&&(dr=Gr,this.setSize(lr,ur,!1))},this.getSize=function(Gr){return Gr.set(lr,ur)},this.setSize=function(Gr,an,vn){if(hn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}lr=Gr,ur=an,lt.width=Math.floor(Gr*dr),lt.height=Math.floor(an*dr),vn!==!1&&(lt.style.width=Gr+"px",lt.style.height=an+"px"),this.setViewport(0,0,Gr,an)},this.getDrawingBufferSize=function(Gr){return Gr.set(lr*dr,ur*dr).floor()},this.setDrawingBufferSize=function(Gr,an,vn){lr=Gr,ur=an,dr=vn,lt.width=Math.floor(Gr*vn),lt.height=Math.floor(an*vn),this.setViewport(0,0,Gr,an)},this.getCurrentViewport=function(Gr){return Gr.copy(ar)},this.getViewport=function(Gr){return Gr.copy(yr)},this.setViewport=function(Gr,an,vn,ln){Gr.isVector4?yr.set(Gr.x,Gr.y,Gr.z,Gr.w):yr.set(Gr,an,vn,ln),Nr.viewport(ar.copy(yr).multiplyScalar(dr).floor())},this.getScissor=function(Gr){return Gr.copy(xr)},this.setScissor=function(Gr,an,vn,ln){Gr.isVector4?xr.set(Gr.x,Gr.y,Gr.z,Gr.w):xr.set(Gr,an,vn,ln),Nr.scissor(ir.copy(xr).multiplyScalar(dr).floor())},this.getScissorTest=function(){return Sr},this.setScissorTest=function(Gr){Nr.setScissorTest(Sr=Gr)},this.setOpaqueSort=function(Gr){mr=Gr},this.setTransparentSort=function(Gr){Cr=Gr},this.getClearColor=function(Gr){return Gr.copy(fn.getClearColor())},this.setClearColor=function(){fn.setClearColor.apply(fn,arguments)},this.getClearAlpha=function(){return fn.getClearAlpha()},this.setClearAlpha=function(){fn.setClearAlpha.apply(fn,arguments)},this.clear=function(Gr=!0,an=!0,vn=!0){let ln=0;Gr&&(ln|=16384),an&&(ln|=256),vn&&(ln|=1024),Dr.clear(ln)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){lt.removeEventListener("webglcontextlost",En,!1),lt.removeEventListener("webglcontextrestored",xn,!1),lt.removeEventListener("webglcontextcreationerror",On,!1),pn.dispose(),Fr.dispose(),Br.dispose(),qr.dispose(),en.dispose(),Qr.dispose(),mn.dispose(),Nn.dispose(),yn.dispose(),hn.dispose(),hn.removeEventListener("sessionstart",Vn),hn.removeEventListener("sessionend",jn),Er&&(Er.dispose(),Er=null),ts.stop()};function En(Gr){Gr.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),tr=!0}function xn(){console.log("THREE.WebGLRenderer: Context Restored."),tr=!1;const Gr=Vr.autoReset,an=Yr.enabled,vn=Yr.autoUpdate,ln=Yr.needsUpdate,Mn=Yr.type;Kr(),Vr.autoReset=Gr,Yr.enabled=an,Yr.autoUpdate=vn,Yr.needsUpdate=ln,Yr.type=Mn}function On(Gr){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Gr.statusMessage)}function Wn(Gr){const an=Gr.target;an.removeEventListener("dispose",Wn),es(an)}function es(Gr){Xr(Gr),Br.remove(Gr)}function Xr(Gr){const an=Br.get(Gr).programs;an!==void 0&&(an.forEach(function(vn){yn.releaseProgram(vn)}),Gr.isShaderMaterial&&yn.releaseShaderCache(Gr))}this.renderBufferDirect=function(Gr,an,vn,ln,Mn,Kn){an===null&&(an=Ir);const Qn=Mn.isMesh&&Mn.matrixWorld.determinant()<0,Zn=ro(Gr,an,vn,ln,Mn);Nr.setMaterial(ln,Qn);let as=vn.index,cs=1;ln.wireframe===!0&&(as=Rn.getWireframeAttribute(vn),cs=2);const fs=vn.drawRange,ds=vn.attributes.position;let Fs=fs.start*cs,Ds=(fs.start+fs.count)*cs;Kn!==null&&(Fs=Math.max(Fs,Kn.start*cs),Ds=Math.min(Ds,(Kn.start+Kn.count)*cs)),as!==null?(Fs=Math.max(Fs,0),Ds=Math.min(Ds,as.count)):ds!=null&&(Fs=Math.max(Fs,0),Ds=Math.min(Ds,ds.count));const ho=Ds-Fs;if(ho<0||ho===1/0)return;mn.setup(Mn,ln,Zn,vn,as);let So,Gn=An;if(as!==null&&(So=cn.get(as),Gn=Dn,Gn.setIndex(So)),Mn.isMesh)ln.wireframe===!0?(Nr.setLineWidth(ln.wireframeLinewidth*kr()),Gn.setMode(1)):Gn.setMode(4);else if(Mn.isLine){let rs=ln.linewidth;rs===void 0&&(rs=1),Nr.setLineWidth(rs*kr()),Mn.isLineSegments?Gn.setMode(1):Mn.isLineLoop?Gn.setMode(2):Gn.setMode(3)}else Mn.isPoints?Gn.setMode(0):Mn.isSprite&&Gn.setMode(4);if(Mn.isInstancedMesh)Gn.renderInstances(Fs,ho,Mn.count);else if(vn.isInstancedBufferGeometry){const rs=vn._maxInstanceCount!==void 0?vn._maxInstanceCount:1/0,Jo=Math.min(vn.instanceCount,rs);Gn.renderInstances(Fs,ho,Jo)}else Gn.render(Fs,ho)},this.compile=function(Gr,an){function vn(ln,Mn,Kn){ln.transparent===!0&&ln.side===DoubleSide&&ln.forceSinglePass===!1?(ln.side=BackSide,ln.needsUpdate=!0,vs(ln,Mn,Kn),ln.side=FrontSide,ln.needsUpdate=!0,vs(ln,Mn,Kn),ln.side=DoubleSide):vs(ln,Mn,Kn)}Ft=Fr.get(Gr),Ft.init(),Ut.push(Ft),Gr.traverseVisible(function(ln){ln.isLight&&ln.layers.test(an.layers)&&(Ft.pushLight(ln),ln.castShadow&&Ft.pushShadow(ln))}),Ft.setupLights(Kt.physicallyCorrectLights),Gr.traverse(function(ln){const Mn=ln.material;if(Mn)if(Array.isArray(Mn))for(let Kn=0;Kn<Mn.length;Kn++){const Qn=Mn[Kn];vn(Qn,Gr,ln)}else vn(Mn,Gr,ln)}),Ut.pop(),Ft=null};let dn=null;function Ln(Gr){dn&&dn(Gr)}function Vn(){ts.stop()}function jn(){ts.start()}const ts=new WebGLAnimation;ts.setAnimationLoop(Ln),typeof self<"u"&&ts.setContext(self),this.setAnimationLoop=function(Gr){dn=Gr,hn.setAnimationLoop(Gr),Gr===null?ts.stop():ts.start()},hn.addEventListener("sessionstart",Vn),hn.addEventListener("sessionend",jn),this.render=function(Gr,an){if(an!==void 0&&an.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(tr===!0)return;Gr.matrixWorldAutoUpdate===!0&&Gr.updateMatrixWorld(),an.parent===null&&an.matrixWorldAutoUpdate===!0&&an.updateMatrixWorld(),hn.enabled===!0&&hn.isPresenting===!0&&(hn.cameraAutoUpdate===!0&&hn.updateCamera(an),an=hn.getCamera()),Gr.isScene===!0&&Gr.onBeforeRender(Kt,Gr,an,Ht),Ft=Fr.get(Gr,Ut.length),Ft.init(),Ut.push(Ft),_r.multiplyMatrices(an.projectionMatrix,an.matrixWorldInverse),br.setFromProjectionMatrix(_r),pr=this.localClippingEnabled,cr=Rr.init(this.clippingPlanes,pr),Dt=pn.get(Gr,kt.length),Dt.init(),kt.push(Dt),_s(Gr,an,0,Kt.sortObjects),Dt.finish(),Kt.sortObjects===!0&&Dt.sort(mr,Cr),cr===!0&&Rr.beginShadows();const vn=Ft.state.shadowsArray;if(Yr.render(vn,Gr,an),cr===!0&&Rr.endShadows(),this.info.autoReset===!0&&this.info.reset(),fn.render(Dt,Gr),Ft.setupLights(Kt.physicallyCorrectLights),an.isArrayCamera){const ln=an.cameras;for(let Mn=0,Kn=ln.length;Mn<Kn;Mn++){const Qn=ln[Mn];Es(Dt,Gr,Qn,Qn.viewport)}}else Es(Dt,Gr,an);Ht!==null&&(zr.updateMultisampleRenderTarget(Ht),zr.updateRenderTargetMipmap(Ht)),Gr.isScene===!0&&Gr.onAfterRender(Kt,Gr,an),mn.resetDefaultState(),nr=-1,sr=null,Ut.pop(),Ut.length>0?Ft=Ut[Ut.length-1]:Ft=null,kt.pop(),kt.length>0?Dt=kt[kt.length-1]:Dt=null};function _s(Gr,an,vn,ln){if(Gr.visible===!1)return;if(Gr.layers.test(an.layers)){if(Gr.isGroup)vn=Gr.renderOrder;else if(Gr.isLOD)Gr.autoUpdate===!0&&Gr.update(an);else if(Gr.isLight)Ft.pushLight(Gr),Gr.castShadow&&Ft.pushShadow(Gr);else if(Gr.isSprite){if(!Gr.frustumCulled||br.intersectsSprite(Gr)){ln&&Pr.setFromMatrixPosition(Gr.matrixWorld).applyMatrix4(_r);const Qn=Qr.update(Gr),Zn=Gr.material;Zn.visible&&Dt.push(Gr,Qn,Zn,vn,Pr.z,null)}}else if((Gr.isMesh||Gr.isLine||Gr.isPoints)&&(Gr.isSkinnedMesh&&Gr.skeleton.frame!==Vr.render.frame&&(Gr.skeleton.update(),Gr.skeleton.frame=Vr.render.frame),!Gr.frustumCulled||br.intersectsObject(Gr))){ln&&Pr.setFromMatrixPosition(Gr.matrixWorld).applyMatrix4(_r);const Qn=Qr.update(Gr),Zn=Gr.material;if(Array.isArray(Zn)){const as=Qn.groups;for(let cs=0,fs=as.length;cs<fs;cs++){const ds=as[cs],Fs=Zn[ds.materialIndex];Fs&&Fs.visible&&Dt.push(Gr,Qn,Fs,vn,Pr.z,ds)}}else Zn.visible&&Dt.push(Gr,Qn,Zn,vn,Pr.z,null)}}const Kn=Gr.children;for(let Qn=0,Zn=Kn.length;Qn<Zn;Qn++)_s(Kn[Qn],an,vn,ln)}function Es(Gr,an,vn,ln){const Mn=Gr.opaque,Kn=Gr.transmissive,Qn=Gr.transparent;Ft.setupLightsView(vn),cr===!0&&Rr.setGlobalState(Kt.clippingPlanes,vn),Kn.length>0&&xs(Mn,an,vn),ln&&Nr.viewport(ar.copy(ln)),Mn.length>0&&gs(Mn,an,vn),Kn.length>0&&gs(Kn,an,vn),Qn.length>0&&gs(Qn,an,vn),Nr.buffers.depth.setTest(!0),Nr.buffers.depth.setMask(!0),Nr.buffers.color.setMask(!0),Nr.setPolygonOffset(!1)}function xs(Gr,an,vn){const ln=jr.isWebGL2;Er===null&&(Er=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Or.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:ln&&Et===!0?4:0})),Kt.getDrawingBufferSize(Ar),ln?Er.setSize(Ar.x,Ar.y):Er.setSize(floorPowerOfTwo(Ar.x),floorPowerOfTwo(Ar.y));const Mn=Kt.getRenderTarget();Kt.setRenderTarget(Er),Kt.clear();const Kn=Kt.toneMapping;Kt.toneMapping=NoToneMapping,gs(Gr,an,vn),Kt.toneMapping=Kn,zr.updateMultisampleRenderTarget(Er),zr.updateRenderTargetMipmap(Er),Kt.setRenderTarget(Mn)}function gs(Gr,an,vn){const ln=an.isScene===!0?an.overrideMaterial:null;for(let Mn=0,Kn=Gr.length;Mn<Kn;Mn++){const Qn=Gr[Mn],Zn=Qn.object,as=Qn.geometry,cs=ln===null?Qn.material:ln,fs=Qn.group;Zn.layers.test(vn.layers)&&bs(Zn,an,vn,as,cs,fs)}}function bs(Gr,an,vn,ln,Mn,Kn){Gr.onBeforeRender(Kt,an,vn,ln,Mn,Kn),Gr.modelViewMatrix.multiplyMatrices(vn.matrixWorldInverse,Gr.matrixWorld),Gr.normalMatrix.getNormalMatrix(Gr.modelViewMatrix),Mn.onBeforeRender(Kt,an,vn,ln,Gr,Kn),Mn.transparent===!0&&Mn.side===DoubleSide&&Mn.forceSinglePass===!1?(Mn.side=BackSide,Mn.needsUpdate=!0,Kt.renderBufferDirect(vn,an,ln,Mn,Gr,Kn),Mn.side=FrontSide,Mn.needsUpdate=!0,Kt.renderBufferDirect(vn,an,ln,Mn,Gr,Kn),Mn.side=DoubleSide):Kt.renderBufferDirect(vn,an,ln,Mn,Gr,Kn),Gr.onAfterRender(Kt,an,vn,ln,Mn,Kn)}function vs(Gr,an,vn){an.isScene!==!0&&(an=Ir);const ln=Br.get(Gr),Mn=Ft.state.lights,Kn=Ft.state.shadowsArray,Qn=Mn.state.version,Zn=yn.getParameters(Gr,Mn.state,Kn,an,vn),as=yn.getProgramCacheKey(Zn);let cs=ln.programs;ln.environment=Gr.isMeshStandardMaterial?an.environment:null,ln.fog=an.fog,ln.envMap=(Gr.isMeshStandardMaterial?en:qr).get(Gr.envMap||ln.environment),cs===void 0&&(Gr.addEventListener("dispose",Wn),cs=new Map,ln.programs=cs);let fs=cs.get(as);if(fs!==void 0){if(ln.currentProgram===fs&&ln.lightsStateVersion===Qn)return oo(Gr,Zn),fs}else Zn.uniforms=yn.getUniforms(Gr),Gr.onBuild(vn,Zn,Kt),Gr.onBeforeCompile(Zn,Kt),fs=yn.acquireProgram(Zn,as),cs.set(as,fs),ln.uniforms=Zn.uniforms;const ds=ln.uniforms;(!Gr.isShaderMaterial&&!Gr.isRawShaderMaterial||Gr.clipping===!0)&&(ds.clippingPlanes=Rr.uniform),oo(Gr,Zn),ln.needsLights=Ns(Gr),ln.lightsStateVersion=Qn,ln.needsLights&&(ds.ambientLightColor.value=Mn.state.ambient,ds.lightProbe.value=Mn.state.probe,ds.directionalLights.value=Mn.state.directional,ds.directionalLightShadows.value=Mn.state.directionalShadow,ds.spotLights.value=Mn.state.spot,ds.spotLightShadows.value=Mn.state.spotShadow,ds.rectAreaLights.value=Mn.state.rectArea,ds.ltc_1.value=Mn.state.rectAreaLTC1,ds.ltc_2.value=Mn.state.rectAreaLTC2,ds.pointLights.value=Mn.state.point,ds.pointLightShadows.value=Mn.state.pointShadow,ds.hemisphereLights.value=Mn.state.hemi,ds.directionalShadowMap.value=Mn.state.directionalShadowMap,ds.directionalShadowMatrix.value=Mn.state.directionalShadowMatrix,ds.spotShadowMap.value=Mn.state.spotShadowMap,ds.spotLightMatrix.value=Mn.state.spotLightMatrix,ds.spotLightMap.value=Mn.state.spotLightMap,ds.pointShadowMap.value=Mn.state.pointShadowMap,ds.pointShadowMatrix.value=Mn.state.pointShadowMatrix);const Fs=fs.getUniforms(),Ds=WebGLUniforms.seqWithValue(Fs.seq,ds);return ln.currentProgram=fs,ln.uniformsList=Ds,fs}function oo(Gr,an){const vn=Br.get(Gr);vn.outputEncoding=an.outputEncoding,vn.instancing=an.instancing,vn.skinning=an.skinning,vn.morphTargets=an.morphTargets,vn.morphNormals=an.morphNormals,vn.morphColors=an.morphColors,vn.morphTargetsCount=an.morphTargetsCount,vn.numClippingPlanes=an.numClippingPlanes,vn.numIntersection=an.numClipIntersection,vn.vertexAlphas=an.vertexAlphas,vn.vertexTangents=an.vertexTangents,vn.toneMapping=an.toneMapping}function ro(Gr,an,vn,ln,Mn){an.isScene!==!0&&(an=Ir),zr.resetTextureUnits();const Kn=an.fog,Qn=ln.isMeshStandardMaterial?an.environment:null,Zn=Ht===null?Kt.outputEncoding:Ht.isXRRenderTarget===!0?Ht.texture.encoding:LinearEncoding,as=(ln.isMeshStandardMaterial?en:qr).get(ln.envMap||Qn),cs=ln.vertexColors===!0&&!!vn.attributes.color&&vn.attributes.color.itemSize===4,fs=!!ln.normalMap&&!!vn.attributes.tangent,ds=!!vn.morphAttributes.position,Fs=!!vn.morphAttributes.normal,Ds=!!vn.morphAttributes.color,ho=ln.toneMapped?Kt.toneMapping:NoToneMapping,So=vn.morphAttributes.position||vn.morphAttributes.normal||vn.morphAttributes.color,Gn=So!==void 0?So.length:0,rs=Br.get(ln),Jo=Ft.state.lights;if(cr===!0&&(pr===!0||Gr!==sr)){const As=Gr===sr&&ln.id===nr;Rr.setState(ln,Gr,As)}let Ms=!1;ln.version===rs.__version?(rs.needsLights&&rs.lightsStateVersion!==Jo.state.version||rs.outputEncoding!==Zn||Mn.isInstancedMesh&&rs.instancing===!1||!Mn.isInstancedMesh&&rs.instancing===!0||Mn.isSkinnedMesh&&rs.skinning===!1||!Mn.isSkinnedMesh&&rs.skinning===!0||rs.envMap!==as||ln.fog===!0&&rs.fog!==Kn||rs.numClippingPlanes!==void 0&&(rs.numClippingPlanes!==Rr.numPlanes||rs.numIntersection!==Rr.numIntersection)||rs.vertexAlphas!==cs||rs.vertexTangents!==fs||rs.morphTargets!==ds||rs.morphNormals!==Fs||rs.morphColors!==Ds||rs.toneMapping!==ho||jr.isWebGL2===!0&&rs.morphTargetsCount!==Gn)&&(Ms=!0):(Ms=!0,rs.__version=ln.version);let wo=rs.currentProgram;Ms===!0&&(wo=vs(ln,an,Mn));let No=!1,Us=!1,no=!1;const ss=wo.getUniforms(),hs=rs.uniforms;if(Nr.useProgram(wo.program)&&(No=!0,Us=!0,no=!0),ln.id!==nr&&(nr=ln.id,Us=!0),No||sr!==Gr){if(ss.setValue(Dr,"projectionMatrix",Gr.projectionMatrix),jr.logarithmicDepthBuffer&&ss.setValue(Dr,"logDepthBufFC",2/(Math.log(Gr.far+1)/Math.LN2)),sr!==Gr&&(sr=Gr,Us=!0,no=!0),ln.isShaderMaterial||ln.isMeshPhongMaterial||ln.isMeshToonMaterial||ln.isMeshStandardMaterial||ln.envMap){const As=ss.map.cameraPosition;As!==void 0&&As.setValue(Dr,Pr.setFromMatrixPosition(Gr.matrixWorld))}(ln.isMeshPhongMaterial||ln.isMeshToonMaterial||ln.isMeshLambertMaterial||ln.isMeshBasicMaterial||ln.isMeshStandardMaterial||ln.isShaderMaterial)&&ss.setValue(Dr,"isOrthographic",Gr.isOrthographicCamera===!0),(ln.isMeshPhongMaterial||ln.isMeshToonMaterial||ln.isMeshLambertMaterial||ln.isMeshBasicMaterial||ln.isMeshStandardMaterial||ln.isShaderMaterial||ln.isShadowMaterial||Mn.isSkinnedMesh)&&ss.setValue(Dr,"viewMatrix",Gr.matrixWorldInverse)}if(Mn.isSkinnedMesh){ss.setOptional(Dr,Mn,"bindMatrix"),ss.setOptional(Dr,Mn,"bindMatrixInverse");const As=Mn.skeleton;As&&(jr.floatVertexTextures?(As.boneTexture===null&&As.computeBoneTexture(),ss.setValue(Dr,"boneTexture",As.boneTexture,zr),ss.setValue(Dr,"boneTextureSize",As.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const po=vn.morphAttributes;if((po.position!==void 0||po.normal!==void 0||po.color!==void 0&&jr.isWebGL2===!0)&&Cn.update(Mn,vn,ln,wo),(Us||rs.receiveShadow!==Mn.receiveShadow)&&(rs.receiveShadow=Mn.receiveShadow,ss.setValue(Dr,"receiveShadow",Mn.receiveShadow)),ln.isMeshGouraudMaterial&&ln.envMap!==null&&(hs.envMap.value=as,hs.flipEnvMap.value=as.isCubeTexture&&as.isRenderTargetTexture===!1?-1:1),Us&&(ss.setValue(Dr,"toneMappingExposure",Kt.toneMappingExposure),rs.needsLights&&Cs(hs,no),Kn&&ln.fog===!0&&Pn.refreshFogUniforms(hs,Kn),Pn.refreshMaterialUniforms(hs,ln,dr,ur,Er),WebGLUniforms.upload(Dr,rs.uniformsList,hs,zr)),ln.isShaderMaterial&&ln.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Dr,rs.uniformsList,hs,zr),ln.uniformsNeedUpdate=!1),ln.isSpriteMaterial&&ss.setValue(Dr,"center",Mn.center),ss.setValue(Dr,"modelViewMatrix",Mn.modelViewMatrix),ss.setValue(Dr,"normalMatrix",Mn.normalMatrix),ss.setValue(Dr,"modelMatrix",Mn.matrixWorld),ln.isShaderMaterial||ln.isRawShaderMaterial){const As=ln.uniformsGroups;for(let js=0,Zs=As.length;js<Zs;js++)if(jr.isWebGL2){const Eo=As[js];Nn.update(Eo,wo),Nn.bind(Eo,wo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return wo}function Cs(Gr,an){Gr.ambientLightColor.needsUpdate=an,Gr.lightProbe.needsUpdate=an,Gr.directionalLights.needsUpdate=an,Gr.directionalLightShadows.needsUpdate=an,Gr.pointLights.needsUpdate=an,Gr.pointLightShadows.needsUpdate=an,Gr.spotLights.needsUpdate=an,Gr.spotLightShadows.needsUpdate=an,Gr.rectAreaLights.needsUpdate=an,Gr.hemisphereLights.needsUpdate=an}function Ns(Gr){return Gr.isMeshLambertMaterial||Gr.isMeshToonMaterial||Gr.isMeshPhongMaterial||Gr.isMeshStandardMaterial||Gr.isShadowMaterial||Gr.isShaderMaterial&&Gr.lights===!0}this.getActiveCubeFace=function(){return Wt},this.getActiveMipmapLevel=function(){return Zt},this.getRenderTarget=function(){return Ht},this.setRenderTargetTextures=function(Gr,an,vn){Br.get(Gr.texture).__webglTexture=an,Br.get(Gr.depthTexture).__webglTexture=vn;const ln=Br.get(Gr);ln.__hasExternalTextures=!0,ln.__hasExternalTextures&&(ln.__autoAllocateDepthBuffer=vn===void 0,ln.__autoAllocateDepthBuffer||Or.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ln.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Gr,an){const vn=Br.get(Gr);vn.__webglFramebuffer=an,vn.__useDefaultFramebuffer=an===void 0},this.setRenderTarget=function(Gr,an=0,vn=0){Ht=Gr,Wt=an,Zt=vn;let ln=!0,Mn=null,Kn=!1,Qn=!1;if(Gr){const as=Br.get(Gr);as.__useDefaultFramebuffer!==void 0?(Nr.bindFramebuffer(36160,null),ln=!1):as.__webglFramebuffer===void 0?zr.setupRenderTarget(Gr):as.__hasExternalTextures&&zr.rebindTextures(Gr,Br.get(Gr.texture).__webglTexture,Br.get(Gr.depthTexture).__webglTexture);const cs=Gr.texture;(cs.isData3DTexture||cs.isDataArrayTexture||cs.isCompressedArrayTexture)&&(Qn=!0);const fs=Br.get(Gr).__webglFramebuffer;Gr.isWebGLCubeRenderTarget?(Mn=fs[an],Kn=!0):jr.isWebGL2&&Gr.samples>0&&zr.useMultisampledRTT(Gr)===!1?Mn=Br.get(Gr).__webglMultisampledFramebuffer:Mn=fs,ar.copy(Gr.viewport),ir.copy(Gr.scissor),rr=Gr.scissorTest}else ar.copy(yr).multiplyScalar(dr).floor(),ir.copy(xr).multiplyScalar(dr).floor(),rr=Sr;if(Nr.bindFramebuffer(36160,Mn)&&jr.drawBuffers&&ln&&Nr.drawBuffers(Gr,Mn),Nr.viewport(ar),Nr.scissor(ir),Nr.setScissorTest(rr),Kn){const as=Br.get(Gr.texture);Dr.framebufferTexture2D(36160,36064,34069+an,as.__webglTexture,vn)}else if(Qn){const as=Br.get(Gr.texture),cs=an||0;Dr.framebufferTextureLayer(36160,36064,as.__webglTexture,vn||0,cs)}nr=-1},this.readRenderTargetPixels=function(Gr,an,vn,ln,Mn,Kn,Qn){if(!(Gr&&Gr.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Zn=Br.get(Gr).__webglFramebuffer;if(Gr.isWebGLCubeRenderTarget&&Qn!==void 0&&(Zn=Zn[Qn]),Zn){Nr.bindFramebuffer(36160,Zn);try{const as=Gr.texture,cs=as.format,fs=as.type;if(cs!==RGBAFormat&&In.convert(cs)!==Dr.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ds=fs===HalfFloatType&&(Or.has("EXT_color_buffer_half_float")||jr.isWebGL2&&Or.has("EXT_color_buffer_float"));if(fs!==UnsignedByteType&&In.convert(fs)!==Dr.getParameter(35738)&&!(fs===FloatType&&(jr.isWebGL2||Or.has("OES_texture_float")||Or.has("WEBGL_color_buffer_float")))&&!ds){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}an>=0&&an<=Gr.width-ln&&vn>=0&&vn<=Gr.height-Mn&&Dr.readPixels(an,vn,ln,Mn,In.convert(cs),In.convert(fs),Kn)}finally{const as=Ht!==null?Br.get(Ht).__webglFramebuffer:null;Nr.bindFramebuffer(36160,as)}}},this.copyFramebufferToTexture=function(Gr,an,vn=0){const ln=Math.pow(2,-vn),Mn=Math.floor(an.image.width*ln),Kn=Math.floor(an.image.height*ln);zr.setTexture2D(an,0),Dr.copyTexSubImage2D(3553,vn,0,0,Gr.x,Gr.y,Mn,Kn),Nr.unbindTexture()},this.copyTextureToTexture=function(Gr,an,vn,ln=0){const Mn=an.image.width,Kn=an.image.height,Qn=In.convert(vn.format),Zn=In.convert(vn.type);zr.setTexture2D(vn,0),Dr.pixelStorei(37440,vn.flipY),Dr.pixelStorei(37441,vn.premultiplyAlpha),Dr.pixelStorei(3317,vn.unpackAlignment),an.isDataTexture?Dr.texSubImage2D(3553,ln,Gr.x,Gr.y,Mn,Kn,Qn,Zn,an.image.data):an.isCompressedTexture?Dr.compressedTexSubImage2D(3553,ln,Gr.x,Gr.y,an.mipmaps[0].width,an.mipmaps[0].height,Qn,an.mipmaps[0].data):Dr.texSubImage2D(3553,ln,Gr.x,Gr.y,Qn,Zn,an.image),ln===0&&vn.generateMipmaps&&Dr.generateMipmap(3553),Nr.unbindTexture()},this.copyTextureToTexture3D=function(Gr,an,vn,ln,Mn=0){if(Kt.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Kn=Gr.max.x-Gr.min.x+1,Qn=Gr.max.y-Gr.min.y+1,Zn=Gr.max.z-Gr.min.z+1,as=In.convert(ln.format),cs=In.convert(ln.type);let fs;if(ln.isData3DTexture)zr.setTexture3D(ln,0),fs=32879;else if(ln.isDataArrayTexture)zr.setTexture2DArray(ln,0),fs=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Dr.pixelStorei(37440,ln.flipY),Dr.pixelStorei(37441,ln.premultiplyAlpha),Dr.pixelStorei(3317,ln.unpackAlignment);const ds=Dr.getParameter(3314),Fs=Dr.getParameter(32878),Ds=Dr.getParameter(3316),ho=Dr.getParameter(3315),So=Dr.getParameter(32877),Gn=vn.isCompressedTexture?vn.mipmaps[0]:vn.image;Dr.pixelStorei(3314,Gn.width),Dr.pixelStorei(32878,Gn.height),Dr.pixelStorei(3316,Gr.min.x),Dr.pixelStorei(3315,Gr.min.y),Dr.pixelStorei(32877,Gr.min.z),vn.isDataTexture||vn.isData3DTexture?Dr.texSubImage3D(fs,Mn,an.x,an.y,an.z,Kn,Qn,Zn,as,cs,Gn.data):vn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Dr.compressedTexSubImage3D(fs,Mn,an.x,an.y,an.z,Kn,Qn,Zn,as,Gn.data)):Dr.texSubImage3D(fs,Mn,an.x,an.y,an.z,Kn,Qn,Zn,as,cs,Gn),Dr.pixelStorei(3314,ds),Dr.pixelStorei(32878,Fs),Dr.pixelStorei(3316,Ds),Dr.pixelStorei(3315,ho),Dr.pixelStorei(32877,So),Mn===0&&ln.generateMipmaps&&Dr.generateMipmap(fs),Nr.unbindTexture()},this.initTexture=function(Gr){Gr.isCubeTexture?zr.setTextureCube(Gr,0):Gr.isData3DTexture?zr.setTexture3D(Gr,0):Gr.isDataArrayTexture||Gr.isCompressedArrayTexture?zr.setTexture2DArray(Gr,0):zr.setTexture2D(Gr,0),Nr.unbindTexture()},this.resetState=function(){Wt=0,Zt=0,Ht=null,Nr.reset(),mn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(lt,dt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(lt),this.density=dt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(lt,dt=1,vt=1e3){this.isFog=!0,this.name="",this.color=new Color(lt),this.near=dt,this.far=vt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let Scene$1=class extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(lt,dt){return super.copy(lt,dt),lt.background!==null&&(this.background=lt.background.clone()),lt.environment!==null&&(this.environment=lt.environment.clone()),lt.fog!==null&&(this.fog=lt.fog.clone()),this.backgroundBlurriness=lt.backgroundBlurriness,this.backgroundIntensity=lt.backgroundIntensity,lt.overrideMaterial!==null&&(this.overrideMaterial=lt.overrideMaterial.clone()),this.matrixAutoUpdate=lt.matrixAutoUpdate,this}toJSON(lt){const dt=super.toJSON(lt);return this.fog!==null&&(dt.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(dt.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(dt.object.backgroundIntensity=this.backgroundIntensity),dt}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(lt){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=lt}};class InterleavedBuffer{constructor(lt,dt){this.isInterleavedBuffer=!0,this.array=lt,this.stride=dt,this.count=lt!==void 0?lt.length/dt:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(lt){lt===!0&&this.version++}setUsage(lt){return this.usage=lt,this}copy(lt){return this.array=new lt.array.constructor(lt.array),this.count=lt.count,this.stride=lt.stride,this.usage=lt.usage,this}copyAt(lt,dt,vt){lt*=this.stride,vt*=dt.stride;for(let St=0,Et=this.stride;St<Et;St++)this.array[lt+St]=dt.array[vt+St];return this}set(lt,dt=0){return this.array.set(lt,dt),this}clone(lt){lt.arrayBuffers===void 0&&(lt.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),lt.arrayBuffers[this.array.buffer._uuid]===void 0&&(lt.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const dt=new this.array.constructor(lt.arrayBuffers[this.array.buffer._uuid]),vt=new this.constructor(dt,this.stride);return vt.setUsage(this.usage),vt}onUpload(lt){return this.onUploadCallback=lt,this}toJSON(lt){return lt.arrayBuffers===void 0&&(lt.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),lt.arrayBuffers[this.array.buffer._uuid]===void 0&&(lt.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(lt,dt,vt,St=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=lt,this.itemSize=dt,this.offset=vt,this.normalized=St}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(lt){this.data.needsUpdate=lt}applyMatrix4(lt){for(let dt=0,vt=this.data.count;dt<vt;dt++)_vector$6.fromBufferAttribute(this,dt),_vector$6.applyMatrix4(lt),this.setXYZ(dt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(lt){for(let dt=0,vt=this.count;dt<vt;dt++)_vector$6.fromBufferAttribute(this,dt),_vector$6.applyNormalMatrix(lt),this.setXYZ(dt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(lt){for(let dt=0,vt=this.count;dt<vt;dt++)_vector$6.fromBufferAttribute(this,dt),_vector$6.transformDirection(lt),this.setXYZ(dt,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.data.array[lt*this.data.stride+this.offset]=dt,this}setY(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.data.array[lt*this.data.stride+this.offset+1]=dt,this}setZ(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.data.array[lt*this.data.stride+this.offset+2]=dt,this}setW(lt,dt){return this.normalized&&(dt=normalize(dt,this.array)),this.data.array[lt*this.data.stride+this.offset+3]=dt,this}getX(lt){let dt=this.data.array[lt*this.data.stride+this.offset];return this.normalized&&(dt=denormalize(dt,this.array)),dt}getY(lt){let dt=this.data.array[lt*this.data.stride+this.offset+1];return this.normalized&&(dt=denormalize(dt,this.array)),dt}getZ(lt){let dt=this.data.array[lt*this.data.stride+this.offset+2];return this.normalized&&(dt=denormalize(dt,this.array)),dt}getW(lt){let dt=this.data.array[lt*this.data.stride+this.offset+3];return this.normalized&&(dt=denormalize(dt,this.array)),dt}setXY(lt,dt,vt){return lt=lt*this.data.stride+this.offset,this.normalized&&(dt=normalize(dt,this.array),vt=normalize(vt,this.array)),this.data.array[lt+0]=dt,this.data.array[lt+1]=vt,this}setXYZ(lt,dt,vt,St){return lt=lt*this.data.stride+this.offset,this.normalized&&(dt=normalize(dt,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array)),this.data.array[lt+0]=dt,this.data.array[lt+1]=vt,this.data.array[lt+2]=St,this}setXYZW(lt,dt,vt,St,Et){return lt=lt*this.data.stride+this.offset,this.normalized&&(dt=normalize(dt,this.array),vt=normalize(vt,this.array),St=normalize(St,this.array),Et=normalize(Et,this.array)),this.data.array[lt+0]=dt,this.data.array[lt+1]=vt,this.data.array[lt+2]=St,this.data.array[lt+3]=Et,this}clone(lt){if(lt===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const dt=[];for(let vt=0;vt<this.count;vt++){const St=vt*this.data.stride+this.offset;for(let Et=0;Et<this.itemSize;Et++)dt.push(this.data.array[St+Et])}return new BufferAttribute(new this.array.constructor(dt),this.itemSize,this.normalized)}else return lt.interleavedBuffers===void 0&&(lt.interleavedBuffers={}),lt.interleavedBuffers[this.data.uuid]===void 0&&(lt.interleavedBuffers[this.data.uuid]=this.data.clone(lt)),new InterleavedBufferAttribute(lt.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(lt){if(lt===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const dt=[];for(let vt=0;vt<this.count;vt++){const St=vt*this.data.stride+this.offset;for(let Et=0;Et<this.itemSize;Et++)dt.push(this.data.array[St+Et])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:dt,normalized:this.normalized}}else return lt.interleavedBuffers===void 0&&(lt.interleavedBuffers={}),lt.interleavedBuffers[this.data.uuid]===void 0&&(lt.interleavedBuffers[this.data.uuid]=this.data.toJSON(lt)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(lt){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.alphaMap=lt.alphaMap,this.rotation=lt.rotation,this.sizeAttenuation=lt.sizeAttenuation,this.fog=lt.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(lt){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const dt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),vt=new InterleavedBuffer(dt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(vt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(vt,2,3,!1))}this.geometry=_geometry,this.material=lt!==void 0?lt:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(lt,dt){lt.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(lt.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(lt.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),lt.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const vt=this.material.rotation;let St,Et;vt!==0&&(Et=Math.cos(vt),St=Math.sin(vt));const At=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,At,_worldScale,St,Et),transformVertex(_vB.set(.5,-.5,0),_mvPosition,At,_worldScale,St,Et),transformVertex(_vC.set(.5,.5,0),_mvPosition,At,_worldScale,St,Et),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let Ct=lt.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(Ct===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,At,_worldScale,St,Et),_uvB.set(0,1),Ct=lt.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),Ct===null))return;const Tt=lt.ray.origin.distanceTo(_intersectPoint);Tt<lt.near||Tt>lt.far||dt.push({distance:Tt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(lt,dt){return super.copy(lt,dt),lt.center!==void 0&&this.center.copy(lt.center),this.material=lt.material,this}}function transformVertex(ft,lt,dt,vt,St,Et){_alignedPosition.subVectors(ft,dt).addScalar(.5).multiply(vt),St!==void 0?(_rotatedPosition.x=Et*_alignedPosition.x-St*_alignedPosition.y,_rotatedPosition.y=St*_alignedPosition.x+Et*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),ft.copy(lt),ft.x+=_rotatedPosition.x,ft.y+=_rotatedPosition.y,ft.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(lt){super.copy(lt,!1);const dt=lt.levels;for(let vt=0,St=dt.length;vt<St;vt++){const Et=dt[vt];this.addLevel(Et.object.clone(),Et.distance,Et.hysteresis)}return this.autoUpdate=lt.autoUpdate,this}addLevel(lt,dt=0,vt=0){dt=Math.abs(dt);const St=this.levels;let Et;for(Et=0;Et<St.length&&!(dt<St[Et].distance);Et++);return St.splice(Et,0,{distance:dt,hysteresis:vt,object:lt}),this.add(lt),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(lt){const dt=this.levels;if(dt.length>0){let vt,St;for(vt=1,St=dt.length;vt<St;vt++){let Et=dt[vt].distance;if(dt[vt].object.visible&&(Et-=Et*dt[vt].hysteresis),lt<Et)break}return dt[vt-1].object}return null}raycast(lt,dt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const St=lt.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(St).raycast(lt,dt)}}update(lt){const dt=this.levels;if(dt.length>1){_v1$2.setFromMatrixPosition(lt.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const vt=_v1$2.distanceTo(_v2$1)/lt.zoom;dt[0].object.visible=!0;let St,Et;for(St=1,Et=dt.length;St<Et;St++){let At=dt[St].distance;if(dt[St].object.visible&&(At-=At*dt[St].hysteresis),vt>=At)dt[St-1].object.visible=!1,dt[St].object.visible=!0;else break}for(this._currentLevel=St-1;St<Et;St++)dt[St].object.visible=!1}}toJSON(lt){const dt=super.toJSON(lt);this.autoUpdate===!1&&(dt.object.autoUpdate=!1),dt.object.levels=[];const vt=this.levels;for(let St=0,Et=vt.length;St<Et;St++){const At=vt[St];dt.object.levels.push({object:At.object.uuid,distance:At.distance,hysteresis:At.hysteresis})}return dt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(lt,dt){super(lt,dt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(lt,dt){return super.copy(lt,dt),this.bindMode=lt.bindMode,this.bindMatrix.copy(lt.bindMatrix),this.bindMatrixInverse.copy(lt.bindMatrixInverse),this.skeleton=lt.skeleton,this}bind(lt,dt){this.skeleton=lt,dt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),dt=this.matrixWorld),this.bindMatrix.copy(dt),this.bindMatrixInverse.copy(dt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const lt=new Vector4,dt=this.geometry.attributes.skinWeight;for(let vt=0,St=dt.count;vt<St;vt++){lt.fromBufferAttribute(dt,vt);const Et=1/lt.manhattanLength();Et!==1/0?lt.multiplyScalar(Et):lt.set(1,0,0,0),dt.setXYZW(vt,lt.x,lt.y,lt.z,lt.w)}}updateMatrixWorld(lt){super.updateMatrixWorld(lt),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(lt,dt){const vt=this.skeleton,St=this.geometry;_skinIndex.fromBufferAttribute(St.attributes.skinIndex,lt),_skinWeight.fromBufferAttribute(St.attributes.skinWeight,lt),_basePosition.copy(dt).applyMatrix4(this.bindMatrix),dt.set(0,0,0);for(let Et=0;Et<4;Et++){const At=_skinWeight.getComponent(Et);if(At!==0){const Ct=_skinIndex.getComponent(Et);_matrix.multiplyMatrices(vt.bones[Ct].matrixWorld,vt.boneInverses[Ct]),dt.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),At)}}return dt.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(lt=null,dt=1,vt=1,St,Et,At,Ct,Tt,Rt=NearestFilter,Bt=NearestFilter,Dt,Ft){super(null,At,Ct,Tt,Rt,Bt,St,Et,Dt,Ft),this.isDataTexture=!0,this.image={data:lt,width:dt,height:vt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(lt=[],dt=[]){this.uuid=generateUUID$1(),this.bones=lt.slice(0),this.boneInverses=dt,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const lt=this.bones,dt=this.boneInverses;if(this.boneMatrices=new Float32Array(lt.length*16),dt.length===0)this.calculateInverses();else if(lt.length!==dt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let vt=0,St=this.bones.length;vt<St;vt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let lt=0,dt=this.bones.length;lt<dt;lt++){const vt=new Matrix4;this.bones[lt]&&vt.copy(this.bones[lt].matrixWorld).invert(),this.boneInverses.push(vt)}}pose(){for(let lt=0,dt=this.bones.length;lt<dt;lt++){const vt=this.bones[lt];vt&&vt.matrixWorld.copy(this.boneInverses[lt]).invert()}for(let lt=0,dt=this.bones.length;lt<dt;lt++){const vt=this.bones[lt];vt&&(vt.parent&&vt.parent.isBone?(vt.matrix.copy(vt.parent.matrixWorld).invert(),vt.matrix.multiply(vt.matrixWorld)):vt.matrix.copy(vt.matrixWorld),vt.matrix.decompose(vt.position,vt.quaternion,vt.scale))}}update(){const lt=this.bones,dt=this.boneInverses,vt=this.boneMatrices,St=this.boneTexture;for(let Et=0,At=lt.length;Et<At;Et++){const Ct=lt[Et]?lt[Et].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(Ct,dt[Et]),_offsetMatrix.toArray(vt,Et*16)}St!==null&&(St.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let lt=Math.sqrt(this.bones.length*4);lt=ceilPowerOfTwo(lt),lt=Math.max(lt,4);const dt=new Float32Array(lt*lt*4);dt.set(this.boneMatrices);const vt=new DataTexture(dt,lt,lt,RGBAFormat,FloatType);return vt.needsUpdate=!0,this.boneMatrices=dt,this.boneTexture=vt,this.boneTextureSize=lt,this}getBoneByName(lt){for(let dt=0,vt=this.bones.length;dt<vt;dt++){const St=this.bones[dt];if(St.name===lt)return St}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(lt,dt){this.uuid=lt.uuid;for(let vt=0,St=lt.bones.length;vt<St;vt++){const Et=lt.bones[vt];let At=dt[Et];At===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",Et),At=new Bone),this.bones.push(At),this.boneInverses.push(new Matrix4().fromArray(lt.boneInverses[vt]))}return this.init(),this}toJSON(){const lt={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};lt.uuid=this.uuid;const dt=this.bones,vt=this.boneInverses;for(let St=0,Et=dt.length;St<Et;St++){const At=dt[St];lt.bones.push(At.uuid);const Ct=vt[St];lt.boneInverses.push(Ct.toArray())}return lt}}class InstancedBufferAttribute extends BufferAttribute{constructor(lt,dt,vt,St=1){super(lt,dt,vt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=St}copy(lt){return super.copy(lt),this.meshPerAttribute=lt.meshPerAttribute,this}toJSON(){const lt=super.toJSON();return lt.meshPerAttribute=this.meshPerAttribute,lt.isInstancedBufferAttribute=!0,lt}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_identity=new Matrix4,_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(lt,dt,vt){super(lt,dt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(vt*16),16),this.instanceColor=null,this.count=vt,this.frustumCulled=!1;for(let St=0;St<vt;St++)this.setMatrixAt(St,_identity)}copy(lt,dt){return super.copy(lt,dt),this.instanceMatrix.copy(lt.instanceMatrix),lt.instanceColor!==null&&(this.instanceColor=lt.instanceColor.clone()),this.count=lt.count,this}getColorAt(lt,dt){dt.fromArray(this.instanceColor.array,lt*3)}getMatrixAt(lt,dt){dt.fromArray(this.instanceMatrix.array,lt*16)}raycast(lt,dt){const vt=this.matrixWorld,St=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let Et=0;Et<St;Et++){this.getMatrixAt(Et,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(vt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(lt,_instanceIntersects);for(let At=0,Ct=_instanceIntersects.length;At<Ct;At++){const Tt=_instanceIntersects[At];Tt.instanceId=Et,Tt.object=this,dt.push(Tt)}_instanceIntersects.length=0}}setColorAt(lt,dt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),dt.toArray(this.instanceColor.array,lt*3)}setMatrixAt(lt,dt){dt.toArray(this.instanceMatrix.array,lt*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(lt){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.linewidth=lt.linewidth,this.linecap=lt.linecap,this.linejoin=lt.linejoin,this.fog=lt.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere$1;let Line$1=class extends Object3D{constructor(lt=new BufferGeometry,dt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=lt,this.material=dt,this.updateMorphTargets()}copy(lt,dt){return super.copy(lt,dt),this.material=lt.material,this.geometry=lt.geometry,this}computeLineDistances(){const lt=this.geometry;if(lt.index===null){const dt=lt.attributes.position,vt=[0];for(let St=1,Et=dt.count;St<Et;St++)_start$1.fromBufferAttribute(dt,St-1),_end$1.fromBufferAttribute(dt,St),vt[St]=vt[St-1],vt[St]+=_start$1.distanceTo(_end$1);lt.setAttribute("lineDistance",new Float32BufferAttribute(vt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(lt,dt){const vt=this.geometry,St=this.matrixWorld,Et=lt.params.Line.threshold,At=vt.drawRange;if(vt.boundingSphere===null&&vt.computeBoundingSphere(),_sphere$1.copy(vt.boundingSphere),_sphere$1.applyMatrix4(St),_sphere$1.radius+=Et,lt.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(St).invert(),_ray$1.copy(lt.ray).applyMatrix4(_inverseMatrix$1);const Ct=Et/((this.scale.x+this.scale.y+this.scale.z)/3),Tt=Ct*Ct,Rt=new Vector3,Bt=new Vector3,Dt=new Vector3,Ft=new Vector3,kt=this.isLineSegments?2:1,Ut=vt.index,tr=vt.attributes.position;if(Ut!==null){const Wt=Math.max(0,At.start),Zt=Math.min(Ut.count,At.start+At.count);for(let Ht=Wt,nr=Zt-1;Ht<nr;Ht+=kt){const sr=Ut.getX(Ht),ar=Ut.getX(Ht+1);if(Rt.fromBufferAttribute(tr,sr),Bt.fromBufferAttribute(tr,ar),_ray$1.distanceSqToSegment(Rt,Bt,Ft,Dt)>Tt)continue;Ft.applyMatrix4(this.matrixWorld);const rr=lt.ray.origin.distanceTo(Ft);rr<lt.near||rr>lt.far||dt.push({distance:rr,point:Dt.clone().applyMatrix4(this.matrixWorld),index:Ht,face:null,faceIndex:null,object:this})}}else{const Wt=Math.max(0,At.start),Zt=Math.min(tr.count,At.start+At.count);for(let Ht=Wt,nr=Zt-1;Ht<nr;Ht+=kt){if(Rt.fromBufferAttribute(tr,Ht),Bt.fromBufferAttribute(tr,Ht+1),_ray$1.distanceSqToSegment(Rt,Bt,Ft,Dt)>Tt)continue;Ft.applyMatrix4(this.matrixWorld);const ar=lt.ray.origin.distanceTo(Ft);ar<lt.near||ar>lt.far||dt.push({distance:ar,point:Dt.clone().applyMatrix4(this.matrixWorld),index:Ht,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const dt=this.geometry.morphAttributes,vt=Object.keys(dt);if(vt.length>0){const St=dt[vt[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et].name||String(Et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=Et}}}}};const _start$2=new Vector3,_end$2=new Vector3;class LineSegments extends Line$1{constructor(lt,dt){super(lt,dt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const lt=this.geometry;if(lt.index===null){const dt=lt.attributes.position,vt=[];for(let St=0,Et=dt.count;St<Et;St+=2)_start$2.fromBufferAttribute(dt,St),_end$2.fromBufferAttribute(dt,St+1),vt[St]=St===0?0:vt[St-1],vt[St+1]=vt[St]+_start$2.distanceTo(_end$2);lt.setAttribute("lineDistance",new Float32BufferAttribute(vt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line$1{constructor(lt,dt){super(lt,dt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(lt){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.alphaMap=lt.alphaMap,this.size=lt.size,this.sizeAttenuation=lt.sizeAttenuation,this.fog=lt.fog,this}}const _inverseMatrix=new Matrix4,_ray$3=new Ray,_sphere$4=new Sphere$1,_position$2=new Vector3;class Points extends Object3D{constructor(lt=new BufferGeometry,dt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=lt,this.material=dt,this.updateMorphTargets()}copy(lt,dt){return super.copy(lt,dt),this.material=lt.material,this.geometry=lt.geometry,this}raycast(lt,dt){const vt=this.geometry,St=this.matrixWorld,Et=lt.params.Points.threshold,At=vt.drawRange;if(vt.boundingSphere===null&&vt.computeBoundingSphere(),_sphere$4.copy(vt.boundingSphere),_sphere$4.applyMatrix4(St),_sphere$4.radius+=Et,lt.ray.intersectsSphere(_sphere$4)===!1)return;_inverseMatrix.copy(St).invert(),_ray$3.copy(lt.ray).applyMatrix4(_inverseMatrix);const Ct=Et/((this.scale.x+this.scale.y+this.scale.z)/3),Tt=Ct*Ct,Rt=vt.index,Dt=vt.attributes.position;if(Rt!==null){const Ft=Math.max(0,At.start),kt=Math.min(Rt.count,At.start+At.count);for(let Ut=Ft,Kt=kt;Ut<Kt;Ut++){const tr=Rt.getX(Ut);_position$2.fromBufferAttribute(Dt,tr),testPoint(_position$2,tr,Tt,St,lt,dt,this)}}else{const Ft=Math.max(0,At.start),kt=Math.min(Dt.count,At.start+At.count);for(let Ut=Ft,Kt=kt;Ut<Kt;Ut++)_position$2.fromBufferAttribute(Dt,Ut),testPoint(_position$2,Ut,Tt,St,lt,dt,this)}}updateMorphTargets(){const dt=this.geometry.morphAttributes,vt=Object.keys(dt);if(vt.length>0){const St=dt[vt[0]];if(St!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let Et=0,At=St.length;Et<At;Et++){const Ct=St[Et].name||String(Et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Ct]=Et}}}}}function testPoint(ft,lt,dt,vt,St,Et,At){const Ct=_ray$3.distanceSqToPoint(ft);if(Ct<dt){const Tt=new Vector3;_ray$3.closestPointToPoint(ft,Tt),Tt.applyMatrix4(vt);const Rt=St.ray.origin.distanceTo(Tt);if(Rt<St.near||Rt>St.far)return;Et.push({distance:Rt,distanceToRay:Math.sqrt(Ct),point:Tt,index:lt,face:null,object:At})}}class VideoTexture extends Texture{constructor(lt,dt,vt,St,Et,At,Ct,Tt,Rt){super(lt,dt,vt,St,Et,At,Ct,Tt,Rt),this.isVideoTexture=!0,this.minFilter=At!==void 0?At:LinearFilter,this.magFilter=Et!==void 0?Et:LinearFilter,this.generateMipmaps=!1;const Bt=this;function Dt(){Bt.needsUpdate=!0,lt.requestVideoFrameCallback(Dt)}"requestVideoFrameCallback"in lt&&lt.requestVideoFrameCallback(Dt)}clone(){return new this.constructor(this.image).copy(this)}update(){const lt=this.image;"requestVideoFrameCallback"in lt===!1&&lt.readyState>=lt.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(lt,dt,vt){super({width:lt,height:dt}),this.isFramebufferTexture=!0,this.format=vt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(lt,dt,vt,St,Et,At,Ct,Tt,Rt,Bt,Dt,Ft){super(null,At,Ct,Tt,Rt,Bt,St,Et,Dt,Ft),this.isCompressedTexture=!0,this.image={width:dt,height:vt},this.mipmaps=lt,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(lt,dt,vt,St,Et,At){super(lt,dt,vt,Et,At),this.isCompressedArrayTexture=!0,this.image.depth=St,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor(lt,dt,vt,St,Et,At,Ct,Tt,Rt){super(lt,dt,vt,St,Et,At,Ct,Tt,Rt),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(lt,dt){const vt=this.getUtoTmapping(lt);return this.getPoint(vt,dt)}getPoints(lt=5){const dt=[];for(let vt=0;vt<=lt;vt++)dt.push(this.getPoint(vt/lt));return dt}getSpacedPoints(lt=5){const dt=[];for(let vt=0;vt<=lt;vt++)dt.push(this.getPointAt(vt/lt));return dt}getLength(){const lt=this.getLengths();return lt[lt.length-1]}getLengths(lt=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===lt+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const dt=[];let vt,St=this.getPoint(0),Et=0;dt.push(0);for(let At=1;At<=lt;At++)vt=this.getPoint(At/lt),Et+=vt.distanceTo(St),dt.push(Et),St=vt;return this.cacheArcLengths=dt,dt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(lt,dt){const vt=this.getLengths();let St=0;const Et=vt.length;let At;dt?At=dt:At=lt*vt[Et-1];let Ct=0,Tt=Et-1,Rt;for(;Ct<=Tt;)if(St=Math.floor(Ct+(Tt-Ct)/2),Rt=vt[St]-At,Rt<0)Ct=St+1;else if(Rt>0)Tt=St-1;else{Tt=St;break}if(St=Tt,vt[St]===At)return St/(Et-1);const Bt=vt[St],Ft=vt[St+1]-Bt,kt=(At-Bt)/Ft;return(St+kt)/(Et-1)}getTangent(lt,dt){let St=lt-1e-4,Et=lt+1e-4;St<0&&(St=0),Et>1&&(Et=1);const At=this.getPoint(St),Ct=this.getPoint(Et),Tt=dt||(At.isVector2?new Vector2:new Vector3);return Tt.copy(Ct).sub(At).normalize(),Tt}getTangentAt(lt,dt){const vt=this.getUtoTmapping(lt);return this.getTangent(vt,dt)}computeFrenetFrames(lt,dt){const vt=new Vector3,St=[],Et=[],At=[],Ct=new Vector3,Tt=new Matrix4;for(let kt=0;kt<=lt;kt++){const Ut=kt/lt;St[kt]=this.getTangentAt(Ut,new Vector3)}Et[0]=new Vector3,At[0]=new Vector3;let Rt=Number.MAX_VALUE;const Bt=Math.abs(St[0].x),Dt=Math.abs(St[0].y),Ft=Math.abs(St[0].z);Bt<=Rt&&(Rt=Bt,vt.set(1,0,0)),Dt<=Rt&&(Rt=Dt,vt.set(0,1,0)),Ft<=Rt&&vt.set(0,0,1),Ct.crossVectors(St[0],vt).normalize(),Et[0].crossVectors(St[0],Ct),At[0].crossVectors(St[0],Et[0]);for(let kt=1;kt<=lt;kt++){if(Et[kt]=Et[kt-1].clone(),At[kt]=At[kt-1].clone(),Ct.crossVectors(St[kt-1],St[kt]),Ct.length()>Number.EPSILON){Ct.normalize();const Ut=Math.acos(clamp(St[kt-1].dot(St[kt]),-1,1));Et[kt].applyMatrix4(Tt.makeRotationAxis(Ct,Ut))}At[kt].crossVectors(St[kt],Et[kt])}if(dt===!0){let kt=Math.acos(clamp(Et[0].dot(Et[lt]),-1,1));kt/=lt,St[0].dot(Ct.crossVectors(Et[0],Et[lt]))>0&&(kt=-kt);for(let Ut=1;Ut<=lt;Ut++)Et[Ut].applyMatrix4(Tt.makeRotationAxis(St[Ut],kt*Ut)),At[Ut].crossVectors(St[Ut],Et[Ut])}return{tangents:St,normals:Et,binormals:At}}clone(){return new this.constructor().copy(this)}copy(lt){return this.arcLengthDivisions=lt.arcLengthDivisions,this}toJSON(){const lt={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return lt.arcLengthDivisions=this.arcLengthDivisions,lt.type=this.type,lt}fromJSON(lt){return this.arcLengthDivisions=lt.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(lt=0,dt=0,vt=1,St=1,Et=0,At=Math.PI*2,Ct=!1,Tt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=lt,this.aY=dt,this.xRadius=vt,this.yRadius=St,this.aStartAngle=Et,this.aEndAngle=At,this.aClockwise=Ct,this.aRotation=Tt}getPoint(lt,dt){const vt=dt||new Vector2,St=Math.PI*2;let Et=this.aEndAngle-this.aStartAngle;const At=Math.abs(Et)<Number.EPSILON;for(;Et<0;)Et+=St;for(;Et>St;)Et-=St;Et<Number.EPSILON&&(At?Et=0:Et=St),this.aClockwise===!0&&!At&&(Et===St?Et=-St:Et=Et-St);const Ct=this.aStartAngle+lt*Et;let Tt=this.aX+this.xRadius*Math.cos(Ct),Rt=this.aY+this.yRadius*Math.sin(Ct);if(this.aRotation!==0){const Bt=Math.cos(this.aRotation),Dt=Math.sin(this.aRotation),Ft=Tt-this.aX,kt=Rt-this.aY;Tt=Ft*Bt-kt*Dt+this.aX,Rt=Ft*Dt+kt*Bt+this.aY}return vt.set(Tt,Rt)}copy(lt){return super.copy(lt),this.aX=lt.aX,this.aY=lt.aY,this.xRadius=lt.xRadius,this.yRadius=lt.yRadius,this.aStartAngle=lt.aStartAngle,this.aEndAngle=lt.aEndAngle,this.aClockwise=lt.aClockwise,this.aRotation=lt.aRotation,this}toJSON(){const lt=super.toJSON();return lt.aX=this.aX,lt.aY=this.aY,lt.xRadius=this.xRadius,lt.yRadius=this.yRadius,lt.aStartAngle=this.aStartAngle,lt.aEndAngle=this.aEndAngle,lt.aClockwise=this.aClockwise,lt.aRotation=this.aRotation,lt}fromJSON(lt){return super.fromJSON(lt),this.aX=lt.aX,this.aY=lt.aY,this.xRadius=lt.xRadius,this.yRadius=lt.yRadius,this.aStartAngle=lt.aStartAngle,this.aEndAngle=lt.aEndAngle,this.aClockwise=lt.aClockwise,this.aRotation=lt.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(lt,dt,vt,St,Et,At){super(lt,dt,vt,vt,St,Et,At),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let ft=0,lt=0,dt=0,vt=0;function St(Et,At,Ct,Tt){ft=Et,lt=Ct,dt=-3*Et+3*At-2*Ct-Tt,vt=2*Et-2*At+Ct+Tt}return{initCatmullRom:function(Et,At,Ct,Tt,Rt){St(At,Ct,Rt*(Ct-Et),Rt*(Tt-At))},initNonuniformCatmullRom:function(Et,At,Ct,Tt,Rt,Bt,Dt){let Ft=(At-Et)/Rt-(Ct-Et)/(Rt+Bt)+(Ct-At)/Bt,kt=(Ct-At)/Bt-(Tt-At)/(Bt+Dt)+(Tt-Ct)/Dt;Ft*=Bt,kt*=Bt,St(At,Ct,Ft,kt)},calc:function(Et){const At=Et*Et,Ct=At*Et;return ft+lt*Et+dt*At+vt*Ct}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(lt=[],dt=!1,vt="centripetal",St=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=lt,this.closed=dt,this.curveType=vt,this.tension=St}getPoint(lt,dt=new Vector3){const vt=dt,St=this.points,Et=St.length,At=(Et-(this.closed?0:1))*lt;let Ct=Math.floor(At),Tt=At-Ct;this.closed?Ct+=Ct>0?0:(Math.floor(Math.abs(Ct)/Et)+1)*Et:Tt===0&&Ct===Et-1&&(Ct=Et-2,Tt=1);let Rt,Bt;this.closed||Ct>0?Rt=St[(Ct-1)%Et]:(tmp.subVectors(St[0],St[1]).add(St[0]),Rt=tmp);const Dt=St[Ct%Et],Ft=St[(Ct+1)%Et];if(this.closed||Ct+2<Et?Bt=St[(Ct+2)%Et]:(tmp.subVectors(St[Et-1],St[Et-2]).add(St[Et-1]),Bt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const kt=this.curveType==="chordal"?.5:.25;let Ut=Math.pow(Rt.distanceToSquared(Dt),kt),Kt=Math.pow(Dt.distanceToSquared(Ft),kt),tr=Math.pow(Ft.distanceToSquared(Bt),kt);Kt<1e-4&&(Kt=1),Ut<1e-4&&(Ut=Kt),tr<1e-4&&(tr=Kt),px.initNonuniformCatmullRom(Rt.x,Dt.x,Ft.x,Bt.x,Ut,Kt,tr),py.initNonuniformCatmullRom(Rt.y,Dt.y,Ft.y,Bt.y,Ut,Kt,tr),pz.initNonuniformCatmullRom(Rt.z,Dt.z,Ft.z,Bt.z,Ut,Kt,tr)}else this.curveType==="catmullrom"&&(px.initCatmullRom(Rt.x,Dt.x,Ft.x,Bt.x,this.tension),py.initCatmullRom(Rt.y,Dt.y,Ft.y,Bt.y,this.tension),pz.initCatmullRom(Rt.z,Dt.z,Ft.z,Bt.z,this.tension));return vt.set(px.calc(Tt),py.calc(Tt),pz.calc(Tt)),vt}copy(lt){super.copy(lt),this.points=[];for(let dt=0,vt=lt.points.length;dt<vt;dt++){const St=lt.points[dt];this.points.push(St.clone())}return this.closed=lt.closed,this.curveType=lt.curveType,this.tension=lt.tension,this}toJSON(){const lt=super.toJSON();lt.points=[];for(let dt=0,vt=this.points.length;dt<vt;dt++){const St=this.points[dt];lt.points.push(St.toArray())}return lt.closed=this.closed,lt.curveType=this.curveType,lt.tension=this.tension,lt}fromJSON(lt){super.fromJSON(lt),this.points=[];for(let dt=0,vt=lt.points.length;dt<vt;dt++){const St=lt.points[dt];this.points.push(new Vector3().fromArray(St))}return this.closed=lt.closed,this.curveType=lt.curveType,this.tension=lt.tension,this}}function CatmullRom(ft,lt,dt,vt,St){const Et=(vt-lt)*.5,At=(St-dt)*.5,Ct=ft*ft,Tt=ft*Ct;return(2*dt-2*vt+Et+At)*Tt+(-3*dt+3*vt-2*Et-At)*Ct+Et*ft+dt}function QuadraticBezierP0(ft,lt){const dt=1-ft;return dt*dt*lt}function QuadraticBezierP1(ft,lt){return 2*(1-ft)*ft*lt}function QuadraticBezierP2(ft,lt){return ft*ft*lt}function QuadraticBezier(ft,lt,dt,vt){return QuadraticBezierP0(ft,lt)+QuadraticBezierP1(ft,dt)+QuadraticBezierP2(ft,vt)}function CubicBezierP0(ft,lt){const dt=1-ft;return dt*dt*dt*lt}function CubicBezierP1(ft,lt){const dt=1-ft;return 3*dt*dt*ft*lt}function CubicBezierP2(ft,lt){return 3*(1-ft)*ft*ft*lt}function CubicBezierP3(ft,lt){return ft*ft*ft*lt}function CubicBezier(ft,lt,dt,vt,St){return CubicBezierP0(ft,lt)+CubicBezierP1(ft,dt)+CubicBezierP2(ft,vt)+CubicBezierP3(ft,St)}class CubicBezierCurve extends Curve{constructor(lt=new Vector2,dt=new Vector2,vt=new Vector2,St=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=lt,this.v1=dt,this.v2=vt,this.v3=St}getPoint(lt,dt=new Vector2){const vt=dt,St=this.v0,Et=this.v1,At=this.v2,Ct=this.v3;return vt.set(CubicBezier(lt,St.x,Et.x,At.x,Ct.x),CubicBezier(lt,St.y,Et.y,At.y,Ct.y)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this.v3.copy(lt.v3),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt.v3=this.v3.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this.v3.fromArray(lt.v3),this}}class CubicBezierCurve3 extends Curve{constructor(lt=new Vector3,dt=new Vector3,vt=new Vector3,St=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=lt,this.v1=dt,this.v2=vt,this.v3=St}getPoint(lt,dt=new Vector3){const vt=dt,St=this.v0,Et=this.v1,At=this.v2,Ct=this.v3;return vt.set(CubicBezier(lt,St.x,Et.x,At.x,Ct.x),CubicBezier(lt,St.y,Et.y,At.y,Ct.y),CubicBezier(lt,St.z,Et.z,At.z,Ct.z)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this.v3.copy(lt.v3),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt.v3=this.v3.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this.v3.fromArray(lt.v3),this}}class LineCurve extends Curve{constructor(lt=new Vector2,dt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=lt,this.v2=dt}getPoint(lt,dt=new Vector2){const vt=dt;return lt===1?vt.copy(this.v2):(vt.copy(this.v2).sub(this.v1),vt.multiplyScalar(lt).add(this.v1)),vt}getPointAt(lt,dt){return this.getPoint(lt,dt)}getTangent(lt,dt){const vt=dt||new Vector2;return vt.copy(this.v2).sub(this.v1).normalize(),vt}copy(lt){return super.copy(lt),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class LineCurve3 extends Curve{constructor(lt=new Vector3,dt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=lt,this.v2=dt}getPoint(lt,dt=new Vector3){const vt=dt;return lt===1?vt.copy(this.v2):(vt.copy(this.v2).sub(this.v1),vt.multiplyScalar(lt).add(this.v1)),vt}getPointAt(lt,dt){return this.getPoint(lt,dt)}copy(lt){return super.copy(lt),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class QuadraticBezierCurve extends Curve{constructor(lt=new Vector2,dt=new Vector2,vt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=lt,this.v1=dt,this.v2=vt}getPoint(lt,dt=new Vector2){const vt=dt,St=this.v0,Et=this.v1,At=this.v2;return vt.set(QuadraticBezier(lt,St.x,Et.x,At.x),QuadraticBezier(lt,St.y,Et.y,At.y)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(lt=new Vector3,dt=new Vector3,vt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=lt,this.v1=dt,this.v2=vt}getPoint(lt,dt=new Vector3){const vt=dt,St=this.v0,Et=this.v1,At=this.v2;return vt.set(QuadraticBezier(lt,St.x,Et.x,At.x),QuadraticBezier(lt,St.y,Et.y,At.y),QuadraticBezier(lt,St.z,Et.z,At.z)),vt}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class SplineCurve extends Curve{constructor(lt=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=lt}getPoint(lt,dt=new Vector2){const vt=dt,St=this.points,Et=(St.length-1)*lt,At=Math.floor(Et),Ct=Et-At,Tt=St[At===0?At:At-1],Rt=St[At],Bt=St[At>St.length-2?St.length-1:At+1],Dt=St[At>St.length-3?St.length-1:At+2];return vt.set(CatmullRom(Ct,Tt.x,Rt.x,Bt.x,Dt.x),CatmullRom(Ct,Tt.y,Rt.y,Bt.y,Dt.y)),vt}copy(lt){super.copy(lt),this.points=[];for(let dt=0,vt=lt.points.length;dt<vt;dt++){const St=lt.points[dt];this.points.push(St.clone())}return this}toJSON(){const lt=super.toJSON();lt.points=[];for(let dt=0,vt=this.points.length;dt<vt;dt++){const St=this.points[dt];lt.points.push(St.toArray())}return lt}fromJSON(lt){super.fromJSON(lt),this.points=[];for(let dt=0,vt=lt.points.length;dt<vt;dt++){const St=lt.points[dt];this.points.push(new Vector2().fromArray(St))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(lt){this.curves.push(lt)}closePath(){const lt=this.curves[0].getPoint(0),dt=this.curves[this.curves.length-1].getPoint(1);lt.equals(dt)||this.curves.push(new LineCurve(dt,lt))}getPoint(lt,dt){const vt=lt*this.getLength(),St=this.getCurveLengths();let Et=0;for(;Et<St.length;){if(St[Et]>=vt){const At=St[Et]-vt,Ct=this.curves[Et],Tt=Ct.getLength(),Rt=Tt===0?0:1-At/Tt;return Ct.getPointAt(Rt,dt)}Et++}return null}getLength(){const lt=this.getCurveLengths();return lt[lt.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const lt=[];let dt=0;for(let vt=0,St=this.curves.length;vt<St;vt++)dt+=this.curves[vt].getLength(),lt.push(dt);return this.cacheLengths=lt,lt}getSpacedPoints(lt=40){const dt=[];for(let vt=0;vt<=lt;vt++)dt.push(this.getPoint(vt/lt));return this.autoClose&&dt.push(dt[0]),dt}getPoints(lt=12){const dt=[];let vt;for(let St=0,Et=this.curves;St<Et.length;St++){const At=Et[St],Ct=At.isEllipseCurve?lt*2:At.isLineCurve||At.isLineCurve3?1:At.isSplineCurve?lt*At.points.length:lt,Tt=At.getPoints(Ct);for(let Rt=0;Rt<Tt.length;Rt++){const Bt=Tt[Rt];vt&&vt.equals(Bt)||(dt.push(Bt),vt=Bt)}}return this.autoClose&&dt.length>1&&!dt[dt.length-1].equals(dt[0])&&dt.push(dt[0]),dt}copy(lt){super.copy(lt),this.curves=[];for(let dt=0,vt=lt.curves.length;dt<vt;dt++){const St=lt.curves[dt];this.curves.push(St.clone())}return this.autoClose=lt.autoClose,this}toJSON(){const lt=super.toJSON();lt.autoClose=this.autoClose,lt.curves=[];for(let dt=0,vt=this.curves.length;dt<vt;dt++){const St=this.curves[dt];lt.curves.push(St.toJSON())}return lt}fromJSON(lt){super.fromJSON(lt),this.autoClose=lt.autoClose,this.curves=[];for(let dt=0,vt=lt.curves.length;dt<vt;dt++){const St=lt.curves[dt];this.curves.push(new Curves[St.type]().fromJSON(St))}return this}}class Path extends CurvePath{constructor(lt){super(),this.type="Path",this.currentPoint=new Vector2,lt&&this.setFromPoints(lt)}setFromPoints(lt){this.moveTo(lt[0].x,lt[0].y);for(let dt=1,vt=lt.length;dt<vt;dt++)this.lineTo(lt[dt].x,lt[dt].y);return this}moveTo(lt,dt){return this.currentPoint.set(lt,dt),this}lineTo(lt,dt){const vt=new LineCurve(this.currentPoint.clone(),new Vector2(lt,dt));return this.curves.push(vt),this.currentPoint.set(lt,dt),this}quadraticCurveTo(lt,dt,vt,St){const Et=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(lt,dt),new Vector2(vt,St));return this.curves.push(Et),this.currentPoint.set(vt,St),this}bezierCurveTo(lt,dt,vt,St,Et,At){const Ct=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(lt,dt),new Vector2(vt,St),new Vector2(Et,At));return this.curves.push(Ct),this.currentPoint.set(Et,At),this}splineThru(lt){const dt=[this.currentPoint.clone()].concat(lt),vt=new SplineCurve(dt);return this.curves.push(vt),this.currentPoint.copy(lt[lt.length-1]),this}arc(lt,dt,vt,St,Et,At){const Ct=this.currentPoint.x,Tt=this.currentPoint.y;return this.absarc(lt+Ct,dt+Tt,vt,St,Et,At),this}absarc(lt,dt,vt,St,Et,At){return this.absellipse(lt,dt,vt,vt,St,Et,At),this}ellipse(lt,dt,vt,St,Et,At,Ct,Tt){const Rt=this.currentPoint.x,Bt=this.currentPoint.y;return this.absellipse(lt+Rt,dt+Bt,vt,St,Et,At,Ct,Tt),this}absellipse(lt,dt,vt,St,Et,At,Ct,Tt){const Rt=new EllipseCurve(lt,dt,vt,St,Et,At,Ct,Tt);if(this.curves.length>0){const Dt=Rt.getPoint(0);Dt.equals(this.currentPoint)||this.lineTo(Dt.x,Dt.y)}this.curves.push(Rt);const Bt=Rt.getPoint(1);return this.currentPoint.copy(Bt),this}copy(lt){return super.copy(lt),this.currentPoint.copy(lt.currentPoint),this}toJSON(){const lt=super.toJSON();return lt.currentPoint=this.currentPoint.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.currentPoint.fromArray(lt.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(lt=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],dt=12,vt=0,St=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:lt,segments:dt,phiStart:vt,phiLength:St},dt=Math.floor(dt),St=clamp(St,0,Math.PI*2);const Et=[],At=[],Ct=[],Tt=[],Rt=[],Bt=1/dt,Dt=new Vector3,Ft=new Vector2,kt=new Vector3,Ut=new Vector3,Kt=new Vector3;let tr=0,Wt=0;for(let Zt=0;Zt<=lt.length-1;Zt++)switch(Zt){case 0:tr=lt[Zt+1].x-lt[Zt].x,Wt=lt[Zt+1].y-lt[Zt].y,kt.x=Wt*1,kt.y=-tr,kt.z=Wt*0,Kt.copy(kt),kt.normalize(),Tt.push(kt.x,kt.y,kt.z);break;case lt.length-1:Tt.push(Kt.x,Kt.y,Kt.z);break;default:tr=lt[Zt+1].x-lt[Zt].x,Wt=lt[Zt+1].y-lt[Zt].y,kt.x=Wt*1,kt.y=-tr,kt.z=Wt*0,Ut.copy(kt),kt.x+=Kt.x,kt.y+=Kt.y,kt.z+=Kt.z,kt.normalize(),Tt.push(kt.x,kt.y,kt.z),Kt.copy(Ut)}for(let Zt=0;Zt<=dt;Zt++){const Ht=vt+Zt*Bt*St,nr=Math.sin(Ht),sr=Math.cos(Ht);for(let ar=0;ar<=lt.length-1;ar++){Dt.x=lt[ar].x*nr,Dt.y=lt[ar].y,Dt.z=lt[ar].x*sr,At.push(Dt.x,Dt.y,Dt.z),Ft.x=Zt/dt,Ft.y=ar/(lt.length-1),Ct.push(Ft.x,Ft.y);const ir=Tt[3*ar+0]*nr,rr=Tt[3*ar+1],lr=Tt[3*ar+0]*sr;Rt.push(ir,rr,lr)}}for(let Zt=0;Zt<dt;Zt++)for(let Ht=0;Ht<lt.length-1;Ht++){const nr=Ht+Zt*lt.length,sr=nr,ar=nr+lt.length,ir=nr+lt.length+1,rr=nr+1;Et.push(sr,ar,rr),Et.push(ir,rr,ar)}this.setIndex(Et),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("uv",new Float32BufferAttribute(Ct,2)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3))}static fromJSON(lt){return new LatheGeometry(lt.points,lt.segments,lt.phiStart,lt.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(lt=1,dt=1,vt=4,St=8){const Et=new Path;Et.absarc(0,-dt/2,lt,Math.PI*1.5,0),Et.absarc(0,dt/2,lt,0,Math.PI*.5),super(Et.getPoints(vt),St),this.type="CapsuleGeometry",this.parameters={radius:lt,height:dt,capSegments:vt,radialSegments:St}}static fromJSON(lt){return new CapsuleGeometry(lt.radius,lt.length,lt.capSegments,lt.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(lt=1,dt=32,vt=0,St=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:lt,segments:dt,thetaStart:vt,thetaLength:St},dt=Math.max(3,dt);const Et=[],At=[],Ct=[],Tt=[],Rt=new Vector3,Bt=new Vector2;At.push(0,0,0),Ct.push(0,0,1),Tt.push(.5,.5);for(let Dt=0,Ft=3;Dt<=dt;Dt++,Ft+=3){const kt=vt+Dt/dt*St;Rt.x=lt*Math.cos(kt),Rt.y=lt*Math.sin(kt),At.push(Rt.x,Rt.y,Rt.z),Ct.push(0,0,1),Bt.x=(At[Ft]/lt+1)/2,Bt.y=(At[Ft+1]/lt+1)/2,Tt.push(Bt.x,Bt.y)}for(let Dt=1;Dt<=dt;Dt++)Et.push(Dt,Dt+1,0);this.setIndex(Et),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Ct,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}static fromJSON(lt){return new CircleGeometry(lt.radius,lt.segments,lt.thetaStart,lt.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(lt=1,dt=1,vt=1,St=32,Et=1,At=!1,Ct=0,Tt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:lt,radiusBottom:dt,height:vt,radialSegments:St,heightSegments:Et,openEnded:At,thetaStart:Ct,thetaLength:Tt};const Rt=this;St=Math.floor(St),Et=Math.floor(Et);const Bt=[],Dt=[],Ft=[],kt=[];let Ut=0;const Kt=[],tr=vt/2;let Wt=0;Zt(),At===!1&&(lt>0&&Ht(!0),dt>0&&Ht(!1)),this.setIndex(Bt),this.setAttribute("position",new Float32BufferAttribute(Dt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ft,3)),this.setAttribute("uv",new Float32BufferAttribute(kt,2));function Zt(){const nr=new Vector3,sr=new Vector3;let ar=0;const ir=(dt-lt)/vt;for(let rr=0;rr<=Et;rr++){const lr=[],ur=rr/Et,dr=ur*(dt-lt)+lt;for(let mr=0;mr<=St;mr++){const Cr=mr/St,yr=Cr*Tt+Ct,xr=Math.sin(yr),Sr=Math.cos(yr);sr.x=dr*xr,sr.y=-ur*vt+tr,sr.z=dr*Sr,Dt.push(sr.x,sr.y,sr.z),nr.set(xr,ir,Sr).normalize(),Ft.push(nr.x,nr.y,nr.z),kt.push(Cr,1-ur),lr.push(Ut++)}Kt.push(lr)}for(let rr=0;rr<St;rr++)for(let lr=0;lr<Et;lr++){const ur=Kt[lr][rr],dr=Kt[lr+1][rr],mr=Kt[lr+1][rr+1],Cr=Kt[lr][rr+1];Bt.push(ur,dr,Cr),Bt.push(dr,mr,Cr),ar+=6}Rt.addGroup(Wt,ar,0),Wt+=ar}function Ht(nr){const sr=Ut,ar=new Vector2,ir=new Vector3;let rr=0;const lr=nr===!0?lt:dt,ur=nr===!0?1:-1;for(let mr=1;mr<=St;mr++)Dt.push(0,tr*ur,0),Ft.push(0,ur,0),kt.push(.5,.5),Ut++;const dr=Ut;for(let mr=0;mr<=St;mr++){const yr=mr/St*Tt+Ct,xr=Math.cos(yr),Sr=Math.sin(yr);ir.x=lr*Sr,ir.y=tr*ur,ir.z=lr*xr,Dt.push(ir.x,ir.y,ir.z),Ft.push(0,ur,0),ar.x=xr*.5+.5,ar.y=Sr*.5*ur+.5,kt.push(ar.x,ar.y),Ut++}for(let mr=0;mr<St;mr++){const Cr=sr+mr,yr=dr+mr;nr===!0?Bt.push(yr,yr+1,Cr):Bt.push(yr+1,yr,Cr),rr+=3}Rt.addGroup(Wt,rr,nr===!0?1:2),Wt+=rr}}static fromJSON(lt){return new CylinderGeometry(lt.radiusTop,lt.radiusBottom,lt.height,lt.radialSegments,lt.heightSegments,lt.openEnded,lt.thetaStart,lt.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(lt=1,dt=1,vt=32,St=1,Et=!1,At=0,Ct=Math.PI*2){super(0,lt,dt,vt,St,Et,At,Ct),this.type="ConeGeometry",this.parameters={radius:lt,height:dt,radialSegments:vt,heightSegments:St,openEnded:Et,thetaStart:At,thetaLength:Ct}}static fromJSON(lt){return new ConeGeometry(lt.radius,lt.height,lt.radialSegments,lt.heightSegments,lt.openEnded,lt.thetaStart,lt.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(lt=[],dt=[],vt=1,St=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:lt,indices:dt,radius:vt,detail:St};const Et=[],At=[];Ct(St),Rt(vt),Bt(),this.setAttribute("position",new Float32BufferAttribute(Et,3)),this.setAttribute("normal",new Float32BufferAttribute(Et.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(At,2)),St===0?this.computeVertexNormals():this.normalizeNormals();function Ct(Zt){const Ht=new Vector3,nr=new Vector3,sr=new Vector3;for(let ar=0;ar<dt.length;ar+=3)kt(dt[ar+0],Ht),kt(dt[ar+1],nr),kt(dt[ar+2],sr),Tt(Ht,nr,sr,Zt)}function Tt(Zt,Ht,nr,sr){const ar=sr+1,ir=[];for(let rr=0;rr<=ar;rr++){ir[rr]=[];const lr=Zt.clone().lerp(nr,rr/ar),ur=Ht.clone().lerp(nr,rr/ar),dr=ar-rr;for(let mr=0;mr<=dr;mr++)mr===0&&rr===ar?ir[rr][mr]=lr:ir[rr][mr]=lr.clone().lerp(ur,mr/dr)}for(let rr=0;rr<ar;rr++)for(let lr=0;lr<2*(ar-rr)-1;lr++){const ur=Math.floor(lr/2);lr%2===0?(Ft(ir[rr][ur+1]),Ft(ir[rr+1][ur]),Ft(ir[rr][ur])):(Ft(ir[rr][ur+1]),Ft(ir[rr+1][ur+1]),Ft(ir[rr+1][ur]))}}function Rt(Zt){const Ht=new Vector3;for(let nr=0;nr<Et.length;nr+=3)Ht.x=Et[nr+0],Ht.y=Et[nr+1],Ht.z=Et[nr+2],Ht.normalize().multiplyScalar(Zt),Et[nr+0]=Ht.x,Et[nr+1]=Ht.y,Et[nr+2]=Ht.z}function Bt(){const Zt=new Vector3;for(let Ht=0;Ht<Et.length;Ht+=3){Zt.x=Et[Ht+0],Zt.y=Et[Ht+1],Zt.z=Et[Ht+2];const nr=tr(Zt)/2/Math.PI+.5,sr=Wt(Zt)/Math.PI+.5;At.push(nr,1-sr)}Ut(),Dt()}function Dt(){for(let Zt=0;Zt<At.length;Zt+=6){const Ht=At[Zt+0],nr=At[Zt+2],sr=At[Zt+4],ar=Math.max(Ht,nr,sr),ir=Math.min(Ht,nr,sr);ar>.9&&ir<.1&&(Ht<.2&&(At[Zt+0]+=1),nr<.2&&(At[Zt+2]+=1),sr<.2&&(At[Zt+4]+=1))}}function Ft(Zt){Et.push(Zt.x,Zt.y,Zt.z)}function kt(Zt,Ht){const nr=Zt*3;Ht.x=lt[nr+0],Ht.y=lt[nr+1],Ht.z=lt[nr+2]}function Ut(){const Zt=new Vector3,Ht=new Vector3,nr=new Vector3,sr=new Vector3,ar=new Vector2,ir=new Vector2,rr=new Vector2;for(let lr=0,ur=0;lr<Et.length;lr+=9,ur+=6){Zt.set(Et[lr+0],Et[lr+1],Et[lr+2]),Ht.set(Et[lr+3],Et[lr+4],Et[lr+5]),nr.set(Et[lr+6],Et[lr+7],Et[lr+8]),ar.set(At[ur+0],At[ur+1]),ir.set(At[ur+2],At[ur+3]),rr.set(At[ur+4],At[ur+5]),sr.copy(Zt).add(Ht).add(nr).divideScalar(3);const dr=tr(sr);Kt(ar,ur+0,Zt,dr),Kt(ir,ur+2,Ht,dr),Kt(rr,ur+4,nr,dr)}}function Kt(Zt,Ht,nr,sr){sr<0&&Zt.x===1&&(At[Ht]=Zt.x-1),nr.x===0&&nr.z===0&&(At[Ht]=sr/2/Math.PI+.5)}function tr(Zt){return Math.atan2(Zt.z,-Zt.x)}function Wt(Zt){return Math.atan2(-Zt.y,Math.sqrt(Zt.x*Zt.x+Zt.z*Zt.z))}}static fromJSON(lt){return new PolyhedronGeometry(lt.vertices,lt.indices,lt.radius,lt.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(lt=1,dt=0){const vt=(1+Math.sqrt(5))/2,St=1/vt,Et=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-St,-vt,0,-St,vt,0,St,-vt,0,St,vt,-St,-vt,0,-St,vt,0,St,-vt,0,St,vt,0,-vt,0,-St,vt,0,-St,-vt,0,St,vt,0,St],At=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(Et,At,lt,dt),this.type="DodecahedronGeometry",this.parameters={radius:lt,detail:dt}}static fromJSON(lt){return new DodecahedronGeometry(lt.radius,lt.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(lt=null,dt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:lt,thresholdAngle:dt},lt!==null){const St=Math.pow(10,4),Et=Math.cos(DEG2RAD*dt),At=lt.getIndex(),Ct=lt.getAttribute("position"),Tt=At?At.count:Ct.count,Rt=[0,0,0],Bt=["a","b","c"],Dt=new Array(3),Ft={},kt=[];for(let Ut=0;Ut<Tt;Ut+=3){At?(Rt[0]=At.getX(Ut),Rt[1]=At.getX(Ut+1),Rt[2]=At.getX(Ut+2)):(Rt[0]=Ut,Rt[1]=Ut+1,Rt[2]=Ut+2);const{a:Kt,b:tr,c:Wt}=_triangle;if(Kt.fromBufferAttribute(Ct,Rt[0]),tr.fromBufferAttribute(Ct,Rt[1]),Wt.fromBufferAttribute(Ct,Rt[2]),_triangle.getNormal(_normal),Dt[0]=`${Math.round(Kt.x*St)},${Math.round(Kt.y*St)},${Math.round(Kt.z*St)}`,Dt[1]=`${Math.round(tr.x*St)},${Math.round(tr.y*St)},${Math.round(tr.z*St)}`,Dt[2]=`${Math.round(Wt.x*St)},${Math.round(Wt.y*St)},${Math.round(Wt.z*St)}`,!(Dt[0]===Dt[1]||Dt[1]===Dt[2]||Dt[2]===Dt[0]))for(let Zt=0;Zt<3;Zt++){const Ht=(Zt+1)%3,nr=Dt[Zt],sr=Dt[Ht],ar=_triangle[Bt[Zt]],ir=_triangle[Bt[Ht]],rr=`${nr}_${sr}`,lr=`${sr}_${nr}`;lr in Ft&&Ft[lr]?(_normal.dot(Ft[lr].normal)<=Et&&(kt.push(ar.x,ar.y,ar.z),kt.push(ir.x,ir.y,ir.z)),Ft[lr]=null):rr in Ft||(Ft[rr]={index0:Rt[Zt],index1:Rt[Ht],normal:_normal.clone()})}}for(const Ut in Ft)if(Ft[Ut]){const{index0:Kt,index1:tr}=Ft[Ut];_v0.fromBufferAttribute(Ct,Kt),_v1$1.fromBufferAttribute(Ct,tr),kt.push(_v0.x,_v0.y,_v0.z),kt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(kt,3))}}}class Shape extends Path{constructor(lt){super(lt),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(lt){const dt=[];for(let vt=0,St=this.holes.length;vt<St;vt++)dt[vt]=this.holes[vt].getPoints(lt);return dt}extractPoints(lt){return{shape:this.getPoints(lt),holes:this.getPointsHoles(lt)}}copy(lt){super.copy(lt),this.holes=[];for(let dt=0,vt=lt.holes.length;dt<vt;dt++){const St=lt.holes[dt];this.holes.push(St.clone())}return this}toJSON(){const lt=super.toJSON();lt.uuid=this.uuid,lt.holes=[];for(let dt=0,vt=this.holes.length;dt<vt;dt++){const St=this.holes[dt];lt.holes.push(St.toJSON())}return lt}fromJSON(lt){super.fromJSON(lt),this.uuid=lt.uuid,this.holes=[];for(let dt=0,vt=lt.holes.length;dt<vt;dt++){const St=lt.holes[dt];this.holes.push(new Path().fromJSON(St))}return this}}const Earcut={triangulate:function(ft,lt,dt=2){const vt=lt&&lt.length,St=vt?lt[0]*dt:ft.length;let Et=linkedList(ft,0,St,dt,!0);const At=[];if(!Et||Et.next===Et.prev)return At;let Ct,Tt,Rt,Bt,Dt,Ft,kt;if(vt&&(Et=eliminateHoles(ft,lt,Et,dt)),ft.length>80*dt){Ct=Rt=ft[0],Tt=Bt=ft[1];for(let Ut=dt;Ut<St;Ut+=dt)Dt=ft[Ut],Ft=ft[Ut+1],Dt<Ct&&(Ct=Dt),Ft<Tt&&(Tt=Ft),Dt>Rt&&(Rt=Dt),Ft>Bt&&(Bt=Ft);kt=Math.max(Rt-Ct,Bt-Tt),kt=kt!==0?32767/kt:0}return earcutLinked(Et,At,dt,Ct,Tt,kt,0),At}};function linkedList(ft,lt,dt,vt,St){let Et,At;if(St===signedArea(ft,lt,dt,vt)>0)for(Et=lt;Et<dt;Et+=vt)At=insertNode(Et,ft[Et],ft[Et+1],At);else for(Et=dt-vt;Et>=lt;Et-=vt)At=insertNode(Et,ft[Et],ft[Et+1],At);return At&&equals(At,At.next)&&(removeNode(At),At=At.next),At}function filterPoints(ft,lt){if(!ft)return ft;lt||(lt=ft);let dt=ft,vt;do if(vt=!1,!dt.steiner&&(equals(dt,dt.next)||area(dt.prev,dt,dt.next)===0)){if(removeNode(dt),dt=lt=dt.prev,dt===dt.next)break;vt=!0}else dt=dt.next;while(vt||dt!==lt);return lt}function earcutLinked(ft,lt,dt,vt,St,Et,At){if(!ft)return;!At&&Et&&indexCurve(ft,vt,St,Et);let Ct=ft,Tt,Rt;for(;ft.prev!==ft.next;){if(Tt=ft.prev,Rt=ft.next,Et?isEarHashed(ft,vt,St,Et):isEar(ft)){lt.push(Tt.i/dt|0),lt.push(ft.i/dt|0),lt.push(Rt.i/dt|0),removeNode(ft),ft=Rt.next,Ct=Rt.next;continue}if(ft=Rt,ft===Ct){At?At===1?(ft=cureLocalIntersections(filterPoints(ft),lt,dt),earcutLinked(ft,lt,dt,vt,St,Et,2)):At===2&&splitEarcut(ft,lt,dt,vt,St,Et):earcutLinked(filterPoints(ft),lt,dt,vt,St,Et,1);break}}}function isEar(ft){const lt=ft.prev,dt=ft,vt=ft.next;if(area(lt,dt,vt)>=0)return!1;const St=lt.x,Et=dt.x,At=vt.x,Ct=lt.y,Tt=dt.y,Rt=vt.y,Bt=St<Et?St<At?St:At:Et<At?Et:At,Dt=Ct<Tt?Ct<Rt?Ct:Rt:Tt<Rt?Tt:Rt,Ft=St>Et?St>At?St:At:Et>At?Et:At,kt=Ct>Tt?Ct>Rt?Ct:Rt:Tt>Rt?Tt:Rt;let Ut=vt.next;for(;Ut!==lt;){if(Ut.x>=Bt&&Ut.x<=Ft&&Ut.y>=Dt&&Ut.y<=kt&&pointInTriangle(St,Ct,Et,Tt,At,Rt,Ut.x,Ut.y)&&area(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.next}return!0}function isEarHashed(ft,lt,dt,vt){const St=ft.prev,Et=ft,At=ft.next;if(area(St,Et,At)>=0)return!1;const Ct=St.x,Tt=Et.x,Rt=At.x,Bt=St.y,Dt=Et.y,Ft=At.y,kt=Ct<Tt?Ct<Rt?Ct:Rt:Tt<Rt?Tt:Rt,Ut=Bt<Dt?Bt<Ft?Bt:Ft:Dt<Ft?Dt:Ft,Kt=Ct>Tt?Ct>Rt?Ct:Rt:Tt>Rt?Tt:Rt,tr=Bt>Dt?Bt>Ft?Bt:Ft:Dt>Ft?Dt:Ft,Wt=zOrder(kt,Ut,lt,dt,vt),Zt=zOrder(Kt,tr,lt,dt,vt);let Ht=ft.prevZ,nr=ft.nextZ;for(;Ht&&Ht.z>=Wt&&nr&&nr.z<=Zt;){if(Ht.x>=kt&&Ht.x<=Kt&&Ht.y>=Ut&&Ht.y<=tr&&Ht!==St&&Ht!==At&&pointInTriangle(Ct,Bt,Tt,Dt,Rt,Ft,Ht.x,Ht.y)&&area(Ht.prev,Ht,Ht.next)>=0||(Ht=Ht.prevZ,nr.x>=kt&&nr.x<=Kt&&nr.y>=Ut&&nr.y<=tr&&nr!==St&&nr!==At&&pointInTriangle(Ct,Bt,Tt,Dt,Rt,Ft,nr.x,nr.y)&&area(nr.prev,nr,nr.next)>=0))return!1;nr=nr.nextZ}for(;Ht&&Ht.z>=Wt;){if(Ht.x>=kt&&Ht.x<=Kt&&Ht.y>=Ut&&Ht.y<=tr&&Ht!==St&&Ht!==At&&pointInTriangle(Ct,Bt,Tt,Dt,Rt,Ft,Ht.x,Ht.y)&&area(Ht.prev,Ht,Ht.next)>=0)return!1;Ht=Ht.prevZ}for(;nr&&nr.z<=Zt;){if(nr.x>=kt&&nr.x<=Kt&&nr.y>=Ut&&nr.y<=tr&&nr!==St&&nr!==At&&pointInTriangle(Ct,Bt,Tt,Dt,Rt,Ft,nr.x,nr.y)&&area(nr.prev,nr,nr.next)>=0)return!1;nr=nr.nextZ}return!0}function cureLocalIntersections(ft,lt,dt){let vt=ft;do{const St=vt.prev,Et=vt.next.next;!equals(St,Et)&&intersects(St,vt,vt.next,Et)&&locallyInside(St,Et)&&locallyInside(Et,St)&&(lt.push(St.i/dt|0),lt.push(vt.i/dt|0),lt.push(Et.i/dt|0),removeNode(vt),removeNode(vt.next),vt=ft=Et),vt=vt.next}while(vt!==ft);return filterPoints(vt)}function splitEarcut(ft,lt,dt,vt,St,Et){let At=ft;do{let Ct=At.next.next;for(;Ct!==At.prev;){if(At.i!==Ct.i&&isValidDiagonal(At,Ct)){let Tt=splitPolygon(At,Ct);At=filterPoints(At,At.next),Tt=filterPoints(Tt,Tt.next),earcutLinked(At,lt,dt,vt,St,Et,0),earcutLinked(Tt,lt,dt,vt,St,Et,0);return}Ct=Ct.next}At=At.next}while(At!==ft)}function eliminateHoles(ft,lt,dt,vt){const St=[];let Et,At,Ct,Tt,Rt;for(Et=0,At=lt.length;Et<At;Et++)Ct=lt[Et]*vt,Tt=Et<At-1?lt[Et+1]*vt:ft.length,Rt=linkedList(ft,Ct,Tt,vt,!1),Rt===Rt.next&&(Rt.steiner=!0),St.push(getLeftmost(Rt));for(St.sort(compareX),Et=0;Et<St.length;Et++)dt=eliminateHole(St[Et],dt);return dt}function compareX(ft,lt){return ft.x-lt.x}function eliminateHole(ft,lt){const dt=findHoleBridge(ft,lt);if(!dt)return lt;const vt=splitPolygon(dt,ft);return filterPoints(vt,vt.next),filterPoints(dt,dt.next)}function findHoleBridge(ft,lt){let dt=lt,vt=-1/0,St;const Et=ft.x,At=ft.y;do{if(At<=dt.y&&At>=dt.next.y&&dt.next.y!==dt.y){const Ft=dt.x+(At-dt.y)*(dt.next.x-dt.x)/(dt.next.y-dt.y);if(Ft<=Et&&Ft>vt&&(vt=Ft,St=dt.x<dt.next.x?dt:dt.next,Ft===Et))return St}dt=dt.next}while(dt!==lt);if(!St)return null;const Ct=St,Tt=St.x,Rt=St.y;let Bt=1/0,Dt;dt=St;do Et>=dt.x&&dt.x>=Tt&&Et!==dt.x&&pointInTriangle(At<Rt?Et:vt,At,Tt,Rt,At<Rt?vt:Et,At,dt.x,dt.y)&&(Dt=Math.abs(At-dt.y)/(Et-dt.x),locallyInside(dt,ft)&&(Dt<Bt||Dt===Bt&&(dt.x>St.x||dt.x===St.x&&sectorContainsSector(St,dt)))&&(St=dt,Bt=Dt)),dt=dt.next;while(dt!==Ct);return St}function sectorContainsSector(ft,lt){return area(ft.prev,ft,lt.prev)<0&&area(lt.next,ft,ft.next)<0}function indexCurve(ft,lt,dt,vt){let St=ft;do St.z===0&&(St.z=zOrder(St.x,St.y,lt,dt,vt)),St.prevZ=St.prev,St.nextZ=St.next,St=St.next;while(St!==ft);St.prevZ.nextZ=null,St.prevZ=null,sortLinked(St)}function sortLinked(ft){let lt,dt,vt,St,Et,At,Ct,Tt,Rt=1;do{for(dt=ft,ft=null,Et=null,At=0;dt;){for(At++,vt=dt,Ct=0,lt=0;lt<Rt&&(Ct++,vt=vt.nextZ,!!vt);lt++);for(Tt=Rt;Ct>0||Tt>0&&vt;)Ct!==0&&(Tt===0||!vt||dt.z<=vt.z)?(St=dt,dt=dt.nextZ,Ct--):(St=vt,vt=vt.nextZ,Tt--),Et?Et.nextZ=St:ft=St,St.prevZ=Et,Et=St;dt=vt}Et.nextZ=null,Rt*=2}while(At>1);return ft}function zOrder(ft,lt,dt,vt,St){return ft=(ft-dt)*St|0,lt=(lt-vt)*St|0,ft=(ft|ft<<8)&16711935,ft=(ft|ft<<4)&252645135,ft=(ft|ft<<2)&858993459,ft=(ft|ft<<1)&1431655765,lt=(lt|lt<<8)&16711935,lt=(lt|lt<<4)&252645135,lt=(lt|lt<<2)&858993459,lt=(lt|lt<<1)&1431655765,ft|lt<<1}function getLeftmost(ft){let lt=ft,dt=ft;do(lt.x<dt.x||lt.x===dt.x&&lt.y<dt.y)&&(dt=lt),lt=lt.next;while(lt!==ft);return dt}function pointInTriangle(ft,lt,dt,vt,St,Et,At,Ct){return(St-At)*(lt-Ct)>=(ft-At)*(Et-Ct)&&(ft-At)*(vt-Ct)>=(dt-At)*(lt-Ct)&&(dt-At)*(Et-Ct)>=(St-At)*(vt-Ct)}function isValidDiagonal(ft,lt){return ft.next.i!==lt.i&&ft.prev.i!==lt.i&&!intersectsPolygon(ft,lt)&&(locallyInside(ft,lt)&&locallyInside(lt,ft)&&middleInside(ft,lt)&&(area(ft.prev,ft,lt.prev)||area(ft,lt.prev,lt))||equals(ft,lt)&&area(ft.prev,ft,ft.next)>0&&area(lt.prev,lt,lt.next)>0)}function area(ft,lt,dt){return(lt.y-ft.y)*(dt.x-lt.x)-(lt.x-ft.x)*(dt.y-lt.y)}function equals(ft,lt){return ft.x===lt.x&&ft.y===lt.y}function intersects(ft,lt,dt,vt){const St=sign(area(ft,lt,dt)),Et=sign(area(ft,lt,vt)),At=sign(area(dt,vt,ft)),Ct=sign(area(dt,vt,lt));return!!(St!==Et&&At!==Ct||St===0&&onSegment(ft,dt,lt)||Et===0&&onSegment(ft,vt,lt)||At===0&&onSegment(dt,ft,vt)||Ct===0&&onSegment(dt,lt,vt))}function onSegment(ft,lt,dt){return lt.x<=Math.max(ft.x,dt.x)&&lt.x>=Math.min(ft.x,dt.x)&&lt.y<=Math.max(ft.y,dt.y)&&lt.y>=Math.min(ft.y,dt.y)}function sign(ft){return ft>0?1:ft<0?-1:0}function intersectsPolygon(ft,lt){let dt=ft;do{if(dt.i!==ft.i&&dt.next.i!==ft.i&&dt.i!==lt.i&&dt.next.i!==lt.i&&intersects(dt,dt.next,ft,lt))return!0;dt=dt.next}while(dt!==ft);return!1}function locallyInside(ft,lt){return area(ft.prev,ft,ft.next)<0?area(ft,lt,ft.next)>=0&&area(ft,ft.prev,lt)>=0:area(ft,lt,ft.prev)<0||area(ft,ft.next,lt)<0}function middleInside(ft,lt){let dt=ft,vt=!1;const St=(ft.x+lt.x)/2,Et=(ft.y+lt.y)/2;do dt.y>Et!=dt.next.y>Et&&dt.next.y!==dt.y&&St<(dt.next.x-dt.x)*(Et-dt.y)/(dt.next.y-dt.y)+dt.x&&(vt=!vt),dt=dt.next;while(dt!==ft);return vt}function splitPolygon(ft,lt){const dt=new Node(ft.i,ft.x,ft.y),vt=new Node(lt.i,lt.x,lt.y),St=ft.next,Et=lt.prev;return ft.next=lt,lt.prev=ft,dt.next=St,St.prev=dt,vt.next=dt,dt.prev=vt,Et.next=vt,vt.prev=Et,vt}function insertNode(ft,lt,dt,vt){const St=new Node(ft,lt,dt);return vt?(St.next=vt.next,St.prev=vt,vt.next.prev=St,vt.next=St):(St.prev=St,St.next=St),St}function removeNode(ft){ft.next.prev=ft.prev,ft.prev.next=ft.next,ft.prevZ&&(ft.prevZ.nextZ=ft.nextZ),ft.nextZ&&(ft.nextZ.prevZ=ft.prevZ)}function Node(ft,lt,dt){this.i=ft,this.x=lt,this.y=dt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(ft,lt,dt,vt){let St=0;for(let Et=lt,At=dt-vt;Et<dt;Et+=vt)St+=(ft[At]-ft[Et])*(ft[Et+1]+ft[At+1]),At=Et;return St}class ShapeUtils{static area(lt){const dt=lt.length;let vt=0;for(let St=dt-1,Et=0;Et<dt;St=Et++)vt+=lt[St].x*lt[Et].y-lt[Et].x*lt[St].y;return vt*.5}static isClockWise(lt){return ShapeUtils.area(lt)<0}static triangulateShape(lt,dt){const vt=[],St=[],Et=[];removeDupEndPts(lt),addContour(vt,lt);let At=lt.length;dt.forEach(removeDupEndPts);for(let Tt=0;Tt<dt.length;Tt++)St.push(At),At+=dt[Tt].length,addContour(vt,dt[Tt]);const Ct=Earcut.triangulate(vt,St);for(let Tt=0;Tt<Ct.length;Tt+=3)Et.push(Ct.slice(Tt,Tt+3));return Et}}function removeDupEndPts(ft){const lt=ft.length;lt>2&&ft[lt-1].equals(ft[0])&&ft.pop()}function addContour(ft,lt){for(let dt=0;dt<lt.length;dt++)ft.push(lt[dt].x),ft.push(lt[dt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(lt=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),dt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:lt,options:dt},lt=Array.isArray(lt)?lt:[lt];const vt=this,St=[],Et=[];for(let Ct=0,Tt=lt.length;Ct<Tt;Ct++){const Rt=lt[Ct];At(Rt)}this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Et,2)),this.computeVertexNormals();function At(Ct){const Tt=[],Rt=dt.curveSegments!==void 0?dt.curveSegments:12,Bt=dt.steps!==void 0?dt.steps:1,Dt=dt.depth!==void 0?dt.depth:1;let Ft=dt.bevelEnabled!==void 0?dt.bevelEnabled:!0,kt=dt.bevelThickness!==void 0?dt.bevelThickness:.2,Ut=dt.bevelSize!==void 0?dt.bevelSize:kt-.1,Kt=dt.bevelOffset!==void 0?dt.bevelOffset:0,tr=dt.bevelSegments!==void 0?dt.bevelSegments:3;const Wt=dt.extrudePath,Zt=dt.UVGenerator!==void 0?dt.UVGenerator:WorldUVGenerator;let Ht,nr=!1,sr,ar,ir,rr;Wt&&(Ht=Wt.getSpacedPoints(Bt),nr=!0,Ft=!1,sr=Wt.computeFrenetFrames(Bt,!1),ar=new Vector3,ir=new Vector3,rr=new Vector3),Ft||(tr=0,kt=0,Ut=0,Kt=0);const lr=Ct.extractPoints(Rt);let ur=lr.shape;const dr=lr.holes;if(!ShapeUtils.isClockWise(ur)){ur=ur.reverse();for(let Br=0,zr=dr.length;Br<zr;Br++){const qr=dr[Br];ShapeUtils.isClockWise(qr)&&(dr[Br]=qr.reverse())}}const Cr=ShapeUtils.triangulateShape(ur,dr),yr=ur;for(let Br=0,zr=dr.length;Br<zr;Br++){const qr=dr[Br];ur=ur.concat(qr)}function xr(Br,zr,qr){return zr||console.error("THREE.ExtrudeGeometry: vec does not exist"),zr.clone().multiplyScalar(qr).add(Br)}const Sr=ur.length,br=Cr.length;function cr(Br,zr,qr){let en,cn,Rn;const Qr=Br.x-zr.x,yn=Br.y-zr.y,Pn=qr.x-Br.x,pn=qr.y-Br.y,Fr=Qr*Qr+yn*yn,Rr=Qr*pn-yn*Pn;if(Math.abs(Rr)>Number.EPSILON){const Yr=Math.sqrt(Fr),fn=Math.sqrt(Pn*Pn+pn*pn),Cn=zr.x-yn/Yr,An=zr.y+Qr/Yr,Dn=qr.x-pn/fn,In=qr.y+Pn/fn,mn=((Dn-Cn)*pn-(In-An)*Pn)/(Qr*pn-yn*Pn);en=Cn+Qr*mn-Br.x,cn=An+yn*mn-Br.y;const Nn=en*en+cn*cn;if(Nn<=2)return new Vector2(en,cn);Rn=Math.sqrt(Nn/2)}else{let Yr=!1;Qr>Number.EPSILON?Pn>Number.EPSILON&&(Yr=!0):Qr<-Number.EPSILON?Pn<-Number.EPSILON&&(Yr=!0):Math.sign(yn)===Math.sign(pn)&&(Yr=!0),Yr?(en=-yn,cn=Qr,Rn=Math.sqrt(Fr)):(en=Qr,cn=yn,Rn=Math.sqrt(Fr/2))}return new Vector2(en/Rn,cn/Rn)}const pr=[];for(let Br=0,zr=yr.length,qr=zr-1,en=Br+1;Br<zr;Br++,qr++,en++)qr===zr&&(qr=0),en===zr&&(en=0),pr[Br]=cr(yr[Br],yr[qr],yr[en]);const Er=[];let _r,Ar=pr.concat();for(let Br=0,zr=dr.length;Br<zr;Br++){const qr=dr[Br];_r=[];for(let en=0,cn=qr.length,Rn=cn-1,Qr=en+1;en<cn;en++,Rn++,Qr++)Rn===cn&&(Rn=0),Qr===cn&&(Qr=0),_r[en]=cr(qr[en],qr[Rn],qr[Qr]);Er.push(_r),Ar=Ar.concat(_r)}for(let Br=0;Br<tr;Br++){const zr=Br/tr,qr=kt*Math.cos(zr*Math.PI/2),en=Ut*Math.sin(zr*Math.PI/2)+Kt;for(let cn=0,Rn=yr.length;cn<Rn;cn++){const Qr=xr(yr[cn],pr[cn],en);Jr(Qr.x,Qr.y,-qr)}for(let cn=0,Rn=dr.length;cn<Rn;cn++){const Qr=dr[cn];_r=Er[cn];for(let yn=0,Pn=Qr.length;yn<Pn;yn++){const pn=xr(Qr[yn],_r[yn],en);Jr(pn.x,pn.y,-qr)}}}const Pr=Ut+Kt;for(let Br=0;Br<Sr;Br++){const zr=Ft?xr(ur[Br],Ar[Br],Pr):ur[Br];nr?(ir.copy(sr.normals[0]).multiplyScalar(zr.x),ar.copy(sr.binormals[0]).multiplyScalar(zr.y),rr.copy(Ht[0]).add(ir).add(ar),Jr(rr.x,rr.y,rr.z)):Jr(zr.x,zr.y,0)}for(let Br=1;Br<=Bt;Br++)for(let zr=0;zr<Sr;zr++){const qr=Ft?xr(ur[zr],Ar[zr],Pr):ur[zr];nr?(ir.copy(sr.normals[Br]).multiplyScalar(qr.x),ar.copy(sr.binormals[Br]).multiplyScalar(qr.y),rr.copy(Ht[Br]).add(ir).add(ar),Jr(rr.x,rr.y,rr.z)):Jr(qr.x,qr.y,Dt/Bt*Br)}for(let Br=tr-1;Br>=0;Br--){const zr=Br/tr,qr=kt*Math.cos(zr*Math.PI/2),en=Ut*Math.sin(zr*Math.PI/2)+Kt;for(let cn=0,Rn=yr.length;cn<Rn;cn++){const Qr=xr(yr[cn],pr[cn],en);Jr(Qr.x,Qr.y,Dt+qr)}for(let cn=0,Rn=dr.length;cn<Rn;cn++){const Qr=dr[cn];_r=Er[cn];for(let yn=0,Pn=Qr.length;yn<Pn;yn++){const pn=xr(Qr[yn],_r[yn],en);nr?Jr(pn.x,pn.y+Ht[Bt-1].y,Ht[Bt-1].x+qr):Jr(pn.x,pn.y,Dt+qr)}}}Ir(),kr();function Ir(){const Br=St.length/3;if(Ft){let zr=0,qr=Sr*zr;for(let en=0;en<br;en++){const cn=Cr[en];Or(cn[2]+qr,cn[1]+qr,cn[0]+qr)}zr=Bt+tr*2,qr=Sr*zr;for(let en=0;en<br;en++){const cn=Cr[en];Or(cn[0]+qr,cn[1]+qr,cn[2]+qr)}}else{for(let zr=0;zr<br;zr++){const qr=Cr[zr];Or(qr[2],qr[1],qr[0])}for(let zr=0;zr<br;zr++){const qr=Cr[zr];Or(qr[0]+Sr*Bt,qr[1]+Sr*Bt,qr[2]+Sr*Bt)}}vt.addGroup(Br,St.length/3-Br,0)}function kr(){const Br=St.length/3;let zr=0;Dr(yr,zr),zr+=yr.length;for(let qr=0,en=dr.length;qr<en;qr++){const cn=dr[qr];Dr(cn,zr),zr+=cn.length}vt.addGroup(Br,St.length/3-Br,1)}function Dr(Br,zr){let qr=Br.length;for(;--qr>=0;){const en=qr;let cn=qr-1;cn<0&&(cn=Br.length-1);for(let Rn=0,Qr=Bt+tr*2;Rn<Qr;Rn++){const yn=Sr*Rn,Pn=Sr*(Rn+1),pn=zr+en+yn,Fr=zr+cn+yn,Rr=zr+cn+Pn,Yr=zr+en+Pn;jr(pn,Fr,Rr,Yr)}}}function Jr(Br,zr,qr){Tt.push(Br),Tt.push(zr),Tt.push(qr)}function Or(Br,zr,qr){Nr(Br),Nr(zr),Nr(qr);const en=St.length/3,cn=Zt.generateTopUV(vt,St,en-3,en-2,en-1);Vr(cn[0]),Vr(cn[1]),Vr(cn[2])}function jr(Br,zr,qr,en){Nr(Br),Nr(zr),Nr(en),Nr(zr),Nr(qr),Nr(en);const cn=St.length/3,Rn=Zt.generateSideWallUV(vt,St,cn-6,cn-3,cn-2,cn-1);Vr(Rn[0]),Vr(Rn[1]),Vr(Rn[3]),Vr(Rn[1]),Vr(Rn[2]),Vr(Rn[3])}function Nr(Br){St.push(Tt[Br*3+0]),St.push(Tt[Br*3+1]),St.push(Tt[Br*3+2])}function Vr(Br){Et.push(Br.x),Et.push(Br.y)}}}toJSON(){const lt=super.toJSON(),dt=this.parameters.shapes,vt=this.parameters.options;return toJSON$1(dt,vt,lt)}static fromJSON(lt,dt){const vt=[];for(let Et=0,At=lt.shapes.length;Et<At;Et++){const Ct=dt[lt.shapes[Et]];vt.push(Ct)}const St=lt.options.extrudePath;return St!==void 0&&(lt.options.extrudePath=new Curves[St.type]().fromJSON(St)),new ExtrudeGeometry(vt,lt.options)}}const WorldUVGenerator={generateTopUV:function(ft,lt,dt,vt,St){const Et=lt[dt*3],At=lt[dt*3+1],Ct=lt[vt*3],Tt=lt[vt*3+1],Rt=lt[St*3],Bt=lt[St*3+1];return[new Vector2(Et,At),new Vector2(Ct,Tt),new Vector2(Rt,Bt)]},generateSideWallUV:function(ft,lt,dt,vt,St,Et){const At=lt[dt*3],Ct=lt[dt*3+1],Tt=lt[dt*3+2],Rt=lt[vt*3],Bt=lt[vt*3+1],Dt=lt[vt*3+2],Ft=lt[St*3],kt=lt[St*3+1],Ut=lt[St*3+2],Kt=lt[Et*3],tr=lt[Et*3+1],Wt=lt[Et*3+2];return Math.abs(Ct-Bt)<Math.abs(At-Rt)?[new Vector2(At,1-Tt),new Vector2(Rt,1-Dt),new Vector2(Ft,1-Ut),new Vector2(Kt,1-Wt)]:[new Vector2(Ct,1-Tt),new Vector2(Bt,1-Dt),new Vector2(kt,1-Ut),new Vector2(tr,1-Wt)]}};function toJSON$1(ft,lt,dt){if(dt.shapes=[],Array.isArray(ft))for(let vt=0,St=ft.length;vt<St;vt++){const Et=ft[vt];dt.shapes.push(Et.uuid)}else dt.shapes.push(ft.uuid);return dt.options=Object.assign({},lt),lt.extrudePath!==void 0&&(dt.options.extrudePath=lt.extrudePath.toJSON()),dt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(lt=1,dt=0){const vt=(1+Math.sqrt(5))/2,St=[-1,vt,0,1,vt,0,-1,-vt,0,1,-vt,0,0,-1,vt,0,1,vt,0,-1,-vt,0,1,-vt,vt,0,-1,vt,0,1,-vt,0,-1,-vt,0,1],Et=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(St,Et,lt,dt),this.type="IcosahedronGeometry",this.parameters={radius:lt,detail:dt}}static fromJSON(lt){return new IcosahedronGeometry(lt.radius,lt.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(lt=1,dt=0){const vt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],St=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(vt,St,lt,dt),this.type="OctahedronGeometry",this.parameters={radius:lt,detail:dt}}static fromJSON(lt){return new OctahedronGeometry(lt.radius,lt.detail)}}class RingGeometry extends BufferGeometry{constructor(lt=.5,dt=1,vt=32,St=1,Et=0,At=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:lt,outerRadius:dt,thetaSegments:vt,phiSegments:St,thetaStart:Et,thetaLength:At},vt=Math.max(3,vt),St=Math.max(1,St);const Ct=[],Tt=[],Rt=[],Bt=[];let Dt=lt;const Ft=(dt-lt)/St,kt=new Vector3,Ut=new Vector2;for(let Kt=0;Kt<=St;Kt++){for(let tr=0;tr<=vt;tr++){const Wt=Et+tr/vt*At;kt.x=Dt*Math.cos(Wt),kt.y=Dt*Math.sin(Wt),Tt.push(kt.x,kt.y,kt.z),Rt.push(0,0,1),Ut.x=(kt.x/dt+1)/2,Ut.y=(kt.y/dt+1)/2,Bt.push(Ut.x,Ut.y)}Dt+=Ft}for(let Kt=0;Kt<St;Kt++){const tr=Kt*(vt+1);for(let Wt=0;Wt<vt;Wt++){const Zt=Wt+tr,Ht=Zt,nr=Zt+vt+1,sr=Zt+vt+2,ar=Zt+1;Ct.push(Ht,nr,ar),Ct.push(nr,sr,ar)}}this.setIndex(Ct),this.setAttribute("position",new Float32BufferAttribute(Tt,3)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3)),this.setAttribute("uv",new Float32BufferAttribute(Bt,2))}static fromJSON(lt){return new RingGeometry(lt.innerRadius,lt.outerRadius,lt.thetaSegments,lt.phiSegments,lt.thetaStart,lt.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(lt=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),dt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:lt,curveSegments:dt};const vt=[],St=[],Et=[],At=[];let Ct=0,Tt=0;if(Array.isArray(lt)===!1)Rt(lt);else for(let Bt=0;Bt<lt.length;Bt++)Rt(lt[Bt]),this.addGroup(Ct,Tt,Bt),Ct+=Tt,Tt=0;this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("normal",new Float32BufferAttribute(Et,3)),this.setAttribute("uv",new Float32BufferAttribute(At,2));function Rt(Bt){const Dt=St.length/3,Ft=Bt.extractPoints(dt);let kt=Ft.shape;const Ut=Ft.holes;ShapeUtils.isClockWise(kt)===!1&&(kt=kt.reverse());for(let tr=0,Wt=Ut.length;tr<Wt;tr++){const Zt=Ut[tr];ShapeUtils.isClockWise(Zt)===!0&&(Ut[tr]=Zt.reverse())}const Kt=ShapeUtils.triangulateShape(kt,Ut);for(let tr=0,Wt=Ut.length;tr<Wt;tr++){const Zt=Ut[tr];kt=kt.concat(Zt)}for(let tr=0,Wt=kt.length;tr<Wt;tr++){const Zt=kt[tr];St.push(Zt.x,Zt.y,0),Et.push(0,0,1),At.push(Zt.x,Zt.y)}for(let tr=0,Wt=Kt.length;tr<Wt;tr++){const Zt=Kt[tr],Ht=Zt[0]+Dt,nr=Zt[1]+Dt,sr=Zt[2]+Dt;vt.push(Ht,nr,sr),Tt+=3}}}toJSON(){const lt=super.toJSON(),dt=this.parameters.shapes;return toJSON(dt,lt)}static fromJSON(lt,dt){const vt=[];for(let St=0,Et=lt.shapes.length;St<Et;St++){const At=dt[lt.shapes[St]];vt.push(At)}return new ShapeGeometry(vt,lt.curveSegments)}}function toJSON(ft,lt){if(lt.shapes=[],Array.isArray(ft))for(let dt=0,vt=ft.length;dt<vt;dt++){const St=ft[dt];lt.shapes.push(St.uuid)}else lt.shapes.push(ft.uuid);return lt}class SphereGeometry extends BufferGeometry{constructor(lt=1,dt=32,vt=16,St=0,Et=Math.PI*2,At=0,Ct=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:lt,widthSegments:dt,heightSegments:vt,phiStart:St,phiLength:Et,thetaStart:At,thetaLength:Ct},dt=Math.max(3,Math.floor(dt)),vt=Math.max(2,Math.floor(vt));const Tt=Math.min(At+Ct,Math.PI);let Rt=0;const Bt=[],Dt=new Vector3,Ft=new Vector3,kt=[],Ut=[],Kt=[],tr=[];for(let Wt=0;Wt<=vt;Wt++){const Zt=[],Ht=Wt/vt;let nr=0;Wt==0&&At==0?nr=.5/dt:Wt==vt&&Tt==Math.PI&&(nr=-.5/dt);for(let sr=0;sr<=dt;sr++){const ar=sr/dt;Dt.x=-lt*Math.cos(St+ar*Et)*Math.sin(At+Ht*Ct),Dt.y=lt*Math.cos(At+Ht*Ct),Dt.z=lt*Math.sin(St+ar*Et)*Math.sin(At+Ht*Ct),Ut.push(Dt.x,Dt.y,Dt.z),Ft.copy(Dt).normalize(),Kt.push(Ft.x,Ft.y,Ft.z),tr.push(ar+nr,1-Ht),Zt.push(Rt++)}Bt.push(Zt)}for(let Wt=0;Wt<vt;Wt++)for(let Zt=0;Zt<dt;Zt++){const Ht=Bt[Wt][Zt+1],nr=Bt[Wt][Zt],sr=Bt[Wt+1][Zt],ar=Bt[Wt+1][Zt+1];(Wt!==0||At>0)&&kt.push(Ht,nr,ar),(Wt!==vt-1||Tt<Math.PI)&&kt.push(nr,sr,ar)}this.setIndex(kt),this.setAttribute("position",new Float32BufferAttribute(Ut,3)),this.setAttribute("normal",new Float32BufferAttribute(Kt,3)),this.setAttribute("uv",new Float32BufferAttribute(tr,2))}static fromJSON(lt){return new SphereGeometry(lt.radius,lt.widthSegments,lt.heightSegments,lt.phiStart,lt.phiLength,lt.thetaStart,lt.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(lt=1,dt=0){const vt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],St=[2,1,0,0,3,2,1,3,0,2,3,1];super(vt,St,lt,dt),this.type="TetrahedronGeometry",this.parameters={radius:lt,detail:dt}}static fromJSON(lt){return new TetrahedronGeometry(lt.radius,lt.detail)}}class TorusGeometry extends BufferGeometry{constructor(lt=1,dt=.4,vt=12,St=48,Et=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:lt,tube:dt,radialSegments:vt,tubularSegments:St,arc:Et},vt=Math.floor(vt),St=Math.floor(St);const At=[],Ct=[],Tt=[],Rt=[],Bt=new Vector3,Dt=new Vector3,Ft=new Vector3;for(let kt=0;kt<=vt;kt++)for(let Ut=0;Ut<=St;Ut++){const Kt=Ut/St*Et,tr=kt/vt*Math.PI*2;Dt.x=(lt+dt*Math.cos(tr))*Math.cos(Kt),Dt.y=(lt+dt*Math.cos(tr))*Math.sin(Kt),Dt.z=dt*Math.sin(tr),Ct.push(Dt.x,Dt.y,Dt.z),Bt.x=lt*Math.cos(Kt),Bt.y=lt*Math.sin(Kt),Ft.subVectors(Dt,Bt).normalize(),Tt.push(Ft.x,Ft.y,Ft.z),Rt.push(Ut/St),Rt.push(kt/vt)}for(let kt=1;kt<=vt;kt++)for(let Ut=1;Ut<=St;Ut++){const Kt=(St+1)*kt+Ut-1,tr=(St+1)*(kt-1)+Ut-1,Wt=(St+1)*(kt-1)+Ut,Zt=(St+1)*kt+Ut;At.push(Kt,tr,Zt),At.push(tr,Wt,Zt)}this.setIndex(At),this.setAttribute("position",new Float32BufferAttribute(Ct,3)),this.setAttribute("normal",new Float32BufferAttribute(Tt,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2))}static fromJSON(lt){return new TorusGeometry(lt.radius,lt.tube,lt.radialSegments,lt.tubularSegments,lt.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(lt=1,dt=.4,vt=64,St=8,Et=2,At=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:lt,tube:dt,tubularSegments:vt,radialSegments:St,p:Et,q:At},vt=Math.floor(vt),St=Math.floor(St);const Ct=[],Tt=[],Rt=[],Bt=[],Dt=new Vector3,Ft=new Vector3,kt=new Vector3,Ut=new Vector3,Kt=new Vector3,tr=new Vector3,Wt=new Vector3;for(let Ht=0;Ht<=vt;++Ht){const nr=Ht/vt*Et*Math.PI*2;Zt(nr,Et,At,lt,kt),Zt(nr+.01,Et,At,lt,Ut),tr.subVectors(Ut,kt),Wt.addVectors(Ut,kt),Kt.crossVectors(tr,Wt),Wt.crossVectors(Kt,tr),Kt.normalize(),Wt.normalize();for(let sr=0;sr<=St;++sr){const ar=sr/St*Math.PI*2,ir=-dt*Math.cos(ar),rr=dt*Math.sin(ar);Dt.x=kt.x+(ir*Wt.x+rr*Kt.x),Dt.y=kt.y+(ir*Wt.y+rr*Kt.y),Dt.z=kt.z+(ir*Wt.z+rr*Kt.z),Tt.push(Dt.x,Dt.y,Dt.z),Ft.subVectors(Dt,kt).normalize(),Rt.push(Ft.x,Ft.y,Ft.z),Bt.push(Ht/vt),Bt.push(sr/St)}}for(let Ht=1;Ht<=vt;Ht++)for(let nr=1;nr<=St;nr++){const sr=(St+1)*(Ht-1)+(nr-1),ar=(St+1)*Ht+(nr-1),ir=(St+1)*Ht+nr,rr=(St+1)*(Ht-1)+nr;Ct.push(sr,ar,rr),Ct.push(ar,ir,rr)}this.setIndex(Ct),this.setAttribute("position",new Float32BufferAttribute(Tt,3)),this.setAttribute("normal",new Float32BufferAttribute(Rt,3)),this.setAttribute("uv",new Float32BufferAttribute(Bt,2));function Zt(Ht,nr,sr,ar,ir){const rr=Math.cos(Ht),lr=Math.sin(Ht),ur=sr/nr*Ht,dr=Math.cos(ur);ir.x=ar*(2+dr)*.5*rr,ir.y=ar*(2+dr)*lr*.5,ir.z=ar*Math.sin(ur)*.5}}static fromJSON(lt){return new TorusKnotGeometry(lt.radius,lt.tube,lt.tubularSegments,lt.radialSegments,lt.p,lt.q)}}class TubeGeometry extends BufferGeometry{constructor(lt=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),dt=64,vt=1,St=8,Et=!1){super(),this.type="TubeGeometry",this.parameters={path:lt,tubularSegments:dt,radius:vt,radialSegments:St,closed:Et};const At=lt.computeFrenetFrames(dt,Et);this.tangents=At.tangents,this.normals=At.normals,this.binormals=At.binormals;const Ct=new Vector3,Tt=new Vector3,Rt=new Vector2;let Bt=new Vector3;const Dt=[],Ft=[],kt=[],Ut=[];Kt(),this.setIndex(Ut),this.setAttribute("position",new Float32BufferAttribute(Dt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ft,3)),this.setAttribute("uv",new Float32BufferAttribute(kt,2));function Kt(){for(let Ht=0;Ht<dt;Ht++)tr(Ht);tr(Et===!1?dt:0),Zt(),Wt()}function tr(Ht){Bt=lt.getPointAt(Ht/dt,Bt);const nr=At.normals[Ht],sr=At.binormals[Ht];for(let ar=0;ar<=St;ar++){const ir=ar/St*Math.PI*2,rr=Math.sin(ir),lr=-Math.cos(ir);Tt.x=lr*nr.x+rr*sr.x,Tt.y=lr*nr.y+rr*sr.y,Tt.z=lr*nr.z+rr*sr.z,Tt.normalize(),Ft.push(Tt.x,Tt.y,Tt.z),Ct.x=Bt.x+vt*Tt.x,Ct.y=Bt.y+vt*Tt.y,Ct.z=Bt.z+vt*Tt.z,Dt.push(Ct.x,Ct.y,Ct.z)}}function Wt(){for(let Ht=1;Ht<=dt;Ht++)for(let nr=1;nr<=St;nr++){const sr=(St+1)*(Ht-1)+(nr-1),ar=(St+1)*Ht+(nr-1),ir=(St+1)*Ht+nr,rr=(St+1)*(Ht-1)+nr;Ut.push(sr,ar,rr),Ut.push(ar,ir,rr)}}function Zt(){for(let Ht=0;Ht<=dt;Ht++)for(let nr=0;nr<=St;nr++)Rt.x=Ht/dt,Rt.y=nr/St,kt.push(Rt.x,Rt.y)}}toJSON(){const lt=super.toJSON();return lt.path=this.parameters.path.toJSON(),lt}static fromJSON(lt){return new TubeGeometry(new Curves[lt.path.type]().fromJSON(lt.path),lt.tubularSegments,lt.radius,lt.radialSegments,lt.closed)}}class WireframeGeometry extends BufferGeometry{constructor(lt=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:lt},lt!==null){const dt=[],vt=new Set,St=new Vector3,Et=new Vector3;if(lt.index!==null){const At=lt.attributes.position,Ct=lt.index;let Tt=lt.groups;Tt.length===0&&(Tt=[{start:0,count:Ct.count,materialIndex:0}]);for(let Rt=0,Bt=Tt.length;Rt<Bt;++Rt){const Dt=Tt[Rt],Ft=Dt.start,kt=Dt.count;for(let Ut=Ft,Kt=Ft+kt;Ut<Kt;Ut+=3)for(let tr=0;tr<3;tr++){const Wt=Ct.getX(Ut+tr),Zt=Ct.getX(Ut+(tr+1)%3);St.fromBufferAttribute(At,Wt),Et.fromBufferAttribute(At,Zt),isUniqueEdge(St,Et,vt)===!0&&(dt.push(St.x,St.y,St.z),dt.push(Et.x,Et.y,Et.z))}}}else{const At=lt.attributes.position;for(let Ct=0,Tt=At.count/3;Ct<Tt;Ct++)for(let Rt=0;Rt<3;Rt++){const Bt=3*Ct+Rt,Dt=3*Ct+(Rt+1)%3;St.fromBufferAttribute(At,Bt),Et.fromBufferAttribute(At,Dt),isUniqueEdge(St,Et,vt)===!0&&(dt.push(St.x,St.y,St.z),dt.push(Et.x,Et.y,Et.z))}}this.setAttribute("position",new Float32BufferAttribute(dt,3))}}}function isUniqueEdge(ft,lt,dt){const vt=`${ft.x},${ft.y},${ft.z}-${lt.x},${lt.y},${lt.z}`,St=`${lt.x},${lt.y},${lt.z}-${ft.x},${ft.y},${ft.z}`;return dt.has(vt)===!0||dt.has(St)===!0?!1:(dt.add(vt),dt.add(St),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(lt){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.fog=lt.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(lt){super(lt),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(lt){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.defines={STANDARD:""},this.color.copy(lt.color),this.roughness=lt.roughness,this.metalness=lt.metalness,this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.roughnessMap=lt.roughnessMap,this.metalnessMap=lt.metalnessMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.envMapIntensity=lt.envMapIntensity,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(lt){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(dt){this.ior=(1+.4*dt)/(1-.4*dt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(lt)}get sheen(){return this._sheen}set sheen(lt){this._sheen>0!=lt>0&&this.version++,this._sheen=lt}get clearcoat(){return this._clearcoat}set clearcoat(lt){this._clearcoat>0!=lt>0&&this.version++,this._clearcoat=lt}get iridescence(){return this._iridescence}set iridescence(lt){this._iridescence>0!=lt>0&&this.version++,this._iridescence=lt}get transmission(){return this._transmission}set transmission(lt){this._transmission>0!=lt>0&&this.version++,this._transmission=lt}copy(lt){return super.copy(lt),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=lt.clearcoat,this.clearcoatMap=lt.clearcoatMap,this.clearcoatRoughness=lt.clearcoatRoughness,this.clearcoatRoughnessMap=lt.clearcoatRoughnessMap,this.clearcoatNormalMap=lt.clearcoatNormalMap,this.clearcoatNormalScale.copy(lt.clearcoatNormalScale),this.ior=lt.ior,this.iridescence=lt.iridescence,this.iridescenceMap=lt.iridescenceMap,this.iridescenceIOR=lt.iridescenceIOR,this.iridescenceThicknessRange=[...lt.iridescenceThicknessRange],this.iridescenceThicknessMap=lt.iridescenceThicknessMap,this.sheen=lt.sheen,this.sheenColor.copy(lt.sheenColor),this.sheenColorMap=lt.sheenColorMap,this.sheenRoughness=lt.sheenRoughness,this.sheenRoughnessMap=lt.sheenRoughnessMap,this.transmission=lt.transmission,this.transmissionMap=lt.transmissionMap,this.thickness=lt.thickness,this.thicknessMap=lt.thicknessMap,this.attenuationDistance=lt.attenuationDistance,this.attenuationColor.copy(lt.attenuationColor),this.specularIntensity=lt.specularIntensity,this.specularIntensityMap=lt.specularIntensityMap,this.specularColor.copy(lt.specularColor),this.specularColorMap=lt.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(lt){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.specular.copy(lt.specular),this.shininess=lt.shininess,this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshToonMaterial extends Material{constructor(lt){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.gradientMap=lt.gradientMap,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.alphaMap=lt.alphaMap,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.fog=lt.fog,this}}class MeshNormalMaterial extends Material{constructor(lt){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(lt)}copy(lt){return super.copy(lt),this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.flatShading=lt.flatShading,this}}class MeshLambertMaterial extends Material{constructor(lt){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshMatcapMaterial extends Material{constructor(lt){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.defines={MATCAP:""},this.color.copy(lt.color),this.matcap=lt.matcap,this.map=lt.map,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.alphaMap=lt.alphaMap,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(lt){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(lt)}copy(lt){return super.copy(lt),this.scale=lt.scale,this.dashSize=lt.dashSize,this.gapSize=lt.gapSize,this}}function arraySlice(ft,lt,dt){return isTypedArray(ft)?new ft.constructor(ft.subarray(lt,dt!==void 0?dt:ft.length)):ft.slice(lt,dt)}function convertArray(ft,lt,dt){return!ft||!dt&&ft.constructor===lt?ft:typeof lt.BYTES_PER_ELEMENT=="number"?new lt(ft):Array.prototype.slice.call(ft)}function isTypedArray(ft){return ArrayBuffer.isView(ft)&&!(ft instanceof DataView)}function getKeyframeOrder(ft){function lt(St,Et){return ft[St]-ft[Et]}const dt=ft.length,vt=new Array(dt);for(let St=0;St!==dt;++St)vt[St]=St;return vt.sort(lt),vt}function sortedArray(ft,lt,dt){const vt=ft.length,St=new ft.constructor(vt);for(let Et=0,At=0;At!==vt;++Et){const Ct=dt[Et]*lt;for(let Tt=0;Tt!==lt;++Tt)St[At++]=ft[Ct+Tt]}return St}function flattenJSON(ft,lt,dt,vt){let St=1,Et=ft[0];for(;Et!==void 0&&Et[vt]===void 0;)Et=ft[St++];if(Et===void 0)return;let At=Et[vt];if(At!==void 0)if(Array.isArray(At))do At=Et[vt],At!==void 0&&(lt.push(Et.time),dt.push.apply(dt,At)),Et=ft[St++];while(Et!==void 0);else if(At.toArray!==void 0)do At=Et[vt],At!==void 0&&(lt.push(Et.time),At.toArray(dt,dt.length)),Et=ft[St++];while(Et!==void 0);else do At=Et[vt],At!==void 0&&(lt.push(Et.time),dt.push(At)),Et=ft[St++];while(Et!==void 0)}function subclip(ft,lt,dt,vt,St=30){const Et=ft.clone();Et.name=lt;const At=[];for(let Tt=0;Tt<Et.tracks.length;++Tt){const Rt=Et.tracks[Tt],Bt=Rt.getValueSize(),Dt=[],Ft=[];for(let kt=0;kt<Rt.times.length;++kt){const Ut=Rt.times[kt]*St;if(!(Ut<dt||Ut>=vt)){Dt.push(Rt.times[kt]);for(let Kt=0;Kt<Bt;++Kt)Ft.push(Rt.values[kt*Bt+Kt])}}Dt.length!==0&&(Rt.times=convertArray(Dt,Rt.times.constructor),Rt.values=convertArray(Ft,Rt.values.constructor),At.push(Rt))}Et.tracks=At;let Ct=1/0;for(let Tt=0;Tt<Et.tracks.length;++Tt)Ct>Et.tracks[Tt].times[0]&&(Ct=Et.tracks[Tt].times[0]);for(let Tt=0;Tt<Et.tracks.length;++Tt)Et.tracks[Tt].shift(-1*Ct);return Et.resetDuration(),Et}function makeClipAdditive(ft,lt=0,dt=ft,vt=30){vt<=0&&(vt=30);const St=dt.tracks.length,Et=lt/vt;for(let At=0;At<St;++At){const Ct=dt.tracks[At],Tt=Ct.ValueTypeName;if(Tt==="bool"||Tt==="string")continue;const Rt=ft.tracks.find(function(Wt){return Wt.name===Ct.name&&Wt.ValueTypeName===Tt});if(Rt===void 0)continue;let Bt=0;const Dt=Ct.getValueSize();Ct.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Bt=Dt/3);let Ft=0;const kt=Rt.getValueSize();Rt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Ft=kt/3);const Ut=Ct.times.length-1;let Kt;if(Et<=Ct.times[0]){const Wt=Bt,Zt=Dt-Bt;Kt=arraySlice(Ct.values,Wt,Zt)}else if(Et>=Ct.times[Ut]){const Wt=Ut*Dt+Bt,Zt=Wt+Dt-Bt;Kt=arraySlice(Ct.values,Wt,Zt)}else{const Wt=Ct.createInterpolant(),Zt=Bt,Ht=Dt-Bt;Wt.evaluate(Et),Kt=arraySlice(Wt.resultBuffer,Zt,Ht)}Tt==="quaternion"&&new Quaternion().fromArray(Kt).normalize().conjugate().toArray(Kt);const tr=Rt.times.length;for(let Wt=0;Wt<tr;++Wt){const Zt=Wt*kt+Ft;if(Tt==="quaternion")Quaternion.multiplyQuaternionsFlat(Rt.values,Zt,Kt,0,Rt.values,Zt);else{const Ht=kt-Ft*2;for(let nr=0;nr<Ht;++nr)Rt.values[Zt+nr]-=Kt[nr]}}}return ft.blendMode=AdditiveAnimationBlendMode,ft}var AnimationUtils=Object.freeze({__proto__:null,arraySlice,convertArray,flattenJSON,getKeyframeOrder,isTypedArray,makeClipAdditive,sortedArray,subclip});class Interpolant{constructor(lt,dt,vt,St){this.parameterPositions=lt,this._cachedIndex=0,this.resultBuffer=St!==void 0?St:new dt.constructor(vt),this.sampleValues=dt,this.valueSize=vt,this.settings=null,this.DefaultSettings_={}}evaluate(lt){const dt=this.parameterPositions;let vt=this._cachedIndex,St=dt[vt],Et=dt[vt-1];e:{t:{let At;r:{n:if(!(lt<St)){for(let Ct=vt+2;;){if(St===void 0){if(lt<Et)break n;return vt=dt.length,this._cachedIndex=vt,this.copySampleValue_(vt-1)}if(vt===Ct)break;if(Et=St,St=dt[++vt],lt<St)break t}At=dt.length;break r}if(!(lt>=Et)){const Ct=dt[1];lt<Ct&&(vt=2,Et=Ct);for(let Tt=vt-2;;){if(Et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(vt===Tt)break;if(St=Et,Et=dt[--vt-1],lt>=Et)break t}At=vt,vt=0;break r}break e}for(;vt<At;){const Ct=vt+At>>>1;lt<dt[Ct]?At=Ct:vt=Ct+1}if(St=dt[vt],Et=dt[vt-1],Et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(St===void 0)return vt=dt.length,this._cachedIndex=vt,this.copySampleValue_(vt-1)}this._cachedIndex=vt,this.intervalChanged_(vt,Et,St)}return this.interpolate_(vt,Et,lt,St)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(lt){const dt=this.resultBuffer,vt=this.sampleValues,St=this.valueSize,Et=lt*St;for(let At=0;At!==St;++At)dt[At]=vt[Et+At];return dt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(lt,dt,vt,St){super(lt,dt,vt,St),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(lt,dt,vt){const St=this.parameterPositions;let Et=lt-2,At=lt+1,Ct=St[Et],Tt=St[At];if(Ct===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:Et=lt,Ct=2*dt-vt;break;case WrapAroundEnding:Et=St.length-2,Ct=dt+St[Et]-St[Et+1];break;default:Et=lt,Ct=vt}if(Tt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:At=lt,Tt=2*vt-dt;break;case WrapAroundEnding:At=1,Tt=vt+St[1]-St[0];break;default:At=lt-1,Tt=dt}const Rt=(vt-dt)*.5,Bt=this.valueSize;this._weightPrev=Rt/(dt-Ct),this._weightNext=Rt/(Tt-vt),this._offsetPrev=Et*Bt,this._offsetNext=At*Bt}interpolate_(lt,dt,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=lt*Ct,Rt=Tt-Ct,Bt=this._offsetPrev,Dt=this._offsetNext,Ft=this._weightPrev,kt=this._weightNext,Ut=(vt-dt)/(St-dt),Kt=Ut*Ut,tr=Kt*Ut,Wt=-Ft*tr+2*Ft*Kt-Ft*Ut,Zt=(1+Ft)*tr+(-1.5-2*Ft)*Kt+(-.5+Ft)*Ut+1,Ht=(-1-kt)*tr+(1.5+kt)*Kt+.5*Ut,nr=kt*tr-kt*Kt;for(let sr=0;sr!==Ct;++sr)Et[sr]=Wt*At[Bt+sr]+Zt*At[Rt+sr]+Ht*At[Tt+sr]+nr*At[Dt+sr];return Et}}class LinearInterpolant extends Interpolant{constructor(lt,dt,vt,St){super(lt,dt,vt,St)}interpolate_(lt,dt,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=lt*Ct,Rt=Tt-Ct,Bt=(vt-dt)/(St-dt),Dt=1-Bt;for(let Ft=0;Ft!==Ct;++Ft)Et[Ft]=At[Rt+Ft]*Dt+At[Tt+Ft]*Bt;return Et}}class DiscreteInterpolant extends Interpolant{constructor(lt,dt,vt,St){super(lt,dt,vt,St)}interpolate_(lt){return this.copySampleValue_(lt-1)}}class KeyframeTrack{constructor(lt,dt,vt,St){if(lt===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(dt===void 0||dt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+lt);this.name=lt,this.times=convertArray(dt,this.TimeBufferType),this.values=convertArray(vt,this.ValueBufferType),this.setInterpolation(St||this.DefaultInterpolation)}static toJSON(lt){const dt=lt.constructor;let vt;if(dt.toJSON!==this.toJSON)vt=dt.toJSON(lt);else{vt={name:lt.name,times:convertArray(lt.times,Array),values:convertArray(lt.values,Array)};const St=lt.getInterpolation();St!==lt.DefaultInterpolation&&(vt.interpolation=St)}return vt.type=lt.ValueTypeName,vt}InterpolantFactoryMethodDiscrete(lt){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),lt)}InterpolantFactoryMethodLinear(lt){return new LinearInterpolant(this.times,this.values,this.getValueSize(),lt)}InterpolantFactoryMethodSmooth(lt){return new CubicInterpolant(this.times,this.values,this.getValueSize(),lt)}setInterpolation(lt){let dt;switch(lt){case InterpolateDiscrete:dt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:dt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:dt=this.InterpolantFactoryMethodSmooth;break}if(dt===void 0){const vt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(lt!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(vt);return console.warn("THREE.KeyframeTrack:",vt),this}return this.createInterpolant=dt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(lt){if(lt!==0){const dt=this.times;for(let vt=0,St=dt.length;vt!==St;++vt)dt[vt]+=lt}return this}scale(lt){if(lt!==1){const dt=this.times;for(let vt=0,St=dt.length;vt!==St;++vt)dt[vt]*=lt}return this}trim(lt,dt){const vt=this.times,St=vt.length;let Et=0,At=St-1;for(;Et!==St&&vt[Et]<lt;)++Et;for(;At!==-1&&vt[At]>dt;)--At;if(++At,Et!==0||At!==St){Et>=At&&(At=Math.max(At,1),Et=At-1);const Ct=this.getValueSize();this.times=arraySlice(vt,Et,At),this.values=arraySlice(this.values,Et*Ct,At*Ct)}return this}validate(){let lt=!0;const dt=this.getValueSize();dt-Math.floor(dt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),lt=!1);const vt=this.times,St=this.values,Et=vt.length;Et===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),lt=!1);let At=null;for(let Ct=0;Ct!==Et;Ct++){const Tt=vt[Ct];if(typeof Tt=="number"&&isNaN(Tt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,Ct,Tt),lt=!1;break}if(At!==null&&At>Tt){console.error("THREE.KeyframeTrack: Out of order keys.",this,Ct,Tt,At),lt=!1;break}At=Tt}if(St!==void 0&&isTypedArray(St))for(let Ct=0,Tt=St.length;Ct!==Tt;++Ct){const Rt=St[Ct];if(isNaN(Rt)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,Ct,Rt),lt=!1;break}}return lt}optimize(){const lt=arraySlice(this.times),dt=arraySlice(this.values),vt=this.getValueSize(),St=this.getInterpolation()===InterpolateSmooth,Et=lt.length-1;let At=1;for(let Ct=1;Ct<Et;++Ct){let Tt=!1;const Rt=lt[Ct],Bt=lt[Ct+1];if(Rt!==Bt&&(Ct!==1||Rt!==lt[0]))if(St)Tt=!0;else{const Dt=Ct*vt,Ft=Dt-vt,kt=Dt+vt;for(let Ut=0;Ut!==vt;++Ut){const Kt=dt[Dt+Ut];if(Kt!==dt[Ft+Ut]||Kt!==dt[kt+Ut]){Tt=!0;break}}}if(Tt){if(Ct!==At){lt[At]=lt[Ct];const Dt=Ct*vt,Ft=At*vt;for(let kt=0;kt!==vt;++kt)dt[Ft+kt]=dt[Dt+kt]}++At}}if(Et>0){lt[At]=lt[Et];for(let Ct=Et*vt,Tt=At*vt,Rt=0;Rt!==vt;++Rt)dt[Tt+Rt]=dt[Ct+Rt];++At}return At!==lt.length?(this.times=arraySlice(lt,0,At),this.values=arraySlice(dt,0,At*vt)):(this.times=lt,this.values=dt),this}clone(){const lt=arraySlice(this.times,0),dt=arraySlice(this.values,0),vt=this.constructor,St=new vt(this.name,lt,dt);return St.createInterpolant=this.createInterpolant,St}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(lt,dt,vt,St){super(lt,dt,vt,St)}interpolate_(lt,dt,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=(vt-dt)/(St-dt);let Rt=lt*Ct;for(let Bt=Rt+Ct;Rt!==Bt;Rt+=4)Quaternion.slerpFlat(Et,0,At,Rt-Ct,At,Rt,Tt);return Et}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(lt){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),lt)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(lt,dt=-1,vt,St=NormalAnimationBlendMode){this.name=lt,this.tracks=vt,this.duration=dt,this.blendMode=St,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(lt){const dt=[],vt=lt.tracks,St=1/(lt.fps||1);for(let At=0,Ct=vt.length;At!==Ct;++At)dt.push(parseKeyframeTrack(vt[At]).scale(St));const Et=new this(lt.name,lt.duration,dt,lt.blendMode);return Et.uuid=lt.uuid,Et}static toJSON(lt){const dt=[],vt=lt.tracks,St={name:lt.name,duration:lt.duration,tracks:dt,uuid:lt.uuid,blendMode:lt.blendMode};for(let Et=0,At=vt.length;Et!==At;++Et)dt.push(KeyframeTrack.toJSON(vt[Et]));return St}static CreateFromMorphTargetSequence(lt,dt,vt,St){const Et=dt.length,At=[];for(let Ct=0;Ct<Et;Ct++){let Tt=[],Rt=[];Tt.push((Ct+Et-1)%Et,Ct,(Ct+1)%Et),Rt.push(0,1,0);const Bt=getKeyframeOrder(Tt);Tt=sortedArray(Tt,1,Bt),Rt=sortedArray(Rt,1,Bt),!St&&Tt[0]===0&&(Tt.push(Et),Rt.push(Rt[0])),At.push(new NumberKeyframeTrack(".morphTargetInfluences["+dt[Ct].name+"]",Tt,Rt).scale(1/vt))}return new this(lt,-1,At)}static findByName(lt,dt){let vt=lt;if(!Array.isArray(lt)){const St=lt;vt=St.geometry&&St.geometry.animations||St.animations}for(let St=0;St<vt.length;St++)if(vt[St].name===dt)return vt[St];return null}static CreateClipsFromMorphTargetSequences(lt,dt,vt){const St={},Et=/^([\w-]*?)([\d]+)$/;for(let Ct=0,Tt=lt.length;Ct<Tt;Ct++){const Rt=lt[Ct],Bt=Rt.name.match(Et);if(Bt&&Bt.length>1){const Dt=Bt[1];let Ft=St[Dt];Ft||(St[Dt]=Ft=[]),Ft.push(Rt)}}const At=[];for(const Ct in St)At.push(this.CreateFromMorphTargetSequence(Ct,St[Ct],dt,vt));return At}static parseAnimation(lt,dt){if(!lt)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const vt=function(Dt,Ft,kt,Ut,Kt){if(kt.length!==0){const tr=[],Wt=[];flattenJSON(kt,tr,Wt,Ut),tr.length!==0&&Kt.push(new Dt(Ft,tr,Wt))}},St=[],Et=lt.name||"default",At=lt.fps||30,Ct=lt.blendMode;let Tt=lt.length||-1;const Rt=lt.hierarchy||[];for(let Dt=0;Dt<Rt.length;Dt++){const Ft=Rt[Dt].keys;if(!(!Ft||Ft.length===0))if(Ft[0].morphTargets){const kt={};let Ut;for(Ut=0;Ut<Ft.length;Ut++)if(Ft[Ut].morphTargets)for(let Kt=0;Kt<Ft[Ut].morphTargets.length;Kt++)kt[Ft[Ut].morphTargets[Kt]]=-1;for(const Kt in kt){const tr=[],Wt=[];for(let Zt=0;Zt!==Ft[Ut].morphTargets.length;++Zt){const Ht=Ft[Ut];tr.push(Ht.time),Wt.push(Ht.morphTarget===Kt?1:0)}St.push(new NumberKeyframeTrack(".morphTargetInfluence["+Kt+"]",tr,Wt))}Tt=kt.length*At}else{const kt=".bones["+dt[Dt].name+"]";vt(VectorKeyframeTrack,kt+".position",Ft,"pos",St),vt(QuaternionKeyframeTrack,kt+".quaternion",Ft,"rot",St),vt(VectorKeyframeTrack,kt+".scale",Ft,"scl",St)}}return St.length===0?null:new this(Et,Tt,St,Ct)}resetDuration(){const lt=this.tracks;let dt=0;for(let vt=0,St=lt.length;vt!==St;++vt){const Et=this.tracks[vt];dt=Math.max(dt,Et.times[Et.times.length-1])}return this.duration=dt,this}trim(){for(let lt=0;lt<this.tracks.length;lt++)this.tracks[lt].trim(0,this.duration);return this}validate(){let lt=!0;for(let dt=0;dt<this.tracks.length;dt++)lt=lt&&this.tracks[dt].validate();return lt}optimize(){for(let lt=0;lt<this.tracks.length;lt++)this.tracks[lt].optimize();return this}clone(){const lt=[];for(let dt=0;dt<this.tracks.length;dt++)lt.push(this.tracks[dt].clone());return new this.constructor(this.name,this.duration,lt,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(ft){switch(ft.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+ft)}function parseKeyframeTrack(ft){if(ft.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const lt=getTrackTypeForValueTypeName(ft.type);if(ft.times===void 0){const dt=[],vt=[];flattenJSON(ft.keys,dt,vt,"value"),ft.times=dt,ft.values=vt}return lt.parse!==void 0?lt.parse(ft):new lt(ft.name,ft.times,ft.values,ft.interpolation)}const Cache={enabled:!1,files:{},add:function(ft,lt){this.enabled!==!1&&(this.files[ft]=lt)},get:function(ft){if(this.enabled!==!1)return this.files[ft]},remove:function(ft){delete this.files[ft]},clear:function(){this.files={}}};class LoadingManager{constructor(lt,dt,vt){const St=this;let Et=!1,At=0,Ct=0,Tt;const Rt=[];this.onStart=void 0,this.onLoad=lt,this.onProgress=dt,this.onError=vt,this.itemStart=function(Bt){Ct++,Et===!1&&St.onStart!==void 0&&St.onStart(Bt,At,Ct),Et=!0},this.itemEnd=function(Bt){At++,St.onProgress!==void 0&&St.onProgress(Bt,At,Ct),At===Ct&&(Et=!1,St.onLoad!==void 0&&St.onLoad())},this.itemError=function(Bt){St.onError!==void 0&&St.onError(Bt)},this.resolveURL=function(Bt){return Tt?Tt(Bt):Bt},this.setURLModifier=function(Bt){return Tt=Bt,this},this.addHandler=function(Bt,Dt){return Rt.push(Bt,Dt),this},this.removeHandler=function(Bt){const Dt=Rt.indexOf(Bt);return Dt!==-1&&Rt.splice(Dt,2),this},this.getHandler=function(Bt){for(let Dt=0,Ft=Rt.length;Dt<Ft;Dt+=2){const kt=Rt[Dt],Ut=Rt[Dt+1];if(kt.global&&(kt.lastIndex=0),kt.test(Bt))return Ut}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(lt){this.manager=lt!==void 0?lt:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(lt,dt){const vt=this;return new Promise(function(St,Et){vt.load(lt,St,dt,Et)})}parse(){}setCrossOrigin(lt){return this.crossOrigin=lt,this}setWithCredentials(lt){return this.withCredentials=lt,this}setPath(lt){return this.path=lt,this}setResourcePath(lt){return this.resourcePath=lt,this}setRequestHeader(lt){return this.requestHeader=lt,this}}const loading={};class HttpError extends Error{constructor(lt,dt){super(lt),this.response=dt}}class FileLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){lt===void 0&&(lt=""),this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const Et=Cache.get(lt);if(Et!==void 0)return this.manager.itemStart(lt),setTimeout(()=>{dt&&dt(Et),this.manager.itemEnd(lt)},0),Et;if(loading[lt]!==void 0){loading[lt].push({onLoad:dt,onProgress:vt,onError:St});return}loading[lt]=[],loading[lt].push({onLoad:dt,onProgress:vt,onError:St});const At=new Request(lt,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),Ct=this.mimeType,Tt=this.responseType;fetch(At).then(Rt=>{if(Rt.status===200||Rt.status===0){if(Rt.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||Rt.body===void 0||Rt.body.getReader===void 0)return Rt;const Bt=loading[lt],Dt=Rt.body.getReader(),Ft=Rt.headers.get("Content-Length")||Rt.headers.get("X-File-Size"),kt=Ft?parseInt(Ft):0,Ut=kt!==0;let Kt=0;const tr=new ReadableStream({start(Wt){Zt();function Zt(){Dt.read().then(({done:Ht,value:nr})=>{if(Ht)Wt.close();else{Kt+=nr.byteLength;const sr=new ProgressEvent("progress",{lengthComputable:Ut,loaded:Kt,total:kt});for(let ar=0,ir=Bt.length;ar<ir;ar++){const rr=Bt[ar];rr.onProgress&&rr.onProgress(sr)}Wt.enqueue(nr),Zt()}})}}});return new Response(tr)}else throw new HttpError(`fetch for "${Rt.url}" responded with ${Rt.status}: ${Rt.statusText}`,Rt)}).then(Rt=>{switch(Tt){case"arraybuffer":return Rt.arrayBuffer();case"blob":return Rt.blob();case"document":return Rt.text().then(Bt=>new DOMParser().parseFromString(Bt,Ct));case"json":return Rt.json();default:if(Ct===void 0)return Rt.text();{const Dt=/charset="?([^;"\s]*)"?/i.exec(Ct),Ft=Dt&&Dt[1]?Dt[1].toLowerCase():void 0,kt=new TextDecoder(Ft);return Rt.arrayBuffer().then(Ut=>kt.decode(Ut))}}}).then(Rt=>{Cache.add(lt,Rt);const Bt=loading[lt];delete loading[lt];for(let Dt=0,Ft=Bt.length;Dt<Ft;Dt++){const kt=Bt[Dt];kt.onLoad&&kt.onLoad(Rt)}}).catch(Rt=>{const Bt=loading[lt];if(Bt===void 0)throw this.manager.itemError(lt),Rt;delete loading[lt];for(let Dt=0,Ft=Bt.length;Dt<Ft;Dt++){const kt=Bt[Dt];kt.onError&&kt.onError(Rt)}this.manager.itemError(lt)}).finally(()=>{this.manager.itemEnd(lt)}),this.manager.itemStart(lt)}setResponseType(lt){return this.responseType=lt,this}setMimeType(lt){return this.mimeType=lt,this}}class AnimationLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=this,At=new FileLoader(this.manager);At.setPath(this.path),At.setRequestHeader(this.requestHeader),At.setWithCredentials(this.withCredentials),At.load(lt,function(Ct){try{dt(Et.parse(JSON.parse(Ct)))}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}parse(lt){const dt=[];for(let vt=0;vt<lt.length;vt++){const St=AnimationClip.parse(lt[vt]);dt.push(St)}return dt}}class CompressedTextureLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=this,At=[],Ct=new CompressedTexture,Tt=new FileLoader(this.manager);Tt.setPath(this.path),Tt.setResponseType("arraybuffer"),Tt.setRequestHeader(this.requestHeader),Tt.setWithCredentials(Et.withCredentials);let Rt=0;function Bt(Dt){Tt.load(lt[Dt],function(Ft){const kt=Et.parse(Ft,!0);At[Dt]={width:kt.width,height:kt.height,format:kt.format,mipmaps:kt.mipmaps},Rt+=1,Rt===6&&(kt.mipmapCount===1&&(Ct.minFilter=LinearFilter),Ct.image=At,Ct.format=kt.format,Ct.needsUpdate=!0,dt&&dt(Ct))},vt,St)}if(Array.isArray(lt))for(let Dt=0,Ft=lt.length;Dt<Ft;++Dt)Bt(Dt);else Tt.load(lt,function(Dt){const Ft=Et.parse(Dt,!0);if(Ft.isCubemap){const kt=Ft.mipmaps.length/Ft.mipmapCount;for(let Ut=0;Ut<kt;Ut++){At[Ut]={mipmaps:[]};for(let Kt=0;Kt<Ft.mipmapCount;Kt++)At[Ut].mipmaps.push(Ft.mipmaps[Ut*Ft.mipmapCount+Kt]),At[Ut].format=Ft.format,At[Ut].width=Ft.width,At[Ut].height=Ft.height}Ct.image=At}else Ct.image.width=Ft.width,Ct.image.height=Ft.height,Ct.mipmaps=Ft.mipmaps;Ft.mipmapCount===1&&(Ct.minFilter=LinearFilter),Ct.format=Ft.format,Ct.needsUpdate=!0,dt&&dt(Ct)},vt,St);return Ct}}class ImageLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const Et=this,At=Cache.get(lt);if(At!==void 0)return Et.manager.itemStart(lt),setTimeout(function(){dt&&dt(At),Et.manager.itemEnd(lt)},0),At;const Ct=createElementNS("img");function Tt(){Bt(),Cache.add(lt,this),dt&&dt(this),Et.manager.itemEnd(lt)}function Rt(Dt){Bt(),St&&St(Dt),Et.manager.itemError(lt),Et.manager.itemEnd(lt)}function Bt(){Ct.removeEventListener("load",Tt,!1),Ct.removeEventListener("error",Rt,!1)}return Ct.addEventListener("load",Tt,!1),Ct.addEventListener("error",Rt,!1),lt.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(Ct.crossOrigin=this.crossOrigin),Et.manager.itemStart(lt),Ct.src=lt,Ct}}class CubeTextureLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=new CubeTexture,At=new ImageLoader(this.manager);At.setCrossOrigin(this.crossOrigin),At.setPath(this.path);let Ct=0;function Tt(Rt){At.load(lt[Rt],function(Bt){Et.images[Rt]=Bt,Ct++,Ct===6&&(Et.needsUpdate=!0,dt&&dt(Et))},void 0,St)}for(let Rt=0;Rt<lt.length;++Rt)Tt(Rt);return Et}}class DataTextureLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=this,At=new DataTexture,Ct=new FileLoader(this.manager);return Ct.setResponseType("arraybuffer"),Ct.setRequestHeader(this.requestHeader),Ct.setPath(this.path),Ct.setWithCredentials(Et.withCredentials),Ct.load(lt,function(Tt){const Rt=Et.parse(Tt);Rt&&(Rt.image!==void 0?At.image=Rt.image:Rt.data!==void 0&&(At.image.width=Rt.width,At.image.height=Rt.height,At.image.data=Rt.data),At.wrapS=Rt.wrapS!==void 0?Rt.wrapS:ClampToEdgeWrapping,At.wrapT=Rt.wrapT!==void 0?Rt.wrapT:ClampToEdgeWrapping,At.magFilter=Rt.magFilter!==void 0?Rt.magFilter:LinearFilter,At.minFilter=Rt.minFilter!==void 0?Rt.minFilter:LinearFilter,At.anisotropy=Rt.anisotropy!==void 0?Rt.anisotropy:1,Rt.encoding!==void 0&&(At.encoding=Rt.encoding),Rt.flipY!==void 0&&(At.flipY=Rt.flipY),Rt.format!==void 0&&(At.format=Rt.format),Rt.type!==void 0&&(At.type=Rt.type),Rt.mipmaps!==void 0&&(At.mipmaps=Rt.mipmaps,At.minFilter=LinearMipmapLinearFilter),Rt.mipmapCount===1&&(At.minFilter=LinearFilter),Rt.generateMipmaps!==void 0&&(At.generateMipmaps=Rt.generateMipmaps),At.needsUpdate=!0,dt&&dt(At,Rt))},vt,St),At}}class TextureLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=new Texture,At=new ImageLoader(this.manager);return At.setCrossOrigin(this.crossOrigin),At.setPath(this.path),At.load(lt,function(Ct){Et.image=Ct,Et.needsUpdate=!0,dt!==void 0&&dt(Et)},vt,St),Et}}class Light extends Object3D{constructor(lt,dt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(lt),this.intensity=dt}dispose(){}copy(lt,dt){return super.copy(lt,dt),this.color.copy(lt.color),this.intensity=lt.intensity,this}toJSON(lt){const dt=super.toJSON(lt);return dt.object.color=this.color.getHex(),dt.object.intensity=this.intensity,this.groundColor!==void 0&&(dt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(dt.object.distance=this.distance),this.angle!==void 0&&(dt.object.angle=this.angle),this.decay!==void 0&&(dt.object.decay=this.decay),this.penumbra!==void 0&&(dt.object.penumbra=this.penumbra),this.shadow!==void 0&&(dt.object.shadow=this.shadow.toJSON()),dt}}class HemisphereLight extends Light{constructor(lt,dt,vt){super(lt,vt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(dt)}copy(lt,dt){return super.copy(lt,dt),this.groundColor.copy(lt.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(lt){this.camera=lt,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(lt){const dt=this.camera,vt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(lt.matrixWorld),dt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(lt.target.matrixWorld),dt.lookAt(_lookTarget$1),dt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(dt.projectionMatrix,dt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),vt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),vt.multiply(_projScreenMatrix$1)}getViewport(lt){return this._viewports[lt]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(lt){return this.camera=lt.camera.clone(),this.bias=lt.bias,this.radius=lt.radius,this.mapSize.copy(lt.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const lt={};return this.bias!==0&&(lt.bias=this.bias),this.normalBias!==0&&(lt.normalBias=this.normalBias),this.radius!==1&&(lt.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(lt.mapSize=this.mapSize.toArray()),lt.camera=this.camera.toJSON(!1).object,delete lt.camera.matrix,lt}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(lt){const dt=this.camera,vt=RAD2DEG*2*lt.angle*this.focus,St=this.mapSize.width/this.mapSize.height,Et=lt.distance||dt.far;(vt!==dt.fov||St!==dt.aspect||Et!==dt.far)&&(dt.fov=vt,dt.aspect=St,dt.far=Et,dt.updateProjectionMatrix()),super.updateMatrices(lt)}copy(lt){return super.copy(lt),this.focus=lt.focus,this}}class SpotLight extends Light{constructor(lt,dt,vt=0,St=Math.PI/3,Et=0,At=2){super(lt,dt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=vt,this.angle=St,this.penumbra=Et,this.decay=At,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(lt){this.intensity=lt/Math.PI}dispose(){this.shadow.dispose()}copy(lt,dt){return super.copy(lt,dt),this.distance=lt.distance,this.angle=lt.angle,this.penumbra=lt.penumbra,this.decay=lt.decay,this.target=lt.target.clone(),this.shadow=lt.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(lt,dt=0){const vt=this.camera,St=this.matrix,Et=lt.distance||vt.far;Et!==vt.far&&(vt.far=Et,vt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(lt.matrixWorld),vt.position.copy(_lightPositionWorld),_lookTarget.copy(vt.position),_lookTarget.add(this._cubeDirections[dt]),vt.up.copy(this._cubeUps[dt]),vt.lookAt(_lookTarget),vt.updateMatrixWorld(),St.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(vt.projectionMatrix,vt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(lt,dt,vt=0,St=2){super(lt,dt),this.isPointLight=!0,this.type="PointLight",this.distance=vt,this.decay=St,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(lt){this.intensity=lt/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(lt,dt){return super.copy(lt,dt),this.distance=lt.distance,this.decay=lt.decay,this.shadow=lt.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(lt,dt){super(lt,dt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(lt){return super.copy(lt),this.target=lt.target.clone(),this.shadow=lt.shadow.clone(),this}}class AmbientLight extends Light{constructor(lt,dt){super(lt,dt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(lt,dt,vt=10,St=10){super(lt,dt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=vt,this.height=St}get power(){return this.intensity*this.width*this.height*Math.PI}set power(lt){this.intensity=lt/(this.width*this.height*Math.PI)}copy(lt){return super.copy(lt),this.width=lt.width,this.height=lt.height,this}toJSON(lt){const dt=super.toJSON(lt);return dt.object.width=this.width,dt.object.height=this.height,dt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let lt=0;lt<9;lt++)this.coefficients.push(new Vector3)}set(lt){for(let dt=0;dt<9;dt++)this.coefficients[dt].copy(lt[dt]);return this}zero(){for(let lt=0;lt<9;lt++)this.coefficients[lt].set(0,0,0);return this}getAt(lt,dt){const vt=lt.x,St=lt.y,Et=lt.z,At=this.coefficients;return dt.copy(At[0]).multiplyScalar(.282095),dt.addScaledVector(At[1],.488603*St),dt.addScaledVector(At[2],.488603*Et),dt.addScaledVector(At[3],.488603*vt),dt.addScaledVector(At[4],1.092548*(vt*St)),dt.addScaledVector(At[5],1.092548*(St*Et)),dt.addScaledVector(At[6],.315392*(3*Et*Et-1)),dt.addScaledVector(At[7],1.092548*(vt*Et)),dt.addScaledVector(At[8],.546274*(vt*vt-St*St)),dt}getIrradianceAt(lt,dt){const vt=lt.x,St=lt.y,Et=lt.z,At=this.coefficients;return dt.copy(At[0]).multiplyScalar(.886227),dt.addScaledVector(At[1],2*.511664*St),dt.addScaledVector(At[2],2*.511664*Et),dt.addScaledVector(At[3],2*.511664*vt),dt.addScaledVector(At[4],2*.429043*vt*St),dt.addScaledVector(At[5],2*.429043*St*Et),dt.addScaledVector(At[6],.743125*Et*Et-.247708),dt.addScaledVector(At[7],2*.429043*vt*Et),dt.addScaledVector(At[8],.429043*(vt*vt-St*St)),dt}add(lt){for(let dt=0;dt<9;dt++)this.coefficients[dt].add(lt.coefficients[dt]);return this}addScaledSH(lt,dt){for(let vt=0;vt<9;vt++)this.coefficients[vt].addScaledVector(lt.coefficients[vt],dt);return this}scale(lt){for(let dt=0;dt<9;dt++)this.coefficients[dt].multiplyScalar(lt);return this}lerp(lt,dt){for(let vt=0;vt<9;vt++)this.coefficients[vt].lerp(lt.coefficients[vt],dt);return this}equals(lt){for(let dt=0;dt<9;dt++)if(!this.coefficients[dt].equals(lt.coefficients[dt]))return!1;return!0}copy(lt){return this.set(lt.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(lt,dt=0){const vt=this.coefficients;for(let St=0;St<9;St++)vt[St].fromArray(lt,dt+St*3);return this}toArray(lt=[],dt=0){const vt=this.coefficients;for(let St=0;St<9;St++)vt[St].toArray(lt,dt+St*3);return lt}static getBasisAt(lt,dt){const vt=lt.x,St=lt.y,Et=lt.z;dt[0]=.282095,dt[1]=.488603*St,dt[2]=.488603*Et,dt[3]=.488603*vt,dt[4]=1.092548*vt*St,dt[5]=1.092548*St*Et,dt[6]=.315392*(3*Et*Et-1),dt[7]=1.092548*vt*Et,dt[8]=.546274*(vt*vt-St*St)}}class LightProbe extends Light{constructor(lt=new SphericalHarmonics3,dt=1){super(void 0,dt),this.isLightProbe=!0,this.sh=lt}copy(lt){return super.copy(lt),this.sh.copy(lt.sh),this}fromJSON(lt){return this.intensity=lt.intensity,this.sh.fromArray(lt.sh),this}toJSON(lt){const dt=super.toJSON(lt);return dt.object.sh=this.sh.toArray(),dt}}class MaterialLoader extends Loader{constructor(lt){super(lt),this.textures={}}load(lt,dt,vt,St){const Et=this,At=new FileLoader(Et.manager);At.setPath(Et.path),At.setRequestHeader(Et.requestHeader),At.setWithCredentials(Et.withCredentials),At.load(lt,function(Ct){try{dt(Et.parse(JSON.parse(Ct)))}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}parse(lt){const dt=this.textures;function vt(Et){return dt[Et]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",Et),dt[Et]}const St=MaterialLoader.createMaterialFromType(lt.type);if(lt.uuid!==void 0&&(St.uuid=lt.uuid),lt.name!==void 0&&(St.name=lt.name),lt.color!==void 0&&St.color!==void 0&&St.color.setHex(lt.color),lt.roughness!==void 0&&(St.roughness=lt.roughness),lt.metalness!==void 0&&(St.metalness=lt.metalness),lt.sheen!==void 0&&(St.sheen=lt.sheen),lt.sheenColor!==void 0&&(St.sheenColor=new Color().setHex(lt.sheenColor)),lt.sheenRoughness!==void 0&&(St.sheenRoughness=lt.sheenRoughness),lt.emissive!==void 0&&St.emissive!==void 0&&St.emissive.setHex(lt.emissive),lt.specular!==void 0&&St.specular!==void 0&&St.specular.setHex(lt.specular),lt.specularIntensity!==void 0&&(St.specularIntensity=lt.specularIntensity),lt.specularColor!==void 0&&St.specularColor!==void 0&&St.specularColor.setHex(lt.specularColor),lt.shininess!==void 0&&(St.shininess=lt.shininess),lt.clearcoat!==void 0&&(St.clearcoat=lt.clearcoat),lt.clearcoatRoughness!==void 0&&(St.clearcoatRoughness=lt.clearcoatRoughness),lt.iridescence!==void 0&&(St.iridescence=lt.iridescence),lt.iridescenceIOR!==void 0&&(St.iridescenceIOR=lt.iridescenceIOR),lt.iridescenceThicknessRange!==void 0&&(St.iridescenceThicknessRange=lt.iridescenceThicknessRange),lt.transmission!==void 0&&(St.transmission=lt.transmission),lt.thickness!==void 0&&(St.thickness=lt.thickness),lt.attenuationDistance!==void 0&&(St.attenuationDistance=lt.attenuationDistance),lt.attenuationColor!==void 0&&St.attenuationColor!==void 0&&St.attenuationColor.setHex(lt.attenuationColor),lt.fog!==void 0&&(St.fog=lt.fog),lt.flatShading!==void 0&&(St.flatShading=lt.flatShading),lt.blending!==void 0&&(St.blending=lt.blending),lt.combine!==void 0&&(St.combine=lt.combine),lt.side!==void 0&&(St.side=lt.side),lt.shadowSide!==void 0&&(St.shadowSide=lt.shadowSide),lt.opacity!==void 0&&(St.opacity=lt.opacity),lt.transparent!==void 0&&(St.transparent=lt.transparent),lt.alphaTest!==void 0&&(St.alphaTest=lt.alphaTest),lt.depthTest!==void 0&&(St.depthTest=lt.depthTest),lt.depthWrite!==void 0&&(St.depthWrite=lt.depthWrite),lt.colorWrite!==void 0&&(St.colorWrite=lt.colorWrite),lt.stencilWrite!==void 0&&(St.stencilWrite=lt.stencilWrite),lt.stencilWriteMask!==void 0&&(St.stencilWriteMask=lt.stencilWriteMask),lt.stencilFunc!==void 0&&(St.stencilFunc=lt.stencilFunc),lt.stencilRef!==void 0&&(St.stencilRef=lt.stencilRef),lt.stencilFuncMask!==void 0&&(St.stencilFuncMask=lt.stencilFuncMask),lt.stencilFail!==void 0&&(St.stencilFail=lt.stencilFail),lt.stencilZFail!==void 0&&(St.stencilZFail=lt.stencilZFail),lt.stencilZPass!==void 0&&(St.stencilZPass=lt.stencilZPass),lt.wireframe!==void 0&&(St.wireframe=lt.wireframe),lt.wireframeLinewidth!==void 0&&(St.wireframeLinewidth=lt.wireframeLinewidth),lt.wireframeLinecap!==void 0&&(St.wireframeLinecap=lt.wireframeLinecap),lt.wireframeLinejoin!==void 0&&(St.wireframeLinejoin=lt.wireframeLinejoin),lt.rotation!==void 0&&(St.rotation=lt.rotation),lt.linewidth!==1&&(St.linewidth=lt.linewidth),lt.dashSize!==void 0&&(St.dashSize=lt.dashSize),lt.gapSize!==void 0&&(St.gapSize=lt.gapSize),lt.scale!==void 0&&(St.scale=lt.scale),lt.polygonOffset!==void 0&&(St.polygonOffset=lt.polygonOffset),lt.polygonOffsetFactor!==void 0&&(St.polygonOffsetFactor=lt.polygonOffsetFactor),lt.polygonOffsetUnits!==void 0&&(St.polygonOffsetUnits=lt.polygonOffsetUnits),lt.dithering!==void 0&&(St.dithering=lt.dithering),lt.alphaToCoverage!==void 0&&(St.alphaToCoverage=lt.alphaToCoverage),lt.premultipliedAlpha!==void 0&&(St.premultipliedAlpha=lt.premultipliedAlpha),lt.forceSinglePass!==void 0&&(St.forceSinglePass=lt.forceSinglePass),lt.visible!==void 0&&(St.visible=lt.visible),lt.toneMapped!==void 0&&(St.toneMapped=lt.toneMapped),lt.userData!==void 0&&(St.userData=lt.userData),lt.vertexColors!==void 0&&(typeof lt.vertexColors=="number"?St.vertexColors=lt.vertexColors>0:St.vertexColors=lt.vertexColors),lt.uniforms!==void 0)for(const Et in lt.uniforms){const At=lt.uniforms[Et];switch(St.uniforms[Et]={},At.type){case"t":St.uniforms[Et].value=vt(At.value);break;case"c":St.uniforms[Et].value=new Color().setHex(At.value);break;case"v2":St.uniforms[Et].value=new Vector2().fromArray(At.value);break;case"v3":St.uniforms[Et].value=new Vector3().fromArray(At.value);break;case"v4":St.uniforms[Et].value=new Vector4().fromArray(At.value);break;case"m3":St.uniforms[Et].value=new Matrix3().fromArray(At.value);break;case"m4":St.uniforms[Et].value=new Matrix4().fromArray(At.value);break;default:St.uniforms[Et].value=At.value}}if(lt.defines!==void 0&&(St.defines=lt.defines),lt.vertexShader!==void 0&&(St.vertexShader=lt.vertexShader),lt.fragmentShader!==void 0&&(St.fragmentShader=lt.fragmentShader),lt.glslVersion!==void 0&&(St.glslVersion=lt.glslVersion),lt.extensions!==void 0)for(const Et in lt.extensions)St.extensions[Et]=lt.extensions[Et];if(lt.size!==void 0&&(St.size=lt.size),lt.sizeAttenuation!==void 0&&(St.sizeAttenuation=lt.sizeAttenuation),lt.map!==void 0&&(St.map=vt(lt.map)),lt.matcap!==void 0&&(St.matcap=vt(lt.matcap)),lt.alphaMap!==void 0&&(St.alphaMap=vt(lt.alphaMap)),lt.bumpMap!==void 0&&(St.bumpMap=vt(lt.bumpMap)),lt.bumpScale!==void 0&&(St.bumpScale=lt.bumpScale),lt.normalMap!==void 0&&(St.normalMap=vt(lt.normalMap)),lt.normalMapType!==void 0&&(St.normalMapType=lt.normalMapType),lt.normalScale!==void 0){let Et=lt.normalScale;Array.isArray(Et)===!1&&(Et=[Et,Et]),St.normalScale=new Vector2().fromArray(Et)}return lt.displacementMap!==void 0&&(St.displacementMap=vt(lt.displacementMap)),lt.displacementScale!==void 0&&(St.displacementScale=lt.displacementScale),lt.displacementBias!==void 0&&(St.displacementBias=lt.displacementBias),lt.roughnessMap!==void 0&&(St.roughnessMap=vt(lt.roughnessMap)),lt.metalnessMap!==void 0&&(St.metalnessMap=vt(lt.metalnessMap)),lt.emissiveMap!==void 0&&(St.emissiveMap=vt(lt.emissiveMap)),lt.emissiveIntensity!==void 0&&(St.emissiveIntensity=lt.emissiveIntensity),lt.specularMap!==void 0&&(St.specularMap=vt(lt.specularMap)),lt.specularIntensityMap!==void 0&&(St.specularIntensityMap=vt(lt.specularIntensityMap)),lt.specularColorMap!==void 0&&(St.specularColorMap=vt(lt.specularColorMap)),lt.envMap!==void 0&&(St.envMap=vt(lt.envMap)),lt.envMapIntensity!==void 0&&(St.envMapIntensity=lt.envMapIntensity),lt.reflectivity!==void 0&&(St.reflectivity=lt.reflectivity),lt.refractionRatio!==void 0&&(St.refractionRatio=lt.refractionRatio),lt.lightMap!==void 0&&(St.lightMap=vt(lt.lightMap)),lt.lightMapIntensity!==void 0&&(St.lightMapIntensity=lt.lightMapIntensity),lt.aoMap!==void 0&&(St.aoMap=vt(lt.aoMap)),lt.aoMapIntensity!==void 0&&(St.aoMapIntensity=lt.aoMapIntensity),lt.gradientMap!==void 0&&(St.gradientMap=vt(lt.gradientMap)),lt.clearcoatMap!==void 0&&(St.clearcoatMap=vt(lt.clearcoatMap)),lt.clearcoatRoughnessMap!==void 0&&(St.clearcoatRoughnessMap=vt(lt.clearcoatRoughnessMap)),lt.clearcoatNormalMap!==void 0&&(St.clearcoatNormalMap=vt(lt.clearcoatNormalMap)),lt.clearcoatNormalScale!==void 0&&(St.clearcoatNormalScale=new Vector2().fromArray(lt.clearcoatNormalScale)),lt.iridescenceMap!==void 0&&(St.iridescenceMap=vt(lt.iridescenceMap)),lt.iridescenceThicknessMap!==void 0&&(St.iridescenceThicknessMap=vt(lt.iridescenceThicknessMap)),lt.transmissionMap!==void 0&&(St.transmissionMap=vt(lt.transmissionMap)),lt.thicknessMap!==void 0&&(St.thicknessMap=vt(lt.thicknessMap)),lt.sheenColorMap!==void 0&&(St.sheenColorMap=vt(lt.sheenColorMap)),lt.sheenRoughnessMap!==void 0&&(St.sheenRoughnessMap=vt(lt.sheenRoughnessMap)),St}setTextures(lt){return this.textures=lt,this}static createMaterialFromType(lt){const dt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new dt[lt]}}class LoaderUtils{static decodeText(lt){if(typeof TextDecoder<"u")return new TextDecoder().decode(lt);let dt="";for(let vt=0,St=lt.length;vt<St;vt++)dt+=String.fromCharCode(lt[vt]);try{return decodeURIComponent(escape(dt))}catch{return dt}}static extractUrlBase(lt){const dt=lt.lastIndexOf("/");return dt===-1?"./":lt.slice(0,dt+1)}static resolveURL(lt,dt){return typeof lt!="string"||lt===""?"":(/^https?:\/\//i.test(dt)&&/^\//.test(lt)&&(dt=dt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(lt)||/^data:.*,.*$/i.test(lt)||/^blob:.*$/i.test(lt)?lt:dt+lt)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(lt){return super.copy(lt),this.instanceCount=lt.instanceCount,this}toJSON(){const lt=super.toJSON();return lt.instanceCount=this.instanceCount,lt.isInstancedBufferGeometry=!0,lt}}class BufferGeometryLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=this,At=new FileLoader(Et.manager);At.setPath(Et.path),At.setRequestHeader(Et.requestHeader),At.setWithCredentials(Et.withCredentials),At.load(lt,function(Ct){try{dt(Et.parse(JSON.parse(Ct)))}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}parse(lt){const dt={},vt={};function St(kt,Ut){if(dt[Ut]!==void 0)return dt[Ut];const tr=kt.interleavedBuffers[Ut],Wt=Et(kt,tr.buffer),Zt=getTypedArray(tr.type,Wt),Ht=new InterleavedBuffer(Zt,tr.stride);return Ht.uuid=tr.uuid,dt[Ut]=Ht,Ht}function Et(kt,Ut){if(vt[Ut]!==void 0)return vt[Ut];const tr=kt.arrayBuffers[Ut],Wt=new Uint32Array(tr).buffer;return vt[Ut]=Wt,Wt}const At=lt.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,Ct=lt.data.index;if(Ct!==void 0){const kt=getTypedArray(Ct.type,Ct.array);At.setIndex(new BufferAttribute(kt,1))}const Tt=lt.data.attributes;for(const kt in Tt){const Ut=Tt[kt];let Kt;if(Ut.isInterleavedBufferAttribute){const tr=St(lt.data,Ut.data);Kt=new InterleavedBufferAttribute(tr,Ut.itemSize,Ut.offset,Ut.normalized)}else{const tr=getTypedArray(Ut.type,Ut.array),Wt=Ut.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;Kt=new Wt(tr,Ut.itemSize,Ut.normalized)}Ut.name!==void 0&&(Kt.name=Ut.name),Ut.usage!==void 0&&Kt.setUsage(Ut.usage),Ut.updateRange!==void 0&&(Kt.updateRange.offset=Ut.updateRange.offset,Kt.updateRange.count=Ut.updateRange.count),At.setAttribute(kt,Kt)}const Rt=lt.data.morphAttributes;if(Rt)for(const kt in Rt){const Ut=Rt[kt],Kt=[];for(let tr=0,Wt=Ut.length;tr<Wt;tr++){const Zt=Ut[tr];let Ht;if(Zt.isInterleavedBufferAttribute){const nr=St(lt.data,Zt.data);Ht=new InterleavedBufferAttribute(nr,Zt.itemSize,Zt.offset,Zt.normalized)}else{const nr=getTypedArray(Zt.type,Zt.array);Ht=new BufferAttribute(nr,Zt.itemSize,Zt.normalized)}Zt.name!==void 0&&(Ht.name=Zt.name),Kt.push(Ht)}At.morphAttributes[kt]=Kt}lt.data.morphTargetsRelative&&(At.morphTargetsRelative=!0);const Dt=lt.data.groups||lt.data.drawcalls||lt.data.offsets;if(Dt!==void 0)for(let kt=0,Ut=Dt.length;kt!==Ut;++kt){const Kt=Dt[kt];At.addGroup(Kt.start,Kt.count,Kt.materialIndex)}const Ft=lt.data.boundingSphere;if(Ft!==void 0){const kt=new Vector3;Ft.center!==void 0&&kt.fromArray(Ft.center),At.boundingSphere=new Sphere$1(kt,Ft.radius)}return lt.name&&(At.name=lt.name),lt.userData&&(At.userData=lt.userData),At}}class ObjectLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=this,At=this.path===""?LoaderUtils.extractUrlBase(lt):this.path;this.resourcePath=this.resourcePath||At;const Ct=new FileLoader(this.manager);Ct.setPath(this.path),Ct.setRequestHeader(this.requestHeader),Ct.setWithCredentials(this.withCredentials),Ct.load(lt,function(Tt){let Rt=null;try{Rt=JSON.parse(Tt)}catch(Dt){St!==void 0&&St(Dt),console.error("THREE:ObjectLoader: Can't parse "+lt+".",Dt.message);return}const Bt=Rt.metadata;if(Bt===void 0||Bt.type===void 0||Bt.type.toLowerCase()==="geometry"){St!==void 0&&St(new Error("THREE.ObjectLoader: Can't load "+lt)),console.error("THREE.ObjectLoader: Can't load "+lt);return}Et.parse(Rt,dt)},vt,St)}async loadAsync(lt,dt){const vt=this,St=this.path===""?LoaderUtils.extractUrlBase(lt):this.path;this.resourcePath=this.resourcePath||St;const Et=new FileLoader(this.manager);Et.setPath(this.path),Et.setRequestHeader(this.requestHeader),Et.setWithCredentials(this.withCredentials);const At=await Et.loadAsync(lt,dt),Ct=JSON.parse(At),Tt=Ct.metadata;if(Tt===void 0||Tt.type===void 0||Tt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+lt);return await vt.parseAsync(Ct)}parse(lt,dt){const vt=this.parseAnimations(lt.animations),St=this.parseShapes(lt.shapes),Et=this.parseGeometries(lt.geometries,St),At=this.parseImages(lt.images,function(){dt!==void 0&&dt(Rt)}),Ct=this.parseTextures(lt.textures,At),Tt=this.parseMaterials(lt.materials,Ct),Rt=this.parseObject(lt.object,Et,Tt,Ct,vt),Bt=this.parseSkeletons(lt.skeletons,Rt);if(this.bindSkeletons(Rt,Bt),dt!==void 0){let Dt=!1;for(const Ft in At)if(At[Ft].data instanceof HTMLImageElement){Dt=!0;break}Dt===!1&&dt(Rt)}return Rt}async parseAsync(lt){const dt=this.parseAnimations(lt.animations),vt=this.parseShapes(lt.shapes),St=this.parseGeometries(lt.geometries,vt),Et=await this.parseImagesAsync(lt.images),At=this.parseTextures(lt.textures,Et),Ct=this.parseMaterials(lt.materials,At),Tt=this.parseObject(lt.object,St,Ct,At,dt),Rt=this.parseSkeletons(lt.skeletons,Tt);return this.bindSkeletons(Tt,Rt),Tt}parseShapes(lt){const dt={};if(lt!==void 0)for(let vt=0,St=lt.length;vt<St;vt++){const Et=new Shape().fromJSON(lt[vt]);dt[Et.uuid]=Et}return dt}parseSkeletons(lt,dt){const vt={},St={};if(dt.traverse(function(Et){Et.isBone&&(St[Et.uuid]=Et)}),lt!==void 0)for(let Et=0,At=lt.length;Et<At;Et++){const Ct=new Skeleton().fromJSON(lt[Et],St);vt[Ct.uuid]=Ct}return vt}parseGeometries(lt,dt){const vt={};if(lt!==void 0){const St=new BufferGeometryLoader;for(let Et=0,At=lt.length;Et<At;Et++){let Ct;const Tt=lt[Et];switch(Tt.type){case"BufferGeometry":case"InstancedBufferGeometry":Ct=St.parse(Tt);break;default:Tt.type in Geometries?Ct=Geometries[Tt.type].fromJSON(Tt,dt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${Tt.type}"`)}Ct.uuid=Tt.uuid,Tt.name!==void 0&&(Ct.name=Tt.name),Ct.isBufferGeometry===!0&&Tt.userData!==void 0&&(Ct.userData=Tt.userData),vt[Tt.uuid]=Ct}}return vt}parseMaterials(lt,dt){const vt={},St={};if(lt!==void 0){const Et=new MaterialLoader;Et.setTextures(dt);for(let At=0,Ct=lt.length;At<Ct;At++){const Tt=lt[At];vt[Tt.uuid]===void 0&&(vt[Tt.uuid]=Et.parse(Tt)),St[Tt.uuid]=vt[Tt.uuid]}}return St}parseAnimations(lt){const dt={};if(lt!==void 0)for(let vt=0;vt<lt.length;vt++){const St=lt[vt],Et=AnimationClip.parse(St);dt[Et.uuid]=Et}return dt}parseImages(lt,dt){const vt=this,St={};let Et;function At(Tt){return vt.manager.itemStart(Tt),Et.load(Tt,function(){vt.manager.itemEnd(Tt)},void 0,function(){vt.manager.itemError(Tt),vt.manager.itemEnd(Tt)})}function Ct(Tt){if(typeof Tt=="string"){const Rt=Tt,Bt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Rt)?Rt:vt.resourcePath+Rt;return At(Bt)}else return Tt.data?{data:getTypedArray(Tt.type,Tt.data),width:Tt.width,height:Tt.height}:null}if(lt!==void 0&&lt.length>0){const Tt=new LoadingManager(dt);Et=new ImageLoader(Tt),Et.setCrossOrigin(this.crossOrigin);for(let Rt=0,Bt=lt.length;Rt<Bt;Rt++){const Dt=lt[Rt],Ft=Dt.url;if(Array.isArray(Ft)){const kt=[];for(let Ut=0,Kt=Ft.length;Ut<Kt;Ut++){const tr=Ft[Ut],Wt=Ct(tr);Wt!==null&&(Wt instanceof HTMLImageElement?kt.push(Wt):kt.push(new DataTexture(Wt.data,Wt.width,Wt.height)))}St[Dt.uuid]=new Source(kt)}else{const kt=Ct(Dt.url);St[Dt.uuid]=new Source(kt)}}}return St}async parseImagesAsync(lt){const dt=this,vt={};let St;async function Et(At){if(typeof At=="string"){const Ct=At,Tt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Ct)?Ct:dt.resourcePath+Ct;return await St.loadAsync(Tt)}else return At.data?{data:getTypedArray(At.type,At.data),width:At.width,height:At.height}:null}if(lt!==void 0&&lt.length>0){St=new ImageLoader(this.manager),St.setCrossOrigin(this.crossOrigin);for(let At=0,Ct=lt.length;At<Ct;At++){const Tt=lt[At],Rt=Tt.url;if(Array.isArray(Rt)){const Bt=[];for(let Dt=0,Ft=Rt.length;Dt<Ft;Dt++){const kt=Rt[Dt],Ut=await Et(kt);Ut!==null&&(Ut instanceof HTMLImageElement?Bt.push(Ut):Bt.push(new DataTexture(Ut.data,Ut.width,Ut.height)))}vt[Tt.uuid]=new Source(Bt)}else{const Bt=await Et(Tt.url);vt[Tt.uuid]=new Source(Bt)}}}return vt}parseTextures(lt,dt){function vt(Et,At){return typeof Et=="number"?Et:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",Et),At[Et])}const St={};if(lt!==void 0)for(let Et=0,At=lt.length;Et<At;Et++){const Ct=lt[Et];Ct.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',Ct.uuid),dt[Ct.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",Ct.image);const Tt=dt[Ct.image],Rt=Tt.data;let Bt;Array.isArray(Rt)?(Bt=new CubeTexture,Rt.length===6&&(Bt.needsUpdate=!0)):(Rt&&Rt.data?Bt=new DataTexture:Bt=new Texture,Rt&&(Bt.needsUpdate=!0)),Bt.source=Tt,Bt.uuid=Ct.uuid,Ct.name!==void 0&&(Bt.name=Ct.name),Ct.mapping!==void 0&&(Bt.mapping=vt(Ct.mapping,TEXTURE_MAPPING)),Ct.offset!==void 0&&Bt.offset.fromArray(Ct.offset),Ct.repeat!==void 0&&Bt.repeat.fromArray(Ct.repeat),Ct.center!==void 0&&Bt.center.fromArray(Ct.center),Ct.rotation!==void 0&&(Bt.rotation=Ct.rotation),Ct.wrap!==void 0&&(Bt.wrapS=vt(Ct.wrap[0],TEXTURE_WRAPPING),Bt.wrapT=vt(Ct.wrap[1],TEXTURE_WRAPPING)),Ct.format!==void 0&&(Bt.format=Ct.format),Ct.type!==void 0&&(Bt.type=Ct.type),Ct.encoding!==void 0&&(Bt.encoding=Ct.encoding),Ct.minFilter!==void 0&&(Bt.minFilter=vt(Ct.minFilter,TEXTURE_FILTER)),Ct.magFilter!==void 0&&(Bt.magFilter=vt(Ct.magFilter,TEXTURE_FILTER)),Ct.anisotropy!==void 0&&(Bt.anisotropy=Ct.anisotropy),Ct.flipY!==void 0&&(Bt.flipY=Ct.flipY),Ct.generateMipmaps!==void 0&&(Bt.generateMipmaps=Ct.generateMipmaps),Ct.premultiplyAlpha!==void 0&&(Bt.premultiplyAlpha=Ct.premultiplyAlpha),Ct.unpackAlignment!==void 0&&(Bt.unpackAlignment=Ct.unpackAlignment),Ct.userData!==void 0&&(Bt.userData=Ct.userData),St[Ct.uuid]=Bt}return St}parseObject(lt,dt,vt,St,Et){let At;function Ct(Ft){return dt[Ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Ft),dt[Ft]}function Tt(Ft){if(Ft!==void 0){if(Array.isArray(Ft)){const kt=[];for(let Ut=0,Kt=Ft.length;Ut<Kt;Ut++){const tr=Ft[Ut];vt[tr]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",tr),kt.push(vt[tr])}return kt}return vt[Ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ft),vt[Ft]}}function Rt(Ft){return St[Ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",Ft),St[Ft]}let Bt,Dt;switch(lt.type){case"Scene":At=new Scene$1,lt.background!==void 0&&(Number.isInteger(lt.background)?At.background=new Color(lt.background):At.background=Rt(lt.background)),lt.environment!==void 0&&(At.environment=Rt(lt.environment)),lt.fog!==void 0&&(lt.fog.type==="Fog"?At.fog=new Fog(lt.fog.color,lt.fog.near,lt.fog.far):lt.fog.type==="FogExp2"&&(At.fog=new FogExp2(lt.fog.color,lt.fog.density))),lt.backgroundBlurriness!==void 0&&(At.backgroundBlurriness=lt.backgroundBlurriness),lt.backgroundIntensity!==void 0&&(At.backgroundIntensity=lt.backgroundIntensity);break;case"PerspectiveCamera":At=new PerspectiveCamera$1(lt.fov,lt.aspect,lt.near,lt.far),lt.focus!==void 0&&(At.focus=lt.focus),lt.zoom!==void 0&&(At.zoom=lt.zoom),lt.filmGauge!==void 0&&(At.filmGauge=lt.filmGauge),lt.filmOffset!==void 0&&(At.filmOffset=lt.filmOffset),lt.view!==void 0&&(At.view=Object.assign({},lt.view));break;case"OrthographicCamera":At=new OrthographicCamera(lt.left,lt.right,lt.top,lt.bottom,lt.near,lt.far),lt.zoom!==void 0&&(At.zoom=lt.zoom),lt.view!==void 0&&(At.view=Object.assign({},lt.view));break;case"AmbientLight":At=new AmbientLight(lt.color,lt.intensity);break;case"DirectionalLight":At=new DirectionalLight(lt.color,lt.intensity);break;case"PointLight":At=new PointLight(lt.color,lt.intensity,lt.distance,lt.decay);break;case"RectAreaLight":At=new RectAreaLight(lt.color,lt.intensity,lt.width,lt.height);break;case"SpotLight":At=new SpotLight(lt.color,lt.intensity,lt.distance,lt.angle,lt.penumbra,lt.decay);break;case"HemisphereLight":At=new HemisphereLight(lt.color,lt.groundColor,lt.intensity);break;case"LightProbe":At=new LightProbe().fromJSON(lt);break;case"SkinnedMesh":Bt=Ct(lt.geometry),Dt=Tt(lt.material),At=new SkinnedMesh(Bt,Dt),lt.bindMode!==void 0&&(At.bindMode=lt.bindMode),lt.bindMatrix!==void 0&&At.bindMatrix.fromArray(lt.bindMatrix),lt.skeleton!==void 0&&(At.skeleton=lt.skeleton);break;case"Mesh":Bt=Ct(lt.geometry),Dt=Tt(lt.material),At=new Mesh(Bt,Dt);break;case"InstancedMesh":Bt=Ct(lt.geometry),Dt=Tt(lt.material);const Ft=lt.count,kt=lt.instanceMatrix,Ut=lt.instanceColor;At=new InstancedMesh(Bt,Dt,Ft),At.instanceMatrix=new InstancedBufferAttribute(new Float32Array(kt.array),16),Ut!==void 0&&(At.instanceColor=new InstancedBufferAttribute(new Float32Array(Ut.array),Ut.itemSize));break;case"LOD":At=new LOD;break;case"Line":At=new Line$1(Ct(lt.geometry),Tt(lt.material));break;case"LineLoop":At=new LineLoop(Ct(lt.geometry),Tt(lt.material));break;case"LineSegments":At=new LineSegments(Ct(lt.geometry),Tt(lt.material));break;case"PointCloud":case"Points":At=new Points(Ct(lt.geometry),Tt(lt.material));break;case"Sprite":At=new Sprite(Tt(lt.material));break;case"Group":At=new Group;break;case"Bone":At=new Bone;break;default:At=new Object3D}if(At.uuid=lt.uuid,lt.name!==void 0&&(At.name=lt.name),lt.matrix!==void 0?(At.matrix.fromArray(lt.matrix),lt.matrixAutoUpdate!==void 0&&(At.matrixAutoUpdate=lt.matrixAutoUpdate),At.matrixAutoUpdate&&At.matrix.decompose(At.position,At.quaternion,At.scale)):(lt.position!==void 0&&At.position.fromArray(lt.position),lt.rotation!==void 0&&At.rotation.fromArray(lt.rotation),lt.quaternion!==void 0&&At.quaternion.fromArray(lt.quaternion),lt.scale!==void 0&&At.scale.fromArray(lt.scale)),lt.castShadow!==void 0&&(At.castShadow=lt.castShadow),lt.receiveShadow!==void 0&&(At.receiveShadow=lt.receiveShadow),lt.shadow&&(lt.shadow.bias!==void 0&&(At.shadow.bias=lt.shadow.bias),lt.shadow.normalBias!==void 0&&(At.shadow.normalBias=lt.shadow.normalBias),lt.shadow.radius!==void 0&&(At.shadow.radius=lt.shadow.radius),lt.shadow.mapSize!==void 0&&At.shadow.mapSize.fromArray(lt.shadow.mapSize),lt.shadow.camera!==void 0&&(At.shadow.camera=this.parseObject(lt.shadow.camera))),lt.visible!==void 0&&(At.visible=lt.visible),lt.frustumCulled!==void 0&&(At.frustumCulled=lt.frustumCulled),lt.renderOrder!==void 0&&(At.renderOrder=lt.renderOrder),lt.userData!==void 0&&(At.userData=lt.userData),lt.layers!==void 0&&(At.layers.mask=lt.layers),lt.children!==void 0){const Ft=lt.children;for(let kt=0;kt<Ft.length;kt++)At.add(this.parseObject(Ft[kt],dt,vt,St,Et))}if(lt.animations!==void 0){const Ft=lt.animations;for(let kt=0;kt<Ft.length;kt++){const Ut=Ft[kt];At.animations.push(Et[Ut])}}if(lt.type==="LOD"){lt.autoUpdate!==void 0&&(At.autoUpdate=lt.autoUpdate);const Ft=lt.levels;for(let kt=0;kt<Ft.length;kt++){const Ut=Ft[kt],Kt=At.getObjectByProperty("uuid",Ut.object);Kt!==void 0&&At.addLevel(Kt,Ut.distance,Ut.hysteresis)}}return At}bindSkeletons(lt,dt){Object.keys(dt).length!==0&&lt.traverse(function(vt){if(vt.isSkinnedMesh===!0&&vt.skeleton!==void 0){const St=dt[vt.skeleton];St===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",vt.skeleton):vt.bind(St,vt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(lt){super(lt),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(lt){return this.options=lt,this}load(lt,dt,vt,St){lt===void 0&&(lt=""),this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const Et=this,At=Cache.get(lt);if(At!==void 0)return Et.manager.itemStart(lt),setTimeout(function(){dt&&dt(At),Et.manager.itemEnd(lt)},0),At;const Ct={};Ct.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",Ct.headers=this.requestHeader,fetch(lt,Ct).then(function(Tt){return Tt.blob()}).then(function(Tt){return createImageBitmap(Tt,Object.assign(Et.options,{colorSpaceConversion:"none"}))}).then(function(Tt){Cache.add(lt,Tt),dt&&dt(Tt),Et.manager.itemEnd(lt)}).catch(function(Tt){St&&St(Tt),Et.manager.itemError(lt),Et.manager.itemEnd(lt)}),Et.manager.itemStart(lt)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(lt){_context=lt}}class AudioLoader extends Loader{constructor(lt){super(lt)}load(lt,dt,vt,St){const Et=this,At=new FileLoader(this.manager);At.setResponseType("arraybuffer"),At.setPath(this.path),At.setRequestHeader(this.requestHeader),At.setWithCredentials(this.withCredentials),At.load(lt,function(Ct){try{const Tt=Ct.slice(0);AudioContext.getContext().decodeAudioData(Tt,function(Bt){dt(Bt)})}catch(Tt){St?St(Tt):console.error(Tt),Et.manager.itemError(lt)}},vt,St)}}class HemisphereLightProbe extends LightProbe{constructor(lt,dt,vt=1){super(void 0,vt),this.isHemisphereLightProbe=!0;const St=new Color().set(lt),Et=new Color().set(dt),At=new Vector3(St.r,St.g,St.b),Ct=new Vector3(Et.r,Et.g,Et.b),Tt=Math.sqrt(Math.PI),Rt=Tt*Math.sqrt(.75);this.sh.coefficients[0].copy(At).add(Ct).multiplyScalar(Tt),this.sh.coefficients[1].copy(At).sub(Ct).multiplyScalar(Rt)}}class AmbientLightProbe extends LightProbe{constructor(lt,dt=1){super(void 0,dt),this.isAmbientLightProbe=!0;const vt=new Color().set(lt);this.sh.coefficients[0].set(vt.r,vt.g,vt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(lt){const dt=this._cache;if(dt.focus!==lt.focus||dt.fov!==lt.fov||dt.aspect!==lt.aspect*this.aspect||dt.near!==lt.near||dt.far!==lt.far||dt.zoom!==lt.zoom||dt.eyeSep!==this.eyeSep){dt.focus=lt.focus,dt.fov=lt.fov,dt.aspect=lt.aspect*this.aspect,dt.near=lt.near,dt.far=lt.far,dt.zoom=lt.zoom,dt.eyeSep=this.eyeSep,_projectionMatrix.copy(lt.projectionMatrix);const St=dt.eyeSep/2,Et=St*dt.near/dt.focus,At=dt.near*Math.tan(DEG2RAD*dt.fov*.5)/dt.zoom;let Ct,Tt;_eyeLeft.elements[12]=-St,_eyeRight.elements[12]=St,Ct=-At*dt.aspect+Et,Tt=At*dt.aspect+Et,_projectionMatrix.elements[0]=2*dt.near/(Tt-Ct),_projectionMatrix.elements[8]=(Tt+Ct)/(Tt-Ct),this.cameraL.projectionMatrix.copy(_projectionMatrix),Ct=-At*dt.aspect-Et,Tt=At*dt.aspect-Et,_projectionMatrix.elements[0]=2*dt.near/(Tt-Ct),_projectionMatrix.elements[8]=(Tt+Ct)/(Tt-Ct),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(lt.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(lt.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(lt=!0){this.autoStart=lt,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let lt=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const dt=now$2();lt=(dt-this.oldTime)/1e3,this.oldTime=dt,this.elapsedTime+=lt}return lt}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(lt){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=lt,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(lt){return this.gain.gain.setTargetAtTime(lt,this.context.currentTime,.01),this}updateMatrixWorld(lt){super.updateMatrixWorld(lt);const dt=this.context.listener,vt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),dt.positionX){const St=this.context.currentTime+this.timeDelta;dt.positionX.linearRampToValueAtTime(_position$1.x,St),dt.positionY.linearRampToValueAtTime(_position$1.y,St),dt.positionZ.linearRampToValueAtTime(_position$1.z,St),dt.forwardX.linearRampToValueAtTime(_orientation$1.x,St),dt.forwardY.linearRampToValueAtTime(_orientation$1.y,St),dt.forwardZ.linearRampToValueAtTime(_orientation$1.z,St),dt.upX.linearRampToValueAtTime(vt.x,St),dt.upY.linearRampToValueAtTime(vt.y,St),dt.upZ.linearRampToValueAtTime(vt.z,St)}else dt.setPosition(_position$1.x,_position$1.y,_position$1.z),dt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,vt.x,vt.y,vt.z)}}class Audio extends Object3D{constructor(lt){super(),this.type="Audio",this.listener=lt,this.context=lt.context,this.gain=this.context.createGain(),this.gain.connect(lt.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(lt){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=lt,this.connect(),this}setMediaElementSource(lt){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(lt),this.connect(),this}setMediaStreamSource(lt){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(lt),this.connect(),this}setBuffer(lt){return this.buffer=lt,this.sourceType="buffer",this.autoplay&&this.play(),this}play(lt=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+lt;const dt=this.context.createBufferSource();return dt.buffer=this.buffer,dt.loop=this.loop,dt.loopStart=this.loopStart,dt.loopEnd=this.loopEnd,dt.onended=this.onEnded.bind(this),dt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=dt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let lt=1,dt=this.filters.length;lt<dt;lt++)this.filters[lt-1].connect(this.filters[lt]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let lt=1,dt=this.filters.length;lt<dt;lt++)this.filters[lt-1].disconnect(this.filters[lt]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(lt){return lt||(lt=[]),this._connected===!0?(this.disconnect(),this.filters=lt.slice(),this.connect()):this.filters=lt.slice(),this}setDetune(lt){if(this.detune=lt,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(lt){return this.setFilters(lt?[lt]:[])}setPlaybackRate(lt){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=lt,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(lt){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=lt,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(lt){return this.loopStart=lt,this}setLoopEnd(lt){return this.loopEnd=lt,this}getVolume(){return this.gain.gain.value}setVolume(lt){return this.gain.gain.setTargetAtTime(lt,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(lt){super(lt),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(lt){return this.panner.refDistance=lt,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(lt){return this.panner.rolloffFactor=lt,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(lt){return this.panner.distanceModel=lt,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(lt){return this.panner.maxDistance=lt,this}setDirectionalCone(lt,dt,vt){return this.panner.coneInnerAngle=lt,this.panner.coneOuterAngle=dt,this.panner.coneOuterGain=vt,this}updateMatrixWorld(lt){if(super.updateMatrixWorld(lt),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const dt=this.panner;if(dt.positionX){const vt=this.context.currentTime+this.listener.timeDelta;dt.positionX.linearRampToValueAtTime(_position.x,vt),dt.positionY.linearRampToValueAtTime(_position.y,vt),dt.positionZ.linearRampToValueAtTime(_position.z,vt),dt.orientationX.linearRampToValueAtTime(_orientation.x,vt),dt.orientationY.linearRampToValueAtTime(_orientation.y,vt),dt.orientationZ.linearRampToValueAtTime(_orientation.z,vt)}else dt.setPosition(_position.x,_position.y,_position.z),dt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(lt,dt=2048){this.analyser=lt.context.createAnalyser(),this.analyser.fftSize=dt,this.data=new Uint8Array(this.analyser.frequencyBinCount),lt.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let lt=0;const dt=this.getFrequencyData();for(let vt=0;vt<dt.length;vt++)lt+=dt[vt];return lt/dt.length}}class PropertyMixer{constructor(lt,dt,vt){this.binding=lt,this.valueSize=vt;let St,Et,At;switch(dt){case"quaternion":St=this._slerp,Et=this._slerpAdditive,At=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(vt*6),this._workIndex=5;break;case"string":case"bool":St=this._select,Et=this._select,At=this._setAdditiveIdentityOther,this.buffer=new Array(vt*5);break;default:St=this._lerp,Et=this._lerpAdditive,At=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(vt*5)}this._mixBufferRegion=St,this._mixBufferRegionAdditive=Et,this._setIdentity=At,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(lt,dt){const vt=this.buffer,St=this.valueSize,Et=lt*St+St;let At=this.cumulativeWeight;if(At===0){for(let Ct=0;Ct!==St;++Ct)vt[Et+Ct]=vt[Ct];At=dt}else{At+=dt;const Ct=dt/At;this._mixBufferRegion(vt,Et,0,Ct,St)}this.cumulativeWeight=At}accumulateAdditive(lt){const dt=this.buffer,vt=this.valueSize,St=vt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(dt,St,0,lt,vt),this.cumulativeWeightAdditive+=lt}apply(lt){const dt=this.valueSize,vt=this.buffer,St=lt*dt+dt,Et=this.cumulativeWeight,At=this.cumulativeWeightAdditive,Ct=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,Et<1){const Tt=dt*this._origIndex;this._mixBufferRegion(vt,St,Tt,1-Et,dt)}At>0&&this._mixBufferRegionAdditive(vt,St,this._addIndex*dt,1,dt);for(let Tt=dt,Rt=dt+dt;Tt!==Rt;++Tt)if(vt[Tt]!==vt[Tt+dt]){Ct.setValue(vt,St);break}}saveOriginalState(){const lt=this.binding,dt=this.buffer,vt=this.valueSize,St=vt*this._origIndex;lt.getValue(dt,St);for(let Et=vt,At=St;Et!==At;++Et)dt[Et]=dt[St+Et%vt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const lt=this.valueSize*3;this.binding.setValue(this.buffer,lt)}_setAdditiveIdentityNumeric(){const lt=this._addIndex*this.valueSize,dt=lt+this.valueSize;for(let vt=lt;vt<dt;vt++)this.buffer[vt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const lt=this._origIndex*this.valueSize,dt=this._addIndex*this.valueSize;for(let vt=0;vt<this.valueSize;vt++)this.buffer[dt+vt]=this.buffer[lt+vt]}_select(lt,dt,vt,St,Et){if(St>=.5)for(let At=0;At!==Et;++At)lt[dt+At]=lt[vt+At]}_slerp(lt,dt,vt,St){Quaternion.slerpFlat(lt,dt,lt,dt,lt,vt,St)}_slerpAdditive(lt,dt,vt,St,Et){const At=this._workIndex*Et;Quaternion.multiplyQuaternionsFlat(lt,At,lt,dt,lt,vt),Quaternion.slerpFlat(lt,dt,lt,dt,lt,At,St)}_lerp(lt,dt,vt,St,Et){const At=1-St;for(let Ct=0;Ct!==Et;++Ct){const Tt=dt+Ct;lt[Tt]=lt[Tt]*At+lt[vt+Ct]*St}}_lerpAdditive(lt,dt,vt,St,Et){for(let At=0;At!==Et;++At){const Ct=dt+At;lt[Ct]=lt[Ct]+lt[vt+At]*St}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(lt,dt,vt){const St=vt||PropertyBinding.parseTrackName(dt);this._targetGroup=lt,this._bindings=lt.subscribe_(dt,St)}getValue(lt,dt){this.bind();const vt=this._targetGroup.nCachedObjects_,St=this._bindings[vt];St!==void 0&&St.getValue(lt,dt)}setValue(lt,dt){const vt=this._bindings;for(let St=this._targetGroup.nCachedObjects_,Et=vt.length;St!==Et;++St)vt[St].setValue(lt,dt)}bind(){const lt=this._bindings;for(let dt=this._targetGroup.nCachedObjects_,vt=lt.length;dt!==vt;++dt)lt[dt].bind()}unbind(){const lt=this._bindings;for(let dt=this._targetGroup.nCachedObjects_,vt=lt.length;dt!==vt;++dt)lt[dt].unbind()}}class PropertyBinding{constructor(lt,dt,vt){this.path=dt,this.parsedPath=vt||PropertyBinding.parseTrackName(dt),this.node=PropertyBinding.findNode(lt,this.parsedPath.nodeName)||lt,this.rootNode=lt,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(lt,dt,vt){return lt&&lt.isAnimationObjectGroup?new PropertyBinding.Composite(lt,dt,vt):new PropertyBinding(lt,dt,vt)}static sanitizeNodeName(lt){return lt.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(lt){const dt=_trackRe.exec(lt);if(dt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+lt);const vt={nodeName:dt[2],objectName:dt[3],objectIndex:dt[4],propertyName:dt[5],propertyIndex:dt[6]},St=vt.nodeName&&vt.nodeName.lastIndexOf(".");if(St!==void 0&&St!==-1){const Et=vt.nodeName.substring(St+1);_supportedObjectNames.indexOf(Et)!==-1&&(vt.nodeName=vt.nodeName.substring(0,St),vt.objectName=Et)}if(vt.propertyName===null||vt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+lt);return vt}static findNode(lt,dt){if(dt===void 0||dt===""||dt==="."||dt===-1||dt===lt.name||dt===lt.uuid)return lt;if(lt.skeleton){const vt=lt.skeleton.getBoneByName(dt);if(vt!==void 0)return vt}if(lt.children){const vt=function(Et){for(let At=0;At<Et.length;At++){const Ct=Et[At];if(Ct.name===dt||Ct.uuid===dt)return Ct;const Tt=vt(Ct.children);if(Tt)return Tt}return null},St=vt(lt.children);if(St)return St}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(lt,dt){lt[dt]=this.targetObject[this.propertyName]}_getValue_array(lt,dt){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)lt[dt++]=vt[St]}_getValue_arrayElement(lt,dt){lt[dt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(lt,dt){this.resolvedProperty.toArray(lt,dt)}_setValue_direct(lt,dt){this.targetObject[this.propertyName]=lt[dt]}_setValue_direct_setNeedsUpdate(lt,dt){this.targetObject[this.propertyName]=lt[dt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(lt,dt){this.targetObject[this.propertyName]=lt[dt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(lt,dt){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)vt[St]=lt[dt++]}_setValue_array_setNeedsUpdate(lt,dt){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)vt[St]=lt[dt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(lt,dt){const vt=this.resolvedProperty;for(let St=0,Et=vt.length;St!==Et;++St)vt[St]=lt[dt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(lt,dt){this.resolvedProperty[this.propertyIndex]=lt[dt]}_setValue_arrayElement_setNeedsUpdate(lt,dt){this.resolvedProperty[this.propertyIndex]=lt[dt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(lt,dt){this.resolvedProperty[this.propertyIndex]=lt[dt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(lt,dt){this.resolvedProperty.fromArray(lt,dt)}_setValue_fromArray_setNeedsUpdate(lt,dt){this.resolvedProperty.fromArray(lt,dt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(lt,dt){this.resolvedProperty.fromArray(lt,dt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(lt,dt){this.bind(),this.getValue(lt,dt)}_setValue_unbound(lt,dt){this.bind(),this.setValue(lt,dt)}bind(){let lt=this.node;const dt=this.parsedPath,vt=dt.objectName,St=dt.propertyName;let Et=dt.propertyIndex;if(lt||(lt=PropertyBinding.findNode(this.rootNode,dt.nodeName)||this.rootNode,this.node=lt),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!lt){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(vt){let Rt=dt.objectIndex;switch(vt){case"materials":if(!lt.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!lt.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}lt=lt.material.materials;break;case"bones":if(!lt.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}lt=lt.skeleton.bones;for(let Bt=0;Bt<lt.length;Bt++)if(lt[Bt].name===Rt){Rt=Bt;break}break;case"map":if("map"in lt){lt=lt.map;break}if(!lt.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!lt.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}lt=lt.material.map;break;default:if(lt[vt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}lt=lt[vt]}if(Rt!==void 0){if(lt[Rt]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,lt);return}lt=lt[Rt]}}const At=lt[St];if(At===void 0){const Rt=dt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Rt+"."+St+" but it wasn't found.",lt);return}let Ct=this.Versioning.None;this.targetObject=lt,lt.needsUpdate!==void 0?Ct=this.Versioning.NeedsUpdate:lt.matrixWorldNeedsUpdate!==void 0&&(Ct=this.Versioning.MatrixWorldNeedsUpdate);let Tt=this.BindingType.Direct;if(Et!==void 0){if(St==="morphTargetInfluences"){if(!lt.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!lt.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}lt.morphTargetDictionary[Et]!==void 0&&(Et=lt.morphTargetDictionary[Et])}Tt=this.BindingType.ArrayElement,this.resolvedProperty=At,this.propertyIndex=Et}else At.fromArray!==void 0&&At.toArray!==void 0?(Tt=this.BindingType.HasFromToArray,this.resolvedProperty=At):Array.isArray(At)?(Tt=this.BindingType.EntireArray,this.resolvedProperty=At):this.propertyName=St;this.getValue=this.GetterByBindingType[Tt],this.setValue=this.SetterByBindingTypeAndVersioning[Tt][Ct]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const lt={};this._indicesByUUID=lt;for(let vt=0,St=arguments.length;vt!==St;++vt)lt[arguments[vt].uuid]=vt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const dt=this;this.stats={objects:{get total(){return dt._objects.length},get inUse(){return this.total-dt.nCachedObjects_}},get bindingsPerObject(){return dt._bindings.length}}}add(){const lt=this._objects,dt=this._indicesByUUID,vt=this._paths,St=this._parsedPaths,Et=this._bindings,At=Et.length;let Ct,Tt=lt.length,Rt=this.nCachedObjects_;for(let Bt=0,Dt=arguments.length;Bt!==Dt;++Bt){const Ft=arguments[Bt],kt=Ft.uuid;let Ut=dt[kt];if(Ut===void 0){Ut=Tt++,dt[kt]=Ut,lt.push(Ft);for(let Kt=0,tr=At;Kt!==tr;++Kt)Et[Kt].push(new PropertyBinding(Ft,vt[Kt],St[Kt]))}else if(Ut<Rt){Ct=lt[Ut];const Kt=--Rt,tr=lt[Kt];dt[tr.uuid]=Ut,lt[Ut]=tr,dt[kt]=Kt,lt[Kt]=Ft;for(let Wt=0,Zt=At;Wt!==Zt;++Wt){const Ht=Et[Wt],nr=Ht[Kt];let sr=Ht[Ut];Ht[Ut]=nr,sr===void 0&&(sr=new PropertyBinding(Ft,vt[Wt],St[Wt])),Ht[Kt]=sr}}else lt[Ut]!==Ct&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=Rt}remove(){const lt=this._objects,dt=this._indicesByUUID,vt=this._bindings,St=vt.length;let Et=this.nCachedObjects_;for(let At=0,Ct=arguments.length;At!==Ct;++At){const Tt=arguments[At],Rt=Tt.uuid,Bt=dt[Rt];if(Bt!==void 0&&Bt>=Et){const Dt=Et++,Ft=lt[Dt];dt[Ft.uuid]=Bt,lt[Bt]=Ft,dt[Rt]=Dt,lt[Dt]=Tt;for(let kt=0,Ut=St;kt!==Ut;++kt){const Kt=vt[kt],tr=Kt[Dt],Wt=Kt[Bt];Kt[Bt]=tr,Kt[Dt]=Wt}}}this.nCachedObjects_=Et}uncache(){const lt=this._objects,dt=this._indicesByUUID,vt=this._bindings,St=vt.length;let Et=this.nCachedObjects_,At=lt.length;for(let Ct=0,Tt=arguments.length;Ct!==Tt;++Ct){const Rt=arguments[Ct],Bt=Rt.uuid,Dt=dt[Bt];if(Dt!==void 0)if(delete dt[Bt],Dt<Et){const Ft=--Et,kt=lt[Ft],Ut=--At,Kt=lt[Ut];dt[kt.uuid]=Dt,lt[Dt]=kt,dt[Kt.uuid]=Ft,lt[Ft]=Kt,lt.pop();for(let tr=0,Wt=St;tr!==Wt;++tr){const Zt=vt[tr],Ht=Zt[Ft],nr=Zt[Ut];Zt[Dt]=Ht,Zt[Ft]=nr,Zt.pop()}}else{const Ft=--At,kt=lt[Ft];Ft>0&&(dt[kt.uuid]=Dt),lt[Dt]=kt,lt.pop();for(let Ut=0,Kt=St;Ut!==Kt;++Ut){const tr=vt[Ut];tr[Dt]=tr[Ft],tr.pop()}}}this.nCachedObjects_=Et}subscribe_(lt,dt){const vt=this._bindingsIndicesByPath;let St=vt[lt];const Et=this._bindings;if(St!==void 0)return Et[St];const At=this._paths,Ct=this._parsedPaths,Tt=this._objects,Rt=Tt.length,Bt=this.nCachedObjects_,Dt=new Array(Rt);St=Et.length,vt[lt]=St,At.push(lt),Ct.push(dt),Et.push(Dt);for(let Ft=Bt,kt=Tt.length;Ft!==kt;++Ft){const Ut=Tt[Ft];Dt[Ft]=new PropertyBinding(Ut,lt,dt)}return Dt}unsubscribe_(lt){const dt=this._bindingsIndicesByPath,vt=dt[lt];if(vt!==void 0){const St=this._paths,Et=this._parsedPaths,At=this._bindings,Ct=At.length-1,Tt=At[Ct],Rt=lt[Ct];dt[Rt]=vt,At[vt]=Tt,At.pop(),Et[vt]=Et[Ct],Et.pop(),St[vt]=St[Ct],St.pop()}}}class AnimationAction{constructor(lt,dt,vt=null,St=dt.blendMode){this._mixer=lt,this._clip=dt,this._localRoot=vt,this.blendMode=St;const Et=dt.tracks,At=Et.length,Ct=new Array(At),Tt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let Rt=0;Rt!==At;++Rt){const Bt=Et[Rt].createInterpolant(null);Ct[Rt]=Bt,Bt.settings=Tt}this._interpolantSettings=Tt,this._interpolants=Ct,this._propertyBindings=new Array(At),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(lt){return this._startTime=lt,this}setLoop(lt,dt){return this.loop=lt,this.repetitions=dt,this}setEffectiveWeight(lt){return this.weight=lt,this._effectiveWeight=this.enabled?lt:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(lt){return this._scheduleFading(lt,0,1)}fadeOut(lt){return this._scheduleFading(lt,1,0)}crossFadeFrom(lt,dt,vt){if(lt.fadeOut(dt),this.fadeIn(dt),vt){const St=this._clip.duration,Et=lt._clip.duration,At=Et/St,Ct=St/Et;lt.warp(1,At,dt),this.warp(Ct,1,dt)}return this}crossFadeTo(lt,dt,vt){return lt.crossFadeFrom(this,dt,vt)}stopFading(){const lt=this._weightInterpolant;return lt!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(lt)),this}setEffectiveTimeScale(lt){return this.timeScale=lt,this._effectiveTimeScale=this.paused?0:lt,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(lt){return this.timeScale=this._clip.duration/lt,this.stopWarping()}syncWith(lt){return this.time=lt.time,this.timeScale=lt.timeScale,this.stopWarping()}halt(lt){return this.warp(this._effectiveTimeScale,0,lt)}warp(lt,dt,vt){const St=this._mixer,Et=St.time,At=this.timeScale;let Ct=this._timeScaleInterpolant;Ct===null&&(Ct=St._lendControlInterpolant(),this._timeScaleInterpolant=Ct);const Tt=Ct.parameterPositions,Rt=Ct.sampleValues;return Tt[0]=Et,Tt[1]=Et+vt,Rt[0]=lt/At,Rt[1]=dt/At,this}stopWarping(){const lt=this._timeScaleInterpolant;return lt!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(lt)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(lt,dt,vt,St){if(!this.enabled){this._updateWeight(lt);return}const Et=this._startTime;if(Et!==null){const Tt=(lt-Et)*vt;Tt<0||vt===0?dt=0:(this._startTime=null,dt=vt*Tt)}dt*=this._updateTimeScale(lt);const At=this._updateTime(dt),Ct=this._updateWeight(lt);if(Ct>0){const Tt=this._interpolants,Rt=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let Bt=0,Dt=Tt.length;Bt!==Dt;++Bt)Tt[Bt].evaluate(At),Rt[Bt].accumulateAdditive(Ct);break;case NormalAnimationBlendMode:default:for(let Bt=0,Dt=Tt.length;Bt!==Dt;++Bt)Tt[Bt].evaluate(At),Rt[Bt].accumulate(St,Ct)}}}_updateWeight(lt){let dt=0;if(this.enabled){dt=this.weight;const vt=this._weightInterpolant;if(vt!==null){const St=vt.evaluate(lt)[0];dt*=St,lt>vt.parameterPositions[1]&&(this.stopFading(),St===0&&(this.enabled=!1))}}return this._effectiveWeight=dt,dt}_updateTimeScale(lt){let dt=0;if(!this.paused){dt=this.timeScale;const vt=this._timeScaleInterpolant;if(vt!==null){const St=vt.evaluate(lt)[0];dt*=St,lt>vt.parameterPositions[1]&&(this.stopWarping(),dt===0?this.paused=!0:this.timeScale=dt)}}return this._effectiveTimeScale=dt,dt}_updateTime(lt){const dt=this._clip.duration,vt=this.loop;let St=this.time+lt,Et=this._loopCount;const At=vt===LoopPingPong;if(lt===0)return Et===-1?St:At&&(Et&1)===1?dt-St:St;if(vt===LoopOnce){Et===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(St>=dt)St=dt;else if(St<0)St=0;else{this.time=St;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=St,this._mixer.dispatchEvent({type:"finished",action:this,direction:lt<0?-1:1})}}else{if(Et===-1&&(lt>=0?(Et=0,this._setEndings(!0,this.repetitions===0,At)):this._setEndings(this.repetitions===0,!0,At)),St>=dt||St<0){const Ct=Math.floor(St/dt);St-=dt*Ct,Et+=Math.abs(Ct);const Tt=this.repetitions-Et;if(Tt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,St=lt>0?dt:0,this.time=St,this._mixer.dispatchEvent({type:"finished",action:this,direction:lt>0?1:-1});else{if(Tt===1){const Rt=lt<0;this._setEndings(Rt,!Rt,At)}else this._setEndings(!1,!1,At);this._loopCount=Et,this.time=St,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:Ct})}}else this.time=St;if(At&&(Et&1)===1)return dt-St}return St}_setEndings(lt,dt,vt){const St=this._interpolantSettings;vt?(St.endingStart=ZeroSlopeEnding,St.endingEnd=ZeroSlopeEnding):(lt?St.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:St.endingStart=WrapAroundEnding,dt?St.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:St.endingEnd=WrapAroundEnding)}_scheduleFading(lt,dt,vt){const St=this._mixer,Et=St.time;let At=this._weightInterpolant;At===null&&(At=St._lendControlInterpolant(),this._weightInterpolant=At);const Ct=At.parameterPositions,Tt=At.sampleValues;return Ct[0]=Et,Tt[0]=dt,Ct[1]=Et+lt,Tt[1]=vt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(lt){super(),this._root=lt,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(lt,dt){const vt=lt._localRoot||this._root,St=lt._clip.tracks,Et=St.length,At=lt._propertyBindings,Ct=lt._interpolants,Tt=vt.uuid,Rt=this._bindingsByRootAndName;let Bt=Rt[Tt];Bt===void 0&&(Bt={},Rt[Tt]=Bt);for(let Dt=0;Dt!==Et;++Dt){const Ft=St[Dt],kt=Ft.name;let Ut=Bt[kt];if(Ut!==void 0)++Ut.referenceCount,At[Dt]=Ut;else{if(Ut=At[Dt],Ut!==void 0){Ut._cacheIndex===null&&(++Ut.referenceCount,this._addInactiveBinding(Ut,Tt,kt));continue}const Kt=dt&&dt._propertyBindings[Dt].binding.parsedPath;Ut=new PropertyMixer(PropertyBinding.create(vt,kt,Kt),Ft.ValueTypeName,Ft.getValueSize()),++Ut.referenceCount,this._addInactiveBinding(Ut,Tt,kt),At[Dt]=Ut}Ct[Dt].resultBuffer=Ut.buffer}}_activateAction(lt){if(!this._isActiveAction(lt)){if(lt._cacheIndex===null){const vt=(lt._localRoot||this._root).uuid,St=lt._clip.uuid,Et=this._actionsByClip[St];this._bindAction(lt,Et&&Et.knownActions[0]),this._addInactiveAction(lt,St,vt)}const dt=lt._propertyBindings;for(let vt=0,St=dt.length;vt!==St;++vt){const Et=dt[vt];Et.useCount++===0&&(this._lendBinding(Et),Et.saveOriginalState())}this._lendAction(lt)}}_deactivateAction(lt){if(this._isActiveAction(lt)){const dt=lt._propertyBindings;for(let vt=0,St=dt.length;vt!==St;++vt){const Et=dt[vt];--Et.useCount===0&&(Et.restoreOriginalState(),this._takeBackBinding(Et))}this._takeBackAction(lt)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const lt=this;this.stats={actions:{get total(){return lt._actions.length},get inUse(){return lt._nActiveActions}},bindings:{get total(){return lt._bindings.length},get inUse(){return lt._nActiveBindings}},controlInterpolants:{get total(){return lt._controlInterpolants.length},get inUse(){return lt._nActiveControlInterpolants}}}}_isActiveAction(lt){const dt=lt._cacheIndex;return dt!==null&&dt<this._nActiveActions}_addInactiveAction(lt,dt,vt){const St=this._actions,Et=this._actionsByClip;let At=Et[dt];if(At===void 0)At={knownActions:[lt],actionByRoot:{}},lt._byClipCacheIndex=0,Et[dt]=At;else{const Ct=At.knownActions;lt._byClipCacheIndex=Ct.length,Ct.push(lt)}lt._cacheIndex=St.length,St.push(lt),At.actionByRoot[vt]=lt}_removeInactiveAction(lt){const dt=this._actions,vt=dt[dt.length-1],St=lt._cacheIndex;vt._cacheIndex=St,dt[St]=vt,dt.pop(),lt._cacheIndex=null;const Et=lt._clip.uuid,At=this._actionsByClip,Ct=At[Et],Tt=Ct.knownActions,Rt=Tt[Tt.length-1],Bt=lt._byClipCacheIndex;Rt._byClipCacheIndex=Bt,Tt[Bt]=Rt,Tt.pop(),lt._byClipCacheIndex=null;const Dt=Ct.actionByRoot,Ft=(lt._localRoot||this._root).uuid;delete Dt[Ft],Tt.length===0&&delete At[Et],this._removeInactiveBindingsForAction(lt)}_removeInactiveBindingsForAction(lt){const dt=lt._propertyBindings;for(let vt=0,St=dt.length;vt!==St;++vt){const Et=dt[vt];--Et.referenceCount===0&&this._removeInactiveBinding(Et)}}_lendAction(lt){const dt=this._actions,vt=lt._cacheIndex,St=this._nActiveActions++,Et=dt[St];lt._cacheIndex=St,dt[St]=lt,Et._cacheIndex=vt,dt[vt]=Et}_takeBackAction(lt){const dt=this._actions,vt=lt._cacheIndex,St=--this._nActiveActions,Et=dt[St];lt._cacheIndex=St,dt[St]=lt,Et._cacheIndex=vt,dt[vt]=Et}_addInactiveBinding(lt,dt,vt){const St=this._bindingsByRootAndName,Et=this._bindings;let At=St[dt];At===void 0&&(At={},St[dt]=At),At[vt]=lt,lt._cacheIndex=Et.length,Et.push(lt)}_removeInactiveBinding(lt){const dt=this._bindings,vt=lt.binding,St=vt.rootNode.uuid,Et=vt.path,At=this._bindingsByRootAndName,Ct=At[St],Tt=dt[dt.length-1],Rt=lt._cacheIndex;Tt._cacheIndex=Rt,dt[Rt]=Tt,dt.pop(),delete Ct[Et],Object.keys(Ct).length===0&&delete At[St]}_lendBinding(lt){const dt=this._bindings,vt=lt._cacheIndex,St=this._nActiveBindings++,Et=dt[St];lt._cacheIndex=St,dt[St]=lt,Et._cacheIndex=vt,dt[vt]=Et}_takeBackBinding(lt){const dt=this._bindings,vt=lt._cacheIndex,St=--this._nActiveBindings,Et=dt[St];lt._cacheIndex=St,dt[St]=lt,Et._cacheIndex=vt,dt[vt]=Et}_lendControlInterpolant(){const lt=this._controlInterpolants,dt=this._nActiveControlInterpolants++;let vt=lt[dt];return vt===void 0&&(vt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),vt.__cacheIndex=dt,lt[dt]=vt),vt}_takeBackControlInterpolant(lt){const dt=this._controlInterpolants,vt=lt.__cacheIndex,St=--this._nActiveControlInterpolants,Et=dt[St];lt.__cacheIndex=St,dt[St]=lt,Et.__cacheIndex=vt,dt[vt]=Et}clipAction(lt,dt,vt){const St=dt||this._root,Et=St.uuid;let At=typeof lt=="string"?AnimationClip.findByName(St,lt):lt;const Ct=At!==null?At.uuid:lt,Tt=this._actionsByClip[Ct];let Rt=null;if(vt===void 0&&(At!==null?vt=At.blendMode:vt=NormalAnimationBlendMode),Tt!==void 0){const Dt=Tt.actionByRoot[Et];if(Dt!==void 0&&Dt.blendMode===vt)return Dt;Rt=Tt.knownActions[0],At===null&&(At=Rt._clip)}if(At===null)return null;const Bt=new AnimationAction(this,At,dt,vt);return this._bindAction(Bt,Rt),this._addInactiveAction(Bt,Ct,Et),Bt}existingAction(lt,dt){const vt=dt||this._root,St=vt.uuid,Et=typeof lt=="string"?AnimationClip.findByName(vt,lt):lt,At=Et?Et.uuid:lt,Ct=this._actionsByClip[At];return Ct!==void 0&&Ct.actionByRoot[St]||null}stopAllAction(){const lt=this._actions,dt=this._nActiveActions;for(let vt=dt-1;vt>=0;--vt)lt[vt].stop();return this}update(lt){lt*=this.timeScale;const dt=this._actions,vt=this._nActiveActions,St=this.time+=lt,Et=Math.sign(lt),At=this._accuIndex^=1;for(let Rt=0;Rt!==vt;++Rt)dt[Rt]._update(St,lt,Et,At);const Ct=this._bindings,Tt=this._nActiveBindings;for(let Rt=0;Rt!==Tt;++Rt)Ct[Rt].apply(At);return this}setTime(lt){this.time=0;for(let dt=0;dt<this._actions.length;dt++)this._actions[dt].time=0;return this.update(lt)}getRoot(){return this._root}uncacheClip(lt){const dt=this._actions,vt=lt.uuid,St=this._actionsByClip,Et=St[vt];if(Et!==void 0){const At=Et.knownActions;for(let Ct=0,Tt=At.length;Ct!==Tt;++Ct){const Rt=At[Ct];this._deactivateAction(Rt);const Bt=Rt._cacheIndex,Dt=dt[dt.length-1];Rt._cacheIndex=null,Rt._byClipCacheIndex=null,Dt._cacheIndex=Bt,dt[Bt]=Dt,dt.pop(),this._removeInactiveBindingsForAction(Rt)}delete St[vt]}}uncacheRoot(lt){const dt=lt.uuid,vt=this._actionsByClip;for(const At in vt){const Ct=vt[At].actionByRoot,Tt=Ct[dt];Tt!==void 0&&(this._deactivateAction(Tt),this._removeInactiveAction(Tt))}const St=this._bindingsByRootAndName,Et=St[dt];if(Et!==void 0)for(const At in Et){const Ct=Et[At];Ct.restoreOriginalState(),this._removeInactiveBinding(Ct)}}uncacheAction(lt,dt){const vt=this.existingAction(lt,dt);vt!==null&&(this._deactivateAction(vt),this._removeInactiveAction(vt))}}class Uniform{constructor(lt){this.value=lt}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(lt){return this.uniforms.push(lt),this}remove(lt){const dt=this.uniforms.indexOf(lt);return dt!==-1&&this.uniforms.splice(dt,1),this}setName(lt){return this.name=lt,this}setUsage(lt){return this.usage=lt,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(lt){this.name=lt.name,this.usage=lt.usage;const dt=lt.uniforms;this.uniforms.length=0;for(let vt=0,St=dt.length;vt<St;vt++)this.uniforms.push(dt[vt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(lt,dt,vt=1){super(lt,dt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=vt}copy(lt){return super.copy(lt),this.meshPerAttribute=lt.meshPerAttribute,this}clone(lt){const dt=super.clone(lt);return dt.meshPerAttribute=this.meshPerAttribute,dt}toJSON(lt){const dt=super.toJSON(lt);return dt.isInstancedInterleavedBuffer=!0,dt.meshPerAttribute=this.meshPerAttribute,dt}}class GLBufferAttribute{constructor(lt,dt,vt,St,Et){this.isGLBufferAttribute=!0,this.name="",this.buffer=lt,this.type=dt,this.itemSize=vt,this.elementSize=St,this.count=Et,this.version=0}set needsUpdate(lt){lt===!0&&this.version++}setBuffer(lt){return this.buffer=lt,this}setType(lt,dt){return this.type=lt,this.elementSize=dt,this}setItemSize(lt){return this.itemSize=lt,this}setCount(lt){return this.count=lt,this}}class Raycaster{constructor(lt,dt,vt=0,St=1/0){this.ray=new Ray(lt,dt),this.near=vt,this.far=St,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(lt,dt){this.ray.set(lt,dt)}setFromCamera(lt,dt){dt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(dt.matrixWorld),this.ray.direction.set(lt.x,lt.y,.5).unproject(dt).sub(this.ray.origin).normalize(),this.camera=dt):dt.isOrthographicCamera?(this.ray.origin.set(lt.x,lt.y,(dt.near+dt.far)/(dt.near-dt.far)).unproject(dt),this.ray.direction.set(0,0,-1).transformDirection(dt.matrixWorld),this.camera=dt):console.error("THREE.Raycaster: Unsupported camera type: "+dt.type)}intersectObject(lt,dt=!0,vt=[]){return intersectObject(lt,this,vt,dt),vt.sort(ascSort),vt}intersectObjects(lt,dt=!0,vt=[]){for(let St=0,Et=lt.length;St<Et;St++)intersectObject(lt[St],this,vt,dt);return vt.sort(ascSort),vt}}function ascSort(ft,lt){return ft.distance-lt.distance}function intersectObject(ft,lt,dt,vt){if(ft.layers.test(lt.layers)&&ft.raycast(lt,dt),vt===!0){const St=ft.children;for(let Et=0,At=St.length;Et<At;Et++)intersectObject(St[Et],lt,dt,!0)}}class Spherical{constructor(lt=1,dt=0,vt=0){return this.radius=lt,this.phi=dt,this.theta=vt,this}set(lt,dt,vt){return this.radius=lt,this.phi=dt,this.theta=vt,this}copy(lt){return this.radius=lt.radius,this.phi=lt.phi,this.theta=lt.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(lt){return this.setFromCartesianCoords(lt.x,lt.y,lt.z)}setFromCartesianCoords(lt,dt,vt){return this.radius=Math.sqrt(lt*lt+dt*dt+vt*vt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(lt,vt),this.phi=Math.acos(clamp(dt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(lt=1,dt=0,vt=0){return this.radius=lt,this.theta=dt,this.y=vt,this}set(lt,dt,vt){return this.radius=lt,this.theta=dt,this.y=vt,this}copy(lt){return this.radius=lt.radius,this.theta=lt.theta,this.y=lt.y,this}setFromVector3(lt){return this.setFromCartesianCoords(lt.x,lt.y,lt.z)}setFromCartesianCoords(lt,dt,vt){return this.radius=Math.sqrt(lt*lt+vt*vt),this.theta=Math.atan2(lt,vt),this.y=dt,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(lt=new Vector2(1/0,1/0),dt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=lt,this.max=dt}set(lt,dt){return this.min.copy(lt),this.max.copy(dt),this}setFromPoints(lt){this.makeEmpty();for(let dt=0,vt=lt.length;dt<vt;dt++)this.expandByPoint(lt[dt]);return this}setFromCenterAndSize(lt,dt){const vt=_vector$4.copy(dt).multiplyScalar(.5);return this.min.copy(lt).sub(vt),this.max.copy(lt).add(vt),this}clone(){return new this.constructor().copy(this)}copy(lt){return this.min.copy(lt.min),this.max.copy(lt.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(lt){return this.isEmpty()?lt.set(0,0):lt.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(lt){return this.isEmpty()?lt.set(0,0):lt.subVectors(this.max,this.min)}expandByPoint(lt){return this.min.min(lt),this.max.max(lt),this}expandByVector(lt){return this.min.sub(lt),this.max.add(lt),this}expandByScalar(lt){return this.min.addScalar(-lt),this.max.addScalar(lt),this}containsPoint(lt){return!(lt.x<this.min.x||lt.x>this.max.x||lt.y<this.min.y||lt.y>this.max.y)}containsBox(lt){return this.min.x<=lt.min.x&&lt.max.x<=this.max.x&&this.min.y<=lt.min.y&&lt.max.y<=this.max.y}getParameter(lt,dt){return dt.set((lt.x-this.min.x)/(this.max.x-this.min.x),(lt.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(lt){return!(lt.max.x<this.min.x||lt.min.x>this.max.x||lt.max.y<this.min.y||lt.min.y>this.max.y)}clampPoint(lt,dt){return dt.copy(lt).clamp(this.min,this.max)}distanceToPoint(lt){return _vector$4.copy(lt).clamp(this.min,this.max).sub(lt).length()}intersect(lt){return this.min.max(lt.min),this.max.min(lt.max),this}union(lt){return this.min.min(lt.min),this.max.max(lt.max),this}translate(lt){return this.min.add(lt),this.max.add(lt),this}equals(lt){return lt.min.equals(this.min)&&lt.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(lt=new Vector3,dt=new Vector3){this.start=lt,this.end=dt}set(lt,dt){return this.start.copy(lt),this.end.copy(dt),this}copy(lt){return this.start.copy(lt.start),this.end.copy(lt.end),this}getCenter(lt){return lt.addVectors(this.start,this.end).multiplyScalar(.5)}delta(lt){return lt.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(lt,dt){return this.delta(dt).multiplyScalar(lt).add(this.start)}closestPointToPointParameter(lt,dt){_startP.subVectors(lt,this.start),_startEnd.subVectors(this.end,this.start);const vt=_startEnd.dot(_startEnd);let Et=_startEnd.dot(_startP)/vt;return dt&&(Et=clamp(Et,0,1)),Et}closestPointToPoint(lt,dt,vt){const St=this.closestPointToPointParameter(lt,dt);return this.delta(vt).multiplyScalar(St).add(this.start)}applyMatrix4(lt){return this.start.applyMatrix4(lt),this.end.applyMatrix4(lt),this}equals(lt){return lt.start.equals(this.start)&&lt.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(lt,dt){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=dt,this.type="SpotLightHelper";const vt=new BufferGeometry,St=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let At=0,Ct=1,Tt=32;At<Tt;At++,Ct++){const Rt=At/Tt*Math.PI*2,Bt=Ct/Tt*Math.PI*2;St.push(Math.cos(Rt),Math.sin(Rt),1,Math.cos(Bt),Math.sin(Bt),1)}vt.setAttribute("position",new Float32BufferAttribute(St,3));const Et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(vt,Et),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const lt=this.light.distance?this.light.distance:1e3,dt=lt*Math.tan(this.light.angle);this.cone.scale.set(dt,dt,lt),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(lt){const dt=getBoneList(lt),vt=new BufferGeometry,St=[],Et=[],At=new Color(0,0,1),Ct=new Color(0,1,0);for(let Rt=0;Rt<dt.length;Rt++){const Bt=dt[Rt];Bt.parent&&Bt.parent.isBone&&(St.push(0,0,0),St.push(0,0,0),Et.push(At.r,At.g,At.b),Et.push(Ct.r,Ct.g,Ct.b))}vt.setAttribute("position",new Float32BufferAttribute(St,3)),vt.setAttribute("color",new Float32BufferAttribute(Et,3));const Tt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(vt,Tt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=lt,this.bones=dt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(lt){const dt=this.bones,vt=this.geometry,St=vt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let Et=0,At=0;Et<dt.length;Et++){const Ct=dt[Et];Ct.parent&&Ct.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,Ct.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),St.setXYZ(At,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,Ct.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),St.setXYZ(At+1,_vector$2.x,_vector$2.y,_vector$2.z),At+=2)}vt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(lt)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(ft){const lt=[];ft.isBone===!0&&lt.push(ft);for(let dt=0;dt<ft.children.length;dt++)lt.push.apply(lt,getBoneList(ft.children[dt]));return lt}class PointLightHelper extends Mesh{constructor(lt,dt,vt){const St=new SphereGeometry(dt,4,2),Et=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(St,Et),this.light=lt,this.color=vt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(lt,dt,vt){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=vt,this.type="HemisphereLightHelper";const St=new OctahedronGeometry(dt);St.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const Et=St.getAttribute("position"),At=new Float32Array(Et.count*3);St.setAttribute("color",new BufferAttribute(At,3)),this.add(new Mesh(St,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const lt=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const dt=lt.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let vt=0,St=dt.count;vt<St;vt++){const Et=vt<St/2?_color1:_color2;dt.setXYZ(vt,Et.r,Et.g,Et.b)}dt.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),lt.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(lt=10,dt=10,vt=4473924,St=8947848){vt=new Color(vt),St=new Color(St);const Et=dt/2,At=lt/dt,Ct=lt/2,Tt=[],Rt=[];for(let Ft=0,kt=0,Ut=-Ct;Ft<=dt;Ft++,Ut+=At){Tt.push(-Ct,0,Ut,Ct,0,Ut),Tt.push(Ut,0,-Ct,Ut,0,Ct);const Kt=Ft===Et?vt:St;Kt.toArray(Rt,kt),kt+=3,Kt.toArray(Rt,kt),kt+=3,Kt.toArray(Rt,kt),kt+=3,Kt.toArray(Rt,kt),kt+=3}const Bt=new BufferGeometry;Bt.setAttribute("position",new Float32BufferAttribute(Tt,3)),Bt.setAttribute("color",new Float32BufferAttribute(Rt,3));const Dt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Bt,Dt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(lt=10,dt=16,vt=8,St=64,Et=4473924,At=8947848){Et=new Color(Et),At=new Color(At);const Ct=[],Tt=[];if(dt>1)for(let Dt=0;Dt<dt;Dt++){const Ft=Dt/dt*(Math.PI*2),kt=Math.sin(Ft)*lt,Ut=Math.cos(Ft)*lt;Ct.push(0,0,0),Ct.push(kt,0,Ut);const Kt=Dt&1?Et:At;Tt.push(Kt.r,Kt.g,Kt.b),Tt.push(Kt.r,Kt.g,Kt.b)}for(let Dt=0;Dt<vt;Dt++){const Ft=Dt&1?Et:At,kt=lt-lt/vt*Dt;for(let Ut=0;Ut<St;Ut++){let Kt=Ut/St*(Math.PI*2),tr=Math.sin(Kt)*kt,Wt=Math.cos(Kt)*kt;Ct.push(tr,0,Wt),Tt.push(Ft.r,Ft.g,Ft.b),Kt=(Ut+1)/St*(Math.PI*2),tr=Math.sin(Kt)*kt,Wt=Math.cos(Kt)*kt,Ct.push(tr,0,Wt),Tt.push(Ft.r,Ft.g,Ft.b)}}const Rt=new BufferGeometry;Rt.setAttribute("position",new Float32BufferAttribute(Ct,3)),Rt.setAttribute("color",new Float32BufferAttribute(Tt,3));const Bt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Rt,Bt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(lt,dt,vt){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=vt,this.type="DirectionalLightHelper",dt===void 0&&(dt=1);let St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute([-dt,dt,0,dt,dt,0,dt,-dt,0,-dt,-dt,0,-dt,dt,0],3));const Et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line$1(St,Et),this.add(this.lightPlane),St=new BufferGeometry,St.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line$1(St,Et),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector$d=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(lt){const dt=new BufferGeometry,vt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),St=[],Et=[],At={};Ct("n1","n2"),Ct("n2","n4"),Ct("n4","n3"),Ct("n3","n1"),Ct("f1","f2"),Ct("f2","f4"),Ct("f4","f3"),Ct("f3","f1"),Ct("n1","f1"),Ct("n2","f2"),Ct("n3","f3"),Ct("n4","f4"),Ct("p","n1"),Ct("p","n2"),Ct("p","n3"),Ct("p","n4"),Ct("u1","u2"),Ct("u2","u3"),Ct("u3","u1"),Ct("c","t"),Ct("p","c"),Ct("cn1","cn2"),Ct("cn3","cn4"),Ct("cf1","cf2"),Ct("cf3","cf4");function Ct(Ut,Kt){Tt(Ut),Tt(Kt)}function Tt(Ut){St.push(0,0,0),Et.push(0,0,0),At[Ut]===void 0&&(At[Ut]=[]),At[Ut].push(St.length/3-1)}dt.setAttribute("position",new Float32BufferAttribute(St,3)),dt.setAttribute("color",new Float32BufferAttribute(Et,3)),super(dt,vt),this.type="CameraHelper",this.camera=lt,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=At,this.update();const Rt=new Color(16755200),Bt=new Color(16711680),Dt=new Color(43775),Ft=new Color(16777215),kt=new Color(3355443);this.setColors(Rt,Bt,Dt,Ft,kt)}setColors(lt,dt,vt,St,Et){const Ct=this.geometry.getAttribute("color");Ct.setXYZ(0,lt.r,lt.g,lt.b),Ct.setXYZ(1,lt.r,lt.g,lt.b),Ct.setXYZ(2,lt.r,lt.g,lt.b),Ct.setXYZ(3,lt.r,lt.g,lt.b),Ct.setXYZ(4,lt.r,lt.g,lt.b),Ct.setXYZ(5,lt.r,lt.g,lt.b),Ct.setXYZ(6,lt.r,lt.g,lt.b),Ct.setXYZ(7,lt.r,lt.g,lt.b),Ct.setXYZ(8,lt.r,lt.g,lt.b),Ct.setXYZ(9,lt.r,lt.g,lt.b),Ct.setXYZ(10,lt.r,lt.g,lt.b),Ct.setXYZ(11,lt.r,lt.g,lt.b),Ct.setXYZ(12,lt.r,lt.g,lt.b),Ct.setXYZ(13,lt.r,lt.g,lt.b),Ct.setXYZ(14,lt.r,lt.g,lt.b),Ct.setXYZ(15,lt.r,lt.g,lt.b),Ct.setXYZ(16,lt.r,lt.g,lt.b),Ct.setXYZ(17,lt.r,lt.g,lt.b),Ct.setXYZ(18,lt.r,lt.g,lt.b),Ct.setXYZ(19,lt.r,lt.g,lt.b),Ct.setXYZ(20,lt.r,lt.g,lt.b),Ct.setXYZ(21,lt.r,lt.g,lt.b),Ct.setXYZ(22,lt.r,lt.g,lt.b),Ct.setXYZ(23,lt.r,lt.g,lt.b),Ct.setXYZ(24,dt.r,dt.g,dt.b),Ct.setXYZ(25,dt.r,dt.g,dt.b),Ct.setXYZ(26,dt.r,dt.g,dt.b),Ct.setXYZ(27,dt.r,dt.g,dt.b),Ct.setXYZ(28,dt.r,dt.g,dt.b),Ct.setXYZ(29,dt.r,dt.g,dt.b),Ct.setXYZ(30,dt.r,dt.g,dt.b),Ct.setXYZ(31,dt.r,dt.g,dt.b),Ct.setXYZ(32,vt.r,vt.g,vt.b),Ct.setXYZ(33,vt.r,vt.g,vt.b),Ct.setXYZ(34,vt.r,vt.g,vt.b),Ct.setXYZ(35,vt.r,vt.g,vt.b),Ct.setXYZ(36,vt.r,vt.g,vt.b),Ct.setXYZ(37,vt.r,vt.g,vt.b),Ct.setXYZ(38,St.r,St.g,St.b),Ct.setXYZ(39,St.r,St.g,St.b),Ct.setXYZ(40,Et.r,Et.g,Et.b),Ct.setXYZ(41,Et.r,Et.g,Et.b),Ct.setXYZ(42,Et.r,Et.g,Et.b),Ct.setXYZ(43,Et.r,Et.g,Et.b),Ct.setXYZ(44,Et.r,Et.g,Et.b),Ct.setXYZ(45,Et.r,Et.g,Et.b),Ct.setXYZ(46,Et.r,Et.g,Et.b),Ct.setXYZ(47,Et.r,Et.g,Et.b),Ct.setXYZ(48,Et.r,Et.g,Et.b),Ct.setXYZ(49,Et.r,Et.g,Et.b),Ct.needsUpdate=!0}update(){const lt=this.geometry,dt=this.pointMap,vt=1,St=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",dt,lt,_camera,0,0,-1),setPoint("t",dt,lt,_camera,0,0,1),setPoint("n1",dt,lt,_camera,-vt,-St,-1),setPoint("n2",dt,lt,_camera,vt,-St,-1),setPoint("n3",dt,lt,_camera,-vt,St,-1),setPoint("n4",dt,lt,_camera,vt,St,-1),setPoint("f1",dt,lt,_camera,-vt,-St,1),setPoint("f2",dt,lt,_camera,vt,-St,1),setPoint("f3",dt,lt,_camera,-vt,St,1),setPoint("f4",dt,lt,_camera,vt,St,1),setPoint("u1",dt,lt,_camera,vt*.7,St*1.1,-1),setPoint("u2",dt,lt,_camera,-vt*.7,St*1.1,-1),setPoint("u3",dt,lt,_camera,0,St*2,-1),setPoint("cf1",dt,lt,_camera,-vt,0,1),setPoint("cf2",dt,lt,_camera,vt,0,1),setPoint("cf3",dt,lt,_camera,0,-St,1),setPoint("cf4",dt,lt,_camera,0,St,1),setPoint("cn1",dt,lt,_camera,-vt,0,-1),setPoint("cn2",dt,lt,_camera,vt,0,-1),setPoint("cn3",dt,lt,_camera,0,-St,-1),setPoint("cn4",dt,lt,_camera,0,St,-1),lt.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(ft,lt,dt,vt,St,Et,At){_vector$d.set(St,Et,At).unproject(vt);const Ct=lt[ft];if(Ct!==void 0){const Tt=dt.getAttribute("position");for(let Rt=0,Bt=Ct.length;Rt<Bt;Rt++)Tt.setXYZ(Ct[Rt],_vector$d.x,_vector$d.y,_vector$d.z)}}const _box$4=new Box3;class BoxHelper extends LineSegments{constructor(lt,dt=16776960){const vt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),St=new Float32Array(8*3),Et=new BufferGeometry;Et.setIndex(new BufferAttribute(vt,1)),Et.setAttribute("position",new BufferAttribute(St,3)),super(Et,new LineBasicMaterial({color:dt,toneMapped:!1})),this.object=lt,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(lt){if(lt!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box$4.setFromObject(this.object),_box$4.isEmpty())return;const dt=_box$4.min,vt=_box$4.max,St=this.geometry.attributes.position,Et=St.array;Et[0]=vt.x,Et[1]=vt.y,Et[2]=vt.z,Et[3]=dt.x,Et[4]=vt.y,Et[5]=vt.z,Et[6]=dt.x,Et[7]=dt.y,Et[8]=vt.z,Et[9]=vt.x,Et[10]=dt.y,Et[11]=vt.z,Et[12]=vt.x,Et[13]=vt.y,Et[14]=dt.z,Et[15]=dt.x,Et[16]=vt.y,Et[17]=dt.z,Et[18]=dt.x,Et[19]=dt.y,Et[20]=dt.z,Et[21]=vt.x,Et[22]=dt.y,Et[23]=dt.z,St.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(lt){return this.object=lt,this.update(),this}copy(lt,dt){return super.copy(lt,dt),this.object=lt.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(lt,dt=16776960){const vt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),St=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],Et=new BufferGeometry;Et.setIndex(new BufferAttribute(vt,1)),Et.setAttribute("position",new Float32BufferAttribute(St,3)),super(Et,new LineBasicMaterial({color:dt,toneMapped:!1})),this.box=lt,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(lt){const dt=this.box;dt.isEmpty()||(dt.getCenter(this.position),dt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(lt))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line$1{constructor(lt,dt=1,vt=16776960){const St=vt,Et=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],At=new BufferGeometry;At.setAttribute("position",new Float32BufferAttribute(Et,3)),At.computeBoundingSphere(),super(At,new LineBasicMaterial({color:St,toneMapped:!1})),this.type="PlaneHelper",this.plane=lt,this.size=dt;const Ct=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],Tt=new BufferGeometry;Tt.setAttribute("position",new Float32BufferAttribute(Ct,3)),Tt.computeBoundingSphere(),this.add(new Mesh(Tt,new MeshBasicMaterial({color:St,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(lt){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(lt)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(lt=new Vector3(0,0,1),dt=new Vector3(0,0,0),vt=1,St=16776960,Et=vt*.2,At=Et*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(dt),this.line=new Line$1(_lineGeometry,new LineBasicMaterial({color:St,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:St,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(lt),this.setLength(vt,Et,At)}setDirection(lt){if(lt.y>.99999)this.quaternion.set(0,0,0,1);else if(lt.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(lt.z,0,-lt.x).normalize();const dt=Math.acos(lt.y);this.quaternion.setFromAxisAngle(_axis,dt)}}setLength(lt,dt=lt*.2,vt=dt*.2){this.line.scale.set(1,Math.max(1e-4,lt-dt),1),this.line.updateMatrix(),this.cone.scale.set(vt,dt,vt),this.cone.position.y=lt,this.cone.updateMatrix()}setColor(lt){this.line.material.color.set(lt),this.cone.material.color.set(lt)}copy(lt){return super.copy(lt,!1),this.line.copy(lt.line),this.cone.copy(lt.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(lt=1){const dt=[0,0,0,lt,0,0,0,0,0,0,lt,0,0,0,0,0,0,lt],vt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute(dt,3)),St.setAttribute("color",new Float32BufferAttribute(vt,3));const Et=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(St,Et),this.type="AxesHelper"}setColors(lt,dt,vt){const St=new Color,Et=this.geometry.attributes.color.array;return St.set(lt),St.toArray(Et,0),St.toArray(Et,3),St.set(dt),St.toArray(Et,6),St.toArray(Et,9),St.set(vt),St.toArray(Et,12),St.toArray(Et,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(lt,dt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(lt,dt),this}lineTo(lt,dt){return this.currentPath.lineTo(lt,dt),this}quadraticCurveTo(lt,dt,vt,St){return this.currentPath.quadraticCurveTo(lt,dt,vt,St),this}bezierCurveTo(lt,dt,vt,St,Et,At){return this.currentPath.bezierCurveTo(lt,dt,vt,St,Et,At),this}splineThru(lt){return this.currentPath.splineThru(lt),this}toShapes(lt){function dt(Wt){const Zt=[];for(let Ht=0,nr=Wt.length;Ht<nr;Ht++){const sr=Wt[Ht],ar=new Shape;ar.curves=sr.curves,Zt.push(ar)}return Zt}function vt(Wt,Zt){const Ht=Zt.length;let nr=!1;for(let sr=Ht-1,ar=0;ar<Ht;sr=ar++){let ir=Zt[sr],rr=Zt[ar],lr=rr.x-ir.x,ur=rr.y-ir.y;if(Math.abs(ur)>Number.EPSILON){if(ur<0&&(ir=Zt[ar],lr=-lr,rr=Zt[sr],ur=-ur),Wt.y<ir.y||Wt.y>rr.y)continue;if(Wt.y===ir.y){if(Wt.x===ir.x)return!0}else{const dr=ur*(Wt.x-ir.x)-lr*(Wt.y-ir.y);if(dr===0)return!0;if(dr<0)continue;nr=!nr}}else{if(Wt.y!==ir.y)continue;if(rr.x<=Wt.x&&Wt.x<=ir.x||ir.x<=Wt.x&&Wt.x<=rr.x)return!0}}return nr}const St=ShapeUtils.isClockWise,Et=this.subPaths;if(Et.length===0)return[];let At,Ct,Tt;const Rt=[];if(Et.length===1)return Ct=Et[0],Tt=new Shape,Tt.curves=Ct.curves,Rt.push(Tt),Rt;let Bt=!St(Et[0].getPoints());Bt=lt?!Bt:Bt;const Dt=[],Ft=[];let kt=[],Ut=0,Kt;Ft[Ut]=void 0,kt[Ut]=[];for(let Wt=0,Zt=Et.length;Wt<Zt;Wt++)Ct=Et[Wt],Kt=Ct.getPoints(),At=St(Kt),At=lt?!At:At,At?(!Bt&&Ft[Ut]&&Ut++,Ft[Ut]={s:new Shape,p:Kt},Ft[Ut].s.curves=Ct.curves,Bt&&Ut++,kt[Ut]=[]):kt[Ut].push({h:Ct,p:Kt[0]});if(!Ft[0])return dt(Et);if(Ft.length>1){let Wt=!1,Zt=0;for(let Ht=0,nr=Ft.length;Ht<nr;Ht++)Dt[Ht]=[];for(let Ht=0,nr=Ft.length;Ht<nr;Ht++){const sr=kt[Ht];for(let ar=0;ar<sr.length;ar++){const ir=sr[ar];let rr=!0;for(let lr=0;lr<Ft.length;lr++)vt(ir.p,Ft[lr].p)&&(Ht!==lr&&Zt++,rr?(rr=!1,Dt[lr].push(ir)):Wt=!0);rr&&Dt[Ht].push(ir)}}Zt>0&&Wt===!1&&(kt=Dt)}let tr;for(let Wt=0,Zt=Ft.length;Wt<Zt;Wt++){Tt=Ft[Wt].s,Rt.push(Tt),tr=kt[Wt];for(let Ht=0,nr=tr.length;Ht<nr;Ht++)Tt.holes.push(tr[Ht].h)}return Rt}}const _tables=_generateTables();function _generateTables(){const ft=new ArrayBuffer(4),lt=new Float32Array(ft),dt=new Uint32Array(ft),vt=new Uint32Array(512),St=new Uint32Array(512);for(let Tt=0;Tt<256;++Tt){const Rt=Tt-127;Rt<-27?(vt[Tt]=0,vt[Tt|256]=32768,St[Tt]=24,St[Tt|256]=24):Rt<-14?(vt[Tt]=1024>>-Rt-14,vt[Tt|256]=1024>>-Rt-14|32768,St[Tt]=-Rt-1,St[Tt|256]=-Rt-1):Rt<=15?(vt[Tt]=Rt+15<<10,vt[Tt|256]=Rt+15<<10|32768,St[Tt]=13,St[Tt|256]=13):Rt<128?(vt[Tt]=31744,vt[Tt|256]=64512,St[Tt]=24,St[Tt|256]=24):(vt[Tt]=31744,vt[Tt|256]=64512,St[Tt]=13,St[Tt|256]=13)}const Et=new Uint32Array(2048),At=new Uint32Array(64),Ct=new Uint32Array(64);for(let Tt=1;Tt<1024;++Tt){let Rt=Tt<<13,Bt=0;for(;!(Rt&8388608);)Rt<<=1,Bt-=8388608;Rt&=-8388609,Bt+=947912704,Et[Tt]=Rt|Bt}for(let Tt=1024;Tt<2048;++Tt)Et[Tt]=939524096+(Tt-1024<<13);for(let Tt=1;Tt<31;++Tt)At[Tt]=Tt<<23;At[31]=1199570944,At[32]=2147483648;for(let Tt=33;Tt<63;++Tt)At[Tt]=2147483648+(Tt-32<<23);At[63]=3347054592;for(let Tt=1;Tt<64;++Tt)Tt!==32&&(Ct[Tt]=1024);return{floatView:lt,uint32View:dt,baseTable:vt,shiftTable:St,mantissaTable:Et,exponentTable:At,offsetTable:Ct}}function toHalfFloat(ft){Math.abs(ft)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),ft=clamp(ft,-65504,65504),_tables.floatView[0]=ft;const lt=_tables.uint32View[0],dt=lt>>23&511;return _tables.baseTable[dt]+((lt&8388607)>>_tables.shiftTable[dt])}function fromHalfFloat(ft){const lt=ft>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[lt]+(ft&1023)]+_tables.exponentTable[lt],_tables.floatView[0]}var DataUtils=Object.freeze({__proto__:null,fromHalfFloat,toHalfFloat});class BoxBufferGeometry extends BoxGeometry{constructor(lt,dt,vt,St,Et,At){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(lt,dt,vt,St,Et,At)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(lt,dt,vt,St){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(lt,dt,vt,St)}}class CircleBufferGeometry extends CircleGeometry{constructor(lt,dt,vt,St){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(lt,dt,vt,St)}}class ConeBufferGeometry extends ConeGeometry{constructor(lt,dt,vt,St,Et,At,Ct){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(lt,dt,vt,St,Et,At,Ct)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(lt,dt,vt,St,Et,At,Ct,Tt){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(lt,dt,vt,St,Et,At,Ct,Tt)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(lt,dt){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(lt,dt)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(lt,dt){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(lt,dt)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(lt,dt){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(lt,dt)}}class LatheBufferGeometry extends LatheGeometry{constructor(lt,dt,vt,St){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(lt,dt,vt,St)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(lt,dt){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(lt,dt)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(lt,dt,vt,St){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(lt,dt,vt,St)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(lt,dt,vt,St){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(lt,dt,vt,St)}}class RingBufferGeometry extends RingGeometry{constructor(lt,dt,vt,St,Et,At){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(lt,dt,vt,St,Et,At)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(lt,dt){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(lt,dt)}}class SphereBufferGeometry extends SphereGeometry{constructor(lt,dt,vt,St,Et,At,Ct){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(lt,dt,vt,St,Et,At,Ct)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(lt,dt){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(lt,dt)}}class TorusBufferGeometry extends TorusGeometry{constructor(lt,dt,vt,St,Et){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(lt,dt,vt,St,Et)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(lt,dt,vt,St,Et,At){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(lt,dt,vt,St,Et,At)}}class TubeBufferGeometry extends TubeGeometry{constructor(lt,dt,vt,St,Et){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(lt,dt,vt,St,Et)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const r$4=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line:Line$1,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera:PerspectiveCamera$1,Plane:Plane$1,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,Scene:Scene$1,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere:Sphere$1,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$4(ft){let lt;const dt=new Set,vt=(Rt,Bt)=>{const Dt=typeof Rt=="function"?Rt(lt):Rt;if(Dt!==lt){const Ft=lt;lt=Bt?Dt:Object.assign({},lt,Dt),dt.forEach(kt=>kt(lt,Ft))}},St=()=>lt,Et=(Rt,Bt=St,Dt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Ft=Bt(lt);function kt(){const Ut=Bt(lt);if(!Dt(Ft,Ut)){const Kt=Ft;Rt(Ft=Ut,Kt)}}return dt.add(kt),()=>dt.delete(kt)},Tt={setState:vt,getState:St,subscribe:(Rt,Bt,Dt)=>Bt||Dt?Et(Rt,Bt,Dt):(dt.add(Rt),()=>dt.delete(Rt)),destroy:()=>dt.clear()};return lt=ft(vt,St,Tt),Tt}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$4(ft){const lt=typeof ft=="function"?createStore$4(ft):ft,dt=(vt=lt.getState,St=Object.is)=>{const[,Et]=reactExports.useReducer(tr=>tr+1,0),At=lt.getState(),Ct=reactExports.useRef(At),Tt=reactExports.useRef(vt),Rt=reactExports.useRef(St),Bt=reactExports.useRef(!1),Dt=reactExports.useRef();Dt.current===void 0&&(Dt.current=vt(At));let Ft,kt=!1;(Ct.current!==At||Tt.current!==vt||Rt.current!==St||Bt.current)&&(Ft=vt(At),kt=!St(Dt.current,Ft)),useIsomorphicLayoutEffect$2(()=>{kt&&(Dt.current=Ft),Ct.current=At,Tt.current=vt,Rt.current=St,Bt.current=!1});const Ut=reactExports.useRef(At);useIsomorphicLayoutEffect$2(()=>{const tr=()=>{try{const Zt=lt.getState(),Ht=Tt.current(Zt);Rt.current(Dt.current,Ht)||(Ct.current=Zt,Dt.current=Ht,Et())}catch{Bt.current=!0,Et()}},Wt=lt.subscribe(tr);return lt.getState()!==Ut.current&&tr(),Wt},[]);const Kt=kt?Ft:Dt.current;return reactExports.useDebugValue(Kt),Kt};return Object.assign(dt,lt),dt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const vt=[dt,lt];return{next(){const St=vt.length<=0;return{value:vt.shift(),done:St}}}},dt}var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(ft){function lt(cr,pr){var Er=cr.length;cr.push(pr);e:for(;0<Er;){var _r=Er-1>>>1,Ar=cr[_r];if(0<St(Ar,pr))cr[_r]=pr,cr[Er]=Ar,Er=_r;else break e}}function dt(cr){return cr.length===0?null:cr[0]}function vt(cr){if(cr.length===0)return null;var pr=cr[0],Er=cr.pop();if(Er!==pr){cr[0]=Er;e:for(var _r=0,Ar=cr.length,Pr=Ar>>>1;_r<Pr;){var Ir=2*(_r+1)-1,kr=cr[Ir],Dr=Ir+1,Jr=cr[Dr];if(0>St(kr,Er))Dr<Ar&&0>St(Jr,kr)?(cr[_r]=Jr,cr[Dr]=Er,_r=Dr):(cr[_r]=kr,cr[Ir]=Er,_r=Ir);else if(Dr<Ar&&0>St(Jr,Er))cr[_r]=Jr,cr[Dr]=Er,_r=Dr;else break e}}return pr}function St(cr,pr){var Er=cr.sortIndex-pr.sortIndex;return Er!==0?Er:cr.id-pr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Et=performance;ft.unstable_now=function(){return Et.now()}}else{var At=Date,Ct=At.now();ft.unstable_now=function(){return At.now()-Ct}}var Tt=[],Rt=[],Bt=1,Dt=null,Ft=3,kt=!1,Ut=!1,Kt=!1,tr=typeof setTimeout=="function"?setTimeout:null,Wt=typeof clearTimeout=="function"?clearTimeout:null,Zt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ht(cr){for(var pr=dt(Rt);pr!==null;){if(pr.callback===null)vt(Rt);else if(pr.startTime<=cr)vt(Rt),pr.sortIndex=pr.expirationTime,lt(Tt,pr);else break;pr=dt(Rt)}}function nr(cr){if(Kt=!1,Ht(cr),!Ut)if(dt(Tt)!==null)Ut=!0,Sr(sr);else{var pr=dt(Rt);pr!==null&&br(nr,pr.startTime-cr)}}function sr(cr,pr){Ut=!1,Kt&&(Kt=!1,Wt(rr),rr=-1),kt=!0;var Er=Ft;try{for(Ht(pr),Dt=dt(Tt);Dt!==null&&(!(Dt.expirationTime>pr)||cr&&!dr());){var _r=Dt.callback;if(typeof _r=="function"){Dt.callback=null,Ft=Dt.priorityLevel;var Ar=_r(Dt.expirationTime<=pr);pr=ft.unstable_now(),typeof Ar=="function"?Dt.callback=Ar:Dt===dt(Tt)&&vt(Tt),Ht(pr)}else vt(Tt);Dt=dt(Tt)}if(Dt!==null)var Pr=!0;else{var Ir=dt(Rt);Ir!==null&&br(nr,Ir.startTime-pr),Pr=!1}return Pr}finally{Dt=null,Ft=Er,kt=!1}}var ar=!1,ir=null,rr=-1,lr=5,ur=-1;function dr(){return!(ft.unstable_now()-ur<lr)}function mr(){if(ir!==null){var cr=ft.unstable_now();ur=cr;var pr=!0;try{pr=ir(!0,cr)}finally{pr?Cr():(ar=!1,ir=null)}}else ar=!1}var Cr;if(typeof Zt=="function")Cr=function(){Zt(mr)};else if(typeof MessageChannel<"u"){var yr=new MessageChannel,xr=yr.port2;yr.port1.onmessage=mr,Cr=function(){xr.postMessage(null)}}else Cr=function(){tr(mr,0)};function Sr(cr){ir=cr,ar||(ar=!0,Cr())}function br(cr,pr){rr=tr(function(){cr(ft.unstable_now())},pr)}ft.unstable_IdlePriority=5,ft.unstable_ImmediatePriority=1,ft.unstable_LowPriority=4,ft.unstable_NormalPriority=3,ft.unstable_Profiling=null,ft.unstable_UserBlockingPriority=2,ft.unstable_cancelCallback=function(cr){cr.callback=null},ft.unstable_continueExecution=function(){Ut||kt||(Ut=!0,Sr(sr))},ft.unstable_forceFrameRate=function(cr){0>cr||125<cr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lr=0<cr?Math.floor(1e3/cr):5},ft.unstable_getCurrentPriorityLevel=function(){return Ft},ft.unstable_getFirstCallbackNode=function(){return dt(Tt)},ft.unstable_next=function(cr){switch(Ft){case 1:case 2:case 3:var pr=3;break;default:pr=Ft}var Er=Ft;Ft=pr;try{return cr()}finally{Ft=Er}},ft.unstable_pauseExecution=function(){},ft.unstable_requestPaint=function(){},ft.unstable_runWithPriority=function(cr,pr){switch(cr){case 1:case 2:case 3:case 4:case 5:break;default:cr=3}var Er=Ft;Ft=cr;try{return pr()}finally{Ft=Er}},ft.unstable_scheduleCallback=function(cr,pr,Er){var _r=ft.unstable_now();switch(typeof Er=="object"&&Er!==null?(Er=Er.delay,Er=typeof Er=="number"&&0<Er?_r+Er:_r):Er=_r,cr){case 1:var Ar=-1;break;case 2:Ar=250;break;case 5:Ar=1073741823;break;case 4:Ar=1e4;break;default:Ar=5e3}return Ar=Er+Ar,cr={id:Bt++,callback:pr,priorityLevel:cr,startTime:Er,expirationTime:Ar,sortIndex:-1},Er>_r?(cr.sortIndex=Er,lt(Rt,cr),dt(Tt)===null&&cr===dt(Rt)&&(Kt?(Wt(rr),rr=-1):Kt=!0,br(nr,Er-_r))):(cr.sortIndex=Ar,lt(Tt,cr),Ut||kt||(Ut=!0,Sr(sr))),cr},ft.unstable_shouldYield=dr,ft.unstable_wrapCallback=function(cr){var pr=Ft;return function(){var Er=Ft;Ft=pr;try{return cr.apply(this,arguments)}finally{Ft=Er}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler$1.exports=requireScheduler_production_min()),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(lt){var dt={},vt=reactExports,St=requireScheduler(),Et=Object.assign;function At(Nt){for(var zt="https://reactjs.org/docs/error-decoder.html?invariant="+Nt,hr=1;hr<arguments.length;hr++)zt+="&args[]="+encodeURIComponent(arguments[hr]);return"Minified React error #"+Nt+"; visit "+zt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ct=vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tt=Symbol.for("react.element"),Rt=Symbol.for("react.portal"),Bt=Symbol.for("react.fragment"),Dt=Symbol.for("react.strict_mode"),Ft=Symbol.for("react.profiler"),kt=Symbol.for("react.provider"),Ut=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),tr=Symbol.for("react.suspense"),Wt=Symbol.for("react.suspense_list"),Zt=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),nr=Symbol.for("react.offscreen"),sr=Symbol.iterator;function ar(Nt){return Nt===null||typeof Nt!="object"?null:(Nt=sr&&Nt[sr]||Nt["@@iterator"],typeof Nt=="function"?Nt:null)}function ir(Nt){if(Nt==null)return null;if(typeof Nt=="function")return Nt.displayName||Nt.name||null;if(typeof Nt=="string")return Nt;switch(Nt){case Bt:return"Fragment";case Rt:return"Portal";case Ft:return"Profiler";case Dt:return"StrictMode";case tr:return"Suspense";case Wt:return"SuspenseList"}if(typeof Nt=="object")switch(Nt.$$typeof){case Ut:return(Nt.displayName||"Context")+".Consumer";case kt:return(Nt._context.displayName||"Context")+".Provider";case Kt:var zt=Nt.render;return Nt=Nt.displayName,Nt||(Nt=zt.displayName||zt.name||"",Nt=Nt!==""?"ForwardRef("+Nt+")":"ForwardRef"),Nt;case Zt:return zt=Nt.displayName||null,zt!==null?zt:ir(Nt.type)||"Memo";case Ht:zt=Nt._payload,Nt=Nt._init;try{return ir(Nt(zt))}catch{}}return null}function rr(Nt){var zt=Nt.type;switch(Nt.tag){case 24:return"Cache";case 9:return(zt.displayName||"Context")+".Consumer";case 10:return(zt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Nt=zt.render,Nt=Nt.displayName||Nt.name||"",zt.displayName||(Nt!==""?"ForwardRef("+Nt+")":"ForwardRef");case 7:return"Fragment";case 5:return zt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ir(zt);case 8:return zt===Dt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof zt=="function")return zt.displayName||zt.name||null;if(typeof zt=="string")return zt}return null}function lr(Nt){var zt=Nt,hr=Nt;if(Nt.alternate)for(;zt.return;)zt=zt.return;else{Nt=zt;do zt=Nt,zt.flags&4098&&(hr=zt.return),Nt=zt.return;while(Nt)}return zt.tag===3?hr:null}function ur(Nt){if(lr(Nt)!==Nt)throw Error(At(188))}function dr(Nt){var zt=Nt.alternate;if(!zt){if(zt=lr(Nt),zt===null)throw Error(At(188));return zt!==Nt?null:Nt}for(var hr=Nt,gr=zt;;){var wr=hr.return;if(wr===null)break;var Tr=wr.alternate;if(Tr===null){if(gr=wr.return,gr!==null){hr=gr;continue}break}if(wr.child===Tr.child){for(Tr=wr.child;Tr;){if(Tr===hr)return ur(wr),Nt;if(Tr===gr)return ur(wr),zt;Tr=Tr.sibling}throw Error(At(188))}if(hr.return!==gr.return)hr=wr,gr=Tr;else{for(var Wr=!1,tn=wr.child;tn;){if(tn===hr){Wr=!0,hr=wr,gr=Tr;break}if(tn===gr){Wr=!0,gr=wr,hr=Tr;break}tn=tn.sibling}if(!Wr){for(tn=Tr.child;tn;){if(tn===hr){Wr=!0,hr=Tr,gr=wr;break}if(tn===gr){Wr=!0,gr=Tr,hr=wr;break}tn=tn.sibling}if(!Wr)throw Error(At(189))}}if(hr.alternate!==gr)throw Error(At(190))}if(hr.tag!==3)throw Error(At(188));return hr.stateNode.current===hr?Nt:zt}function mr(Nt){return Nt=dr(Nt),Nt!==null?Cr(Nt):null}function Cr(Nt){if(Nt.tag===5||Nt.tag===6)return Nt;for(Nt=Nt.child;Nt!==null;){var zt=Cr(Nt);if(zt!==null)return zt;Nt=Nt.sibling}return null}function yr(Nt){if(Nt.tag===5||Nt.tag===6)return Nt;for(Nt=Nt.child;Nt!==null;){if(Nt.tag!==4){var zt=yr(Nt);if(zt!==null)return zt}Nt=Nt.sibling}return null}var xr=Array.isArray,Sr=lt.getPublicInstance,br=lt.getRootHostContext,cr=lt.getChildHostContext,pr=lt.prepareForCommit,Er=lt.resetAfterCommit,_r=lt.createInstance,Ar=lt.appendInitialChild,Pr=lt.finalizeInitialChildren,Ir=lt.prepareUpdate,kr=lt.shouldSetTextContent,Dr=lt.createTextInstance,Jr=lt.scheduleTimeout,Or=lt.cancelTimeout,jr=lt.noTimeout,Nr=lt.isPrimaryRenderer,Vr=lt.supportsMutation,Br=lt.supportsPersistence,zr=lt.supportsHydration,qr=lt.getInstanceFromNode,en=lt.preparePortalMount,cn=lt.getCurrentEventPriority,Rn=lt.detachDeletedInstance,Qr=lt.supportsMicrotasks,yn=lt.scheduleMicrotask,Pn=lt.supportsTestSelectors,pn=lt.findFiberRoot,Fr=lt.getBoundingRect,Rr=lt.getTextContent,Yr=lt.isHiddenSubtree,fn=lt.matchAccessibilityRole,Cn=lt.setFocusIfFocusable,An=lt.setupIntersectionObserver,Dn=lt.appendChild,In=lt.appendChildToContainer,mn=lt.commitTextUpdate,Nn=lt.commitMount,Kr=lt.commitUpdate,hn=lt.insertBefore,En=lt.insertInContainerBefore,xn=lt.removeChild,On=lt.removeChildFromContainer,Wn=lt.resetTextContent,es=lt.hideInstance,Xr=lt.hideTextInstance,dn=lt.unhideInstance,Ln=lt.unhideTextInstance,Vn=lt.clearContainer,jn=lt.cloneInstance,ts=lt.createContainerChildSet,_s=lt.appendChildToContainerChildSet,Es=lt.finalizeContainerChildren,xs=lt.replaceContainerChildren,gs=lt.cloneHiddenInstance,bs=lt.cloneHiddenTextInstance,vs=lt.canHydrateInstance,oo=lt.canHydrateTextInstance,ro=lt.canHydrateSuspenseInstance,Cs=lt.isSuspenseInstancePending,Ns=lt.isSuspenseInstanceFallback,Gr=lt.registerSuspenseInstanceRetry,an=lt.getNextHydratableSibling,vn=lt.getFirstHydratableChild,ln=lt.getFirstHydratableChildWithinContainer,Mn=lt.getFirstHydratableChildWithinSuspenseInstance,Kn=lt.hydrateInstance,Qn=lt.hydrateTextInstance,Zn=lt.hydrateSuspenseInstance,as=lt.getNextHydratableInstanceAfterSuspenseInstance,cs=lt.commitHydratedContainer,fs=lt.commitHydratedSuspenseInstance,ds=lt.clearSuspenseBoundary,Fs=lt.clearSuspenseBoundaryFromContainer,Ds=lt.shouldDeleteUnhydratedTailInstances,ho=lt.didNotMatchHydratedContainerTextInstance,So=lt.didNotMatchHydratedTextInstance,Gn;function rs(Nt){if(Gn===void 0)try{throw Error()}catch(hr){var zt=hr.stack.trim().match(/\n( *(at )?)/);Gn=zt&&zt[1]||""}return`
`+Gn+Nt}var Jo=!1;function Ms(Nt,zt){if(!Nt||Jo)return"";Jo=!0;var hr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(zt)if(zt=function(){throw Error()},Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(Un){var gr=Un}Reflect.construct(Nt,[],zt)}else{try{zt.call()}catch(Un){gr=Un}Nt.call(zt.prototype)}else{try{throw Error()}catch(Un){gr=Un}Nt()}}catch(Un){if(Un&&gr&&typeof Un.stack=="string"){for(var wr=Un.stack.split(`
`),Tr=gr.stack.split(`
`),Wr=wr.length-1,tn=Tr.length-1;1<=Wr&&0<=tn&&wr[Wr]!==Tr[tn];)tn--;for(;1<=Wr&&0<=tn;Wr--,tn--)if(wr[Wr]!==Tr[tn]){if(Wr!==1||tn!==1)do if(Wr--,tn--,0>tn||wr[Wr]!==Tr[tn]){var Tn=`
`+wr[Wr].replace(" at new "," at ");return Nt.displayName&&Tn.includes("<anonymous>")&&(Tn=Tn.replace("<anonymous>",Nt.displayName)),Tn}while(1<=Wr&&0<=tn);break}}}finally{Jo=!1,Error.prepareStackTrace=hr}return(Nt=Nt?Nt.displayName||Nt.name:"")?rs(Nt):""}var wo=Object.prototype.hasOwnProperty,No=[],Us=-1;function no(Nt){return{current:Nt}}function ss(Nt){0>Us||(Nt.current=No[Us],No[Us]=null,Us--)}function hs(Nt,zt){Us++,No[Us]=Nt.current,Nt.current=zt}var po={},As=no(po),js=no(!1),Zs=po;function Eo(Nt,zt){var hr=Nt.type.contextTypes;if(!hr)return po;var gr=Nt.stateNode;if(gr&&gr.__reactInternalMemoizedUnmaskedChildContext===zt)return gr.__reactInternalMemoizedMaskedChildContext;var wr={},Tr;for(Tr in hr)wr[Tr]=zt[Tr];return gr&&(Nt=Nt.stateNode,Nt.__reactInternalMemoizedUnmaskedChildContext=zt,Nt.__reactInternalMemoizedMaskedChildContext=wr),wr}function Os(Nt){return Nt=Nt.childContextTypes,Nt!=null}function Yo(){ss(js),ss(As)}function El(Nt,zt,hr){if(As.current!==po)throw Error(At(168));hs(As,zt),hs(js,hr)}function Bl(Nt,zt,hr){var gr=Nt.stateNode;if(zt=zt.childContextTypes,typeof gr.getChildContext!="function")return hr;gr=gr.getChildContext();for(var wr in gr)if(!(wr in zt))throw Error(At(108,rr(Nt)||"Unknown",wr));return Et({},hr,gr)}function Uo(Nt){return Nt=(Nt=Nt.stateNode)&&Nt.__reactInternalMemoizedMergedChildContext||po,Zs=As.current,hs(As,Nt),hs(js,js.current),!0}function ou(Nt,zt,hr){var gr=Nt.stateNode;if(!gr)throw Error(At(169));hr?(Nt=Bl(Nt,zt,Zs),gr.__reactInternalMemoizedMergedChildContext=Nt,ss(js),ss(As),hs(As,Nt)):ss(js),hs(js,hr)}var ao=Math.clz32?Math.clz32:au,Al=Math.log,Cl=Math.LN2;function au(Nt){return Nt>>>=0,Nt===0?32:31-(Al(Nt)/Cl|0)|0}var Go=64,To=4194304;function go(Nt){switch(Nt&-Nt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Nt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Nt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Nt}}function Ml(Nt,zt){var hr=Nt.pendingLanes;if(hr===0)return 0;var gr=0,wr=Nt.suspendedLanes,Tr=Nt.pingedLanes,Wr=hr&268435455;if(Wr!==0){var tn=Wr&~wr;tn!==0?gr=go(tn):(Tr&=Wr,Tr!==0&&(gr=go(Tr)))}else Wr=hr&~wr,Wr!==0?gr=go(Wr):Tr!==0&&(gr=go(Tr));if(gr===0)return 0;if(zt!==0&&zt!==gr&&!(zt&wr)&&(wr=gr&-gr,Tr=zt&-zt,wr>=Tr||wr===16&&(Tr&4194240)!==0))return zt;if(gr&4&&(gr|=hr&16),zt=Nt.entangledLanes,zt!==0)for(Nt=Nt.entanglements,zt&=gr;0<zt;)hr=31-ao(zt),wr=1<<hr,gr|=Nt[hr],zt&=~wr;return gr}function lu(Nt,zt){switch(Nt){case 1:case 2:case 4:return zt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return zt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(Nt,zt){for(var hr=Nt.suspendedLanes,gr=Nt.pingedLanes,wr=Nt.expirationTimes,Tr=Nt.pendingLanes;0<Tr;){var Wr=31-ao(Tr),tn=1<<Wr,Tn=wr[Wr];Tn===-1?(!(tn&hr)||tn&gr)&&(wr[Wr]=lu(tn,zt)):Tn<=zt&&(Nt.expiredLanes|=tn),Tr&=~tn}}function Qo(Nt){return Nt=Nt.pendingLanes&-1073741825,Nt!==0?Nt:Nt&1073741824?1073741824:0}function Dl(Nt){for(var zt=[],hr=0;31>hr;hr++)zt.push(Nt);return zt}function Vo(Nt,zt,hr){Nt.pendingLanes|=zt,zt!==536870912&&(Nt.suspendedLanes=0,Nt.pingedLanes=0),Nt=Nt.eventTimes,zt=31-ao(zt),Nt[zt]=hr}function yl(Nt,zt){var hr=Nt.pendingLanes&~zt;Nt.pendingLanes=zt,Nt.suspendedLanes=0,Nt.pingedLanes=0,Nt.expiredLanes&=zt,Nt.mutableReadLanes&=zt,Nt.entangledLanes&=zt,zt=Nt.entanglements;var gr=Nt.eventTimes;for(Nt=Nt.expirationTimes;0<hr;){var wr=31-ao(hr),Tr=1<<wr;zt[wr]=0,gr[wr]=-1,Nt[wr]=-1,hr&=~Tr}}function zo(Nt,zt){var hr=Nt.entangledLanes|=zt;for(Nt=Nt.entanglements;hr;){var gr=31-ao(hr),wr=1<<gr;wr&zt|Nt[gr]&zt&&(Nt[gr]|=zt),hr&=~wr}}var os=0;function Fl(Nt){return Nt&=-Nt,1<Nt?4<Nt?Nt&268435455?16:536870912:4:1}var Zo=St.unstable_scheduleCallback,na=St.unstable_cancelCallback,Kl=St.unstable_shouldYield,Ol=St.unstable_requestPaint,Gs=St.unstable_now,ga=St.unstable_ImmediatePriority,Xl=St.unstable_UserBlockingPriority,lo=St.unstable_NormalPriority,_a=St.unstable_IdlePriority,xa=null,bo=null;function Jl(Nt){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(xa,Nt,void 0,(Nt.current.flags&128)===128)}catch{}}function Nl(Nt,zt){return Nt===zt&&(Nt!==0||1/Nt===1/zt)||Nt!==Nt&&zt!==zt}var Hr=typeof Object.is=="function"?Object.is:Nl,Zr=null,Bn=!1,zn=!1;function Rs(Nt){Zr===null?Zr=[Nt]:Zr.push(Nt)}function ns(Nt){Bn=!0,Rs(Nt)}function Ss(){if(!zn&&Zr!==null){zn=!0;var Nt=0,zt=os;try{var hr=Zr;for(os=1;Nt<hr.length;Nt++){var gr=hr[Nt];do gr=gr(!0);while(gr!==null)}Zr=null,Bn=!1}catch(wr){throw Zr!==null&&(Zr=Zr.slice(Nt+1)),Zo(ga,Ss),wr}finally{os=zt,zn=!1}}return null}var Vs=Ct.ReactCurrentBatchConfig;function zs(Nt,zt){if(Hr(Nt,zt))return!0;if(typeof Nt!="object"||Nt===null||typeof zt!="object"||zt===null)return!1;var hr=Object.keys(Nt),gr=Object.keys(zt);if(hr.length!==gr.length)return!1;for(gr=0;gr<hr.length;gr++){var wr=hr[gr];if(!wo.call(zt,wr)||!Hr(Nt[wr],zt[wr]))return!1}return!0}function Ls(Nt){switch(Nt.tag){case 5:return rs(Nt.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return Nt=Ms(Nt.type,!1),Nt;case 11:return Nt=Ms(Nt.type.render,!1),Nt;case 1:return Nt=Ms(Nt.type,!0),Nt;default:return""}}function Is(Nt,zt){if(Nt&&Nt.defaultProps){zt=Et({},zt),Nt=Nt.defaultProps;for(var hr in Nt)zt[hr]===void 0&&(zt[hr]=Nt[hr]);return zt}return zt}var Bs=no(null),Ws=null,$s=null,Ys=null;function Ao(){Ys=$s=Ws=null}function Ro(Nt,zt,hr){Nr?(hs(Bs,zt._currentValue),zt._currentValue=hr):(hs(Bs,zt._currentValue2),zt._currentValue2=hr)}function uo(Nt){var zt=Bs.current;ss(Bs),Nr?Nt._currentValue=zt:Nt._currentValue2=zt}function Ks(Nt,zt,hr){for(;Nt!==null;){var gr=Nt.alternate;if((Nt.childLanes&zt)!==zt?(Nt.childLanes|=zt,gr!==null&&(gr.childLanes|=zt)):gr!==null&&(gr.childLanes&zt)!==zt&&(gr.childLanes|=zt),Nt===hr)break;Nt=Nt.return}}function qs(Nt,zt){Ws=Nt,Ys=$s=null,Nt=Nt.dependencies,Nt!==null&&Nt.firstContext!==null&&(Nt.lanes&zt&&(Oo=!0),Nt.firstContext=null)}function ws(Nt){var zt=Nr?Nt._currentValue:Nt._currentValue2;if(Ys!==Nt)if(Nt={context:Nt,memoizedValue:zt,next:null},$s===null){if(Ws===null)throw Error(At(308));$s=Nt,Ws.dependencies={lanes:0,firstContext:Nt}}else $s=$s.next=Nt;return zt}var io=null,ba=!1;function yp(Nt){Nt.updateQueue={baseState:Nt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hm(Nt,zt){Nt=Nt.updateQueue,zt.updateQueue===Nt&&(zt.updateQueue={baseState:Nt.baseState,firstBaseUpdate:Nt.firstBaseUpdate,lastBaseUpdate:Nt.lastBaseUpdate,shared:Nt.shared,effects:Nt.effects})}function Tl(Nt,zt){return{eventTime:Nt,lane:zt,tag:0,payload:null,callback:null,next:null}}function Ul(Nt,zt){var hr=Nt.updateQueue;hr!==null&&(hr=hr.shared,eo!==null&&Nt.mode&1&&!(ys&2)?(Nt=hr.interleaved,Nt===null?(zt.next=zt,io===null?io=[hr]:io.push(hr)):(zt.next=Nt.next,Nt.next=zt),hr.interleaved=zt):(Nt=hr.pending,Nt===null?zt.next=zt:(zt.next=Nt.next,Nt.next=zt),hr.pending=zt))}function Ou(Nt,zt,hr){if(zt=zt.updateQueue,zt!==null&&(zt=zt.shared,(hr&4194240)!==0)){var gr=zt.lanes;gr&=Nt.pendingLanes,hr|=gr,zt.lanes=hr,zo(Nt,hr)}}function dm(Nt,zt){var hr=Nt.updateQueue,gr=Nt.alternate;if(gr!==null&&(gr=gr.updateQueue,hr===gr)){var wr=null,Tr=null;if(hr=hr.firstBaseUpdate,hr!==null){do{var Wr={eventTime:hr.eventTime,lane:hr.lane,tag:hr.tag,payload:hr.payload,callback:hr.callback,next:null};Tr===null?wr=Tr=Wr:Tr=Tr.next=Wr,hr=hr.next}while(hr!==null);Tr===null?wr=Tr=zt:Tr=Tr.next=zt}else wr=Tr=zt;hr={baseState:gr.baseState,firstBaseUpdate:wr,lastBaseUpdate:Tr,shared:gr.shared,effects:gr.effects},Nt.updateQueue=hr;return}Nt=hr.lastBaseUpdate,Nt===null?hr.firstBaseUpdate=zt:Nt.next=zt,hr.lastBaseUpdate=zt}function ku(Nt,zt,hr,gr){var wr=Nt.updateQueue;ba=!1;var Tr=wr.firstBaseUpdate,Wr=wr.lastBaseUpdate,tn=wr.shared.pending;if(tn!==null){wr.shared.pending=null;var Tn=tn,Un=Tn.next;Tn.next=null,Wr===null?Tr=Un:Wr.next=Un,Wr=Tn;var qn=Nt.alternate;qn!==null&&(qn=qn.updateQueue,tn=qn.lastBaseUpdate,tn!==Wr&&(tn===null?qn.firstBaseUpdate=Un:tn.next=Un,qn.lastBaseUpdate=Tn))}if(Tr!==null){var ls=wr.baseState;Wr=0,qn=Un=Tn=null,tn=Tr;do{var _i=tn.lane,ks=tn.eventTime;if((gr&_i)===_i){qn!==null&&(qn=qn.next={eventTime:ks,lane:0,tag:tn.tag,payload:tn.payload,callback:tn.callback,next:null});e:{var Yn=Nt,xo=tn;switch(_i=zt,ks=hr,xo.tag){case 1:if(Yn=xo.payload,typeof Yn=="function"){ls=Yn.call(ks,ls,_i);break e}ls=Yn;break e;case 3:Yn.flags=Yn.flags&-65537|128;case 0:if(Yn=xo.payload,_i=typeof Yn=="function"?Yn.call(ks,ls,_i):Yn,_i==null)break e;ls=Et({},ls,_i);break e;case 2:ba=!0}}tn.callback!==null&&tn.lane!==0&&(Nt.flags|=64,_i=wr.effects,_i===null?wr.effects=[tn]:_i.push(tn))}else ks={eventTime:ks,lane:_i,tag:tn.tag,payload:tn.payload,callback:tn.callback,next:null},qn===null?(Un=qn=ks,Tn=ls):qn=qn.next=ks,Wr|=_i;if(tn=tn.next,tn===null){if(tn=wr.shared.pending,tn===null)break;_i=tn,tn=_i.next,_i.next=null,wr.lastBaseUpdate=_i,wr.shared.pending=null}}while(1);if(qn===null&&(Tn=ls),wr.baseState=Tn,wr.firstBaseUpdate=Un,wr.lastBaseUpdate=qn,zt=wr.shared.interleaved,zt!==null){wr=zt;do Wr|=wr.lane,wr=wr.next;while(wr!==zt)}else Tr===null&&(wr.shared.lanes=0);vu|=Wr,Nt.lanes=Wr,Nt.memoizedState=ls}}function pm(Nt,zt,hr){if(Nt=zt.effects,zt.effects=null,Nt!==null)for(zt=0;zt<Nt.length;zt++){var gr=Nt[zt],wr=gr.callback;if(wr!==null){if(gr.callback=null,gr=hr,typeof wr!="function")throw Error(At(191,wr));wr.call(gr)}}}var mm=new vt.Component().refs;function _p(Nt,zt,hr,gr){zt=Nt.memoizedState,hr=hr(gr,zt),hr=hr==null?zt:Et({},zt,hr),Nt.memoizedState=hr,Nt.lanes===0&&(Nt.updateQueue.baseState=hr)}var Nu={isMounted:function(Nt){return(Nt=Nt._reactInternals)?lr(Nt)===Nt:!1},enqueueSetState:function(Nt,zt,hr){Nt=Nt._reactInternals;var gr=Mo(),wr=zl(Nt),Tr=Tl(gr,wr);Tr.payload=zt,hr!=null&&(Tr.callback=hr),Ul(Nt,Tr),zt=Ko(Nt,wr,gr),zt!==null&&Ou(zt,Nt,wr)},enqueueReplaceState:function(Nt,zt,hr){Nt=Nt._reactInternals;var gr=Mo(),wr=zl(Nt),Tr=Tl(gr,wr);Tr.tag=1,Tr.payload=zt,hr!=null&&(Tr.callback=hr),Ul(Nt,Tr),zt=Ko(Nt,wr,gr),zt!==null&&Ou(zt,Nt,wr)},enqueueForceUpdate:function(Nt,zt){Nt=Nt._reactInternals;var hr=Mo(),gr=zl(Nt),wr=Tl(hr,gr);wr.tag=2,zt!=null&&(wr.callback=zt),Ul(Nt,wr),zt=Ko(Nt,gr,hr),zt!==null&&Ou(zt,Nt,gr)}};function gm(Nt,zt,hr,gr,wr,Tr,Wr){return Nt=Nt.stateNode,typeof Nt.shouldComponentUpdate=="function"?Nt.shouldComponentUpdate(gr,Tr,Wr):zt.prototype&&zt.prototype.isPureReactComponent?!zs(hr,gr)||!zs(wr,Tr):!0}function vm(Nt,zt,hr){var gr=!1,wr=po,Tr=zt.contextType;return typeof Tr=="object"&&Tr!==null?Tr=ws(Tr):(wr=Os(zt)?Zs:As.current,gr=zt.contextTypes,Tr=(gr=gr!=null)?Eo(Nt,wr):po),zt=new zt(hr,Tr),Nt.memoizedState=zt.state!==null&&zt.state!==void 0?zt.state:null,zt.updater=Nu,Nt.stateNode=zt,zt._reactInternals=Nt,gr&&(Nt=Nt.stateNode,Nt.__reactInternalMemoizedUnmaskedChildContext=wr,Nt.__reactInternalMemoizedMaskedChildContext=Tr),zt}function ym(Nt,zt,hr,gr){Nt=zt.state,typeof zt.componentWillReceiveProps=="function"&&zt.componentWillReceiveProps(hr,gr),typeof zt.UNSAFE_componentWillReceiveProps=="function"&&zt.UNSAFE_componentWillReceiveProps(hr,gr),zt.state!==Nt&&Nu.enqueueReplaceState(zt,zt.state,null)}function xp(Nt,zt,hr,gr){var wr=Nt.stateNode;wr.props=hr,wr.state=Nt.memoizedState,wr.refs=mm,yp(Nt);var Tr=zt.contextType;typeof Tr=="object"&&Tr!==null?wr.context=ws(Tr):(Tr=Os(zt)?Zs:As.current,wr.context=Eo(Nt,Tr)),wr.state=Nt.memoizedState,Tr=zt.getDerivedStateFromProps,typeof Tr=="function"&&(_p(Nt,zt,Tr,hr),wr.state=Nt.memoizedState),typeof zt.getDerivedStateFromProps=="function"||typeof wr.getSnapshotBeforeUpdate=="function"||typeof wr.UNSAFE_componentWillMount!="function"&&typeof wr.componentWillMount!="function"||(zt=wr.state,typeof wr.componentWillMount=="function"&&wr.componentWillMount(),typeof wr.UNSAFE_componentWillMount=="function"&&wr.UNSAFE_componentWillMount(),zt!==wr.state&&Nu.enqueueReplaceState(wr,wr.state,null),ku(Nt,hr,wr,gr),wr.state=Nt.memoizedState),typeof wr.componentDidMount=="function"&&(Nt.flags|=4194308)}var uu=[],cu=0,Uu=null,Gu=0,$o=[],Ho=0,Yl=null,Pl=1,Rl="";function Ql(Nt,zt){uu[cu++]=Gu,uu[cu++]=Uu,Uu=Nt,Gu=zt}function _m(Nt,zt,hr){$o[Ho++]=Pl,$o[Ho++]=Rl,$o[Ho++]=Yl,Yl=Nt;var gr=Pl;Nt=Rl;var wr=32-ao(gr)-1;gr&=~(1<<wr),hr+=1;var Tr=32-ao(zt)+wr;if(30<Tr){var Wr=wr-wr%5;Tr=(gr&(1<<Wr)-1).toString(32),gr>>=Wr,wr-=Wr,Pl=1<<32-ao(zt)+wr|hr<<wr|gr,Rl=Tr+Nt}else Pl=1<<Tr|hr<<wr|gr,Rl=Nt}function Sp(Nt){Nt.return!==null&&(Ql(Nt,1),_m(Nt,1,0))}function Ep(Nt){for(;Nt===Uu;)Uu=uu[--cu],uu[cu]=null,Gu=uu[--cu],uu[cu]=null;for(;Nt===Yl;)Yl=$o[--Ho],$o[Ho]=null,Rl=$o[--Ho],$o[Ho]=null,Pl=$o[--Ho],$o[Ho]=null}var Do=null,Fo=null,Hs=!1,_u=!1,$a=null;function xm(Nt,zt){var hr=qo(5,null,null,0);hr.elementType="DELETED",hr.stateNode=zt,hr.return=Nt,zt=Nt.deletions,zt===null?(Nt.deletions=[hr],Nt.flags|=16):zt.push(hr)}function Sm(Nt,zt){switch(Nt.tag){case 5:return zt=vs(zt,Nt.type,Nt.pendingProps),zt!==null?(Nt.stateNode=zt,Do=Nt,Fo=vn(zt),!0):!1;case 6:return zt=oo(zt,Nt.pendingProps),zt!==null?(Nt.stateNode=zt,Do=Nt,Fo=null,!0):!1;case 13:if(zt=ro(zt),zt!==null){var hr=Yl!==null?{id:Pl,overflow:Rl}:null;return Nt.memoizedState={dehydrated:zt,treeContext:hr,retryLane:1073741824},hr=qo(18,null,null,0),hr.stateNode=zt,hr.return=Nt,Nt.child=hr,Do=Nt,Fo=null,!0}return!1;default:return!1}}function bp(Nt){return(Nt.mode&1)!==0&&(Nt.flags&128)===0}function Ap(Nt){if(Hs){var zt=Fo;if(zt){var hr=zt;if(!Sm(Nt,zt)){if(bp(Nt))throw Error(At(418));zt=an(hr);var gr=Do;zt&&Sm(Nt,zt)?xm(gr,hr):(Nt.flags=Nt.flags&-4097|2,Hs=!1,Do=Nt)}}else{if(bp(Nt))throw Error(At(418));Nt.flags=Nt.flags&-4097|2,Hs=!1,Do=Nt}}}function Em(Nt){for(Nt=Nt.return;Nt!==null&&Nt.tag!==5&&Nt.tag!==3&&Nt.tag!==13;)Nt=Nt.return;Do=Nt}function xu(Nt){if(!zr||Nt!==Do)return!1;if(!Hs)return Em(Nt),Hs=!0,!1;if(Nt.tag!==3&&(Nt.tag!==5||Ds(Nt.type)&&!kr(Nt.type,Nt.memoizedProps))){var zt=Fo;if(zt){if(bp(Nt)){for(Nt=Fo;Nt;)Nt=an(Nt);throw Error(At(418))}for(;zt;)xm(Nt,zt),zt=an(zt)}}if(Em(Nt),Nt.tag===13){if(!zr)throw Error(At(316));if(Nt=Nt.memoizedState,Nt=Nt!==null?Nt.dehydrated:null,!Nt)throw Error(At(317));Fo=as(Nt)}else Fo=Do?an(Nt.stateNode):null;return!0}function fu(){zr&&(Fo=Do=null,_u=Hs=!1)}function Cp(Nt){$a===null?$a=[Nt]:$a.push(Nt)}function Su(Nt,zt,hr){if(Nt=hr.ref,Nt!==null&&typeof Nt!="function"&&typeof Nt!="object"){if(hr._owner){if(hr=hr._owner,hr){if(hr.tag!==1)throw Error(At(309));var gr=hr.stateNode}if(!gr)throw Error(At(147,Nt));var wr=gr,Tr=""+Nt;return zt!==null&&zt.ref!==null&&typeof zt.ref=="function"&&zt.ref._stringRef===Tr?zt.ref:(zt=function(Wr){var tn=wr.refs;tn===mm&&(tn=wr.refs={}),Wr===null?delete tn[Tr]:tn[Tr]=Wr},zt._stringRef=Tr,zt)}if(typeof Nt!="string")throw Error(At(284));if(!hr._owner)throw Error(At(290,Nt))}return Nt}function Vu(Nt,zt){throw Nt=Object.prototype.toString.call(zt),Error(At(31,Nt==="[object Object]"?"object with keys {"+Object.keys(zt).join(", ")+"}":Nt))}function bm(Nt){var zt=Nt._init;return zt(Nt._payload)}function Am(Nt){function zt(gn,un){if(Nt){var bn=gn.deletions;bn===null?(gn.deletions=[un],gn.flags|=16):bn.push(un)}}function hr(gn,un){if(!Nt)return null;for(;un!==null;)zt(gn,un),un=un.sibling;return null}function gr(gn,un){for(gn=new Map;un!==null;)un.key!==null?gn.set(un.key,un):gn.set(un.index,un),un=un.sibling;return gn}function wr(gn,un){return gn=Hl(gn,un),gn.index=0,gn.sibling=null,gn}function Tr(gn,un,bn){return gn.index=bn,Nt?(bn=gn.alternate,bn!==null?(bn=bn.index,bn<un?(gn.flags|=2,un):bn):(gn.flags|=2,un)):(gn.flags|=1048576,un)}function Wr(gn){return Nt&&gn.alternate===null&&(gn.flags|=2),gn}function tn(gn,un,bn,Hn){return un===null||un.tag!==6?(un=um(bn,gn.mode,Hn),un.return=gn,un):(un=wr(un,bn),un.return=gn,un)}function Tn(gn,un,bn,Hn){var Jn=bn.type;return Jn===Bt?qn(gn,un,bn.props.children,Hn,bn.key):un!==null&&(un.elementType===Jn||typeof Jn=="object"&&Jn!==null&&Jn.$$typeof===Ht&&bm(Jn)===un.type)?(Hn=wr(un,bn.props),Hn.ref=Su(gn,un,bn),Hn.return=gn,Hn):(Hn=gp(bn.type,bn.key,bn.props,null,gn.mode,Hn),Hn.ref=Su(gn,un,bn),Hn.return=gn,Hn)}function Un(gn,un,bn,Hn){return un===null||un.tag!==4||un.stateNode.containerInfo!==bn.containerInfo||un.stateNode.implementation!==bn.implementation?(un=cm(bn,gn.mode,Hn),un.return=gn,un):(un=wr(un,bn.children||[]),un.return=gn,un)}function qn(gn,un,bn,Hn,Jn){return un===null||un.tag!==7?(un=su(bn,gn.mode,Hn,Jn),un.return=gn,un):(un=wr(un,bn),un.return=gn,un)}function ls(gn,un,bn){if(typeof un=="string"&&un!==""||typeof un=="number")return un=um(""+un,gn.mode,bn),un.return=gn,un;if(typeof un=="object"&&un!==null){switch(un.$$typeof){case Tt:return bn=gp(un.type,un.key,un.props,null,gn.mode,bn),bn.ref=Su(gn,null,un),bn.return=gn,bn;case Rt:return un=cm(un,gn.mode,bn),un.return=gn,un;case Ht:var Hn=un._init;return ls(gn,Hn(un._payload),bn)}if(xr(un)||ar(un))return un=su(un,gn.mode,bn,null),un.return=gn,un;Vu(gn,un)}return null}function _i(gn,un,bn,Hn){var Jn=un!==null?un.key:null;if(typeof bn=="string"&&bn!==""||typeof bn=="number")return Jn!==null?null:tn(gn,un,""+bn,Hn);if(typeof bn=="object"&&bn!==null){switch(bn.$$typeof){case Tt:return bn.key===Jn?Tn(gn,un,bn,Hn):null;case Rt:return bn.key===Jn?Un(gn,un,bn,Hn):null;case Ht:return Jn=bn._init,_i(gn,un,Jn(bn._payload),Hn)}if(xr(bn)||ar(bn))return Jn!==null?null:qn(gn,un,bn,Hn,null);Vu(gn,bn)}return null}function ks(gn,un,bn,Hn,Jn){if(typeof Hn=="string"&&Hn!==""||typeof Hn=="number")return gn=gn.get(bn)||null,tn(un,gn,""+Hn,Jn);if(typeof Hn=="object"&&Hn!==null){switch(Hn.$$typeof){case Tt:return gn=gn.get(Hn.key===null?bn:Hn.key)||null,Tn(un,gn,Hn,Jn);case Rt:return gn=gn.get(Hn.key===null?bn:Hn.key)||null,Un(un,gn,Hn,Jn);case Ht:var ps=Hn._init;return ks(gn,un,bn,ps(Hn._payload),Jn)}if(xr(Hn)||ar(Hn))return gn=gn.get(bn)||null,qn(un,gn,Hn,Jn,null);Vu(un,Hn)}return null}function Yn(gn,un,bn,Hn){for(var Jn=null,ps=null,us=un,Ts=un=0,fo=null;us!==null&&Ts<bn.length;Ts++){us.index>Ts?(fo=us,us=null):fo=us.sibling;var Ps=_i(gn,us,bn[Ts],Hn);if(Ps===null){us===null&&(us=fo);break}Nt&&us&&Ps.alternate===null&&zt(gn,us),un=Tr(Ps,un,Ts),ps===null?Jn=Ps:ps.sibling=Ps,ps=Ps,us=fo}if(Ts===bn.length)return hr(gn,us),Hs&&Ql(gn,Ts),Jn;if(us===null){for(;Ts<bn.length;Ts++)us=ls(gn,bn[Ts],Hn),us!==null&&(un=Tr(us,un,Ts),ps===null?Jn=us:ps.sibling=us,ps=us);return Hs&&Ql(gn,Ts),Jn}for(us=gr(gn,us);Ts<bn.length;Ts++)fo=ks(us,gn,Ts,bn[Ts],Hn),fo!==null&&(Nt&&fo.alternate!==null&&us.delete(fo.key===null?Ts:fo.key),un=Tr(fo,un,Ts),ps===null?Jn=fo:ps.sibling=fo,ps=fo);return Nt&&us.forEach(function(Wl){return zt(gn,Wl)}),Hs&&Ql(gn,Ts),Jn}function xo(gn,un,bn,Hn){var Jn=ar(bn);if(typeof Jn!="function")throw Error(At(150));if(bn=Jn.call(bn),bn==null)throw Error(At(151));for(var ps=Jn=null,us=un,Ts=un=0,fo=null,Ps=bn.next();us!==null&&!Ps.done;Ts++,Ps=bn.next()){us.index>Ts?(fo=us,us=null):fo=us.sibling;var Wl=_i(gn,us,Ps.value,Hn);if(Wl===null){us===null&&(us=fo);break}Nt&&us&&Wl.alternate===null&&zt(gn,us),un=Tr(Wl,un,Ts),ps===null?Jn=Wl:ps.sibling=Wl,ps=Wl,us=fo}if(Ps.done)return hr(gn,us),Hs&&Ql(gn,Ts),Jn;if(us===null){for(;!Ps.done;Ts++,Ps=bn.next())Ps=ls(gn,Ps.value,Hn),Ps!==null&&(un=Tr(Ps,un,Ts),ps===null?Jn=Ps:ps.sibling=Ps,ps=Ps);return Hs&&Ql(gn,Ts),Jn}for(us=gr(gn,us);!Ps.done;Ts++,Ps=bn.next())Ps=ks(us,gn,Ts,Ps.value,Hn),Ps!==null&&(Nt&&Ps.alternate!==null&&us.delete(Ps.key===null?Ts:Ps.key),un=Tr(Ps,un,Ts),ps===null?Jn=Ps:ps.sibling=Ps,ps=Ps);return Nt&&us.forEach(function(pv){return zt(gn,pv)}),Hs&&Ql(gn,Ts),Jn}function Xo(gn,un,bn,Hn){if(typeof bn=="object"&&bn!==null&&bn.type===Bt&&bn.key===null&&(bn=bn.props.children),typeof bn=="object"&&bn!==null){switch(bn.$$typeof){case Tt:e:{for(var Jn=bn.key,ps=un;ps!==null;){if(ps.key===Jn){if(Jn=bn.type,Jn===Bt){if(ps.tag===7){hr(gn,ps.sibling),un=wr(ps,bn.props.children),un.return=gn,gn=un;break e}}else if(ps.elementType===Jn||typeof Jn=="object"&&Jn!==null&&Jn.$$typeof===Ht&&bm(Jn)===ps.type){hr(gn,ps.sibling),un=wr(ps,bn.props),un.ref=Su(gn,ps,bn),un.return=gn,gn=un;break e}hr(gn,ps);break}else zt(gn,ps);ps=ps.sibling}bn.type===Bt?(un=su(bn.props.children,gn.mode,Hn,bn.key),un.return=gn,gn=un):(Hn=gp(bn.type,bn.key,bn.props,null,gn.mode,Hn),Hn.ref=Su(gn,un,bn),Hn.return=gn,gn=Hn)}return Wr(gn);case Rt:e:{for(ps=bn.key;un!==null;){if(un.key===ps)if(un.tag===4&&un.stateNode.containerInfo===bn.containerInfo&&un.stateNode.implementation===bn.implementation){hr(gn,un.sibling),un=wr(un,bn.children||[]),un.return=gn,gn=un;break e}else{hr(gn,un);break}else zt(gn,un);un=un.sibling}un=cm(bn,gn.mode,Hn),un.return=gn,gn=un}return Wr(gn);case Ht:return ps=bn._init,Xo(gn,un,ps(bn._payload),Hn)}if(xr(bn))return Yn(gn,un,bn,Hn);if(ar(bn))return xo(gn,un,bn,Hn);Vu(gn,bn)}return typeof bn=="string"&&bn!==""||typeof bn=="number"?(bn=""+bn,un!==null&&un.tag===6?(hr(gn,un.sibling),un=wr(un,bn),un.return=gn,gn=un):(hr(gn,un),un=um(bn,gn.mode,Hn),un.return=gn,gn=un),Wr(gn)):hr(gn,un)}return Xo}var hu=Am(!0),Cm=Am(!1),Eu={},jo=no(Eu),bu=no(Eu),du=no(Eu);function _l(Nt){if(Nt===Eu)throw Error(At(174));return Nt}function Mp(Nt,zt){hs(du,zt),hs(bu,Nt),hs(jo,Eu),Nt=br(zt),ss(jo),hs(jo,Nt)}function pu(){ss(jo),ss(bu),ss(du)}function Mm(Nt){var zt=_l(du.current),hr=_l(jo.current);zt=cr(hr,Nt.type,zt),hr!==zt&&(hs(bu,Nt),hs(jo,zt))}function wp(Nt){bu.current===Nt&&(ss(jo),ss(bu))}var Xs=no(0);function zu(Nt){for(var zt=Nt;zt!==null;){if(zt.tag===13){var hr=zt.memoizedState;if(hr!==null&&(hr=hr.dehydrated,hr===null||Cs(hr)||Ns(hr)))return zt}else if(zt.tag===19&&zt.memoizedProps.revealOrder!==void 0){if(zt.flags&128)return zt}else if(zt.child!==null){zt.child.return=zt,zt=zt.child;continue}if(zt===Nt)break;for(;zt.sibling===null;){if(zt.return===null||zt.return===Nt)return null;zt=zt.return}zt.sibling.return=zt.return,zt=zt.sibling}return null}var Tp=[];function Pp(){for(var Nt=0;Nt<Tp.length;Nt++){var zt=Tp[Nt];Nr?zt._workInProgressVersionPrimary=null:zt._workInProgressVersionSecondary=null}Tp.length=0}var $u=Ct.ReactCurrentDispatcher,Wo=Ct.ReactCurrentBatchConfig,mu=0,Js=null,vo=null,co=null,Hu=!1,Au=!1,Cu=0,U0=0;function yo(){throw Error(At(321))}function Rp(Nt,zt){if(zt===null)return!1;for(var hr=0;hr<zt.length&&hr<Nt.length;hr++)if(!Hr(Nt[hr],zt[hr]))return!1;return!0}function Lp(Nt,zt,hr,gr,wr,Tr){if(mu=Tr,Js=zt,zt.memoizedState=null,zt.updateQueue=null,zt.lanes=0,$u.current=Nt===null||Nt.memoizedState===null?$0:H0,Nt=hr(gr,wr),Au){Tr=0;do{if(Au=!1,Cu=0,25<=Tr)throw Error(At(301));Tr+=1,co=vo=null,zt.updateQueue=null,$u.current=j0,Nt=hr(gr,wr)}while(Au)}if($u.current=Xu,zt=vo!==null&&vo.next!==null,mu=0,co=vo=Js=null,Hu=!1,zt)throw Error(At(300));return Nt}function Ip(){var Nt=Cu!==0;return Cu=0,Nt}function Ll(){var Nt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return co===null?Js.memoizedState=co=Nt:co=co.next=Nt,co}function xl(){if(vo===null){var Nt=Js.alternate;Nt=Nt!==null?Nt.memoizedState:null}else Nt=vo.next;var zt=co===null?Js.memoizedState:co.next;if(zt!==null)co=zt,vo=Nt;else{if(Nt===null)throw Error(At(310));vo=Nt,Nt={memoizedState:vo.memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},co===null?Js.memoizedState=co=Nt:co=co.next=Nt}return co}function Zl(Nt,zt){return typeof zt=="function"?zt(Nt):zt}function ju(Nt){var zt=xl(),hr=zt.queue;if(hr===null)throw Error(At(311));hr.lastRenderedReducer=Nt;var gr=vo,wr=gr.baseQueue,Tr=hr.pending;if(Tr!==null){if(wr!==null){var Wr=wr.next;wr.next=Tr.next,Tr.next=Wr}gr.baseQueue=wr=Tr,hr.pending=null}if(wr!==null){Tr=wr.next,gr=gr.baseState;var tn=Wr=null,Tn=null,Un=Tr;do{var qn=Un.lane;if((mu&qn)===qn)Tn!==null&&(Tn=Tn.next={lane:0,action:Un.action,hasEagerState:Un.hasEagerState,eagerState:Un.eagerState,next:null}),gr=Un.hasEagerState?Un.eagerState:Nt(gr,Un.action);else{var ls={lane:qn,action:Un.action,hasEagerState:Un.hasEagerState,eagerState:Un.eagerState,next:null};Tn===null?(tn=Tn=ls,Wr=gr):Tn=Tn.next=ls,Js.lanes|=qn,vu|=qn}Un=Un.next}while(Un!==null&&Un!==Tr);Tn===null?Wr=gr:Tn.next=tn,Hr(gr,zt.memoizedState)||(Oo=!0),zt.memoizedState=gr,zt.baseState=Wr,zt.baseQueue=Tn,hr.lastRenderedState=gr}if(Nt=hr.interleaved,Nt!==null){wr=Nt;do Tr=wr.lane,Js.lanes|=Tr,vu|=Tr,wr=wr.next;while(wr!==Nt)}else wr===null&&(hr.lanes=0);return[zt.memoizedState,hr.dispatch]}function Wu(Nt){var zt=xl(),hr=zt.queue;if(hr===null)throw Error(At(311));hr.lastRenderedReducer=Nt;var gr=hr.dispatch,wr=hr.pending,Tr=zt.memoizedState;if(wr!==null){hr.pending=null;var Wr=wr=wr.next;do Tr=Nt(Tr,Wr.action),Wr=Wr.next;while(Wr!==wr);Hr(Tr,zt.memoizedState)||(Oo=!0),zt.memoizedState=Tr,zt.baseQueue===null&&(zt.baseState=Tr),hr.lastRenderedState=Tr}return[Tr,gr]}function wm(){}function Tm(Nt,zt){var hr=Js,gr=xl(),wr=zt(),Tr=!Hr(gr.memoizedState,wr);if(Tr&&(gr.memoizedState=wr,Oo=!0),gr=gr.queue,wu(Lm.bind(null,hr,gr,Nt),[Nt]),gr.getSnapshot!==zt||Tr||co!==null&&co.memoizedState.tag&1){if(hr.flags|=2048,Mu(9,Rm.bind(null,hr,gr,wr,zt),void 0,null),eo===null)throw Error(At(349));mu&30||Pm(hr,zt,wr)}return wr}function Pm(Nt,zt,hr){Nt.flags|=16384,Nt={getSnapshot:zt,value:hr},zt=Js.updateQueue,zt===null?(zt={lastEffect:null,stores:null},Js.updateQueue=zt,zt.stores=[Nt]):(hr=zt.stores,hr===null?zt.stores=[Nt]:hr.push(Nt))}function Rm(Nt,zt,hr,gr){zt.value=hr,zt.getSnapshot=gr,Im(zt)&&Ko(Nt,1,-1)}function Lm(Nt,zt,hr){return hr(function(){Im(zt)&&Ko(Nt,1,-1)})}function Im(Nt){var zt=Nt.getSnapshot;Nt=Nt.value;try{var hr=zt();return!Hr(Nt,hr)}catch{return!0}}function Bp(Nt){var zt=Ll();return typeof Nt=="function"&&(Nt=Nt()),zt.memoizedState=zt.baseState=Nt,Nt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:Nt},zt.queue=Nt,Nt=Nt.dispatch=z0.bind(null,Js,Nt),[zt.memoizedState,Nt]}function Mu(Nt,zt,hr,gr){return Nt={tag:Nt,create:zt,destroy:hr,deps:gr,next:null},zt=Js.updateQueue,zt===null?(zt={lastEffect:null,stores:null},Js.updateQueue=zt,zt.lastEffect=Nt.next=Nt):(hr=zt.lastEffect,hr===null?zt.lastEffect=Nt.next=Nt:(gr=hr.next,hr.next=Nt,Nt.next=gr,zt.lastEffect=Nt)),Nt}function Bm(){return xl().memoizedState}function Ku(Nt,zt,hr,gr){var wr=Ll();Js.flags|=Nt,wr.memoizedState=Mu(1|zt,hr,void 0,gr===void 0?null:gr)}function qu(Nt,zt,hr,gr){var wr=xl();gr=gr===void 0?null:gr;var Tr=void 0;if(vo!==null){var Wr=vo.memoizedState;if(Tr=Wr.destroy,gr!==null&&Rp(gr,Wr.deps)){wr.memoizedState=Mu(zt,hr,Tr,gr);return}}Js.flags|=Nt,wr.memoizedState=Mu(1|zt,hr,Tr,gr)}function Dp(Nt,zt){return Ku(8390656,8,Nt,zt)}function wu(Nt,zt){return qu(2048,8,Nt,zt)}function Dm(Nt,zt){return qu(4,2,Nt,zt)}function Fm(Nt,zt){return qu(4,4,Nt,zt)}function Om(Nt,zt){if(typeof zt=="function")return Nt=Nt(),zt(Nt),function(){zt(null)};if(zt!=null)return Nt=Nt(),zt.current=Nt,function(){zt.current=null}}function km(Nt,zt,hr){return hr=hr!=null?hr.concat([Nt]):null,qu(4,4,Om.bind(null,zt,Nt),hr)}function Fp(){}function Nm(Nt,zt){var hr=xl();zt=zt===void 0?null:zt;var gr=hr.memoizedState;return gr!==null&&zt!==null&&Rp(zt,gr[1])?gr[0]:(hr.memoizedState=[Nt,zt],Nt)}function Um(Nt,zt){var hr=xl();zt=zt===void 0?null:zt;var gr=hr.memoizedState;return gr!==null&&zt!==null&&Rp(zt,gr[1])?gr[0]:(Nt=Nt(),hr.memoizedState=[Nt,zt],Nt)}function G0(Nt,zt){var hr=os;os=hr!==0&&4>hr?hr:4,Nt(!0);var gr=Wo.transition;Wo.transition={};try{Nt(!1),zt()}finally{os=hr,Wo.transition=gr}}function Gm(){return xl().memoizedState}function V0(Nt,zt,hr){var gr=zl(Nt);hr={lane:gr,action:hr,hasEagerState:!1,eagerState:null,next:null},Vm(Nt)?zm(zt,hr):($m(Nt,zt,hr),hr=Mo(),Nt=Ko(Nt,gr,hr),Nt!==null&&Hm(Nt,zt,gr))}function z0(Nt,zt,hr){var gr=zl(Nt),wr={lane:gr,action:hr,hasEagerState:!1,eagerState:null,next:null};if(Vm(Nt))zm(zt,wr);else{$m(Nt,zt,wr);var Tr=Nt.alternate;if(Nt.lanes===0&&(Tr===null||Tr.lanes===0)&&(Tr=zt.lastRenderedReducer,Tr!==null))try{var Wr=zt.lastRenderedState,tn=Tr(Wr,hr);if(wr.hasEagerState=!0,wr.eagerState=tn,Hr(tn,Wr))return}catch{}finally{}hr=Mo(),Nt=Ko(Nt,gr,hr),Nt!==null&&Hm(Nt,zt,gr)}}function Vm(Nt){var zt=Nt.alternate;return Nt===Js||zt!==null&&zt===Js}function zm(Nt,zt){Au=Hu=!0;var hr=Nt.pending;hr===null?zt.next=zt:(zt.next=hr.next,hr.next=zt),Nt.pending=zt}function $m(Nt,zt,hr){eo!==null&&Nt.mode&1&&!(ys&2)?(Nt=zt.interleaved,Nt===null?(hr.next=hr,io===null?io=[zt]:io.push(zt)):(hr.next=Nt.next,Nt.next=hr),zt.interleaved=hr):(Nt=zt.pending,Nt===null?hr.next=hr:(hr.next=Nt.next,Nt.next=hr),zt.pending=hr)}function Hm(Nt,zt,hr){if(hr&4194240){var gr=zt.lanes;gr&=Nt.pendingLanes,hr|=gr,zt.lanes=hr,zo(Nt,hr)}}var Xu={readContext:ws,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},$0={readContext:ws,useCallback:function(Nt,zt){return Ll().memoizedState=[Nt,zt===void 0?null:zt],Nt},useContext:ws,useEffect:Dp,useImperativeHandle:function(Nt,zt,hr){return hr=hr!=null?hr.concat([Nt]):null,Ku(4194308,4,Om.bind(null,zt,Nt),hr)},useLayoutEffect:function(Nt,zt){return Ku(4194308,4,Nt,zt)},useInsertionEffect:function(Nt,zt){return Ku(4,2,Nt,zt)},useMemo:function(Nt,zt){var hr=Ll();return zt=zt===void 0?null:zt,Nt=Nt(),hr.memoizedState=[Nt,zt],Nt},useReducer:function(Nt,zt,hr){var gr=Ll();return zt=hr!==void 0?hr(zt):zt,gr.memoizedState=gr.baseState=zt,Nt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nt,lastRenderedState:zt},gr.queue=Nt,Nt=Nt.dispatch=V0.bind(null,Js,Nt),[gr.memoizedState,Nt]},useRef:function(Nt){var zt=Ll();return Nt={current:Nt},zt.memoizedState=Nt},useState:Bp,useDebugValue:Fp,useDeferredValue:function(Nt){var zt=Bp(Nt),hr=zt[0],gr=zt[1];return Dp(function(){var wr=Wo.transition;Wo.transition={};try{gr(Nt)}finally{Wo.transition=wr}},[Nt]),hr},useTransition:function(){var Nt=Bp(!1),zt=Nt[0];return Nt=G0.bind(null,Nt[1]),Ll().memoizedState=Nt,[zt,Nt]},useMutableSource:function(){},useSyncExternalStore:function(Nt,zt,hr){var gr=Js,wr=Ll();if(Hs){if(hr===void 0)throw Error(At(407));hr=hr()}else{if(hr=zt(),eo===null)throw Error(At(349));mu&30||Pm(gr,zt,hr)}wr.memoizedState=hr;var Tr={value:hr,getSnapshot:zt};return wr.queue=Tr,Dp(Lm.bind(null,gr,Tr,Nt),[Nt]),gr.flags|=2048,Mu(9,Rm.bind(null,gr,Tr,hr,zt),void 0,null),hr},useId:function(){var Nt=Ll(),zt=eo.identifierPrefix;if(Hs){var hr=Rl,gr=Pl;hr=(gr&~(1<<32-ao(gr)-1)).toString(32)+hr,zt=":"+zt+"R"+hr,hr=Cu++,0<hr&&(zt+="H"+hr.toString(32)),zt+=":"}else hr=U0++,zt=":"+zt+"r"+hr.toString(32)+":";return Nt.memoizedState=zt},unstable_isNewReconciler:!1},H0={readContext:ws,useCallback:Nm,useContext:ws,useEffect:wu,useImperativeHandle:km,useInsertionEffect:Dm,useLayoutEffect:Fm,useMemo:Um,useReducer:ju,useRef:Bm,useState:function(){return ju(Zl)},useDebugValue:Fp,useDeferredValue:function(Nt){var zt=ju(Zl),hr=zt[0],gr=zt[1];return wu(function(){var wr=Wo.transition;Wo.transition={};try{gr(Nt)}finally{Wo.transition=wr}},[Nt]),hr},useTransition:function(){var Nt=ju(Zl)[0],zt=xl().memoizedState;return[Nt,zt]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Gm,unstable_isNewReconciler:!1},j0={readContext:ws,useCallback:Nm,useContext:ws,useEffect:wu,useImperativeHandle:km,useInsertionEffect:Dm,useLayoutEffect:Fm,useMemo:Um,useReducer:Wu,useRef:Bm,useState:function(){return Wu(Zl)},useDebugValue:Fp,useDeferredValue:function(Nt){var zt=Wu(Zl),hr=zt[0],gr=zt[1];return wu(function(){var wr=Wo.transition;Wo.transition={};try{gr(Nt)}finally{Wo.transition=wr}},[Nt]),hr},useTransition:function(){var Nt=Wu(Zl)[0],zt=xl().memoizedState;return[Nt,zt]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Gm,unstable_isNewReconciler:!1};function Op(Nt,zt){try{var hr="",gr=zt;do hr+=Ls(gr),gr=gr.return;while(gr);var wr=hr}catch(Tr){wr=`
Error generating stack: `+Tr.message+`
`+Tr.stack}return{value:Nt,source:zt,stack:wr}}function kp(Nt,zt){try{console.error(zt.value)}catch(hr){setTimeout(function(){throw hr})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function jm(Nt,zt,hr){hr=Tl(-1,hr),hr.tag=3,hr.payload={element:null};var gr=zt.value;return hr.callback=function(){up||(up=!0,tm=gr),kp(Nt,zt)},hr}function Wm(Nt,zt,hr){hr=Tl(-1,hr),hr.tag=3;var gr=Nt.type.getDerivedStateFromError;if(typeof gr=="function"){var wr=zt.value;hr.payload=function(){return gr(wr)},hr.callback=function(){kp(Nt,zt)}}var Tr=Nt.stateNode;return Tr!==null&&typeof Tr.componentDidCatch=="function"&&(hr.callback=function(){kp(Nt,zt),typeof gr!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var Wr=zt.stack;this.componentDidCatch(zt.value,{componentStack:Wr!==null?Wr:""})}),hr}function Km(Nt,zt,hr){var gr=Nt.pingCache;if(gr===null){gr=Nt.pingCache=new W0;var wr=new Set;gr.set(zt,wr)}else wr=gr.get(zt),wr===void 0&&(wr=new Set,gr.set(zt,wr));wr.has(hr)||(wr.add(hr),Nt=ov.bind(null,Nt,zt,hr),zt.then(Nt,Nt))}function qm(Nt){do{var zt;if((zt=Nt.tag===13)&&(zt=Nt.memoizedState,zt=zt!==null?zt.dehydrated!==null:!0),zt)return Nt;Nt=Nt.return}while(Nt!==null);return null}function Xm(Nt,zt,hr,gr,wr){return Nt.mode&1?(Nt.flags|=65536,Nt.lanes=wr,Nt):(Nt===zt?Nt.flags|=65536:(Nt.flags|=128,hr.flags|=131072,hr.flags&=-52805,hr.tag===1&&(hr.alternate===null?hr.tag=17:(zt=Tl(-1,1),zt.tag=2,Ul(hr,zt))),hr.lanes|=1),Nt)}function Sl(Nt){Nt.flags|=4}function Jm(Nt,zt){if(Nt!==null&&Nt.child===zt.child)return!0;if(zt.flags&16)return!1;for(Nt=zt.child;Nt!==null;){if(Nt.flags&12854||Nt.subtreeFlags&12854)return!1;Nt=Nt.sibling}return!0}var Tu,Pu,Ju,Yu;if(Vr)Tu=function(Nt,zt){for(var hr=zt.child;hr!==null;){if(hr.tag===5||hr.tag===6)Ar(Nt,hr.stateNode);else if(hr.tag!==4&&hr.child!==null){hr.child.return=hr,hr=hr.child;continue}if(hr===zt)break;for(;hr.sibling===null;){if(hr.return===null||hr.return===zt)return;hr=hr.return}hr.sibling.return=hr.return,hr=hr.sibling}},Pu=function(){},Ju=function(Nt,zt,hr,gr,wr){if(Nt=Nt.memoizedProps,Nt!==gr){var Tr=zt.stateNode,Wr=_l(jo.current);hr=Ir(Tr,hr,Nt,gr,wr,Wr),(zt.updateQueue=hr)&&Sl(zt)}},Yu=function(Nt,zt,hr,gr){hr!==gr&&Sl(zt)};else if(Br){Tu=function(Nt,zt,hr,gr){for(var wr=zt.child;wr!==null;){if(wr.tag===5){var Tr=wr.stateNode;hr&&gr&&(Tr=gs(Tr,wr.type,wr.memoizedProps,wr)),Ar(Nt,Tr)}else if(wr.tag===6)Tr=wr.stateNode,hr&&gr&&(Tr=bs(Tr,wr.memoizedProps,wr)),Ar(Nt,Tr);else if(wr.tag!==4){if(wr.tag===22&&wr.memoizedState!==null)Tr=wr.child,Tr!==null&&(Tr.return=wr),Tu(Nt,wr,!0,!0);else if(wr.child!==null){wr.child.return=wr,wr=wr.child;continue}}if(wr===zt)break;for(;wr.sibling===null;){if(wr.return===null||wr.return===zt)return;wr=wr.return}wr.sibling.return=wr.return,wr=wr.sibling}};var Ym=function(Nt,zt,hr,gr){for(var wr=zt.child;wr!==null;){if(wr.tag===5){var Tr=wr.stateNode;hr&&gr&&(Tr=gs(Tr,wr.type,wr.memoizedProps,wr)),_s(Nt,Tr)}else if(wr.tag===6)Tr=wr.stateNode,hr&&gr&&(Tr=bs(Tr,wr.memoizedProps,wr)),_s(Nt,Tr);else if(wr.tag!==4){if(wr.tag===22&&wr.memoizedState!==null)Tr=wr.child,Tr!==null&&(Tr.return=wr),Ym(Nt,wr,!0,!0);else if(wr.child!==null){wr.child.return=wr,wr=wr.child;continue}}if(wr===zt)break;for(;wr.sibling===null;){if(wr.return===null||wr.return===zt)return;wr=wr.return}wr.sibling.return=wr.return,wr=wr.sibling}};Pu=function(Nt,zt){var hr=zt.stateNode;if(!Jm(Nt,zt)){Nt=hr.containerInfo;var gr=ts(Nt);Ym(gr,zt,!1,!1),hr.pendingChildren=gr,Sl(zt),Es(Nt,gr)}},Ju=function(Nt,zt,hr,gr,wr){var Tr=Nt.stateNode,Wr=Nt.memoizedProps;if((Nt=Jm(Nt,zt))&&Wr===gr)zt.stateNode=Tr;else{var tn=zt.stateNode,Tn=_l(jo.current),Un=null;Wr!==gr&&(Un=Ir(tn,hr,Wr,gr,wr,Tn)),Nt&&Un===null?zt.stateNode=Tr:(Tr=jn(Tr,Un,hr,Wr,gr,zt,Nt,tn),Pr(Tr,hr,gr,wr,Tn)&&Sl(zt),zt.stateNode=Tr,Nt?Sl(zt):Tu(Tr,zt,!1,!1))}},Yu=function(Nt,zt,hr,gr){hr!==gr?(Nt=_l(du.current),hr=_l(jo.current),zt.stateNode=Dr(gr,Nt,hr,zt),Sl(zt)):zt.stateNode=Nt.stateNode}}else Pu=function(){},Ju=function(){},Yu=function(){};function Ru(Nt,zt){if(!Hs)switch(Nt.tailMode){case"hidden":zt=Nt.tail;for(var hr=null;zt!==null;)zt.alternate!==null&&(hr=zt),zt=zt.sibling;hr===null?Nt.tail=null:hr.sibling=null;break;case"collapsed":hr=Nt.tail;for(var gr=null;hr!==null;)hr.alternate!==null&&(gr=hr),hr=hr.sibling;gr===null?zt||Nt.tail===null?Nt.tail=null:Nt.tail.sibling=null:gr.sibling=null}}function _o(Nt){var zt=Nt.alternate!==null&&Nt.alternate.child===Nt.child,hr=0,gr=0;if(zt)for(var wr=Nt.child;wr!==null;)hr|=wr.lanes|wr.childLanes,gr|=wr.subtreeFlags&14680064,gr|=wr.flags&14680064,wr.return=Nt,wr=wr.sibling;else for(wr=Nt.child;wr!==null;)hr|=wr.lanes|wr.childLanes,gr|=wr.subtreeFlags,gr|=wr.flags,wr.return=Nt,wr=wr.sibling;return Nt.subtreeFlags|=gr,Nt.childLanes=hr,zt}function K0(Nt,zt,hr){var gr=zt.pendingProps;switch(Ep(zt),zt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _o(zt),null;case 1:return Os(zt.type)&&Yo(),_o(zt),null;case 3:return gr=zt.stateNode,pu(),ss(js),ss(As),Pp(),gr.pendingContext&&(gr.context=gr.pendingContext,gr.pendingContext=null),(Nt===null||Nt.child===null)&&(xu(zt)?Sl(zt):Nt===null||Nt.memoizedState.isDehydrated&&!(zt.flags&256)||(zt.flags|=1024,$a!==null&&(sm($a),$a=null))),Pu(Nt,zt),_o(zt),null;case 5:wp(zt),hr=_l(du.current);var wr=zt.type;if(Nt!==null&&zt.stateNode!=null)Ju(Nt,zt,wr,gr,hr),Nt.ref!==zt.ref&&(zt.flags|=512,zt.flags|=2097152);else{if(!gr){if(zt.stateNode===null)throw Error(At(166));return _o(zt),null}if(Nt=_l(jo.current),xu(zt)){if(!zr)throw Error(At(175));Nt=Kn(zt.stateNode,zt.type,zt.memoizedProps,hr,Nt,zt,!_u),zt.updateQueue=Nt,Nt!==null&&Sl(zt)}else{var Tr=_r(wr,gr,hr,Nt,zt);Tu(Tr,zt,!1,!1),zt.stateNode=Tr,Pr(Tr,wr,gr,hr,Nt)&&Sl(zt)}zt.ref!==null&&(zt.flags|=512,zt.flags|=2097152)}return _o(zt),null;case 6:if(Nt&&zt.stateNode!=null)Yu(Nt,zt,Nt.memoizedProps,gr);else{if(typeof gr!="string"&&zt.stateNode===null)throw Error(At(166));if(Nt=_l(du.current),hr=_l(jo.current),xu(zt)){if(!zr)throw Error(At(176));if(Nt=zt.stateNode,gr=zt.memoizedProps,(hr=Qn(Nt,gr,zt,!_u))&&(wr=Do,wr!==null))switch(Tr=(wr.mode&1)!==0,wr.tag){case 3:ho(wr.stateNode.containerInfo,Nt,gr,Tr);break;case 5:So(wr.type,wr.memoizedProps,wr.stateNode,Nt,gr,Tr)}hr&&Sl(zt)}else zt.stateNode=Dr(gr,Nt,hr,zt)}return _o(zt),null;case 13:if(ss(Xs),gr=zt.memoizedState,Hs&&Fo!==null&&zt.mode&1&&!(zt.flags&128)){for(Nt=Fo;Nt;)Nt=an(Nt);return fu(),zt.flags|=98560,zt}if(gr!==null&&gr.dehydrated!==null){if(gr=xu(zt),Nt===null){if(!gr)throw Error(At(318));if(!zr)throw Error(At(344));if(Nt=zt.memoizedState,Nt=Nt!==null?Nt.dehydrated:null,!Nt)throw Error(At(317));Zn(Nt,zt)}else fu(),!(zt.flags&128)&&(zt.memoizedState=null),zt.flags|=4;return _o(zt),null}return $a!==null&&(sm($a),$a=null),zt.flags&128?(zt.lanes=hr,zt):(gr=gr!==null,hr=!1,Nt===null?xu(zt):hr=Nt.memoizedState!==null,gr&&!hr&&(zt.child.flags|=8192,zt.mode&1&&(Nt===null||Xs.current&1?so===0&&(so=3):am())),zt.updateQueue!==null&&(zt.flags|=4),_o(zt),null);case 4:return pu(),Pu(Nt,zt),Nt===null&&en(zt.stateNode.containerInfo),_o(zt),null;case 10:return uo(zt.type._context),_o(zt),null;case 17:return Os(zt.type)&&Yo(),_o(zt),null;case 19:if(ss(Xs),wr=zt.memoizedState,wr===null)return _o(zt),null;if(gr=(zt.flags&128)!==0,Tr=wr.rendering,Tr===null)if(gr)Ru(wr,!1);else{if(so!==0||Nt!==null&&Nt.flags&128)for(Nt=zt.child;Nt!==null;){if(Tr=zu(Nt),Tr!==null){for(zt.flags|=128,Ru(wr,!1),Nt=Tr.updateQueue,Nt!==null&&(zt.updateQueue=Nt,zt.flags|=4),zt.subtreeFlags=0,Nt=hr,gr=zt.child;gr!==null;)hr=gr,wr=Nt,hr.flags&=14680066,Tr=hr.alternate,Tr===null?(hr.childLanes=0,hr.lanes=wr,hr.child=null,hr.subtreeFlags=0,hr.memoizedProps=null,hr.memoizedState=null,hr.updateQueue=null,hr.dependencies=null,hr.stateNode=null):(hr.childLanes=Tr.childLanes,hr.lanes=Tr.lanes,hr.child=Tr.child,hr.subtreeFlags=0,hr.deletions=null,hr.memoizedProps=Tr.memoizedProps,hr.memoizedState=Tr.memoizedState,hr.updateQueue=Tr.updateQueue,hr.type=Tr.type,wr=Tr.dependencies,hr.dependencies=wr===null?null:{lanes:wr.lanes,firstContext:wr.firstContext}),gr=gr.sibling;return hs(Xs,Xs.current&1|2),zt.child}Nt=Nt.sibling}wr.tail!==null&&Gs()>em&&(zt.flags|=128,gr=!0,Ru(wr,!1),zt.lanes=4194304)}else{if(!gr)if(Nt=zu(Tr),Nt!==null){if(zt.flags|=128,gr=!0,Nt=Nt.updateQueue,Nt!==null&&(zt.updateQueue=Nt,zt.flags|=4),Ru(wr,!0),wr.tail===null&&wr.tailMode==="hidden"&&!Tr.alternate&&!Hs)return _o(zt),null}else 2*Gs()-wr.renderingStartTime>em&&hr!==1073741824&&(zt.flags|=128,gr=!0,Ru(wr,!1),zt.lanes=4194304);wr.isBackwards?(Tr.sibling=zt.child,zt.child=Tr):(Nt=wr.last,Nt!==null?Nt.sibling=Tr:zt.child=Tr,wr.last=Tr)}return wr.tail!==null?(zt=wr.tail,wr.rendering=zt,wr.tail=zt.sibling,wr.renderingStartTime=Gs(),zt.sibling=null,Nt=Xs.current,hs(Xs,gr?Nt&1|2:Nt&1),zt):(_o(zt),null);case 22:case 23:return om(),gr=zt.memoizedState!==null,Nt!==null&&Nt.memoizedState!==null!==gr&&(zt.flags|=8192),gr&&zt.mode&1?ko&1073741824&&(_o(zt),Vr&&zt.subtreeFlags&6&&(zt.flags|=8192)):_o(zt),null;case 24:return null;case 25:return null}throw Error(At(156,zt.tag))}var q0=Ct.ReactCurrentOwner,Oo=!1;function Co(Nt,zt,hr,gr){zt.child=Nt===null?Cm(zt,null,hr,gr):hu(zt,Nt.child,hr,gr)}function Qm(Nt,zt,hr,gr,wr){hr=hr.render;var Tr=zt.ref;return qs(zt,wr),gr=Lp(Nt,zt,hr,gr,Tr,wr),hr=Ip(),Nt!==null&&!Oo?(zt.updateQueue=Nt.updateQueue,zt.flags&=-2053,Nt.lanes&=~wr,Il(Nt,zt,wr)):(Hs&&hr&&Sp(zt),zt.flags|=1,Co(Nt,zt,gr,wr),zt.child)}function Zm(Nt,zt,hr,gr,wr){if(Nt===null){var Tr=hr.type;return typeof Tr=="function"&&!lm(Tr)&&Tr.defaultProps===void 0&&hr.compare===null&&hr.defaultProps===void 0?(zt.tag=15,zt.type=Tr,_g(Nt,zt,Tr,gr,wr)):(Nt=gp(hr.type,null,gr,zt,zt.mode,wr),Nt.ref=zt.ref,Nt.return=zt,zt.child=Nt)}if(Tr=Nt.child,!(Nt.lanes&wr)){var Wr=Tr.memoizedProps;if(hr=hr.compare,hr=hr!==null?hr:zs,hr(Wr,gr)&&Nt.ref===zt.ref)return Il(Nt,zt,wr)}return zt.flags|=1,Nt=Hl(Tr,gr),Nt.ref=zt.ref,Nt.return=zt,zt.child=Nt}function _g(Nt,zt,hr,gr,wr){if(Nt!==null&&zs(Nt.memoizedProps,gr)&&Nt.ref===zt.ref)if(Oo=!1,(Nt.lanes&wr)!==0)Nt.flags&131072&&(Oo=!0);else return zt.lanes=Nt.lanes,Il(Nt,zt,wr);return Np(Nt,zt,hr,gr,wr)}function e0(Nt,zt,hr){var gr=zt.pendingProps,wr=gr.children,Tr=Nt!==null?Nt.memoizedState:null;if(gr.mode==="hidden")if(!(zt.mode&1))zt.memoizedState={baseLanes:0,cachePool:null},hs(gu,ko),ko|=hr;else if(hr&1073741824)zt.memoizedState={baseLanes:0,cachePool:null},gr=Tr!==null?Tr.baseLanes:hr,hs(gu,ko),ko|=gr;else return Nt=Tr!==null?Tr.baseLanes|hr:hr,zt.lanes=zt.childLanes=1073741824,zt.memoizedState={baseLanes:Nt,cachePool:null},zt.updateQueue=null,hs(gu,ko),ko|=Nt,null;else Tr!==null?(gr=Tr.baseLanes|hr,zt.memoizedState=null):gr=hr,hs(gu,ko),ko|=gr;return Co(Nt,zt,wr,hr),zt.child}function t0(Nt,zt){var hr=zt.ref;(Nt===null&&hr!==null||Nt!==null&&Nt.ref!==hr)&&(zt.flags|=512,zt.flags|=2097152)}function Np(Nt,zt,hr,gr,wr){var Tr=Os(hr)?Zs:As.current;return Tr=Eo(zt,Tr),qs(zt,wr),hr=Lp(Nt,zt,hr,gr,Tr,wr),gr=Ip(),Nt!==null&&!Oo?(zt.updateQueue=Nt.updateQueue,zt.flags&=-2053,Nt.lanes&=~wr,Il(Nt,zt,wr)):(Hs&&gr&&Sp(zt),zt.flags|=1,Co(Nt,zt,hr,wr),zt.child)}function r0(Nt,zt,hr,gr,wr){if(Os(hr)){var Tr=!0;Uo(zt)}else Tr=!1;if(qs(zt,wr),zt.stateNode===null)Nt!==null&&(Nt.alternate=null,zt.alternate=null,zt.flags|=2),vm(zt,hr,gr),xp(zt,hr,gr,wr),gr=!0;else if(Nt===null){var Wr=zt.stateNode,tn=zt.memoizedProps;Wr.props=tn;var Tn=Wr.context,Un=hr.contextType;typeof Un=="object"&&Un!==null?Un=ws(Un):(Un=Os(hr)?Zs:As.current,Un=Eo(zt,Un));var qn=hr.getDerivedStateFromProps,ls=typeof qn=="function"||typeof Wr.getSnapshotBeforeUpdate=="function";ls||typeof Wr.UNSAFE_componentWillReceiveProps!="function"&&typeof Wr.componentWillReceiveProps!="function"||(tn!==gr||Tn!==Un)&&ym(zt,Wr,gr,Un),ba=!1;var _i=zt.memoizedState;Wr.state=_i,ku(zt,gr,Wr,wr),Tn=zt.memoizedState,tn!==gr||_i!==Tn||js.current||ba?(typeof qn=="function"&&(_p(zt,hr,qn,gr),Tn=zt.memoizedState),(tn=ba||gm(zt,hr,tn,gr,_i,Tn,Un))?(ls||typeof Wr.UNSAFE_componentWillMount!="function"&&typeof Wr.componentWillMount!="function"||(typeof Wr.componentWillMount=="function"&&Wr.componentWillMount(),typeof Wr.UNSAFE_componentWillMount=="function"&&Wr.UNSAFE_componentWillMount()),typeof Wr.componentDidMount=="function"&&(zt.flags|=4194308)):(typeof Wr.componentDidMount=="function"&&(zt.flags|=4194308),zt.memoizedProps=gr,zt.memoizedState=Tn),Wr.props=gr,Wr.state=Tn,Wr.context=Un,gr=tn):(typeof Wr.componentDidMount=="function"&&(zt.flags|=4194308),gr=!1)}else{Wr=zt.stateNode,hm(Nt,zt),tn=zt.memoizedProps,Un=zt.type===zt.elementType?tn:Is(zt.type,tn),Wr.props=Un,ls=zt.pendingProps,_i=Wr.context,Tn=hr.contextType,typeof Tn=="object"&&Tn!==null?Tn=ws(Tn):(Tn=Os(hr)?Zs:As.current,Tn=Eo(zt,Tn));var ks=hr.getDerivedStateFromProps;(qn=typeof ks=="function"||typeof Wr.getSnapshotBeforeUpdate=="function")||typeof Wr.UNSAFE_componentWillReceiveProps!="function"&&typeof Wr.componentWillReceiveProps!="function"||(tn!==ls||_i!==Tn)&&ym(zt,Wr,gr,Tn),ba=!1,_i=zt.memoizedState,Wr.state=_i,ku(zt,gr,Wr,wr);var Yn=zt.memoizedState;tn!==ls||_i!==Yn||js.current||ba?(typeof ks=="function"&&(_p(zt,hr,ks,gr),Yn=zt.memoizedState),(Un=ba||gm(zt,hr,Un,gr,_i,Yn,Tn)||!1)?(qn||typeof Wr.UNSAFE_componentWillUpdate!="function"&&typeof Wr.componentWillUpdate!="function"||(typeof Wr.componentWillUpdate=="function"&&Wr.componentWillUpdate(gr,Yn,Tn),typeof Wr.UNSAFE_componentWillUpdate=="function"&&Wr.UNSAFE_componentWillUpdate(gr,Yn,Tn)),typeof Wr.componentDidUpdate=="function"&&(zt.flags|=4),typeof Wr.getSnapshotBeforeUpdate=="function"&&(zt.flags|=1024)):(typeof Wr.componentDidUpdate!="function"||tn===Nt.memoizedProps&&_i===Nt.memoizedState||(zt.flags|=4),typeof Wr.getSnapshotBeforeUpdate!="function"||tn===Nt.memoizedProps&&_i===Nt.memoizedState||(zt.flags|=1024),zt.memoizedProps=gr,zt.memoizedState=Yn),Wr.props=gr,Wr.state=Yn,Wr.context=Tn,gr=Un):(typeof Wr.componentDidUpdate!="function"||tn===Nt.memoizedProps&&_i===Nt.memoizedState||(zt.flags|=4),typeof Wr.getSnapshotBeforeUpdate!="function"||tn===Nt.memoizedProps&&_i===Nt.memoizedState||(zt.flags|=1024),gr=!1)}return Up(Nt,zt,hr,gr,Tr,wr)}function Up(Nt,zt,hr,gr,wr,Tr){t0(Nt,zt);var Wr=(zt.flags&128)!==0;if(!gr&&!Wr)return wr&&ou(zt,hr,!1),Il(Nt,zt,Tr);gr=zt.stateNode,q0.current=zt;var tn=Wr&&typeof hr.getDerivedStateFromError!="function"?null:gr.render();return zt.flags|=1,Nt!==null&&Wr?(zt.child=hu(zt,Nt.child,null,Tr),zt.child=hu(zt,null,tn,Tr)):Co(Nt,zt,tn,Tr),zt.memoizedState=gr.state,wr&&ou(zt,hr,!0),zt.child}function n0(Nt){var zt=Nt.stateNode;zt.pendingContext?El(Nt,zt.pendingContext,zt.pendingContext!==zt.context):zt.context&&El(Nt,zt.context,!1),Mp(Nt,zt.containerInfo)}function i0(Nt,zt,hr,gr,wr){return fu(),Cp(wr),zt.flags|=256,Co(Nt,zt,hr,gr),zt.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Zu(Nt){return{baseLanes:Nt,cachePool:null}}function s0(Nt,zt,hr){var gr=zt.pendingProps,wr=Xs.current,Tr=!1,Wr=(zt.flags&128)!==0,tn;if((tn=Wr)||(tn=Nt!==null&&Nt.memoizedState===null?!1:(wr&2)!==0),tn?(Tr=!0,zt.flags&=-129):(Nt===null||Nt.memoizedState!==null)&&(wr|=1),hs(Xs,wr&1),Nt===null)return Ap(zt),Nt=zt.memoizedState,Nt!==null&&(Nt=Nt.dehydrated,Nt!==null)?(zt.mode&1?Ns(Nt)?zt.lanes=8:zt.lanes=1073741824:zt.lanes=1,null):(wr=gr.children,Nt=gr.fallback,Tr?(gr=zt.mode,Tr=zt.child,wr={mode:"hidden",children:wr},!(gr&1)&&Tr!==null?(Tr.childLanes=0,Tr.pendingProps=wr):Tr=vp(wr,gr,0,null),Nt=su(Nt,gr,hr,null),Tr.return=zt,Nt.return=zt,Tr.sibling=Nt,zt.child=Tr,zt.child.memoizedState=Zu(hr),zt.memoizedState=Qu,Nt):Gp(zt,wr));if(wr=Nt.memoizedState,wr!==null){if(tn=wr.dehydrated,tn!==null){if(Wr)return zt.flags&256?(zt.flags&=-257,_c(Nt,zt,hr,Error(At(422)))):zt.memoizedState!==null?(zt.child=Nt.child,zt.flags|=128,null):(Tr=gr.fallback,wr=zt.mode,gr=vp({mode:"visible",children:gr.children},wr,0,null),Tr=su(Tr,wr,hr,null),Tr.flags|=2,gr.return=zt,Tr.return=zt,gr.sibling=Tr,zt.child=gr,zt.mode&1&&hu(zt,Nt.child,null,hr),zt.child.memoizedState=Zu(hr),zt.memoizedState=Qu,Tr);if(!(zt.mode&1))zt=_c(Nt,zt,hr,null);else if(Ns(tn))zt=_c(Nt,zt,hr,Error(At(419)));else if(gr=(hr&Nt.childLanes)!==0,Oo||gr){if(gr=eo,gr!==null){switch(hr&-hr){case 4:Tr=2;break;case 16:Tr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Tr=32;break;case 536870912:Tr=268435456;break;default:Tr=0}gr=Tr&(gr.suspendedLanes|hr)?0:Tr,gr!==0&&gr!==wr.retryLane&&(wr.retryLane=gr,Ko(Nt,gr,-1))}am(),zt=_c(Nt,zt,hr,Error(At(421)))}else Cs(tn)?(zt.flags|=128,zt.child=Nt.child,zt=av.bind(null,Nt),Gr(tn,zt),zt=null):(hr=wr.treeContext,zr&&(Fo=Mn(tn),Do=zt,Hs=!0,$a=null,_u=!1,hr!==null&&($o[Ho++]=Pl,$o[Ho++]=Rl,$o[Ho++]=Yl,Pl=hr.id,Rl=hr.overflow,Yl=zt)),zt=Gp(zt,zt.pendingProps.children),zt.flags|=4096);return zt}return Tr?(gr=a0(Nt,zt,gr.children,gr.fallback,hr),Tr=zt.child,wr=Nt.child.memoizedState,Tr.memoizedState=wr===null?Zu(hr):{baseLanes:wr.baseLanes|hr,cachePool:null},Tr.childLanes=Nt.childLanes&~hr,zt.memoizedState=Qu,gr):(hr=o0(Nt,zt,gr.children,hr),zt.memoizedState=null,hr)}return Tr?(gr=a0(Nt,zt,gr.children,gr.fallback,hr),Tr=zt.child,wr=Nt.child.memoizedState,Tr.memoizedState=wr===null?Zu(hr):{baseLanes:wr.baseLanes|hr,cachePool:null},Tr.childLanes=Nt.childLanes&~hr,zt.memoizedState=Qu,gr):(hr=o0(Nt,zt,gr.children,hr),zt.memoizedState=null,hr)}function Gp(Nt,zt){return zt=vp({mode:"visible",children:zt},Nt.mode,0,null),zt.return=Nt,Nt.child=zt}function o0(Nt,zt,hr,gr){var wr=Nt.child;return Nt=wr.sibling,hr=Hl(wr,{mode:"visible",children:hr}),!(zt.mode&1)&&(hr.lanes=gr),hr.return=zt,hr.sibling=null,Nt!==null&&(gr=zt.deletions,gr===null?(zt.deletions=[Nt],zt.flags|=16):gr.push(Nt)),zt.child=hr}function a0(Nt,zt,hr,gr,wr){var Tr=zt.mode;Nt=Nt.child;var Wr=Nt.sibling,tn={mode:"hidden",children:hr};return!(Tr&1)&&zt.child!==Nt?(hr=zt.child,hr.childLanes=0,hr.pendingProps=tn,zt.deletions=null):(hr=Hl(Nt,tn),hr.subtreeFlags=Nt.subtreeFlags&14680064),Wr!==null?gr=Hl(Wr,gr):(gr=su(gr,Tr,wr,null),gr.flags|=2),gr.return=zt,hr.return=zt,hr.sibling=gr,zt.child=hr,gr}function _c(Nt,zt,hr,gr){return gr!==null&&Cp(gr),hu(zt,Nt.child,null,hr),Nt=Gp(zt,zt.pendingProps.children),Nt.flags|=2,zt.memoizedState=null,Nt}function l0(Nt,zt,hr){Nt.lanes|=zt;var gr=Nt.alternate;gr!==null&&(gr.lanes|=zt),Ks(Nt.return,zt,hr)}function Vp(Nt,zt,hr,gr,wr){var Tr=Nt.memoizedState;Tr===null?Nt.memoizedState={isBackwards:zt,rendering:null,renderingStartTime:0,last:gr,tail:hr,tailMode:wr}:(Tr.isBackwards=zt,Tr.rendering=null,Tr.renderingStartTime=0,Tr.last=gr,Tr.tail=hr,Tr.tailMode=wr)}function u0(Nt,zt,hr){var gr=zt.pendingProps,wr=gr.revealOrder,Tr=gr.tail;if(Co(Nt,zt,gr.children,hr),gr=Xs.current,gr&2)gr=gr&1|2,zt.flags|=128;else{if(Nt!==null&&Nt.flags&128)e:for(Nt=zt.child;Nt!==null;){if(Nt.tag===13)Nt.memoizedState!==null&&l0(Nt,hr,zt);else if(Nt.tag===19)l0(Nt,hr,zt);else if(Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===zt)break e;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===zt)break e;Nt=Nt.return}Nt.sibling.return=Nt.return,Nt=Nt.sibling}gr&=1}if(hs(Xs,gr),!(zt.mode&1))zt.memoizedState=null;else switch(wr){case"forwards":for(hr=zt.child,wr=null;hr!==null;)Nt=hr.alternate,Nt!==null&&zu(Nt)===null&&(wr=hr),hr=hr.sibling;hr=wr,hr===null?(wr=zt.child,zt.child=null):(wr=hr.sibling,hr.sibling=null),Vp(zt,!1,wr,hr,Tr);break;case"backwards":for(hr=null,wr=zt.child,zt.child=null;wr!==null;){if(Nt=wr.alternate,Nt!==null&&zu(Nt)===null){zt.child=wr;break}Nt=wr.sibling,wr.sibling=hr,hr=wr,wr=Nt}Vp(zt,!0,hr,null,Tr);break;case"together":Vp(zt,!1,null,null,void 0);break;default:zt.memoizedState=null}return zt.child}function Il(Nt,zt,hr){if(Nt!==null&&(zt.dependencies=Nt.dependencies),vu|=zt.lanes,!(hr&zt.childLanes))return null;if(Nt!==null&&zt.child!==Nt.child)throw Error(At(153));if(zt.child!==null){for(Nt=zt.child,hr=Hl(Nt,Nt.pendingProps),zt.child=hr,hr.return=zt;Nt.sibling!==null;)Nt=Nt.sibling,hr=hr.sibling=Hl(Nt,Nt.pendingProps),hr.return=zt;hr.sibling=null}return zt.child}function X0(Nt,zt,hr){switch(zt.tag){case 3:n0(zt),fu();break;case 5:Mm(zt);break;case 1:Os(zt.type)&&Uo(zt);break;case 4:Mp(zt,zt.stateNode.containerInfo);break;case 10:Ro(zt,zt.type._context,zt.memoizedProps.value);break;case 13:var gr=zt.memoizedState;if(gr!==null)return gr.dehydrated!==null?(hs(Xs,Xs.current&1),zt.flags|=128,null):hr&zt.child.childLanes?s0(Nt,zt,hr):(hs(Xs,Xs.current&1),Nt=Il(Nt,zt,hr),Nt!==null?Nt.sibling:null);hs(Xs,Xs.current&1);break;case 19:if(gr=(hr&zt.childLanes)!==0,Nt.flags&128){if(gr)return u0(Nt,zt,hr);zt.flags|=128}var wr=zt.memoizedState;if(wr!==null&&(wr.rendering=null,wr.tail=null,wr.lastEffect=null),hs(Xs,Xs.current),gr)break;return null;case 22:case 23:return zt.lanes=0,e0(Nt,zt,hr)}return Il(Nt,zt,hr)}function J0(Nt,zt){switch(Ep(zt),zt.tag){case 1:return Os(zt.type)&&Yo(),Nt=zt.flags,Nt&65536?(zt.flags=Nt&-65537|128,zt):null;case 3:return pu(),ss(js),ss(As),Pp(),Nt=zt.flags,Nt&65536&&!(Nt&128)?(zt.flags=Nt&-65537|128,zt):null;case 5:return wp(zt),null;case 13:if(ss(Xs),Nt=zt.memoizedState,Nt!==null&&Nt.dehydrated!==null){if(zt.alternate===null)throw Error(At(340));fu()}return Nt=zt.flags,Nt&65536?(zt.flags=Nt&-65537|128,zt):null;case 19:return ss(Xs),null;case 4:return pu(),null;case 10:return uo(zt.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var _f=!1,eu=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,$n=null;function _h(Nt,zt){var hr=Nt.ref;if(hr!==null)if(typeof hr=="function")try{hr(null)}catch(gr){Bo(Nt,zt,gr)}else hr.current=null}function zp(Nt,zt,hr){try{hr()}catch(gr){Bo(Nt,zt,gr)}}var c0=!1;function Q0(Nt,zt){for(pr(Nt.containerInfo),$n=zt;$n!==null;)if(Nt=$n,zt=Nt.child,(Nt.subtreeFlags&1028)!==0&&zt!==null)zt.return=Nt,$n=zt;else for(;$n!==null;){Nt=$n;try{var hr=Nt.alternate;if(Nt.flags&1024)switch(Nt.tag){case 0:case 11:case 15:break;case 1:if(hr!==null){var gr=hr.memoizedProps,wr=hr.memoizedState,Tr=Nt.stateNode,Wr=Tr.getSnapshotBeforeUpdate(Nt.elementType===Nt.type?gr:Is(Nt.type,gr),wr);Tr.__reactInternalSnapshotBeforeUpdate=Wr}break;case 3:Vr&&Vn(Nt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(At(163))}}catch(tn){Bo(Nt,Nt.return,tn)}if(zt=Nt.sibling,zt!==null){zt.return=Nt.return,$n=zt;break}$n=Nt.return}return hr=c0,c0=!1,hr}function tu(Nt,zt,hr){var gr=zt.updateQueue;if(gr=gr!==null?gr.lastEffect:null,gr!==null){var wr=gr=gr.next;do{if((wr.tag&Nt)===Nt){var Tr=wr.destroy;wr.destroy=void 0,Tr!==void 0&&zp(zt,hr,Tr)}wr=wr.next}while(wr!==gr)}}function Lu(Nt,zt){if(zt=zt.updateQueue,zt=zt!==null?zt.lastEffect:null,zt!==null){var hr=zt=zt.next;do{if((hr.tag&Nt)===Nt){var gr=hr.create;hr.destroy=gr()}hr=hr.next}while(hr!==zt)}}function $p(Nt){var zt=Nt.ref;if(zt!==null){var hr=Nt.stateNode;switch(Nt.tag){case 5:Nt=Sr(hr);break;default:Nt=hr}typeof zt=="function"?zt(Nt):zt.current=Nt}}function f0(Nt,zt,hr){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(xa,zt)}catch{}switch(zt.tag){case 0:case 11:case 14:case 15:if(Nt=zt.updateQueue,Nt!==null&&(Nt=Nt.lastEffect,Nt!==null)){var gr=Nt=Nt.next;do{var wr=gr,Tr=wr.destroy;wr=wr.tag,Tr!==void 0&&(wr&2||wr&4)&&zp(zt,hr,Tr),gr=gr.next}while(gr!==Nt)}break;case 1:if(_h(zt,hr),Nt=zt.stateNode,typeof Nt.componentWillUnmount=="function")try{Nt.props=zt.memoizedProps,Nt.state=zt.memoizedState,Nt.componentWillUnmount()}catch(Wr){Bo(zt,hr,Wr)}break;case 5:_h(zt,hr);break;case 4:Vr?v0(Nt,zt,hr):Br&&Br&&(zt=zt.stateNode.containerInfo,hr=ts(zt),xs(zt,hr))}}function h0(Nt,zt,hr){for(var gr=zt;;)if(f0(Nt,gr,hr),gr.child===null||Vr&&gr.tag===4){if(gr===zt)break;for(;gr.sibling===null;){if(gr.return===null||gr.return===zt)return;gr=gr.return}gr.sibling.return=gr.return,gr=gr.sibling}else gr.child.return=gr,gr=gr.child}function d0(Nt){var zt=Nt.alternate;zt!==null&&(Nt.alternate=null,d0(zt)),Nt.child=null,Nt.deletions=null,Nt.sibling=null,Nt.tag===5&&(zt=Nt.stateNode,zt!==null&&Rn(zt)),Nt.stateNode=null,Nt.return=null,Nt.dependencies=null,Nt.memoizedProps=null,Nt.memoizedState=null,Nt.pendingProps=null,Nt.stateNode=null,Nt.updateQueue=null}function p0(Nt){return Nt.tag===5||Nt.tag===3||Nt.tag===4}function m0(Nt){e:for(;;){for(;Nt.sibling===null;){if(Nt.return===null||p0(Nt.return))return null;Nt=Nt.return}for(Nt.sibling.return=Nt.return,Nt=Nt.sibling;Nt.tag!==5&&Nt.tag!==6&&Nt.tag!==18;){if(Nt.flags&2||Nt.child===null||Nt.tag===4)continue e;Nt.child.return=Nt,Nt=Nt.child}if(!(Nt.flags&2))return Nt.stateNode}}function g0(Nt){if(Vr){e:{for(var zt=Nt.return;zt!==null;){if(p0(zt))break e;zt=zt.return}throw Error(At(160))}var hr=zt;switch(hr.tag){case 5:zt=hr.stateNode,hr.flags&32&&(Wn(zt),hr.flags&=-33),hr=m0(Nt),jp(Nt,hr,zt);break;case 3:case 4:zt=hr.stateNode.containerInfo,hr=m0(Nt),Hp(Nt,hr,zt);break;default:throw Error(At(161))}}}function Hp(Nt,zt,hr){var gr=Nt.tag;if(gr===5||gr===6)Nt=Nt.stateNode,zt?En(hr,Nt,zt):In(hr,Nt);else if(gr!==4&&(Nt=Nt.child,Nt!==null))for(Hp(Nt,zt,hr),Nt=Nt.sibling;Nt!==null;)Hp(Nt,zt,hr),Nt=Nt.sibling}function jp(Nt,zt,hr){var gr=Nt.tag;if(gr===5||gr===6)Nt=Nt.stateNode,zt?hn(hr,Nt,zt):Dn(hr,Nt);else if(gr!==4&&(Nt=Nt.child,Nt!==null))for(jp(Nt,zt,hr),Nt=Nt.sibling;Nt!==null;)jp(Nt,zt,hr),Nt=Nt.sibling}function v0(Nt,zt,hr){for(var gr=zt,wr=!1,Tr,Wr;;){if(!wr){wr=gr.return;e:for(;;){if(wr===null)throw Error(At(160));switch(Tr=wr.stateNode,wr.tag){case 5:Wr=!1;break e;case 3:Tr=Tr.containerInfo,Wr=!0;break e;case 4:Tr=Tr.containerInfo,Wr=!0;break e}wr=wr.return}wr=!0}if(gr.tag===5||gr.tag===6)h0(Nt,gr,hr),Wr?On(Tr,gr.stateNode):xn(Tr,gr.stateNode);else if(gr.tag===18)Wr?Fs(Tr,gr.stateNode):ds(Tr,gr.stateNode);else if(gr.tag===4){if(gr.child!==null){Tr=gr.stateNode.containerInfo,Wr=!0,gr.child.return=gr,gr=gr.child;continue}}else if(f0(Nt,gr,hr),gr.child!==null){gr.child.return=gr,gr=gr.child;continue}if(gr===zt)break;for(;gr.sibling===null;){if(gr.return===null||gr.return===zt)return;gr=gr.return,gr.tag===4&&(wr=!1)}gr.sibling.return=gr.return,gr=gr.sibling}}function Wp(Nt,zt){if(Vr){switch(zt.tag){case 0:case 11:case 14:case 15:tu(3,zt,zt.return),Lu(3,zt),tu(5,zt,zt.return);return;case 1:return;case 5:var hr=zt.stateNode;if(hr!=null){var gr=zt.memoizedProps;Nt=Nt!==null?Nt.memoizedProps:gr;var wr=zt.type,Tr=zt.updateQueue;zt.updateQueue=null,Tr!==null&&Kr(hr,Tr,wr,Nt,gr,zt)}return;case 6:if(zt.stateNode===null)throw Error(At(162));hr=zt.memoizedProps,mn(zt.stateNode,Nt!==null?Nt.memoizedProps:hr,hr);return;case 3:zr&&Nt!==null&&Nt.memoizedState.isDehydrated&&cs(zt.stateNode.containerInfo);return;case 12:return;case 13:_d(zt);return;case 19:_d(zt);return;case 17:return}throw Error(At(163))}switch(zt.tag){case 0:case 11:case 14:case 15:tu(3,zt,zt.return),Lu(3,zt),tu(5,zt,zt.return);return;case 12:return;case 13:_d(zt);return;case 19:_d(zt);return;case 3:zr&&Nt!==null&&Nt.memoizedState.isDehydrated&&cs(zt.stateNode.containerInfo);break;case 22:case 23:return}e:if(Br){switch(zt.tag){case 1:case 5:case 6:break e;case 3:case 4:zt=zt.stateNode,xs(zt.containerInfo,zt.pendingChildren);break e}throw Error(At(163))}}function _d(Nt){var zt=Nt.updateQueue;if(zt!==null){Nt.updateQueue=null;var hr=Nt.stateNode;hr===null&&(hr=Nt.stateNode=new Y0),zt.forEach(function(gr){var wr=lv.bind(null,Nt,gr);hr.has(gr)||(hr.add(gr),gr.then(wr,wr))})}}function Z0(Nt,zt){for($n=zt;$n!==null;){zt=$n;var hr=zt.deletions;if(hr!==null)for(var gr=0;gr<hr.length;gr++){var wr=hr[gr];try{var Tr=Nt;Vr?v0(Tr,wr,zt):h0(Tr,wr,zt);var Wr=wr.alternate;Wr!==null&&(Wr.return=null),wr.return=null}catch(Jn){Bo(wr,zt,Jn)}}if(hr=zt.child,zt.subtreeFlags&12854&&hr!==null)hr.return=zt,$n=hr;else for(;$n!==null;){zt=$n;try{var tn=zt.flags;if(tn&32&&Vr&&Wn(zt.stateNode),tn&512){var Tn=zt.alternate;if(Tn!==null){var Un=Tn.ref;Un!==null&&(typeof Un=="function"?Un(null):Un.current=null)}}if(tn&8192)switch(zt.tag){case 13:if(zt.memoizedState!==null){var qn=zt.alternate;(qn===null||qn.memoizedState===null)&&(Zp=Gs())}break;case 22:var ls=zt.memoizedState!==null,_i=zt.alternate,ks=_i!==null&&_i.memoizedState!==null;if(hr=zt,Vr){e:if(gr=hr,wr=ls,Tr=null,Vr)for(var Yn=gr;;){if(Yn.tag===5){if(Tr===null){Tr=Yn;var xo=Yn.stateNode;wr?es(xo):dn(Yn.stateNode,Yn.memoizedProps)}}else if(Yn.tag===6){if(Tr===null){var Xo=Yn.stateNode;wr?Xr(Xo):Ln(Xo,Yn.memoizedProps)}}else if((Yn.tag!==22&&Yn.tag!==23||Yn.memoizedState===null||Yn===gr)&&Yn.child!==null){Yn.child.return=Yn,Yn=Yn.child;continue}if(Yn===gr)break;for(;Yn.sibling===null;){if(Yn.return===null||Yn.return===gr)break e;Tr===Yn&&(Tr=null),Yn=Yn.return}Tr===Yn&&(Tr=null),Yn.sibling.return=Yn.return,Yn=Yn.sibling}}if(ls&&!ks&&hr.mode&1){$n=hr;for(var gn=hr.child;gn!==null;){for(hr=$n=gn;$n!==null;){gr=$n;var un=gr.child;switch(gr.tag){case 0:case 11:case 14:case 15:tu(4,gr,gr.return);break;case 1:_h(gr,gr.return);var bn=gr.stateNode;if(typeof bn.componentWillUnmount=="function"){var Hn=gr.return;try{bn.props=gr.memoizedProps,bn.state=gr.memoizedState,bn.componentWillUnmount()}catch(Jn){Bo(gr,Hn,Jn)}}break;case 5:_h(gr,gr.return);break;case 22:if(gr.memoizedState!==null){x0(hr);continue}}un!==null?(un.return=gr,$n=un):x0(hr)}gn=gn.sibling}}}switch(tn&4102){case 2:g0(zt),zt.flags&=-3;break;case 6:g0(zt),zt.flags&=-3,Wp(zt.alternate,zt);break;case 4096:zt.flags&=-4097;break;case 4100:zt.flags&=-4097,Wp(zt.alternate,zt);break;case 4:Wp(zt.alternate,zt)}}catch(Jn){Bo(zt,zt.return,Jn)}if(hr=zt.sibling,hr!==null){hr.return=zt.return,$n=hr;break}$n=zt.return}}}function ev(Nt,zt,hr){$n=Nt,y0(Nt)}function y0(Nt,zt,hr){for(var gr=(Nt.mode&1)!==0;$n!==null;){var wr=$n,Tr=wr.child;if(wr.tag===22&&gr){var Wr=wr.memoizedState!==null||_f;if(!Wr){var tn=wr.alternate,Tn=tn!==null&&tn.memoizedState!==null||eu;tn=_f;var Un=eu;if(_f=Wr,(eu=Tn)&&!Un)for($n=wr;$n!==null;)Wr=$n,Tn=Wr.child,Wr.tag===22&&Wr.memoizedState!==null?S0(wr):Tn!==null?(Tn.return=Wr,$n=Tn):S0(wr);for(;Tr!==null;)$n=Tr,y0(Tr),Tr=Tr.sibling;$n=wr,_f=tn,eu=Un}_0(Nt)}else wr.subtreeFlags&8772&&Tr!==null?(Tr.return=wr,$n=Tr):_0(Nt)}}function _0(Nt){for(;$n!==null;){var zt=$n;if(zt.flags&8772){var hr=zt.alternate;try{if(zt.flags&8772)switch(zt.tag){case 0:case 11:case 15:eu||Lu(5,zt);break;case 1:var gr=zt.stateNode;if(zt.flags&4&&!eu)if(hr===null)gr.componentDidMount();else{var wr=zt.elementType===zt.type?hr.memoizedProps:Is(zt.type,hr.memoizedProps);gr.componentDidUpdate(wr,hr.memoizedState,gr.__reactInternalSnapshotBeforeUpdate)}var Tr=zt.updateQueue;Tr!==null&&pm(zt,Tr,gr);break;case 3:var Wr=zt.updateQueue;if(Wr!==null){if(hr=null,zt.child!==null)switch(zt.child.tag){case 5:hr=Sr(zt.child.stateNode);break;case 1:hr=zt.child.stateNode}pm(zt,Wr,hr)}break;case 5:var tn=zt.stateNode;hr===null&&zt.flags&4&&Nn(tn,zt.type,zt.memoizedProps,zt);break;case 6:break;case 4:break;case 12:break;case 13:if(zr&&zt.memoizedState===null){var Tn=zt.alternate;if(Tn!==null){var Un=Tn.memoizedState;if(Un!==null){var qn=Un.dehydrated;qn!==null&&fs(qn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(At(163))}eu||zt.flags&512&&$p(zt)}catch(ls){Bo(zt,zt.return,ls)}}if(zt===Nt){$n=null;break}if(hr=zt.sibling,hr!==null){hr.return=zt.return,$n=hr;break}$n=zt.return}}function x0(Nt){for(;$n!==null;){var zt=$n;if(zt===Nt){$n=null;break}var hr=zt.sibling;if(hr!==null){hr.return=zt.return,$n=hr;break}$n=zt.return}}function S0(Nt){for(;$n!==null;){var zt=$n;try{switch(zt.tag){case 0:case 11:case 15:var hr=zt.return;try{Lu(4,zt)}catch(Tn){Bo(zt,hr,Tn)}break;case 1:var gr=zt.stateNode;if(typeof gr.componentDidMount=="function"){var wr=zt.return;try{gr.componentDidMount()}catch(Tn){Bo(zt,wr,Tn)}}var Tr=zt.return;try{$p(zt)}catch(Tn){Bo(zt,Tr,Tn)}break;case 5:var Wr=zt.return;try{$p(zt)}catch(Tn){Bo(zt,Wr,Tn)}}}catch(Tn){Bo(zt,zt.return,Tn)}if(zt===Nt){$n=null;break}var tn=zt.sibling;if(tn!==null){tn.return=zt.return,$n=tn;break}$n=zt.return}}var ep=0,tp=1,rp=2,np=3,sp=4;if(typeof Symbol=="function"&&Symbol.for){var Iu=Symbol.for;ep=Iu("selector.component"),tp=Iu("selector.has_pseudo_class"),rp=Iu("selector.role"),np=Iu("selector.test_id"),sp=Iu("selector.text")}function Kp(Nt){var zt=qr(Nt);if(zt!=null){if(typeof zt.memoizedProps["data-testname"]!="string")throw Error(At(364));return zt}if(Nt=pn(Nt),Nt===null)throw Error(At(362));return Nt.stateNode.current}function qp(Nt,zt){switch(zt.$$typeof){case ep:if(Nt.type===zt.value)return!0;break;case tp:e:{zt=zt.value,Nt=[Nt,0];for(var hr=0;hr<Nt.length;){var gr=Nt[hr++],wr=Nt[hr++],Tr=zt[wr];if(gr.tag!==5||!Yr(gr)){for(;Tr!=null&&qp(gr,Tr);)wr++,Tr=zt[wr];if(wr===zt.length){zt=!0;break e}else for(gr=gr.child;gr!==null;)Nt.push(gr,wr),gr=gr.sibling}}zt=!1}return zt;case rp:if(Nt.tag===5&&fn(Nt.stateNode,zt.value))return!0;break;case sp:if((Nt.tag===5||Nt.tag===6)&&(Nt=Rr(Nt),Nt!==null&&0<=Nt.indexOf(zt.value)))return!0;break;case np:if(Nt.tag===5&&(Nt=Nt.memoizedProps["data-testname"],typeof Nt=="string"&&Nt.toLowerCase()===zt.value.toLowerCase()))return!0;break;default:throw Error(At(365))}return!1}function Xp(Nt){switch(Nt.$$typeof){case ep:return"<"+(ir(Nt.value)||"Unknown")+">";case tp:return":has("+(Xp(Nt)||"")+")";case rp:return'[role="'+Nt.value+'"]';case sp:return'"'+Nt.value+'"';case np:return'[data-testname="'+Nt.value+'"]';default:throw Error(At(365))}}function E0(Nt,zt){var hr=[];Nt=[Nt,0];for(var gr=0;gr<Nt.length;){var wr=Nt[gr++],Tr=Nt[gr++],Wr=zt[Tr];if(wr.tag!==5||!Yr(wr)){for(;Wr!=null&&qp(wr,Wr);)Tr++,Wr=zt[Tr];if(Tr===zt.length)hr.push(wr);else for(wr=wr.child;wr!==null;)Nt.push(wr,Tr),wr=wr.sibling}}return hr}function Jp(Nt,zt){if(!Pn)throw Error(At(363));Nt=Kp(Nt),Nt=E0(Nt,zt),zt=[],Nt=Array.from(Nt);for(var hr=0;hr<Nt.length;){var gr=Nt[hr++];if(gr.tag===5)Yr(gr)||zt.push(gr.stateNode);else for(gr=gr.child;gr!==null;)Nt.push(gr),gr=gr.sibling}return zt}var tv=Math.ceil,ap=Ct.ReactCurrentDispatcher,Yp=Ct.ReactCurrentOwner,Qs=Ct.ReactCurrentBatchConfig,ys=0,eo=null,to=null,mo=0,ko=0,gu=no(0),so=0,Bu=null,vu=0,lp=0,Qp=0,Du=null,Lo=null,Zp=0,em=1/0;function yu(){em=Gs()+500}var up=!1,tm=null,Gl=null,cp=!1,Vl=null,fp=0,Fu=0,rm=null,hp=-1,dp=0;function Mo(){return ys&6?Gs():hp!==-1?hp:hp=Gs()}function zl(Nt){return Nt.mode&1?ys&2&&mo!==0?mo&-mo:Vs.transition!==null?(dp===0&&(Nt=Go,Go<<=1,!(Go&4194240)&&(Go=64),dp=Nt),dp):(Nt=os,Nt!==0?Nt:cn()):1}function Ko(Nt,zt,hr){if(50<Fu)throw Fu=0,rm=null,Error(At(185));var gr=pp(Nt,zt);return gr===null?null:(Vo(gr,zt,hr),(!(ys&2)||gr!==eo)&&(gr===eo&&(!(ys&2)&&(lp|=zt),so===4&&$l(gr,mo)),Io(gr,hr),zt===1&&ys===0&&!(Nt.mode&1)&&(yu(),Bn&&Ss())),gr)}function pp(Nt,zt){Nt.lanes|=zt;var hr=Nt.alternate;for(hr!==null&&(hr.lanes|=zt),hr=Nt,Nt=Nt.return;Nt!==null;)Nt.childLanes|=zt,hr=Nt.alternate,hr!==null&&(hr.childLanes|=zt),hr=Nt,Nt=Nt.return;return hr.tag===3?hr.stateNode:null}function Io(Nt,zt){var hr=Nt.callbackNode;Po(Nt,zt);var gr=Ml(Nt,Nt===eo?mo:0);if(gr===0)hr!==null&&na(hr),Nt.callbackNode=null,Nt.callbackPriority=0;else if(zt=gr&-gr,Nt.callbackPriority!==zt){if(hr!=null&&na(hr),zt===1)Nt.tag===0?ns(A0.bind(null,Nt)):Rs(A0.bind(null,Nt)),Qr?yn(function(){ys===0&&Ss()}):Zo(ga,Ss),hr=null;else{switch(Fl(gr)){case 1:hr=ga;break;case 4:hr=Xl;break;case 16:hr=lo;break;case 536870912:hr=_a;break;default:hr=lo}hr=B0(hr,b0.bind(null,Nt))}Nt.callbackPriority=zt,Nt.callbackNode=hr}}function b0(Nt,zt){if(hp=-1,dp=0,ys&6)throw Error(At(327));var hr=Nt.callbackNode;if(iu()&&Nt.callbackNode!==hr)return null;var gr=Ml(Nt,Nt===eo?mo:0);if(gr===0)return null;if(gr&30||gr&Nt.expiredLanes||zt)zt=mp(Nt,gr);else{zt=gr;var wr=ys;ys|=2;var Tr=w0();(eo!==Nt||mo!==zt)&&(yu(),ru(Nt,zt));do try{iv();break}catch(tn){M0(Nt,tn)}while(1);Ao(),ap.current=Tr,ys=wr,to!==null?zt=0:(eo=null,mo=0,zt=so)}if(zt!==0){if(zt===2&&(wr=Qo(Nt),wr!==0&&(gr=wr,zt=im(Nt,wr))),zt===1)throw hr=Bu,ru(Nt,0),$l(Nt,gr),Io(Nt,Gs()),hr;if(zt===6)$l(Nt,gr);else{if(wr=Nt.current.alternate,!(gr&30)&&!rv(wr)&&(zt=mp(Nt,gr),zt===2&&(Tr=Qo(Nt),Tr!==0&&(gr=Tr,zt=im(Nt,Tr))),zt===1))throw hr=Bu,ru(Nt,0),$l(Nt,gr),Io(Nt,Gs()),hr;switch(Nt.finishedWork=wr,Nt.finishedLanes=gr,zt){case 0:case 1:throw Error(At(345));case 2:nu(Nt,Lo);break;case 3:if($l(Nt,gr),(gr&130023424)===gr&&(zt=Zp+500-Gs(),10<zt)){if(Ml(Nt,0)!==0)break;if(wr=Nt.suspendedLanes,(wr&gr)!==gr){Mo(),Nt.pingedLanes|=Nt.suspendedLanes&wr;break}Nt.timeoutHandle=Jr(nu.bind(null,Nt,Lo),zt);break}nu(Nt,Lo);break;case 4:if($l(Nt,gr),(gr&4194240)===gr)break;for(zt=Nt.eventTimes,wr=-1;0<gr;){var Wr=31-ao(gr);Tr=1<<Wr,Wr=zt[Wr],Wr>wr&&(wr=Wr),gr&=~Tr}if(gr=wr,gr=Gs()-gr,gr=(120>gr?120:480>gr?480:1080>gr?1080:1920>gr?1920:3e3>gr?3e3:4320>gr?4320:1960*tv(gr/1960))-gr,10<gr){Nt.timeoutHandle=Jr(nu.bind(null,Nt,Lo),gr);break}nu(Nt,Lo);break;case 5:nu(Nt,Lo);break;default:throw Error(At(329))}}}return Io(Nt,Gs()),Nt.callbackNode===hr?b0.bind(null,Nt):null}function im(Nt,zt){var hr=Du;return Nt.current.memoizedState.isDehydrated&&(ru(Nt,zt).flags|=256),Nt=mp(Nt,zt),Nt!==2&&(zt=Lo,Lo=hr,zt!==null&&sm(zt)),Nt}function sm(Nt){Lo===null?Lo=Nt:Lo.push.apply(Lo,Nt)}function rv(Nt){for(var zt=Nt;;){if(zt.flags&16384){var hr=zt.updateQueue;if(hr!==null&&(hr=hr.stores,hr!==null))for(var gr=0;gr<hr.length;gr++){var wr=hr[gr],Tr=wr.getSnapshot;wr=wr.value;try{if(!Hr(Tr(),wr))return!1}catch{return!1}}}if(hr=zt.child,zt.subtreeFlags&16384&&hr!==null)hr.return=zt,zt=hr;else{if(zt===Nt)break;for(;zt.sibling===null;){if(zt.return===null||zt.return===Nt)return!0;zt=zt.return}zt.sibling.return=zt.return,zt=zt.sibling}}return!0}function $l(Nt,zt){for(zt&=~Qp,zt&=~lp,Nt.suspendedLanes|=zt,Nt.pingedLanes&=~zt,Nt=Nt.expirationTimes;0<zt;){var hr=31-ao(zt),gr=1<<hr;Nt[hr]=-1,zt&=~gr}}function A0(Nt){if(ys&6)throw Error(At(327));iu();var zt=Ml(Nt,0);if(!(zt&1))return Io(Nt,Gs()),null;var hr=mp(Nt,zt);if(Nt.tag!==0&&hr===2){var gr=Qo(Nt);gr!==0&&(zt=gr,hr=im(Nt,gr))}if(hr===1)throw hr=Bu,ru(Nt,0),$l(Nt,zt),Io(Nt,Gs()),hr;if(hr===6)throw Error(At(345));return Nt.finishedWork=Nt.current.alternate,Nt.finishedLanes=zt,nu(Nt,Lo),Io(Nt,Gs()),null}function C0(Nt){Vl!==null&&Vl.tag===0&&!(ys&6)&&iu();var zt=ys;ys|=1;var hr=Qs.transition,gr=os;try{if(Qs.transition=null,os=1,Nt)return Nt()}finally{os=gr,Qs.transition=hr,ys=zt,!(ys&6)&&Ss()}}function om(){ko=gu.current,ss(gu)}function ru(Nt,zt){Nt.finishedWork=null,Nt.finishedLanes=0;var hr=Nt.timeoutHandle;if(hr!==jr&&(Nt.timeoutHandle=jr,Or(hr)),to!==null)for(hr=to.return;hr!==null;){var gr=hr;switch(Ep(gr),gr.tag){case 1:gr=gr.type.childContextTypes,gr!=null&&Yo();break;case 3:pu(),ss(js),ss(As),Pp();break;case 5:wp(gr);break;case 4:pu();break;case 13:ss(Xs);break;case 19:ss(Xs);break;case 10:uo(gr.type._context);break;case 22:case 23:om()}hr=hr.return}if(eo=Nt,to=Nt=Hl(Nt.current,null),mo=ko=zt,so=0,Bu=null,Qp=lp=vu=0,Lo=Du=null,io!==null){for(zt=0;zt<io.length;zt++)if(hr=io[zt],gr=hr.interleaved,gr!==null){hr.interleaved=null;var wr=gr.next,Tr=hr.pending;if(Tr!==null){var Wr=Tr.next;Tr.next=wr,gr.next=Wr}hr.pending=gr}io=null}return Nt}function M0(Nt,zt){do{var hr=to;try{if(Ao(),$u.current=Xu,Hu){for(var gr=Js.memoizedState;gr!==null;){var wr=gr.queue;wr!==null&&(wr.pending=null),gr=gr.next}Hu=!1}if(mu=0,co=vo=Js=null,Au=!1,Cu=0,Yp.current=null,hr===null||hr.return===null){so=1,Bu=zt,to=null;break}e:{var Tr=Nt,Wr=hr.return,tn=hr,Tn=zt;if(zt=mo,tn.flags|=32768,Tn!==null&&typeof Tn=="object"&&typeof Tn.then=="function"){var Un=Tn,qn=tn,ls=qn.tag;if(!(qn.mode&1)&&(ls===0||ls===11||ls===15)){var _i=qn.alternate;_i?(qn.updateQueue=_i.updateQueue,qn.memoizedState=_i.memoizedState,qn.lanes=_i.lanes):(qn.updateQueue=null,qn.memoizedState=null)}var ks=qm(Wr);if(ks!==null){ks.flags&=-257,Xm(ks,Wr,tn,Tr,zt),ks.mode&1&&Km(Tr,Un,zt),zt=ks,Tn=Un;var Yn=zt.updateQueue;if(Yn===null){var xo=new Set;xo.add(Tn),zt.updateQueue=xo}else Yn.add(Tn);break e}else{if(!(zt&1)){Km(Tr,Un,zt),am();break e}Tn=Error(At(426))}}else if(Hs&&tn.mode&1){var Xo=qm(Wr);if(Xo!==null){!(Xo.flags&65536)&&(Xo.flags|=256),Xm(Xo,Wr,tn,Tr,zt),Cp(Tn);break e}}Tr=Tn,so!==4&&(so=2),Du===null?Du=[Tr]:Du.push(Tr),Tn=Op(Tn,tn),tn=Wr;do{switch(tn.tag){case 3:tn.flags|=65536,zt&=-zt,tn.lanes|=zt;var gn=jm(tn,Tn,zt);dm(tn,gn);break e;case 1:Tr=Tn;var un=tn.type,bn=tn.stateNode;if(!(tn.flags&128)&&(typeof un.getDerivedStateFromError=="function"||bn!==null&&typeof bn.componentDidCatch=="function"&&(Gl===null||!Gl.has(bn)))){tn.flags|=65536,zt&=-zt,tn.lanes|=zt;var Hn=Wm(tn,Tr,zt);dm(tn,Hn);break e}}tn=tn.return}while(tn!==null)}P0(hr)}catch(Jn){zt=Jn,to===hr&&hr!==null&&(to=hr=hr.return);continue}break}while(1)}function w0(){var Nt=ap.current;return ap.current=Xu,Nt===null?Xu:Nt}function am(){(so===0||so===3||so===2)&&(so=4),eo===null||!(vu&268435455)&&!(lp&268435455)||$l(eo,mo)}function mp(Nt,zt){var hr=ys;ys|=2;var gr=w0();eo===Nt&&mo===zt||ru(Nt,zt);do try{nv();break}catch(wr){M0(Nt,wr)}while(1);if(Ao(),ys=hr,ap.current=gr,to!==null)throw Error(At(261));return eo=null,mo=0,so}function nv(){for(;to!==null;)T0(to)}function iv(){for(;to!==null&&!Kl();)T0(to)}function T0(Nt){var zt=I0(Nt.alternate,Nt,ko);Nt.memoizedProps=Nt.pendingProps,zt===null?P0(Nt):to=zt,Yp.current=null}function P0(Nt){var zt=Nt;do{var hr=zt.alternate;if(Nt=zt.return,zt.flags&32768){if(hr=J0(hr,zt),hr!==null){hr.flags&=32767,to=hr;return}if(Nt!==null)Nt.flags|=32768,Nt.subtreeFlags=0,Nt.deletions=null;else{so=6,to=null;return}}else if(hr=K0(hr,zt,ko),hr!==null){to=hr;return}if(zt=zt.sibling,zt!==null){to=zt;return}to=zt=Nt}while(zt!==null);so===0&&(so=5)}function nu(Nt,zt){var hr=os,gr=Qs.transition;try{Qs.transition=null,os=1,sv(Nt,zt,hr)}finally{Qs.transition=gr,os=hr}return null}function sv(Nt,zt,hr){do iu();while(Vl!==null);if(ys&6)throw Error(At(327));var gr=Nt.finishedWork,wr=Nt.finishedLanes;if(gr===null)return null;if(Nt.finishedWork=null,Nt.finishedLanes=0,gr===Nt.current)throw Error(At(177));Nt.callbackNode=null,Nt.callbackPriority=0;var Tr=gr.lanes|gr.childLanes;if(yl(Nt,Tr),Nt===eo&&(to=eo=null,mo=0),!(gr.subtreeFlags&2064)&&!(gr.flags&2064)||cp||(cp=!0,B0(lo,function(){return iu(),null})),Tr=(gr.flags&15990)!==0,gr.subtreeFlags&15990||Tr){Tr=Qs.transition,Qs.transition=null;var Wr=os;os=1;var tn=ys;ys|=4,Yp.current=null,Q0(Nt,gr),Z0(Nt,gr),Er(Nt.containerInfo),Nt.current=gr,ev(gr),Ol(),ys=tn,os=Wr,Qs.transition=Tr}else Nt.current=gr;if(cp&&(cp=!1,Vl=Nt,fp=wr),Tr=Nt.pendingLanes,Tr===0&&(Gl=null),Jl(gr.stateNode),Io(Nt,Gs()),zt!==null)for(hr=Nt.onRecoverableError,gr=0;gr<zt.length;gr++)hr(zt[gr]);if(up)throw up=!1,Nt=tm,tm=null,Nt;return fp&1&&Nt.tag!==0&&iu(),Tr=Nt.pendingLanes,Tr&1?Nt===rm?Fu++:(Fu=0,rm=Nt):Fu=0,Ss(),null}function iu(){if(Vl!==null){var Nt=Fl(fp),zt=Qs.transition,hr=os;try{if(Qs.transition=null,os=16>Nt?16:Nt,Vl===null)var gr=!1;else{if(Nt=Vl,Vl=null,fp=0,ys&6)throw Error(At(331));var wr=ys;for(ys|=4,$n=Nt.current;$n!==null;){var Tr=$n,Wr=Tr.child;if($n.flags&16){var tn=Tr.deletions;if(tn!==null){for(var Tn=0;Tn<tn.length;Tn++){var Un=tn[Tn];for($n=Un;$n!==null;){var qn=$n;switch(qn.tag){case 0:case 11:case 15:tu(8,qn,Tr)}var ls=qn.child;if(ls!==null)ls.return=qn,$n=ls;else for(;$n!==null;){qn=$n;var _i=qn.sibling,ks=qn.return;if(d0(qn),qn===Un){$n=null;break}if(_i!==null){_i.return=ks,$n=_i;break}$n=ks}}}var Yn=Tr.alternate;if(Yn!==null){var xo=Yn.child;if(xo!==null){Yn.child=null;do{var Xo=xo.sibling;xo.sibling=null,xo=Xo}while(xo!==null)}}$n=Tr}}if(Tr.subtreeFlags&2064&&Wr!==null)Wr.return=Tr,$n=Wr;else e:for(;$n!==null;){if(Tr=$n,Tr.flags&2048)switch(Tr.tag){case 0:case 11:case 15:tu(9,Tr,Tr.return)}var gn=Tr.sibling;if(gn!==null){gn.return=Tr.return,$n=gn;break e}$n=Tr.return}}var un=Nt.current;for($n=un;$n!==null;){Wr=$n;var bn=Wr.child;if(Wr.subtreeFlags&2064&&bn!==null)bn.return=Wr,$n=bn;else e:for(Wr=un;$n!==null;){if(tn=$n,tn.flags&2048)try{switch(tn.tag){case 0:case 11:case 15:Lu(9,tn)}}catch(Jn){Bo(tn,tn.return,Jn)}if(tn===Wr){$n=null;break e}var Hn=tn.sibling;if(Hn!==null){Hn.return=tn.return,$n=Hn;break e}$n=tn.return}}if(ys=wr,Ss(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(xa,Nt)}catch{}gr=!0}return gr}finally{os=hr,Qs.transition=zt}}return!1}function R0(Nt,zt,hr){zt=Op(hr,zt),zt=jm(Nt,zt,1),Ul(Nt,zt),zt=Mo(),Nt=pp(Nt,1),Nt!==null&&(Vo(Nt,1,zt),Io(Nt,zt))}function Bo(Nt,zt,hr){if(Nt.tag===3)R0(Nt,Nt,hr);else for(;zt!==null;){if(zt.tag===3){R0(zt,Nt,hr);break}else if(zt.tag===1){var gr=zt.stateNode;if(typeof zt.type.getDerivedStateFromError=="function"||typeof gr.componentDidCatch=="function"&&(Gl===null||!Gl.has(gr))){Nt=Op(hr,Nt),Nt=Wm(zt,Nt,1),Ul(zt,Nt),Nt=Mo(),zt=pp(zt,1),zt!==null&&(Vo(zt,1,Nt),Io(zt,Nt));break}}zt=zt.return}}function ov(Nt,zt,hr){var gr=Nt.pingCache;gr!==null&&gr.delete(zt),zt=Mo(),Nt.pingedLanes|=Nt.suspendedLanes&hr,eo===Nt&&(mo&hr)===hr&&(so===4||so===3&&(mo&130023424)===mo&&500>Gs()-Zp?ru(Nt,0):Qp|=hr),Io(Nt,zt)}function L0(Nt,zt){zt===0&&(Nt.mode&1?(zt=To,To<<=1,!(To&130023424)&&(To=4194304)):zt=1);var hr=Mo();Nt=pp(Nt,zt),Nt!==null&&(Vo(Nt,zt,hr),Io(Nt,hr))}function av(Nt){var zt=Nt.memoizedState,hr=0;zt!==null&&(hr=zt.retryLane),L0(Nt,hr)}function lv(Nt,zt){var hr=0;switch(Nt.tag){case 13:var gr=Nt.stateNode,wr=Nt.memoizedState;wr!==null&&(hr=wr.retryLane);break;case 19:gr=Nt.stateNode;break;default:throw Error(At(314))}gr!==null&&gr.delete(zt),L0(Nt,hr)}var I0;I0=function(Nt,zt,hr){if(Nt!==null)if(Nt.memoizedProps!==zt.pendingProps||js.current)Oo=!0;else{if(!(Nt.lanes&hr)&&!(zt.flags&128))return Oo=!1,X0(Nt,zt,hr);Oo=!!(Nt.flags&131072)}else Oo=!1,Hs&&zt.flags&1048576&&_m(zt,Gu,zt.index);switch(zt.lanes=0,zt.tag){case 2:var gr=zt.type;Nt!==null&&(Nt.alternate=null,zt.alternate=null,zt.flags|=2),Nt=zt.pendingProps;var wr=Eo(zt,As.current);qs(zt,hr),wr=Lp(null,zt,gr,Nt,wr,hr);var Tr=Ip();return zt.flags|=1,typeof wr=="object"&&wr!==null&&typeof wr.render=="function"&&wr.$$typeof===void 0?(zt.tag=1,zt.memoizedState=null,zt.updateQueue=null,Os(gr)?(Tr=!0,Uo(zt)):Tr=!1,zt.memoizedState=wr.state!==null&&wr.state!==void 0?wr.state:null,yp(zt),wr.updater=Nu,zt.stateNode=wr,wr._reactInternals=zt,xp(zt,gr,Nt,hr),zt=Up(null,zt,gr,!0,Tr,hr)):(zt.tag=0,Hs&&Tr&&Sp(zt),Co(null,zt,wr,hr),zt=zt.child),zt;case 16:gr=zt.elementType;e:{switch(Nt!==null&&(Nt.alternate=null,zt.alternate=null,zt.flags|=2),Nt=zt.pendingProps,wr=gr._init,gr=wr(gr._payload),zt.type=gr,wr=zt.tag=cv(gr),Nt=Is(gr,Nt),wr){case 0:zt=Np(null,zt,gr,Nt,hr);break e;case 1:zt=r0(null,zt,gr,Nt,hr);break e;case 11:zt=Qm(null,zt,gr,Nt,hr);break e;case 14:zt=Zm(null,zt,gr,Is(gr.type,Nt),hr);break e}throw Error(At(306,gr,""))}return zt;case 0:return gr=zt.type,wr=zt.pendingProps,wr=zt.elementType===gr?wr:Is(gr,wr),Np(Nt,zt,gr,wr,hr);case 1:return gr=zt.type,wr=zt.pendingProps,wr=zt.elementType===gr?wr:Is(gr,wr),r0(Nt,zt,gr,wr,hr);case 3:e:{if(n0(zt),Nt===null)throw Error(At(387));gr=zt.pendingProps,Tr=zt.memoizedState,wr=Tr.element,hm(Nt,zt),ku(zt,gr,null,hr);var Wr=zt.memoizedState;if(gr=Wr.element,zr&&Tr.isDehydrated)if(Tr={element:gr,isDehydrated:!1,cache:Wr.cache,transitions:Wr.transitions},zt.updateQueue.baseState=Tr,zt.memoizedState=Tr,zt.flags&256){wr=Error(At(423)),zt=i0(Nt,zt,gr,hr,wr);break e}else if(gr!==wr){wr=Error(At(424)),zt=i0(Nt,zt,gr,hr,wr);break e}else for(zr&&(Fo=ln(zt.stateNode.containerInfo),Do=zt,Hs=!0,$a=null,_u=!1),hr=Cm(zt,null,gr,hr),zt.child=hr;hr;)hr.flags=hr.flags&-3|4096,hr=hr.sibling;else{if(fu(),gr===wr){zt=Il(Nt,zt,hr);break e}Co(Nt,zt,gr,hr)}zt=zt.child}return zt;case 5:return Mm(zt),Nt===null&&Ap(zt),gr=zt.type,wr=zt.pendingProps,Tr=Nt!==null?Nt.memoizedProps:null,Wr=wr.children,kr(gr,wr)?Wr=null:Tr!==null&&kr(gr,Tr)&&(zt.flags|=32),t0(Nt,zt),Co(Nt,zt,Wr,hr),zt.child;case 6:return Nt===null&&Ap(zt),null;case 13:return s0(Nt,zt,hr);case 4:return Mp(zt,zt.stateNode.containerInfo),gr=zt.pendingProps,Nt===null?zt.child=hu(zt,null,gr,hr):Co(Nt,zt,gr,hr),zt.child;case 11:return gr=zt.type,wr=zt.pendingProps,wr=zt.elementType===gr?wr:Is(gr,wr),Qm(Nt,zt,gr,wr,hr);case 7:return Co(Nt,zt,zt.pendingProps,hr),zt.child;case 8:return Co(Nt,zt,zt.pendingProps.children,hr),zt.child;case 12:return Co(Nt,zt,zt.pendingProps.children,hr),zt.child;case 10:e:{if(gr=zt.type._context,wr=zt.pendingProps,Tr=zt.memoizedProps,Wr=wr.value,Ro(zt,gr,Wr),Tr!==null)if(Hr(Tr.value,Wr)){if(Tr.children===wr.children&&!js.current){zt=Il(Nt,zt,hr);break e}}else for(Tr=zt.child,Tr!==null&&(Tr.return=zt);Tr!==null;){var tn=Tr.dependencies;if(tn!==null){Wr=Tr.child;for(var Tn=tn.firstContext;Tn!==null;){if(Tn.context===gr){if(Tr.tag===1){Tn=Tl(-1,hr&-hr),Tn.tag=2;var Un=Tr.updateQueue;if(Un!==null){Un=Un.shared;var qn=Un.pending;qn===null?Tn.next=Tn:(Tn.next=qn.next,qn.next=Tn),Un.pending=Tn}}Tr.lanes|=hr,Tn=Tr.alternate,Tn!==null&&(Tn.lanes|=hr),Ks(Tr.return,hr,zt),tn.lanes|=hr;break}Tn=Tn.next}}else if(Tr.tag===10)Wr=Tr.type===zt.type?null:Tr.child;else if(Tr.tag===18){if(Wr=Tr.return,Wr===null)throw Error(At(341));Wr.lanes|=hr,tn=Wr.alternate,tn!==null&&(tn.lanes|=hr),Ks(Wr,hr,zt),Wr=Tr.sibling}else Wr=Tr.child;if(Wr!==null)Wr.return=Tr;else for(Wr=Tr;Wr!==null;){if(Wr===zt){Wr=null;break}if(Tr=Wr.sibling,Tr!==null){Tr.return=Wr.return,Wr=Tr;break}Wr=Wr.return}Tr=Wr}Co(Nt,zt,wr.children,hr),zt=zt.child}return zt;case 9:return wr=zt.type,gr=zt.pendingProps.children,qs(zt,hr),wr=ws(wr),gr=gr(wr),zt.flags|=1,Co(Nt,zt,gr,hr),zt.child;case 14:return gr=zt.type,wr=Is(gr,zt.pendingProps),wr=Is(gr.type,wr),Zm(Nt,zt,gr,wr,hr);case 15:return _g(Nt,zt,zt.type,zt.pendingProps,hr);case 17:return gr=zt.type,wr=zt.pendingProps,wr=zt.elementType===gr?wr:Is(gr,wr),Nt!==null&&(Nt.alternate=null,zt.alternate=null,zt.flags|=2),zt.tag=1,Os(gr)?(Nt=!0,Uo(zt)):Nt=!1,qs(zt,hr),vm(zt,gr,wr),xp(zt,gr,wr,hr),Up(null,zt,gr,!0,Nt,hr);case 19:return u0(Nt,zt,hr);case 22:return e0(Nt,zt,hr)}throw Error(At(156,zt.tag))};function B0(Nt,zt){return Zo(Nt,zt)}function uv(Nt,zt,hr,gr){this.tag=Nt,this.key=hr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=zt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=gr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qo(Nt,zt,hr,gr){return new uv(Nt,zt,hr,gr)}function lm(Nt){return Nt=Nt.prototype,!(!Nt||!Nt.isReactComponent)}function cv(Nt){if(typeof Nt=="function")return lm(Nt)?1:0;if(Nt!=null){if(Nt=Nt.$$typeof,Nt===Kt)return 11;if(Nt===Zt)return 14}return 2}function Hl(Nt,zt){var hr=Nt.alternate;return hr===null?(hr=qo(Nt.tag,zt,Nt.key,Nt.mode),hr.elementType=Nt.elementType,hr.type=Nt.type,hr.stateNode=Nt.stateNode,hr.alternate=Nt,Nt.alternate=hr):(hr.pendingProps=zt,hr.type=Nt.type,hr.flags=0,hr.subtreeFlags=0,hr.deletions=null),hr.flags=Nt.flags&14680064,hr.childLanes=Nt.childLanes,hr.lanes=Nt.lanes,hr.child=Nt.child,hr.memoizedProps=Nt.memoizedProps,hr.memoizedState=Nt.memoizedState,hr.updateQueue=Nt.updateQueue,zt=Nt.dependencies,hr.dependencies=zt===null?null:{lanes:zt.lanes,firstContext:zt.firstContext},hr.sibling=Nt.sibling,hr.index=Nt.index,hr.ref=Nt.ref,hr}function gp(Nt,zt,hr,gr,wr,Tr){var Wr=2;if(gr=Nt,typeof Nt=="function")lm(Nt)&&(Wr=1);else if(typeof Nt=="string")Wr=5;else e:switch(Nt){case Bt:return su(hr.children,wr,Tr,zt);case Dt:Wr=8,wr|=8;break;case Ft:return Nt=qo(12,hr,zt,wr|2),Nt.elementType=Ft,Nt.lanes=Tr,Nt;case tr:return Nt=qo(13,hr,zt,wr),Nt.elementType=tr,Nt.lanes=Tr,Nt;case Wt:return Nt=qo(19,hr,zt,wr),Nt.elementType=Wt,Nt.lanes=Tr,Nt;case nr:return vp(hr,wr,Tr,zt);default:if(typeof Nt=="object"&&Nt!==null)switch(Nt.$$typeof){case kt:Wr=10;break e;case Ut:Wr=9;break e;case Kt:Wr=11;break e;case Zt:Wr=14;break e;case Ht:Wr=16,gr=null;break e}throw Error(At(130,Nt==null?Nt:typeof Nt,""))}return zt=qo(Wr,hr,zt,wr),zt.elementType=Nt,zt.type=gr,zt.lanes=Tr,zt}function su(Nt,zt,hr,gr){return Nt=qo(7,Nt,gr,zt),Nt.lanes=hr,Nt}function vp(Nt,zt,hr,gr){return Nt=qo(22,Nt,gr,zt),Nt.elementType=nr,Nt.lanes=hr,Nt.stateNode={},Nt}function um(Nt,zt,hr){return Nt=qo(6,Nt,null,zt),Nt.lanes=hr,Nt}function cm(Nt,zt,hr){return zt=qo(4,Nt.children!==null?Nt.children:[],Nt.key,zt),zt.lanes=hr,zt.stateNode={containerInfo:Nt.containerInfo,pendingChildren:null,implementation:Nt.implementation},zt}function fv(Nt,zt,hr,gr,wr){this.tag=zt,this.containerInfo=Nt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=jr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=gr,this.onRecoverableError=wr,zr&&(this.mutableSourceEagerHydrationData=null)}function D0(Nt,zt,hr,gr,wr,Tr,Wr,tn,Tn){return Nt=new fv(Nt,zt,hr,tn,Tn),zt===1?(zt=1,Tr===!0&&(zt|=8)):zt=0,Tr=qo(3,null,null,zt),Nt.current=Tr,Tr.stateNode=Nt,Tr.memoizedState={element:gr,isDehydrated:hr,cache:null,transitions:null},yp(Tr),Nt}function F0(Nt){if(!Nt)return po;Nt=Nt._reactInternals;e:{if(lr(Nt)!==Nt||Nt.tag!==1)throw Error(At(170));var zt=Nt;do{switch(zt.tag){case 3:zt=zt.stateNode.context;break e;case 1:if(Os(zt.type)){zt=zt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}zt=zt.return}while(zt!==null);throw Error(At(171))}if(Nt.tag===1){var hr=Nt.type;if(Os(hr))return Bl(Nt,hr,zt)}return zt}function O0(Nt){var zt=Nt._reactInternals;if(zt===void 0)throw typeof Nt.render=="function"?Error(At(188)):(Nt=Object.keys(Nt).join(","),Error(At(268,Nt)));return Nt=mr(zt),Nt===null?null:Nt.stateNode}function k0(Nt,zt){if(Nt=Nt.memoizedState,Nt!==null&&Nt.dehydrated!==null){var hr=Nt.retryLane;Nt.retryLane=hr!==0&&hr<zt?hr:zt}}function fm(Nt,zt){k0(Nt,zt),(Nt=Nt.alternate)&&k0(Nt,zt)}function hv(Nt){return Nt=mr(Nt),Nt===null?null:Nt.stateNode}function dv(){return null}return dt.attemptContinuousHydration=function(Nt){if(Nt.tag===13){var zt=Mo();Ko(Nt,134217728,zt),fm(Nt,134217728)}},dt.attemptHydrationAtCurrentPriority=function(Nt){if(Nt.tag===13){var zt=Mo(),hr=zl(Nt);Ko(Nt,hr,zt),fm(Nt,hr)}},dt.attemptSynchronousHydration=function(Nt){switch(Nt.tag){case 3:var zt=Nt.stateNode;if(zt.current.memoizedState.isDehydrated){var hr=go(zt.pendingLanes);hr!==0&&(zo(zt,hr|1),Io(zt,Gs()),!(ys&6)&&(yu(),Ss()))}break;case 13:var gr=Mo();C0(function(){return Ko(Nt,1,gr)}),fm(Nt,1)}},dt.batchedUpdates=function(Nt,zt){var hr=ys;ys|=1;try{return Nt(zt)}finally{ys=hr,ys===0&&(yu(),Bn&&Ss())}},dt.createComponentSelector=function(Nt){return{$$typeof:ep,value:Nt}},dt.createContainer=function(Nt,zt,hr,gr,wr,Tr,Wr){return D0(Nt,zt,!1,null,hr,gr,wr,Tr,Wr)},dt.createHasPseudoClassSelector=function(Nt){return{$$typeof:tp,value:Nt}},dt.createHydrationContainer=function(Nt,zt,hr,gr,wr,Tr,Wr,tn,Tn){return Nt=D0(hr,gr,!0,Nt,wr,Tr,Wr,tn,Tn),Nt.context=F0(null),hr=Nt.current,gr=Mo(),wr=zl(hr),Tr=Tl(gr,wr),Tr.callback=zt??null,Ul(hr,Tr),Nt.current.lanes=wr,Vo(Nt,wr,gr),Io(Nt,gr),Nt},dt.createPortal=function(Nt,zt,hr){var gr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rt,key:gr==null?null:""+gr,children:Nt,containerInfo:zt,implementation:hr}},dt.createRoleSelector=function(Nt){return{$$typeof:rp,value:Nt}},dt.createTestNameSelector=function(Nt){return{$$typeof:np,value:Nt}},dt.createTextSelector=function(Nt){return{$$typeof:sp,value:Nt}},dt.deferredUpdates=function(Nt){var zt=os,hr=Qs.transition;try{return Qs.transition=null,os=16,Nt()}finally{os=zt,Qs.transition=hr}},dt.discreteUpdates=function(Nt,zt,hr,gr,wr){var Tr=os,Wr=Qs.transition;try{return Qs.transition=null,os=1,Nt(zt,hr,gr,wr)}finally{os=Tr,Qs.transition=Wr,ys===0&&yu()}},dt.findAllNodes=Jp,dt.findBoundingRects=function(Nt,zt){if(!Pn)throw Error(At(363));zt=Jp(Nt,zt),Nt=[];for(var hr=0;hr<zt.length;hr++)Nt.push(Fr(zt[hr]));for(zt=Nt.length-1;0<zt;zt--){hr=Nt[zt];for(var gr=hr.x,wr=gr+hr.width,Tr=hr.y,Wr=Tr+hr.height,tn=zt-1;0<=tn;tn--)if(zt!==tn){var Tn=Nt[tn],Un=Tn.x,qn=Un+Tn.width,ls=Tn.y,_i=ls+Tn.height;if(gr>=Un&&Tr>=ls&&wr<=qn&&Wr<=_i){Nt.splice(zt,1);break}else if(gr!==Un||hr.width!==Tn.width||_i<Tr||ls>Wr){if(!(Tr!==ls||hr.height!==Tn.height||qn<gr||Un>wr)){Un>gr&&(Tn.width+=Un-gr,Tn.x=gr),qn<wr&&(Tn.width=wr-Un),Nt.splice(zt,1);break}}else{ls>Tr&&(Tn.height+=ls-Tr,Tn.y=Tr),_i<Wr&&(Tn.height=Wr-ls),Nt.splice(zt,1);break}}}return Nt},dt.findHostInstance=O0,dt.findHostInstanceWithNoPortals=function(Nt){return Nt=dr(Nt),Nt=Nt!==null?yr(Nt):null,Nt===null?null:Nt.stateNode},dt.findHostInstanceWithWarning=function(Nt){return O0(Nt)},dt.flushControlled=function(Nt){var zt=ys;ys|=1;var hr=Qs.transition,gr=os;try{Qs.transition=null,os=1,Nt()}finally{os=gr,Qs.transition=hr,ys=zt,ys===0&&(yu(),Ss())}},dt.flushPassiveEffects=iu,dt.flushSync=C0,dt.focusWithin=function(Nt,zt){if(!Pn)throw Error(At(363));for(Nt=Kp(Nt),zt=E0(Nt,zt),zt=Array.from(zt),Nt=0;Nt<zt.length;){var hr=zt[Nt++];if(!Yr(hr)){if(hr.tag===5&&Cn(hr.stateNode))return!0;for(hr=hr.child;hr!==null;)zt.push(hr),hr=hr.sibling}}return!1},dt.getCurrentUpdatePriority=function(){return os},dt.getFindAllNodesFailureDescription=function(Nt,zt){if(!Pn)throw Error(At(363));var hr=0,gr=[];Nt=[Kp(Nt),0];for(var wr=0;wr<Nt.length;){var Tr=Nt[wr++],Wr=Nt[wr++],tn=zt[Wr];if((Tr.tag!==5||!Yr(Tr))&&(qp(Tr,tn)&&(gr.push(Xp(tn)),Wr++,Wr>hr&&(hr=Wr)),Wr<zt.length))for(Tr=Tr.child;Tr!==null;)Nt.push(Tr,Wr),Tr=Tr.sibling}if(hr<zt.length){for(Nt=[];hr<zt.length;hr++)Nt.push(Xp(zt[hr]));return`findAllNodes was able to match part of the selector:
  `+(gr.join(" > ")+`

No matching component was found for:
  `)+Nt.join(" > ")}return null},dt.getPublicRootInstance=function(Nt){if(Nt=Nt.current,!Nt.child)return null;switch(Nt.child.tag){case 5:return Sr(Nt.child.stateNode);default:return Nt.child.stateNode}},dt.injectIntoDevTools=function(Nt){if(Nt={bundleType:Nt.bundleType,version:Nt.version,rendererPackageName:Nt.rendererPackageName,rendererConfig:Nt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:hv,findFiberByHostInstance:Nt.findFiberByHostInstance||dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Nt=!1;else{var zt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(zt.isDisabled||!zt.supportsFiber)Nt=!0;else{try{xa=zt.inject(Nt),bo=zt}catch{}Nt=!!zt.checkDCE}}return Nt},dt.isAlreadyRendering=function(){return!1},dt.observeVisibleRects=function(Nt,zt,hr,gr){if(!Pn)throw Error(At(363));Nt=Jp(Nt,zt);var wr=An(Nt,hr,gr).disconnect;return{disconnect:function(){wr()}}},dt.registerMutableSourceForHydration=function(Nt,zt){var hr=zt._getVersion;hr=hr(zt._source),Nt.mutableSourceEagerHydrationData==null?Nt.mutableSourceEagerHydrationData=[zt,hr]:Nt.mutableSourceEagerHydrationData.push(zt,hr)},dt.runWithPriority=function(Nt,zt){var hr=os;try{return os=Nt,zt()}finally{os=hr}},dt.shouldError=function(){return null},dt.shouldSuspend=function(){return!1},dt.updateContainer=function(Nt,zt,hr,gr){var wr=zt.current,Tr=Mo(),Wr=zl(wr);return hr=F0(hr),zt.context===null?zt.context=hr:zt.pendingContext=hr,zt=Tl(Tr,Wr),zt.payload={element:Nt},gr=gr===void 0?null:gr,gr!==null&&(zt.callback=gr),Ul(wr,zt),Nt=Ko(wr,Wr,Tr),Nt!==null&&Ou(Nt,wr,Wr),Wr},dt};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ft){function lt(cr,pr){var Er=cr.length;cr.push(pr);e:for(;0<Er;){var _r=Er-1>>>1,Ar=cr[_r];if(0<St(Ar,pr))cr[_r]=pr,cr[Er]=Ar,Er=_r;else break e}}function dt(cr){return cr.length===0?null:cr[0]}function vt(cr){if(cr.length===0)return null;var pr=cr[0],Er=cr.pop();if(Er!==pr){cr[0]=Er;e:for(var _r=0,Ar=cr.length,Pr=Ar>>>1;_r<Pr;){var Ir=2*(_r+1)-1,kr=cr[Ir],Dr=Ir+1,Jr=cr[Dr];if(0>St(kr,Er))Dr<Ar&&0>St(Jr,kr)?(cr[_r]=Jr,cr[Dr]=Er,_r=Dr):(cr[_r]=kr,cr[Ir]=Er,_r=Ir);else if(Dr<Ar&&0>St(Jr,Er))cr[_r]=Jr,cr[Dr]=Er,_r=Dr;else break e}}return pr}function St(cr,pr){var Er=cr.sortIndex-pr.sortIndex;return Er!==0?Er:cr.id-pr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Et=performance;ft.unstable_now=function(){return Et.now()}}else{var At=Date,Ct=At.now();ft.unstable_now=function(){return At.now()-Ct}}var Tt=[],Rt=[],Bt=1,Dt=null,Ft=3,kt=!1,Ut=!1,Kt=!1,tr=typeof setTimeout=="function"?setTimeout:null,Wt=typeof clearTimeout=="function"?clearTimeout:null,Zt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ht(cr){for(var pr=dt(Rt);pr!==null;){if(pr.callback===null)vt(Rt);else if(pr.startTime<=cr)vt(Rt),pr.sortIndex=pr.expirationTime,lt(Tt,pr);else break;pr=dt(Rt)}}function nr(cr){if(Kt=!1,Ht(cr),!Ut)if(dt(Tt)!==null)Ut=!0,Sr(sr);else{var pr=dt(Rt);pr!==null&&br(nr,pr.startTime-cr)}}function sr(cr,pr){Ut=!1,Kt&&(Kt=!1,Wt(rr),rr=-1),kt=!0;var Er=Ft;try{for(Ht(pr),Dt=dt(Tt);Dt!==null&&(!(Dt.expirationTime>pr)||cr&&!dr());){var _r=Dt.callback;if(typeof _r=="function"){Dt.callback=null,Ft=Dt.priorityLevel;var Ar=_r(Dt.expirationTime<=pr);pr=ft.unstable_now(),typeof Ar=="function"?Dt.callback=Ar:Dt===dt(Tt)&&vt(Tt),Ht(pr)}else vt(Tt);Dt=dt(Tt)}if(Dt!==null)var Pr=!0;else{var Ir=dt(Rt);Ir!==null&&br(nr,Ir.startTime-pr),Pr=!1}return Pr}finally{Dt=null,Ft=Er,kt=!1}}var ar=!1,ir=null,rr=-1,lr=5,ur=-1;function dr(){return!(ft.unstable_now()-ur<lr)}function mr(){if(ir!==null){var cr=ft.unstable_now();ur=cr;var pr=!0;try{pr=ir(!0,cr)}finally{pr?Cr():(ar=!1,ir=null)}}else ar=!1}var Cr;if(typeof Zt=="function")Cr=function(){Zt(mr)};else if(typeof MessageChannel<"u"){var yr=new MessageChannel,xr=yr.port2;yr.port1.onmessage=mr,Cr=function(){xr.postMessage(null)}}else Cr=function(){tr(mr,0)};function Sr(cr){ir=cr,ar||(ar=!0,Cr())}function br(cr,pr){rr=tr(function(){cr(ft.unstable_now())},pr)}ft.unstable_IdlePriority=5,ft.unstable_ImmediatePriority=1,ft.unstable_LowPriority=4,ft.unstable_NormalPriority=3,ft.unstable_Profiling=null,ft.unstable_UserBlockingPriority=2,ft.unstable_cancelCallback=function(cr){cr.callback=null},ft.unstable_continueExecution=function(){Ut||kt||(Ut=!0,Sr(sr))},ft.unstable_forceFrameRate=function(cr){0>cr||125<cr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lr=0<cr?Math.floor(1e3/cr):5},ft.unstable_getCurrentPriorityLevel=function(){return Ft},ft.unstable_getFirstCallbackNode=function(){return dt(Tt)},ft.unstable_next=function(cr){switch(Ft){case 1:case 2:case 3:var pr=3;break;default:pr=Ft}var Er=Ft;Ft=pr;try{return cr()}finally{Ft=Er}},ft.unstable_pauseExecution=function(){},ft.unstable_requestPaint=function(){},ft.unstable_runWithPriority=function(cr,pr){switch(cr){case 1:case 2:case 3:case 4:case 5:break;default:cr=3}var Er=Ft;Ft=cr;try{return pr()}finally{Ft=Er}},ft.unstable_scheduleCallback=function(cr,pr,Er){var _r=ft.unstable_now();switch(typeof Er=="object"&&Er!==null?(Er=Er.delay,Er=typeof Er=="number"&&0<Er?_r+Er:_r):Er=_r,cr){case 1:var Ar=-1;break;case 2:Ar=250;break;case 5:Ar=1073741823;break;case 4:Ar=1e4;break;default:Ar=5e3}return Ar=Er+Ar,cr={id:Bt++,callback:pr,priorityLevel:cr,startTime:Er,expirationTime:Ar,sortIndex:-1},Er>_r?(cr.sortIndex=Er,lt(Rt,cr),dt(Tt)===null&&cr===dt(Rt)&&(Kt?(Wt(rr),rr=-1):Kt=!0,br(nr,Er-_r))):(cr.sortIndex=Ar,lt(Tt,cr),Ut||kt||(Ut=!0,Sr(sr))),cr},ft.unstable_shouldYield=dr,ft.unstable_wrapCallback=function(cr){var pr=Ft;return function(){var Er=Ft;Ft=pr;try{return cr.apply(this,arguments)}finally{Ft=Er}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;function shallowEqualArrays(ft,lt,dt=(vt,St)=>vt===St){if(ft===lt)return!0;if(!ft||!lt)return!1;const vt=ft.length;if(lt.length!==vt)return!1;for(let St=0;St<vt;St++)if(!dt(ft[St],lt[St]))return!1;return!0}const globalCache=[];function query(ft,lt,dt=!1,vt={}){for(const Et of globalCache)if(shallowEqualArrays(lt,Et.keys,Et.equal)){if(dt)return;if(Object.prototype.hasOwnProperty.call(Et,"error"))throw Et.error;if(Object.prototype.hasOwnProperty.call(Et,"response"))return Et.response;if(!dt)throw Et.promise}const St={keys:lt,equal:vt.equal,promise:ft(...lt).then(Et=>St.response=Et).then(()=>{vt.lifespan&&vt.lifespan>0&&setTimeout(()=>{const Et=globalCache.indexOf(St);Et!==-1&&globalCache.splice(Et,1)},vt.lifespan)}).catch(Et=>St.error=Et)};if(globalCache.push(St),!dt)throw St.promise}const suspend=(ft,lt,dt)=>query(ft,lt,!1,dt),preload=(ft,lt,dt)=>void query(ft,lt,!0,dt),clear=ft=>{if(ft===void 0||ft.length===0)globalCache.splice(0,globalCache.length);else{const lt=globalCache.find(dt=>shallowEqualArrays(ft,dt.keys,dt.equal));if(lt){const dt=globalCache.indexOf(lt);dt!==-1&&globalCache.splice(dt,1)}}},catalogue={},extend=ft=>void Object.assign(catalogue,ft);function createRenderer(ft,lt){function dt(Bt,{args:Dt=[],attach:Ft,...kt},Ut){let Kt=`${Bt[0].toUpperCase()}${Bt.slice(1)}`,tr;if(Bt==="primitive"){if(kt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Wt=kt.object;tr=prepare(Wt,{type:Bt,root:Ut,attach:Ft,primitive:!0})}else{const Wt=catalogue[Kt];if(!Wt)throw new Error(`R3F: ${Kt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(Dt))throw new Error("R3F: The args prop must be an array!");tr=prepare(new Wt(...Dt),{type:Bt,root:Ut,attach:Ft,memoizedProps:{args:Dt}})}return tr.__r3f.attach===void 0&&(tr instanceof BufferGeometry?tr.__r3f.attach="geometry":tr instanceof Material&&(tr.__r3f.attach="material")),Kt!=="inject"&&applyProps$1(tr,kt),tr}function vt(Bt,Dt){let Ft=!1;if(Dt){var kt,Ut;(kt=Dt.__r3f)!=null&&kt.attach?attach(Bt,Dt,Dt.__r3f.attach):Dt.isObject3D&&Bt.isObject3D&&(Bt.add(Dt),Ft=!0),Ft||(Ut=Bt.__r3f)==null||Ut.objects.push(Dt),Dt.__r3f||prepare(Dt,{}),Dt.__r3f.parent=Bt,updateInstance(Dt),invalidateInstance(Dt)}}function St(Bt,Dt,Ft){let kt=!1;if(Dt){var Ut,Kt;if((Ut=Dt.__r3f)!=null&&Ut.attach)attach(Bt,Dt,Dt.__r3f.attach);else if(Dt.isObject3D&&Bt.isObject3D){Dt.parent=Bt,Dt.dispatchEvent({type:"added"});const tr=Bt.children.filter(Zt=>Zt!==Dt),Wt=tr.indexOf(Ft);Bt.children=[...tr.slice(0,Wt),Dt,...tr.slice(Wt)],kt=!0}kt||(Kt=Bt.__r3f)==null||Kt.objects.push(Dt),Dt.__r3f||prepare(Dt,{}),Dt.__r3f.parent=Bt,updateInstance(Dt),invalidateInstance(Dt)}}function Et(Bt,Dt,Ft=!1){Bt&&[...Bt].forEach(kt=>At(Dt,kt,Ft))}function At(Bt,Dt,Ft){if(Dt){var kt,Ut,Kt;if(Dt.__r3f&&(Dt.__r3f.parent=null),(kt=Bt.__r3f)!=null&&kt.objects&&(Bt.__r3f.objects=Bt.__r3f.objects.filter(nr=>nr!==Dt)),(Ut=Dt.__r3f)!=null&&Ut.attach)detach(Bt,Dt,Dt.__r3f.attach);else if(Dt.isObject3D&&Bt.isObject3D){var tr;Bt.remove(Dt),(tr=Dt.__r3f)!=null&&tr.root&&removeInteractivity(Dt.__r3f.root,Dt)}const Zt=(Kt=Dt.__r3f)==null?void 0:Kt.primitive,Ht=Ft===void 0?Dt.dispose!==null&&!Zt:Ft;if(!Zt){var Wt;Et((Wt=Dt.__r3f)==null?void 0:Wt.objects,Dt,Ht),Et(Dt.children,Dt,Ht)}Dt.__r3f&&(delete Dt.__r3f.root,delete Dt.__r3f.objects,delete Dt.__r3f.handlers,delete Dt.__r3f.memoizedProps,Zt||delete Dt.__r3f),Ht&&Dt.dispose&&Dt.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{Dt.dispose()}catch{}}),invalidateInstance(Bt)}}function Ct(Bt,Dt,Ft,kt){var Ut;const Kt=(Ut=Bt.__r3f)==null?void 0:Ut.parent;if(!Kt)return;const tr=dt(Dt,Ft,Bt.__r3f.root);if(Bt.children){for(const Wt of Bt.children)Wt.__r3f&&vt(tr,Wt);Bt.children=Bt.children.filter(Wt=>!Wt.__r3f)}Bt.__r3f.objects.forEach(Wt=>vt(tr,Wt)),Bt.__r3f.objects=[],Bt.__r3f.autoRemovedBeforeAppend||At(Kt,Bt),tr.parent&&(tr.__r3f.autoRemovedBeforeAppend=!0),vt(Kt,tr),tr.raycast&&tr.__r3f.eventCount&&tr.__r3f.root.getState().internal.interaction.push(tr),[kt,kt.alternate].forEach(Wt=>{Wt!==null&&(Wt.stateNode=tr,Wt.ref&&(typeof Wt.ref=="function"?Wt.ref(tr):Wt.ref.current=tr))})}const Tt=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:dt,removeChild:At,appendChild:vt,appendInitialChild:vt,insertBefore:St,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Bt,Dt)=>{if(!Dt)return;const Ft=Bt.getState().scene;Ft.__r3f&&(Ft.__r3f.root=Bt,vt(Ft,Dt))},removeChildFromContainer:(Bt,Dt)=>{Dt&&At(Bt.getState().scene,Dt)},insertInContainerBefore:(Bt,Dt,Ft)=>{if(!Dt||!Ft)return;const kt=Bt.getState().scene;kt.__r3f&&St(kt,Dt,Ft)},getRootHostContext:()=>null,getChildHostContext:Bt=>Bt,finalizeInitialChildren(Bt){var Dt;return!!((Dt=Bt==null?void 0:Bt.__r3f)!=null?Dt:{}).handlers},prepareUpdate(Bt,Dt,Ft,kt){if(Bt.__r3f.primitive&&kt.object&&kt.object!==Bt)return[!0];{const{args:Ut=[],children:Kt,...tr}=kt,{args:Wt=[],children:Zt,...Ht}=Ft;if(!Array.isArray(Ut))throw new Error("R3F: the args prop must be an array!");if(Ut.some((sr,ar)=>sr!==Wt[ar]))return[!0];const nr=diffProps(Bt,tr,Ht,!0);return nr.changes.length?[!1,nr]:null}},commitUpdate(Bt,[Dt,Ft],kt,Ut,Kt,tr){Dt?Ct(Bt,kt,Kt,tr):applyProps$1(Bt,Ft)},commitMount(Bt,Dt,Ft,kt){var Ut;const Kt=(Ut=Bt.__r3f)!=null?Ut:{};Bt.raycast&&Kt.handlers&&Kt.eventCount&&Bt.__r3f.root.getState().internal.interaction.push(Bt)},getPublicInstance:Bt=>Bt,prepareForCommit:()=>null,preparePortalMount:Bt=>prepare(Bt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Bt){var Dt;const{attach:Ft,parent:kt}=(Dt=Bt.__r3f)!=null?Dt:{};Ft&&kt&&detach(kt,Bt,Ft),Bt.isObject3D&&(Bt.visible=!1),invalidateInstance(Bt)},unhideInstance(Bt,Dt){var Ft;const{attach:kt,parent:Ut}=(Ft=Bt.__r3f)!=null?Ft:{};kt&&Ut&&attach(Ut,Bt,kt),(Bt.isObject3D&&Dt.visible==null||Dt.visible)&&(Bt.visible=!0),invalidateInstance(Bt)},createTextInstance:Tt,hideTextInstance:Tt,unhideTextInstance:Tt,getCurrentEventPriority:()=>lt?lt():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=ft=>"colorSpace"in ft||"outputColorSpace"in ft,getColorManagement=()=>{var ft;return(ft=catalogue.ColorManagement)!=null?ft:null},isOrthographicCamera=ft=>ft&&ft.isOrthographicCamera,isRef=ft=>ft&&ft.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(ft){const lt=reactExports.useRef(ft);return useIsomorphicLayoutEffect$1(()=>void(lt.current=ft),[ft]),lt}function Block({set:ft}){return useIsomorphicLayoutEffect$1(()=>(ft(new Promise(()=>null)),()=>ft(!1)),[ft]),null}class ErrorBoundary extends reactExports.Component{constructor(...lt){super(...lt),this.state={error:!1}}componentDidCatch(lt){this.props.set(lt)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=ft=>ft&&!!ft.memoized&&!!ft.changes;function calculateDpr(ft){var lt;const dt=typeof window<"u"?(lt=window.devicePixelRatio)!=null?lt:2:1;return Array.isArray(ft)?Math.min(Math.max(ft[0],dt),ft[1]):ft}const getRootState=ft=>{var lt;return(lt=ft.__r3f)==null?void 0:lt.root.getState()},is={obj:ft=>ft===Object(ft)&&!is.arr(ft)&&typeof ft!="function",fun:ft=>typeof ft=="function",str:ft=>typeof ft=="string",num:ft=>typeof ft=="number",boo:ft=>typeof ft=="boolean",und:ft=>ft===void 0,arr:ft=>Array.isArray(ft),equ(ft,lt,{arrays:dt="shallow",objects:vt="reference",strict:St=!0}={}){if(typeof ft!=typeof lt||!!ft!=!!lt)return!1;if(is.str(ft)||is.num(ft))return ft===lt;const Et=is.obj(ft);if(Et&&vt==="reference")return ft===lt;const At=is.arr(ft);if(At&&dt==="reference")return ft===lt;if((At||Et)&&ft===lt)return!0;let Ct;for(Ct in ft)if(!(Ct in lt))return!1;if(Et&&dt==="shallow"&&vt==="shallow"){for(Ct in St?lt:ft)if(!is.equ(ft[Ct],lt[Ct],{strict:St,objects:"reference"}))return!1}else for(Ct in St?lt:ft)if(ft[Ct]!==lt[Ct])return!1;if(is.und(Ct)){if(At&&ft.length===0&&lt.length===0||Et&&Object.keys(ft).length===0&&Object.keys(lt).length===0)return!0;if(ft!==lt)return!1}return!0}};function buildGraph(ft){const lt={nodes:{},materials:{}};return ft&&ft.traverse(dt=>{dt.name&&(lt.nodes[dt.name]=dt),dt.material&&!lt.materials[dt.material.name]&&(lt.materials[dt.material.name]=dt.material)}),lt}function dispose(ft){ft.dispose&&ft.type!=="Scene"&&ft.dispose();for(const lt in ft)lt.dispose==null||lt.dispose(),delete ft[lt]}function prepare(ft,lt){const dt=ft;return(lt!=null&&lt.primitive||!dt.__r3f)&&(dt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...lt}),ft}function resolve(ft,lt){let dt=ft;if(lt.includes("-")){const vt=lt.split("-"),St=vt.pop();return dt=vt.reduce((Et,At)=>Et[At],ft),{target:dt,key:St}}else return{target:dt,key:lt}}const INDEX_REGEX=/-\d+$/;function attach(ft,lt,dt){if(is.str(dt)){if(INDEX_REGEX.test(dt)){const Et=dt.replace(INDEX_REGEX,""),{target:At,key:Ct}=resolve(ft,Et);Array.isArray(At[Ct])||(At[Ct]=[])}const{target:vt,key:St}=resolve(ft,dt);lt.__r3f.previousAttach=vt[St],vt[St]=lt}else lt.__r3f.previousAttach=dt(ft,lt)}function detach(ft,lt,dt){var vt,St;if(is.str(dt)){const{target:Et,key:At}=resolve(ft,dt),Ct=lt.__r3f.previousAttach;Ct===void 0?delete Et[At]:Et[At]=Ct}else(vt=lt.__r3f)==null||vt.previousAttach==null||vt.previousAttach(ft,lt);(St=lt.__r3f)==null||delete St.previousAttach}function diffProps(ft,{children:lt,key:dt,ref:vt,...St},{children:Et,key:At,ref:Ct,...Tt}={},Rt=!1){var Bt;const Dt=(Bt=ft==null?void 0:ft.__r3f)!=null?Bt:{},Ft=Object.entries(St),kt=[];if(Rt){const Kt=Object.keys(Tt);for(let tr=0;tr<Kt.length;tr++)St.hasOwnProperty(Kt[tr])||Ft.unshift([Kt[tr],DEFAULT+"remove"])}Ft.forEach(([Kt,tr])=>{var Wt;if((Wt=ft.__r3f)!=null&&Wt.primitive&&Kt==="object"||is.equ(tr,Tt[Kt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Kt))return kt.push([Kt,tr,!0,[]]);let Zt=[];Kt.includes("-")&&(Zt=Kt.split("-")),kt.push([Kt,tr,!1,Zt]);for(const Ht in St){const nr=St[Ht];Ht.startsWith(`${Kt}-`)&&kt.push([Ht,nr,!1,Ht.split("-")])}});const Ut={...St};return Dt.memoizedProps&&Dt.memoizedProps.args&&(Ut.args=Dt.memoizedProps.args),Dt.memoizedProps&&Dt.memoizedProps.attach&&(Ut.attach=Dt.memoizedProps.attach),{memoized:Ut,changes:kt}}function applyProps$1(ft,lt){var dt,vt,St;const Et=(dt=ft.__r3f)!=null?dt:{},At=Et.root,Ct=(vt=At==null||At.getState==null?void 0:At.getState())!=null?vt:{},{memoized:Tt,changes:Rt}=isDiffSet(lt)?lt:diffProps(ft,lt),Bt=Et.eventCount;ft.__r3f&&(ft.__r3f.memoizedProps=Tt);for(let Ft=0;Ft<Rt.length;Ft++){let[kt,Ut,Kt,tr]=Rt[Ft];if(hasColorSpace(ft)){const nr="srgb",sr="srgb-linear";kt==="encoding"?(kt="colorSpace",Ut=Ut===3001?nr:sr):kt==="outputEncoding"&&(kt="outputColorSpace",Ut=Ut===3001?nr:sr)}let Wt=ft,Zt=Wt[kt];if(tr.length&&(Zt=tr.reduce((Ht,nr)=>Ht[nr],ft),!(Zt&&Zt.set))){const[Ht,...nr]=tr.reverse();Wt=nr.reverse().reduce((sr,ar)=>sr[ar],ft),kt=Ht}if(Ut===DEFAULT+"remove")if(Wt.constructor){let Ht=DEFAULTS.get(Wt.constructor);Ht||(Ht=new Wt.constructor,DEFAULTS.set(Wt.constructor,Ht)),Ut=Ht[kt]}else Ut=0;if(Kt)Ut?Et.handlers[kt]=Ut:delete Et.handlers[kt],Et.eventCount=Object.keys(Et.handlers).length;else if(Zt&&Zt.set&&(Zt.copy||Zt instanceof Layers)){if(Array.isArray(Ut))Zt.fromArray?Zt.fromArray(Ut):Zt.set(...Ut);else if(Zt.copy&&Ut&&Ut.constructor&&Zt.constructor===Ut.constructor)Zt.copy(Ut);else if(Ut!==void 0){const Ht=Zt instanceof Color;!Ht&&Zt.setScalar?Zt.setScalar(Ut):Zt instanceof Layers&&Ut instanceof Layers?Zt.mask=Ut.mask:Zt.set(Ut),!getColorManagement()&&!Ct.linear&&Ht&&Zt.convertSRGBToLinear()}}else if(Wt[kt]=Ut,Wt[kt]instanceof Texture&&Wt[kt].format===RGBAFormat&&Wt[kt].type===UnsignedByteType){const Ht=Wt[kt];hasColorSpace(Ht)&&hasColorSpace(Ct.gl)?Ht.colorSpace=Ct.gl.outputColorSpace:Ht.encoding=Ct.gl.outputEncoding}invalidateInstance(ft)}if(Et.parent&&Ct.internal&&ft.raycast&&Bt!==Et.eventCount){const Ft=Ct.internal.interaction.indexOf(ft);Ft>-1&&Ct.internal.interaction.splice(Ft,1),Et.eventCount&&Ct.internal.interaction.push(ft)}return!(Rt.length===1&&Rt[0][0]==="onUpdate")&&Rt.length&&(St=ft.__r3f)!=null&&St.parent&&updateInstance(ft),ft}function invalidateInstance(ft){var lt,dt;const vt=(lt=ft.__r3f)==null||(dt=lt.root)==null||dt.getState==null?void 0:dt.getState();vt&&vt.internal.frames===0&&vt.invalidate()}function updateInstance(ft){ft.onUpdate==null||ft.onUpdate(ft)}function updateCamera(ft,lt){ft.manual||(isOrthographicCamera(ft)?(ft.left=lt.width/-2,ft.right=lt.width/2,ft.top=lt.height/2,ft.bottom=lt.height/-2):ft.aspect=lt.width/lt.height,ft.updateProjectionMatrix(),ft.updateMatrixWorld())}function makeId(ft){return(ft.eventObject||ft.object).uuid+"/"+ft.index+ft.instanceId}function getEventPriority(){var ft;const lt=typeof self<"u"&&self||typeof window<"u"&&window;if(!lt)return constantsExports.DefaultEventPriority;switch((ft=lt.event)==null?void 0:ft.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(ft,lt,dt,vt){const St=dt.get(lt);St&&(dt.delete(lt),dt.size===0&&(ft.delete(vt),St.target.releasePointerCapture(vt)))}function removeInteractivity(ft,lt){const{internal:dt}=ft.getState();dt.interaction=dt.interaction.filter(vt=>vt!==lt),dt.initialHits=dt.initialHits.filter(vt=>vt!==lt),dt.hovered.forEach((vt,St)=>{(vt.eventObject===lt||vt.object===lt)&&dt.hovered.delete(St)}),dt.capturedMap.forEach((vt,St)=>{releaseInternalPointerCapture(dt.capturedMap,lt,vt,St)})}function createEvents(ft){function lt(Tt){const{internal:Rt}=ft.getState(),Bt=Tt.offsetX-Rt.initialClick[0],Dt=Tt.offsetY-Rt.initialClick[1];return Math.round(Math.sqrt(Bt*Bt+Dt*Dt))}function dt(Tt){return Tt.filter(Rt=>["Move","Over","Enter","Out","Leave"].some(Bt=>{var Dt;return(Dt=Rt.__r3f)==null?void 0:Dt.handlers["onPointer"+Bt]}))}function vt(Tt,Rt){const Bt=ft.getState(),Dt=new Set,Ft=[],kt=Rt?Rt(Bt.internal.interaction):Bt.internal.interaction;for(let Wt=0;Wt<kt.length;Wt++){const Zt=getRootState(kt[Wt]);Zt&&(Zt.raycaster.camera=void 0)}Bt.previousRoot||Bt.events.compute==null||Bt.events.compute(Tt,Bt);function Ut(Wt){const Zt=getRootState(Wt);if(!Zt||!Zt.events.enabled||Zt.raycaster.camera===null)return[];if(Zt.raycaster.camera===void 0){var Ht;Zt.events.compute==null||Zt.events.compute(Tt,Zt,(Ht=Zt.previousRoot)==null?void 0:Ht.getState()),Zt.raycaster.camera===void 0&&(Zt.raycaster.camera=null)}return Zt.raycaster.camera?Zt.raycaster.intersectObject(Wt,!0):[]}let Kt=kt.flatMap(Ut).sort((Wt,Zt)=>{const Ht=getRootState(Wt.object),nr=getRootState(Zt.object);return!Ht||!nr?Wt.distance-Zt.distance:nr.events.priority-Ht.events.priority||Wt.distance-Zt.distance}).filter(Wt=>{const Zt=makeId(Wt);return Dt.has(Zt)?!1:(Dt.add(Zt),!0)});Bt.events.filter&&(Kt=Bt.events.filter(Kt,Bt));for(const Wt of Kt){let Zt=Wt.object;for(;Zt;){var tr;(tr=Zt.__r3f)!=null&&tr.eventCount&&Ft.push({...Wt,eventObject:Zt}),Zt=Zt.parent}}if("pointerId"in Tt&&Bt.internal.capturedMap.has(Tt.pointerId))for(let Wt of Bt.internal.capturedMap.get(Tt.pointerId).values())Dt.has(makeId(Wt.intersection))||Ft.push(Wt.intersection);return Ft}function St(Tt,Rt,Bt,Dt){const Ft=ft.getState();if(Tt.length){const kt={stopped:!1};for(const Ut of Tt){const Kt=getRootState(Ut.object)||Ft,{raycaster:tr,pointer:Wt,camera:Zt,internal:Ht}=Kt,nr=new Vector3(Wt.x,Wt.y,0).unproject(Zt),sr=ur=>{var dr,mr;return(dr=(mr=Ht.capturedMap.get(ur))==null?void 0:mr.has(Ut.eventObject))!=null?dr:!1},ar=ur=>{const dr={intersection:Ut,target:Rt.target};Ht.capturedMap.has(ur)?Ht.capturedMap.get(ur).set(Ut.eventObject,dr):Ht.capturedMap.set(ur,new Map([[Ut.eventObject,dr]])),Rt.target.setPointerCapture(ur)},ir=ur=>{const dr=Ht.capturedMap.get(ur);dr&&releaseInternalPointerCapture(Ht.capturedMap,Ut.eventObject,dr,ur)};let rr={};for(let ur in Rt){let dr=Rt[ur];typeof dr!="function"&&(rr[ur]=dr)}let lr={...Ut,...rr,pointer:Wt,intersections:Tt,stopped:kt.stopped,delta:Bt,unprojectedPoint:nr,ray:tr.ray,camera:Zt,stopPropagation(){const ur="pointerId"in Rt&&Ht.capturedMap.get(Rt.pointerId);if((!ur||ur.has(Ut.eventObject))&&(lr.stopped=kt.stopped=!0,Ht.hovered.size&&Array.from(Ht.hovered.values()).find(dr=>dr.eventObject===Ut.eventObject))){const dr=Tt.slice(0,Tt.indexOf(Ut));Et([...dr,Ut])}},target:{hasPointerCapture:sr,setPointerCapture:ar,releasePointerCapture:ir},currentTarget:{hasPointerCapture:sr,setPointerCapture:ar,releasePointerCapture:ir},nativeEvent:Rt};if(Dt(lr),kt.stopped===!0)break}}return Tt}function Et(Tt){const{internal:Rt}=ft.getState();for(const Bt of Rt.hovered.values())if(!Tt.length||!Tt.find(Dt=>Dt.object===Bt.object&&Dt.index===Bt.index&&Dt.instanceId===Bt.instanceId)){const Ft=Bt.eventObject.__r3f,kt=Ft==null?void 0:Ft.handlers;if(Rt.hovered.delete(makeId(Bt)),Ft!=null&&Ft.eventCount){const Ut={...Bt,intersections:Tt};kt.onPointerOut==null||kt.onPointerOut(Ut),kt.onPointerLeave==null||kt.onPointerLeave(Ut)}}}function At(Tt,Rt){for(let Bt=0;Bt<Rt.length;Bt++){const Dt=Rt[Bt].__r3f;Dt==null||Dt.handlers.onPointerMissed==null||Dt.handlers.onPointerMissed(Tt)}}function Ct(Tt){switch(Tt){case"onPointerLeave":case"onPointerCancel":return()=>Et([]);case"onLostPointerCapture":return Rt=>{const{internal:Bt}=ft.getState();"pointerId"in Rt&&Bt.capturedMap.has(Rt.pointerId)&&requestAnimationFrame(()=>{Bt.capturedMap.has(Rt.pointerId)&&(Bt.capturedMap.delete(Rt.pointerId),Et([]))})}}return function(Bt){const{onPointerMissed:Dt,internal:Ft}=ft.getState();Ft.lastEvent.current=Bt;const kt=Tt==="onPointerMove",Ut=Tt==="onClick"||Tt==="onContextMenu"||Tt==="onDoubleClick",tr=vt(Bt,kt?dt:void 0),Wt=Ut?lt(Bt):0;Tt==="onPointerDown"&&(Ft.initialClick=[Bt.offsetX,Bt.offsetY],Ft.initialHits=tr.map(Ht=>Ht.eventObject)),Ut&&!tr.length&&Wt<=2&&(At(Bt,Ft.interaction),Dt&&Dt(Bt)),kt&&Et(tr);function Zt(Ht){const nr=Ht.eventObject,sr=nr.__r3f,ar=sr==null?void 0:sr.handlers;if(sr!=null&&sr.eventCount)if(kt){if(ar.onPointerOver||ar.onPointerEnter||ar.onPointerOut||ar.onPointerLeave){const ir=makeId(Ht),rr=Ft.hovered.get(ir);rr?rr.stopped&&Ht.stopPropagation():(Ft.hovered.set(ir,Ht),ar.onPointerOver==null||ar.onPointerOver(Ht),ar.onPointerEnter==null||ar.onPointerEnter(Ht))}ar.onPointerMove==null||ar.onPointerMove(Ht)}else{const ir=ar[Tt];ir?(!Ut||Ft.initialHits.includes(nr))&&(At(Bt,Ft.interaction.filter(rr=>!Ft.initialHits.includes(rr))),ir(Ht)):Ut&&Ft.initialHits.includes(nr)&&At(Bt,Ft.interaction.filter(rr=>!Ft.initialHits.includes(rr)))}}St(tr,Bt,Wt,Zt)}}return{handlePointer:Ct}}const isRenderer=ft=>!!(ft!=null&&ft.render),context$1=reactExports.createContext(null),createStore$3=(ft,lt)=>{const dt=create$4((Ct,Tt)=>{const Rt=new Vector3,Bt=new Vector3,Dt=new Vector3;function Ft(Wt=Tt().camera,Zt=Bt,Ht=Tt().size){const{width:nr,height:sr,top:ar,left:ir}=Ht,rr=nr/sr;Zt instanceof Vector3?Dt.copy(Zt):Dt.set(...Zt);const lr=Wt.getWorldPosition(Rt).distanceTo(Dt);if(isOrthographicCamera(Wt))return{width:nr/Wt.zoom,height:sr/Wt.zoom,top:ar,left:ir,factor:1,distance:lr,aspect:rr};{const ur=Wt.fov*Math.PI/180,dr=2*Math.tan(ur/2)*lr,mr=dr*(nr/sr);return{width:mr,height:dr,top:ar,left:ir,factor:nr/mr,distance:lr,aspect:rr}}}let kt;const Ut=Wt=>Ct(Zt=>({performance:{...Zt.performance,current:Wt}})),Kt=new Vector2;return{set:Ct,get:Tt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Wt=1)=>ft(Tt(),Wt),advance:(Wt,Zt)=>lt(Wt,Zt,Tt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:Kt,mouse:Kt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Wt=Tt();kt&&clearTimeout(kt),Wt.performance.current!==Wt.performance.min&&Ut(Wt.performance.min),kt=setTimeout(()=>Ut(Tt().performance.max),Wt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ft},setEvents:Wt=>Ct(Zt=>({...Zt,events:{...Zt.events,...Wt}})),setSize:(Wt,Zt,Ht,nr,sr)=>{const ar=Tt().camera,ir={width:Wt,height:Zt,top:nr||0,left:sr||0,updateStyle:Ht};Ct(rr=>({size:ir,viewport:{...rr.viewport,...Ft(ar,Bt,ir)}}))},setDpr:Wt=>Ct(Zt=>{const Ht=calculateDpr(Wt);return{viewport:{...Zt.viewport,dpr:Ht,initialDpr:Zt.viewport.initialDpr||Ht}}}),setFrameloop:(Wt="always")=>{const Zt=Tt().clock;Zt.stop(),Zt.elapsedTime=0,Wt!=="never"&&(Zt.start(),Zt.elapsedTime=0),Ct(()=>({frameloop:Wt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Wt,Zt,Ht)=>{const nr=Tt().internal;return nr.priority=nr.priority+(Zt>0?1:0),nr.subscribers.push({ref:Wt,priority:Zt,store:Ht}),nr.subscribers=nr.subscribers.sort((sr,ar)=>sr.priority-ar.priority),()=>{const sr=Tt().internal;sr!=null&&sr.subscribers&&(sr.priority=sr.priority-(Zt>0?1:0),sr.subscribers=sr.subscribers.filter(ar=>ar.ref!==Wt))}}}}}),vt=dt.getState();let St=vt.size,Et=vt.viewport.dpr,At=vt.camera;return dt.subscribe(()=>{const{camera:Ct,size:Tt,viewport:Rt,gl:Bt,set:Dt}=dt.getState();if(Tt!==St||Rt.dpr!==Et){var Ft;St=Tt,Et=Rt.dpr,updateCamera(Ct,Tt),Bt.setPixelRatio(Rt.dpr);const kt=(Ft=Tt.updateStyle)!=null?Ft:typeof HTMLCanvasElement<"u"&&Bt.domElement instanceof HTMLCanvasElement;Bt.setSize(Tt.width,Tt.height,kt)}Ct!==At&&(At=Ct,Dt(kt=>({viewport:{...kt.viewport,...kt.viewport.getCurrentViewport(Ct)}})))}),dt.subscribe(Ct=>ft(Ct)),dt};function createSubs(ft,lt){const dt={callback:ft};return lt.add(dt),()=>void lt.delete(dt)}let i$2,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=ft=>createSubs(ft,globalEffects),addAfterEffect=ft=>createSubs(ft,globalAfterEffects),addTail=ft=>createSubs(ft,globalTailEffects);function run(ft,lt){if(ft.size)for(const{callback:dt}of ft.values())dt(lt)}function flushGlobalEffects(ft,lt){switch(ft){case"before":return run(globalEffects,lt);case"after":return run(globalAfterEffects,lt);case"tail":return run(globalTailEffects,lt)}}let subscribers,subscription;function render$1(ft,lt,dt){let vt=lt.clock.getDelta();for(lt.frameloop==="never"&&typeof ft=="number"&&(vt=ft-lt.clock.elapsedTime,lt.clock.oldTime=lt.clock.elapsedTime,lt.clock.elapsedTime=ft),subscribers=lt.internal.subscribers,i$2=0;i$2<subscribers.length;i$2++)subscription=subscribers[i$2],subscription.ref.current(subscription.store.getState(),vt,dt);return!lt.internal.priority&&lt.gl.render&&lt.gl.render(lt.scene,lt.camera),lt.internal.frames=Math.max(0,lt.internal.frames-1),lt.frameloop==="always"?1:lt.internal.frames}function createLoop(ft){let lt=!1,dt,vt,St;function Et(Tt){vt=requestAnimationFrame(Et),lt=!0,dt=0,flushGlobalEffects("before",Tt);for(const Bt of ft.values()){var Rt;St=Bt.store.getState(),St.internal.active&&(St.frameloop==="always"||St.internal.frames>0)&&!((Rt=St.gl.xr)!=null&&Rt.isPresenting)&&(dt+=render$1(Tt,St))}if(flushGlobalEffects("after",Tt),dt===0)return flushGlobalEffects("tail",Tt),lt=!1,cancelAnimationFrame(vt)}function At(Tt,Rt=1){var Bt;if(!Tt)return ft.forEach(Dt=>At(Dt.store.getState()),Rt);(Bt=Tt.gl.xr)!=null&&Bt.isPresenting||!Tt.internal.active||Tt.frameloop==="never"||(Tt.internal.frames=Math.min(60,Tt.internal.frames+Rt),lt||(lt=!0,requestAnimationFrame(Et)))}function Ct(Tt,Rt=!0,Bt,Dt){if(Rt&&flushGlobalEffects("before",Tt),Bt)render$1(Tt,Bt,Dt);else for(const Ft of ft.values())render$1(Tt,Ft.store.getState());Rt&&flushGlobalEffects("after",Tt)}return{loop:Et,invalidate:At,advance:Ct}}function useStore$2(){const ft=reactExports.useContext(context$1);if(!ft)throw new Error("R3F: Hooks can only be used within the Canvas component!");return ft}function useThree(ft=dt=>dt,lt){return useStore$2()(ft,lt)}function useFrame(ft,lt=0){const dt=useStore$2(),vt=dt.getState().internal.subscribe,St=useMutableCallback(ft);return useIsomorphicLayoutEffect$1(()=>vt(St,lt,dt),[lt,vt,dt]),null}function loadingFn(ft,lt){return function(dt,...vt){const St=new dt;return ft&&ft(St),Promise.all(vt.map(Et=>new Promise((At,Ct)=>St.load(Et,Tt=>{Tt.scene&&Object.assign(Tt,buildGraph(Tt.scene)),At(Tt)},lt,Tt=>Ct(new Error(`Could not load ${Et}: ${Tt.message})`))))))}}function useLoader(ft,lt,dt,vt){const St=Array.isArray(lt)?lt:[lt],Et=suspend(loadingFn(dt,vt),[ft,...St],{equal:is.equ});return Array.isArray(lt)?Et:Et[0]}useLoader.preload=function(ft,lt,dt){const vt=Array.isArray(lt)?lt:[lt];return preload(loadingFn(dt),[ft,...vt])};useLoader.clear=function(ft,lt){const dt=Array.isArray(lt)?lt:[lt];return clear([ft,...dt])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(ft,lt)=>{const dt=typeof ft=="function"?ft(lt):ft;return isRenderer(dt)?dt:new WebGLRenderer({powerPreference:"high-performance",canvas:lt,antialias:!0,alpha:!0,...ft})};function computeInitialSize(ft,lt){if(lt)return lt;if(typeof HTMLCanvasElement<"u"&&ft instanceof HTMLCanvasElement&&ft.parentElement){const{width:dt,height:vt,top:St,left:Et}=ft.parentElement.getBoundingClientRect();return{width:dt,height:vt,top:St,left:Et}}else if(typeof OffscreenCanvas<"u"&&ft instanceof OffscreenCanvas)return{width:ft.width,height:ft.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot(ft){const lt=roots.get(ft),dt=lt==null?void 0:lt.fiber,vt=lt==null?void 0:lt.store;lt&&console.warn("R3F.createRoot should only be called once!");const St=typeof reportError=="function"?reportError:console.error,Et=vt||createStore$3(invalidate,advance),At=dt||reconciler.createContainer(Et,constantsExports.ConcurrentRoot,null,!1,null,"",St,null);lt||roots.set(ft,{fiber:At,store:Et});let Ct,Tt=!1,Rt;return{configure(Bt={}){let{gl:Dt,size:Ft,scene:kt,events:Ut,onCreated:Kt,shadows:tr=!1,linear:Wt=!1,flat:Zt=!1,legacy:Ht=!1,orthographic:nr=!1,frameloop:sr="always",dpr:ar=[1,2],performance:ir,raycaster:rr,camera:lr,onPointerMissed:ur}=Bt,dr=Et.getState(),mr=dr.gl;dr.gl||dr.set({gl:mr=createRendererInstance(Dt,ft)});let Cr=dr.raycaster;Cr||dr.set({raycaster:Cr=new Raycaster});const{params:yr,...xr}=rr||{};if(is.equ(xr,Cr,shallowLoose)||applyProps(Cr,{...xr}),is.equ(yr,Cr.params,shallowLoose)||applyProps(Cr,{params:{...Cr.params,...yr}}),!dr.camera||dr.camera===Rt&&!is.equ(Rt,lr,shallowLoose)){Rt=lr;const _r=lr instanceof Camera,Ar=_r?lr:nr?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);_r||(Ar.position.z=5,lr&&applyProps(Ar,lr),!dr.camera&&!(lr!=null&&lr.rotation)&&Ar.lookAt(0,0,0)),dr.set({camera:Ar})}if(!dr.scene){let _r;kt instanceof Scene$1?_r=kt:(_r=new Scene$1,kt&&applyProps(_r,kt)),dr.set({scene:prepare(_r)})}if(!dr.xr){const _r=(Ir,kr)=>{const Dr=Et.getState();Dr.frameloop!=="never"&&advance(Ir,!0,Dr,kr)},Ar=()=>{const Ir=Et.getState();Ir.gl.xr.enabled=Ir.gl.xr.isPresenting,Ir.gl.xr.setAnimationLoop(Ir.gl.xr.isPresenting?_r:null),Ir.gl.xr.isPresenting||invalidate(Ir)},Pr={connect(){const Ir=Et.getState().gl;Ir.xr.addEventListener("sessionstart",Ar),Ir.xr.addEventListener("sessionend",Ar)},disconnect(){const Ir=Et.getState().gl;Ir.xr.removeEventListener("sessionstart",Ar),Ir.xr.removeEventListener("sessionend",Ar)}};mr.xr&&Pr.connect(),dr.set({xr:Pr})}if(mr.shadowMap){const _r=mr.shadowMap.enabled,Ar=mr.shadowMap.type;if(mr.shadowMap.enabled=!!tr,is.boo(tr))mr.shadowMap.type=PCFSoftShadowMap;else if(is.str(tr)){var Sr;const Pr={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};mr.shadowMap.type=(Sr=Pr[tr])!=null?Sr:PCFSoftShadowMap}else is.obj(tr)&&Object.assign(mr.shadowMap,tr);(_r!==mr.shadowMap.enabled||Ar!==mr.shadowMap.type)&&(mr.shadowMap.needsUpdate=!0)}const br=getColorManagement();br&&("enabled"in br?br.enabled=!Ht:"legacyMode"in br&&(br.legacyMode=Ht)),applyProps(mr,{outputEncoding:Wt?3e3:3001,toneMapping:Zt?NoToneMapping:ACESFilmicToneMapping}),dr.legacy!==Ht&&dr.set(()=>({legacy:Ht})),dr.linear!==Wt&&dr.set(()=>({linear:Wt})),dr.flat!==Zt&&dr.set(()=>({flat:Zt})),Dt&&!is.fun(Dt)&&!isRenderer(Dt)&&!is.equ(Dt,mr,shallowLoose)&&applyProps(mr,Dt),Ut&&!dr.events.handlers&&dr.set({events:Ut(Et)});const Er=computeInitialSize(ft,Ft);return is.equ(Er,dr.size,shallowLoose)||dr.setSize(Er.width,Er.height,Er.updateStyle,Er.top,Er.left),ar&&dr.viewport.dpr!==calculateDpr(ar)&&dr.setDpr(ar),dr.frameloop!==sr&&dr.setFrameloop(sr),dr.onPointerMissed||dr.set({onPointerMissed:ur}),ir&&!is.equ(ir,dr.performance,shallowLoose)&&dr.set(_r=>({performance:{..._r.performance,...ir}})),Ct=Kt,Tt=!0,this},render(Bt){return Tt||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:Et,children:Bt,onCreated:Ct,rootElement:ft}),At,null,()=>{}),Et},unmount(){unmountComponentAtNode(ft)}}}function Provider({store:ft,children:lt,onCreated:dt,rootElement:vt}){return useIsomorphicLayoutEffect$1(()=>{const St=ft.getState();St.set(Et=>({internal:{...Et.internal,active:!0}})),dt&&dt(St),ft.getState().events.connected||St.events.connect==null||St.events.connect(vt)},[]),reactExports.createElement(context$1.Provider,{value:ft},lt)}function unmountComponentAtNode(ft,lt){const dt=roots.get(ft),vt=dt==null?void 0:dt.fiber;if(vt){const St=dt==null?void 0:dt.store.getState();St&&(St.internal.active=!1),reconciler.updateContainer(null,vt,null,()=>{St&&setTimeout(()=>{try{var Et,At,Ct,Tt;St.events.disconnect==null||St.events.disconnect(),(Et=St.gl)==null||(At=Et.renderLists)==null||At.dispose==null||At.dispose(),(Ct=St.gl)==null||Ct.forceContextLoss==null||Ct.forceContextLoss(),(Tt=St.gl)!=null&&Tt.xr&&St.xr.disconnect(),dispose(St),roots.delete(ft),lt&&lt(ft)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce(ft,lt,dt){var vt,St,Et,At,Ct;lt==null&&(lt=100);function Tt(){var Bt=Date.now()-At;Bt<lt&&Bt>=0?vt=setTimeout(Tt,lt-Bt):(vt=null,dt||(Ct=ft.apply(Et,St),Et=St=null))}var Rt=function(){Et=this,St=arguments,At=Date.now();var Bt=dt&&!vt;return vt||(vt=setTimeout(Tt,lt)),Bt&&(Ct=ft.apply(Et,St),Et=St=null),Ct};return Rt.clear=function(){vt&&(clearTimeout(vt),vt=null)},Rt.flush=function(){vt&&(Ct=ft.apply(Et,St),Et=St=null,clearTimeout(vt),vt=null)},Rt}debounce.debounce=debounce;var debounce_1=debounce;const createDebounce=getDefaultExportFromCjs(debounce_1);function useMeasure(ft){let{debounce:lt,scroll:dt,polyfill:vt,offsetSize:St}=ft===void 0?{debounce:0,scroll:!1,offsetSize:!1}:ft;const Et=vt||(typeof window>"u"?class{}:window.ResizeObserver);if(!Et)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[At,Ct]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),Tt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:At}),Rt=lt?typeof lt=="number"?lt:lt.scroll:null,Bt=lt?typeof lt=="number"?lt:lt.resize:null,Dt=reactExports.useRef(!1);reactExports.useEffect(()=>(Dt.current=!0,()=>void(Dt.current=!1)));const[Ft,kt,Ut]=reactExports.useMemo(()=>{const Zt=()=>{if(!Tt.current.element)return;const{left:Ht,top:nr,width:sr,height:ar,bottom:ir,right:rr,x:lr,y:ur}=Tt.current.element.getBoundingClientRect(),dr={left:Ht,top:nr,width:sr,height:ar,bottom:ir,right:rr,x:lr,y:ur};Tt.current.element instanceof HTMLElement&&St&&(dr.height=Tt.current.element.offsetHeight,dr.width=Tt.current.element.offsetWidth),Object.freeze(dr),Dt.current&&!areBoundsEqual(Tt.current.lastBounds,dr)&&Ct(Tt.current.lastBounds=dr)};return[Zt,Bt?createDebounce(Zt,Bt):Zt,Rt?createDebounce(Zt,Rt):Zt]},[Ct,St,Rt,Bt]);function Kt(){Tt.current.scrollContainers&&(Tt.current.scrollContainers.forEach(Zt=>Zt.removeEventListener("scroll",Ut,!0)),Tt.current.scrollContainers=null),Tt.current.resizeObserver&&(Tt.current.resizeObserver.disconnect(),Tt.current.resizeObserver=null)}function tr(){Tt.current.element&&(Tt.current.resizeObserver=new Et(Ut),Tt.current.resizeObserver.observe(Tt.current.element),dt&&Tt.current.scrollContainers&&Tt.current.scrollContainers.forEach(Zt=>Zt.addEventListener("scroll",Ut,{capture:!0,passive:!0})))}const Wt=Zt=>{!Zt||Zt===Tt.current.element||(Kt(),Tt.current.element=Zt,Tt.current.scrollContainers=findScrollContainers(Zt),tr())};return useOnWindowScroll(Ut,!!dt),useOnWindowResize(kt),reactExports.useEffect(()=>{Kt(),tr()},[dt,Ut,kt]),reactExports.useEffect(()=>Kt,[]),[Wt,At,Ft]}function useOnWindowResize(ft){reactExports.useEffect(()=>{const lt=ft;return window.addEventListener("resize",lt),()=>void window.removeEventListener("resize",lt)},[ft])}function useOnWindowScroll(ft,lt){reactExports.useEffect(()=>{if(lt){const dt=ft;return window.addEventListener("scroll",dt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",dt,!0)}},[ft,lt])}function findScrollContainers(ft){const lt=[];if(!ft||ft===document.body)return lt;const{overflow:dt,overflowX:vt,overflowY:St}=window.getComputedStyle(ft);return[dt,vt,St].some(Et=>Et==="auto"||Et==="scroll")&&lt.push(ft),[...lt,...findScrollContainers(ft.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(ft,lt)=>keys.every(dt=>ft[dt]===lt[dt]);var __defProp$8=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$8=(ft,lt,dt)=>lt in ft?__defProp$8(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__spreadValues$1=(ft,lt)=>{for(var dt in lt||(lt={}))__hasOwnProp$1.call(lt,dt)&&__defNormalProp$8(ft,dt,lt[dt]);if(__getOwnPropSymbols$1)for(var dt of __getOwnPropSymbols$1(lt))__propIsEnum$1.call(lt,dt)&&__defNormalProp$8(ft,dt,lt[dt]);return ft},__spreadProps=(ft,lt)=>__defProps(ft,__getOwnPropDescs(lt));function traverseFiber(ft,lt,dt){if(!ft)return;if(dt(ft)===!0)return ft;let vt=lt?ft.return:ft.child;for(;vt;){const St=traverseFiber(vt,lt,dt);if(St)return St;vt=lt?null:vt.sibling}}function wrapContext(ft){try{return Object.defineProperties(ft,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return ft}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const ft=reactExports.useContext(FiberContext);if(!ft)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const lt=reactExports.useId();return reactExports.useMemo(()=>{var vt;return(vt=ReactCurrentOwner.current)!=null?vt:traverseFiber(ft,!1,St=>{let Et=St.memoizedState;for(;Et;){if(Et.memoizedState===lt)return!0;Et=Et.next}})},[ft,lt])}function useContextBridge(){var ft,lt;const dt=useFiber(),[vt]=reactExports.useState(()=>new Map);vt.clear();let St=dt;for(;St;){const Et=(ft=St.type)==null?void 0:ft._context;Et&&Et!==FiberContext&&!vt.has(Et)&&vt.set(Et,(lt=ReactCurrentDispatcher.current)==null?void 0:lt.readContext(wrapContext(Et))),St=St.return}return reactExports.useMemo(()=>Array.from(vt.keys()).reduce((Et,At)=>Ct=>reactExports.createElement(Et,null,reactExports.createElement(At.Provider,__spreadProps(__spreadValues$1({},Ct),{value:vt.get(At)}))),Et=>reactExports.createElement(FiberProvider,__spreadValues$1({},Et))),[vt])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(ft){const{handlePointer:lt}=createEvents(ft);return{priority:1,enabled:!0,compute(dt,vt,St){vt.pointer.set(dt.offsetX/vt.size.width*2-1,-(dt.offsetY/vt.size.height)*2+1),vt.raycaster.setFromCamera(vt.pointer,vt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((dt,vt)=>({...dt,[vt]:lt(vt)}),{}),update:()=>{var dt;const{events:vt,internal:St}=ft.getState();(dt=St.lastEvent)!=null&&dt.current&&vt.handlers&&vt.handlers.onPointerMove(St.lastEvent.current)},connect:dt=>{var vt;const{set:St,events:Et}=ft.getState();Et.disconnect==null||Et.disconnect(),St(At=>({events:{...At.events,connected:dt}})),Object.entries((vt=Et.handlers)!=null?vt:[]).forEach(([At,Ct])=>{const[Tt,Rt]=DOM_EVENTS[At];dt.addEventListener(Tt,Ct,{passive:Rt})})},disconnect:()=>{const{set:dt,events:vt}=ft.getState();if(vt.connected){var St;Object.entries((St=vt.handlers)!=null?St:[]).forEach(([Et,At])=>{if(vt&&vt.connected instanceof HTMLElement){const[Ct]=DOM_EVENTS[Et];vt.connected.removeEventListener(Ct,At)}}),dt(Et=>({events:{...Et.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function({children:lt,fallback:dt,resize:vt,style:St,gl:Et,events:At=createPointerEvents,eventSource:Ct,eventPrefix:Tt,shadows:Rt,linear:Bt,flat:Dt,legacy:Ft,orthographic:kt,frameloop:Ut,dpr:Kt,performance:tr,raycaster:Wt,camera:Zt,onPointerMissed:Ht,onCreated:nr,...sr},ar){reactExports.useMemo(()=>extend(r$4),[]);const ir=useContextBridge(),[rr,lr]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...vt}),ur=reactExports.useRef(null),dr=reactExports.useRef(null);reactExports.useImperativeHandle(ar,()=>ur.current);const mr=useMutableCallback(Ht),[Cr,yr]=reactExports.useState(!1),[xr,Sr]=reactExports.useState(!1);if(Cr)throw Cr;if(xr)throw xr;const br=reactExports.useRef(null);useIsomorphicLayoutEffect$1(()=>{const pr=ur.current;lr.width>0&&lr.height>0&&pr&&(br.current||(br.current=createRoot(pr)),br.current.configure({gl:Et,events:At,shadows:Rt,linear:Bt,flat:Dt,legacy:Ft,orthographic:kt,frameloop:Ut,dpr:Kt,performance:tr,raycaster:Wt,camera:Zt,size:lr,onPointerMissed:(...Er)=>mr.current==null?void 0:mr.current(...Er),onCreated:Er=>{Er.events.connect==null||Er.events.connect(Ct?isRef(Ct)?Ct.current:Ct:dr.current),Tt&&Er.setEvents({compute:(_r,Ar)=>{const Pr=_r[Tt+"X"],Ir=_r[Tt+"Y"];Ar.pointer.set(Pr/Ar.size.width*2-1,-(Ir/Ar.size.height)*2+1),Ar.raycaster.setFromCamera(Ar.pointer,Ar.camera)}}),nr==null||nr(Er)}}),br.current.render(reactExports.createElement(ir,null,reactExports.createElement(ErrorBoundary,{set:Sr},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:yr})},lt)))))}),reactExports.useEffect(()=>{const pr=ur.current;if(pr)return()=>unmountComponentAtNode(pr)},[]);const cr=Ct?"none":"auto";return reactExports.createElement("div",_extends$1({ref:dr,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:cr,...St}},sr),reactExports.createElement("div",{ref:rr,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:ur,style:{display:"block"}},dt)))}),Canvas=reactExports.forwardRef(function(lt,dt){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$1({},lt,{ref:dt})))}),v1=new Vector3,v2=new Vector3,v3=new Vector3;function defaultCalculatePosition(ft,lt,dt){const vt=v1.setFromMatrixPosition(ft.matrixWorld);vt.project(lt);const St=dt.width/2,Et=dt.height/2;return[vt.x*St+St,-(vt.y*Et)+Et]}function isObjectBehindCamera(ft,lt){const dt=v1.setFromMatrixPosition(ft.matrixWorld),vt=v2.setFromMatrixPosition(lt.matrixWorld),St=dt.sub(vt),Et=lt.getWorldDirection(v3);return St.angleTo(Et)>Math.PI/2}function isObjectVisible(ft,lt,dt,vt){const St=v1.setFromMatrixPosition(ft.matrixWorld),Et=St.clone();Et.project(lt),dt.setFromCamera(Et,lt);const At=dt.intersectObjects(vt,!0);if(At.length){const Ct=At[0].distance;return St.distanceTo(dt.ray.origin)<Ct}return!0}function objectScale(ft,lt){if(lt instanceof OrthographicCamera)return lt.zoom;if(lt instanceof PerspectiveCamera$1){const dt=v1.setFromMatrixPosition(ft.matrixWorld),vt=v2.setFromMatrixPosition(lt.matrixWorld),St=lt.fov*Math.PI/180,Et=dt.distanceTo(vt);return 1/(2*Math.tan(St/2)*Et)}else return 1}function objectZIndex(ft,lt,dt){if(lt instanceof PerspectiveCamera$1||lt instanceof OrthographicCamera){const vt=v1.setFromMatrixPosition(ft.matrixWorld),St=v2.setFromMatrixPosition(lt.matrixWorld),Et=vt.distanceTo(St),At=(dt[1]-dt[0])/(lt.far-lt.near),Ct=dt[1]-At*lt.far;return Math.round(At*Et+Ct)}}const epsilon=ft=>Math.abs(ft)<1e-10?0:ft;function getCSSMatrix(ft,lt,dt=""){let vt="matrix3d(";for(let St=0;St!==16;St++)vt+=epsilon(lt[St]*ft.elements[St])+(St!==15?",":")");return dt+vt}const getCameraCSSMatrix=(ft=>lt=>getCSSMatrix(lt,ft))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(ft=>(lt,dt)=>getCSSMatrix(lt,ft(dt),"translate(-50%,-50%)"))(ft=>[1/ft,1/ft,1/ft,1,-1/ft,-1/ft,-1/ft,-1,1/ft,1/ft,1/ft,1,1,1,1,1]);function isRefObject(ft){return ft&&typeof ft=="object"&&"current"in ft}const Html=reactExports.forwardRef(({children:ft,eps:lt=.001,style:dt,className:vt,prepend:St,center:Et,fullscreen:At,portal:Ct,distanceFactor:Tt,sprite:Rt=!1,transform:Bt=!1,occlude:Dt,onOcclude:Ft,castShadow:kt,receiveShadow:Ut,material:Kt,geometry:tr,zIndexRange:Wt=[16777271,0],calculatePosition:Zt=defaultCalculatePosition,as:Ht="div",wrapperClass:nr,pointerEvents:sr="auto",...ar},ir)=>{const{gl:rr,camera:lr,scene:ur,size:dr,raycaster:mr,events:Cr,viewport:yr}=useThree(),[xr]=reactExports.useState(()=>document.createElement(Ht)),Sr=reactExports.useRef(),br=reactExports.useRef(null),cr=reactExports.useRef(0),pr=reactExports.useRef([0,0]),Er=reactExports.useRef(null),_r=reactExports.useRef(null),Ar=(Ct==null?void 0:Ct.current)||Cr.connected||rr.domElement.parentNode,Pr=reactExports.useRef(null),Ir=reactExports.useRef(!1),kr=reactExports.useMemo(()=>Dt&&Dt!=="blending"||Array.isArray(Dt)&&Dt.length&&isRefObject(Dt[0]),[Dt]);reactExports.useLayoutEffect(()=>{const Nr=rr.domElement;Dt&&Dt==="blending"?(Nr.style.zIndex=`${Math.floor(Wt[0]/2)}`,Nr.style.position="absolute",Nr.style.pointerEvents="none"):(Nr.style.zIndex=null,Nr.style.position=null,Nr.style.pointerEvents=null)},[Dt]),reactExports.useLayoutEffect(()=>{if(br.current){const Nr=Sr.current=createRoot$1(xr);if(ur.updateMatrixWorld(),Bt)xr.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Vr=Zt(br.current,lr,dr);xr.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Vr[0]}px,${Vr[1]}px,0);transform-origin:0 0;`}return Ar&&(St?Ar.prepend(xr):Ar.appendChild(xr)),()=>{Ar&&Ar.removeChild(xr),Nr.unmount()}}},[Ar,Bt]),reactExports.useLayoutEffect(()=>{nr&&(xr.className=nr)},[nr]);const Dr=reactExports.useMemo(()=>Bt?{position:"absolute",top:0,left:0,width:dr.width,height:dr.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:Et?"translate3d(-50%,-50%,0)":"none",...At&&{top:-dr.height/2,left:-dr.width/2,width:dr.width,height:dr.height},...dt},[dt,Et,At,dr,Bt]),Jr=reactExports.useMemo(()=>({position:"absolute",pointerEvents:sr}),[sr]);reactExports.useLayoutEffect(()=>{if(Ir.current=!1,Bt){var Nr;(Nr=Sr.current)==null||Nr.render(reactExports.createElement("div",{ref:Er,style:Dr},reactExports.createElement("div",{ref:_r,style:Jr},reactExports.createElement("div",{ref:ir,className:vt,style:dt,children:ft}))))}else{var Vr;(Vr=Sr.current)==null||Vr.render(reactExports.createElement("div",{ref:ir,style:Dr,className:vt,children:ft}))}});const Or=reactExports.useRef(!0);useFrame(Nr=>{if(br.current){lr.updateMatrixWorld(),br.current.updateWorldMatrix(!0,!1);const Vr=Bt?pr.current:Zt(br.current,lr,dr);if(Bt||Math.abs(cr.current-lr.zoom)>lt||Math.abs(pr.current[0]-Vr[0])>lt||Math.abs(pr.current[1]-Vr[1])>lt){const Br=isObjectBehindCamera(br.current,lr);let zr=!1;kr&&(Dt!=="blending"?zr=[ur]:Array.isArray(Dt)&&(zr=Dt.map(Rn=>Rn.current)));const qr=Or.current;if(zr){const Rn=isObjectVisible(br.current,lr,mr,zr);Or.current=Rn&&!Br}else Or.current=!Br;qr!==Or.current&&(Ft?Ft(!Or.current):xr.style.display=Or.current?"block":"none");const en=Math.floor(Wt[0]/2),cn=Dt?kr?[Wt[0],en]:[en-1,0]:Wt;if(xr.style.zIndex=`${objectZIndex(br.current,lr,cn)}`,Bt){const[Rn,Qr]=[dr.width/2,dr.height/2],yn=lr.projectionMatrix.elements[5]*Qr,{isOrthographicCamera:Pn,top:pn,left:Fr,bottom:Rr,right:Yr}=lr,fn=getCameraCSSMatrix(lr.matrixWorldInverse),Cn=Pn?`scale(${yn})translate(${epsilon(-(Yr+Fr)/2)}px,${epsilon((pn+Rr)/2)}px)`:`translateZ(${yn}px)`;let An=br.current.matrixWorld;Rt&&(An=lr.matrixWorldInverse.clone().transpose().copyPosition(An).scale(br.current.scale),An.elements[3]=An.elements[7]=An.elements[11]=0,An.elements[15]=1),xr.style.width=dr.width+"px",xr.style.height=dr.height+"px",xr.style.perspective=Pn?"":`${yn}px`,Er.current&&_r.current&&(Er.current.style.transform=`${Cn}${fn}translate(${Rn}px,${Qr}px)`,_r.current.style.transform=getObjectCSSMatrix(An,1/((Tt||10)/400)))}else{const Rn=Tt===void 0?1:objectScale(br.current,lr)*Tt;xr.style.transform=`translate3d(${Vr[0]}px,${Vr[1]}px,0) scale(${Rn})`}pr.current=Vr,cr.current=lr.zoom}}if(!kr&&Pr.current&&!Ir.current)if(Bt){if(Er.current){const Vr=Er.current.children[0];if(Vr!=null&&Vr.clientWidth&&Vr!=null&&Vr.clientHeight){const{isOrthographicCamera:Br}=lr;if(Br||tr)ar.scale&&(Array.isArray(ar.scale)?ar.scale instanceof Vector3?Pr.current.scale.copy(ar.scale.clone().divideScalar(1)):Pr.current.scale.set(1/ar.scale[0],1/ar.scale[1],1/ar.scale[2]):Pr.current.scale.setScalar(1/ar.scale));else{const zr=(Tt||10)/400,qr=Vr.clientWidth*zr,en=Vr.clientHeight*zr;Pr.current.scale.set(qr,en,1)}Ir.current=!0}}}else{const Vr=xr.children[0];if(Vr!=null&&Vr.clientWidth&&Vr!=null&&Vr.clientHeight){const Br=1/yr.factor,zr=Vr.clientWidth*Br,qr=Vr.clientHeight*Br;Pr.current.scale.set(zr,qr,1),Ir.current=!0}Pr.current.lookAt(Nr.camera.position)}});const jr=reactExports.useMemo(()=>({vertexShader:Bt?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[Bt]);return reactExports.createElement("group",_extends$1({},ar,{ref:br}),Dt&&!kr&&reactExports.createElement("mesh",{castShadow:kt,receiveShadow:Ut,ref:Pr},tr||reactExports.createElement("planeGeometry",null),Kt||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:jr.vertexShader,fragmentShader:jr.fragmentShader})))});function createStore$2(ft){let lt;const dt=new Set,vt=(Rt,Bt)=>{const Dt=typeof Rt=="function"?Rt(lt):Rt;if(Dt!==lt){const Ft=lt;lt=Bt?Dt:Object.assign({},lt,Dt),dt.forEach(kt=>kt(lt,Ft))}},St=()=>lt,Et=(Rt,Bt=St,Dt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Ft=Bt(lt);function kt(){const Ut=Bt(lt);if(!Dt(Ft,Ut)){const Kt=Ft;Rt(Ft=Ut,Kt)}}return dt.add(kt),()=>dt.delete(kt)},Tt={setState:vt,getState:St,subscribe:(Rt,Bt,Dt)=>Bt||Dt?Et(Rt,Bt,Dt):(dt.add(Rt),()=>dt.delete(Rt)),destroy:()=>dt.clear()};return lt=ft(vt,St,Tt),Tt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$3(ft){const lt=typeof ft=="function"?createStore$2(ft):ft,dt=(vt=lt.getState,St=Object.is)=>{const[,Et]=reactExports.useReducer(tr=>tr+1,0),At=lt.getState(),Ct=reactExports.useRef(At),Tt=reactExports.useRef(vt),Rt=reactExports.useRef(St),Bt=reactExports.useRef(!1),Dt=reactExports.useRef();Dt.current===void 0&&(Dt.current=vt(At));let Ft,kt=!1;(Ct.current!==At||Tt.current!==vt||Rt.current!==St||Bt.current)&&(Ft=vt(At),kt=!St(Dt.current,Ft)),useIsomorphicLayoutEffect(()=>{kt&&(Dt.current=Ft),Ct.current=At,Tt.current=vt,Rt.current=St,Bt.current=!1});const Ut=reactExports.useRef(At);useIsomorphicLayoutEffect(()=>{const tr=()=>{try{const Zt=lt.getState(),Ht=Tt.current(Zt);Rt.current(Dt.current,Ht)||(Ct.current=Zt,Dt.current=Ht,Et())}catch{Bt.current=!0,Et()}},Wt=lt.subscribe(tr);return lt.getState()!==Ut.current&&tr(),Wt},[]);const Kt=kt?Ft:Dt.current;return reactExports.useDebugValue(Kt),Kt};return Object.assign(dt,lt),dt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const vt=[dt,lt];return{next(){const St=vt.length<=0;return{value:vt.shift(),done:St}}}},dt}let saveLastTotalLoaded=0;const useProgress=create$3(ft=>(DefaultLoadingManager.onStart=(lt,dt,vt)=>{ft({active:!0,item:lt,loaded:dt,total:vt,progress:(dt-saveLastTotalLoaded)/(vt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{ft({active:!1})},DefaultLoadingManager.onError=lt=>ft(dt=>({errors:[...dt.errors,lt]})),DefaultLoadingManager.onProgress=(lt,dt,vt)=>{dt===vt&&(saveLastTotalLoaded=vt),ft({active:!0,item:lt,loaded:dt,total:vt,progress:(dt-saveLastTotalLoaded)/(vt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function mergeRefs(ft){return function(lt){ft.forEach(function(dt){typeof dt=="function"?dt(lt):dt!=null&&(dt.current=lt)})}}function toTrianglesDrawMode(ft,lt){if(lt===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),ft;if(lt===TriangleFanDrawMode||lt===TriangleStripDrawMode){let dt=ft.getIndex();if(dt===null){const At=[],Ct=ft.getAttribute("position");if(Ct!==void 0){for(let Tt=0;Tt<Ct.count;Tt++)At.push(Tt);ft.setIndex(At),dt=ft.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),ft}const vt=dt.count-2,St=[];if(dt)if(lt===TriangleFanDrawMode)for(let At=1;At<=vt;At++)St.push(dt.getX(0)),St.push(dt.getX(At)),St.push(dt.getX(At+1));else for(let At=0;At<vt;At++)At%2===0?(St.push(dt.getX(At)),St.push(dt.getX(At+1)),St.push(dt.getX(At+2))):(St.push(dt.getX(At+2)),St.push(dt.getX(At+1)),St.push(dt.getX(At)));St.length/3!==vt&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const Et=ft.clone();return Et.setIndex(St),Et.clearGroups(),Et}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",lt),ft}const _face=new Triangle,_color=new Vector3;class MeshSurfaceSampler{constructor(lt){let dt=lt.geometry;dt.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),dt=dt.toNonIndexed()),this.geometry=dt,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(lt){return this.weightAttribute=lt?this.geometry.getAttribute(lt):null,this}build(){const lt=this.positionAttribute,dt=this.weightAttribute,vt=new Float32Array(lt.count/3);for(let Et=0;Et<lt.count;Et+=3){let At=1;dt&&(At=dt.getX(Et)+dt.getX(Et+1)+dt.getX(Et+2)),_face.a.fromBufferAttribute(lt,Et),_face.b.fromBufferAttribute(lt,Et+1),_face.c.fromBufferAttribute(lt,Et+2),At*=_face.getArea(),vt[Et/3]=At}this.distribution=new Float32Array(lt.count/3);let St=0;for(let Et=0;Et<vt.length;Et++)St+=vt[Et],this.distribution[Et]=St;return this}setRandomGenerator(lt){return this.randomFunction=lt,this}sample(lt,dt,vt){const St=this.sampleFaceIndex();return this.sampleFace(St,lt,dt,vt)}sampleFaceIndex(){const lt=this.distribution[this.distribution.length-1];return this.binarySearch(this.randomFunction()*lt)}binarySearch(lt){const dt=this.distribution;let vt=0,St=dt.length-1,Et=-1;for(;vt<=St;){const At=Math.ceil((vt+St)/2);if(At===0||dt[At-1]<=lt&&dt[At]>lt){Et=At;break}else lt<dt[At]?St=At-1:vt=At+1}return Et}sampleFace(lt,dt,vt,St){let Et=this.randomFunction(),At=this.randomFunction();return Et+At>1&&(Et=1-Et,At=1-At),_face.a.fromBufferAttribute(this.positionAttribute,lt*3),_face.b.fromBufferAttribute(this.positionAttribute,lt*3+1),_face.c.fromBufferAttribute(this.positionAttribute,lt*3+2),dt.set(0,0,0).addScaledVector(_face.a,Et).addScaledVector(_face.b,At).addScaledVector(_face.c,1-(Et+At)),vt!==void 0&&_face.getNormal(vt),St!==void 0&&this.colorAttribute!==void 0&&(_face.a.fromBufferAttribute(this.colorAttribute,lt*3),_face.b.fromBufferAttribute(this.colorAttribute,lt*3+1),_face.c.fromBufferAttribute(this.colorAttribute,lt*3+2),_color.set(0,0,0).addScaledVector(_face.a,Et).addScaledVector(_face.b,At).addScaledVector(_face.c,1-(Et+At)),St.r=_color.x,St.g=_color.y,St.b=_color.z),this}}var __defProp$7=Object.defineProperty,__defNormalProp$7=(ft,lt,dt)=>lt in ft?__defProp$7(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__publicField$6=(ft,lt,dt)=>(__defNormalProp$7(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);const moduloWrapAround=(ft,lt)=>(ft%lt+lt)%lt;let OrbitControls$1=class extends EventDispatcher{constructor(lt,dt){super(),__publicField$6(this,"object"),__publicField$6(this,"domElement"),__publicField$6(this,"enabled",!0),__publicField$6(this,"target",new Vector3),__publicField$6(this,"minDistance",0),__publicField$6(this,"maxDistance",1/0),__publicField$6(this,"minZoom",0),__publicField$6(this,"maxZoom",1/0),__publicField$6(this,"minPolarAngle",0),__publicField$6(this,"maxPolarAngle",Math.PI),__publicField$6(this,"minAzimuthAngle",-1/0),__publicField$6(this,"maxAzimuthAngle",1/0),__publicField$6(this,"enableDamping",!1),__publicField$6(this,"dampingFactor",.05),__publicField$6(this,"enableZoom",!0),__publicField$6(this,"zoomSpeed",1),__publicField$6(this,"enableRotate",!0),__publicField$6(this,"rotateSpeed",1),__publicField$6(this,"enablePan",!0),__publicField$6(this,"panSpeed",1),__publicField$6(this,"screenSpacePanning",!0),__publicField$6(this,"keyPanSpeed",7),__publicField$6(this,"autoRotate",!1),__publicField$6(this,"autoRotateSpeed",2),__publicField$6(this,"reverseOrbit",!1),__publicField$6(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField$6(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField$6(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField$6(this,"target0"),__publicField$6(this,"position0"),__publicField$6(this,"zoom0"),__publicField$6(this,"_domElementKeyEvents",null),__publicField$6(this,"getPolarAngle"),__publicField$6(this,"getAzimuthalAngle"),__publicField$6(this,"setPolarAngle"),__publicField$6(this,"setAzimuthalAngle"),__publicField$6(this,"getDistance"),__publicField$6(this,"listenToKeyEvents"),__publicField$6(this,"saveState"),__publicField$6(this,"reset"),__publicField$6(this,"update"),__publicField$6(this,"connect"),__publicField$6(this,"dispose"),this.object=lt,this.domElement=dt,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Bt.phi,this.getAzimuthalAngle=()=>Bt.theta,this.setPolarAngle=Kr=>{let hn=moduloWrapAround(Kr,2*Math.PI),En=Bt.phi;En<0&&(En+=2*Math.PI),hn<0&&(hn+=2*Math.PI);let xn=Math.abs(hn-En);2*Math.PI-xn<xn&&(hn<En?hn+=2*Math.PI:En+=2*Math.PI),Dt.phi=hn-En,vt.update()},this.setAzimuthalAngle=Kr=>{let hn=moduloWrapAround(Kr,2*Math.PI),En=Bt.theta;En<0&&(En+=2*Math.PI),hn<0&&(hn+=2*Math.PI);let xn=Math.abs(hn-En);2*Math.PI-xn<xn&&(hn<En?hn+=2*Math.PI:En+=2*Math.PI),Dt.theta=hn-En,vt.update()},this.getDistance=()=>vt.object.position.distanceTo(vt.target),this.listenToKeyEvents=Kr=>{Kr.addEventListener("keydown",Yr),this._domElementKeyEvents=Kr},this.saveState=()=>{vt.target0.copy(vt.target),vt.position0.copy(vt.object.position),vt.zoom0=vt.object.zoom},this.reset=()=>{vt.target.copy(vt.target0),vt.object.position.copy(vt.position0),vt.object.zoom=vt.zoom0,vt.object.updateProjectionMatrix(),vt.dispatchEvent(St),vt.update(),Tt=Ct.NONE},this.update=(()=>{const Kr=new Vector3,hn=new Quaternion().setFromUnitVectors(lt.up,new Vector3(0,1,0)),En=hn.clone().invert(),xn=new Vector3,On=new Quaternion,Wn=2*Math.PI;return function(){const Xr=vt.object.position;Kr.copy(Xr).sub(vt.target),Kr.applyQuaternion(hn),Bt.setFromVector3(Kr),vt.autoRotate&&Tt===Ct.NONE&&mr(ur()),vt.enableDamping?(Bt.theta+=Dt.theta*vt.dampingFactor,Bt.phi+=Dt.phi*vt.dampingFactor):(Bt.theta+=Dt.theta,Bt.phi+=Dt.phi);let dn=vt.minAzimuthAngle,Ln=vt.maxAzimuthAngle;return isFinite(dn)&&isFinite(Ln)&&(dn<-Math.PI?dn+=Wn:dn>Math.PI&&(dn-=Wn),Ln<-Math.PI?Ln+=Wn:Ln>Math.PI&&(Ln-=Wn),dn<=Ln?Bt.theta=Math.max(dn,Math.min(Ln,Bt.theta)):Bt.theta=Bt.theta>(dn+Ln)/2?Math.max(dn,Bt.theta):Math.min(Ln,Bt.theta)),Bt.phi=Math.max(vt.minPolarAngle,Math.min(vt.maxPolarAngle,Bt.phi)),Bt.makeSafe(),Bt.radius*=Ft,Bt.radius=Math.max(vt.minDistance,Math.min(vt.maxDistance,Bt.radius)),vt.enableDamping===!0?vt.target.addScaledVector(kt,vt.dampingFactor):vt.target.add(kt),Kr.setFromSpherical(Bt),Kr.applyQuaternion(En),Xr.copy(vt.target).add(Kr),vt.object.lookAt(vt.target),vt.enableDamping===!0?(Dt.theta*=1-vt.dampingFactor,Dt.phi*=1-vt.dampingFactor,kt.multiplyScalar(1-vt.dampingFactor)):(Dt.set(0,0,0),kt.set(0,0,0)),Ft=1,Ut||xn.distanceToSquared(vt.object.position)>Rt||8*(1-On.dot(vt.object.quaternion))>Rt?(vt.dispatchEvent(St),xn.copy(vt.object.position),On.copy(vt.object.quaternion),Ut=!1,!0):!1}})(),this.connect=Kr=>{Kr===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),vt.domElement=Kr,vt.domElement.style.touchAction="none",vt.domElement.addEventListener("contextmenu",An),vt.domElement.addEventListener("pointerdown",Rn),vt.domElement.addEventListener("pointercancel",Pn),vt.domElement.addEventListener("wheel",Rr)},this.dispose=()=>{var Kr,hn,En,xn,On,Wn;(Kr=vt.domElement)==null||Kr.removeEventListener("contextmenu",An),(hn=vt.domElement)==null||hn.removeEventListener("pointerdown",Rn),(En=vt.domElement)==null||En.removeEventListener("pointercancel",Pn),(xn=vt.domElement)==null||xn.removeEventListener("wheel",Rr),(On=vt.domElement)==null||On.ownerDocument.removeEventListener("pointermove",Qr),(Wn=vt.domElement)==null||Wn.ownerDocument.removeEventListener("pointerup",yn),vt._domElementKeyEvents!==null&&vt._domElementKeyEvents.removeEventListener("keydown",Yr)};const vt=this,St={type:"change"},Et={type:"start"},At={type:"end"},Ct={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Tt=Ct.NONE;const Rt=1e-6,Bt=new Spherical,Dt=new Spherical;let Ft=1;const kt=new Vector3;let Ut=!1;const Kt=new Vector2,tr=new Vector2,Wt=new Vector2,Zt=new Vector2,Ht=new Vector2,nr=new Vector2,sr=new Vector2,ar=new Vector2,ir=new Vector2,rr=[],lr={};function ur(){return 2*Math.PI/60/60*vt.autoRotateSpeed}function dr(){return Math.pow(.95,vt.zoomSpeed)}function mr(Kr){vt.reverseOrbit?Dt.theta+=Kr:Dt.theta-=Kr}function Cr(Kr){vt.reverseOrbit?Dt.phi+=Kr:Dt.phi-=Kr}const yr=(()=>{const Kr=new Vector3;return function(En,xn){Kr.setFromMatrixColumn(xn,0),Kr.multiplyScalar(-En),kt.add(Kr)}})(),xr=(()=>{const Kr=new Vector3;return function(En,xn){vt.screenSpacePanning===!0?Kr.setFromMatrixColumn(xn,1):(Kr.setFromMatrixColumn(xn,0),Kr.crossVectors(vt.object.up,Kr)),Kr.multiplyScalar(En),kt.add(Kr)}})(),Sr=(()=>{const Kr=new Vector3;return function(En,xn){const On=vt.domElement;if(On&&vt.object instanceof PerspectiveCamera$1&&vt.object.isPerspectiveCamera){const Wn=vt.object.position;Kr.copy(Wn).sub(vt.target);let es=Kr.length();es*=Math.tan(vt.object.fov/2*Math.PI/180),yr(2*En*es/On.clientHeight,vt.object.matrix),xr(2*xn*es/On.clientHeight,vt.object.matrix)}else On&&vt.object instanceof OrthographicCamera&&vt.object.isOrthographicCamera?(yr(En*(vt.object.right-vt.object.left)/vt.object.zoom/On.clientWidth,vt.object.matrix),xr(xn*(vt.object.top-vt.object.bottom)/vt.object.zoom/On.clientHeight,vt.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),vt.enablePan=!1)}})();function br(Kr){vt.object instanceof PerspectiveCamera$1&&vt.object.isPerspectiveCamera?Ft/=Kr:vt.object instanceof OrthographicCamera&&vt.object.isOrthographicCamera?(vt.object.zoom=Math.max(vt.minZoom,Math.min(vt.maxZoom,vt.object.zoom*Kr)),vt.object.updateProjectionMatrix(),Ut=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),vt.enableZoom=!1)}function cr(Kr){vt.object instanceof PerspectiveCamera$1&&vt.object.isPerspectiveCamera?Ft*=Kr:vt.object instanceof OrthographicCamera&&vt.object.isOrthographicCamera?(vt.object.zoom=Math.max(vt.minZoom,Math.min(vt.maxZoom,vt.object.zoom/Kr)),vt.object.updateProjectionMatrix(),Ut=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),vt.enableZoom=!1)}function pr(Kr){Kt.set(Kr.clientX,Kr.clientY)}function Er(Kr){sr.set(Kr.clientX,Kr.clientY)}function _r(Kr){Zt.set(Kr.clientX,Kr.clientY)}function Ar(Kr){tr.set(Kr.clientX,Kr.clientY),Wt.subVectors(tr,Kt).multiplyScalar(vt.rotateSpeed);const hn=vt.domElement;hn&&(mr(2*Math.PI*Wt.x/hn.clientHeight),Cr(2*Math.PI*Wt.y/hn.clientHeight)),Kt.copy(tr),vt.update()}function Pr(Kr){ar.set(Kr.clientX,Kr.clientY),ir.subVectors(ar,sr),ir.y>0?br(dr()):ir.y<0&&cr(dr()),sr.copy(ar),vt.update()}function Ir(Kr){Ht.set(Kr.clientX,Kr.clientY),nr.subVectors(Ht,Zt).multiplyScalar(vt.panSpeed),Sr(nr.x,nr.y),Zt.copy(Ht),vt.update()}function kr(Kr){Kr.deltaY<0?cr(dr()):Kr.deltaY>0&&br(dr()),vt.update()}function Dr(Kr){let hn=!1;switch(Kr.code){case vt.keys.UP:Sr(0,vt.keyPanSpeed),hn=!0;break;case vt.keys.BOTTOM:Sr(0,-vt.keyPanSpeed),hn=!0;break;case vt.keys.LEFT:Sr(vt.keyPanSpeed,0),hn=!0;break;case vt.keys.RIGHT:Sr(-vt.keyPanSpeed,0),hn=!0;break}hn&&(Kr.preventDefault(),vt.update())}function Jr(){if(rr.length==1)Kt.set(rr[0].pageX,rr[0].pageY);else{const Kr=.5*(rr[0].pageX+rr[1].pageX),hn=.5*(rr[0].pageY+rr[1].pageY);Kt.set(Kr,hn)}}function Or(){if(rr.length==1)Zt.set(rr[0].pageX,rr[0].pageY);else{const Kr=.5*(rr[0].pageX+rr[1].pageX),hn=.5*(rr[0].pageY+rr[1].pageY);Zt.set(Kr,hn)}}function jr(){const Kr=rr[0].pageX-rr[1].pageX,hn=rr[0].pageY-rr[1].pageY,En=Math.sqrt(Kr*Kr+hn*hn);sr.set(0,En)}function Nr(){vt.enableZoom&&jr(),vt.enablePan&&Or()}function Vr(){vt.enableZoom&&jr(),vt.enableRotate&&Jr()}function Br(Kr){if(rr.length==1)tr.set(Kr.pageX,Kr.pageY);else{const En=Nn(Kr),xn=.5*(Kr.pageX+En.x),On=.5*(Kr.pageY+En.y);tr.set(xn,On)}Wt.subVectors(tr,Kt).multiplyScalar(vt.rotateSpeed);const hn=vt.domElement;hn&&(mr(2*Math.PI*Wt.x/hn.clientHeight),Cr(2*Math.PI*Wt.y/hn.clientHeight)),Kt.copy(tr)}function zr(Kr){if(rr.length==1)Ht.set(Kr.pageX,Kr.pageY);else{const hn=Nn(Kr),En=.5*(Kr.pageX+hn.x),xn=.5*(Kr.pageY+hn.y);Ht.set(En,xn)}nr.subVectors(Ht,Zt).multiplyScalar(vt.panSpeed),Sr(nr.x,nr.y),Zt.copy(Ht)}function qr(Kr){const hn=Nn(Kr),En=Kr.pageX-hn.x,xn=Kr.pageY-hn.y,On=Math.sqrt(En*En+xn*xn);ar.set(0,On),ir.set(0,Math.pow(ar.y/sr.y,vt.zoomSpeed)),br(ir.y),sr.copy(ar)}function en(Kr){vt.enableZoom&&qr(Kr),vt.enablePan&&zr(Kr)}function cn(Kr){vt.enableZoom&&qr(Kr),vt.enableRotate&&Br(Kr)}function Rn(Kr){var hn,En;vt.enabled!==!1&&(rr.length===0&&((hn=vt.domElement)==null||hn.ownerDocument.addEventListener("pointermove",Qr),(En=vt.domElement)==null||En.ownerDocument.addEventListener("pointerup",yn)),Dn(Kr),Kr.pointerType==="touch"?fn(Kr):pn(Kr))}function Qr(Kr){vt.enabled!==!1&&(Kr.pointerType==="touch"?Cn(Kr):Fr(Kr))}function yn(Kr){var hn,En,xn;In(Kr),rr.length===0&&((hn=vt.domElement)==null||hn.releasePointerCapture(Kr.pointerId),(En=vt.domElement)==null||En.ownerDocument.removeEventListener("pointermove",Qr),(xn=vt.domElement)==null||xn.ownerDocument.removeEventListener("pointerup",yn)),vt.dispatchEvent(At),Tt=Ct.NONE}function Pn(Kr){In(Kr)}function pn(Kr){let hn;switch(Kr.button){case 0:hn=vt.mouseButtons.LEFT;break;case 1:hn=vt.mouseButtons.MIDDLE;break;case 2:hn=vt.mouseButtons.RIGHT;break;default:hn=-1}switch(hn){case MOUSE.DOLLY:if(vt.enableZoom===!1)return;Er(Kr),Tt=Ct.DOLLY;break;case MOUSE.ROTATE:if(Kr.ctrlKey||Kr.metaKey||Kr.shiftKey){if(vt.enablePan===!1)return;_r(Kr),Tt=Ct.PAN}else{if(vt.enableRotate===!1)return;pr(Kr),Tt=Ct.ROTATE}break;case MOUSE.PAN:if(Kr.ctrlKey||Kr.metaKey||Kr.shiftKey){if(vt.enableRotate===!1)return;pr(Kr),Tt=Ct.ROTATE}else{if(vt.enablePan===!1)return;_r(Kr),Tt=Ct.PAN}break;default:Tt=Ct.NONE}Tt!==Ct.NONE&&vt.dispatchEvent(Et)}function Fr(Kr){if(vt.enabled!==!1)switch(Tt){case Ct.ROTATE:if(vt.enableRotate===!1)return;Ar(Kr);break;case Ct.DOLLY:if(vt.enableZoom===!1)return;Pr(Kr);break;case Ct.PAN:if(vt.enablePan===!1)return;Ir(Kr);break}}function Rr(Kr){vt.enabled===!1||vt.enableZoom===!1||Tt!==Ct.NONE&&Tt!==Ct.ROTATE||(Kr.preventDefault(),vt.dispatchEvent(Et),kr(Kr),vt.dispatchEvent(At))}function Yr(Kr){vt.enabled===!1||vt.enablePan===!1||Dr(Kr)}function fn(Kr){switch(mn(Kr),rr.length){case 1:switch(vt.touches.ONE){case TOUCH.ROTATE:if(vt.enableRotate===!1)return;Jr(),Tt=Ct.TOUCH_ROTATE;break;case TOUCH.PAN:if(vt.enablePan===!1)return;Or(),Tt=Ct.TOUCH_PAN;break;default:Tt=Ct.NONE}break;case 2:switch(vt.touches.TWO){case TOUCH.DOLLY_PAN:if(vt.enableZoom===!1&&vt.enablePan===!1)return;Nr(),Tt=Ct.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(vt.enableZoom===!1&&vt.enableRotate===!1)return;Vr(),Tt=Ct.TOUCH_DOLLY_ROTATE;break;default:Tt=Ct.NONE}break;default:Tt=Ct.NONE}Tt!==Ct.NONE&&vt.dispatchEvent(Et)}function Cn(Kr){switch(mn(Kr),Tt){case Ct.TOUCH_ROTATE:if(vt.enableRotate===!1)return;Br(Kr),vt.update();break;case Ct.TOUCH_PAN:if(vt.enablePan===!1)return;zr(Kr),vt.update();break;case Ct.TOUCH_DOLLY_PAN:if(vt.enableZoom===!1&&vt.enablePan===!1)return;en(Kr),vt.update();break;case Ct.TOUCH_DOLLY_ROTATE:if(vt.enableZoom===!1&&vt.enableRotate===!1)return;cn(Kr),vt.update();break;default:Tt=Ct.NONE}}function An(Kr){vt.enabled!==!1&&Kr.preventDefault()}function Dn(Kr){rr.push(Kr)}function In(Kr){delete lr[Kr.pointerId];for(let hn=0;hn<rr.length;hn++)if(rr[hn].pointerId==Kr.pointerId){rr.splice(hn,1);return}}function mn(Kr){let hn=lr[Kr.pointerId];hn===void 0&&(hn=new Vector2,lr[Kr.pointerId]=hn),hn.set(Kr.pageX,Kr.pageY)}function Nn(Kr){const hn=Kr.pointerId===rr[0].pointerId?rr[1]:rr[0];return lr[hn.pointerId]}dt!==void 0&&this.connect(dt),this.update()}};var __defProp$6=Object.defineProperty,__defNormalProp$6=(ft,lt,dt)=>lt in ft?__defProp$6(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__publicField$5=(ft,lt,dt)=>(__defNormalProp$6(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);class Pass{constructor(){__publicField$5(this,"enabled",!0),__publicField$5(this,"needsSwap",!0),__publicField$5(this,"clear",!1),__publicField$5(this,"renderToScreen",!1)}setSize(lt,dt){}render(lt,dt,vt,St,Et){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class FullScreenQuad{constructor(lt){__publicField$5(this,"camera",new OrthographicCamera(-1,1,1,-1,0,1)),__publicField$5(this,"geometry",new PlaneGeometry(2,2)),__publicField$5(this,"mesh"),this.mesh=new Mesh(this.geometry,lt)}get material(){return this.mesh.material}set material(lt){this.mesh.material=lt}dispose(){this.mesh.geometry.dispose()}render(lt){lt.render(this.mesh,this.camera)}}var __defProp$5=Object.defineProperty,__defNormalProp$5=(ft,lt,dt)=>lt in ft?__defProp$5(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__publicField$4=(ft,lt,dt)=>(__defNormalProp$5(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);class ShaderPass extends Pass{constructor(lt,dt="tDiffuse"){super(),__publicField$4(this,"textureID"),__publicField$4(this,"uniforms"),__publicField$4(this,"material"),__publicField$4(this,"fsQuad"),this.textureID=dt,lt instanceof ShaderMaterial?(this.uniforms=lt.uniforms,this.material=lt):(this.uniforms=UniformsUtils.clone(lt.uniforms),this.material=new ShaderMaterial({defines:Object.assign({},lt.defines),uniforms:this.uniforms,vertexShader:lt.vertexShader,fragmentShader:lt.fragmentShader})),this.fsQuad=new FullScreenQuad(this.material)}render(lt,dt,vt){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=vt.texture),this.fsQuad.material=this.material,this.renderToScreen?(lt.setRenderTarget(null),this.fsQuad.render(lt)):(lt.setRenderTarget(dt),this.clear&&lt.clear(lt.autoClearColor,lt.autoClearDepth,lt.autoClearStencil),this.fsQuad.render(lt))}}const CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Color(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)};var __defProp$4=Object.defineProperty,__defNormalProp$4=(ft,lt,dt)=>lt in ft?__defProp$4(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__publicField$3=(ft,lt,dt)=>(__defNormalProp$4(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);const _UnrealBloomPass=class extends Pass{constructor(ft,lt,dt,vt){super(),this.strength=lt!==void 0?lt:1,this.radius=dt,this.threshold=vt,this.resolution=ft!==void 0?new Vector2(ft.x,ft.y):new Vector2(256,256),this.clearColor=new Color(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let St=Math.round(this.resolution.x/2),Et=Math.round(this.resolution.y/2);this.renderTargetBright=new WebGLRenderTarget(St,Et,{type:HalfFloatType}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let Bt=0;Bt<this.nMips;Bt++){const Dt=new WebGLRenderTarget(St,Et,{type:HalfFloatType});Dt.texture.name="UnrealBloomPass.h"+Bt,Dt.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(Dt);const Ft=new WebGLRenderTarget(St,Et,{type:HalfFloatType});Ft.texture.name="UnrealBloomPass.v"+Bt,Ft.texture.generateMipmaps=!1,this.renderTargetsVertical.push(Ft),St=Math.round(St/2),Et=Math.round(Et/2)}const At=LuminosityHighPassShader;this.highPassUniforms=UniformsUtils.clone(At.uniforms),this.highPassUniforms.luminosityThreshold.value=vt,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:At.vertexShader,fragmentShader:At.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const Ct=[3,5,7,9,11];St=Math.round(this.resolution.x/2),Et=Math.round(this.resolution.y/2);for(let Bt=0;Bt<this.nMips;Bt++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(Ct[Bt])),this.separableBlurMaterials[Bt].uniforms.texSize.value=new Vector2(St,Et),St=Math.round(St/2),Et=Math.round(Et/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=lt,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const Tt=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=Tt,this.bloomTintColors=[new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const Rt=CopyShader;this.copyUniforms=UniformsUtils.clone(Rt.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ShaderMaterial({uniforms:this.copyUniforms,vertexShader:Rt.vertexShader,fragmentShader:Rt.fragmentShader,blending:AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Color,this.oldClearAlpha=1,this.basic=new MeshBasicMaterial,this.fsQuad=new FullScreenQuad(null)}dispose(){for(let ft=0;ft<this.renderTargetsHorizontal.length;ft++)this.renderTargetsHorizontal[ft].dispose();for(let ft=0;ft<this.renderTargetsVertical.length;ft++)this.renderTargetsVertical[ft].dispose();this.renderTargetBright.dispose();for(let ft=0;ft<this.separableBlurMaterials.length;ft++)this.separableBlurMaterials[ft].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(ft,lt){let dt=Math.round(ft/2),vt=Math.round(lt/2);this.renderTargetBright.setSize(dt,vt);for(let St=0;St<this.nMips;St++)this.renderTargetsHorizontal[St].setSize(dt,vt),this.renderTargetsVertical[St].setSize(dt,vt),this.separableBlurMaterials[St].uniforms.texSize.value=new Vector2(dt,vt),dt=Math.round(dt/2),vt=Math.round(vt/2)}render(ft,lt,dt,vt,St){ft.getClearColor(this._oldClearColor),this.oldClearAlpha=ft.getClearAlpha();const Et=ft.autoClear;ft.autoClear=!1,ft.setClearColor(this.clearColor,0),St&&ft.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=dt.texture,ft.setRenderTarget(null),ft.clear(),this.fsQuad.render(ft)),this.highPassUniforms.tDiffuse.value=dt.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,ft.setRenderTarget(this.renderTargetBright),ft.clear(),this.fsQuad.render(ft);let At=this.renderTargetBright;for(let Ct=0;Ct<this.nMips;Ct++)this.fsQuad.material=this.separableBlurMaterials[Ct],this.separableBlurMaterials[Ct].uniforms.colorTexture.value=At.texture,this.separableBlurMaterials[Ct].uniforms.direction.value=_UnrealBloomPass.BlurDirectionX,ft.setRenderTarget(this.renderTargetsHorizontal[Ct]),ft.clear(),this.fsQuad.render(ft),this.separableBlurMaterials[Ct].uniforms.colorTexture.value=this.renderTargetsHorizontal[Ct].texture,this.separableBlurMaterials[Ct].uniforms.direction.value=_UnrealBloomPass.BlurDirectionY,ft.setRenderTarget(this.renderTargetsVertical[Ct]),ft.clear(),this.fsQuad.render(ft),At=this.renderTargetsVertical[Ct];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,ft.setRenderTarget(this.renderTargetsHorizontal[0]),ft.clear(),this.fsQuad.render(ft),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,St&&ft.state.buffers.stencil.setTest(!0),this.renderToScreen?(ft.setRenderTarget(null),this.fsQuad.render(ft)):(ft.setRenderTarget(dt),this.fsQuad.render(ft)),ft.setClearColor(this._oldClearColor,this.oldClearAlpha),ft.autoClear=Et}getSeperableBlurMaterial(ft){return new ShaderMaterial({defines:{KERNEL_RADIUS:ft,SIGMA:ft},uniforms:{colorTexture:{value:null},texSize:{value:new Vector2(.5,.5)},direction:{value:new Vector2(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(ft){return new ShaderMaterial({defines:{NUM_MIPS:ft},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let UnrealBloomPass=_UnrealBloomPass;__publicField$3(UnrealBloomPass,"BlurDirectionX",new Vector2(1,0));__publicField$3(UnrealBloomPass,"BlurDirectionY",new Vector2(0,1));var __defProp$3=Object.defineProperty,__defNormalProp$3=(ft,lt,dt)=>lt in ft?__defProp$3(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__publicField$2=(ft,lt,dt)=>(__defNormalProp$3(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);class MaskPass extends Pass{constructor(lt,dt){super(),__publicField$2(this,"scene"),__publicField$2(this,"camera"),__publicField$2(this,"inverse"),this.scene=lt,this.camera=dt,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(lt,dt,vt){const St=lt.getContext(),Et=lt.state;Et.buffers.color.setMask(!1),Et.buffers.depth.setMask(!1),Et.buffers.color.setLocked(!0),Et.buffers.depth.setLocked(!0);let At,Ct;this.inverse?(At=0,Ct=1):(At=1,Ct=0),Et.buffers.stencil.setTest(!0),Et.buffers.stencil.setOp(St.REPLACE,St.REPLACE,St.REPLACE),Et.buffers.stencil.setFunc(St.ALWAYS,At,4294967295),Et.buffers.stencil.setClear(Ct),Et.buffers.stencil.setLocked(!0),lt.setRenderTarget(vt),this.clear&&lt.clear(),lt.render(this.scene,this.camera),lt.setRenderTarget(dt),this.clear&&lt.clear(),lt.render(this.scene,this.camera),Et.buffers.color.setLocked(!1),Et.buffers.depth.setLocked(!1),Et.buffers.stencil.setLocked(!1),Et.buffers.stencil.setFunc(St.EQUAL,1,4294967295),Et.buffers.stencil.setOp(St.KEEP,St.KEEP,St.KEEP),Et.buffers.stencil.setLocked(!0)}}class ClearMaskPass extends Pass{constructor(){super(),this.needsSwap=!1}render(lt){lt.state.buffers.stencil.setLocked(!1),lt.state.buffers.stencil.setTest(!1)}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(ft,lt,dt)=>lt in ft?__defProp$2(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__publicField$1=(ft,lt,dt)=>(__defNormalProp$2(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);class EffectComposer{constructor(lt,dt){if(__publicField$1(this,"renderer"),__publicField$1(this,"_pixelRatio"),__publicField$1(this,"_width"),__publicField$1(this,"_height"),__publicField$1(this,"renderTarget1"),__publicField$1(this,"renderTarget2"),__publicField$1(this,"writeBuffer"),__publicField$1(this,"readBuffer"),__publicField$1(this,"renderToScreen"),__publicField$1(this,"passes",[]),__publicField$1(this,"copyPass"),__publicField$1(this,"clock"),this.renderer=lt,dt===void 0){const vt={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat},St=lt.getSize(new Vector2);this._pixelRatio=lt.getPixelRatio(),this._width=St.width,this._height=St.height,dt=new WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,vt),dt.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=dt.width,this._height=dt.height;this.renderTarget1=dt,this.renderTarget2=dt.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,CopyShader===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),ShaderPass===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new ShaderPass(CopyShader),this.clock=new Clock}swapBuffers(){const lt=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=lt}addPass(lt){this.passes.push(lt),lt.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(lt,dt){this.passes.splice(dt,0,lt),lt.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(lt){const dt=this.passes.indexOf(lt);dt!==-1&&this.passes.splice(dt,1)}isLastEnabledPass(lt){for(let dt=lt+1;dt<this.passes.length;dt++)if(this.passes[dt].enabled)return!1;return!0}render(lt){lt===void 0&&(lt=this.clock.getDelta());const dt=this.renderer.getRenderTarget();let vt=!1;const St=this.passes.length;for(let Et=0;Et<St;Et++){const At=this.passes[Et];if(At.enabled!==!1){if(At.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(Et),At.render(this.renderer,this.writeBuffer,this.readBuffer,lt,vt),At.needsSwap){if(vt){const Ct=this.renderer.getContext(),Tt=this.renderer.state.buffers.stencil;Tt.setFunc(Ct.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,lt),Tt.setFunc(Ct.EQUAL,1,4294967295)}this.swapBuffers()}MaskPass!==void 0&&(At instanceof MaskPass?vt=!0:At instanceof ClearMaskPass&&(vt=!1))}}this.renderer.setRenderTarget(dt)}reset(lt){if(lt===void 0){const dt=this.renderer.getSize(new Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=dt.width,this._height=dt.height,lt=this.renderTarget1.clone(),lt.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=lt,this.renderTarget2=lt.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(lt,dt){this._width=lt,this._height=dt;const vt=this._width*this._pixelRatio,St=this._height*this._pixelRatio;this.renderTarget1.setSize(vt,St),this.renderTarget2.setSize(vt,St);for(let Et=0;Et<this.passes.length;Et++)this.passes[Et].setSize(vt,St)}setPixelRatio(lt){this._pixelRatio=lt,this.setSize(this._width,this._height)}}var __defProp$1=Object.defineProperty,__defNormalProp$1=(ft,lt,dt)=>lt in ft?__defProp$1(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__publicField=(ft,lt,dt)=>(__defNormalProp$1(ft,typeof lt!="symbol"?lt+"":lt,dt),dt);class RenderPass extends Pass{constructor(lt,dt,vt,St,Et=0){super(),__publicField(this,"scene"),__publicField(this,"camera"),__publicField(this,"overrideMaterial"),__publicField(this,"clearColor"),__publicField(this,"clearAlpha"),__publicField(this,"clearDepth",!1),__publicField(this,"_oldClearColor",new Color),this.scene=lt,this.camera=dt,this.overrideMaterial=vt,this.clearColor=St,this.clearAlpha=Et,this.clear=!0,this.needsSwap=!1}render(lt,dt,vt){let St=lt.autoClear;lt.autoClear=!1;let Et,At=null;this.overrideMaterial!==void 0&&(At=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(lt.getClearColor(this._oldClearColor),Et=lt.getClearAlpha(),lt.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&lt.clearDepth(),lt.setRenderTarget(this.renderToScreen?null:vt),this.clear&&lt.clear(lt.autoClearColor,lt.autoClearDepth,lt.autoClearStencil),lt.render(this.scene,this.camera),this.clearColor&&lt.setClearColor(this._oldClearColor,Et),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=At),lt.autoClear=St}}class GLTFLoader extends Loader{constructor(lt){super(lt),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(dt){return new GLTFMaterialsClearcoatExtension(dt)}),this.register(function(dt){return new GLTFTextureBasisUExtension(dt)}),this.register(function(dt){return new GLTFTextureWebPExtension(dt)}),this.register(function(dt){return new GLTFTextureAVIFExtension(dt)}),this.register(function(dt){return new GLTFMaterialsSheenExtension(dt)}),this.register(function(dt){return new GLTFMaterialsTransmissionExtension(dt)}),this.register(function(dt){return new GLTFMaterialsVolumeExtension(dt)}),this.register(function(dt){return new GLTFMaterialsIorExtension(dt)}),this.register(function(dt){return new GLTFMaterialsEmissiveStrengthExtension(dt)}),this.register(function(dt){return new GLTFMaterialsSpecularExtension(dt)}),this.register(function(dt){return new GLTFMaterialsIridescenceExtension(dt)}),this.register(function(dt){return new GLTFMaterialsAnisotropyExtension(dt)}),this.register(function(dt){return new GLTFLightsExtension(dt)}),this.register(function(dt){return new GLTFMeshoptCompression(dt)}),this.register(function(dt){return new GLTFMeshGpuInstancing(dt)})}load(lt,dt,vt,St){const Et=this;let At;this.resourcePath!==""?At=this.resourcePath:this.path!==""?At=this.path:At=LoaderUtils.extractUrlBase(lt),this.manager.itemStart(lt);const Ct=function(Rt){St?St(Rt):console.error(Rt),Et.manager.itemError(lt),Et.manager.itemEnd(lt)},Tt=new FileLoader(this.manager);Tt.setPath(this.path),Tt.setResponseType("arraybuffer"),Tt.setRequestHeader(this.requestHeader),Tt.setWithCredentials(this.withCredentials),Tt.load(lt,function(Rt){try{Et.parse(Rt,At,function(Bt){dt(Bt),Et.manager.itemEnd(lt)},Ct)}catch(Bt){Ct(Bt)}},vt,Ct)}setDRACOLoader(lt){return this.dracoLoader=lt,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(lt){return this.ktx2Loader=lt,this}setMeshoptDecoder(lt){return this.meshoptDecoder=lt,this}register(lt){return this.pluginCallbacks.indexOf(lt)===-1&&this.pluginCallbacks.push(lt),this}unregister(lt){return this.pluginCallbacks.indexOf(lt)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(lt),1),this}parse(lt,dt,vt,St){let Et;const At={},Ct={};if(typeof lt=="string")Et=JSON.parse(lt);else if(lt instanceof ArrayBuffer)if(LoaderUtils.decodeText(new Uint8Array(lt.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{At[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(lt)}catch(Bt){St&&St(Bt);return}Et=JSON.parse(At[EXTENSIONS.KHR_BINARY_GLTF].content)}else Et=JSON.parse(LoaderUtils.decodeText(new Uint8Array(lt)));else Et=lt;if(Et.asset===void 0||Et.asset.version[0]<2){St&&St(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const Tt=new GLTFParser(Et,{path:dt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Tt.fileLoader.setRequestHeader(this.requestHeader);for(let Rt=0;Rt<this.pluginCallbacks.length;Rt++){const Bt=this.pluginCallbacks[Rt](Tt);Ct[Bt.name]=Bt,At[Bt.name]=!0}if(Et.extensionsUsed)for(let Rt=0;Rt<Et.extensionsUsed.length;++Rt){const Bt=Et.extensionsUsed[Rt],Dt=Et.extensionsRequired||[];switch(Bt){case EXTENSIONS.KHR_MATERIALS_UNLIT:At[Bt]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:At[Bt]=new GLTFDracoMeshCompressionExtension(Et,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:At[Bt]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:At[Bt]=new GLTFMeshQuantizationExtension;break;default:Dt.indexOf(Bt)>=0&&Ct[Bt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+Bt+'".')}}Tt.setExtensions(At),Tt.setPlugins(Ct),Tt.parse(vt,St)}parseAsync(lt,dt){const vt=this;return new Promise(function(St,Et){vt.parse(lt,dt,St,Et)})}}function GLTFRegistry(){let ft={};return{get:function(lt){return ft[lt]},add:function(lt,dt){ft[lt]=dt},remove:function(lt){delete ft[lt]},removeAll:function(){ft={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const lt=this.parser,dt=this.parser.json.nodes||[];for(let vt=0,St=dt.length;vt<St;vt++){const Et=dt[vt];Et.extensions&&Et.extensions[this.name]&&Et.extensions[this.name].light!==void 0&&lt._addNodeRef(this.cache,Et.extensions[this.name].light)}}_loadLight(lt){const dt=this.parser,vt="light:"+lt;let St=dt.cache.get(vt);if(St)return St;const Et=dt.json,Tt=((Et.extensions&&Et.extensions[this.name]||{}).lights||[])[lt];let Rt;const Bt=new Color(16777215);Tt.color!==void 0&&Bt.fromArray(Tt.color);const Dt=Tt.range!==void 0?Tt.range:0;switch(Tt.type){case"directional":Rt=new DirectionalLight(Bt),Rt.target.position.set(0,0,-1),Rt.add(Rt.target);break;case"point":Rt=new PointLight(Bt),Rt.distance=Dt;break;case"spot":Rt=new SpotLight(Bt),Rt.distance=Dt,Tt.spot=Tt.spot||{},Tt.spot.innerConeAngle=Tt.spot.innerConeAngle!==void 0?Tt.spot.innerConeAngle:0,Tt.spot.outerConeAngle=Tt.spot.outerConeAngle!==void 0?Tt.spot.outerConeAngle:Math.PI/4,Rt.angle=Tt.spot.outerConeAngle,Rt.penumbra=1-Tt.spot.innerConeAngle/Tt.spot.outerConeAngle,Rt.target.position.set(0,0,-1),Rt.add(Rt.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+Tt.type)}return Rt.position.set(0,0,0),Rt.decay=2,assignExtrasToUserData(Rt,Tt),Tt.intensity!==void 0&&(Rt.intensity=Tt.intensity),Rt.name=dt.createUniqueName(Tt.name||"light_"+lt),St=Promise.resolve(Rt),dt.cache.add(vt,St),St}getDependency(lt,dt){if(lt==="light")return this._loadLight(dt)}createNodeAttachment(lt){const dt=this,vt=this.parser,Et=vt.json.nodes[lt],Ct=(Et.extensions&&Et.extensions[this.name]||{}).light;return Ct===void 0?null:this._loadLight(Ct).then(function(Tt){return vt._getNodeRef(dt.cache,Ct,Tt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(lt,dt,vt){const St=[];lt.color=new Color(1,1,1),lt.opacity=1;const Et=dt.pbrMetallicRoughness;if(Et){if(Array.isArray(Et.baseColorFactor)){const At=Et.baseColorFactor;lt.color.fromArray(At),lt.opacity=At[3]}Et.baseColorTexture!==void 0&&St.push(vt.assignTexture(lt,"map",Et.baseColorTexture,3001))}return Promise.all(St)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(lt,dt){const St=this.parser.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=St.extensions[this.name].emissiveStrength;return Et!==void 0&&(dt.emissiveIntensity=Et),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];if(At.clearcoatFactor!==void 0&&(dt.clearcoat=At.clearcoatFactor),At.clearcoatTexture!==void 0&&Et.push(vt.assignTexture(dt,"clearcoatMap",At.clearcoatTexture)),At.clearcoatRoughnessFactor!==void 0&&(dt.clearcoatRoughness=At.clearcoatRoughnessFactor),At.clearcoatRoughnessTexture!==void 0&&Et.push(vt.assignTexture(dt,"clearcoatRoughnessMap",At.clearcoatRoughnessTexture)),At.clearcoatNormalTexture!==void 0&&(Et.push(vt.assignTexture(dt,"clearcoatNormalMap",At.clearcoatNormalTexture)),At.clearcoatNormalTexture.scale!==void 0)){const Ct=At.clearcoatNormalTexture.scale;dt.clearcoatNormalScale=new Vector2(Ct,Ct)}return Promise.all(Et)}}class GLTFMaterialsIridescenceExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];return At.iridescenceFactor!==void 0&&(dt.iridescence=At.iridescenceFactor),At.iridescenceTexture!==void 0&&Et.push(vt.assignTexture(dt,"iridescenceMap",At.iridescenceTexture)),At.iridescenceIor!==void 0&&(dt.iridescenceIOR=At.iridescenceIor),dt.iridescenceThicknessRange===void 0&&(dt.iridescenceThicknessRange=[100,400]),At.iridescenceThicknessMinimum!==void 0&&(dt.iridescenceThicknessRange[0]=At.iridescenceThicknessMinimum),At.iridescenceThicknessMaximum!==void 0&&(dt.iridescenceThicknessRange[1]=At.iridescenceThicknessMaximum),At.iridescenceThicknessTexture!==void 0&&Et.push(vt.assignTexture(dt,"iridescenceThicknessMap",At.iridescenceThicknessTexture)),Promise.all(Et)}}class GLTFMaterialsSheenExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[];dt.sheenColor=new Color(0,0,0),dt.sheenRoughness=0,dt.sheen=1;const At=St.extensions[this.name];return At.sheenColorFactor!==void 0&&dt.sheenColor.fromArray(At.sheenColorFactor),At.sheenRoughnessFactor!==void 0&&(dt.sheenRoughness=At.sheenRoughnessFactor),At.sheenColorTexture!==void 0&&Et.push(vt.assignTexture(dt,"sheenColorMap",At.sheenColorTexture,3001)),At.sheenRoughnessTexture!==void 0&&Et.push(vt.assignTexture(dt,"sheenRoughnessMap",At.sheenRoughnessTexture)),Promise.all(Et)}}class GLTFMaterialsTransmissionExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];return At.transmissionFactor!==void 0&&(dt.transmission=At.transmissionFactor),At.transmissionTexture!==void 0&&Et.push(vt.assignTexture(dt,"transmissionMap",At.transmissionTexture)),Promise.all(Et)}}class GLTFMaterialsVolumeExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];dt.thickness=At.thicknessFactor!==void 0?At.thicknessFactor:0,At.thicknessTexture!==void 0&&Et.push(vt.assignTexture(dt,"thicknessMap",At.thicknessTexture)),dt.attenuationDistance=At.attenuationDistance||1/0;const Ct=At.attenuationColor||[1,1,1];return dt.attenuationColor=new Color(Ct[0],Ct[1],Ct[2]),Promise.all(Et)}}class GLTFMaterialsIorExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const St=this.parser.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=St.extensions[this.name];return dt.ior=Et.ior!==void 0?Et.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];dt.specularIntensity=At.specularFactor!==void 0?At.specularFactor:1,At.specularTexture!==void 0&&Et.push(vt.assignTexture(dt,"specularIntensityMap",At.specularTexture));const Ct=At.specularColorFactor||[1,1,1];return dt.specularColor=new Color(Ct[0],Ct[1],Ct[2]),At.specularColorTexture!==void 0&&Et.push(vt.assignTexture(dt,"specularColorMap",At.specularColorTexture,3001)),Promise.all(Et)}}class GLTFMaterialsAnisotropyExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(lt){const vt=this.parser.json.materials[lt];return!vt.extensions||!vt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,dt){const vt=this.parser,St=vt.json.materials[lt];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const Et=[],At=St.extensions[this.name];return At.anisotropyStrength!==void 0&&(dt.anisotropy=At.anisotropyStrength),At.anisotropyRotation!==void 0&&(dt.anisotropyRotation=At.anisotropyRotation),At.anisotropyTexture!==void 0&&Et.push(vt.assignTexture(dt,"anisotropyMap",At.anisotropyTexture)),Promise.all(Et)}}class GLTFTextureBasisUExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(lt){const dt=this.parser,vt=dt.json,St=vt.textures[lt];if(!St.extensions||!St.extensions[this.name])return null;const Et=St.extensions[this.name],At=dt.options.ktx2Loader;if(!At){if(vt.extensionsRequired&&vt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return dt.loadTextureImage(lt,Et.source,At)}}class GLTFTextureWebPExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(lt){const dt=this.name,vt=this.parser,St=vt.json,Et=St.textures[lt];if(!Et.extensions||!Et.extensions[dt])return null;const At=Et.extensions[dt],Ct=St.images[At.source];let Tt=vt.textureLoader;if(Ct.uri){const Rt=vt.options.manager.getHandler(Ct.uri);Rt!==null&&(Tt=Rt)}return this.detectSupport().then(function(Rt){if(Rt)return vt.loadTextureImage(lt,At.source,Tt);if(St.extensionsRequired&&St.extensionsRequired.indexOf(dt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return vt.loadTexture(lt)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(lt){const dt=new Image;dt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",dt.onload=dt.onerror=function(){lt(dt.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(lt){const dt=this.name,vt=this.parser,St=vt.json,Et=St.textures[lt];if(!Et.extensions||!Et.extensions[dt])return null;const At=Et.extensions[dt],Ct=St.images[At.source];let Tt=vt.textureLoader;if(Ct.uri){const Rt=vt.options.manager.getHandler(Ct.uri);Rt!==null&&(Tt=Rt)}return this.detectSupport().then(function(Rt){if(Rt)return vt.loadTextureImage(lt,At.source,Tt);if(St.extensionsRequired&&St.extensionsRequired.indexOf(dt)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return vt.loadTexture(lt)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(lt){const dt=new Image;dt.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",dt.onload=dt.onerror=function(){lt(dt.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(lt){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=lt}loadBufferView(lt){const dt=this.parser.json,vt=dt.bufferViews[lt];if(vt.extensions&&vt.extensions[this.name]){const St=vt.extensions[this.name],Et=this.parser.getDependency("buffer",St.buffer),At=this.parser.options.meshoptDecoder;if(!At||!At.supported){if(dt.extensionsRequired&&dt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Et.then(function(Ct){const Tt=St.byteOffset||0,Rt=St.byteLength||0,Bt=St.count,Dt=St.byteStride,Ft=new Uint8Array(Ct,Tt,Rt);return At.decodeGltfBufferAsync?At.decodeGltfBufferAsync(Bt,Dt,Ft,St.mode,St.filter).then(function(kt){return kt.buffer}):At.ready.then(function(){const kt=new ArrayBuffer(Bt*Dt);return At.decodeGltfBuffer(new Uint8Array(kt),Bt,Dt,Ft,St.mode,St.filter),kt})})}else return null}}class GLTFMeshGpuInstancing{constructor(lt){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=lt}createNodeMesh(lt){const dt=this.parser.json,vt=dt.nodes[lt];if(!vt.extensions||!vt.extensions[this.name]||vt.mesh===void 0)return null;const St=dt.meshes[vt.mesh];for(const Rt of St.primitives)if(Rt.mode!==WEBGL_CONSTANTS.TRIANGLES&&Rt.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&Rt.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&Rt.mode!==void 0)return null;const At=vt.extensions[this.name].attributes,Ct=[],Tt={};for(const Rt in At)Ct.push(this.parser.getDependency("accessor",At[Rt]).then(Bt=>(Tt[Rt]=Bt,Tt[Rt])));return Ct.length<1?null:(Ct.push(this.parser.createNodeMesh(lt)),Promise.all(Ct).then(Rt=>{const Bt=Rt.pop(),Dt=Bt.isGroup?Bt.children:[Bt],Ft=Rt[0].count,kt=[];for(const Ut of Dt){const Kt=new Matrix4,tr=new Vector3,Wt=new Quaternion,Zt=new Vector3(1,1,1),Ht=new InstancedMesh(Ut.geometry,Ut.material,Ft);for(let nr=0;nr<Ft;nr++)Tt.TRANSLATION&&tr.fromBufferAttribute(Tt.TRANSLATION,nr),Tt.ROTATION&&Wt.fromBufferAttribute(Tt.ROTATION,nr),Tt.SCALE&&Zt.fromBufferAttribute(Tt.SCALE,nr),Ht.setMatrixAt(nr,Kt.compose(tr,Wt,Zt));for(const nr in Tt)nr!=="TRANSLATION"&&nr!=="ROTATION"&&nr!=="SCALE"&&Ut.geometry.setAttribute(nr,Tt[nr]);Object3D.prototype.copy.call(Ht,Ut),this.parser.assignFinalMaterial(Ht),kt.push(Ht)}return Bt.isGroup?(Bt.clear(),Bt.add(...kt),Bt):kt[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(lt){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const dt=new DataView(lt,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(lt.slice(0,4))),version:dt.getUint32(4,!0),length:dt.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const vt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,St=new DataView(lt,BINARY_EXTENSION_HEADER_LENGTH);let Et=0;for(;Et<vt;){const At=St.getUint32(Et,!0);Et+=4;const Ct=St.getUint32(Et,!0);if(Et+=4,Ct===BINARY_EXTENSION_CHUNK_TYPES.JSON){const Tt=new Uint8Array(lt,BINARY_EXTENSION_HEADER_LENGTH+Et,At);this.content=LoaderUtils.decodeText(Tt)}else if(Ct===BINARY_EXTENSION_CHUNK_TYPES.BIN){const Tt=BINARY_EXTENSION_HEADER_LENGTH+Et;this.body=lt.slice(Tt,Tt+At)}Et+=At}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(lt,dt){if(!dt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=lt,this.dracoLoader=dt,this.dracoLoader.preload()}decodePrimitive(lt,dt){const vt=this.json,St=this.dracoLoader,Et=lt.extensions[this.name].bufferView,At=lt.extensions[this.name].attributes,Ct={},Tt={},Rt={};for(const Bt in At){const Dt=ATTRIBUTES[Bt]||Bt.toLowerCase();Ct[Dt]=At[Bt]}for(const Bt in lt.attributes){const Dt=ATTRIBUTES[Bt]||Bt.toLowerCase();if(At[Bt]!==void 0){const Ft=vt.accessors[lt.attributes[Bt]],kt=WEBGL_COMPONENT_TYPES[Ft.componentType];Rt[Dt]=kt.name,Tt[Dt]=Ft.normalized===!0}}return dt.getDependency("bufferView",Et).then(function(Bt){return new Promise(function(Dt){St.decodeDracoFile(Bt,function(Ft){for(const kt in Ft.attributes){const Ut=Ft.attributes[kt],Kt=Tt[kt];Kt!==void 0&&(Ut.normalized=Kt)}Dt(Ft)},Ct,Rt)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(lt,dt){return(dt.texCoord===void 0||dt.texCoord===lt.channel)&&dt.offset===void 0&&dt.rotation===void 0&&dt.scale===void 0||(lt=lt.clone(),dt.texCoord!==void 0&&(lt.channel=dt.texCoord),dt.offset!==void 0&&lt.offset.fromArray(dt.offset),dt.rotation!==void 0&&(lt.rotation=dt.rotation),dt.scale!==void 0&&lt.repeat.fromArray(dt.scale),lt.needsUpdate=!0),lt}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(lt,dt,vt,St){super(lt,dt,vt,St)}copySampleValue_(lt){const dt=this.resultBuffer,vt=this.sampleValues,St=this.valueSize,Et=lt*St*3+St;for(let At=0;At!==St;At++)dt[At]=vt[Et+At];return dt}interpolate_(lt,dt,vt,St){const Et=this.resultBuffer,At=this.sampleValues,Ct=this.valueSize,Tt=Ct*2,Rt=Ct*3,Bt=St-dt,Dt=(vt-dt)/Bt,Ft=Dt*Dt,kt=Ft*Dt,Ut=lt*Rt,Kt=Ut-Rt,tr=-2*kt+3*Ft,Wt=kt-Ft,Zt=1-tr,Ht=Wt-Ft+Dt;for(let nr=0;nr!==Ct;nr++){const sr=At[Kt+nr+Ct],ar=At[Kt+nr+Tt]*Bt,ir=At[Ut+nr+Ct],rr=At[Ut+nr]*Bt;Et[nr]=Zt*sr+Ht*ar+tr*ir+Wt*rr}return Et}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(lt,dt,vt,St){const Et=super.interpolate_(lt,dt,vt,St);return _q.fromArray(Et).normalize().toArray(Et),Et}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...REVISION.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(ft){return ft.DefaultMaterial===void 0&&(ft.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),ft.DefaultMaterial}function addUnknownExtensionsToUserData(ft,lt,dt){for(const vt in dt.extensions)ft[vt]===void 0&&(lt.userData.gltfExtensions=lt.userData.gltfExtensions||{},lt.userData.gltfExtensions[vt]=dt.extensions[vt])}function assignExtrasToUserData(ft,lt){lt.extras!==void 0&&(typeof lt.extras=="object"?Object.assign(ft.userData,lt.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+lt.extras))}function addMorphTargets(ft,lt,dt){let vt=!1,St=!1,Et=!1;for(let Rt=0,Bt=lt.length;Rt<Bt;Rt++){const Dt=lt[Rt];if(Dt.POSITION!==void 0&&(vt=!0),Dt.NORMAL!==void 0&&(St=!0),Dt.COLOR_0!==void 0&&(Et=!0),vt&&St&&Et)break}if(!vt&&!St&&!Et)return Promise.resolve(ft);const At=[],Ct=[],Tt=[];for(let Rt=0,Bt=lt.length;Rt<Bt;Rt++){const Dt=lt[Rt];if(vt){const Ft=Dt.POSITION!==void 0?dt.getDependency("accessor",Dt.POSITION):ft.attributes.position;At.push(Ft)}if(St){const Ft=Dt.NORMAL!==void 0?dt.getDependency("accessor",Dt.NORMAL):ft.attributes.normal;Ct.push(Ft)}if(Et){const Ft=Dt.COLOR_0!==void 0?dt.getDependency("accessor",Dt.COLOR_0):ft.attributes.color;Tt.push(Ft)}}return Promise.all([Promise.all(At),Promise.all(Ct),Promise.all(Tt)]).then(function(Rt){const Bt=Rt[0],Dt=Rt[1],Ft=Rt[2];return vt&&(ft.morphAttributes.position=Bt),St&&(ft.morphAttributes.normal=Dt),Et&&(ft.morphAttributes.color=Ft),ft.morphTargetsRelative=!0,ft})}function updateMorphTargets(ft,lt){if(ft.updateMorphTargets(),lt.weights!==void 0)for(let dt=0,vt=lt.weights.length;dt<vt;dt++)ft.morphTargetInfluences[dt]=lt.weights[dt];if(lt.extras&&Array.isArray(lt.extras.targetNames)){const dt=lt.extras.targetNames;if(ft.morphTargetInfluences.length===dt.length){ft.morphTargetDictionary={};for(let vt=0,St=dt.length;vt<St;vt++)ft.morphTargetDictionary[dt[vt]]=vt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(ft){let lt;const dt=ft.extensions&&ft.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(dt?lt="draco:"+dt.bufferView+":"+dt.indices+":"+createAttributesKey(dt.attributes):lt=ft.indices+":"+createAttributesKey(ft.attributes)+":"+ft.mode,ft.targets!==void 0)for(let vt=0,St=ft.targets.length;vt<St;vt++)lt+=":"+createAttributesKey(ft.targets[vt]);return lt}function createAttributesKey(ft){let lt="";const dt=Object.keys(ft).sort();for(let vt=0,St=dt.length;vt<St;vt++)lt+=dt[vt]+":"+ft[dt[vt]]+";";return lt}function getNormalizedComponentScale(ft){switch(ft){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(ft){return ft.search(/\.jpe?g($|\?)/i)>0||ft.search(/^data\:image\/jpeg/)===0?"image/jpeg":ft.search(/\.webp($|\?)/i)>0||ft.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(lt={},dt={}){this.json=lt,this.extensions={},this.plugins={},this.options=dt,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let vt=!1,St=!1,Et=-1;typeof navigator<"u"&&(vt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,St=navigator.userAgent.indexOf("Firefox")>-1,Et=St?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||vt||St&&Et<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(lt){this.extensions=lt}setPlugins(lt){this.plugins=lt}parse(lt,dt){const vt=this,St=this.json,Et=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(At){return At._markDefs&&At._markDefs()}),Promise.all(this._invokeAll(function(At){return At.beforeRoot&&At.beforeRoot()})).then(function(){return Promise.all([vt.getDependencies("scene"),vt.getDependencies("animation"),vt.getDependencies("camera")])}).then(function(At){const Ct={scene:At[0][St.scene||0],scenes:At[0],animations:At[1],cameras:At[2],asset:St.asset,parser:vt,userData:{}};addUnknownExtensionsToUserData(Et,Ct,St),assignExtrasToUserData(Ct,St),Promise.all(vt._invokeAll(function(Tt){return Tt.afterRoot&&Tt.afterRoot(Ct)})).then(function(){lt(Ct)})}).catch(dt)}_markDefs(){const lt=this.json.nodes||[],dt=this.json.skins||[],vt=this.json.meshes||[];for(let St=0,Et=dt.length;St<Et;St++){const At=dt[St].joints;for(let Ct=0,Tt=At.length;Ct<Tt;Ct++)lt[At[Ct]].isBone=!0}for(let St=0,Et=lt.length;St<Et;St++){const At=lt[St];At.mesh!==void 0&&(this._addNodeRef(this.meshCache,At.mesh),At.skin!==void 0&&(vt[At.mesh].isSkinnedMesh=!0)),At.camera!==void 0&&this._addNodeRef(this.cameraCache,At.camera)}}_addNodeRef(lt,dt){dt!==void 0&&(lt.refs[dt]===void 0&&(lt.refs[dt]=lt.uses[dt]=0),lt.refs[dt]++)}_getNodeRef(lt,dt,vt){if(lt.refs[dt]<=1)return vt;const St=vt.clone(),Et=(At,Ct)=>{const Tt=this.associations.get(At);Tt!=null&&this.associations.set(Ct,Tt);for(const[Rt,Bt]of At.children.entries())Et(Bt,Ct.children[Rt])};return Et(vt,St),St.name+="_instance_"+lt.uses[dt]++,St}_invokeOne(lt){const dt=Object.values(this.plugins);dt.push(this);for(let vt=0;vt<dt.length;vt++){const St=lt(dt[vt]);if(St)return St}return null}_invokeAll(lt){const dt=Object.values(this.plugins);dt.unshift(this);const vt=[];for(let St=0;St<dt.length;St++){const Et=lt(dt[St]);Et&&vt.push(Et)}return vt}getDependency(lt,dt){const vt=lt+":"+dt;let St=this.cache.get(vt);if(!St){switch(lt){case"scene":St=this.loadScene(dt);break;case"node":St=this._invokeOne(function(Et){return Et.loadNode&&Et.loadNode(dt)});break;case"mesh":St=this._invokeOne(function(Et){return Et.loadMesh&&Et.loadMesh(dt)});break;case"accessor":St=this.loadAccessor(dt);break;case"bufferView":St=this._invokeOne(function(Et){return Et.loadBufferView&&Et.loadBufferView(dt)});break;case"buffer":St=this.loadBuffer(dt);break;case"material":St=this._invokeOne(function(Et){return Et.loadMaterial&&Et.loadMaterial(dt)});break;case"texture":St=this._invokeOne(function(Et){return Et.loadTexture&&Et.loadTexture(dt)});break;case"skin":St=this.loadSkin(dt);break;case"animation":St=this._invokeOne(function(Et){return Et.loadAnimation&&Et.loadAnimation(dt)});break;case"camera":St=this.loadCamera(dt);break;default:if(St=this._invokeOne(function(Et){return Et!=this&&Et.getDependency&&Et.getDependency(lt,dt)}),!St)throw new Error("Unknown type: "+lt);break}this.cache.add(vt,St)}return St}getDependencies(lt){let dt=this.cache.get(lt);if(!dt){const vt=this,St=this.json[lt+(lt==="mesh"?"es":"s")]||[];dt=Promise.all(St.map(function(Et,At){return vt.getDependency(lt,At)})),this.cache.add(lt,dt)}return dt}loadBuffer(lt){const dt=this.json.buffers[lt],vt=this.fileLoader;if(dt.type&&dt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+dt.type+" buffer type is not supported.");if(dt.uri===void 0&&lt===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const St=this.options;return new Promise(function(Et,At){vt.load(LoaderUtils.resolveURL(dt.uri,St.path),Et,void 0,function(){At(new Error('THREE.GLTFLoader: Failed to load buffer "'+dt.uri+'".'))})})}loadBufferView(lt){const dt=this.json.bufferViews[lt];return this.getDependency("buffer",dt.buffer).then(function(vt){const St=dt.byteLength||0,Et=dt.byteOffset||0;return vt.slice(Et,Et+St)})}loadAccessor(lt){const dt=this,vt=this.json,St=this.json.accessors[lt];if(St.bufferView===void 0&&St.sparse===void 0){const At=WEBGL_TYPE_SIZES[St.type],Ct=WEBGL_COMPONENT_TYPES[St.componentType],Tt=St.normalized===!0,Rt=new Ct(St.count*At);return Promise.resolve(new BufferAttribute(Rt,At,Tt))}const Et=[];return St.bufferView!==void 0?Et.push(this.getDependency("bufferView",St.bufferView)):Et.push(null),St.sparse!==void 0&&(Et.push(this.getDependency("bufferView",St.sparse.indices.bufferView)),Et.push(this.getDependency("bufferView",St.sparse.values.bufferView))),Promise.all(Et).then(function(At){const Ct=At[0],Tt=WEBGL_TYPE_SIZES[St.type],Rt=WEBGL_COMPONENT_TYPES[St.componentType],Bt=Rt.BYTES_PER_ELEMENT,Dt=Bt*Tt,Ft=St.byteOffset||0,kt=St.bufferView!==void 0?vt.bufferViews[St.bufferView].byteStride:void 0,Ut=St.normalized===!0;let Kt,tr;if(kt&&kt!==Dt){const Wt=Math.floor(Ft/kt),Zt="InterleavedBuffer:"+St.bufferView+":"+St.componentType+":"+Wt+":"+St.count;let Ht=dt.cache.get(Zt);Ht||(Kt=new Rt(Ct,Wt*kt,St.count*kt/Bt),Ht=new InterleavedBuffer(Kt,kt/Bt),dt.cache.add(Zt,Ht)),tr=new InterleavedBufferAttribute(Ht,Tt,Ft%kt/Bt,Ut)}else Ct===null?Kt=new Rt(St.count*Tt):Kt=new Rt(Ct,Ft,St.count*Tt),tr=new BufferAttribute(Kt,Tt,Ut);if(St.sparse!==void 0){const Wt=WEBGL_TYPE_SIZES.SCALAR,Zt=WEBGL_COMPONENT_TYPES[St.sparse.indices.componentType],Ht=St.sparse.indices.byteOffset||0,nr=St.sparse.values.byteOffset||0,sr=new Zt(At[1],Ht,St.sparse.count*Wt),ar=new Rt(At[2],nr,St.sparse.count*Tt);Ct!==null&&(tr=new BufferAttribute(tr.array.slice(),tr.itemSize,tr.normalized));for(let ir=0,rr=sr.length;ir<rr;ir++){const lr=sr[ir];if(tr.setX(lr,ar[ir*Tt]),Tt>=2&&tr.setY(lr,ar[ir*Tt+1]),Tt>=3&&tr.setZ(lr,ar[ir*Tt+2]),Tt>=4&&tr.setW(lr,ar[ir*Tt+3]),Tt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return tr})}loadTexture(lt){const dt=this.json,vt=this.options,Et=dt.textures[lt].source,At=dt.images[Et];let Ct=this.textureLoader;if(At.uri){const Tt=vt.manager.getHandler(At.uri);Tt!==null&&(Ct=Tt)}return this.loadTextureImage(lt,Et,Ct)}loadTextureImage(lt,dt,vt){const St=this,Et=this.json,At=Et.textures[lt],Ct=Et.images[dt],Tt=(Ct.uri||Ct.bufferView)+":"+At.sampler;if(this.textureCache[Tt])return this.textureCache[Tt];const Rt=this.loadImageSource(dt,vt).then(function(Bt){Bt.flipY=!1,Bt.name=At.name||Ct.name||"",Bt.name===""&&typeof Ct.uri=="string"&&Ct.uri.startsWith("data:image/")===!1&&(Bt.name=Ct.uri);const Ft=(Et.samplers||{})[At.sampler]||{};return Bt.magFilter=WEBGL_FILTERS[Ft.magFilter]||LinearFilter,Bt.minFilter=WEBGL_FILTERS[Ft.minFilter]||LinearMipmapLinearFilter,Bt.wrapS=WEBGL_WRAPPINGS[Ft.wrapS]||RepeatWrapping,Bt.wrapT=WEBGL_WRAPPINGS[Ft.wrapT]||RepeatWrapping,St.associations.set(Bt,{textures:lt}),Bt}).catch(function(){return null});return this.textureCache[Tt]=Rt,Rt}loadImageSource(lt,dt){const vt=this,St=this.json,Et=this.options;if(this.sourceCache[lt]!==void 0)return this.sourceCache[lt].then(Dt=>Dt.clone());const At=St.images[lt],Ct=self.URL||self.webkitURL;let Tt=At.uri||"",Rt=!1;if(At.bufferView!==void 0)Tt=vt.getDependency("bufferView",At.bufferView).then(function(Dt){Rt=!0;const Ft=new Blob([Dt],{type:At.mimeType});return Tt=Ct.createObjectURL(Ft),Tt});else if(At.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+lt+" is missing URI and bufferView");const Bt=Promise.resolve(Tt).then(function(Dt){return new Promise(function(Ft,kt){let Ut=Ft;dt.isImageBitmapLoader===!0&&(Ut=function(Kt){const tr=new Texture(Kt);tr.needsUpdate=!0,Ft(tr)}),dt.load(LoaderUtils.resolveURL(Dt,Et.path),Ut,void 0,kt)})}).then(function(Dt){return Rt===!0&&Ct.revokeObjectURL(Tt),Dt.userData.mimeType=At.mimeType||getImageURIMimeType(At.uri),Dt}).catch(function(Dt){throw console.error("THREE.GLTFLoader: Couldn't load texture",Tt),Dt});return this.sourceCache[lt]=Bt,Bt}assignTexture(lt,dt,vt,St){const Et=this;return this.getDependency("texture",vt.index).then(function(At){if(!At)return null;if(vt.texCoord!==void 0&&vt.texCoord>0&&(At=At.clone(),At.channel=vt.texCoord),Et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const Ct=vt.extensions!==void 0?vt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(Ct){const Tt=Et.associations.get(At);At=Et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(At,Ct),Et.associations.set(At,Tt)}}return St!==void 0&&("colorSpace"in At?At.colorSpace=St===3001?"srgb":"srgb-linear":At.encoding=St),lt[dt]=At,At})}assignFinalMaterial(lt){const dt=lt.geometry;let vt=lt.material;const St=dt.attributes.tangent===void 0,Et=dt.attributes.color!==void 0,At=dt.attributes.normal===void 0;if(lt.isPoints){const Ct="PointsMaterial:"+vt.uuid;let Tt=this.cache.get(Ct);Tt||(Tt=new PointsMaterial,Material.prototype.copy.call(Tt,vt),Tt.color.copy(vt.color),Tt.map=vt.map,Tt.sizeAttenuation=!1,this.cache.add(Ct,Tt)),vt=Tt}else if(lt.isLine){const Ct="LineBasicMaterial:"+vt.uuid;let Tt=this.cache.get(Ct);Tt||(Tt=new LineBasicMaterial,Material.prototype.copy.call(Tt,vt),Tt.color.copy(vt.color),Tt.map=vt.map,this.cache.add(Ct,Tt)),vt=Tt}if(St||Et||At){let Ct="ClonedMaterial:"+vt.uuid+":";St&&(Ct+="derivative-tangents:"),Et&&(Ct+="vertex-colors:"),At&&(Ct+="flat-shading:");let Tt=this.cache.get(Ct);Tt||(Tt=vt.clone(),Et&&(Tt.vertexColors=!0),At&&(Tt.flatShading=!0),St&&(Tt.normalScale&&(Tt.normalScale.y*=-1),Tt.clearcoatNormalScale&&(Tt.clearcoatNormalScale.y*=-1)),this.cache.add(Ct,Tt),this.associations.set(Tt,this.associations.get(vt))),vt=Tt}lt.material=vt}getMaterialType(){return MeshStandardMaterial}loadMaterial(lt){const dt=this,vt=this.json,St=this.extensions,Et=vt.materials[lt];let At;const Ct={},Tt=Et.extensions||{},Rt=[];if(Tt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const Dt=St[EXTENSIONS.KHR_MATERIALS_UNLIT];At=Dt.getMaterialType(),Rt.push(Dt.extendParams(Ct,Et,dt))}else{const Dt=Et.pbrMetallicRoughness||{};if(Ct.color=new Color(1,1,1),Ct.opacity=1,Array.isArray(Dt.baseColorFactor)){const Ft=Dt.baseColorFactor;Ct.color.fromArray(Ft),Ct.opacity=Ft[3]}Dt.baseColorTexture!==void 0&&Rt.push(dt.assignTexture(Ct,"map",Dt.baseColorTexture,3001)),Ct.metalness=Dt.metallicFactor!==void 0?Dt.metallicFactor:1,Ct.roughness=Dt.roughnessFactor!==void 0?Dt.roughnessFactor:1,Dt.metallicRoughnessTexture!==void 0&&(Rt.push(dt.assignTexture(Ct,"metalnessMap",Dt.metallicRoughnessTexture)),Rt.push(dt.assignTexture(Ct,"roughnessMap",Dt.metallicRoughnessTexture))),At=this._invokeOne(function(Ft){return Ft.getMaterialType&&Ft.getMaterialType(lt)}),Rt.push(Promise.all(this._invokeAll(function(Ft){return Ft.extendMaterialParams&&Ft.extendMaterialParams(lt,Ct)})))}Et.doubleSided===!0&&(Ct.side=DoubleSide);const Bt=Et.alphaMode||ALPHA_MODES.OPAQUE;if(Bt===ALPHA_MODES.BLEND?(Ct.transparent=!0,Ct.depthWrite=!1):(Ct.transparent=!1,Bt===ALPHA_MODES.MASK&&(Ct.alphaTest=Et.alphaCutoff!==void 0?Et.alphaCutoff:.5)),Et.normalTexture!==void 0&&At!==MeshBasicMaterial&&(Rt.push(dt.assignTexture(Ct,"normalMap",Et.normalTexture)),Ct.normalScale=new Vector2(1,1),Et.normalTexture.scale!==void 0)){const Dt=Et.normalTexture.scale;Ct.normalScale.set(Dt,Dt)}return Et.occlusionTexture!==void 0&&At!==MeshBasicMaterial&&(Rt.push(dt.assignTexture(Ct,"aoMap",Et.occlusionTexture)),Et.occlusionTexture.strength!==void 0&&(Ct.aoMapIntensity=Et.occlusionTexture.strength)),Et.emissiveFactor!==void 0&&At!==MeshBasicMaterial&&(Ct.emissive=new Color().fromArray(Et.emissiveFactor)),Et.emissiveTexture!==void 0&&At!==MeshBasicMaterial&&Rt.push(dt.assignTexture(Ct,"emissiveMap",Et.emissiveTexture,3001)),Promise.all(Rt).then(function(){const Dt=new At(Ct);return Et.name&&(Dt.name=Et.name),assignExtrasToUserData(Dt,Et),dt.associations.set(Dt,{materials:lt}),Et.extensions&&addUnknownExtensionsToUserData(St,Dt,Et),Dt})}createUniqueName(lt){const dt=PropertyBinding.sanitizeNodeName(lt||"");return dt in this.nodeNamesUsed?dt+"_"+ ++this.nodeNamesUsed[dt]:(this.nodeNamesUsed[dt]=0,dt)}loadGeometries(lt){const dt=this,vt=this.extensions,St=this.primitiveCache;function Et(Ct){return vt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(Ct,dt).then(function(Tt){return addPrimitiveAttributes(Tt,Ct,dt)})}const At=[];for(let Ct=0,Tt=lt.length;Ct<Tt;Ct++){const Rt=lt[Ct],Bt=createPrimitiveKey(Rt),Dt=St[Bt];if(Dt)At.push(Dt.promise);else{let Ft;Rt.extensions&&Rt.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?Ft=Et(Rt):Ft=addPrimitiveAttributes(new BufferGeometry,Rt,dt),St[Bt]={primitive:Rt,promise:Ft},At.push(Ft)}}return Promise.all(At)}loadMesh(lt){const dt=this,vt=this.json,St=this.extensions,Et=vt.meshes[lt],At=Et.primitives,Ct=[];for(let Tt=0,Rt=At.length;Tt<Rt;Tt++){const Bt=At[Tt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",At[Tt].material);Ct.push(Bt)}return Ct.push(dt.loadGeometries(At)),Promise.all(Ct).then(function(Tt){const Rt=Tt.slice(0,Tt.length-1),Bt=Tt[Tt.length-1],Dt=[];for(let kt=0,Ut=Bt.length;kt<Ut;kt++){const Kt=Bt[kt],tr=At[kt];let Wt;const Zt=Rt[kt];if(tr.mode===WEBGL_CONSTANTS.TRIANGLES||tr.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||tr.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||tr.mode===void 0)Wt=Et.isSkinnedMesh===!0?new SkinnedMesh(Kt,Zt):new Mesh(Kt,Zt),Wt.isSkinnedMesh===!0&&Wt.normalizeSkinWeights(),tr.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?Wt.geometry=toTrianglesDrawMode(Wt.geometry,TriangleStripDrawMode):tr.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(Wt.geometry=toTrianglesDrawMode(Wt.geometry,TriangleFanDrawMode));else if(tr.mode===WEBGL_CONSTANTS.LINES)Wt=new LineSegments(Kt,Zt);else if(tr.mode===WEBGL_CONSTANTS.LINE_STRIP)Wt=new Line$1(Kt,Zt);else if(tr.mode===WEBGL_CONSTANTS.LINE_LOOP)Wt=new LineLoop(Kt,Zt);else if(tr.mode===WEBGL_CONSTANTS.POINTS)Wt=new Points(Kt,Zt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+tr.mode);Object.keys(Wt.geometry.morphAttributes).length>0&&updateMorphTargets(Wt,Et),Wt.name=dt.createUniqueName(Et.name||"mesh_"+lt),assignExtrasToUserData(Wt,Et),tr.extensions&&addUnknownExtensionsToUserData(St,Wt,tr),dt.assignFinalMaterial(Wt),Dt.push(Wt)}for(let kt=0,Ut=Dt.length;kt<Ut;kt++)dt.associations.set(Dt[kt],{meshes:lt,primitives:kt});if(Dt.length===1)return Et.extensions&&addUnknownExtensionsToUserData(St,Dt[0],Et),Dt[0];const Ft=new Group;Et.extensions&&addUnknownExtensionsToUserData(St,Ft,Et),dt.associations.set(Ft,{meshes:lt});for(let kt=0,Ut=Dt.length;kt<Ut;kt++)Ft.add(Dt[kt]);return Ft})}loadCamera(lt){let dt;const vt=this.json.cameras[lt],St=vt[vt.type];if(!St){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return vt.type==="perspective"?dt=new PerspectiveCamera$1(MathUtils.radToDeg(St.yfov),St.aspectRatio||1,St.znear||1,St.zfar||2e6):vt.type==="orthographic"&&(dt=new OrthographicCamera(-St.xmag,St.xmag,St.ymag,-St.ymag,St.znear,St.zfar)),vt.name&&(dt.name=this.createUniqueName(vt.name)),assignExtrasToUserData(dt,vt),Promise.resolve(dt)}loadSkin(lt){const dt=this.json.skins[lt],vt=[];for(let St=0,Et=dt.joints.length;St<Et;St++)vt.push(this._loadNodeShallow(dt.joints[St]));return dt.inverseBindMatrices!==void 0?vt.push(this.getDependency("accessor",dt.inverseBindMatrices)):vt.push(null),Promise.all(vt).then(function(St){const Et=St.pop(),At=St,Ct=[],Tt=[];for(let Rt=0,Bt=At.length;Rt<Bt;Rt++){const Dt=At[Rt];if(Dt){Ct.push(Dt);const Ft=new Matrix4;Et!==null&&Ft.fromArray(Et.array,Rt*16),Tt.push(Ft)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',dt.joints[Rt])}return new Skeleton(Ct,Tt)})}loadAnimation(lt){const vt=this.json.animations[lt],St=vt.name?vt.name:"animation_"+lt,Et=[],At=[],Ct=[],Tt=[],Rt=[];for(let Bt=0,Dt=vt.channels.length;Bt<Dt;Bt++){const Ft=vt.channels[Bt],kt=vt.samplers[Ft.sampler],Ut=Ft.target,Kt=Ut.node,tr=vt.parameters!==void 0?vt.parameters[kt.input]:kt.input,Wt=vt.parameters!==void 0?vt.parameters[kt.output]:kt.output;Ut.node!==void 0&&(Et.push(this.getDependency("node",Kt)),At.push(this.getDependency("accessor",tr)),Ct.push(this.getDependency("accessor",Wt)),Tt.push(kt),Rt.push(Ut))}return Promise.all([Promise.all(Et),Promise.all(At),Promise.all(Ct),Promise.all(Tt),Promise.all(Rt)]).then(function(Bt){const Dt=Bt[0],Ft=Bt[1],kt=Bt[2],Ut=Bt[3],Kt=Bt[4],tr=[];for(let Wt=0,Zt=Dt.length;Wt<Zt;Wt++){const Ht=Dt[Wt],nr=Ft[Wt],sr=kt[Wt],ar=Ut[Wt],ir=Kt[Wt];if(Ht===void 0)continue;Ht.updateMatrix();let rr;switch(PATH_PROPERTIES[ir.path]){case PATH_PROPERTIES.weights:rr=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:rr=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:rr=VectorKeyframeTrack;break}const lr=Ht.name?Ht.name:Ht.uuid,ur=ar.interpolation!==void 0?INTERPOLATION[ar.interpolation]:InterpolateLinear,dr=[];PATH_PROPERTIES[ir.path]===PATH_PROPERTIES.weights?Ht.traverse(function(Cr){Cr.morphTargetInfluences&&dr.push(Cr.name?Cr.name:Cr.uuid)}):dr.push(lr);let mr=sr.array;if(sr.normalized){const Cr=getNormalizedComponentScale(mr.constructor),yr=new Float32Array(mr.length);for(let xr=0,Sr=mr.length;xr<Sr;xr++)yr[xr]=mr[xr]*Cr;mr=yr}for(let Cr=0,yr=dr.length;Cr<yr;Cr++){const xr=new rr(dr[Cr]+"."+PATH_PROPERTIES[ir.path],nr.array,mr,ur);ar.interpolation==="CUBICSPLINE"&&(xr.createInterpolant=function(br){const cr=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new cr(this.times,this.values,this.getValueSize()/3,br)},xr.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),tr.push(xr)}}return new AnimationClip(St,void 0,tr)})}createNodeMesh(lt){const dt=this.json,vt=this,St=dt.nodes[lt];return St.mesh===void 0?null:vt.getDependency("mesh",St.mesh).then(function(Et){const At=vt._getNodeRef(vt.meshCache,St.mesh,Et);return St.weights!==void 0&&At.traverse(function(Ct){if(Ct.isMesh)for(let Tt=0,Rt=St.weights.length;Tt<Rt;Tt++)Ct.morphTargetInfluences[Tt]=St.weights[Tt]}),At})}loadNode(lt){const dt=this.json,vt=this,St=dt.nodes[lt],Et=vt._loadNodeShallow(lt),At=[],Ct=St.children||[];for(let Rt=0,Bt=Ct.length;Rt<Bt;Rt++)At.push(vt.getDependency("node",Ct[Rt]));const Tt=St.skin===void 0?Promise.resolve(null):vt.getDependency("skin",St.skin);return Promise.all([Et,Promise.all(At),Tt]).then(function(Rt){const Bt=Rt[0],Dt=Rt[1],Ft=Rt[2];Ft!==null&&Bt.traverse(function(kt){kt.isSkinnedMesh&&kt.bind(Ft,_identityMatrix)});for(let kt=0,Ut=Dt.length;kt<Ut;kt++)Bt.add(Dt[kt]);return Bt})}_loadNodeShallow(lt){const dt=this.json,vt=this.extensions,St=this;if(this.nodeCache[lt]!==void 0)return this.nodeCache[lt];const Et=dt.nodes[lt],At=Et.name?St.createUniqueName(Et.name):"",Ct=[],Tt=St._invokeOne(function(Rt){return Rt.createNodeMesh&&Rt.createNodeMesh(lt)});return Tt&&Ct.push(Tt),Et.camera!==void 0&&Ct.push(St.getDependency("camera",Et.camera).then(function(Rt){return St._getNodeRef(St.cameraCache,Et.camera,Rt)})),St._invokeAll(function(Rt){return Rt.createNodeAttachment&&Rt.createNodeAttachment(lt)}).forEach(function(Rt){Ct.push(Rt)}),this.nodeCache[lt]=Promise.all(Ct).then(function(Rt){let Bt;if(Et.isBone===!0?Bt=new Bone:Rt.length>1?Bt=new Group:Rt.length===1?Bt=Rt[0]:Bt=new Object3D,Bt!==Rt[0])for(let Dt=0,Ft=Rt.length;Dt<Ft;Dt++)Bt.add(Rt[Dt]);if(Et.name&&(Bt.userData.name=Et.name,Bt.name=At),assignExtrasToUserData(Bt,Et),Et.extensions&&addUnknownExtensionsToUserData(vt,Bt,Et),Et.matrix!==void 0){const Dt=new Matrix4;Dt.fromArray(Et.matrix),Bt.applyMatrix4(Dt)}else Et.translation!==void 0&&Bt.position.fromArray(Et.translation),Et.rotation!==void 0&&Bt.quaternion.fromArray(Et.rotation),Et.scale!==void 0&&Bt.scale.fromArray(Et.scale);return St.associations.has(Bt)||St.associations.set(Bt,{}),St.associations.get(Bt).nodes=lt,Bt}),this.nodeCache[lt]}loadScene(lt){const dt=this.extensions,vt=this.json.scenes[lt],St=this,Et=new Group;vt.name&&(Et.name=St.createUniqueName(vt.name)),assignExtrasToUserData(Et,vt),vt.extensions&&addUnknownExtensionsToUserData(dt,Et,vt);const At=vt.nodes||[],Ct=[];for(let Tt=0,Rt=At.length;Tt<Rt;Tt++)Ct.push(St.getDependency("node",At[Tt]));return Promise.all(Ct).then(function(Tt){for(let Bt=0,Dt=Tt.length;Bt<Dt;Bt++)Et.add(Tt[Bt]);const Rt=Bt=>{const Dt=new Map;for(const[Ft,kt]of St.associations)(Ft instanceof Material||Ft instanceof Texture)&&Dt.set(Ft,kt);return Bt.traverse(Ft=>{const kt=St.associations.get(Ft);kt!=null&&Dt.set(Ft,kt)}),Dt};return St.associations=Rt(Et),Et})}}function computeBounds(ft,lt,dt){const vt=lt.attributes,St=new Box3;if(vt.POSITION!==void 0){const Ct=dt.json.accessors[vt.POSITION],Tt=Ct.min,Rt=Ct.max;if(Tt!==void 0&&Rt!==void 0){if(St.set(new Vector3(Tt[0],Tt[1],Tt[2]),new Vector3(Rt[0],Rt[1],Rt[2])),Ct.normalized){const Bt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[Ct.componentType]);St.min.multiplyScalar(Bt),St.max.multiplyScalar(Bt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const Et=lt.targets;if(Et!==void 0){const Ct=new Vector3,Tt=new Vector3;for(let Rt=0,Bt=Et.length;Rt<Bt;Rt++){const Dt=Et[Rt];if(Dt.POSITION!==void 0){const Ft=dt.json.accessors[Dt.POSITION],kt=Ft.min,Ut=Ft.max;if(kt!==void 0&&Ut!==void 0){if(Tt.setX(Math.max(Math.abs(kt[0]),Math.abs(Ut[0]))),Tt.setY(Math.max(Math.abs(kt[1]),Math.abs(Ut[1]))),Tt.setZ(Math.max(Math.abs(kt[2]),Math.abs(Ut[2]))),Ft.normalized){const Kt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[Ft.componentType]);Tt.multiplyScalar(Kt)}Ct.max(Tt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}St.expandByVector(Ct)}ft.boundingBox=St;const At=new Sphere$1;St.getCenter(At.center),At.radius=St.min.distanceTo(St.max)/2,ft.boundingSphere=At}function addPrimitiveAttributes(ft,lt,dt){const vt=lt.attributes,St=[];function Et(At,Ct){return dt.getDependency("accessor",At).then(function(Tt){ft.setAttribute(Ct,Tt)})}for(const At in vt){const Ct=ATTRIBUTES[At]||At.toLowerCase();Ct in ft.attributes||St.push(Et(vt[At],Ct))}if(lt.indices!==void 0&&!ft.index){const At=dt.getDependency("accessor",lt.indices).then(function(Ct){ft.setIndex(Ct)});St.push(At)}return assignExtrasToUserData(ft,lt),computeBounds(ft,lt,dt),Promise.all(St).then(function(){return lt.targets!==void 0?addMorphTargets(ft,lt.targets,dt):ft})}const GammaCorrectionShader={uniforms:{tDiffuse:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 tex = texture2D( tDiffuse, vUv );","	gl_FragColor = LinearTosRGB( tex );","}"].join(`
`)},VignetteShader={uniforms:{tDiffuse:{value:null},offset:{value:1},darkness:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float offset;","uniform float darkness;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );","	gl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );","}"].join(`
`)},_taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(lt){super(lt),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(lt){return this.decoderPath=lt,this}setDecoderConfig(lt){return this.decoderConfig=lt,this}setWorkerLimit(lt){return this.workerLimit=lt,this}load(lt,dt,vt,St){const Et=new FileLoader(this.manager);Et.setPath(this.path),Et.setResponseType("arraybuffer"),Et.setRequestHeader(this.requestHeader),Et.setWithCredentials(this.withCredentials),Et.load(lt,At=>{const Ct={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(At,Ct).then(dt).catch(St)},vt,St)}decodeDracoFile(lt,dt,vt,St){const Et={attributeIDs:vt||this.defaultAttributeIDs,attributeTypes:St||this.defaultAttributeTypes,useUniqueIDs:!!vt};this.decodeGeometry(lt,Et).then(dt)}decodeGeometry(lt,dt){for(const Tt in dt.attributeTypes){const Rt=dt.attributeTypes[Tt];Rt.BYTES_PER_ELEMENT!==void 0&&(dt.attributeTypes[Tt]=Rt.name)}const vt=JSON.stringify(dt);if(_taskCache.has(lt)){const Tt=_taskCache.get(lt);if(Tt.key===vt)return Tt.promise;if(lt.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let St;const Et=this.workerNextTaskID++,At=lt.byteLength,Ct=this._getWorker(Et,At).then(Tt=>(St=Tt,new Promise((Rt,Bt)=>{St._callbacks[Et]={resolve:Rt,reject:Bt},St.postMessage({type:"decode",id:Et,taskConfig:dt,buffer:lt},[lt])}))).then(Tt=>this._createGeometry(Tt.geometry));return Ct.catch(()=>!0).then(()=>{St&&Et&&this._releaseTask(St,Et)}),_taskCache.set(lt,{key:vt,promise:Ct}),Ct}_createGeometry(lt){const dt=new BufferGeometry;lt.index&&dt.setIndex(new BufferAttribute(lt.index.array,1));for(let vt=0;vt<lt.attributes.length;vt++){const St=lt.attributes[vt],Et=St.name,At=St.array,Ct=St.itemSize;dt.setAttribute(Et,new BufferAttribute(At,Ct))}return dt}_loadLibrary(lt,dt){const vt=new FileLoader(this.manager);return vt.setPath(this.decoderPath),vt.setResponseType(dt),vt.setWithCredentials(this.withCredentials),new Promise((St,Et)=>{vt.load(lt,St,void 0,Et)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const lt=typeof WebAssembly!="object"||this.decoderConfig.type==="js",dt=[];return lt?dt.push(this._loadLibrary("draco_decoder.js","text")):(dt.push(this._loadLibrary("draco_wasm_wrapper.js","text")),dt.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(dt).then(vt=>{const St=vt[0];lt||(this.decoderConfig.wasmBinary=vt[1]);const Et=DRACOWorker.toString(),At=["/* draco decoder */",St,"","/* worker */",Et.substring(Et.indexOf("{")+1,Et.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([At]))}),this.decoderPending}_getWorker(lt,dt){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const St=new Worker(this.workerSourceURL);St._callbacks={},St._taskCosts={},St._taskLoad=0,St.postMessage({type:"init",decoderConfig:this.decoderConfig}),St.onmessage=function(Et){const At=Et.data;switch(At.type){case"decode":St._callbacks[At.id].resolve(At);break;case"error":St._callbacks[At.id].reject(At);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+At.type+'"')}},this.workerPool.push(St)}else this.workerPool.sort(function(St,Et){return St._taskLoad>Et._taskLoad?-1:1});const vt=this.workerPool[this.workerPool.length-1];return vt._taskCosts[lt]=dt,vt._taskLoad+=dt,vt})}_releaseTask(lt,dt){lt._taskLoad-=lt._taskCosts[dt],delete lt._callbacks[dt],delete lt._taskCosts[dt]}debug(){console.log("Task load: ",this.workerPool.map(lt=>lt._taskLoad))}dispose(){for(let lt=0;lt<this.workerPool.length;++lt)this.workerPool[lt].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let ft,lt;onmessage=function(At){const Ct=At.data;switch(Ct.type){case"init":ft=Ct.decoderConfig,lt=new Promise(function(Bt){ft.onModuleLoaded=function(Dt){Bt({draco:Dt})},DracoDecoderModule(ft)});break;case"decode":const Tt=Ct.buffer,Rt=Ct.taskConfig;lt.then(Bt=>{const Dt=Bt.draco,Ft=new Dt.Decoder,kt=new Dt.DecoderBuffer;kt.Init(new Int8Array(Tt),Tt.byteLength);try{const Ut=dt(Dt,Ft,kt,Rt),Kt=Ut.attributes.map(tr=>tr.array.buffer);Ut.index&&Kt.push(Ut.index.array.buffer),self.postMessage({type:"decode",id:Ct.id,geometry:Ut},Kt)}catch(Ut){console.error(Ut),self.postMessage({type:"error",id:Ct.id,error:Ut.message})}finally{Dt.destroy(kt),Dt.destroy(Ft)}});break}};function dt(At,Ct,Tt,Rt){const Bt=Rt.attributeIDs,Dt=Rt.attributeTypes;let Ft,kt;const Ut=Ct.GetEncodedGeometryType(Tt);if(Ut===At.TRIANGULAR_MESH)Ft=new At.Mesh,kt=Ct.DecodeBufferToMesh(Tt,Ft);else if(Ut===At.POINT_CLOUD)Ft=new At.PointCloud,kt=Ct.DecodeBufferToPointCloud(Tt,Ft);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!kt.ok()||Ft.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+kt.error_msg());const Kt={index:null,attributes:[]};for(const tr in Bt){const Wt=self[Dt[tr]];let Zt,Ht;if(Rt.useUniqueIDs)Ht=Bt[tr],Zt=Ct.GetAttributeByUniqueId(Ft,Ht);else{if(Ht=Ct.GetAttributeId(Ft,At[Bt[tr]]),Ht===-1)continue;Zt=Ct.GetAttribute(Ft,Ht)}Kt.attributes.push(St(At,Ct,Ft,tr,Wt,Zt))}return Ut===At.TRIANGULAR_MESH&&(Kt.index=vt(At,Ct,Ft)),At.destroy(Ft),Kt}function vt(At,Ct,Tt){const Bt=Tt.num_faces()*3,Dt=Bt*4,Ft=At._malloc(Dt);Ct.GetTrianglesUInt32Array(Tt,Dt,Ft);const kt=new Uint32Array(At.HEAPF32.buffer,Ft,Bt).slice();return At._free(Ft),{array:kt,itemSize:1}}function St(At,Ct,Tt,Rt,Bt,Dt){const Ft=Dt.num_components(),Ut=Tt.num_points()*Ft,Kt=Ut*Bt.BYTES_PER_ELEMENT,tr=Et(At,Bt),Wt=At._malloc(Kt);Ct.GetAttributeDataArrayForAllPoints(Tt,Dt,tr,Kt,Wt);const Zt=new Bt(At.HEAPF32.buffer,Wt,Ut).slice();return At._free(Wt),{name:Rt,array:Zt,itemSize:Ft}}function Et(At,Ct){switch(Ct){case Float32Array:return At.DT_FLOAT32;case Int8Array:return At.DT_INT8;case Int16Array:return At.DT_INT16;case Int32Array:return At.DT_INT32;case Uint8Array:return At.DT_UINT8;case Uint16Array:return At.DT_UINT16;case Uint32Array:return At.DT_UINT32}}}const _box$1=new Box3,_vector=new Vector3;class LineSegmentsGeometry extends InstancedBufferGeometry{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const lt=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],dt=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],vt=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2))}applyMatrix4(lt){const dt=this.attributes.instanceStart,vt=this.attributes.instanceEnd;return dt!==void 0&&(dt.applyMatrix4(lt),vt.applyMatrix4(lt),dt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(lt){let dt;lt instanceof Float32Array?dt=lt:Array.isArray(lt)&&(dt=new Float32Array(lt));const vt=new InstancedInterleavedBuffer(dt,6,1);return this.setAttribute("instanceStart",new InterleavedBufferAttribute(vt,3,0)),this.setAttribute("instanceEnd",new InterleavedBufferAttribute(vt,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(lt){let dt;lt instanceof Float32Array?dt=lt:Array.isArray(lt)&&(dt=new Float32Array(lt));const vt=new InstancedInterleavedBuffer(dt,6,1);return this.setAttribute("instanceColorStart",new InterleavedBufferAttribute(vt,3,0)),this.setAttribute("instanceColorEnd",new InterleavedBufferAttribute(vt,3,3)),this}fromWireframeGeometry(lt){return this.setPositions(lt.attributes.position.array),this}fromEdgesGeometry(lt){return this.setPositions(lt.attributes.position.array),this}fromMesh(lt){return this.fromWireframeGeometry(new WireframeGeometry(lt.geometry)),this}fromLineSegments(lt){const dt=lt.geometry;return this.setPositions(dt.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const lt=this.attributes.instanceStart,dt=this.attributes.instanceEnd;lt!==void 0&&dt!==void 0&&(this.boundingBox.setFromBufferAttribute(lt),_box$1.setFromBufferAttribute(dt),this.boundingBox.union(_box$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),this.boundingBox===null&&this.computeBoundingBox();const lt=this.attributes.instanceStart,dt=this.attributes.instanceEnd;if(lt!==void 0&&dt!==void 0){const vt=this.boundingSphere.center;this.boundingBox.getCenter(vt);let St=0;for(let Et=0,At=lt.count;Et<At;Et++)_vector.fromBufferAttribute(lt,Et),St=Math.max(St,vt.distanceToSquared(_vector)),_vector.fromBufferAttribute(dt,Et),St=Math.max(St,vt.distanceToSquared(_vector));this.boundingSphere.radius=Math.sqrt(St),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(lt){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(lt)}}class LineGeometry extends LineSegmentsGeometry{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(lt){const dt=lt.length-3,vt=new Float32Array(2*dt);for(let St=0;St<dt;St+=3)vt[2*St]=lt[St],vt[2*St+1]=lt[St+1],vt[2*St+2]=lt[St+2],vt[2*St+3]=lt[St+3],vt[2*St+4]=lt[St+4],vt[2*St+5]=lt[St+5];return super.setPositions(vt),this}setColors(lt){const dt=lt.length-3,vt=new Float32Array(2*dt);for(let St=0;St<dt;St+=3)vt[2*St]=lt[St],vt[2*St+1]=lt[St+1],vt[2*St+2]=lt[St+2],vt[2*St+3]=lt[St+3],vt[2*St+4]=lt[St+4],vt[2*St+5]=lt[St+5];return super.setColors(vt),this}fromLine(lt){const dt=lt.geometry;return this.setPositions(dt.attributes.position.array),this}}class LineMaterial extends ShaderMaterial{constructor(lt){super({type:"LineMaterial",uniforms:UniformsUtils.clone(UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Vector2(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <encodings_fragment>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(dt){this.uniforms.diffuse.value=dt}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(dt){dt===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(dt){this.uniforms.linewidth.value=dt}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(dt){!!dt!="USE_DASH"in this.defines&&(this.needsUpdate=!0),dt===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(dt){this.uniforms.dashScale.value=dt}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(dt){this.uniforms.dashSize.value=dt}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(dt){this.uniforms.dashOffset.value=dt}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(dt){this.uniforms.gapSize.value=dt}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(dt){this.uniforms.opacity.value=dt}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(dt){this.uniforms.resolution.value.copy(dt)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(dt){!!dt!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),dt===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(lt)}}const _start=new Vector3,_end=new Vector3,_start4=new Vector4,_end4=new Vector4,_ssOrigin=new Vector4,_ssOrigin3=new Vector3,_mvMatrix=new Matrix4,_line=new Line3,_closestPoint=new Vector3,_box=new Box3,_sphere=new Sphere$1,_clipToWorldVector=new Vector4;let _ray,_instanceStart,_instanceEnd,_lineWidth;function getWorldSpaceHalfWidth(ft,lt,dt){return _clipToWorldVector.set(0,0,-lt,1).applyMatrix4(ft.projectionMatrix),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),_clipToWorldVector.x=_lineWidth/dt.width,_clipToWorldVector.y=_lineWidth/dt.height,_clipToWorldVector.applyMatrix4(ft.projectionMatrixInverse),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),Math.abs(Math.max(_clipToWorldVector.x,_clipToWorldVector.y))}function raycastWorldUnits(ft,lt){for(let dt=0,vt=_instanceStart.count;dt<vt;dt++){_line.start.fromBufferAttribute(_instanceStart,dt),_line.end.fromBufferAttribute(_instanceEnd,dt);const St=new Vector3,Et=new Vector3;_ray.distanceSqToSegment(_line.start,_line.end,Et,St),Et.distanceTo(St)<_lineWidth*.5&&lt.push({point:Et,pointOnLine:St,distance:_ray.origin.distanceTo(Et),object:ft,face:null,faceIndex:dt,uv:null,uv2:null})}}function raycastScreenSpace(ft,lt,dt){const vt=lt.projectionMatrix,Et=ft.material.resolution,At=ft.matrixWorld,Ct=ft.geometry,Tt=Ct.attributes.instanceStart,Rt=Ct.attributes.instanceEnd,Bt=-lt.near;_ray.at(1,_ssOrigin),_ssOrigin.w=1,_ssOrigin.applyMatrix4(lt.matrixWorldInverse),_ssOrigin.applyMatrix4(vt),_ssOrigin.multiplyScalar(1/_ssOrigin.w),_ssOrigin.x*=Et.x/2,_ssOrigin.y*=Et.y/2,_ssOrigin.z=0,_ssOrigin3.copy(_ssOrigin),_mvMatrix.multiplyMatrices(lt.matrixWorldInverse,At);for(let Dt=0,Ft=Tt.count;Dt<Ft;Dt++){if(_start4.fromBufferAttribute(Tt,Dt),_end4.fromBufferAttribute(Rt,Dt),_start4.w=1,_end4.w=1,_start4.applyMatrix4(_mvMatrix),_end4.applyMatrix4(_mvMatrix),_start4.z>Bt&&_end4.z>Bt)continue;if(_start4.z>Bt){const Zt=_start4.z-_end4.z,Ht=(_start4.z-Bt)/Zt;_start4.lerp(_end4,Ht)}else if(_end4.z>Bt){const Zt=_end4.z-_start4.z,Ht=(_end4.z-Bt)/Zt;_end4.lerp(_start4,Ht)}_start4.applyMatrix4(vt),_end4.applyMatrix4(vt),_start4.multiplyScalar(1/_start4.w),_end4.multiplyScalar(1/_end4.w),_start4.x*=Et.x/2,_start4.y*=Et.y/2,_end4.x*=Et.x/2,_end4.y*=Et.y/2,_line.start.copy(_start4),_line.start.z=0,_line.end.copy(_end4),_line.end.z=0;const Ut=_line.closestPointToPointParameter(_ssOrigin3,!0);_line.at(Ut,_closestPoint);const Kt=MathUtils.lerp(_start4.z,_end4.z,Ut),tr=Kt>=-1&&Kt<=1,Wt=_ssOrigin3.distanceTo(_closestPoint)<_lineWidth*.5;if(tr&&Wt){_line.start.fromBufferAttribute(Tt,Dt),_line.end.fromBufferAttribute(Rt,Dt),_line.start.applyMatrix4(At),_line.end.applyMatrix4(At);const Zt=new Vector3,Ht=new Vector3;_ray.distanceSqToSegment(_line.start,_line.end,Ht,Zt),dt.push({point:Ht,pointOnLine:Zt,distance:_ray.origin.distanceTo(Ht),object:ft,face:null,faceIndex:Dt,uv:null,uv2:null})}}}class LineSegments2 extends Mesh{constructor(lt=new LineSegmentsGeometry,dt=new LineMaterial({color:Math.random()*16777215})){super(lt,dt),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const lt=this.geometry,dt=lt.attributes.instanceStart,vt=lt.attributes.instanceEnd,St=new Float32Array(2*dt.count);for(let At=0,Ct=0,Tt=dt.count;At<Tt;At++,Ct+=2)_start.fromBufferAttribute(dt,At),_end.fromBufferAttribute(vt,At),St[Ct]=Ct===0?0:St[Ct-1],St[Ct+1]=St[Ct]+_start.distanceTo(_end);const Et=new InstancedInterleavedBuffer(St,2,1);return lt.setAttribute("instanceDistanceStart",new InterleavedBufferAttribute(Et,1,0)),lt.setAttribute("instanceDistanceEnd",new InterleavedBufferAttribute(Et,1,1)),this}raycast(lt,dt){const vt=this.material.worldUnits,St=lt.camera;St===null&&!vt&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const Et=lt.params.Line2!==void 0&&lt.params.Line2.threshold||0;_ray=lt.ray;const At=this.matrixWorld,Ct=this.geometry,Tt=this.material;_lineWidth=Tt.linewidth+Et,_instanceStart=Ct.attributes.instanceStart,_instanceEnd=Ct.attributes.instanceEnd,Ct.boundingSphere===null&&Ct.computeBoundingSphere(),_sphere.copy(Ct.boundingSphere).applyMatrix4(At);let Rt;if(vt)Rt=_lineWidth*.5;else{const Dt=Math.max(St.near,_sphere.distanceToPoint(_ray.origin));Rt=getWorldSpaceHalfWidth(St,Dt,Tt.resolution)}if(_sphere.radius+=Rt,_ray.intersectsSphere(_sphere)===!1)return;Ct.boundingBox===null&&Ct.computeBoundingBox(),_box.copy(Ct.boundingBox).applyMatrix4(At);let Bt;if(vt)Bt=_lineWidth*.5;else{const Dt=Math.max(St.near,_box.distanceToPoint(_ray.origin));Bt=getWorldSpaceHalfWidth(St,Dt,Tt.resolution)}_box.expandByScalar(Bt),_ray.intersectsBox(_box)!==!1&&(vt?raycastWorldUnits(this,dt):raycastScreenSpace(this,St,dt))}}class Line2 extends LineSegments2{constructor(lt=new LineGeometry,dt=new LineMaterial({color:Math.random()*16777215})){super(lt,dt),this.isLine2=!0,this.type="Line2"}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const ft="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",lt="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",dt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),vt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let St=ft;WebAssembly.validate(dt)&&(St=lt);let Et;const At=WebAssembly.instantiate(Ct(St),{}).then(Dt=>{Et=Dt.instance,Et.exports.__wasm_call_ctors()});function Ct(Dt){const Ft=new Uint8Array(Dt.length);for(let Ut=0;Ut<Dt.length;++Ut){const Kt=Dt.charCodeAt(Ut);Ft[Ut]=Kt>96?Kt-71:Kt>64?Kt-65:Kt>47?Kt+4:Kt>46?63:62}let kt=0;for(let Ut=0;Ut<Dt.length;++Ut)Ft[kt++]=Ft[Ut]<60?vt[Ft[Ut]]:(Ft[Ut]-60)*64+Ft[++Ut];return Ft.buffer.slice(0,kt)}function Tt(Dt,Ft,kt,Ut,Kt,tr){const Wt=Et.exports.sbrk,Zt=kt+3&-4,Ht=Wt(Zt*Ut),nr=Wt(Kt.length),sr=new Uint8Array(Et.exports.memory.buffer);sr.set(Kt,nr);const ar=Dt(Ht,kt,Ut,nr,Kt.length);if(ar===0&&tr&&tr(Ht,Zt,Ut),Ft.set(sr.subarray(Ht,Ht+kt*Ut)),Wt(Ht-Wt(0)),ar!==0)throw new Error(`Malformed buffer data: ${ar}`)}const Rt={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Bt={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:At,supported:!0,decodeVertexBuffer(Dt,Ft,kt,Ut,Kt){Tt(Et.exports.meshopt_decodeVertexBuffer,Dt,Ft,kt,Ut,Et.exports[Rt[Kt]])},decodeIndexBuffer(Dt,Ft,kt,Ut){Tt(Et.exports.meshopt_decodeIndexBuffer,Dt,Ft,kt,Ut)},decodeIndexSequence(Dt,Ft,kt,Ut){Tt(Et.exports.meshopt_decodeIndexSequence,Dt,Ft,kt,Ut)},decodeGltfBuffer(Dt,Ft,kt,Ut,Kt,tr){Tt(Et.exports[Bt[Kt]],Dt,Ft,kt,Ut,Et.exports[Rt[tr]])}},generated},Line=reactExports.forwardRef(function({points:lt,color:dt="black",vertexColors:vt,linewidth:St,lineWidth:Et,segments:At,dashed:Ct,...Tt},Rt){const Bt=useThree(Ut=>Ut.size),Dt=reactExports.useMemo(()=>At?new LineSegments2:new Line2,[At]),[Ft]=reactExports.useState(()=>new LineMaterial),kt=reactExports.useMemo(()=>{const Ut=At?new LineSegmentsGeometry:new LineGeometry,Kt=lt.map(tr=>{const Wt=Array.isArray(tr);return tr instanceof Vector3?[tr.x,tr.y,tr.z]:tr instanceof Vector2?[tr.x,tr.y,0]:Wt&&tr.length===3?[tr[0],tr[1],tr[2]]:Wt&&tr.length===2?[tr[0],tr[1],0]:tr});if(Ut.setPositions(Kt.flat()),vt){const tr=vt.map(Wt=>Wt instanceof Color?Wt.toArray():Wt);Ut.setColors(tr.flat())}return Ut},[lt,At,vt]);return reactExports.useLayoutEffect(()=>{Dt.computeLineDistances()},[lt,Dt]),reactExports.useLayoutEffect(()=>{Ct?Ft.defines.USE_DASH="":delete Ft.defines.USE_DASH,Ft.needsUpdate=!0},[Ct,Ft]),reactExports.useEffect(()=>()=>kt.dispose(),[kt]),reactExports.createElement("primitive",_extends$1({object:Dt,ref:Rt},Tt),reactExports.createElement("primitive",{object:kt,attach:"geometry"}),reactExports.createElement("primitive",_extends$1({object:Ft,attach:"material",color:dt,vertexColors:!!vt,resolution:[Bt.width,Bt.height],linewidth:St??Et,dashed:Ct},Tt)))});function workerBootstrap(){var ft=Object.create(null);function lt(St,Et){var At=St.id,Ct=St.name,Tt=St.dependencies;Tt===void 0&&(Tt=[]);var Rt=St.init;Rt===void 0&&(Rt=function(){});var Bt=St.getTransferables;if(Bt===void 0&&(Bt=null),!ft[At])try{Tt=Tt.map(function(Ft){return Ft&&Ft.isWorkerModule&&(lt(Ft,function(kt){if(kt instanceof Error)throw kt}),Ft=ft[Ft.id].value),Ft}),Rt=vt("<"+Ct+">.init",Rt),Bt&&(Bt=vt("<"+Ct+">.getTransferables",Bt));var Dt=null;typeof Rt=="function"?Dt=Rt.apply(void 0,Tt):console.error("worker module init function failed to rehydrate"),ft[At]={id:At,value:Dt,getTransferables:Bt},Et(Dt)}catch(Ft){Ft&&Ft.noLog||console.error(Ft),Et(Ft)}}function dt(St,Et){var At,Ct=St.id,Tt=St.args;(!ft[Ct]||typeof ft[Ct].value!="function")&&Et(new Error("Worker module "+Ct+": not found or its 'init' did not return a function"));try{var Rt=(At=ft[Ct]).value.apply(At,Tt);Rt&&typeof Rt.then=="function"?Rt.then(Bt,function(Dt){return Et(Dt instanceof Error?Dt:new Error(""+Dt))}):Bt(Rt)}catch(Dt){Et(Dt)}function Bt(Dt){try{var Ft=ft[Ct].getTransferables&&ft[Ct].getTransferables(Dt);(!Ft||!Array.isArray(Ft)||!Ft.length)&&(Ft=void 0),Et(Dt,Ft)}catch(kt){console.error(kt),Et(kt)}}}function vt(St,Et){var At=void 0;self.troikaDefine=function(Tt){return At=Tt};var Ct=URL.createObjectURL(new Blob(["/** "+St.replace(/\*/g,"")+` **/

troikaDefine(
`+Et+`
)`],{type:"application/javascript"}));try{importScripts(Ct)}catch(Tt){console.error(Tt)}return URL.revokeObjectURL(Ct),delete self.troikaDefine,At}self.addEventListener("message",function(St){var Et=St.data,At=Et.messageId,Ct=Et.action,Tt=Et.data;try{Ct==="registerModule"&&lt(Tt,function(Rt){Rt instanceof Error?postMessage({messageId:At,success:!1,error:Rt.message}):postMessage({messageId:At,success:!0,result:{isCallable:typeof Rt=="function"}})}),Ct==="callModule"&&dt(Tt,function(Rt,Bt){Rt instanceof Error?postMessage({messageId:At,success:!1,error:Rt.message}):postMessage({messageId:At,success:!0,result:Rt},Bt||void 0)})}catch(Rt){postMessage({messageId:At,success:!1,error:Rt.stack})}})}function defineMainThreadModule(ft){var lt=function(){for(var dt=[],vt=arguments.length;vt--;)dt[vt]=arguments[vt];return lt._getInitResult().then(function(St){if(typeof St=="function")return St.apply(void 0,dt);throw new Error("Worker module function was called but `init` did not return a callable function")})};return lt._getInitResult=function(){var dt=ft.dependencies,vt=ft.init;dt=Array.isArray(dt)?dt.map(function(Et){return Et&&Et._getInitResult?Et._getInitResult():Et}):[];var St=Promise.all(dt).then(function(Et){return vt.apply(null,Et)});return lt._getInitResult=function(){return St},St},lt}var supportsWorkers=function(){var ft=!1;if(typeof window<"u"&&typeof window.document<"u")try{var lt=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));lt.terminate(),ft=!0}catch(dt){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+dt.message+"]")}return supportsWorkers=function(){return ft},ft},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(ft){if((!ft||typeof ft.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var lt=ft.dependencies,dt=ft.init,vt=ft.getTransferables,St=ft.workerId;if(!supportsWorkers())return defineMainThreadModule(ft);St==null&&(St="#default");var Et="workerModule"+ ++_workerModuleId,At=ft.name||Et,Ct=null;lt=lt&&lt.map(function(Rt){return typeof Rt=="function"&&!Rt.workerModuleData&&(_allowInitAsString=!0,Rt=defineWorkerModule({workerId:St,name:"<"+At+"> function dependency: "+Rt.name,init:`function(){return (
`+stringifyFunction(Rt)+`
)}`}),_allowInitAsString=!1),Rt&&Rt.workerModuleData&&(Rt=Rt.workerModuleData),Rt});function Tt(){for(var Rt=[],Bt=arguments.length;Bt--;)Rt[Bt]=arguments[Bt];if(!Ct){Ct=callWorker(St,"registerModule",Tt.workerModuleData);var Dt=function(){Ct=null,registeredModules[St].delete(Dt)};(registeredModules[St]||(registeredModules[St]=new Set)).add(Dt)}return Ct.then(function(Ft){var kt=Ft.isCallable;if(kt)return callWorker(St,"callModule",{id:Et,args:Rt});throw new Error("Worker module function was called but `init` did not return a callable function")})}return Tt.workerModuleData={isWorkerModule:!0,id:Et,name:At,dependencies:lt,init:stringifyFunction(dt),getTransferables:vt&&stringifyFunction(vt)},Tt}function terminateWorker(ft){registeredModules[ft]&&registeredModules[ft].forEach(function(lt){lt()}),workers[ft]&&(workers[ft].terminate(),delete workers[ft])}function stringifyFunction(ft){var lt=ft.toString();return!/^function/.test(lt)&&/^\w+\s*\(/.test(lt)&&(lt="function "+lt),lt}function getWorker(ft){var lt=workers[ft];if(!lt){var dt=stringifyFunction(workerBootstrap);lt=workers[ft]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+ft.replace(/\*/g,"")+` **/

;(`+dt+")()"],{type:"application/javascript"}))),lt.onmessage=function(vt){var St=vt.data,Et=St.messageId,At=openRequests[Et];if(!At)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[Et],At(St)}}return lt}function callWorker(ft,lt,dt){return new Promise(function(vt,St){var Et=++_messageId;openRequests[Et]=function(At){At.success?vt(At.result):St(new Error("Error in worker "+lt+" call: "+At.error))},getWorker(ft).postMessage({messageId:Et,action:lt,data:dt})})}function SDFGenerator(){var ft=function(lt){function dt(pr,Er,_r,Ar,Pr,Ir,kr,Dr){var Jr=1-kr;Dr.x=Jr*Jr*pr+2*Jr*kr*_r+kr*kr*Pr,Dr.y=Jr*Jr*Er+2*Jr*kr*Ar+kr*kr*Ir}function vt(pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or){var jr=1-Jr;Or.x=jr*jr*jr*pr+3*jr*jr*Jr*_r+3*jr*Jr*Jr*Pr+Jr*Jr*Jr*kr,Or.y=jr*jr*jr*Er+3*jr*jr*Jr*Ar+3*jr*Jr*Jr*Ir+Jr*Jr*Jr*Dr}function St(pr,Er){for(var _r=/([MLQCZ])([^MLQCZ]*)/g,Ar,Pr,Ir,kr,Dr;Ar=_r.exec(pr);){var Jr=Ar[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Or){return parseFloat(Or)});switch(Ar[1]){case"M":kr=Pr=Jr[0],Dr=Ir=Jr[1];break;case"L":(Jr[0]!==kr||Jr[1]!==Dr)&&Er("L",kr,Dr,kr=Jr[0],Dr=Jr[1]);break;case"Q":{Er("Q",kr,Dr,kr=Jr[2],Dr=Jr[3],Jr[0],Jr[1]);break}case"C":{Er("C",kr,Dr,kr=Jr[4],Dr=Jr[5],Jr[0],Jr[1],Jr[2],Jr[3]);break}case"Z":(kr!==Pr||Dr!==Ir)&&Er("L",kr,Dr,Pr,Ir);break}}}function Et(pr,Er,_r){_r===void 0&&(_r=16);var Ar={x:0,y:0};St(pr,function(Pr,Ir,kr,Dr,Jr,Or,jr,Nr,Vr){switch(Pr){case"L":Er(Ir,kr,Dr,Jr);break;case"Q":{for(var Br=Ir,zr=kr,qr=1;qr<_r;qr++)dt(Ir,kr,Or,jr,Dr,Jr,qr/(_r-1),Ar),Er(Br,zr,Ar.x,Ar.y),Br=Ar.x,zr=Ar.y;break}case"C":{for(var en=Ir,cn=kr,Rn=1;Rn<_r;Rn++)vt(Ir,kr,Or,jr,Nr,Vr,Dr,Jr,Rn/(_r-1),Ar),Er(en,cn,Ar.x,Ar.y),en=Ar.x,cn=Ar.y;break}}})}var At="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",Ct="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",Tt=new WeakMap,Rt={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function Bt(pr,Er){var _r=pr.getContext?pr.getContext("webgl",Rt):pr,Ar=Tt.get(_r);if(!Ar){let en=function(pn){var Fr=Ir[pn];if(!Fr&&(Fr=Ir[pn]=_r.getExtension(pn),!Fr))throw new Error(pn+" not supported");return Fr},cn=function(pn,Fr){var Rr=_r.createShader(Fr);return _r.shaderSource(Rr,pn),_r.compileShader(Rr),Rr},Rn=function(pn,Fr,Rr,Yr){if(!kr[pn]){var fn={},Cn={},An=_r.createProgram();_r.attachShader(An,cn(Fr,_r.VERTEX_SHADER)),_r.attachShader(An,cn(Rr,_r.FRAGMENT_SHADER)),_r.linkProgram(An),kr[pn]={program:An,transaction:function(In){_r.useProgram(An),In({setUniform:function(Nn,Kr){for(var hn=[],En=arguments.length-2;En-- >0;)hn[En]=arguments[En+2];var xn=Cn[Kr]||(Cn[Kr]=_r.getUniformLocation(An,Kr));_r["uniform"+Nn].apply(_r,[xn].concat(hn))},setAttribute:function(Nn,Kr,hn,En,xn){var On=fn[Nn];On||(On=fn[Nn]={buf:_r.createBuffer(),loc:_r.getAttribLocation(An,Nn),data:null}),_r.bindBuffer(_r.ARRAY_BUFFER,On.buf),_r.vertexAttribPointer(On.loc,Kr,_r.FLOAT,!1,0,0),_r.enableVertexAttribArray(On.loc),Pr?_r.vertexAttribDivisor(On.loc,En):en("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(On.loc,En),xn!==On.data&&(_r.bufferData(_r.ARRAY_BUFFER,xn,hn),On.data=xn)}})}}}kr[pn].transaction(Yr)},Qr=function(pn,Fr){Jr++;try{_r.activeTexture(_r.TEXTURE0+Jr);var Rr=Dr[pn];Rr||(Rr=Dr[pn]=_r.createTexture(),_r.bindTexture(_r.TEXTURE_2D,Rr),_r.texParameteri(_r.TEXTURE_2D,_r.TEXTURE_MIN_FILTER,_r.NEAREST),_r.texParameteri(_r.TEXTURE_2D,_r.TEXTURE_MAG_FILTER,_r.NEAREST)),_r.bindTexture(_r.TEXTURE_2D,Rr),Fr(Rr,Jr)}finally{Jr--}},yn=function(pn,Fr,Rr){var Yr=_r.createFramebuffer();Or.push(Yr),_r.bindFramebuffer(_r.FRAMEBUFFER,Yr),_r.activeTexture(_r.TEXTURE0+Fr),_r.bindTexture(_r.TEXTURE_2D,pn),_r.framebufferTexture2D(_r.FRAMEBUFFER,_r.COLOR_ATTACHMENT0,_r.TEXTURE_2D,pn,0);try{Rr(Yr)}finally{_r.deleteFramebuffer(Yr),_r.bindFramebuffer(_r.FRAMEBUFFER,Or[--Or.length-1]||null)}},Pn=function(){Ir={},kr={},Dr={},Jr=-1,Or.length=0};var jr=en,Nr=cn,Vr=Rn,Br=Qr,zr=yn,qr=Pn,Pr=typeof WebGL2RenderingContext<"u"&&_r instanceof WebGL2RenderingContext,Ir={},kr={},Dr={},Jr=-1,Or=[];_r.canvas.addEventListener("webglcontextlost",function(pn){Pn(),pn.preventDefault()},!1),Tt.set(_r,Ar={gl:_r,isWebGL2:Pr,getExtension:en,withProgram:Rn,withTexture:Qr,withTextureFramebuffer:yn,handleContextLoss:Pn})}Er(Ar)}function Dt(pr,Er,_r,Ar,Pr,Ir,kr,Dr){kr===void 0&&(kr=15),Dr===void 0&&(Dr=null),Bt(pr,function(Jr){var Or=Jr.gl,jr=Jr.withProgram,Nr=Jr.withTexture;Nr("copy",function(Vr,Br){Or.texImage2D(Or.TEXTURE_2D,0,Or.RGBA,Pr,Ir,0,Or.RGBA,Or.UNSIGNED_BYTE,Er),jr("copy",At,Ct,function(zr){var qr=zr.setUniform,en=zr.setAttribute;en("aUV",2,Or.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),qr("1i","image",Br),Or.bindFramebuffer(Or.FRAMEBUFFER,Dr||null),Or.disable(Or.BLEND),Or.colorMask(kr&8,kr&4,kr&2,kr&1),Or.viewport(_r,Ar,Pr,Ir),Or.scissor(_r,Ar,Pr,Ir),Or.drawArrays(Or.TRIANGLES,0,3)})})})}function Ft(pr,Er,_r){var Ar=pr.width,Pr=pr.height;Bt(pr,function(Ir){var kr=Ir.gl,Dr=new Uint8Array(Ar*Pr*4);kr.readPixels(0,0,Ar,Pr,kr.RGBA,kr.UNSIGNED_BYTE,Dr),pr.width=Er,pr.height=_r,Dt(kr,Dr,0,0,Ar,Pr)})}var kt=Object.freeze({__proto__:null,withWebGLContext:Bt,renderImageData:Dt,resizeWebGLCanvasWithoutClearing:Ft});function Ut(pr,Er,_r,Ar,Pr,Ir){Ir===void 0&&(Ir=1);var kr=new Uint8Array(pr*Er),Dr=Ar[2]-Ar[0],Jr=Ar[3]-Ar[1],Or=[];Et(_r,function(en,cn,Rn,Qr){Or.push({x1:en,y1:cn,x2:Rn,y2:Qr,minX:Math.min(en,Rn),minY:Math.min(cn,Qr),maxX:Math.max(en,Rn),maxY:Math.max(cn,Qr)})}),Or.sort(function(en,cn){return en.maxX-cn.maxX});for(var jr=0;jr<pr;jr++)for(var Nr=0;Nr<Er;Nr++){var Vr=zr(Ar[0]+Dr*(jr+.5)/pr,Ar[1]+Jr*(Nr+.5)/Er),Br=Math.pow(1-Math.abs(Vr)/Pr,Ir)/2;Vr<0&&(Br=1-Br),Br=Math.max(0,Math.min(255,Math.round(Br*255))),kr[Nr*pr+jr]=Br}return kr;function zr(en,cn){for(var Rn=1/0,Qr=1/0,yn=Or.length;yn--;){var Pn=Or[yn];if(Pn.maxX+Qr<=en)break;if(en+Qr>Pn.minX&&cn-Qr<Pn.maxY&&cn+Qr>Pn.minY){var pn=Wt(en,cn,Pn.x1,Pn.y1,Pn.x2,Pn.y2);pn<Rn&&(Rn=pn,Qr=Math.sqrt(Rn))}}return qr(en,cn)&&(Qr=-Qr),Qr}function qr(en,cn){for(var Rn=0,Qr=Or.length;Qr--;){var yn=Or[Qr];if(yn.maxX<=en)break;var Pn=yn.y1>cn!=yn.y2>cn&&en<(yn.x2-yn.x1)*(cn-yn.y1)/(yn.y2-yn.y1)+yn.x1;Pn&&(Rn+=yn.y1<yn.y2?1:-1)}return Rn!==0}}function Kt(pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or){Ir===void 0&&(Ir=1),Dr===void 0&&(Dr=0),Jr===void 0&&(Jr=0),Or===void 0&&(Or=0),tr(pr,Er,_r,Ar,Pr,Ir,kr,null,Dr,Jr,Or)}function tr(pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or,jr){Ir===void 0&&(Ir=1),Jr===void 0&&(Jr=0),Or===void 0&&(Or=0),jr===void 0&&(jr=0);for(var Nr=Ut(pr,Er,_r,Ar,Pr,Ir),Vr=new Uint8Array(Nr.length*4),Br=0;Br<Nr.length;Br++)Vr[Br*4+jr]=Nr[Br];Dt(kr,Vr,Jr,Or,pr,Er,1<<3-jr,Dr)}function Wt(pr,Er,_r,Ar,Pr,Ir){var kr=Pr-_r,Dr=Ir-Ar,Jr=kr*kr+Dr*Dr,Or=Jr?Math.max(0,Math.min(1,((pr-_r)*kr+(Er-Ar)*Dr)/Jr)):0,jr=pr-(_r+Or*kr),Nr=Er-(Ar+Or*Dr);return jr*jr+Nr*Nr}var Zt=Object.freeze({__proto__:null,generate:Ut,generateIntoCanvas:Kt,generateIntoFramebuffer:tr}),Ht="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",nr="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",sr="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",ar=new Float32Array([0,0,2,0,0,2]),ir=null,rr=!1,lr={},ur=new WeakMap;function dr(pr){if(!rr&&!xr(pr))throw new Error("WebGL generation not supported")}function mr(pr,Er,_r,Ar,Pr,Ir,kr){if(Ir===void 0&&(Ir=1),kr===void 0&&(kr=null),!kr&&(kr=ir,!kr)){var Dr=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Dr)throw new Error("OffscreenCanvas or DOM canvas not supported");kr=ir=Dr.getContext("webgl",{depth:!1})}dr(kr);var Jr=new Uint8Array(pr*Er*4);Bt(kr,function(Vr){var Br=Vr.gl,zr=Vr.withTexture,qr=Vr.withTextureFramebuffer;zr("readable",function(en,cn){Br.texImage2D(Br.TEXTURE_2D,0,Br.RGBA,pr,Er,0,Br.RGBA,Br.UNSIGNED_BYTE,null),qr(en,cn,function(Rn){yr(pr,Er,_r,Ar,Pr,Ir,Br,Rn,0,0,0),Br.readPixels(0,0,pr,Er,Br.RGBA,Br.UNSIGNED_BYTE,Jr)})})});for(var Or=new Uint8Array(pr*Er),jr=0,Nr=0;jr<Jr.length;jr+=4)Or[Nr++]=Jr[jr];return Or}function Cr(pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or){Ir===void 0&&(Ir=1),Dr===void 0&&(Dr=0),Jr===void 0&&(Jr=0),Or===void 0&&(Or=0),yr(pr,Er,_r,Ar,Pr,Ir,kr,null,Dr,Jr,Or)}function yr(pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or,jr){Ir===void 0&&(Ir=1),Jr===void 0&&(Jr=0),Or===void 0&&(Or=0),jr===void 0&&(jr=0),dr(kr);var Nr=[];Et(_r,function(Vr,Br,zr,qr){Nr.push(Vr,Br,zr,qr)}),Nr=new Float32Array(Nr),Bt(kr,function(Vr){var Br=Vr.gl,zr=Vr.isWebGL2,qr=Vr.getExtension,en=Vr.withProgram,cn=Vr.withTexture,Rn=Vr.withTextureFramebuffer,Qr=Vr.handleContextLoss;if(cn("rawDistances",function(yn,Pn){(pr!==yn._lastWidth||Er!==yn._lastHeight)&&Br.texImage2D(Br.TEXTURE_2D,0,Br.RGBA,yn._lastWidth=pr,yn._lastHeight=Er,0,Br.RGBA,Br.UNSIGNED_BYTE,null),en("main",Ht,nr,function(pn){var Fr=pn.setAttribute,Rr=pn.setUniform,Yr=!zr&&qr("ANGLE_instanced_arrays"),fn=!zr&&qr("EXT_blend_minmax");Fr("aUV",2,Br.STATIC_DRAW,0,ar),Fr("aLineSegment",4,Br.DYNAMIC_DRAW,1,Nr),Rr.apply(void 0,["4f","uGlyphBounds"].concat(Ar)),Rr("1f","uMaxDistance",Pr),Rr("1f","uExponent",Ir),Rn(yn,Pn,function(Cn){Br.enable(Br.BLEND),Br.colorMask(!0,!0,!0,!0),Br.viewport(0,0,pr,Er),Br.scissor(0,0,pr,Er),Br.blendFunc(Br.ONE,Br.ONE),Br.blendEquationSeparate(Br.FUNC_ADD,zr?Br.MAX:fn.MAX_EXT),Br.clear(Br.COLOR_BUFFER_BIT),zr?Br.drawArraysInstanced(Br.TRIANGLES,0,3,Nr.length/4):Yr.drawArraysInstancedANGLE(Br.TRIANGLES,0,3,Nr.length/4)})}),en("post",At,sr,function(pn){pn.setAttribute("aUV",2,Br.STATIC_DRAW,0,ar),pn.setUniform("1i","tex",Pn),Br.bindFramebuffer(Br.FRAMEBUFFER,Dr),Br.disable(Br.BLEND),Br.colorMask(jr===0,jr===1,jr===2,jr===3),Br.viewport(Jr,Or,pr,Er),Br.scissor(Jr,Or,pr,Er),Br.drawArrays(Br.TRIANGLES,0,3)})}),Br.isContextLost())throw Qr(),new Error("webgl context lost")})}function xr(pr){var Er=!pr||pr===ir?lr:pr.canvas||pr,_r=ur.get(Er);if(_r===void 0){rr=!0;var Ar=null;try{var Pr=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Ir=mr(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,pr);_r=Ir&&Pr.length===Ir.length&&Ir.every(function(kr,Dr){return kr===Pr[Dr]}),_r||(Ar="bad trial run results",console.info(Pr,Ir))}catch(kr){_r=!1,Ar=kr.message}Ar&&console.warn("WebGL SDF generation not supported:",Ar),rr=!1,ur.set(Er,_r)}return _r}var Sr=Object.freeze({__proto__:null,generate:mr,generateIntoCanvas:Cr,generateIntoFramebuffer:yr,isSupported:xr});function br(pr,Er,_r,Ar,Pr,Ir){Pr===void 0&&(Pr=Math.max(Ar[2]-Ar[0],Ar[3]-Ar[1])/2),Ir===void 0&&(Ir=1);try{return mr.apply(Sr,arguments)}catch(kr){return console.info("WebGL SDF generation failed, falling back to JS",kr),Ut.apply(Zt,arguments)}}function cr(pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or){Pr===void 0&&(Pr=Math.max(Ar[2]-Ar[0],Ar[3]-Ar[1])/2),Ir===void 0&&(Ir=1),Dr===void 0&&(Dr=0),Jr===void 0&&(Jr=0),Or===void 0&&(Or=0);try{return Cr.apply(Sr,arguments)}catch(jr){return console.info("WebGL SDF generation failed, falling back to JS",jr),Kt.apply(Zt,arguments)}}return lt.forEachPathCommand=St,lt.generate=br,lt.generateIntoCanvas=cr,lt.javascript=Zt,lt.pathToLineSegments=Et,lt.webgl=Sr,lt.webglUtils=kt,Object.defineProperty(lt,"__esModule",{value:!0}),lt}({});return ft}function bidiFactory(){var ft=function(lt){var dt={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},vt={},St={};vt.L=1,St[1]="L",Object.keys(dt).forEach(function(Qr,yn){vt[Qr]=1<<yn+1,St[vt[Qr]]=Qr}),Object.freeze(vt);var Et=vt.LRI|vt.RLI|vt.FSI,At=vt.L|vt.R|vt.AL,Ct=vt.B|vt.S|vt.WS|vt.ON|vt.FSI|vt.LRI|vt.RLI|vt.PDI,Tt=vt.BN|vt.RLE|vt.LRE|vt.RLO|vt.LRO|vt.PDF,Rt=vt.S|vt.WS|vt.B|Et|vt.PDI|Tt,Bt=null;function Dt(){if(!Bt){Bt=new Map;var Qr=function(Pn){if(dt.hasOwnProperty(Pn)){var pn=0;dt[Pn].split(",").forEach(function(Fr){var Rr=Fr.split("+"),Yr=Rr[0],fn=Rr[1];Yr=parseInt(Yr,36),fn=fn?parseInt(fn,36):0,Bt.set(pn+=Yr,vt[Pn]);for(var Cn=0;Cn<fn;Cn++)Bt.set(++pn,vt[Pn])})}};for(var yn in dt)Qr(yn)}}function Ft(Qr){return Dt(),Bt.get(Qr.codePointAt(0))||vt.L}function kt(Qr){return St[Ft(Qr)]}var Ut={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function Kt(Qr,yn){var Pn=36,pn=0,Fr=new Map,Rr=yn&&new Map,Yr;return Qr.split(",").forEach(function fn(Cn){if(Cn.indexOf("+")!==-1)for(var An=+Cn;An--;)fn(Yr);else{Yr=Cn;var Dn=Cn.split(">"),In=Dn[0],mn=Dn[1];In=String.fromCodePoint(pn+=parseInt(In,Pn)),mn=String.fromCodePoint(pn+=parseInt(mn,Pn)),Fr.set(In,mn),yn&&Rr.set(mn,In)}}),{map:Fr,reverseMap:Rr}}var tr,Wt,Zt;function Ht(){if(!tr){var Qr=Kt(Ut.pairs,!0),yn=Qr.map,Pn=Qr.reverseMap;tr=yn,Wt=Pn,Zt=Kt(Ut.canonical,!1).map}}function nr(Qr){return Ht(),tr.get(Qr)||null}function sr(Qr){return Ht(),Wt.get(Qr)||null}function ar(Qr){return Ht(),Zt.get(Qr)||null}var ir=vt.L,rr=vt.R,lr=vt.EN,ur=vt.ES,dr=vt.ET,mr=vt.AN,Cr=vt.CS,yr=vt.B,xr=vt.S,Sr=vt.ON,br=vt.BN,cr=vt.NSM,pr=vt.AL,Er=vt.LRO,_r=vt.RLO,Ar=vt.LRE,Pr=vt.RLE,Ir=vt.PDF,kr=vt.LRI,Dr=vt.RLI,Jr=vt.FSI,Or=vt.PDI;function jr(Qr,yn){for(var Pn=125,pn=new Uint32Array(Qr.length),Fr=0;Fr<Qr.length;Fr++)pn[Fr]=Ft(Qr[Fr]);var Rr=new Map;function Yr(Ks,qs){var ws=pn[Ks];pn[Ks]=qs,Rr.set(ws,Rr.get(ws)-1),ws&Ct&&Rr.set(Ct,Rr.get(Ct)-1),Rr.set(qs,(Rr.get(qs)||0)+1),qs&Ct&&Rr.set(Ct,(Rr.get(Ct)||0)+1)}for(var fn=new Uint8Array(Qr.length),Cn=new Map,An=[],Dn=null,In=0;In<Qr.length;In++)Dn||An.push(Dn={start:In,end:Qr.length-1,level:yn==="rtl"?1:yn==="ltr"?0:Ao(In,!1)}),pn[In]&yr&&(Dn.end=In,Dn=null);for(var mn=Pr|Ar|_r|Er|Et|Or|Ir|yr,Nn=function(Ks){return Ks+(Ks&1?1:2)},Kr=function(Ks){return Ks+(Ks&1?2:1)},hn=0;hn<An.length;hn++){Dn=An[hn];var En=[{_level:Dn.level,_override:0,_isolate:0}],xn=void 0,On=0,Wn=0,es=0;Rr.clear();for(var Xr=Dn.start;Xr<=Dn.end;Xr++){var dn=pn[Xr];if(xn=En[En.length-1],Rr.set(dn,(Rr.get(dn)||0)+1),dn&Ct&&Rr.set(Ct,(Rr.get(Ct)||0)+1),dn&mn)if(dn&(Pr|Ar)){fn[Xr]=xn._level;var Ln=(dn===Pr?Kr:Nn)(xn._level);Ln<=Pn&&!On&&!Wn?En.push({_level:Ln,_override:0,_isolate:0}):On||Wn++}else if(dn&(_r|Er)){fn[Xr]=xn._level;var Vn=(dn===_r?Kr:Nn)(xn._level);Vn<=Pn&&!On&&!Wn?En.push({_level:Vn,_override:dn&_r?rr:ir,_isolate:0}):On||Wn++}else if(dn&Et){dn&Jr&&(dn=Ao(Xr+1,!0)===1?Dr:kr),fn[Xr]=xn._level,xn._override&&Yr(Xr,xn._override);var jn=(dn===Dr?Kr:Nn)(xn._level);jn<=Pn&&On===0&&Wn===0?(es++,En.push({_level:jn,_override:0,_isolate:1,_isolInitIndex:Xr})):On++}else if(dn&Or){if(On>0)On--;else if(es>0){for(Wn=0;!En[En.length-1]._isolate;)En.pop();var ts=En[En.length-1]._isolInitIndex;ts!=null&&(Cn.set(ts,Xr),Cn.set(Xr,ts)),En.pop(),es--}xn=En[En.length-1],fn[Xr]=xn._level,xn._override&&Yr(Xr,xn._override)}else dn&Ir?(On===0&&(Wn>0?Wn--:!xn._isolate&&En.length>1&&(En.pop(),xn=En[En.length-1])),fn[Xr]=xn._level):dn&yr&&(fn[Xr]=Dn.level);else fn[Xr]=xn._level,xn._override&&dn!==br&&Yr(Xr,xn._override)}for(var _s=[],Es=null,xs=Dn.start;xs<=Dn.end;xs++){var gs=pn[xs];if(!(gs&Tt)){var bs=fn[xs],vs=gs&Et,oo=gs===Or;Es&&bs===Es._level?(Es._end=xs,Es._endsWithIsolInit=vs):_s.push(Es={_start:xs,_end:xs,_level:bs,_startsWithPDI:oo,_endsWithIsolInit:vs})}}for(var ro=[],Cs=0;Cs<_s.length;Cs++){var Ns=_s[Cs];if(!Ns._startsWithPDI||Ns._startsWithPDI&&!Cn.has(Ns._start)){for(var Gr=[Es=Ns],an=void 0;Es&&Es._endsWithIsolInit&&(an=Cn.get(Es._end))!=null;)for(var vn=Cs+1;vn<_s.length;vn++)if(_s[vn]._start===an){Gr.push(Es=_s[vn]);break}for(var ln=[],Mn=0;Mn<Gr.length;Mn++)for(var Kn=Gr[Mn],Qn=Kn._start;Qn<=Kn._end;Qn++)ln.push(Qn);for(var Zn=fn[ln[0]],as=Dn.level,cs=ln[0]-1;cs>=0;cs--)if(!(pn[cs]&Tt)){as=fn[cs];break}var fs=ln[ln.length-1],ds=fn[fs],Fs=Dn.level;if(!(pn[fs]&Et)){for(var Ds=fs+1;Ds<=Dn.end;Ds++)if(!(pn[Ds]&Tt)){Fs=fn[Ds];break}}ro.push({_seqIndices:ln,_sosType:Math.max(as,Zn)%2?rr:ir,_eosType:Math.max(Fs,ds)%2?rr:ir})}}for(var ho=0;ho<ro.length;ho++){var So=ro[ho],Gn=So._seqIndices,rs=So._sosType,Jo=So._eosType;if(Rr.get(cr))for(var Ms=0;Ms<Gn.length;Ms++){var wo=Gn[Ms];if(pn[wo]&cr){for(var No=rs,Us=Ms-1;Us>=0;Us--)if(!(pn[Gn[Us]]&Tt)){No=pn[Gn[Us]];break}Yr(wo,No&(Et|Or)?Sr:No)}}if(Rr.get(lr))for(var no=0;no<Gn.length;no++){var ss=Gn[no];if(pn[ss]&lr)for(var hs=no-1;hs>=-1;hs--){var po=hs===-1?rs:pn[Gn[hs]];if(po&At){po===pr&&Yr(ss,mr);break}}}if(Rr.get(pr))for(var As=0;As<Gn.length;As++){var js=Gn[As];pn[js]&pr&&Yr(js,rr)}if(Rr.get(ur)||Rr.get(Cr))for(var Zs=1;Zs<Gn.length-1;Zs++){var Eo=Gn[Zs];if(pn[Eo]&(ur|Cr)){for(var Os=0,Yo=0,El=Zs-1;El>=0&&(Os=pn[Gn[El]],!!(Os&Tt));El--);for(var Bl=Zs+1;Bl<Gn.length&&(Yo=pn[Gn[Bl]],!!(Yo&Tt));Bl++);Os===Yo&&(pn[Eo]===ur?Os===lr:Os&(lr|mr))&&Yr(Eo,Os)}}if(Rr.get(lr))for(var Uo=0;Uo<Gn.length;Uo++){var ou=Gn[Uo];if(pn[ou]&lr){for(var ao=Uo-1;ao>=0&&pn[Gn[ao]]&(dr|Tt);ao--)Yr(Gn[ao],lr);for(var Al=Uo+1;Al<Gn.length&&pn[Gn[Al]]&(dr|Tt);Al++)Yr(Gn[Al],lr)}}if(Rr.get(dr)||Rr.get(ur)||Rr.get(Cr))for(var Cl=0;Cl<Gn.length;Cl++){var au=Gn[Cl];if(pn[au]&(dr|ur|Cr)){Yr(au,Sr);for(var Go=Cl-1;Go>=0&&pn[Gn[Go]]&Tt;Go--)Yr(Gn[Go],Sr);for(var To=Cl+1;To<Gn.length&&pn[Gn[To]]&Tt;To++)Yr(Gn[To],Sr)}}if(Rr.get(lr))for(var go=0,Ml=rs;go<Gn.length;go++){var lu=Gn[go],Po=pn[lu];Po&lr?Ml===ir&&Yr(lu,ir):Po&At&&(Ml=Po)}if(Rr.get(Ct)){var Qo=rr|lr|mr,Dl=Qo|ir,Vo=[];{for(var yl=[],zo=0;zo<Gn.length;zo++)if(pn[Gn[zo]]&Ct){var os=Qr[Gn[zo]],Fl=void 0;if(nr(os)!==null)if(yl.length<63)yl.push({char:os,seqIndex:zo});else break;else if((Fl=sr(os))!==null)for(var Zo=yl.length-1;Zo>=0;Zo--){var na=yl[Zo].char;if(na===Fl||na===sr(ar(os))||nr(ar(na))===os){Vo.push([yl[Zo].seqIndex,zo]),yl.length=Zo;break}}}Vo.sort(function(Ks,qs){return Ks[0]-qs[0]})}for(var Kl=0;Kl<Vo.length;Kl++){for(var Ol=Vo[Kl],Gs=Ol[0],ga=Ol[1],Xl=!1,lo=0,_a=Gs+1;_a<ga;_a++){var xa=Gn[_a];if(pn[xa]&Dl){Xl=!0;var bo=pn[xa]&Qo?rr:ir;if(bo===uo(xa)){lo=bo;break}}}if(Xl&&!lo){lo=rs;for(var Jl=Gs-1;Jl>=0;Jl--){var Nl=Gn[Jl];if(pn[Nl]&Dl){var Hr=pn[Nl]&Qo?rr:ir;Hr!==uo(Nl)?lo=Hr:lo=uo(Nl);break}}}if(lo){if(pn[Gn[Gs]]=pn[Gn[ga]]=lo,lo!==uo(Gn[Gs])){for(var Zr=Gs+1;Zr<Gn.length;Zr++)if(!(pn[Gn[Zr]]&Tt)){Ft(Qr[Gn[Zr]])&cr&&(pn[Gn[Zr]]=lo);break}}if(lo!==uo(Gn[ga])){for(var Bn=ga+1;Bn<Gn.length;Bn++)if(!(pn[Gn[Bn]]&Tt)){Ft(Qr[Gn[Bn]])&cr&&(pn[Gn[Bn]]=lo);break}}}}for(var zn=0;zn<Gn.length;zn++)if(pn[Gn[zn]]&Ct){for(var Rs=zn,ns=zn,Ss=rs,Vs=zn-1;Vs>=0;Vs--)if(pn[Gn[Vs]]&Tt)Rs=Vs;else{Ss=pn[Gn[Vs]]&Qo?rr:ir;break}for(var zs=Jo,Ls=zn+1;Ls<Gn.length;Ls++)if(pn[Gn[Ls]]&(Ct|Tt))ns=Ls;else{zs=pn[Gn[Ls]]&Qo?rr:ir;break}for(var Is=Rs;Is<=ns;Is++)pn[Gn[Is]]=Ss===zs?Ss:uo(Gn[Is]);zn=ns}}}for(var Bs=Dn.start;Bs<=Dn.end;Bs++){var Ws=fn[Bs],$s=pn[Bs];if(Ws&1?$s&(ir|lr|mr)&&fn[Bs]++:$s&rr?fn[Bs]++:$s&(mr|lr)&&(fn[Bs]+=2),$s&Tt&&(fn[Bs]=Bs===0?Dn.level:fn[Bs-1]),Bs===Dn.end||Ft(Qr[Bs])&(xr|yr))for(var Ys=Bs;Ys>=0&&Ft(Qr[Ys])&Rt;Ys--)fn[Ys]=Dn.level}}return{levels:fn,paragraphs:An};function Ao(Ks,qs){for(var ws=Ks;ws<Qr.length;ws++){var io=pn[ws];if(io&(rr|pr))return 1;if(io&(yr|ir)||qs&&io===Or)return 0;if(io&Et){var ba=Ro(ws);ws=ba===-1?Qr.length:ba}}return 0}function Ro(Ks){for(var qs=1,ws=Ks+1;ws<Qr.length;ws++){var io=pn[ws];if(io&yr)break;if(io&Or){if(--qs===0)return ws}else io&Et&&qs++}return-1}function uo(Ks){return fn[Ks]&1?rr:ir}}var Nr="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Vr;function Br(){if(!Vr){var Qr=Kt(Nr,!0),yn=Qr.map,Pn=Qr.reverseMap;Pn.forEach(function(pn,Fr){yn.set(Fr,pn)}),Vr=yn}}function zr(Qr){return Br(),Vr.get(Qr)||null}function qr(Qr,yn,Pn,pn){var Fr=Qr.length;Pn=Math.max(0,Pn==null?0:+Pn),pn=Math.min(Fr-1,pn==null?Fr-1:+pn);for(var Rr=new Map,Yr=Pn;Yr<=pn;Yr++)if(yn[Yr]&1){var fn=zr(Qr[Yr]);fn!==null&&Rr.set(Yr,fn)}return Rr}function en(Qr,yn,Pn,pn){var Fr=Qr.length;Pn=Math.max(0,Pn==null?0:+Pn),pn=Math.min(Fr-1,pn==null?Fr-1:+pn);var Rr=[];return yn.paragraphs.forEach(function(Yr){var fn=Math.max(Pn,Yr.start),Cn=Math.min(pn,Yr.end);if(fn<Cn){for(var An=yn.levels.slice(fn,Cn+1),Dn=Cn;Dn>=fn&&Ft(Qr[Dn])&Rt;Dn--)An[Dn]=Yr.level;for(var In=Yr.level,mn=1/0,Nn=0;Nn<An.length;Nn++){var Kr=An[Nn];Kr>In&&(In=Kr),Kr<mn&&(mn=Kr|1)}for(var hn=In;hn>=mn;hn--)for(var En=0;En<An.length;En++)if(An[En]>=hn){for(var xn=En;En+1<An.length&&An[En+1]>=hn;)En++;En>xn&&Rr.push([xn+Pn,En+Pn])}}}),Rr}function cn(Qr,yn,Pn,pn){var Fr=Rn(Qr,yn,Pn,pn),Rr=[].concat(Qr);return Fr.forEach(function(Yr,fn){Rr[fn]=(yn.levels[Yr]&1?zr(Qr[Yr]):null)||Qr[Yr]}),Rr.join("")}function Rn(Qr,yn,Pn,pn){for(var Fr=en(Qr,yn,Pn,pn),Rr=[],Yr=0;Yr<Qr.length;Yr++)Rr[Yr]=Yr;return Fr.forEach(function(fn){for(var Cn=fn[0],An=fn[1],Dn=Rr.slice(Cn,An+1),In=Dn.length;In--;)Rr[An-In]=Dn[In]}),Rr}return lt.closingToOpeningBracket=sr,lt.getBidiCharType=Ft,lt.getBidiCharTypeName=kt,lt.getCanonicalBracket=ar,lt.getEmbeddingLevels=jr,lt.getMirroredCharacter=zr,lt.getMirroredCharactersMap=qr,lt.getReorderSegments=en,lt.getReorderedIndices=Rn,lt.getReorderedString=cn,lt.openingToClosingBracket=nr,Object.defineProperty(lt,"__esModule",{value:!0}),lt}({});return ft}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(ft){const lt=/^[ \t]*#include +<([\w\d./]+)>/gm;function dt(vt,St){let Et=ShaderChunk[St];return Et?expandShaderIncludes(Et):vt}return ft.replace(lt,dt)}const _lut=[];for(let ft=0;ft<256;ft++)_lut[ft]=(ft<16?"0":"")+ft.toString(16);function generateUUID(){const ft=Math.random()*4294967295|0,lt=Math.random()*4294967295|0,dt=Math.random()*4294967295|0,vt=Math.random()*4294967295|0;return(_lut[ft&255]+_lut[ft>>8&255]+_lut[ft>>16&255]+_lut[ft>>24&255]+"-"+_lut[lt&255]+_lut[lt>>8&255]+"-"+_lut[lt>>16&15|64]+_lut[lt>>24&255]+"-"+_lut[dt&63|128]+_lut[dt>>8&255]+"-"+_lut[dt>>16&255]+_lut[dt>>24&255]+_lut[vt&255]+_lut[vt>>8&255]+_lut[vt>>16&255]+_lut[vt>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let ft=arguments[0];for(let lt=1,dt=arguments.length;lt<dt;lt++){let vt=arguments[lt];if(vt)for(let St in vt)vt.hasOwnProperty(St)&&(ft[St]=vt[St])}return ft},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(ft,lt){const dt=getKeyForOptions(lt);let vt=CONSTRUCTOR_CACHE.get(ft);if(vt||CONSTRUCTOR_CACHE.set(ft,vt=Object.create(null)),vt[dt])return new vt[dt];const St=`_onBeforeCompile${dt}`,Et=function(Rt){ft.onBeforeCompile.call(this,Rt);const Bt=this.customProgramCacheKey()+"|"+Rt.vertexShader+"|"+Rt.fragmentShader;let Dt=SHADER_UPGRADE_CACHE[Bt];if(!Dt){const Ft=upgradeShaders(Rt,lt,dt);Dt=SHADER_UPGRADE_CACHE[Bt]=Ft}Rt.vertexShader=Dt.vertexShader,Rt.fragmentShader=Dt.fragmentShader,assign$1(Rt.uniforms,this.uniforms),lt.timeUniform&&(Rt.uniforms[lt.timeUniform]={get value(){return Date.now()-epoch}}),this[St]&&this[St](Rt)},At=function(){return Ct(lt.chained?ft:ft.clone())},Ct=function(Rt){const Bt=Object.create(Rt,Tt);return Object.defineProperty(Bt,"baseMaterial",{value:ft}),Object.defineProperty(Bt,"id",{value:materialInstanceId++}),Bt.uuid=generateUUID(),Bt.uniforms=assign$1({},Rt.uniforms,lt.uniforms),Bt.defines=assign$1({},Rt.defines,lt.defines),Bt.defines[`TROIKA_DERIVED_MATERIAL_${dt}`]="",Bt.extensions=assign$1({},Rt.extensions,lt.extensions),Bt._listeners=void 0,Bt},Tt={constructor:{value:At},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return ft.customProgramCacheKey()+"|"+dt}},onBeforeCompile:{get(){return Et},set(Rt){this[St]=Rt}},copy:{writable:!0,configurable:!0,value:function(Rt){return ft.copy.call(this,Rt),!ft.isShaderMaterial&&!ft.isDerivedMaterial&&(assign$1(this.extensions,Rt.extensions),assign$1(this.defines,Rt.defines),assign$1(this.uniforms,UniformsUtils.clone(Rt.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const Rt=new ft.constructor;return Ct(Rt).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let Rt=this._depthMaterial;return Rt||(Rt=this._depthMaterial=createDerivedMaterial(ft.isDerivedMaterial?ft.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),lt),Rt.defines.IS_DEPTH_MATERIAL="",Rt.uniforms=this.uniforms),Rt}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let Rt=this._distanceMaterial;return Rt||(Rt=this._distanceMaterial=createDerivedMaterial(ft.isDerivedMaterial?ft.getDistanceMaterial():new MeshDistanceMaterial,lt),Rt.defines.IS_DISTANCE_MATERIAL="",Rt.uniforms=this.uniforms),Rt}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:Rt,_distanceMaterial:Bt}=this;Rt&&Rt.dispose(),Bt&&Bt.dispose(),ft.dispose.call(this)}}};return vt[dt]=At,new At}function upgradeShaders({vertexShader:ft,fragmentShader:lt},dt,vt){let{vertexDefs:St,vertexMainIntro:Et,vertexMainOutro:At,vertexTransform:Ct,fragmentDefs:Tt,fragmentMainIntro:Rt,fragmentMainOutro:Bt,fragmentColorTransform:Dt,customRewriter:Ft,timeUniform:kt}=dt;if(St=St||"",Et=Et||"",At=At||"",Tt=Tt||"",Rt=Rt||"",Bt=Bt||"",(Ct||Ft)&&(ft=expandShaderIncludes(ft)),(Dt||Ft)&&(lt=lt.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),lt=expandShaderIncludes(lt)),Ft){let Ut=Ft({vertexShader:ft,fragmentShader:lt});ft=Ut.vertexShader,lt=Ut.fragmentShader}if(Dt){let Ut=[];lt=lt.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,Kt=>(Ut.push(Kt),"")),Bt=`${Dt}
${Ut.join(`
`)}
${Bt}`}if(kt){const Ut=`
uniform float ${kt};
`;St=Ut+St,Tt=Ut+Tt}return Ct&&(ft=`vec3 troika_position_${vt};
vec3 troika_normal_${vt};
vec2 troika_uv_${vt};
${ft}
`,St=`${St}
void troikaVertexTransform${vt}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${Ct}
}
`,Et=`
troika_position_${vt} = vec3(position);
troika_normal_${vt} = vec3(normal);
troika_uv_${vt} = vec2(uv);
troikaVertexTransform${vt}(troika_position_${vt}, troika_normal_${vt}, troika_uv_${vt});
${Et}
`,ft=ft.replace(/\b(position|normal|uv)\b/g,(Ut,Kt,tr,Wt)=>/\battribute\s+vec[23]\s+$/.test(Wt.substr(0,tr))?Kt:`troika_${Kt}_${vt}`)),ft=injectIntoShaderCode(ft,vt,St,Et,At),lt=injectIntoShaderCode(lt,vt,Tt,Rt,Bt),{vertexShader:ft,fragmentShader:lt}}function injectIntoShaderCode(ft,lt,dt,vt,St){return(vt||St||dt)&&(ft=ft.replace(voidMainRegExp,`
${dt}
void troikaOrigMain${lt}() {`),ft+=`
void main() {
  ${vt}
  troikaOrigMain${lt}();
  ${St}
}`),ft}function optionsJsonReplacer(ft,lt){return ft==="uniforms"?void 0:typeof lt=="function"?lt.toString():lt}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(ft){const lt=JSON.stringify(ft,optionsJsonReplacer);let dt=optionsHashesToIds.get(lt);return dt==null&&optionsHashesToIds.set(lt,dt=++_idCtr),dt}function createTypesetter(ft,lt,dt){const{defaultFontURL:vt}=dt,St=Object.create(null),Et=1/0,At=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,Ct="[^\\S\\u00A0]",Tt=new RegExp(`${Ct}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function Rt(Zt,Ht){function nr(){const sr=ar=>{console.error(`Failure loading font ${Zt}${Zt===vt?"":"; trying fallback"}`,ar),Zt!==vt&&(Zt=vt,nr())};try{const ar=new XMLHttpRequest;ar.open("get",Zt,!0),ar.responseType="arraybuffer",ar.onload=function(){if(ar.status>=400)sr(new Error(ar.statusText));else if(ar.status>0)try{const ir=ft(ar.response);Ht(ir)}catch(ir){sr(ir)}},ar.onerror=sr,ar.send()}catch(ar){sr(ar)}}nr()}function Bt(Zt,Ht){Zt||(Zt=vt);let nr=St[Zt];nr?nr.pending?nr.pending.push(Ht):Ht(nr):(St[Zt]={pending:[Ht]},Rt(Zt,sr=>{let ar=St[Zt].pending;St[Zt]=sr,ar.forEach(ir=>ir(sr))}))}function Dt({text:Zt="",font:Ht=vt,sdfGlyphSize:nr=64,fontSize:sr=1,letterSpacing:ar=0,lineHeight:ir="normal",maxWidth:rr=Et,direction:lr,textAlign:ur="left",textIndent:dr=0,whiteSpace:mr="normal",overflowWrap:Cr="normal",anchorX:yr=0,anchorY:xr=0,includeCaretPositions:Sr=!1,chunkedBoundsSize:br=8192,colorRanges:cr=null},pr,Er=!1){const _r=Kt(),Ar={fontLoad:0,typesetting:0};Zt.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),Zt=Zt.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),sr=+sr,ar=+ar,rr=+rr,ir=ir||"normal",dr=+dr,Bt(Ht,Pr=>{const Ir=isFinite(rr);let kr=null,Dr=null,Jr=null,Or=null,jr=null,Nr=null,Vr=null,Br=0,zr=0,qr=mr!=="nowrap";const{ascender:en,descender:cn,unitsPerEm:Rn,lineGap:Qr,capHeight:yn,xHeight:Pn}=Pr;Ar.fontLoad=Kt()-_r;const pn=Kt(),Fr=sr/Rn;ir==="normal"&&(ir=(en-cn+Qr)/Rn),ir=ir*sr;const Rr=(ir-(en-cn)*Fr)/2,Yr=-(en*Fr+Rr),fn=Math.min(ir,(en-cn)*Fr),Cn=(en+cn)/2*Fr-fn/2;let An=dr,Dn=new tr;const In=[Dn];Pr.forEachGlyph(Zt,sr,ar,(Kr,hn,En)=>{const xn=Zt.charAt(En),On=Kr.advanceWidth*Fr,Wn=Dn.count;let es;if("isEmpty"in Kr||(Kr.isWhitespace=!!xn&&new RegExp(Ct).test(xn),Kr.canBreakAfter=!!xn&&Tt.test(xn),Kr.isEmpty=Kr.xMin===Kr.xMax||Kr.yMin===Kr.yMax||At.test(xn)),!Kr.isWhitespace&&!Kr.isEmpty&&zr++,qr&&Ir&&!Kr.isWhitespace&&hn+On+An>rr&&Wn){if(Dn.glyphAt(Wn-1).glyphObj.canBreakAfter)es=new tr,An=-hn;else for(let dn=Wn;dn--;)if(dn===0&&Cr==="break-word"){es=new tr,An=-hn;break}else if(Dn.glyphAt(dn).glyphObj.canBreakAfter){es=Dn.splitAt(dn+1);const Ln=es.glyphAt(0).x;An-=Ln;for(let Vn=es.count;Vn--;)es.glyphAt(Vn).x-=Ln;break}es&&(Dn.isSoftWrapped=!0,Dn=es,In.push(Dn),Br=rr)}let Xr=Dn.glyphAt(Dn.count);Xr.glyphObj=Kr,Xr.x=hn+An,Xr.width=On,Xr.charIndex=En,xn===`
`&&(Dn=new tr,In.push(Dn),An=-(hn+On+ar*sr)+dr)}),In.forEach(Kr=>{for(let hn=Kr.count;hn--;){let{glyphObj:En,x:xn,width:On}=Kr.glyphAt(hn);if(!En.isWhitespace){Kr.width=xn+On,Kr.width>Br&&(Br=Kr.width);return}}});let mn=0,Nn=0;if(yr&&(typeof yr=="number"?mn=-yr:typeof yr=="string"&&(mn=-Br*(yr==="left"?0:yr==="center"?.5:yr==="right"?1:kt(yr)))),xr){if(typeof xr=="number")Nn=-xr;else if(typeof xr=="string"){let Kr=In.length*ir;Nn=xr==="top"?0:xr==="top-baseline"?-Yr:xr==="top-cap"?-Yr-yn*Fr:xr==="top-ex"?-Yr-Pn*Fr:xr==="middle"?Kr/2:xr==="bottom"?Kr:xr==="bottom-baseline"?Kr-Rr+cn*Fr:kt(xr)*Kr}}if(!Er){const Kr=lt.getEmbeddingLevels(Zt,lr);kr=new Uint16Array(zr),Dr=new Float32Array(zr*2),Jr={},Nr=[Et,Et,-Et,-Et],Vr=[];let hn=Yr;Sr&&(jr=new Float32Array(Zt.length*3)),cr&&(Or=new Uint8Array(zr*3));let En=0,xn=-1,On=-1,Wn,es;if(In.forEach((Xr,dn)=>{let{count:Ln,width:Vn}=Xr;if(Ln>0){let jn=0;for(let bs=Ln;bs--&&Xr.glyphAt(bs).glyphObj.isWhitespace;)jn++;let ts=0,_s=0;if(ur==="center")ts=(Br-Vn)/2;else if(ur==="right")ts=Br-Vn;else if(ur==="justify"&&Xr.isSoftWrapped){let bs=0;for(let vs=Ln-jn;vs--;)Xr.glyphAt(vs).glyphObj.isWhitespace&&bs++;_s=(Br-Vn)/bs}if(_s||ts){let bs=0;for(let vs=0;vs<Ln;vs++){let oo=Xr.glyphAt(vs);const ro=oo.glyphObj;oo.x+=ts+bs,_s!==0&&ro.isWhitespace&&vs<Ln-jn&&(bs+=_s,oo.width+=_s)}}const Es=lt.getReorderSegments(Zt,Kr,Xr.glyphAt(0).charIndex,Xr.glyphAt(Xr.count-1).charIndex);for(let bs=0;bs<Es.length;bs++){const[vs,oo]=Es[bs];let ro=1/0,Cs=-1/0;for(let Ns=0;Ns<Ln;Ns++)if(Xr.glyphAt(Ns).charIndex>=vs){let Gr=Ns,an=Ns;for(;an<Ln;an++){let vn=Xr.glyphAt(an);if(vn.charIndex>oo)break;an<Ln-jn&&(ro=Math.min(ro,vn.x),Cs=Math.max(Cs,vn.x+vn.width))}for(let vn=Gr;vn<an;vn++){const ln=Xr.glyphAt(vn);ln.x=Cs-(ln.x+ln.width-ro)}break}}let xs;const gs=bs=>xs=bs;for(let bs=0;bs<Ln;bs++){let vs=Xr.glyphAt(bs);xs=vs.glyphObj;const oo=xs.index,ro=Kr.levels[vs.charIndex]&1;if(ro){const Cs=lt.getMirroredCharacter(Zt[vs.charIndex]);Cs&&Pr.forEachGlyph(Cs,0,0,gs)}if(Sr){const{charIndex:Cs}=vs,Ns=vs.x+mn,Gr=vs.x+vs.width+mn;jr[Cs*3]=ro?Gr:Ns,jr[Cs*3+1]=ro?Ns:Gr,jr[Cs*3+2]=hn+Cn+Nn;const an=Cs-xn;an>1&&Ut(jr,xn,an),xn=Cs}if(cr){const{charIndex:Cs}=vs;for(;Cs>On;)On++,cr.hasOwnProperty(On)&&(es=cr[On])}if(!xs.isWhitespace&&!xs.isEmpty){const Cs=En++;Jr[oo]||(Jr[oo]={path:xs.path,pathBounds:[xs.xMin,xs.yMin,xs.xMax,xs.yMax]});const Ns=vs.x+mn,Gr=hn+Nn;Dr[Cs*2]=Ns,Dr[Cs*2+1]=Gr;const an=Ns+xs.xMin*Fr,vn=Gr+xs.yMin*Fr,ln=Ns+xs.xMax*Fr,Mn=Gr+xs.yMax*Fr;an<Nr[0]&&(Nr[0]=an),vn<Nr[1]&&(Nr[1]=vn),ln>Nr[2]&&(Nr[2]=ln),Mn>Nr[3]&&(Nr[3]=Mn),Cs%br===0&&(Wn={start:Cs,end:Cs,rect:[Et,Et,-Et,-Et]},Vr.push(Wn)),Wn.end++;const Kn=Wn.rect;if(an<Kn[0]&&(Kn[0]=an),vn<Kn[1]&&(Kn[1]=vn),ln>Kn[2]&&(Kn[2]=ln),Mn>Kn[3]&&(Kn[3]=Mn),kr[Cs]=oo,cr){const Qn=Cs*3;Or[Qn]=es>>16&255,Or[Qn+1]=es>>8&255,Or[Qn+2]=es&255}}}}hn-=ir}),jr){const Xr=Zt.length-xn;Xr>1&&Ut(jr,xn,Xr)}}Ar.typesetting=Kt()-pn,pr({glyphIds:kr,glyphPositions:Dr,glyphData:Jr,caretPositions:jr,caretHeight:fn,glyphColors:Or,chunkedBounds:Vr,fontSize:sr,unitsPerEm:Rn,ascender:en*Fr,descender:cn*Fr,capHeight:yn*Fr,xHeight:Pn*Fr,lineHeight:ir,topBaseline:Yr,blockBounds:[mn,Nn-In.length*ir,mn+Br,Nn],visibleBounds:Nr,timings:Ar})})}function Ft(Zt,Ht){Dt(Zt,nr=>{const[sr,ar,ir,rr]=nr.blockBounds;Ht({width:ir-sr,height:rr-ar})},{metricsOnly:!0})}function kt(Zt){let Ht=Zt.match(/^([\d.]+)%$/),nr=Ht?parseFloat(Ht[1]):NaN;return isNaN(nr)?0:nr/100}function Ut(Zt,Ht,nr){const sr=Zt[Ht*3],ar=Zt[Ht*3+1],ir=Zt[Ht*3+2],rr=(ar-sr)/nr;for(let lr=0;lr<nr;lr++){const ur=(Ht+lr)*3;Zt[ur]=sr+rr*lr,Zt[ur+1]=sr+rr*(lr+1),Zt[ur+2]=ir}}function Kt(){return(self.performance||Date).now()}function tr(){this.data=[]}const Wt=["glyphObj","x","width","charIndex"];return tr.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/Wt.length)},glyphAt(Zt){let Ht=tr.flyweight;return Ht.data=this.data,Ht.index=Zt,Ht},splitAt(Zt){let Ht=new tr;return Ht.data=this.data.splice(Zt*Wt.length),Ht}},tr.flyweight=Wt.reduce((Zt,Ht,nr,sr)=>(Object.defineProperty(Zt,Ht,{get(){return this.data[this.index*Wt.length+nr]},set(ar){this.data[this.index*Wt.length+nr]=ar}}),Zt),{data:null,index:0}),{typeset:Dt,measure:Ft,loadFont:Bt}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(ft,lt,dt,vt,St,Et,At,Ct,Tt,Rt,Bt=!0){return Bt?generateSDF_GL(ft,lt,dt,vt,St,Et,At,Ct,Tt,Rt).then(null,Dt=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",Dt),warned=!0),generateSDF_JS_Worker(ft,lt,dt,vt,St,Et,At,Ct,Tt,Rt))):generateSDF_JS_Worker(ft,lt,dt,vt,St,Et,At,Ct,Tt,Rt)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const ft=now();for(;queue.length&&now()-ft<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...ft)=>new Promise((lt,dt)=>{queue.push(()=>{const vt=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...ft),lt({timing:now()-vt})}catch(St){dt(St)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(ft,lt,dt,vt,St,Et,At,Ct,Tt,Rt){const Bt="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let Dt=threads[Bt];return Dt||(Dt=threads[Bt]={workerModule:defineWorkerModule({name:Bt,workerId:Bt,dependencies:[SDFGenerator,now],init(Ft,kt){const Ut=Ft().javascript.generate;return function(...Kt){const tr=kt();return{textureData:Ut(...Kt),timing:kt()-tr}}},getTransferables(Ft){return[Ft.textureData.buffer]}}),requests:0,idleTimer:null}),Dt.requests++,clearTimeout(Dt.idleTimer),Dt.workerModule(ft,lt,dt,vt,St,Et).then(({textureData:Ft,timing:kt})=>{const Ut=now(),Kt=new Uint8Array(Ft.length*4);for(let tr=0;tr<Ft.length;tr++)Kt[tr*4+Rt]=Ft[tr];return mainThreadGenerator.webglUtils.renderImageData(At,Kt,Ct,Tt,ft,lt,1<<3-Rt),kt+=now()-Ut,--Dt.requests===0&&(Dt.idleTimer=setTimeout(()=>{terminateWorker(Bt)},idleTimeout)),{timing:kt}})}function warmUpSDFCanvas(ft){ft._warm||(mainThreadGenerator.webgl.isSupported(ft),ft._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(ft){var lt={parse:function(St){var Et=lt._bin,At=new Uint8Array(St);if(Et.readASCII(At,0,4)=="ttcf"){var Ct=4;Et.readUshort(At,Ct),Ct+=2,Et.readUshort(At,Ct),Ct+=2;var Tt=Et.readUint(At,Ct);Ct+=4;for(var Rt=[],Bt=0;Bt<Tt;Bt++){var Dt=Et.readUint(At,Ct);Ct+=4,Rt.push(lt._readFont(At,Dt))}return Rt}return[lt._readFont(At,0)]},_readFont:function(St,Et){var At=lt._bin,Ct=Et;At.readFixed(St,Et),Et+=4;var Tt=At.readUshort(St,Et);Et+=2,At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2;for(var Rt=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],Bt={_data:St,_offset:Ct},Dt={},Ft=0;Ft<Tt;Ft++){var kt=At.readASCII(St,Et,4);Et+=4,At.readUint(St,Et),Et+=4;var Ut=At.readUint(St,Et);Et+=4;var Kt=At.readUint(St,Et);Et+=4,Dt[kt]={offset:Ut,length:Kt}}for(Ft=0;Ft<Rt.length;Ft++){var tr=Rt[Ft];Dt[tr]&&(Bt[tr.trim()]=lt[tr.trim()].parse(St,Dt[tr].offset,Dt[tr].length,Bt))}return Bt},_tabOffset:function(St,Et,At){for(var Ct=lt._bin,Tt=Ct.readUshort(St,At+4),Rt=At+12,Bt=0;Bt<Tt;Bt++){var Dt=Ct.readASCII(St,Rt,4);Rt+=4,Ct.readUint(St,Rt),Rt+=4;var Ft=Ct.readUint(St,Rt);if(Rt+=4,Ct.readUint(St,Rt),Rt+=4,Dt==Et)return Ft}return 0}};lt._bin={readFixed:function(St,Et){return(St[Et]<<8|St[Et+1])+(St[Et+2]<<8|St[Et+3])/65540},readF2dot14:function(St,Et){return lt._bin.readShort(St,Et)/16384},readInt:function(St,Et){return lt._bin._view(St).getInt32(Et)},readInt8:function(St,Et){return lt._bin._view(St).getInt8(Et)},readShort:function(St,Et){return lt._bin._view(St).getInt16(Et)},readUshort:function(St,Et){return lt._bin._view(St).getUint16(Et)},readUshorts:function(St,Et,At){for(var Ct=[],Tt=0;Tt<At;Tt++)Ct.push(lt._bin.readUshort(St,Et+2*Tt));return Ct},readUint:function(St,Et){return lt._bin._view(St).getUint32(Et)},readUint64:function(St,Et){return 4294967296*lt._bin.readUint(St,Et)+lt._bin.readUint(St,Et+4)},readASCII:function(St,Et,At){for(var Ct="",Tt=0;Tt<At;Tt++)Ct+=String.fromCharCode(St[Et+Tt]);return Ct},readUnicode:function(St,Et,At){for(var Ct="",Tt=0;Tt<At;Tt++){var Rt=St[Et++]<<8|St[Et++];Ct+=String.fromCharCode(Rt)}return Ct},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(St,Et,At){var Ct=lt._bin._tdec;return Ct&&Et==0&&At==St.length?Ct.decode(St):lt._bin.readASCII(St,Et,At)},readBytes:function(St,Et,At){for(var Ct=[],Tt=0;Tt<At;Tt++)Ct.push(St[Et+Tt]);return Ct},readASCIIArray:function(St,Et,At){for(var Ct=[],Tt=0;Tt<At;Tt++)Ct.push(String.fromCharCode(St[Et+Tt]));return Ct},_view:function(St){return St._dataView||(St._dataView=St.buffer?new DataView(St.buffer,St.byteOffset,St.byteLength):new DataView(new Uint8Array(St).buffer))}},lt._lctf={},lt._lctf.parse=function(St,Et,At,Ct,Tt){var Rt=lt._bin,Bt={},Dt=Et;Rt.readFixed(St,Et),Et+=4;var Ft=Rt.readUshort(St,Et);Et+=2;var kt=Rt.readUshort(St,Et);Et+=2;var Ut=Rt.readUshort(St,Et);return Et+=2,Bt.scriptList=lt._lctf.readScriptList(St,Dt+Ft),Bt.featureList=lt._lctf.readFeatureList(St,Dt+kt),Bt.lookupList=lt._lctf.readLookupList(St,Dt+Ut,Tt),Bt},lt._lctf.readLookupList=function(St,Et,At){var Ct=lt._bin,Tt=Et,Rt=[],Bt=Ct.readUshort(St,Et);Et+=2;for(var Dt=0;Dt<Bt;Dt++){var Ft=Ct.readUshort(St,Et);Et+=2;var kt=lt._lctf.readLookupTable(St,Tt+Ft,At);Rt.push(kt)}return Rt},lt._lctf.readLookupTable=function(St,Et,At){var Ct=lt._bin,Tt=Et,Rt={tabs:[]};Rt.ltype=Ct.readUshort(St,Et),Et+=2,Rt.flag=Ct.readUshort(St,Et),Et+=2;var Bt=Ct.readUshort(St,Et);Et+=2;for(var Dt=Rt.ltype,Ft=0;Ft<Bt;Ft++){var kt=Ct.readUshort(St,Et);Et+=2;var Ut=At(St,Dt,Tt+kt,Rt);Rt.tabs.push(Ut)}return Rt},lt._lctf.numOfOnes=function(St){for(var Et=0,At=0;At<32;At++)St>>>At&1&&Et++;return Et},lt._lctf.readClassDef=function(St,Et){var At=lt._bin,Ct=[],Tt=At.readUshort(St,Et);if(Et+=2,Tt==1){var Rt=At.readUshort(St,Et);Et+=2;var Bt=At.readUshort(St,Et);Et+=2;for(var Dt=0;Dt<Bt;Dt++)Ct.push(Rt+Dt),Ct.push(Rt+Dt),Ct.push(At.readUshort(St,Et)),Et+=2}if(Tt==2){var Ft=At.readUshort(St,Et);for(Et+=2,Dt=0;Dt<Ft;Dt++)Ct.push(At.readUshort(St,Et)),Et+=2,Ct.push(At.readUshort(St,Et)),Et+=2,Ct.push(At.readUshort(St,Et)),Et+=2}return Ct},lt._lctf.getInterval=function(St,Et){for(var At=0;At<St.length;At+=3){var Ct=St[At],Tt=St[At+1];if(St[At+2],Ct<=Et&&Et<=Tt)return At}return-1},lt._lctf.readCoverage=function(St,Et){var At=lt._bin,Ct={};Ct.fmt=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);return Et+=2,Ct.fmt==1&&(Ct.tab=At.readUshorts(St,Et,Tt)),Ct.fmt==2&&(Ct.tab=At.readUshorts(St,Et,3*Tt)),Ct},lt._lctf.coverageIndex=function(St,Et){var At=St.tab;if(St.fmt==1)return At.indexOf(Et);if(St.fmt==2){var Ct=lt._lctf.getInterval(At,Et);if(Ct!=-1)return At[Ct+2]+(Et-At[Ct])}return-1},lt._lctf.readFeatureList=function(St,Et){var At=lt._bin,Ct=Et,Tt=[],Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Dt=At.readASCII(St,Et,4);Et+=4;var Ft=At.readUshort(St,Et);Et+=2;var kt=lt._lctf.readFeatureTable(St,Ct+Ft);kt.tag=Dt.trim(),Tt.push(kt)}return Tt},lt._lctf.readFeatureTable=function(St,Et){var At=lt._bin,Ct=Et,Tt={},Rt=At.readUshort(St,Et);Et+=2,Rt>0&&(Tt.featureParams=Ct+Rt);var Bt=At.readUshort(St,Et);Et+=2,Tt.tab=[];for(var Dt=0;Dt<Bt;Dt++)Tt.tab.push(At.readUshort(St,Et+2*Dt));return Tt},lt._lctf.readScriptList=function(St,Et){var At=lt._bin,Ct=Et,Tt={},Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Dt=At.readASCII(St,Et,4);Et+=4;var Ft=At.readUshort(St,Et);Et+=2,Tt[Dt.trim()]=lt._lctf.readScriptTable(St,Ct+Ft)}return Tt},lt._lctf.readScriptTable=function(St,Et){var At=lt._bin,Ct=Et,Tt={},Rt=At.readUshort(St,Et);Et+=2,Tt.default=lt._lctf.readLangSysTable(St,Ct+Rt);var Bt=At.readUshort(St,Et);Et+=2;for(var Dt=0;Dt<Bt;Dt++){var Ft=At.readASCII(St,Et,4);Et+=4;var kt=At.readUshort(St,Et);Et+=2,Tt[Ft.trim()]=lt._lctf.readLangSysTable(St,Ct+kt)}return Tt},lt._lctf.readLangSysTable=function(St,Et){var At=lt._bin,Ct={};At.readUshort(St,Et),Et+=2,Ct.reqFeature=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);return Et+=2,Ct.features=At.readUshorts(St,Et,Tt),Ct},lt.CFF={},lt.CFF.parse=function(St,Et,At){var Ct=lt._bin;(St=new Uint8Array(St.buffer,Et,At))[Et=0],St[++Et],St[++Et],St[++Et],Et++;var Tt=[];Et=lt.CFF.readIndex(St,Et,Tt);for(var Rt=[],Bt=0;Bt<Tt.length-1;Bt++)Rt.push(Ct.readASCII(St,Et+Tt[Bt],Tt[Bt+1]-Tt[Bt]));Et+=Tt[Tt.length-1];var Dt=[];Et=lt.CFF.readIndex(St,Et,Dt);var Ft=[];for(Bt=0;Bt<Dt.length-1;Bt++)Ft.push(lt.CFF.readDict(St,Et+Dt[Bt],Et+Dt[Bt+1]));Et+=Dt[Dt.length-1];var kt=Ft[0],Ut=[];Et=lt.CFF.readIndex(St,Et,Ut);var Kt=[];for(Bt=0;Bt<Ut.length-1;Bt++)Kt.push(Ct.readASCII(St,Et+Ut[Bt],Ut[Bt+1]-Ut[Bt]));if(Et+=Ut[Ut.length-1],lt.CFF.readSubrs(St,Et,kt),kt.CharStrings){Et=kt.CharStrings,Ut=[],Et=lt.CFF.readIndex(St,Et,Ut);var tr=[];for(Bt=0;Bt<Ut.length-1;Bt++)tr.push(Ct.readBytes(St,Et+Ut[Bt],Ut[Bt+1]-Ut[Bt]));kt.CharStrings=tr}if(kt.ROS){Et=kt.FDArray;var Wt=[];for(Et=lt.CFF.readIndex(St,Et,Wt),kt.FDArray=[],Bt=0;Bt<Wt.length-1;Bt++){var Zt=lt.CFF.readDict(St,Et+Wt[Bt],Et+Wt[Bt+1]);lt.CFF._readFDict(St,Zt,Kt),kt.FDArray.push(Zt)}Et+=Wt[Wt.length-1],Et=kt.FDSelect,kt.FDSelect=[];var Ht=St[Et];if(Et++,Ht!=3)throw Ht;var nr=Ct.readUshort(St,Et);for(Et+=2,Bt=0;Bt<nr+1;Bt++)kt.FDSelect.push(Ct.readUshort(St,Et),St[Et+2]),Et+=3}return kt.Encoding&&(kt.Encoding=lt.CFF.readEncoding(St,kt.Encoding,kt.CharStrings.length)),kt.charset&&(kt.charset=lt.CFF.readCharset(St,kt.charset,kt.CharStrings.length)),lt.CFF._readFDict(St,kt,Kt),kt},lt.CFF._readFDict=function(St,Et,At){var Ct;for(var Tt in Et.Private&&(Ct=Et.Private[1],Et.Private=lt.CFF.readDict(St,Ct,Ct+Et.Private[0]),Et.Private.Subrs&&lt.CFF.readSubrs(St,Ct+Et.Private.Subrs,Et.Private)),Et)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(Tt)!=-1&&(Et[Tt]=At[Et[Tt]-426+35])},lt.CFF.readSubrs=function(St,Et,At){var Ct=lt._bin,Tt=[];Et=lt.CFF.readIndex(St,Et,Tt);var Rt,Bt=Tt.length;Rt=Bt<1240?107:Bt<33900?1131:32768,At.Bias=Rt,At.Subrs=[];for(var Dt=0;Dt<Tt.length-1;Dt++)At.Subrs.push(Ct.readBytes(St,Et+Tt[Dt],Tt[Dt+1]-Tt[Dt]))},lt.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],lt.CFF.glyphByUnicode=function(St,Et){for(var At=0;At<St.charset.length;At++)if(St.charset[At]==Et)return At;return-1},lt.CFF.glyphBySE=function(St,Et){return Et<0||Et>255?-1:lt.CFF.glyphByUnicode(St,lt.CFF.tableSE[Et])},lt.CFF.readEncoding=function(St,Et,At){lt._bin;var Ct=[".notdef"],Tt=St[Et];if(Et++,Tt!=0)throw"error: unknown encoding format: "+Tt;var Rt=St[Et];Et++;for(var Bt=0;Bt<Rt;Bt++)Ct.push(St[Et+Bt]);return Ct},lt.CFF.readCharset=function(St,Et,At){var Ct=lt._bin,Tt=[".notdef"],Rt=St[Et];if(Et++,Rt==0)for(var Bt=0;Bt<At;Bt++){var Dt=Ct.readUshort(St,Et);Et+=2,Tt.push(Dt)}else{if(Rt!=1&&Rt!=2)throw"error: format: "+Rt;for(;Tt.length<At;){Dt=Ct.readUshort(St,Et),Et+=2;var Ft=0;for(Rt==1?(Ft=St[Et],Et++):(Ft=Ct.readUshort(St,Et),Et+=2),Bt=0;Bt<=Ft;Bt++)Tt.push(Dt),Dt++}}return Tt},lt.CFF.readIndex=function(St,Et,At){var Ct=lt._bin,Tt=Ct.readUshort(St,Et)+1,Rt=St[Et+=2];if(Et++,Rt==1)for(var Bt=0;Bt<Tt;Bt++)At.push(St[Et+Bt]);else if(Rt==2)for(Bt=0;Bt<Tt;Bt++)At.push(Ct.readUshort(St,Et+2*Bt));else if(Rt==3)for(Bt=0;Bt<Tt;Bt++)At.push(16777215&Ct.readUint(St,Et+3*Bt-1));else if(Tt!=1)throw"unsupported offset size: "+Rt+", count: "+Tt;return(Et+=Tt*Rt)-1},lt.CFF.getCharString=function(St,Et,At){var Ct=lt._bin,Tt=St[Et],Rt=St[Et+1];St[Et+2],St[Et+3],St[Et+4];var Bt=1,Dt=null,Ft=null;Tt<=20&&(Dt=Tt,Bt=1),Tt==12&&(Dt=100*Tt+Rt,Bt=2),21<=Tt&&Tt<=27&&(Dt=Tt,Bt=1),Tt==28&&(Ft=Ct.readShort(St,Et+1),Bt=3),29<=Tt&&Tt<=31&&(Dt=Tt,Bt=1),32<=Tt&&Tt<=246&&(Ft=Tt-139,Bt=1),247<=Tt&&Tt<=250&&(Ft=256*(Tt-247)+Rt+108,Bt=2),251<=Tt&&Tt<=254&&(Ft=256*-(Tt-251)-Rt-108,Bt=2),Tt==255&&(Ft=Ct.readInt(St,Et+1)/65535,Bt=5),At.val=Ft??"o"+Dt,At.size=Bt},lt.CFF.readCharString=function(St,Et,At){for(var Ct=Et+At,Tt=lt._bin,Rt=[];Et<Ct;){var Bt=St[Et],Dt=St[Et+1];St[Et+2],St[Et+3],St[Et+4];var Ft=1,kt=null,Ut=null;Bt<=20&&(kt=Bt,Ft=1),Bt==12&&(kt=100*Bt+Dt,Ft=2),Bt!=19&&Bt!=20||(kt=Bt,Ft=2),21<=Bt&&Bt<=27&&(kt=Bt,Ft=1),Bt==28&&(Ut=Tt.readShort(St,Et+1),Ft=3),29<=Bt&&Bt<=31&&(kt=Bt,Ft=1),32<=Bt&&Bt<=246&&(Ut=Bt-139,Ft=1),247<=Bt&&Bt<=250&&(Ut=256*(Bt-247)+Dt+108,Ft=2),251<=Bt&&Bt<=254&&(Ut=256*-(Bt-251)-Dt-108,Ft=2),Bt==255&&(Ut=Tt.readInt(St,Et+1)/65535,Ft=5),Rt.push(Ut??"o"+kt),Et+=Ft}return Rt},lt.CFF.readDict=function(St,Et,At){for(var Ct=lt._bin,Tt={},Rt=[];Et<At;){var Bt=St[Et],Dt=St[Et+1];St[Et+2],St[Et+3],St[Et+4];var Ft=1,kt=null,Ut=null;if(Bt==28&&(Ut=Ct.readShort(St,Et+1),Ft=3),Bt==29&&(Ut=Ct.readInt(St,Et+1),Ft=5),32<=Bt&&Bt<=246&&(Ut=Bt-139,Ft=1),247<=Bt&&Bt<=250&&(Ut=256*(Bt-247)+Dt+108,Ft=2),251<=Bt&&Bt<=254&&(Ut=256*-(Bt-251)-Dt-108,Ft=2),Bt==255)throw Ut=Ct.readInt(St,Et+1)/65535,Ft=5,"unknown number";if(Bt==30){var Kt=[];for(Ft=1;;){var tr=St[Et+Ft];Ft++;var Wt=tr>>4,Zt=15&tr;if(Wt!=15&&Kt.push(Wt),Zt!=15&&Kt.push(Zt),Zt==15)break}for(var Ht="",nr=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],sr=0;sr<Kt.length;sr++)Ht+=nr[Kt[sr]];Ut=parseFloat(Ht)}Bt<=21&&(kt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][Bt],Ft=1,Bt==12&&(kt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][Dt],Ft=2)),kt!=null?(Tt[kt]=Rt.length==1?Rt[0]:Rt,Rt=[]):Rt.push(Ut),Et+=Ft}return Tt},lt.cmap={},lt.cmap.parse=function(St,Et,At){St=new Uint8Array(St.buffer,Et,At),Et=0;var Ct=lt._bin,Tt={};Ct.readUshort(St,Et),Et+=2;var Rt=Ct.readUshort(St,Et);Et+=2;var Bt=[];Tt.tables=[];for(var Dt=0;Dt<Rt;Dt++){var Ft=Ct.readUshort(St,Et);Et+=2;var kt=Ct.readUshort(St,Et);Et+=2;var Ut=Ct.readUint(St,Et);Et+=4;var Kt="p"+Ft+"e"+kt,tr=Bt.indexOf(Ut);if(tr==-1){var Wt;tr=Tt.tables.length,Bt.push(Ut);var Zt=Ct.readUshort(St,Ut);Zt==0?Wt=lt.cmap.parse0(St,Ut):Zt==4?Wt=lt.cmap.parse4(St,Ut):Zt==6?Wt=lt.cmap.parse6(St,Ut):Zt==12?Wt=lt.cmap.parse12(St,Ut):console.debug("unknown format: "+Zt,Ft,kt,Ut),Tt.tables.push(Wt)}if(Tt[Kt]!=null)throw"multiple tables for one platform+encoding";Tt[Kt]=tr}return Tt},lt.cmap.parse0=function(St,Et){var At=lt._bin,Ct={};Ct.format=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);Et+=2,At.readUshort(St,Et),Et+=2,Ct.map=[];for(var Rt=0;Rt<Tt-6;Rt++)Ct.map.push(St[Et+Rt]);return Ct},lt.cmap.parse4=function(St,Et){var At=lt._bin,Ct=Et,Tt={};Tt.format=At.readUshort(St,Et),Et+=2;var Rt=At.readUshort(St,Et);Et+=2,At.readUshort(St,Et),Et+=2;var Bt=At.readUshort(St,Et);Et+=2;var Dt=Bt/2;Tt.searchRange=At.readUshort(St,Et),Et+=2,Tt.entrySelector=At.readUshort(St,Et),Et+=2,Tt.rangeShift=At.readUshort(St,Et),Et+=2,Tt.endCount=At.readUshorts(St,Et,Dt),Et+=2*Dt,Et+=2,Tt.startCount=At.readUshorts(St,Et,Dt),Et+=2*Dt,Tt.idDelta=[];for(var Ft=0;Ft<Dt;Ft++)Tt.idDelta.push(At.readShort(St,Et)),Et+=2;for(Tt.idRangeOffset=At.readUshorts(St,Et,Dt),Et+=2*Dt,Tt.glyphIdArray=[];Et<Ct+Rt;)Tt.glyphIdArray.push(At.readUshort(St,Et)),Et+=2;return Tt},lt.cmap.parse6=function(St,Et){var At=lt._bin,Ct={};Ct.format=At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2,At.readUshort(St,Et),Et+=2,Ct.firstCode=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);Et+=2,Ct.glyphIdArray=[];for(var Rt=0;Rt<Tt;Rt++)Ct.glyphIdArray.push(At.readUshort(St,Et)),Et+=2;return Ct},lt.cmap.parse12=function(St,Et){var At=lt._bin,Ct={};Ct.format=At.readUshort(St,Et),Et+=2,Et+=2,At.readUint(St,Et),Et+=4,At.readUint(St,Et),Et+=4;var Tt=At.readUint(St,Et);Et+=4,Ct.groups=[];for(var Rt=0;Rt<Tt;Rt++){var Bt=Et+12*Rt,Dt=At.readUint(St,Bt+0),Ft=At.readUint(St,Bt+4),kt=At.readUint(St,Bt+8);Ct.groups.push([Dt,Ft,kt])}return Ct},lt.glyf={},lt.glyf.parse=function(St,Et,At,Ct){for(var Tt=[],Rt=0;Rt<Ct.maxp.numGlyphs;Rt++)Tt.push(null);return Tt},lt.glyf._parseGlyf=function(St,Et){var At=lt._bin,Ct=St._data,Tt=lt._tabOffset(Ct,"glyf",St._offset)+St.loca[Et];if(St.loca[Et]==St.loca[Et+1])return null;var Rt={};if(Rt.noc=At.readShort(Ct,Tt),Tt+=2,Rt.xMin=At.readShort(Ct,Tt),Tt+=2,Rt.yMin=At.readShort(Ct,Tt),Tt+=2,Rt.xMax=At.readShort(Ct,Tt),Tt+=2,Rt.yMax=At.readShort(Ct,Tt),Tt+=2,Rt.xMin>=Rt.xMax||Rt.yMin>=Rt.yMax)return null;if(Rt.noc>0){Rt.endPts=[];for(var Bt=0;Bt<Rt.noc;Bt++)Rt.endPts.push(At.readUshort(Ct,Tt)),Tt+=2;var Dt=At.readUshort(Ct,Tt);if(Tt+=2,Ct.length-Tt<Dt)return null;Rt.instructions=At.readBytes(Ct,Tt,Dt),Tt+=Dt;var Ft=Rt.endPts[Rt.noc-1]+1;for(Rt.flags=[],Bt=0;Bt<Ft;Bt++){var kt=Ct[Tt];if(Tt++,Rt.flags.push(kt),(8&kt)!=0){var Ut=Ct[Tt];Tt++;for(var Kt=0;Kt<Ut;Kt++)Rt.flags.push(kt),Bt++}}for(Rt.xs=[],Bt=0;Bt<Ft;Bt++){var tr=(2&Rt.flags[Bt])!=0,Wt=(16&Rt.flags[Bt])!=0;tr?(Rt.xs.push(Wt?Ct[Tt]:-Ct[Tt]),Tt++):Wt?Rt.xs.push(0):(Rt.xs.push(At.readShort(Ct,Tt)),Tt+=2)}for(Rt.ys=[],Bt=0;Bt<Ft;Bt++)tr=(4&Rt.flags[Bt])!=0,Wt=(32&Rt.flags[Bt])!=0,tr?(Rt.ys.push(Wt?Ct[Tt]:-Ct[Tt]),Tt++):Wt?Rt.ys.push(0):(Rt.ys.push(At.readShort(Ct,Tt)),Tt+=2);var Zt=0,Ht=0;for(Bt=0;Bt<Ft;Bt++)Zt+=Rt.xs[Bt],Ht+=Rt.ys[Bt],Rt.xs[Bt]=Zt,Rt.ys[Bt]=Ht}else{var nr;Rt.parts=[];do{nr=At.readUshort(Ct,Tt),Tt+=2;var sr={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(Rt.parts.push(sr),sr.glyphIndex=At.readUshort(Ct,Tt),Tt+=2,1&nr){var ar=At.readShort(Ct,Tt);Tt+=2;var ir=At.readShort(Ct,Tt);Tt+=2}else ar=At.readInt8(Ct,Tt),Tt++,ir=At.readInt8(Ct,Tt),Tt++;2&nr?(sr.m.tx=ar,sr.m.ty=ir):(sr.p1=ar,sr.p2=ir),8&nr?(sr.m.a=sr.m.d=At.readF2dot14(Ct,Tt),Tt+=2):64&nr?(sr.m.a=At.readF2dot14(Ct,Tt),Tt+=2,sr.m.d=At.readF2dot14(Ct,Tt),Tt+=2):128&nr&&(sr.m.a=At.readF2dot14(Ct,Tt),Tt+=2,sr.m.b=At.readF2dot14(Ct,Tt),Tt+=2,sr.m.c=At.readF2dot14(Ct,Tt),Tt+=2,sr.m.d=At.readF2dot14(Ct,Tt),Tt+=2)}while(32&nr);if(256&nr){var rr=At.readUshort(Ct,Tt);for(Tt+=2,Rt.instr=[],Bt=0;Bt<rr;Bt++)Rt.instr.push(Ct[Tt]),Tt++}}return Rt},lt.GPOS={},lt.GPOS.parse=function(St,Et,At,Ct){return lt._lctf.parse(St,Et,At,Ct,lt.GPOS.subt)},lt.GPOS.subt=function(St,Et,At,Ct){var Tt=lt._bin,Rt=At,Bt={};if(Bt.fmt=Tt.readUshort(St,At),At+=2,Et==1||Et==2||Et==3||Et==7||Et==8&&Bt.fmt<=2){var Dt=Tt.readUshort(St,At);At+=2,Bt.coverage=lt._lctf.readCoverage(St,Dt+Rt)}if(Et==1&&Bt.fmt==1){var Ft=Tt.readUshort(St,At);At+=2;var kt=lt._lctf.numOfOnes(Ft);Ft!=0&&(Bt.pos=lt.GPOS.readValueRecord(St,At,Ft))}else if(Et==2&&Bt.fmt>=1&&Bt.fmt<=2){Ft=Tt.readUshort(St,At),At+=2;var Ut=Tt.readUshort(St,At);At+=2,kt=lt._lctf.numOfOnes(Ft);var Kt=lt._lctf.numOfOnes(Ut);if(Bt.fmt==1){Bt.pairsets=[];var tr=Tt.readUshort(St,At);At+=2;for(var Wt=0;Wt<tr;Wt++){var Zt=Rt+Tt.readUshort(St,At);At+=2;var Ht=Tt.readUshort(St,Zt);Zt+=2;for(var nr=[],sr=0;sr<Ht;sr++){var ar=Tt.readUshort(St,Zt);Zt+=2,Ft!=0&&(mr=lt.GPOS.readValueRecord(St,Zt,Ft),Zt+=2*kt),Ut!=0&&(Cr=lt.GPOS.readValueRecord(St,Zt,Ut),Zt+=2*Kt),nr.push({gid2:ar,val1:mr,val2:Cr})}Bt.pairsets.push(nr)}}if(Bt.fmt==2){var ir=Tt.readUshort(St,At);At+=2;var rr=Tt.readUshort(St,At);At+=2;var lr=Tt.readUshort(St,At);At+=2;var ur=Tt.readUshort(St,At);for(At+=2,Bt.classDef1=lt._lctf.readClassDef(St,Rt+ir),Bt.classDef2=lt._lctf.readClassDef(St,Rt+rr),Bt.matrix=[],Wt=0;Wt<lr;Wt++){var dr=[];for(sr=0;sr<ur;sr++){var mr=null,Cr=null;Ft!=0&&(mr=lt.GPOS.readValueRecord(St,At,Ft),At+=2*kt),Ut!=0&&(Cr=lt.GPOS.readValueRecord(St,At,Ut),At+=2*Kt),dr.push({val1:mr,val2:Cr})}Bt.matrix.push(dr)}}}else{if(Et==9&&Bt.fmt==1){var yr=Tt.readUshort(St,At);At+=2;var xr=Tt.readUint(St,At);if(At+=4,Ct.ltype==9)Ct.ltype=yr;else if(Ct.ltype!=yr)throw"invalid extension substitution";return lt.GPOS.subt(St,Ct.ltype,Rt+xr)}console.debug("unsupported GPOS table LookupType",Et,"format",Bt.fmt)}return Bt},lt.GPOS.readValueRecord=function(St,Et,At){var Ct=lt._bin,Tt=[];return Tt.push(1&At?Ct.readShort(St,Et):0),Et+=1&At?2:0,Tt.push(2&At?Ct.readShort(St,Et):0),Et+=2&At?2:0,Tt.push(4&At?Ct.readShort(St,Et):0),Et+=4&At?2:0,Tt.push(8&At?Ct.readShort(St,Et):0),Et+=8&At?2:0,Tt},lt.GSUB={},lt.GSUB.parse=function(St,Et,At,Ct){return lt._lctf.parse(St,Et,At,Ct,lt.GSUB.subt)},lt.GSUB.subt=function(St,Et,At,Ct){var Tt=lt._bin,Rt=At,Bt={};if(Bt.fmt=Tt.readUshort(St,At),At+=2,Et!=1&&Et!=4&&Et!=5&&Et!=6)return null;if(Et==1||Et==4||Et==5&&Bt.fmt<=2||Et==6&&Bt.fmt<=2){var Dt=Tt.readUshort(St,At);At+=2,Bt.coverage=lt._lctf.readCoverage(St,Rt+Dt)}if(Et==1&&Bt.fmt>=1&&Bt.fmt<=2){if(Bt.fmt==1)Bt.delta=Tt.readShort(St,At),At+=2;else if(Bt.fmt==2){var Ft=Tt.readUshort(St,At);At+=2,Bt.newg=Tt.readUshorts(St,At,Ft),At+=2*Bt.newg.length}}else if(Et==4){Bt.vals=[],Ft=Tt.readUshort(St,At),At+=2;for(var kt=0;kt<Ft;kt++){var Ut=Tt.readUshort(St,At);At+=2,Bt.vals.push(lt.GSUB.readLigatureSet(St,Rt+Ut))}}else if(Et==5&&Bt.fmt==2){if(Bt.fmt==2){var Kt=Tt.readUshort(St,At);At+=2,Bt.cDef=lt._lctf.readClassDef(St,Rt+Kt),Bt.scset=[];var tr=Tt.readUshort(St,At);for(At+=2,kt=0;kt<tr;kt++){var Wt=Tt.readUshort(St,At);At+=2,Bt.scset.push(Wt==0?null:lt.GSUB.readSubClassSet(St,Rt+Wt))}}}else if(Et==6&&Bt.fmt==3){if(Bt.fmt==3){for(kt=0;kt<3;kt++){Ft=Tt.readUshort(St,At),At+=2;for(var Zt=[],Ht=0;Ht<Ft;Ht++)Zt.push(lt._lctf.readCoverage(St,Rt+Tt.readUshort(St,At+2*Ht)));At+=2*Ft,kt==0&&(Bt.backCvg=Zt),kt==1&&(Bt.inptCvg=Zt),kt==2&&(Bt.ahedCvg=Zt)}Ft=Tt.readUshort(St,At),At+=2,Bt.lookupRec=lt.GSUB.readSubstLookupRecords(St,At,Ft)}}else{if(Et==7&&Bt.fmt==1){var nr=Tt.readUshort(St,At);At+=2;var sr=Tt.readUint(St,At);if(At+=4,Ct.ltype==9)Ct.ltype=nr;else if(Ct.ltype!=nr)throw"invalid extension substitution";return lt.GSUB.subt(St,Ct.ltype,Rt+sr)}console.debug("unsupported GSUB table LookupType",Et,"format",Bt.fmt)}return Bt},lt.GSUB.readSubClassSet=function(St,Et){var At=lt._bin.readUshort,Ct=Et,Tt=[],Rt=At(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Dt=At(St,Et);Et+=2,Tt.push(lt.GSUB.readSubClassRule(St,Ct+Dt))}return Tt},lt.GSUB.readSubClassRule=function(St,Et){var At=lt._bin.readUshort,Ct={},Tt=At(St,Et),Rt=At(St,Et+=2);Et+=2,Ct.input=[];for(var Bt=0;Bt<Tt-1;Bt++)Ct.input.push(At(St,Et)),Et+=2;return Ct.substLookupRecords=lt.GSUB.readSubstLookupRecords(St,Et,Rt),Ct},lt.GSUB.readSubstLookupRecords=function(St,Et,At){for(var Ct=lt._bin.readUshort,Tt=[],Rt=0;Rt<At;Rt++)Tt.push(Ct(St,Et),Ct(St,Et+2)),Et+=4;return Tt},lt.GSUB.readChainSubClassSet=function(St,Et){var At=lt._bin,Ct=Et,Tt=[],Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Dt=At.readUshort(St,Et);Et+=2,Tt.push(lt.GSUB.readChainSubClassRule(St,Ct+Dt))}return Tt},lt.GSUB.readChainSubClassRule=function(St,Et){for(var At=lt._bin,Ct={},Tt=["backtrack","input","lookahead"],Rt=0;Rt<Tt.length;Rt++){var Bt=At.readUshort(St,Et);Et+=2,Rt==1&&Bt--,Ct[Tt[Rt]]=At.readUshorts(St,Et,Bt),Et+=2*Ct[Tt[Rt]].length}return Bt=At.readUshort(St,Et),Et+=2,Ct.subst=At.readUshorts(St,Et,2*Bt),Et+=2*Ct.subst.length,Ct},lt.GSUB.readLigatureSet=function(St,Et){var At=lt._bin,Ct=Et,Tt=[],Rt=At.readUshort(St,Et);Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Dt=At.readUshort(St,Et);Et+=2,Tt.push(lt.GSUB.readLigature(St,Ct+Dt))}return Tt},lt.GSUB.readLigature=function(St,Et){var At=lt._bin,Ct={chain:[]};Ct.nglyph=At.readUshort(St,Et),Et+=2;var Tt=At.readUshort(St,Et);Et+=2;for(var Rt=0;Rt<Tt-1;Rt++)Ct.chain.push(At.readUshort(St,Et)),Et+=2;return Ct},lt.head={},lt.head.parse=function(St,Et,At){var Ct=lt._bin,Tt={};return Ct.readFixed(St,Et),Et+=4,Tt.fontRevision=Ct.readFixed(St,Et),Et+=4,Ct.readUint(St,Et),Et+=4,Ct.readUint(St,Et),Et+=4,Tt.flags=Ct.readUshort(St,Et),Et+=2,Tt.unitsPerEm=Ct.readUshort(St,Et),Et+=2,Tt.created=Ct.readUint64(St,Et),Et+=8,Tt.modified=Ct.readUint64(St,Et),Et+=8,Tt.xMin=Ct.readShort(St,Et),Et+=2,Tt.yMin=Ct.readShort(St,Et),Et+=2,Tt.xMax=Ct.readShort(St,Et),Et+=2,Tt.yMax=Ct.readShort(St,Et),Et+=2,Tt.macStyle=Ct.readUshort(St,Et),Et+=2,Tt.lowestRecPPEM=Ct.readUshort(St,Et),Et+=2,Tt.fontDirectionHint=Ct.readShort(St,Et),Et+=2,Tt.indexToLocFormat=Ct.readShort(St,Et),Et+=2,Tt.glyphDataFormat=Ct.readShort(St,Et),Et+=2,Tt},lt.hhea={},lt.hhea.parse=function(St,Et,At){var Ct=lt._bin,Tt={};return Ct.readFixed(St,Et),Et+=4,Tt.ascender=Ct.readShort(St,Et),Et+=2,Tt.descender=Ct.readShort(St,Et),Et+=2,Tt.lineGap=Ct.readShort(St,Et),Et+=2,Tt.advanceWidthMax=Ct.readUshort(St,Et),Et+=2,Tt.minLeftSideBearing=Ct.readShort(St,Et),Et+=2,Tt.minRightSideBearing=Ct.readShort(St,Et),Et+=2,Tt.xMaxExtent=Ct.readShort(St,Et),Et+=2,Tt.caretSlopeRise=Ct.readShort(St,Et),Et+=2,Tt.caretSlopeRun=Ct.readShort(St,Et),Et+=2,Tt.caretOffset=Ct.readShort(St,Et),Et+=2,Et+=8,Tt.metricDataFormat=Ct.readShort(St,Et),Et+=2,Tt.numberOfHMetrics=Ct.readUshort(St,Et),Et+=2,Tt},lt.hmtx={},lt.hmtx.parse=function(St,Et,At,Ct){for(var Tt=lt._bin,Rt={aWidth:[],lsBearing:[]},Bt=0,Dt=0,Ft=0;Ft<Ct.maxp.numGlyphs;Ft++)Ft<Ct.hhea.numberOfHMetrics&&(Bt=Tt.readUshort(St,Et),Et+=2,Dt=Tt.readShort(St,Et),Et+=2),Rt.aWidth.push(Bt),Rt.lsBearing.push(Dt);return Rt},lt.kern={},lt.kern.parse=function(St,Et,At,Ct){var Tt=lt._bin,Rt=Tt.readUshort(St,Et);if(Et+=2,Rt==1)return lt.kern.parseV1(St,Et-2,At,Ct);var Bt=Tt.readUshort(St,Et);Et+=2;for(var Dt={glyph1:[],rval:[]},Ft=0;Ft<Bt;Ft++){Et+=2,At=Tt.readUshort(St,Et),Et+=2;var kt=Tt.readUshort(St,Et);Et+=2;var Ut=kt>>>8;if((Ut&=15)!=0)throw"unknown kern table format: "+Ut;Et=lt.kern.readFormat0(St,Et,Dt)}return Dt},lt.kern.parseV1=function(St,Et,At,Ct){var Tt=lt._bin;Tt.readFixed(St,Et),Et+=4;var Rt=Tt.readUint(St,Et);Et+=4;for(var Bt={glyph1:[],rval:[]},Dt=0;Dt<Rt;Dt++){Tt.readUint(St,Et),Et+=4;var Ft=Tt.readUshort(St,Et);Et+=2,Tt.readUshort(St,Et),Et+=2;var kt=Ft>>>8;if((kt&=15)!=0)throw"unknown kern table format: "+kt;Et=lt.kern.readFormat0(St,Et,Bt)}return Bt},lt.kern.readFormat0=function(St,Et,At){var Ct=lt._bin,Tt=-1,Rt=Ct.readUshort(St,Et);Et+=2,Ct.readUshort(St,Et),Et+=2,Ct.readUshort(St,Et),Et+=2,Ct.readUshort(St,Et),Et+=2;for(var Bt=0;Bt<Rt;Bt++){var Dt=Ct.readUshort(St,Et);Et+=2;var Ft=Ct.readUshort(St,Et);Et+=2;var kt=Ct.readShort(St,Et);Et+=2,Dt!=Tt&&(At.glyph1.push(Dt),At.rval.push({glyph2:[],vals:[]}));var Ut=At.rval[At.rval.length-1];Ut.glyph2.push(Ft),Ut.vals.push(kt),Tt=Dt}return Et},lt.loca={},lt.loca.parse=function(St,Et,At,Ct){var Tt=lt._bin,Rt=[],Bt=Ct.head.indexToLocFormat,Dt=Ct.maxp.numGlyphs+1;if(Bt==0)for(var Ft=0;Ft<Dt;Ft++)Rt.push(Tt.readUshort(St,Et+(Ft<<1))<<1);if(Bt==1)for(Ft=0;Ft<Dt;Ft++)Rt.push(Tt.readUint(St,Et+(Ft<<2)));return Rt},lt.maxp={},lt.maxp.parse=function(St,Et,At){var Ct=lt._bin,Tt={},Rt=Ct.readUint(St,Et);return Et+=4,Tt.numGlyphs=Ct.readUshort(St,Et),Et+=2,Rt==65536&&(Tt.maxPoints=Ct.readUshort(St,Et),Et+=2,Tt.maxContours=Ct.readUshort(St,Et),Et+=2,Tt.maxCompositePoints=Ct.readUshort(St,Et),Et+=2,Tt.maxCompositeContours=Ct.readUshort(St,Et),Et+=2,Tt.maxZones=Ct.readUshort(St,Et),Et+=2,Tt.maxTwilightPoints=Ct.readUshort(St,Et),Et+=2,Tt.maxStorage=Ct.readUshort(St,Et),Et+=2,Tt.maxFunctionDefs=Ct.readUshort(St,Et),Et+=2,Tt.maxInstructionDefs=Ct.readUshort(St,Et),Et+=2,Tt.maxStackElements=Ct.readUshort(St,Et),Et+=2,Tt.maxSizeOfInstructions=Ct.readUshort(St,Et),Et+=2,Tt.maxComponentElements=Ct.readUshort(St,Et),Et+=2,Tt.maxComponentDepth=Ct.readUshort(St,Et),Et+=2),Tt},lt.name={},lt.name.parse=function(St,Et,At){var Ct=lt._bin,Tt={};Ct.readUshort(St,Et),Et+=2;var Rt=Ct.readUshort(St,Et);Et+=2,Ct.readUshort(St,Et);for(var Bt,Dt=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],Ft=Et+=2,kt=0;kt<Rt;kt++){var Ut=Ct.readUshort(St,Et);Et+=2;var Kt=Ct.readUshort(St,Et);Et+=2;var tr=Ct.readUshort(St,Et);Et+=2;var Wt=Ct.readUshort(St,Et);Et+=2;var Zt=Ct.readUshort(St,Et);Et+=2;var Ht=Ct.readUshort(St,Et);Et+=2;var nr,sr=Dt[Wt],ar=Ft+12*Rt+Ht;if(Ut==0)nr=Ct.readUnicode(St,ar,Zt/2);else if(Ut==3&&Kt==0)nr=Ct.readUnicode(St,ar,Zt/2);else if(Kt==0)nr=Ct.readASCII(St,ar,Zt);else if(Kt==1)nr=Ct.readUnicode(St,ar,Zt/2);else if(Kt==3)nr=Ct.readUnicode(St,ar,Zt/2);else{if(Ut!=1)throw"unknown encoding "+Kt+", platformID: "+Ut;nr=Ct.readASCII(St,ar,Zt),console.debug("reading unknown MAC encoding "+Kt+" as ASCII")}var ir="p"+Ut+","+tr.toString(16);Tt[ir]==null&&(Tt[ir]={}),Tt[ir][sr!==void 0?sr:Wt]=nr,Tt[ir]._lang=tr}for(var rr in Tt)if(Tt[rr].postScriptName!=null&&Tt[rr]._lang==1033)return Tt[rr];for(var rr in Tt)if(Tt[rr].postScriptName!=null&&Tt[rr]._lang==0)return Tt[rr];for(var rr in Tt)if(Tt[rr].postScriptName!=null&&Tt[rr]._lang==3084)return Tt[rr];for(var rr in Tt)if(Tt[rr].postScriptName!=null)return Tt[rr];for(var rr in Tt){Bt=rr;break}return console.debug("returning name table with languageID "+Tt[Bt]._lang),Tt[Bt]},lt["OS/2"]={},lt["OS/2"].parse=function(St,Et,At){var Ct=lt._bin.readUshort(St,Et);Et+=2;var Tt={};if(Ct==0)lt["OS/2"].version0(St,Et,Tt);else if(Ct==1)lt["OS/2"].version1(St,Et,Tt);else if(Ct==2||Ct==3||Ct==4)lt["OS/2"].version2(St,Et,Tt);else{if(Ct!=5)throw"unknown OS/2 table version: "+Ct;lt["OS/2"].version5(St,Et,Tt)}return Tt},lt["OS/2"].version0=function(St,Et,At){var Ct=lt._bin;return At.xAvgCharWidth=Ct.readShort(St,Et),Et+=2,At.usWeightClass=Ct.readUshort(St,Et),Et+=2,At.usWidthClass=Ct.readUshort(St,Et),Et+=2,At.fsType=Ct.readUshort(St,Et),Et+=2,At.ySubscriptXSize=Ct.readShort(St,Et),Et+=2,At.ySubscriptYSize=Ct.readShort(St,Et),Et+=2,At.ySubscriptXOffset=Ct.readShort(St,Et),Et+=2,At.ySubscriptYOffset=Ct.readShort(St,Et),Et+=2,At.ySuperscriptXSize=Ct.readShort(St,Et),Et+=2,At.ySuperscriptYSize=Ct.readShort(St,Et),Et+=2,At.ySuperscriptXOffset=Ct.readShort(St,Et),Et+=2,At.ySuperscriptYOffset=Ct.readShort(St,Et),Et+=2,At.yStrikeoutSize=Ct.readShort(St,Et),Et+=2,At.yStrikeoutPosition=Ct.readShort(St,Et),Et+=2,At.sFamilyClass=Ct.readShort(St,Et),Et+=2,At.panose=Ct.readBytes(St,Et,10),Et+=10,At.ulUnicodeRange1=Ct.readUint(St,Et),Et+=4,At.ulUnicodeRange2=Ct.readUint(St,Et),Et+=4,At.ulUnicodeRange3=Ct.readUint(St,Et),Et+=4,At.ulUnicodeRange4=Ct.readUint(St,Et),Et+=4,At.achVendID=[Ct.readInt8(St,Et),Ct.readInt8(St,Et+1),Ct.readInt8(St,Et+2),Ct.readInt8(St,Et+3)],Et+=4,At.fsSelection=Ct.readUshort(St,Et),Et+=2,At.usFirstCharIndex=Ct.readUshort(St,Et),Et+=2,At.usLastCharIndex=Ct.readUshort(St,Et),Et+=2,At.sTypoAscender=Ct.readShort(St,Et),Et+=2,At.sTypoDescender=Ct.readShort(St,Et),Et+=2,At.sTypoLineGap=Ct.readShort(St,Et),Et+=2,At.usWinAscent=Ct.readUshort(St,Et),Et+=2,At.usWinDescent=Ct.readUshort(St,Et),Et+=2},lt["OS/2"].version1=function(St,Et,At){var Ct=lt._bin;return Et=lt["OS/2"].version0(St,Et,At),At.ulCodePageRange1=Ct.readUint(St,Et),Et+=4,At.ulCodePageRange2=Ct.readUint(St,Et),Et+=4},lt["OS/2"].version2=function(St,Et,At){var Ct=lt._bin;return Et=lt["OS/2"].version1(St,Et,At),At.sxHeight=Ct.readShort(St,Et),Et+=2,At.sCapHeight=Ct.readShort(St,Et),Et+=2,At.usDefault=Ct.readUshort(St,Et),Et+=2,At.usBreak=Ct.readUshort(St,Et),Et+=2,At.usMaxContext=Ct.readUshort(St,Et),Et+=2},lt["OS/2"].version5=function(St,Et,At){var Ct=lt._bin;return Et=lt["OS/2"].version2(St,Et,At),At.usLowerOpticalPointSize=Ct.readUshort(St,Et),Et+=2,At.usUpperOpticalPointSize=Ct.readUshort(St,Et),Et+=2},lt.post={},lt.post.parse=function(St,Et,At){var Ct=lt._bin,Tt={};return Tt.version=Ct.readFixed(St,Et),Et+=4,Tt.italicAngle=Ct.readFixed(St,Et),Et+=4,Tt.underlinePosition=Ct.readShort(St,Et),Et+=2,Tt.underlineThickness=Ct.readShort(St,Et),Et+=2,Tt},lt==null&&(lt={}),lt.U==null&&(lt.U={}),lt.U.codeToGlyph=function(St,Et){var At=St.cmap,Ct=-1;if(At.p0e4!=null?Ct=At.p0e4:At.p3e1!=null?Ct=At.p3e1:At.p1e0!=null?Ct=At.p1e0:At.p0e3!=null&&(Ct=At.p0e3),Ct==-1)throw"no familiar platform and encoding!";var Tt=At.tables[Ct];if(Tt.format==0)return Et>=Tt.map.length?0:Tt.map[Et];if(Tt.format==4){for(var Rt=-1,Bt=0;Bt<Tt.endCount.length;Bt++)if(Et<=Tt.endCount[Bt]){Rt=Bt;break}return Rt==-1||Tt.startCount[Rt]>Et?0:65535&(Tt.idRangeOffset[Rt]!=0?Tt.glyphIdArray[Et-Tt.startCount[Rt]+(Tt.idRangeOffset[Rt]>>1)-(Tt.idRangeOffset.length-Rt)]:Et+Tt.idDelta[Rt])}if(Tt.format==12){if(Et>Tt.groups[Tt.groups.length-1][1])return 0;for(Bt=0;Bt<Tt.groups.length;Bt++){var Dt=Tt.groups[Bt];if(Dt[0]<=Et&&Et<=Dt[1])return Dt[2]+(Et-Dt[0])}return 0}throw"unknown cmap table format "+Tt.format},lt.U.glyphToPath=function(St,Et){var At={cmds:[],crds:[]};if(St.SVG&&St.SVG.entries[Et]){var Ct=St.SVG.entries[Et];return Ct==null?At:(typeof Ct=="string"&&(Ct=lt.SVG.toPath(Ct),St.SVG.entries[Et]=Ct),Ct)}if(St.CFF){var Tt={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:St.CFF.Private?St.CFF.Private.defaultWidthX:0,open:!1},Rt=St.CFF,Bt=St.CFF.Private;if(Rt.ROS){for(var Dt=0;Rt.FDSelect[Dt+2]<=Et;)Dt+=2;Bt=Rt.FDArray[Rt.FDSelect[Dt+1]].Private}lt.U._drawCFF(St.CFF.CharStrings[Et],Tt,Rt,Bt,At)}else St.glyf&&lt.U._drawGlyf(Et,St,At);return At},lt.U._drawGlyf=function(St,Et,At){var Ct=Et.glyf[St];Ct==null&&(Ct=Et.glyf[St]=lt.glyf._parseGlyf(Et,St)),Ct!=null&&(Ct.noc>-1?lt.U._simpleGlyph(Ct,At):lt.U._compoGlyph(Ct,Et,At))},lt.U._simpleGlyph=function(St,Et){for(var At=0;At<St.noc;At++){for(var Ct=At==0?0:St.endPts[At-1]+1,Tt=St.endPts[At],Rt=Ct;Rt<=Tt;Rt++){var Bt=Rt==Ct?Tt:Rt-1,Dt=Rt==Tt?Ct:Rt+1,Ft=1&St.flags[Rt],kt=1&St.flags[Bt],Ut=1&St.flags[Dt],Kt=St.xs[Rt],tr=St.ys[Rt];if(Rt==Ct)if(Ft){if(!kt){lt.U.P.moveTo(Et,Kt,tr);continue}lt.U.P.moveTo(Et,St.xs[Bt],St.ys[Bt])}else kt?lt.U.P.moveTo(Et,St.xs[Bt],St.ys[Bt]):lt.U.P.moveTo(Et,(St.xs[Bt]+Kt)/2,(St.ys[Bt]+tr)/2);Ft?kt&&lt.U.P.lineTo(Et,Kt,tr):Ut?lt.U.P.qcurveTo(Et,Kt,tr,St.xs[Dt],St.ys[Dt]):lt.U.P.qcurveTo(Et,Kt,tr,(Kt+St.xs[Dt])/2,(tr+St.ys[Dt])/2)}lt.U.P.closePath(Et)}},lt.U._compoGlyph=function(St,Et,At){for(var Ct=0;Ct<St.parts.length;Ct++){var Tt={cmds:[],crds:[]},Rt=St.parts[Ct];lt.U._drawGlyf(Rt.glyphIndex,Et,Tt);for(var Bt=Rt.m,Dt=0;Dt<Tt.crds.length;Dt+=2){var Ft=Tt.crds[Dt],kt=Tt.crds[Dt+1];At.crds.push(Ft*Bt.a+kt*Bt.b+Bt.tx),At.crds.push(Ft*Bt.c+kt*Bt.d+Bt.ty)}for(Dt=0;Dt<Tt.cmds.length;Dt++)At.cmds.push(Tt.cmds[Dt])}},lt.U._getGlyphClass=function(St,Et){var At=lt._lctf.getInterval(Et,St);return At==-1?0:Et[At+2]},lt.U.getPairAdjustment=function(St,Et,At){var Ct=!1;if(St.GPOS)for(var Tt=St.GPOS,Rt=Tt.lookupList,Bt=Tt.featureList,Dt=[],Ft=0;Ft<Bt.length;Ft++){var kt=Bt[Ft];if(kt.tag=="kern"){Ct=!0;for(var Ut=0;Ut<kt.tab.length;Ut++)if(!Dt[kt.tab[Ut]]){Dt[kt.tab[Ut]]=!0;for(var Kt=Rt[kt.tab[Ut]],tr=0;tr<Kt.tabs.length;tr++)if(Kt.tabs[tr]!=null){var Wt,Zt=Kt.tabs[tr];if((!Zt.coverage||(Wt=lt._lctf.coverageIndex(Zt.coverage,Et))!=-1)&&Kt.ltype!=1){if(Kt.ltype==2){var Ht=null;if(Zt.fmt==1){var nr=Zt.pairsets[Wt];for(Ft=0;Ft<nr.length;Ft++)nr[Ft].gid2==At&&(Ht=nr[Ft])}else if(Zt.fmt==2){var sr=lt.U._getGlyphClass(Et,Zt.classDef1),ar=lt.U._getGlyphClass(At,Zt.classDef2);Ht=Zt.matrix[sr][ar]}if(Ht){var ir=0;return Ht.val1&&Ht.val1[2]&&(ir+=Ht.val1[2]),Ht.val2&&Ht.val2[0]&&(ir+=Ht.val2[0]),ir}}}}}}}if(St.kern&&!Ct){var rr=St.kern.glyph1.indexOf(Et);if(rr!=-1){var lr=St.kern.rval[rr].glyph2.indexOf(At);if(lr!=-1)return St.kern.rval[rr].vals[lr]}}return 0},lt.U._applySubs=function(St,Et,At,Ct){for(var Tt=St.length-Et-1,Rt=0;Rt<At.tabs.length;Rt++)if(At.tabs[Rt]!=null){var Bt,Dt=At.tabs[Rt];if(!Dt.coverage||(Bt=lt._lctf.coverageIndex(Dt.coverage,St[Et]))!=-1){if(At.ltype==1)St[Et],Dt.fmt==1?St[Et]=St[Et]+Dt.delta:St[Et]=Dt.newg[Bt];else if(At.ltype==4)for(var Ft=Dt.vals[Bt],kt=0;kt<Ft.length;kt++){var Ut=Ft[kt],Kt=Ut.chain.length;if(!(Kt>Tt)){for(var tr=!0,Wt=0,Zt=0;Zt<Kt;Zt++){for(;St[Et+Wt+(1+Zt)]==-1;)Wt++;Ut.chain[Zt]!=St[Et+Wt+(1+Zt)]&&(tr=!1)}if(tr){for(St[Et]=Ut.nglyph,Zt=0;Zt<Kt+Wt;Zt++)St[Et+Zt+1]=-1;break}}}else if(At.ltype==5&&Dt.fmt==2)for(var Ht=lt._lctf.getInterval(Dt.cDef,St[Et]),nr=Dt.cDef[Ht+2],sr=Dt.scset[nr],ar=0;ar<sr.length;ar++){var ir=sr[ar],rr=ir.input;if(!(rr.length>Tt)){for(tr=!0,Zt=0;Zt<rr.length;Zt++){var lr=lt._lctf.getInterval(Dt.cDef,St[Et+1+Zt]);if(Ht==-1&&Dt.cDef[lr+2]!=rr[Zt]){tr=!1;break}}if(tr){var ur=ir.substLookupRecords;for(kt=0;kt<ur.length;kt+=2)ur[kt],ur[kt+1]}}}else if(At.ltype==6&&Dt.fmt==3){if(!lt.U._glsCovered(St,Dt.backCvg,Et-Dt.backCvg.length)||!lt.U._glsCovered(St,Dt.inptCvg,Et)||!lt.U._glsCovered(St,Dt.ahedCvg,Et+Dt.inptCvg.length))continue;var dr=Dt.lookupRec;for(ar=0;ar<dr.length;ar+=2){Ht=dr[ar];var mr=Ct[dr[ar+1]];lt.U._applySubs(St,Et+Ht,mr,Ct)}}}}},lt.U._glsCovered=function(St,Et,At){for(var Ct=0;Ct<Et.length;Ct++)if(lt._lctf.coverageIndex(Et[Ct],St[At+Ct])==-1)return!1;return!0},lt.U.glyphsToPath=function(St,Et,At){for(var Ct={cmds:[],crds:[]},Tt=0,Rt=0;Rt<Et.length;Rt++){var Bt=Et[Rt];if(Bt!=-1){for(var Dt=Rt<Et.length-1&&Et[Rt+1]!=-1?Et[Rt+1]:0,Ft=lt.U.glyphToPath(St,Bt),kt=0;kt<Ft.crds.length;kt+=2)Ct.crds.push(Ft.crds[kt]+Tt),Ct.crds.push(Ft.crds[kt+1]);for(At&&Ct.cmds.push(At),kt=0;kt<Ft.cmds.length;kt++)Ct.cmds.push(Ft.cmds[kt]);At&&Ct.cmds.push("X"),Tt+=St.hmtx.aWidth[Bt],Rt<Et.length-1&&(Tt+=lt.U.getPairAdjustment(St,Bt,Dt))}}return Ct},lt.U.P={},lt.U.P.moveTo=function(St,Et,At){St.cmds.push("M"),St.crds.push(Et,At)},lt.U.P.lineTo=function(St,Et,At){St.cmds.push("L"),St.crds.push(Et,At)},lt.U.P.curveTo=function(St,Et,At,Ct,Tt,Rt,Bt){St.cmds.push("C"),St.crds.push(Et,At,Ct,Tt,Rt,Bt)},lt.U.P.qcurveTo=function(St,Et,At,Ct,Tt){St.cmds.push("Q"),St.crds.push(Et,At,Ct,Tt)},lt.U.P.closePath=function(St){St.cmds.push("Z")},lt.U._drawCFF=function(St,Et,At,Ct,Tt){for(var Rt=Et.stack,Bt=Et.nStems,Dt=Et.haveWidth,Ft=Et.width,kt=Et.open,Ut=0,Kt=Et.x,tr=Et.y,Wt=0,Zt=0,Ht=0,nr=0,sr=0,ar=0,ir=0,rr=0,lr=0,ur=0,dr={val:0,size:0};Ut<St.length;){lt.CFF.getCharString(St,Ut,dr);var mr=dr.val;if(Ut+=dr.size,mr=="o1"||mr=="o18")Rt.length%2!=0&&!Dt&&(Ft=Rt.shift()+Ct.nominalWidthX),Bt+=Rt.length>>1,Rt.length=0,Dt=!0;else if(mr=="o3"||mr=="o23")Rt.length%2!=0&&!Dt&&(Ft=Rt.shift()+Ct.nominalWidthX),Bt+=Rt.length>>1,Rt.length=0,Dt=!0;else if(mr=="o4")Rt.length>1&&!Dt&&(Ft=Rt.shift()+Ct.nominalWidthX,Dt=!0),kt&&lt.U.P.closePath(Tt),tr+=Rt.pop(),lt.U.P.moveTo(Tt,Kt,tr),kt=!0;else if(mr=="o5")for(;Rt.length>0;)Kt+=Rt.shift(),tr+=Rt.shift(),lt.U.P.lineTo(Tt,Kt,tr);else if(mr=="o6"||mr=="o7")for(var Cr=Rt.length,yr=mr=="o6",xr=0;xr<Cr;xr++){var Sr=Rt.shift();yr?Kt+=Sr:tr+=Sr,yr=!yr,lt.U.P.lineTo(Tt,Kt,tr)}else if(mr=="o8"||mr=="o24"){Cr=Rt.length;for(var br=0;br+6<=Cr;)Wt=Kt+Rt.shift(),Zt=tr+Rt.shift(),Ht=Wt+Rt.shift(),nr=Zt+Rt.shift(),Kt=Ht+Rt.shift(),tr=nr+Rt.shift(),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,Kt,tr),br+=6;mr=="o24"&&(Kt+=Rt.shift(),tr+=Rt.shift(),lt.U.P.lineTo(Tt,Kt,tr))}else{if(mr=="o11")break;if(mr=="o1234"||mr=="o1235"||mr=="o1236"||mr=="o1237")mr=="o1234"&&(Zt=tr,Ht=(Wt=Kt+Rt.shift())+Rt.shift(),ur=nr=Zt+Rt.shift(),ar=nr,rr=tr,Kt=(ir=(sr=(lr=Ht+Rt.shift())+Rt.shift())+Rt.shift())+Rt.shift(),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,lr,ur),lt.U.P.curveTo(Tt,sr,ar,ir,rr,Kt,tr)),mr=="o1235"&&(Wt=Kt+Rt.shift(),Zt=tr+Rt.shift(),Ht=Wt+Rt.shift(),nr=Zt+Rt.shift(),lr=Ht+Rt.shift(),ur=nr+Rt.shift(),sr=lr+Rt.shift(),ar=ur+Rt.shift(),ir=sr+Rt.shift(),rr=ar+Rt.shift(),Kt=ir+Rt.shift(),tr=rr+Rt.shift(),Rt.shift(),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,lr,ur),lt.U.P.curveTo(Tt,sr,ar,ir,rr,Kt,tr)),mr=="o1236"&&(Wt=Kt+Rt.shift(),Zt=tr+Rt.shift(),Ht=Wt+Rt.shift(),ur=nr=Zt+Rt.shift(),ar=nr,ir=(sr=(lr=Ht+Rt.shift())+Rt.shift())+Rt.shift(),rr=ar+Rt.shift(),Kt=ir+Rt.shift(),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,lr,ur),lt.U.P.curveTo(Tt,sr,ar,ir,rr,Kt,tr)),mr=="o1237"&&(Wt=Kt+Rt.shift(),Zt=tr+Rt.shift(),Ht=Wt+Rt.shift(),nr=Zt+Rt.shift(),lr=Ht+Rt.shift(),ur=nr+Rt.shift(),sr=lr+Rt.shift(),ar=ur+Rt.shift(),ir=sr+Rt.shift(),rr=ar+Rt.shift(),Math.abs(ir-Kt)>Math.abs(rr-tr)?Kt=ir+Rt.shift():tr=rr+Rt.shift(),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,lr,ur),lt.U.P.curveTo(Tt,sr,ar,ir,rr,Kt,tr));else if(mr=="o14"){if(Rt.length>0&&!Dt&&(Ft=Rt.shift()+At.nominalWidthX,Dt=!0),Rt.length==4){var cr=Rt.shift(),pr=Rt.shift(),Er=Rt.shift(),_r=Rt.shift(),Ar=lt.CFF.glyphBySE(At,Er),Pr=lt.CFF.glyphBySE(At,_r);lt.U._drawCFF(At.CharStrings[Ar],Et,At,Ct,Tt),Et.x=cr,Et.y=pr,lt.U._drawCFF(At.CharStrings[Pr],Et,At,Ct,Tt)}kt&&(lt.U.P.closePath(Tt),kt=!1)}else if(mr=="o19"||mr=="o20")Rt.length%2!=0&&!Dt&&(Ft=Rt.shift()+Ct.nominalWidthX),Bt+=Rt.length>>1,Rt.length=0,Dt=!0,Ut+=Bt+7>>3;else if(mr=="o21")Rt.length>2&&!Dt&&(Ft=Rt.shift()+Ct.nominalWidthX,Dt=!0),tr+=Rt.pop(),Kt+=Rt.pop(),kt&&lt.U.P.closePath(Tt),lt.U.P.moveTo(Tt,Kt,tr),kt=!0;else if(mr=="o22")Rt.length>1&&!Dt&&(Ft=Rt.shift()+Ct.nominalWidthX,Dt=!0),Kt+=Rt.pop(),kt&&lt.U.P.closePath(Tt),lt.U.P.moveTo(Tt,Kt,tr),kt=!0;else if(mr=="o25"){for(;Rt.length>6;)Kt+=Rt.shift(),tr+=Rt.shift(),lt.U.P.lineTo(Tt,Kt,tr);Wt=Kt+Rt.shift(),Zt=tr+Rt.shift(),Ht=Wt+Rt.shift(),nr=Zt+Rt.shift(),Kt=Ht+Rt.shift(),tr=nr+Rt.shift(),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,Kt,tr)}else if(mr=="o26")for(Rt.length%2&&(Kt+=Rt.shift());Rt.length>0;)Wt=Kt,Zt=tr+Rt.shift(),Kt=Ht=Wt+Rt.shift(),tr=(nr=Zt+Rt.shift())+Rt.shift(),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,Kt,tr);else if(mr=="o27")for(Rt.length%2&&(tr+=Rt.shift());Rt.length>0;)Zt=tr,Ht=(Wt=Kt+Rt.shift())+Rt.shift(),nr=Zt+Rt.shift(),Kt=Ht+Rt.shift(),tr=nr,lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,Kt,tr);else if(mr=="o10"||mr=="o29"){var Ir=mr=="o10"?Ct:At;if(Rt.length==0)console.debug("error: empty stack");else{var kr=Rt.pop(),Dr=Ir.Subrs[kr+Ir.Bias];Et.x=Kt,Et.y=tr,Et.nStems=Bt,Et.haveWidth=Dt,Et.width=Ft,Et.open=kt,lt.U._drawCFF(Dr,Et,At,Ct,Tt),Kt=Et.x,tr=Et.y,Bt=Et.nStems,Dt=Et.haveWidth,Ft=Et.width,kt=Et.open}}else if(mr=="o30"||mr=="o31"){var Jr=Rt.length,Or=(br=0,mr=="o31");for(br+=Jr-(Cr=-3&Jr);br<Cr;)Or?(Zt=tr,Ht=(Wt=Kt+Rt.shift())+Rt.shift(),tr=(nr=Zt+Rt.shift())+Rt.shift(),Cr-br==5?(Kt=Ht+Rt.shift(),br++):Kt=Ht,Or=!1):(Wt=Kt,Zt=tr+Rt.shift(),Ht=Wt+Rt.shift(),nr=Zt+Rt.shift(),Kt=Ht+Rt.shift(),Cr-br==5?(tr=nr+Rt.shift(),br++):tr=nr,Or=!0),lt.U.P.curveTo(Tt,Wt,Zt,Ht,nr,Kt,tr),br+=4}else{if((mr+"").charAt(0)=="o")throw console.debug("Unknown operation: "+mr,St),mr;Rt.push(mr)}}}Et.x=Kt,Et.y=tr,Et.nStems=Bt,Et.haveWidth=Dt,Et.width=Ft,Et.open=kt};var dt=lt,vt={Typr:dt};return ft.Typr=dt,ft.default=vt,Object.defineProperty(ft,"__esModule",{value:!0}),ft}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(ft){var lt=Uint8Array,dt=Uint16Array,vt=Uint32Array,St=new lt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Et=new lt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),At=new lt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ct=function(mr,Cr){for(var yr=new dt(31),xr=0;xr<31;++xr)yr[xr]=Cr+=1<<mr[xr-1];var Sr=new vt(yr[30]);for(xr=1;xr<30;++xr)for(var br=yr[xr];br<yr[xr+1];++br)Sr[br]=br-yr[xr]<<5|xr;return[yr,Sr]},Tt=Ct(St,2),Rt=Tt[0],Bt=Tt[1];Rt[28]=258,Bt[258]=28;for(var Dt=Ct(Et,0)[0],Ft=new dt(32768),kt=0;kt<32768;++kt){var Ut=(43690&kt)>>>1|(21845&kt)<<1;Ut=(61680&(Ut=(52428&Ut)>>>2|(13107&Ut)<<2))>>>4|(3855&Ut)<<4,Ft[kt]=((65280&Ut)>>>8|(255&Ut)<<8)>>>1}var Kt=function(mr,Cr,yr){for(var xr=mr.length,Sr=0,br=new dt(Cr);Sr<xr;++Sr)++br[mr[Sr]-1];var cr,pr=new dt(Cr);for(Sr=0;Sr<Cr;++Sr)pr[Sr]=pr[Sr-1]+br[Sr-1]<<1;if(yr){cr=new dt(1<<Cr);var Er=15-Cr;for(Sr=0;Sr<xr;++Sr)if(mr[Sr])for(var _r=Sr<<4|mr[Sr],Ar=Cr-mr[Sr],Pr=pr[mr[Sr]-1]++<<Ar,Ir=Pr|(1<<Ar)-1;Pr<=Ir;++Pr)cr[Ft[Pr]>>>Er]=_r}else for(cr=new dt(xr),Sr=0;Sr<xr;++Sr)mr[Sr]&&(cr[Sr]=Ft[pr[mr[Sr]-1]++]>>>15-mr[Sr]);return cr},tr=new lt(288);for(kt=0;kt<144;++kt)tr[kt]=8;for(kt=144;kt<256;++kt)tr[kt]=9;for(kt=256;kt<280;++kt)tr[kt]=7;for(kt=280;kt<288;++kt)tr[kt]=8;var Wt=new lt(32);for(kt=0;kt<32;++kt)Wt[kt]=5;var Zt=Kt(tr,9,1),Ht=Kt(Wt,5,1),nr=function(mr){for(var Cr=mr[0],yr=1;yr<mr.length;++yr)mr[yr]>Cr&&(Cr=mr[yr]);return Cr},sr=function(mr,Cr,yr){var xr=Cr/8|0;return(mr[xr]|mr[xr+1]<<8)>>(7&Cr)&yr},ar=function(mr,Cr){var yr=Cr/8|0;return(mr[yr]|mr[yr+1]<<8|mr[yr+2]<<16)>>(7&Cr)},ir=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rr=function(mr,Cr,yr){var xr=new Error(Cr||ir[mr]);if(xr.code=mr,Error.captureStackTrace&&Error.captureStackTrace(xr,rr),!yr)throw xr;return xr},lr=function(mr,Cr,yr){var xr=mr.length;if(!xr||yr&&!yr.l&&xr<5)return Cr||new lt(0);var Sr=!Cr||yr,br=!yr||yr.i;yr||(yr={}),Cr||(Cr=new lt(3*xr));var cr,pr=function(xn){var On=Cr.length;if(xn>On){var Wn=new lt(Math.max(2*On,xn));Wn.set(Cr),Cr=Wn}},Er=yr.f||0,_r=yr.p||0,Ar=yr.b||0,Pr=yr.l,Ir=yr.d,kr=yr.m,Dr=yr.n,Jr=8*xr;do{if(!Pr){yr.f=Er=sr(mr,_r,1);var Or=sr(mr,_r+1,3);if(_r+=3,!Or){var jr=mr[(Pn=((cr=_r)/8|0)+(7&cr&&1)+4)-4]|mr[Pn-3]<<8,Nr=Pn+jr;if(Nr>xr){br&&rr(0);break}Sr&&pr(Ar+jr),Cr.set(mr.subarray(Pn,Nr),Ar),yr.b=Ar+=jr,yr.p=_r=8*Nr;continue}if(Or==1)Pr=Zt,Ir=Ht,kr=9,Dr=5;else if(Or==2){var Vr=sr(mr,_r,31)+257,Br=sr(mr,_r+10,15)+4,zr=Vr+sr(mr,_r+5,31)+1;_r+=14;for(var qr=new lt(zr),en=new lt(19),cn=0;cn<Br;++cn)en[At[cn]]=sr(mr,_r+3*cn,7);_r+=3*Br;var Rn=nr(en),Qr=(1<<Rn)-1,yn=Kt(en,Rn,1);for(cn=0;cn<zr;){var Pn,pn=yn[sr(mr,_r,Qr)];if(_r+=15&pn,(Pn=pn>>>4)<16)qr[cn++]=Pn;else{var Fr=0,Rr=0;for(Pn==16?(Rr=3+sr(mr,_r,3),_r+=2,Fr=qr[cn-1]):Pn==17?(Rr=3+sr(mr,_r,7),_r+=3):Pn==18&&(Rr=11+sr(mr,_r,127),_r+=7);Rr--;)qr[cn++]=Fr}}var Yr=qr.subarray(0,Vr),fn=qr.subarray(Vr);kr=nr(Yr),Dr=nr(fn),Pr=Kt(Yr,kr,1),Ir=Kt(fn,Dr,1)}else rr(1);if(_r>Jr){br&&rr(0);break}}Sr&&pr(Ar+131072);for(var Cn=(1<<kr)-1,An=(1<<Dr)-1,Dn=_r;;Dn=_r){var In=(Fr=Pr[ar(mr,_r)&Cn])>>>4;if((_r+=15&Fr)>Jr){br&&rr(0);break}if(Fr||rr(2),In<256)Cr[Ar++]=In;else{if(In==256){Dn=_r,Pr=null;break}var mn=In-254;if(In>264){var Nn=St[cn=In-257];mn=sr(mr,_r,(1<<Nn)-1)+Rt[cn],_r+=Nn}var Kr=Ir[ar(mr,_r)&An],hn=Kr>>>4;if(Kr||rr(3),_r+=15&Kr,fn=Dt[hn],hn>3&&(Nn=Et[hn],fn+=ar(mr,_r)&(1<<Nn)-1,_r+=Nn),_r>Jr){br&&rr(0);break}Sr&&pr(Ar+131072);for(var En=Ar+mn;Ar<En;Ar+=4)Cr[Ar]=Cr[Ar-fn],Cr[Ar+1]=Cr[Ar+1-fn],Cr[Ar+2]=Cr[Ar+2-fn],Cr[Ar+3]=Cr[Ar+3-fn];Ar=En}}yr.l=Pr,yr.p=Dn,yr.b=Ar,Pr&&(Er=1,yr.m=kr,yr.d=Ir,yr.n=Dr)}while(!Er);return Ar==Cr.length?Cr:function(xn,On,Wn){(On==null||On<0)&&(On=0),(Wn==null||Wn>xn.length)&&(Wn=xn.length);var es=new(xn instanceof dt?dt:xn instanceof vt?vt:lt)(Wn-On);return es.set(xn.subarray(On,Wn)),es}(Cr,0,Ar)},ur=new lt(0),dr=typeof TextDecoder<"u"&&new TextDecoder;try{dr.decode(ur,{stream:!0})}catch{}return ft.convert_streams=function(mr){var Cr=new DataView(mr),yr=0;function xr(){var Vr=Cr.getUint16(yr);return yr+=2,Vr}function Sr(){var Vr=Cr.getUint32(yr);return yr+=4,Vr}function br(Vr){jr.setUint16(Nr,Vr),Nr+=2}function cr(Vr){jr.setUint32(Nr,Vr),Nr+=4}for(var pr={signature:Sr(),flavor:Sr(),length:Sr(),numTables:xr(),reserved:xr(),totalSfntSize:Sr(),majorVersion:xr(),minorVersion:xr(),metaOffset:Sr(),metaLength:Sr(),metaOrigLength:Sr(),privOffset:Sr(),privLength:Sr()},Er=0;Math.pow(2,Er)<=pr.numTables;)Er++;Er--;for(var _r=16*Math.pow(2,Er),Ar=16*pr.numTables-_r,Pr=12,Ir=[],kr=0;kr<pr.numTables;kr++)Ir.push({tag:Sr(),offset:Sr(),compLength:Sr(),origLength:Sr(),origChecksum:Sr()}),Pr+=16;var Dr,Jr=new Uint8Array(12+16*Ir.length+Ir.reduce(function(Vr,Br){return Vr+Br.origLength+4},0)),Or=Jr.buffer,jr=new DataView(Or),Nr=0;return cr(pr.flavor),br(pr.numTables),br(_r),br(Er),br(Ar),Ir.forEach(function(Vr){cr(Vr.tag),cr(Vr.origChecksum),cr(Pr),cr(Vr.origLength),Vr.outOffset=Pr,(Pr+=Vr.origLength)%4!=0&&(Pr+=4-Pr%4)}),Ir.forEach(function(Vr){var Br,zr=mr.slice(Vr.offset,Vr.offset+Vr.compLength);if(Vr.compLength!=Vr.origLength){var qr=new Uint8Array(Vr.origLength);Br=new Uint8Array(zr,2),lr(Br,qr)}else qr=new Uint8Array(zr);Jr.set(qr,Vr.outOffset);var en=0;(Pr=Vr.outOffset+Vr.origLength)%4!=0&&(en=4-Pr%4),Jr.set(new Uint8Array(en).buffer,Vr.outOffset+Vr.origLength),Dr=Pr+en}),Or.slice(0,Dr)},Object.defineProperty(ft,"__esModule",{value:!0}),ft}({}).convert_streams}function parserFactory(ft,lt){const dt={M:2,L:2,Q:4,C:6,Z:0},vt={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},St=1,Et=2,At=4,Ct=8,Tt=16,Rt=32;let Bt;function Dt(sr){if(!Bt){const ar={R:Et,L:St,D:At,C:Tt,U:Rt,T:Ct};Bt=new Map;for(let ir in vt){let rr=0;vt[ir].split(",").forEach(lr=>{let[ur,dr]=lr.split("+");ur=parseInt(ur,36),dr=dr?parseInt(dr,36):0,Bt.set(rr+=ur,ar[ir]);for(let mr=dr;mr--;)Bt.set(++rr,ar[ir])})}}return Bt.get(sr)||Rt}const Ft=1,kt=2,Ut=3,Kt=4,tr=[null,"isol","init","fina","medi"];function Wt(sr){const ar=new Uint8Array(sr.length);let ir=Rt,rr=Ft,lr=-1;for(let ur=0;ur<sr.length;ur++){const dr=sr.codePointAt(ur);let mr=Dt(dr)|0,Cr=Ft;mr&Ct||(ir&(St|At|Tt)?mr&(Et|At|Tt)?(Cr=Ut,(rr===Ft||rr===Ut)&&ar[lr]++):mr&(St|Rt)&&(rr===kt||rr===Kt)&&ar[lr]--:ir&(Et|Rt)&&(rr===kt||rr===Kt)&&ar[lr]--,rr=ar[ur]=Cr,ir=mr,lr=ur,dr>65535&&ur++)}return ar}function Zt(sr,ar){const ir=[];for(let lr=0;lr<ar.length;lr++){const ur=ar.codePointAt(lr);ur>65535&&lr++,ir.push(ft.U.codeToGlyph(sr,ur))}const rr=sr.GSUB;if(rr){const{lookupList:lr,featureList:ur}=rr;let dr;const mr=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,Cr=[];ur.forEach(yr=>{if(mr.test(yr.tag))for(let xr=0;xr<yr.tab.length;xr++){if(Cr[yr.tab[xr]])continue;Cr[yr.tab[xr]]=!0;const Sr=lr[yr.tab[xr]],br=/^(isol|init|fina|medi)$/.test(yr.tag);br&&!dr&&(dr=Wt(ar));for(let cr=0;cr<ir.length;cr++)(!dr||!br||tr[dr[cr]]===yr.tag)&&ft.U._applySubs(ir,cr,Sr,lr)}})}return ir}function Ht(...sr){for(let ar=0;ar<sr.length;ar++)if(typeof sr[ar]=="number")return sr[ar]}function nr(sr){const ar=Object.create(null),ir=sr["OS/2"],rr=sr.hhea,lr=sr.head.unitsPerEm,ur=Ht(ir&&ir.sTypoAscender,rr&&rr.ascender,lr),dr={unitsPerEm:lr,ascender:ur,descender:Ht(ir&&ir.sTypoDescender,rr&&rr.descender,0),capHeight:Ht(ir&&ir.sCapHeight,ur),xHeight:Ht(ir&&ir.sxHeight,ur),lineGap:Ht(ir&&ir.sTypoLineGap,rr&&rr.lineGap),forEachGlyph(mr,Cr,yr,xr){let Sr=0;const br=1/dr.unitsPerEm*Cr,cr=Zt(sr,mr);let pr=0,Er=-1;return cr.forEach((_r,Ar)=>{if(_r!==-1){let Pr=ar[_r];if(!Pr){const{cmds:Ir,crds:kr}=ft.U.glyphToPath(sr,_r);let Dr="",Jr=0;for(let Br=0,zr=Ir.length;Br<zr;Br++){const qr=dt[Ir[Br]];Dr+=Ir[Br];for(let en=1;en<=qr;en++)Dr+=(en>1?",":"")+kr[Jr++]}let Or,jr,Nr,Vr;if(kr.length){Or=jr=1/0,Nr=Vr=-1/0;for(let Br=0,zr=kr.length;Br<zr;Br+=2){let qr=kr[Br],en=kr[Br+1];qr<Or&&(Or=qr),en<jr&&(jr=en),qr>Nr&&(Nr=qr),en>Vr&&(Vr=en)}}else Or=Nr=jr=Vr=0;Pr=ar[_r]={index:_r,advanceWidth:sr.hmtx.aWidth[_r],xMin:Or,yMin:jr,xMax:Nr,yMax:Vr,path:Dr,pathCommandCount:Ir.length}}Er!==-1&&(Sr+=ft.U.getPairAdjustment(sr,Er,_r)*br),xr.call(null,Pr,Sr,pr),Pr.advanceWidth&&(Sr+=Pr.advanceWidth*br),yr&&(Sr+=yr*Cr),Er=_r}pr+=mr.codePointAt(pr)>65535?2:1}),Sr}};return dr}return function(ar){const ir=new Uint8Array(ar,0,4),rr=ft._bin.readASCII(ir,0,4);if(rr==="wOFF")ar=lt(ar);else if(rr==="wOF2")throw new Error("woff2 fonts not supported");return nr(ft.parse(ar)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(ft,lt,dt){const vt=ft(),St=lt();return dt(vt,St)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(ft,lt){ft=assign({},ft);const dt=now$1();if(ft.font=toAbsoluteURL(ft.font||CONFIG.defaultFontURL),ft.text=""+ft.text,ft.sdfGlyphSize=ft.sdfGlyphSize||CONFIG.sdfGlyphSize,ft.colorRanges!=null){let Dt={};for(let Ft in ft.colorRanges)if(ft.colorRanges.hasOwnProperty(Ft)){let kt=ft.colorRanges[Ft];typeof kt!="number"&&(kt=tempColor.set(kt).getHex()),Dt[Ft]=kt}ft.colorRanges=Dt}Object.freeze(ft);const{textureWidth:vt,sdfExponent:St}=CONFIG,{sdfGlyphSize:Et}=ft,At=vt/Et*4;let Ct=atlases[Et];if(!Ct){const Dt=document.createElement("canvas");Dt.width=vt,Dt.height=Et*256/At,Ct=atlases[Et]={glyphCount:0,sdfGlyphSize:Et,sdfCanvas:Dt,sdfTexture:new Texture(Dt,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},Ct.sdfTexture.generateMipmaps=!1,initContextLossHandling(Ct)}const{sdfTexture:Tt,sdfCanvas:Rt}=Ct;let Bt=Ct.glyphsByFont.get(ft.font);Bt||Ct.glyphsByFont.set(ft.font,Bt=new Map),typesetInWorker(ft).then(Dt=>{const{glyphIds:Ft,glyphPositions:kt,fontSize:Ut,unitsPerEm:Kt,timings:tr}=Dt,Wt=[],Zt=new Float32Array(Ft.length*4),Ht=Ut/Kt;let nr=0,sr=0;const ar=now$1();Ft.forEach((dr,mr)=>{let Cr=Bt.get(dr);if(!Cr){const{path:br,pathBounds:cr}=Dt.glyphData[dr],pr=Math.max(cr[2]-cr[0],cr[3]-cr[1])/Et*(CONFIG.sdfMargin*Et+.5),Er=Ct.glyphCount++,_r=[cr[0]-pr,cr[1]-pr,cr[2]+pr,cr[3]+pr];Bt.set(dr,Cr={path:br,atlasIndex:Er,sdfViewBox:_r}),Wt.push(Cr)}const{sdfViewBox:yr}=Cr,xr=kt[sr++],Sr=kt[sr++];Zt[nr++]=xr+yr[0]*Ht,Zt[nr++]=Sr+yr[1]*Ht,Zt[nr++]=xr+yr[2]*Ht,Zt[nr++]=Sr+yr[3]*Ht,Ft[mr]=Cr.atlasIndex}),tr.quads=(tr.quads||0)+(now$1()-ar);const ir=now$1();tr.sdf={};const rr=Rt.height,lr=Math.ceil(Ct.glyphCount/At),ur=Math.pow(2,Math.ceil(Math.log2(lr*Et)));ur>rr&&(console.info(`Increasing SDF texture size ${rr}->${ur}`),resizeWebGLCanvasWithoutClearing(Rt,vt,ur),Tt.dispose()),Promise.all(Wt.map(dr=>generateGlyphSDF(dr,Ct,ft.gpuAccelerateSDF).then(({timing:mr})=>{tr.sdf[dr.atlasIndex]=mr}))).then(()=>{Wt.length&&!Ct.contextLost&&(safariPre15Workaround(Ct),Tt.needsUpdate=!0),tr.sdfTotal=now$1()-ir,tr.total=now$1()-dt,lt(Object.freeze({parameters:ft,sdfTexture:Tt,sdfGlyphSize:Et,sdfExponent:St,glyphBounds:Zt,glyphAtlasIndices:Ft,glyphColors:Dt.glyphColors,caretPositions:Dt.caretPositions,caretHeight:Dt.caretHeight,chunkedBounds:Dt.chunkedBounds,ascender:Dt.ascender,descender:Dt.descender,lineHeight:Dt.lineHeight,capHeight:Dt.capHeight,xHeight:Dt.xHeight,topBaseline:Dt.topBaseline,blockBounds:Dt.blockBounds,visibleBounds:Dt.visibleBounds,timings:Dt.timings}))})}),Promise.resolve().then(()=>{Ct.contextLost||warmUpSDFCanvas(Rt)})}function generateGlyphSDF({path:ft,atlasIndex:lt,sdfViewBox:dt},{sdfGlyphSize:vt,sdfCanvas:St,contextLost:Et},At){if(Et)return Promise.resolve({timing:-1});const{textureWidth:Ct,sdfExponent:Tt}=CONFIG,Rt=Math.max(dt[2]-dt[0],dt[3]-dt[1]),Bt=Math.floor(lt/4),Dt=Bt%(Ct/vt)*vt,Ft=Math.floor(Bt/(Ct/vt))*vt,kt=lt%4;return generateSDF(vt,vt,ft,dt,Rt,Tt,St,Dt,Ft,kt,At)}function initContextLossHandling(ft){const lt=ft.sdfCanvas;lt.addEventListener("webglcontextlost",dt=>{console.log("Context Lost",dt),dt.preventDefault(),ft.contextLost=!0}),lt.addEventListener("webglcontextrestored",dt=>{console.log("Context Restored",dt),ft.contextLost=!1;const vt=[];ft.glyphsByFont.forEach(St=>{St.forEach(Et=>{vt.push(generateGlyphSDF(Et,ft,!0))})}),Promise.all(vt).then(()=>{safariPre15Workaround(ft),ft.sdfTexture.needsUpdate=!0})})}function preloadFont({font:ft,characters:lt,sdfGlyphSize:dt},vt){let St=Array.isArray(lt)?lt.join(`
`):""+lt;getTextRenderInfo({font:ft,sdfGlyphSize:dt,text:St},vt)}function assign(ft,lt){for(let dt in lt)lt.hasOwnProperty(dt)&&(ft[dt]=lt[dt]);return ft}let linkEl;function toAbsoluteURL(ft){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=ft,linkEl.href}function safariPre15Workaround(ft){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:lt,sdfTexture:dt}=ft,{width:vt,height:St}=lt,Et=ft.sdfCanvas.getContext("webgl");let At=dt.image.data;(!At||At.length!==vt*St*4)&&(At=new Uint8Array(vt*St*4),dt.image={width:vt,height:St,data:At},dt.flipY=!1,dt.isDataTexture=!0),Et.readPixels(0,0,vt,St,Et.RGBA,Et.UNSIGNED_BYTE,At)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(ft,lt,dt,vt){const{defaultFontURL:St}=ft;return dt(lt,vt(),{defaultFontURL:St})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(ft){return function(lt){return new Promise(dt=>{ft.typeset(lt,dt)})}},getTransferables(ft){const lt=[ft.glyphPositions.buffer,ft.glyphIds.buffer];return ft.caretPositions&&lt.push(ft.caretPositions.buffer),ft.glyphColors&&lt.push(ft.glyphColors.buffer),lt}}),templateGeometries={};function getTemplateGeometry(ft){let lt=templateGeometries[ft];if(!lt){const dt=new PlaneGeometry(1,1,ft,ft),vt=dt.clone(),St=dt.attributes,Et=vt.attributes,At=new BufferGeometry,Ct=St.uv.count;for(let Tt=0;Tt<Ct;Tt++)Et.position.array[Tt*3]*=-1,Et.normal.array[Tt*3+2]*=-1;["position","normal","uv"].forEach(Tt=>{At.setAttribute(Tt,new Float32BufferAttribute([...St[Tt].array,...Et[Tt].array],St[Tt].itemSize))}),At.setIndex([...dt.index.array,...vt.index.array.map(Tt=>Tt+Ct)]),At.translate(.5,.5,0),lt=templateGeometries[ft]=At}return lt}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere$1,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(lt){const dt=this.getIndex().count;this.setDrawRange(lt===BackSide?dt/2:0,lt===DoubleSide?dt:dt/2)}set detail(lt){if(lt!==this._detail){this._detail=lt,(typeof lt!="number"||lt<1)&&(lt=1);let dt=getTemplateGeometry(lt);["position","normal","uv"].forEach(vt=>{this.attributes[vt]=dt.attributes[vt].clone()}),this.setIndex(dt.getIndex().clone())}}get detail(){return this._detail}set curveRadius(lt){lt!==this._curveRadius&&(this._curveRadius=lt,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(lt,dt,vt,St,Et){updateBufferAttr(this,glyphBoundsAttrName,lt,4),updateBufferAttr(this,glyphIndexAttrName,dt,1),updateBufferAttr(this,glyphColorAttrName,Et,3),this._blockBounds=vt,this._chunkedBounds=St,this.instanceCount=dt.length,this._updateBounds()}_updateBounds(){const lt=this._blockBounds;if(lt){const{curveRadius:dt,boundingBox:vt}=this;if(dt){const{PI:St,floor:Et,min:At,max:Ct,sin:Tt,cos:Rt}=Math,Bt=St/2,Dt=St*2,Ft=Math.abs(dt),kt=lt[0]/Ft,Ut=lt[2]/Ft,Kt=Et((kt+Bt)/Dt)!==Et((Ut+Bt)/Dt)?-Ft:At(Tt(kt)*Ft,Tt(Ut)*Ft),tr=Et((kt-Bt)/Dt)!==Et((Ut-Bt)/Dt)?Ft:Ct(Tt(kt)*Ft,Tt(Ut)*Ft),Wt=Et((kt+St)/Dt)!==Et((Ut+St)/Dt)?Ft*2:Ct(Ft-Rt(kt)*Ft,Ft-Rt(Ut)*Ft);vt.min.set(Kt,lt[1],dt<0?-Wt:0),vt.max.set(tr,lt[3],dt<0?0:Wt)}else vt.min.set(lt[0],lt[1],0),vt.max.set(lt[2],lt[3],0);vt.getBoundingSphere(this.boundingSphere)}}applyClipRect(lt){let dt=this.getAttribute(glyphIndexAttrName).count,vt=this._chunkedBounds;if(vt)for(let St=vt.length;St--;){dt=vt[St].end;let Et=vt[St].rect;if(Et[1]<lt.w&&Et[3]>lt.y&&Et[0]<lt.z&&Et[2]>lt.x)break}this.instanceCount=dt}}function updateBufferAttr(ft,lt,dt,vt){const St=ft.getAttribute(lt);dt?St&&St.array.length===dt.length?(St.array.set(dt),St.needsUpdate=!0):(ft.setAttribute(lt,new InstancedBufferAttribute(dt,vt)),delete ft._maxInstanceCount,ft.dispose()):St&&ft.deleteAttribute(lt)}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(ft){const lt=createDerivedMaterial(ft,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:dt,fragmentShader:vt}){let St=/\buniform\s+vec3\s+diffuse\b/;return St.test(vt)&&(vt=vt.replace(St,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),St.test(dt)||(dt=dt.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:dt,fragmentShader:vt}}});return lt.transparent=!0,Object.defineProperties(lt,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),lt}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(ft){return Array.isArray(ft)?ft[0]:ft}let getFlatRaycastMesh=()=>{const ft=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>ft,ft},getCurvedRaycastMesh=()=>{const ft=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>ft,ft};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const lt=new GlyphsGeometry;super(lt,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(lt){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(lt):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},dt=>{this._isSyncing=!1,this._textRenderInfo=dt,this.geometry.updateGlyphs(dt.glyphBounds,dt.glyphAtlasIndices,dt.blockBounds,dt.chunkedBounds,dt.glyphColors);const vt=this._queuedSyncs;vt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{vt.forEach(St=>St&&St())})),this.dispatchEvent(syncCompleteEvent),lt&&lt()})))}onBeforeRender(lt,dt,vt,St,Et,At){this.sync(),Et.isTroikaTextMaterial&&this._prepareForRender(Et),Et._hadOwnSide=Et.hasOwnProperty("side"),this.geometry.setSide(Et._actualSide=Et.side),Et.side=FrontSide}onAfterRender(lt,dt,vt,St,Et,At){Et._hadOwnSide?Et.side=Et._actualSide:delete Et.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let lt=this._derivedMaterial;const dt=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!lt||lt.baseMaterial!==dt)&&(lt=this._derivedMaterial=createTextDerivedMaterial(dt),dt.addEventListener("dispose",function vt(){dt.removeEventListener("dispose",vt),lt.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let vt=lt._outlineMtl;return vt||(vt=lt._outlineMtl=Object.create(lt,{id:{value:lt.id+.1}}),vt.isTextOutlineMaterial=!0,vt.depthWrite=!1,vt.map=null,lt.addEventListener("dispose",function St(){lt.removeEventListener("dispose",St),vt.dispose()})),[vt,lt]}else return lt}set material(lt){lt&&lt.isTroikaTextMaterial?(this._derivedMaterial=lt,this._baseMaterial=lt.baseMaterial):this._baseMaterial=lt}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(lt){this.geometry.detail=lt}get curveRadius(){return this.geometry.curveRadius}set curveRadius(lt){this.geometry.curveRadius=lt}get customDepthMaterial(){return first(this.material).getDepthMaterial()}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}_prepareForRender(lt){const dt=lt.isTextOutlineMaterial,vt=lt.uniforms,St=this.textRenderInfo;if(St){const{sdfTexture:Ct,blockBounds:Tt}=St;vt.uTroikaSDFTexture.value=Ct,vt.uTroikaSDFTextureSize.value.set(Ct.image.width,Ct.image.height),vt.uTroikaSDFGlyphSize.value=St.sdfGlyphSize,vt.uTroikaSDFExponent.value=St.sdfExponent,vt.uTroikaTotalBounds.value.fromArray(Tt),vt.uTroikaUseGlyphColors.value=!dt&&!!St.glyphColors;let Rt=0,Bt=0,Dt=0,Ft,kt,Ut,Kt=0,tr=0;if(dt){let{outlineWidth:Zt,outlineOffsetX:Ht,outlineOffsetY:nr,outlineBlur:sr,outlineOpacity:ar}=this;Rt=this._parsePercent(Zt)||0,Bt=Math.max(0,this._parsePercent(sr)||0),Ft=ar,Kt=this._parsePercent(Ht)||0,tr=this._parsePercent(nr)||0}else Dt=Math.max(0,this._parsePercent(this.strokeWidth)||0),Dt&&(Ut=this.strokeColor,vt.uTroikaStrokeColor.value.set(Ut??defaultStrokeColor),kt=this.strokeOpacity,kt==null&&(kt=1)),Ft=this.fillOpacity;vt.uTroikaDistanceOffset.value=Rt,vt.uTroikaPositionOffset.value.set(Kt,tr),vt.uTroikaBlurRadius.value=Bt,vt.uTroikaStrokeWidth.value=Dt,vt.uTroikaStrokeOpacity.value=kt,vt.uTroikaFillOpacity.value=Ft??1,vt.uTroikaCurveRadius.value=this.curveRadius||0;let Wt=this.clipRect;if(Wt&&Array.isArray(Wt)&&Wt.length===4)vt.uTroikaClipRect.value.fromArray(Wt);else{const Zt=(this.fontSize||.1)*100;vt.uTroikaClipRect.value.set(Tt[0]-Zt,Tt[1]-Zt,Tt[2]+Zt,Tt[3]+Zt)}this.geometry.applyClipRect(vt.uTroikaClipRect.value)}vt.uTroikaSDFDebug.value=!!this.debugSDF,lt.polygonOffset=!!this.depthOffset,lt.polygonOffsetFactor=lt.polygonOffsetUnits=this.depthOffset||0;const Et=dt?this.outlineColor||0:this.color;if(Et==null)delete lt.color;else{const Ct=lt.hasOwnProperty("color")?lt.color:lt.color=new Color;(Et!==Ct._input||typeof Et=="object")&&Ct.set(Ct._input=Et)}let At=this.orientation||defaultOrient;if(At!==lt._orientation){let Ct=vt.uTroikaOrient.value;At=At.replace(/[^-+xyz]/g,"");let Tt=At!==defaultOrient&&At.match(/^([-+])([xyz])([-+])([xyz])$/);if(Tt){let[,Rt,Bt,Dt,Ft]=Tt;tempVec3a.set(0,0,0)[Bt]=Rt==="-"?1:-1,tempVec3b.set(0,0,0)[Ft]=Dt==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),Ct.setFromMatrix4(tempMat4)}else Ct.identity();lt._orientation=At}}_parsePercent(lt){if(typeof lt=="string"){let dt=lt.match(/^(-?[\d.]+)%$/),vt=dt?parseFloat(dt[1]):NaN;lt=(isNaN(vt)?0:vt/100)*this.fontSize}return lt}localPositionToTextCoords(lt,dt=new Vector2){dt.copy(lt);const vt=this.curveRadius;return vt&&(dt.x=Math.atan2(lt.x,Math.abs(vt)-Math.abs(lt.z))*Math.abs(vt)),dt}worldPositionToTextCoords(lt,dt=new Vector2){return tempVec3a.copy(lt),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),dt)}raycast(lt,dt){const{textRenderInfo:vt,curveRadius:St}=this;if(vt){const Et=vt.blockBounds,At=St?getCurvedRaycastMesh():getFlatRaycastMesh(),Ct=At.geometry,{position:Tt,uv:Rt}=Ct.attributes;for(let Bt=0;Bt<Rt.count;Bt++){let Dt=Et[0]+Rt.getX(Bt)*(Et[2]-Et[0]);const Ft=Et[1]+Rt.getY(Bt)*(Et[3]-Et[1]);let kt=0;St&&(kt=St-Math.cos(Dt/St)*St,Dt=Math.sin(Dt/St)*St),Tt.setXYZ(Bt,Dt,Ft,kt)}Ct.boundingSphere=this.geometry.boundingSphere,Ct.boundingBox=this.geometry.boundingBox,At.matrixWorld=this.matrixWorld,At.material.side=this.material.side,tempArray.length=0,At.raycast(lt,tempArray);for(let Bt=0;Bt<tempArray.length;Bt++)tempArray[Bt].object=this,dt.push(tempArray[Bt])}}copy(lt){const dt=this.geometry;return super.copy(lt),this.geometry=dt,COPYABLE_PROPS.forEach(vt=>{this[vt]=lt[vt]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(ft=>{const lt="_private_"+ft;Object.defineProperty(Text$1.prototype,ft,{get(){return this[lt]},set(dt){dt!==this[lt]&&(this[lt]=dt,this._needsSync=!0)}})});const Text=reactExports.forwardRef(({sdfGlyphSize:ft=64,anchorX:lt="center",anchorY:dt="middle",font:vt,fontSize:St=1,children:Et,characters:At,onSync:Ct,...Tt},Rt)=>{const Bt=useThree(({invalidate:Ut})=>Ut),[Dt]=reactExports.useState(()=>new Text$1),[Ft,kt]=reactExports.useMemo(()=>{const Ut=[];let Kt="";return reactExports.Children.forEach(Et,tr=>{typeof tr=="string"||typeof tr=="number"?Kt+=tr:Ut.push(tr)}),[Ut,Kt]},[Et]);return suspend(()=>new Promise(Ut=>preloadFont({font:vt,characters:At},Ut)),["troika-text",vt,At]),reactExports.useLayoutEffect(()=>void Dt.sync(()=>{Bt(),Ct&&Ct(Dt)})),reactExports.useEffect(()=>()=>Dt.dispose(),[Dt]),reactExports.createElement("primitive",_extends$1({object:Dt,ref:Rt,font:vt,text:kt,anchorX:lt,anchorY:dt,fontSize:St,sdfGlyphSize:ft},Tt),Ft)}),Effects=reactExports.forwardRef(({children:ft,multisamping:lt=8,renderIndex:dt=1,disableRender:vt,disableGamma:St,disableRenderPass:Et,depthBuffer:At=!0,stencilBuffer:Ct=!1,anisotropy:Tt=1,encoding:Rt,type:Bt,...Dt},Ft)=>{reactExports.useMemo(()=>extend({EffectComposer,RenderPass,ShaderPass}),[]);const kt=reactExports.useRef(),{scene:Ut,camera:Kt,gl:tr,size:Wt,viewport:Zt}=useThree(),[Ht]=reactExports.useState(()=>{const sr=new WebGLRenderTarget(Wt.width,Wt.height,{type:Bt||HalfFloatType,format:RGBAFormat,depthBuffer:At,stencilBuffer:Ct,anisotropy:Tt});return Bt===UnsignedByteType&&Rt!=null&&("colorSpace"in sr?sr.texture.colorSpace=Rt:sr.texture.encoding=Rt),sr.samples=lt,sr});reactExports.useEffect(()=>{var sr,ar;(sr=kt.current)==null||sr.setSize(Wt.width,Wt.height),(ar=kt.current)==null||ar.setPixelRatio(Zt.dpr)},[tr,Wt,Zt.dpr]),useFrame(()=>{var sr;vt||(sr=kt.current)==null||sr.render()},dt);const nr=[];return Et||nr.push(reactExports.createElement("renderPass",{key:"renderpass",attach:`passes-${nr.length}`,args:[Ut,Kt]})),St||nr.push(reactExports.createElement("shaderPass",{attach:`passes-${nr.length}`,key:"gammapass",args:[GammaCorrectionShader]})),reactExports.Children.forEach(ft,sr=>{sr&&nr.push(reactExports.cloneElement(sr,{key:nr.length,attach:`passes-${nr.length}`}))}),reactExports.createElement("effectComposer",_extends$1({ref:mergeRefs([Ft,kt]),args:[tr,Ht]},Dt),nr)});function shaderMaterial(ft,lt,dt,vt){const St=class extends ShaderMaterial{constructor(At={}){const Ct=Object.entries(ft);super({uniforms:Ct.reduce((Tt,[Rt,Bt])=>{const Dt=UniformsUtils.clone({[Rt]:{value:Bt}});return{...Tt,...Dt}},{}),vertexShader:lt,fragmentShader:dt}),this.key="",Ct.forEach(([Tt])=>Object.defineProperty(this,Tt,{get:()=>this.uniforms[Tt].value,set:Rt=>this.uniforms[Tt].value=Rt})),Object.assign(this,At),vt&&vt(this)}};return St.key=MathUtils.generateUUID(),St}function useSurfaceSampler(ft,lt=16,dt,vt,St){const[Et,At]=reactExports.useState(()=>{const Ct=Array.from({length:lt},()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]).flat();return new InstancedBufferAttribute(Float32Array.from(Ct),16)});return reactExports.useLayoutEffect(()=>{if(typeof ft.current>"u")return;const Ct=new MeshSurfaceSampler(ft.current);vt&&Ct.setWeightAttribute(vt),Ct.build();const Tt=new Vector3,Rt=new Vector3,Bt=new Color,Dt=new Object3D;ft.current.updateMatrixWorld(!0);for(let Ft=0;Ft<lt;Ft++)Ct.sample(Tt,Rt,Bt),typeof dt=="function"?dt({dummy:Dt,sampledMesh:ft.current,position:Tt,normal:Rt,color:Bt},Ft):Dt.position.copy(Tt),Dt.updateMatrix(),St!=null&&St.current&&St.current.setMatrixAt(Ft,Dt.matrix),Dt.matrix.toArray(Et.array,Ft*16);St!=null&&St.current&&(St.current.instanceMatrix.needsUpdate=!0),Et.needsUpdate=!0,At(Et.clone())},[ft,St,vt,lt,dt]),Et}function Sampler({children:ft,weight:lt,transform:dt,instances:vt,mesh:St,count:Et=16,...At}){const Ct=reactExports.useRef(null),Tt=reactExports.useRef(null),Rt=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{var Bt,Dt;Tt.current=(Bt=vt==null?void 0:vt.current)!==null&&Bt!==void 0?Bt:Ct.current.children.find(Ft=>Ft.hasOwnProperty("instanceMatrix")),Rt.current=(Dt=St==null?void 0:St.current)!==null&&Dt!==void 0?Dt:Ct.current.children.find(Ft=>Ft.type==="Mesh")},[ft,St==null?void 0:St.current,vt==null?void 0:vt.current]),useSurfaceSampler(Rt,Et,dt,lt,Tt),reactExports.createElement("group",_extends$1({ref:Ct},At),ft)}let dracoLoader=null;function extensions(ft,lt,dt){return vt=>{dt&&dt(vt),ft&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof ft=="string"?ft:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),vt.setDRACOLoader(dracoLoader)),lt&&vt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(ft,lt=!0,dt=!0,vt){return useLoader(GLTFLoader,ft,extensions(lt,dt,vt))}useGLTF.preload=(ft,lt=!0,dt=!0,vt)=>useLoader.preload(GLTFLoader,ft,extensions(lt,dt,vt));useGLTF.clear=ft=>useLoader.clear(GLTFLoader,ft);function useFBO(ft,lt,dt){const vt=useThree(Ft=>Ft.size),St=useThree(Ft=>Ft.viewport),Et=typeof ft=="number"?ft:vt.width*St.dpr,At=typeof lt=="number"?lt:vt.height*St.dpr,Ct=(typeof ft=="number"?dt:ft)||{},{samples:Tt=0,depth:Rt,...Bt}=Ct,Dt=reactExports.useMemo(()=>{const Ft=new WebGLRenderTarget(Et,At,{minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType,...Bt});return Rt&&(Ft.depthTexture=new DepthTexture(Et,At,FloatType)),Ft.samples=Tt,Ft},[]);return reactExports.useLayoutEffect(()=>{Dt.setSize(Et,At),Tt&&(Dt.samples=Tt)},[Tt,Dt,Et,At]),reactExports.useEffect(()=>()=>Dt.dispose(),[]),Dt}const isFunction=ft=>typeof ft=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:ft,resolution:lt=256,frames:dt=1/0,makeDefault:vt,children:St,...Et},At)=>{const Ct=useThree(({set:tr})=>tr),Tt=useThree(({camera:tr})=>tr),Rt=useThree(({size:tr})=>tr),Bt=reactExports.useRef(null),Dt=reactExports.useRef(null),Ft=useFBO(lt);reactExports.useLayoutEffect(()=>{Et.manual||(Bt.current.aspect=Rt.width/Rt.height)},[Rt,Et]),reactExports.useLayoutEffect(()=>{Bt.current.updateProjectionMatrix()});let kt=0,Ut=null;const Kt=isFunction(St);return useFrame(tr=>{Kt&&(dt===1/0||kt<dt)&&(Dt.current.visible=!1,tr.gl.setRenderTarget(Ft),Ut=tr.scene.background,ft&&(tr.scene.background=ft),tr.gl.render(tr.scene,Bt.current),tr.scene.background=Ut,tr.gl.setRenderTarget(null),Dt.current.visible=!0,kt++)}),reactExports.useLayoutEffect(()=>{if(vt){const tr=Tt;return Ct(()=>({camera:Bt.current})),()=>Ct(()=>({camera:tr}))}},[Bt,vt,Ct]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends$1({ref:mergeRefs([Bt,At])},Et),!Kt&&St),reactExports.createElement("group",{ref:Dt},Kt&&St(Ft.texture)))}),OrbitControls=reactExports.forwardRef(({makeDefault:ft,camera:lt,regress:dt,domElement:vt,enableDamping:St=!0,keyEvents:Et=!1,onChange:At,onStart:Ct,onEnd:Tt,...Rt},Bt)=>{const Dt=useThree(ar=>ar.invalidate),Ft=useThree(ar=>ar.camera),kt=useThree(ar=>ar.gl),Ut=useThree(ar=>ar.events),Kt=useThree(ar=>ar.setEvents),tr=useThree(ar=>ar.set),Wt=useThree(ar=>ar.get),Zt=useThree(ar=>ar.performance),Ht=lt||Ft,nr=vt||Ut.connected||kt.domElement,sr=reactExports.useMemo(()=>new OrbitControls$1(Ht),[Ht]);return useFrame(()=>{sr.enabled&&sr.update()},-1),reactExports.useEffect(()=>(Et&&sr.connect(Et===!0?nr:Et),sr.connect(nr),()=>void sr.dispose()),[Et,nr,dt,sr,Dt]),reactExports.useEffect(()=>{const ar=lr=>{Dt(),dt&&Zt.regress(),At&&At(lr)},ir=lr=>{Ct&&Ct(lr)},rr=lr=>{Tt&&Tt(lr)};return sr.addEventListener("change",ar),sr.addEventListener("start",ir),sr.addEventListener("end",rr),()=>{sr.removeEventListener("start",ir),sr.removeEventListener("end",rr),sr.removeEventListener("change",ar)}},[At,Ct,Tt,sr,Dt,Kt]),reactExports.useEffect(()=>{if(ft){const ar=Wt().controls;return tr({controls:sr}),()=>tr({controls:ar})}},[ft,sr]),reactExports.createElement("primitive",_extends$1({ref:Bt,object:sr,enableDamping:St},Rt))});function useVideoTexture(ft,lt){const{unsuspend:dt,start:vt,crossOrigin:St,muted:Et,loop:At,...Ct}={unsuspend:"loadedmetadata",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0,...lt},Tt=useThree(Bt=>Bt.gl),Rt=suspend(()=>new Promise((Bt,Dt)=>{const Ft=Object.assign(document.createElement("video"),{src:typeof ft=="string"&&ft||void 0,srcObject:ft instanceof MediaStream&&ft||void 0,crossOrigin:St,loop:At,muted:Et,...Ct}),kt=new VideoTexture(Ft);"colorSpace"in kt?kt.colorSpace=Tt.outputColorSpace:kt.encoding=Tt.outputEncoding,Ft.addEventListener(dt,()=>Bt(kt))}),[ft]);return reactExports.useEffect(()=>void(vt&&Rt.image.play()),[Rt,vt]),Rt}function useAnimations(ft,lt){const dt=reactExports.useRef(),[vt]=reactExports.useState(()=>lt?lt instanceof Object3D?{current:lt}:lt:dt),[St]=reactExports.useState(()=>new AnimationMixer(void 0));reactExports.useLayoutEffect(()=>void(St._root=vt.current),[St,lt]);const Et=reactExports.useRef({}),[At]=reactExports.useState(()=>{const Ct={};return ft.forEach(Tt=>Object.defineProperty(Ct,Tt.name,{enumerable:!0,get(){if(vt.current)return Et.current[Tt.name]||(Et.current[Tt.name]=St.clipAction(Tt,vt.current))},configurable:!0})),{ref:vt,clips:ft,actions:Ct,names:ft.map(Tt=>Tt.name),mixer:St}});return useFrame((Ct,Tt)=>St.update(Tt)),reactExports.useEffect(()=>{const Ct=vt.current;return()=>{Et.current={},Object.values(At.actions).forEach(Tt=>{Ct&&St.uncacheAction(Tt,Ct)})}},[ft]),reactExports.useEffect(()=>()=>{St.stopAllAction()},[St]),At}const Center=reactExports.forwardRef(function({children:lt,disable:dt,disableX:vt,disableY:St,disableZ:Et,left:At,right:Ct,top:Tt,bottom:Rt,front:Bt,back:Dt,onCentered:Ft,precise:kt=!0,cacheKey:Ut=0,...Kt},tr){const Wt=reactExports.useRef(null),Zt=reactExports.useRef(null),Ht=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{Zt.current.matrixWorld.identity();const nr=new Box3().setFromObject(Ht.current,kt),sr=new Vector3,ar=new Sphere$1,ir=nr.max.x-nr.min.x,rr=nr.max.y-nr.min.y,lr=nr.max.z-nr.min.z;nr.getCenter(sr),nr.getBoundingSphere(ar);const ur=Tt?rr/2:Rt?-rr/2:0,dr=At?-ir/2:Ct?ir/2:0,mr=Bt?lr/2:Dt?-lr/2:0;Zt.current.position.set(dt||vt?0:-sr.x+dr,dt||St?0:-sr.y+ur,dt||Et?0:-sr.z+mr),typeof Ft<"u"&&Ft({parent:Wt.current.parent,container:Wt.current,width:ir,height:rr,depth:lr,boundingBox:nr,boundingSphere:ar,center:sr,verticalAlignment:ur,horizontalAlignment:dr,depthAlignment:mr})},[Ut,Ft,Tt,At,Bt,dt,vt,St,Et,kt,Ct,Rt,Dt]),reactExports.useImperativeHandle(tr,()=>Wt.current,[]),reactExports.createElement("group",_extends$1({ref:Wt},Kt),reactExports.createElement("group",{ref:Zt},reactExports.createElement("group",{ref:Ht},lt)))});function create$2(ft,lt){const dt=ft+"Geometry";return reactExports.forwardRef(({args:vt,children:St,...Et},At)=>{const Ct=reactExports.useRef(null);return reactExports.useImperativeHandle(At,()=>Ct.current),reactExports.useLayoutEffect(()=>void(lt==null?void 0:lt(Ct.current))),reactExports.createElement("mesh",_extends$1({ref:Ct},Et),reactExports.createElement(dt,{attach:"geometry",args:vt}),St)})}const Sphere=create$2("sphere"),Plane=create$2("plane"),isOrthographic=ft=>ft&&ft.isOrthographicCamera,isBox3=ft=>ft&&ft.isBox3,context=reactExports.createContext(null);function Bounds({children:ft,damping:lt=6,fit:dt,clip:vt,observe:St,margin:Et=1.2,eps:At=.01,onFit:Ct}){const Tt=reactExports.useRef(null),{camera:Rt,invalidate:Bt,size:Dt,controls:Ft}=useThree(),kt=Ft,Ut=reactExports.useRef(Ct);Ut.current=Ct;function Kt(ar,ir){return Math.abs(ar.x-ir.x)<At&&Math.abs(ar.y-ir.y)<At&&Math.abs(ar.z-ir.z)<At}function tr(ar,ir,rr,lr){ar.x=MathUtils.damp(ar.x,ir.x,rr,lr),ar.y=MathUtils.damp(ar.y,ir.y,rr,lr),ar.z=MathUtils.damp(ar.z,ir.z,rr,lr)}const[Wt]=reactExports.useState(()=>({animating:!1,focus:new Vector3,camera:new Vector3,zoom:1})),[Zt]=reactExports.useState(()=>({focus:new Vector3,camera:new Vector3,zoom:1})),[Ht]=reactExports.useState(()=>new Box3),nr=reactExports.useMemo(()=>{function ar(){const ir=Ht.getSize(new Vector3),rr=Ht.getCenter(new Vector3),lr=Math.max(ir.x,ir.y,ir.z),ur=isOrthographic(Rt)?lr*4:lr/(2*Math.atan(Math.PI*Rt.fov/360)),dr=isOrthographic(Rt)?lr*4:ur/Rt.aspect,mr=Et*Math.max(ur,dr);return{box:Ht,size:ir,center:rr,distance:mr}}return{getSize:ar,refresh(ir){if(isBox3(ir))Ht.copy(ir);else{const rr=ir||Tt.current;rr.updateWorldMatrix(!0,!0),Ht.setFromObject(rr)}if(Ht.isEmpty()){const rr=Rt.position.length()||10;Ht.setFromCenterAndSize(new Vector3,new Vector3(rr,rr,rr))}if((kt==null?void 0:kt.constructor.name)==="OrthographicTrackballControls"){const{distance:rr}=ar(),lr=Rt.position.clone().sub(kt.target).normalize().multiplyScalar(rr),ur=kt.target.clone().add(lr);Rt.position.copy(ur)}return this},clip(){const{distance:ir}=ar();return kt&&(kt.maxDistance=ir*10),Rt.near=ir/100,Rt.far=ir*100,Rt.updateProjectionMatrix(),kt&&kt.update(),Bt(),this},to({position:ir,target:rr}){Wt.camera.copy(Rt.position);const{center:lr}=ar();return Zt.camera.set(...ir),rr?Zt.focus.set(...rr):Zt.focus.copy(lr),lt?Wt.animating=!0:Rt.position.set(...ir),this},fit(){Wt.camera.copy(Rt.position),kt&&Wt.focus.copy(kt.target);const{center:ir,distance:rr}=ar(),lr=ir.clone().sub(Rt.position).normalize().multiplyScalar(rr);if(Zt.camera.copy(ir).sub(lr),Zt.focus.copy(ir),isOrthographic(Rt)){Wt.zoom=Rt.zoom;let ur=0,dr=0;const mr=[new Vector3(Ht.min.x,Ht.min.y,Ht.min.z),new Vector3(Ht.min.x,Ht.max.y,Ht.min.z),new Vector3(Ht.min.x,Ht.min.y,Ht.max.z),new Vector3(Ht.min.x,Ht.max.y,Ht.max.z),new Vector3(Ht.max.x,Ht.max.y,Ht.max.z),new Vector3(Ht.max.x,Ht.max.y,Ht.min.z),new Vector3(Ht.max.x,Ht.min.y,Ht.max.z),new Vector3(Ht.max.x,Ht.min.y,Ht.min.z)];ir.applyMatrix4(Rt.matrixWorldInverse);for(const xr of mr)xr.applyMatrix4(Rt.matrixWorldInverse),ur=Math.max(ur,Math.abs(xr.y-ir.y)),dr=Math.max(dr,Math.abs(xr.x-ir.x));ur*=2,dr*=2;const Cr=(Rt.top-Rt.bottom)/ur,yr=(Rt.right-Rt.left)/dr;Zt.zoom=Math.min(Cr,yr)/Et,lt||(Rt.zoom=Zt.zoom,Rt.updateProjectionMatrix())}return lt?Wt.animating=!0:(Rt.position.copy(Zt.camera),Rt.lookAt(Zt.focus),kt&&(kt.target.copy(Zt.focus),kt.update())),Ut.current&&Ut.current(this.getSize()),Bt(),this}}},[Ht,Rt,kt,Et,lt,Bt]);reactExports.useLayoutEffect(()=>{if(kt){const ar=()=>Wt.animating=!1;return kt.addEventListener("start",ar),()=>kt.removeEventListener("start",ar)}},[kt]);const sr=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{(St||sr.current++===0)&&(nr.refresh(),dt&&nr.fit(),vt&&nr.clip())},[Dt,vt,dt,St,Rt,kt]),useFrame((ar,ir)=>{if(Wt.animating){if(tr(Wt.focus,Zt.focus,lt,ir),tr(Wt.camera,Zt.camera,lt,ir),Wt.zoom=MathUtils.damp(Wt.zoom,Zt.zoom,lt,ir),Rt.position.copy(Wt.camera),isOrthographic(Rt)&&(Rt.zoom=Wt.zoom,Rt.updateProjectionMatrix()),kt?(kt.target.copy(Wt.focus),kt.update()):Rt.lookAt(Wt.focus),Bt(),isOrthographic(Rt)&&!(Math.abs(Wt.zoom-Zt.zoom)<At)||!isOrthographic(Rt)&&!Kt(Wt.camera,Zt.camera)||kt&&!Kt(Wt.focus,Zt.focus))return;Wt.animating=!1}}),reactExports.createElement("group",{ref:Tt},reactExports.createElement(context.Provider,{value:nr},ft))}function useBounds(){return reactExports.useContext(context)}var propTypes$1={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function ft(vt,St,Et,At,Ct,Tt){if(Tt!==ReactPropTypesSecret){var Rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Rt.name="Invariant Violation",Rt}}ft.isRequired=ft;function lt(){return ft}var dt={array:ft,bigint:ft,bool:ft,func:ft,number:ft,object:ft,string:ft,symbol:ft,any:ft,arrayOf:lt,element:ft,elementType:ft,instanceOf:lt,node:ft,objectOf:lt,oneOf:lt,oneOfType:lt,shape:lt,exact:lt,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return dt.PropTypes=dt,dt};propTypes$1.exports=factoryWithThrowingShims();var propTypesExports=propTypes$1.exports;function shallow$1(ft,lt){if(Object.is(ft,lt))return!0;if(typeof ft!="object"||ft===null||typeof lt!="object"||lt===null)return!1;if(ft instanceof Map&&lt instanceof Map){if(ft.size!==lt.size)return!1;for(const[vt,St]of ft)if(!Object.is(St,lt.get(vt)))return!1;return!0}if(ft instanceof Set&&lt instanceof Set){if(ft.size!==lt.size)return!1;for(const vt of ft)if(!lt.has(vt))return!1;return!0}const dt=Object.keys(ft);if(dt.length!==Object.keys(lt).length)return!1;for(let vt=0;vt<dt.length;vt++)if(!Object.prototype.hasOwnProperty.call(lt,dt[vt])||!Object.is(ft[dt[vt]],lt[dt[vt]]))return!1;return!0}const MAX_ITERATIONS_COUNT=50;function iterator(){return this}function useMultipleRefs(ft){let lt=0;return{next(){if(++lt>MAX_ITERATIONS_COUNT)throw new Error("useMultipleRefs: reached more than 50 refs. This hook can be used exclusively with the array destructuring syntax.");return{done:!1,value:reactExports.useRef(ft)}},[Symbol.iterator]:iterator}}useGLTF.preload("./models/lights/lights_v1.glb");var f$3=r$3(),n$3=ft=>c$3(ft,f$3),m$3=r$3();n$3.write=ft=>c$3(ft,m$3);var d$3=r$3();n$3.onStart=ft=>c$3(ft,d$3);var h$6=r$3();n$3.onFrame=ft=>c$3(ft,h$6);var p$4=r$3();n$3.onFinish=ft=>c$3(ft,p$4);var i$1=[];n$3.setTimeout=(ft,lt)=>{let dt=n$3.now()+lt,vt=()=>{let Et=i$1.findIndex(At=>At.cancel==vt);~Et&&i$1.splice(Et,1),u$5-=~Et?1:0},St={time:dt,handler:ft,cancel:vt};return i$1.splice(w$3(dt),0,St),u$5+=1,v$4(),St};var w$3=ft=>~(~i$1.findIndex(lt=>lt.time>ft)||~i$1.length);n$3.cancel=ft=>{d$3.delete(ft),h$6.delete(ft),p$4.delete(ft),f$3.delete(ft),m$3.delete(ft)};n$3.sync=ft=>{T$1=!0,n$3.batchedUpdates(ft),T$1=!1};n$3.throttle=ft=>{let lt;function dt(){try{ft(...lt)}finally{lt=null}}function vt(...St){lt=St,n$3.onStart(dt)}return vt.handler=ft,vt.cancel=()=>{d$3.delete(dt),lt=null},vt};var y$3=typeof window<"u"?window.requestAnimationFrame:()=>{};n$3.use=ft=>y$3=ft;n$3.now=typeof performance<"u"?()=>performance.now():Date.now;n$3.batchedUpdates=ft=>ft();n$3.catch=console.error;n$3.frameLoop="always";n$3.advance=()=>{n$3.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x$2()};var l$4=-1,u$5=0,T$1=!1;function c$3(ft,lt){T$1?(lt.delete(ft),ft(0)):(lt.add(ft),v$4())}function v$4(){l$4<0&&(l$4=0,n$3.frameLoop!=="demand"&&y$3(b$3))}function R$1(){l$4=-1}function b$3(){~l$4&&(y$3(b$3),n$3.batchedUpdates(x$2))}function x$2(){let ft=l$4;l$4=n$3.now();let lt=w$3(l$4);if(lt&&(Q$2(i$1.splice(0,lt),dt=>dt.handler()),u$5-=lt),!u$5){R$1();return}d$3.flush(),f$3.flush(ft?Math.min(64,l$4-ft):16.667),h$6.flush(),m$3.flush(),p$4.flush()}function r$3(){let ft=new Set,lt=ft;return{add(dt){u$5+=lt==ft&&!ft.has(dt)?1:0,ft.add(dt)},delete(dt){return u$5-=lt==ft&&ft.has(dt)?1:0,ft.delete(dt)},flush(dt){lt.size&&(ft=new Set,u$5-=lt.size,Q$2(lt,vt=>vt(dt)&&ft.add(vt)),u$5+=ft.size,lt=ft)}}}function Q$2(ft,lt){ft.forEach(dt=>{try{lt(dt)}catch(vt){n$3.catch(vt)}})}var ze$1=Object.defineProperty,Le$2=(ft,lt)=>{for(var dt in lt)ze$1(ft,dt,{get:lt[dt],enumerable:!0})},p$3={};Le$2(p$3,{assign:()=>U$1,colors:()=>c$2,createStringInterpolator:()=>k$3,skipAnimation:()=>ee,to:()=>J$2,willAdvance:()=>S$1});function Y$1(){}var mt$1=(ft,lt,dt)=>Object.defineProperty(ft,lt,{value:dt,writable:!0,configurable:!0}),l$3={arr:Array.isArray,obj:ft=>!!ft&&ft.constructor.name==="Object",fun:ft=>typeof ft=="function",str:ft=>typeof ft=="string",num:ft=>typeof ft=="number",und:ft=>ft===void 0};function bt$1(ft,lt){if(l$3.arr(ft)){if(!l$3.arr(lt)||ft.length!==lt.length)return!1;for(let dt=0;dt<ft.length;dt++)if(ft[dt]!==lt[dt])return!1;return!0}return ft===lt}var Ve=(ft,lt)=>ft.forEach(lt);function xt(ft,lt,dt){if(l$3.arr(ft)){for(let vt=0;vt<ft.length;vt++)lt.call(dt,ft[vt],`${vt}`);return}for(let vt in ft)ft.hasOwnProperty(vt)&&lt.call(dt,ft[vt],vt)}var ht$1=ft=>l$3.und(ft)?[]:l$3.arr(ft)?ft:[ft];function Pe$1(ft,lt){if(ft.size){let dt=Array.from(ft);ft.clear(),Ve(dt,lt)}}var yt$1=(ft,...lt)=>Pe$1(ft,dt=>dt(...lt)),h$5=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k$3,J$2,c$2=null,ee=!1,S$1=Y$1,U$1=ft=>{ft.to&&(J$2=ft.to),ft.now&&(n$3.now=ft.now),ft.colors!==void 0&&(c$2=ft.colors),ft.skipAnimation!=null&&(ee=ft.skipAnimation),ft.createStringInterpolator&&(k$3=ft.createStringInterpolator),ft.requestAnimationFrame&&n$3.use(ft.requestAnimationFrame),ft.batchedUpdates&&(n$3.batchedUpdates=ft.batchedUpdates),ft.willAdvance&&(S$1=ft.willAdvance),ft.frameLoop&&(n$3.frameLoop=ft.frameLoop)},E$3=new Set,u$4=[],H$2=[],A$1=0,qe$1={get idle(){return!E$3.size&&!u$4.length},start(ft){A$1>ft.priority?(E$3.add(ft),n$3.onStart($e)):(te$1(ft),n$3(B$1))},advance:B$1,sort(ft){if(A$1)n$3.onFrame(()=>qe$1.sort(ft));else{let lt=u$4.indexOf(ft);~lt&&(u$4.splice(lt,1),re$1(ft))}},clear(){u$4=[],E$3.clear()}};function $e(){E$3.forEach(te$1),E$3.clear(),n$3(B$1)}function te$1(ft){u$4.includes(ft)||re$1(ft)}function re$1(ft){u$4.splice(Ge$1(u$4,lt=>lt.priority>ft.priority),0,ft)}function B$1(ft){let lt=H$2;for(let dt=0;dt<u$4.length;dt++){let vt=u$4[dt];A$1=vt.priority,vt.idle||(S$1(vt),vt.advance(ft),vt.idle||lt.push(vt))}return A$1=0,H$2=u$4,H$2.length=0,u$4=lt,u$4.length>0}function Ge$1(ft,lt){let dt=ft.findIndex(lt);return dt<0?ft.length:dt}var ne$2=(ft,lt,dt)=>Math.min(Math.max(dt,ft),lt),It={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},d$2="[-+]?\\d*\\.?\\d+",M$1=d$2+"%";function C$1(...ft){return"\\(\\s*("+ft.join(")\\s*,\\s*(")+")\\s*\\)"}var oe$1=new RegExp("rgb"+C$1(d$2,d$2,d$2)),fe$1=new RegExp("rgba"+C$1(d$2,d$2,d$2,d$2)),ae$1=new RegExp("hsl"+C$1(d$2,M$1,M$1)),ie=new RegExp("hsla"+C$1(d$2,M$1,M$1,d$2)),se$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,le$1=/^#([0-9a-fA-F]{6})$/,ce=/^#([0-9a-fA-F]{8})$/;function be$1(ft){let lt;return typeof ft=="number"?ft>>>0===ft&&ft>=0&&ft<=4294967295?ft:null:(lt=le$1.exec(ft))?parseInt(lt[1]+"ff",16)>>>0:c$2&&c$2[ft]!==void 0?c$2[ft]:(lt=oe$1.exec(ft))?(y$2(lt[1])<<24|y$2(lt[2])<<16|y$2(lt[3])<<8|255)>>>0:(lt=fe$1.exec(ft))?(y$2(lt[1])<<24|y$2(lt[2])<<16|y$2(lt[3])<<8|me$1(lt[4]))>>>0:(lt=se$1.exec(ft))?parseInt(lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]+"ff",16)>>>0:(lt=ce.exec(ft))?parseInt(lt[1],16)>>>0:(lt=ue$1.exec(ft))?parseInt(lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]+lt[4]+lt[4],16)>>>0:(lt=ae$1.exec(ft))?(de$1(pe(lt[1]),z$2(lt[2]),z$2(lt[3]))|255)>>>0:(lt=ie.exec(ft))?(de$1(pe(lt[1]),z$2(lt[2]),z$2(lt[3]))|me$1(lt[4]))>>>0:null}function j$2(ft,lt,dt){return dt<0&&(dt+=1),dt>1&&(dt-=1),dt<1/6?ft+(lt-ft)*6*dt:dt<1/2?lt:dt<2/3?ft+(lt-ft)*(2/3-dt)*6:ft}function de$1(ft,lt,dt){let vt=dt<.5?dt*(1+lt):dt+lt-dt*lt,St=2*dt-vt,Et=j$2(St,vt,ft+1/3),At=j$2(St,vt,ft),Ct=j$2(St,vt,ft-1/3);return Math.round(Et*255)<<24|Math.round(At*255)<<16|Math.round(Ct*255)<<8}function y$2(ft){let lt=parseInt(ft,10);return lt<0?0:lt>255?255:lt}function pe(ft){return(parseFloat(ft)%360+360)%360/360}function me$1(ft){let lt=parseFloat(ft);return lt<0?0:lt>1?255:Math.round(lt*255)}function z$2(ft){let lt=parseFloat(ft);return lt<0?0:lt>100?1:lt/100}function D$2(ft){let lt=be$1(ft);if(lt===null)return ft;lt=lt||0;let dt=(lt&4278190080)>>>24,vt=(lt&16711680)>>>16,St=(lt&65280)>>>8,Et=(lt&255)/255;return`rgba(${dt}, ${vt}, ${St}, ${Et})`}var W$2=(ft,lt,dt)=>{if(l$3.fun(ft))return ft;if(l$3.arr(ft))return W$2({range:ft,output:lt,extrapolate:dt});if(l$3.str(ft.output[0]))return k$3(ft);let vt=ft,St=vt.output,Et=vt.range||[0,1],At=vt.extrapolateLeft||vt.extrapolate||"extend",Ct=vt.extrapolateRight||vt.extrapolate||"extend",Tt=vt.easing||(Rt=>Rt);return Rt=>{let Bt=He$1(Rt,Et);return Ue$1(Rt,Et[Bt],Et[Bt+1],St[Bt],St[Bt+1],Tt,At,Ct,vt.map)}};function Ue$1(ft,lt,dt,vt,St,Et,At,Ct,Tt){let Rt=Tt?Tt(ft):ft;if(Rt<lt){if(At==="identity")return Rt;At==="clamp"&&(Rt=lt)}if(Rt>dt){if(Ct==="identity")return Rt;Ct==="clamp"&&(Rt=dt)}return vt===St?vt:lt===dt?ft<=lt?vt:St:(lt===-1/0?Rt=-Rt:dt===1/0?Rt=Rt-lt:Rt=(Rt-lt)/(dt-lt),Rt=Et(Rt),vt===-1/0?Rt=-Rt:St===1/0?Rt=Rt+vt:Rt=Rt*(St-vt)+vt,Rt)}function He$1(ft,lt){for(var dt=1;dt<lt.length-1&&!(lt[dt]>=ft);++dt);return dt-1}var Be=(ft,lt="end")=>dt=>{dt=lt==="end"?Math.min(dt,.999):Math.max(dt,.001);let vt=dt*ft,St=lt==="end"?Math.floor(vt):Math.ceil(vt);return ne$2(0,1,St/ft)},P$1=1.70158,L$1=P$1*1.525,xe$1=P$1+1,he$1=2*Math.PI/3,ye$1=2*Math.PI/4.5,V$1=ft=>ft<1/2.75?7.5625*ft*ft:ft<2/2.75?7.5625*(ft-=1.5/2.75)*ft+.75:ft<2.5/2.75?7.5625*(ft-=2.25/2.75)*ft+.9375:7.5625*(ft-=2.625/2.75)*ft+.984375,Lt$1={linear:ft=>ft,easeInQuad:ft=>ft*ft,easeOutQuad:ft=>1-(1-ft)*(1-ft),easeInOutQuad:ft=>ft<.5?2*ft*ft:1-Math.pow(-2*ft+2,2)/2,easeInCubic:ft=>ft*ft*ft,easeOutCubic:ft=>1-Math.pow(1-ft,3),easeInOutCubic:ft=>ft<.5?4*ft*ft*ft:1-Math.pow(-2*ft+2,3)/2,easeInQuart:ft=>ft*ft*ft*ft,easeOutQuart:ft=>1-Math.pow(1-ft,4),easeInOutQuart:ft=>ft<.5?8*ft*ft*ft*ft:1-Math.pow(-2*ft+2,4)/2,easeInQuint:ft=>ft*ft*ft*ft*ft,easeOutQuint:ft=>1-Math.pow(1-ft,5),easeInOutQuint:ft=>ft<.5?16*ft*ft*ft*ft*ft:1-Math.pow(-2*ft+2,5)/2,easeInSine:ft=>1-Math.cos(ft*Math.PI/2),easeOutSine:ft=>Math.sin(ft*Math.PI/2),easeInOutSine:ft=>-(Math.cos(Math.PI*ft)-1)/2,easeInExpo:ft=>ft===0?0:Math.pow(2,10*ft-10),easeOutExpo:ft=>ft===1?1:1-Math.pow(2,-10*ft),easeInOutExpo:ft=>ft===0?0:ft===1?1:ft<.5?Math.pow(2,20*ft-10)/2:(2-Math.pow(2,-20*ft+10))/2,easeInCirc:ft=>1-Math.sqrt(1-Math.pow(ft,2)),easeOutCirc:ft=>Math.sqrt(1-Math.pow(ft-1,2)),easeInOutCirc:ft=>ft<.5?(1-Math.sqrt(1-Math.pow(2*ft,2)))/2:(Math.sqrt(1-Math.pow(-2*ft+2,2))+1)/2,easeInBack:ft=>xe$1*ft*ft*ft-P$1*ft*ft,easeOutBack:ft=>1+xe$1*Math.pow(ft-1,3)+P$1*Math.pow(ft-1,2),easeInOutBack:ft=>ft<.5?Math.pow(2*ft,2)*((L$1+1)*2*ft-L$1)/2:(Math.pow(2*ft-2,2)*((L$1+1)*(ft*2-2)+L$1)+2)/2,easeInElastic:ft=>ft===0?0:ft===1?1:-Math.pow(2,10*ft-10)*Math.sin((ft*10-10.75)*he$1),easeOutElastic:ft=>ft===0?0:ft===1?1:Math.pow(2,-10*ft)*Math.sin((ft*10-.75)*he$1)+1,easeInOutElastic:ft=>ft===0?0:ft===1?1:ft<.5?-(Math.pow(2,20*ft-10)*Math.sin((20*ft-11.125)*ye$1))/2:Math.pow(2,-20*ft+10)*Math.sin((20*ft-11.125)*ye$1)/2+1,easeInBounce:ft=>1-V$1(1-ft),easeOutBounce:V$1,easeInOutBounce:ft=>ft<.5?(1-V$1(1-2*ft))/2:(1+V$1(2*ft-1))/2,steps:Be},g$1=Symbol.for("FluidValue.get"),m$2=Symbol.for("FluidValue.observers"),Pt=ft=>!!(ft&&ft[g$1]),ve=ft=>ft&&ft[g$1]?ft[g$1]():ft,qt=ft=>ft[m$2]||null;function je(ft,lt){ft.eventObserved?ft.eventObserved(lt):ft(lt)}function $t(ft,lt){let dt=ft[m$2];dt&&dt.forEach(vt=>{je(vt,lt)})}var vv,yv,N0,ge=(N0=class{constructor(ft){Xn(this,vv);Xn(this,yv);if(!ft&&!(ft=this.get))throw Error("Unknown getter");De$1(this,ft)}},vv=g$1,yv=m$2,N0),De$1=(ft,lt)=>Ee$1(ft,g$1,lt);function Gt(ft,lt){if(ft[g$1]){let dt=ft[m$2];dt||Ee$1(ft,m$2,dt=new Set),dt.has(lt)||(dt.add(lt),ft.observerAdded&&ft.observerAdded(dt.size,lt))}return lt}function Qt(ft,lt){let dt=ft[m$2];if(dt&&dt.has(lt)){let vt=dt.size-1;vt?dt.delete(lt):ft[m$2]=null,ft.observerRemoved&&ft.observerRemoved(vt,lt)}}var Ee$1=(ft,lt,dt)=>Object.defineProperty(ft,lt,{value:dt,writable:!0,configurable:!0}),O$1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,K$1=new RegExp(`(${O$1.source})(%|[a-z]+)`,"i"),we$1=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,b$2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,N$1=ft=>{let[lt,dt]=We(ft);if(!lt||h$5())return ft;let vt=window.getComputedStyle(document.documentElement).getPropertyValue(lt);return vt?vt.trim():dt&&dt.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(dt)||ft:dt&&b$2.test(dt)?N$1(dt):dt||ft},We=ft=>{let lt=b$2.exec(ft);if(!lt)return[,];let[,dt,vt]=lt;return[dt,vt]},_,Ke$1=(ft,lt,dt,vt,St)=>`rgba(${Math.round(lt)}, ${Math.round(dt)}, ${Math.round(vt)}, ${St})`,Xt=ft=>{_||(_=c$2?new RegExp(`(${Object.keys(c$2).join("|")})(?!\\w)`,"g"):/^\b$/);let lt=ft.output.map(St=>ve(St).replace(b$2,N$1).replace(Oe,D$2).replace(_,D$2)),dt=lt.map(St=>St.match(O$1).map(Number)),vt=dt[0].map((St,Et)=>dt.map(At=>{if(!(Et in At))throw Error('The arity of each "output" value must be equal');return At[Et]})).map(St=>W$2({...ft,output:St}));return St=>{var Ct;let Et=!K$1.test(lt[0])&&((Ct=lt.find(Tt=>K$1.test(Tt)))==null?void 0:Ct.replace(O$1,"")),At=0;return lt[0].replace(O$1,()=>`${vt[At++](St)}${Et||""}`).replace(we$1,Ke$1)}},Z="react-spring: ",Te=ft=>{let lt=ft,dt=!1;if(typeof lt!="function")throw new TypeError(`${Z}once requires a function parameter`);return(...vt)=>{dt||(lt(...vt),dt=!0)}},Ne$1=Te(console.warn);function Jt(){Ne$1(`${Z}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var _e$1=Te(console.warn);function er(){_e$1(`${Z}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function or(ft){return l$3.str(ft)&&(ft[0]=="#"||/\d/.test(ft)||!h$5()&&b$2.test(ft)||ft in(c$2||{}))}var Q$1=h$5()?reactExports.useEffect:reactExports.useLayoutEffect,Ce$1=()=>{let ft=reactExports.useRef(!1);return Q$1(()=>(ft.current=!0,()=>{ft.current=!1}),[]),ft};function Mr(){let ft=reactExports.useState()[1],lt=Ce$1();return()=>{lt.current&&ft(Math.random())}}function Lr(ft,lt){let[dt]=reactExports.useState(()=>({inputs:lt,result:ft()})),vt=reactExports.useRef(),St=vt.current,Et=St;return Et?lt&&Et.inputs&&it$1(lt,Et.inputs)||(Et={inputs:lt,result:ft()}):Et=dt,reactExports.useEffect(()=>{vt.current=Et,St==dt&&(dt.inputs=dt.result=void 0)},[Et]),Et.result}function it$1(ft,lt){if(ft.length!==lt.length)return!1;for(let dt=0;dt<ft.length;dt++)if(ft[dt]!==lt[dt])return!1;return!0}var $r=ft=>reactExports.useEffect(ft,ut),ut=[];function Ur(ft){let lt=reactExports.useRef();return reactExports.useEffect(()=>{lt.current=ft}),lt.current}var h$4=Symbol.for("Animated:node"),v$3=ft=>!!ft&&ft[h$4]===ft,k$2=ft=>ft&&ft[h$4],D$1=(ft,lt)=>mt$1(ft,h$4,lt),F$1=ft=>ft&&ft[h$4]&&ft[h$4].getPayload(),c$1=class{constructor(){Xn(this,"payload");D$1(this,this)}getPayload(){return this.payload||[]}},l$2=class extends c$1{constructor(dt){super();Xn(this,"done",!0);Xn(this,"elapsedTime");Xn(this,"lastPosition");Xn(this,"lastVelocity");Xn(this,"v0");Xn(this,"durationProgress",0);this._value=dt,l$3.num(this._value)&&(this.lastPosition=this._value)}static create(dt){return new l$2(dt)}getPayload(){return[this]}getValue(){return this._value}setValue(dt,vt){return l$3.num(dt)&&(this.lastPosition=dt,vt&&(dt=Math.round(dt/vt)*vt,this.done&&(this.lastPosition=dt))),this._value===dt?!1:(this._value=dt,!0)}reset(){let{done:dt}=this;this.done=!1,l$3.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,dt&&(this.lastVelocity=null),this.v0=null)}},d$1=class extends l$2{constructor(dt){super(0);Xn(this,"_string",null);Xn(this,"_toString");this._toString=W$2({output:[dt,dt]})}static create(dt){return new d$1(dt)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(dt){if(l$3.str(dt)){if(dt==this._string)return!1;this._string=dt,this._value=1}else if(super.setValue(dt))this._string=null;else return!1;return!0}reset(dt){dt&&(this._toString=W$2({output:[this.getValue(),dt]})),this._value=0,super.reset()}},f$2={dependencies:null},u$3=class extends c$1{constructor(lt){super(),this.source=lt,this.setValue(lt)}getValue(lt){let dt={};return xt(this.source,(vt,St)=>{v$3(vt)?dt[St]=vt.getValue(lt):Pt(vt)?dt[St]=ve(vt):lt||(dt[St]=vt)}),dt}setValue(lt){this.source=lt,this.payload=this._makePayload(lt)}reset(){this.payload&&Ve(this.payload,lt=>lt.reset())}_makePayload(lt){if(lt){let dt=new Set;return xt(lt,this._addToPayload,dt),Array.from(dt)}}_addToPayload(lt){f$2.dependencies&&Pt(lt)&&f$2.dependencies.add(lt);let dt=F$1(lt);dt&&Ve(dt,vt=>this.add(vt))}},y$1=class extends u$3{constructor(lt){super(lt)}static create(lt){return new y$1(lt)}getValue(){return this.source.map(lt=>lt.getValue())}setValue(lt){let dt=this.getPayload();return lt.length==dt.length?dt.map((vt,St)=>vt.setValue(lt[St])).some(Boolean):(super.setValue(lt.map(z$1)),!0)}};function z$1(ft){return(or(ft)?d$1:l$2).create(ft)}function Le$1(ft){let lt=k$2(ft);return lt?lt.constructor:l$3.arr(ft)?y$1:or(ft)?d$1:l$2}var x$1=(ft,lt)=>{let dt=!l$3.fun(ft)||ft.prototype&&ft.prototype.isReactComponent;return reactExports.forwardRef((vt,St)=>{let Et=reactExports.useRef(null),At=dt&&reactExports.useCallback(Ut=>{Et.current=ae(St,Ut)},[St]),[Ct,Tt]=ne$1(vt,lt),Rt=Mr(),Bt=()=>{let Ut=Et.current;dt&&!Ut||(Ut?lt.applyAnimatedValues(Ut,Ct.getValue(!0)):!1)===!1&&Rt()},Dt=new b$1(Bt,Tt),Ft=reactExports.useRef();Q$1(()=>(Ft.current=Dt,Ve(Tt,Ut=>Gt(Ut,Dt)),()=>{Ft.current&&(Ve(Ft.current.deps,Ut=>Qt(Ut,Ft.current)),n$3.cancel(Ft.current.update))})),reactExports.useEffect(Bt,[]),$r(()=>()=>{let Ut=Ft.current;Ve(Ut.deps,Kt=>Qt(Kt,Ut))});let kt=lt.getComponentProps(Ct.getValue());return reactExports.createElement(ft,{...kt,ref:At})})},b$1=class{constructor(lt,dt){this.update=lt,this.deps=dt}eventObserved(lt){lt.type=="change"&&n$3.write(this.update)}};function ne$1(ft,lt){let dt=new Set;return f$2.dependencies=dt,ft.style&&(ft={...ft,style:lt.createAnimatedStyle(ft.style)}),ft=new u$3(ft),f$2.dependencies=null,[ft,dt]}function ae(ft,lt){return ft&&(l$3.fun(ft)?ft(lt):ft.current=lt),lt}var j$1=Symbol.for("AnimatedComponent"),Ke=(ft,{applyAnimatedValues:lt=()=>!1,createAnimatedStyle:dt=St=>new u$3(St),getComponentProps:vt=St=>St}={})=>{let St={applyAnimatedValues:lt,createAnimatedStyle:dt,getComponentProps:vt},Et=At=>{let Ct=I$2(At)||"Anonymous";return l$3.str(At)?At=Et[At]||(Et[At]=x$1(At,St)):At=At[j$1]||(At[j$1]=x$1(At,St)),At.displayName=`Animated(${Ct})`,At};return xt(ft,(At,Ct)=>{l$3.arr(ft)&&(Ct=I$2(At)),Et[Ct]=Et(At)}),{animated:Et}},I$2=ft=>l$3.str(ft)?ft:ft&&l$3.str(ft.displayName)?ft.displayName:l$3.fun(ft)&&ft.name||null;function I$1(ft,...lt){return l$3.fun(ft)?ft(...lt):ft}var te=(ft,lt)=>ft===!0||!!(lt&&ft&&(l$3.fun(ft)?ft(lt):ht$1(ft).includes(lt))),et=(ft,lt)=>l$3.obj(ft)?lt&&ft[lt]:ft,ke=(ft,lt)=>ft.default===!0?ft[lt]:ft.default?ft.default[lt]:void 0,nn=ft=>ft,ne=(ft,lt=nn)=>{let dt=rn;ft.default&&ft.default!==!0&&(ft=ft.default,dt=Object.keys(ft));let vt={};for(let St of dt){let Et=lt(ft[St],St);l$3.und(Et)||(vt[St]=Et)}return vt},rn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],on={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function sn(ft){let lt={},dt=0;if(xt(ft,(vt,St)=>{on[St]||(lt[St]=vt,dt++)}),dt)return lt}function de(ft){let lt=sn(ft);if(lt){let dt={to:lt};return xt(ft,(vt,St)=>St in lt||(dt[St]=vt)),dt}return{...ft}}function me(ft){return ft=ve(ft),l$3.arr(ft)?ft.map(me):or(ft)?p$3.createStringInterpolator({range:[0,1],output:[ft,ft]})(1):ft}function Ue(ft){for(let lt in ft)return!0;return!1}function Ee(ft){return l$3.fun(ft)||l$3.arr(ft)&&l$3.obj(ft[0])}function xe(ft,lt){var dt;(dt=ft.ref)==null||dt.delete(ft),lt==null||lt.delete(ft)}function he(ft,lt){var dt;lt&&ft.ref!==lt&&((dt=ft.ref)==null||dt.delete(ft),lt.add(ft),ft.ref=lt)}var mt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},tt={...mt.default,mass:1,damping:1,easing:Lt$1.linear,clamp:!1},we=class{constructor(){Xn(this,"tension");Xn(this,"friction");Xn(this,"frequency");Xn(this,"damping");Xn(this,"mass");Xn(this,"velocity",0);Xn(this,"restVelocity");Xn(this,"precision");Xn(this,"progress");Xn(this,"duration");Xn(this,"easing");Xn(this,"clamp");Xn(this,"bounce");Xn(this,"decay");Xn(this,"round");Object.assign(this,tt)}};function gt(ft,lt,dt){dt&&(dt={...dt},ht(dt,lt),lt={...dt,...lt}),ht(ft,lt),Object.assign(ft,lt);for(let At in tt)ft[At]==null&&(ft[At]=tt[At]);let{frequency:vt,damping:St}=ft,{mass:Et}=ft;return l$3.und(vt)||(vt<.01&&(vt=.01),St<0&&(St=0),ft.tension=Math.pow(2*Math.PI/vt,2)*Et,ft.friction=4*Math.PI*St*Et/vt),ft}function ht(ft,lt){if(!l$3.und(lt.decay))ft.duration=void 0;else{let dt=!l$3.und(lt.tension)||!l$3.und(lt.friction);(dt||!l$3.und(lt.frequency)||!l$3.und(lt.damping)||!l$3.und(lt.mass))&&(ft.duration=void 0,ft.decay=void 0),dt&&(ft.frequency=void 0)}}var yt=[],Le=class{constructor(){Xn(this,"changed",!1);Xn(this,"values",yt);Xn(this,"toValues",null);Xn(this,"fromValues",yt);Xn(this,"to");Xn(this,"from");Xn(this,"config",new we);Xn(this,"immediate",!1)}};function Me(ft,{key:lt,props:dt,defaultProps:vt,state:St,actions:Et}){return new Promise((At,Ct)=>{let Tt,Rt,Bt=te(dt.cancel??(vt==null?void 0:vt.cancel),lt);if(Bt)kt();else{l$3.und(dt.pause)||(St.paused=te(dt.pause,lt));let Ut=vt==null?void 0:vt.pause;Ut!==!0&&(Ut=St.paused||te(Ut,lt)),Tt=I$1(dt.delay||0,lt),Ut?(St.resumeQueue.add(Ft),Et.pause()):(Et.resume(),Ft())}function Dt(){St.resumeQueue.add(Ft),St.timeouts.delete(Rt),Rt.cancel(),Tt=Rt.time-n$3.now()}function Ft(){Tt>0&&!p$3.skipAnimation?(St.delayed=!0,Rt=n$3.setTimeout(kt,Tt),St.pauseQueue.add(Dt),St.timeouts.add(Rt)):kt()}function kt(){St.delayed&&(St.delayed=!1),St.pauseQueue.delete(Dt),St.timeouts.delete(Rt),ft<=(St.cancelId||0)&&(Bt=!0);try{Et.start({...dt,callId:ft,cancel:Bt},At)}catch(Ut){Ct(Ut)}}})}var be=(ft,lt)=>lt.length==1?lt[0]:lt.some(dt=>dt.cancelled)?q$3(ft.get()):lt.every(dt=>dt.noop)?nt(ft.get()):E$2(ft.get(),lt.every(dt=>dt.finished)),nt=ft=>({value:ft,noop:!0,finished:!0,cancelled:!1}),E$2=(ft,lt,dt=!1)=>({value:ft,finished:lt,cancelled:dt}),q$3=ft=>({value:ft,cancelled:!0,finished:!1});function De(ft,lt,dt,vt){let{callId:St,parentId:Et,onRest:At}=lt,{asyncTo:Ct,promise:Tt}=dt;return!Et&&ft===Ct&&!lt.reset?Tt:dt.promise=(async()=>{dt.asyncId=St,dt.asyncTo=ft;let Rt=ne(lt,(tr,Wt)=>Wt==="onRest"?void 0:tr),Bt,Dt,Ft=new Promise((tr,Wt)=>(Bt=tr,Dt=Wt)),kt=tr=>{let Wt=St<=(dt.cancelId||0)&&q$3(vt)||St!==dt.asyncId&&E$2(vt,!1);if(Wt)throw tr.result=Wt,Dt(tr),tr},Ut=(tr,Wt)=>{let Zt=new Ae,Ht=new Ne;return(async()=>{if(p$3.skipAnimation)throw oe(dt),Ht.result=E$2(vt,!1),Dt(Ht),Ht;kt(Zt);let nr=l$3.obj(tr)?{...tr}:{...Wt,to:tr};nr.parentId=St,xt(Rt,(ar,ir)=>{l$3.und(nr[ir])&&(nr[ir]=ar)});let sr=await vt.start(nr);return kt(Zt),dt.paused&&await new Promise(ar=>{dt.resumeQueue.add(ar)}),sr})()},Kt;if(p$3.skipAnimation)return oe(dt),E$2(vt,!1);try{let tr;l$3.arr(ft)?tr=(async Wt=>{for(let Zt of Wt)await Ut(Zt)})(ft):tr=Promise.resolve(ft(Ut,vt.stop.bind(vt))),await Promise.all([tr.then(Bt),Ft]),Kt=E$2(vt.get(),!0,!1)}catch(tr){if(tr instanceof Ae)Kt=tr.result;else if(tr instanceof Ne)Kt=tr.result;else throw tr}finally{St==dt.asyncId&&(dt.asyncId=Et,dt.asyncTo=Et?Ct:void 0,dt.promise=Et?Tt:void 0)}return l$3.fun(At)&&n$3.batchedUpdates(()=>{At(Kt,vt,vt.item)}),Kt})()}function oe(ft,lt){Pe$1(ft.timeouts,dt=>dt.cancel()),ft.pauseQueue.clear(),ft.resumeQueue.clear(),ft.asyncId=ft.asyncTo=ft.promise=void 0,lt&&(ft.cancelId=lt)}var Ae=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");Xn(this,"result")}},Ne=class extends Error{constructor(){super("SkipAnimationSignal");Xn(this,"result")}},Re=ft=>ft instanceof X$1,Sn=1,X$1=class extends ge{constructor(){super(...arguments);Xn(this,"id",Sn++);Xn(this,"_priority",0)}get priority(){return this._priority}set priority(dt){this._priority!=dt&&(this._priority=dt,this._onPriorityChange(dt))}get(){let dt=k$2(this);return dt&&dt.getValue()}to(...dt){return p$3.to(this,dt)}interpolate(...dt){return Jt(),p$3.to(this,dt)}toJSON(){return this.get()}observerAdded(dt){dt==1&&this._attach()}observerRemoved(dt){dt==0&&this._detach()}_attach(){}_detach(){}_onChange(dt,vt=!1){$t(this,{type:"change",parent:this,value:dt,idle:vt})}_onPriorityChange(dt){this.idle||qe$1.sort(this),$t(this,{type:"priority",parent:this,priority:dt})}},se=Symbol.for("SpringPhase"),bt=1,rt=2,ot=4,qe=ft=>(ft[se]&bt)>0,Q=ft=>(ft[se]&rt)>0,ye=ft=>(ft[se]&ot)>0,st=(ft,lt)=>lt?ft[se]|=rt|bt:ft[se]&=~rt,it=(ft,lt)=>lt?ft[se]|=ot:ft[se]&=~ot,ue=class extends X$1{constructor(lt,dt){super();Xn(this,"key");Xn(this,"animation",new Le);Xn(this,"queue");Xn(this,"defaultProps",{});Xn(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Xn(this,"_pendingCalls",new Set);Xn(this,"_lastCallId",0);Xn(this,"_lastToId",0);Xn(this,"_memoizedDuration",0);if(!l$3.und(lt)||!l$3.und(dt)){let vt=l$3.obj(lt)?{...lt}:{...dt,from:lt};l$3.und(vt.default)&&(vt.default=!0),this.start(vt)}}get idle(){return!(Q(this)||this._state.asyncTo)||ye(this)}get goal(){return ve(this.animation.to)}get velocity(){let lt=k$2(this);return lt instanceof l$2?lt.lastVelocity||0:lt.getPayload().map(dt=>dt.lastVelocity||0)}get hasAnimated(){return qe(this)}get isAnimating(){return Q(this)}get isPaused(){return ye(this)}get isDelayed(){return this._state.delayed}advance(lt){let dt=!0,vt=!1,St=this.animation,{toValues:Et}=St,{config:At}=St,Ct=F$1(St.to);!Ct&&Pt(St.to)&&(Et=ht$1(ve(St.to))),St.values.forEach((Bt,Dt)=>{if(Bt.done)return;let Ft=Bt.constructor==d$1?1:Ct?Ct[Dt].lastPosition:Et[Dt],kt=St.immediate,Ut=Ft;if(!kt){if(Ut=Bt.lastPosition,At.tension<=0){Bt.done=!0;return}let Kt=Bt.elapsedTime+=lt,tr=St.fromValues[Dt],Wt=Bt.v0!=null?Bt.v0:Bt.v0=l$3.arr(At.velocity)?At.velocity[Dt]:At.velocity,Zt,Ht=At.precision||(tr==Ft?.005:Math.min(1,Math.abs(Ft-tr)*.001));if(l$3.und(At.duration))if(At.decay){let nr=At.decay===!0?.998:At.decay,sr=Math.exp(-(1-nr)*Kt);Ut=tr+Wt/(1-nr)*(1-sr),kt=Math.abs(Bt.lastPosition-Ut)<=Ht,Zt=Wt*sr}else{Zt=Bt.lastVelocity==null?Wt:Bt.lastVelocity;let nr=At.restVelocity||Ht/10,sr=At.clamp?0:At.bounce,ar=!l$3.und(sr),ir=tr==Ft?Bt.v0>0:tr<Ft,rr,lr=!1,ur=1,dr=Math.ceil(lt/ur);for(let mr=0;mr<dr&&(rr=Math.abs(Zt)>nr,!(!rr&&(kt=Math.abs(Ft-Ut)<=Ht,kt)));++mr){ar&&(lr=Ut==Ft||Ut>Ft==ir,lr&&(Zt=-Zt*sr,Ut=Ft));let Cr=-At.tension*1e-6*(Ut-Ft),yr=-At.friction*.001*Zt,xr=(Cr+yr)/At.mass;Zt=Zt+xr*ur,Ut=Ut+Zt*ur}}else{let nr=1;At.duration>0&&(this._memoizedDuration!==At.duration&&(this._memoizedDuration=At.duration,Bt.durationProgress>0&&(Bt.elapsedTime=At.duration*Bt.durationProgress,Kt=Bt.elapsedTime+=lt)),nr=(At.progress||0)+Kt/this._memoizedDuration,nr=nr>1?1:nr<0?0:nr,Bt.durationProgress=nr),Ut=tr+At.easing(nr)*(Ft-tr),Zt=(Ut-Bt.lastPosition)/lt,kt=nr==1}Bt.lastVelocity=Zt,Number.isNaN(Ut)&&(console.warn("Got NaN while animating:",this),kt=!0)}Ct&&!Ct[Dt].done&&(kt=!1),kt?Bt.done=!0:dt=!1,Bt.setValue(Ut,At.round)&&(vt=!0)});let Tt=k$2(this),Rt=Tt.getValue();if(dt){let Bt=ve(St.to);(Rt!==Bt||vt)&&!At.decay?(Tt.setValue(Bt),this._onChange(Bt)):vt&&At.decay&&this._onChange(Rt),this._stop()}else vt&&this._onChange(Rt)}set(lt){return n$3.batchedUpdates(()=>{this._stop(),this._focus(lt),this._set(lt)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Q(this)){let{to:lt,config:dt}=this.animation;n$3.batchedUpdates(()=>{this._onStart(),dt.decay||this._set(lt,!1),this._stop()})}return this}update(lt){return(this.queue||(this.queue=[])).push(lt),this}start(lt,dt){let vt;return l$3.und(lt)?(vt=this.queue||[],this.queue=[]):vt=[l$3.obj(lt)?lt:{...dt,to:lt}],Promise.all(vt.map(St=>this._update(St))).then(St=>be(this,St))}stop(lt){let{to:dt}=this.animation;return this._focus(this.get()),oe(this._state,lt&&this._lastCallId),n$3.batchedUpdates(()=>this._stop(dt,lt)),this}reset(){this._update({reset:!0})}eventObserved(lt){lt.type=="change"?this._start():lt.type=="priority"&&(this.priority=lt.priority+1)}_prepareNode(lt){let dt=this.key||"",{to:vt,from:St}=lt;vt=l$3.obj(vt)?vt[dt]:vt,(vt==null||Ee(vt))&&(vt=void 0),St=l$3.obj(St)?St[dt]:St,St==null&&(St=void 0);let Et={to:vt,from:St};return qe(this)||(lt.reverse&&([vt,St]=[St,vt]),St=ve(St),l$3.und(St)?k$2(this)||this._set(vt):this._set(St)),Et}_update({...lt},dt){let{key:vt,defaultProps:St}=this;lt.default&&Object.assign(St,ne(lt,(Ct,Tt)=>/^on/.test(Tt)?et(Ct,vt):Ct)),_t(this,lt,"onProps"),Ie(this,"onProps",lt,this);let Et=this._prepareNode(lt);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let At=this._state;return Me(++this._lastCallId,{key:vt,props:lt,defaultProps:St,state:At,actions:{pause:()=>{ye(this)||(it(this,!0),yt$1(At.pauseQueue),Ie(this,"onPause",E$2(this,Ce(this,this.animation.to)),this))},resume:()=>{ye(this)&&(it(this,!1),Q(this)&&this._resume(),yt$1(At.resumeQueue),Ie(this,"onResume",E$2(this,Ce(this,this.animation.to)),this))},start:this._merge.bind(this,Et)}}).then(Ct=>{if(lt.loop&&Ct.finished&&!(dt&&Ct.noop)){let Tt=at(lt);if(Tt)return this._update(Tt,!0)}return Ct})}_merge(lt,dt,vt){if(dt.cancel)return this.stop(!0),vt(q$3(this));let St=!l$3.und(lt.to),Et=!l$3.und(lt.from);if(St||Et)if(dt.callId>this._lastToId)this._lastToId=dt.callId;else return vt(q$3(this));let{key:At,defaultProps:Ct,animation:Tt}=this,{to:Rt,from:Bt}=Tt,{to:Dt=Rt,from:Ft=Bt}=lt;Et&&!St&&(!dt.default||l$3.und(Dt))&&(Dt=Ft),dt.reverse&&([Dt,Ft]=[Ft,Dt]);let kt=!bt$1(Ft,Bt);kt&&(Tt.from=Ft),Ft=ve(Ft);let Ut=!bt$1(Dt,Rt);Ut&&this._focus(Dt);let Kt=Ee(dt.to),{config:tr}=Tt,{decay:Wt,velocity:Zt}=tr;(St||Et)&&(tr.velocity=0),dt.config&&!Kt&&gt(tr,I$1(dt.config,At),dt.config!==Ct.config?I$1(Ct.config,At):void 0);let Ht=k$2(this);if(!Ht||l$3.und(Dt))return vt(E$2(this,!0));let nr=l$3.und(dt.reset)?Et&&!dt.default:!l$3.und(Ft)&&te(dt.reset,At),sr=nr?Ft:this.get(),ar=me(Dt),ir=l$3.num(ar)||l$3.arr(ar)||or(ar),rr=!Kt&&(!ir||te(Ct.immediate||dt.immediate,At));if(Ut){let mr=Le$1(Dt);if(mr!==Ht.constructor)if(rr)Ht=this._set(ar);else throw Error(`Cannot animate between ${Ht.constructor.name} and ${mr.name}, as the "to" prop suggests`)}let lr=Ht.constructor,ur=Pt(Dt),dr=!1;if(!ur){let mr=nr||!qe(this)&&kt;(Ut||mr)&&(dr=bt$1(me(sr),ar),ur=!dr),(!bt$1(Tt.immediate,rr)&&!rr||!bt$1(tr.decay,Wt)||!bt$1(tr.velocity,Zt))&&(ur=!0)}if(dr&&Q(this)&&(Tt.changed&&!nr?ur=!0:ur||this._stop(Rt)),!Kt&&((ur||Pt(Rt))&&(Tt.values=Ht.getPayload(),Tt.toValues=Pt(Dt)?null:lr==d$1?[1]:ht$1(ar)),Tt.immediate!=rr&&(Tt.immediate=rr,!rr&&!nr&&this._set(Rt)),ur)){let{onRest:mr}=Tt;Ve(_n,yr=>_t(this,dt,yr));let Cr=E$2(this,Ce(this,Rt));yt$1(this._pendingCalls,Cr),this._pendingCalls.add(vt),Tt.changed&&n$3.batchedUpdates(()=>{var yr;Tt.changed=!nr,mr==null||mr(Cr,this),nr?I$1(Ct.onRest,Cr):(yr=Tt.onStart)==null||yr.call(Tt,Cr,this)})}nr&&this._set(sr),Kt?vt(De(dt.to,dt,this._state,this)):ur?this._start():Q(this)&&!Ut?this._pendingCalls.add(vt):vt(nt(sr))}_focus(lt){let dt=this.animation;lt!==dt.to&&(qt(this)&&this._detach(),dt.to=lt,qt(this)&&this._attach())}_attach(){let lt=0,{to:dt}=this.animation;Pt(dt)&&(Gt(dt,this),Re(dt)&&(lt=dt.priority+1)),this.priority=lt}_detach(){let{to:lt}=this.animation;Pt(lt)&&Qt(lt,this)}_set(lt,dt=!0){let vt=ve(lt);if(!l$3.und(vt)){let St=k$2(this);if(!St||!bt$1(vt,St.getValue())){let Et=Le$1(vt);!St||St.constructor!=Et?D$1(this,Et.create(vt)):St.setValue(vt),St&&n$3.batchedUpdates(()=>{this._onChange(vt,dt)})}}return k$2(this)}_onStart(){let lt=this.animation;lt.changed||(lt.changed=!0,Ie(this,"onStart",E$2(this,Ce(this,lt.to)),this))}_onChange(lt,dt){dt||(this._onStart(),I$1(this.animation.onChange,lt,this)),I$1(this.defaultProps.onChange,lt,this),super._onChange(lt,dt)}_start(){let lt=this.animation;k$2(this).reset(ve(lt.to)),lt.immediate||(lt.fromValues=lt.values.map(dt=>dt.lastPosition)),Q(this)||(st(this,!0),ye(this)||this._resume())}_resume(){p$3.skipAnimation?this.finish():qe$1.start(this)}_stop(lt,dt){if(Q(this)){st(this,!1);let vt=this.animation;Ve(vt.values,Et=>{Et.done=!0}),vt.toValues&&(vt.onChange=vt.onPause=vt.onResume=void 0),$t(this,{type:"idle",parent:this});let St=dt?q$3(this.get()):E$2(this.get(),Ce(this,lt??vt.to));yt$1(this._pendingCalls,St),vt.changed&&(vt.changed=!1,Ie(this,"onRest",St,this))}}};function Ce(ft,lt){let dt=me(lt),vt=me(ft.get());return bt$1(vt,dt)}function at(ft,lt=ft.loop,dt=ft.to){let vt=I$1(lt);if(vt){let St=vt!==!0&&de(vt),Et=(St||ft).reverse,At=!St||St.reset;return Pe({...ft,loop:lt,default:!1,pause:void 0,to:!Et||Ee(dt)?dt:void 0,from:At?ft.from:void 0,reset:At,...St})}}function Pe(ft){let{to:lt,from:dt}=ft=de(ft),vt=new Set;return l$3.obj(lt)&&Vt(lt,vt),l$3.obj(dt)&&Vt(dt,vt),ft.keys=vt.size?Array.from(vt):null,ft}function Ot(ft){let lt=Pe(ft);return l$3.und(lt.default)&&(lt.default=ne(lt)),lt}function Vt(ft,lt){xt(ft,(dt,vt)=>dt!=null&&lt.add(vt))}var _n=["onStart","onRest","onChange","onPause","onResume"];function _t(ft,lt,dt){ft.animation[dt]=lt[dt]!==ke(lt,dt)?et(lt[dt],ft.key):void 0}function Ie(ft,lt,...dt){var vt,St,Et,At;(St=(vt=ft.animation)[lt])==null||St.call(vt,...dt),(At=(Et=ft.defaultProps)[lt])==null||At.call(Et,...dt)}var Fn=["onStart","onChange","onRest"],kn=1,le=class{constructor(ft,lt){Xn(this,"id",kn++);Xn(this,"springs",{});Xn(this,"queue",[]);Xn(this,"ref");Xn(this,"_flush");Xn(this,"_initialProps");Xn(this,"_lastAsyncId",0);Xn(this,"_active",new Set);Xn(this,"_changed",new Set);Xn(this,"_started",!1);Xn(this,"_item");Xn(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Xn(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),lt&&(this._flush=lt),ft&&this.start({default:!0,...ft})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(ft=>ft.idle&&!ft.isDelayed&&!ft.isPaused)}get item(){return this._item}set item(ft){this._item=ft}get(){let ft={};return this.each((lt,dt)=>ft[dt]=lt.get()),ft}set(ft){for(let lt in ft){let dt=ft[lt];l$3.und(dt)||this.springs[lt].set(dt)}}update(ft){return ft&&this.queue.push(Pe(ft)),this}start(ft){let{queue:lt}=this;return ft?lt=ht$1(ft).map(Pe):this.queue=[],this._flush?this._flush(this,lt):(jt(this,lt),ze(this,lt))}stop(ft,lt){if(ft!==!!ft&&(lt=ft),lt){let dt=this.springs;Ve(ht$1(lt),vt=>dt[vt].stop(!!ft))}else oe(this._state,this._lastAsyncId),this.each(dt=>dt.stop(!!ft));return this}pause(ft){if(l$3.und(ft))this.start({pause:!0});else{let lt=this.springs;Ve(ht$1(ft),dt=>lt[dt].pause())}return this}resume(ft){if(l$3.und(ft))this.start({pause:!1});else{let lt=this.springs;Ve(ht$1(ft),dt=>lt[dt].resume())}return this}each(ft){xt(this.springs,ft)}_onFrame(){let{onStart:ft,onChange:lt,onRest:dt}=this._events,vt=this._active.size>0,St=this._changed.size>0;(vt&&!this._started||St&&!this._started)&&(this._started=!0,Pe$1(ft,([Ct,Tt])=>{Tt.value=this.get(),Ct(Tt,this,this._item)}));let Et=!vt&&this._started,At=St||Et&&dt.size?this.get():null;St&&lt.size&&Pe$1(lt,([Ct,Tt])=>{Tt.value=At,Ct(Tt,this,this._item)}),Et&&(this._started=!1,Pe$1(dt,([Ct,Tt])=>{Tt.value=At,Ct(Tt,this,this._item)}))}eventObserved(ft){if(ft.type=="change")this._changed.add(ft.parent),ft.idle||this._active.add(ft.parent);else if(ft.type=="idle")this._active.delete(ft.parent);else return;n$3.onFrame(this._onFrame)}};function ze(ft,lt){return Promise.all(lt.map(dt=>wt(ft,dt))).then(dt=>be(ft,dt))}async function wt(ft,lt,dt){let{keys:vt,to:St,from:Et,loop:At,onRest:Ct,onResolve:Tt}=lt,Rt=l$3.obj(lt.default)&&lt.default;At&&(lt.loop=!1),St===!1&&(lt.to=null),Et===!1&&(lt.from=null);let Bt=l$3.arr(St)||l$3.fun(St)?St:void 0;Bt?(lt.to=void 0,lt.onRest=void 0,Rt&&(Rt.onRest=void 0)):Ve(Fn,Kt=>{let tr=lt[Kt];if(l$3.fun(tr)){let Wt=ft._events[Kt];lt[Kt]=({finished:Zt,cancelled:Ht})=>{let nr=Wt.get(tr);nr?(Zt||(nr.finished=!1),Ht&&(nr.cancelled=!0)):Wt.set(tr,{value:null,finished:Zt||!1,cancelled:Ht||!1})},Rt&&(Rt[Kt]=lt[Kt])}});let Dt=ft._state;lt.pause===!Dt.paused?(Dt.paused=lt.pause,yt$1(lt.pause?Dt.pauseQueue:Dt.resumeQueue)):Dt.paused&&(lt.pause=!0);let Ft=(vt||Object.keys(ft.springs)).map(Kt=>ft.springs[Kt].start(lt)),kt=lt.cancel===!0||ke(lt,"cancel")===!0;(Bt||kt&&Dt.asyncId)&&Ft.push(Me(++ft._lastAsyncId,{props:lt,state:Dt,actions:{pause:Y$1,resume:Y$1,start(Kt,tr){kt?(oe(Dt,ft._lastAsyncId),tr(q$3(ft))):(Kt.onRest=Ct,tr(De(Bt,Kt,Dt,ft)))}}})),Dt.paused&&await new Promise(Kt=>{Dt.resumeQueue.add(Kt)});let Ut=be(ft,await Promise.all(Ft));if(At&&Ut.finished&&!(dt&&Ut.noop)){let Kt=at(lt,At,St);if(Kt)return jt(ft,[Kt]),wt(ft,Kt,!0)}return Tt&&n$3.batchedUpdates(()=>Tt(Ut,ft,ft.item)),Ut}function _e(ft,lt){let dt={...ft.springs};return lt&&Ve(ht$1(lt),vt=>{l$3.und(vt.keys)&&(vt=Pe(vt)),l$3.obj(vt.to)||(vt={...vt,to:void 0}),Mt(dt,vt,St=>Lt(St))}),pt(ft,dt),dt}function pt(ft,lt){xt(lt,(dt,vt)=>{ft.springs[vt]||(ft.springs[vt]=dt,Gt(dt,ft))})}function Lt(ft,lt){let dt=new ue;return dt.key=ft,lt&&Gt(dt,lt),dt}function Mt(ft,lt,dt){lt.keys&&Ve(lt.keys,vt=>{(ft[vt]||(ft[vt]=dt(vt)))._prepareNode(lt)})}function jt(ft,lt){Ve(lt,dt=>{Mt(ft.springs,dt,vt=>Lt(vt,ft))})}var H$1=({children:ft,...lt})=>{let dt=reactExports.useContext(Ge),vt=lt.pause||!!dt.pause,St=lt.immediate||!!dt.immediate;lt=Lr(()=>({pause:vt,immediate:St}),[vt,St]);let{Provider:Et}=Ge;return reactExports.createElement(Et,{value:lt},ft)},Ge=wn(H$1,{});H$1.Provider=Ge.Provider;H$1.Consumer=Ge.Consumer;function wn(ft,lt){return Object.assign(ft,reactExports.createContext(lt)),ft.Provider._context=ft,ft.Consumer._context=ft,ft}var fe=()=>{let ft=[],lt=function(vt){er();let St=[];return Ve(ft,(Et,At)=>{if(l$3.und(vt))St.push(Et.start());else{let Ct=dt(vt,Et,At);Ct&&St.push(Et.start(Ct))}}),St};lt.current=ft,lt.add=function(vt){ft.includes(vt)||ft.push(vt)},lt.delete=function(vt){let St=ft.indexOf(vt);~St&&ft.splice(St,1)},lt.pause=function(){return Ve(ft,vt=>vt.pause(...arguments)),this},lt.resume=function(){return Ve(ft,vt=>vt.resume(...arguments)),this},lt.set=function(vt){Ve(ft,(St,Et)=>{let At=l$3.fun(vt)?vt(Et,St):vt;At&&St.set(At)})},lt.start=function(vt){let St=[];return Ve(ft,(Et,At)=>{if(l$3.und(vt))St.push(Et.start());else{let Ct=this._getProps(vt,Et,At);Ct&&St.push(Et.start(Ct))}}),St},lt.stop=function(){return Ve(ft,vt=>vt.stop(...arguments)),this},lt.update=function(vt){return Ve(ft,(St,Et)=>St.update(this._getProps(vt,St,Et))),this};let dt=function(vt,St,Et){return l$3.fun(vt)?vt(Et,St):vt};return lt._getProps=dt,lt};function He(ft,lt,dt){let vt=l$3.fun(lt)&&lt;vt&&!dt&&(dt=[]);let St=reactExports.useMemo(()=>vt||arguments.length==3?fe():void 0,[]),Et=reactExports.useRef(0),At=Mr(),Ct=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(Wt,Zt){let Ht=_e(Wt,Zt);return Et.current>0&&!Ct.queue.length&&!Object.keys(Ht).some(nr=>!Wt.springs[nr])?ze(Wt,Zt):new Promise(nr=>{pt(Wt,Ht),Ct.queue.push(()=>{nr(ze(Wt,Zt))}),At()})}}),[]),Tt=reactExports.useRef([...Ct.ctrls]),Rt=[],Bt=Ur(ft)||0;reactExports.useMemo(()=>{Ve(Tt.current.slice(ft,Bt),Wt=>{xe(Wt,St),Wt.stop(!0)}),Tt.current.length=ft,Dt(Bt,ft)},[ft]),reactExports.useMemo(()=>{Dt(0,Math.min(Bt,ft))},dt);function Dt(Wt,Zt){for(let Ht=Wt;Ht<Zt;Ht++){let nr=Tt.current[Ht]||(Tt.current[Ht]=new le(null,Ct.flush)),sr=vt?vt(Ht,nr):lt[Ht];sr&&(Rt[Ht]=Ot(sr))}}let Ft=Tt.current.map((Wt,Zt)=>_e(Wt,Rt[Zt])),kt=reactExports.useContext(H$1),Ut=Ur(kt),Kt=kt!==Ut&&Ue(kt);Q$1(()=>{Et.current++,Ct.ctrls=Tt.current;let{queue:Wt}=Ct;Wt.length&&(Ct.queue=[],Ve(Wt,Zt=>Zt())),Ve(Tt.current,(Zt,Ht)=>{St==null||St.add(Zt),Kt&&Zt.start({default:kt});let nr=Rt[Ht];nr&&(he(Zt,nr.ref),Zt.ref?Zt.queue.push(nr):Zt.start(nr))})}),$r(()=>()=>{Ve(Ct.ctrls,Wt=>Wt.stop(!0))});let tr=Ft.map(Wt=>({...Wt}));return St?[tr,St]:tr}function J$1(ft,lt){let dt=l$3.fun(ft),[[vt],St]=He(1,dt?ft:[ft],dt?lt||[]:lt);return dt||arguments.length==2?[vt,St]:vt}var W$1=class extends X$1{constructor(dt,vt){super();Xn(this,"key");Xn(this,"idle",!0);Xn(this,"calc");Xn(this,"_active",new Set);this.source=dt,this.calc=W$2(...vt);let St=this._get(),Et=Le$1(St);D$1(this,Et.create(St))}advance(dt){let vt=this._get(),St=this.get();bt$1(vt,St)||(k$2(this).setValue(vt),this._onChange(vt,this.idle)),!this.idle&&Yt(this._active)&&ct(this)}_get(){let dt=l$3.arr(this.source)?this.source.map(ve):ht$1(ve(this.source));return this.calc(...dt)}_start(){this.idle&&!Yt(this._active)&&(this.idle=!1,Ve(F$1(this),dt=>{dt.done=!1}),p$3.skipAnimation?(n$3.batchedUpdates(()=>this.advance()),ct(this)):qe$1.start(this))}_attach(){let dt=1;Ve(ht$1(this.source),vt=>{Pt(vt)&&Gt(vt,this),Re(vt)&&(vt.idle||this._active.add(vt),dt=Math.max(dt,vt.priority+1))}),this.priority=dt,this._start()}_detach(){Ve(ht$1(this.source),dt=>{Pt(dt)&&Qt(dt,this)}),this._active.clear(),ct(this)}eventObserved(dt){dt.type=="change"?dt.idle?this.advance():(this._active.add(dt.parent),this._start()):dt.type=="idle"?this._active.delete(dt.parent):dt.type=="priority"&&(this.priority=ht$1(this.source).reduce((vt,St)=>Math.max(vt,(Re(St)?St.priority:0)+1),0))}};function vr(ft){return ft.idle!==!1}function Yt(ft){return!ft.size||Array.from(ft).every(vr)}function ct(ft){ft.idle||(ft.idle=!0,Ve(F$1(ft),lt=>{lt.done=!0}),$t(ft,{type:"idle",parent:ft}))}p$3.assign({createStringInterpolator:Xt,to:(ft,lt)=>new W$1(ft,lt)});var o$1=["primitive"].concat(Object.keys(r$4).filter(ft=>/^[A-Z]/.test(ft)).map(ft=>ft[0].toLowerCase()+ft.slice(1)));p$3.assign({createStringInterpolator:Xt,colors:It,frameLoop:"demand"});addEffect(()=>{n$3.advance()});var f$1=Ke(o$1,{applyAnimatedValues:applyProps}),E$1=f$1.animated;const createStoreImpl$1=ft=>{let lt;const dt=new Set,vt=(Tt,Rt)=>{const Bt=typeof Tt=="function"?Tt(lt):Tt;if(!Object.is(Bt,lt)){const Dt=lt;lt=Rt??typeof Bt!="object"?Bt:Object.assign({},lt,Bt),dt.forEach(Ft=>Ft(lt,Dt))}},St=()=>lt,Ct={setState:vt,getState:St,subscribe:Tt=>(dt.add(Tt),()=>dt.delete(Tt)),destroy:()=>{var Tt;((Tt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:Tt.MODE)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),dt.clear()}};return lt=ft(vt,St,Ct),Ct},createStore$1=ft=>ft?createStoreImpl$1(ft):createStoreImpl$1;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$3(ft,lt){return ft===lt&&(ft!==0||1/ft===1/lt)||ft!==ft&&lt!==lt}var k$1=typeof Object.is=="function"?Object.is:h$3,l$1=e$1.useState,m$1=e$1.useEffect,n$2=e$1.useLayoutEffect,p$2=e$1.useDebugValue;function q$2(ft,lt){var dt=lt(),vt=l$1({inst:{value:dt,getSnapshot:lt}}),St=vt[0].inst,Et=vt[1];return n$2(function(){St.value=dt,St.getSnapshot=lt,r$2(St)&&Et({inst:St})},[ft,dt,lt]),m$1(function(){return r$2(St)&&Et({inst:St}),ft(function(){r$2(St)&&Et({inst:St})})},[ft]),p$2(dt),dt}function r$2(ft){var lt=ft.getSnapshot;ft=ft.value;try{var dt=lt();return!k$1(ft,dt)}catch{return!0}}function t$2(ft,lt){return lt()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$1=shimExports;function p$1(ft,lt){return ft===lt&&(ft!==0||1/ft===1/lt)||ft!==ft&&lt!==lt}var q$1=typeof Object.is=="function"?Object.is:p$1,r$1=n$1.useSyncExternalStore,t$1=h$2.useRef,u$1=h$2.useEffect,v$2=h$2.useMemo,w$2=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(ft,lt,dt,vt,St){var Et=t$1(null);if(Et.current===null){var At={hasValue:!1,value:null};Et.current=At}else At=Et.current;Et=v$2(function(){function Tt(kt){if(!Rt){if(Rt=!0,Bt=kt,kt=vt(kt),St!==void 0&&At.hasValue){var Ut=At.value;if(St(Ut,kt))return Dt=Ut}return Dt=kt}if(Ut=Dt,q$1(Bt,kt))return Ut;var Kt=vt(kt);return St!==void 0&&St(Ut,Kt)?Ut:(Bt=kt,Dt=Kt)}var Rt=!1,Bt,Dt,Ft=dt===void 0?null:dt;return[function(){return Tt(lt())},Ft===null?void 0:function(){return Tt(Ft())}]},[lt,dt,vt,St]);var Ct=r$1(ft,Et[0],Et[1]);return u$1(function(){At.hasValue=!0,At.value=Ct},[Ct]),w$2(Ct),Ct};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useSyncExternalStoreWithSelector:useSyncExternalStoreWithSelector$1}=useSyncExternalStoreExports;function useStore$1(ft,lt=ft.getState,dt){const vt=useSyncExternalStoreWithSelector$1(ft.subscribe,ft.getState,ft.getServerState||ft.getState,lt,dt);return reactExports.useDebugValue(vt),vt}const createImpl$1=ft=>{var lt;((lt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:lt.MODE)!=="production"&&typeof ft!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const dt=typeof ft=="function"?createStore$1(ft):ft,vt=(St,Et)=>useStore$1(dt,St,Et);return Object.assign(vt,dt),vt},create$1=ft=>ft?createImpl$1(ft):createImpl$1,trackedConnections=new Map,getTrackedConnectionState=ft=>{const lt=trackedConnections.get(ft);return lt?Object.fromEntries(Object.entries(lt.stores).map(([dt,vt])=>[dt,vt.getState()])):{}},extractConnectionInformation=(ft,lt,dt)=>{if(ft===void 0)return{type:"untracked",connection:lt.connect(dt)};const vt=trackedConnections.get(dt.name);if(vt)return{type:"tracked",store:ft,...vt};const St={connection:lt.connect(dt),stores:{}};return trackedConnections.set(dt.name,St),{type:"tracked",store:ft,...St}},devtoolsImpl=(ft,lt={})=>(dt,vt,St)=>{var Et,At;const{enabled:Ct,anonymousActionType:Tt,store:Rt,...Bt}=lt;let Dt;try{Dt=(Ct??((Et={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:Et.MODE)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!Dt)return((At={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:At.MODE)!=="production"&&Ct&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),ft(dt,vt,St);const{connection:Ft,...kt}=extractConnectionInformation(Rt,Dt,Bt);let Ut=!0;St.setState=(Wt,Zt,Ht)=>{const nr=dt(Wt,Zt);if(!Ut)return nr;const sr=Ht===void 0?{type:Tt||"anonymous"}:typeof Ht=="string"?{type:Ht}:Ht;return Rt===void 0?(Ft==null||Ft.send(sr,vt()),nr):(Ft==null||Ft.send({...sr,type:`${Rt}/${sr.type}`},{...getTrackedConnectionState(Bt.name),[Rt]:St.getState()}),nr)};const Kt=(...Wt)=>{const Zt=Ut;Ut=!1,dt(...Wt),Ut=Zt},tr=ft(St.setState,vt,St);if(kt.type==="untracked"?Ft==null||Ft.init(tr):(kt.stores[kt.store]=St,Ft==null||Ft.init(Object.fromEntries(Object.entries(kt.stores).map(([Wt,Zt])=>[Wt,Wt===kt.store?tr:Zt.getState()])))),St.dispatchFromDevtools&&typeof St.dispatch=="function"){let Wt=!1;const Zt=St.dispatch;St.dispatch=(...Ht)=>{var nr;((nr={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:nr.MODE)!=="production"&&Ht[0].type==="__setState"&&!Wt&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),Wt=!0),Zt(...Ht)}}return Ft.subscribe(Wt=>{var Zt;switch(Wt.type){case"ACTION":if(typeof Wt.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return parseJsonThen(Wt.payload,Ht=>{if(Ht.type==="__setState"){if(Rt===void 0){Kt(Ht.state);return}Object.keys(Ht.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const nr=Ht.state[Rt];if(nr==null)return;JSON.stringify(St.getState())!==JSON.stringify(nr)&&Kt(nr);return}St.dispatchFromDevtools&&typeof St.dispatch=="function"&&St.dispatch(Ht)});case"DISPATCH":switch(Wt.payload.type){case"RESET":return Kt(tr),Rt===void 0?Ft==null?void 0:Ft.init(St.getState()):Ft==null?void 0:Ft.init(getTrackedConnectionState(Bt.name));case"COMMIT":if(Rt===void 0){Ft==null||Ft.init(St.getState());return}return Ft==null?void 0:Ft.init(getTrackedConnectionState(Bt.name));case"ROLLBACK":return parseJsonThen(Wt.state,Ht=>{if(Rt===void 0){Kt(Ht),Ft==null||Ft.init(St.getState());return}Kt(Ht[Rt]),Ft==null||Ft.init(getTrackedConnectionState(Bt.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(Wt.state,Ht=>{if(Rt===void 0){Kt(Ht);return}JSON.stringify(St.getState())!==JSON.stringify(Ht[Rt])&&Kt(Ht[Rt])});case"IMPORT_STATE":{const{nextLiftedState:Ht}=Wt.payload,nr=(Zt=Ht.computedStates.slice(-1)[0])==null?void 0:Zt.state;if(!nr)return;Kt(Rt===void 0?nr:nr[Rt]),Ft==null||Ft.send(null,Ht);return}case"PAUSE_RECORDING":return Ut=!Ut}return}}),tr},devtools=devtoolsImpl,parseJsonThen=(ft,lt)=>{let dt;try{dt=JSON.parse(ft)}catch(vt){console.error("[zustand devtools middleware] Could not parse the received json",vt)}dt!==void 0&&lt(dt)},cameraPositionsStore={idle:{position:{x:-92.20805126509336,y:273.04918347118746,z:531.174457433966},target:{x:-246.12475794281735,y:-80.59864882547737,z:30.823659875539892}},focus:{none:{position:{x:-44.383707309870985,y:154.80725313868743,z:529.3252135652391},target:{x:0,y:0,z:0}},ring_2:{position:{x:2.190236211025621,y:1.6507264752326343,z:5.88543684469006},target:{x:5.1055895988583515,y:.19085097887625263,z:1.4062717731548435}},ring_3:{position:{x:6.606071553051454,y:5.6729398609821455,z:26.285880446623217},target:{x:-.165218981269205,y:4.315291572453687,z:10.681823086410414}},ring_4:{position:{x:-27.82759373051267,y:23.270868751842713,z:3.2027251070890017},target:{x:-17.714418994029206,y:4.378913543490656,z:-24.107682450016874}},ring_5:{position:{x:70.87439247320444,y:3.5133611177688344,z:33.70241225448102},target:{x:83.84756896892354,y:-7.9443152135505155,z:-2.4499584966239416}},ring_6:{position:{x:-127.52475157742685,y:67.22411544314939,z:173.13500278780361},target:{x:-162.69584009705767,y:-.008526349845225706,z:80.16852275398091}},pageSection:{position:{x:.6367764799058464,y:.02575067199102174,z:.8197320773716226},rotation:{isEuler:!0,_x:.2958178557573598,_y:.5678515229569016,_z:-.1624619456530673,_order:"XYZ"},quaternion:{isQuaternion:!0,_x:.11852174376106969,_y:.28763329671625587,_z:-.035896367448952596,_w:.949700549478594},target:{x:.23306836128254418,y:.21023451620411804,z:.21439031135463676}}},normal:{}},ringNames={ring_2:"Experts",ring_3:"Source",ring_4:"Support",ring_5:"Technology",ring_6:"Welfare"},sectionRings={Experts:"ring_2",Source:"ring_3",Support:"ring_4",Technology:"ring_5",Welfare:"ring_6"},activeFiles=["600x400_RIGID_BRANDED.jpg","0c5758c9-node_pladis_logo_RGB_red_72ppi_Transparent_In_association1_Medium.png","1.jpg","9fc4eb_4fe0f0e738e14b6bae0b5a7a81aff851.webp","600x400_BOX_BRANDED.jpg","600x400_BRANDED MAN TRUCK.jpg","600x400_CURTAINSIDER_BRANDED.jpg","600x400_DOUBLE DECK_BRANDED.jpg","600x400_FLATBED.jpg","600x400_REFRIGERATED.jpg","600x400_SKEL.jpg","600x400_VANS DROP N GO.jpg","600x400_VANS PEUGEOT UTILITYjpg.jpg","600x400_VANS VW CHILLER.jpg","600x400_VANS VW PANEL.jpg","600x400_VANS WELFARE.jpg","1200px-B_Q_company_logo.svg.png","187699729.jpg.gallery.jpg","Dennison-Trailers_1000x500.webp","DJI_20230213_120755_942.JPG","DJI_20230213_120925_582.jpg","DJI_20230213_120927_900.JPG","don-bur-logo-svg.svg","download.png","dummy.mp4","EXPERTS_CHRIS HEATHER.jpg","experts_dummy.jpeg","EXPERTS_DUMMY.jpg","EXPERTS_JAMES SMITH.jpg","EXPERTS_JASON CHIPCHASE.jpg","EXPERTS_KAREN McCHESNEY.jpg","EXPERTS_PAUL JEFFERY.jpg","EXPERTS_SCOTT MCMINIGLE.jpg","EXPERTS_TIM GIBSON.jpg","EXPERTS_TIM MCARTHY.jpg","Flatbed-2 copy.jpg","GA_Logo_Menu.png","Krone_logo.webp","Lawrence-David-Logo.jpeg","logo-share.png","MAN_logo_logotype_emblem_symbol.jpeg","Mercedes-Logo.svg.png","MULTIPLE VANS.MP4","Play.png","Premier_Foods_logo.svg","Sainsbury’s-Logo.png","SDC-Trailers-Logo-RGB.jpeg","Tesco_Logo.svg.png","Volvo_Trucks___Bus_logo.jpeg","woodland-logo-blue.png","XPO_logistics.5c659fd72fa20.jpeg"],appState=create$1(devtools(ft=>({started:!1,activeSlide:0,activeRing:"none",focusRing:"none",numPages:4,activePage:null,activePageNumber:null,currentView:"idle",isAnimating:!1,universeStores:null,cameraRefInfo:null,activeCameraAnchor:null,cameraOrbitPoints:generateCirclePoints(1.1,7,.6),returnCameraToOrigin:null,forcePageUpdate:!1,cameraControlsMouseButtons:{left:1,middle:8,right:2,wheel:8},dimensions:{width:window.innerWidth,height:window.innerHeight},scrollControlsInitiated:!1,activeTile:null,activeTileInfo:null,cameraControlsref:null,activeTileRef:null,focusElementRef:null,updateBounds:null,activeFiles,maxDistance:700,boundsMargin:3,activeVideo:null,loaded:!1,qrPanel:null,setActiveSlide:lt=>ft(dt=>({activeSlide:lt})),setActiveRing:lt=>ft(dt=>({activeRing:lt})),setFocusRing:lt=>ft(dt=>({focusRing:lt})),setNumPages:lt=>ft(dt=>({numPages:lt})),setActivePage:lt=>ft(dt=>({activePage:lt})),setActivePageNumber:lt=>ft(dt=>({activePageNumber:lt})),setCurrentView:lt=>ft(dt=>({currentView:lt})),setIsAnimating:lt=>ft(dt=>({isAnimating:lt})),setStarted:lt=>ft(dt=>({started:lt})),setUniverseStores:lt=>ft(dt=>({universeStores:lt})),setCameraRefInfo:lt=>ft(dt=>({cameraRefInfo:lt})),setActiveCameraAnchor:lt=>ft(dt=>({activeCameraAnchor:lt})),setCameraOrbitPoints:lt=>ft(dt=>({cameraOrbitPoints:lt})),setReturnCameraToOrigin:lt=>ft(dt=>({returnCameraToOrigin:lt})),setForcePageUpdate:lt=>ft(dt=>({forcePageUpdate:lt})),setCameraControlsMouseButtons:lt=>ft(dt=>({cameraControlsMouseButtons:lt})),setDimensions:lt=>ft(dt=>({dimensions:lt})),setScrollControlsInitiated:lt=>ft(dt=>({scrollControlsInitiated:lt})),setActiveTile:lt=>ft(dt=>({activeTile:lt})),setCameraControlsref:lt=>ft(dt=>({cameraControlsref:lt})),setActiveTileInfo:lt=>ft(dt=>({activeTileInfo:lt})),setActiveTileRef:lt=>ft(dt=>({activeTileRef:lt})),setFocusElementRef:lt=>ft(dt=>({focusElementRef:lt})),setUpdateBounds:lt=>ft(dt=>({updateBounds:lt})),setMaxDistance:lt=>ft(dt=>({maxDistance:lt})),setBoundsMargin:lt=>ft(dt=>({boundsMargin:lt})),setActiveVideo:lt=>ft(dt=>({activeVideo:lt})),setLoaded:lt=>ft(dt=>({loaded:lt})),setQrPanel:lt=>ft(dt=>({qrPanel:lt})),ringNames,ringNameFromSection:sectionRings,fetchData:null,mockData:null,setFetchData:lt=>ft(dt=>({fetchData:lt})),generateCirclePoints:(lt,dt,vt)=>generateCirclePoints(lt,dt,vt),getUniverseStores:()=>getUniverseStores()})));function generateCirclePoints(ft,lt,dt=0){const vt=[];for(let St=0;St<lt;St++){const Et=St/lt*Math.PI*2;let At=new Vector3(Math.cos(Et)*ft,dt,Math.sin(Et)*ft);vt.push(At)}return vt}const getUniverseStores=()=>{let ft=[],lt=[.831,.25,.007];for(let Et=0;Et<15;Et++){let At=[];At.push(lt[0]*Et),At.push(lt[1]*Et),At.push(lt[2]*Et),ft.push(At)}const dt={},St=(()=>{const{nodes:Et,materials:At}=useGLTF("./models/hireco_3DScene_sectLocation-v3.glb");let Ct={};return Object.keys(Et).forEach(Tt=>{let Rt=Et[Tt];Rt.name=Rt.name.replace("_location",""),Rt.type=="Mesh"&&(Ct[Rt.name]=Rt.position)}),Ct})();return{colorValues:ft,universeMultipliers:dt,sectionPositions:St}};useGLTF.preload("./models/hireco_3DScene_sectLocation-v3.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_source_v1.glb");function SupportSection(ft){const lt=reactExports.useRef(),{nodes:dt,materials:vt,animations:St}=useGLTF("./models/iconography/INCONOGRAPHY_support_v7.glb"),{actions:Et}=useAnimations(St,lt);return reactExports.useEffect(()=>{Et["Action.001"].play(),Et["Action.002"].play(),Et["hourGlass.Action"].play(),Et["hourglass.Action"].play(),Et.hourglass_4_1Action.play(),Et["hourglass_4_1Action.001"].play(),Et.hourglass_4_2Action.play(),Et["hourglass_4_2Action.001"].play(),Et.hourglass_4_3Action.play(),Et["hourglass_4_3Action.001"].play(),Et.hourglass_4_4Action.play(),Et["hourglass_4_4Action.001"].play(),Et.hourglass_4_5Action.play(),Et["hourglass_4_5Action.001"].play(),Et.spannerAction.play()},[]),jsxRuntimeExports.jsx("group",{ref:lt,...ft,dispose:null,children:jsxRuntimeExports.jsxs("group",{name:"Scene",children:[jsxRuntimeExports.jsx("group",{name:"hourGlass",children:jsxRuntimeExports.jsxs("group",{name:"hourglass_null_1",rotation:[0,.001,.122],scale:.001,children:[jsxRuntimeExports.jsx("mesh",{name:"hourglass_1",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_1.geometry,material:vt["HOUR GLASS - GLASS - 1"]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_2",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_2.geometry,material:vt.hourglass_2,scale:[1,.982,1]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_1",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_1.geometry,material:vt.hourglass_4_1,position:[0,.404,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_1001",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_1001.geometry,material:vt.hourglass_4_1,position:[0,-.404,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_2",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_2.geometry,material:vt.hourglass_4_2,position:[0,.307,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_2001",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_2001.geometry,material:vt.hourglass_4_2,position:[0,-.307,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_3",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_3.geometry,material:vt.hourglass_4_3,position:[0,.196,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_3001",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_3001.geometry,material:vt.hourglass_4_3,position:[0,-.196,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_4",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_4.geometry,material:vt.hourglass_4_4,position:[0,.086,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_4001",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_4001.geometry,material:vt.hourglass_4_4,position:[0,-.086,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_5",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_5.geometry,material:vt.hourglass_4_5,position:[0,.02,0],rotation:[-Math.PI,0,-Math.PI],scale:[-.287,-.445,-.287]}),jsxRuntimeExports.jsx("mesh",{name:"hourglass_4_5001",castShadow:!0,receiveShadow:!0,geometry:dt.hourglass_4_5001.geometry,material:vt.hourglass_4_5,position:[0,-.02,0],rotation:[Math.PI,0,0],scale:[-.287,-.445,-.287]})]})}),jsxRuntimeExports.jsxs("group",{name:"spanner",children:[jsxRuntimeExports.jsx("mesh",{name:"spanner_1",castShadow:!0,receiveShadow:!0,geometry:dt.spanner_1.geometry,material:vt.spanner_1,position:[0,.002,0]}),jsxRuntimeExports.jsx("mesh",{name:"spanner_2",castShadow:!0,receiveShadow:!0,geometry:dt.spanner_2.geometry,material:vt.spanner_2,position:[0,-.004,0],children:jsxRuntimeExports.jsx("mesh",{name:"spanner_3",castShadow:!0,receiveShadow:!0,geometry:dt.spanner_3.geometry,material:vt.spanner_3})})]})]})})}useGLTF.preload("./models/iconography/INCONOGRAPHY_support_v7.glb");function SmartTechSection(ft){const lt=reactExports.useRef(),{nodes:dt,materials:vt,animations:St}=useGLTF("./models/iconography/INCONOGRAPHY_smartTech_v4.glb"),{actions:Et}=useAnimations(St,lt);return reactExports.useEffect(()=>{Et["codeCubeAction.001"].play(),Et.wifiSpinAction.play(),Et.wifi_1_1Action.play(),Et.wifi_1_2Action.play(),Et.wifi_1_3Action.play(),Et.wifi_2_1Action.play(),Et.wifi_2_2Action.play(),Et.wifi_2_3Action.play()},[]),jsxRuntimeExports.jsx("group",{ref:lt,...ft,dispose:null,children:jsxRuntimeExports.jsxs("group",{name:"Scene",children:[jsxRuntimeExports.jsxs("group",{name:"wifiSpin",children:[jsxRuntimeExports.jsx("mesh",{name:"wifi_1",castShadow:!0,receiveShadow:!0,geometry:dt.wifi_1.geometry,material:vt["Hireco - Wifi .005"],scale:.75}),jsxRuntimeExports.jsx("mesh",{name:"wifi_2",castShadow:!0,receiveShadow:!0,geometry:dt.wifi_2.geometry,material:vt["Hireco - Wifi .004"],scale:.78}),jsxRuntimeExports.jsx("mesh",{name:"wifi_3",castShadow:!0,receiveShadow:!0,geometry:dt.wifi_3.geometry,material:vt["Hireco - Wifi .006"],scale:.74}),jsxRuntimeExports.jsx("mesh",{name:"wifi_4",castShadow:!0,receiveShadow:!0,geometry:dt.wifi_4.geometry,material:vt["Hireco - Wifi .003"],scale:.78}),jsxRuntimeExports.jsx("mesh",{name:"wifi_5",castShadow:!0,receiveShadow:!0,geometry:dt.wifi_5.geometry,material:vt["Hireco - Wifi .002"],scale:.75}),jsxRuntimeExports.jsx("mesh",{name:"wifi_6",castShadow:!0,receiveShadow:!0,geometry:dt.wifi_6.geometry,material:vt["Hireco - Wifi .001"],scale:.74})]}),jsxRuntimeExports.jsxs("group",{name:"codeCube",scale:0,children:[jsxRuntimeExports.jsx("mesh",{name:"codeCube_1",castShadow:!0,receiveShadow:!0,geometry:dt.codeCube_1.geometry,material:vt["Hireco - codeCube .001"],rotation:[Math.PI/2,0,0],scale:.3}),jsxRuntimeExports.jsx("mesh",{name:"codeCube_2",castShadow:!0,receiveShadow:!0,geometry:dt.codeCube_2.geometry,material:vt["Hireco - codeCube .002"],rotation:[Math.PI/2,0,0],scale:.29})]})]})})}useGLTF.preload("./models/iconography/INCONOGRAPHY_smartTech_v4.glb");function ExpertSection(ft){const lt=reactExports.useRef(),dt=reactExports.useRef(),{nodes:vt,materials:St,animations:Et}=useGLTF("./models/iconography/INCONOGRAPHY_Expert_v17.glb"),{actions:At}=useAnimations(Et,lt);appState(Rt=>Rt.activeRing);const[Ct,Tt]=reactExports.useState([5,5,5]);return reactExports.useEffect(()=>{At.bulb_boltSpin_Action.play(),At.bulb_mainSpin_Action.play(),At.pound_mainSpin_Action.play(),At.powerStation_bar1_Action.play(),At.powerStation_bar2_Action.play(),At.powerStation_bar3_Action.play(),At.powerStation_boltSpin_Action.play(),At.powerStation_mainSpin_Action.play()},[At]),jsxRuntimeExports.jsx("group",{ref:lt,...ft,dispose:null,children:jsxRuntimeExports.jsxs("group",{name:"Scene",children:[jsxRuntimeExports.jsxs("group",{name:"bulb",children:[jsxRuntimeExports.jsx("mesh",{name:"BULB_BOLT",castShadow:!0,receiveShadow:!0,geometry:vt.BULB_BOLT.geometry,material:St.EMMISION,position:[0,.11,0],scale:1.05,children:jsxRuntimeExports.jsx("meshBasicMaterial",{emissiveIntensity:2,toneMapped:!1,position:[0,1,0],color:Ct,ref:dt})}),jsxRuntimeExports.jsx("mesh",{name:"BULB",castShadow:!0,receiveShadow:!0,geometry:vt.BULB.geometry,material:St["Hireco - White Glass.001"],position:[0,.11,0],scale:[.13,.03,.13]}),jsxRuntimeExports.jsx("mesh",{name:"BULB_BOTTOM",castShadow:!0,receiveShadow:!0,geometry:vt.BULB_BOTTOM.geometry,material:St["Hireco - White Metal - Light Bulb 2"],position:[0,.11,0],scale:[.13,.04,.13]}),jsxRuntimeExports.jsx("mesh",{name:"BULB_MIDDLE",castShadow:!0,receiveShadow:!0,geometry:vt.BULB_MIDDLE.geometry,material:St["Hireco - White Metal - Light Bulb 1"],position:[0,.11,0],rotation:[-.02,0,0],scale:[.13,.03,.13]})]}),jsxRuntimeExports.jsx("group",{name:"poundSymbol",scale:0,children:jsxRuntimeExports.jsx("mesh",{name:"POUND_SYMBOL",castShadow:!0,receiveShadow:!0,geometry:vt.POUND_SYMBOL.geometry,material:St["Hireco-whiteMetal-poundSymbol-1"],position:[-.01,-.07,0]})}),jsxRuntimeExports.jsxs("group",{name:"powerStation",scale:0,children:[jsxRuntimeExports.jsxs("group",{name:"POWER_STATION",scale:1.18,children:[jsxRuntimeExports.jsx("mesh",{name:"BOLT001",castShadow:!0,receiveShadow:!0,geometry:vt.BOLT001.geometry,material:St.EMMISION,position:[0,.01,0],scale:.34}),jsxRuntimeExports.jsx("mesh",{name:"POWER_BAR001",castShadow:!0,receiveShadow:!0,geometry:vt.POWER_BAR001.geometry,material:St.EMMISION,position:[0,-.35,0],scale:0}),jsxRuntimeExports.jsx("mesh",{name:"POWER_BAR002",castShadow:!0,receiveShadow:!0,geometry:vt.POWER_BAR002.geometry,material:St.EMMISION,position:[0,-.26,0],scale:0}),jsxRuntimeExports.jsx("mesh",{name:"POWER_BAR003",castShadow:!0,receiveShadow:!0,geometry:vt.POWER_BAR003.geometry,material:St.EMMISION,position:[0,-.17,0],scale:0}),jsxRuntimeExports.jsx("mesh",{name:"PLUG_LEFT_",castShadow:!0,receiveShadow:!0,geometry:vt.PLUG_LEFT_.geometry,material:St["Hireco - White Metal - Power Station 2"],position:[.16,.03,0],rotation:[Math.PI,0,0],scale:-.65}),jsxRuntimeExports.jsx("mesh",{name:"PLUG_RIGHT",castShadow:!0,receiveShadow:!0,geometry:vt.PLUG_RIGHT.geometry,material:St["Hireco - White Metal - Light Bulb 3"],position:[-.17,.03,0],scale:.65}),jsxRuntimeExports.jsx("mesh",{name:"POWERSTATION_STATION",castShadow:!0,receiveShadow:!0,geometry:vt.POWERSTATION_STATION.geometry,material:St["Hireco - White Metal - Power Station 1"]})]}),jsxRuntimeExports.jsx("mesh",{name:"PLUGS",castShadow:!0,receiveShadow:!0,geometry:vt.PLUGS.geometry,material:St["Hireco - White Metal - Light Bulb 4"],scale:1.18})]}),jsxRuntimeExports.jsx("mesh",{name:"invisibleSphere",castShadow:!0,receiveShadow:!0,geometry:vt.invisibleSphere.geometry,material:St.invisible,scale:.6})]})})}useGLTF.preload("./models/iconography/INCONOGRAPHY_Expert_v17.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_welfare_v1.glb");function renderSwitch(ft,lt){switch(ft){case"ring_4":return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(SupportSection,{index:lt})});case"ring_5":return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(SmartTechSection,{index:lt})});default:return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(ExpertSection,{index:lt})})}}function SetsModel(ft){const{index:lt,position:dt,nodeName:vt}=ft,St=appState(Ut=>Ut.activeRing,shallow$1),Et=appState(Ut=>Ut.setActiveRing);appState(Ut=>Ut.focusRing),appState(Ut=>Ut.setFocusRing);const At=appState(Ut=>Ut.currentView),Ct=appState(Ut=>Ut.getUniverseStores),{colorValues:Tt}=Ct();new Color(...Tt[3]);const[Rt,Bt]=reactExports.useState(fetchScale(lt)),[Dt,Ft]=reactExports.useState(!1);J$1({scale:Dt?Rt*1.5:Rt});const kt=reactExports.useRef();return useFrame(Ut=>{kt.current.rotation.y+=.015;const Kt=Ut.clock.getElapsedTime();let tr=1.5+Math.sin(Kt*2)/10;St==vt&&(kt.current.scale.x=tr,kt.current.scale.y=tr,kt.current.scale.z=tr)}),reactExports.useEffect(()=>{},[St]),jsxRuntimeExports.jsx(E$1.mesh,{children:jsxRuntimeExports.jsxs("group",{onClick:Ut=>{At!="page"&&Et(vt)},ref:kt,visible:At!="page"||At=="page"&&St!=vt,onPointerEnter:()=>{},position:[0,.75,0],children:[jsxRuntimeExports.jsx(Sphere,{scale:.5,children:jsxRuntimeExports.jsx("meshStandardMaterial",{color:"black",transparent:!0,opacity:0,side:BackSide})}),renderSwitch(vt,lt)]})})}function fetchScale(ft){let lt=.4;return ft=ft+4,lt=lt/ft,lt}function HirecoUniverse(ft){reactExports.useRef();const lt=appState(vt=>vt.currentView);return appState(vt=>vt.getUniverseStores)(),new Color([.831,.25,.007]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UniverseContent,{}),jsxRuntimeExports.jsx(UniverseGradient,{}),jsxRuntimeExports.jsx("group",{visible:lt=="HirecoCenter",children:jsxRuntimeExports.jsx(Screen,{src:"./videos/221211 - Hireco 2022 - v7.mp4"})}),jsxRuntimeExports.jsx(HirecoLogo,{}),jsxRuntimeExports.jsx(Html,{prepend:!0,transform:!0})]})}function Screen({src:ft}){const[lt,dt]=reactExports.useState();return jsxRuntimeExports.jsx(Center,{top:!0,"position-z":0,"position-y":20,children:jsxRuntimeExports.jsx(Plane,{width:1280,height:1080,radius:2,args:[50,50],children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("meshStandardMaterial",{side:DoubleSide,wireframe:!0}),children:jsxRuntimeExports.jsx(VideoMaterial,{src:ft,setVideo:dt})})})})}function VideoMaterial({src:ft,setVideo:lt}){const dt=useVideoTexture(ft,{start:!0});return lt(dt.image),jsxRuntimeExports.jsx("meshStandardMaterial",{map:dt})}const transformInstancesRandom=({dummy:ft,position:lt})=>{ft.position.copy(lt),ft.position.y+=Math.random()/150*Math.PI/25,ft.scale.setScalar(Math.random()*Math.random()*13)},UniverseContent=ft=>{const lt=appState(Et=>Et.currentView);appState(Et=>Et.getUniverseStores);const dt=reactExports.useRef(),vt=reactExports.useRef(),St={opacity:0,depthTest:!1};return useFrame(Et=>{}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("group",{ref:dt,children:jsxRuntimeExports.jsx("group",{ref:vt,children:["ring_6","ring_5","ring_4","ring_3","ring_2","ring_1"].map((Et,At)=>{if(reactExports.useRef(),reactExports.useRef(),Et=="ring_1")return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});appState(Dt=>Dt.focusRing);const Ct=appState(Dt=>Dt.activeRing),{translateYActive:Tt,emissiveIntensity:Rt,ringOpacity:Bt}=J$1({translateYActive:(Ct==Et,0),translateYHidden:(lt=="focus"&&Ct!=Et,0),emissiveIntensity:lt=="focus"||lt=="page"?0:2,ringOpacity:lt!="page"||lt=="page"&&Ct==Et?1:0,config:St.gentle});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SectionCopy,{ring:Et,index:At}),jsxRuntimeExports.jsx(E$1.mesh,{children:jsxRuntimeExports.jsx(E$1.mesh,{"position-y":Tt,children:jsxRuntimeExports.jsx(TextSection,{nodeName:Et,index:At})})},"flatGroupMesh"+Et)]})})})})})};function SectionCopy(ft){const{ring:lt,index:dt}=ft,vt=appState(tr=>tr.activeTile,shallow$1),St=appState(tr=>tr.activeRing,shallow$1),Et=appState(tr=>tr.ringNames),At=appState(tr=>tr.fetchData),Ct=appState(tr=>tr.getUniverseStores),{sectionPositions:Tt}=Ct(),Rt=Tt[lt],Bt=reactExports.useRef();useFrame(({camera:tr})=>{});const Dt=Et[lt],Ft=At.filter(tr=>tr.section=="Sectioncopy").filter(tr=>tr.ring==Dt);let kt,Ut,Kt;return kt="",console.log(Ft),Ft.length>0&&(kt=Ft[0].title,Ut=Ft[0].description,Ft[0].image,Ft[0].otherImages,Kt=Ft[0].subTitle),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(E$1.mesh,{visible:St==lt&&!vt,position:Rt,children:jsxRuntimeExports.jsxs("group",{ref:Bt,children:[jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Thin.otf",anchorX:"left",anchorY:"top",fontSize:0,outlineOffsetX:0,outlineOffsetY:0,outlineBlur:25,color:16777215,opacity:2,children:jsxRuntimeExports.jsx("meshBasicMaterial",{attach:"material",color:0})}),jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Regular.otf",anchorX:"left",anchorY:"top",position:[0,10-dt*2.3,0],fontSize:[5,4,3,2,.5,1][dt],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:5,outlineOpacity:.25,opacity:2,color:16777215,children:kt}),jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Regular.otf",anchorX:"left",anchorY:"top",position:[0,10-dt*2.3,0],fontSize:[5,4,3,2,.5,1][dt],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:5,outlineOpacity:.25,opacity:2,color:16777215,children:Kt}),jsxRuntimeExports.jsx(Text,{font:"Montserrat",anchorX:"left",anchorY:"top",position:[0,0,0],fontSize:[1.5,1.25,.75,.4,.2,.2][dt],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:.1,outlineOpacity:.25,opacity:2,color:16777215,maxWidth:[50,50,30,10,4,4][dt],children:Ut})]})})})}function TextSection(ft){const{index:lt,nodeName:dt,rotationAmount:vt}=ft;if(dt.includes("H_")||dt=="ring_1")return null;const St=appState(Ar=>Ar.getUniverseStores),{sectionPositions:Et}=St(),At=Et[dt],Ct=appState(Ar=>Ar.setFocusRing),Tt=appState(Ar=>Ar.focusRing),Rt=appState(Ar=>Ar.activeRing),Bt=appState(Ar=>Ar.setActiveRing),Dt=appState(Ar=>Ar.currentView),Ft=appState(Ar=>Ar.setCurrentView),kt=appState(Ar=>Ar.setUniverseStores);appState(Ar=>Ar.universeStores);const Ut=appState(Ar=>Ar.activeTile),Kt=appState(Ar=>Ar.setActiveTile),tr=appState(Ar=>Ar.started);reactExports.useEffect(()=>{kt(St())},[]);const Wt=reactExports.useRef(),Zt=reactExports.useRef(),[Ht,nr]=reactExports.useState(lr(lt)),{iconScale:sr,initialTextScale:ar,focusTextScale:ir}=J$1({iconScale:Tt==dt?Ht*1.25:Ht,initialTextScale:Dt=="focus"?0:1,focusTextScale:Dt=="focus"?1:0,config:mt.gentle});if(dt=="ring_1")return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let rr={ring_6:{title:"WELFARE",subTitle:"ENVIRONMENT + PARK"},ring_5:{title:"TECHNOLOGY",subTitle:"SMART + ASSET"},ring_4:{title:"SUPPORT",subTitle:"MAINTAIN + FINANCE"},ring_3:{title:"SOURCE",subTitle:"ASSETS + FINANCE"},ring_2:{title:"EXPERTS",subTitle:"THE TEAM"}};useFrame(({camera:Ar})=>{Wt.current.lookAt(Ar.position)});function lr(Ar){let Pr=50;return Ar=Ar+3,Pr=Pr/Ar,Pr}function ur(){Ct(dt)}function dr(){Ct("none")}const{iconScalar:mr,groupPositionY:Cr,iconElevationActive:yr,textScalar:xr,iconScalarPage:Sr}=J$1({iconScalarPage:Dt=="page"?.4:1,iconScalar:Rt==dt?1.2:.8,groupPositionY:Rt==dt?.1:0,translateYHidden:Dt=="focus"&&Rt!=dt?-.05:0,iconElevationActive:Rt==dt?.1:.05,iconPageScaler:Dt=="page"?.33:1,textScalar:tr?1:0,config:mt.gentle});let br=[40,50,35,30,20];const cr=[];let pr=new Vector3(At.x,At.y+10,At.z),Er=new Vector3(At.x,At.y+br[lt]-5,At.z);cr.push(pr),cr.push(Er);const _r=Dt!="HirecoCenter";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(E$1.mesh,{"position-y":yr,visible:_r,children:jsxRuntimeExports.jsxs("group",{ref:Zt,onPointerOver:()=>{ur(),document.body.style.cursor="pointer"},onPointerOut:()=>{dr(),document.body.style.cursor="default"},"position-y":.02,children:[jsxRuntimeExports.jsx("group",{visible:Dt!="page"&&Dt!="focus"&&Dt!="idle"||Dt=="focus"&&Rt==dt,children:jsxRuntimeExports.jsx(E$1.mesh,{scale:xr,children:jsxRuntimeExports.jsxs(E$1.mesh,{scale:ar,children:[jsxRuntimeExports.jsx(Line,{points:cr,color:"white",lineWidth:1,dashed:!0}),jsxRuntimeExports.jsxs("group",{position:[0,[40,50,35,30,20][lt],0],children:[jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Thin.otf",anchorX:"center",anchorY:"middle",position:At,fontSize:0,outlineOffsetX:0,outlineOffsetY:0,outlineBlur:25,color:16777215,opacity:2,children:jsxRuntimeExports.jsx("meshBasicMaterial",{attach:"material",color:0,transparent:!0,opacity:0})}),jsxRuntimeExports.jsx(Text,{font:"./fonts/Eveleth Clean Regular.otf",anchorX:"center",anchorY:"middle",position:At,fontSize:[6,5.5,5,4,3,15][lt],outlineOffsetX:0,outlineOffsetY:0,outlineBlur:5,outlineOpacity:.25,opacity:2,ref:Wt,color:16777215,children:rr[dt].title})]})]})})}),jsxRuntimeExports.jsx("group",{children:jsxRuntimeExports.jsx(E$1.mesh,{scale:sr,position:At,onClick:()=>{Ut||(Bt(dt),Ft("page"),Kt(null))},children:jsxRuntimeExports.jsx("group",{children:jsxRuntimeExports.jsx(E$1.mesh,{scale:Sr,children:jsxRuntimeExports.jsx(SetsModel,{position:At,index:lt,nodeName:dt})})})})})]})})})}function SampledNode(ft){const{ring:lt,node:dt,materials:vt}=ft,St=reactExports.useRef(),Et=reactExports.useRef(),At=reactExports.useRef(),Ct={asteroid:{ring_2:0,ring_3:.15*.08,ring_4:.15*.2,ring_5:.15*.5,ring_6:.15},light:{ring_2:0,ring_3:.05*.08,ring_4:.05*.2,ring_5:.05*.5,ring_6:.05}},Tt={asteroid:{ring_2:1e4*.02,ring_3:1e4*.08,ring_4:1e4*.2,ring_5:1e4*.5,ring_6:1e4},light:{}},Rt=appState(Ft=>Ft.getUniverseStores),{colorValues:Bt}=Rt();let Dt=new Color(...Bt[3]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:dt.geometry,ref:At,children:jsxRuntimeExports.jsx("meshBasicMaterial",{attach:"material",color:"black",opacity:0,transparent:!0,alpha:!0,depthTest:!1})}),jsxRuntimeExports.jsxs("instancedMesh",{args:[null,null,1e3],ref:St,children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[Ct.light[lt],5,5]}),jsxRuntimeExports.jsx("meshStandardMaterial",{opacity:2,emissive:Dt,color:Dt,toneMapped:!1})]}),jsxRuntimeExports.jsxs("instancedMesh",{args:[null,null,1e3],ref:Et,children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[Ct.asteroid[lt],5,5]}),jsxRuntimeExports.jsx("meshStandardMaterial",{transparent:!0,color:"black",opacity:1,emissive:"black",emissiveIntensity:2})]}),jsxRuntimeExports.jsx(Sampler,{count:Tt.asteroid[lt],mesh:At,instances:St,transform:transformInstancesRandom}),jsxRuntimeExports.jsx(Sampler,{count:Tt.asteroid[lt],mesh:At,instances:Et,transform:transformInstancesRandom})]})}function UniverseGradient(ft){const{nodes:lt,materials:dt}=useGLTF("./models/universe/universe_gradient_v8.glb"),vt=appState(Ct=>Ct.getUniverseStores),St=appState(Ct=>Ct.activeTile);vt();let Et=new Color(.0831,.25,.007);Object.keys(dt).forEach(Ct=>{dt[Ct].emissiveIntensity=3,dt[Ct].transparent=!0,dt[Ct].alpha=!0,dt[Ct].color=Et,dt[Ct].toneMapped=!1});const{activeTileOpacity:At}=J$1({activeTileOpacity:St?.5:1,config:mt.gentle});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Object.values(lt).map(Ct=>Ct.name.includes("_tube")||Ct.type!="Mesh"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsx(SampledNode,{ring:Ct.name,node:Ct,materials:dt})),jsxRuntimeExports.jsxs("group",{...ft,dispose:null,"scale-y":1,children:[jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_2_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...dt["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_3_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...dt["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_4_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...dt["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_5_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...dt["H ORANGE.002"],opacity:At})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_6_tube.geometry,children:jsxRuntimeExports.jsx(E$1.meshBasicMaterial,{...dt["H ORANGE.002"],opacity:At})})]})]})}useGLTF.preload("./models/universe/universe_gradient_v8.glb");useGLTF.preload("./models/universe/hireco_3DScene_ringR-v1-forGLTF.glb");useGLTF.preload("./models/universe/hireco_3DScene_ringRAndO-v1-forGLTF.glb");useGLTF.preload("./models/hireco_3DScene_sectLocation-v1.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_source_van_v1.glb");function HirecoLogo(ft){const{nodes:lt,materials:dt}=useGLTF("./models/universe/hireco_3DScene_GMiddle_v3.glb");appState(St=>St.currentView);const vt=appState(St=>St.setCurrentView);return jsxRuntimeExports.jsxs("group",{...ft,dispose:null,onClick:()=>vt("HirecoCenter"),onPointerOver:()=>{document.body.style.cursor="pointer"},onPointerOut:()=>{document.body.style.cursor="default"},children:[jsxRuntimeExports.jsx(Sphere,{scale:.5,children:jsxRuntimeExports.jsx("meshStandardMaterial",{color:"black",transparent:!0,opacity:.1,side:BackSide})}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.hirecoH_2.geometry,material:dt["Hireco - HCircle- 1.003"]}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.ring_1.geometry,material:dt["Hireco - HCircle- 1.001"]}),jsxRuntimeExports.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:lt.hirecoH_1.geometry,material:dt["Hireco - HCircle- 1.002"]})]})}useGLTF.preload("./models/universe/hireco_3DScene_GMiddle_v3.glb");useGLTF.preload("./models/INCONOGRAPHY_ArrowDirectory_v2.glb");function ConsoleLogger(){const ft=appState(Tt=>Tt.activeRing),lt=appState(Tt=>Tt.currentView),dt=appState(Tt=>Tt.activePage),vt=appState(Tt=>Tt.activeTile),St=appState(Tt=>Tt.scrollControlsInitiated,shallow$1),Et=appState(Tt=>Tt.activeVideo,shallow$1),At=appState(Tt=>Tt.qrPanel,shallow$1);let Ct={};return Ct.activeRing=ft,Ct.currentView=lt,Ct.activePage=dt,Ct.scrollControlsInitiated=St,Ct.activeTile=vt,Ct.activeVideo=Et,Ct.qrPanel=At,reactExports.useEffect(()=>{console.table(Ct)},[Ct]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}const vert=`precision mediump float;
#define GLSLIFY 1
varying vec2 vUv;varying float vWave;uniform float uTime;vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}void main(){vUv=uv;vec3 pos=position;float noiseFreq=0.2;float noiseAmp=0.14;vec3 noisePos=vec3(pos.x*noiseFreq+uTime/10.0,pos.y,pos.z);pos.z+=snoise(noisePos)*noiseAmp;vWave=pos.z;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);}`,frag=`precision mediump float;
#define GLSLIFY 1
uniform vec3 uColor;uniform float uTime;uniform float uOpacity;uniform sampler2D uTexture;varying vec2 vUv;varying float vWave;void main(){float wave=-tan(vWave*0.8)*1.0;vec3 texture=texture2D(uTexture,vUv+wave).rgb;gl_FragColor=vec4(texture,uOpacity);}`,WaveShaderMaterial=shaderMaterial({transparent:!0,uTime:0,uOpacity:.2,uColor:new Color(0,0,0),uTexture:new Texture},vert,frag);extend({WaveShaderMaterial});(function(){const ft=new Vector3,lt=new Euler,dt=new Quaternion,vt=new Vector3;return function(St){ft.x=Math.random()*40-20,ft.y=Math.random()*40-20,ft.z=Math.random()*40-20,lt.x=Math.random()*2*Math.PI,lt.y=Math.random()*2*Math.PI,lt.z=Math.random()*2*Math.PI,dt.setFromEuler(lt),vt.x=vt.y=vt.z=Math.random()*1,St.compose(ft,dt,vt)}})();var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(ft,lt){module.exports=lt()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(lt){_useWebWorker=!!lt},getWebWorker=function(){return _useWebWorker},setLocationHref=function(lt){locationHref=lt},getLocationHref=function(){return locationHref};function createTag(ft){return document.createElement(ft)}function extendPrototype(ft,lt){var dt,vt=ft.length,St;for(dt=0;dt<vt;dt+=1){St=ft[dt].prototype;for(var Et in St)Object.prototype.hasOwnProperty.call(St,Et)&&(lt.prototype[Et]=St[Et])}}function getDescriptor(ft,lt){return Object.getOwnPropertyDescriptor(ft,lt)}function createProxyFunction(ft){function lt(){}return lt.prototype=ft,lt}var audioControllerFactory=function(){function ft(lt){this.audios=[],this.audioFactory=lt,this._volume=1,this._isMuted=!1}return ft.prototype={addAudio:function(dt){this.audios.push(dt)},pause:function(){var dt,vt=this.audios.length;for(dt=0;dt<vt;dt+=1)this.audios[dt].pause()},resume:function(){var dt,vt=this.audios.length;for(dt=0;dt<vt;dt+=1)this.audios[dt].resume()},setRate:function(dt){var vt,St=this.audios.length;for(vt=0;vt<St;vt+=1)this.audios[vt].setRate(dt)},createAudio:function(dt){return this.audioFactory?this.audioFactory(dt):window.Howl?new window.Howl({src:[dt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(dt){this.audioFactory=dt},setVolume:function(dt){this._volume=dt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var dt,vt=this.audios.length;for(dt=0;dt<vt;dt+=1)this.audios[dt].volume(this._volume*(this._isMuted?0:1))}},function(){return new ft}}(),createTypedArray=function(){function ft(dt,vt){var St=0,Et=[],At;switch(dt){case"int16":case"uint8c":At=1;break;default:At=1.1;break}for(St=0;St<vt;St+=1)Et.push(At);return Et}function lt(dt,vt){return dt==="float32"?new Float32Array(vt):dt==="int16"?new Int16Array(vt):dt==="uint8c"?new Uint8ClampedArray(vt):ft(dt,vt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?lt:ft}();function createSizedArray(ft){return Array.apply(null,{length:ft})}function _typeof$6(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(dt){return typeof dt}:_typeof$6=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof$6(ft)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var ft=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],lt,dt=ft.length;for(lt=0;lt<dt;lt+=1)BMMath[ft[lt]]=Math[ft[lt]]})(),BMMath.random=Math.random,BMMath.abs=function(ft){var lt=_typeof$6(ft);if(lt==="object"&&ft.length){var dt=createSizedArray(ft.length),vt,St=ft.length;for(vt=0;vt<St;vt+=1)dt[vt]=Math.abs(ft[vt]);return dt}return Math.abs(ft)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(ft){ft.style.position="absolute",ft.style.top=0,ft.style.left=0,ft.style.display="block",ft.style.transformOrigin="0 0",ft.style.webkitTransformOrigin="0 0",ft.style.backfaceVisibility="visible",ft.style.webkitBackfaceVisibility="visible",ft.style.transformStyle="preserve-3d",ft.style.webkitTransformStyle="preserve-3d",ft.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(ft,lt,dt,vt){this.type=ft,this.currentTime=lt,this.totalTime=dt,this.direction=vt<0?-1:1}function BMCompleteEvent(ft,lt){this.type=ft,this.direction=lt<0?-1:1}function BMCompleteLoopEvent(ft,lt,dt,vt){this.type=ft,this.currentLoop=dt,this.totalLoops=lt,this.direction=vt<0?-1:1}function BMSegmentStartEvent(ft,lt,dt){this.type=ft,this.firstFrame=lt,this.totalFrames=dt}function BMDestroyEvent(ft,lt){this.type=ft,this.target=lt}function BMRenderFrameErrorEvent(ft,lt){this.type="renderFrameError",this.nativeError=ft,this.currentTime=lt}function BMConfigErrorEvent(ft){this.type="configError",this.nativeError=ft}var createElementID=function(){var ft=0;return function(){return ft+=1,idPrefix$1+"__lottie_element_"+ft}}();function HSVtoRGB(ft,lt,dt){var vt,St,Et,At,Ct,Tt,Rt,Bt;switch(At=Math.floor(ft*6),Ct=ft*6-At,Tt=dt*(1-lt),Rt=dt*(1-Ct*lt),Bt=dt*(1-(1-Ct)*lt),At%6){case 0:vt=dt,St=Bt,Et=Tt;break;case 1:vt=Rt,St=dt,Et=Tt;break;case 2:vt=Tt,St=dt,Et=Bt;break;case 3:vt=Tt,St=Rt,Et=dt;break;case 4:vt=Bt,St=Tt,Et=dt;break;case 5:vt=dt,St=Tt,Et=Rt;break}return[vt,St,Et]}function RGBtoHSV(ft,lt,dt){var vt=Math.max(ft,lt,dt),St=Math.min(ft,lt,dt),Et=vt-St,At,Ct=vt===0?0:Et/vt,Tt=vt/255;switch(vt){case St:At=0;break;case ft:At=lt-dt+Et*(lt<dt?6:0),At/=6*Et;break;case lt:At=dt-ft+Et*2,At/=6*Et;break;case dt:At=ft-lt+Et*4,At/=6*Et;break}return[At,Ct,Tt]}function addSaturationToRGB(ft,lt){var dt=RGBtoHSV(ft[0]*255,ft[1]*255,ft[2]*255);return dt[1]+=lt,dt[1]>1?dt[1]=1:dt[1]<=0&&(dt[1]=0),HSVtoRGB(dt[0],dt[1],dt[2])}function addBrightnessToRGB(ft,lt){var dt=RGBtoHSV(ft[0]*255,ft[1]*255,ft[2]*255);return dt[2]+=lt,dt[2]>1?dt[2]=1:dt[2]<0&&(dt[2]=0),HSVtoRGB(dt[0],dt[1],dt[2])}function addHueToRGB(ft,lt){var dt=RGBtoHSV(ft[0]*255,ft[1]*255,ft[2]*255);return dt[0]+=lt/360,dt[0]>1?dt[0]-=1:dt[0]<0&&(dt[0]+=1),HSVtoRGB(dt[0],dt[1],dt[2])}var rgbToHex=function(){var ft=[],lt,dt;for(lt=0;lt<256;lt+=1)dt=lt.toString(16),ft[lt]=dt.length===1?"0"+dt:dt;return function(vt,St,Et){return vt<0&&(vt=0),St<0&&(St=0),Et<0&&(Et=0),"#"+ft[vt]+ft[St]+ft[Et]}}(),setSubframeEnabled=function(lt){subframeEnabled=!!lt},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(lt){expressionsPlugin=lt},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(lt){expressionsInterfaces=lt},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(lt){defaultCurveSegments=lt},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(lt){idPrefix$1=lt};function createNS(ft){return document.createElementNS(svgNS,ft)}function _typeof$5(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(dt){return typeof dt}:_typeof$5=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof$5(ft)}var dataManager=function(){var ft=1,lt=[],dt,vt,St={onmessage:function(){},postMessage:function(kt){dt({data:kt})}},Et={postMessage:function(kt){St.onmessage({data:kt})}};function At(Ft){if(window.Worker&&window.Blob&&getWebWorker()){var kt=new Blob(["var _workerSelf = self; self.onmessage = ",Ft.toString()],{type:"text/javascript"}),Ut=URL.createObjectURL(kt);return new Worker(Ut)}return dt=Ft,St}function Ct(){vt||(vt=At(function(kt){function Ut(){function tr(xr,Sr){var br,cr,pr=xr.length,Er,_r,Ar,Pr;for(cr=0;cr<pr;cr+=1)if(br=xr[cr],"ks"in br&&!br.completed){if(br.completed=!0,br.hasMask){var Ir=br.masksProperties;for(_r=Ir.length,Er=0;Er<_r;Er+=1)if(Ir[Er].pt.k.i)sr(Ir[Er].pt.k);else for(Pr=Ir[Er].pt.k.length,Ar=0;Ar<Pr;Ar+=1)Ir[Er].pt.k[Ar].s&&sr(Ir[Er].pt.k[Ar].s[0]),Ir[Er].pt.k[Ar].e&&sr(Ir[Er].pt.k[Ar].e[0])}br.ty===0?(br.layers=Ht(br.refId,Sr),tr(br.layers,Sr)):br.ty===4?nr(br.shapes):br.ty===5&&Cr(br)}}function Wt(xr,Sr){if(xr){var br=0,cr=xr.length;for(br=0;br<cr;br+=1)xr[br].t===1&&(xr[br].data.layers=Ht(xr[br].data.refId,Sr),tr(xr[br].data.layers,Sr))}}function Zt(xr,Sr){for(var br=0,cr=Sr.length;br<cr;){if(Sr[br].id===xr)return Sr[br];br+=1}return null}function Ht(xr,Sr){var br=Zt(xr,Sr);return br?br.layers.__used?JSON.parse(JSON.stringify(br.layers)):(br.layers.__used=!0,br.layers):null}function nr(xr){var Sr,br=xr.length,cr,pr;for(Sr=br-1;Sr>=0;Sr-=1)if(xr[Sr].ty==="sh")if(xr[Sr].ks.k.i)sr(xr[Sr].ks.k);else for(pr=xr[Sr].ks.k.length,cr=0;cr<pr;cr+=1)xr[Sr].ks.k[cr].s&&sr(xr[Sr].ks.k[cr].s[0]),xr[Sr].ks.k[cr].e&&sr(xr[Sr].ks.k[cr].e[0]);else xr[Sr].ty==="gr"&&nr(xr[Sr].it)}function sr(xr){var Sr,br=xr.i.length;for(Sr=0;Sr<br;Sr+=1)xr.i[Sr][0]+=xr.v[Sr][0],xr.i[Sr][1]+=xr.v[Sr][1],xr.o[Sr][0]+=xr.v[Sr][0],xr.o[Sr][1]+=xr.v[Sr][1]}function ar(xr,Sr){var br=Sr?Sr.split("."):[100,100,100];return xr[0]>br[0]?!0:br[0]>xr[0]?!1:xr[1]>br[1]?!0:br[1]>xr[1]?!1:xr[2]>br[2]?!0:br[2]>xr[2]?!1:null}var ir=function(){var xr=[4,4,14];function Sr(cr){var pr=cr.t.d;cr.t.d={k:[{s:pr,t:0}]}}function br(cr){var pr,Er=cr.length;for(pr=0;pr<Er;pr+=1)cr[pr].ty===5&&Sr(cr[pr])}return function(cr){if(ar(xr,cr.v)&&(br(cr.layers),cr.assets)){var pr,Er=cr.assets.length;for(pr=0;pr<Er;pr+=1)cr.assets[pr].layers&&br(cr.assets[pr].layers)}}}(),rr=function(){var xr=[4,7,99];return function(Sr){if(Sr.chars&&!ar(xr,Sr.v)){var br,cr=Sr.chars.length;for(br=0;br<cr;br+=1){var pr=Sr.chars[br];pr.data&&pr.data.shapes&&(nr(pr.data.shapes),pr.data.ip=0,pr.data.op=99999,pr.data.st=0,pr.data.sr=1,pr.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Sr.chars[br].t||(pr.data.shapes.push({ty:"no"}),pr.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),lr=function(){var xr=[5,7,15];function Sr(cr){var pr=cr.t.p;typeof pr.a=="number"&&(pr.a={a:0,k:pr.a}),typeof pr.p=="number"&&(pr.p={a:0,k:pr.p}),typeof pr.r=="number"&&(pr.r={a:0,k:pr.r})}function br(cr){var pr,Er=cr.length;for(pr=0;pr<Er;pr+=1)cr[pr].ty===5&&Sr(cr[pr])}return function(cr){if(ar(xr,cr.v)&&(br(cr.layers),cr.assets)){var pr,Er=cr.assets.length;for(pr=0;pr<Er;pr+=1)cr.assets[pr].layers&&br(cr.assets[pr].layers)}}}(),ur=function(){var xr=[4,1,9];function Sr(cr){var pr,Er=cr.length,_r,Ar;for(pr=0;pr<Er;pr+=1)if(cr[pr].ty==="gr")Sr(cr[pr].it);else if(cr[pr].ty==="fl"||cr[pr].ty==="st")if(cr[pr].c.k&&cr[pr].c.k[0].i)for(Ar=cr[pr].c.k.length,_r=0;_r<Ar;_r+=1)cr[pr].c.k[_r].s&&(cr[pr].c.k[_r].s[0]/=255,cr[pr].c.k[_r].s[1]/=255,cr[pr].c.k[_r].s[2]/=255,cr[pr].c.k[_r].s[3]/=255),cr[pr].c.k[_r].e&&(cr[pr].c.k[_r].e[0]/=255,cr[pr].c.k[_r].e[1]/=255,cr[pr].c.k[_r].e[2]/=255,cr[pr].c.k[_r].e[3]/=255);else cr[pr].c.k[0]/=255,cr[pr].c.k[1]/=255,cr[pr].c.k[2]/=255,cr[pr].c.k[3]/=255}function br(cr){var pr,Er=cr.length;for(pr=0;pr<Er;pr+=1)cr[pr].ty===4&&Sr(cr[pr].shapes)}return function(cr){if(ar(xr,cr.v)&&(br(cr.layers),cr.assets)){var pr,Er=cr.assets.length;for(pr=0;pr<Er;pr+=1)cr.assets[pr].layers&&br(cr.assets[pr].layers)}}}(),dr=function(){var xr=[4,4,18];function Sr(cr){var pr,Er=cr.length,_r,Ar;for(pr=Er-1;pr>=0;pr-=1)if(cr[pr].ty==="sh")if(cr[pr].ks.k.i)cr[pr].ks.k.c=cr[pr].closed;else for(Ar=cr[pr].ks.k.length,_r=0;_r<Ar;_r+=1)cr[pr].ks.k[_r].s&&(cr[pr].ks.k[_r].s[0].c=cr[pr].closed),cr[pr].ks.k[_r].e&&(cr[pr].ks.k[_r].e[0].c=cr[pr].closed);else cr[pr].ty==="gr"&&Sr(cr[pr].it)}function br(cr){var pr,Er,_r=cr.length,Ar,Pr,Ir,kr;for(Er=0;Er<_r;Er+=1){if(pr=cr[Er],pr.hasMask){var Dr=pr.masksProperties;for(Pr=Dr.length,Ar=0;Ar<Pr;Ar+=1)if(Dr[Ar].pt.k.i)Dr[Ar].pt.k.c=Dr[Ar].cl;else for(kr=Dr[Ar].pt.k.length,Ir=0;Ir<kr;Ir+=1)Dr[Ar].pt.k[Ir].s&&(Dr[Ar].pt.k[Ir].s[0].c=Dr[Ar].cl),Dr[Ar].pt.k[Ir].e&&(Dr[Ar].pt.k[Ir].e[0].c=Dr[Ar].cl)}pr.ty===4&&Sr(pr.shapes)}}return function(cr){if(ar(xr,cr.v)&&(br(cr.layers),cr.assets)){var pr,Er=cr.assets.length;for(pr=0;pr<Er;pr+=1)cr.assets[pr].layers&&br(cr.assets[pr].layers)}}}();function mr(xr){xr.__complete||(ur(xr),ir(xr),rr(xr),lr(xr),dr(xr),tr(xr.layers,xr.assets),Wt(xr.chars,xr.assets),xr.__complete=!0)}function Cr(xr){xr.t.a.length===0&&"m"in xr.t.p}var yr={};return yr.completeData=mr,yr.checkColors=ur,yr.checkChars=rr,yr.checkPathProperties=lr,yr.checkShapes=dr,yr.completeLayers=tr,yr}if(Et.dataManager||(Et.dataManager=Ut()),Et.assetLoader||(Et.assetLoader=function(){function tr(Zt){var Ht=Zt.getResponseHeader("content-type");return Ht&&Zt.responseType==="json"&&Ht.indexOf("json")!==-1||Zt.response&&_typeof$5(Zt.response)==="object"?Zt.response:Zt.response&&typeof Zt.response=="string"?JSON.parse(Zt.response):Zt.responseText?JSON.parse(Zt.responseText):null}function Wt(Zt,Ht,nr,sr){var ar,ir=new XMLHttpRequest;try{ir.responseType="json"}catch{}ir.onreadystatechange=function(){if(ir.readyState===4)if(ir.status===200)ar=tr(ir),nr(ar);else try{ar=tr(ir),nr(ar)}catch(rr){sr&&sr(rr)}};try{ir.open(["G","E","T"].join(""),Zt,!0)}catch{ir.open(["G","E","T"].join(""),Ht+"/"+Zt,!0)}ir.send()}return{load:Wt}}()),kt.data.type==="loadAnimation")Et.assetLoader.load(kt.data.path,kt.data.fullPath,function(tr){Et.dataManager.completeData(tr),Et.postMessage({id:kt.data.id,payload:tr,status:"success"})},function(){Et.postMessage({id:kt.data.id,status:"error"})});else if(kt.data.type==="complete"){var Kt=kt.data.animation;Et.dataManager.completeData(Kt),Et.postMessage({id:kt.data.id,payload:Kt,status:"success"})}else kt.data.type==="loadData"&&Et.assetLoader.load(kt.data.path,kt.data.fullPath,function(tr){Et.postMessage({id:kt.data.id,payload:tr,status:"success"})},function(){Et.postMessage({id:kt.data.id,status:"error"})})}),vt.onmessage=function(Ft){var kt=Ft.data,Ut=kt.id,Kt=lt[Ut];lt[Ut]=null,kt.status==="success"?Kt.onComplete(kt.payload):Kt.onError&&Kt.onError()})}function Tt(Ft,kt){ft+=1;var Ut="processId_"+ft;return lt[Ut]={onComplete:Ft,onError:kt},Ut}function Rt(Ft,kt,Ut){Ct();var Kt=Tt(kt,Ut);vt.postMessage({type:"loadAnimation",path:Ft,fullPath:window.location.origin+window.location.pathname,id:Kt})}function Bt(Ft,kt,Ut){Ct();var Kt=Tt(kt,Ut);vt.postMessage({type:"loadData",path:Ft,fullPath:window.location.origin+window.location.pathname,id:Kt})}function Dt(Ft,kt,Ut){Ct();var Kt=Tt(kt,Ut);vt.postMessage({type:"complete",animation:Ft,id:Kt})}return{loadAnimation:Rt,loadData:Bt,completeAnimation:Dt}}(),ImagePreloader=function(){var ft=function(){var Wt=createTag("canvas");Wt.width=1,Wt.height=1;var Zt=Wt.getContext("2d");return Zt.fillStyle="rgba(0,0,0,0)",Zt.fillRect(0,0,1,1),Wt}();function lt(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function dt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function vt(Wt,Zt,Ht){var nr="";if(Wt.e)nr=Wt.p;else if(Zt){var sr=Wt.p;sr.indexOf("images/")!==-1&&(sr=sr.split("/")[1]),nr=Zt+sr}else nr=Ht,nr+=Wt.u?Wt.u:"",nr+=Wt.p;return nr}function St(Wt){var Zt=0,Ht=setInterval(function(){var nr=Wt.getBBox();(nr.width||Zt>500)&&(this._imageLoaded(),clearInterval(Ht)),Zt+=1}.bind(this),50)}function Et(Wt){var Zt=vt(Wt,this.assetsPath,this.path),Ht=createNS("image");isSafari?this.testImageLoaded(Ht):Ht.addEventListener("load",this._imageLoaded,!1),Ht.addEventListener("error",function(){nr.img=ft,this._imageLoaded()}.bind(this),!1),Ht.setAttributeNS("http://www.w3.org/1999/xlink","href",Zt),this._elementHelper.append?this._elementHelper.append(Ht):this._elementHelper.appendChild(Ht);var nr={img:Ht,assetData:Wt};return nr}function At(Wt){var Zt=vt(Wt,this.assetsPath,this.path),Ht=createTag("img");Ht.crossOrigin="anonymous",Ht.addEventListener("load",this._imageLoaded,!1),Ht.addEventListener("error",function(){nr.img=ft,this._imageLoaded()}.bind(this),!1),Ht.src=Zt;var nr={img:Ht,assetData:Wt};return nr}function Ct(Wt){var Zt={assetData:Wt},Ht=vt(Wt,this.assetsPath,this.path);return dataManager.loadData(Ht,function(nr){Zt.img=nr,this._footageLoaded()}.bind(this),function(){Zt.img={},this._footageLoaded()}.bind(this)),Zt}function Tt(Wt,Zt){this.imagesLoadedCb=Zt;var Ht,nr=Wt.length;for(Ht=0;Ht<nr;Ht+=1)Wt[Ht].layers||(!Wt[Ht].t||Wt[Ht].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Wt[Ht]))):Wt[Ht].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Wt[Ht]))))}function Rt(Wt){this.path=Wt||""}function Bt(Wt){this.assetsPath=Wt||""}function Dt(Wt){for(var Zt=0,Ht=this.images.length;Zt<Ht;){if(this.images[Zt].assetData===Wt)return this.images[Zt].img;Zt+=1}return null}function Ft(){this.imagesLoadedCb=null,this.images.length=0}function kt(){return this.totalImages===this.loadedAssets}function Ut(){return this.totalFootages===this.loadedFootagesCount}function Kt(Wt,Zt){Wt==="svg"?(this._elementHelper=Zt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function tr(){this._imageLoaded=lt.bind(this),this._footageLoaded=dt.bind(this),this.testImageLoaded=St.bind(this),this.createFootageData=Ct.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return tr.prototype={loadAssets:Tt,setAssetsPath:Bt,setPath:Rt,loadedImages:kt,loadedFootages:Ut,destroy:Ft,getAsset:Dt,createImgData:At,createImageData:Et,imageLoaded:lt,footageLoaded:dt,setCacheType:Kt},tr}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(lt,dt){if(this._cbs[lt])for(var vt=this._cbs[lt],St=0;St<vt.length;St+=1)vt[St](dt)},addEventListener:function(lt,dt){return this._cbs[lt]||(this._cbs[lt]=[]),this._cbs[lt].push(dt),function(){this.removeEventListener(lt,dt)}.bind(this)},removeEventListener:function(lt,dt){if(!dt)this._cbs[lt]=null;else if(this._cbs[lt]){for(var vt=0,St=this._cbs[lt].length;vt<St;)this._cbs[lt][vt]===dt&&(this._cbs[lt].splice(vt,1),vt-=1,St-=1),vt+=1;this._cbs[lt].length||(this._cbs[lt]=null)}}};var markerParser=function(){function ft(lt){for(var dt=lt.split(`\r
`),vt={},St,Et=0,At=0;At<dt.length;At+=1)St=dt[At].split(":"),St.length===2&&(vt[St[0]]=St[1].trim(),Et+=1);if(Et===0)throw new Error;return vt}return function(lt){for(var dt=[],vt=0;vt<lt.length;vt+=1){var St=lt[vt],Et={time:St.tm,duration:St.dr};try{Et.payload=JSON.parse(lt[vt].cm)}catch{try{Et.payload=ft(lt[vt].cm)}catch{Et.payload={name:lt[vt].cm}}}dt.push(Et)}return dt}}(),ProjectInterface=function(){function ft(lt){this.compositions.push(lt)}return function(){function lt(dt){for(var vt=0,St=this.compositions.length;vt<St;){if(this.compositions[vt].data&&this.compositions[vt].data.nm===dt)return this.compositions[vt].prepareFrame&&this.compositions[vt].data.xt&&this.compositions[vt].prepareFrame(this.currentFrame),this.compositions[vt].compInterface;vt+=1}return null}return lt.compositions=[],lt.currentFrame=0,lt.registerComposition=ft,lt}}(),renderers={},registerRenderer=function(lt,dt){renderers[lt]=dt};function getRenderer(ft){return renderers[ft]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var ft in renderers)if(renderers[ft])return ft;return""}function _typeof$4(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(dt){return typeof dt}:_typeof$4=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof$4(ft)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(ft){(ft.wrapper||ft.container)&&(this.wrapper=ft.wrapper||ft.container);var lt="svg";ft.animType?lt=ft.animType:ft.renderer&&(lt=ft.renderer);var dt=getRenderer(lt);this.renderer=new dt(this,ft.rendererSettings),this.imagePreloader.setCacheType(lt,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=lt,ft.loop===""||ft.loop===null||ft.loop===void 0||ft.loop===!0?this.loop=!0:ft.loop===!1?this.loop=!1:this.loop=parseInt(ft.loop,10),this.autoplay="autoplay"in ft?ft.autoplay:!0,this.name=ft.name?ft.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(ft,"autoloadSegments")?ft.autoloadSegments:!0,this.assetsPath=ft.assetsPath,this.initialSegment=ft.initialSegment,ft.audioFactory&&this.audioController.setAudioFactory(ft.audioFactory),ft.animationData?this.setupAnimation(ft.animationData):ft.path&&(ft.path.lastIndexOf("\\")!==-1?this.path=ft.path.substr(0,ft.path.lastIndexOf("\\")+1):this.path=ft.path.substr(0,ft.path.lastIndexOf("/")+1),this.fileName=ft.path.substr(ft.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(ft.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(ft){dataManager.completeAnimation(ft,this.configAnimation)},AnimationItem.prototype.setData=function(ft,lt){lt&&_typeof$4(lt)!=="object"&&(lt=JSON.parse(lt));var dt={wrapper:ft,animationData:lt},vt=ft.attributes;dt.path=vt.getNamedItem("data-animation-path")?vt.getNamedItem("data-animation-path").value:vt.getNamedItem("data-bm-path")?vt.getNamedItem("data-bm-path").value:vt.getNamedItem("bm-path")?vt.getNamedItem("bm-path").value:"",dt.animType=vt.getNamedItem("data-anim-type")?vt.getNamedItem("data-anim-type").value:vt.getNamedItem("data-bm-type")?vt.getNamedItem("data-bm-type").value:vt.getNamedItem("bm-type")?vt.getNamedItem("bm-type").value:vt.getNamedItem("data-bm-renderer")?vt.getNamedItem("data-bm-renderer").value:vt.getNamedItem("bm-renderer")?vt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var St=vt.getNamedItem("data-anim-loop")?vt.getNamedItem("data-anim-loop").value:vt.getNamedItem("data-bm-loop")?vt.getNamedItem("data-bm-loop").value:vt.getNamedItem("bm-loop")?vt.getNamedItem("bm-loop").value:"";St==="false"?dt.loop=!1:St==="true"?dt.loop=!0:St!==""&&(dt.loop=parseInt(St,10));var Et=vt.getNamedItem("data-anim-autoplay")?vt.getNamedItem("data-anim-autoplay").value:vt.getNamedItem("data-bm-autoplay")?vt.getNamedItem("data-bm-autoplay").value:vt.getNamedItem("bm-autoplay")?vt.getNamedItem("bm-autoplay").value:!0;dt.autoplay=Et!=="false",dt.name=vt.getNamedItem("data-name")?vt.getNamedItem("data-name").value:vt.getNamedItem("data-bm-name")?vt.getNamedItem("data-bm-name").value:vt.getNamedItem("bm-name")?vt.getNamedItem("bm-name").value:"";var At=vt.getNamedItem("data-anim-prerender")?vt.getNamedItem("data-anim-prerender").value:vt.getNamedItem("data-bm-prerender")?vt.getNamedItem("data-bm-prerender").value:vt.getNamedItem("bm-prerender")?vt.getNamedItem("bm-prerender").value:"";At==="false"&&(dt.prerender=!1),dt.path?this.setParams(dt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(ft){ft.op>this.animationData.op&&(this.animationData.op=ft.op,this.totalFrames=Math.floor(ft.op-this.animationData.ip));var lt=this.animationData.layers,dt,vt=lt.length,St=ft.layers,Et,At=St.length;for(Et=0;Et<At;Et+=1)for(dt=0;dt<vt;){if(lt[dt].id===St[Et].id){lt[dt]=St[Et];break}dt+=1}if((ft.chars||ft.fonts)&&(this.renderer.globalData.fontManager.addChars(ft.chars),this.renderer.globalData.fontManager.addFonts(ft.fonts,this.renderer.globalData.defs)),ft.assets)for(vt=ft.assets.length,dt=0;dt<vt;dt+=1)this.animationData.assets.push(ft.assets[dt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(ft){this.animationData=ft;var lt=getExpressionsPlugin();lt&&lt.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var ft=this.animationData.segments;if(!ft||ft.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var lt=ft.shift();this.timeCompleted=lt.time*this.frameRate;var dt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(dt,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var ft=this.animationData.segments;ft||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(ft){if(this.renderer)try{this.animationData=ft,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(ft),ft.assets||(ft.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(ft.assets),this.markers=markerParser(ft.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(lt){this.triggerConfigError(lt)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var ft=getExpressionsPlugin();ft&&ft.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(ft,lt){var dt=typeof ft=="number"?ft:void 0,vt=typeof lt=="number"?lt:void 0;this.renderer.updateContainerSize(dt,vt)},AnimationItem.prototype.setSubframe=function(ft){this.isSubframeEnabled=!!ft},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(ft){this.triggerRenderFrameError(ft)}},AnimationItem.prototype.play=function(ft){ft&&this.name!==ft||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(ft){ft&&this.name!==ft||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(ft){ft&&this.name!==ft||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(ft){ft&&this.name!==ft||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(ft){for(var lt,dt=0;dt<this.markers.length;dt+=1)if(lt=this.markers[dt],lt.payload&&lt.payload.name===ft)return lt;return null},AnimationItem.prototype.goToAndStop=function(ft,lt,dt){if(!(dt&&this.name!==dt)){var vt=Number(ft);if(isNaN(vt)){var St=this.getMarkerData(ft);St&&this.goToAndStop(St.time,!0)}else lt?this.setCurrentRawFrameValue(ft):this.setCurrentRawFrameValue(ft*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(ft,lt,dt){if(!(dt&&this.name!==dt)){var vt=Number(ft);if(isNaN(vt)){var St=this.getMarkerData(ft);St&&(St.duration?this.playSegments([St.time,St.time+St.duration],!0):this.goToAndStop(St.time,!0))}else this.goToAndStop(vt,lt,dt);this.play()}},AnimationItem.prototype.advanceTime=function(ft){if(!(this.isPaused===!0||this.isLoaded===!1)){var lt=this.currentRawFrame+ft*this.frameModifier,dt=!1;lt>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(lt>this.totalFrames?lt%this.totalFrames:0)||(dt=!0,lt=this.totalFrames-1):lt>=this.totalFrames?(this.playCount+=1,this.checkSegments(lt%this.totalFrames)||(this.setCurrentRawFrameValue(lt%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(lt):lt<0?this.checkSegments(lt%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+lt%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(dt=!0,lt=0)):this.setCurrentRawFrameValue(lt),dt&&(this.setCurrentRawFrameValue(lt),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(ft,lt){this.playCount=0,ft[1]<ft[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=ft[0]-ft[1],this.timeCompleted=this.totalFrames,this.firstFrame=ft[1],this.setCurrentRawFrameValue(this.totalFrames-.001-lt)):ft[1]>ft[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=ft[1]-ft[0],this.timeCompleted=this.totalFrames,this.firstFrame=ft[0],this.setCurrentRawFrameValue(.001+lt)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(ft,lt){var dt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<ft?dt=ft:this.currentRawFrame+this.firstFrame>lt&&(dt=lt-ft)),this.firstFrame=ft,this.totalFrames=lt-ft,this.timeCompleted=this.totalFrames,dt!==-1&&this.goToAndStop(dt,!0)},AnimationItem.prototype.playSegments=function(ft,lt){if(lt&&(this.segments.length=0),_typeof$4(ft[0])==="object"){var dt,vt=ft.length;for(dt=0;dt<vt;dt+=1)this.segments.push(ft[dt])}else this.segments.push(ft);this.segments.length&&lt&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(ft){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),ft&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(ft){return this.segments.length?(this.adjustSegment(this.segments.shift(),ft),!0):!1},AnimationItem.prototype.destroy=function(ft){ft&&this.name!==ft||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(ft){this.currentRawFrame=ft,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(ft){this.playSpeed=ft,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(ft){this.playDirection=ft<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(ft){this.loop=ft},AnimationItem.prototype.setVolume=function(ft,lt){lt&&this.name!==lt||this.audioController.setVolume(ft)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(ft){ft&&this.name!==ft||this.audioController.mute()},AnimationItem.prototype.unmute=function(ft){ft&&this.name!==ft||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(ft){var lt="";if(ft.e)lt=ft.p;else if(this.assetsPath){var dt=ft.p;dt.indexOf("images/")!==-1&&(dt=dt.split("/")[1]),lt=this.assetsPath+dt}else lt=this.path,lt+=ft.u?ft.u:"",lt+=ft.p;return lt},AnimationItem.prototype.getAssetData=function(ft){for(var lt=0,dt=this.assets.length;lt<dt;){if(ft===this.assets[lt].id)return this.assets[lt];lt+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(ft){return ft?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(ft,lt,dt){try{var vt=this.renderer.getElementByPath(ft);vt.updateDocumentData(lt,dt)}catch{}},AnimationItem.prototype.trigger=function(ft){if(this._cbs&&this._cbs[ft])switch(ft){case"enterFrame":this.triggerEvent(ft,new BMEnterFrameEvent(ft,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(ft,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(ft,new BMCompleteLoopEvent(ft,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(ft,new BMCompleteEvent(ft,this.frameMult));break;case"segmentStart":this.triggerEvent(ft,new BMSegmentStartEvent(ft,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(ft,new BMDestroyEvent(ft,this));break;default:this.triggerEvent(ft)}ft==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(ft,this.currentFrame,this.totalFrames,this.frameMult)),ft==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(ft,this.loop,this.playCount,this.frameMult)),ft==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(ft,this.frameMult)),ft==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(ft,this.firstFrame,this.totalFrames)),ft==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(ft,this))},AnimationItem.prototype.triggerRenderFrameError=function(ft){var lt=new BMRenderFrameErrorEvent(ft,this.currentFrame);this.triggerEvent("error",lt),this.onError&&this.onError.call(this,lt)},AnimationItem.prototype.triggerConfigError=function(ft){var lt=new BMConfigErrorEvent(ft,this.currentFrame);this.triggerEvent("error",lt),this.onError&&this.onError.call(this,lt)};var animationManager=function(){var ft={},lt=[],dt=0,vt=0,St=0,Et=!0,At=!1;function Ct(Sr){for(var br=0,cr=Sr.target;br<vt;)lt[br].animation===cr&&(lt.splice(br,1),br-=1,vt-=1,cr.isPaused||Dt()),br+=1}function Tt(Sr,br){if(!Sr)return null;for(var cr=0;cr<vt;){if(lt[cr].elem===Sr&&lt[cr].elem!==null)return lt[cr].animation;cr+=1}var pr=new AnimationItem;return Ft(pr,Sr),pr.setData(Sr,br),pr}function Rt(){var Sr,br=lt.length,cr=[];for(Sr=0;Sr<br;Sr+=1)cr.push(lt[Sr].animation);return cr}function Bt(){St+=1,ur()}function Dt(){St-=1}function Ft(Sr,br){Sr.addEventListener("destroy",Ct),Sr.addEventListener("_active",Bt),Sr.addEventListener("_idle",Dt),lt.push({elem:br,animation:Sr}),vt+=1}function kt(Sr){var br=new AnimationItem;return Ft(br,null),br.setParams(Sr),br}function Ut(Sr,br){var cr;for(cr=0;cr<vt;cr+=1)lt[cr].animation.setSpeed(Sr,br)}function Kt(Sr,br){var cr;for(cr=0;cr<vt;cr+=1)lt[cr].animation.setDirection(Sr,br)}function tr(Sr){var br;for(br=0;br<vt;br+=1)lt[br].animation.play(Sr)}function Wt(Sr){var br=Sr-dt,cr;for(cr=0;cr<vt;cr+=1)lt[cr].animation.advanceTime(br);dt=Sr,St&&!At?window.requestAnimationFrame(Wt):Et=!0}function Zt(Sr){dt=Sr,window.requestAnimationFrame(Wt)}function Ht(Sr){var br;for(br=0;br<vt;br+=1)lt[br].animation.pause(Sr)}function nr(Sr,br,cr){var pr;for(pr=0;pr<vt;pr+=1)lt[pr].animation.goToAndStop(Sr,br,cr)}function sr(Sr){var br;for(br=0;br<vt;br+=1)lt[br].animation.stop(Sr)}function ar(Sr){var br;for(br=0;br<vt;br+=1)lt[br].animation.togglePause(Sr)}function ir(Sr){var br;for(br=vt-1;br>=0;br-=1)lt[br].animation.destroy(Sr)}function rr(Sr,br,cr){var pr=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Er,_r=pr.length;for(Er=0;Er<_r;Er+=1)cr&&pr[Er].setAttribute("data-bm-type",cr),Tt(pr[Er],Sr);if(br&&_r===0){cr||(cr="svg");var Ar=document.getElementsByTagName("body")[0];Ar.innerText="";var Pr=createTag("div");Pr.style.width="100%",Pr.style.height="100%",Pr.setAttribute("data-bm-type",cr),Ar.appendChild(Pr),Tt(Pr,Sr)}}function lr(){var Sr;for(Sr=0;Sr<vt;Sr+=1)lt[Sr].animation.resize()}function ur(){!At&&St&&Et&&(window.requestAnimationFrame(Zt),Et=!1)}function dr(){At=!0}function mr(){At=!1,ur()}function Cr(Sr,br){var cr;for(cr=0;cr<vt;cr+=1)lt[cr].animation.setVolume(Sr,br)}function yr(Sr){var br;for(br=0;br<vt;br+=1)lt[br].animation.mute(Sr)}function xr(Sr){var br;for(br=0;br<vt;br+=1)lt[br].animation.unmute(Sr)}return ft.registerAnimation=Tt,ft.loadAnimation=kt,ft.setSpeed=Ut,ft.setDirection=Kt,ft.play=tr,ft.pause=Ht,ft.stop=sr,ft.togglePause=ar,ft.searchAnimations=rr,ft.resize=lr,ft.goToAndStop=nr,ft.destroy=ir,ft.freeze=dr,ft.unfreeze=mr,ft.setVolume=Cr,ft.mute=yr,ft.unmute=xr,ft.getRegisteredAnimations=Rt,ft}(),BezierFactory=function(){var ft={};ft.getBezierEasing=dt;var lt={};function dt(Zt,Ht,nr,sr,ar){var ir=ar||("bez_"+Zt+"_"+Ht+"_"+nr+"_"+sr).replace(/\./g,"p");if(lt[ir])return lt[ir];var rr=new Wt([Zt,Ht,nr,sr]);return lt[ir]=rr,rr}var vt=4,St=.001,Et=1e-7,At=10,Ct=11,Tt=1/(Ct-1),Rt=typeof Float32Array=="function";function Bt(Zt,Ht){return 1-3*Ht+3*Zt}function Dt(Zt,Ht){return 3*Ht-6*Zt}function Ft(Zt){return 3*Zt}function kt(Zt,Ht,nr){return((Bt(Ht,nr)*Zt+Dt(Ht,nr))*Zt+Ft(Ht))*Zt}function Ut(Zt,Ht,nr){return 3*Bt(Ht,nr)*Zt*Zt+2*Dt(Ht,nr)*Zt+Ft(Ht)}function Kt(Zt,Ht,nr,sr,ar){var ir,rr,lr=0;do rr=Ht+(nr-Ht)/2,ir=kt(rr,sr,ar)-Zt,ir>0?nr=rr:Ht=rr;while(Math.abs(ir)>Et&&++lr<At);return rr}function tr(Zt,Ht,nr,sr){for(var ar=0;ar<vt;++ar){var ir=Ut(Ht,nr,sr);if(ir===0)return Ht;var rr=kt(Ht,nr,sr)-Zt;Ht-=rr/ir}return Ht}function Wt(Zt){this._p=Zt,this._mSampleValues=Rt?new Float32Array(Ct):new Array(Ct),this._precomputed=!1,this.get=this.get.bind(this)}return Wt.prototype={get:function(Ht){var nr=this._p[0],sr=this._p[1],ar=this._p[2],ir=this._p[3];return this._precomputed||this._precompute(),nr===sr&&ar===ir?Ht:Ht===0?0:Ht===1?1:kt(this._getTForX(Ht),sr,ir)},_precompute:function(){var Ht=this._p[0],nr=this._p[1],sr=this._p[2],ar=this._p[3];this._precomputed=!0,(Ht!==nr||sr!==ar)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Ht=this._p[0],nr=this._p[2],sr=0;sr<Ct;++sr)this._mSampleValues[sr]=kt(sr*Tt,Ht,nr)},_getTForX:function(Ht){for(var nr=this._p[0],sr=this._p[2],ar=this._mSampleValues,ir=0,rr=1,lr=Ct-1;rr!==lr&&ar[rr]<=Ht;++rr)ir+=Tt;--rr;var ur=(Ht-ar[rr])/(ar[rr+1]-ar[rr]),dr=ir+ur*Tt,mr=Ut(dr,nr,sr);return mr>=St?tr(Ht,dr,nr,sr):mr===0?dr:Kt(Ht,ir,ir+Tt,nr,sr)}},ft}(),pooling=function(){function ft(lt){return lt.concat(createSizedArray(lt.length))}return{double:ft}}(),poolFactory=function(){return function(ft,lt,dt){var vt=0,St=ft,Et=createSizedArray(St),At={newElement:Ct,release:Tt};function Ct(){var Rt;return vt?(vt-=1,Rt=Et[vt]):Rt=lt(),Rt}function Tt(Rt){vt===St&&(Et=pooling.double(Et),St*=2),dt&&dt(Rt),Et[vt]=Rt,vt+=1}return At}}(),bezierLengthPool=function(){function ft(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,ft)}(),segmentsLengthPool=function(){function ft(){return{lengths:[],totalLength:0}}function lt(dt){var vt,St=dt.lengths.length;for(vt=0;vt<St;vt+=1)bezierLengthPool.release(dt.lengths[vt]);dt.lengths.length=0}return poolFactory(8,ft,lt)}();function bezFunction(){var ft=Math;function lt(Ft,kt,Ut,Kt,tr,Wt){var Zt=Ft*Kt+kt*tr+Ut*Wt-tr*Kt-Wt*Ft-Ut*kt;return Zt>-.001&&Zt<.001}function dt(Ft,kt,Ut,Kt,tr,Wt,Zt,Ht,nr){if(Ut===0&&Wt===0&&nr===0)return lt(Ft,kt,Kt,tr,Zt,Ht);var sr=ft.sqrt(ft.pow(Kt-Ft,2)+ft.pow(tr-kt,2)+ft.pow(Wt-Ut,2)),ar=ft.sqrt(ft.pow(Zt-Ft,2)+ft.pow(Ht-kt,2)+ft.pow(nr-Ut,2)),ir=ft.sqrt(ft.pow(Zt-Kt,2)+ft.pow(Ht-tr,2)+ft.pow(nr-Wt,2)),rr;return sr>ar?sr>ir?rr=sr-ar-ir:rr=ir-ar-sr:ir>ar?rr=ir-ar-sr:rr=ar-sr-ir,rr>-1e-4&&rr<1e-4}var vt=function(){return function(Ft,kt,Ut,Kt){var tr=getDefaultCurveSegments(),Wt,Zt,Ht,nr,sr,ar=0,ir,rr=[],lr=[],ur=bezierLengthPool.newElement();for(Ht=Ut.length,Wt=0;Wt<tr;Wt+=1){for(sr=Wt/(tr-1),ir=0,Zt=0;Zt<Ht;Zt+=1)nr=bmPow(1-sr,3)*Ft[Zt]+3*bmPow(1-sr,2)*sr*Ut[Zt]+3*(1-sr)*bmPow(sr,2)*Kt[Zt]+bmPow(sr,3)*kt[Zt],rr[Zt]=nr,lr[Zt]!==null&&(ir+=bmPow(rr[Zt]-lr[Zt],2)),lr[Zt]=rr[Zt];ir&&(ir=bmSqrt(ir),ar+=ir),ur.percents[Wt]=sr,ur.lengths[Wt]=ar}return ur.addedLength=ar,ur}}();function St(Ft){var kt=segmentsLengthPool.newElement(),Ut=Ft.c,Kt=Ft.v,tr=Ft.o,Wt=Ft.i,Zt,Ht=Ft._length,nr=kt.lengths,sr=0;for(Zt=0;Zt<Ht-1;Zt+=1)nr[Zt]=vt(Kt[Zt],Kt[Zt+1],tr[Zt],Wt[Zt+1]),sr+=nr[Zt].addedLength;return Ut&&Ht&&(nr[Zt]=vt(Kt[Zt],Kt[0],tr[Zt],Wt[0]),sr+=nr[Zt].addedLength),kt.totalLength=sr,kt}function Et(Ft){this.segmentLength=0,this.points=new Array(Ft)}function At(Ft,kt){this.partialLength=Ft,this.point=kt}var Ct=function(){var Ft={};return function(kt,Ut,Kt,tr){var Wt=(kt[0]+"_"+kt[1]+"_"+Ut[0]+"_"+Ut[1]+"_"+Kt[0]+"_"+Kt[1]+"_"+tr[0]+"_"+tr[1]).replace(/\./g,"p");if(!Ft[Wt]){var Zt=getDefaultCurveSegments(),Ht,nr,sr,ar,ir,rr=0,lr,ur,dr=null;kt.length===2&&(kt[0]!==Ut[0]||kt[1]!==Ut[1])&&lt(kt[0],kt[1],Ut[0],Ut[1],kt[0]+Kt[0],kt[1]+Kt[1])&&lt(kt[0],kt[1],Ut[0],Ut[1],Ut[0]+tr[0],Ut[1]+tr[1])&&(Zt=2);var mr=new Et(Zt);for(sr=Kt.length,Ht=0;Ht<Zt;Ht+=1){for(ur=createSizedArray(sr),ir=Ht/(Zt-1),lr=0,nr=0;nr<sr;nr+=1)ar=bmPow(1-ir,3)*kt[nr]+3*bmPow(1-ir,2)*ir*(kt[nr]+Kt[nr])+3*(1-ir)*bmPow(ir,2)*(Ut[nr]+tr[nr])+bmPow(ir,3)*Ut[nr],ur[nr]=ar,dr!==null&&(lr+=bmPow(ur[nr]-dr[nr],2));lr=bmSqrt(lr),rr+=lr,mr.points[Ht]=new At(lr,ur),dr=ur}mr.segmentLength=rr,Ft[Wt]=mr}return Ft[Wt]}}();function Tt(Ft,kt){var Ut=kt.percents,Kt=kt.lengths,tr=Ut.length,Wt=bmFloor((tr-1)*Ft),Zt=Ft*kt.addedLength,Ht=0;if(Wt===tr-1||Wt===0||Zt===Kt[Wt])return Ut[Wt];for(var nr=Kt[Wt]>Zt?-1:1,sr=!0;sr;)if(Kt[Wt]<=Zt&&Kt[Wt+1]>Zt?(Ht=(Zt-Kt[Wt])/(Kt[Wt+1]-Kt[Wt]),sr=!1):Wt+=nr,Wt<0||Wt>=tr-1){if(Wt===tr-1)return Ut[Wt];sr=!1}return Ut[Wt]+(Ut[Wt+1]-Ut[Wt])*Ht}function Rt(Ft,kt,Ut,Kt,tr,Wt){var Zt=Tt(tr,Wt),Ht=1-Zt,nr=ft.round((Ht*Ht*Ht*Ft[0]+(Zt*Ht*Ht+Ht*Zt*Ht+Ht*Ht*Zt)*Ut[0]+(Zt*Zt*Ht+Ht*Zt*Zt+Zt*Ht*Zt)*Kt[0]+Zt*Zt*Zt*kt[0])*1e3)/1e3,sr=ft.round((Ht*Ht*Ht*Ft[1]+(Zt*Ht*Ht+Ht*Zt*Ht+Ht*Ht*Zt)*Ut[1]+(Zt*Zt*Ht+Ht*Zt*Zt+Zt*Ht*Zt)*Kt[1]+Zt*Zt*Zt*kt[1])*1e3)/1e3;return[nr,sr]}var Bt=createTypedArray("float32",8);function Dt(Ft,kt,Ut,Kt,tr,Wt,Zt){tr<0?tr=0:tr>1&&(tr=1);var Ht=Tt(tr,Zt);Wt=Wt>1?1:Wt;var nr=Tt(Wt,Zt),sr,ar=Ft.length,ir=1-Ht,rr=1-nr,lr=ir*ir*ir,ur=Ht*ir*ir*3,dr=Ht*Ht*ir*3,mr=Ht*Ht*Ht,Cr=ir*ir*rr,yr=Ht*ir*rr+ir*Ht*rr+ir*ir*nr,xr=Ht*Ht*rr+ir*Ht*nr+Ht*ir*nr,Sr=Ht*Ht*nr,br=ir*rr*rr,cr=Ht*rr*rr+ir*nr*rr+ir*rr*nr,pr=Ht*nr*rr+ir*nr*nr+Ht*rr*nr,Er=Ht*nr*nr,_r=rr*rr*rr,Ar=nr*rr*rr+rr*nr*rr+rr*rr*nr,Pr=nr*nr*rr+rr*nr*nr+nr*rr*nr,Ir=nr*nr*nr;for(sr=0;sr<ar;sr+=1)Bt[sr*4]=ft.round((lr*Ft[sr]+ur*Ut[sr]+dr*Kt[sr]+mr*kt[sr])*1e3)/1e3,Bt[sr*4+1]=ft.round((Cr*Ft[sr]+yr*Ut[sr]+xr*Kt[sr]+Sr*kt[sr])*1e3)/1e3,Bt[sr*4+2]=ft.round((br*Ft[sr]+cr*Ut[sr]+pr*Kt[sr]+Er*kt[sr])*1e3)/1e3,Bt[sr*4+3]=ft.round((_r*Ft[sr]+Ar*Ut[sr]+Pr*Kt[sr]+Ir*kt[sr])*1e3)/1e3;return Bt}return{getSegmentsLength:St,getNewSegment:Dt,getPointInSegment:Rt,buildBezierData:Ct,pointOnLine2D:lt,pointOnLine3D:dt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(ft,lt){var dt=this.offsetTime,vt;this.propType==="multidimensional"&&(vt=createTypedArray("float32",this.pv.length));for(var St=lt.lastIndex,Et=St,At=this.keyframes.length-1,Ct=!0,Tt,Rt,Bt;Ct;){if(Tt=this.keyframes[Et],Rt=this.keyframes[Et+1],Et===At-1&&ft>=Rt.t-dt){Tt.h&&(Tt=Rt),St=0;break}if(Rt.t-dt>ft){St=Et;break}Et<At-1?Et+=1:(St=0,Ct=!1)}Bt=this.keyframesMetadata[Et]||{};var Dt,Ft,kt,Ut,Kt,tr,Wt=Rt.t-dt,Zt=Tt.t-dt,Ht;if(Tt.to){Bt.bezierData||(Bt.bezierData=bez.buildBezierData(Tt.s,Rt.s||Tt.e,Tt.to,Tt.ti));var nr=Bt.bezierData;if(ft>=Wt||ft<Zt){var sr=ft>=Wt?nr.points.length-1:0;for(Ft=nr.points[sr].point.length,Dt=0;Dt<Ft;Dt+=1)vt[Dt]=nr.points[sr].point[Dt]}else{Bt.__fnct?tr=Bt.__fnct:(tr=BezierFactory.getBezierEasing(Tt.o.x,Tt.o.y,Tt.i.x,Tt.i.y,Tt.n).get,Bt.__fnct=tr),kt=tr((ft-Zt)/(Wt-Zt));var ar=nr.segmentLength*kt,ir,rr=lt.lastFrame<ft&&lt._lastKeyframeIndex===Et?lt._lastAddedLength:0;for(Kt=lt.lastFrame<ft&&lt._lastKeyframeIndex===Et?lt._lastPoint:0,Ct=!0,Ut=nr.points.length;Ct;){if(rr+=nr.points[Kt].partialLength,ar===0||kt===0||Kt===nr.points.length-1){for(Ft=nr.points[Kt].point.length,Dt=0;Dt<Ft;Dt+=1)vt[Dt]=nr.points[Kt].point[Dt];break}else if(ar>=rr&&ar<rr+nr.points[Kt+1].partialLength){for(ir=(ar-rr)/nr.points[Kt+1].partialLength,Ft=nr.points[Kt].point.length,Dt=0;Dt<Ft;Dt+=1)vt[Dt]=nr.points[Kt].point[Dt]+(nr.points[Kt+1].point[Dt]-nr.points[Kt].point[Dt])*ir;break}Kt<Ut-1?Kt+=1:Ct=!1}lt._lastPoint=Kt,lt._lastAddedLength=rr-nr.points[Kt].partialLength,lt._lastKeyframeIndex=Et}}else{var lr,ur,dr,mr,Cr;if(At=Tt.s.length,Ht=Rt.s||Tt.e,this.sh&&Tt.h!==1)if(ft>=Wt)vt[0]=Ht[0],vt[1]=Ht[1],vt[2]=Ht[2];else if(ft<=Zt)vt[0]=Tt.s[0],vt[1]=Tt.s[1],vt[2]=Tt.s[2];else{var yr=createQuaternion(Tt.s),xr=createQuaternion(Ht),Sr=(ft-Zt)/(Wt-Zt);quaternionToEuler(vt,slerp(yr,xr,Sr))}else for(Et=0;Et<At;Et+=1)Tt.h!==1&&(ft>=Wt?kt=1:ft<Zt?kt=0:(Tt.o.x.constructor===Array?(Bt.__fnct||(Bt.__fnct=[]),Bt.__fnct[Et]?tr=Bt.__fnct[Et]:(lr=Tt.o.x[Et]===void 0?Tt.o.x[0]:Tt.o.x[Et],ur=Tt.o.y[Et]===void 0?Tt.o.y[0]:Tt.o.y[Et],dr=Tt.i.x[Et]===void 0?Tt.i.x[0]:Tt.i.x[Et],mr=Tt.i.y[Et]===void 0?Tt.i.y[0]:Tt.i.y[Et],tr=BezierFactory.getBezierEasing(lr,ur,dr,mr).get,Bt.__fnct[Et]=tr)):Bt.__fnct?tr=Bt.__fnct:(lr=Tt.o.x,ur=Tt.o.y,dr=Tt.i.x,mr=Tt.i.y,tr=BezierFactory.getBezierEasing(lr,ur,dr,mr).get,Tt.keyframeMetadata=tr),kt=tr((ft-Zt)/(Wt-Zt)))),Ht=Rt.s||Tt.e,Cr=Tt.h===1?Tt.s[Et]:Tt.s[Et]+(Ht[Et]-Tt.s[Et])*kt,this.propType==="multidimensional"?vt[Et]=Cr:vt=Cr}return lt.lastIndex=St,vt}function slerp(ft,lt,dt){var vt=[],St=ft[0],Et=ft[1],At=ft[2],Ct=ft[3],Tt=lt[0],Rt=lt[1],Bt=lt[2],Dt=lt[3],Ft,kt,Ut,Kt,tr;return kt=St*Tt+Et*Rt+At*Bt+Ct*Dt,kt<0&&(kt=-kt,Tt=-Tt,Rt=-Rt,Bt=-Bt,Dt=-Dt),1-kt>1e-6?(Ft=Math.acos(kt),Ut=Math.sin(Ft),Kt=Math.sin((1-dt)*Ft)/Ut,tr=Math.sin(dt*Ft)/Ut):(Kt=1-dt,tr=dt),vt[0]=Kt*St+tr*Tt,vt[1]=Kt*Et+tr*Rt,vt[2]=Kt*At+tr*Bt,vt[3]=Kt*Ct+tr*Dt,vt}function quaternionToEuler(ft,lt){var dt=lt[0],vt=lt[1],St=lt[2],Et=lt[3],At=Math.atan2(2*vt*Et-2*dt*St,1-2*vt*vt-2*St*St),Ct=Math.asin(2*dt*vt+2*St*Et),Tt=Math.atan2(2*dt*Et-2*vt*St,1-2*dt*dt-2*St*St);ft[0]=At/degToRads,ft[1]=Ct/degToRads,ft[2]=Tt/degToRads}function createQuaternion(ft){var lt=ft[0]*degToRads,dt=ft[1]*degToRads,vt=ft[2]*degToRads,St=Math.cos(lt/2),Et=Math.cos(dt/2),At=Math.cos(vt/2),Ct=Math.sin(lt/2),Tt=Math.sin(dt/2),Rt=Math.sin(vt/2),Bt=St*Et*At-Ct*Tt*Rt,Dt=Ct*Tt*At+St*Et*Rt,Ft=Ct*Et*At+St*Tt*Rt,kt=St*Tt*At-Ct*Et*Rt;return[Dt,Ft,kt,Bt]}function getValueAtCurrentTime(){var ft=this.comp.renderedFrame-this.offsetTime,lt=this.keyframes[0].t-this.offsetTime,dt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(ft===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=dt&&ft>=dt||this._caching.lastFrame<lt&&ft<lt))){this._caching.lastFrame>=ft&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var vt=this.interpolateValue(ft,this._caching);this.pv=vt}return this._caching.lastFrame=ft,this.pv}function setVValue(ft){var lt;if(this.propType==="unidimensional")lt=ft*this.mult,mathAbs(this.v-lt)>1e-5&&(this.v=lt,this._mdf=!0);else for(var dt=0,vt=this.v.length;dt<vt;)lt=ft[dt]*this.mult,mathAbs(this.v[dt]-lt)>1e-5&&(this.v[dt]=lt,this._mdf=!0),dt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var ft,lt=this.effectsSequence.length,dt=this.kf?this.pv:this.data.k;for(ft=0;ft<lt;ft+=1)dt=this.effectsSequence[ft](dt);this.setVValue(dt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(ft){this.effectsSequence.push(ft),this.container.addDynamicProperty(this)}function ValueProperty(ft,lt,dt,vt){this.propType="unidimensional",this.mult=dt||1,this.data=lt,this.v=dt?lt.k*dt:lt.k,this.pv=lt.k,this._mdf=!1,this.elem=ft,this.container=vt,this.comp=ft.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(ft,lt,dt,vt){this.propType="multidimensional",this.mult=dt||1,this.data=lt,this._mdf=!1,this.elem=ft,this.container=vt,this.comp=ft.comp,this.k=!1,this.kf=!1,this.frameId=-1;var St,Et=lt.k.length;for(this.v=createTypedArray("float32",Et),this.pv=createTypedArray("float32",Et),this.vel=createTypedArray("float32",Et),St=0;St<Et;St+=1)this.v[St]=lt.k[St]*this.mult,this.pv[St]=lt.k[St];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(ft,lt,dt,vt){this.propType="unidimensional",this.keyframes=lt.k,this.keyframesMetadata=[],this.offsetTime=ft.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=lt,this.mult=dt||1,this.elem=ft,this.container=vt,this.comp=ft.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(ft,lt,dt,vt){this.propType="multidimensional";var St,Et=lt.k.length,At,Ct,Tt,Rt;for(St=0;St<Et-1;St+=1)lt.k[St].to&&lt.k[St].s&&lt.k[St+1]&&lt.k[St+1].s&&(At=lt.k[St].s,Ct=lt.k[St+1].s,Tt=lt.k[St].to,Rt=lt.k[St].ti,(At.length===2&&!(At[0]===Ct[0]&&At[1]===Ct[1])&&bez.pointOnLine2D(At[0],At[1],Ct[0],Ct[1],At[0]+Tt[0],At[1]+Tt[1])&&bez.pointOnLine2D(At[0],At[1],Ct[0],Ct[1],Ct[0]+Rt[0],Ct[1]+Rt[1])||At.length===3&&!(At[0]===Ct[0]&&At[1]===Ct[1]&&At[2]===Ct[2])&&bez.pointOnLine3D(At[0],At[1],At[2],Ct[0],Ct[1],Ct[2],At[0]+Tt[0],At[1]+Tt[1],At[2]+Tt[2])&&bez.pointOnLine3D(At[0],At[1],At[2],Ct[0],Ct[1],Ct[2],Ct[0]+Rt[0],Ct[1]+Rt[1],Ct[2]+Rt[2]))&&(lt.k[St].to=null,lt.k[St].ti=null),At[0]===Ct[0]&&At[1]===Ct[1]&&Tt[0]===0&&Tt[1]===0&&Rt[0]===0&&Rt[1]===0&&(At.length===2||At[2]===Ct[2]&&Tt[2]===0&&Rt[2]===0)&&(lt.k[St].to=null,lt.k[St].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=lt,this.keyframes=lt.k,this.keyframesMetadata=[],this.offsetTime=ft.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=dt||1,this.elem=ft,this.container=vt,this.comp=ft.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Bt=lt.k[0].s.length;for(this.v=createTypedArray("float32",Bt),this.pv=createTypedArray("float32",Bt),St=0;St<Bt;St+=1)this.v[St]=initFrame,this.pv[St]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Bt)},this.addEffect=addEffect}var PropertyFactory=function(){function ft(dt,vt,St,Et,At){vt.sid&&(vt=dt.globalData.slotManager.getProp(vt));var Ct;if(!vt.k.length)Ct=new ValueProperty(dt,vt,Et,At);else if(typeof vt.k[0]=="number")Ct=new MultiDimensionalProperty(dt,vt,Et,At);else switch(St){case 0:Ct=new KeyframedValueProperty(dt,vt,Et,At);break;case 1:Ct=new KeyframedMultidimensionalProperty(dt,vt,Et,At);break}return Ct.effectsSequence.length&&At.addDynamicProperty(Ct),Ct}var lt={getProp:ft};return lt}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(lt){this.dynamicProperties.indexOf(lt)===-1&&(this.dynamicProperties.push(lt),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var lt,dt=this.dynamicProperties.length;for(lt=0;lt<dt;lt+=1)this.dynamicProperties[lt].getValue(),this.dynamicProperties[lt]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(lt){this.container=lt,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function ft(){return createTypedArray("float32",2)}return poolFactory(8,ft)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(ft,lt){this.c=ft,this.setLength(lt);for(var dt=0;dt<lt;)this.v[dt]=pointPool.newElement(),this.o[dt]=pointPool.newElement(),this.i[dt]=pointPool.newElement(),dt+=1},ShapePath.prototype.setLength=function(ft){for(;this._maxLength<ft;)this.doubleArrayLength();this._length=ft},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(ft,lt,dt,vt,St){var Et;switch(this._length=Math.max(this._length,vt+1),this._length>=this._maxLength&&this.doubleArrayLength(),dt){case"v":Et=this.v;break;case"i":Et=this.i;break;case"o":Et=this.o;break;default:Et=[];break}(!Et[vt]||Et[vt]&&!St)&&(Et[vt]=pointPool.newElement()),Et[vt][0]=ft,Et[vt][1]=lt},ShapePath.prototype.setTripleAt=function(ft,lt,dt,vt,St,Et,At,Ct){this.setXYAt(ft,lt,"v",At,Ct),this.setXYAt(dt,vt,"o",At,Ct),this.setXYAt(St,Et,"i",At,Ct)},ShapePath.prototype.reverse=function(){var ft=new ShapePath;ft.setPathData(this.c,this._length);var lt=this.v,dt=this.o,vt=this.i,St=0;this.c&&(ft.setTripleAt(lt[0][0],lt[0][1],vt[0][0],vt[0][1],dt[0][0],dt[0][1],0,!1),St=1);var Et=this._length-1,At=this._length,Ct;for(Ct=St;Ct<At;Ct+=1)ft.setTripleAt(lt[Et][0],lt[Et][1],vt[Et][0],vt[Et][1],dt[Et][0],dt[Et][1],Ct,!1),Et-=1;return ft},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function ft(){return new ShapePath}function lt(St){var Et=St._length,At;for(At=0;At<Et;At+=1)pointPool.release(St.v[At]),pointPool.release(St.i[At]),pointPool.release(St.o[At]),St.v[At]=null,St.i[At]=null,St.o[At]=null;St._length=0,St.c=!1}function dt(St){var Et=vt.newElement(),At,Ct=St._length===void 0?St.v.length:St._length;for(Et.setLength(Ct),Et.c=St.c,At=0;At<Ct;At+=1)Et.setTripleAt(St.v[At][0],St.v[At][1],St.o[At][0],St.o[At][1],St.i[At][0],St.i[At][1],At);return Et}var vt=poolFactory(4,ft,lt);return vt.clone=dt,vt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(ft){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=ft,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var ft;for(ft=0;ft<this._length;ft+=1)shapePool.release(this.shapes[ft]);this._length=0};var shapeCollectionPool=function(){var ft={newShapeCollection:St,release:Et},lt=0,dt=4,vt=createSizedArray(dt);function St(){var At;return lt?(lt-=1,At=vt[lt]):At=new ShapeCollection,At}function Et(At){var Ct,Tt=At._length;for(Ct=0;Ct<Tt;Ct+=1)shapePool.release(At.shapes[Ct]);At._length=0,lt===dt&&(vt=pooling.double(vt),dt*=2),vt[lt]=At,lt+=1}return ft}(),ShapePropertyFactory=function(){var ft=-999999;function lt(Wt,Zt,Ht){var nr=Ht.lastIndex,sr,ar,ir,rr,lr,ur,dr,mr,Cr,yr=this.keyframes;if(Wt<yr[0].t-this.offsetTime)sr=yr[0].s[0],ir=!0,nr=0;else if(Wt>=yr[yr.length-1].t-this.offsetTime)sr=yr[yr.length-1].s?yr[yr.length-1].s[0]:yr[yr.length-2].e[0],ir=!0;else{for(var xr=nr,Sr=yr.length-1,br=!0,cr,pr,Er;br&&(cr=yr[xr],pr=yr[xr+1],!(pr.t-this.offsetTime>Wt));)xr<Sr-1?xr+=1:br=!1;if(Er=this.keyframesMetadata[xr]||{},ir=cr.h===1,nr=xr,!ir){if(Wt>=pr.t-this.offsetTime)mr=1;else if(Wt<cr.t-this.offsetTime)mr=0;else{var _r;Er.__fnct?_r=Er.__fnct:(_r=BezierFactory.getBezierEasing(cr.o.x,cr.o.y,cr.i.x,cr.i.y).get,Er.__fnct=_r),mr=_r((Wt-(cr.t-this.offsetTime))/(pr.t-this.offsetTime-(cr.t-this.offsetTime)))}ar=pr.s?pr.s[0]:cr.e[0]}sr=cr.s[0]}for(ur=Zt._length,dr=sr.i[0].length,Ht.lastIndex=nr,rr=0;rr<ur;rr+=1)for(lr=0;lr<dr;lr+=1)Cr=ir?sr.i[rr][lr]:sr.i[rr][lr]+(ar.i[rr][lr]-sr.i[rr][lr])*mr,Zt.i[rr][lr]=Cr,Cr=ir?sr.o[rr][lr]:sr.o[rr][lr]+(ar.o[rr][lr]-sr.o[rr][lr])*mr,Zt.o[rr][lr]=Cr,Cr=ir?sr.v[rr][lr]:sr.v[rr][lr]+(ar.v[rr][lr]-sr.v[rr][lr])*mr,Zt.v[rr][lr]=Cr}function dt(){var Wt=this.comp.renderedFrame-this.offsetTime,Zt=this.keyframes[0].t-this.offsetTime,Ht=this.keyframes[this.keyframes.length-1].t-this.offsetTime,nr=this._caching.lastFrame;return nr!==ft&&(nr<Zt&&Wt<Zt||nr>Ht&&Wt>Ht)||(this._caching.lastIndex=nr<Wt?this._caching.lastIndex:0,this.interpolateShape(Wt,this.pv,this._caching)),this._caching.lastFrame=Wt,this.pv}function vt(){this.paths=this.localShapeCollection}function St(Wt,Zt){if(Wt._length!==Zt._length||Wt.c!==Zt.c)return!1;var Ht,nr=Wt._length;for(Ht=0;Ht<nr;Ht+=1)if(Wt.v[Ht][0]!==Zt.v[Ht][0]||Wt.v[Ht][1]!==Zt.v[Ht][1]||Wt.o[Ht][0]!==Zt.o[Ht][0]||Wt.o[Ht][1]!==Zt.o[Ht][1]||Wt.i[Ht][0]!==Zt.i[Ht][0]||Wt.i[Ht][1]!==Zt.i[Ht][1])return!1;return!0}function Et(Wt){St(this.v,Wt)||(this.v=shapePool.clone(Wt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function At(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Wt;this.kf?Wt=this.pv:this.data.ks?Wt=this.data.ks.k:Wt=this.data.pt.k;var Zt,Ht=this.effectsSequence.length;for(Zt=0;Zt<Ht;Zt+=1)Wt=this.effectsSequence[Zt](Wt);this.setVValue(Wt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ct(Wt,Zt,Ht){this.propType="shape",this.comp=Wt.comp,this.container=Wt,this.elem=Wt,this.data=Zt,this.k=!1,this.kf=!1,this._mdf=!1;var nr=Ht===3?Zt.pt.k:Zt.ks.k;this.v=shapePool.clone(nr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=vt,this.effectsSequence=[]}function Tt(Wt){this.effectsSequence.push(Wt),this.container.addDynamicProperty(this)}Ct.prototype.interpolateShape=lt,Ct.prototype.getValue=At,Ct.prototype.setVValue=Et,Ct.prototype.addEffect=Tt;function Rt(Wt,Zt,Ht){this.propType="shape",this.comp=Wt.comp,this.elem=Wt,this.container=Wt,this.offsetTime=Wt.data.st,this.keyframes=Ht===3?Zt.pt.k:Zt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var nr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,nr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=ft,this.reset=vt,this._caching={lastFrame:ft,lastIndex:0},this.effectsSequence=[dt.bind(this)]}Rt.prototype.getValue=At,Rt.prototype.interpolateShape=lt,Rt.prototype.setVValue=Et,Rt.prototype.addEffect=Tt;var Bt=function(){var Wt=roundCorner;function Zt(Ht,nr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=nr.d,this.elem=Ht,this.comp=Ht.comp,this.frameId=-1,this.initDynamicPropertyContainer(Ht),this.p=PropertyFactory.getProp(Ht,nr.p,1,0,this),this.s=PropertyFactory.getProp(Ht,nr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Zt.prototype={reset:vt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var nr=this.p.v[0],sr=this.p.v[1],ar=this.s.v[0]/2,ir=this.s.v[1]/2,rr=this.d!==3,lr=this.v;lr.v[0][0]=nr,lr.v[0][1]=sr-ir,lr.v[1][0]=rr?nr+ar:nr-ar,lr.v[1][1]=sr,lr.v[2][0]=nr,lr.v[2][1]=sr+ir,lr.v[3][0]=rr?nr-ar:nr+ar,lr.v[3][1]=sr,lr.i[0][0]=rr?nr-ar*Wt:nr+ar*Wt,lr.i[0][1]=sr-ir,lr.i[1][0]=rr?nr+ar:nr-ar,lr.i[1][1]=sr-ir*Wt,lr.i[2][0]=rr?nr+ar*Wt:nr-ar*Wt,lr.i[2][1]=sr+ir,lr.i[3][0]=rr?nr-ar:nr+ar,lr.i[3][1]=sr+ir*Wt,lr.o[0][0]=rr?nr+ar*Wt:nr-ar*Wt,lr.o[0][1]=sr-ir,lr.o[1][0]=rr?nr+ar:nr-ar,lr.o[1][1]=sr+ir*Wt,lr.o[2][0]=rr?nr-ar*Wt:nr+ar*Wt,lr.o[2][1]=sr+ir,lr.o[3][0]=rr?nr-ar:nr+ar,lr.o[3][1]=sr-ir*Wt}},extendPrototype([DynamicPropertyContainer],Zt),Zt}(),Dt=function(){function Wt(Zt,Ht){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Zt,this.comp=Zt.comp,this.data=Ht,this.frameId=-1,this.d=Ht.d,this.initDynamicPropertyContainer(Zt),Ht.sy===1?(this.ir=PropertyFactory.getProp(Zt,Ht.ir,0,0,this),this.is=PropertyFactory.getProp(Zt,Ht.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Zt,Ht.pt,0,0,this),this.p=PropertyFactory.getProp(Zt,Ht.p,1,0,this),this.r=PropertyFactory.getProp(Zt,Ht.r,0,degToRads,this),this.or=PropertyFactory.getProp(Zt,Ht.or,0,0,this),this.os=PropertyFactory.getProp(Zt,Ht.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Wt.prototype={reset:vt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Ht=Math.floor(this.pt.v)*2,nr=Math.PI*2/Ht,sr=!0,ar=this.or.v,ir=this.ir.v,rr=this.os.v,lr=this.is.v,ur=2*Math.PI*ar/(Ht*2),dr=2*Math.PI*ir/(Ht*2),mr,Cr,yr,xr,Sr=-Math.PI/2;Sr+=this.r.v;var br=this.data.d===3?-1:1;for(this.v._length=0,mr=0;mr<Ht;mr+=1){Cr=sr?ar:ir,yr=sr?rr:lr,xr=sr?ur:dr;var cr=Cr*Math.cos(Sr),pr=Cr*Math.sin(Sr),Er=cr===0&&pr===0?0:pr/Math.sqrt(cr*cr+pr*pr),_r=cr===0&&pr===0?0:-cr/Math.sqrt(cr*cr+pr*pr);cr+=+this.p.v[0],pr+=+this.p.v[1],this.v.setTripleAt(cr,pr,cr-Er*xr*yr*br,pr-_r*xr*yr*br,cr+Er*xr*yr*br,pr+_r*xr*yr*br,mr,!0),sr=!sr,Sr+=nr*br}},convertPolygonToPath:function(){var Ht=Math.floor(this.pt.v),nr=Math.PI*2/Ht,sr=this.or.v,ar=this.os.v,ir=2*Math.PI*sr/(Ht*4),rr,lr=-Math.PI*.5,ur=this.data.d===3?-1:1;for(lr+=this.r.v,this.v._length=0,rr=0;rr<Ht;rr+=1){var dr=sr*Math.cos(lr),mr=sr*Math.sin(lr),Cr=dr===0&&mr===0?0:mr/Math.sqrt(dr*dr+mr*mr),yr=dr===0&&mr===0?0:-dr/Math.sqrt(dr*dr+mr*mr);dr+=+this.p.v[0],mr+=+this.p.v[1],this.v.setTripleAt(dr,mr,dr-Cr*ir*ar*ur,mr-yr*ir*ar*ur,dr+Cr*ir*ar*ur,mr+yr*ir*ar*ur,rr,!0),lr+=nr*ur}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Wt),Wt}(),Ft=function(){function Wt(Zt,Ht){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Zt,this.comp=Zt.comp,this.frameId=-1,this.d=Ht.d,this.initDynamicPropertyContainer(Zt),this.p=PropertyFactory.getProp(Zt,Ht.p,1,0,this),this.s=PropertyFactory.getProp(Zt,Ht.s,1,0,this),this.r=PropertyFactory.getProp(Zt,Ht.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Wt.prototype={convertRectToPath:function(){var Ht=this.p.v[0],nr=this.p.v[1],sr=this.s.v[0]/2,ar=this.s.v[1]/2,ir=bmMin(sr,ar,this.r.v),rr=ir*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Ht+sr,nr-ar+ir,Ht+sr,nr-ar+ir,Ht+sr,nr-ar+rr,0,!0),this.v.setTripleAt(Ht+sr,nr+ar-ir,Ht+sr,nr+ar-rr,Ht+sr,nr+ar-ir,1,!0),ir!==0?(this.v.setTripleAt(Ht+sr-ir,nr+ar,Ht+sr-ir,nr+ar,Ht+sr-rr,nr+ar,2,!0),this.v.setTripleAt(Ht-sr+ir,nr+ar,Ht-sr+rr,nr+ar,Ht-sr+ir,nr+ar,3,!0),this.v.setTripleAt(Ht-sr,nr+ar-ir,Ht-sr,nr+ar-ir,Ht-sr,nr+ar-rr,4,!0),this.v.setTripleAt(Ht-sr,nr-ar+ir,Ht-sr,nr-ar+rr,Ht-sr,nr-ar+ir,5,!0),this.v.setTripleAt(Ht-sr+ir,nr-ar,Ht-sr+ir,nr-ar,Ht-sr+rr,nr-ar,6,!0),this.v.setTripleAt(Ht+sr-ir,nr-ar,Ht+sr-rr,nr-ar,Ht+sr-ir,nr-ar,7,!0)):(this.v.setTripleAt(Ht-sr,nr+ar,Ht-sr+rr,nr+ar,Ht-sr,nr+ar,2),this.v.setTripleAt(Ht-sr,nr-ar,Ht-sr,nr-ar+rr,Ht-sr,nr-ar,3))):(this.v.setTripleAt(Ht+sr,nr-ar+ir,Ht+sr,nr-ar+rr,Ht+sr,nr-ar+ir,0,!0),ir!==0?(this.v.setTripleAt(Ht+sr-ir,nr-ar,Ht+sr-ir,nr-ar,Ht+sr-rr,nr-ar,1,!0),this.v.setTripleAt(Ht-sr+ir,nr-ar,Ht-sr+rr,nr-ar,Ht-sr+ir,nr-ar,2,!0),this.v.setTripleAt(Ht-sr,nr-ar+ir,Ht-sr,nr-ar+ir,Ht-sr,nr-ar+rr,3,!0),this.v.setTripleAt(Ht-sr,nr+ar-ir,Ht-sr,nr+ar-rr,Ht-sr,nr+ar-ir,4,!0),this.v.setTripleAt(Ht-sr+ir,nr+ar,Ht-sr+ir,nr+ar,Ht-sr+rr,nr+ar,5,!0),this.v.setTripleAt(Ht+sr-ir,nr+ar,Ht+sr-rr,nr+ar,Ht+sr-ir,nr+ar,6,!0),this.v.setTripleAt(Ht+sr,nr+ar-ir,Ht+sr,nr+ar-ir,Ht+sr,nr+ar-rr,7,!0)):(this.v.setTripleAt(Ht-sr,nr-ar,Ht-sr+rr,nr-ar,Ht-sr,nr-ar,1,!0),this.v.setTripleAt(Ht-sr,nr+ar,Ht-sr,nr+ar-rr,Ht-sr,nr+ar,2,!0),this.v.setTripleAt(Ht+sr,nr+ar,Ht+sr-rr,nr+ar,Ht+sr,nr+ar,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:vt},extendPrototype([DynamicPropertyContainer],Wt),Wt}();function kt(Wt,Zt,Ht){var nr;if(Ht===3||Ht===4){var sr=Ht===3?Zt.pt:Zt.ks,ar=sr.k;ar.length?nr=new Rt(Wt,Zt,Ht):nr=new Ct(Wt,Zt,Ht)}else Ht===5?nr=new Ft(Wt,Zt):Ht===6?nr=new Bt(Wt,Zt):Ht===7&&(nr=new Dt(Wt,Zt));return nr.k&&Wt.addDynamicProperty(nr),nr}function Ut(){return Ct}function Kt(){return Rt}var tr={};return tr.getShapeProp=kt,tr.getConstructorFunction=Ut,tr.getKeyframedConstructorFunction=Kt,tr}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var ft=Math.cos,lt=Math.sin,dt=Math.tan,vt=Math.round;function St(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Et(cr){if(cr===0)return this;var pr=ft(cr),Er=lt(cr);return this._t(pr,-Er,0,0,Er,pr,0,0,0,0,1,0,0,0,0,1)}function At(cr){if(cr===0)return this;var pr=ft(cr),Er=lt(cr);return this._t(1,0,0,0,0,pr,-Er,0,0,Er,pr,0,0,0,0,1)}function Ct(cr){if(cr===0)return this;var pr=ft(cr),Er=lt(cr);return this._t(pr,0,Er,0,0,1,0,0,-Er,0,pr,0,0,0,0,1)}function Tt(cr){if(cr===0)return this;var pr=ft(cr),Er=lt(cr);return this._t(pr,-Er,0,0,Er,pr,0,0,0,0,1,0,0,0,0,1)}function Rt(cr,pr){return this._t(1,pr,cr,1,0,0)}function Bt(cr,pr){return this.shear(dt(cr),dt(pr))}function Dt(cr,pr){var Er=ft(pr),_r=lt(pr);return this._t(Er,_r,0,0,-_r,Er,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,dt(cr),1,0,0,0,0,1,0,0,0,0,1)._t(Er,-_r,0,0,_r,Er,0,0,0,0,1,0,0,0,0,1)}function Ft(cr,pr,Er){return!Er&&Er!==0&&(Er=1),cr===1&&pr===1&&Er===1?this:this._t(cr,0,0,0,0,pr,0,0,0,0,Er,0,0,0,0,1)}function kt(cr,pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or,jr,Nr,Vr,Br,zr){return this.props[0]=cr,this.props[1]=pr,this.props[2]=Er,this.props[3]=_r,this.props[4]=Ar,this.props[5]=Pr,this.props[6]=Ir,this.props[7]=kr,this.props[8]=Dr,this.props[9]=Jr,this.props[10]=Or,this.props[11]=jr,this.props[12]=Nr,this.props[13]=Vr,this.props[14]=Br,this.props[15]=zr,this}function Ut(cr,pr,Er){return Er=Er||0,cr!==0||pr!==0||Er!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,cr,pr,Er,1):this}function Kt(cr,pr,Er,_r,Ar,Pr,Ir,kr,Dr,Jr,Or,jr,Nr,Vr,Br,zr){var qr=this.props;if(cr===1&&pr===0&&Er===0&&_r===0&&Ar===0&&Pr===1&&Ir===0&&kr===0&&Dr===0&&Jr===0&&Or===1&&jr===0)return qr[12]=qr[12]*cr+qr[15]*Nr,qr[13]=qr[13]*Pr+qr[15]*Vr,qr[14]=qr[14]*Or+qr[15]*Br,qr[15]*=zr,this._identityCalculated=!1,this;var en=qr[0],cn=qr[1],Rn=qr[2],Qr=qr[3],yn=qr[4],Pn=qr[5],pn=qr[6],Fr=qr[7],Rr=qr[8],Yr=qr[9],fn=qr[10],Cn=qr[11],An=qr[12],Dn=qr[13],In=qr[14],mn=qr[15];return qr[0]=en*cr+cn*Ar+Rn*Dr+Qr*Nr,qr[1]=en*pr+cn*Pr+Rn*Jr+Qr*Vr,qr[2]=en*Er+cn*Ir+Rn*Or+Qr*Br,qr[3]=en*_r+cn*kr+Rn*jr+Qr*zr,qr[4]=yn*cr+Pn*Ar+pn*Dr+Fr*Nr,qr[5]=yn*pr+Pn*Pr+pn*Jr+Fr*Vr,qr[6]=yn*Er+Pn*Ir+pn*Or+Fr*Br,qr[7]=yn*_r+Pn*kr+pn*jr+Fr*zr,qr[8]=Rr*cr+Yr*Ar+fn*Dr+Cn*Nr,qr[9]=Rr*pr+Yr*Pr+fn*Jr+Cn*Vr,qr[10]=Rr*Er+Yr*Ir+fn*Or+Cn*Br,qr[11]=Rr*_r+Yr*kr+fn*jr+Cn*zr,qr[12]=An*cr+Dn*Ar+In*Dr+mn*Nr,qr[13]=An*pr+Dn*Pr+In*Jr+mn*Vr,qr[14]=An*Er+Dn*Ir+In*Or+mn*Br,qr[15]=An*_r+Dn*kr+In*jr+mn*zr,this._identityCalculated=!1,this}function tr(cr){var pr=cr.props;return this.transform(pr[0],pr[1],pr[2],pr[3],pr[4],pr[5],pr[6],pr[7],pr[8],pr[9],pr[10],pr[11],pr[12],pr[13],pr[14],pr[15])}function Wt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Zt(cr){for(var pr=0;pr<16;){if(cr.props[pr]!==this.props[pr])return!1;pr+=1}return!0}function Ht(cr){var pr;for(pr=0;pr<16;pr+=1)cr.props[pr]=this.props[pr];return cr}function nr(cr){var pr;for(pr=0;pr<16;pr+=1)this.props[pr]=cr[pr]}function sr(cr,pr,Er){return{x:cr*this.props[0]+pr*this.props[4]+Er*this.props[8]+this.props[12],y:cr*this.props[1]+pr*this.props[5]+Er*this.props[9]+this.props[13],z:cr*this.props[2]+pr*this.props[6]+Er*this.props[10]+this.props[14]}}function ar(cr,pr,Er){return cr*this.props[0]+pr*this.props[4]+Er*this.props[8]+this.props[12]}function ir(cr,pr,Er){return cr*this.props[1]+pr*this.props[5]+Er*this.props[9]+this.props[13]}function rr(cr,pr,Er){return cr*this.props[2]+pr*this.props[6]+Er*this.props[10]+this.props[14]}function lr(){var cr=this.props[0]*this.props[5]-this.props[1]*this.props[4],pr=this.props[5]/cr,Er=-this.props[1]/cr,_r=-this.props[4]/cr,Ar=this.props[0]/cr,Pr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/cr,Ir=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/cr,kr=new Matrix;return kr.props[0]=pr,kr.props[1]=Er,kr.props[4]=_r,kr.props[5]=Ar,kr.props[12]=Pr,kr.props[13]=Ir,kr}function ur(cr){var pr=this.getInverseMatrix();return pr.applyToPointArray(cr[0],cr[1],cr[2]||0)}function dr(cr){var pr,Er=cr.length,_r=[];for(pr=0;pr<Er;pr+=1)_r[pr]=ur(cr[pr]);return _r}function mr(cr,pr,Er){var _r=createTypedArray("float32",6);if(this.isIdentity())_r[0]=cr[0],_r[1]=cr[1],_r[2]=pr[0],_r[3]=pr[1],_r[4]=Er[0],_r[5]=Er[1];else{var Ar=this.props[0],Pr=this.props[1],Ir=this.props[4],kr=this.props[5],Dr=this.props[12],Jr=this.props[13];_r[0]=cr[0]*Ar+cr[1]*Ir+Dr,_r[1]=cr[0]*Pr+cr[1]*kr+Jr,_r[2]=pr[0]*Ar+pr[1]*Ir+Dr,_r[3]=pr[0]*Pr+pr[1]*kr+Jr,_r[4]=Er[0]*Ar+Er[1]*Ir+Dr,_r[5]=Er[0]*Pr+Er[1]*kr+Jr}return _r}function Cr(cr,pr,Er){var _r;return this.isIdentity()?_r=[cr,pr,Er]:_r=[cr*this.props[0]+pr*this.props[4]+Er*this.props[8]+this.props[12],cr*this.props[1]+pr*this.props[5]+Er*this.props[9]+this.props[13],cr*this.props[2]+pr*this.props[6]+Er*this.props[10]+this.props[14]],_r}function yr(cr,pr){if(this.isIdentity())return cr+","+pr;var Er=this.props;return Math.round((cr*Er[0]+pr*Er[4]+Er[12])*100)/100+","+Math.round((cr*Er[1]+pr*Er[5]+Er[13])*100)/100}function xr(){for(var cr=0,pr=this.props,Er="matrix3d(",_r=1e4;cr<16;)Er+=vt(pr[cr]*_r)/_r,Er+=cr===15?")":",",cr+=1;return Er}function Sr(cr){var pr=1e4;return cr<1e-6&&cr>0||cr>-1e-6&&cr<0?vt(cr*pr)/pr:cr}function br(){var cr=this.props,pr=Sr(cr[0]),Er=Sr(cr[1]),_r=Sr(cr[4]),Ar=Sr(cr[5]),Pr=Sr(cr[12]),Ir=Sr(cr[13]);return"matrix("+pr+","+Er+","+_r+","+Ar+","+Pr+","+Ir+")"}return function(){this.reset=St,this.rotate=Et,this.rotateX=At,this.rotateY=Ct,this.rotateZ=Tt,this.skew=Bt,this.skewFromAxis=Dt,this.shear=Rt,this.scale=Ft,this.setTransform=kt,this.translate=Ut,this.transform=Kt,this.multiply=tr,this.applyToPoint=sr,this.applyToX=ar,this.applyToY=ir,this.applyToZ=rr,this.applyToPointArray=Cr,this.applyToTriplePoints=mr,this.applyToPointStringified=yr,this.toCSS=xr,this.to2dCSS=br,this.clone=Ht,this.cloneFromProps=nr,this.equals=Zt,this.inversePoints=dr,this.inversePoint=ur,this.getInverseMatrix=lr,this._t=this.transform,this.isIdentity=Wt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(dt){return typeof dt}:_typeof$3=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof$3(ft)}var lottie={};function setLocation(ft){setLocationHref(ft)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(ft){setSubframeEnabled(ft)}function setPrefix(ft){setIdPrefix(ft)}function loadAnimation(ft){return animationManager.loadAnimation(ft)}function setQuality(ft){if(typeof ft=="string")switch(ft){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(ft)&&ft>1&&setDefaultCurveSegments(ft)}function inBrowser(){return typeof navigator<"u"}function installPlugin(ft,lt){ft==="expressions"&&setExpressionsPlugin(lt)}function getFactory(ft){switch(ft){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(ft){for(var lt=queryString.split("&"),dt=0;dt<lt.length;dt+=1){var vt=lt[dt].split("=");if(decodeURIComponent(vt[0])==ft)return decodeURIComponent(vt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(ft){}var ShapeModifiers=function(){var ft={},lt={};ft.registerModifier=dt,ft.getModifier=vt;function dt(St,Et){lt[St]||(lt[St]=Et)}function vt(St,Et,At){return new lt[St](Et,At)}return ft}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(ft){if(!this.closed){ft.sh.container.addDynamicProperty(ft.sh);var lt={shape:ft.sh,data:ft,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(lt),this.addShapeToModifier(lt),this._isAnimated&&ft.setAsAnimated()}},ShapeModifier.prototype.init=function(ft,lt){this.shapes=[],this.elem=ft,this.initDynamicPropertyContainer(ft),this.initModifierProperties(ft,lt),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(ft,lt){this.s=PropertyFactory.getProp(ft,lt.s,0,.01,this),this.e=PropertyFactory.getProp(ft,lt.e,0,.01,this),this.o=PropertyFactory.getProp(ft,lt.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=lt.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(ft){ft.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(ft,lt,dt,vt,St){var Et=[];lt<=1?Et.push({s:ft,e:lt}):ft>=1?Et.push({s:ft-1,e:lt-1}):(Et.push({s:ft,e:1}),Et.push({s:0,e:lt-1}));var At=[],Ct,Tt=Et.length,Rt;for(Ct=0;Ct<Tt;Ct+=1)if(Rt=Et[Ct],!(Rt.e*St<vt||Rt.s*St>vt+dt)){var Bt,Dt;Rt.s*St<=vt?Bt=0:Bt=(Rt.s*St-vt)/dt,Rt.e*St>=vt+dt?Dt=1:Dt=(Rt.e*St-vt)/dt,At.push([Bt,Dt])}return At.length||At.push([0,0]),At},TrimModifier.prototype.releasePathsData=function(ft){var lt,dt=ft.length;for(lt=0;lt<dt;lt+=1)segmentsLengthPool.release(ft[lt]);return ft.length=0,ft},TrimModifier.prototype.processShapes=function(ft){var lt,dt;if(this._mdf||ft){var vt=this.o.v%360/360;if(vt<0&&(vt+=1),this.s.v>1?lt=1+vt:this.s.v<0?lt=0+vt:lt=this.s.v+vt,this.e.v>1?dt=1+vt:this.e.v<0?dt=0+vt:dt=this.e.v+vt,lt>dt){var St=lt;lt=dt,dt=St}lt=Math.round(lt*1e4)*1e-4,dt=Math.round(dt*1e4)*1e-4,this.sValue=lt,this.eValue=dt}else lt=this.sValue,dt=this.eValue;var Et,At,Ct=this.shapes.length,Tt,Rt,Bt,Dt,Ft,kt=0;if(dt===lt)for(At=0;At<Ct;At+=1)this.shapes[At].localShapeCollection.releaseShapes(),this.shapes[At].shape._mdf=!0,this.shapes[At].shape.paths=this.shapes[At].localShapeCollection,this._mdf&&(this.shapes[At].pathsData.length=0);else if(dt===1&&lt===0||dt===0&&lt===1){if(this._mdf)for(At=0;At<Ct;At+=1)this.shapes[At].pathsData.length=0,this.shapes[At].shape._mdf=!0}else{var Ut=[],Kt,tr;for(At=0;At<Ct;At+=1)if(Kt=this.shapes[At],!Kt.shape._mdf&&!this._mdf&&!ft&&this.m!==2)Kt.shape.paths=Kt.localShapeCollection;else{if(Et=Kt.shape.paths,Rt=Et._length,Ft=0,!Kt.shape._mdf&&Kt.pathsData.length)Ft=Kt.totalShapeLength;else{for(Bt=this.releasePathsData(Kt.pathsData),Tt=0;Tt<Rt;Tt+=1)Dt=bez.getSegmentsLength(Et.shapes[Tt]),Bt.push(Dt),Ft+=Dt.totalLength;Kt.totalShapeLength=Ft,Kt.pathsData=Bt}kt+=Ft,Kt.shape._mdf=!0}var Wt=lt,Zt=dt,Ht=0,nr;for(At=Ct-1;At>=0;At-=1)if(Kt=this.shapes[At],Kt.shape._mdf){for(tr=Kt.localShapeCollection,tr.releaseShapes(),this.m===2&&Ct>1?(nr=this.calculateShapeEdges(lt,dt,Kt.totalShapeLength,Ht,kt),Ht+=Kt.totalShapeLength):nr=[[Wt,Zt]],Rt=nr.length,Tt=0;Tt<Rt;Tt+=1){Wt=nr[Tt][0],Zt=nr[Tt][1],Ut.length=0,Zt<=1?Ut.push({s:Kt.totalShapeLength*Wt,e:Kt.totalShapeLength*Zt}):Wt>=1?Ut.push({s:Kt.totalShapeLength*(Wt-1),e:Kt.totalShapeLength*(Zt-1)}):(Ut.push({s:Kt.totalShapeLength*Wt,e:Kt.totalShapeLength}),Ut.push({s:0,e:Kt.totalShapeLength*(Zt-1)}));var sr=this.addShapes(Kt,Ut[0]);if(Ut[0].s!==Ut[0].e){if(Ut.length>1){var ar=Kt.shape.paths.shapes[Kt.shape.paths._length-1];if(ar.c){var ir=sr.pop();this.addPaths(sr,tr),sr=this.addShapes(Kt,Ut[1],ir)}else this.addPaths(sr,tr),sr=this.addShapes(Kt,Ut[1])}this.addPaths(sr,tr)}}Kt.shape.paths=tr}}},TrimModifier.prototype.addPaths=function(ft,lt){var dt,vt=ft.length;for(dt=0;dt<vt;dt+=1)lt.addShape(ft[dt])},TrimModifier.prototype.addSegment=function(ft,lt,dt,vt,St,Et,At){St.setXYAt(lt[0],lt[1],"o",Et),St.setXYAt(dt[0],dt[1],"i",Et+1),At&&St.setXYAt(ft[0],ft[1],"v",Et),St.setXYAt(vt[0],vt[1],"v",Et+1)},TrimModifier.prototype.addSegmentFromArray=function(ft,lt,dt,vt){lt.setXYAt(ft[1],ft[5],"o",dt),lt.setXYAt(ft[2],ft[6],"i",dt+1),vt&&lt.setXYAt(ft[0],ft[4],"v",dt),lt.setXYAt(ft[3],ft[7],"v",dt+1)},TrimModifier.prototype.addShapes=function(ft,lt,dt){var vt=ft.pathsData,St=ft.shape.paths.shapes,Et,At=ft.shape.paths._length,Ct,Tt,Rt=0,Bt,Dt,Ft,kt,Ut=[],Kt,tr=!0;for(dt?(Dt=dt._length,Kt=dt._length):(dt=shapePool.newElement(),Dt=0,Kt=0),Ut.push(dt),Et=0;Et<At;Et+=1){for(Ft=vt[Et].lengths,dt.c=St[Et].c,Tt=St[Et].c?Ft.length:Ft.length+1,Ct=1;Ct<Tt;Ct+=1)if(Bt=Ft[Ct-1],Rt+Bt.addedLength<lt.s)Rt+=Bt.addedLength,dt.c=!1;else if(Rt>lt.e){dt.c=!1;break}else lt.s<=Rt&&lt.e>=Rt+Bt.addedLength?(this.addSegment(St[Et].v[Ct-1],St[Et].o[Ct-1],St[Et].i[Ct],St[Et].v[Ct],dt,Dt,tr),tr=!1):(kt=bez.getNewSegment(St[Et].v[Ct-1],St[Et].v[Ct],St[Et].o[Ct-1],St[Et].i[Ct],(lt.s-Rt)/Bt.addedLength,(lt.e-Rt)/Bt.addedLength,Ft[Ct-1]),this.addSegmentFromArray(kt,dt,Dt,tr),tr=!1,dt.c=!1),Rt+=Bt.addedLength,Dt+=1;if(St[Et].c&&Ft.length){if(Bt=Ft[Ct-1],Rt<=lt.e){var Wt=Ft[Ct-1].addedLength;lt.s<=Rt&&lt.e>=Rt+Wt?(this.addSegment(St[Et].v[Ct-1],St[Et].o[Ct-1],St[Et].i[0],St[Et].v[0],dt,Dt,tr),tr=!1):(kt=bez.getNewSegment(St[Et].v[Ct-1],St[Et].v[0],St[Et].o[Ct-1],St[Et].i[0],(lt.s-Rt)/Wt,(lt.e-Rt)/Wt,Ft[Ct-1]),this.addSegmentFromArray(kt,dt,Dt,tr),tr=!1,dt.c=!1)}else dt.c=!1;Rt+=Bt.addedLength,Dt+=1}if(dt._length&&(dt.setXYAt(dt.v[Kt][0],dt.v[Kt][1],"i",Kt),dt.setXYAt(dt.v[dt._length-1][0],dt.v[dt._length-1][1],"o",dt._length-1)),Rt>lt.e)break;Et<At-1&&(dt=shapePool.newElement(),tr=!0,Ut.push(dt),Dt=0)}return Ut};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(ft,lt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(ft,lt.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(ft,lt){var dt=lt/100,vt=[0,0],St=ft._length,Et=0;for(Et=0;Et<St;Et+=1)vt[0]+=ft.v[Et][0],vt[1]+=ft.v[Et][1];vt[0]/=St,vt[1]/=St;var At=shapePool.newElement();At.c=ft.c;var Ct,Tt,Rt,Bt,Dt,Ft;for(Et=0;Et<St;Et+=1)Ct=ft.v[Et][0]+(vt[0]-ft.v[Et][0])*dt,Tt=ft.v[Et][1]+(vt[1]-ft.v[Et][1])*dt,Rt=ft.o[Et][0]+(vt[0]-ft.o[Et][0])*-dt,Bt=ft.o[Et][1]+(vt[1]-ft.o[Et][1])*-dt,Dt=ft.i[Et][0]+(vt[0]-ft.i[Et][0])*-dt,Ft=ft.i[Et][1]+(vt[1]-ft.i[Et][1])*-dt,At.setTripleAt(Ct,Tt,Rt,Bt,Dt,Ft,Et);return At},PuckerAndBloatModifier.prototype.processShapes=function(ft){var lt,dt,vt=this.shapes.length,St,Et,At=this.amount.v;if(At!==0){var Ct,Tt;for(dt=0;dt<vt;dt+=1){if(Ct=this.shapes[dt],Tt=Ct.localShapeCollection,!(!Ct.shape._mdf&&!this._mdf&&!ft))for(Tt.releaseShapes(),Ct.shape._mdf=!0,lt=Ct.shape.paths.shapes,Et=Ct.shape.paths._length,St=0;St<Et;St+=1)Tt.addShape(this.processPath(lt[St],At));Ct.shape.paths=Ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var ft=[0,0];function lt(Tt){var Rt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Rt,this.a&&Tt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Tt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Tt.skewFromAxis(-this.sk.v,this.sa.v),this.r?Tt.rotate(-this.r.v):Tt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Tt.translate(this.px.v,this.py.v,-this.pz.v):Tt.translate(this.px.v,this.py.v,0):Tt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function dt(Tt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Tt){var Rt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Bt,Dt;if(Rt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Bt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Rt,0),Dt=this.p.getValueAtTime(this.p.keyframes[0].t/Rt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Bt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Rt,0),Dt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Rt,0)):(Bt=this.p.pv,Dt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Rt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Bt=[],Dt=[];var Ft=this.px,kt=this.py;Ft._caching.lastFrame+Ft.offsetTime<=Ft.keyframes[0].t?(Bt[0]=Ft.getValueAtTime((Ft.keyframes[0].t+.01)/Rt,0),Bt[1]=kt.getValueAtTime((kt.keyframes[0].t+.01)/Rt,0),Dt[0]=Ft.getValueAtTime(Ft.keyframes[0].t/Rt,0),Dt[1]=kt.getValueAtTime(kt.keyframes[0].t/Rt,0)):Ft._caching.lastFrame+Ft.offsetTime>=Ft.keyframes[Ft.keyframes.length-1].t?(Bt[0]=Ft.getValueAtTime(Ft.keyframes[Ft.keyframes.length-1].t/Rt,0),Bt[1]=kt.getValueAtTime(kt.keyframes[kt.keyframes.length-1].t/Rt,0),Dt[0]=Ft.getValueAtTime((Ft.keyframes[Ft.keyframes.length-1].t-.01)/Rt,0),Dt[1]=kt.getValueAtTime((kt.keyframes[kt.keyframes.length-1].t-.01)/Rt,0)):(Bt=[Ft.pv,kt.pv],Dt[0]=Ft.getValueAtTime((Ft._caching.lastFrame+Ft.offsetTime-.01)/Rt,Ft.offsetTime),Dt[1]=kt.getValueAtTime((kt._caching.lastFrame+kt.offsetTime-.01)/Rt,kt.offsetTime))}else Dt=ft,Bt=Dt;this.v.rotate(-Math.atan2(Bt[1]-Dt[1],Bt[0]-Dt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function vt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function St(){}function Et(Tt){this._addDynamicProperty(Tt),this.elem.addDynamicProperty(Tt),this._isDirty=!0}function At(Tt,Rt,Bt){if(this.elem=Tt,this.frameId=-1,this.propType="transform",this.data=Rt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Bt||Tt),Rt.p&&Rt.p.s?(this.px=PropertyFactory.getProp(Tt,Rt.p.x,0,0,this),this.py=PropertyFactory.getProp(Tt,Rt.p.y,0,0,this),Rt.p.z&&(this.pz=PropertyFactory.getProp(Tt,Rt.p.z,0,0,this))):this.p=PropertyFactory.getProp(Tt,Rt.p||{k:[0,0,0]},1,0,this),Rt.rx){if(this.rx=PropertyFactory.getProp(Tt,Rt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Tt,Rt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Tt,Rt.rz,0,degToRads,this),Rt.or.k[0].ti){var Dt,Ft=Rt.or.k.length;for(Dt=0;Dt<Ft;Dt+=1)Rt.or.k[Dt].to=null,Rt.or.k[Dt].ti=null}this.or=PropertyFactory.getProp(Tt,Rt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Tt,Rt.r||{k:0},0,degToRads,this);Rt.sk&&(this.sk=PropertyFactory.getProp(Tt,Rt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Tt,Rt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Tt,Rt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Tt,Rt.s||{k:[100,100,100]},1,.01,this),Rt.o?this.o=PropertyFactory.getProp(Tt,Rt.o,0,.01,Tt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}At.prototype={applyToMatrix:lt,getValue:dt,precalculateMatrix:vt,autoOrient:St},extendPrototype([DynamicPropertyContainer],At),At.prototype.addDynamicProperty=Et,At.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Ct(Tt,Rt,Bt){return new At(Tt,Rt,Bt)}return{getTransformProperty:Ct}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(ft,lt){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(ft,lt.c,0,null,this),this.o=PropertyFactory.getProp(ft,lt.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(ft,lt.tr,this),this.so=PropertyFactory.getProp(ft,lt.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(ft,lt.tr.eo,0,.01,this),this.data=lt,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(ft,lt,dt,vt,St,Et){var At=Et?-1:1,Ct=vt.s.v[0]+(1-vt.s.v[0])*(1-St),Tt=vt.s.v[1]+(1-vt.s.v[1])*(1-St);ft.translate(vt.p.v[0]*At*St,vt.p.v[1]*At*St,vt.p.v[2]),lt.translate(-vt.a.v[0],-vt.a.v[1],vt.a.v[2]),lt.rotate(-vt.r.v*At*St),lt.translate(vt.a.v[0],vt.a.v[1],vt.a.v[2]),dt.translate(-vt.a.v[0],-vt.a.v[1],vt.a.v[2]),dt.scale(Et?1/Ct:Ct,Et?1/Tt:Tt),dt.translate(vt.a.v[0],vt.a.v[1],vt.a.v[2])},RepeaterModifier.prototype.init=function(ft,lt,dt,vt){for(this.elem=ft,this.arr=lt,this.pos=dt,this.elemsData=vt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(ft),this.initModifierProperties(ft,lt[dt]);dt>0;)dt-=1,this._elements.unshift(lt[dt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(ft){var lt,dt=ft.length;for(lt=0;lt<dt;lt+=1)ft[lt]._processed=!1,ft[lt].ty==="gr"&&this.resetElements(ft[lt].it)},RepeaterModifier.prototype.cloneElements=function(ft){var lt=JSON.parse(JSON.stringify(ft));return this.resetElements(lt),lt},RepeaterModifier.prototype.changeGroupRender=function(ft,lt){var dt,vt=ft.length;for(dt=0;dt<vt;dt+=1)ft[dt]._render=lt,ft[dt].ty==="gr"&&this.changeGroupRender(ft[dt].it,lt)},RepeaterModifier.prototype.processShapes=function(ft){var lt,dt,vt,St,Et,At=!1;if(this._mdf||ft){var Ct=Math.ceil(this.c.v);if(this._groups.length<Ct){for(;this._groups.length<Ct;){var Tt={it:this.cloneElements(this._elements),ty:"gr"};Tt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Tt),this._groups.splice(0,0,Tt),this._currentCopies+=1}this.elem.reloadShapes(),At=!0}Et=0;var Rt;for(vt=0;vt<=this._groups.length-1;vt+=1){if(Rt=Et<Ct,this._groups[vt]._render=Rt,this.changeGroupRender(this._groups[vt].it,Rt),!Rt){var Bt=this.elemsData[vt].it,Dt=Bt[Bt.length-1];Dt.transform.op.v!==0?(Dt.transform.op._mdf=!0,Dt.transform.op.v=0):Dt.transform.op._mdf=!1}Et+=1}this._currentCopies=Ct;var Ft=this.o.v,kt=Ft%1,Ut=Ft>0?Math.floor(Ft):Math.ceil(Ft),Kt=this.pMatrix.props,tr=this.rMatrix.props,Wt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Zt=0;if(Ft>0){for(;Zt<Ut;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Zt+=1;kt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,kt,!1),Zt+=kt)}else if(Ft<0){for(;Zt>Ut;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Zt-=1;kt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-kt,!0),Zt-=kt)}vt=this.data.m===1?0:this._currentCopies-1,St=this.data.m===1?1:-1,Et=this._currentCopies;for(var Ht,nr;Et;){if(lt=this.elemsData[vt].it,dt=lt[lt.length-1].transform.mProps.v.props,nr=dt.length,lt[lt.length-1].transform.mProps._mdf=!0,lt[lt.length-1].transform.op._mdf=!0,lt[lt.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(vt/(this._currentCopies-1)),Zt!==0){for((vt!==0&&St===1||vt!==this._currentCopies-1&&St===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(tr[0],tr[1],tr[2],tr[3],tr[4],tr[5],tr[6],tr[7],tr[8],tr[9],tr[10],tr[11],tr[12],tr[13],tr[14],tr[15]),this.matrix.transform(Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5],Wt[6],Wt[7],Wt[8],Wt[9],Wt[10],Wt[11],Wt[12],Wt[13],Wt[14],Wt[15]),this.matrix.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5],Kt[6],Kt[7],Kt[8],Kt[9],Kt[10],Kt[11],Kt[12],Kt[13],Kt[14],Kt[15]),Ht=0;Ht<nr;Ht+=1)dt[Ht]=this.matrix.props[Ht];this.matrix.reset()}else for(this.matrix.reset(),Ht=0;Ht<nr;Ht+=1)dt[Ht]=this.matrix.props[Ht];Zt+=1,Et-=1,vt+=St}}else for(Et=this._currentCopies,vt=0,St=1;Et;)lt=this.elemsData[vt].it,dt=lt[lt.length-1].transform.mProps.v.props,lt[lt.length-1].transform.mProps._mdf=!1,lt[lt.length-1].transform.op._mdf=!1,Et-=1,vt+=St;return At},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(ft,lt){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(ft,lt.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(ft,lt){var dt=shapePool.newElement();dt.c=ft.c;var vt,St=ft._length,Et,At,Ct,Tt,Rt,Bt,Dt=0,Ft,kt,Ut,Kt,tr,Wt;for(vt=0;vt<St;vt+=1)Et=ft.v[vt],Ct=ft.o[vt],At=ft.i[vt],Et[0]===Ct[0]&&Et[1]===Ct[1]&&Et[0]===At[0]&&Et[1]===At[1]?(vt===0||vt===St-1)&&!ft.c?(dt.setTripleAt(Et[0],Et[1],Ct[0],Ct[1],At[0],At[1],Dt),Dt+=1):(vt===0?Tt=ft.v[St-1]:Tt=ft.v[vt-1],Rt=Math.sqrt(Math.pow(Et[0]-Tt[0],2)+Math.pow(Et[1]-Tt[1],2)),Bt=Rt?Math.min(Rt/2,lt)/Rt:0,tr=Et[0]+(Tt[0]-Et[0])*Bt,Ft=tr,Wt=Et[1]-(Et[1]-Tt[1])*Bt,kt=Wt,Ut=Ft-(Ft-Et[0])*roundCorner,Kt=kt-(kt-Et[1])*roundCorner,dt.setTripleAt(Ft,kt,Ut,Kt,tr,Wt,Dt),Dt+=1,vt===St-1?Tt=ft.v[0]:Tt=ft.v[vt+1],Rt=Math.sqrt(Math.pow(Et[0]-Tt[0],2)+Math.pow(Et[1]-Tt[1],2)),Bt=Rt?Math.min(Rt/2,lt)/Rt:0,Ut=Et[0]+(Tt[0]-Et[0])*Bt,Ft=Ut,Kt=Et[1]+(Tt[1]-Et[1])*Bt,kt=Kt,tr=Ft-(Ft-Et[0])*roundCorner,Wt=kt-(kt-Et[1])*roundCorner,dt.setTripleAt(Ft,kt,Ut,Kt,tr,Wt,Dt),Dt+=1):(dt.setTripleAt(ft.v[vt][0],ft.v[vt][1],ft.o[vt][0],ft.o[vt][1],ft.i[vt][0],ft.i[vt][1],Dt),Dt+=1);return dt},RoundCornersModifier.prototype.processShapes=function(ft){var lt,dt,vt=this.shapes.length,St,Et,At=this.rd.v;if(At!==0){var Ct,Tt;for(dt=0;dt<vt;dt+=1){if(Ct=this.shapes[dt],Tt=Ct.localShapeCollection,!(!Ct.shape._mdf&&!this._mdf&&!ft))for(Tt.releaseShapes(),Ct.shape._mdf=!0,lt=Ct.shape.paths.shapes,Et=Ct.shape.paths._length,St=0;St<Et;St+=1)Tt.addShape(this.processPath(lt[St],At));Ct.shape.paths=Ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(ft,lt){return Math.abs(ft-lt)*1e5<=Math.min(Math.abs(ft),Math.abs(lt))}function floatZero(ft){return Math.abs(ft)<=1e-5}function lerp(ft,lt,dt){return ft*(1-dt)+lt*dt}function lerpPoint(ft,lt,dt){return[lerp(ft[0],lt[0],dt),lerp(ft[1],lt[1],dt)]}function quadRoots(ft,lt,dt){if(ft===0)return[];var vt=lt*lt-4*ft*dt;if(vt<0)return[];var St=-lt/(2*ft);if(vt===0)return[St];var Et=Math.sqrt(vt)/(2*ft);return[St-Et,St+Et]}function polynomialCoefficients(ft,lt,dt,vt){return[-ft+3*lt-3*dt+vt,3*ft-6*lt+3*dt,-3*ft+3*lt,ft]}function singlePoint(ft){return new PolynomialBezier(ft,ft,ft,ft,!1)}function PolynomialBezier(ft,lt,dt,vt,St){St&&pointEqual(ft,lt)&&(lt=lerpPoint(ft,vt,1/3)),St&&pointEqual(dt,vt)&&(dt=lerpPoint(ft,vt,2/3));var Et=polynomialCoefficients(ft[0],lt[0],dt[0],vt[0]),At=polynomialCoefficients(ft[1],lt[1],dt[1],vt[1]);this.a=[Et[0],At[0]],this.b=[Et[1],At[1]],this.c=[Et[2],At[2]],this.d=[Et[3],At[3]],this.points=[ft,lt,dt,vt]}PolynomialBezier.prototype.point=function(ft){return[((this.a[0]*ft+this.b[0])*ft+this.c[0])*ft+this.d[0],((this.a[1]*ft+this.b[1])*ft+this.c[1])*ft+this.d[1]]},PolynomialBezier.prototype.derivative=function(ft){return[(3*ft*this.a[0]+2*this.b[0])*ft+this.c[0],(3*ft*this.a[1]+2*this.b[1])*ft+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(ft){var lt=this.derivative(ft);return Math.atan2(lt[1],lt[0])},PolynomialBezier.prototype.normalAngle=function(ft){var lt=this.derivative(ft);return Math.atan2(lt[0],lt[1])},PolynomialBezier.prototype.inflectionPoints=function(){var ft=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(ft))return[];var lt=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/ft,dt=lt*lt-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/ft;if(dt<0)return[];var vt=Math.sqrt(dt);return floatZero(vt)?vt>0&&vt<1?[lt]:[]:[lt-vt,lt+vt].filter(function(St){return St>0&&St<1})},PolynomialBezier.prototype.split=function(ft){if(ft<=0)return[singlePoint(this.points[0]),this];if(ft>=1)return[this,singlePoint(this.points[this.points.length-1])];var lt=lerpPoint(this.points[0],this.points[1],ft),dt=lerpPoint(this.points[1],this.points[2],ft),vt=lerpPoint(this.points[2],this.points[3],ft),St=lerpPoint(lt,dt,ft),Et=lerpPoint(dt,vt,ft),At=lerpPoint(St,Et,ft);return[new PolynomialBezier(this.points[0],lt,St,At,!0),new PolynomialBezier(At,Et,vt,this.points[3],!0)]};function extrema(ft,lt){var dt=ft.points[0][lt],vt=ft.points[ft.points.length-1][lt];if(dt>vt){var St=vt;vt=dt,dt=St}for(var Et=quadRoots(3*ft.a[lt],2*ft.b[lt],ft.c[lt]),At=0;At<Et.length;At+=1)if(Et[At]>0&&Et[At]<1){var Ct=ft.point(Et[At])[lt];Ct<dt?dt=Ct:Ct>vt&&(vt=Ct)}return{min:dt,max:vt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var ft=this.bounds();return{left:ft.x.min,right:ft.x.max,top:ft.y.min,bottom:ft.y.max,width:ft.x.max-ft.x.min,height:ft.y.max-ft.y.min,cx:(ft.x.max+ft.x.min)/2,cy:(ft.y.max+ft.y.min)/2}};function intersectData(ft,lt,dt){var vt=ft.boundingBox();return{cx:vt.cx,cy:vt.cy,width:vt.width,height:vt.height,bez:ft,t:(lt+dt)/2,t1:lt,t2:dt}}function splitData(ft){var lt=ft.bez.split(.5);return[intersectData(lt[0],ft.t1,ft.t),intersectData(lt[1],ft.t,ft.t2)]}function boxIntersect(ft,lt){return Math.abs(ft.cx-lt.cx)*2<ft.width+lt.width&&Math.abs(ft.cy-lt.cy)*2<ft.height+lt.height}function intersectsImpl(ft,lt,dt,vt,St,Et){if(boxIntersect(ft,lt)){if(dt>=Et||ft.width<=vt&&ft.height<=vt&&lt.width<=vt&&lt.height<=vt){St.push([ft.t,lt.t]);return}var At=splitData(ft),Ct=splitData(lt);intersectsImpl(At[0],Ct[0],dt+1,vt,St,Et),intersectsImpl(At[0],Ct[1],dt+1,vt,St,Et),intersectsImpl(At[1],Ct[0],dt+1,vt,St,Et),intersectsImpl(At[1],Ct[1],dt+1,vt,St,Et)}}PolynomialBezier.prototype.intersections=function(ft,lt,dt){lt===void 0&&(lt=2),dt===void 0&&(dt=7);var vt=[];return intersectsImpl(intersectData(this,0,1),intersectData(ft,0,1),0,lt,vt,dt),vt},PolynomialBezier.shapeSegment=function(ft,lt){var dt=(lt+1)%ft.length();return new PolynomialBezier(ft.v[lt],ft.o[lt],ft.i[dt],ft.v[dt],!0)},PolynomialBezier.shapeSegmentInverted=function(ft,lt){var dt=(lt+1)%ft.length();return new PolynomialBezier(ft.v[dt],ft.i[dt],ft.o[lt],ft.v[lt],!0)};function crossProduct(ft,lt){return[ft[1]*lt[2]-ft[2]*lt[1],ft[2]*lt[0]-ft[0]*lt[2],ft[0]*lt[1]-ft[1]*lt[0]]}function lineIntersection(ft,lt,dt,vt){var St=[ft[0],ft[1],1],Et=[lt[0],lt[1],1],At=[dt[0],dt[1],1],Ct=[vt[0],vt[1],1],Tt=crossProduct(crossProduct(St,Et),crossProduct(At,Ct));return floatZero(Tt[2])?null:[Tt[0]/Tt[2],Tt[1]/Tt[2]]}function polarOffset(ft,lt,dt){return[ft[0]+Math.cos(lt)*dt,ft[1]-Math.sin(lt)*dt]}function pointDistance(ft,lt){return Math.hypot(ft[0]-lt[0],ft[1]-lt[1])}function pointEqual(ft,lt){return floatEqual(ft[0],lt[0])&&floatEqual(ft[1],lt[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(ft,lt){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(ft,lt.s,0,null,this),this.frequency=PropertyFactory.getProp(ft,lt.r,0,null,this),this.pointsType=PropertyFactory.getProp(ft,lt.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(ft,lt,dt,vt,St,Et,At){var Ct=dt-Math.PI/2,Tt=dt+Math.PI/2,Rt=lt[0]+Math.cos(dt)*vt*St,Bt=lt[1]-Math.sin(dt)*vt*St;ft.setTripleAt(Rt,Bt,Rt+Math.cos(Ct)*Et,Bt-Math.sin(Ct)*Et,Rt+Math.cos(Tt)*At,Bt-Math.sin(Tt)*At,ft.length())}function getPerpendicularVector(ft,lt){var dt=[lt[0]-ft[0],lt[1]-ft[1]],vt=-Math.PI*.5,St=[Math.cos(vt)*dt[0]-Math.sin(vt)*dt[1],Math.sin(vt)*dt[0]+Math.cos(vt)*dt[1]];return St}function getProjectingAngle(ft,lt){var dt=lt===0?ft.length()-1:lt-1,vt=(lt+1)%ft.length(),St=ft.v[dt],Et=ft.v[vt],At=getPerpendicularVector(St,Et);return Math.atan2(0,1)-Math.atan2(At[1],At[0])}function zigZagCorner(ft,lt,dt,vt,St,Et,At){var Ct=getProjectingAngle(lt,dt),Tt=lt.v[dt%lt._length],Rt=lt.v[dt===0?lt._length-1:dt-1],Bt=lt.v[(dt+1)%lt._length],Dt=Et===2?Math.sqrt(Math.pow(Tt[0]-Rt[0],2)+Math.pow(Tt[1]-Rt[1],2)):0,Ft=Et===2?Math.sqrt(Math.pow(Tt[0]-Bt[0],2)+Math.pow(Tt[1]-Bt[1],2)):0;setPoint(ft,lt.v[dt%lt._length],Ct,At,vt,Ft/((St+1)*2),Dt/((St+1)*2))}function zigZagSegment(ft,lt,dt,vt,St,Et){for(var At=0;At<vt;At+=1){var Ct=(At+1)/(vt+1),Tt=St===2?Math.sqrt(Math.pow(lt.points[3][0]-lt.points[0][0],2)+Math.pow(lt.points[3][1]-lt.points[0][1],2)):0,Rt=lt.normalAngle(Ct),Bt=lt.point(Ct);setPoint(ft,Bt,Rt,Et,dt,Tt/((vt+1)*2),Tt/((vt+1)*2)),Et=-Et}return Et}ZigZagModifier.prototype.processPath=function(ft,lt,dt,vt){var St=ft._length,Et=shapePool.newElement();if(Et.c=ft.c,ft.c||(St-=1),St===0)return Et;var At=-1,Ct=PolynomialBezier.shapeSegment(ft,0);zigZagCorner(Et,ft,0,lt,dt,vt,At);for(var Tt=0;Tt<St;Tt+=1)At=zigZagSegment(Et,Ct,lt,dt,vt,-At),Tt===St-1&&!ft.c?Ct=null:Ct=PolynomialBezier.shapeSegment(ft,(Tt+1)%St),zigZagCorner(Et,ft,Tt+1,lt,dt,vt,At);return Et},ZigZagModifier.prototype.processShapes=function(ft){var lt,dt,vt=this.shapes.length,St,Et,At=this.amplitude.v,Ct=Math.max(0,Math.round(this.frequency.v)),Tt=this.pointsType.v;if(At!==0){var Rt,Bt;for(dt=0;dt<vt;dt+=1){if(Rt=this.shapes[dt],Bt=Rt.localShapeCollection,!(!Rt.shape._mdf&&!this._mdf&&!ft))for(Bt.releaseShapes(),Rt.shape._mdf=!0,lt=Rt.shape.paths.shapes,Et=Rt.shape.paths._length,St=0;St<Et;St+=1)Bt.addShape(this.processPath(lt[St],At,Ct,Tt));Rt.shape.paths=Rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(ft,lt,dt){var vt=Math.atan2(lt[0]-ft[0],lt[1]-ft[1]);return[polarOffset(ft,vt,dt),polarOffset(lt,vt,dt)]}function offsetSegment(ft,lt){var dt,vt,St,Et,At,Ct,Tt;Tt=linearOffset(ft.points[0],ft.points[1],lt),dt=Tt[0],vt=Tt[1],Tt=linearOffset(ft.points[1],ft.points[2],lt),St=Tt[0],Et=Tt[1],Tt=linearOffset(ft.points[2],ft.points[3],lt),At=Tt[0],Ct=Tt[1];var Rt=lineIntersection(dt,vt,St,Et);Rt===null&&(Rt=vt);var Bt=lineIntersection(At,Ct,St,Et);return Bt===null&&(Bt=At),new PolynomialBezier(dt,Rt,Bt,Ct)}function joinLines(ft,lt,dt,vt,St){var Et=lt.points[3],At=dt.points[0];if(vt===3||pointEqual(Et,At))return Et;if(vt===2){var Ct=-lt.tangentAngle(1),Tt=-dt.tangentAngle(0)+Math.PI,Rt=lineIntersection(Et,polarOffset(Et,Ct+Math.PI/2,100),At,polarOffset(At,Ct+Math.PI/2,100)),Bt=Rt?pointDistance(Rt,Et):pointDistance(Et,At)/2,Dt=polarOffset(Et,Ct,2*Bt*roundCorner);return ft.setXYAt(Dt[0],Dt[1],"o",ft.length()-1),Dt=polarOffset(At,Tt,2*Bt*roundCorner),ft.setTripleAt(At[0],At[1],At[0],At[1],Dt[0],Dt[1],ft.length()),At}var Ft=pointEqual(Et,lt.points[2])?lt.points[0]:lt.points[2],kt=pointEqual(At,dt.points[1])?dt.points[3]:dt.points[1],Ut=lineIntersection(Ft,Et,At,kt);return Ut&&pointDistance(Ut,Et)<St?(ft.setTripleAt(Ut[0],Ut[1],Ut[0],Ut[1],Ut[0],Ut[1],ft.length()),Ut):Et}function getIntersection(ft,lt){var dt=ft.intersections(lt);return dt.length&&floatEqual(dt[0][0],1)&&dt.shift(),dt.length?dt[0]:null}function pruneSegmentIntersection(ft,lt){var dt=ft.slice(),vt=lt.slice(),St=getIntersection(ft[ft.length-1],lt[0]);return St&&(dt[ft.length-1]=ft[ft.length-1].split(St[0])[0],vt[0]=lt[0].split(St[1])[1]),ft.length>1&&lt.length>1&&(St=getIntersection(ft[0],lt[lt.length-1]),St)?[[ft[0].split(St[0])[0]],[lt[lt.length-1].split(St[1])[1]]]:[dt,vt]}function pruneIntersections(ft){for(var lt,dt=1;dt<ft.length;dt+=1)lt=pruneSegmentIntersection(ft[dt-1],ft[dt]),ft[dt-1]=lt[0],ft[dt]=lt[1];return ft.length>1&&(lt=pruneSegmentIntersection(ft[ft.length-1],ft[0]),ft[ft.length-1]=lt[0],ft[0]=lt[1]),ft}function offsetSegmentSplit(ft,lt){var dt=ft.inflectionPoints(),vt,St,Et,At;if(dt.length===0)return[offsetSegment(ft,lt)];if(dt.length===1||floatEqual(dt[1],1))return Et=ft.split(dt[0]),vt=Et[0],St=Et[1],[offsetSegment(vt,lt),offsetSegment(St,lt)];Et=ft.split(dt[0]),vt=Et[0];var Ct=(dt[1]-dt[0])/(1-dt[0]);return Et=Et[1].split(Ct),At=Et[0],St=Et[1],[offsetSegment(vt,lt),offsetSegment(At,lt),offsetSegment(St,lt)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(ft,lt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(ft,lt.a,0,null,this),this.miterLimit=PropertyFactory.getProp(ft,lt.ml,0,null,this),this.lineJoin=lt.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(ft,lt,dt,vt){var St=shapePool.newElement();St.c=ft.c;var Et=ft.length();ft.c||(Et-=1);var At,Ct,Tt,Rt=[];for(At=0;At<Et;At+=1)Tt=PolynomialBezier.shapeSegment(ft,At),Rt.push(offsetSegmentSplit(Tt,lt));if(!ft.c)for(At=Et-1;At>=0;At-=1)Tt=PolynomialBezier.shapeSegmentInverted(ft,At),Rt.push(offsetSegmentSplit(Tt,lt));Rt=pruneIntersections(Rt);var Bt=null,Dt=null;for(At=0;At<Rt.length;At+=1){var Ft=Rt[At];for(Dt&&(Bt=joinLines(St,Dt,Ft[0],dt,vt)),Dt=Ft[Ft.length-1],Ct=0;Ct<Ft.length;Ct+=1)Tt=Ft[Ct],Bt&&pointEqual(Tt.points[0],Bt)?St.setXYAt(Tt.points[1][0],Tt.points[1][1],"o",St.length()-1):St.setTripleAt(Tt.points[0][0],Tt.points[0][1],Tt.points[1][0],Tt.points[1][1],Tt.points[0][0],Tt.points[0][1],St.length()),St.setTripleAt(Tt.points[3][0],Tt.points[3][1],Tt.points[3][0],Tt.points[3][1],Tt.points[2][0],Tt.points[2][1],St.length()),Bt=Tt.points[3]}return Rt.length&&joinLines(St,Dt,Rt[0][0],dt,vt),St},OffsetPathModifier.prototype.processShapes=function(ft){var lt,dt,vt=this.shapes.length,St,Et,At=this.amount.v,Ct=this.miterLimit.v,Tt=this.lineJoin;if(At!==0){var Rt,Bt;for(dt=0;dt<vt;dt+=1){if(Rt=this.shapes[dt],Bt=Rt.localShapeCollection,!(!Rt.shape._mdf&&!this._mdf&&!ft))for(Bt.releaseShapes(),Rt.shape._mdf=!0,lt=Rt.shape.paths.shapes,Et=Rt.shape.paths._length,St=0;St<Et;St+=1)Bt.addShape(this.processPath(lt[St],At,Tt,Ct));Rt.shape.paths=Rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(ft){for(var lt=ft.fStyle?ft.fStyle.split(" "):[],dt="normal",vt="normal",St=lt.length,Et,At=0;At<St;At+=1)switch(Et=lt[At].toLowerCase(),Et){case"italic":vt="italic";break;case"bold":dt="700";break;case"black":dt="900";break;case"medium":dt="500";break;case"regular":case"normal":dt="400";break;case"light":case"thin":dt="200";break}return{style:vt,weight:ft.fWeight||dt}}var FontManager=function(){var ft=5e3,lt={w:0,size:0,shapes:[],data:{shapes:[]}},dt=[];dt=dt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var vt=127988,St=917631,Et=917601,At=917626,Ct=65039,Tt=8205,Rt=127462,Bt=127487,Dt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Ft(Sr){var br=Sr.split(","),cr,pr=br.length,Er=[];for(cr=0;cr<pr;cr+=1)br[cr]!=="sans-serif"&&br[cr]!=="monospace"&&Er.push(br[cr]);return Er.join(",")}function kt(Sr,br){var cr=createTag("span");cr.setAttribute("aria-hidden",!0),cr.style.fontFamily=br;var pr=createTag("span");pr.innerText="giItT1WQy@!-/#",cr.style.position="absolute",cr.style.left="-10000px",cr.style.top="-10000px",cr.style.fontSize="300px",cr.style.fontVariant="normal",cr.style.fontStyle="normal",cr.style.fontWeight="normal",cr.style.letterSpacing="0",cr.appendChild(pr),document.body.appendChild(cr);var Er=pr.offsetWidth;return pr.style.fontFamily=Ft(Sr)+", "+br,{node:pr,w:Er,parent:cr}}function Ut(){var Sr,br=this.fonts.length,cr,pr,Er=br;for(Sr=0;Sr<br;Sr+=1)this.fonts[Sr].loaded?Er-=1:this.fonts[Sr].fOrigin==="n"||this.fonts[Sr].origin===0?this.fonts[Sr].loaded=!0:(cr=this.fonts[Sr].monoCase.node,pr=this.fonts[Sr].monoCase.w,cr.offsetWidth!==pr?(Er-=1,this.fonts[Sr].loaded=!0):(cr=this.fonts[Sr].sansCase.node,pr=this.fonts[Sr].sansCase.w,cr.offsetWidth!==pr&&(Er-=1,this.fonts[Sr].loaded=!0)),this.fonts[Sr].loaded&&(this.fonts[Sr].sansCase.parent.parentNode.removeChild(this.fonts[Sr].sansCase.parent),this.fonts[Sr].monoCase.parent.parentNode.removeChild(this.fonts[Sr].monoCase.parent)));Er!==0&&Date.now()-this.initTime<ft?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Kt(Sr,br){var cr=document.body&&br?"svg":"canvas",pr,Er=getFontProperties(Sr);if(cr==="svg"){var _r=createNS("text");_r.style.fontSize="100px",_r.setAttribute("font-family",Sr.fFamily),_r.setAttribute("font-style",Er.style),_r.setAttribute("font-weight",Er.weight),_r.textContent="1",Sr.fClass?(_r.style.fontFamily="inherit",_r.setAttribute("class",Sr.fClass)):_r.style.fontFamily=Sr.fFamily,br.appendChild(_r),pr=_r}else{var Ar=new OffscreenCanvas(500,500).getContext("2d");Ar.font=Er.style+" "+Er.weight+" 100px "+Sr.fFamily,pr=Ar}function Pr(Ir){return cr==="svg"?(pr.textContent=Ir,pr.getComputedTextLength()):pr.measureText(Ir).width}return{measureText:Pr}}function tr(Sr,br){if(!Sr){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Sr.list;return}if(!document.body){this.isLoaded=!0,Sr.list.forEach(function(Or){Or.helper=Kt(Or),Or.cache={}}),this.fonts=Sr.list;return}var cr=Sr.list,pr,Er=cr.length,_r=Er;for(pr=0;pr<Er;pr+=1){var Ar=!0,Pr,Ir;if(cr[pr].loaded=!1,cr[pr].monoCase=kt(cr[pr].fFamily,"monospace"),cr[pr].sansCase=kt(cr[pr].fFamily,"sans-serif"),!cr[pr].fPath)cr[pr].loaded=!0,_r-=1;else if(cr[pr].fOrigin==="p"||cr[pr].origin===3){if(Pr=document.querySelectorAll('style[f-forigin="p"][f-family="'+cr[pr].fFamily+'"], style[f-origin="3"][f-family="'+cr[pr].fFamily+'"]'),Pr.length>0&&(Ar=!1),Ar){var kr=createTag("style");kr.setAttribute("f-forigin",cr[pr].fOrigin),kr.setAttribute("f-origin",cr[pr].origin),kr.setAttribute("f-family",cr[pr].fFamily),kr.type="text/css",kr.innerText="@font-face {font-family: "+cr[pr].fFamily+"; font-style: normal; src: url('"+cr[pr].fPath+"');}",br.appendChild(kr)}}else if(cr[pr].fOrigin==="g"||cr[pr].origin===1){for(Pr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ir=0;Ir<Pr.length;Ir+=1)Pr[Ir].href.indexOf(cr[pr].fPath)!==-1&&(Ar=!1);if(Ar){var Dr=createTag("link");Dr.setAttribute("f-forigin",cr[pr].fOrigin),Dr.setAttribute("f-origin",cr[pr].origin),Dr.type="text/css",Dr.rel="stylesheet",Dr.href=cr[pr].fPath,document.body.appendChild(Dr)}}else if(cr[pr].fOrigin==="t"||cr[pr].origin===2){for(Pr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ir=0;Ir<Pr.length;Ir+=1)cr[pr].fPath===Pr[Ir].src&&(Ar=!1);if(Ar){var Jr=createTag("link");Jr.setAttribute("f-forigin",cr[pr].fOrigin),Jr.setAttribute("f-origin",cr[pr].origin),Jr.setAttribute("rel","stylesheet"),Jr.setAttribute("href",cr[pr].fPath),br.appendChild(Jr)}}cr[pr].helper=Kt(cr[pr],br),cr[pr].cache={},this.fonts.push(cr[pr])}_r===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Wt(Sr){if(Sr){this.chars||(this.chars=[]);var br,cr=Sr.length,pr,Er=this.chars.length,_r;for(br=0;br<cr;br+=1){for(pr=0,_r=!1;pr<Er;)this.chars[pr].style===Sr[br].style&&this.chars[pr].fFamily===Sr[br].fFamily&&this.chars[pr].ch===Sr[br].ch&&(_r=!0),pr+=1;_r||(this.chars.push(Sr[br]),Er+=1)}}}function Zt(Sr,br,cr){for(var pr=0,Er=this.chars.length;pr<Er;){if(this.chars[pr].ch===Sr&&this.chars[pr].style===br&&this.chars[pr].fFamily===cr)return this.chars[pr];pr+=1}return(typeof Sr=="string"&&Sr.charCodeAt(0)!==13||!Sr)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Sr,br,cr)),lt}function Ht(Sr,br,cr){var pr=this.getFontByName(br),Er=Sr;if(!pr.cache[Er]){var _r=pr.helper;if(Sr===" "){var Ar=_r.measureText("|"+Sr+"|"),Pr=_r.measureText("||");pr.cache[Er]=(Ar-Pr)/100}else pr.cache[Er]=_r.measureText(Sr)/100}return pr.cache[Er]*cr}function nr(Sr){for(var br=0,cr=this.fonts.length;br<cr;){if(this.fonts[br].fName===Sr)return this.fonts[br];br+=1}return this.fonts[0]}function sr(Sr){var br=0,cr=Sr.charCodeAt(0);if(cr>=55296&&cr<=56319){var pr=Sr.charCodeAt(1);pr>=56320&&pr<=57343&&(br=(cr-55296)*1024+pr-56320+65536)}return br}function ar(Sr,br){var cr=Sr.toString(16)+br.toString(16);return Dt.indexOf(cr)!==-1}function ir(Sr){return Sr===Tt}function rr(Sr){return Sr===Ct}function lr(Sr){var br=sr(Sr);return br>=Rt&&br<=Bt}function ur(Sr){return lr(Sr.substr(0,2))&&lr(Sr.substr(2,2))}function dr(Sr){return dt.indexOf(Sr)!==-1}function mr(Sr,br){var cr=sr(Sr.substr(br,2));if(cr!==vt)return!1;var pr=0;for(br+=2;pr<5;){if(cr=sr(Sr.substr(br,2)),cr<Et||cr>At)return!1;pr+=1,br+=2}return sr(Sr.substr(br,2))===St}function Cr(){this.isLoaded=!0}var yr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};yr.isModifier=ar,yr.isZeroWidthJoiner=ir,yr.isFlagEmoji=ur,yr.isRegionalCode=lr,yr.isCombinedCharacter=dr,yr.isRegionalFlag=mr,yr.isVariationSelector=rr,yr.BLACK_FLAG_CODE_POINT=vt;var xr={addChars:Wt,addFonts:tr,getCharData:Zt,getFontByName:nr,measureText:Ht,checkLoadedFonts:Ut,setIsLoaded:Cr};return yr.prototype=xr,yr}();function SlotManager(ft){this.animationData=ft}SlotManager.prototype.getProp=function(ft){return this.animationData.slots&&this.animationData.slots[ft.sid]?Object.assign(ft,this.animationData.slots[ft.sid].p):ft};function slotFactory(ft){return new SlotManager(ft)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(lt){this.renderableComponents.indexOf(lt)===-1&&this.renderableComponents.push(lt)},removeRenderableComponent:function(lt){this.renderableComponents.indexOf(lt)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(lt),1)},prepareRenderableFrame:function(lt){this.checkLayerLimits(lt)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(lt){this.data.ip-this.data.st<=lt&&this.data.op-this.data.st>lt?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var lt,dt=this.renderableComponents.length;for(lt=0;lt<dt;lt+=1)this.renderableComponents[lt].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var ft={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(lt){return ft[lt]||""}}();function SliderEffect(ft,lt,dt){this.p=PropertyFactory.getProp(lt,ft.v,0,0,dt)}function AngleEffect(ft,lt,dt){this.p=PropertyFactory.getProp(lt,ft.v,0,0,dt)}function ColorEffect(ft,lt,dt){this.p=PropertyFactory.getProp(lt,ft.v,1,0,dt)}function PointEffect(ft,lt,dt){this.p=PropertyFactory.getProp(lt,ft.v,1,0,dt)}function LayerIndexEffect(ft,lt,dt){this.p=PropertyFactory.getProp(lt,ft.v,0,0,dt)}function MaskIndexEffect(ft,lt,dt){this.p=PropertyFactory.getProp(lt,ft.v,0,0,dt)}function CheckboxEffect(ft,lt,dt){this.p=PropertyFactory.getProp(lt,ft.v,0,0,dt)}function NoValueEffect(){this.p={}}function EffectsManager(ft,lt){var dt=ft.ef||[];this.effectElements=[];var vt,St=dt.length,Et;for(vt=0;vt<St;vt+=1)Et=new GroupEffect(dt[vt],lt),this.effectElements.push(Et)}function GroupEffect(ft,lt){this.init(ft,lt)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(ft,lt){this.data=ft,this.effectElements=[],this.initDynamicPropertyContainer(lt);var dt,vt=this.data.ef.length,St,Et=this.data.ef;for(dt=0;dt<vt;dt+=1){switch(St=null,Et[dt].ty){case 0:St=new SliderEffect(Et[dt],lt,this);break;case 1:St=new AngleEffect(Et[dt],lt,this);break;case 2:St=new ColorEffect(Et[dt],lt,this);break;case 3:St=new PointEffect(Et[dt],lt,this);break;case 4:case 7:St=new CheckboxEffect(Et[dt],lt,this);break;case 10:St=new LayerIndexEffect(Et[dt],lt,this);break;case 11:St=new MaskIndexEffect(Et[dt],lt,this);break;case 5:St=new EffectsManager(Et[dt],lt);break;default:St=new NoValueEffect(Et[dt]);break}St&&this.effectElements.push(St)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var lt=0,dt=this.data.masksProperties.length;lt<dt;){if(this.data.masksProperties[lt].mode!=="n"&&this.data.masksProperties[lt].cl!==!1)return!0;lt+=1}return!1},initExpressions:function(){var lt=getExpressionInterfaces();if(lt){var dt=lt("layer"),vt=lt("effects"),St=lt("shape"),Et=lt("text"),At=lt("comp");this.layerInterface=dt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Ct=vt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Ct),this.data.ty===0||this.data.xt?this.compInterface=At(this):this.data.ty===4?(this.layerInterface.shapeInterface=St(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Et(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var lt=getBlendMode(this.data.bm),dt=this.baseElement||this.layerElement;dt.style["mix-blend-mode"]=lt},initBaseData:function(lt,dt,vt){this.globalData=dt,this.comp=vt,this.data=lt,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(lt,dt){var vt,St=this.dynamicProperties.length;for(vt=0;vt<St;vt+=1)(dt||this._isParent&&this.dynamicProperties[vt].propType==="transform")&&(this.dynamicProperties[vt].getValue(),this.dynamicProperties[vt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(lt){this.dynamicProperties.indexOf(lt)===-1&&this.dynamicProperties.push(lt)}};function FootageElement(ft,lt,dt){this.initFrame(),this.initRenderable(),this.assetData=lt.getAssetData(ft.refId),this.footageData=lt.imageLoader.getAsset(this.assetData),this.initBaseData(ft,lt,dt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var ft=getExpressionInterfaces();if(ft){var lt=ft("footage");this.layerInterface=lt(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(ft,lt,dt){this.initFrame(),this.initRenderable(),this.assetData=lt.getAssetData(ft.refId),this.initBaseData(ft,lt,dt),this._isPlaying=!1,this._canPlay=!1;var vt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(vt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=ft.tm?PropertyFactory.getProp(this,ft.tm,0,lt.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,ft.au&&ft.au.lv?ft.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(ft){if(this.prepareRenderableFrame(ft,!0),this.prepareProperties(ft,!0),this.tm._placeholder)this._currentTime=ft/this.data.sr;else{var lt=this.tm.v;this._currentTime=lt}this._volume=this.lv.v[0];var dt=this._volume*this._volumeMultiplier;this._previousVolume!==dt&&(this._previousVolume=dt,this.audio.volume(dt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(ft){this.audio.rate(ft)},AudioElement.prototype.volume=function(ft){this._volumeMultiplier=ft,this._previousVolume=ft*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(ft){var lt,dt=this.layers.length,vt;for(this.completeLayers=!0,lt=dt-1;lt>=0;lt-=1)this.elements[lt]||(vt=this.layers[lt],vt.ip-vt.st<=ft-this.layers[lt].st&&vt.op-vt.st>ft-this.layers[lt].st&&this.buildItem(lt)),this.completeLayers=this.elements[lt]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(ft){switch(ft.ty){case 2:return this.createImage(ft);case 0:return this.createComp(ft);case 1:return this.createSolid(ft);case 3:return this.createNull(ft);case 4:return this.createShape(ft);case 5:return this.createText(ft);case 6:return this.createAudio(ft);case 13:return this.createCamera(ft);case 15:return this.createFootage(ft);default:return this.createNull(ft)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(ft){return new AudioElement(ft,this.globalData,this)},BaseRenderer.prototype.createFootage=function(ft){return new FootageElement(ft,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var ft,lt=this.layers.length;for(ft=0;ft<lt;ft+=1)this.buildItem(ft);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(ft){this.completeLayers=!1;var lt,dt=ft.length,vt,St=this.layers.length;for(lt=0;lt<dt;lt+=1)for(vt=0;vt<St;){if(this.layers[vt].id===ft[lt].id){this.layers[vt]=ft[lt];break}vt+=1}},BaseRenderer.prototype.setProjectInterface=function(ft){this.globalData.projectInterface=ft},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(ft,lt,dt){for(var vt=this.elements,St=this.layers,Et=0,At=St.length;Et<At;)St[Et].ind==lt&&(!vt[Et]||vt[Et]===!0?(this.buildItem(Et),this.addPendingElement(ft)):(dt.push(vt[Et]),vt[Et].setAsParent(),St[Et].parent!==void 0?this.buildElementParenting(ft,St[Et].parent,dt):ft.setHierarchy(dt))),Et+=1},BaseRenderer.prototype.addPendingElement=function(ft){this.pendingElements.push(ft)},BaseRenderer.prototype.searchExtraCompositions=function(ft){var lt,dt=ft.length;for(lt=0;lt<dt;lt+=1)if(ft[lt].xt){var vt=this.createComp(ft[lt]);vt.initExpressions(),this.globalData.projectInterface.registerComposition(vt)}},BaseRenderer.prototype.getElementById=function(ft){var lt,dt=this.elements.length;for(lt=0;lt<dt;lt+=1)if(this.elements[lt].data.ind===ft)return this.elements[lt];return null},BaseRenderer.prototype.getElementByPath=function(ft){var lt=ft.shift(),dt;if(typeof lt=="number")dt=this.elements[lt];else{var vt,St=this.elements.length;for(vt=0;vt<St;vt+=1)if(this.elements[vt].data.nm===lt){dt=this.elements[vt];break}}return ft.length===0?dt:dt.getElementByPath(ft)},BaseRenderer.prototype.setupGlobalData=function(ft,lt){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(ft),this.globalData.fontManager.addChars(ft.chars),this.globalData.fontManager.addFonts(ft.fonts,lt),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=ft.fr,this.globalData.nm=ft.nm,this.globalData.compSize={w:ft.w,h:ft.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var lt=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:lt,localMat:lt,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var lt,dt=this.finalTransform.mat,vt=0,St=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;vt<St;){if(this.hierarchy[vt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}vt+=1}if(this.finalTransform._matMdf)for(lt=this.finalTransform.mProp.v.props,dt.cloneFromProps(lt),vt=0;vt<St;vt+=1)dt.multiply(this.hierarchy[vt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var lt=0,dt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;lt<dt;)this.localTransforms[lt]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[lt]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),lt+=1;if(this.finalTransform._localMatMdf){var vt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(vt),lt=1;lt<dt;lt+=1){var St=this.localTransforms[lt].matrix;vt.multiply(St)}vt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Et=this.finalTransform.localOpacity;for(lt=0;lt<dt;lt+=1)Et*=this.localTransforms[lt].opacity*.01;this.finalTransform.localOpacity=Et}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var lt=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(lt.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var dt=0,vt=lt.length;for(dt=0;dt<vt;dt+=1)this.localTransforms.push(lt[dt])}}},globalToLocal:function(lt){var dt=[];dt.push(this.finalTransform);for(var vt=!0,St=this.comp;vt;)St.finalTransform?(St.data.hasMask&&dt.splice(0,0,St.finalTransform),St=St.comp):vt=!1;var Et,At=dt.length,Ct;for(Et=0;Et<At;Et+=1)Ct=dt[Et].mat.applyToPointArray(0,0,0),lt=[lt[0]-Ct[0],lt[1]-Ct[1],0];return lt},mHelper:new Matrix};function MaskElement(ft,lt,dt){this.data=ft,this.element=lt,this.globalData=dt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var vt=this.globalData.defs,St,Et=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Et),this.solidPath="";var At,Ct=this.masksProperties,Tt=0,Rt=[],Bt,Dt,Ft=createElementID(),kt,Ut,Kt,tr,Wt="clipPath",Zt="clip-path";for(St=0;St<Et;St+=1)if((Ct[St].mode!=="a"&&Ct[St].mode!=="n"||Ct[St].inv||Ct[St].o.k!==100||Ct[St].o.x)&&(Wt="mask",Zt="mask"),(Ct[St].mode==="s"||Ct[St].mode==="i")&&Tt===0?(kt=createNS("rect"),kt.setAttribute("fill","#ffffff"),kt.setAttribute("width",this.element.comp.data.w||0),kt.setAttribute("height",this.element.comp.data.h||0),Rt.push(kt)):kt=null,At=createNS("path"),Ct[St].mode==="n")this.viewData[St]={op:PropertyFactory.getProp(this.element,Ct[St].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ct[St],3),elem:At,lastPath:""},vt.appendChild(At);else{Tt+=1,At.setAttribute("fill",Ct[St].mode==="s"?"#000000":"#ffffff"),At.setAttribute("clip-rule","nonzero");var Ht;if(Ct[St].x.k!==0?(Wt="mask",Zt="mask",tr=PropertyFactory.getProp(this.element,Ct[St].x,0,null,this.element),Ht=createElementID(),Ut=createNS("filter"),Ut.setAttribute("id",Ht),Kt=createNS("feMorphology"),Kt.setAttribute("operator","erode"),Kt.setAttribute("in","SourceGraphic"),Kt.setAttribute("radius","0"),Ut.appendChild(Kt),vt.appendChild(Ut),At.setAttribute("stroke",Ct[St].mode==="s"?"#000000":"#ffffff")):(Kt=null,tr=null),this.storedData[St]={elem:At,x:tr,expan:Kt,lastPath:"",lastOperator:"",filterId:Ht,lastRadius:0},Ct[St].mode==="i"){Dt=Rt.length;var nr=createNS("g");for(Bt=0;Bt<Dt;Bt+=1)nr.appendChild(Rt[Bt]);var sr=createNS("mask");sr.setAttribute("mask-type","alpha"),sr.setAttribute("id",Ft+"_"+Tt),sr.appendChild(At),vt.appendChild(sr),nr.setAttribute("mask","url("+getLocationHref()+"#"+Ft+"_"+Tt+")"),Rt.length=0,Rt.push(nr)}else Rt.push(At);Ct[St].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[St]={elem:At,lastPath:"",op:PropertyFactory.getProp(this.element,Ct[St].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ct[St],3),invRect:kt},this.viewData[St].prop.k||this.drawPath(Ct[St],this.viewData[St].prop.v,this.viewData[St])}for(this.maskElement=createNS(Wt),Et=Rt.length,St=0;St<Et;St+=1)this.maskElement.appendChild(Rt[St]);Tt>0&&(this.maskElement.setAttribute("id",Ft),this.element.maskedElement.setAttribute(Zt,"url("+getLocationHref()+"#"+Ft+")"),vt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(ft){return this.viewData[ft].prop},MaskElement.prototype.renderFrame=function(ft){var lt=this.element.finalTransform.mat,dt,vt=this.masksProperties.length;for(dt=0;dt<vt;dt+=1)if((this.viewData[dt].prop._mdf||ft)&&this.drawPath(this.masksProperties[dt],this.viewData[dt].prop.v,this.viewData[dt]),(this.viewData[dt].op._mdf||ft)&&this.viewData[dt].elem.setAttribute("fill-opacity",this.viewData[dt].op.v),this.masksProperties[dt].mode!=="n"&&(this.viewData[dt].invRect&&(this.element.finalTransform.mProp._mdf||ft)&&this.viewData[dt].invRect.setAttribute("transform",lt.getInverseMatrix().to2dCSS()),this.storedData[dt].x&&(this.storedData[dt].x._mdf||ft))){var St=this.storedData[dt].expan;this.storedData[dt].x.v<0?(this.storedData[dt].lastOperator!=="erode"&&(this.storedData[dt].lastOperator="erode",this.storedData[dt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[dt].filterId+")")),St.setAttribute("radius",-this.storedData[dt].x.v)):(this.storedData[dt].lastOperator!=="dilate"&&(this.storedData[dt].lastOperator="dilate",this.storedData[dt].elem.setAttribute("filter",null)),this.storedData[dt].elem.setAttribute("stroke-width",this.storedData[dt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var ft="M0,0 ";return ft+=" h"+this.globalData.compSize.w,ft+=" v"+this.globalData.compSize.h,ft+=" h-"+this.globalData.compSize.w,ft+=" v-"+this.globalData.compSize.h+" ",ft},MaskElement.prototype.drawPath=function(ft,lt,dt){var vt=" M"+lt.v[0][0]+","+lt.v[0][1],St,Et;for(Et=lt._length,St=1;St<Et;St+=1)vt+=" C"+lt.o[St-1][0]+","+lt.o[St-1][1]+" "+lt.i[St][0]+","+lt.i[St][1]+" "+lt.v[St][0]+","+lt.v[St][1];if(lt.c&&Et>1&&(vt+=" C"+lt.o[St-1][0]+","+lt.o[St-1][1]+" "+lt.i[0][0]+","+lt.i[0][1]+" "+lt.v[0][0]+","+lt.v[0][1]),dt.lastPath!==vt){var At="";dt.elem&&(lt.c&&(At=ft.inv?this.solidPath+vt:vt),dt.elem.setAttribute("d",At)),dt.lastPath=vt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var ft={};ft.createFilter=lt,ft.createAlphaToLuminanceFilter=dt;function lt(vt,St){var Et=createNS("filter");return Et.setAttribute("id",vt),St!==!0&&(Et.setAttribute("filterUnits","objectBoundingBox"),Et.setAttribute("x","0%"),Et.setAttribute("y","0%"),Et.setAttribute("width","100%"),Et.setAttribute("height","100%")),Et}function dt(){var vt=createNS("feColorMatrix");return vt.setAttribute("type","matrix"),vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),vt}return ft}(),featureSupport=function(){var ft={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(ft.maskType=!1),/firefox/i.test(navigator.userAgent)&&(ft.svgLumaHidden=!1),ft}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(ft){var lt,dt="SourceGraphic",vt=ft.data.ef?ft.data.ef.length:0,St=createElementID(),Et=filtersFactory.createFilter(St,!0),At=0;this.filters=[];var Ct;for(lt=0;lt<vt;lt+=1){Ct=null;var Tt=ft.data.ef[lt].ty;if(registeredEffects$1[Tt]){var Rt=registeredEffects$1[Tt].effect;Ct=new Rt(Et,ft.effectsManager.effectElements[lt],ft,idPrefix+At,dt),dt=idPrefix+At,registeredEffects$1[Tt].countsAsEffect&&(At+=1)}Ct&&this.filters.push(Ct)}At&&(ft.globalData.defs.appendChild(Et),ft.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+St+")")),this.filters.length&&ft.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(ft){var lt,dt=this.filters.length;for(lt=0;lt<dt;lt+=1)this.filters[lt].renderFrame(ft)},SVGEffects.prototype.getEffects=function(ft){var lt,dt=this.filters.length,vt=[];for(lt=0;lt<dt;lt+=1)this.filters[lt].type===ft&&vt.push(this.filters[lt]);return vt};function registerEffect$1(ft,lt,dt){registeredEffects$1[ft]={effect:lt,countsAsEffect:dt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var lt=null;if(this.data.td){this.matteMasks={};var dt=createNS("g");dt.setAttribute("id",this.layerId),dt.appendChild(this.layerElement),lt=dt,this.globalData.defs.appendChild(dt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),lt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var vt=createNS("clipPath"),St=createNS("path");St.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Et=createElementID();if(vt.setAttribute("id",Et),vt.appendChild(St),this.globalData.defs.appendChild(vt),this.checkMasks()){var At=createNS("g");At.setAttribute("clip-path","url("+getLocationHref()+"#"+Et+")"),At.appendChild(this.layerElement),this.transformedElement=At,lt?lt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Et+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(lt){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[lt]){var dt=this.layerId+"_"+lt,vt,St,Et,At;if(lt===1||lt===3){var Ct=createNS("mask");Ct.setAttribute("id",dt),Ct.setAttribute("mask-type",lt===3?"luminance":"alpha"),Et=createNS("use"),Et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ct.appendChild(Et),this.globalData.defs.appendChild(Ct),!featureSupport.maskType&&lt===1&&(Ct.setAttribute("mask-type","luminance"),vt=createElementID(),St=filtersFactory.createFilter(vt),this.globalData.defs.appendChild(St),St.appendChild(filtersFactory.createAlphaToLuminanceFilter()),At=createNS("g"),At.appendChild(Et),Ct.appendChild(At),At.setAttribute("filter","url("+getLocationHref()+"#"+vt+")"))}else if(lt===2){var Tt=createNS("mask");Tt.setAttribute("id",dt),Tt.setAttribute("mask-type","alpha");var Rt=createNS("g");Tt.appendChild(Rt),vt=createElementID(),St=filtersFactory.createFilter(vt);var Bt=createNS("feComponentTransfer");Bt.setAttribute("in","SourceGraphic"),St.appendChild(Bt);var Dt=createNS("feFuncA");Dt.setAttribute("type","table"),Dt.setAttribute("tableValues","1.0 0.0"),Bt.appendChild(Dt),this.globalData.defs.appendChild(St);var Ft=createNS("rect");Ft.setAttribute("width",this.comp.data.w),Ft.setAttribute("height",this.comp.data.h),Ft.setAttribute("x","0"),Ft.setAttribute("y","0"),Ft.setAttribute("fill","#ffffff"),Ft.setAttribute("opacity","0"),Rt.setAttribute("filter","url("+getLocationHref()+"#"+vt+")"),Rt.appendChild(Ft),Et=createNS("use"),Et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Rt.appendChild(Et),featureSupport.maskType||(Tt.setAttribute("mask-type","luminance"),St.appendChild(filtersFactory.createAlphaToLuminanceFilter()),At=createNS("g"),Rt.appendChild(Ft),At.appendChild(this.layerElement),Rt.appendChild(At)),this.globalData.defs.appendChild(Tt)}this.matteMasks[lt]=dt}return this.matteMasks[lt]},setMatte:function(lt){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+lt+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(lt){this.hierarchy=lt},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var ft={initElement:function(dt,vt,St){this.initFrame(),this.initBaseData(dt,vt,St),this.initTransform(dt,vt,St),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var dt=this.baseElement||this.layerElement;dt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var dt=this.baseElement||this.layerElement;dt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(dt){this._mdf=!1,this.prepareRenderableFrame(dt),this.prepareProperties(dt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(ft)],RenderableDOMElement)})();function IImageElement(ft,lt,dt){this.assetData=lt.getAssetData(ft.refId),this.assetData&&this.assetData.sid&&(this.assetData=lt.slotManager.getProp(this.assetData)),this.initElement(ft,lt,dt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var ft=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",ft),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(ft,lt){this.elem=ft,this.pos=lt}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(lt){var dt,vt=this.shapeModifiers.length;for(dt=0;dt<vt;dt+=1)this.shapeModifiers[dt].addShape(lt)},isShapeInAnimatedModifiers:function(lt){for(var dt=0,vt=this.shapeModifiers.length;dt<vt;)if(this.shapeModifiers[dt].isAnimatedWithShape(lt))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var lt,dt=this.shapes.length;for(lt=0;lt<dt;lt+=1)this.shapes[lt].sh.reset();dt=this.shapeModifiers.length;var vt;for(lt=dt-1;lt>=0&&(vt=this.shapeModifiers[lt].processShapes(this._isFirstFrame),!vt);lt-=1);}},searchProcessedElement:function(lt){for(var dt=this.processedElements,vt=0,St=dt.length;vt<St;){if(dt[vt].elem===lt)return dt[vt].pos;vt+=1}return 0},addProcessedElement:function(lt,dt){for(var vt=this.processedElements,St=vt.length;St;)if(St-=1,vt[St].elem===lt){vt[St].pos=dt;return}vt.push(new ProcessedElement(lt,dt))},prepareFrame:function(lt){this.prepareRenderableFrame(lt),this.prepareProperties(lt,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(ft,lt,dt){this.caches=[],this.styles=[],this.transformers=ft,this.lStr="",this.sh=dt,this.lvl=lt,this._isAnimated=!!dt.k;for(var vt=0,St=ft.length;vt<St;){if(ft[vt].mProps.dynamicProperties.length){this._isAnimated=!0;break}vt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(ft,lt){this.data=ft,this.type=ft.ty,this.d="",this.lvl=lt,this._mdf=!1,this.closed=ft.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(ft,lt,dt,vt){this.elem=ft,this.frameId=-1,this.dataProps=createSizedArray(lt.length),this.renderer=dt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",lt.length?lt.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(vt);var St,Et=lt.length||0,At;for(St=0;St<Et;St+=1)At=PropertyFactory.getProp(ft,lt[St].v,0,0,this),this.k=At.k||this.k,this.dataProps[St]={n:lt[St].n,p:At};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(ft){if(!(this.elem.globalData.frameId===this.frameId&&!ft)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||ft,this._mdf)){var lt=0,dt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),lt=0;lt<dt;lt+=1)this.dataProps[lt].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[lt].p.v:this.dashArray[lt]=this.dataProps[lt].p.v:this.dashoffset[0]=this.dataProps[lt].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(ft,lt,dt){this.initDynamicPropertyContainer(ft),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(ft,lt.o,0,.01,this),this.w=PropertyFactory.getProp(ft,lt.w,0,null,this),this.d=new DashProperty(ft,lt.d||{},"svg",this),this.c=PropertyFactory.getProp(ft,lt.c,1,255,this),this.style=dt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(ft,lt,dt){this.initDynamicPropertyContainer(ft),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(ft,lt.o,0,.01,this),this.c=PropertyFactory.getProp(ft,lt.c,1,255,this),this.style=dt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(ft,lt,dt){this.initDynamicPropertyContainer(ft),this.getValue=this.iterateDynamicProperties,this.style=dt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(ft,lt,dt){this.data=lt,this.c=createTypedArray("uint8c",lt.p*4);var vt=lt.k.k[0].s?lt.k.k[0].s.length-lt.p*4:lt.k.k.length-lt.p*4;this.o=createTypedArray("float32",vt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=vt,this.initDynamicPropertyContainer(dt),this.prop=PropertyFactory.getProp(ft,lt.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(ft,lt){for(var dt=0,vt=this.o.length/2,St;dt<vt;){if(St=Math.abs(ft[dt*4]-ft[lt*4+dt*2]),St>.01)return!1;dt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var ft=0,lt=this.data.k.k.length;ft<lt;){if(!this.comparePoints(this.data.k.k[ft].s,this.data.p))return!1;ft+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(ft){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||ft){var lt,dt=this.data.p*4,vt,St;for(lt=0;lt<dt;lt+=1)vt=lt%4===0?100:255,St=Math.round(this.prop.v[lt]*vt),this.c[lt]!==St&&(this.c[lt]=St,this._cmdf=!ft);if(this.o.length)for(dt=this.prop.v.length,lt=this.data.p*4;lt<dt;lt+=1)vt=lt%2===0?100:1,St=lt%2===0?Math.round(this.prop.v[lt]*100):this.prop.v[lt],this.o[lt-this.data.p*4]!==St&&(this.o[lt-this.data.p*4]=St,this._omdf=!ft);this._mdf=!ft}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(ft,lt,dt){this.initDynamicPropertyContainer(ft),this.getValue=this.iterateDynamicProperties,this.initGradientData(ft,lt,dt)}SVGGradientFillStyleData.prototype.initGradientData=function(ft,lt,dt){this.o=PropertyFactory.getProp(ft,lt.o,0,.01,this),this.s=PropertyFactory.getProp(ft,lt.s,1,null,this),this.e=PropertyFactory.getProp(ft,lt.e,1,null,this),this.h=PropertyFactory.getProp(ft,lt.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(ft,lt.a||{k:0},0,degToRads,this),this.g=new GradientProperty(ft,lt.g,this),this.style=dt,this.stops=[],this.setGradientData(dt.pElem,lt),this.setGradientOpacity(lt,dt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(ft,lt){var dt=createElementID(),vt=createNS(lt.t===1?"linearGradient":"radialGradient");vt.setAttribute("id",dt),vt.setAttribute("spreadMethod","pad"),vt.setAttribute("gradientUnits","userSpaceOnUse");var St=[],Et,At,Ct;for(Ct=lt.g.p*4,At=0;At<Ct;At+=4)Et=createNS("stop"),vt.appendChild(Et),St.push(Et);ft.setAttribute(lt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+dt+")"),this.gf=vt,this.cst=St},SVGGradientFillStyleData.prototype.setGradientOpacity=function(ft,lt){if(this.g._hasOpacity&&!this.g._collapsable){var dt,vt,St,Et=createNS("mask"),At=createNS("path");Et.appendChild(At);var Ct=createElementID(),Tt=createElementID();Et.setAttribute("id",Tt);var Rt=createNS(ft.t===1?"linearGradient":"radialGradient");Rt.setAttribute("id",Ct),Rt.setAttribute("spreadMethod","pad"),Rt.setAttribute("gradientUnits","userSpaceOnUse"),St=ft.g.k.k[0].s?ft.g.k.k[0].s.length:ft.g.k.k.length;var Bt=this.stops;for(vt=ft.g.p*4;vt<St;vt+=2)dt=createNS("stop"),dt.setAttribute("stop-color","rgb(255,255,255)"),Rt.appendChild(dt),Bt.push(dt);At.setAttribute(ft.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ct+")"),ft.ty==="gs"&&(At.setAttribute("stroke-linecap",lineCapEnum[ft.lc||2]),At.setAttribute("stroke-linejoin",lineJoinEnum[ft.lj||2]),ft.lj===1&&At.setAttribute("stroke-miterlimit",ft.ml)),this.of=Rt,this.ms=Et,this.ost=Bt,this.maskId=Tt,lt.msElem=At}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(ft,lt,dt){this.initDynamicPropertyContainer(ft),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(ft,lt.w,0,null,this),this.d=new DashProperty(ft,lt.d||{},"svg",this),this.initGradientData(ft,lt,dt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(ft,lt,dt){this.transform={mProps:ft,op:lt,container:dt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(lt,dt,vt,St){if(dt===0)return"";var Et=lt.o,At=lt.i,Ct=lt.v,Tt,Rt=" M"+St.applyToPointStringified(Ct[0][0],Ct[0][1]);for(Tt=1;Tt<dt;Tt+=1)Rt+=" C"+St.applyToPointStringified(Et[Tt-1][0],Et[Tt-1][1])+" "+St.applyToPointStringified(At[Tt][0],At[Tt][1])+" "+St.applyToPointStringified(Ct[Tt][0],Ct[Tt][1]);return vt&&dt&&(Rt+=" C"+St.applyToPointStringified(Et[Tt-1][0],Et[Tt-1][1])+" "+St.applyToPointStringified(At[0][0],At[0][1])+" "+St.applyToPointStringified(Ct[0][0],Ct[0][1]),Rt+="z"),Rt},SVGElementsRenderer=function(){var ft=new Matrix,lt=new Matrix,dt={createRenderFunction:vt};function vt(Dt){switch(Dt.ty){case"fl":return Ct;case"gf":return Rt;case"gs":return Tt;case"st":return Bt;case"sh":case"el":case"rc":case"sr":return At;case"tr":return St;case"no":return Et;default:return null}}function St(Dt,Ft,kt){(kt||Ft.transform.op._mdf)&&Ft.transform.container.setAttribute("opacity",Ft.transform.op.v),(kt||Ft.transform.mProps._mdf)&&Ft.transform.container.setAttribute("transform",Ft.transform.mProps.v.to2dCSS())}function Et(){}function At(Dt,Ft,kt){var Ut,Kt,tr,Wt,Zt,Ht,nr=Ft.styles.length,sr=Ft.lvl,ar,ir,rr,lr;for(Ht=0;Ht<nr;Ht+=1){if(Wt=Ft.sh._mdf||kt,Ft.styles[Ht].lvl<sr){for(ir=lt.reset(),rr=sr-Ft.styles[Ht].lvl,lr=Ft.transformers.length-1;!Wt&&rr>0;)Wt=Ft.transformers[lr].mProps._mdf||Wt,rr-=1,lr-=1;if(Wt)for(rr=sr-Ft.styles[Ht].lvl,lr=Ft.transformers.length-1;rr>0;)ir.multiply(Ft.transformers[lr].mProps.v),rr-=1,lr-=1}else ir=ft;if(ar=Ft.sh.paths,Kt=ar._length,Wt){for(tr="",Ut=0;Ut<Kt;Ut+=1)Zt=ar.shapes[Ut],Zt&&Zt._length&&(tr+=buildShapeString(Zt,Zt._length,Zt.c,ir));Ft.caches[Ht]=tr}else tr=Ft.caches[Ht];Ft.styles[Ht].d+=Dt.hd===!0?"":tr,Ft.styles[Ht]._mdf=Wt||Ft.styles[Ht]._mdf}}function Ct(Dt,Ft,kt){var Ut=Ft.style;(Ft.c._mdf||kt)&&Ut.pElem.setAttribute("fill","rgb("+bmFloor(Ft.c.v[0])+","+bmFloor(Ft.c.v[1])+","+bmFloor(Ft.c.v[2])+")"),(Ft.o._mdf||kt)&&Ut.pElem.setAttribute("fill-opacity",Ft.o.v)}function Tt(Dt,Ft,kt){Rt(Dt,Ft,kt),Bt(Dt,Ft,kt)}function Rt(Dt,Ft,kt){var Ut=Ft.gf,Kt=Ft.g._hasOpacity,tr=Ft.s.v,Wt=Ft.e.v;if(Ft.o._mdf||kt){var Zt=Dt.ty==="gf"?"fill-opacity":"stroke-opacity";Ft.style.pElem.setAttribute(Zt,Ft.o.v)}if(Ft.s._mdf||kt){var Ht=Dt.t===1?"x1":"cx",nr=Ht==="x1"?"y1":"cy";Ut.setAttribute(Ht,tr[0]),Ut.setAttribute(nr,tr[1]),Kt&&!Ft.g._collapsable&&(Ft.of.setAttribute(Ht,tr[0]),Ft.of.setAttribute(nr,tr[1]))}var sr,ar,ir,rr;if(Ft.g._cmdf||kt){sr=Ft.cst;var lr=Ft.g.c;for(ir=sr.length,ar=0;ar<ir;ar+=1)rr=sr[ar],rr.setAttribute("offset",lr[ar*4]+"%"),rr.setAttribute("stop-color","rgb("+lr[ar*4+1]+","+lr[ar*4+2]+","+lr[ar*4+3]+")")}if(Kt&&(Ft.g._omdf||kt)){var ur=Ft.g.o;for(Ft.g._collapsable?sr=Ft.cst:sr=Ft.ost,ir=sr.length,ar=0;ar<ir;ar+=1)rr=sr[ar],Ft.g._collapsable||rr.setAttribute("offset",ur[ar*2]+"%"),rr.setAttribute("stop-opacity",ur[ar*2+1])}if(Dt.t===1)(Ft.e._mdf||kt)&&(Ut.setAttribute("x2",Wt[0]),Ut.setAttribute("y2",Wt[1]),Kt&&!Ft.g._collapsable&&(Ft.of.setAttribute("x2",Wt[0]),Ft.of.setAttribute("y2",Wt[1])));else{var dr;if((Ft.s._mdf||Ft.e._mdf||kt)&&(dr=Math.sqrt(Math.pow(tr[0]-Wt[0],2)+Math.pow(tr[1]-Wt[1],2)),Ut.setAttribute("r",dr),Kt&&!Ft.g._collapsable&&Ft.of.setAttribute("r",dr)),Ft.e._mdf||Ft.h._mdf||Ft.a._mdf||kt){dr||(dr=Math.sqrt(Math.pow(tr[0]-Wt[0],2)+Math.pow(tr[1]-Wt[1],2)));var mr=Math.atan2(Wt[1]-tr[1],Wt[0]-tr[0]),Cr=Ft.h.v;Cr>=1?Cr=.99:Cr<=-1&&(Cr=-.99);var yr=dr*Cr,xr=Math.cos(mr+Ft.a.v)*yr+tr[0],Sr=Math.sin(mr+Ft.a.v)*yr+tr[1];Ut.setAttribute("fx",xr),Ut.setAttribute("fy",Sr),Kt&&!Ft.g._collapsable&&(Ft.of.setAttribute("fx",xr),Ft.of.setAttribute("fy",Sr))}}}function Bt(Dt,Ft,kt){var Ut=Ft.style,Kt=Ft.d;Kt&&(Kt._mdf||kt)&&Kt.dashStr&&(Ut.pElem.setAttribute("stroke-dasharray",Kt.dashStr),Ut.pElem.setAttribute("stroke-dashoffset",Kt.dashoffset[0])),Ft.c&&(Ft.c._mdf||kt)&&Ut.pElem.setAttribute("stroke","rgb("+bmFloor(Ft.c.v[0])+","+bmFloor(Ft.c.v[1])+","+bmFloor(Ft.c.v[2])+")"),(Ft.o._mdf||kt)&&Ut.pElem.setAttribute("stroke-opacity",Ft.o.v),(Ft.w._mdf||kt)&&(Ut.pElem.setAttribute("stroke-width",Ft.w.v),Ut.msElem&&Ut.msElem.setAttribute("stroke-width",Ft.w.v))}return dt}();function SVGShapeElement(ft,lt,dt){this.shapes=[],this.shapesData=ft.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(ft,lt,dt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var ft,lt=this.shapes.length,dt,vt,St=this.stylesList.length,Et,At=[],Ct=!1;for(vt=0;vt<St;vt+=1){for(Et=this.stylesList[vt],Ct=!1,At.length=0,ft=0;ft<lt;ft+=1)dt=this.shapes[ft],dt.styles.indexOf(Et)!==-1&&(At.push(dt),Ct=dt._isAnimated||Ct);At.length>1&&Ct&&this.setShapesAsAnimated(At)}},SVGShapeElement.prototype.setShapesAsAnimated=function(ft){var lt,dt=ft.length;for(lt=0;lt<dt;lt+=1)ft[lt].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(ft,lt){var dt,vt=new SVGStyleData(ft,lt),St=vt.pElem;if(ft.ty==="st")dt=new SVGStrokeStyleData(this,ft,vt);else if(ft.ty==="fl")dt=new SVGFillStyleData(this,ft,vt);else if(ft.ty==="gf"||ft.ty==="gs"){var Et=ft.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;dt=new Et(this,ft,vt),this.globalData.defs.appendChild(dt.gf),dt.maskId&&(this.globalData.defs.appendChild(dt.ms),this.globalData.defs.appendChild(dt.of),St.setAttribute("mask","url("+getLocationHref()+"#"+dt.maskId+")"))}else ft.ty==="no"&&(dt=new SVGNoStyleData(this,ft,vt));return(ft.ty==="st"||ft.ty==="gs")&&(St.setAttribute("stroke-linecap",lineCapEnum[ft.lc||2]),St.setAttribute("stroke-linejoin",lineJoinEnum[ft.lj||2]),St.setAttribute("fill-opacity","0"),ft.lj===1&&St.setAttribute("stroke-miterlimit",ft.ml)),ft.r===2&&St.setAttribute("fill-rule","evenodd"),ft.ln&&St.setAttribute("id",ft.ln),ft.cl&&St.setAttribute("class",ft.cl),ft.bm&&(St.style["mix-blend-mode"]=getBlendMode(ft.bm)),this.stylesList.push(vt),this.addToAnimatedContents(ft,dt),dt},SVGShapeElement.prototype.createGroupElement=function(ft){var lt=new ShapeGroupData;return ft.ln&&lt.gr.setAttribute("id",ft.ln),ft.cl&&lt.gr.setAttribute("class",ft.cl),ft.bm&&(lt.gr.style["mix-blend-mode"]=getBlendMode(ft.bm)),lt},SVGShapeElement.prototype.createTransformElement=function(ft,lt){var dt=TransformPropertyFactory.getTransformProperty(this,ft,this),vt=new SVGTransformData(dt,dt.o,lt);return this.addToAnimatedContents(ft,vt),vt},SVGShapeElement.prototype.createShapeElement=function(ft,lt,dt){var vt=4;ft.ty==="rc"?vt=5:ft.ty==="el"?vt=6:ft.ty==="sr"&&(vt=7);var St=ShapePropertyFactory.getShapeProp(this,ft,vt,this),Et=new SVGShapeData(lt,dt,St);return this.shapes.push(Et),this.addShapeToModifiers(Et),this.addToAnimatedContents(ft,Et),Et},SVGShapeElement.prototype.addToAnimatedContents=function(ft,lt){for(var dt=0,vt=this.animatedContents.length;dt<vt;){if(this.animatedContents[dt].element===lt)return;dt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(ft),element:lt,data:ft})},SVGShapeElement.prototype.setElementStyles=function(ft){var lt=ft.styles,dt,vt=this.stylesList.length;for(dt=0;dt<vt;dt+=1)this.stylesList[dt].closed||lt.push(this.stylesList[dt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var ft,lt=this.itemsData.length;for(ft=0;ft<lt;ft+=1)this.prevViewData[ft]=this.itemsData[ft];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),lt=this.dynamicProperties.length,ft=0;ft<lt;ft+=1)this.dynamicProperties[ft].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(ft,lt,dt,vt,St,Et,At){var Ct=[].concat(Et),Tt,Rt=ft.length-1,Bt,Dt,Ft=[],kt=[],Ut,Kt,tr;for(Tt=Rt;Tt>=0;Tt-=1){if(tr=this.searchProcessedElement(ft[Tt]),tr?lt[Tt]=dt[tr-1]:ft[Tt]._render=At,ft[Tt].ty==="fl"||ft[Tt].ty==="st"||ft[Tt].ty==="gf"||ft[Tt].ty==="gs"||ft[Tt].ty==="no")tr?lt[Tt].style.closed=!1:lt[Tt]=this.createStyleElement(ft[Tt],St),ft[Tt]._render&&lt[Tt].style.pElem.parentNode!==vt&&vt.appendChild(lt[Tt].style.pElem),Ft.push(lt[Tt].style);else if(ft[Tt].ty==="gr"){if(!tr)lt[Tt]=this.createGroupElement(ft[Tt]);else for(Dt=lt[Tt].it.length,Bt=0;Bt<Dt;Bt+=1)lt[Tt].prevViewData[Bt]=lt[Tt].it[Bt];this.searchShapes(ft[Tt].it,lt[Tt].it,lt[Tt].prevViewData,lt[Tt].gr,St+1,Ct,At),ft[Tt]._render&&lt[Tt].gr.parentNode!==vt&&vt.appendChild(lt[Tt].gr)}else ft[Tt].ty==="tr"?(tr||(lt[Tt]=this.createTransformElement(ft[Tt],vt)),Ut=lt[Tt].transform,Ct.push(Ut)):ft[Tt].ty==="sh"||ft[Tt].ty==="rc"||ft[Tt].ty==="el"||ft[Tt].ty==="sr"?(tr||(lt[Tt]=this.createShapeElement(ft[Tt],Ct,St)),this.setElementStyles(lt[Tt])):ft[Tt].ty==="tm"||ft[Tt].ty==="rd"||ft[Tt].ty==="ms"||ft[Tt].ty==="pb"||ft[Tt].ty==="zz"||ft[Tt].ty==="op"?(tr?(Kt=lt[Tt],Kt.closed=!1):(Kt=ShapeModifiers.getModifier(ft[Tt].ty),Kt.init(this,ft[Tt]),lt[Tt]=Kt,this.shapeModifiers.push(Kt)),kt.push(Kt)):ft[Tt].ty==="rp"&&(tr?(Kt=lt[Tt],Kt.closed=!0):(Kt=ShapeModifiers.getModifier(ft[Tt].ty),lt[Tt]=Kt,Kt.init(this,ft,Tt,lt),this.shapeModifiers.push(Kt),At=!1),kt.push(Kt));this.addProcessedElement(ft[Tt],Tt+1)}for(Rt=Ft.length,Tt=0;Tt<Rt;Tt+=1)Ft[Tt].closed=!0;for(Rt=kt.length,Tt=0;Tt<Rt;Tt+=1)kt[Tt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var ft,lt=this.stylesList.length;for(ft=0;ft<lt;ft+=1)this.stylesList[ft].reset();for(this.renderShape(),ft=0;ft<lt;ft+=1)(this.stylesList[ft]._mdf||this._isFirstFrame)&&(this.stylesList[ft].msElem&&(this.stylesList[ft].msElem.setAttribute("d",this.stylesList[ft].d),this.stylesList[ft].d="M0 0"+this.stylesList[ft].d),this.stylesList[ft].pElem.setAttribute("d",this.stylesList[ft].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var ft,lt=this.animatedContents.length,dt;for(ft=0;ft<lt;ft+=1)dt=this.animatedContents[ft],(this._isFirstFrame||dt.element._isAnimated)&&dt.data!==!0&&dt.fn(dt.data,dt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(ft,lt,dt,vt,St,Et){this.o=ft,this.sw=lt,this.sc=dt,this.fc=vt,this.m=St,this.p=Et,this._mdf={o:!0,sw:!!lt,sc:!!dt,fc:!!vt,m:!0,p:!0}}LetterProps.prototype.update=function(ft,lt,dt,vt,St,Et){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var At=!1;return this.o!==ft&&(this.o=ft,this._mdf.o=!0,At=!0),this.sw!==lt&&(this.sw=lt,this._mdf.sw=!0,At=!0),this.sc!==dt&&(this.sc=dt,this._mdf.sc=!0,At=!0),this.fc!==vt&&(this.fc=vt,this._mdf.fc=!0,At=!0),this.m!==St&&(this.m=St,this._mdf.m=!0,At=!0),Et.length&&(this.p[0]!==Et[0]||this.p[1]!==Et[1]||this.p[4]!==Et[4]||this.p[5]!==Et[5]||this.p[12]!==Et[12]||this.p[13]!==Et[13])&&(this.p=Et,this._mdf.p=!0,At=!0),At};function TextProperty(ft,lt){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,lt.d&&lt.d.sid&&(lt.d=ft.globalData.slotManager.getProp(lt.d)),this.data=lt,this.elem=ft,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(ft,lt){for(var dt in lt)Object.prototype.hasOwnProperty.call(lt,dt)&&(ft[dt]=lt[dt]);return ft},TextProperty.prototype.setCurrentData=function(ft){ft.__complete||this.completeTextData(ft),this.currentData=ft,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(ft){this.effectsSequence.push(ft),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(ft){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!ft)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var lt=this.currentData,dt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var vt,St=this.effectsSequence.length,Et=ft||this.data.d.k[this.keysIndex].s;for(vt=0;vt<St;vt+=1)dt!==this.keysIndex?Et=this.effectsSequence[vt](Et,Et.t):Et=this.effectsSequence[vt](this.currentData,Et.t);lt!==Et&&this.setCurrentData(Et),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var ft=this.data.d.k,lt=this.elem.comp.renderedFrame,dt=0,vt=ft.length;dt<=vt-1&&!(dt===vt-1||ft[dt+1].t>lt);)dt+=1;return this.keysIndex!==dt&&(this.keysIndex=dt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(ft){for(var lt=[],dt=0,vt=ft.length,St,Et,At=!1,Ct=!1,Tt="";dt<vt;)At=Ct,Ct=!1,St=ft.charCodeAt(dt),Tt=ft.charAt(dt),FontManager.isCombinedCharacter(St)?At=!0:St>=55296&&St<=56319?FontManager.isRegionalFlag(ft,dt)?Tt=ft.substr(dt,14):(Et=ft.charCodeAt(dt+1),Et>=56320&&Et<=57343&&(FontManager.isModifier(St,Et)?(Tt=ft.substr(dt,2),At=!0):FontManager.isFlagEmoji(ft.substr(dt,4))?Tt=ft.substr(dt,4):Tt=ft.substr(dt,2))):St>56319?(Et=ft.charCodeAt(dt+1),FontManager.isVariationSelector(St)&&(At=!0)):FontManager.isZeroWidthJoiner(St)&&(At=!0,Ct=!0),At?(lt[lt.length-1]+=Tt,At=!1):lt.push(Tt),dt+=Tt.length;return lt},TextProperty.prototype.completeTextData=function(ft){ft.__complete=!0;var lt=this.elem.globalData.fontManager,dt=this.data,vt=[],St,Et,At,Ct=0,Tt,Rt=dt.m.g,Bt=0,Dt=0,Ft=0,kt=[],Ut=0,Kt=0,tr,Wt,Zt=lt.getFontByName(ft.f),Ht,nr=0,sr=getFontProperties(Zt);ft.fWeight=sr.weight,ft.fStyle=sr.style,ft.finalSize=ft.s,ft.finalText=this.buildFinalText(ft.t),Et=ft.finalText.length,ft.finalLineHeight=ft.lh;var ar=ft.tr/1e3*ft.finalSize,ir;if(ft.sz)for(var rr=!0,lr=ft.sz[0],ur=ft.sz[1],dr,mr;rr;){mr=this.buildFinalText(ft.t),dr=0,Ut=0,Et=mr.length,ar=ft.tr/1e3*ft.finalSize;var Cr=-1;for(St=0;St<Et;St+=1)ir=mr[St].charCodeAt(0),At=!1,mr[St]===" "?Cr=St:(ir===13||ir===3)&&(Ut=0,At=!0,dr+=ft.finalLineHeight||ft.finalSize*1.2),lt.chars?(Ht=lt.getCharData(mr[St],Zt.fStyle,Zt.fFamily),nr=At?0:Ht.w*ft.finalSize/100):nr=lt.measureText(mr[St],ft.f,ft.finalSize),Ut+nr>lr&&mr[St]!==" "?(Cr===-1?Et+=1:St=Cr,dr+=ft.finalLineHeight||ft.finalSize*1.2,mr.splice(St,Cr===St?1:0,"\r"),Cr=-1,Ut=0):(Ut+=nr,Ut+=ar);dr+=Zt.ascent*ft.finalSize/100,this.canResize&&ft.finalSize>this.minimumFontSize&&ur<dr?(ft.finalSize-=1,ft.finalLineHeight=ft.finalSize*ft.lh/ft.s):(ft.finalText=mr,Et=ft.finalText.length,rr=!1)}Ut=-ar,nr=0;var yr=0,xr;for(St=0;St<Et;St+=1)if(At=!1,xr=ft.finalText[St],ir=xr.charCodeAt(0),ir===13||ir===3?(yr=0,kt.push(Ut),Kt=Ut>Kt?Ut:Kt,Ut=-2*ar,Tt="",At=!0,Ft+=1):Tt=xr,lt.chars?(Ht=lt.getCharData(xr,Zt.fStyle,lt.getFontByName(ft.f).fFamily),nr=At?0:Ht.w*ft.finalSize/100):nr=lt.measureText(Tt,ft.f,ft.finalSize),xr===" "?yr+=nr+ar:(Ut+=nr+ar+yr,yr=0),vt.push({l:nr,an:nr,add:Bt,n:At,anIndexes:[],val:Tt,line:Ft,animatorJustifyOffset:0}),Rt==2){if(Bt+=nr,Tt===""||Tt===" "||St===Et-1){for((Tt===""||Tt===" ")&&(Bt-=nr);Dt<=St;)vt[Dt].an=Bt,vt[Dt].ind=Ct,vt[Dt].extra=nr,Dt+=1;Ct+=1,Bt=0}}else if(Rt==3){if(Bt+=nr,Tt===""||St===Et-1){for(Tt===""&&(Bt-=nr);Dt<=St;)vt[Dt].an=Bt,vt[Dt].ind=Ct,vt[Dt].extra=nr,Dt+=1;Bt=0,Ct+=1}}else vt[Ct].ind=Ct,vt[Ct].extra=0,Ct+=1;if(ft.l=vt,Kt=Ut>Kt?Ut:Kt,kt.push(Ut),ft.sz)ft.boxWidth=ft.sz[0],ft.justifyOffset=0;else switch(ft.boxWidth=Kt,ft.j){case 1:ft.justifyOffset=-ft.boxWidth;break;case 2:ft.justifyOffset=-ft.boxWidth/2;break;default:ft.justifyOffset=0}ft.lineWidths=kt;var Sr=dt.a,br,cr;Wt=Sr.length;var pr,Er,_r=[];for(tr=0;tr<Wt;tr+=1){for(br=Sr[tr],br.a.sc&&(ft.strokeColorAnim=!0),br.a.sw&&(ft.strokeWidthAnim=!0),(br.a.fc||br.a.fh||br.a.fs||br.a.fb)&&(ft.fillColorAnim=!0),Er=0,pr=br.s.b,St=0;St<Et;St+=1)cr=vt[St],cr.anIndexes[tr]=Er,(pr==1&&cr.val!==""||pr==2&&cr.val!==""&&cr.val!==" "||pr==3&&(cr.n||cr.val==" "||St==Et-1)||pr==4&&(cr.n||St==Et-1))&&(br.s.rn===1&&_r.push(Er),Er+=1);dt.a[tr].s.totalChars=Er;var Ar=-1,Pr;if(br.s.rn===1)for(St=0;St<Et;St+=1)cr=vt[St],Ar!=cr.anIndexes[tr]&&(Ar=cr.anIndexes[tr],Pr=_r.splice(Math.floor(Math.random()*_r.length),1)[0]),cr.anIndexes[tr]=Pr}ft.yOffset=ft.finalLineHeight||ft.finalSize*1.2,ft.ls=ft.ls||0,ft.ascent=Zt.ascent*ft.finalSize/100},TextProperty.prototype.updateDocumentData=function(ft,lt){lt=lt===void 0?this.keysIndex:lt;var dt=this.copyData({},this.data.d.k[lt].s);dt=this.copyData(dt,ft),this.data.d.k[lt].s=dt,this.recalculate(lt),this.setCurrentData(dt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(ft){var lt=this.data.d.k[ft].s;lt.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(lt)},TextProperty.prototype.canResizeFont=function(ft){this.canResize=ft,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(ft){this.minimumFontSize=Math.floor(ft)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var ft=Math.max,lt=Math.min,dt=Math.floor;function vt(Et,At){this._currentTextLength=-1,this.k=!1,this.data=At,this.elem=Et,this.comp=Et.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Et),this.s=PropertyFactory.getProp(Et,At.s||{k:0},0,0,this),"e"in At?this.e=PropertyFactory.getProp(Et,At.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Et,At.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Et,At.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Et,At.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Et,At.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Et,At.a,0,.01,this),this.dynamicProperties.length||this.getValue()}vt.prototype={getMult:function(At){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ct=0,Tt=0,Rt=1,Bt=1;this.ne.v>0?Ct=this.ne.v/100:Tt=-this.ne.v/100,this.xe.v>0?Rt=1-this.xe.v/100:Bt=1+this.xe.v/100;var Dt=BezierFactory.getBezierEasing(Ct,Tt,Rt,Bt).get,Ft=0,kt=this.finalS,Ut=this.finalE,Kt=this.data.sh;if(Kt===2)Ut===kt?Ft=At>=Ut?1:0:Ft=ft(0,lt(.5/(Ut-kt)+(At-kt)/(Ut-kt),1)),Ft=Dt(Ft);else if(Kt===3)Ut===kt?Ft=At>=Ut?0:1:Ft=1-ft(0,lt(.5/(Ut-kt)+(At-kt)/(Ut-kt),1)),Ft=Dt(Ft);else if(Kt===4)Ut===kt?Ft=0:(Ft=ft(0,lt(.5/(Ut-kt)+(At-kt)/(Ut-kt),1)),Ft<.5?Ft*=2:Ft=1-2*(Ft-.5)),Ft=Dt(Ft);else if(Kt===5){if(Ut===kt)Ft=0;else{var tr=Ut-kt;At=lt(ft(0,At+.5-kt),Ut-kt);var Wt=-tr/2+At,Zt=tr/2;Ft=Math.sqrt(1-Wt*Wt/(Zt*Zt))}Ft=Dt(Ft)}else Kt===6?(Ut===kt?Ft=0:(At=lt(ft(0,At+.5-kt),Ut-kt),Ft=(1+Math.cos(Math.PI+Math.PI*2*At/(Ut-kt)))/2),Ft=Dt(Ft)):(At>=dt(kt)&&(At-kt<0?Ft=ft(0,lt(lt(Ut,1)-(kt-At),1)):Ft=ft(0,lt(Ut-At,1))),Ft=Dt(Ft));if(this.sm.v!==100){var Ht=this.sm.v*.01;Ht===0&&(Ht=1e-8);var nr=.5-Ht*.5;Ft<nr?Ft=0:(Ft=(Ft-nr)/Ht,Ft>1&&(Ft=1))}return Ft*this.a.v},getValue:function(At){this.iterateDynamicProperties(),this._mdf=At||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,At&&this.data.r===2&&(this.e.v=this._currentTextLength);var Ct=this.data.r===2?1:100/this.data.totalChars,Tt=this.o.v/Ct,Rt=this.s.v/Ct+Tt,Bt=this.e.v/Ct+Tt;if(Rt>Bt){var Dt=Rt;Rt=Bt,Bt=Dt}this.finalS=Rt,this.finalE=Bt}},extendPrototype([DynamicPropertyContainer],vt);function St(Et,At,Ct){return new vt(Et,At)}return{getTextSelectorProp:St}}();function TextAnimatorDataProperty(ft,lt,dt){var vt={propType:!1},St=PropertyFactory.getProp,Et=lt.a;this.a={r:Et.r?St(ft,Et.r,0,degToRads,dt):vt,rx:Et.rx?St(ft,Et.rx,0,degToRads,dt):vt,ry:Et.ry?St(ft,Et.ry,0,degToRads,dt):vt,sk:Et.sk?St(ft,Et.sk,0,degToRads,dt):vt,sa:Et.sa?St(ft,Et.sa,0,degToRads,dt):vt,s:Et.s?St(ft,Et.s,1,.01,dt):vt,a:Et.a?St(ft,Et.a,1,0,dt):vt,o:Et.o?St(ft,Et.o,0,.01,dt):vt,p:Et.p?St(ft,Et.p,1,0,dt):vt,sw:Et.sw?St(ft,Et.sw,0,0,dt):vt,sc:Et.sc?St(ft,Et.sc,1,0,dt):vt,fc:Et.fc?St(ft,Et.fc,1,0,dt):vt,fh:Et.fh?St(ft,Et.fh,0,0,dt):vt,fs:Et.fs?St(ft,Et.fs,0,.01,dt):vt,fb:Et.fb?St(ft,Et.fb,0,.01,dt):vt,t:Et.t?St(ft,Et.t,0,0,dt):vt},this.s=TextSelectorProp.getTextSelectorProp(ft,lt.s,dt),this.s.t=lt.s.t}function TextAnimatorProperty(ft,lt,dt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=ft,this._renderType=lt,this._elem=dt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(dt)}TextAnimatorProperty.prototype.searchProperties=function(){var ft,lt=this._textData.a.length,dt,vt=PropertyFactory.getProp;for(ft=0;ft<lt;ft+=1)dt=this._textData.a[ft],this._animatorsData[ft]=new TextAnimatorDataProperty(this._elem,dt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:vt(this._elem,this._textData.p.a,0,0,this),f:vt(this._elem,this._textData.p.f,0,0,this),l:vt(this._elem,this._textData.p.l,0,0,this),r:vt(this._elem,this._textData.p.r,0,0,this),p:vt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=vt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(ft,lt){if(this.lettersChangedFlag=lt,!(!this._mdf&&!this._isFirstFrame&&!lt&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var dt=this._moreOptions.alignment.v,vt=this._animatorsData,St=this._textData,Et=this.mHelper,At=this._renderType,Ct=this.renderedLetters.length,Tt,Rt,Bt,Dt,Ft=ft.l,kt,Ut,Kt,tr,Wt,Zt,Ht,nr,sr,ar,ir,rr,lr,ur,dr;if(this._hasMaskedPath){if(dr=this._pathData.m,!this._pathData.n||this._pathData._mdf){var mr=dr.v;this._pathData.r.v&&(mr=mr.reverse()),kt={tLength:0,segments:[]},Dt=mr._length-1;var Cr;for(rr=0,Bt=0;Bt<Dt;Bt+=1)Cr=bez.buildBezierData(mr.v[Bt],mr.v[Bt+1],[mr.o[Bt][0]-mr.v[Bt][0],mr.o[Bt][1]-mr.v[Bt][1]],[mr.i[Bt+1][0]-mr.v[Bt+1][0],mr.i[Bt+1][1]-mr.v[Bt+1][1]]),kt.tLength+=Cr.segmentLength,kt.segments.push(Cr),rr+=Cr.segmentLength;Bt=Dt,dr.v.c&&(Cr=bez.buildBezierData(mr.v[Bt],mr.v[0],[mr.o[Bt][0]-mr.v[Bt][0],mr.o[Bt][1]-mr.v[Bt][1]],[mr.i[0][0]-mr.v[0][0],mr.i[0][1]-mr.v[0][1]]),kt.tLength+=Cr.segmentLength,kt.segments.push(Cr),rr+=Cr.segmentLength),this._pathData.pi=kt}if(kt=this._pathData.pi,Ut=this._pathData.f.v,Ht=0,Zt=1,tr=0,Wt=!0,ar=kt.segments,Ut<0&&dr.v.c)for(kt.tLength<Math.abs(Ut)&&(Ut=-Math.abs(Ut)%kt.tLength),Ht=ar.length-1,sr=ar[Ht].points,Zt=sr.length-1;Ut<0;)Ut+=sr[Zt].partialLength,Zt-=1,Zt<0&&(Ht-=1,sr=ar[Ht].points,Zt=sr.length-1);sr=ar[Ht].points,nr=sr[Zt-1],Kt=sr[Zt],ir=Kt.partialLength}Dt=Ft.length,Tt=0,Rt=0;var yr=ft.finalSize*1.2*.714,xr=!0,Sr,br,cr,pr,Er;pr=vt.length;var _r,Ar=-1,Pr,Ir,kr,Dr=Ut,Jr=Ht,Or=Zt,jr=-1,Nr,Vr,Br,zr,qr,en,cn,Rn,Qr="",yn=this.defaultPropsArray,Pn;if(ft.j===2||ft.j===1){var pn=0,Fr=0,Rr=ft.j===2?-.5:-1,Yr=0,fn=!0;for(Bt=0;Bt<Dt;Bt+=1)if(Ft[Bt].n){for(pn&&(pn+=Fr);Yr<Bt;)Ft[Yr].animatorJustifyOffset=pn,Yr+=1;pn=0,fn=!0}else{for(cr=0;cr<pr;cr+=1)Sr=vt[cr].a,Sr.t.propType&&(fn&&ft.j===2&&(Fr+=Sr.t.v*Rr),br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),_r.length?pn+=Sr.t.v*_r[0]*Rr:pn+=Sr.t.v*_r*Rr);fn=!1}for(pn&&(pn+=Fr);Yr<Bt;)Ft[Yr].animatorJustifyOffset=pn,Yr+=1}for(Bt=0;Bt<Dt;Bt+=1){if(Et.reset(),Nr=1,Ft[Bt].n)Tt=0,Rt+=ft.yOffset,Rt+=xr?1:0,Ut=Dr,xr=!1,this._hasMaskedPath&&(Ht=Jr,Zt=Or,sr=ar[Ht].points,nr=sr[Zt-1],Kt=sr[Zt],ir=Kt.partialLength,tr=0),Qr="",Rn="",en="",Pn="",yn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(jr!==Ft[Bt].line){switch(ft.j){case 1:Ut+=rr-ft.lineWidths[Ft[Bt].line];break;case 2:Ut+=(rr-ft.lineWidths[Ft[Bt].line])/2;break}jr=Ft[Bt].line}Ar!==Ft[Bt].ind&&(Ft[Ar]&&(Ut+=Ft[Ar].extra),Ut+=Ft[Bt].an/2,Ar=Ft[Bt].ind),Ut+=dt[0]*Ft[Bt].an*.005;var Cn=0;for(cr=0;cr<pr;cr+=1)Sr=vt[cr].a,Sr.p.propType&&(br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),_r.length?Cn+=Sr.p.v[0]*_r[0]:Cn+=Sr.p.v[0]*_r),Sr.a.propType&&(br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),_r.length?Cn+=Sr.a.v[0]*_r[0]:Cn+=Sr.a.v[0]*_r);for(Wt=!0,this._pathData.a.v&&(Ut=Ft[0].an*.5+(rr-this._pathData.f.v-Ft[0].an*.5-Ft[Ft.length-1].an*.5)*Ar/(Dt-1),Ut+=this._pathData.f.v);Wt;)tr+ir>=Ut+Cn||!sr?(lr=(Ut+Cn-tr)/Kt.partialLength,Ir=nr.point[0]+(Kt.point[0]-nr.point[0])*lr,kr=nr.point[1]+(Kt.point[1]-nr.point[1])*lr,Et.translate(-dt[0]*Ft[Bt].an*.005,-(dt[1]*yr)*.01),Wt=!1):sr&&(tr+=Kt.partialLength,Zt+=1,Zt>=sr.length&&(Zt=0,Ht+=1,ar[Ht]?sr=ar[Ht].points:dr.v.c?(Zt=0,Ht=0,sr=ar[Ht].points):(tr-=Kt.partialLength,sr=null)),sr&&(nr=Kt,Kt=sr[Zt],ir=Kt.partialLength));Pr=Ft[Bt].an/2-Ft[Bt].add,Et.translate(-Pr,0,0)}else Pr=Ft[Bt].an/2-Ft[Bt].add,Et.translate(-Pr,0,0),Et.translate(-dt[0]*Ft[Bt].an*.005,-dt[1]*yr*.01,0);for(cr=0;cr<pr;cr+=1)Sr=vt[cr].a,Sr.t.propType&&(br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),(Tt!==0||ft.j!==0)&&(this._hasMaskedPath?_r.length?Ut+=Sr.t.v*_r[0]:Ut+=Sr.t.v*_r:_r.length?Tt+=Sr.t.v*_r[0]:Tt+=Sr.t.v*_r));for(ft.strokeWidthAnim&&(Br=ft.sw||0),ft.strokeColorAnim&&(ft.sc?Vr=[ft.sc[0],ft.sc[1],ft.sc[2]]:Vr=[0,0,0]),ft.fillColorAnim&&ft.fc&&(zr=[ft.fc[0],ft.fc[1],ft.fc[2]]),cr=0;cr<pr;cr+=1)Sr=vt[cr].a,Sr.a.propType&&(br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),_r.length?Et.translate(-Sr.a.v[0]*_r[0],-Sr.a.v[1]*_r[1],Sr.a.v[2]*_r[2]):Et.translate(-Sr.a.v[0]*_r,-Sr.a.v[1]*_r,Sr.a.v[2]*_r));for(cr=0;cr<pr;cr+=1)Sr=vt[cr].a,Sr.s.propType&&(br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),_r.length?Et.scale(1+(Sr.s.v[0]-1)*_r[0],1+(Sr.s.v[1]-1)*_r[1],1):Et.scale(1+(Sr.s.v[0]-1)*_r,1+(Sr.s.v[1]-1)*_r,1));for(cr=0;cr<pr;cr+=1){if(Sr=vt[cr].a,br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),Sr.sk.propType&&(_r.length?Et.skewFromAxis(-Sr.sk.v*_r[0],Sr.sa.v*_r[1]):Et.skewFromAxis(-Sr.sk.v*_r,Sr.sa.v*_r)),Sr.r.propType&&(_r.length?Et.rotateZ(-Sr.r.v*_r[2]):Et.rotateZ(-Sr.r.v*_r)),Sr.ry.propType&&(_r.length?Et.rotateY(Sr.ry.v*_r[1]):Et.rotateY(Sr.ry.v*_r)),Sr.rx.propType&&(_r.length?Et.rotateX(Sr.rx.v*_r[0]):Et.rotateX(Sr.rx.v*_r)),Sr.o.propType&&(_r.length?Nr+=(Sr.o.v*_r[0]-Nr)*_r[0]:Nr+=(Sr.o.v*_r-Nr)*_r),ft.strokeWidthAnim&&Sr.sw.propType&&(_r.length?Br+=Sr.sw.v*_r[0]:Br+=Sr.sw.v*_r),ft.strokeColorAnim&&Sr.sc.propType)for(qr=0;qr<3;qr+=1)_r.length?Vr[qr]+=(Sr.sc.v[qr]-Vr[qr])*_r[0]:Vr[qr]+=(Sr.sc.v[qr]-Vr[qr])*_r;if(ft.fillColorAnim&&ft.fc){if(Sr.fc.propType)for(qr=0;qr<3;qr+=1)_r.length?zr[qr]+=(Sr.fc.v[qr]-zr[qr])*_r[0]:zr[qr]+=(Sr.fc.v[qr]-zr[qr])*_r;Sr.fh.propType&&(_r.length?zr=addHueToRGB(zr,Sr.fh.v*_r[0]):zr=addHueToRGB(zr,Sr.fh.v*_r)),Sr.fs.propType&&(_r.length?zr=addSaturationToRGB(zr,Sr.fs.v*_r[0]):zr=addSaturationToRGB(zr,Sr.fs.v*_r)),Sr.fb.propType&&(_r.length?zr=addBrightnessToRGB(zr,Sr.fb.v*_r[0]):zr=addBrightnessToRGB(zr,Sr.fb.v*_r))}}for(cr=0;cr<pr;cr+=1)Sr=vt[cr].a,Sr.p.propType&&(br=vt[cr].s,_r=br.getMult(Ft[Bt].anIndexes[cr],St.a[cr].s.totalChars),this._hasMaskedPath?_r.length?Et.translate(0,Sr.p.v[1]*_r[0],-Sr.p.v[2]*_r[1]):Et.translate(0,Sr.p.v[1]*_r,-Sr.p.v[2]*_r):_r.length?Et.translate(Sr.p.v[0]*_r[0],Sr.p.v[1]*_r[1],-Sr.p.v[2]*_r[2]):Et.translate(Sr.p.v[0]*_r,Sr.p.v[1]*_r,-Sr.p.v[2]*_r));if(ft.strokeWidthAnim&&(en=Br<0?0:Br),ft.strokeColorAnim&&(cn="rgb("+Math.round(Vr[0]*255)+","+Math.round(Vr[1]*255)+","+Math.round(Vr[2]*255)+")"),ft.fillColorAnim&&ft.fc&&(Rn="rgb("+Math.round(zr[0]*255)+","+Math.round(zr[1]*255)+","+Math.round(zr[2]*255)+")"),this._hasMaskedPath){if(Et.translate(0,-ft.ls),Et.translate(0,dt[1]*yr*.01+Rt,0),this._pathData.p.v){ur=(Kt.point[1]-nr.point[1])/(Kt.point[0]-nr.point[0]);var An=Math.atan(ur)*180/Math.PI;Kt.point[0]<nr.point[0]&&(An+=180),Et.rotate(-An*Math.PI/180)}Et.translate(Ir,kr,0),Ut-=dt[0]*Ft[Bt].an*.005,Ft[Bt+1]&&Ar!==Ft[Bt+1].ind&&(Ut+=Ft[Bt].an/2,Ut+=ft.tr*.001*ft.finalSize)}else{switch(Et.translate(Tt,Rt,0),ft.ps&&Et.translate(ft.ps[0],ft.ps[1]+ft.ascent,0),ft.j){case 1:Et.translate(Ft[Bt].animatorJustifyOffset+ft.justifyOffset+(ft.boxWidth-ft.lineWidths[Ft[Bt].line]),0,0);break;case 2:Et.translate(Ft[Bt].animatorJustifyOffset+ft.justifyOffset+(ft.boxWidth-ft.lineWidths[Ft[Bt].line])/2,0,0);break}Et.translate(0,-ft.ls),Et.translate(Pr,0,0),Et.translate(dt[0]*Ft[Bt].an*.005,dt[1]*yr*.01,0),Tt+=Ft[Bt].l+ft.tr*.001*ft.finalSize}At==="html"?Qr=Et.toCSS():At==="svg"?Qr=Et.to2dCSS():yn=[Et.props[0],Et.props[1],Et.props[2],Et.props[3],Et.props[4],Et.props[5],Et.props[6],Et.props[7],Et.props[8],Et.props[9],Et.props[10],Et.props[11],Et.props[12],Et.props[13],Et.props[14],Et.props[15]],Pn=Nr}Ct<=Bt?(Er=new LetterProps(Pn,en,cn,Rn,Qr,yn),this.renderedLetters.push(Er),Ct+=1,this.lettersChangedFlag=!0):(Er=this.renderedLetters[Bt],this.lettersChangedFlag=Er.update(Pn,en,cn,Rn,Qr,yn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(ft,lt,dt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(ft,lt,dt),this.textProperty=new TextProperty(this,ft.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(ft.t,this.renderType,this),this.initTransform(ft,lt,dt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(ft){this._mdf=!1,this.prepareRenderableFrame(ft),this.prepareProperties(ft,this.isInRange)},ITextElement.prototype.createPathShape=function(ft,lt){var dt,vt=lt.length,St,Et="";for(dt=0;dt<vt;dt+=1)lt[dt].ty==="sh"&&(St=lt[dt].ks.k,Et+=buildShapeString(St,St.i.length,!0,ft));return Et},ITextElement.prototype.updateDocumentData=function(ft,lt){this.textProperty.updateDocumentData(ft,lt)},ITextElement.prototype.canResizeFont=function(ft){this.textProperty.canResizeFont(ft)},ITextElement.prototype.setMinimumFontSize=function(ft){this.textProperty.setMinimumFontSize(ft)},ITextElement.prototype.applyTextPropertiesToMatrix=function(ft,lt,dt,vt,St){switch(ft.ps&&lt.translate(ft.ps[0],ft.ps[1]+ft.ascent,0),lt.translate(0,-ft.ls,0),ft.j){case 1:lt.translate(ft.justifyOffset+(ft.boxWidth-ft.lineWidths[dt]),0,0);break;case 2:lt.translate(ft.justifyOffset+(ft.boxWidth-ft.lineWidths[dt])/2,0,0);break}lt.translate(vt,St,0)},ITextElement.prototype.buildColor=function(ft){return"rgb("+Math.round(ft[0]*255)+","+Math.round(ft[1]*255)+","+Math.round(ft[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(ft,lt,dt){this.textSpans=[],this.renderType="svg",this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(ft){for(var lt=0,dt=ft.length,vt=[],St="";lt<dt;)ft[lt]===String.fromCharCode(13)||ft[lt]===String.fromCharCode(3)?(vt.push(St),St=""):St+=ft[lt],lt+=1;return vt.push(St),vt},SVGTextLottieElement.prototype.buildShapeData=function(ft,lt){if(ft.shapes&&ft.shapes.length){var dt=ft.shapes[0];if(dt.it){var vt=dt.it[dt.it.length-1];vt.s&&(vt.s.k[0]=lt,vt.s.k[1]=lt)}}return ft},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var ft,lt,dt=this.textProperty.currentData;this.renderedLetters=createSizedArray(dt?dt.l.length:0),dt.fc?this.layerElement.setAttribute("fill",this.buildColor(dt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),dt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(dt.sc)),this.layerElement.setAttribute("stroke-width",dt.sw)),this.layerElement.setAttribute("font-size",dt.finalSize);var vt=this.globalData.fontManager.getFontByName(dt.f);if(vt.fClass)this.layerElement.setAttribute("class",vt.fClass);else{this.layerElement.setAttribute("font-family",vt.fFamily);var St=dt.fWeight,Et=dt.fStyle;this.layerElement.setAttribute("font-style",Et),this.layerElement.setAttribute("font-weight",St)}this.layerElement.setAttribute("aria-label",dt.t);var At=dt.l||[],Ct=!!this.globalData.fontManager.chars;lt=At.length;var Tt,Rt=this.mHelper,Bt="",Dt=this.data.singleShape,Ft=0,kt=0,Ut=!0,Kt=dt.tr*.001*dt.finalSize;if(Dt&&!Ct&&!dt.sz){var tr=this.textContainer,Wt="start";switch(dt.j){case 1:Wt="end";break;case 2:Wt="middle";break;default:Wt="start";break}tr.setAttribute("text-anchor",Wt),tr.setAttribute("letter-spacing",Kt);var Zt=this.buildTextContents(dt.finalText);for(lt=Zt.length,kt=dt.ps?dt.ps[1]+dt.ascent:0,ft=0;ft<lt;ft+=1)Tt=this.textSpans[ft].span||createNS("tspan"),Tt.textContent=Zt[ft],Tt.setAttribute("x",0),Tt.setAttribute("y",kt),Tt.style.display="inherit",tr.appendChild(Tt),this.textSpans[ft]||(this.textSpans[ft]={span:null,glyph:null}),this.textSpans[ft].span=Tt,kt+=dt.finalLineHeight;this.layerElement.appendChild(tr)}else{var Ht=this.textSpans.length,nr;for(ft=0;ft<lt;ft+=1){if(this.textSpans[ft]||(this.textSpans[ft]={span:null,childSpan:null,glyph:null}),!Ct||!Dt||ft===0){if(Tt=Ht>ft?this.textSpans[ft].span:createNS(Ct?"g":"text"),Ht<=ft){if(Tt.setAttribute("stroke-linecap","butt"),Tt.setAttribute("stroke-linejoin","round"),Tt.setAttribute("stroke-miterlimit","4"),this.textSpans[ft].span=Tt,Ct){var sr=createNS("g");Tt.appendChild(sr),this.textSpans[ft].childSpan=sr}this.textSpans[ft].span=Tt,this.layerElement.appendChild(Tt)}Tt.style.display="inherit"}if(Rt.reset(),Dt&&(At[ft].n&&(Ft=-Kt,kt+=dt.yOffset,kt+=Ut?1:0,Ut=!1),this.applyTextPropertiesToMatrix(dt,Rt,At[ft].line,Ft,kt),Ft+=At[ft].l||0,Ft+=Kt),Ct){nr=this.globalData.fontManager.getCharData(dt.finalText[ft],vt.fStyle,this.globalData.fontManager.getFontByName(dt.f).fFamily);var ar;if(nr.t===1)ar=new SVGCompElement(nr.data,this.globalData,this);else{var ir=emptyShapeData;nr.data&&nr.data.shapes&&(ir=this.buildShapeData(nr.data,dt.finalSize)),ar=new SVGShapeElement(ir,this.globalData,this)}if(this.textSpans[ft].glyph){var rr=this.textSpans[ft].glyph;this.textSpans[ft].childSpan.removeChild(rr.layerElement),rr.destroy()}this.textSpans[ft].glyph=ar,ar._debug=!0,ar.prepareFrame(0),ar.renderFrame(),this.textSpans[ft].childSpan.appendChild(ar.layerElement),nr.t===1&&this.textSpans[ft].childSpan.setAttribute("transform","scale("+dt.finalSize/100+","+dt.finalSize/100+")")}else Dt&&Tt.setAttribute("transform","translate("+Rt.props[12]+","+Rt.props[13]+")"),Tt.textContent=At[ft].val,Tt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Dt&&Tt&&Tt.setAttribute("d",Bt)}for(;ft<this.textSpans.length;)this.textSpans[ft].span.style.display="none",ft+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var ft=this.layerElement.getBBox();this.bbox={top:ft.y,left:ft.x,width:ft.width,height:ft.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var ft,lt=this.textSpans.length,dt;for(this.renderedFrame=this.comp.renderedFrame,ft=0;ft<lt;ft+=1)dt=this.textSpans[ft].glyph,dt&&(dt.prepareFrame(this.comp.renderedFrame-this.data.st),dt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var ft,lt,dt=this.textAnimator.renderedLetters,vt=this.textProperty.currentData.l;lt=vt.length;var St,Et,At;for(ft=0;ft<lt;ft+=1)vt[ft].n||(St=dt[ft],Et=this.textSpans[ft].span,At=this.textSpans[ft].glyph,At&&At.renderFrame(),St._mdf.m&&Et.setAttribute("transform",St.m),St._mdf.o&&Et.setAttribute("opacity",St.o),St._mdf.sw&&Et.setAttribute("stroke-width",St.sw),St._mdf.sc&&Et.setAttribute("stroke",St.sc),St._mdf.fc&&Et.setAttribute("fill",St.fc))}};function ISolidElement(ft,lt,dt){this.initElement(ft,lt,dt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var ft=createNS("rect");ft.setAttribute("width",this.data.sw),ft.setAttribute("height",this.data.sh),ft.setAttribute("fill",this.data.sc),this.layerElement.appendChild(ft)};function NullElement(ft,lt,dt){this.initFrame(),this.initBaseData(ft,lt,dt),this.initFrame(),this.initTransform(ft,lt,dt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(ft){this.prepareProperties(ft,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(ft){return new NullElement(ft,this.globalData,this)},SVGRendererBase.prototype.createShape=function(ft){return new SVGShapeElement(ft,this.globalData,this)},SVGRendererBase.prototype.createText=function(ft){return new SVGTextLottieElement(ft,this.globalData,this)},SVGRendererBase.prototype.createImage=function(ft){return new IImageElement(ft,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(ft){return new ISolidElement(ft,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(ft){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+ft.w+" "+ft.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",ft.w),this.svgElement.setAttribute("height",ft.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var lt=this.globalData.defs;this.setupGlobalData(ft,lt),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=ft;var dt=createNS("clipPath"),vt=createNS("rect");vt.setAttribute("width",ft.w),vt.setAttribute("height",ft.h),vt.setAttribute("x",0),vt.setAttribute("y",0);var St=createElementID();dt.setAttribute("id",St),dt.appendChild(vt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+St+")"),lt.appendChild(dt),this.layers=ft.layers,this.elements=createSizedArray(ft.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var ft,lt=this.layers?this.layers.length:0;for(ft=0;ft<lt;ft+=1)this.elements[ft]&&this.elements[ft].destroy&&this.elements[ft].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(ft){var lt=0,dt=this.layers.length;for(lt=0;lt<dt;lt+=1)if(this.layers[lt].ind===ft)return lt;return-1},SVGRendererBase.prototype.buildItem=function(ft){var lt=this.elements;if(!(lt[ft]||this.layers[ft].ty===99)){lt[ft]=!0;var dt=this.createItem(this.layers[ft]);if(lt[ft]=dt,getExpressionsPlugin()&&(this.layers[ft].ty===0&&this.globalData.projectInterface.registerComposition(dt),dt.initExpressions()),this.appendElementInPos(dt,ft),this.layers[ft].tt){var vt="tp"in this.layers[ft]?this.findIndexByInd(this.layers[ft].tp):ft-1;if(vt===-1)return;if(!this.elements[vt]||this.elements[vt]===!0)this.buildItem(vt),this.addPendingElement(dt);else{var St=lt[vt],Et=St.getMatte(this.layers[ft].tt);dt.setMatte(Et)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var ft=this.pendingElements.pop();if(ft.checkParenting(),ft.data.tt)for(var lt=0,dt=this.elements.length;lt<dt;){if(this.elements[lt]===ft){var vt="tp"in ft.data?this.findIndexByInd(ft.data.tp):lt-1,St=this.elements[vt],Et=St.getMatte(this.layers[lt].tt);ft.setMatte(Et);break}lt+=1}}},SVGRendererBase.prototype.renderFrame=function(ft){if(!(this.renderedFrame===ft||this.destroyed)){ft===null?ft=this.renderedFrame:this.renderedFrame=ft,this.globalData.frameNum=ft,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=ft,this.globalData._mdf=!1;var lt,dt=this.layers.length;for(this.completeLayers||this.checkLayers(ft),lt=dt-1;lt>=0;lt-=1)(this.completeLayers||this.elements[lt])&&this.elements[lt].prepareFrame(ft-this.layers[lt].st);if(this.globalData._mdf)for(lt=0;lt<dt;lt+=1)(this.completeLayers||this.elements[lt])&&this.elements[lt].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(ft,lt){var dt=ft.getBaseElement();if(dt){for(var vt=0,St;vt<lt;)this.elements[vt]&&this.elements[vt]!==!0&&this.elements[vt].getBaseElement()&&(St=this.elements[vt].getBaseElement()),vt+=1;St?this.layerElement.insertBefore(dt,St):this.layerElement.appendChild(dt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(ft,lt,dt){this.initFrame(),this.initBaseData(ft,lt,dt),this.initTransform(ft,lt,dt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!lt.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(ft){if(this._mdf=!1,this.prepareRenderableFrame(ft),this.prepareProperties(ft,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=ft/this.data.sr;else{var lt=this.tm.v;lt===this.data.op&&(lt=this.data.op-1),this.renderedFrame=lt}var dt,vt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),dt=vt-1;dt>=0;dt-=1)(this.completeLayers||this.elements[dt])&&(this.elements[dt].prepareFrame(this.renderedFrame-this.layers[dt].st),this.elements[dt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var ft,lt=this.layers.length;for(ft=0;ft<lt;ft+=1)(this.completeLayers||this.elements[ft])&&this.elements[ft].renderFrame()},ICompElement.prototype.setElements=function(ft){this.elements=ft},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var ft,lt=this.layers.length;for(ft=0;ft<lt;ft+=1)this.elements[ft]&&this.elements[ft].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(ft,lt,dt){this.layers=ft.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(ft,lt,dt),this.tm=ft.tm?PropertyFactory.getProp(this,ft.tm,0,lt.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(ft){return new SVGCompElement(ft,this.globalData,this)};function SVGRenderer(ft,lt){this.animationItem=ft,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var dt="";if(lt&&lt.title){var vt=createNS("title"),St=createElementID();vt.setAttribute("id",St),vt.textContent=lt.title,this.svgElement.appendChild(vt),dt+=St}if(lt&&lt.description){var Et=createNS("desc"),At=createElementID();Et.setAttribute("id",At),Et.textContent=lt.description,this.svgElement.appendChild(Et),dt+=" "+At}dt&&this.svgElement.setAttribute("aria-labelledby",dt);var Ct=createNS("defs");this.svgElement.appendChild(Ct);var Tt=createNS("g");this.svgElement.appendChild(Tt),this.layerElement=Tt,this.renderConfig={preserveAspectRatio:lt&&lt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:lt&&lt.contentVisibility||"visible",progressiveLoad:lt&&lt.progressiveLoad||!1,hideOnTransparent:!(lt&&lt.hideOnTransparent===!1),viewBoxOnly:lt&&lt.viewBoxOnly||!1,viewBoxSize:lt&&lt.viewBoxSize||!1,className:lt&&lt.className||"",id:lt&&lt.id||"",focusable:lt&&lt.focusable,filterSize:{width:lt&&lt.filterSize&&lt.filterSize.width||"100%",height:lt&&lt.filterSize&&lt.filterSize.height||"100%",x:lt&&lt.filterSize&&lt.filterSize.x||"0%",y:lt&&lt.filterSize&&lt.filterSize.y||"0%"},width:lt&&lt.width,height:lt&&lt.height,runExpressions:!lt||lt.runExpressions===void 0||lt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Ct,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(ft){return new SVGCompElement(ft,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(lt){var dt,vt=lt.length,St="_";for(dt=0;dt<vt;dt+=1)St+=lt[dt].transform.key+"_";var Et=this.sequences[St];return Et||(Et={transforms:[].concat(lt),finalTransform:new Matrix,_mdf:!1},this.sequences[St]=Et,this.sequenceList.push(Et)),Et},processSequence:function(lt,dt){for(var vt=0,St=lt.transforms.length,Et=dt;vt<St&&!dt;){if(lt.transforms[vt].transform.mProps._mdf){Et=!0;break}vt+=1}if(Et)for(lt.finalTransform.reset(),vt=St-1;vt>=0;vt-=1)lt.finalTransform.multiply(lt.transforms[vt].transform.mProps.v);lt._mdf=Et},processSequences:function(lt){var dt,vt=this.sequenceList.length;for(dt=0;dt<vt;dt+=1)this.processSequence(this.sequenceList[dt],lt)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var lt="__lottie_element_luma_buffer",dt=null,vt=null,St=null;function Et(){var Tt=createNS("svg"),Rt=createNS("filter"),Bt=createNS("feColorMatrix");return Rt.setAttribute("id",lt),Bt.setAttribute("type","matrix"),Bt.setAttribute("color-interpolation-filters","sRGB"),Bt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Rt.appendChild(Bt),Tt.appendChild(Rt),Tt.setAttribute("id",lt+"_svg"),featureSupport.svgLumaHidden&&(Tt.style.display="none"),Tt}function At(){dt||(St=Et(),document.body.appendChild(St),dt=createTag("canvas"),vt=dt.getContext("2d"),vt.filter="url(#"+lt+")",vt.fillStyle="rgba(0,0,0,0)",vt.fillRect(0,0,1,1))}function Ct(Tt){return dt||At(),dt.width=Tt.width,dt.height=Tt.height,vt.filter="url(#"+lt+")",dt}return{load:At,get:Ct}};function createCanvas(ft,lt){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(ft,lt);var dt=createTag("canvas");return dt.width=ft,dt.height=lt,dt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(ft){var lt,dt=ft.data.ef?ft.data.ef.length:0;this.filters=[];var vt;for(lt=0;lt<dt;lt+=1){vt=null;var St=ft.data.ef[lt].ty;if(registeredEffects[St]){var Et=registeredEffects[St].effect;vt=new Et(ft.effectsManager.effectElements[lt],ft)}vt&&this.filters.push(vt)}this.filters.length&&ft.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(ft){var lt,dt=this.filters.length;for(lt=0;lt<dt;lt+=1)this.filters[lt].renderFrame(ft)},CVEffects.prototype.getEffects=function(ft){var lt,dt=this.filters.length,vt=[];for(lt=0;lt<dt;lt+=1)this.filters[lt].type===ft&&vt.push(this.filters[lt]);return vt};function registerEffect(ft,lt){registeredEffects[ft]={effect:lt}}function CVMaskElement(ft,lt){this.data=ft,this.element=lt,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var dt,vt=this.masksProperties.length,St=!1;for(dt=0;dt<vt;dt+=1)this.masksProperties[dt].mode!=="n"&&(St=!0),this.viewData[dt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[dt],3);this.hasMasks=St,St&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var ft=this.element.finalTransform.mat,lt=this.element.canvasContext,dt,vt=this.masksProperties.length,St,Et,At;for(lt.beginPath(),dt=0;dt<vt;dt+=1)if(this.masksProperties[dt].mode!=="n"){this.masksProperties[dt].inv&&(lt.moveTo(0,0),lt.lineTo(this.element.globalData.compSize.w,0),lt.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),lt.lineTo(0,this.element.globalData.compSize.h),lt.lineTo(0,0)),At=this.viewData[dt].v,St=ft.applyToPointArray(At.v[0][0],At.v[0][1],0),lt.moveTo(St[0],St[1]);var Ct,Tt=At._length;for(Ct=1;Ct<Tt;Ct+=1)Et=ft.applyToTriplePoints(At.o[Ct-1],At.i[Ct],At.v[Ct]),lt.bezierCurveTo(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5]);Et=ft.applyToTriplePoints(At.o[Ct-1],At.i[0],At.v[0]),lt.bezierCurveTo(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5])}this.element.globalData.renderer.save(!0),lt.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var lt=this.globalData.canvasContext,dt=assetLoader.createCanvas(lt.canvas.width,lt.canvas.height);this.buffers.push(dt);var vt=assetLoader.createCanvas(lt.canvas.width,lt.canvas.height);this.buffers.push(vt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var lt=this.globalData;if(lt.blendMode!==this.data.bm){lt.blendMode=this.data.bm;var dt=getBlendMode(this.data.bm);lt.canvasContext.globalCompositeOperation=dt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(lt){lt.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var lt=this.buffers[0],dt=lt.getContext("2d");this.clearCanvas(dt),dt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var lt=this.buffers[1],dt=lt.getContext("2d");this.clearCanvas(dt),dt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var vt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(vt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var St=assetLoader.getLumaCanvas(this.canvasContext.canvas),Et=St.getContext("2d");Et.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(St,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(lt,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(lt){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!lt)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var dt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(dt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(dt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(ft,lt,dt,vt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var St=4;lt.ty==="rc"?St=5:lt.ty==="el"?St=6:lt.ty==="sr"&&(St=7),this.sh=ShapePropertyFactory.getShapeProp(ft,lt,St,ft);var Et,At=dt.length,Ct;for(Et=0;Et<At;Et+=1)dt[Et].closed||(Ct={transforms:vt.addTransformSequence(dt[Et].transforms),trNodes:[]},this.styledShapes.push(Ct),dt[Et].elements.push(Ct))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(ft,lt,dt){this.shapes=[],this.shapesData=ft.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(ft,lt){var dt={data:ft,type:ft.ty,preTransforms:this.transformsManager.addTransformSequence(lt),transforms:[],elements:[],closed:ft.hd===!0},vt={};if(ft.ty==="fl"||ft.ty==="st"?(vt.c=PropertyFactory.getProp(this,ft.c,1,255,this),vt.c.k||(dt.co="rgb("+bmFloor(vt.c.v[0])+","+bmFloor(vt.c.v[1])+","+bmFloor(vt.c.v[2])+")")):(ft.ty==="gf"||ft.ty==="gs")&&(vt.s=PropertyFactory.getProp(this,ft.s,1,null,this),vt.e=PropertyFactory.getProp(this,ft.e,1,null,this),vt.h=PropertyFactory.getProp(this,ft.h||{k:0},0,.01,this),vt.a=PropertyFactory.getProp(this,ft.a||{k:0},0,degToRads,this),vt.g=new GradientProperty(this,ft.g,this)),vt.o=PropertyFactory.getProp(this,ft.o,0,.01,this),ft.ty==="st"||ft.ty==="gs"){if(dt.lc=lineCapEnum[ft.lc||2],dt.lj=lineJoinEnum[ft.lj||2],ft.lj==1&&(dt.ml=ft.ml),vt.w=PropertyFactory.getProp(this,ft.w,0,null,this),vt.w.k||(dt.wi=vt.w.v),ft.d){var St=new DashProperty(this,ft.d,"canvas",this);vt.d=St,vt.d.k||(dt.da=vt.d.dashArray,dt.do=vt.d.dashoffset[0])}}else dt.r=ft.r===2?"evenodd":"nonzero";return this.stylesList.push(dt),vt.style=dt,vt},CVShapeElement.prototype.createGroupElement=function(){var ft={it:[],prevViewData:[]};return ft},CVShapeElement.prototype.createTransformElement=function(ft){var lt={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,ft.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,ft,this)}};return lt},CVShapeElement.prototype.createShapeElement=function(ft){var lt=new CVShapeData(this,ft,this.stylesList,this.transformsManager);return this.shapes.push(lt),this.addShapeToModifiers(lt),lt},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var ft,lt=this.itemsData.length;for(ft=0;ft<lt;ft+=1)this.prevViewData[ft]=this.itemsData[ft];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),lt=this.dynamicProperties.length,ft=0;ft<lt;ft+=1)this.dynamicProperties[ft].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(ft){var lt,dt=this.stylesList.length;for(lt=0;lt<dt;lt+=1)this.stylesList[lt].closed||this.stylesList[lt].transforms.push(ft)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var ft,lt=this.stylesList.length;for(ft=0;ft<lt;ft+=1)this.stylesList[ft].closed||this.stylesList[ft].transforms.pop()},CVShapeElement.prototype.closeStyles=function(ft){var lt,dt=ft.length;for(lt=0;lt<dt;lt+=1)ft[lt].closed=!0},CVShapeElement.prototype.searchShapes=function(ft,lt,dt,vt,St){var Et,At=ft.length-1,Ct,Tt,Rt=[],Bt=[],Dt,Ft,kt,Ut=[].concat(St);for(Et=At;Et>=0;Et-=1){if(Dt=this.searchProcessedElement(ft[Et]),Dt?lt[Et]=dt[Dt-1]:ft[Et]._shouldRender=vt,ft[Et].ty==="fl"||ft[Et].ty==="st"||ft[Et].ty==="gf"||ft[Et].ty==="gs")Dt?lt[Et].style.closed=!1:lt[Et]=this.createStyleElement(ft[Et],Ut),Rt.push(lt[Et].style);else if(ft[Et].ty==="gr"){if(!Dt)lt[Et]=this.createGroupElement(ft[Et]);else for(Tt=lt[Et].it.length,Ct=0;Ct<Tt;Ct+=1)lt[Et].prevViewData[Ct]=lt[Et].it[Ct];this.searchShapes(ft[Et].it,lt[Et].it,lt[Et].prevViewData,vt,Ut)}else ft[Et].ty==="tr"?(Dt||(kt=this.createTransformElement(ft[Et]),lt[Et]=kt),Ut.push(lt[Et]),this.addTransformToStyleList(lt[Et])):ft[Et].ty==="sh"||ft[Et].ty==="rc"||ft[Et].ty==="el"||ft[Et].ty==="sr"?Dt||(lt[Et]=this.createShapeElement(ft[Et])):ft[Et].ty==="tm"||ft[Et].ty==="rd"||ft[Et].ty==="pb"||ft[Et].ty==="zz"||ft[Et].ty==="op"?(Dt?(Ft=lt[Et],Ft.closed=!1):(Ft=ShapeModifiers.getModifier(ft[Et].ty),Ft.init(this,ft[Et]),lt[Et]=Ft,this.shapeModifiers.push(Ft)),Bt.push(Ft)):ft[Et].ty==="rp"&&(Dt?(Ft=lt[Et],Ft.closed=!0):(Ft=ShapeModifiers.getModifier(ft[Et].ty),lt[Et]=Ft,Ft.init(this,ft,Et,lt),this.shapeModifiers.push(Ft),vt=!1),Bt.push(Ft));this.addProcessedElement(ft[Et],Et+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Rt),At=Bt.length,Et=0;Et<At;Et+=1)Bt[Et].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(ft,lt){(ft._opMdf||lt.op._mdf||this._isFirstFrame)&&(lt.opacity=ft.opacity,lt.opacity*=lt.op.v,lt._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var ft,lt=this.stylesList.length,dt,vt,St,Et,At,Ct,Tt=this.globalData.renderer,Rt=this.globalData.canvasContext,Bt,Dt;for(ft=0;ft<lt;ft+=1)if(Dt=this.stylesList[ft],Bt=Dt.type,!((Bt==="st"||Bt==="gs")&&Dt.wi===0||!Dt.data._shouldRender||Dt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Tt.save(),At=Dt.elements,Bt==="st"||Bt==="gs"?(Tt.ctxStrokeStyle(Bt==="st"?Dt.co:Dt.grd),Tt.ctxLineWidth(Dt.wi),Tt.ctxLineCap(Dt.lc),Tt.ctxLineJoin(Dt.lj),Tt.ctxMiterLimit(Dt.ml||0)):Tt.ctxFillStyle(Bt==="fl"?Dt.co:Dt.grd),Tt.ctxOpacity(Dt.coOp),Bt!=="st"&&Bt!=="gs"&&Rt.beginPath(),Tt.ctxTransform(Dt.preTransforms.finalTransform.props),vt=At.length,dt=0;dt<vt;dt+=1){for((Bt==="st"||Bt==="gs")&&(Rt.beginPath(),Dt.da&&(Rt.setLineDash(Dt.da),Rt.lineDashOffset=Dt.do)),Ct=At[dt].trNodes,Et=Ct.length,St=0;St<Et;St+=1)Ct[St].t==="m"?Rt.moveTo(Ct[St].p[0],Ct[St].p[1]):Ct[St].t==="c"?Rt.bezierCurveTo(Ct[St].pts[0],Ct[St].pts[1],Ct[St].pts[2],Ct[St].pts[3],Ct[St].pts[4],Ct[St].pts[5]):Rt.closePath();(Bt==="st"||Bt==="gs")&&(Tt.ctxStroke(),Dt.da&&Rt.setLineDash(this.dashResetter))}Bt!=="st"&&Bt!=="gs"&&this.globalData.renderer.ctxFill(Dt.r),Tt.restore()}},CVShapeElement.prototype.renderShape=function(ft,lt,dt,vt){var St,Et=lt.length-1,At;for(At=ft,St=Et;St>=0;St-=1)lt[St].ty==="tr"?(At=dt[St].transform,this.renderShapeTransform(ft,At)):lt[St].ty==="sh"||lt[St].ty==="el"||lt[St].ty==="rc"||lt[St].ty==="sr"?this.renderPath(lt[St],dt[St]):lt[St].ty==="fl"?this.renderFill(lt[St],dt[St],At):lt[St].ty==="st"?this.renderStroke(lt[St],dt[St],At):lt[St].ty==="gf"||lt[St].ty==="gs"?this.renderGradientFill(lt[St],dt[St],At):lt[St].ty==="gr"?this.renderShape(At,lt[St].it,dt[St].it):lt[St].ty;vt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(ft,lt){if(this._isFirstFrame||lt._mdf||ft.transforms._mdf){var dt=ft.trNodes,vt=lt.paths,St,Et,At,Ct=vt._length;dt.length=0;var Tt=ft.transforms.finalTransform;for(At=0;At<Ct;At+=1){var Rt=vt.shapes[At];if(Rt&&Rt.v){for(Et=Rt._length,St=1;St<Et;St+=1)St===1&&dt.push({t:"m",p:Tt.applyToPointArray(Rt.v[0][0],Rt.v[0][1],0)}),dt.push({t:"c",pts:Tt.applyToTriplePoints(Rt.o[St-1],Rt.i[St],Rt.v[St])});Et===1&&dt.push({t:"m",p:Tt.applyToPointArray(Rt.v[0][0],Rt.v[0][1],0)}),Rt.c&&Et&&(dt.push({t:"c",pts:Tt.applyToTriplePoints(Rt.o[St-1],Rt.i[0],Rt.v[0])}),dt.push({t:"z"}))}}ft.trNodes=dt}},CVShapeElement.prototype.renderPath=function(ft,lt){if(ft.hd!==!0&&ft._shouldRender){var dt,vt=lt.styledShapes.length;for(dt=0;dt<vt;dt+=1)this.renderStyledShape(lt.styledShapes[dt],lt.sh)}},CVShapeElement.prototype.renderFill=function(ft,lt,dt){var vt=lt.style;(lt.c._mdf||this._isFirstFrame)&&(vt.co="rgb("+bmFloor(lt.c.v[0])+","+bmFloor(lt.c.v[1])+","+bmFloor(lt.c.v[2])+")"),(lt.o._mdf||dt._opMdf||this._isFirstFrame)&&(vt.coOp=lt.o.v*dt.opacity)},CVShapeElement.prototype.renderGradientFill=function(ft,lt,dt){var vt=lt.style,St;if(!vt.grd||lt.g._mdf||lt.s._mdf||lt.e._mdf||ft.t!==1&&(lt.h._mdf||lt.a._mdf)){var Et=this.globalData.canvasContext,At=lt.s.v,Ct=lt.e.v;if(ft.t===1)St=Et.createLinearGradient(At[0],At[1],Ct[0],Ct[1]);else{var Tt=Math.sqrt(Math.pow(At[0]-Ct[0],2)+Math.pow(At[1]-Ct[1],2)),Rt=Math.atan2(Ct[1]-At[1],Ct[0]-At[0]),Bt=lt.h.v;Bt>=1?Bt=.99:Bt<=-1&&(Bt=-.99);var Dt=Tt*Bt,Ft=Math.cos(Rt+lt.a.v)*Dt+At[0],kt=Math.sin(Rt+lt.a.v)*Dt+At[1];St=Et.createRadialGradient(Ft,kt,0,At[0],At[1],Tt)}var Ut,Kt=ft.g.p,tr=lt.g.c,Wt=1;for(Ut=0;Ut<Kt;Ut+=1)lt.g._hasOpacity&&lt.g._collapsable&&(Wt=lt.g.o[Ut*2+1]),St.addColorStop(tr[Ut*4]/100,"rgba("+tr[Ut*4+1]+","+tr[Ut*4+2]+","+tr[Ut*4+3]+","+Wt+")");vt.grd=St}vt.coOp=lt.o.v*dt.opacity},CVShapeElement.prototype.renderStroke=function(ft,lt,dt){var vt=lt.style,St=lt.d;St&&(St._mdf||this._isFirstFrame)&&(vt.da=St.dashArray,vt.do=St.dashoffset[0]),(lt.c._mdf||this._isFirstFrame)&&(vt.co="rgb("+bmFloor(lt.c.v[0])+","+bmFloor(lt.c.v[1])+","+bmFloor(lt.c.v[2])+")"),(lt.o._mdf||dt._opMdf||this._isFirstFrame)&&(vt.coOp=lt.o.v*dt.opacity),(lt.w._mdf||this._isFirstFrame)&&(vt.wi=lt.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(ft,lt,dt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var ft=this.textProperty.currentData;this.renderedLetters=createSizedArray(ft.l?ft.l.length:0);var lt=!1;ft.fc?(lt=!0,this.values.fill=this.buildColor(ft.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=lt;var dt=!1;ft.sc&&(dt=!0,this.values.stroke=this.buildColor(ft.sc),this.values.sWidth=ft.sw);var vt=this.globalData.fontManager.getFontByName(ft.f),St,Et,At=ft.l,Ct=this.mHelper;this.stroke=dt,this.values.fValue=ft.finalSize+"px "+this.globalData.fontManager.getFontByName(ft.f).fFamily,Et=ft.finalText.length;var Tt,Rt,Bt,Dt,Ft,kt,Ut,Kt,tr,Wt,Zt=this.data.singleShape,Ht=ft.tr*.001*ft.finalSize,nr=0,sr=0,ar=!0,ir=0;for(St=0;St<Et;St+=1){Tt=this.globalData.fontManager.getCharData(ft.finalText[St],vt.fStyle,this.globalData.fontManager.getFontByName(ft.f).fFamily),Rt=Tt&&Tt.data||{},Ct.reset(),Zt&&At[St].n&&(nr=-Ht,sr+=ft.yOffset,sr+=ar?1:0,ar=!1),Ft=Rt.shapes?Rt.shapes[0].it:[],Ut=Ft.length,Ct.scale(ft.finalSize/100,ft.finalSize/100),Zt&&this.applyTextPropertiesToMatrix(ft,Ct,At[St].line,nr,sr),tr=createSizedArray(Ut-1);var rr=0;for(kt=0;kt<Ut;kt+=1)if(Ft[kt].ty==="sh"){for(Dt=Ft[kt].ks.k.i.length,Kt=Ft[kt].ks.k,Wt=[],Bt=1;Bt<Dt;Bt+=1)Bt===1&&Wt.push(Ct.applyToX(Kt.v[0][0],Kt.v[0][1],0),Ct.applyToY(Kt.v[0][0],Kt.v[0][1],0)),Wt.push(Ct.applyToX(Kt.o[Bt-1][0],Kt.o[Bt-1][1],0),Ct.applyToY(Kt.o[Bt-1][0],Kt.o[Bt-1][1],0),Ct.applyToX(Kt.i[Bt][0],Kt.i[Bt][1],0),Ct.applyToY(Kt.i[Bt][0],Kt.i[Bt][1],0),Ct.applyToX(Kt.v[Bt][0],Kt.v[Bt][1],0),Ct.applyToY(Kt.v[Bt][0],Kt.v[Bt][1],0));Wt.push(Ct.applyToX(Kt.o[Bt-1][0],Kt.o[Bt-1][1],0),Ct.applyToY(Kt.o[Bt-1][0],Kt.o[Bt-1][1],0),Ct.applyToX(Kt.i[0][0],Kt.i[0][1],0),Ct.applyToY(Kt.i[0][0],Kt.i[0][1],0),Ct.applyToX(Kt.v[0][0],Kt.v[0][1],0),Ct.applyToY(Kt.v[0][0],Kt.v[0][1],0)),tr[rr]=Wt,rr+=1}Zt&&(nr+=At[St].l,nr+=Ht),this.textSpans[ir]?this.textSpans[ir].elem=tr:this.textSpans[ir]={elem:tr},ir+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var ft=this.canvasContext;ft.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var lt,dt,vt,St,Et,At,Ct=this.textAnimator.renderedLetters,Tt=this.textProperty.currentData.l;dt=Tt.length;var Rt,Bt=null,Dt=null,Ft=null,kt,Ut,Kt=this.globalData.renderer;for(lt=0;lt<dt;lt+=1)if(!Tt[lt].n){if(Rt=Ct[lt],Rt&&(Kt.save(),Kt.ctxTransform(Rt.p),Kt.ctxOpacity(Rt.o)),this.fill){for(Rt&&Rt.fc?Bt!==Rt.fc&&(Kt.ctxFillStyle(Rt.fc),Bt=Rt.fc):Bt!==this.values.fill&&(Bt=this.values.fill,Kt.ctxFillStyle(this.values.fill)),kt=this.textSpans[lt].elem,St=kt.length,this.globalData.canvasContext.beginPath(),vt=0;vt<St;vt+=1)for(Ut=kt[vt],At=Ut.length,this.globalData.canvasContext.moveTo(Ut[0],Ut[1]),Et=2;Et<At;Et+=6)this.globalData.canvasContext.bezierCurveTo(Ut[Et],Ut[Et+1],Ut[Et+2],Ut[Et+3],Ut[Et+4],Ut[Et+5]);this.globalData.canvasContext.closePath(),Kt.ctxFill()}if(this.stroke){for(Rt&&Rt.sw?Ft!==Rt.sw&&(Ft=Rt.sw,Kt.ctxLineWidth(Rt.sw)):Ft!==this.values.sWidth&&(Ft=this.values.sWidth,Kt.ctxLineWidth(this.values.sWidth)),Rt&&Rt.sc?Dt!==Rt.sc&&(Dt=Rt.sc,Kt.ctxStrokeStyle(Rt.sc)):Dt!==this.values.stroke&&(Dt=this.values.stroke,Kt.ctxStrokeStyle(this.values.stroke)),kt=this.textSpans[lt].elem,St=kt.length,this.globalData.canvasContext.beginPath(),vt=0;vt<St;vt+=1)for(Ut=kt[vt],At=Ut.length,this.globalData.canvasContext.moveTo(Ut[0],Ut[1]),Et=2;Et<At;Et+=6)this.globalData.canvasContext.bezierCurveTo(Ut[Et],Ut[Et+1],Ut[Et+2],Ut[Et+3],Ut[Et+4],Ut[Et+5]);this.globalData.canvasContext.closePath(),Kt.ctxStroke()}Rt&&this.globalData.renderer.restore()}};function CVImageElement(ft,lt,dt){this.assetData=lt.getAssetData(ft.refId),this.img=lt.imageLoader.getAsset(this.assetData),this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var ft=createTag("canvas");ft.width=this.assetData.w,ft.height=this.assetData.h;var lt=ft.getContext("2d"),dt=this.img.width,vt=this.img.height,St=dt/vt,Et=this.assetData.w/this.assetData.h,At,Ct,Tt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;St>Et&&Tt==="xMidYMid slice"||St<Et&&Tt!=="xMidYMid slice"?(Ct=vt,At=Ct*Et):(At=dt,Ct=At/Et),lt.drawImage(this.img,(dt-At)/2,(vt-Ct)/2,At,Ct,0,0,this.assetData.w,this.assetData.h),this.img=ft}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(ft,lt,dt){this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(ft){return new CVShapeElement(ft,this.globalData,this)},CanvasRendererBase.prototype.createText=function(ft){return new CVTextElement(ft,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(ft){return new CVImageElement(ft,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(ft){return new CVSolidElement(ft,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(ft){ft[0]===1&&ft[1]===0&&ft[4]===0&&ft[5]===1&&ft[12]===0&&ft[13]===0||this.canvasContext.transform(ft[0],ft[1],ft[4],ft[5],ft[12],ft[13])},CanvasRendererBase.prototype.ctxOpacity=function(ft){this.canvasContext.globalAlpha*=ft<0?0:ft},CanvasRendererBase.prototype.ctxFillStyle=function(ft){this.canvasContext.fillStyle=ft},CanvasRendererBase.prototype.ctxStrokeStyle=function(ft){this.canvasContext.strokeStyle=ft},CanvasRendererBase.prototype.ctxLineWidth=function(ft){this.canvasContext.lineWidth=ft},CanvasRendererBase.prototype.ctxLineCap=function(ft){this.canvasContext.lineCap=ft},CanvasRendererBase.prototype.ctxLineJoin=function(ft){this.canvasContext.lineJoin=ft},CanvasRendererBase.prototype.ctxMiterLimit=function(ft){this.canvasContext.miterLimit=ft},CanvasRendererBase.prototype.ctxFill=function(ft){this.canvasContext.fill(ft)},CanvasRendererBase.prototype.ctxFillRect=function(ft,lt,dt,vt){this.canvasContext.fillRect(ft,lt,dt,vt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(ft){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}ft&&(this.globalData.blendMode="source-over"),this.contextData.restore(ft)},CanvasRendererBase.prototype.configAnimation=function(ft){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var lt=this.animationItem.container.style;lt.width="100%",lt.height="100%";var dt="0px 0px 0px";lt.transformOrigin=dt,lt.mozTransformOrigin=dt,lt.webkitTransformOrigin=dt,lt["-webkit-transform"]=dt,lt.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=ft,this.layers=ft.layers,this.transformCanvas={w:ft.w,h:ft.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(ft,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(ft.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(ft,lt){this.reset();var dt,vt;ft?(dt=ft,vt=lt,this.canvasContext.canvas.width=dt,this.canvasContext.canvas.height=vt):(this.animationItem.wrapper&&this.animationItem.container?(dt=this.animationItem.wrapper.offsetWidth,vt=this.animationItem.wrapper.offsetHeight):(dt=this.canvasContext.canvas.width,vt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=dt*this.renderConfig.dpr,this.canvasContext.canvas.height=vt*this.renderConfig.dpr);var St,Et;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var At=this.renderConfig.preserveAspectRatio.split(" "),Ct=At[1]||"meet",Tt=At[0]||"xMidYMid",Rt=Tt.substr(0,4),Bt=Tt.substr(4);St=dt/vt,Et=this.transformCanvas.w/this.transformCanvas.h,Et>St&&Ct==="meet"||Et<St&&Ct==="slice"?(this.transformCanvas.sx=dt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=dt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=vt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=vt/(this.transformCanvas.h/this.renderConfig.dpr)),Rt==="xMid"&&(Et<St&&Ct==="meet"||Et>St&&Ct==="slice")?this.transformCanvas.tx=(dt-this.transformCanvas.w*(vt/this.transformCanvas.h))/2*this.renderConfig.dpr:Rt==="xMax"&&(Et<St&&Ct==="meet"||Et>St&&Ct==="slice")?this.transformCanvas.tx=(dt-this.transformCanvas.w*(vt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Bt==="YMid"&&(Et>St&&Ct==="meet"||Et<St&&Ct==="slice")?this.transformCanvas.ty=(vt-this.transformCanvas.h*(dt/this.transformCanvas.w))/2*this.renderConfig.dpr:Bt==="YMax"&&(Et>St&&Ct==="meet"||Et<St&&Ct==="slice")?this.transformCanvas.ty=(vt-this.transformCanvas.h*(dt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=dt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=vt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var ft,lt=this.layers?this.layers.length:0;for(ft=lt-1;ft>=0;ft-=1)this.elements[ft]&&this.elements[ft].destroy&&this.elements[ft].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(ft,lt){if(!(this.renderedFrame===ft&&this.renderConfig.clearCanvas===!0&&!lt||this.destroyed||ft===-1)){this.renderedFrame=ft,this.globalData.frameNum=ft-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||lt,this.globalData.projectInterface.currentFrame=ft;var dt,vt=this.layers.length;for(this.completeLayers||this.checkLayers(ft),dt=vt-1;dt>=0;dt-=1)(this.completeLayers||this.elements[dt])&&this.elements[dt].prepareFrame(ft-this.layers[dt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),dt=vt-1;dt>=0;dt-=1)(this.completeLayers||this.elements[dt])&&this.elements[dt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(ft){var lt=this.elements;if(!(lt[ft]||this.layers[ft].ty===99)){var dt=this.createItem(this.layers[ft],this,this.globalData);lt[ft]=dt,dt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var ft=this.pendingElements.pop();ft.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var ft,lt=15;for(ft=0;ft<lt;ft+=1){var dt=new CanvasContext;this.stack[ft]=dt}this._length=lt,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var ft=this._length*2,lt=0;for(lt=this._length;lt<ft;lt+=1)this.stack[lt]=new CanvasContext;this._length=ft},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(ft){this.cArrPos-=1;var lt=this.stack[this.cArrPos],dt=lt.transform,vt,St=this.cTr.props;for(vt=0;vt<16;vt+=1)St[vt]=dt[vt];if(ft){this.nativeContext.restore();var Et=this.stack[this.cArrPos+1];this.appliedFillStyle=Et.fillStyle,this.appliedStrokeStyle=Et.strokeStyle,this.appliedLineWidth=Et.lineWidth,this.appliedLineCap=Et.lineCap,this.appliedLineJoin=Et.lineJoin,this.appliedMiterLimit=Et.miterLimit}this.nativeContext.setTransform(dt[0],dt[1],dt[4],dt[5],dt[12],dt[13]),(ft||lt.opacity!==-1&&this.currentOpacity!==lt.opacity)&&(this.nativeContext.globalAlpha=lt.opacity,this.currentOpacity=lt.opacity),this.currentFillStyle=lt.fillStyle,this.currentStrokeStyle=lt.strokeStyle,this.currentLineWidth=lt.lineWidth,this.currentLineCap=lt.lineCap,this.currentLineJoin=lt.lineJoin,this.currentMiterLimit=lt.miterLimit},CVContextData.prototype.save=function(ft){ft&&this.nativeContext.save();var lt=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var dt=this.stack[this.cArrPos],vt;for(vt=0;vt<16;vt+=1)dt.transform[vt]=lt[vt];this.cArrPos+=1;var St=this.stack[this.cArrPos];St.opacity=dt.opacity,St.fillStyle=dt.fillStyle,St.strokeStyle=dt.strokeStyle,St.lineWidth=dt.lineWidth,St.lineCap=dt.lineCap,St.lineJoin=dt.lineJoin,St.miterLimit=dt.miterLimit},CVContextData.prototype.setOpacity=function(ft){this.stack[this.cArrPos].opacity=ft},CVContextData.prototype.setContext=function(ft){this.nativeContext=ft},CVContextData.prototype.fillStyle=function(ft){this.stack[this.cArrPos].fillStyle!==ft&&(this.currentFillStyle=ft,this.stack[this.cArrPos].fillStyle=ft)},CVContextData.prototype.strokeStyle=function(ft){this.stack[this.cArrPos].strokeStyle!==ft&&(this.currentStrokeStyle=ft,this.stack[this.cArrPos].strokeStyle=ft)},CVContextData.prototype.lineWidth=function(ft){this.stack[this.cArrPos].lineWidth!==ft&&(this.currentLineWidth=ft,this.stack[this.cArrPos].lineWidth=ft)},CVContextData.prototype.lineCap=function(ft){this.stack[this.cArrPos].lineCap!==ft&&(this.currentLineCap=ft,this.stack[this.cArrPos].lineCap=ft)},CVContextData.prototype.lineJoin=function(ft){this.stack[this.cArrPos].lineJoin!==ft&&(this.currentLineJoin=ft,this.stack[this.cArrPos].lineJoin=ft)},CVContextData.prototype.miterLimit=function(ft){this.stack[this.cArrPos].miterLimit!==ft&&(this.currentMiterLimit=ft,this.stack[this.cArrPos].miterLimit=ft)},CVContextData.prototype.transform=function(ft){this.transformMat.cloneFromProps(ft);var lt=this.cTr;this.transformMat.multiply(lt),lt.cloneFromProps(this.transformMat.props);var dt=lt.props;this.nativeContext.setTransform(dt[0],dt[1],dt[4],dt[5],dt[12],dt[13])},CVContextData.prototype.opacity=function(ft){var lt=this.stack[this.cArrPos].opacity;lt*=ft<0?0:ft,this.stack[this.cArrPos].opacity!==lt&&(this.currentOpacity!==ft&&(this.nativeContext.globalAlpha=ft,this.currentOpacity=ft),this.stack[this.cArrPos].opacity=lt)},CVContextData.prototype.fill=function(ft){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(ft)},CVContextData.prototype.fillRect=function(ft,lt,dt,vt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(ft,lt,dt,vt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(ft,lt,dt){this.completeLayers=!1,this.layers=ft.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(ft,lt,dt),this.tm=ft.tm?PropertyFactory.getProp(this,ft.tm,0,lt.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var ft=this.canvasContext;ft.beginPath(),ft.moveTo(0,0),ft.lineTo(this.data.w,0),ft.lineTo(this.data.w,this.data.h),ft.lineTo(0,this.data.h),ft.lineTo(0,0),ft.clip();var lt,dt=this.layers.length;for(lt=dt-1;lt>=0;lt-=1)(this.completeLayers||this.elements[lt])&&this.elements[lt].renderFrame()},CVCompElement.prototype.destroy=function(){var ft,lt=this.layers.length;for(ft=lt-1;ft>=0;ft-=1)this.elements[ft]&&this.elements[ft].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(ft){return new CVCompElement(ft,this.globalData,this)};function CanvasRenderer(ft,lt){this.animationItem=ft,this.renderConfig={clearCanvas:lt&&lt.clearCanvas!==void 0?lt.clearCanvas:!0,context:lt&&lt.context||null,progressiveLoad:lt&&lt.progressiveLoad||!1,preserveAspectRatio:lt&&lt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:lt&&lt.contentVisibility||"visible",className:lt&&lt.className||"",id:lt&&lt.id||"",runExpressions:!lt||lt.runExpressions===void 0||lt.runExpressions},this.renderConfig.dpr=lt&&lt.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=lt&&lt.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(ft){return new CVCompElement(ft,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var lt=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var dt=this.finalTransform.mat.toCSS();lt.transform=dt,lt.webkitTransform=dt}this.finalTransform._opMdf&&(lt.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(ft,lt,dt){this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var ft;this.data.hasMask?(ft=createNS("rect"),ft.setAttribute("width",this.data.sw),ft.setAttribute("height",this.data.sh),ft.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(ft=createTag("div"),ft.style.width=this.data.sw+"px",ft.style.height=this.data.sh+"px",ft.style.backgroundColor=this.data.sc),this.layerElement.appendChild(ft)};function HShapeElement(ft,lt,dt){this.shapes=[],this.shapesData=ft.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(ft,lt,dt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var ft;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),ft=this.svgElement;else{ft=createNS("svg");var lt=this.comp.data?this.comp.data:this.globalData.compSize;ft.setAttribute("width",lt.w),ft.setAttribute("height",lt.h),ft.appendChild(this.shapesContainer),this.layerElement.appendChild(ft)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=ft},HShapeElement.prototype.getTransformedPoint=function(ft,lt){var dt,vt=ft.length;for(dt=0;dt<vt;dt+=1)lt=ft[dt].mProps.v.applyToPointArray(lt[0],lt[1],0);return lt},HShapeElement.prototype.calculateShapeBoundingBox=function(ft,lt){var dt=ft.sh.v,vt=ft.transformers,St,Et=dt._length,At,Ct,Tt,Rt;if(!(Et<=1)){for(St=0;St<Et-1;St+=1)At=this.getTransformedPoint(vt,dt.v[St]),Ct=this.getTransformedPoint(vt,dt.o[St]),Tt=this.getTransformedPoint(vt,dt.i[St+1]),Rt=this.getTransformedPoint(vt,dt.v[St+1]),this.checkBounds(At,Ct,Tt,Rt,lt);dt.c&&(At=this.getTransformedPoint(vt,dt.v[St]),Ct=this.getTransformedPoint(vt,dt.o[St]),Tt=this.getTransformedPoint(vt,dt.i[0]),Rt=this.getTransformedPoint(vt,dt.v[0]),this.checkBounds(At,Ct,Tt,Rt,lt))}},HShapeElement.prototype.checkBounds=function(ft,lt,dt,vt,St){this.getBoundsOfCurve(ft,lt,dt,vt);var Et=this.shapeBoundingBox;St.x=bmMin(Et.left,St.x),St.xMax=bmMax(Et.right,St.xMax),St.y=bmMin(Et.top,St.y),St.yMax=bmMax(Et.bottom,St.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(ft,lt,dt,vt){for(var St=[[ft[0],vt[0]],[ft[1],vt[1]]],Et,At,Ct,Tt,Rt,Bt,Dt,Ft=0;Ft<2;++Ft)At=6*ft[Ft]-12*lt[Ft]+6*dt[Ft],Et=-3*ft[Ft]+9*lt[Ft]-9*dt[Ft]+3*vt[Ft],Ct=3*lt[Ft]-3*ft[Ft],At|=0,Et|=0,Ct|=0,Et===0&&At===0||(Et===0?(Tt=-Ct/At,Tt>0&&Tt<1&&St[Ft].push(this.calculateF(Tt,ft,lt,dt,vt,Ft))):(Rt=At*At-4*Ct*Et,Rt>=0&&(Bt=(-At+bmSqrt(Rt))/(2*Et),Bt>0&&Bt<1&&St[Ft].push(this.calculateF(Bt,ft,lt,dt,vt,Ft)),Dt=(-At-bmSqrt(Rt))/(2*Et),Dt>0&&Dt<1&&St[Ft].push(this.calculateF(Dt,ft,lt,dt,vt,Ft)))));this.shapeBoundingBox.left=bmMin.apply(null,St[0]),this.shapeBoundingBox.top=bmMin.apply(null,St[1]),this.shapeBoundingBox.right=bmMax.apply(null,St[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,St[1])},HShapeElement.prototype.calculateF=function(ft,lt,dt,vt,St,Et){return bmPow(1-ft,3)*lt[Et]+3*bmPow(1-ft,2)*ft*dt[Et]+3*(1-ft)*bmPow(ft,2)*vt[Et]+bmPow(ft,3)*St[Et]},HShapeElement.prototype.calculateBoundingBox=function(ft,lt){var dt,vt=ft.length;for(dt=0;dt<vt;dt+=1)ft[dt]&&ft[dt].sh?this.calculateShapeBoundingBox(ft[dt],lt):ft[dt]&&ft[dt].it?this.calculateBoundingBox(ft[dt].it,lt):ft[dt]&&ft[dt].style&&ft[dt].w&&this.expandStrokeBoundingBox(ft[dt].w,lt)},HShapeElement.prototype.expandStrokeBoundingBox=function(ft,lt){var dt=0;if(ft.keyframes){for(var vt=0;vt<ft.keyframes.length;vt+=1){var St=ft.keyframes[vt].s;St>dt&&(dt=St)}dt*=ft.mult}else dt=ft.v*ft.mult;lt.x-=dt,lt.xMax+=dt,lt.y-=dt,lt.yMax+=dt},HShapeElement.prototype.currentBoxContains=function(ft){return this.currentBBox.x<=ft.x&&this.currentBBox.y<=ft.y&&this.currentBBox.width+this.currentBBox.x>=ft.x+ft.width&&this.currentBBox.height+this.currentBBox.y>=ft.y+ft.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var ft=this.tempBoundingBox,lt=999999;if(ft.x=lt,ft.xMax=-lt,ft.y=lt,ft.yMax=-lt,this.calculateBoundingBox(this.itemsData,ft),ft.width=ft.xMax<ft.x?0:ft.xMax-ft.x,ft.height=ft.yMax<ft.y?0:ft.yMax-ft.y,this.currentBoxContains(ft))return;var dt=!1;if(this.currentBBox.w!==ft.width&&(this.currentBBox.w=ft.width,this.shapeCont.setAttribute("width",ft.width),dt=!0),this.currentBBox.h!==ft.height&&(this.currentBBox.h=ft.height,this.shapeCont.setAttribute("height",ft.height),dt=!0),dt||this.currentBBox.x!==ft.x||this.currentBBox.y!==ft.y){this.currentBBox.w=ft.width,this.currentBBox.h=ft.height,this.currentBBox.x=ft.x,this.currentBBox.y=ft.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var vt=this.shapeCont.style,St="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";vt.transform=St,vt.webkitTransform=St}}};function HTextElement(ft,lt,dt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var ft=createNS("g");this.maskedElement.appendChild(ft),this.innerElem=ft}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var ft=this.textProperty.currentData;this.renderedLetters=createSizedArray(ft.l?ft.l.length:0);var lt=this.innerElem.style,dt=ft.fc?this.buildColor(ft.fc):"rgba(0,0,0,0)";lt.fill=dt,lt.color=dt,ft.sc&&(lt.stroke=this.buildColor(ft.sc),lt.strokeWidth=ft.sw+"px");var vt=this.globalData.fontManager.getFontByName(ft.f);if(!this.globalData.fontManager.chars)if(lt.fontSize=ft.finalSize+"px",lt.lineHeight=ft.finalSize+"px",vt.fClass)this.innerElem.className=vt.fClass;else{lt.fontFamily=vt.fFamily;var St=ft.fWeight,Et=ft.fStyle;lt.fontStyle=Et,lt.fontWeight=St}var At,Ct,Tt=ft.l;Ct=Tt.length;var Rt,Bt,Dt,Ft=this.mHelper,kt,Ut="",Kt=0;for(At=0;At<Ct;At+=1){if(this.globalData.fontManager.chars?(this.textPaths[Kt]?Rt=this.textPaths[Kt]:(Rt=createNS("path"),Rt.setAttribute("stroke-linecap",lineCapEnum[1]),Rt.setAttribute("stroke-linejoin",lineJoinEnum[2]),Rt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Kt]?(Bt=this.textSpans[Kt],Dt=Bt.children[0]):(Bt=createTag("div"),Bt.style.lineHeight=0,Dt=createNS("svg"),Dt.appendChild(Rt),styleDiv(Bt)))):this.isMasked?Rt=this.textPaths[Kt]?this.textPaths[Kt]:createNS("text"):this.textSpans[Kt]?(Bt=this.textSpans[Kt],Rt=this.textPaths[Kt]):(Bt=createTag("span"),styleDiv(Bt),Rt=createTag("span"),styleDiv(Rt),Bt.appendChild(Rt)),this.globalData.fontManager.chars){var tr=this.globalData.fontManager.getCharData(ft.finalText[At],vt.fStyle,this.globalData.fontManager.getFontByName(ft.f).fFamily),Wt;if(tr?Wt=tr.data:Wt=null,Ft.reset(),Wt&&Wt.shapes&&Wt.shapes.length&&(kt=Wt.shapes[0].it,Ft.scale(ft.finalSize/100,ft.finalSize/100),Ut=this.createPathShape(Ft,kt),Rt.setAttribute("d",Ut)),this.isMasked)this.innerElem.appendChild(Rt);else{if(this.innerElem.appendChild(Bt),Wt&&Wt.shapes){document.body.appendChild(Dt);var Zt=Dt.getBBox();Dt.setAttribute("width",Zt.width+2),Dt.setAttribute("height",Zt.height+2),Dt.setAttribute("viewBox",Zt.x-1+" "+(Zt.y-1)+" "+(Zt.width+2)+" "+(Zt.height+2));var Ht=Dt.style,nr="translate("+(Zt.x-1)+"px,"+(Zt.y-1)+"px)";Ht.transform=nr,Ht.webkitTransform=nr,Tt[At].yOffset=Zt.y-1}else Dt.setAttribute("width",1),Dt.setAttribute("height",1);Bt.appendChild(Dt)}}else if(Rt.textContent=Tt[At].val,Rt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Rt);else{this.innerElem.appendChild(Bt);var sr=Rt.style,ar="translate3d(0,"+-ft.finalSize/1.2+"px,0)";sr.transform=ar,sr.webkitTransform=ar}this.isMasked?this.textSpans[Kt]=Rt:this.textSpans[Kt]=Bt,this.textSpans[Kt].style.display="block",this.textPaths[Kt]=Rt,Kt+=1}for(;Kt<this.textSpans.length;)this.textSpans[Kt].style.display="none",Kt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var ft;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),ft=this.svgElement.style;var lt="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";ft.transform=lt,ft.webkitTransform=lt}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var dt,vt,St=0,Et=this.textAnimator.renderedLetters,At=this.textProperty.currentData.l;vt=At.length;var Ct,Tt,Rt;for(dt=0;dt<vt;dt+=1)At[dt].n?St+=1:(Tt=this.textSpans[dt],Rt=this.textPaths[dt],Ct=Et[St],St+=1,Ct._mdf.m&&(this.isMasked?Tt.setAttribute("transform",Ct.m):(Tt.style.webkitTransform=Ct.m,Tt.style.transform=Ct.m)),Tt.style.opacity=Ct.o,Ct.sw&&Ct._mdf.sw&&Rt.setAttribute("stroke-width",Ct.sw),Ct.sc&&Ct._mdf.sc&&Rt.setAttribute("stroke",Ct.sc),Ct.fc&&Ct._mdf.fc&&(Rt.setAttribute("fill",Ct.fc),Rt.style.color=Ct.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Bt=this.innerElem.getBBox();this.currentBBox.w!==Bt.width&&(this.currentBBox.w=Bt.width,this.svgElement.setAttribute("width",Bt.width)),this.currentBBox.h!==Bt.height&&(this.currentBBox.h=Bt.height,this.svgElement.setAttribute("height",Bt.height));var Dt=1;if(this.currentBBox.w!==Bt.width+Dt*2||this.currentBBox.h!==Bt.height+Dt*2||this.currentBBox.x!==Bt.x-Dt||this.currentBBox.y!==Bt.y-Dt){this.currentBBox.w=Bt.width+Dt*2,this.currentBBox.h=Bt.height+Dt*2,this.currentBBox.x=Bt.x-Dt,this.currentBBox.y=Bt.y-Dt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),ft=this.svgElement.style;var Ft="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";ft.transform=Ft,ft.webkitTransform=Ft}}}};function HCameraElement(ft,lt,dt){this.initFrame(),this.initBaseData(ft,lt,dt),this.initHierarchy();var vt=PropertyFactory.getProp;if(this.pe=vt(this,ft.pe,0,0,this),ft.ks.p.s?(this.px=vt(this,ft.ks.p.x,1,0,this),this.py=vt(this,ft.ks.p.y,1,0,this),this.pz=vt(this,ft.ks.p.z,1,0,this)):this.p=vt(this,ft.ks.p,1,0,this),ft.ks.a&&(this.a=vt(this,ft.ks.a,1,0,this)),ft.ks.or.k.length&&ft.ks.or.k[0].to){var St,Et=ft.ks.or.k.length;for(St=0;St<Et;St+=1)ft.ks.or.k[St].to=null,ft.ks.or.k[St].ti=null}this.or=vt(this,ft.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=vt(this,ft.ks.rx,0,degToRads,this),this.ry=vt(this,ft.ks.ry,0,degToRads,this),this.rz=vt(this,ft.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var ft,lt=this.comp.threeDElements.length,dt,vt,St;for(ft=0;ft<lt;ft+=1)if(dt=this.comp.threeDElements[ft],dt.type==="3d"){vt=dt.perspectiveElem.style,St=dt.container.style;var Et=this.pe.v+"px",At="0px 0px 0px",Ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";vt.perspective=Et,vt.webkitPerspective=Et,St.transformOrigin=At,St.mozTransformOrigin=At,St.webkitTransformOrigin=At,vt.transform=Ct,vt.webkitTransform=Ct}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var ft=this._isFirstFrame,lt,dt;if(this.hierarchy)for(dt=this.hierarchy.length,lt=0;lt<dt;lt+=1)ft=this.hierarchy[lt].finalTransform.mProp._mdf||ft;if(ft||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(dt=this.hierarchy.length-1,lt=dt;lt>=0;lt-=1){var vt=this.hierarchy[lt].finalTransform.mProp;this.mat.translate(-vt.p.v[0],-vt.p.v[1],vt.p.v[2]),this.mat.rotateX(-vt.or.v[0]).rotateY(-vt.or.v[1]).rotateZ(vt.or.v[2]),this.mat.rotateX(-vt.rx.v).rotateY(-vt.ry.v).rotateZ(vt.rz.v),this.mat.scale(1/vt.s.v[0],1/vt.s.v[1],1/vt.s.v[2]),this.mat.translate(vt.a.v[0],vt.a.v[1],vt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var St;this.p?St=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:St=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Et=Math.sqrt(Math.pow(St[0],2)+Math.pow(St[1],2)+Math.pow(St[2],2)),At=[St[0]/Et,St[1]/Et,St[2]/Et],Ct=Math.sqrt(At[2]*At[2]+At[0]*At[0]),Tt=Math.atan2(At[1],Ct),Rt=Math.atan2(At[0],-At[2]);this.mat.rotateY(Rt).rotateX(-Tt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Bt=!this._prevMat.equals(this.mat);if((Bt||this.pe._mdf)&&this.comp.threeDElements){dt=this.comp.threeDElements.length;var Dt,Ft,kt;for(lt=0;lt<dt;lt+=1)if(Dt=this.comp.threeDElements[lt],Dt.type==="3d"){if(Bt){var Ut=this.mat.toCSS();kt=Dt.container.style,kt.transform=Ut,kt.webkitTransform=Ut}this.pe._mdf&&(Ft=Dt.perspectiveElem.style,Ft.perspective=this.pe.v+"px",Ft.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(ft){this.prepareProperties(ft,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(ft,lt,dt){this.assetData=lt.getAssetData(ft.refId),this.initElement(ft,lt,dt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var ft=this.globalData.getAssetsPath(this.assetData),lt=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",ft),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(lt),lt.crossOrigin="anonymous",lt.src=ft,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(ft,lt){this.animationItem=ft,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:lt&&lt.className||"",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(lt&&lt.hideOnTransparent===!1),filterSize:{width:lt&&lt.filterSize&&lt.filterSize.width||"400%",height:lt&&lt.filterSize&&lt.filterSize.height||"400%",x:lt&&lt.filterSize&&lt.filterSize.x||"-100%",y:lt&&lt.filterSize&&lt.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var ft=this.pendingElements.pop();ft.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(ft,lt){var dt=ft.getBaseElement();if(dt){var vt=this.layers[lt];if(!vt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(dt,lt);else{for(var St=0,Et,At,Ct;St<lt;)this.elements[St]&&this.elements[St]!==!0&&this.elements[St].getBaseElement&&(At=this.elements[St],Ct=this.layers[St].ddd?this.getThreeDContainerByPos(St):At.getBaseElement(),Et=Ct||Et),St+=1;Et?(!vt.ddd||!this.supports3d)&&this.layerElement.insertBefore(dt,Et):(!vt.ddd||!this.supports3d)&&this.layerElement.appendChild(dt)}else this.addTo3dContainer(dt,lt)}},HybridRendererBase.prototype.createShape=function(ft){return this.supports3d?new HShapeElement(ft,this.globalData,this):new SVGShapeElement(ft,this.globalData,this)},HybridRendererBase.prototype.createText=function(ft){return this.supports3d?new HTextElement(ft,this.globalData,this):new SVGTextLottieElement(ft,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(ft){return this.camera=new HCameraElement(ft,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(ft){return this.supports3d?new HImageElement(ft,this.globalData,this):new IImageElement(ft,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(ft){return this.supports3d?new HSolidElement(ft,this.globalData,this):new ISolidElement(ft,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(ft){for(var lt=0,dt=this.threeDElements.length;lt<dt;){if(this.threeDElements[lt].startPos<=ft&&this.threeDElements[lt].endPos>=ft)return this.threeDElements[lt].perspectiveElem;lt+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(ft,lt){var dt=createTag("div"),vt,St;styleDiv(dt);var Et=createTag("div");if(styleDiv(Et),lt==="3d"){vt=dt.style,vt.width=this.globalData.compSize.w+"px",vt.height=this.globalData.compSize.h+"px";var At="50% 50%";vt.webkitTransformOrigin=At,vt.mozTransformOrigin=At,vt.transformOrigin=At,St=Et.style;var Ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";St.transform=Ct,St.webkitTransform=Ct}dt.appendChild(Et);var Tt={container:Et,perspectiveElem:dt,startPos:ft,endPos:ft,type:lt};return this.threeDElements.push(Tt),Tt},HybridRendererBase.prototype.build3dContainers=function(){var ft,lt=this.layers.length,dt,vt="";for(ft=0;ft<lt;ft+=1)this.layers[ft].ddd&&this.layers[ft].ty!==3?(vt!=="3d"&&(vt="3d",dt=this.createThreeDContainer(ft,"3d")),dt.endPos=Math.max(dt.endPos,ft)):(vt!=="2d"&&(vt="2d",dt=this.createThreeDContainer(ft,"2d")),dt.endPos=Math.max(dt.endPos,ft));for(lt=this.threeDElements.length,ft=lt-1;ft>=0;ft-=1)this.resizerElem.appendChild(this.threeDElements[ft].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(ft,lt){for(var dt=0,vt=this.threeDElements.length;dt<vt;){if(lt<=this.threeDElements[dt].endPos){for(var St=this.threeDElements[dt].startPos,Et;St<lt;)this.elements[St]&&this.elements[St].getBaseElement&&(Et=this.elements[St].getBaseElement()),St+=1;Et?this.threeDElements[dt].container.insertBefore(ft,Et):this.threeDElements[dt].container.appendChild(ft);break}dt+=1}},HybridRendererBase.prototype.configAnimation=function(ft){var lt=createTag("div"),dt=this.animationItem.wrapper,vt=lt.style;vt.width=ft.w+"px",vt.height=ft.h+"px",this.resizerElem=lt,styleDiv(lt),vt.transformStyle="flat",vt.mozTransformStyle="flat",vt.webkitTransformStyle="flat",this.renderConfig.className&&lt.setAttribute("class",this.renderConfig.className),dt.appendChild(lt),vt.overflow="hidden";var St=createNS("svg");St.setAttribute("width","1"),St.setAttribute("height","1"),styleDiv(St),this.resizerElem.appendChild(St);var Et=createNS("defs");St.appendChild(Et),this.data=ft,this.setupGlobalData(ft,St),this.globalData.defs=Et,this.layers=ft.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var ft,lt=this.layers?this.layers.length:0;for(ft=0;ft<lt;ft+=1)this.elements[ft]&&this.elements[ft].destroy&&this.elements[ft].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var ft=this.animationItem.wrapper.offsetWidth,lt=this.animationItem.wrapper.offsetHeight,dt=ft/lt,vt=this.globalData.compSize.w/this.globalData.compSize.h,St,Et,At,Ct;vt>dt?(St=ft/this.globalData.compSize.w,Et=ft/this.globalData.compSize.w,At=0,Ct=(lt-this.globalData.compSize.h*(ft/this.globalData.compSize.w))/2):(St=lt/this.globalData.compSize.h,Et=lt/this.globalData.compSize.h,At=(ft-this.globalData.compSize.w*(lt/this.globalData.compSize.h))/2,Ct=0);var Tt=this.resizerElem.style;Tt.webkitTransform="matrix3d("+St+",0,0,0,0,"+Et+",0,0,0,0,1,0,"+At+","+Ct+",0,1)",Tt.transform=Tt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var ft=this.globalData.compSize.w,lt=this.globalData.compSize.h,dt,vt=this.threeDElements.length;for(dt=0;dt<vt;dt+=1){var St=this.threeDElements[dt].perspectiveElem.style;St.webkitPerspective=Math.sqrt(Math.pow(ft,2)+Math.pow(lt,2))+"px",St.perspective=St.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(ft){var lt,dt=ft.length,vt=createTag("div");for(lt=0;lt<dt;lt+=1)if(ft[lt].xt){var St=this.createComp(ft[lt],vt,this.globalData.comp,null);St.initExpressions(),this.globalData.projectInterface.registerComposition(St)}};function HCompElement(ft,lt,dt){this.layers=ft.layers,this.supports3d=!ft.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(ft,lt,dt),this.tm=ft.tm?PropertyFactory.getProp(this,ft.tm,0,lt.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(ft,lt){for(var dt=0,vt;dt<lt;)this.elements[dt]&&this.elements[dt].getBaseElement&&(vt=this.elements[dt].getBaseElement()),dt+=1;vt?this.layerElement.insertBefore(ft,vt):this.layerElement.appendChild(ft)},HCompElement.prototype.createComp=function(ft){return this.supports3d?new HCompElement(ft,this.globalData,this):new SVGCompElement(ft,this.globalData,this)};function HybridRenderer(ft,lt){this.animationItem=ft,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:lt&&lt.className||"",imagePreserveAspectRatio:lt&&lt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(lt&&lt.hideOnTransparent===!1),filterSize:{width:lt&&lt.filterSize&&lt.filterSize.width||"400%",height:lt&&lt.filterSize&&lt.filterSize.height||"400%",x:lt&&lt.filterSize&&lt.filterSize.x||"-100%",y:lt&&lt.filterSize&&lt.filterSize.y||"-100%"},runExpressions:!lt||lt.runExpressions===void 0||lt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(ft){return this.supports3d?new HCompElement(ft,this.globalData,this):new SVGCompElement(ft,this.globalData,this)};var CompExpressionInterface=function(){return function(ft){function lt(dt){for(var vt=0,St=ft.layers.length;vt<St;){if(ft.layers[vt].nm===dt||ft.layers[vt].ind===dt)return ft.elements[vt].layerInterface;vt+=1}return null}return Object.defineProperty(lt,"_name",{value:ft.data.nm}),lt.layer=lt,lt.pixelAspect=1,lt.height=ft.data.h||ft.globalData.compSize.h,lt.width=ft.data.w||ft.globalData.compSize.w,lt.pixelAspect=1,lt.frameDuration=1/ft.globalData.frameRate,lt.displayStartTime=0,lt.numLayers=ft.layers.length,lt}}();function _typeof$2(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(dt){return typeof dt}:_typeof$2=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof$2(ft)}function seedRandom(ft,lt){var dt=this,vt=256,St=6,Et=52,At="random",Ct=lt.pow(vt,St),Tt=lt.pow(2,Et),Rt=Tt*2,Bt=vt-1,Dt;function Ft(Ht,nr,sr){var ar=[];nr=nr===!0?{entropy:!0}:nr||{};var ir=tr(Kt(nr.entropy?[Ht,Zt(ft)]:Ht===null?Wt():Ht,3),ar),rr=new kt(ar),lr=function(){for(var dr=rr.g(St),mr=Ct,Cr=0;dr<Tt;)dr=(dr+Cr)*vt,mr*=vt,Cr=rr.g(1);for(;dr>=Rt;)dr/=2,mr/=2,Cr>>>=1;return(dr+Cr)/mr};return lr.int32=function(){return rr.g(4)|0},lr.quick=function(){return rr.g(4)/4294967296},lr.double=lr,tr(Zt(rr.S),ft),(nr.pass||sr||function(ur,dr,mr,Cr){return Cr&&(Cr.S&&Ut(Cr,rr),ur.state=function(){return Ut(rr,{})}),mr?(lt[At]=ur,dr):ur})(lr,ir,"global"in nr?nr.global:this==lt,nr.state)}lt["seed"+At]=Ft;function kt(Ht){var nr,sr=Ht.length,ar=this,ir=0,rr=ar.i=ar.j=0,lr=ar.S=[];for(sr||(Ht=[sr++]);ir<vt;)lr[ir]=ir++;for(ir=0;ir<vt;ir++)lr[ir]=lr[rr=Bt&rr+Ht[ir%sr]+(nr=lr[ir])],lr[rr]=nr;ar.g=function(ur){for(var dr,mr=0,Cr=ar.i,yr=ar.j,xr=ar.S;ur--;)dr=xr[Cr=Bt&Cr+1],mr=mr*vt+xr[Bt&(xr[Cr]=xr[yr=Bt&yr+dr])+(xr[yr]=dr)];return ar.i=Cr,ar.j=yr,mr}}function Ut(Ht,nr){return nr.i=Ht.i,nr.j=Ht.j,nr.S=Ht.S.slice(),nr}function Kt(Ht,nr){var sr=[],ar=_typeof$2(Ht),ir;if(nr&&ar=="object")for(ir in Ht)try{sr.push(Kt(Ht[ir],nr-1))}catch{}return sr.length?sr:ar=="string"?Ht:Ht+"\0"}function tr(Ht,nr){for(var sr=Ht+"",ar,ir=0;ir<sr.length;)nr[Bt&ir]=Bt&(ar^=nr[Bt&ir]*19)+sr.charCodeAt(ir++);return Zt(nr)}function Wt(){try{var Ht=new Uint8Array(vt);return(dt.crypto||dt.msCrypto).getRandomValues(Ht),Zt(Ht)}catch{var nr=dt.navigator,sr=nr&&nr.plugins;return[+new Date,dt,sr,dt.screen,Zt(ft)]}}function Zt(Ht){return String.fromCharCode.apply(0,Ht)}tr(lt.random(),ft)}function initialize$2(ft){seedRandom([],ft)}var propTypes={SHAPE:"shape"};function _typeof$1(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(dt){return typeof dt}:_typeof$1=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof$1(ft)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(ft){return ft.constructor===Array||ft.constructor===Float32Array}function isNumerable(ft,lt){return ft==="number"||lt instanceof Number||ft==="boolean"||ft==="string"}function $bm_neg(ft){var lt=_typeof$1(ft);if(lt==="number"||ft instanceof Number||lt==="boolean")return-ft;if($bm_isInstanceOfArray(ft)){var dt,vt=ft.length,St=[];for(dt=0;dt<vt;dt+=1)St[dt]=-ft[dt];return St}return ft.propType?ft.v:-ft}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(ft,lt){var dt=_typeof$1(ft),vt=_typeof$1(lt);if(isNumerable(dt,ft)&&isNumerable(vt,lt)||dt==="string"||vt==="string")return ft+lt;if($bm_isInstanceOfArray(ft)&&isNumerable(vt,lt))return ft=ft.slice(0),ft[0]+=lt,ft;if(isNumerable(dt,ft)&&$bm_isInstanceOfArray(lt))return lt=lt.slice(0),lt[0]=ft+lt[0],lt;if($bm_isInstanceOfArray(ft)&&$bm_isInstanceOfArray(lt)){for(var St=0,Et=ft.length,At=lt.length,Ct=[];St<Et||St<At;)(typeof ft[St]=="number"||ft[St]instanceof Number)&&(typeof lt[St]=="number"||lt[St]instanceof Number)?Ct[St]=ft[St]+lt[St]:Ct[St]=lt[St]===void 0?ft[St]:ft[St]||lt[St],St+=1;return Ct}return 0}var add=sum;function sub(ft,lt){var dt=_typeof$1(ft),vt=_typeof$1(lt);if(isNumerable(dt,ft)&&isNumerable(vt,lt))return dt==="string"&&(ft=parseInt(ft,10)),vt==="string"&&(lt=parseInt(lt,10)),ft-lt;if($bm_isInstanceOfArray(ft)&&isNumerable(vt,lt))return ft=ft.slice(0),ft[0]-=lt,ft;if(isNumerable(dt,ft)&&$bm_isInstanceOfArray(lt))return lt=lt.slice(0),lt[0]=ft-lt[0],lt;if($bm_isInstanceOfArray(ft)&&$bm_isInstanceOfArray(lt)){for(var St=0,Et=ft.length,At=lt.length,Ct=[];St<Et||St<At;)(typeof ft[St]=="number"||ft[St]instanceof Number)&&(typeof lt[St]=="number"||lt[St]instanceof Number)?Ct[St]=ft[St]-lt[St]:Ct[St]=lt[St]===void 0?ft[St]:ft[St]||lt[St],St+=1;return Ct}return 0}function mul(ft,lt){var dt=_typeof$1(ft),vt=_typeof$1(lt),St;if(isNumerable(dt,ft)&&isNumerable(vt,lt))return ft*lt;var Et,At;if($bm_isInstanceOfArray(ft)&&isNumerable(vt,lt)){for(At=ft.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=ft[Et]*lt;return St}if(isNumerable(dt,ft)&&$bm_isInstanceOfArray(lt)){for(At=lt.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=ft*lt[Et];return St}return 0}function div(ft,lt){var dt=_typeof$1(ft),vt=_typeof$1(lt),St;if(isNumerable(dt,ft)&&isNumerable(vt,lt))return ft/lt;var Et,At;if($bm_isInstanceOfArray(ft)&&isNumerable(vt,lt)){for(At=ft.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=ft[Et]/lt;return St}if(isNumerable(dt,ft)&&$bm_isInstanceOfArray(lt)){for(At=lt.length,St=createTypedArray("float32",At),Et=0;Et<At;Et+=1)St[Et]=ft/lt[Et];return St}return 0}function mod(ft,lt){return typeof ft=="string"&&(ft=parseInt(ft,10)),typeof lt=="string"&&(lt=parseInt(lt,10)),ft%lt}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(ft,lt,dt){if(lt>dt){var vt=dt;dt=lt,lt=vt}return Math.min(Math.max(ft,lt),dt)}function radiansToDegrees(ft){return ft/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(ft){return ft*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(ft,lt){if(typeof ft=="number"||ft instanceof Number)return lt=lt||0,Math.abs(ft-lt);lt||(lt=helperLengthArray);var dt,vt=Math.min(ft.length,lt.length),St=0;for(dt=0;dt<vt;dt+=1)St+=Math.pow(lt[dt]-ft[dt],2);return Math.sqrt(St)}function normalize(ft){return div(ft,length(ft))}function rgbToHsl(ft){var lt=ft[0],dt=ft[1],vt=ft[2],St=Math.max(lt,dt,vt),Et=Math.min(lt,dt,vt),At,Ct,Tt=(St+Et)/2;if(St===Et)At=0,Ct=0;else{var Rt=St-Et;switch(Ct=Tt>.5?Rt/(2-St-Et):Rt/(St+Et),St){case lt:At=(dt-vt)/Rt+(dt<vt?6:0);break;case dt:At=(vt-lt)/Rt+2;break;case vt:At=(lt-dt)/Rt+4;break}At/=6}return[At,Ct,Tt,ft[3]]}function hue2rgb(ft,lt,dt){return dt<0&&(dt+=1),dt>1&&(dt-=1),dt<1/6?ft+(lt-ft)*6*dt:dt<1/2?lt:dt<2/3?ft+(lt-ft)*(2/3-dt)*6:ft}function hslToRgb(ft){var lt=ft[0],dt=ft[1],vt=ft[2],St,Et,At;if(dt===0)St=vt,At=vt,Et=vt;else{var Ct=vt<.5?vt*(1+dt):vt+dt-vt*dt,Tt=2*vt-Ct;St=hue2rgb(Tt,Ct,lt+1/3),Et=hue2rgb(Tt,Ct,lt),At=hue2rgb(Tt,Ct,lt-1/3)}return[St,Et,At,ft[3]]}function linear(ft,lt,dt,vt,St){if((vt===void 0||St===void 0)&&(vt=lt,St=dt,lt=0,dt=1),dt<lt){var Et=dt;dt=lt,lt=Et}if(ft<=lt)return vt;if(ft>=dt)return St;var At=dt===lt?0:(ft-lt)/(dt-lt);if(!vt.length)return vt+(St-vt)*At;var Ct,Tt=vt.length,Rt=createTypedArray("float32",Tt);for(Ct=0;Ct<Tt;Ct+=1)Rt[Ct]=vt[Ct]+(St[Ct]-vt[Ct])*At;return Rt}function random(ft,lt){if(lt===void 0&&(ft===void 0?(ft=0,lt=1):(lt=ft,ft=void 0)),lt.length){var dt,vt=lt.length;ft||(ft=createTypedArray("float32",vt));var St=createTypedArray("float32",vt),Et=BMMath.random();for(dt=0;dt<vt;dt+=1)St[dt]=ft[dt]+Et*(lt[dt]-ft[dt]);return St}ft===void 0&&(ft=0);var At=BMMath.random();return ft+At*(lt-ft)}function createPath(ft,lt,dt,vt){var St,Et=ft.length,At=shapePool.newElement();At.setPathData(!!vt,Et);var Ct=[0,0],Tt,Rt;for(St=0;St<Et;St+=1)Tt=lt&&lt[St]?lt[St]:Ct,Rt=dt&&dt[St]?dt[St]:Ct,At.setTripleAt(ft[St][0],ft[St][1],Rt[0]+ft[St][0],Rt[1]+ft[St][1],Tt[0]+ft[St][0],Tt[1]+ft[St][1],St,!0);return At}function initiateExpression(elem,data,property){function noOp(ft){return ft}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function ft(lt,dt){var vt,St,Et=this.pv.length?this.pv.length:1,At=createTypedArray("float32",Et);lt=5;var Ct=Math.floor(time*lt);for(vt=0,St=0;vt<Ct;){for(St=0;St<Et;St+=1)At[St]+=-dt+dt*2*BMMath.random();vt+=1}var Tt=time*lt,Rt=Tt-Math.floor(Tt),Bt=createTypedArray("float32",Et);if(Et>1){for(St=0;St<Et;St+=1)Bt[St]=this.pv[St]+At[St]+(-dt+dt*2*BMMath.random())*Rt;return Bt}return this.pv+At[0]+(-dt+dt*2*BMMath.random())*Rt}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(ft,lt){return loopIn(ft,lt,!0)}function loopOutDuration(ft,lt){return loopOut(ft,lt,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(ft,lt){var dt=[lt[0]-ft[0],lt[1]-ft[1],lt[2]-ft[2]],vt=Math.atan2(dt[0],Math.sqrt(dt[1]*dt[1]+dt[2]*dt[2]))/degToRads,St=-Math.atan2(dt[1],dt[2])/degToRads;return[St,vt,0]}function easeOut(ft,lt,dt,vt,St){return applyEase(easeOutBez,ft,lt,dt,vt,St)}function easeIn(ft,lt,dt,vt,St){return applyEase(easeInBez,ft,lt,dt,vt,St)}function ease(ft,lt,dt,vt,St){return applyEase(easeInOutBez,ft,lt,dt,vt,St)}function applyEase(ft,lt,dt,vt,St,Et){St===void 0?(St=dt,Et=vt):lt=(lt-dt)/(vt-dt),lt>1?lt=1:lt<0&&(lt=0);var At=ft(lt);if($bm_isInstanceOfArray(St)){var Ct,Tt=St.length,Rt=createTypedArray("float32",Tt);for(Ct=0;Ct<Tt;Ct+=1)Rt[Ct]=(Et[Ct]-St[Ct])*At+St[Ct];return Rt}return(Et-St)*At+St}function nearestKey(ft){var lt,dt=data.k.length,vt,St;if(!data.k.length||typeof data.k[0]=="number")vt=0,St=0;else if(vt=-1,ft*=elem.comp.globalData.frameRate,ft<data.k[0].t)vt=1,St=data.k[0].t;else{for(lt=0;lt<dt-1;lt+=1)if(ft===data.k[lt].t){vt=lt+1,St=data.k[lt].t;break}else if(ft>data.k[lt].t&&ft<data.k[lt+1].t){ft-data.k[lt].t>data.k[lt+1].t-ft?(vt=lt+2,St=data.k[lt+1].t):(vt=lt+1,St=data.k[lt].t);break}vt===-1&&(vt=lt+1,St=data.k[lt].t)}var Et={};return Et.index=vt,Et.time=St/elem.comp.globalData.frameRate,Et}function key(ft){var lt,dt,vt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+ft);ft-=1,lt={time:data.k[ft].t/elem.comp.globalData.frameRate,value:[]};var St=Object.prototype.hasOwnProperty.call(data.k[ft],"s")?data.k[ft].s:data.k[ft-1].e;for(vt=St.length,dt=0;dt<vt;dt+=1)lt[dt]=St[dt],lt.value[dt]=St[dt];return lt}function framesToTime(ft,lt){return lt||(lt=elem.comp.globalData.frameRate),ft/lt}function timeToFrames(ft,lt){return!ft&&ft!==0&&(ft=time),lt||(lt=elem.comp.globalData.frameRate),ft*lt}function seedRandom(ft){BMMath.seedrandom(randSeed+ft)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(ft,lt){return typeof value=="string"?lt===void 0?value.substring(ft):value.substring(ft,lt):""}function substr(ft,lt){return typeof value=="string"?lt===void 0?value.substr(ft):value.substr(ft,lt):""}function posterizeTime(ft){time=ft===0?0:Math.floor(time*ft)/ft,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(ft){return value=ft,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var ft={};ft.initExpressions=lt,ft.resetFrame=ExpressionManager.resetFrame;function lt(dt){var vt=0,St=[];function Et(){vt+=1}function At(){vt-=1,vt===0&&Tt()}function Ct(Rt){St.indexOf(Rt)===-1&&St.push(Rt)}function Tt(){var Rt,Bt=St.length;for(Rt=0;Rt<Bt;Rt+=1)St[Rt].release();St.length=0}dt.renderer.compInterface=CompExpressionInterface(dt.renderer),dt.renderer.globalData.projectInterface.registerComposition(dt.renderer),dt.renderer.globalData.pushExpression=Et,dt.renderer.globalData.popExpression=At,dt.renderer.globalData.registerExpressionProperty=Ct}return ft}(),MaskManagerInterface=function(){function ft(dt,vt){this._mask=dt,this._data=vt}Object.defineProperty(ft.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(ft.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var lt=function(vt){var St=createSizedArray(vt.viewData.length),Et,At=vt.viewData.length;for(Et=0;Et<At;Et+=1)St[Et]=new ft(vt.viewData[Et],vt.masksProperties[Et]);var Ct=function(Rt){for(Et=0;Et<At;){if(vt.masksProperties[Et].nm===Rt)return St[Et];Et+=1}return null};return Ct};return lt}(),ExpressionPropertyInterface=function(){var ft={pv:0,v:0,mult:1},lt={pv:[0,0,0],v:[0,0,0],mult:1};function dt(At,Ct,Tt){Object.defineProperty(At,"velocity",{get:function(){return Ct.getVelocityAtTime(Ct.comp.currentFrame)}}),At.numKeys=Ct.keyframes?Ct.keyframes.length:0,At.key=function(Rt){if(!At.numKeys)return 0;var Bt="";"s"in Ct.keyframes[Rt-1]?Bt=Ct.keyframes[Rt-1].s:"e"in Ct.keyframes[Rt-2]?Bt=Ct.keyframes[Rt-2].e:Bt=Ct.keyframes[Rt-2].s;var Dt=Tt==="unidimensional"?new Number(Bt):Object.assign({},Bt);return Dt.time=Ct.keyframes[Rt-1].t/Ct.elem.comp.globalData.frameRate,Dt.value=Tt==="unidimensional"?Bt[0]:Bt,Dt},At.valueAtTime=Ct.getValueAtTime,At.speedAtTime=Ct.getSpeedAtTime,At.velocityAtTime=Ct.getVelocityAtTime,At.propertyGroup=Ct.propertyGroup}function vt(At){(!At||!("pv"in At))&&(At=ft);var Ct=1/At.mult,Tt=At.pv*Ct,Rt=new Number(Tt);return Rt.value=Tt,dt(Rt,At,"unidimensional"),function(){return At.k&&At.getValue(),Tt=At.v*Ct,Rt.value!==Tt&&(Rt=new Number(Tt),Rt.value=Tt,dt(Rt,At,"unidimensional")),Rt}}function St(At){(!At||!("pv"in At))&&(At=lt);var Ct=1/At.mult,Tt=At.data&&At.data.l||At.pv.length,Rt=createTypedArray("float32",Tt),Bt=createTypedArray("float32",Tt);return Rt.value=Bt,dt(Rt,At,"multidimensional"),function(){At.k&&At.getValue();for(var Dt=0;Dt<Tt;Dt+=1)Bt[Dt]=At.v[Dt]*Ct,Rt[Dt]=Bt[Dt];return Rt}}function Et(){return ft}return function(At){return At?At.propType==="unidimensional"?vt(At):St(At):Et}}(),TransformExpressionInterface=function(){return function(ft){function lt(At){switch(At){case"scale":case"Scale":case"ADBE Scale":case 6:return lt.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return lt.rotation;case"ADBE Rotate X":return lt.xRotation;case"ADBE Rotate Y":return lt.yRotation;case"position":case"Position":case"ADBE Position":case 2:return lt.position;case"ADBE Position_0":return lt.xPosition;case"ADBE Position_1":return lt.yPosition;case"ADBE Position_2":return lt.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return lt.anchorPoint;case"opacity":case"Opacity":case 11:return lt.opacity;default:return null}}Object.defineProperty(lt,"rotation",{get:ExpressionPropertyInterface(ft.r||ft.rz)}),Object.defineProperty(lt,"zRotation",{get:ExpressionPropertyInterface(ft.rz||ft.r)}),Object.defineProperty(lt,"xRotation",{get:ExpressionPropertyInterface(ft.rx)}),Object.defineProperty(lt,"yRotation",{get:ExpressionPropertyInterface(ft.ry)}),Object.defineProperty(lt,"scale",{get:ExpressionPropertyInterface(ft.s)});var dt,vt,St,Et;return ft.p?Et=ExpressionPropertyInterface(ft.p):(dt=ExpressionPropertyInterface(ft.px),vt=ExpressionPropertyInterface(ft.py),ft.pz&&(St=ExpressionPropertyInterface(ft.pz))),Object.defineProperty(lt,"position",{get:function(){return ft.p?Et():[dt(),vt(),St?St():0]}}),Object.defineProperty(lt,"xPosition",{get:ExpressionPropertyInterface(ft.px)}),Object.defineProperty(lt,"yPosition",{get:ExpressionPropertyInterface(ft.py)}),Object.defineProperty(lt,"zPosition",{get:ExpressionPropertyInterface(ft.pz)}),Object.defineProperty(lt,"anchorPoint",{get:ExpressionPropertyInterface(ft.a)}),Object.defineProperty(lt,"opacity",{get:ExpressionPropertyInterface(ft.o)}),Object.defineProperty(lt,"skew",{get:ExpressionPropertyInterface(ft.sk)}),Object.defineProperty(lt,"skewAxis",{get:ExpressionPropertyInterface(ft.sa)}),Object.defineProperty(lt,"orientation",{get:ExpressionPropertyInterface(ft.or)}),lt}}(),LayerExpressionInterface=function(){function ft(Rt){var Bt=new Matrix;if(Rt!==void 0){var Dt=this._elem.finalTransform.mProp.getValueAtTime(Rt);Dt.clone(Bt)}else{var Ft=this._elem.finalTransform.mProp;Ft.applyToMatrix(Bt)}return Bt}function lt(Rt,Bt){var Dt=this.getMatrix(Bt);return Dt.props[12]=0,Dt.props[13]=0,Dt.props[14]=0,this.applyPoint(Dt,Rt)}function dt(Rt,Bt){var Dt=this.getMatrix(Bt);return this.applyPoint(Dt,Rt)}function vt(Rt,Bt){var Dt=this.getMatrix(Bt);return Dt.props[12]=0,Dt.props[13]=0,Dt.props[14]=0,this.invertPoint(Dt,Rt)}function St(Rt,Bt){var Dt=this.getMatrix(Bt);return this.invertPoint(Dt,Rt)}function Et(Rt,Bt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Dt,Ft=this._elem.hierarchy.length;for(Dt=0;Dt<Ft;Dt+=1)this._elem.hierarchy[Dt].finalTransform.mProp.applyToMatrix(Rt)}return Rt.applyToPointArray(Bt[0],Bt[1],Bt[2]||0)}function At(Rt,Bt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Dt,Ft=this._elem.hierarchy.length;for(Dt=0;Dt<Ft;Dt+=1)this._elem.hierarchy[Dt].finalTransform.mProp.applyToMatrix(Rt)}return Rt.inversePoint(Bt)}function Ct(Rt){var Bt=new Matrix;if(Bt.reset(),this._elem.finalTransform.mProp.applyToMatrix(Bt),this._elem.hierarchy&&this._elem.hierarchy.length){var Dt,Ft=this._elem.hierarchy.length;for(Dt=0;Dt<Ft;Dt+=1)this._elem.hierarchy[Dt].finalTransform.mProp.applyToMatrix(Bt);return Bt.inversePoint(Rt)}return Bt.inversePoint(Rt)}function Tt(){return[1,1,1,1]}return function(Rt){var Bt;function Dt(Kt){kt.mask=new MaskManagerInterface(Kt,Rt)}function Ft(Kt){kt.effect=Kt}function kt(Kt){switch(Kt){case"ADBE Root Vectors Group":case"Contents":case 2:return kt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Bt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return kt.effect;case"ADBE Text Properties":return kt.textInterface;default:return null}}kt.getMatrix=ft,kt.invertPoint=At,kt.applyPoint=Et,kt.toWorld=dt,kt.toWorldVec=lt,kt.fromWorld=St,kt.fromWorldVec=vt,kt.toComp=dt,kt.fromComp=Ct,kt.sampleImage=Tt,kt.sourceRectAtTime=Rt.sourceRectAtTime.bind(Rt),kt._elem=Rt,Bt=TransformExpressionInterface(Rt.finalTransform.mProp);var Ut=getDescriptor(Bt,"anchorPoint");return Object.defineProperties(kt,{hasParent:{get:function(){return Rt.hierarchy.length}},parent:{get:function(){return Rt.hierarchy[0].layerInterface}},rotation:getDescriptor(Bt,"rotation"),scale:getDescriptor(Bt,"scale"),position:getDescriptor(Bt,"position"),opacity:getDescriptor(Bt,"opacity"),anchorPoint:Ut,anchor_point:Ut,transform:{get:function(){return Bt}},active:{get:function(){return Rt.isInRange}}}),kt.startTime=Rt.data.st,kt.index=Rt.data.ind,kt.source=Rt.data.refId,kt.height=Rt.data.ty===0?Rt.data.h:100,kt.width=Rt.data.ty===0?Rt.data.w:100,kt.inPoint=Rt.data.ip/Rt.comp.globalData.frameRate,kt.outPoint=Rt.data.op/Rt.comp.globalData.frameRate,kt._name=Rt.data.nm,kt.registerMaskInterface=Dt,kt.registerEffectsInterface=Ft,kt}}(),propertyGroupFactory=function(){return function(ft,lt){return function(dt){return dt=dt===void 0?1:dt,dt<=0?ft:lt(dt-1)}}}(),PropertyInterface=function(){return function(ft,lt){var dt={_name:ft};function vt(St){return St=St===void 0?1:St,St<=0?dt:lt(St-1)}return vt}}(),EffectsExpressionInterface=function(){var ft={createEffectsInterface:lt};function lt(St,Et){if(St.effectsManager){var At=[],Ct=St.data.ef,Tt,Rt=St.effectsManager.effectElements.length;for(Tt=0;Tt<Rt;Tt+=1)At.push(dt(Ct[Tt],St.effectsManager.effectElements[Tt],Et,St));var Bt=St.data.ef||[],Dt=function(kt){for(Tt=0,Rt=Bt.length;Tt<Rt;){if(kt===Bt[Tt].nm||kt===Bt[Tt].mn||kt===Bt[Tt].ix)return At[Tt];Tt+=1}return null};return Object.defineProperty(Dt,"numProperties",{get:function(){return Bt.length}}),Dt}return null}function dt(St,Et,At,Ct){function Tt(kt){for(var Ut=St.ef,Kt=0,tr=Ut.length;Kt<tr;){if(kt===Ut[Kt].nm||kt===Ut[Kt].mn||kt===Ut[Kt].ix)return Ut[Kt].ty===5?Bt[Kt]:Bt[Kt]();Kt+=1}throw new Error}var Rt=propertyGroupFactory(Tt,At),Bt=[],Dt,Ft=St.ef.length;for(Dt=0;Dt<Ft;Dt+=1)St.ef[Dt].ty===5?Bt.push(dt(St.ef[Dt],Et.effectElements[Dt],Et.effectElements[Dt].propertyGroup,Ct)):Bt.push(vt(Et.effectElements[Dt],St.ef[Dt].ty,Ct,Rt));return St.mn==="ADBE Color Control"&&Object.defineProperty(Tt,"color",{get:function(){return Bt[0]()}}),Object.defineProperties(Tt,{numProperties:{get:function(){return St.np}},_name:{value:St.nm},propertyGroup:{value:Rt}}),Tt.enabled=St.en!==0,Tt.active=Tt.enabled,Tt}function vt(St,Et,At,Ct){var Tt=ExpressionPropertyInterface(St.p);function Rt(){return Et===10?At.comp.compInterface(St.p.v):Tt()}return St.p.setGroupProperty&&St.p.setGroupProperty(PropertyInterface("",Ct)),Rt}return ft}(),ShapePathInterface=function(){return function(lt,dt,vt){var St=dt.sh;function Et(Ct){return Ct==="Shape"||Ct==="shape"||Ct==="Path"||Ct==="path"||Ct==="ADBE Vector Shape"||Ct===2?Et.path:null}var At=propertyGroupFactory(Et,vt);return St.setGroupProperty(PropertyInterface("Path",At)),Object.defineProperties(Et,{path:{get:function(){return St.k&&St.getValue(),St}},shape:{get:function(){return St.k&&St.getValue(),St}},_name:{value:lt.nm},ix:{value:lt.ix},propertyIndex:{value:lt.ix},mn:{value:lt.mn},propertyGroup:{value:vt}}),Et}}(),ShapeExpressionInterface=function(){function ft(Ut,Kt,tr){var Wt=[],Zt,Ht=Ut?Ut.length:0;for(Zt=0;Zt<Ht;Zt+=1)Ut[Zt].ty==="gr"?Wt.push(dt(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="fl"?Wt.push(vt(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="st"?Wt.push(At(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="tm"?Wt.push(Ct(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="tr"||(Ut[Zt].ty==="el"?Wt.push(Rt(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="sr"?Wt.push(Bt(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="sh"?Wt.push(ShapePathInterface(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="rc"?Wt.push(Dt(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="rd"?Wt.push(Ft(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="rp"?Wt.push(kt(Ut[Zt],Kt[Zt],tr)):Ut[Zt].ty==="gf"?Wt.push(St(Ut[Zt],Kt[Zt],tr)):Wt.push(Et(Ut[Zt],Kt[Zt])));return Wt}function lt(Ut,Kt,tr){var Wt,Zt=function(sr){for(var ar=0,ir=Wt.length;ar<ir;){if(Wt[ar]._name===sr||Wt[ar].mn===sr||Wt[ar].propertyIndex===sr||Wt[ar].ix===sr||Wt[ar].ind===sr)return Wt[ar];ar+=1}return typeof sr=="number"?Wt[sr-1]:null};Zt.propertyGroup=propertyGroupFactory(Zt,tr),Wt=ft(Ut.it,Kt.it,Zt.propertyGroup),Zt.numProperties=Wt.length;var Ht=Tt(Ut.it[Ut.it.length-1],Kt.it[Kt.it.length-1],Zt.propertyGroup);return Zt.transform=Ht,Zt.propertyIndex=Ut.cix,Zt._name=Ut.nm,Zt}function dt(Ut,Kt,tr){var Wt=function(sr){switch(sr){case"ADBE Vectors Group":case"Contents":case 2:return Wt.content;default:return Wt.transform}};Wt.propertyGroup=propertyGroupFactory(Wt,tr);var Zt=lt(Ut,Kt,Wt.propertyGroup),Ht=Tt(Ut.it[Ut.it.length-1],Kt.it[Kt.it.length-1],Wt.propertyGroup);return Wt.content=Zt,Wt.transform=Ht,Object.defineProperty(Wt,"_name",{get:function(){return Ut.nm}}),Wt.numProperties=Ut.np,Wt.propertyIndex=Ut.ix,Wt.nm=Ut.nm,Wt.mn=Ut.mn,Wt}function vt(Ut,Kt,tr){function Wt(Zt){return Zt==="Color"||Zt==="color"?Wt.color:Zt==="Opacity"||Zt==="opacity"?Wt.opacity:null}return Object.defineProperties(Wt,{color:{get:ExpressionPropertyInterface(Kt.c)},opacity:{get:ExpressionPropertyInterface(Kt.o)},_name:{value:Ut.nm},mn:{value:Ut.mn}}),Kt.c.setGroupProperty(PropertyInterface("Color",tr)),Kt.o.setGroupProperty(PropertyInterface("Opacity",tr)),Wt}function St(Ut,Kt,tr){function Wt(Zt){return Zt==="Start Point"||Zt==="start point"?Wt.startPoint:Zt==="End Point"||Zt==="end point"?Wt.endPoint:Zt==="Opacity"||Zt==="opacity"?Wt.opacity:null}return Object.defineProperties(Wt,{startPoint:{get:ExpressionPropertyInterface(Kt.s)},endPoint:{get:ExpressionPropertyInterface(Kt.e)},opacity:{get:ExpressionPropertyInterface(Kt.o)},type:{get:function(){return"a"}},_name:{value:Ut.nm},mn:{value:Ut.mn}}),Kt.s.setGroupProperty(PropertyInterface("Start Point",tr)),Kt.e.setGroupProperty(PropertyInterface("End Point",tr)),Kt.o.setGroupProperty(PropertyInterface("Opacity",tr)),Wt}function Et(){function Ut(){return null}return Ut}function At(Ut,Kt,tr){var Wt=propertyGroupFactory(ir,tr),Zt=propertyGroupFactory(ar,Wt);function Ht(rr){Object.defineProperty(ar,Ut.d[rr].nm,{get:ExpressionPropertyInterface(Kt.d.dataProps[rr].p)})}var nr,sr=Ut.d?Ut.d.length:0,ar={};for(nr=0;nr<sr;nr+=1)Ht(nr),Kt.d.dataProps[nr].p.setGroupProperty(Zt);function ir(rr){return rr==="Color"||rr==="color"?ir.color:rr==="Opacity"||rr==="opacity"?ir.opacity:rr==="Stroke Width"||rr==="stroke width"?ir.strokeWidth:null}return Object.defineProperties(ir,{color:{get:ExpressionPropertyInterface(Kt.c)},opacity:{get:ExpressionPropertyInterface(Kt.o)},strokeWidth:{get:ExpressionPropertyInterface(Kt.w)},dash:{get:function(){return ar}},_name:{value:Ut.nm},mn:{value:Ut.mn}}),Kt.c.setGroupProperty(PropertyInterface("Color",Wt)),Kt.o.setGroupProperty(PropertyInterface("Opacity",Wt)),Kt.w.setGroupProperty(PropertyInterface("Stroke Width",Wt)),ir}function Ct(Ut,Kt,tr){function Wt(Ht){return Ht===Ut.e.ix||Ht==="End"||Ht==="end"?Wt.end:Ht===Ut.s.ix?Wt.start:Ht===Ut.o.ix?Wt.offset:null}var Zt=propertyGroupFactory(Wt,tr);return Wt.propertyIndex=Ut.ix,Kt.s.setGroupProperty(PropertyInterface("Start",Zt)),Kt.e.setGroupProperty(PropertyInterface("End",Zt)),Kt.o.setGroupProperty(PropertyInterface("Offset",Zt)),Wt.propertyIndex=Ut.ix,Wt.propertyGroup=tr,Object.defineProperties(Wt,{start:{get:ExpressionPropertyInterface(Kt.s)},end:{get:ExpressionPropertyInterface(Kt.e)},offset:{get:ExpressionPropertyInterface(Kt.o)},_name:{value:Ut.nm}}),Wt.mn=Ut.mn,Wt}function Tt(Ut,Kt,tr){function Wt(Ht){return Ut.a.ix===Ht||Ht==="Anchor Point"?Wt.anchorPoint:Ut.o.ix===Ht||Ht==="Opacity"?Wt.opacity:Ut.p.ix===Ht||Ht==="Position"?Wt.position:Ut.r.ix===Ht||Ht==="Rotation"||Ht==="ADBE Vector Rotation"?Wt.rotation:Ut.s.ix===Ht||Ht==="Scale"?Wt.scale:Ut.sk&&Ut.sk.ix===Ht||Ht==="Skew"?Wt.skew:Ut.sa&&Ut.sa.ix===Ht||Ht==="Skew Axis"?Wt.skewAxis:null}var Zt=propertyGroupFactory(Wt,tr);return Kt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Zt)),Kt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Zt)),Kt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Zt)),Kt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Zt)),Kt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Zt)),Kt.transform.mProps.sk&&(Kt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Zt)),Kt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Zt))),Kt.transform.op.setGroupProperty(PropertyInterface("Opacity",Zt)),Object.defineProperties(Wt,{opacity:{get:ExpressionPropertyInterface(Kt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Kt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Kt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Kt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Kt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Kt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Kt.transform.mProps.sa)},_name:{value:Ut.nm}}),Wt.ty="tr",Wt.mn=Ut.mn,Wt.propertyGroup=tr,Wt}function Rt(Ut,Kt,tr){function Wt(nr){return Ut.p.ix===nr?Wt.position:Ut.s.ix===nr?Wt.size:null}var Zt=propertyGroupFactory(Wt,tr);Wt.propertyIndex=Ut.ix;var Ht=Kt.sh.ty==="tm"?Kt.sh.prop:Kt.sh;return Ht.s.setGroupProperty(PropertyInterface("Size",Zt)),Ht.p.setGroupProperty(PropertyInterface("Position",Zt)),Object.defineProperties(Wt,{size:{get:ExpressionPropertyInterface(Ht.s)},position:{get:ExpressionPropertyInterface(Ht.p)},_name:{value:Ut.nm}}),Wt.mn=Ut.mn,Wt}function Bt(Ut,Kt,tr){function Wt(nr){return Ut.p.ix===nr?Wt.position:Ut.r.ix===nr?Wt.rotation:Ut.pt.ix===nr?Wt.points:Ut.or.ix===nr||nr==="ADBE Vector Star Outer Radius"?Wt.outerRadius:Ut.os.ix===nr?Wt.outerRoundness:Ut.ir&&(Ut.ir.ix===nr||nr==="ADBE Vector Star Inner Radius")?Wt.innerRadius:Ut.is&&Ut.is.ix===nr?Wt.innerRoundness:null}var Zt=propertyGroupFactory(Wt,tr),Ht=Kt.sh.ty==="tm"?Kt.sh.prop:Kt.sh;return Wt.propertyIndex=Ut.ix,Ht.or.setGroupProperty(PropertyInterface("Outer Radius",Zt)),Ht.os.setGroupProperty(PropertyInterface("Outer Roundness",Zt)),Ht.pt.setGroupProperty(PropertyInterface("Points",Zt)),Ht.p.setGroupProperty(PropertyInterface("Position",Zt)),Ht.r.setGroupProperty(PropertyInterface("Rotation",Zt)),Ut.ir&&(Ht.ir.setGroupProperty(PropertyInterface("Inner Radius",Zt)),Ht.is.setGroupProperty(PropertyInterface("Inner Roundness",Zt))),Object.defineProperties(Wt,{position:{get:ExpressionPropertyInterface(Ht.p)},rotation:{get:ExpressionPropertyInterface(Ht.r)},points:{get:ExpressionPropertyInterface(Ht.pt)},outerRadius:{get:ExpressionPropertyInterface(Ht.or)},outerRoundness:{get:ExpressionPropertyInterface(Ht.os)},innerRadius:{get:ExpressionPropertyInterface(Ht.ir)},innerRoundness:{get:ExpressionPropertyInterface(Ht.is)},_name:{value:Ut.nm}}),Wt.mn=Ut.mn,Wt}function Dt(Ut,Kt,tr){function Wt(nr){return Ut.p.ix===nr?Wt.position:Ut.r.ix===nr?Wt.roundness:Ut.s.ix===nr||nr==="Size"||nr==="ADBE Vector Rect Size"?Wt.size:null}var Zt=propertyGroupFactory(Wt,tr),Ht=Kt.sh.ty==="tm"?Kt.sh.prop:Kt.sh;return Wt.propertyIndex=Ut.ix,Ht.p.setGroupProperty(PropertyInterface("Position",Zt)),Ht.s.setGroupProperty(PropertyInterface("Size",Zt)),Ht.r.setGroupProperty(PropertyInterface("Rotation",Zt)),Object.defineProperties(Wt,{position:{get:ExpressionPropertyInterface(Ht.p)},roundness:{get:ExpressionPropertyInterface(Ht.r)},size:{get:ExpressionPropertyInterface(Ht.s)},_name:{value:Ut.nm}}),Wt.mn=Ut.mn,Wt}function Ft(Ut,Kt,tr){function Wt(nr){return Ut.r.ix===nr||nr==="Round Corners 1"?Wt.radius:null}var Zt=propertyGroupFactory(Wt,tr),Ht=Kt;return Wt.propertyIndex=Ut.ix,Ht.rd.setGroupProperty(PropertyInterface("Radius",Zt)),Object.defineProperties(Wt,{radius:{get:ExpressionPropertyInterface(Ht.rd)},_name:{value:Ut.nm}}),Wt.mn=Ut.mn,Wt}function kt(Ut,Kt,tr){function Wt(nr){return Ut.c.ix===nr||nr==="Copies"?Wt.copies:Ut.o.ix===nr||nr==="Offset"?Wt.offset:null}var Zt=propertyGroupFactory(Wt,tr),Ht=Kt;return Wt.propertyIndex=Ut.ix,Ht.c.setGroupProperty(PropertyInterface("Copies",Zt)),Ht.o.setGroupProperty(PropertyInterface("Offset",Zt)),Object.defineProperties(Wt,{copies:{get:ExpressionPropertyInterface(Ht.c)},offset:{get:ExpressionPropertyInterface(Ht.o)},_name:{value:Ut.nm}}),Wt.mn=Ut.mn,Wt}return function(Ut,Kt,tr){var Wt;function Zt(nr){if(typeof nr=="number")return nr=nr===void 0?1:nr,nr===0?tr:Wt[nr-1];for(var sr=0,ar=Wt.length;sr<ar;){if(Wt[sr]._name===nr)return Wt[sr];sr+=1}return null}function Ht(){return tr}return Zt.propertyGroup=propertyGroupFactory(Zt,Ht),Wt=ft(Ut,Kt,Zt.propertyGroup),Zt.numProperties=Wt.length,Zt._name="Contents",Zt}}(),TextExpressionInterface=function(){return function(ft){var lt;function dt(vt){switch(vt){case"ADBE Text Document":return dt.sourceText;default:return null}}return Object.defineProperty(dt,"sourceText",{get:function(){ft.textProperty.getValue();var St=ft.textProperty.currentData.t;return(!lt||St!==lt.value)&&(lt=new String(St),lt.value=St||new String(St),Object.defineProperty(lt,"style",{get:function(){return{fillColor:ft.textProperty.currentData.fc}}})),lt}}),dt}}();function _typeof(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(dt){return typeof dt}:_typeof=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof(ft)}var FootageInterface=function(){var ft=function(vt){var St="",Et=vt.getFootageData();function At(){return St="",Et=vt.getFootageData(),Ct}function Ct(Tt){if(Et[Tt])return St=Tt,Et=Et[Tt],_typeof(Et)==="object"?Ct:Et;var Rt=Tt.indexOf(St);if(Rt!==-1){var Bt=parseInt(Tt.substr(Rt+St.length),10);return Et=Et[Bt],_typeof(Et)==="object"?Ct:Et}return""}return At},lt=function(vt){function St(Et){return Et==="Outline"?St.outlineInterface():null}return St._name="Outline",St.outlineInterface=ft(vt),St};return function(dt){function vt(St){return St==="Data"?vt.dataInterface:null}return vt._name="Data",vt.dataInterface=lt(dt),vt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(ft){return interfaces[ft]||null}var expressionHelpers=function(){function ft(At,Ct,Tt){Ct.x&&(Tt.k=!0,Tt.x=!0,Tt.initiateExpression=ExpressionManager.initiateExpression,Tt.effectsSequence.push(Tt.initiateExpression(At,Ct,Tt).bind(Tt)))}function lt(At){return At*=this.elem.globalData.frameRate,At-=this.offsetTime,At!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<At?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(At,this._cachingAtTime),this._cachingAtTime.lastFrame=At),this._cachingAtTime.value}function dt(At){var Ct=-.01,Tt=this.getValueAtTime(At),Rt=this.getValueAtTime(At+Ct),Bt=0;if(Tt.length){var Dt;for(Dt=0;Dt<Tt.length;Dt+=1)Bt+=Math.pow(Rt[Dt]-Tt[Dt],2);Bt=Math.sqrt(Bt)*100}else Bt=0;return Bt}function vt(At){if(this.vel!==void 0)return this.vel;var Ct=-.001,Tt=this.getValueAtTime(At),Rt=this.getValueAtTime(At+Ct),Bt;if(Tt.length){Bt=createTypedArray("float32",Tt.length);var Dt;for(Dt=0;Dt<Tt.length;Dt+=1)Bt[Dt]=(Rt[Dt]-Tt[Dt])/Ct}else Bt=(Rt-Tt)/Ct;return Bt}function St(){return this.pv}function Et(At){this.propertyGroup=At}return{searchExpressions:ft,getSpeedAtTime:dt,getVelocityAtTime:vt,getValueAtTime:lt,getStaticValueAtTime:St,setGroupProperty:Et}}();function addPropertyDecorator(){function ft(Ft,kt,Ut){if(!this.k||!this.keyframes)return this.pv;Ft=Ft?Ft.toLowerCase():"";var Kt=this.comp.renderedFrame,tr=this.keyframes,Wt=tr[tr.length-1].t;if(Kt<=Wt)return this.pv;var Zt,Ht;Ut?(kt?Zt=Math.abs(Wt-this.elem.comp.globalData.frameRate*kt):Zt=Math.max(0,Wt-this.elem.data.ip),Ht=Wt-Zt):((!kt||kt>tr.length-1)&&(kt=tr.length-1),Ht=tr[tr.length-1-kt].t,Zt=Wt-Ht);var nr,sr,ar;if(Ft==="pingpong"){var ir=Math.floor((Kt-Ht)/Zt);if(ir%2!==0)return this.getValueAtTime((Zt-(Kt-Ht)%Zt+Ht)/this.comp.globalData.frameRate,0)}else if(Ft==="offset"){var rr=this.getValueAtTime(Ht/this.comp.globalData.frameRate,0),lr=this.getValueAtTime(Wt/this.comp.globalData.frameRate,0),ur=this.getValueAtTime(((Kt-Ht)%Zt+Ht)/this.comp.globalData.frameRate,0),dr=Math.floor((Kt-Ht)/Zt);if(this.pv.length){for(ar=new Array(rr.length),sr=ar.length,nr=0;nr<sr;nr+=1)ar[nr]=(lr[nr]-rr[nr])*dr+ur[nr];return ar}return(lr-rr)*dr+ur}else if(Ft==="continue"){var mr=this.getValueAtTime(Wt/this.comp.globalData.frameRate,0),Cr=this.getValueAtTime((Wt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ar=new Array(mr.length),sr=ar.length,nr=0;nr<sr;nr+=1)ar[nr]=mr[nr]+(mr[nr]-Cr[nr])*((Kt-Wt)/this.comp.globalData.frameRate)/5e-4;return ar}return mr+(mr-Cr)*((Kt-Wt)/.001)}return this.getValueAtTime(((Kt-Ht)%Zt+Ht)/this.comp.globalData.frameRate,0)}function lt(Ft,kt,Ut){if(!this.k)return this.pv;Ft=Ft?Ft.toLowerCase():"";var Kt=this.comp.renderedFrame,tr=this.keyframes,Wt=tr[0].t;if(Kt>=Wt)return this.pv;var Zt,Ht;Ut?(kt?Zt=Math.abs(this.elem.comp.globalData.frameRate*kt):Zt=Math.max(0,this.elem.data.op-Wt),Ht=Wt+Zt):((!kt||kt>tr.length-1)&&(kt=tr.length-1),Ht=tr[kt].t,Zt=Ht-Wt);var nr,sr,ar;if(Ft==="pingpong"){var ir=Math.floor((Wt-Kt)/Zt);if(ir%2===0)return this.getValueAtTime(((Wt-Kt)%Zt+Wt)/this.comp.globalData.frameRate,0)}else if(Ft==="offset"){var rr=this.getValueAtTime(Wt/this.comp.globalData.frameRate,0),lr=this.getValueAtTime(Ht/this.comp.globalData.frameRate,0),ur=this.getValueAtTime((Zt-(Wt-Kt)%Zt+Wt)/this.comp.globalData.frameRate,0),dr=Math.floor((Wt-Kt)/Zt)+1;if(this.pv.length){for(ar=new Array(rr.length),sr=ar.length,nr=0;nr<sr;nr+=1)ar[nr]=ur[nr]-(lr[nr]-rr[nr])*dr;return ar}return ur-(lr-rr)*dr}else if(Ft==="continue"){var mr=this.getValueAtTime(Wt/this.comp.globalData.frameRate,0),Cr=this.getValueAtTime((Wt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ar=new Array(mr.length),sr=ar.length,nr=0;nr<sr;nr+=1)ar[nr]=mr[nr]+(mr[nr]-Cr[nr])*(Wt-Kt)/.001;return ar}return mr+(mr-Cr)*(Wt-Kt)/.001}return this.getValueAtTime((Zt-((Wt-Kt)%Zt+Wt))/this.comp.globalData.frameRate,0)}function dt(Ft,kt){if(!this.k)return this.pv;if(Ft=(Ft||.4)*.5,kt=Math.floor(kt||5),kt<=1)return this.pv;var Ut=this.comp.renderedFrame/this.comp.globalData.frameRate,Kt=Ut-Ft,tr=Ut+Ft,Wt=kt>1?(tr-Kt)/(kt-1):1,Zt=0,Ht=0,nr;this.pv.length?nr=createTypedArray("float32",this.pv.length):nr=0;for(var sr;Zt<kt;){if(sr=this.getValueAtTime(Kt+Zt*Wt),this.pv.length)for(Ht=0;Ht<this.pv.length;Ht+=1)nr[Ht]+=sr[Ht];else nr+=sr;Zt+=1}if(this.pv.length)for(Ht=0;Ht<this.pv.length;Ht+=1)nr[Ht]/=kt;else nr/=kt;return nr}function vt(Ft){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var kt=this._transformCachingAtTime.v;if(kt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Ut=this.a.getValueAtTime(Ft);kt.translate(-Ut[0]*this.a.mult,-Ut[1]*this.a.mult,Ut[2]*this.a.mult)}if(this.appliedTransformations<2){var Kt=this.s.getValueAtTime(Ft);kt.scale(Kt[0]*this.s.mult,Kt[1]*this.s.mult,Kt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var tr=this.sk.getValueAtTime(Ft),Wt=this.sa.getValueAtTime(Ft);kt.skewFromAxis(-tr*this.sk.mult,Wt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Zt=this.r.getValueAtTime(Ft);kt.rotate(-Zt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Ht=this.rz.getValueAtTime(Ft),nr=this.ry.getValueAtTime(Ft),sr=this.rx.getValueAtTime(Ft),ar=this.or.getValueAtTime(Ft);kt.rotateZ(-Ht*this.rz.mult).rotateY(nr*this.ry.mult).rotateX(sr*this.rx.mult).rotateZ(-ar[2]*this.or.mult).rotateY(ar[1]*this.or.mult).rotateX(ar[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ir=this.px.getValueAtTime(Ft),rr=this.py.getValueAtTime(Ft);if(this.data.p.z){var lr=this.pz.getValueAtTime(Ft);kt.translate(ir*this.px.mult,rr*this.py.mult,-lr*this.pz.mult)}else kt.translate(ir*this.px.mult,rr*this.py.mult,0)}else{var ur=this.p.getValueAtTime(Ft);kt.translate(ur[0]*this.p.mult,ur[1]*this.p.mult,-ur[2]*this.p.mult)}return kt}function St(){return this.v.clone(new Matrix)}var Et=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Ft,kt,Ut){var Kt=Et(Ft,kt,Ut);return Kt.dynamicProperties.length?Kt.getValueAtTime=vt.bind(Kt):Kt.getValueAtTime=St.bind(Kt),Kt.setGroupProperty=expressionHelpers.setGroupProperty,Kt};var At=PropertyFactory.getProp;PropertyFactory.getProp=function(Ft,kt,Ut,Kt,tr){var Wt=At(Ft,kt,Ut,Kt,tr);Wt.kf?Wt.getValueAtTime=expressionHelpers.getValueAtTime.bind(Wt):Wt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Wt),Wt.setGroupProperty=expressionHelpers.setGroupProperty,Wt.loopOut=ft,Wt.loopIn=lt,Wt.smooth=dt,Wt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Wt),Wt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Wt),Wt.numKeys=kt.a===1?kt.k.length:0,Wt.propertyIndex=kt.ix;var Zt=0;return Ut!==0&&(Zt=createTypedArray("float32",kt.a===1?kt.k[0].s.length:kt.k.length)),Wt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Zt},expressionHelpers.searchExpressions(Ft,kt,Wt),Wt.k&&tr.addDynamicProperty(Wt),Wt};function Ct(Ft){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Ft*=this.elem.globalData.frameRate,Ft-=this.offsetTime,Ft!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Ft?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Ft,this.interpolateShape(Ft,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Tt=ShapePropertyFactory.getConstructorFunction(),Rt=ShapePropertyFactory.getKeyframedConstructorFunction();function Bt(){}Bt.prototype={vertices:function(kt,Ut){this.k&&this.getValue();var Kt=this.v;Ut!==void 0&&(Kt=this.getValueAtTime(Ut,0));var tr,Wt=Kt._length,Zt=Kt[kt],Ht=Kt.v,nr=createSizedArray(Wt);for(tr=0;tr<Wt;tr+=1)kt==="i"||kt==="o"?nr[tr]=[Zt[tr][0]-Ht[tr][0],Zt[tr][1]-Ht[tr][1]]:nr[tr]=[Zt[tr][0],Zt[tr][1]];return nr},points:function(kt){return this.vertices("v",kt)},inTangents:function(kt){return this.vertices("i",kt)},outTangents:function(kt){return this.vertices("o",kt)},isClosed:function(){return this.v.c},pointOnPath:function(kt,Ut){var Kt=this.v;Ut!==void 0&&(Kt=this.getValueAtTime(Ut,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Kt));for(var tr=this._segmentsLength,Wt=tr.lengths,Zt=tr.totalLength*kt,Ht=0,nr=Wt.length,sr=0,ar;Ht<nr;){if(sr+Wt[Ht].addedLength>Zt){var ir=Ht,rr=Kt.c&&Ht===nr-1?0:Ht+1,lr=(Zt-sr)/Wt[Ht].addedLength;ar=bez.getPointInSegment(Kt.v[ir],Kt.v[rr],Kt.o[ir],Kt.i[rr],lr,Wt[Ht]);break}else sr+=Wt[Ht].addedLength;Ht+=1}return ar||(ar=Kt.c?[Kt.v[0][0],Kt.v[0][1]]:[Kt.v[Kt._length-1][0],Kt.v[Kt._length-1][1]]),ar},vectorOnPath:function(kt,Ut,Kt){kt==1?kt=this.v.c:kt==0&&(kt=.999);var tr=this.pointOnPath(kt,Ut),Wt=this.pointOnPath(kt+.001,Ut),Zt=Wt[0]-tr[0],Ht=Wt[1]-tr[1],nr=Math.sqrt(Math.pow(Zt,2)+Math.pow(Ht,2));if(nr===0)return[0,0];var sr=Kt==="tangent"?[Zt/nr,Ht/nr]:[-Ht/nr,Zt/nr];return sr},tangentOnPath:function(kt,Ut){return this.vectorOnPath(kt,Ut,"tangent")},normalOnPath:function(kt,Ut){return this.vectorOnPath(kt,Ut,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Bt],Tt),extendPrototype([Bt],Rt),Rt.prototype.getValueAtTime=Ct,Rt.prototype.initiateExpression=ExpressionManager.initiateExpression;var Dt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Ft,kt,Ut,Kt,tr){var Wt=Dt(Ft,kt,Ut,Kt,tr);return Wt.propertyIndex=kt.ix,Wt.lock=!1,Ut===3?expressionHelpers.searchExpressions(Ft,kt.pt,Wt):Ut===4&&expressionHelpers.searchExpressions(Ft,kt.ks,Wt),Wt.k&&Ft.addDynamicProperty(Wt),Wt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function ft(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(lt,dt){var vt=this.calculateExpression(dt);if(lt.t!==vt){var St={};return this.copyData(St,lt),St.t=vt.toString(),St.__complete=!1,St}return lt},TextProperty.prototype.searchProperty=function(){var lt=this.searchKeyframes(),dt=this.searchExpressions();return this.kf=lt||dt,this.kf},TextProperty.prototype.searchExpressions=ft}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function ft(lt,dt){var vt=createNS("feMerge");vt.setAttribute("result",lt);var St,Et;for(Et=0;Et<dt.length;Et+=1)St=createNS("feMergeNode"),St.setAttribute("in",dt[Et]),vt.appendChild(St),vt.appendChild(St);return vt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(ft,lt,dt,vt,St){this.filterManager=lt;var Et=createNS("feColorMatrix");Et.setAttribute("type","matrix"),Et.setAttribute("color-interpolation-filters","linearRGB"),Et.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Et,Et.setAttribute("result",vt+"_tint_1"),ft.appendChild(Et),Et=createNS("feColorMatrix"),Et.setAttribute("type","matrix"),Et.setAttribute("color-interpolation-filters","sRGB"),Et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Et.setAttribute("result",vt+"_tint_2"),ft.appendChild(Et),this.matrixFilter=Et;var At=this.createMergeNode(vt,[St,vt+"_tint_1",vt+"_tint_2"]);ft.appendChild(At)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(ft){if(ft||this.filterManager._mdf){var lt=this.filterManager.effectElements[0].p.v,dt=this.filterManager.effectElements[1].p.v,vt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+vt+" 0"),this.matrixFilter.setAttribute("values",dt[0]-lt[0]+" 0 0 0 "+lt[0]+" "+(dt[1]-lt[1])+" 0 0 0 "+lt[1]+" "+(dt[2]-lt[2])+" 0 0 0 "+lt[2]+" 0 0 0 1 0")}};function SVGFillFilter(ft,lt,dt,vt){this.filterManager=lt;var St=createNS("feColorMatrix");St.setAttribute("type","matrix"),St.setAttribute("color-interpolation-filters","sRGB"),St.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),St.setAttribute("result",vt),ft.appendChild(St),this.matrixFilter=St}SVGFillFilter.prototype.renderFrame=function(ft){if(ft||this.filterManager._mdf){var lt=this.filterManager.effectElements[2].p.v,dt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+lt[0]+" 0 0 0 0 "+lt[1]+" 0 0 0 0 "+lt[2]+" 0 0 0 "+dt+" 0")}};function SVGStrokeEffect(ft,lt,dt){this.initialized=!1,this.filterManager=lt,this.elem=dt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var ft=this.elem.layerElement.children||this.elem.layerElement.childNodes,lt,dt,vt,St;for(this.filterManager.effectElements[1].p.v===1?(St=this.elem.maskManager.masksProperties.length,vt=0):(vt=this.filterManager.effectElements[0].p.v-1,St=vt+1),dt=createNS("g"),dt.setAttribute("fill","none"),dt.setAttribute("stroke-linecap","round"),dt.setAttribute("stroke-dashoffset",1),vt;vt<St;vt+=1)lt=createNS("path"),dt.appendChild(lt),this.paths.push({p:lt,m:vt});if(this.filterManager.effectElements[10].p.v===3){var Et=createNS("mask"),At=createElementID();Et.setAttribute("id",At),Et.setAttribute("mask-type","alpha"),Et.appendChild(dt),this.elem.globalData.defs.appendChild(Et);var Ct=createNS("g");for(Ct.setAttribute("mask","url("+getLocationHref()+"#"+At+")");ft[0];)Ct.appendChild(ft[0]);this.elem.layerElement.appendChild(Ct),this.masker=Et,dt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(ft=this.elem.layerElement.children||this.elem.layerElement.childNodes;ft.length;)this.elem.layerElement.removeChild(ft[0]);this.elem.layerElement.appendChild(dt),this.elem.layerElement.removeAttribute("mask"),dt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=dt},SVGStrokeEffect.prototype.renderFrame=function(ft){this.initialized||this.initialize();var lt,dt=this.paths.length,vt,St;for(lt=0;lt<dt;lt+=1)if(this.paths[lt].m!==-1&&(vt=this.elem.maskManager.viewData[this.paths[lt].m],St=this.paths[lt].p,(ft||this.filterManager._mdf||vt.prop._mdf)&&St.setAttribute("d",vt.lastPath),ft||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||vt.prop._mdf)){var Et;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var At=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ct=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Tt=St.getTotalLength();Et="0 0 0 "+Tt*At+" ";var Rt=Tt*(Ct-At),Bt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Dt=Math.floor(Rt/Bt),Ft;for(Ft=0;Ft<Dt;Ft+=1)Et+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Et+="0 "+Tt*10+" 0 0"}else Et="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;St.setAttribute("stroke-dasharray",Et)}if((ft||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(ft||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(ft||this.filterManager.effectElements[3].p._mdf)){var kt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(kt[0]*255)+","+bmFloor(kt[1]*255)+","+bmFloor(kt[2]*255)+")")}};function SVGTritoneFilter(ft,lt,dt,vt){this.filterManager=lt;var St=createNS("feColorMatrix");St.setAttribute("type","matrix"),St.setAttribute("color-interpolation-filters","linearRGB"),St.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),ft.appendChild(St);var Et=createNS("feComponentTransfer");Et.setAttribute("color-interpolation-filters","sRGB"),Et.setAttribute("result",vt),this.matrixFilter=Et;var At=createNS("feFuncR");At.setAttribute("type","table"),Et.appendChild(At),this.feFuncR=At;var Ct=createNS("feFuncG");Ct.setAttribute("type","table"),Et.appendChild(Ct),this.feFuncG=Ct;var Tt=createNS("feFuncB");Tt.setAttribute("type","table"),Et.appendChild(Tt),this.feFuncB=Tt,ft.appendChild(Et)}SVGTritoneFilter.prototype.renderFrame=function(ft){if(ft||this.filterManager._mdf){var lt=this.filterManager.effectElements[0].p.v,dt=this.filterManager.effectElements[1].p.v,vt=this.filterManager.effectElements[2].p.v,St=vt[0]+" "+dt[0]+" "+lt[0],Et=vt[1]+" "+dt[1]+" "+lt[1],At=vt[2]+" "+dt[2]+" "+lt[2];this.feFuncR.setAttribute("tableValues",St),this.feFuncG.setAttribute("tableValues",Et),this.feFuncB.setAttribute("tableValues",At)}};function SVGProLevelsFilter(ft,lt,dt,vt){this.filterManager=lt;var St=this.filterManager.effectElements,Et=createNS("feComponentTransfer");(St[10].p.k||St[10].p.v!==0||St[11].p.k||St[11].p.v!==1||St[12].p.k||St[12].p.v!==1||St[13].p.k||St[13].p.v!==0||St[14].p.k||St[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Et)),(St[17].p.k||St[17].p.v!==0||St[18].p.k||St[18].p.v!==1||St[19].p.k||St[19].p.v!==1||St[20].p.k||St[20].p.v!==0||St[21].p.k||St[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Et)),(St[24].p.k||St[24].p.v!==0||St[25].p.k||St[25].p.v!==1||St[26].p.k||St[26].p.v!==1||St[27].p.k||St[27].p.v!==0||St[28].p.k||St[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Et)),(St[31].p.k||St[31].p.v!==0||St[32].p.k||St[32].p.v!==1||St[33].p.k||St[33].p.v!==1||St[34].p.k||St[34].p.v!==0||St[35].p.k||St[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Et)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Et.setAttribute("color-interpolation-filters","sRGB"),ft.appendChild(Et)),(St[3].p.k||St[3].p.v!==0||St[4].p.k||St[4].p.v!==1||St[5].p.k||St[5].p.v!==1||St[6].p.k||St[6].p.v!==0||St[7].p.k||St[7].p.v!==1)&&(Et=createNS("feComponentTransfer"),Et.setAttribute("color-interpolation-filters","sRGB"),Et.setAttribute("result",vt),ft.appendChild(Et),this.feFuncRComposed=this.createFeFunc("feFuncR",Et),this.feFuncGComposed=this.createFeFunc("feFuncG",Et),this.feFuncBComposed=this.createFeFunc("feFuncB",Et))}SVGProLevelsFilter.prototype.createFeFunc=function(ft,lt){var dt=createNS(ft);return dt.setAttribute("type","table"),lt.appendChild(dt),dt},SVGProLevelsFilter.prototype.getTableValue=function(ft,lt,dt,vt,St){for(var Et=0,At=256,Ct,Tt=Math.min(ft,lt),Rt=Math.max(ft,lt),Bt=Array.call(null,{length:At}),Dt,Ft=0,kt=St-vt,Ut=lt-ft;Et<=256;)Ct=Et/256,Ct<=Tt?Dt=Ut<0?St:vt:Ct>=Rt?Dt=Ut<0?vt:St:Dt=vt+kt*Math.pow((Ct-ft)/Ut,1/dt),Bt[Ft]=Dt,Ft+=1,Et+=256/(At-1);return Bt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(ft){if(ft||this.filterManager._mdf){var lt,dt=this.filterManager.effectElements;this.feFuncRComposed&&(ft||dt[3].p._mdf||dt[4].p._mdf||dt[5].p._mdf||dt[6].p._mdf||dt[7].p._mdf)&&(lt=this.getTableValue(dt[3].p.v,dt[4].p.v,dt[5].p.v,dt[6].p.v,dt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",lt),this.feFuncGComposed.setAttribute("tableValues",lt),this.feFuncBComposed.setAttribute("tableValues",lt)),this.feFuncR&&(ft||dt[10].p._mdf||dt[11].p._mdf||dt[12].p._mdf||dt[13].p._mdf||dt[14].p._mdf)&&(lt=this.getTableValue(dt[10].p.v,dt[11].p.v,dt[12].p.v,dt[13].p.v,dt[14].p.v),this.feFuncR.setAttribute("tableValues",lt)),this.feFuncG&&(ft||dt[17].p._mdf||dt[18].p._mdf||dt[19].p._mdf||dt[20].p._mdf||dt[21].p._mdf)&&(lt=this.getTableValue(dt[17].p.v,dt[18].p.v,dt[19].p.v,dt[20].p.v,dt[21].p.v),this.feFuncG.setAttribute("tableValues",lt)),this.feFuncB&&(ft||dt[24].p._mdf||dt[25].p._mdf||dt[26].p._mdf||dt[27].p._mdf||dt[28].p._mdf)&&(lt=this.getTableValue(dt[24].p.v,dt[25].p.v,dt[26].p.v,dt[27].p.v,dt[28].p.v),this.feFuncB.setAttribute("tableValues",lt)),this.feFuncA&&(ft||dt[31].p._mdf||dt[32].p._mdf||dt[33].p._mdf||dt[34].p._mdf||dt[35].p._mdf)&&(lt=this.getTableValue(dt[31].p.v,dt[32].p.v,dt[33].p.v,dt[34].p.v,dt[35].p.v),this.feFuncA.setAttribute("tableValues",lt))}};function SVGDropShadowEffect(ft,lt,dt,vt,St){var Et=lt.container.globalData.renderConfig.filterSize,At=lt.data.fs||Et;ft.setAttribute("x",At.x||Et.x),ft.setAttribute("y",At.y||Et.y),ft.setAttribute("width",At.width||Et.width),ft.setAttribute("height",At.height||Et.height),this.filterManager=lt;var Ct=createNS("feGaussianBlur");Ct.setAttribute("in","SourceAlpha"),Ct.setAttribute("result",vt+"_drop_shadow_1"),Ct.setAttribute("stdDeviation","0"),this.feGaussianBlur=Ct,ft.appendChild(Ct);var Tt=createNS("feOffset");Tt.setAttribute("dx","25"),Tt.setAttribute("dy","0"),Tt.setAttribute("in",vt+"_drop_shadow_1"),Tt.setAttribute("result",vt+"_drop_shadow_2"),this.feOffset=Tt,ft.appendChild(Tt);var Rt=createNS("feFlood");Rt.setAttribute("flood-color","#00ff00"),Rt.setAttribute("flood-opacity","1"),Rt.setAttribute("result",vt+"_drop_shadow_3"),this.feFlood=Rt,ft.appendChild(Rt);var Bt=createNS("feComposite");Bt.setAttribute("in",vt+"_drop_shadow_3"),Bt.setAttribute("in2",vt+"_drop_shadow_2"),Bt.setAttribute("operator","in"),Bt.setAttribute("result",vt+"_drop_shadow_4"),ft.appendChild(Bt);var Dt=this.createMergeNode(vt,[vt+"_drop_shadow_4",St]);ft.appendChild(Dt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(ft){if(ft||this.filterManager._mdf){if((ft||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),ft||this.filterManager.effectElements[0].p._mdf){var lt=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(lt[0]*255),Math.round(lt[1]*255),Math.round(lt[2]*255)))}if((ft||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),ft||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var dt=this.filterManager.effectElements[3].p.v,vt=(this.filterManager.effectElements[2].p.v-90)*degToRads,St=dt*Math.cos(vt),Et=dt*Math.sin(vt);this.feOffset.setAttribute("dx",St),this.feOffset.setAttribute("dy",Et)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(ft,lt,dt){this.initialized=!1,this.filterManager=lt,this.filterElem=ft,this.elem=dt,dt.matteElement=createNS("g"),dt.matteElement.appendChild(dt.layerElement),dt.matteElement.appendChild(dt.transformedElement),dt.baseElement=dt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(ft){for(var lt=0,dt=_svgMatteSymbols.length;lt<dt;){if(_svgMatteSymbols[lt]===ft)return _svgMatteSymbols[lt];lt+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(ft,lt){var dt=ft.layerElement.parentNode;if(dt){for(var vt=dt.children,St=0,Et=vt.length;St<Et&&vt[St]!==ft.layerElement;)St+=1;var At;St<=Et-2&&(At=vt[St+1]);var Ct=createNS("use");Ct.setAttribute("href","#"+lt),At?dt.insertBefore(Ct,At):dt.appendChild(Ct)}},SVGMatte3Effect.prototype.setElementAsMask=function(ft,lt){if(!this.findSymbol(lt)){var dt=createElementID(),vt=createNS("mask");vt.setAttribute("id",lt.layerId),vt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(lt);var St=ft.globalData.defs;St.appendChild(vt);var Et=createNS("symbol");Et.setAttribute("id",dt),this.replaceInParent(lt,dt),Et.appendChild(lt.layerElement),St.appendChild(Et);var At=createNS("use");At.setAttribute("href","#"+dt),vt.appendChild(At),lt.data.hd=!1,lt.show()}ft.setMatte(lt.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var ft=this.filterManager.effectElements[0].p.v,lt=this.elem.comp.elements,dt=0,vt=lt.length;dt<vt;)lt[dt]&&lt[dt].data.ind===ft&&this.setElementAsMask(this.elem,lt[dt]),dt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(ft,lt,dt,vt){ft.setAttribute("x","-100%"),ft.setAttribute("y","-100%"),ft.setAttribute("width","300%"),ft.setAttribute("height","300%"),this.filterManager=lt;var St=createNS("feGaussianBlur");St.setAttribute("result",vt),ft.appendChild(St),this.feGaussianBlur=St}SVGGaussianBlurEffect.prototype.renderFrame=function(ft){if(ft||this.filterManager._mdf){var lt=.3,dt=this.filterManager.effectElements[0].p.v*lt,vt=this.filterManager.effectElements[1].p.v,St=vt==3?0:dt,Et=vt==2?0:dt;this.feGaussianBlur.setAttribute("stdDeviation",St+" "+Et);var At=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",At)}};function TransformEffect(){}TransformEffect.prototype.init=function(ft){this.effectsManager=ft,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(ft){if(this._opMdf=!1,this._mdf=!1,ft||this.effectsManager._mdf){var lt=this.effectsManager.effectElements,dt=lt[0].p.v,vt=lt[1].p.v,St=lt[2].p.v===1,Et=lt[3].p.v,At=St?Et:lt[4].p.v,Ct=lt[5].p.v,Tt=lt[6].p.v,Rt=lt[7].p.v;this.matrix.reset(),this.matrix.translate(-dt[0],-dt[1],dt[2]),this.matrix.scale(At*.01,Et*.01,1),this.matrix.rotate(-Rt*degToRads),this.matrix.skewFromAxis(-Ct*degToRads,(Tt+90)*degToRads),this.matrix.translate(vt[0],vt[1],0),this._mdf=!0,this.opacity!==lt[8].p.v&&(this.opacity=lt[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(ft,lt){this.init(lt)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(ft){this.init(ft)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit$1(ft,lt){var dt=ft==null?null:typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"];if(dt!=null){var vt,St,Et,At,Ct=[],Tt=!0,Rt=!1;try{if(Et=(dt=dt.call(ft)).next,lt===0){if(Object(dt)!==dt)return;Tt=!1}else for(;!(Tt=(vt=Et.call(dt)).done)&&(Ct.push(vt.value),Ct.length!==lt);Tt=!0);}catch(Bt){Rt=!0,St=Bt}finally{try{if(!Tt&&dt.return!=null&&(At=dt.return(),Object(At)!==At))return}finally{if(Rt)throw St}}return Ct}}function ownKeys$1(ft,lt){var dt=Object.keys(ft);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ft);lt&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor(ft,St).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread2(ft){for(var lt=1;lt<arguments.length;lt++){var dt=arguments[lt]!=null?arguments[lt]:{};lt%2?ownKeys$1(Object(dt),!0).forEach(function(vt){_defineProperty$1(ft,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(dt)):ownKeys$1(Object(dt)).forEach(function(vt){Object.defineProperty(ft,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return ft}function _defineProperty$1(ft,lt,dt){return lt=_toPropertyKey(lt),lt in ft?Object.defineProperty(ft,lt,{value:dt,enumerable:!0,configurable:!0,writable:!0}):ft[lt]=dt,ft}function _objectWithoutPropertiesLoose$1(ft,lt){if(ft==null)return{};var dt={},vt=Object.keys(ft),St,Et;for(Et=0;Et<vt.length;Et++)St=vt[Et],!(lt.indexOf(St)>=0)&&(dt[St]=ft[St]);return dt}function _objectWithoutProperties(ft,lt){if(ft==null)return{};var dt=_objectWithoutPropertiesLoose$1(ft,lt),vt,St;if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(ft);for(St=0;St<Et.length;St++)vt=Et[St],!(lt.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(ft,vt)&&(dt[vt]=ft[vt])}return dt}function _slicedToArray$1(ft,lt){return _arrayWithHoles$1(ft)||_iterableToArrayLimit$1(ft,lt)||_unsupportedIterableToArray$3(ft,lt)||_nonIterableRest$1()}function _arrayWithHoles$1(ft){if(Array.isArray(ft))return ft}function _unsupportedIterableToArray$3(ft,lt){if(ft){if(typeof ft=="string")return _arrayLikeToArray$3(ft,lt);var dt=Object.prototype.toString.call(ft).slice(8,-1);if(dt==="Object"&&ft.constructor&&(dt=ft.constructor.name),dt==="Map"||dt==="Set")return Array.from(ft);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return _arrayLikeToArray$3(ft,lt)}}function _arrayLikeToArray$3(ft,lt){(lt==null||lt>ft.length)&&(lt=ft.length);for(var dt=0,vt=new Array(lt);dt<lt;dt++)vt[dt]=ft[dt];return vt}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(ft,lt){if(typeof ft!="object"||ft===null)return ft;var dt=ft[Symbol.toPrimitive];if(dt!==void 0){var vt=dt.call(ft,lt||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lt==="string"?String:Number)(ft)}function _toPropertyKey(ft){var lt=_toPrimitive(ft,"string");return typeof lt=="symbol"?lt:String(lt)}var _excluded$1$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function ft(lt,dt){var vt=lt.animationData,St=lt.loop,Et=lt.autoplay,At=lt.initialSegment,Ct=lt.onComplete,Tt=lt.onLoopComplete,Rt=lt.onEnterFrame,Bt=lt.onSegmentStart,Dt=lt.onConfigReady,Ft=lt.onDataReady,kt=lt.onDataFailed,Ut=lt.onLoadedImages,Kt=lt.onDOMLoaded,tr=lt.onDestroy;lt.lottieRef,lt.renderer,lt.name,lt.assetsPath,lt.rendererSettings;var Wt=_objectWithoutProperties(lt,_excluded$1$1),Zt=reactExports.useState(!1),Ht=_slicedToArray$1(Zt,2),nr=Ht[0],sr=Ht[1],ar=reactExports.useRef(),ir=reactExports.useRef(null),rr=function(){var Ar;(Ar=ar.current)===null||Ar===void 0||Ar.play()},lr=function(){var Ar;(Ar=ar.current)===null||Ar===void 0||Ar.stop()},ur=function(){var Ar;(Ar=ar.current)===null||Ar===void 0||Ar.pause()},dr=function(Ar){var Pr;(Pr=ar.current)===null||Pr===void 0||Pr.setSpeed(Ar)},mr=function(Ar,Pr){var Ir;(Ir=ar.current)===null||Ir===void 0||Ir.goToAndPlay(Ar,Pr)},Cr=function(Ar,Pr){var Ir;(Ir=ar.current)===null||Ir===void 0||Ir.goToAndStop(Ar,Pr)},yr=function(Ar){var Pr;(Pr=ar.current)===null||Pr===void 0||Pr.setDirection(Ar)},xr=function(Ar,Pr){var Ir;(Ir=ar.current)===null||Ir===void 0||Ir.playSegments(Ar,Pr)},Sr=function(Ar){var Pr;(Pr=ar.current)===null||Pr===void 0||Pr.setSubframe(Ar)},br=function(Ar){var Pr;return(Pr=ar.current)===null||Pr===void 0?void 0:Pr.getDuration(Ar)},cr=function(){var Ar;(Ar=ar.current)===null||Ar===void 0||Ar.destroy(),ar.current=void 0},pr=function(){var Ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pr;if(ir.current){(Pr=ar.current)===null||Pr===void 0||Pr.destroy();var Ir=_objectSpread2(_objectSpread2(_objectSpread2({},lt),Ar),{},{container:ir.current});return ar.current=lottie.loadAnimation(Ir),sr(!!ar.current),function(){var kr;(kr=ar.current)===null||kr===void 0||kr.destroy(),ar.current=void 0}}};reactExports.useEffect(function(){var _r=pr();return function(){return _r==null?void 0:_r()}},[vt,St]),reactExports.useEffect(function(){ar.current&&(ar.current.autoplay=!!Et)},[Et]),reactExports.useEffect(function(){if(ar.current){if(!At){ar.current.resetSegments(!0);return}!Array.isArray(At)||!At.length||((ar.current.currentRawFrame<At[0]||ar.current.currentRawFrame>At[1])&&(ar.current.currentRawFrame=At[0]),ar.current.setSegment(At[0],At[1]))}},[At]),reactExports.useEffect(function(){var _r=[{name:"complete",handler:Ct},{name:"loopComplete",handler:Tt},{name:"enterFrame",handler:Rt},{name:"segmentStart",handler:Bt},{name:"config_ready",handler:Dt},{name:"data_ready",handler:Ft},{name:"data_failed",handler:kt},{name:"loaded_images",handler:Ut},{name:"DOMLoaded",handler:Kt},{name:"destroy",handler:tr}],Ar=_r.filter(function(Ir){return Ir.handler!=null});if(Ar.length){var Pr=Ar.map(function(Ir){var kr;return(kr=ar.current)===null||kr===void 0||kr.addEventListener(Ir.name,Ir.handler),function(){var Dr;(Dr=ar.current)===null||Dr===void 0||Dr.removeEventListener(Ir.name,Ir.handler)}});return function(){Pr.forEach(function(Ir){return Ir()})}}},[Ct,Tt,Rt,Bt,Dt,Ft,kt,Ut,Kt,tr]);var Er=React$1.createElement("div",_objectSpread2({style:dt,ref:ir},Wt));return{View:Er,play:rr,stop:lr,pause:ur,setSpeed:dr,goToAndStop:Cr,goToAndPlay:mr,setDirection:yr,playSegments:xr,setSubframe:Sr,getDuration:br,destroy:cr,animationContainerRef:ir,animationLoaded:nr,animationItem:ar.current}};function getContainerVisibility(ft){var lt=ft.getBoundingClientRect(),dt=lt.top,vt=lt.height,St=window.innerHeight-dt,Et=window.innerHeight+vt;return St/Et}function getContainerCursorPosition(ft,lt,dt){var vt=ft.getBoundingClientRect(),St=vt.top,Et=vt.left,At=vt.width,Ct=vt.height,Tt=(lt-Et)/At,Rt=(dt-St)/Ct;return{x:Tt,y:Rt}}var useInitInteractivity=function ft(lt){var dt=lt.wrapperRef,vt=lt.animationItem,St=lt.mode,Et=lt.actions;reactExports.useEffect(function(){var At=dt.current;if(!(!At||!vt||!Et.length)){vt.stop();var Ct=function(){var Bt=null,Dt=function(){var kt=getContainerVisibility(At),Ut=Et.find(function(tr){var Wt=tr.visibility;return Wt&&kt>=Wt[0]&&kt<=Wt[1]});if(Ut){if(Ut.type==="seek"&&Ut.visibility&&Ut.frames.length===2){var Kt=Ut.frames[0]+Math.ceil((kt-Ut.visibility[0])/(Ut.visibility[1]-Ut.visibility[0])*Ut.frames[1]);//! goToAndStop must be relative to the start of the current segment
vt.goToAndStop(Kt-vt.firstFrame-1,!0)}Ut.type==="loop"&&(Bt===null||Bt!==Ut.frames||vt.isPaused)&&(vt.playSegments(Ut.frames,!0),Bt=Ut.frames),Ut.type==="play"&&vt.isPaused&&(vt.resetSegments(!0),vt.play()),Ut.type==="stop"&&vt.goToAndStop(Ut.frames[0]-vt.firstFrame-1,!0)}};return document.addEventListener("scroll",Dt),function(){document.removeEventListener("scroll",Dt)}},Tt=function(){var Bt=function(Ut,Kt){var tr=Ut,Wt=Kt;if(tr!==-1&&Wt!==-1){var Zt=getContainerCursorPosition(At,tr,Wt);tr=Zt.x,Wt=Zt.y}var Ht=Et.find(function(ar){var ir=ar.position;return ir&&Array.isArray(ir.x)&&Array.isArray(ir.y)?tr>=ir.x[0]&&tr<=ir.x[1]&&Wt>=ir.y[0]&&Wt<=ir.y[1]:ir&&!Number.isNaN(ir.x)&&!Number.isNaN(ir.y)?tr===ir.x&&Wt===ir.y:!1});if(Ht){if(Ht.type==="seek"&&Ht.position&&Array.isArray(Ht.position.x)&&Array.isArray(Ht.position.y)&&Ht.frames.length===2){var nr=(tr-Ht.position.x[0])/(Ht.position.x[1]-Ht.position.x[0]),sr=(Wt-Ht.position.y[0])/(Ht.position.y[1]-Ht.position.y[0]);vt.playSegments(Ht.frames,!0),vt.goToAndStop(Math.ceil((nr+sr)/2*(Ht.frames[1]-Ht.frames[0])),!0)}Ht.type==="loop"&&vt.playSegments(Ht.frames,!0),Ht.type==="play"&&(vt.isPaused&&vt.resetSegments(!1),vt.playSegments(Ht.frames)),Ht.type==="stop"&&vt.goToAndStop(Ht.frames[0],!0)}},Dt=function(Ut){Bt(Ut.clientX,Ut.clientY)},Ft=function(){Bt(-1,-1)};return At.addEventListener("mousemove",Dt),At.addEventListener("mouseout",Ft),function(){At.removeEventListener("mousemove",Dt),At.removeEventListener("mouseout",Ft)}};switch(St){case"scroll":return Ct();case"cursor":return Tt()}}},[St,vt])},useLottieInteractivity=function ft(lt){var dt=lt.actions,vt=lt.mode,St=lt.lottieObj,Et=St.animationItem,At=St.View,Ct=St.animationContainerRef;return useInitInteractivity({actions:dt,animationItem:Et,mode:vt,wrapperRef:Ct}),At},_excluded=["style","interactivity"],Lottie=function ft(lt){var dt,vt,St,Et=lt.style,At=lt.interactivity,Ct=_objectWithoutProperties(lt,_excluded),Tt=useLottie(Ct,Et),Rt=Tt.View,Bt=Tt.play,Dt=Tt.stop,Ft=Tt.pause,kt=Tt.setSpeed,Ut=Tt.goToAndStop,Kt=Tt.goToAndPlay,tr=Tt.setDirection,Wt=Tt.playSegments,Zt=Tt.setSubframe,Ht=Tt.getDuration,nr=Tt.destroy,sr=Tt.animationContainerRef,ar=Tt.animationLoaded,ir=Tt.animationItem;return reactExports.useEffect(function(){lt.lottieRef&&(lt.lottieRef.current={play:Bt,stop:Dt,pause:Ft,setSpeed:kt,goToAndPlay:Kt,goToAndStop:Ut,setDirection:tr,playSegments:Wt,setSubframe:Zt,getDuration:Ht,destroy:nr,animationContainerRef:sr,animationLoaded:ar,animationItem:ir})},[(dt=lt.lottieRef)===null||dt===void 0?void 0:dt.current]),useLottieInteractivity({lottieObj:{View:Rt,play:Bt,stop:Dt,pause:Ft,setSpeed:kt,goToAndStop:Ut,goToAndPlay:Kt,setDirection:tr,playSegments:Wt,setSubframe:Zt,getDuration:Ht,destroy:nr,animationContainerRef:sr,animationLoaded:ar,animationItem:ir},actions:(vt=At==null?void 0:At.actions)!==null&&vt!==void 0?vt:[],mode:(St=At==null?void 0:At.mode)!==null&&St!==void 0?St:"scroll"})};const v$1="4.8.0",meta={g:"LottieFiles AE 3.4.5",a:"",k:"",d:"",tc:""},fr=30,ip=113,op=215,w$1=1e3,h$1=1e3,nm="PRE COMP 2",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Layer 2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[500,500,0],ix:2},a:{a:0,k:[127.688,125.134,0],ix:1},s:{a:0,k:[13780.399,13780.399,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.543,-.104],[0,0],[0,0],[0,1.253],[-1.314,0],[0,-1.315],[1.207,-.117],[0,0],[0,0],[0,1.567],[1.638,0],[0,-1.637]],o:[[0,0],[0,0],[-1.229,-.095],[0,-1.315],[1.315,0],[0,1.237],[0,0],[0,0],[1.54,-.108],[0,-1.637],[-1.637,0],[0,1.569]],v:[[-.202,2.965],[-.477,2.687],[-.184,2.382],[-2.385,.004],[-.001,-2.382],[2.385,.004],[.232,2.377],[-.063,2.687],[.21,2.965],[2.969,.004],[-.001,-2.965],[-2.969,.004]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[127.649,125.206],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:113,s:[0]},{t:214,s:[360]}],ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-.175,0],[0,-.164],[0,0],[.175,0],[0,.164],[0,0],[0,0],[0,.14],[-.144,0]],o:[[0,0],[0,-.164],[.175,0],[0,0],[0,.164],[-.175,0],[0,0],[0,0],[-.144,0],[0,-.14],[0,0]],v:[[.271,-.291],[.271,-.973],[.558,-1.248],[.845,-.973],[.845,.973],[.558,1.248],[.271,.973],[.271,.171],[-.613,.17],[-.845,-.06],[-.604,-.29]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[127.903,125.176],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.175,0],[0,.164],[0,0],[-.175,0],[0,-.164]],o:[[0,.164],[-.175,0],[0,0],[0,-.164],[.175,0],[0,0]],v:[[.287,.973],[0,1.247],[-.287,.973],[-.287,-.974],[0,-1.247],[.287,-.974]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[126.679,125.179],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1230,st:0,bm:0}],markers=[],animation={v:v$1,meta,fr,ip,op,w:w$1,h:h$1,nm,ddd,assets,layers,markers};function CustomLoader(){const{progress:ft}=useProgress(),lt=appState(St=>St.started,shallow$1);appState(St=>St.setStarted);const[dt,vt]=reactExports.useState(!1);return reactExports.useEffect(()=>{console.log("started"),console.log(lt)},[lt]),reactExports.useEffect(()=>{ft==100&&setTimeout(()=>{vt(!0)},2500)},[ft]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:`custom-loader pointer-events-none absolute  z-[60]  flex h-full w-full items-center justify-center bg-black transition-all delay-[200ms] duration-[800ms] ease-in-out ${dt?" opacity-0 ":"opacity-100"}`,children:jsxRuntimeExports.jsx("div",{className:"w-32",children:jsxRuntimeExports.jsx(Lottie,{animationData:animation,loop:!0})})})})})})}function resolveAfterSmoothTime(ft){return new Promise(lt=>{setTimeout(()=>{lt("resolved")},ft*100)})}async function asyncCall(ft){await resolveAfterSmoothTime(ft)}function Scene(ft){const{orbitControlsRef:lt}=ft,[dt,vt]=useMultipleRefs(),St=appState(nr=>nr.currentView,shallow$1),Et=appState(nr=>nr.activeRing,shallow$1),At=appState(nr=>nr.activeTile,shallow$1),Ct=appState(nr=>nr.focusElementRef,shallow$1);appState(nr=>nr.ringNames);const Tt=appState(nr=>nr.setUpdateBounds),Rt=appState(nr=>nr.getUniverseStores);appState(nr=>nr.setFetchData),appState(nr=>nr.mockData);const Bt=appState(nr=>nr.setMaxDistance);appState(nr=>nr.maxDistance),appState(nr=>nr.boundsMargin),appState(nr=>nr.setBoundsMargin);const Dt=appState(nr=>nr.started),Ft=appState(nr=>nr.setStarted),{sectionPositions:kt}=Rt(),[Ut,Kt]=reactExports.useState(!1),tr=useBounds();function Wt(nr){lt.current.enabled=!1,setTimeout(()=>{lt.current.enabled=!0},3500);const{position:sr,target:ar}=nr,{xPos:ir,yPos:rr,zPos:lr}=sr,{xTar:ur,yTar:dr,zTar:mr}=ar;console.log("updateBoundsFunction"),tr.to({position:[ir,rr,lr],target:[ur,dr,mr]})}function Zt(){Bt(375);let[nr,sr,ar]=[cameraPositionsStore.focus.none.position.x,cameraPositionsStore.focus.none.position.y,cameraPositionsStore.focus.none.position.z],[ir,rr,lr]=[0,0,0];tr.to({position:[nr,sr,ar],target:[ir,rr,lr]})}Tt(Wt),useFrame(nr=>{const{camera:sr}=nr,ar=nr.clock.getElapsedTime();At||(dt.current.rotation.set(Math.cos(ar/8)/8,Math.sin(ar/8)/16,-.2-Math.sin(ar/3)/30),dt.current.rotation.z-=.02),St=="page"&&sr.fov<75?(sr.fov+=.33,sr.updateProjectionMatrix()):St=="main"&&sr.fov>60&&(sr.fov=sr.fov-=.55,sr.fov<60&&(sr.fov=60),sr.updateProjectionMatrix())}),reactExports.useEffect(()=>{if(!Ut){const{x:nr,y:sr,z:ar}=cameraPositionsStore.idle.position,{x:ir,y:rr,z:lr}=cameraPositionsStore.idle.target;tr.to({position:[nr,sr,ar],target:[ir,rr,lr]}),Kt(!0)}},[]);const Ht={ring_6:120,ring_5:80,ring_4:80,ring_3:30,ring_2:10};return reactExports.useEffect(()=>{St=="main"&&(Zt(),Dt||setTimeout(()=>{Ft(!0)},500)),St=="page"&&asyncCall(15).then(()=>{Bt(Ht[Et])})},[St]),reactExports.useEffect(()=>{if(St=="page"){lt.current.enabled=!1,setTimeout(()=>{lt.current.enabled=!0},1750);let[nr,sr,ar]=[cameraPositionsStore.focus[Et].position.x,cameraPositionsStore.focus[Et].position.y,cameraPositionsStore.focus[Et].position.z],{x:ir,y:rr,z:lr}=kt[Et],ur={ring_6:20,ring_5:1,ring_4:1,ring_3:2,ring_2:2}[Et];rr=rr+ur,tr.to({position:[nr,sr,ar],target:[ir,rr,lr]})}},[Et]),reactExports.useEffect(()=>{Ct&&(St=="page"?(console.log("focusing on element"),tr.refresh(Ct.current),tr.fit()):tr.refresh())},[Ct]),jsxRuntimeExports.jsx("group",{ref:dt,children:jsxRuntimeExports.jsx("group",{ref:vt,children:jsxRuntimeExports.jsx(HirecoUniverse,{})})})}class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(lt){const dt={listener:lt};return this.listeners.add(dt),this.onSubscribe(),()=>{this.listeners.delete(dt),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$1(){}function functionalUpdate(ft,lt){return typeof ft=="function"?ft(lt):ft}function isValidTimeout(ft){return typeof ft=="number"&&ft>=0&&ft!==1/0}function timeUntilStale(ft,lt){return Math.max(ft+(lt||0)-Date.now(),0)}function parseQueryArgs(ft,lt,dt){return isQueryKey(ft)?typeof lt=="function"?{...dt,queryKey:ft,queryFn:lt}:{...lt,queryKey:ft}:ft}function parseFilterArgs(ft,lt,dt){return isQueryKey(ft)?[{...lt,queryKey:ft},dt]:[ft||{},lt]}function matchQuery(ft,lt){const{type:dt="all",exact:vt,fetchStatus:St,predicate:Et,queryKey:At,stale:Ct}=ft;if(isQueryKey(At)){if(vt){if(lt.queryHash!==hashQueryKeyByOptions(At,lt.options))return!1}else if(!partialMatchKey(lt.queryKey,At))return!1}if(dt!=="all"){const Tt=lt.isActive();if(dt==="active"&&!Tt||dt==="inactive"&&Tt)return!1}return!(typeof Ct=="boolean"&&lt.isStale()!==Ct||typeof St<"u"&&St!==lt.state.fetchStatus||Et&&!Et(lt))}function matchMutation(ft,lt){const{exact:dt,fetching:vt,predicate:St,mutationKey:Et}=ft;if(isQueryKey(Et)){if(!lt.options.mutationKey)return!1;if(dt){if(hashQueryKey(lt.options.mutationKey)!==hashQueryKey(Et))return!1}else if(!partialMatchKey(lt.options.mutationKey,Et))return!1}return!(typeof vt=="boolean"&&lt.state.status==="loading"!==vt||St&&!St(lt))}function hashQueryKeyByOptions(ft,lt){return((lt==null?void 0:lt.queryKeyHashFn)||hashQueryKey)(ft)}function hashQueryKey(ft){return JSON.stringify(ft,(lt,dt)=>isPlainObject(dt)?Object.keys(dt).sort().reduce((vt,St)=>(vt[St]=dt[St],vt),{}):dt)}function partialMatchKey(ft,lt){return partialDeepEqual(ft,lt)}function partialDeepEqual(ft,lt){return ft===lt?!0:typeof ft!=typeof lt?!1:ft&&lt&&typeof ft=="object"&&typeof lt=="object"?!Object.keys(lt).some(dt=>!partialDeepEqual(ft[dt],lt[dt])):!1}function replaceEqualDeep(ft,lt){if(ft===lt)return ft;const dt=isPlainArray(ft)&&isPlainArray(lt);if(dt||isPlainObject(ft)&&isPlainObject(lt)){const vt=dt?ft.length:Object.keys(ft).length,St=dt?lt:Object.keys(lt),Et=St.length,At=dt?[]:{};let Ct=0;for(let Tt=0;Tt<Et;Tt++){const Rt=dt?Tt:St[Tt];At[Rt]=replaceEqualDeep(ft[Rt],lt[Rt]),At[Rt]===ft[Rt]&&Ct++}return vt===Et&&Ct===vt?ft:At}return lt}function shallowEqualObjects(ft,lt){if(ft&&!lt||lt&&!ft)return!1;for(const dt in ft)if(ft[dt]!==lt[dt])return!1;return!0}function isPlainArray(ft){return Array.isArray(ft)&&ft.length===Object.keys(ft).length}function isPlainObject(ft){if(!hasObjectPrototype(ft))return!1;const lt=ft.constructor;if(typeof lt>"u")return!0;const dt=lt.prototype;return!(!hasObjectPrototype(dt)||!dt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(ft){return Object.prototype.toString.call(ft)==="[object Object]"}function isQueryKey(ft){return Array.isArray(ft)}function sleep(ft){return new Promise(lt=>{setTimeout(lt,ft)})}function scheduleMicrotask(ft){sleep(0).then(ft)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(ft,lt,dt){return dt.isDataEqual!=null&&dt.isDataEqual(ft,lt)?ft:typeof dt.structuralSharing=="function"?dt.structuralSharing(ft,lt):dt.structuralSharing!==!1?replaceEqualDeep(ft,lt):lt}class FocusManager extends Subscribable{constructor(){super(),this.setup=lt=>{if(!isServer&&window.addEventListener){const dt=()=>lt();return window.addEventListener("visibilitychange",dt,!1),window.addEventListener("focus",dt,!1),()=>{window.removeEventListener("visibilitychange",dt),window.removeEventListener("focus",dt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var lt;(lt=this.cleanup)==null||lt.call(this),this.cleanup=void 0}}setEventListener(lt){var dt;this.setup=lt,(dt=this.cleanup)==null||dt.call(this),this.cleanup=lt(vt=>{typeof vt=="boolean"?this.setFocused(vt):this.onFocus()})}setFocused(lt){this.focused=lt,lt&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:lt})=>{lt()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=lt=>{if(!isServer&&window.addEventListener){const dt=()=>lt();return onlineEvents.forEach(vt=>{window.addEventListener(vt,dt,!1)}),()=>{onlineEvents.forEach(vt=>{window.removeEventListener(vt,dt)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var lt;(lt=this.cleanup)==null||lt.call(this),this.cleanup=void 0}}setEventListener(lt){var dt;this.setup=lt,(dt=this.cleanup)==null||dt.call(this),this.cleanup=lt(vt=>{typeof vt=="boolean"?this.setOnline(vt):this.onOnline()})}setOnline(lt){this.online=lt,lt&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:lt})=>{lt()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(ft){return Math.min(1e3*2**ft,3e4)}function canFetch(ft){return(ft??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(lt){this.revert=lt==null?void 0:lt.revert,this.silent=lt==null?void 0:lt.silent}}function isCancelledError(ft){return ft instanceof CancelledError}function createRetryer(ft){let lt=!1,dt=0,vt=!1,St,Et,At;const Ct=new Promise((tr,Wt)=>{Et=tr,At=Wt}),Tt=tr=>{vt||(kt(new CancelledError(tr)),ft.abort==null||ft.abort())},Rt=()=>{lt=!0},Bt=()=>{lt=!1},Dt=()=>!focusManager.isFocused()||ft.networkMode!=="always"&&!onlineManager.isOnline(),Ft=tr=>{vt||(vt=!0,ft.onSuccess==null||ft.onSuccess(tr),St==null||St(),Et(tr))},kt=tr=>{vt||(vt=!0,ft.onError==null||ft.onError(tr),St==null||St(),At(tr))},Ut=()=>new Promise(tr=>{St=Wt=>{const Zt=vt||!Dt();return Zt&&tr(Wt),Zt},ft.onPause==null||ft.onPause()}).then(()=>{St=void 0,vt||ft.onContinue==null||ft.onContinue()}),Kt=()=>{if(vt)return;let tr;try{tr=ft.fn()}catch(Wt){tr=Promise.reject(Wt)}Promise.resolve(tr).then(Ft).catch(Wt=>{var Zt,Ht;if(vt)return;const nr=(Zt=ft.retry)!=null?Zt:3,sr=(Ht=ft.retryDelay)!=null?Ht:defaultRetryDelay,ar=typeof sr=="function"?sr(dt,Wt):sr,ir=nr===!0||typeof nr=="number"&&dt<nr||typeof nr=="function"&&nr(dt,Wt);if(lt||!ir){kt(Wt);return}dt++,ft.onFail==null||ft.onFail(dt,Wt),sleep(ar).then(()=>{if(Dt())return Ut()}).then(()=>{lt?kt(Wt):Kt()})})};return canFetch(ft.networkMode)?Kt():Ut().then(Kt),{promise:Ct,cancel:Tt,continue:()=>(St==null?void 0:St())?Ct:Promise.resolve(),cancelRetry:Rt,continueRetry:Bt}}const defaultLogger=console;function createNotifyManager(){let ft=[],lt=0,dt=Bt=>{Bt()},vt=Bt=>{Bt()};const St=Bt=>{let Dt;lt++;try{Dt=Bt()}finally{lt--,lt||Ct()}return Dt},Et=Bt=>{lt?ft.push(Bt):scheduleMicrotask(()=>{dt(Bt)})},At=Bt=>(...Dt)=>{Et(()=>{Bt(...Dt)})},Ct=()=>{const Bt=ft;ft=[],Bt.length&&scheduleMicrotask(()=>{vt(()=>{Bt.forEach(Dt=>{dt(Dt)})})})};return{batch:St,batchCalls:At,schedule:Et,setNotifyFunction:Bt=>{dt=Bt},setBatchNotifyFunction:Bt=>{vt=Bt}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(lt){this.cacheTime=Math.max(this.cacheTime||0,lt??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(lt){super(),this.abortSignalConsumed=!1,this.defaultOptions=lt.defaultOptions,this.setOptions(lt.options),this.observers=[],this.cache=lt.cache,this.logger=lt.logger||defaultLogger,this.queryKey=lt.queryKey,this.queryHash=lt.queryHash,this.initialState=lt.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(lt){this.options={...this.defaultOptions,...lt},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(lt,dt){const vt=replaceData(this.state.data,lt,this.options);return this.dispatch({data:vt,type:"success",dataUpdatedAt:dt==null?void 0:dt.updatedAt,manual:dt==null?void 0:dt.manual}),vt}setState(lt,dt){this.dispatch({type:"setState",state:lt,setStateOptions:dt})}cancel(lt){var dt;const vt=this.promise;return(dt=this.retryer)==null||dt.cancel(lt),vt?vt.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(lt=>lt.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(lt=>lt.getCurrentResult().isStale)}isStaleByTime(lt=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,lt)}onFocus(){var lt;const dt=this.observers.find(vt=>vt.shouldFetchOnWindowFocus());dt&&dt.refetch({cancelRefetch:!1}),(lt=this.retryer)==null||lt.continue()}onOnline(){var lt;const dt=this.observers.find(vt=>vt.shouldFetchOnReconnect());dt&&dt.refetch({cancelRefetch:!1}),(lt=this.retryer)==null||lt.continue()}addObserver(lt){this.observers.includes(lt)||(this.observers.push(lt),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:lt}))}removeObserver(lt){this.observers.includes(lt)&&(this.observers=this.observers.filter(dt=>dt!==lt),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:lt}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(lt,dt){var vt,St;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&dt!=null&&dt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var Et;return(Et=this.retryer)==null||Et.continueRetry(),this.promise}}if(lt&&this.setOptions(lt),!this.options.queryFn){const kt=this.observers.find(Ut=>Ut.options.queryFn);kt&&this.setOptions(kt.options)}Array.isArray(this.options.queryKey);const At=getAbortController(),Ct={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},Tt=kt=>{Object.defineProperty(kt,"signal",{enumerable:!0,get:()=>{if(At)return this.abortSignalConsumed=!0,At.signal}})};Tt(Ct);const Rt=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(Ct)):Promise.reject("Missing queryFn"),Bt={fetchOptions:dt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:Rt};if(Tt(Bt),(vt=this.options.behavior)==null||vt.onFetch(Bt),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((St=Bt.fetchOptions)==null?void 0:St.meta)){var Dt;this.dispatch({type:"fetch",meta:(Dt=Bt.fetchOptions)==null?void 0:Dt.meta})}const Ft=kt=>{if(isCancelledError(kt)&&kt.silent||this.dispatch({type:"error",error:kt}),!isCancelledError(kt)){var Ut,Kt,tr,Wt;(Ut=(Kt=this.cache.config).onError)==null||Ut.call(Kt,kt,this),(tr=(Wt=this.cache.config).onSettled)==null||tr.call(Wt,this.state.data,kt,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:Bt.fetchFn,abort:At==null?void 0:At.abort.bind(At),onSuccess:kt=>{var Ut,Kt,tr,Wt;if(typeof kt>"u"){Ft(new Error(this.queryHash+" data is undefined"));return}this.setData(kt),(Ut=(Kt=this.cache.config).onSuccess)==null||Ut.call(Kt,kt,this),(tr=(Wt=this.cache.config).onSettled)==null||tr.call(Wt,kt,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:Ft,onFail:(kt,Ut)=>{this.dispatch({type:"failed",failureCount:kt,error:Ut})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:Bt.options.retry,retryDelay:Bt.options.retryDelay,networkMode:Bt.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(lt){const dt=vt=>{var St,Et;switch(lt.type){case"failed":return{...vt,fetchFailureCount:lt.failureCount,fetchFailureReason:lt.error};case"pause":return{...vt,fetchStatus:"paused"};case"continue":return{...vt,fetchStatus:"fetching"};case"fetch":return{...vt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(St=lt.meta)!=null?St:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!vt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...vt,data:lt.data,dataUpdateCount:vt.dataUpdateCount+1,dataUpdatedAt:(Et=lt.dataUpdatedAt)!=null?Et:Date.now(),error:null,isInvalidated:!1,status:"success",...!lt.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const At=lt.error;return isCancelledError(At)&&At.revert&&this.revertState?{...this.revertState}:{...vt,error:At,errorUpdateCount:vt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:vt.fetchFailureCount+1,fetchFailureReason:At,fetchStatus:"idle",status:"error"};case"invalidate":return{...vt,isInvalidated:!0};case"setState":return{...vt,...lt.state}}};this.state=dt(this.state),notifyManager.batch(()=>{this.observers.forEach(vt=>{vt.onQueryUpdate(lt)}),this.cache.notify({query:this,type:"updated",action:lt})})}}function getDefaultState$1(ft){const lt=typeof ft.initialData=="function"?ft.initialData():ft.initialData,dt=typeof lt<"u",vt=dt?typeof ft.initialDataUpdatedAt=="function"?ft.initialDataUpdatedAt():ft.initialDataUpdatedAt:0;return{data:lt,dataUpdateCount:0,dataUpdatedAt:dt?vt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:dt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(lt){super(),this.config=lt||{},this.queries=[],this.queriesMap={}}build(lt,dt,vt){var St;const Et=dt.queryKey,At=(St=dt.queryHash)!=null?St:hashQueryKeyByOptions(Et,dt);let Ct=this.get(At);return Ct||(Ct=new Query({cache:this,logger:lt.getLogger(),queryKey:Et,queryHash:At,options:lt.defaultQueryOptions(dt),state:vt,defaultOptions:lt.getQueryDefaults(Et)}),this.add(Ct)),Ct}add(lt){this.queriesMap[lt.queryHash]||(this.queriesMap[lt.queryHash]=lt,this.queries.push(lt),this.notify({type:"added",query:lt}))}remove(lt){const dt=this.queriesMap[lt.queryHash];dt&&(lt.destroy(),this.queries=this.queries.filter(vt=>vt!==lt),dt===lt&&delete this.queriesMap[lt.queryHash],this.notify({type:"removed",query:lt}))}clear(){notifyManager.batch(()=>{this.queries.forEach(lt=>{this.remove(lt)})})}get(lt){return this.queriesMap[lt]}getAll(){return this.queries}find(lt,dt){const[vt]=parseFilterArgs(lt,dt);return typeof vt.exact>"u"&&(vt.exact=!0),this.queries.find(St=>matchQuery(vt,St))}findAll(lt,dt){const[vt]=parseFilterArgs(lt,dt);return Object.keys(vt).length>0?this.queries.filter(St=>matchQuery(vt,St)):this.queries}notify(lt){notifyManager.batch(()=>{this.listeners.forEach(({listener:dt})=>{dt(lt)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(lt=>{lt.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(lt=>{lt.onOnline()})})}}class Mutation extends Removable{constructor(lt){super(),this.defaultOptions=lt.defaultOptions,this.mutationId=lt.mutationId,this.mutationCache=lt.mutationCache,this.logger=lt.logger||defaultLogger,this.observers=[],this.state=lt.state||getDefaultState(),this.setOptions(lt.options),this.scheduleGc()}setOptions(lt){this.options={...this.defaultOptions,...lt},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(lt){this.dispatch({type:"setState",state:lt})}addObserver(lt){this.observers.includes(lt)||(this.observers.push(lt),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:lt}))}removeObserver(lt){this.observers=this.observers.filter(dt=>dt!==lt),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:lt})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var lt,dt;return(lt=(dt=this.retryer)==null?void 0:dt.continue())!=null?lt:this.execute()}async execute(){const lt=()=>{var ir;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(rr,lr)=>{this.dispatch({type:"failed",failureCount:rr,error:lr})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(ir=this.options.retry)!=null?ir:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},dt=this.state.status==="loading";try{var vt,St,Et,At,Ct,Tt,Rt,Bt;if(!dt){var Dt,Ft,kt,Ut;this.dispatch({type:"loading",variables:this.options.variables}),await((Dt=(Ft=this.mutationCache.config).onMutate)==null?void 0:Dt.call(Ft,this.state.variables,this));const rr=await((kt=(Ut=this.options).onMutate)==null?void 0:kt.call(Ut,this.state.variables));rr!==this.state.context&&this.dispatch({type:"loading",context:rr,variables:this.state.variables})}const ir=await lt();return await((vt=(St=this.mutationCache.config).onSuccess)==null?void 0:vt.call(St,ir,this.state.variables,this.state.context,this)),await((Et=(At=this.options).onSuccess)==null?void 0:Et.call(At,ir,this.state.variables,this.state.context)),await((Ct=(Tt=this.mutationCache.config).onSettled)==null?void 0:Ct.call(Tt,ir,null,this.state.variables,this.state.context,this)),await((Rt=(Bt=this.options).onSettled)==null?void 0:Rt.call(Bt,ir,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:ir}),ir}catch(ir){try{var Kt,tr,Wt,Zt,Ht,nr,sr,ar;throw await((Kt=(tr=this.mutationCache.config).onError)==null?void 0:Kt.call(tr,ir,this.state.variables,this.state.context,this)),await((Wt=(Zt=this.options).onError)==null?void 0:Wt.call(Zt,ir,this.state.variables,this.state.context)),await((Ht=(nr=this.mutationCache.config).onSettled)==null?void 0:Ht.call(nr,void 0,ir,this.state.variables,this.state.context,this)),await((sr=(ar=this.options).onSettled)==null?void 0:sr.call(ar,void 0,ir,this.state.variables,this.state.context)),ir}finally{this.dispatch({type:"error",error:ir})}}}dispatch(lt){const dt=vt=>{switch(lt.type){case"failed":return{...vt,failureCount:lt.failureCount,failureReason:lt.error};case"pause":return{...vt,isPaused:!0};case"continue":return{...vt,isPaused:!1};case"loading":return{...vt,context:lt.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:lt.variables};case"success":return{...vt,data:lt.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...vt,data:void 0,error:lt.error,failureCount:vt.failureCount+1,failureReason:lt.error,isPaused:!1,status:"error"};case"setState":return{...vt,...lt.state}}};this.state=dt(this.state),notifyManager.batch(()=>{this.observers.forEach(vt=>{vt.onMutationUpdate(lt)}),this.mutationCache.notify({mutation:this,type:"updated",action:lt})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(lt){super(),this.config=lt||{},this.mutations=[],this.mutationId=0}build(lt,dt,vt){const St=new Mutation({mutationCache:this,logger:lt.getLogger(),mutationId:++this.mutationId,options:lt.defaultMutationOptions(dt),state:vt,defaultOptions:dt.mutationKey?lt.getMutationDefaults(dt.mutationKey):void 0});return this.add(St),St}add(lt){this.mutations.push(lt),this.notify({type:"added",mutation:lt})}remove(lt){this.mutations=this.mutations.filter(dt=>dt!==lt),this.notify({type:"removed",mutation:lt})}clear(){notifyManager.batch(()=>{this.mutations.forEach(lt=>{this.remove(lt)})})}getAll(){return this.mutations}find(lt){return typeof lt.exact>"u"&&(lt.exact=!0),this.mutations.find(dt=>matchMutation(lt,dt))}findAll(lt){return this.mutations.filter(dt=>matchMutation(lt,dt))}notify(lt){notifyManager.batch(()=>{this.listeners.forEach(({listener:dt})=>{dt(lt)})})}resumePausedMutations(){var lt;return this.resuming=((lt=this.resuming)!=null?lt:Promise.resolve()).then(()=>{const dt=this.mutations.filter(vt=>vt.state.isPaused);return notifyManager.batch(()=>dt.reduce((vt,St)=>vt.then(()=>St.continue().catch(noop$1)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:ft=>{ft.fetchFn=()=>{var lt,dt,vt,St,Et,At;const Ct=(lt=ft.fetchOptions)==null||(dt=lt.meta)==null?void 0:dt.refetchPage,Tt=(vt=ft.fetchOptions)==null||(St=vt.meta)==null?void 0:St.fetchMore,Rt=Tt==null?void 0:Tt.pageParam,Bt=(Tt==null?void 0:Tt.direction)==="forward",Dt=(Tt==null?void 0:Tt.direction)==="backward",Ft=((Et=ft.state.data)==null?void 0:Et.pages)||[],kt=((At=ft.state.data)==null?void 0:At.pageParams)||[];let Ut=kt,Kt=!1;const tr=ar=>{Object.defineProperty(ar,"signal",{enumerable:!0,get:()=>{var ir;if((ir=ft.signal)!=null&&ir.aborted)Kt=!0;else{var rr;(rr=ft.signal)==null||rr.addEventListener("abort",()=>{Kt=!0})}return ft.signal}})},Wt=ft.options.queryFn||(()=>Promise.reject("Missing queryFn")),Zt=(ar,ir,rr,lr)=>(Ut=lr?[ir,...Ut]:[...Ut,ir],lr?[rr,...ar]:[...ar,rr]),Ht=(ar,ir,rr,lr)=>{if(Kt)return Promise.reject("Cancelled");if(typeof rr>"u"&&!ir&&ar.length)return Promise.resolve(ar);const ur={queryKey:ft.queryKey,pageParam:rr,meta:ft.options.meta};tr(ur);const dr=Wt(ur);return Promise.resolve(dr).then(Cr=>Zt(ar,rr,Cr,lr))};let nr;if(!Ft.length)nr=Ht([]);else if(Bt){const ar=typeof Rt<"u",ir=ar?Rt:getNextPageParam(ft.options,Ft);nr=Ht(Ft,ar,ir)}else if(Dt){const ar=typeof Rt<"u",ir=ar?Rt:getPreviousPageParam(ft.options,Ft);nr=Ht(Ft,ar,ir,!0)}else{Ut=[];const ar=typeof ft.options.getNextPageParam>"u";nr=(Ct&&Ft[0]?Ct(Ft[0],0,Ft):!0)?Ht([],ar,kt[0]):Promise.resolve(Zt([],kt[0],Ft[0]));for(let rr=1;rr<Ft.length;rr++)nr=nr.then(lr=>{if(Ct&&Ft[rr]?Ct(Ft[rr],rr,Ft):!0){const dr=ar?kt[rr]:getNextPageParam(ft.options,lr);return Ht(lr,ar,dr)}return Promise.resolve(Zt(lr,kt[rr],Ft[rr]))})}return nr.then(ar=>({pages:ar,pageParams:Ut}))}}}}function getNextPageParam(ft,lt){return ft.getNextPageParam==null?void 0:ft.getNextPageParam(lt[lt.length-1],lt)}function getPreviousPageParam(ft,lt){return ft.getPreviousPageParam==null?void 0:ft.getPreviousPageParam(lt[0],lt)}class QueryClient{constructor(lt={}){this.queryCache=lt.queryCache||new QueryCache,this.mutationCache=lt.mutationCache||new MutationCache,this.logger=lt.logger||defaultLogger,this.defaultOptions=lt.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var lt,dt;this.mountCount--,this.mountCount===0&&((lt=this.unsubscribeFocus)==null||lt.call(this),this.unsubscribeFocus=void 0,(dt=this.unsubscribeOnline)==null||dt.call(this),this.unsubscribeOnline=void 0)}isFetching(lt,dt){const[vt]=parseFilterArgs(lt,dt);return vt.fetchStatus="fetching",this.queryCache.findAll(vt).length}isMutating(lt){return this.mutationCache.findAll({...lt,fetching:!0}).length}getQueryData(lt,dt){var vt;return(vt=this.queryCache.find(lt,dt))==null?void 0:vt.state.data}ensureQueryData(lt,dt,vt){const St=parseQueryArgs(lt,dt,vt),Et=this.getQueryData(St.queryKey);return Et?Promise.resolve(Et):this.fetchQuery(St)}getQueriesData(lt){return this.getQueryCache().findAll(lt).map(({queryKey:dt,state:vt})=>{const St=vt.data;return[dt,St]})}setQueryData(lt,dt,vt){const St=this.queryCache.find(lt),Et=St==null?void 0:St.state.data,At=functionalUpdate(dt,Et);if(typeof At>"u")return;const Ct=parseQueryArgs(lt),Tt=this.defaultQueryOptions(Ct);return this.queryCache.build(this,Tt).setData(At,{...vt,manual:!0})}setQueriesData(lt,dt,vt){return notifyManager.batch(()=>this.getQueryCache().findAll(lt).map(({queryKey:St})=>[St,this.setQueryData(St,dt,vt)]))}getQueryState(lt,dt){var vt;return(vt=this.queryCache.find(lt,dt))==null?void 0:vt.state}removeQueries(lt,dt){const[vt]=parseFilterArgs(lt,dt),St=this.queryCache;notifyManager.batch(()=>{St.findAll(vt).forEach(Et=>{St.remove(Et)})})}resetQueries(lt,dt,vt){const[St,Et]=parseFilterArgs(lt,dt,vt),At=this.queryCache,Ct={type:"active",...St};return notifyManager.batch(()=>(At.findAll(St).forEach(Tt=>{Tt.reset()}),this.refetchQueries(Ct,Et)))}cancelQueries(lt,dt,vt){const[St,Et={}]=parseFilterArgs(lt,dt,vt);typeof Et.revert>"u"&&(Et.revert=!0);const At=notifyManager.batch(()=>this.queryCache.findAll(St).map(Ct=>Ct.cancel(Et)));return Promise.all(At).then(noop$1).catch(noop$1)}invalidateQueries(lt,dt,vt){const[St,Et]=parseFilterArgs(lt,dt,vt);return notifyManager.batch(()=>{var At,Ct;if(this.queryCache.findAll(St).forEach(Rt=>{Rt.invalidate()}),St.refetchType==="none")return Promise.resolve();const Tt={...St,type:(At=(Ct=St.refetchType)!=null?Ct:St.type)!=null?At:"active"};return this.refetchQueries(Tt,Et)})}refetchQueries(lt,dt,vt){const[St,Et]=parseFilterArgs(lt,dt,vt),At=notifyManager.batch(()=>this.queryCache.findAll(St).filter(Tt=>!Tt.isDisabled()).map(Tt=>{var Rt;return Tt.fetch(void 0,{...Et,cancelRefetch:(Rt=Et==null?void 0:Et.cancelRefetch)!=null?Rt:!0,meta:{refetchPage:St.refetchPage}})}));let Ct=Promise.all(At).then(noop$1);return Et!=null&&Et.throwOnError||(Ct=Ct.catch(noop$1)),Ct}fetchQuery(lt,dt,vt){const St=parseQueryArgs(lt,dt,vt),Et=this.defaultQueryOptions(St);typeof Et.retry>"u"&&(Et.retry=!1);const At=this.queryCache.build(this,Et);return At.isStaleByTime(Et.staleTime)?At.fetch(Et):Promise.resolve(At.state.data)}prefetchQuery(lt,dt,vt){return this.fetchQuery(lt,dt,vt).then(noop$1).catch(noop$1)}fetchInfiniteQuery(lt,dt,vt){const St=parseQueryArgs(lt,dt,vt);return St.behavior=infiniteQueryBehavior(),this.fetchQuery(St)}prefetchInfiniteQuery(lt,dt,vt){return this.fetchInfiniteQuery(lt,dt,vt).then(noop$1).catch(noop$1)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(lt){this.defaultOptions=lt}setQueryDefaults(lt,dt){const vt=this.queryDefaults.find(St=>hashQueryKey(lt)===hashQueryKey(St.queryKey));vt?vt.defaultOptions=dt:this.queryDefaults.push({queryKey:lt,defaultOptions:dt})}getQueryDefaults(lt){if(!lt)return;const dt=this.queryDefaults.find(vt=>partialMatchKey(lt,vt.queryKey));return dt==null?void 0:dt.defaultOptions}setMutationDefaults(lt,dt){const vt=this.mutationDefaults.find(St=>hashQueryKey(lt)===hashQueryKey(St.mutationKey));vt?vt.defaultOptions=dt:this.mutationDefaults.push({mutationKey:lt,defaultOptions:dt})}getMutationDefaults(lt){if(!lt)return;const dt=this.mutationDefaults.find(vt=>partialMatchKey(lt,vt.mutationKey));return dt==null?void 0:dt.defaultOptions}defaultQueryOptions(lt){if(lt!=null&&lt._defaulted)return lt;const dt={...this.defaultOptions.queries,...this.getQueryDefaults(lt==null?void 0:lt.queryKey),...lt,_defaulted:!0};return!dt.queryHash&&dt.queryKey&&(dt.queryHash=hashQueryKeyByOptions(dt.queryKey,dt)),typeof dt.refetchOnReconnect>"u"&&(dt.refetchOnReconnect=dt.networkMode!=="always"),typeof dt.useErrorBoundary>"u"&&(dt.useErrorBoundary=!!dt.suspense),dt}defaultMutationOptions(lt){return lt!=null&&lt._defaulted?lt:{...this.defaultOptions.mutations,...this.getMutationDefaults(lt==null?void 0:lt.mutationKey),...lt,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(lt,dt){super(),this.client=lt,this.options=dt,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(dt)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(lt,dt){const vt=this.options,St=this.currentQuery;if(this.options=this.client.defaultQueryOptions(lt),shallowEqualObjects(vt,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=vt.queryKey),this.updateQuery();const Et=this.hasListeners();Et&&shouldFetchOptionally(this.currentQuery,St,this.options,vt)&&this.executeFetch(),this.updateResult(dt),Et&&(this.currentQuery!==St||this.options.enabled!==vt.enabled||this.options.staleTime!==vt.staleTime)&&this.updateStaleTimeout();const At=this.computeRefetchInterval();Et&&(this.currentQuery!==St||this.options.enabled!==vt.enabled||At!==this.currentRefetchInterval)&&this.updateRefetchInterval(At)}getOptimisticResult(lt){const dt=this.client.getQueryCache().build(this.client,lt);return this.createResult(dt,lt)}getCurrentResult(){return this.currentResult}trackResult(lt){const dt={};return Object.keys(lt).forEach(vt=>{Object.defineProperty(dt,vt,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(vt),lt[vt])})}),dt}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:lt,...dt}={}){return this.fetch({...dt,meta:{refetchPage:lt}})}fetchOptimistic(lt){const dt=this.client.defaultQueryOptions(lt),vt=this.client.getQueryCache().build(this.client,dt);return vt.isFetchingOptimistic=!0,vt.fetch().then(()=>this.createResult(vt,dt))}fetch(lt){var dt;return this.executeFetch({...lt,cancelRefetch:(dt=lt.cancelRefetch)!=null?dt:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(lt){this.updateQuery();let dt=this.currentQuery.fetch(this.options,lt);return lt!=null&&lt.throwOnError||(dt=dt.catch(noop$1)),dt}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const dt=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},dt)}computeRefetchInterval(){var lt;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(lt=this.options.refetchInterval)!=null?lt:!1}updateRefetchInterval(lt){this.clearRefetchInterval(),this.currentRefetchInterval=lt,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(lt,dt){const vt=this.currentQuery,St=this.options,Et=this.currentResult,At=this.currentResultState,Ct=this.currentResultOptions,Tt=lt!==vt,Rt=Tt?lt.state:this.currentQueryInitialState,Bt=Tt?this.currentResult:this.previousQueryResult,{state:Dt}=lt;let{dataUpdatedAt:Ft,error:kt,errorUpdatedAt:Ut,fetchStatus:Kt,status:tr}=Dt,Wt=!1,Zt=!1,Ht;if(dt._optimisticResults){const rr=this.hasListeners(),lr=!rr&&shouldFetchOnMount(lt,dt),ur=rr&&shouldFetchOptionally(lt,vt,dt,St);(lr||ur)&&(Kt=canFetch(lt.options.networkMode)?"fetching":"paused",Ft||(tr="loading")),dt._optimisticResults==="isRestoring"&&(Kt="idle")}if(dt.keepPreviousData&&!Dt.dataUpdatedAt&&Bt!=null&&Bt.isSuccess&&tr!=="error")Ht=Bt.data,Ft=Bt.dataUpdatedAt,tr=Bt.status,Wt=!0;else if(dt.select&&typeof Dt.data<"u")if(Et&&Dt.data===(At==null?void 0:At.data)&&dt.select===this.selectFn)Ht=this.selectResult;else try{this.selectFn=dt.select,Ht=dt.select(Dt.data),Ht=replaceData(Et==null?void 0:Et.data,Ht,dt),this.selectResult=Ht,this.selectError=null}catch(rr){this.selectError=rr}else Ht=Dt.data;if(typeof dt.placeholderData<"u"&&typeof Ht>"u"&&tr==="loading"){let rr;if(Et!=null&&Et.isPlaceholderData&&dt.placeholderData===(Ct==null?void 0:Ct.placeholderData))rr=Et.data;else if(rr=typeof dt.placeholderData=="function"?dt.placeholderData():dt.placeholderData,dt.select&&typeof rr<"u")try{rr=dt.select(rr),this.selectError=null}catch(lr){this.selectError=lr}typeof rr<"u"&&(tr="success",Ht=replaceData(Et==null?void 0:Et.data,rr,dt),Zt=!0)}this.selectError&&(kt=this.selectError,Ht=this.selectResult,Ut=Date.now(),tr="error");const nr=Kt==="fetching",sr=tr==="loading",ar=tr==="error";return{status:tr,fetchStatus:Kt,isLoading:sr,isSuccess:tr==="success",isError:ar,isInitialLoading:sr&&nr,data:Ht,dataUpdatedAt:Ft,error:kt,errorUpdatedAt:Ut,failureCount:Dt.fetchFailureCount,failureReason:Dt.fetchFailureReason,errorUpdateCount:Dt.errorUpdateCount,isFetched:Dt.dataUpdateCount>0||Dt.errorUpdateCount>0,isFetchedAfterMount:Dt.dataUpdateCount>Rt.dataUpdateCount||Dt.errorUpdateCount>Rt.errorUpdateCount,isFetching:nr,isRefetching:nr&&!sr,isLoadingError:ar&&Dt.dataUpdatedAt===0,isPaused:Kt==="paused",isPlaceholderData:Zt,isPreviousData:Wt,isRefetchError:ar&&Dt.dataUpdatedAt!==0,isStale:isStale(lt,dt),refetch:this.refetch,remove:this.remove}}updateResult(lt){const dt=this.currentResult,vt=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(vt,dt))return;this.currentResult=vt;const St={cache:!0},Et=()=>{if(!dt)return!0;const{notifyOnChangeProps:At}=this.options;if(At==="all"||!At&&!this.trackedProps.size)return!0;const Ct=new Set(At??this.trackedProps);return this.options.useErrorBoundary&&Ct.add("error"),Object.keys(this.currentResult).some(Tt=>{const Rt=Tt;return this.currentResult[Rt]!==dt[Rt]&&Ct.has(Rt)})};(lt==null?void 0:lt.listeners)!==!1&&Et()&&(St.listeners=!0),this.notify({...St,...lt})}updateQuery(){const lt=this.client.getQueryCache().build(this.client,this.options);if(lt===this.currentQuery)return;const dt=this.currentQuery;this.currentQuery=lt,this.currentQueryInitialState=lt.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(dt==null||dt.removeObserver(this),lt.addObserver(this))}onQueryUpdate(lt){const dt={};lt.type==="success"?dt.onSuccess=!lt.manual:lt.type==="error"&&!isCancelledError(lt.error)&&(dt.onError=!0),this.updateResult(dt),this.hasListeners()&&this.updateTimers()}notify(lt){notifyManager.batch(()=>{if(lt.onSuccess){var dt,vt,St,Et;(dt=(vt=this.options).onSuccess)==null||dt.call(vt,this.currentResult.data),(St=(Et=this.options).onSettled)==null||St.call(Et,this.currentResult.data,null)}else if(lt.onError){var At,Ct,Tt,Rt;(At=(Ct=this.options).onError)==null||At.call(Ct,this.currentResult.error),(Tt=(Rt=this.options).onSettled)==null||Tt.call(Rt,void 0,this.currentResult.error)}lt.listeners&&this.listeners.forEach(({listener:Bt})=>{Bt(this.currentResult)}),lt.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(ft,lt){return lt.enabled!==!1&&!ft.state.dataUpdatedAt&&!(ft.state.status==="error"&&lt.retryOnMount===!1)}function shouldFetchOnMount(ft,lt){return shouldLoadOnMount(ft,lt)||ft.state.dataUpdatedAt>0&&shouldFetchOn(ft,lt,lt.refetchOnMount)}function shouldFetchOn(ft,lt,dt){if(lt.enabled!==!1){const vt=typeof dt=="function"?dt(ft):dt;return vt==="always"||vt!==!1&&isStale(ft,lt)}return!1}function shouldFetchOptionally(ft,lt,dt,vt){return dt.enabled!==!1&&(ft!==lt||vt.enabled===!1)&&(!dt.suspense||ft.state.status!=="error")&&isStale(ft,dt)}function isStale(ft,lt){return ft.isStaleByTime(lt.staleTime)}const useSyncExternalStore=shimExports.useSyncExternalStore,defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(ft,lt){return ft||(lt&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:ft}={})=>{const lt=reactExports.useContext(getQueryClientContext(ft,reactExports.useContext(QueryClientSharingContext)));if(!lt)throw new Error("No QueryClient set, use QueryClientProvider to set one");return lt},QueryClientProvider=({client:ft,children:lt,context:dt,contextSharing:vt=!1})=>{reactExports.useEffect(()=>(ft.mount(),()=>{ft.unmount()}),[ft]);const St=getQueryClientContext(dt,vt);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!dt&&vt},reactExports.createElement(St.Provider,{value:ft},lt))},IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let ft=!1;return{clearReset:()=>{ft=!1},reset:()=>{ft=!0},isReset:()=>ft}}const QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(ft,lt){return typeof ft=="function"?ft(...lt):!!ft}const ensurePreventErrorBoundaryRetry=(ft,lt)=>{(ft.suspense||ft.useErrorBoundary)&&(lt.isReset()||(ft.retryOnMount=!1))},useClearResetErrorBoundary=ft=>{reactExports.useEffect(()=>{ft.clearReset()},[ft])},getHasError=({result:ft,errorResetBoundary:lt,useErrorBoundary:dt,query:vt})=>ft.isError&&!lt.isReset()&&!ft.isFetching&&shouldThrowError(dt,[ft.error,vt]),ensureStaleTime=ft=>{ft.suspense&&typeof ft.staleTime!="number"&&(ft.staleTime=1e3)},willFetch=(ft,lt)=>ft.isLoading&&ft.isFetching&&!lt,shouldSuspend=(ft,lt,dt)=>(ft==null?void 0:ft.suspense)&&willFetch(lt,dt),fetchOptimistic=(ft,lt,dt)=>lt.fetchOptimistic(ft).then(({data:vt})=>{ft.onSuccess==null||ft.onSuccess(vt),ft.onSettled==null||ft.onSettled(vt,null)}).catch(vt=>{dt.clearReset(),ft.onError==null||ft.onError(vt),ft.onSettled==null||ft.onSettled(void 0,vt)});function useBaseQuery(ft,lt){const dt=useQueryClient({context:ft.context}),vt=useIsRestoring(),St=useQueryErrorResetBoundary(),Et=dt.defaultQueryOptions(ft);Et._optimisticResults=vt?"isRestoring":"optimistic",Et.onError&&(Et.onError=notifyManager.batchCalls(Et.onError)),Et.onSuccess&&(Et.onSuccess=notifyManager.batchCalls(Et.onSuccess)),Et.onSettled&&(Et.onSettled=notifyManager.batchCalls(Et.onSettled)),ensureStaleTime(Et),ensurePreventErrorBoundaryRetry(Et,St),useClearResetErrorBoundary(St);const[At]=reactExports.useState(()=>new lt(dt,Et)),Ct=At.getOptimisticResult(Et);if(useSyncExternalStore(reactExports.useCallback(Tt=>{const Rt=vt?()=>{}:At.subscribe(notifyManager.batchCalls(Tt));return At.updateResult(),Rt},[At,vt]),()=>At.getCurrentResult(),()=>At.getCurrentResult()),reactExports.useEffect(()=>{At.setOptions(Et,{listeners:!1})},[Et,At]),shouldSuspend(Et,Ct,vt))throw fetchOptimistic(Et,At,St);if(getHasError({result:Ct,errorResetBoundary:St,useErrorBoundary:Et.useErrorBoundary,query:At.getCurrentQuery()}))throw Ct.error;return Et.notifyOnChangeProps?Ct:At.trackResult(Ct)}function useQuery(ft,lt,dt){const vt=parseQueryArgs(ft,lt,dt);return useBaseQuery(vt,QueryObserver)}var dist$1={},lodash_isequal={exports:{}};lodash_isequal.exports;(function(ft,lt){var dt=200,vt="__lodash_hash_undefined__",St=1,Et=2,At=9007199254740991,Ct="[object Arguments]",Tt="[object Array]",Rt="[object AsyncFunction]",Bt="[object Boolean]",Dt="[object Date]",Ft="[object Error]",kt="[object Function]",Ut="[object GeneratorFunction]",Kt="[object Map]",tr="[object Number]",Wt="[object Null]",Zt="[object Object]",Ht="[object Promise]",nr="[object Proxy]",sr="[object RegExp]",ar="[object Set]",ir="[object String]",rr="[object Symbol]",lr="[object Undefined]",ur="[object WeakMap]",dr="[object ArrayBuffer]",mr="[object DataView]",Cr="[object Float32Array]",yr="[object Float64Array]",xr="[object Int8Array]",Sr="[object Int16Array]",br="[object Int32Array]",cr="[object Uint8Array]",pr="[object Uint8ClampedArray]",Er="[object Uint16Array]",_r="[object Uint32Array]",Ar=/[\\^$.*+?()[\]{}|]/g,Pr=/^\[object .+?Constructor\]$/,Ir=/^(?:0|[1-9]\d*)$/,kr={};kr[Cr]=kr[yr]=kr[xr]=kr[Sr]=kr[br]=kr[cr]=kr[pr]=kr[Er]=kr[_r]=!0,kr[Ct]=kr[Tt]=kr[dr]=kr[Bt]=kr[mr]=kr[Dt]=kr[Ft]=kr[kt]=kr[Kt]=kr[tr]=kr[Zt]=kr[sr]=kr[ar]=kr[ir]=kr[ur]=!1;var Dr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Jr=typeof self=="object"&&self&&self.Object===Object&&self,Or=Dr||Jr||Function("return this")(),jr=lt&&!lt.nodeType&&lt,Nr=jr&&!0&&ft&&!ft.nodeType&&ft,Vr=Nr&&Nr.exports===jr,Br=Vr&&Dr.process,zr=function(){try{return Br&&Br.binding&&Br.binding("util")}catch{}}(),qr=zr&&zr.isTypedArray;function en(Hr,Zr){for(var Bn=-1,zn=Hr==null?0:Hr.length,Rs=0,ns=[];++Bn<zn;){var Ss=Hr[Bn];Zr(Ss,Bn,Hr)&&(ns[Rs++]=Ss)}return ns}function cn(Hr,Zr){for(var Bn=-1,zn=Zr.length,Rs=Hr.length;++Bn<zn;)Hr[Rs+Bn]=Zr[Bn];return Hr}function Rn(Hr,Zr){for(var Bn=-1,zn=Hr==null?0:Hr.length;++Bn<zn;)if(Zr(Hr[Bn],Bn,Hr))return!0;return!1}function Qr(Hr,Zr){for(var Bn=-1,zn=Array(Hr);++Bn<Hr;)zn[Bn]=Zr(Bn);return zn}function yn(Hr){return function(Zr){return Hr(Zr)}}function Pn(Hr,Zr){return Hr.has(Zr)}function pn(Hr,Zr){return Hr==null?void 0:Hr[Zr]}function Fr(Hr){var Zr=-1,Bn=Array(Hr.size);return Hr.forEach(function(zn,Rs){Bn[++Zr]=[Rs,zn]}),Bn}function Rr(Hr,Zr){return function(Bn){return Hr(Zr(Bn))}}function Yr(Hr){var Zr=-1,Bn=Array(Hr.size);return Hr.forEach(function(zn){Bn[++Zr]=zn}),Bn}var fn=Array.prototype,Cn=Function.prototype,An=Object.prototype,Dn=Or["__core-js_shared__"],In=Cn.toString,mn=An.hasOwnProperty,Nn=function(){var Hr=/[^.]+$/.exec(Dn&&Dn.keys&&Dn.keys.IE_PROTO||"");return Hr?"Symbol(src)_1."+Hr:""}(),Kr=An.toString,hn=RegExp("^"+In.call(mn).replace(Ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),En=Vr?Or.Buffer:void 0,xn=Or.Symbol,On=Or.Uint8Array,Wn=An.propertyIsEnumerable,es=fn.splice,Xr=xn?xn.toStringTag:void 0,dn=Object.getOwnPropertySymbols,Ln=En?En.isBuffer:void 0,Vn=Rr(Object.keys,Object),jn=go(Or,"DataView"),ts=go(Or,"Map"),_s=go(Or,"Promise"),Es=go(Or,"Set"),xs=go(Or,"WeakMap"),gs=go(Object,"create"),bs=os(jn),vs=os(ts),oo=os(_s),ro=os(Es),Cs=os(xs),Ns=xn?xn.prototype:void 0,Gr=Ns?Ns.valueOf:void 0;function an(Hr){var Zr=-1,Bn=Hr==null?0:Hr.length;for(this.clear();++Zr<Bn;){var zn=Hr[Zr];this.set(zn[0],zn[1])}}function vn(){this.__data__=gs?gs(null):{},this.size=0}function ln(Hr){var Zr=this.has(Hr)&&delete this.__data__[Hr];return this.size-=Zr?1:0,Zr}function Mn(Hr){var Zr=this.__data__;if(gs){var Bn=Zr[Hr];return Bn===vt?void 0:Bn}return mn.call(Zr,Hr)?Zr[Hr]:void 0}function Kn(Hr){var Zr=this.__data__;return gs?Zr[Hr]!==void 0:mn.call(Zr,Hr)}function Qn(Hr,Zr){var Bn=this.__data__;return this.size+=this.has(Hr)?0:1,Bn[Hr]=gs&&Zr===void 0?vt:Zr,this}an.prototype.clear=vn,an.prototype.delete=ln,an.prototype.get=Mn,an.prototype.has=Kn,an.prototype.set=Qn;function Zn(Hr){var Zr=-1,Bn=Hr==null?0:Hr.length;for(this.clear();++Zr<Bn;){var zn=Hr[Zr];this.set(zn[0],zn[1])}}function as(){this.__data__=[],this.size=0}function cs(Hr){var Zr=this.__data__,Bn=Zs(Zr,Hr);if(Bn<0)return!1;var zn=Zr.length-1;return Bn==zn?Zr.pop():es.call(Zr,Bn,1),--this.size,!0}function fs(Hr){var Zr=this.__data__,Bn=Zs(Zr,Hr);return Bn<0?void 0:Zr[Bn][1]}function ds(Hr){return Zs(this.__data__,Hr)>-1}function Fs(Hr,Zr){var Bn=this.__data__,zn=Zs(Bn,Hr);return zn<0?(++this.size,Bn.push([Hr,Zr])):Bn[zn][1]=Zr,this}Zn.prototype.clear=as,Zn.prototype.delete=cs,Zn.prototype.get=fs,Zn.prototype.has=ds,Zn.prototype.set=Fs;function Ds(Hr){var Zr=-1,Bn=Hr==null?0:Hr.length;for(this.clear();++Zr<Bn;){var zn=Hr[Zr];this.set(zn[0],zn[1])}}function ho(){this.size=0,this.__data__={hash:new an,map:new(ts||Zn),string:new an}}function So(Hr){var Zr=To(this,Hr).delete(Hr);return this.size-=Zr?1:0,Zr}function Gn(Hr){return To(this,Hr).get(Hr)}function rs(Hr){return To(this,Hr).has(Hr)}function Jo(Hr,Zr){var Bn=To(this,Hr),zn=Bn.size;return Bn.set(Hr,Zr),this.size+=Bn.size==zn?0:1,this}Ds.prototype.clear=ho,Ds.prototype.delete=So,Ds.prototype.get=Gn,Ds.prototype.has=rs,Ds.prototype.set=Jo;function Ms(Hr){var Zr=-1,Bn=Hr==null?0:Hr.length;for(this.__data__=new Ds;++Zr<Bn;)this.add(Hr[Zr])}function wo(Hr){return this.__data__.set(Hr,vt),this}function No(Hr){return this.__data__.has(Hr)}Ms.prototype.add=Ms.prototype.push=wo,Ms.prototype.has=No;function Us(Hr){var Zr=this.__data__=new Zn(Hr);this.size=Zr.size}function no(){this.__data__=new Zn,this.size=0}function ss(Hr){var Zr=this.__data__,Bn=Zr.delete(Hr);return this.size=Zr.size,Bn}function hs(Hr){return this.__data__.get(Hr)}function po(Hr){return this.__data__.has(Hr)}function As(Hr,Zr){var Bn=this.__data__;if(Bn instanceof Zn){var zn=Bn.__data__;if(!ts||zn.length<dt-1)return zn.push([Hr,Zr]),this.size=++Bn.size,this;Bn=this.__data__=new Ds(zn)}return Bn.set(Hr,Zr),this.size=Bn.size,this}Us.prototype.clear=no,Us.prototype.delete=ss,Us.prototype.get=hs,Us.prototype.has=po,Us.prototype.set=As;function js(Hr,Zr){var Bn=na(Hr),zn=!Bn&&Zo(Hr),Rs=!Bn&&!zn&&Ol(Hr),ns=!Bn&&!zn&&!Rs&&xa(Hr),Ss=Bn||zn||Rs||ns,Vs=Ss?Qr(Hr.length,String):[],zs=Vs.length;for(var Ls in Hr)(Zr||mn.call(Hr,Ls))&&!(Ss&&(Ls=="length"||Rs&&(Ls=="offset"||Ls=="parent")||ns&&(Ls=="buffer"||Ls=="byteLength"||Ls=="byteOffset")||Qo(Ls,zs)))&&Vs.push(Ls);return Vs}function Zs(Hr,Zr){for(var Bn=Hr.length;Bn--;)if(Fl(Hr[Bn][0],Zr))return Bn;return-1}function Eo(Hr,Zr,Bn){var zn=Zr(Hr);return na(Hr)?zn:cn(zn,Bn(Hr))}function Os(Hr){return Hr==null?Hr===void 0?lr:Wt:Xr&&Xr in Object(Hr)?Ml(Hr):zo(Hr)}function Yo(Hr){return _a(Hr)&&Os(Hr)==Ct}function El(Hr,Zr,Bn,zn,Rs){return Hr===Zr?!0:Hr==null||Zr==null||!_a(Hr)&&!_a(Zr)?Hr!==Hr&&Zr!==Zr:Bl(Hr,Zr,Bn,zn,El,Rs)}function Bl(Hr,Zr,Bn,zn,Rs,ns){var Ss=na(Hr),Vs=na(Zr),zs=Ss?Tt:Po(Hr),Ls=Vs?Tt:Po(Zr);zs=zs==Ct?Zt:zs,Ls=Ls==Ct?Zt:Ls;var Is=zs==Zt,Bs=Ls==Zt,Ws=zs==Ls;if(Ws&&Ol(Hr)){if(!Ol(Zr))return!1;Ss=!0,Is=!1}if(Ws&&!Is)return ns||(ns=new Us),Ss||xa(Hr)?Al(Hr,Zr,Bn,zn,Rs,ns):Cl(Hr,Zr,zs,Bn,zn,Rs,ns);if(!(Bn&St)){var $s=Is&&mn.call(Hr,"__wrapped__"),Ys=Bs&&mn.call(Zr,"__wrapped__");if($s||Ys){var Ao=$s?Hr.value():Hr,Ro=Ys?Zr.value():Zr;return ns||(ns=new Us),Rs(Ao,Ro,Bn,zn,ns)}}return Ws?(ns||(ns=new Us),au(Hr,Zr,Bn,zn,Rs,ns)):!1}function Uo(Hr){if(!lo(Hr)||Vo(Hr))return!1;var Zr=ga(Hr)?hn:Pr;return Zr.test(os(Hr))}function ou(Hr){return _a(Hr)&&Xl(Hr.length)&&!!kr[Os(Hr)]}function ao(Hr){if(!yl(Hr))return Vn(Hr);var Zr=[];for(var Bn in Object(Hr))mn.call(Hr,Bn)&&Bn!="constructor"&&Zr.push(Bn);return Zr}function Al(Hr,Zr,Bn,zn,Rs,ns){var Ss=Bn&St,Vs=Hr.length,zs=Zr.length;if(Vs!=zs&&!(Ss&&zs>Vs))return!1;var Ls=ns.get(Hr);if(Ls&&ns.get(Zr))return Ls==Zr;var Is=-1,Bs=!0,Ws=Bn&Et?new Ms:void 0;for(ns.set(Hr,Zr),ns.set(Zr,Hr);++Is<Vs;){var $s=Hr[Is],Ys=Zr[Is];if(zn)var Ao=Ss?zn(Ys,$s,Is,Zr,Hr,ns):zn($s,Ys,Is,Hr,Zr,ns);if(Ao!==void 0){if(Ao)continue;Bs=!1;break}if(Ws){if(!Rn(Zr,function(Ro,uo){if(!Pn(Ws,uo)&&($s===Ro||Rs($s,Ro,Bn,zn,ns)))return Ws.push(uo)})){Bs=!1;break}}else if(!($s===Ys||Rs($s,Ys,Bn,zn,ns))){Bs=!1;break}}return ns.delete(Hr),ns.delete(Zr),Bs}function Cl(Hr,Zr,Bn,zn,Rs,ns,Ss){switch(Bn){case mr:if(Hr.byteLength!=Zr.byteLength||Hr.byteOffset!=Zr.byteOffset)return!1;Hr=Hr.buffer,Zr=Zr.buffer;case dr:return!(Hr.byteLength!=Zr.byteLength||!ns(new On(Hr),new On(Zr)));case Bt:case Dt:case tr:return Fl(+Hr,+Zr);case Ft:return Hr.name==Zr.name&&Hr.message==Zr.message;case sr:case ir:return Hr==Zr+"";case Kt:var Vs=Fr;case ar:var zs=zn&St;if(Vs||(Vs=Yr),Hr.size!=Zr.size&&!zs)return!1;var Ls=Ss.get(Hr);if(Ls)return Ls==Zr;zn|=Et,Ss.set(Hr,Zr);var Is=Al(Vs(Hr),Vs(Zr),zn,Rs,ns,Ss);return Ss.delete(Hr),Is;case rr:if(Gr)return Gr.call(Hr)==Gr.call(Zr)}return!1}function au(Hr,Zr,Bn,zn,Rs,ns){var Ss=Bn&St,Vs=Go(Hr),zs=Vs.length,Ls=Go(Zr),Is=Ls.length;if(zs!=Is&&!Ss)return!1;for(var Bs=zs;Bs--;){var Ws=Vs[Bs];if(!(Ss?Ws in Zr:mn.call(Zr,Ws)))return!1}var $s=ns.get(Hr);if($s&&ns.get(Zr))return $s==Zr;var Ys=!0;ns.set(Hr,Zr),ns.set(Zr,Hr);for(var Ao=Ss;++Bs<zs;){Ws=Vs[Bs];var Ro=Hr[Ws],uo=Zr[Ws];if(zn)var Ks=Ss?zn(uo,Ro,Ws,Zr,Hr,ns):zn(Ro,uo,Ws,Hr,Zr,ns);if(!(Ks===void 0?Ro===uo||Rs(Ro,uo,Bn,zn,ns):Ks)){Ys=!1;break}Ao||(Ao=Ws=="constructor")}if(Ys&&!Ao){var qs=Hr.constructor,ws=Zr.constructor;qs!=ws&&"constructor"in Hr&&"constructor"in Zr&&!(typeof qs=="function"&&qs instanceof qs&&typeof ws=="function"&&ws instanceof ws)&&(Ys=!1)}return ns.delete(Hr),ns.delete(Zr),Ys}function Go(Hr){return Eo(Hr,bo,lu)}function To(Hr,Zr){var Bn=Hr.__data__;return Dl(Zr)?Bn[typeof Zr=="string"?"string":"hash"]:Bn.map}function go(Hr,Zr){var Bn=pn(Hr,Zr);return Uo(Bn)?Bn:void 0}function Ml(Hr){var Zr=mn.call(Hr,Xr),Bn=Hr[Xr];try{Hr[Xr]=void 0;var zn=!0}catch{}var Rs=Kr.call(Hr);return zn&&(Zr?Hr[Xr]=Bn:delete Hr[Xr]),Rs}var lu=dn?function(Hr){return Hr==null?[]:(Hr=Object(Hr),en(dn(Hr),function(Zr){return Wn.call(Hr,Zr)}))}:Jl,Po=Os;(jn&&Po(new jn(new ArrayBuffer(1)))!=mr||ts&&Po(new ts)!=Kt||_s&&Po(_s.resolve())!=Ht||Es&&Po(new Es)!=ar||xs&&Po(new xs)!=ur)&&(Po=function(Hr){var Zr=Os(Hr),Bn=Zr==Zt?Hr.constructor:void 0,zn=Bn?os(Bn):"";if(zn)switch(zn){case bs:return mr;case vs:return Kt;case oo:return Ht;case ro:return ar;case Cs:return ur}return Zr});function Qo(Hr,Zr){return Zr=Zr??At,!!Zr&&(typeof Hr=="number"||Ir.test(Hr))&&Hr>-1&&Hr%1==0&&Hr<Zr}function Dl(Hr){var Zr=typeof Hr;return Zr=="string"||Zr=="number"||Zr=="symbol"||Zr=="boolean"?Hr!=="__proto__":Hr===null}function Vo(Hr){return!!Nn&&Nn in Hr}function yl(Hr){var Zr=Hr&&Hr.constructor,Bn=typeof Zr=="function"&&Zr.prototype||An;return Hr===Bn}function zo(Hr){return Kr.call(Hr)}function os(Hr){if(Hr!=null){try{return In.call(Hr)}catch{}try{return Hr+""}catch{}}return""}function Fl(Hr,Zr){return Hr===Zr||Hr!==Hr&&Zr!==Zr}var Zo=Yo(function(){return arguments}())?Yo:function(Hr){return _a(Hr)&&mn.call(Hr,"callee")&&!Wn.call(Hr,"callee")},na=Array.isArray;function Kl(Hr){return Hr!=null&&Xl(Hr.length)&&!ga(Hr)}var Ol=Ln||Nl;function Gs(Hr,Zr){return El(Hr,Zr)}function ga(Hr){if(!lo(Hr))return!1;var Zr=Os(Hr);return Zr==kt||Zr==Ut||Zr==Rt||Zr==nr}function Xl(Hr){return typeof Hr=="number"&&Hr>-1&&Hr%1==0&&Hr<=At}function lo(Hr){var Zr=typeof Hr;return Hr!=null&&(Zr=="object"||Zr=="function")}function _a(Hr){return Hr!=null&&typeof Hr=="object"}var xa=qr?yn(qr):ou;function bo(Hr){return Kl(Hr)?js(Hr):ao(Hr)}function Jl(){return[]}function Nl(){return!1}ft.exports=Gs})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,qrcode={exports:{}};(function(ft,lt){var dt=function(){var vt=function(sr,ar){var ir=236,rr=17,lr=sr,ur=Et[ar],dr=null,mr=0,Cr=null,yr=[],xr={},Sr=function(Or,jr){mr=lr*4+17,dr=function(Nr){for(var Vr=new Array(Nr),Br=0;Br<Nr;Br+=1){Vr[Br]=new Array(Nr);for(var zr=0;zr<Nr;zr+=1)Vr[Br][zr]=null}return Vr}(mr),br(0,0),br(mr-7,0),br(0,mr-7),Er(),pr(),Ar(Or,jr),lr>=7&&_r(Or),Cr==null&&(Cr=kr(lr,ur,yr)),Pr(Cr,jr)},br=function(Or,jr){for(var Nr=-1;Nr<=7;Nr+=1)if(!(Or+Nr<=-1||mr<=Or+Nr))for(var Vr=-1;Vr<=7;Vr+=1)jr+Vr<=-1||mr<=jr+Vr||(0<=Nr&&Nr<=6&&(Vr==0||Vr==6)||0<=Vr&&Vr<=6&&(Nr==0||Nr==6)||2<=Nr&&Nr<=4&&2<=Vr&&Vr<=4?dr[Or+Nr][jr+Vr]=!0:dr[Or+Nr][jr+Vr]=!1)},cr=function(){for(var Or=0,jr=0,Nr=0;Nr<8;Nr+=1){Sr(!0,Nr);var Vr=Ct.getLostPoint(xr);(Nr==0||Or>Vr)&&(Or=Vr,jr=Nr)}return jr},pr=function(){for(var Or=8;Or<mr-8;Or+=1)dr[Or][6]==null&&(dr[Or][6]=Or%2==0);for(var jr=8;jr<mr-8;jr+=1)dr[6][jr]==null&&(dr[6][jr]=jr%2==0)},Er=function(){for(var Or=Ct.getPatternPosition(lr),jr=0;jr<Or.length;jr+=1)for(var Nr=0;Nr<Or.length;Nr+=1){var Vr=Or[jr],Br=Or[Nr];if(dr[Vr][Br]==null)for(var zr=-2;zr<=2;zr+=1)for(var qr=-2;qr<=2;qr+=1)zr==-2||zr==2||qr==-2||qr==2||zr==0&&qr==0?dr[Vr+zr][Br+qr]=!0:dr[Vr+zr][Br+qr]=!1}},_r=function(Or){for(var jr=Ct.getBCHTypeNumber(lr),Nr=0;Nr<18;Nr+=1){var Vr=!Or&&(jr>>Nr&1)==1;dr[Math.floor(Nr/3)][Nr%3+mr-8-3]=Vr}for(var Nr=0;Nr<18;Nr+=1){var Vr=!Or&&(jr>>Nr&1)==1;dr[Nr%3+mr-8-3][Math.floor(Nr/3)]=Vr}},Ar=function(Or,jr){for(var Nr=ur<<3|jr,Vr=Ct.getBCHTypeInfo(Nr),Br=0;Br<15;Br+=1){var zr=!Or&&(Vr>>Br&1)==1;Br<6?dr[Br][8]=zr:Br<8?dr[Br+1][8]=zr:dr[mr-15+Br][8]=zr}for(var Br=0;Br<15;Br+=1){var zr=!Or&&(Vr>>Br&1)==1;Br<8?dr[8][mr-Br-1]=zr:Br<9?dr[8][15-Br-1+1]=zr:dr[8][15-Br-1]=zr}dr[mr-8][8]=!Or},Pr=function(Or,jr){for(var Nr=-1,Vr=mr-1,Br=7,zr=0,qr=Ct.getMaskFunction(jr),en=mr-1;en>0;en-=2)for(en==6&&(en-=1);;){for(var cn=0;cn<2;cn+=1)if(dr[Vr][en-cn]==null){var Rn=!1;zr<Or.length&&(Rn=(Or[zr]>>>Br&1)==1);var Qr=qr(Vr,en-cn);Qr&&(Rn=!Rn),dr[Vr][en-cn]=Rn,Br-=1,Br==-1&&(zr+=1,Br=7)}if(Vr+=Nr,Vr<0||mr<=Vr){Vr-=Nr,Nr=-Nr;break}}},Ir=function(Or,jr){for(var Nr=0,Vr=0,Br=0,zr=new Array(jr.length),qr=new Array(jr.length),en=0;en<jr.length;en+=1){var cn=jr[en].dataCount,Rn=jr[en].totalCount-cn;Vr=Math.max(Vr,cn),Br=Math.max(Br,Rn),zr[en]=new Array(cn);for(var Qr=0;Qr<zr[en].length;Qr+=1)zr[en][Qr]=255&Or.getBuffer()[Qr+Nr];Nr+=cn;var yn=Ct.getErrorCorrectPolynomial(Rn),Pn=Rt(zr[en],yn.getLength()-1),pn=Pn.mod(yn);qr[en]=new Array(yn.getLength()-1);for(var Qr=0;Qr<qr[en].length;Qr+=1){var Fr=Qr+pn.getLength()-qr[en].length;qr[en][Qr]=Fr>=0?pn.getAt(Fr):0}}for(var Rr=0,Qr=0;Qr<jr.length;Qr+=1)Rr+=jr[Qr].totalCount;for(var Yr=new Array(Rr),fn=0,Qr=0;Qr<Vr;Qr+=1)for(var en=0;en<jr.length;en+=1)Qr<zr[en].length&&(Yr[fn]=zr[en][Qr],fn+=1);for(var Qr=0;Qr<Br;Qr+=1)for(var en=0;en<jr.length;en+=1)Qr<qr[en].length&&(Yr[fn]=qr[en][Qr],fn+=1);return Yr},kr=function(Or,jr,Nr){for(var Vr=Bt.getRSBlocks(Or,jr),Br=Dt(),zr=0;zr<Nr.length;zr+=1){var qr=Nr[zr];Br.put(qr.getMode(),4),Br.put(qr.getLength(),Ct.getLengthInBits(qr.getMode(),Or)),qr.write(Br)}for(var en=0,zr=0;zr<Vr.length;zr+=1)en+=Vr[zr].dataCount;if(Br.getLengthInBits()>en*8)throw"code length overflow. ("+Br.getLengthInBits()+">"+en*8+")";for(Br.getLengthInBits()+4<=en*8&&Br.put(0,4);Br.getLengthInBits()%8!=0;)Br.putBit(!1);for(;!(Br.getLengthInBits()>=en*8||(Br.put(ir,8),Br.getLengthInBits()>=en*8));)Br.put(rr,8);return Ir(Br,Vr)};xr.addData=function(Or,jr){jr=jr||"Byte";var Nr=null;switch(jr){case"Numeric":Nr=Ft(Or);break;case"Alphanumeric":Nr=kt(Or);break;case"Byte":Nr=Ut(Or);break;case"Kanji":Nr=Kt(Or);break;default:throw"mode:"+jr}yr.push(Nr),Cr=null},xr.isDark=function(Or,jr){if(Or<0||mr<=Or||jr<0||mr<=jr)throw Or+","+jr;return dr[Or][jr]},xr.getModuleCount=function(){return mr},xr.make=function(){if(lr<1){for(var Or=1;Or<40;Or++){for(var jr=Bt.getRSBlocks(Or,ur),Nr=Dt(),Vr=0;Vr<yr.length;Vr++){var Br=yr[Vr];Nr.put(Br.getMode(),4),Nr.put(Br.getLength(),Ct.getLengthInBits(Br.getMode(),Or)),Br.write(Nr)}for(var zr=0,Vr=0;Vr<jr.length;Vr++)zr+=jr[Vr].dataCount;if(Nr.getLengthInBits()<=zr*8)break}lr=Or}Sr(!1,cr())},xr.createTableTag=function(Or,jr){Or=Or||2,jr=typeof jr>"u"?Or*4:jr;var Nr="";Nr+='<table style="',Nr+=" border-width: 0px; border-style: none;",Nr+=" border-collapse: collapse;",Nr+=" padding: 0px; margin: "+jr+"px;",Nr+='">',Nr+="<tbody>";for(var Vr=0;Vr<xr.getModuleCount();Vr+=1){Nr+="<tr>";for(var Br=0;Br<xr.getModuleCount();Br+=1)Nr+='<td style="',Nr+=" border-width: 0px; border-style: none;",Nr+=" border-collapse: collapse;",Nr+=" padding: 0px; margin: 0px;",Nr+=" width: "+Or+"px;",Nr+=" height: "+Or+"px;",Nr+=" background-color: ",Nr+=xr.isDark(Vr,Br)?"#000000":"#ffffff",Nr+=";",Nr+='"/>';Nr+="</tr>"}return Nr+="</tbody>",Nr+="</table>",Nr},xr.createSvgTag=function(Or,jr,Nr,Vr){var Br={};typeof arguments[0]=="object"&&(Br=arguments[0],Or=Br.cellSize,jr=Br.margin,Nr=Br.alt,Vr=Br.title),Or=Or||2,jr=typeof jr>"u"?Or*4:jr,Nr=typeof Nr=="string"?{text:Nr}:Nr||{},Nr.text=Nr.text||null,Nr.id=Nr.text?Nr.id||"qrcode-description":null,Vr=typeof Vr=="string"?{text:Vr}:Vr||{},Vr.text=Vr.text||null,Vr.id=Vr.text?Vr.id||"qrcode-title":null;var zr=xr.getModuleCount()*Or+jr*2,qr,en,cn,Rn,Qr="",yn;for(yn="l"+Or+",0 0,"+Or+" -"+Or+",0 0,-"+Or+"z ",Qr+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Qr+=Br.scalable?"":' width="'+zr+'px" height="'+zr+'px"',Qr+=' viewBox="0 0 '+zr+" "+zr+'" ',Qr+=' preserveAspectRatio="xMinYMin meet"',Qr+=Vr.text||Nr.text?' role="img" aria-labelledby="'+Dr([Vr.id,Nr.id].join(" ").trim())+'"':"",Qr+=">",Qr+=Vr.text?'<title id="'+Dr(Vr.id)+'">'+Dr(Vr.text)+"</title>":"",Qr+=Nr.text?'<description id="'+Dr(Nr.id)+'">'+Dr(Nr.text)+"</description>":"",Qr+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Qr+='<path d="',cn=0;cn<xr.getModuleCount();cn+=1)for(Rn=cn*Or+jr,qr=0;qr<xr.getModuleCount();qr+=1)xr.isDark(cn,qr)&&(en=qr*Or+jr,Qr+="M"+en+","+Rn+yn);return Qr+='" stroke="transparent" fill="black"/>',Qr+="</svg>",Qr},xr.createDataURL=function(Or,jr){Or=Or||2,jr=typeof jr>"u"?Or*4:jr;var Nr=xr.getModuleCount()*Or+jr*2,Vr=jr,Br=Nr-jr;return nr(Nr,Nr,function(zr,qr){if(Vr<=zr&&zr<Br&&Vr<=qr&&qr<Br){var en=Math.floor((zr-Vr)/Or),cn=Math.floor((qr-Vr)/Or);return xr.isDark(cn,en)?0:1}else return 1})},xr.createImgTag=function(Or,jr,Nr){Or=Or||2,jr=typeof jr>"u"?Or*4:jr;var Vr=xr.getModuleCount()*Or+jr*2,Br="";return Br+="<img",Br+=' src="',Br+=xr.createDataURL(Or,jr),Br+='"',Br+=' width="',Br+=Vr,Br+='"',Br+=' height="',Br+=Vr,Br+='"',Nr&&(Br+=' alt="',Br+=Dr(Nr),Br+='"'),Br+="/>",Br};var Dr=function(Or){for(var jr="",Nr=0;Nr<Or.length;Nr+=1){var Vr=Or.charAt(Nr);switch(Vr){case"<":jr+="&lt;";break;case">":jr+="&gt;";break;case"&":jr+="&amp;";break;case'"':jr+="&quot;";break;default:jr+=Vr;break}}return jr},Jr=function(Or){var jr=1;Or=typeof Or>"u"?jr*2:Or;var Nr=xr.getModuleCount()*jr+Or*2,Vr=Or,Br=Nr-Or,zr,qr,en,cn,Rn,Qr={"██":"█","█ ":"▀"," █":"▄","  ":" "},yn={"██":"▀","█ ":"▀"," █":" ","  ":" "},Pn="";for(zr=0;zr<Nr;zr+=2){for(en=Math.floor((zr-Vr)/jr),cn=Math.floor((zr+1-Vr)/jr),qr=0;qr<Nr;qr+=1)Rn="█",Vr<=qr&&qr<Br&&Vr<=zr&&zr<Br&&xr.isDark(en,Math.floor((qr-Vr)/jr))&&(Rn=" "),Vr<=qr&&qr<Br&&Vr<=zr+1&&zr+1<Br&&xr.isDark(cn,Math.floor((qr-Vr)/jr))?Rn+=" ":Rn+="█",Pn+=Or<1&&zr+1>=Br?yn[Rn]:Qr[Rn];Pn+=`
`}return Nr%2&&Or>0?Pn.substring(0,Pn.length-Nr-1)+Array(Nr+1).join("▀"):Pn.substring(0,Pn.length-1)};return xr.createASCII=function(Or,jr){if(Or=Or||1,Or<2)return Jr(jr);Or-=1,jr=typeof jr>"u"?Or*2:jr;var Nr=xr.getModuleCount()*Or+jr*2,Vr=jr,Br=Nr-jr,zr,qr,en,cn,Rn=Array(Or+1).join("██"),Qr=Array(Or+1).join("  "),yn="",Pn="";for(zr=0;zr<Nr;zr+=1){for(en=Math.floor((zr-Vr)/Or),Pn="",qr=0;qr<Nr;qr+=1)cn=1,Vr<=qr&&qr<Br&&Vr<=zr&&zr<Br&&xr.isDark(en,Math.floor((qr-Vr)/Or))&&(cn=0),Pn+=cn?Rn:Qr;for(en=0;en<Or;en+=1)yn+=Pn+`
`}return yn.substring(0,yn.length-1)},xr.renderTo2dContext=function(Or,jr){jr=jr||2;for(var Nr=xr.getModuleCount(),Vr=0;Vr<Nr;Vr++)for(var Br=0;Br<Nr;Br++)Or.fillStyle=xr.isDark(Vr,Br)?"black":"white",Or.fillRect(Vr*jr,Br*jr,jr,jr)},xr};vt.stringToBytesFuncs={default:function(sr){for(var ar=[],ir=0;ir<sr.length;ir+=1){var rr=sr.charCodeAt(ir);ar.push(rr&255)}return ar}},vt.stringToBytes=vt.stringToBytesFuncs.default,vt.createStringToBytes=function(sr,ar){var ir=function(){for(var lr=Zt(sr),ur=function(){var pr=lr.read();if(pr==-1)throw"eof";return pr},dr=0,mr={};;){var Cr=lr.read();if(Cr==-1)break;var yr=ur(),xr=ur(),Sr=ur(),br=String.fromCharCode(Cr<<8|yr),cr=xr<<8|Sr;mr[br]=cr,dr+=1}if(dr!=ar)throw dr+" != "+ar;return mr}(),rr="?".charCodeAt(0);return function(lr){for(var ur=[],dr=0;dr<lr.length;dr+=1){var mr=lr.charCodeAt(dr);if(mr<128)ur.push(mr);else{var Cr=ir[lr.charAt(dr)];typeof Cr=="number"?(Cr&255)==Cr?ur.push(Cr):(ur.push(Cr>>>8),ur.push(Cr&255)):ur.push(rr)}}return ur}};var St={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Et={L:1,M:0,Q:3,H:2},At={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ct=function(){var sr=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],ar=1335,ir=7973,rr=21522,lr={},ur=function(dr){for(var mr=0;dr!=0;)mr+=1,dr>>>=1;return mr};return lr.getBCHTypeInfo=function(dr){for(var mr=dr<<10;ur(mr)-ur(ar)>=0;)mr^=ar<<ur(mr)-ur(ar);return(dr<<10|mr)^rr},lr.getBCHTypeNumber=function(dr){for(var mr=dr<<12;ur(mr)-ur(ir)>=0;)mr^=ir<<ur(mr)-ur(ir);return dr<<12|mr},lr.getPatternPosition=function(dr){return sr[dr-1]},lr.getMaskFunction=function(dr){switch(dr){case At.PATTERN000:return function(mr,Cr){return(mr+Cr)%2==0};case At.PATTERN001:return function(mr,Cr){return mr%2==0};case At.PATTERN010:return function(mr,Cr){return Cr%3==0};case At.PATTERN011:return function(mr,Cr){return(mr+Cr)%3==0};case At.PATTERN100:return function(mr,Cr){return(Math.floor(mr/2)+Math.floor(Cr/3))%2==0};case At.PATTERN101:return function(mr,Cr){return mr*Cr%2+mr*Cr%3==0};case At.PATTERN110:return function(mr,Cr){return(mr*Cr%2+mr*Cr%3)%2==0};case At.PATTERN111:return function(mr,Cr){return(mr*Cr%3+(mr+Cr)%2)%2==0};default:throw"bad maskPattern:"+dr}},lr.getErrorCorrectPolynomial=function(dr){for(var mr=Rt([1],0),Cr=0;Cr<dr;Cr+=1)mr=mr.multiply(Rt([1,Tt.gexp(Cr)],0));return mr},lr.getLengthInBits=function(dr,mr){if(1<=mr&&mr<10)switch(dr){case St.MODE_NUMBER:return 10;case St.MODE_ALPHA_NUM:return 9;case St.MODE_8BIT_BYTE:return 8;case St.MODE_KANJI:return 8;default:throw"mode:"+dr}else if(mr<27)switch(dr){case St.MODE_NUMBER:return 12;case St.MODE_ALPHA_NUM:return 11;case St.MODE_8BIT_BYTE:return 16;case St.MODE_KANJI:return 10;default:throw"mode:"+dr}else if(mr<41)switch(dr){case St.MODE_NUMBER:return 14;case St.MODE_ALPHA_NUM:return 13;case St.MODE_8BIT_BYTE:return 16;case St.MODE_KANJI:return 12;default:throw"mode:"+dr}else throw"type:"+mr},lr.getLostPoint=function(dr){for(var mr=dr.getModuleCount(),Cr=0,yr=0;yr<mr;yr+=1)for(var xr=0;xr<mr;xr+=1){for(var Sr=0,br=dr.isDark(yr,xr),cr=-1;cr<=1;cr+=1)if(!(yr+cr<0||mr<=yr+cr))for(var pr=-1;pr<=1;pr+=1)xr+pr<0||mr<=xr+pr||cr==0&&pr==0||br==dr.isDark(yr+cr,xr+pr)&&(Sr+=1);Sr>5&&(Cr+=3+Sr-5)}for(var yr=0;yr<mr-1;yr+=1)for(var xr=0;xr<mr-1;xr+=1){var Er=0;dr.isDark(yr,xr)&&(Er+=1),dr.isDark(yr+1,xr)&&(Er+=1),dr.isDark(yr,xr+1)&&(Er+=1),dr.isDark(yr+1,xr+1)&&(Er+=1),(Er==0||Er==4)&&(Cr+=3)}for(var yr=0;yr<mr;yr+=1)for(var xr=0;xr<mr-6;xr+=1)dr.isDark(yr,xr)&&!dr.isDark(yr,xr+1)&&dr.isDark(yr,xr+2)&&dr.isDark(yr,xr+3)&&dr.isDark(yr,xr+4)&&!dr.isDark(yr,xr+5)&&dr.isDark(yr,xr+6)&&(Cr+=40);for(var xr=0;xr<mr;xr+=1)for(var yr=0;yr<mr-6;yr+=1)dr.isDark(yr,xr)&&!dr.isDark(yr+1,xr)&&dr.isDark(yr+2,xr)&&dr.isDark(yr+3,xr)&&dr.isDark(yr+4,xr)&&!dr.isDark(yr+5,xr)&&dr.isDark(yr+6,xr)&&(Cr+=40);for(var _r=0,xr=0;xr<mr;xr+=1)for(var yr=0;yr<mr;yr+=1)dr.isDark(yr,xr)&&(_r+=1);var Ar=Math.abs(100*_r/mr/mr-50)/5;return Cr+=Ar*10,Cr},lr}(),Tt=function(){for(var sr=new Array(256),ar=new Array(256),ir=0;ir<8;ir+=1)sr[ir]=1<<ir;for(var ir=8;ir<256;ir+=1)sr[ir]=sr[ir-4]^sr[ir-5]^sr[ir-6]^sr[ir-8];for(var ir=0;ir<255;ir+=1)ar[sr[ir]]=ir;var rr={};return rr.glog=function(lr){if(lr<1)throw"glog("+lr+")";return ar[lr]},rr.gexp=function(lr){for(;lr<0;)lr+=255;for(;lr>=256;)lr-=255;return sr[lr]},rr}();function Rt(sr,ar){if(typeof sr.length>"u")throw sr.length+"/"+ar;var ir=function(){for(var lr=0;lr<sr.length&&sr[lr]==0;)lr+=1;for(var ur=new Array(sr.length-lr+ar),dr=0;dr<sr.length-lr;dr+=1)ur[dr]=sr[dr+lr];return ur}(),rr={};return rr.getAt=function(lr){return ir[lr]},rr.getLength=function(){return ir.length},rr.multiply=function(lr){for(var ur=new Array(rr.getLength()+lr.getLength()-1),dr=0;dr<rr.getLength();dr+=1)for(var mr=0;mr<lr.getLength();mr+=1)ur[dr+mr]^=Tt.gexp(Tt.glog(rr.getAt(dr))+Tt.glog(lr.getAt(mr)));return Rt(ur,0)},rr.mod=function(lr){if(rr.getLength()-lr.getLength()<0)return rr;for(var ur=Tt.glog(rr.getAt(0))-Tt.glog(lr.getAt(0)),dr=new Array(rr.getLength()),mr=0;mr<rr.getLength();mr+=1)dr[mr]=rr.getAt(mr);for(var mr=0;mr<lr.getLength();mr+=1)dr[mr]^=Tt.gexp(Tt.glog(lr.getAt(mr))+ur);return Rt(dr,0).mod(lr)},rr}var Bt=function(){var sr=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ar=function(lr,ur){var dr={};return dr.totalCount=lr,dr.dataCount=ur,dr},ir={},rr=function(lr,ur){switch(ur){case Et.L:return sr[(lr-1)*4+0];case Et.M:return sr[(lr-1)*4+1];case Et.Q:return sr[(lr-1)*4+2];case Et.H:return sr[(lr-1)*4+3];default:return}};return ir.getRSBlocks=function(lr,ur){var dr=rr(lr,ur);if(typeof dr>"u")throw"bad rs block @ typeNumber:"+lr+"/errorCorrectionLevel:"+ur;for(var mr=dr.length/3,Cr=[],yr=0;yr<mr;yr+=1)for(var xr=dr[yr*3+0],Sr=dr[yr*3+1],br=dr[yr*3+2],cr=0;cr<xr;cr+=1)Cr.push(ar(Sr,br));return Cr},ir}(),Dt=function(){var sr=[],ar=0,ir={};return ir.getBuffer=function(){return sr},ir.getAt=function(rr){var lr=Math.floor(rr/8);return(sr[lr]>>>7-rr%8&1)==1},ir.put=function(rr,lr){for(var ur=0;ur<lr;ur+=1)ir.putBit((rr>>>lr-ur-1&1)==1)},ir.getLengthInBits=function(){return ar},ir.putBit=function(rr){var lr=Math.floor(ar/8);sr.length<=lr&&sr.push(0),rr&&(sr[lr]|=128>>>ar%8),ar+=1},ir},Ft=function(sr){var ar=St.MODE_NUMBER,ir=sr,rr={};rr.getMode=function(){return ar},rr.getLength=function(dr){return ir.length},rr.write=function(dr){for(var mr=ir,Cr=0;Cr+2<mr.length;)dr.put(lr(mr.substring(Cr,Cr+3)),10),Cr+=3;Cr<mr.length&&(mr.length-Cr==1?dr.put(lr(mr.substring(Cr,Cr+1)),4):mr.length-Cr==2&&dr.put(lr(mr.substring(Cr,Cr+2)),7))};var lr=function(dr){for(var mr=0,Cr=0;Cr<dr.length;Cr+=1)mr=mr*10+ur(dr.charAt(Cr));return mr},ur=function(dr){if("0"<=dr&&dr<="9")return dr.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+dr};return rr},kt=function(sr){var ar=St.MODE_ALPHA_NUM,ir=sr,rr={};rr.getMode=function(){return ar},rr.getLength=function(ur){return ir.length},rr.write=function(ur){for(var dr=ir,mr=0;mr+1<dr.length;)ur.put(lr(dr.charAt(mr))*45+lr(dr.charAt(mr+1)),11),mr+=2;mr<dr.length&&ur.put(lr(dr.charAt(mr)),6)};var lr=function(ur){if("0"<=ur&&ur<="9")return ur.charCodeAt(0)-"0".charCodeAt(0);if("A"<=ur&&ur<="Z")return ur.charCodeAt(0)-"A".charCodeAt(0)+10;switch(ur){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+ur}};return rr},Ut=function(sr){var ar=St.MODE_8BIT_BYTE,ir=vt.stringToBytes(sr),rr={};return rr.getMode=function(){return ar},rr.getLength=function(lr){return ir.length},rr.write=function(lr){for(var ur=0;ur<ir.length;ur+=1)lr.put(ir[ur],8)},rr},Kt=function(sr){var ar=St.MODE_KANJI,ir=vt.stringToBytesFuncs.SJIS;if(!ir)throw"sjis not supported.";(function(ur,dr){var mr=ir(ur);if(mr.length!=2||(mr[0]<<8|mr[1])!=dr)throw"sjis not supported."})("友",38726);var rr=ir(sr),lr={};return lr.getMode=function(){return ar},lr.getLength=function(ur){return~~(rr.length/2)},lr.write=function(ur){for(var dr=rr,mr=0;mr+1<dr.length;){var Cr=(255&dr[mr])<<8|255&dr[mr+1];if(33088<=Cr&&Cr<=40956)Cr-=33088;else if(57408<=Cr&&Cr<=60351)Cr-=49472;else throw"illegal char at "+(mr+1)+"/"+Cr;Cr=(Cr>>>8&255)*192+(Cr&255),ur.put(Cr,13),mr+=2}if(mr<dr.length)throw"illegal char at "+(mr+1)},lr},tr=function(){var sr=[],ar={};return ar.writeByte=function(ir){sr.push(ir&255)},ar.writeShort=function(ir){ar.writeByte(ir),ar.writeByte(ir>>>8)},ar.writeBytes=function(ir,rr,lr){rr=rr||0,lr=lr||ir.length;for(var ur=0;ur<lr;ur+=1)ar.writeByte(ir[ur+rr])},ar.writeString=function(ir){for(var rr=0;rr<ir.length;rr+=1)ar.writeByte(ir.charCodeAt(rr))},ar.toByteArray=function(){return sr},ar.toString=function(){var ir="";ir+="[";for(var rr=0;rr<sr.length;rr+=1)rr>0&&(ir+=","),ir+=sr[rr];return ir+="]",ir},ar},Wt=function(){var sr=0,ar=0,ir=0,rr="",lr={},ur=function(mr){rr+=String.fromCharCode(dr(mr&63))},dr=function(mr){if(!(mr<0)){if(mr<26)return 65+mr;if(mr<52)return 97+(mr-26);if(mr<62)return 48+(mr-52);if(mr==62)return 43;if(mr==63)return 47}throw"n:"+mr};return lr.writeByte=function(mr){for(sr=sr<<8|mr&255,ar+=8,ir+=1;ar>=6;)ur(sr>>>ar-6),ar-=6},lr.flush=function(){if(ar>0&&(ur(sr<<6-ar),sr=0,ar=0),ir%3!=0)for(var mr=3-ir%3,Cr=0;Cr<mr;Cr+=1)rr+="="},lr.toString=function(){return rr},lr},Zt=function(sr){var ar=sr,ir=0,rr=0,lr=0,ur={};ur.read=function(){for(;lr<8;){if(ir>=ar.length){if(lr==0)return-1;throw"unexpected end of file./"+lr}var mr=ar.charAt(ir);if(ir+=1,mr=="=")return lr=0,-1;if(mr.match(/^\s$/))continue;rr=rr<<6|dr(mr.charCodeAt(0)),lr+=6}var Cr=rr>>>lr-8&255;return lr-=8,Cr};var dr=function(mr){if(65<=mr&&mr<=90)return mr-65;if(97<=mr&&mr<=122)return mr-97+26;if(48<=mr&&mr<=57)return mr-48+52;if(mr==43)return 62;if(mr==47)return 63;throw"c:"+mr};return ur},Ht=function(sr,ar){var ir=sr,rr=ar,lr=new Array(sr*ar),ur={};ur.setPixel=function(yr,xr,Sr){lr[xr*ir+yr]=Sr},ur.write=function(yr){yr.writeString("GIF87a"),yr.writeShort(ir),yr.writeShort(rr),yr.writeByte(128),yr.writeByte(0),yr.writeByte(0),yr.writeByte(0),yr.writeByte(0),yr.writeByte(0),yr.writeByte(255),yr.writeByte(255),yr.writeByte(255),yr.writeString(","),yr.writeShort(0),yr.writeShort(0),yr.writeShort(ir),yr.writeShort(rr),yr.writeByte(0);var xr=2,Sr=mr(xr);yr.writeByte(xr);for(var br=0;Sr.length-br>255;)yr.writeByte(255),yr.writeBytes(Sr,br,255),br+=255;yr.writeByte(Sr.length-br),yr.writeBytes(Sr,br,Sr.length-br),yr.writeByte(0),yr.writeString(";")};var dr=function(yr){var xr=yr,Sr=0,br=0,cr={};return cr.write=function(pr,Er){if(pr>>>Er)throw"length over";for(;Sr+Er>=8;)xr.writeByte(255&(pr<<Sr|br)),Er-=8-Sr,pr>>>=8-Sr,br=0,Sr=0;br=pr<<Sr|br,Sr=Sr+Er},cr.flush=function(){Sr>0&&xr.writeByte(br)},cr},mr=function(yr){for(var xr=1<<yr,Sr=(1<<yr)+1,br=yr+1,cr=Cr(),pr=0;pr<xr;pr+=1)cr.add(String.fromCharCode(pr));cr.add(String.fromCharCode(xr)),cr.add(String.fromCharCode(Sr));var Er=tr(),_r=dr(Er);_r.write(xr,br);var Ar=0,Pr=String.fromCharCode(lr[Ar]);for(Ar+=1;Ar<lr.length;){var Ir=String.fromCharCode(lr[Ar]);Ar+=1,cr.contains(Pr+Ir)?Pr=Pr+Ir:(_r.write(cr.indexOf(Pr),br),cr.size()<4095&&(cr.size()==1<<br&&(br+=1),cr.add(Pr+Ir)),Pr=Ir)}return _r.write(cr.indexOf(Pr),br),_r.write(Sr,br),_r.flush(),Er.toByteArray()},Cr=function(){var yr={},xr=0,Sr={};return Sr.add=function(br){if(Sr.contains(br))throw"dup key:"+br;yr[br]=xr,xr+=1},Sr.size=function(){return xr},Sr.indexOf=function(br){return yr[br]},Sr.contains=function(br){return typeof yr[br]<"u"},Sr};return ur},nr=function(sr,ar,ir){for(var rr=Ht(sr,ar),lr=0;lr<ar;lr+=1)for(var ur=0;ur<sr;ur+=1)rr.setPixel(ur,lr,ir(ur,lr));var dr=tr();rr.write(dr);for(var mr=Wt(),Cr=dr.toByteArray(),yr=0;yr<Cr.length;yr+=1)mr.writeByte(Cr[yr]);return mr.flush(),"data:image/gif;base64,"+mr};return vt}();(function(){dt.stringToBytesFuncs["UTF-8"]=function(vt){function St(Et){for(var At=[],Ct=0;Ct<Et.length;Ct++){var Tt=Et.charCodeAt(Ct);Tt<128?At.push(Tt):Tt<2048?At.push(192|Tt>>6,128|Tt&63):Tt<55296||Tt>=57344?At.push(224|Tt>>12,128|Tt>>6&63,128|Tt&63):(Ct++,Tt=65536+((Tt&1023)<<10|Et.charCodeAt(Ct)&1023),At.push(240|Tt>>18,128|Tt>>12&63,128|Tt>>6&63,128|Tt&63))}return At}return St(vt)}})(),function(vt){ft.exports=vt()}(function(){return dt})})(qrcode);var qrcodeExports=qrcode.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var ft=function(lt,dt){return ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,St){vt.__proto__=St}||function(vt,St){for(var Et in St)St.hasOwnProperty(Et)&&(vt[Et]=St[Et])},ft(lt,dt)};return function(lt,dt){ft(lt,dt);function vt(){this.constructor=lt}lt.prototype=dt===null?Object.create(dt):(vt.prototype=dt.prototype,new vt)}}();Object.defineProperty(dist$1,"__esModule",{value:!0});dist$1.QRCode=void 0;var isEqual$1=lodash_isequalExports,qrGenerator=qrcodeExports,React=reactExports,ReactDOM=reactDomExports,QRCode=function(ft){__extends(lt,ft);function lt(dt){var vt=ft.call(this,dt)||this;return vt.canvas=React.createRef(),vt}return lt.utf16to8=function(dt){var vt="",St,Et,At=dt.length;for(St=0;St<At;St++)Et=dt.charCodeAt(St),Et>=1&&Et<=127?vt+=dt.charAt(St):Et>2047?(vt+=String.fromCharCode(224|Et>>12&15),vt+=String.fromCharCode(128|Et>>6&63),vt+=String.fromCharCode(128|Et>>0&63)):(vt+=String.fromCharCode(192|Et>>6&31),vt+=String.fromCharCode(128|Et>>0&63));return vt},lt.prototype.drawRoundedSquare=function(dt,vt,St,Et,At,Ct,Tt,Rt){Rt.lineWidth=dt,Rt.fillStyle=At,Rt.strokeStyle=At,St+=dt/2,vt+=dt/2,Et-=dt,Array.isArray(Ct)||(Ct=[Ct,Ct,Ct,Ct]),Ct=Ct.map(function(Ut){return Ut=Math.min(Ut,Et/2),Ut<0?0:Ut});var Bt=Ct[0]||0,Dt=Ct[1]||0,Ft=Ct[2]||0,kt=Ct[3]||0;Rt.beginPath(),Rt.moveTo(vt+Bt,St),Rt.lineTo(vt+Et-Dt,St),Dt&&Rt.quadraticCurveTo(vt+Et,St,vt+Et,St+Dt),Rt.lineTo(vt+Et,St+Et-Ft),Ft&&Rt.quadraticCurveTo(vt+Et,St+Et,vt+Et-Ft,St+Et),Rt.lineTo(vt+kt,St+Et),kt&&Rt.quadraticCurveTo(vt,St+Et,vt,St+Et-kt),Rt.lineTo(vt,St+Bt),Bt&&Rt.quadraticCurveTo(vt,St,vt+Bt,St),Rt.closePath(),Rt.stroke(),Tt&&Rt.fill()},lt.prototype.drawPositioningPattern=function(dt,vt,St,Et,At,Ct,Tt){Tt===void 0&&(Tt=[0,0,0,0]);var Rt=Math.ceil(vt),Bt,Dt;typeof Tt!="number"&&!Array.isArray(Tt)?(Bt=Tt.outer||0,Dt=Tt.inner||0):(Bt=Tt,Dt=Bt);var Ft,kt;typeof Ct!="string"?(Ft=Ct.outer,kt=Ct.inner):(Ft=Ct,kt=Ct);var Ut=Et*vt+St,Kt=At*vt+St,tr=vt*7;this.drawRoundedSquare(Rt,Kt,Ut,tr,Ft,Bt,!1,dt),tr=vt*3,Ut+=vt*2,Kt+=vt*2,this.drawRoundedSquare(Rt,Kt,Ut,tr,kt,Dt,!0,dt)},lt.prototype.isInPositioninZone=function(dt,vt,St){return St.some(function(Et){return vt>=Et.row&&vt<=Et.row+7&&dt>=Et.col&&dt<=Et.col+7})},lt.prototype.transformPixelLengthIntoNumberOfCells=function(dt,vt){return dt/vt},lt.prototype.isCoordinateInImage=function(dt,vt,St,Et,At,Ct,Tt,Rt){if(Rt){var Bt=2,Dt=this.transformPixelLengthIntoNumberOfCells(At,Tt),Ft=this.transformPixelLengthIntoNumberOfCells(Ct,Tt),kt=this.transformPixelLengthIntoNumberOfCells(St,Tt)-1,Ut=this.transformPixelLengthIntoNumberOfCells(Et,Tt)-1;return vt>=Dt-Bt&&vt<=Dt+kt+Bt&&dt>=Ft-Bt&&dt<=Ft+Ut+Bt}else return!1},lt.prototype.shouldComponentUpdate=function(dt){return!isEqual$1(this.props,dt)},lt.prototype.componentDidMount=function(){this.update()},lt.prototype.componentDidUpdate=function(){this.update()},lt.prototype.update=function(){var dt=this.props,vt=dt.value,St=dt.ecLevel,Et=dt.enableCORS,At=dt.bgColor,Ct=dt.fgColor,Tt=dt.logoImage,Rt=dt.logoOpacity,Bt=dt.logoOnLoad,Dt=dt.removeQrCodeBehindLogo,Ft=dt.qrStyle,kt=dt.eyeRadius,Ut=dt.eyeColor,Kt=dt.logoPaddingStyle,tr=+this.props.size,Wt=+this.props.quietZone,Zt=this.props.logoWidth?+this.props.logoWidth:0,Ht=this.props.logoHeight?+this.props.logoHeight:0,nr=this.props.logoPadding?+this.props.logoPadding:0,sr=qrGenerator(0,St);sr.addData(lt.utf16to8(vt)),sr.make();var ar=ReactDOM.findDOMNode(this.canvas.current),ir=ar.getContext("2d"),rr=tr+2*Wt,lr=sr.getModuleCount(),ur=tr/lr,dr=window.devicePixelRatio||1;ar.height=ar.width=rr*dr,ir.scale(dr,dr),ir.fillStyle=At,ir.fillRect(0,0,rr,rr);var mr=Wt,Cr=[{row:0,col:0},{row:0,col:lr-7},{row:lr-7,col:0}];if(ir.strokeStyle=Ct,Ft==="dots"){ir.fillStyle=Ct;for(var yr=ur/2,xr=0;xr<lr;xr++)for(var Sr=0;Sr<lr;Sr++)sr.isDark(xr,Sr)&&!this.isInPositioninZone(xr,Sr,Cr)&&(ir.beginPath(),ir.arc(Math.round(Sr*ur)+yr+mr,Math.round(xr*ur)+yr+mr,yr/100*75,0,2*Math.PI,!1),ir.closePath(),ir.fill())}else for(var xr=0;xr<lr;xr++)for(var Sr=0;Sr<lr;Sr++)if(sr.isDark(xr,Sr)&&!this.isInPositioninZone(xr,Sr,Cr)){ir.fillStyle=Ct;var br=Math.ceil((Sr+1)*ur)-Math.floor(Sr*ur),cr=Math.ceil((xr+1)*ur)-Math.floor(xr*ur);ir.fillRect(Math.round(Sr*ur)+mr,Math.round(xr*ur)+mr,br,cr)}for(var pr=0;pr<3;pr++){var Er=Cr[pr],xr=Er.row,Sr=Er.col,_r=kt,Ar=void 0;Array.isArray(_r)&&(_r=_r[pr]),typeof _r=="number"&&(_r=[_r,_r,_r,_r]),Ut?Array.isArray(Ut)?Ar=Ut[pr]:Ar=Ut:Ar=Ct,this.drawPositioningPattern(ir,ur,mr,xr,Sr,Ar,_r)}if(Tt){var Pr=new Image;Et&&(Pr.crossOrigin="Anonymous"),Pr.onload=function(){ir.save();var Ir=Zt||tr*.2,kr=Ht||Ir,Dr=(tr-Ir)/2,Jr=(tr-kr)/2;if(Dt||nr){ir.beginPath(),ir.strokeStyle=At,ir.fillStyle=At;var Or=Ir+2*nr,jr=kr+2*nr,Nr=Dr+mr-nr,Vr=Jr+mr-nr;if(Kt==="circle"){var Br=Nr+Or/2,zr=Vr+jr/2;ir.ellipse(Br,zr,Or/2,jr/2,0,0,2*Math.PI),ir.stroke(),ir.fill()}else ir.fillRect(Nr,Vr,Or,jr)}ir.globalAlpha=Rt,ir.drawImage(Pr,Dr+mr,Jr+mr,Ir,kr),ir.restore(),Bt&&Bt()},Pr.src=Tt}},lt.prototype.render=function(){var dt,vt=+this.props.size+2*+this.props.quietZone;return React.createElement("canvas",{id:(dt=this.props.id)!==null&&dt!==void 0?dt:"react-qrcode-logo",height:vt,width:vt,style:{height:vt+"px",width:vt+"px"},ref:this.canvas})},lt.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},lt}(React.Component);dist$1.QRCode=QRCode;var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(ft,lt,dt)=>lt in ft?__defProp(ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:dt}):ft[lt]=dt,__spreadValues=(ft,lt)=>{for(var dt in lt||(lt={}))__hasOwnProp.call(lt,dt)&&__defNormalProp(ft,dt,lt[dt]);if(__getOwnPropSymbols)for(var dt of __getOwnPropSymbols(lt))__propIsEnum.call(lt,dt)&&__defNormalProp(ft,dt,lt[dt]);return ft},__objRest=(ft,lt)=>{var dt={};for(var vt in ft)__hasOwnProp.call(ft,vt)&&lt.indexOf(vt)<0&&(dt[vt]=ft[vt]);if(ft!=null&&__getOwnPropSymbols)for(var vt of __getOwnPropSymbols(ft))lt.indexOf(vt)<0&&__propIsEnum.call(ft,vt)&&(dt[vt]=ft[vt]);return dt};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qrcodegen;(ft=>{const lt=class{constructor(Tt,Rt,Bt,Dt){if(this.version=Tt,this.errorCorrectionLevel=Rt,this.modules=[],this.isFunction=[],Tt<lt.MIN_VERSION||Tt>lt.MAX_VERSION)throw new RangeError("Version value out of range");if(Dt<-1||Dt>7)throw new RangeError("Mask value out of range");this.size=Tt*4+17;let Ft=[];for(let Ut=0;Ut<this.size;Ut++)Ft.push(!1);for(let Ut=0;Ut<this.size;Ut++)this.modules.push(Ft.slice()),this.isFunction.push(Ft.slice());this.drawFunctionPatterns();const kt=this.addEccAndInterleave(Bt);if(this.drawCodewords(kt),Dt==-1){let Ut=1e9;for(let Kt=0;Kt<8;Kt++){this.applyMask(Kt),this.drawFormatBits(Kt);const tr=this.getPenaltyScore();tr<Ut&&(Dt=Kt,Ut=tr),this.applyMask(Kt)}}Et(0<=Dt&&Dt<=7),this.mask=Dt,this.applyMask(Dt),this.drawFormatBits(Dt),this.isFunction=[]}static encodeText(Tt,Rt){const Bt=ft.QrSegment.makeSegments(Tt);return lt.encodeSegments(Bt,Rt)}static encodeBinary(Tt,Rt){const Bt=ft.QrSegment.makeBytes(Tt);return lt.encodeSegments([Bt],Rt)}static encodeSegments(Tt,Rt,Bt=1,Dt=40,Ft=-1,kt=!0){if(!(lt.MIN_VERSION<=Bt&&Bt<=Dt&&Dt<=lt.MAX_VERSION)||Ft<-1||Ft>7)throw new RangeError("Invalid value");let Ut,Kt;for(Ut=Bt;;Ut++){const Ht=lt.getNumDataCodewords(Ut,Rt)*8,nr=Ct.getTotalBits(Tt,Ut);if(nr<=Ht){Kt=nr;break}if(Ut>=Dt)throw new RangeError("Data too long")}for(const Ht of[lt.Ecc.MEDIUM,lt.Ecc.QUARTILE,lt.Ecc.HIGH])kt&&Kt<=lt.getNumDataCodewords(Ut,Ht)*8&&(Rt=Ht);let tr=[];for(const Ht of Tt){vt(Ht.mode.modeBits,4,tr),vt(Ht.numChars,Ht.mode.numCharCountBits(Ut),tr);for(const nr of Ht.getData())tr.push(nr)}Et(tr.length==Kt);const Wt=lt.getNumDataCodewords(Ut,Rt)*8;Et(tr.length<=Wt),vt(0,Math.min(4,Wt-tr.length),tr),vt(0,(8-tr.length%8)%8,tr),Et(tr.length%8==0);for(let Ht=236;tr.length<Wt;Ht^=253)vt(Ht,8,tr);let Zt=[];for(;Zt.length*8<tr.length;)Zt.push(0);return tr.forEach((Ht,nr)=>Zt[nr>>>3]|=Ht<<7-(nr&7)),new lt(Ut,Rt,Zt,Ft)}getModule(Tt,Rt){return 0<=Tt&&Tt<this.size&&0<=Rt&&Rt<this.size&&this.modules[Rt][Tt]}getModules(){return this.modules}drawFunctionPatterns(){for(let Bt=0;Bt<this.size;Bt++)this.setFunctionModule(6,Bt,Bt%2==0),this.setFunctionModule(Bt,6,Bt%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const Tt=this.getAlignmentPatternPositions(),Rt=Tt.length;for(let Bt=0;Bt<Rt;Bt++)for(let Dt=0;Dt<Rt;Dt++)Bt==0&&Dt==0||Bt==0&&Dt==Rt-1||Bt==Rt-1&&Dt==0||this.drawAlignmentPattern(Tt[Bt],Tt[Dt]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(Tt){const Rt=this.errorCorrectionLevel.formatBits<<3|Tt;let Bt=Rt;for(let Ft=0;Ft<10;Ft++)Bt=Bt<<1^(Bt>>>9)*1335;const Dt=(Rt<<10|Bt)^21522;Et(Dt>>>15==0);for(let Ft=0;Ft<=5;Ft++)this.setFunctionModule(8,Ft,St(Dt,Ft));this.setFunctionModule(8,7,St(Dt,6)),this.setFunctionModule(8,8,St(Dt,7)),this.setFunctionModule(7,8,St(Dt,8));for(let Ft=9;Ft<15;Ft++)this.setFunctionModule(14-Ft,8,St(Dt,Ft));for(let Ft=0;Ft<8;Ft++)this.setFunctionModule(this.size-1-Ft,8,St(Dt,Ft));for(let Ft=8;Ft<15;Ft++)this.setFunctionModule(8,this.size-15+Ft,St(Dt,Ft));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let Tt=this.version;for(let Bt=0;Bt<12;Bt++)Tt=Tt<<1^(Tt>>>11)*7973;const Rt=this.version<<12|Tt;Et(Rt>>>18==0);for(let Bt=0;Bt<18;Bt++){const Dt=St(Rt,Bt),Ft=this.size-11+Bt%3,kt=Math.floor(Bt/3);this.setFunctionModule(Ft,kt,Dt),this.setFunctionModule(kt,Ft,Dt)}}drawFinderPattern(Tt,Rt){for(let Bt=-4;Bt<=4;Bt++)for(let Dt=-4;Dt<=4;Dt++){const Ft=Math.max(Math.abs(Dt),Math.abs(Bt)),kt=Tt+Dt,Ut=Rt+Bt;0<=kt&&kt<this.size&&0<=Ut&&Ut<this.size&&this.setFunctionModule(kt,Ut,Ft!=2&&Ft!=4)}}drawAlignmentPattern(Tt,Rt){for(let Bt=-2;Bt<=2;Bt++)for(let Dt=-2;Dt<=2;Dt++)this.setFunctionModule(Tt+Dt,Rt+Bt,Math.max(Math.abs(Dt),Math.abs(Bt))!=1)}setFunctionModule(Tt,Rt,Bt){this.modules[Rt][Tt]=Bt,this.isFunction[Rt][Tt]=!0}addEccAndInterleave(Tt){const Rt=this.version,Bt=this.errorCorrectionLevel;if(Tt.length!=lt.getNumDataCodewords(Rt,Bt))throw new RangeError("Invalid argument");const Dt=lt.NUM_ERROR_CORRECTION_BLOCKS[Bt.ordinal][Rt],Ft=lt.ECC_CODEWORDS_PER_BLOCK[Bt.ordinal][Rt],kt=Math.floor(lt.getNumRawDataModules(Rt)/8),Ut=Dt-kt%Dt,Kt=Math.floor(kt/Dt);let tr=[];const Wt=lt.reedSolomonComputeDivisor(Ft);for(let Ht=0,nr=0;Ht<Dt;Ht++){let sr=Tt.slice(nr,nr+Kt-Ft+(Ht<Ut?0:1));nr+=sr.length;const ar=lt.reedSolomonComputeRemainder(sr,Wt);Ht<Ut&&sr.push(0),tr.push(sr.concat(ar))}let Zt=[];for(let Ht=0;Ht<tr[0].length;Ht++)tr.forEach((nr,sr)=>{(Ht!=Kt-Ft||sr>=Ut)&&Zt.push(nr[Ht])});return Et(Zt.length==kt),Zt}drawCodewords(Tt){if(Tt.length!=Math.floor(lt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let Rt=0;for(let Bt=this.size-1;Bt>=1;Bt-=2){Bt==6&&(Bt=5);for(let Dt=0;Dt<this.size;Dt++)for(let Ft=0;Ft<2;Ft++){const kt=Bt-Ft,Kt=(Bt+1&2)==0?this.size-1-Dt:Dt;!this.isFunction[Kt][kt]&&Rt<Tt.length*8&&(this.modules[Kt][kt]=St(Tt[Rt>>>3],7-(Rt&7)),Rt++)}}Et(Rt==Tt.length*8)}applyMask(Tt){if(Tt<0||Tt>7)throw new RangeError("Mask value out of range");for(let Rt=0;Rt<this.size;Rt++)for(let Bt=0;Bt<this.size;Bt++){let Dt;switch(Tt){case 0:Dt=(Bt+Rt)%2==0;break;case 1:Dt=Rt%2==0;break;case 2:Dt=Bt%3==0;break;case 3:Dt=(Bt+Rt)%3==0;break;case 4:Dt=(Math.floor(Bt/3)+Math.floor(Rt/2))%2==0;break;case 5:Dt=Bt*Rt%2+Bt*Rt%3==0;break;case 6:Dt=(Bt*Rt%2+Bt*Rt%3)%2==0;break;case 7:Dt=((Bt+Rt)%2+Bt*Rt%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[Rt][Bt]&&Dt&&(this.modules[Rt][Bt]=!this.modules[Rt][Bt])}}getPenaltyScore(){let Tt=0;for(let Ft=0;Ft<this.size;Ft++){let kt=!1,Ut=0,Kt=[0,0,0,0,0,0,0];for(let tr=0;tr<this.size;tr++)this.modules[Ft][tr]==kt?(Ut++,Ut==5?Tt+=lt.PENALTY_N1:Ut>5&&Tt++):(this.finderPenaltyAddHistory(Ut,Kt),kt||(Tt+=this.finderPenaltyCountPatterns(Kt)*lt.PENALTY_N3),kt=this.modules[Ft][tr],Ut=1);Tt+=this.finderPenaltyTerminateAndCount(kt,Ut,Kt)*lt.PENALTY_N3}for(let Ft=0;Ft<this.size;Ft++){let kt=!1,Ut=0,Kt=[0,0,0,0,0,0,0];for(let tr=0;tr<this.size;tr++)this.modules[tr][Ft]==kt?(Ut++,Ut==5?Tt+=lt.PENALTY_N1:Ut>5&&Tt++):(this.finderPenaltyAddHistory(Ut,Kt),kt||(Tt+=this.finderPenaltyCountPatterns(Kt)*lt.PENALTY_N3),kt=this.modules[tr][Ft],Ut=1);Tt+=this.finderPenaltyTerminateAndCount(kt,Ut,Kt)*lt.PENALTY_N3}for(let Ft=0;Ft<this.size-1;Ft++)for(let kt=0;kt<this.size-1;kt++){const Ut=this.modules[Ft][kt];Ut==this.modules[Ft][kt+1]&&Ut==this.modules[Ft+1][kt]&&Ut==this.modules[Ft+1][kt+1]&&(Tt+=lt.PENALTY_N2)}let Rt=0;for(const Ft of this.modules)Rt=Ft.reduce((kt,Ut)=>kt+(Ut?1:0),Rt);const Bt=this.size*this.size,Dt=Math.ceil(Math.abs(Rt*20-Bt*10)/Bt)-1;return Et(0<=Dt&&Dt<=9),Tt+=Dt*lt.PENALTY_N4,Et(0<=Tt&&Tt<=2568888),Tt}getAlignmentPatternPositions(){if(this.version==1)return[];{const Tt=Math.floor(this.version/7)+2,Rt=this.version==32?26:Math.ceil((this.version*4+4)/(Tt*2-2))*2;let Bt=[6];for(let Dt=this.size-7;Bt.length<Tt;Dt-=Rt)Bt.splice(1,0,Dt);return Bt}}static getNumRawDataModules(Tt){if(Tt<lt.MIN_VERSION||Tt>lt.MAX_VERSION)throw new RangeError("Version number out of range");let Rt=(16*Tt+128)*Tt+64;if(Tt>=2){const Bt=Math.floor(Tt/7)+2;Rt-=(25*Bt-10)*Bt-55,Tt>=7&&(Rt-=36)}return Et(208<=Rt&&Rt<=29648),Rt}static getNumDataCodewords(Tt,Rt){return Math.floor(lt.getNumRawDataModules(Tt)/8)-lt.ECC_CODEWORDS_PER_BLOCK[Rt.ordinal][Tt]*lt.NUM_ERROR_CORRECTION_BLOCKS[Rt.ordinal][Tt]}static reedSolomonComputeDivisor(Tt){if(Tt<1||Tt>255)throw new RangeError("Degree out of range");let Rt=[];for(let Dt=0;Dt<Tt-1;Dt++)Rt.push(0);Rt.push(1);let Bt=1;for(let Dt=0;Dt<Tt;Dt++){for(let Ft=0;Ft<Rt.length;Ft++)Rt[Ft]=lt.reedSolomonMultiply(Rt[Ft],Bt),Ft+1<Rt.length&&(Rt[Ft]^=Rt[Ft+1]);Bt=lt.reedSolomonMultiply(Bt,2)}return Rt}static reedSolomonComputeRemainder(Tt,Rt){let Bt=Rt.map(Dt=>0);for(const Dt of Tt){const Ft=Dt^Bt.shift();Bt.push(0),Rt.forEach((kt,Ut)=>Bt[Ut]^=lt.reedSolomonMultiply(kt,Ft))}return Bt}static reedSolomonMultiply(Tt,Rt){if(Tt>>>8||Rt>>>8)throw new RangeError("Byte out of range");let Bt=0;for(let Dt=7;Dt>=0;Dt--)Bt=Bt<<1^(Bt>>>7)*285,Bt^=(Rt>>>Dt&1)*Tt;return Et(Bt>>>8==0),Bt}finderPenaltyCountPatterns(Tt){const Rt=Tt[1];Et(Rt<=this.size*3);const Bt=Rt>0&&Tt[2]==Rt&&Tt[3]==Rt*3&&Tt[4]==Rt&&Tt[5]==Rt;return(Bt&&Tt[0]>=Rt*4&&Tt[6]>=Rt?1:0)+(Bt&&Tt[6]>=Rt*4&&Tt[0]>=Rt?1:0)}finderPenaltyTerminateAndCount(Tt,Rt,Bt){return Tt&&(this.finderPenaltyAddHistory(Rt,Bt),Rt=0),Rt+=this.size,this.finderPenaltyAddHistory(Rt,Bt),this.finderPenaltyCountPatterns(Bt)}finderPenaltyAddHistory(Tt,Rt){Rt[0]==0&&(Tt+=this.size),Rt.pop(),Rt.unshift(Tt)}};let dt=lt;dt.MIN_VERSION=1,dt.MAX_VERSION=40,dt.PENALTY_N1=3,dt.PENALTY_N2=3,dt.PENALTY_N3=40,dt.PENALTY_N4=10,dt.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],dt.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],ft.QrCode=dt;function vt(Tt,Rt,Bt){if(Rt<0||Rt>31||Tt>>>Rt)throw new RangeError("Value out of range");for(let Dt=Rt-1;Dt>=0;Dt--)Bt.push(Tt>>>Dt&1)}function St(Tt,Rt){return(Tt>>>Rt&1)!=0}function Et(Tt){if(!Tt)throw new Error("Assertion error")}const At=class{constructor(Tt,Rt,Bt){if(this.mode=Tt,this.numChars=Rt,this.bitData=Bt,Rt<0)throw new RangeError("Invalid argument");this.bitData=Bt.slice()}static makeBytes(Tt){let Rt=[];for(const Bt of Tt)vt(Bt,8,Rt);return new At(At.Mode.BYTE,Tt.length,Rt)}static makeNumeric(Tt){if(!At.isNumeric(Tt))throw new RangeError("String contains non-numeric characters");let Rt=[];for(let Bt=0;Bt<Tt.length;){const Dt=Math.min(Tt.length-Bt,3);vt(parseInt(Tt.substr(Bt,Dt),10),Dt*3+1,Rt),Bt+=Dt}return new At(At.Mode.NUMERIC,Tt.length,Rt)}static makeAlphanumeric(Tt){if(!At.isAlphanumeric(Tt))throw new RangeError("String contains unencodable characters in alphanumeric mode");let Rt=[],Bt;for(Bt=0;Bt+2<=Tt.length;Bt+=2){let Dt=At.ALPHANUMERIC_CHARSET.indexOf(Tt.charAt(Bt))*45;Dt+=At.ALPHANUMERIC_CHARSET.indexOf(Tt.charAt(Bt+1)),vt(Dt,11,Rt)}return Bt<Tt.length&&vt(At.ALPHANUMERIC_CHARSET.indexOf(Tt.charAt(Bt)),6,Rt),new At(At.Mode.ALPHANUMERIC,Tt.length,Rt)}static makeSegments(Tt){return Tt==""?[]:At.isNumeric(Tt)?[At.makeNumeric(Tt)]:At.isAlphanumeric(Tt)?[At.makeAlphanumeric(Tt)]:[At.makeBytes(At.toUtf8ByteArray(Tt))]}static makeEci(Tt){let Rt=[];if(Tt<0)throw new RangeError("ECI assignment value out of range");if(Tt<128)vt(Tt,8,Rt);else if(Tt<16384)vt(2,2,Rt),vt(Tt,14,Rt);else if(Tt<1e6)vt(6,3,Rt),vt(Tt,21,Rt);else throw new RangeError("ECI assignment value out of range");return new At(At.Mode.ECI,0,Rt)}static isNumeric(Tt){return At.NUMERIC_REGEX.test(Tt)}static isAlphanumeric(Tt){return At.ALPHANUMERIC_REGEX.test(Tt)}getData(){return this.bitData.slice()}static getTotalBits(Tt,Rt){let Bt=0;for(const Dt of Tt){const Ft=Dt.mode.numCharCountBits(Rt);if(Dt.numChars>=1<<Ft)return 1/0;Bt+=4+Ft+Dt.bitData.length}return Bt}static toUtf8ByteArray(Tt){Tt=encodeURI(Tt);let Rt=[];for(let Bt=0;Bt<Tt.length;Bt++)Tt.charAt(Bt)!="%"?Rt.push(Tt.charCodeAt(Bt)):(Rt.push(parseInt(Tt.substr(Bt+1,2),16)),Bt+=2);return Rt}};let Ct=At;Ct.NUMERIC_REGEX=/^[0-9]*$/,Ct.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,Ct.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ft.QrSegment=Ct})(qrcodegen||(qrcodegen={}));(ft=>{(lt=>{const dt=class{constructor(St,Et){this.ordinal=St,this.formatBits=Et}};let vt=dt;vt.LOW=new dt(0,1),vt.MEDIUM=new dt(1,0),vt.QUARTILE=new dt(2,3),vt.HIGH=new dt(3,2),lt.Ecc=vt})(ft.QrCode||(ft.QrCode={}))})(qrcodegen||(qrcodegen={}));(ft=>{(lt=>{const dt=class{constructor(St,Et){this.modeBits=St,this.numBitsCharCount=Et}numCharCountBits(St){return this.numBitsCharCount[Math.floor((St+7)/17)]}};let vt=dt;vt.NUMERIC=new dt(1,[10,12,14]),vt.ALPHANUMERIC=new dt(2,[9,11,13]),vt.BYTE=new dt(4,[8,16,16]),vt.KANJI=new dt(8,[8,10,12]),vt.ECI=new dt(7,[0,0,0]),lt.Mode=vt})(ft.QrSegment||(ft.QrSegment={}))})(qrcodegen||(qrcodegen={}));var qrcodegen_default=qrcodegen;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ERROR_LEVEL_MAP={L:qrcodegen_default.QrCode.Ecc.LOW,M:qrcodegen_default.QrCode.Ecc.MEDIUM,Q:qrcodegen_default.QrCode.Ecc.QUARTILE,H:qrcodegen_default.QrCode.Ecc.HIGH},DEFAULT_SIZE=128,DEFAULT_LEVEL="L",DEFAULT_BGCOLOR="#FFFFFF",DEFAULT_FGCOLOR="#000000",DEFAULT_INCLUDEMARGIN=!1,MARGIN_SIZE=4,DEFAULT_IMG_SCALE=.1;function generatePath(ft,lt=0){const dt=[];return ft.forEach(function(vt,St){let Et=null;vt.forEach(function(At,Ct){if(!At&&Et!==null){dt.push(`M${Et+lt} ${St+lt}h${Ct-Et}v1H${Et+lt}z`),Et=null;return}if(Ct===vt.length-1){if(!At)return;Et===null?dt.push(`M${Ct+lt},${St+lt} h1v1H${Ct+lt}z`):dt.push(`M${Et+lt},${St+lt} h${Ct+1-Et}v1H${Et+lt}z`);return}At&&Et===null&&(Et=Ct)})}),dt.join("")}function excavateModules(ft,lt){return ft.slice().map((dt,vt)=>vt<lt.y||vt>=lt.y+lt.h?dt:dt.map((St,Et)=>Et<lt.x||Et>=lt.x+lt.w?St:!1))}function getImageSettings(ft,lt,dt,vt){if(vt==null)return null;const St=dt?MARGIN_SIZE:0,Et=ft.length+St*2,At=Math.floor(lt*DEFAULT_IMG_SCALE),Ct=Et/lt,Tt=(vt.width||At)*Ct,Rt=(vt.height||At)*Ct,Bt=vt.x==null?ft.length/2-Tt/2:vt.x*Ct,Dt=vt.y==null?ft.length/2-Rt/2:vt.y*Ct;let Ft=null;if(vt.excavate){let kt=Math.floor(Bt),Ut=Math.floor(Dt),Kt=Math.ceil(Tt+Bt-kt),tr=Math.ceil(Rt+Dt-Ut);Ft={x:kt,y:Ut,w:Kt,h:tr}}return{x:Bt,y:Dt,h:Rt,w:Tt,excavation:Ft}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function QRCodeSVG(ft){const lt=ft,{value:dt,size:vt=DEFAULT_SIZE,level:St=DEFAULT_LEVEL,bgColor:Et=DEFAULT_BGCOLOR,fgColor:At=DEFAULT_FGCOLOR,includeMargin:Ct=DEFAULT_INCLUDEMARGIN,imageSettings:Tt}=lt,Rt=__objRest(lt,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let Bt=qrcodegen_default.QrCode.encodeText(dt,ERROR_LEVEL_MAP[St]).getModules();const Dt=Ct?MARGIN_SIZE:0,Ft=Bt.length+Dt*2,kt=getImageSettings(Bt,vt,Ct,Tt);let Ut=null;Tt!=null&&kt!=null&&(kt.excavation!=null&&(Bt=excavateModules(Bt,kt.excavation)),Ut=React$1.createElement("image",{xlinkHref:Tt.src,height:kt.h,width:kt.w,x:kt.x+Dt,y:kt.y+Dt,preserveAspectRatio:"none"}));const Kt=generatePath(Bt,Dt);return React$1.createElement("svg",__spreadValues({height:vt,width:vt,viewBox:`0 0 ${Ft} ${Ft}`},Rt),React$1.createElement("path",{fill:Et,d:`M0,0 h${Ft}v${Ft}H0z`,shapeRendering:"crispEdges"}),React$1.createElement("path",{fill:At,d:Kt,shapeRendering:"crispEdges"}),Ut)}var key={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},webkit=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],moz=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],ms=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],document$1=typeof window<"u"&&typeof window.document<"u"?window.document:{},vendor="fullscreenEnabled"in document$1&&Object.keys(key)||webkit[0]in document$1&&webkit||moz[0]in document$1&&moz||ms[0]in document$1&&ms||[],fscreen={requestFullscreen:function(ft){return ft[vendor[key.requestFullscreen]]()},requestFullscreenFunction:function(ft){return ft[vendor[key.requestFullscreen]]},get exitFullscreen(){return document$1[vendor[key.exitFullscreen]].bind(document$1)},get fullscreenPseudoClass(){return":"+vendor[key.fullscreen]},addEventListener:function(ft,lt,dt){return document$1.addEventListener(vendor[key[ft]],lt,dt)},removeEventListener:function(ft,lt,dt){return document$1.removeEventListener(vendor[key[ft]],lt,dt)},get fullscreenEnabled(){return!!document$1[vendor[key.fullscreenEnabled]]},set fullscreenEnabled(ft){},get fullscreenElement(){return document$1[vendor[key.fullscreenElement]]},set fullscreenElement(ft){},get onfullscreenchange(){return document$1[("on"+vendor[key.fullscreenchange]).toLowerCase()]},set onfullscreenchange(ft){return document$1[("on"+vendor[key.fullscreenchange]).toLowerCase()]=ft},get onfullscreenerror(){return document$1[("on"+vendor[key.fullscreenerror]).toLowerCase()]},set onfullscreenerror(ft){return document$1[("on"+vendor[key.fullscreenerror]).toLowerCase()]=ft}};const fscreen$1=fscreen;function useFullScreenHandle(){var ft=reactExports.useState(!1),lt=ft[0],dt=ft[1],vt=reactExports.useRef(null);reactExports.useEffect(function(){var At=function(){dt(fscreen$1.fullscreenElement===vt.current)};return fscreen$1.addEventListener("fullscreenchange",At),function(){return fscreen$1.removeEventListener("fullscreenchange",At)}},[]);var St=reactExports.useCallback(function(){if(fscreen$1.fullscreenElement)return fscreen$1.exitFullscreen().then(function(){return fscreen$1.requestFullscreen(vt.current)});if(vt.current)return fscreen$1.requestFullscreen(vt.current)},[]),Et=reactExports.useCallback(function(){return fscreen$1.fullscreenElement===vt.current?fscreen$1.exitFullscreen():Promise.resolve()},[]);return reactExports.useMemo(function(){return{active:lt,enter:St,exit:Et,node:vt}},[lt,St,Et])}var FullScreen=function ft(lt){var dt=lt.handle,vt=lt.onChange,St=lt.children,Et=lt.className,At=[];return Et&&At.push(Et),At.push("fullscreen"),dt.active&&At.push("fullscreen-enabled"),reactExports.useEffect(function(){vt&&vt(dt.active,dt)},[dt.active]),React$1.createElement("div",{className:At.join(" "),ref:dt.node,style:dt.active?{height:"100%",width:"100%"}:void 0},St)};const createStoreImpl=ft=>{let lt;const dt=new Set,vt=(Tt,Rt)=>{const Bt=typeof Tt=="function"?Tt(lt):Tt;if(!Object.is(Bt,lt)){const Dt=lt;lt=Rt??typeof Bt!="object"?Bt:Object.assign({},lt,Bt),dt.forEach(Ft=>Ft(lt,Dt))}},St=()=>lt,Ct={setState:vt,getState:St,subscribe:Tt=>(dt.add(Tt),()=>dt.delete(Tt)),destroy:()=>dt.clear()};return lt=ft(vt,St,Ct),Ct},createStore=ft=>ft?createStoreImpl(ft):createStoreImpl,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;function useStore(ft,lt=ft.getState,dt){const vt=useSyncExternalStoreWithSelector(ft.subscribe,ft.getState,ft.getServerState||ft.getState,lt,dt);return reactExports.useDebugValue(vt),vt}const createImpl=ft=>{const lt=typeof ft=="function"?createStore(ft):ft,dt=(vt,St)=>useStore(lt,vt,St);return Object.assign(dt,lt),dt},create=ft=>ft?createImpl(ft):createImpl;function shallow(ft,lt){if(Object.is(ft,lt))return!0;if(typeof ft!="object"||ft===null||typeof lt!="object"||lt===null)return!1;if(ft instanceof Map&&lt instanceof Map){if(ft.size!==lt.size)return!1;for(const[vt,St]of ft)if(!Object.is(St,lt.get(vt)))return!1;return!0}if(ft instanceof Set&&lt instanceof Set){if(ft.size!==lt.size)return!1;for(const vt of ft)if(!lt.has(vt))return!1;return!0}const dt=Object.keys(ft);if(dt.length!==Object.keys(lt).length)return!1;for(let vt=0;vt<dt.length;vt++)if(!Object.prototype.hasOwnProperty.call(lt,dt[vt])||!Object.is(ft[dt[vt]],lt[dt[vt]]))return!1;return!0}const usePerfImpl=create((ft,lt)=>{function dt(){var vt;const{accumulated:St,startTime:Et,infos:At}=lt(),Ct=(vt=lt().log)==null?void 0:vt.maxMemory,{totalFrames:Tt,log:Rt,gl:Bt,max:Dt}=St,Ft={calls:Bt.calls/Tt,triangles:Bt.triangles/Tt,points:Bt.points/Tt,lines:Bt.lines/Tt},kt={gpu:Rt.gpu/Tt,cpu:Rt.cpu/Tt,mem:Rt.mem/Tt,fps:Rt.fps/Tt};return{sessionTime:(window.performance.now()-Et)/1e3,infos:At,log:kt,gl:Ft,max:Dt,maxMemory:Ct,totalFrames:Tt}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:dt}}),usePerf=ft=>usePerfImpl(ft,shallow);Object.assign(usePerf,usePerfImpl);const{getState:getPerf,setState:setPerf}=usePerfImpl,overLimitFps={value:0,fpsLimit:60,isOverLimit:0},average=ft=>(ft==null?void 0:ft.reduce((lt,dt)=>lt+dt,0))/ft.length;class GLPerf{constructor(lt={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,lt),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=MathUtils.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let lt=0;const dt=vt=>{++lt<20?this.rafId=window.requestAnimationFrame(dt):(this.detected=Math.ceil(1e3*lt/(vt-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=vt)};this.rafId=window.requestAnimationFrame(dt)}addUI(lt){this.names.indexOf(lt)===-1&&(this.names.push(lt),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(lt){const dt=16.666666666666668,vt=dt-lt.timeRemaining(),St=dt*overLimitFps.fpsLimit/10/vt;St<0||(overLimitFps.value=St,overLimitFps.isOverLimit<25?overLimitFps.isOverLimit++:setPerf({overclockingFps:!0}))}nextFrame(lt){this.frameId++;const dt=lt||this.now();let vt=dt-this.paramTime,St=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=dt;else if(dt>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const Et=this.frameId-this.paramFrame,At=Et*1e3/vt,Ct=getPerf().overclockingFps?overLimitFps.value:At;if(St=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/vt,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const Tt=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=Tt.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(At),this.logsAccums.fps.push(Ct),this.logsAccums.gpu.push(St),this.overClock&&typeof window.requestIdleCallback<"u"&&(overLimitFps.isOverLimit>0&&Ct>At?overLimitFps.isOverLimit--:getPerf().overclockingFps&&setPerf({overclockingFps:!1})),dt>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:average(this.logsAccums.cpu),gpu:average(this.logsAccums.gpu),mem:average(this.logsAccums.mem),fps:average(this.logsAccums.fps),duration:Math.round(vt),maxMemory:this.maxMemory,frameCount:Et}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=dt),this.overClock&&dt-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=lt,overLimitFps.fpsLimit=Math.round(average(this.logsAccums.fpsFixed)/10)*100,setPerf({fpsLimit:overLimitFps.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=dt)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=dt,this.circularId=0;else{const Et=dt-this.chartTime;let At=this.chartHz*Et/1e3;for(;--At>0&&this.detected;){const Tt=(this.frameId-this.chartFrame)/Et*1e3,Rt=getPerf().overclockingFps?overLimitFps.value:Tt;this.fpsChart[this.circularId%this.chartLen]=Rt;const Bt=1e3/this.currentMem,Dt=this.currentCpu,Ft=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/vt*100))+4;Ft>0&&(this.gpuChart[this.circularId%this.chartLen]=Ft),Dt>0&&(this.cpuChart[this.circularId%this.chartLen]=Dt),Bt>0&&(this.memChart[this.circularId%this.chartLen]=Bt);for(let kt=0;kt<this.names.length;kt++)this.chartLogger({i:kt,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=dt}}}startGpu(){const lt=this.gl,dt=this.extension;if(!(!lt||!dt)&&this.isWebGL2){let vt=!1,St,Et;if(this.query){this.queryHasResult=!1;let At=this.query;if(vt=lt.getQueryParameter(At,lt.QUERY_RESULT_AVAILABLE),St=lt.getParameter(dt.GPU_DISJOINT_EXT),vt&&!St){Et=lt.getQueryParameter(this.query,lt.QUERY_RESULT);const Ct=Et*1e-6;(vt||St)&&(lt.deleteQuery(this.query),At=null),vt&&Ct>0&&(St||this.activeAccums.forEach((Tt,Rt)=>{this.gpuAccums[Rt]=Ct}))}}(vt||!this.query)&&(this.queryCreated=!0,this.query=lt.createQuery(),lt.beginQuery(dt.TIME_ELAPSED_EXT,this.query))}}endGpu(){const lt=this.extension,dt=this.gl;this.isWebGL2&&this.queryCreated&&dt.getQuery(lt.TIME_ELAPSED_EXT,dt.CURRENT_QUERY)&&dt.endQuery(lt.TIME_ELAPSED_EXT)}begin(lt){this.startGpu(),this.updateAccums(lt)}end(lt){this.endGpu(),this.updateAccums(lt)}updateAccums(lt){let dt=this.names.indexOf(lt);dt===-1&&(dt=this.names.length,this.addUI(lt));const vt=this.now();this.activeAccums[dt]=!this.activeAccums[dt],this.t0=vt}}const countGeoDrawCalls=ft=>{ft.forEach((lt,dt)=>{const{meshes:vt}=lt;if(!vt)return;let St={total:0,type:"Triangle",data:[]};Object.keys(vt).forEach(Et=>{const At=vt[Et],{geometry:Ct,material:Tt}=At;let Rt=Ct.index;const Bt=Ct.attributes.position;if(!Bt)return;let Dt=1;Tt.wireframe===!0&&(Dt=0);const Ft=Rt!==null?Rt.count:Bt.count,kt=Ct.drawRange.start*Dt,Ut=Ct.drawRange.count*Dt,Kt=kt,tr=Math.min(Ft,kt+Ut)-1;let Wt=1;const Zt=At.count||1;let Ht="Triangle",nr=0;At.isMesh?Tt.wireframe===!0?(Ht="Line",Wt=Wt/2):(Ht="Triangle",Wt=Wt/3):At.isLine?(Ht="Line",At.isLineSegments?Wt=Wt/2:At.isLineLoop?Wt=Wt:Wt=Wt-1):At.isPoints?(Ht="Point",Wt=Wt):At.isSprite&&(Ht="Triangle",Wt=Wt/3);const sr=Math.round(Math.max(0,tr-Kt+1)*(Wt*Zt));sr>nr&&(nr=sr,St.type=Ht),St.total+=sr,St.data.push({drawCount:sr,type:Ht}),At.userData.drawCount={type:Ht,count:sr}}),lt.drawCounts=St})};var eventemitter3={exports:{}};(function(ft){var lt=Object.prototype.hasOwnProperty,dt="~";function vt(){}Object.create&&(vt.prototype=Object.create(null),new vt().__proto__||(dt=!1));function St(Tt,Rt,Bt){this.fn=Tt,this.context=Rt,this.once=Bt||!1}function Et(Tt,Rt,Bt,Dt,Ft){if(typeof Bt!="function")throw new TypeError("The listener must be a function");var kt=new St(Bt,Dt||Tt,Ft),Ut=dt?dt+Rt:Rt;return Tt._events[Ut]?Tt._events[Ut].fn?Tt._events[Ut]=[Tt._events[Ut],kt]:Tt._events[Ut].push(kt):(Tt._events[Ut]=kt,Tt._eventsCount++),Tt}function At(Tt,Rt){--Tt._eventsCount===0?Tt._events=new vt:delete Tt._events[Rt]}function Ct(){this._events=new vt,this._eventsCount=0}Ct.prototype.eventNames=function(){var Rt=[],Bt,Dt;if(this._eventsCount===0)return Rt;for(Dt in Bt=this._events)lt.call(Bt,Dt)&&Rt.push(dt?Dt.slice(1):Dt);return Object.getOwnPropertySymbols?Rt.concat(Object.getOwnPropertySymbols(Bt)):Rt},Ct.prototype.listeners=function(Rt){var Bt=dt?dt+Rt:Rt,Dt=this._events[Bt];if(!Dt)return[];if(Dt.fn)return[Dt.fn];for(var Ft=0,kt=Dt.length,Ut=new Array(kt);Ft<kt;Ft++)Ut[Ft]=Dt[Ft].fn;return Ut},Ct.prototype.listenerCount=function(Rt){var Bt=dt?dt+Rt:Rt,Dt=this._events[Bt];return Dt?Dt.fn?1:Dt.length:0},Ct.prototype.emit=function(Rt,Bt,Dt,Ft,kt,Ut){var Kt=dt?dt+Rt:Rt;if(!this._events[Kt])return!1;var tr=this._events[Kt],Wt=arguments.length,Zt,Ht;if(tr.fn){switch(tr.once&&this.removeListener(Rt,tr.fn,void 0,!0),Wt){case 1:return tr.fn.call(tr.context),!0;case 2:return tr.fn.call(tr.context,Bt),!0;case 3:return tr.fn.call(tr.context,Bt,Dt),!0;case 4:return tr.fn.call(tr.context,Bt,Dt,Ft),!0;case 5:return tr.fn.call(tr.context,Bt,Dt,Ft,kt),!0;case 6:return tr.fn.call(tr.context,Bt,Dt,Ft,kt,Ut),!0}for(Ht=1,Zt=new Array(Wt-1);Ht<Wt;Ht++)Zt[Ht-1]=arguments[Ht];tr.fn.apply(tr.context,Zt)}else{var nr=tr.length,sr;for(Ht=0;Ht<nr;Ht++)switch(tr[Ht].once&&this.removeListener(Rt,tr[Ht].fn,void 0,!0),Wt){case 1:tr[Ht].fn.call(tr[Ht].context);break;case 2:tr[Ht].fn.call(tr[Ht].context,Bt);break;case 3:tr[Ht].fn.call(tr[Ht].context,Bt,Dt);break;case 4:tr[Ht].fn.call(tr[Ht].context,Bt,Dt,Ft);break;default:if(!Zt)for(sr=1,Zt=new Array(Wt-1);sr<Wt;sr++)Zt[sr-1]=arguments[sr];tr[Ht].fn.apply(tr[Ht].context,Zt)}}return!0},Ct.prototype.on=function(Rt,Bt,Dt){return Et(this,Rt,Bt,Dt,!1)},Ct.prototype.once=function(Rt,Bt,Dt){return Et(this,Rt,Bt,Dt,!0)},Ct.prototype.removeListener=function(Rt,Bt,Dt,Ft){var kt=dt?dt+Rt:Rt;if(!this._events[kt])return this;if(!Bt)return At(this,kt),this;var Ut=this._events[kt];if(Ut.fn)Ut.fn===Bt&&(!Ft||Ut.once)&&(!Dt||Ut.context===Dt)&&At(this,kt);else{for(var Kt=0,tr=[],Wt=Ut.length;Kt<Wt;Kt++)(Ut[Kt].fn!==Bt||Ft&&!Ut[Kt].once||Dt&&Ut[Kt].context!==Dt)&&tr.push(Ut[Kt]);tr.length?this._events[kt]=tr.length===1?tr[0]:tr:At(this,kt)}return this},Ct.prototype.removeAllListeners=function(Rt){var Bt;return Rt?(Bt=dt?dt+Rt:Rt,this._events[Bt]&&At(this,Bt)):(this._events=new vt,this._eventsCount=0),this},Ct.prototype.off=Ct.prototype.removeListener,Ct.prototype.addListener=Ct.prototype.on,Ct.prefixed=dt,Ct.EventEmitter=Ct,ft.exports=Ct})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),eventEmitter=new EventEmitter;function onEvent(ft,lt,dt){return dt!=null&&dt.once?eventEmitter.once(ft,lt):eventEmitter.on(ft,lt)}function offEvent(ft,lt,dt){var vt;eventEmitter.removeListener(ft,lt,(vt=dt==null?void 0:dt.context)!=null?vt:null,dt==null?void 0:dt.once)}function emitEvent(ft,lt){eventEmitter.emit(ft,lt)}function useEvent(ft,lt,dt=[],vt){const St=reactExports.useRef(lt);reactExports.useEffect(()=>void(St.current=lt),[lt]),reactExports.useEffect(()=>{const Et=Ct=>{var Tt;return(Tt=St.current)==null?void 0:Tt.call(St,Ct)},At=onEvent(ft,Et,vt);return()=>offEvent(ft,Et,{...vt,context:At})},[ft,vt==null?void 0:vt.once,...dt])}const updateMatrixWorldTemp=Object3D.prototype.updateMatrixWorld,updateWorldMatrixTemp=Object3D.prototype.updateWorldMatrix,updateMatrixTemp=Object3D.prototype.updateMatrix,maxGl=["calls","triangles","points","lines"],maxLog=["gpu","cpu","mem","fps"];let matriceWorldCount={value:0},matriceCount={value:0};const isUUID=ft=>{let lt=""+ft;return lt=lt.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),lt!==null},addMuiPerfID=(ft,lt)=>{ft.defines||(ft.defines={}),ft.defines&&!ft.defines.muiPerf&&(ft.defines=Object.assign(ft.defines||{},{muiPerf:ft.uuid}));const dt=ft.uuid;return lt[dt]||(lt[dt]={meshes:{},material:ft},ft.needsUpdate=!0),ft.needsUpdate=!1,dt},getMUIIndex=ft=>ft==="muiPerf",PerfHeadless=({overClock:ft,logsPerSecond:lt,chart:dt,deepAnalyze:vt,matrixUpdate:St})=>{const{gl:Et,scene:At}=useThree();setPerf({gl:Et,scene:At});const Ct=reactExports.useMemo(()=>{const Tt=new GLPerf({trackGPU:!0,overClock:ft,chartLen:dt?dt.length:120,chartHz:dt?dt.hz:60,logsPerSecond:lt||10,gl:Et.getContext(),chartLogger:tr=>{setPerf({chart:tr})},paramLogger:tr=>{const Wt={maxMemory:tr.maxMemory,gpu:tr.gpu,cpu:tr.cpu,mem:tr.mem,fps:tr.fps,totalTime:tr.duration,frameCount:tr.frameCount};setPerf({log:Wt});const{accumulated:Zt}=getPerf(),Ht=Et.info.render;Zt.totalFrames++,Zt.gl.calls+=Ht.calls,Zt.gl.triangles+=Ht.triangles,Zt.gl.points+=Ht.points,Zt.gl.lines+=Ht.lines,Zt.log.gpu+=tr.gpu,Zt.log.cpu+=tr.cpu,Zt.log.mem+=tr.mem,Zt.log.fps+=tr.fps;for(let nr=0;nr<maxGl.length;nr++){const sr=maxGl[nr],ar=Ht[sr];ar>Zt.max.gl[sr]&&(Zt.max.gl[sr]=ar)}for(let nr=0;nr<maxLog.length;nr++){const sr=maxLog[nr],ar=tr[sr];ar>Zt.max.log[sr]&&(Zt.max.log[sr]=ar)}setPerf({accumulated:Zt}),emitEvent("log",[Wt,Et])}}),Rt=Et.getContext();let Bt=null,Dt=null;const Ft=Rt.getExtension("WEBGL_debug_renderer_info"),kt=Rt.getParameter(Rt.VERSION);Ft!=null&&(Bt=Rt.getParameter(Ft.UNMASKED_RENDERER_WEBGL),Dt=Rt.getParameter(Ft.UNMASKED_VENDOR_WEBGL)),Dt||(Dt="Unknown vendor"),Bt||(Bt=Rt.getParameter(Rt.RENDERER)),setPerf({startTime:window.performance.now(),infos:{version:kt,renderer:Bt,vendor:Dt}});const Ut=new Map,Kt=new Map;return Object.defineProperty(Scene$1.prototype,"onBeforeRender",{get(){return(...tr)=>{var Wt;Tt&&Tt.begin("profiler"),(Wt=Ut.get(this))==null||Wt(...tr)}},set(tr){Ut.set(this,tr)},configurable:!0}),Object.defineProperty(Scene$1.prototype,"onAfterRender",{get(){return(...tr)=>{var Wt;Tt&&Tt.end("profiler"),(Wt=Kt.get(this))==null||Wt(...tr)}},set(tr){Kt.set(this,tr)},configurable:!0}),Tt},[]);return reactExports.useEffect(()=>{Ct&&(Ct.overClock=ft||!1,ft===!1&&(setPerf({overclockingFps:!1}),overLimitFps.value=0,overLimitFps.isOverLimit=0),Ct.chartHz=(dt==null?void 0:dt.hz)||60,Ct.chartLen=(dt==null?void 0:dt.length)||120)},[ft,Ct,dt==null?void 0:dt.length,dt==null?void 0:dt.hz]),reactExports.useEffect(()=>{St&&(Object3D.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&matriceWorldCount.value++,updateMatrixWorldTemp.apply(this,arguments)},Object3D.prototype.updateWorldMatrix=function(){matriceWorldCount.value++,updateWorldMatrixTemp.apply(this,arguments)},Object3D.prototype.updateMatrix=function(){matriceCount.value++,updateMatrixTemp.apply(this,arguments)}),Et.info.autoReset=!1;let Tt=null,Rt=null;if(Et.info)return Tt=addEffect(function(){getPerf().paused&&setPerf({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),Ct.startCpuProfiling=!0),matriceCount.value-=1,matriceWorldCount.value=0,matriceCount.value=0,Et.info&&Et.info.reset()}),Rt=addAfterEffect(function(){var Dt,Ft;if(Ct&&!Ct.paused&&(Ct.nextFrame(window.performance.now()),ft&&typeof window.requestIdleCallback<"u"&&(Ct.idleCbId=requestIdleCallback(Ct.nextFps))),vt){const kt={},Ut=new Map;At.traverse(function(tr){if((tr instanceof Mesh||tr instanceof Points)&&tr.material){let Wt=tr.material.uuid;Array.isArray(tr.material)&&tr.material.length>1?Wt=addMuiPerfID(tr.material[1],kt):Wt=addMuiPerfID(tr.material,kt),kt[Wt].meshes[tr.uuid]=tr}}),(Ft=(Dt=Et==null?void 0:Et.info)==null?void 0:Dt.programs)==null||Ft.forEach(Kt=>{const tr=Kt.cacheKey.split(","),Wt=tr[tr.findIndex(getMUIIndex)+1];if(isUUID(Wt)&&kt[Wt]){const{material:Zt,meshes:Ht}=kt[Wt];Ut.set(Wt,{program:Kt,material:Zt,meshes:Ht,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),Ut.size!==getPerf().programs.size&&(countGeoDrawCalls(Ut),setPerf({programs:Ut,triggerProgramsUpdate:getPerf().triggerProgramsUpdate++}))}}),()=>{Ct&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(Ct.idleCbId),window.cancelAnimationFrame(Ct.rafId),window.cancelAnimationFrame(Ct.checkQueryId)),St&&(Object3D.prototype.updateMatrixWorld=updateMatrixTemp),Tt(),Rt()}},[Ct,Et,dt,St]),reactExports.useEffect(()=>{const Tt=addTail(function(){return Ct&&(Ct.paused=!0,matriceCount.value=0,matriceWorldCount.value=0,setPerf({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{Tt()}},[]),null};var e="colors",t="sizes",r="space",n={gap:r,gridGap:r,columnGap:r,gridColumnGap:r,rowGap:r,gridRowGap:r,inset:r,insetBlock:r,insetBlockEnd:r,insetBlockStart:r,insetInline:r,insetInlineEnd:r,insetInlineStart:r,margin:r,marginTop:r,marginRight:r,marginBottom:r,marginLeft:r,marginBlock:r,marginBlockEnd:r,marginBlockStart:r,marginInline:r,marginInlineEnd:r,marginInlineStart:r,padding:r,paddingTop:r,paddingRight:r,paddingBottom:r,paddingLeft:r,paddingBlock:r,paddingBlockEnd:r,paddingBlockStart:r,paddingInline:r,paddingInlineEnd:r,paddingInlineStart:r,top:r,right:r,bottom:r,left:r,scrollMargin:r,scrollMarginTop:r,scrollMarginRight:r,scrollMarginBottom:r,scrollMarginLeft:r,scrollMarginX:r,scrollMarginY:r,scrollMarginBlock:r,scrollMarginBlockEnd:r,scrollMarginBlockStart:r,scrollMarginInline:r,scrollMarginInlineEnd:r,scrollMarginInlineStart:r,scrollPadding:r,scrollPaddingTop:r,scrollPaddingRight:r,scrollPaddingBottom:r,scrollPaddingLeft:r,scrollPaddingX:r,scrollPaddingY:r,scrollPaddingBlock:r,scrollPaddingBlockEnd:r,scrollPaddingBlockStart:r,scrollPaddingInline:r,scrollPaddingInlineEnd:r,scrollPaddingInlineStart:r,fontSize:"fontSizes",background:e,backgroundColor:e,backgroundImage:e,borderImage:e,border:e,borderBlock:e,borderBlockEnd:e,borderBlockStart:e,borderBottom:e,borderBottomColor:e,borderColor:e,borderInline:e,borderInlineEnd:e,borderInlineStart:e,borderLeft:e,borderLeftColor:e,borderRight:e,borderRightColor:e,borderTop:e,borderTopColor:e,caretColor:e,color:e,columnRuleColor:e,fill:e,outline:e,outlineColor:e,stroke:e,textDecorationColor:e,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t,minBlockSize:t,maxBlockSize:t,inlineSize:t,minInlineSize:t,maxInlineSize:t,width:t,minWidth:t,maxWidth:t,height:t,minHeight:t,maxHeight:t,flexBasis:t,gridTemplateColumns:t,gridTemplateRows:t,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i=(ft,lt)=>typeof lt=="function"?{"()":Function.prototype.toString.call(lt)}:lt,o=()=>{const ft=Object.create(null);return(lt,dt,...vt)=>{const St=(Et=>JSON.stringify(Et,i))(lt);return St in ft?ft[St]:ft[St]=dt(lt,...vt)}},l=Symbol.for("sxs.internal"),s=(ft,lt)=>Object.defineProperties(ft,Object.getOwnPropertyDescriptors(lt)),a=ft=>{for(const lt in ft)return!0;return!1},{hasOwnProperty:c}=Object.prototype,d=ft=>ft.includes("-")?ft:ft.replace(/[A-Z]/g,lt=>"-"+lt.toLowerCase()),g=/\s+(?![^()]*\))/,p=ft=>lt=>ft(...typeof lt=="string"?String(lt).split(g):[lt]),u={appearance:ft=>({WebkitAppearance:ft,appearance:ft}),backfaceVisibility:ft=>({WebkitBackfaceVisibility:ft,backfaceVisibility:ft}),backdropFilter:ft=>({WebkitBackdropFilter:ft,backdropFilter:ft}),backgroundClip:ft=>({WebkitBackgroundClip:ft,backgroundClip:ft}),boxDecorationBreak:ft=>({WebkitBoxDecorationBreak:ft,boxDecorationBreak:ft}),clipPath:ft=>({WebkitClipPath:ft,clipPath:ft}),content:ft=>({content:ft.includes('"')||ft.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(ft)?ft:`"${ft}"`}),hyphens:ft=>({WebkitHyphens:ft,hyphens:ft}),maskImage:ft=>({WebkitMaskImage:ft,maskImage:ft}),maskSize:ft=>({WebkitMaskSize:ft,maskSize:ft}),tabSize:ft=>({MozTabSize:ft,tabSize:ft}),textSizeAdjust:ft=>({WebkitTextSizeAdjust:ft,textSizeAdjust:ft}),userSelect:ft=>({WebkitUserSelect:ft,userSelect:ft}),marginBlock:p((ft,lt)=>({marginBlockStart:ft,marginBlockEnd:lt||ft})),marginInline:p((ft,lt)=>({marginInlineStart:ft,marginInlineEnd:lt||ft})),maxSize:p((ft,lt)=>({maxBlockSize:ft,maxInlineSize:lt||ft})),minSize:p((ft,lt)=>({minBlockSize:ft,minInlineSize:lt||ft})),paddingBlock:p((ft,lt)=>({paddingBlockStart:ft,paddingBlockEnd:lt||ft})),paddingInline:p((ft,lt)=>({paddingInlineStart:ft,paddingInlineEnd:lt||ft}))},h=/([\d.]+)([^]*)/,f=(ft,lt)=>ft.length?ft.reduce((dt,vt)=>(dt.push(...lt.map(St=>St.includes("&")?St.replace(/&/g,/[ +>|~]/.test(vt)&&/&.*&/.test(St)?`:is(${vt})`:vt):vt+" "+St)),dt),[]):lt,m=(ft,lt)=>ft in b&&typeof lt=="string"?lt.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(dt,vt,St,Et)=>vt+(St==="stretch"?`-moz-available${Et};${d(ft)}:${vt}-webkit-fill-available`:`-moz-fit-content${Et};${d(ft)}:${vt}fit-content`)+Et):String(lt),b={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S=ft=>ft?ft+"-":"",k=(ft,lt,dt)=>ft.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(vt,St,Et,At,Ct)=>At=="$"==!!Et?vt:(St||At=="--"?"calc(":"")+"var(--"+(At==="$"?S(lt)+(Ct.includes("$")?"":S(dt))+Ct.replace(/\$/g,"-"):Ct)+")"+(St||At=="--"?"*"+(St||"")+(Et||"1")+")":"")),y=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$=(ft,lt,dt,vt,St)=>{let Et,At,Ct;const Tt=(Rt,Bt,Dt)=>{let Ft,kt;const Ut=Kt=>{for(Ft in Kt){const Zt=Ft.charCodeAt(0)===64,Ht=Zt&&Array.isArray(Kt[Ft])?Kt[Ft]:[Kt[Ft]];for(kt of Ht){const nr=/[A-Z]/.test(Wt=Ft)?Wt:Wt.replace(/-[^]/g,ar=>ar[1].toUpperCase()),sr=typeof kt=="object"&&kt&&kt.toString===B&&(!vt.utils[nr]||!Bt.length);if(nr in vt.utils&&!sr){const ar=vt.utils[nr];if(ar!==At){At=ar,Ut(ar(kt)),At=null;continue}}else if(nr in u){const ar=u[nr];if(ar!==Ct){Ct=ar,Ut(ar(kt)),Ct=null;continue}}if(Zt&&(tr=Ft.slice(1)in vt.media?"@media "+vt.media[Ft.slice(1)]:Ft,Ft=tr.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(ar,ir,rr,lr,ur,dr)=>{const mr=h.test(ir),Cr=.0625*(mr?-1:1),[yr,xr]=mr?[lr,ir]:[ir,lr];return"("+(rr[0]==="="?"":rr[0]===">"===mr?"max-":"min-")+yr+":"+(rr[0]!=="="&&rr.length===1?xr.replace(h,(Sr,br,cr)=>Number(br)+Cr*(rr===">"?1:-1)+cr):xr)+(ur?") and ("+(ur[0]===">"?"min-":"max-")+yr+":"+(ur.length===1?dr.replace(h,(Sr,br,cr)=>Number(br)+Cr*(ur===">"?-1:1)+cr):dr):"")+")"})),sr){const ar=Zt?Dt.concat(Ft):[...Dt],ir=Zt?[...Bt]:f(Bt,Ft.split(y));Et!==void 0&&St(x(...Et)),Et=void 0,Tt(kt,ir,ar)}else Et===void 0&&(Et=[[],Bt,Dt]),Ft=Zt||Ft.charCodeAt(0)!==36?Ft:`--${S(vt.prefix)}${Ft.slice(1).replace(/\$/g,"-")}`,kt=sr?kt:typeof kt=="number"?kt&&nr in I?String(kt)+"px":String(kt):k(m(nr,kt??""),vt.prefix,vt.themeMap[nr]),Et[0].push(`${Zt?`${Ft} `:`${d(Ft)}:`}${kt}`)}}var tr,Wt};Ut(Rt),Et!==void 0&&St(x(...Et)),Et=void 0};Tt(ft,lt,dt)},x=(ft,lt,dt)=>`${dt.map(vt=>`${vt}{`).join("")}${lt.length?`${lt.join(",")}{`:""}${ft.join(";")}${lt.length?"}":""}${Array(dt.length?dt.length+1:0).join("}")}`,I={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=ft=>String.fromCharCode(ft+(ft>25?39:97)),z=ft=>(lt=>{let dt,vt="";for(dt=Math.abs(lt);dt>52;dt=dt/52|0)vt=R(dt%52)+vt;return R(dt%52)+vt})(((lt,dt)=>{let vt=dt.length;for(;vt;)lt=33*lt^dt.charCodeAt(--vt);return lt})(5381,JSON.stringify(ft))>>>0),W=["themed","global","styled","onevar","resonevar","allvar","inline"],j=ft=>{if(ft.href&&!ft.href.startsWith(location.origin))return!1;try{return!!ft.cssRules}catch{return!1}},E=ft=>{let lt;const dt=()=>{const{cssRules:St}=lt.sheet;return[].map.call(St,(Et,At)=>{const{cssText:Ct}=Et;let Tt="";if(Ct.startsWith("--sxs"))return"";if(St[At-1]&&(Tt=St[At-1].cssText).startsWith("--sxs")){if(!Et.cssRules.length)return"";for(const Rt in lt.rules)if(lt.rules[Rt].group===Et)return`--sxs{--sxs:${[...lt.rules[Rt].cache].join(" ")}}${Ct}`;return Et.cssRules.length?`${Tt}${Ct}`:""}return Ct}).join("")},vt=()=>{if(lt){const{rules:Ct,sheet:Tt}=lt;if(!Tt.deleteRule){for(;Object(Object(Tt.cssRules)[0]).type===3;)Tt.cssRules.splice(0,1);Tt.cssRules=[]}for(const Rt in Ct)delete Ct[Rt]}const St=Object(ft).styleSheets||[];for(const Ct of St)if(j(Ct)){for(let Tt=0,Rt=Ct.cssRules;Rt[Tt];++Tt){const Bt=Object(Rt[Tt]);if(Bt.type!==1)continue;const Dt=Object(Rt[Tt+1]);if(Dt.type!==4)continue;++Tt;const{cssText:Ft}=Bt;if(!Ft.startsWith("--sxs"))continue;const kt=Ft.slice(14,-3).trim().split(/\s+/),Ut=W[kt[0]];Ut&&(lt||(lt={sheet:Ct,reset:vt,rules:{},toString:dt}),lt.rules[Ut]={group:Dt,index:Tt,cache:new Set(kt)})}if(lt)break}if(!lt){const Ct=(Tt,Rt)=>({type:Rt,cssRules:[],insertRule(Bt,Dt){this.cssRules.splice(Dt,0,Ct(Bt,{import:3,undefined:1}[(Bt.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return Tt==="@media{}"?`@media{${[].map.call(this.cssRules,Bt=>Bt.cssText).join("")}}`:Tt}});lt={sheet:ft?(ft.head||ft).appendChild(document.createElement("style")).sheet:Ct("","text/css"),rules:{},reset:vt,toString:dt}}const{sheet:Et,rules:At}=lt;for(let Ct=W.length-1;Ct>=0;--Ct){const Tt=W[Ct];if(!At[Tt]){const Rt=W[Ct+1],Bt=At[Rt]?At[Rt].index:Et.cssRules.length;Et.insertRule("@media{}",Bt),Et.insertRule(`--sxs{--sxs:${Ct}}`,Bt),At[Tt]={group:Et.cssRules[Bt+1],index:Bt,cache:new Set([Ct])}}v(At[Tt])}};return vt(),lt},v=ft=>{const lt=ft.group;let dt=lt.cssRules.length;ft.apply=vt=>{try{lt.insertRule(vt,dt),++dt}catch{}}},T=Symbol(),w=o(),M=(ft,lt)=>w(ft,()=>(...dt)=>{let vt={type:null,composers:new Set};for(const St of dt)if(St!=null)if(St[l]){vt.type==null&&(vt.type=St[l].type);for(const Et of St[l].composers)vt.composers.add(Et)}else St.constructor!==Object||St.$$typeof?vt.type==null&&(vt.type=St):vt.composers.add(C(St,ft));return vt.type==null&&(vt.type="span"),vt.composers.size||vt.composers.add(["PJLV",{},[],[],{},[]]),P(ft,vt,lt)}),C=({variants:ft,compoundVariants:lt,defaultVariants:dt,...vt},St)=>{const Et=`${S(St.prefix)}c-${z(vt)}`,At=[],Ct=[],Tt=Object.create(null),Rt=[];for(const Ft in dt)Tt[Ft]=String(dt[Ft]);if(typeof ft=="object"&&ft)for(const Ft in ft){Bt=Tt,Dt=Ft,c.call(Bt,Dt)||(Tt[Ft]="undefined");const kt=ft[Ft];for(const Ut in kt){const Kt={[Ft]:String(Ut)};String(Ut)==="undefined"&&Rt.push(Ft);const tr=kt[Ut],Wt=[Kt,tr,!a(tr)];At.push(Wt)}}var Bt,Dt;if(typeof lt=="object"&&lt)for(const Ft of lt){let{css:kt,...Ut}=Ft;kt=typeof kt=="object"&&kt||{};for(const tr in Ut)Ut[tr]=String(Ut[tr]);const Kt=[Ut,kt,!a(kt)];Ct.push(Kt)}return[Et,vt,At,Ct,Tt,Rt]},P=(ft,lt,dt)=>{const[vt,St,Et,At]=L(lt.composers),Ct=typeof lt.type=="function"||lt.type.$$typeof?(Dt=>{function Ft(){for(let kt=0;kt<Ft[T].length;kt++){const[Ut,Kt]=Ft[T][kt];Dt.rules[Ut].apply(Kt)}return Ft[T]=[],null}return Ft[T]=[],Ft.rules={},W.forEach(kt=>Ft.rules[kt]={apply:Ut=>Ft[T].push([kt,Ut])}),Ft})(dt):null,Tt=(Ct||dt).rules,Rt=`.${vt}${St.length>1?`:where(.${St.slice(1).join(".")})`:""}`,Bt=Dt=>{Dt=typeof Dt=="object"&&Dt||A;const{css:Ft,...kt}=Dt,Ut={};for(const Wt in Et)if(delete kt[Wt],Wt in Dt){let Zt=Dt[Wt];typeof Zt=="object"&&Zt?Ut[Wt]={"@initial":Et[Wt],...Zt}:(Zt=String(Zt),Ut[Wt]=Zt!=="undefined"||At.has(Wt)?Zt:Et[Wt])}else Ut[Wt]=Et[Wt];const Kt=new Set([...St]);for(const[Wt,Zt,Ht,nr]of lt.composers){dt.rules.styled.cache.has(Wt)||(dt.rules.styled.cache.add(Wt),$(Zt,[`.${Wt}`],[],ft,ir=>{Tt.styled.apply(ir)}));const sr=O(Ht,Ut,ft.media),ar=O(nr,Ut,ft.media,!0);for(const ir of sr)if(ir!==void 0)for(const[rr,lr,ur]of ir){const dr=`${Wt}-${z(lr)}-${rr}`;Kt.add(dr);const mr=(ur?dt.rules.resonevar:dt.rules.onevar).cache,Cr=ur?Tt.resonevar:Tt.onevar;mr.has(dr)||(mr.add(dr),$(lr,[`.${dr}`],[],ft,yr=>{Cr.apply(yr)}))}for(const ir of ar)if(ir!==void 0)for(const[rr,lr]of ir){const ur=`${Wt}-${z(lr)}-${rr}`;Kt.add(ur),dt.rules.allvar.cache.has(ur)||(dt.rules.allvar.cache.add(ur),$(lr,[`.${ur}`],[],ft,dr=>{Tt.allvar.apply(dr)}))}}if(typeof Ft=="object"&&Ft){const Wt=`${vt}-i${z(Ft)}-css`;Kt.add(Wt),dt.rules.inline.cache.has(Wt)||(dt.rules.inline.cache.add(Wt),$(Ft,[`.${Wt}`],[],ft,Zt=>{Tt.inline.apply(Zt)}))}for(const Wt of String(Dt.className||"").trim().split(/\s+/))Wt&&Kt.add(Wt);const tr=kt.className=[...Kt].join(" ");return{type:lt.type,className:tr,selector:Rt,props:kt,toString:()=>tr,deferredInjector:Ct}};return s(Bt,{className:vt,selector:Rt,[l]:lt,toString:()=>(dt.rules.styled.cache.has(vt)||Bt(),vt)})},L=ft=>{let lt="";const dt=[],vt={},St=[];for(const[Et,,,,At,Ct]of ft){lt===""&&(lt=Et),dt.push(Et),St.push(...Ct);for(const Tt in At){const Rt=At[Tt];(vt[Tt]===void 0||Rt!=="undefined"||Ct.includes(Rt))&&(vt[Tt]=Rt)}}return[lt,dt,vt,new Set(St)]},O=(ft,lt,dt,vt)=>{const St=[];e:for(let[Et,At,Ct]of ft){if(Ct)continue;let Tt,Rt=0,Bt=!1;for(Tt in Et){const Dt=Et[Tt];let Ft=lt[Tt];if(Ft!==Dt){if(typeof Ft!="object"||!Ft)continue e;{let kt,Ut,Kt=0;for(const tr in Ft){if(Dt===String(Ft[tr])){if(tr!=="@initial"){const Wt=tr.slice(1);(Ut=Ut||[]).push(Wt in dt?dt[Wt]:tr.replace(/^@media ?/,"")),Bt=!0}Rt+=Kt,kt=!0}++Kt}if(Ut&&Ut.length&&(At={["@media "+Ut.join(", ")]:At}),!kt)continue e}}}(St[Rt]=St[Rt]||[]).push([vt?"cv":`${Tt}-${Et[Tt]}`,At,Bt])}return St},A={},N=o(),D=(ft,lt)=>N(ft,()=>(...dt)=>{const vt=()=>{for(let St of dt){St=typeof St=="object"&&St||{};let Et=z(St);if(!lt.rules.global.cache.has(Et)){if(lt.rules.global.cache.add(Et),"@import"in St){let At=[].indexOf.call(lt.sheet.cssRules,lt.rules.themed.group)-1;for(let Ct of[].concat(St["@import"]))Ct=Ct.includes('"')||Ct.includes("'")?Ct:`"${Ct}"`,lt.sheet.insertRule(`@import ${Ct};`,At++);delete St["@import"]}$(St,[],[],ft,At=>{lt.rules.global.apply(At)})}}return""};return s(vt,{toString:vt})}),H=o(),V=(ft,lt)=>H(ft,()=>dt=>{const vt=`${S(ft.prefix)}k-${z(dt)}`,St=()=>{if(!lt.rules.global.cache.has(vt)){lt.rules.global.cache.add(vt);const Et=[];$(dt,[],[],ft,Ct=>Et.push(Ct));const At=`@keyframes ${vt}{${Et.join("")}}`;lt.rules.global.apply(At)}return vt};return s(St,{get name(){return St()},toString:St})}),G=class{constructor(ft,lt,dt,vt){this.token=ft==null?"":String(ft),this.value=lt==null?"":String(lt),this.scale=dt==null?"":String(dt),this.prefix=vt==null?"":String(vt)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S(this.prefix)+S(this.scale)+this.token}toString(){return this.computedValue}},F=o(),J=(ft,lt)=>F(ft,()=>(dt,vt)=>{vt=typeof dt=="object"&&dt||Object(vt);const St=`.${dt=(dt=typeof dt=="string"?dt:"")||`${S(ft.prefix)}t-${z(vt)}`}`,Et={},At=[];for(const Tt in vt){Et[Tt]={};for(const Rt in vt[Tt]){const Bt=`--${S(ft.prefix)}${Tt}-${Rt}`,Dt=k(String(vt[Tt][Rt]),ft.prefix,Tt);Et[Tt][Rt]=new G(Rt,Dt,Tt,ft.prefix),At.push(`${Bt}:${Dt}`)}}const Ct=()=>{if(At.length&&!lt.rules.themed.cache.has(dt)){lt.rules.themed.cache.add(dt);const Tt=`${vt===ft.theme?":root,":""}.${dt}{${At.join(";")}}`;lt.rules.themed.apply(Tt)}return dt};return{...Et,get className(){return Ct()},selector:St,toString:Ct}}),U=o(),X,Y=o(),q=ft=>{const lt=(dt=>{let vt=!1;const St=U(dt,Et=>{vt=!0;const At="prefix"in(Et=typeof Et=="object"&&Et||{})?String(Et.prefix):"",Ct=typeof Et.media=="object"&&Et.media||{},Tt=typeof Et.root=="object"?Et.root||null:globalThis.document||null,Rt=typeof Et.theme=="object"&&Et.theme||{},Bt={prefix:At,media:Ct,theme:Rt,themeMap:typeof Et.themeMap=="object"&&Et.themeMap||{...n},utils:typeof Et.utils=="object"&&Et.utils||{}},Dt=E(Tt),Ft={css:M(Bt,Dt),globalCss:D(Bt,Dt),keyframes:V(Bt,Dt),createTheme:J(Bt,Dt),reset(){Dt.reset(),Ft.theme.toString()},theme:{},sheet:Dt,config:Bt,prefix:At,getCssText:Dt.toString,toString:Dt.toString};return String(Ft.theme=Ft.createTheme(Rt)),Ft});return vt||St.reset(),St})(ft);return lt.styled=(({config:dt,sheet:vt})=>Y(dt,()=>{const St=M(dt,vt);return(...Et)=>{const At=St(...Et),Ct=At[l].type,Tt=React$1.forwardRef((Rt,Bt)=>{const Dt=Rt&&Rt.as||Ct,{props:Ft,deferredInjector:kt}=At(Rt);return delete Ft.as,Ft.ref=Bt,kt?React$1.createElement(React$1.Fragment,null,React$1.createElement(Dt,Ft),React$1.createElement(kt,null)):React$1.createElement(Dt,Ft)});return Tt.className=At.className,Tt.displayName=`Styled.${Ct.displayName||Ct.name||Ct}`,Tt.selector=At.selector,Tt.toString=()=>At.selector,Tt[l]=At[l],Tt}}))(lt),lt},K=()=>X||(X=q()),re=(...ft)=>K().styled(...ft);const PerfS=re("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),PerfSmallI=re("small",{position:"absolute",right:0,fontSize:"10px"}),PerfI=re("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),PerfB=re("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),PerfIContainer=re("div",{display:"flex"}),ProgramHeader=re("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Graph=re("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),Graphpc=re("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Toggle=re("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ToggleVisible=re("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ProgramGeo=re("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),ProgramTitle=re("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),ContainerScroll=re("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),ProgramsContainer=re("div",{marginTop:"0"}),ProgramsULHeader=re("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),ProgramsUL=re("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),ProgramConsole=re("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),ToggleContainer=re("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),ProgramsGeoLi=re("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function _objectWithoutPropertiesLoose(ft,lt){if(ft==null)return{};var dt={},vt=Object.keys(ft),St,Et;for(Et=0;Et<vt.length;Et++)St=vt[Et],!(lt.indexOf(St)>=0)&&(dt[St]=ft[St]);return dt}var _excluded$1=["color"],ActivityLogIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$1);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$o=["color"],BarChartIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$o);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$H=["color"],ButtonIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1w=["color"],CubeIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$1w);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1H=["color"],DotIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$1H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1W=["color"],DropdownMenuIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$1W);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$25=["color"],EyeNoneIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$25);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$26=["color"],EyeOpenIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$26);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2C=["color"],ImageIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$2C);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2H=["color"],LapTimerIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$2H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2J=["color"],LayersIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$2J);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2Q=["color"],LightningBoltIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$2Q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$34=["color"],MarginIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$34);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$37=["color"],MinusIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$37);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3m=["color"],PauseIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$3m);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3H=["color"],RocketIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$3H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3L=["color"],RulerHorizontalIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$3L);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4q=["color"],TextAlignJustifyIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$4q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4H=["color"],TriangleDownIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$4H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:vt}))}),_excluded$4K=["color"],TriangleUpIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$4K);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:vt}))}),_excluded$4R=["color"],VercelLogoIcon=reactExports.forwardRef(function(ft,lt){var dt=ft.color,vt=dt===void 0?"currentColor":dt,St=_objectWithoutPropertiesLoose(ft,_excluded$4R);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St,{ref:lt}),reactExports.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:vt,fillRule:"evenodd",clipRule:"evenodd"}))});const TextHighHZ=reactExports.memo(({isPerf:ft,color:lt,colorBlind:dt,customData:vt,isMemory:St,isShadersInfo:Et,metric:At,fontSize:Ct,offsetY:Tt=0,offsetX:Rt,round:Bt,hasInstance:Dt})=>{const{width:Ft,height:kt}=useThree(tr=>tr.viewport),Ut=reactExports.useRef(null),Kt=reactExports.useRef(null);return useEvent("log",function([Wt,Zt]){var Ht;if(!Wt||!Ut.current||(vt&&(Ut.current.text=(Math.round(getPerf().customData*Math.pow(10,Bt))/Math.pow(10,Bt)).toFixed(Bt)),!At))return;let nr=Wt[At];if(Et?nr=(Ht=Zt.info.programs)==null?void 0:Ht.length:At==="matriceCount"?nr=matriceCount.value:!ft&&Zt.info.render&&(nr=(St?Zt.info.memory:Zt.info.render)[At]),At==="fps"&&(Ut.current.color=getPerf().overclockingFps?colorsGraph(dt).overClock.toString():`rgb(${colorsGraph(dt).fps.toString()})`),Ut.current.text=(Math.round(nr*Math.pow(10,Bt))/Math.pow(10,Bt)).toFixed(Bt),Dt){const sr=Zt.info.instance;if(typeof sr>"u"&&At!=="matriceCount")return;let ar;At==="matriceCount"?ar=matriceWorldCount.value:ar=sr[At],ar>0?(Ut.current.fontSize=Ct/1.15,Kt.current.fontSize=nr>0?Ct/1.4:Ct,Ut.current.position.y=kt/2-Tt-Ct/1.9,Kt.current.text=" ±	"+(Math.round(ar*Math.pow(10,Bt))/Math.pow(10,Bt)).toFixed(Bt)):(Kt.current.text&&(Kt.current.text=""),Ut.current.position.y=kt/2-Tt-Ct,Ut.current.fontSize=Ct)}matriceCount.value-=1,Ut.current.updateMatrix(),Ut.current.matrixWorld.copy(Ut.current.matrix)}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsxs(Text,{textAlign:"justify",matrixAutoUpdate:!1,ref:Ut,fontSize:Ct,position:[-Ft/2+Rt+Ct,kt/2-Tt-Ct,0],color:lt,characters:"0123456789",onUpdate:tr=>{tr.updateMatrix(),matriceCount.value-=1,tr.matrixWorld.copy(tr.matrix)},children:[jsxRuntimeExports.jsx("meshBasicMaterial",{blending:NormalBlending}),"0"]}),Dt&&jsxRuntimeExports.jsx(Text,{textAlign:"justify",matrixAutoUpdate:!1,ref:Kt,fontSize:8,position:[-Ft/2+Rt+Ct,kt/2-Tt-Ct*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:tr=>{tr.updateMatrix(),matriceCount.value-=1,tr.matrixWorld.copy(tr.matrix)},children:jsxRuntimeExports.jsx("meshBasicMaterial",{blending:NormalBlending})})]})}),TextsHighHZ=({colorBlind:ft,customData:lt,minimal:dt,matrixUpdate:vt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextHighHZ,{colorBlind:ft,color:`rgb(${colorsGraph(ft).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(ft).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(ft).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),dt?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextHighHZ,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),vt&&jsxRuntimeExports.jsx(TextHighHZ,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),lt&&jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(ft).custom.toString()})`,customData:lt,fontSize:14,offsetY:0,offsetX:dt?200:320,round:lt.round||2})]}),ChartCurve=({colorBlind:ft,minimal:lt,chart:dt={length:120,hz:60}})=>{const vt=reactExports.useMemo(()=>({fps:new Float32Array(dt.length*3),cpu:new Float32Array(dt.length*3),gpu:new Float32Array(dt.length*3)}),[dt]),St=reactExports.useRef(null),Et=reactExports.useRef(null),At=reactExports.useRef(null),Ct=reactExports.useRef(null),Tt=reactExports.useMemo(()=>new Vector3(0,0,0),[]),Rt=(Bt,Dt=1,Ft,kt)=>{let Ut=0;const{width:Kt,height:tr}=kt,Wt=getPerf().chart.data[Bt];if(!Wt||Wt.length===0)return;const Zt=lt?2:6,Ht=lt?12:50;let nr=Wt.length;for(let sr=0;sr<nr;sr++){let ar=(getPerf().chart.circularId+sr+1)%nr;Wt[ar]!==void 0&&(Wt[ar]>Ut&&(Ut=Wt[ar]*Dt),Tt.set(Zt+sr/(nr-1)*(Kt-Zt*2)-Kt/2,Math.min(100,Wt[ar])*Dt/100*(tr-Zt*2-Ht)-tr/2,0),Tt.toArray(Ft.attributes.position.array,sr*3))}Ft.attributes.position.needsUpdate=!0};return useFrame(function({viewport:Dt}){Rt("fps",1,St.current,Dt),Et.current&&Et.current.color.set(getPerf().overclockingFps?colorsGraph(ft).overClock.toString():`rgb(${colorsGraph(ft).fps.toString()})`),Rt("gpu",5,At.current,Dt),Rt("cpu",5,Ct.current,Dt)}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("line",{onUpdate:Bt=>{Bt.updateMatrix(),matriceCount.value-=1,Bt.matrixWorld.copy(Bt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:St,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:dt.length,array:vt.fps,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{ref:Et,color:`rgb(${colorsGraph(ft).fps.toString()})`,transparent:!0,opacity:.5})]}),jsxRuntimeExports.jsxs("line",{onUpdate:Bt=>{Bt.updateMatrix(),matriceCount.value-=1,Bt.matrixWorld.copy(Bt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:At,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:dt.length,array:vt.gpu,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{color:`rgb(${colorsGraph(ft).gpu.toString()})`,transparent:!0,opacity:.5})]}),jsxRuntimeExports.jsxs("line",{onUpdate:Bt=>{Bt.updateMatrix(),matriceCount.value-=1,Bt.matrixWorld.copy(Bt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:Ct,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:dt.length,array:vt.cpu,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{color:`rgb(${colorsGraph(ft).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},ChartUI=({colorBlind:ft,chart:lt,customData:dt,matrixUpdate:vt,showGraph:St=!0,antialias:Et=!0,minimal:At})=>{const Ct=reactExports.useRef(void 0),Tt=usePerf(Rt=>Rt.paused);return jsxRuntimeExports.jsxs(Graph,{style:{display:"flex",position:"absolute",height:`${At?37:St?100:60}px`,minWidth:`${At?"100px":dt?"370px":"310px"}`},children:[jsxRuntimeExports.jsx(Canvas,{ref:Ct,orthographic:!0,dpr:Et?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:Rt})=>{Rt.traverse(Bt=>{Bt.matrixWorldAutoUpdate=!1,Bt.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${At?37:St?100:60}px`},children:Tt?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Renderer,{}),jsxRuntimeExports.jsx(TextsHighHZ,{customData:dt,minimal:At,matrixUpdate:vt}),St&&jsxRuntimeExports.jsx(ChartCurve,{colorBlind:ft,minimal:At,chart:lt})]})}),Tt&&jsxRuntimeExports.jsxs(Graphpc,{children:[jsxRuntimeExports.jsx(PauseIcon,{})," PAUSED"]})]})},Renderer=()=>(useFrame(function({gl:lt,scene:dt,camera:vt}){vt.updateMatrix(),matriceCount.value-=1,vt.matrixWorld.copy(vt.matrix),vt.matrixWorldInverse.copy(vt.matrixWorld).invert(),lt.render(dt,vt),matriceWorldCount.value=0,matriceCount.value=0},1/0),null),HtmlMinimal=reactExports.forwardRef(({portal:ft,className:lt,children:dt,name:vt,...St},Et)=>{const At=useThree(Bt=>Bt.gl),Ct=reactExports.useRef(null),Tt=reactExports.useRef(null),Rt=(ft==null?void 0:ft.current)!=null?ft.current:At.domElement.parentNode;return reactExports.useLayoutEffect(()=>{if(!Ct.current||!Rt)return;const Bt=document.createElement("div"),Dt=Tt.current=createRoot$1(Bt);return Rt.appendChild(Bt),()=>{Dt.unmount(),Tt.current=null,Rt.removeChild(Bt)}},[Rt]),reactExports.useLayoutEffect(()=>{const Bt=Tt.current;Bt&&Bt.render(jsxRuntimeExports.jsx("div",{ref:Et,className:lt,children:dt}))}),jsxRuntimeExports.jsx("group",{name:vt,...St,ref:Ct})});function estimateBytesUsed(ft){let lt=0;for(let vt in ft.attributes){const St=ft.getAttribute(vt);lt+=St.count*St.itemSize*St.array.BYTES_PER_ELEMENT}const dt=ft.getIndex();return lt+=dt?dt.count*dt.itemSize*dt.array.BYTES_PER_ELEMENT:0,lt}const addTextureUniforms=(ft,lt)=>{const dt=St=>{switch(St){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},vt=St=>{switch(St){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:ft,url:lt.image.currentSrc,encoding:vt(lt.encoding),wrapT:dt(lt.wrapT),flipY:lt.flipY.toString()}},UniformsGL=({program:ft,material:lt,setTexNumber:dt})=>{const vt=usePerf(At=>At.gl),[St,Et]=reactExports.useState(null);return reactExports.useEffect(()=>{if(vt){const At=ft==null?void 0:ft.getUniforms();let Ct=0;const Tt=new Map;At.seq.forEach(Rt=>{if(!Rt.id.includes("uTroika")&&Rt.id!=="isOrthographic"&&Rt.id!=="uvTransform"&&Rt.id!=="lightProbe"&&Rt.id!=="projectionMatrix"&&Rt.id!=="viewMatrix"&&Rt.id!=="normalMatrix"&&Rt.id!=="modelMatrix"&&Rt.id!=="modelViewMatrix"){let Bt=[],Dt={name:Rt.id};Rt.cache&&(Rt.cache.forEach(Ft=>{typeof Ft<"u"&&Bt.push(Ft.toString().substring(0,4))}),Dt.value=Bt.join(),lt[Rt.id]&&lt[Rt.id].image&&lt[Rt.id].image&&(Ct++,Dt.value=addTextureUniforms(Rt.id,lt[Rt.id])),Dt.value||(Dt.value="empty"),Tt.set(Rt.id,Dt))}}),lt.uniforms&&Object.keys(lt.uniforms).forEach(Rt=>{const Bt=lt.uniforms[Rt];if(Bt.value){const{value:Dt}=Bt;let Ft={name:Rt};if(Rt.includes("uTroika"))return;if(Dt.isTexture)Ct++,Ft.value=addTextureUniforms(Rt,Dt);else{let kt=JSON.stringify(Dt);try{kt=JSON.stringify(Dt)}catch{kt=Dt.toString()}Ft.value=kt}Tt.set(Rt,Ft)}}),Ct>0&&dt(Ct),Et(Tt)}},[]),jsxRuntimeExports.jsx(ProgramsUL,{children:St&&Array.from(St.values()).map(At=>jsxRuntimeExports.jsx("span",{children:typeof At.value=="string"?jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("span",{children:[At.name," :"," ",jsxRuntimeExports.jsxs("b",{children:[At.value.substring(0,30),At.value.length>30?"...":""]})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("b",{children:[At.value.name,":"]})}),jsxRuntimeExports.jsxs("div",{children:[Object.keys(At.value).map(Ct=>Ct!=="name"?jsxRuntimeExports.jsx("div",{children:Ct==="url"?jsxRuntimeExports.jsx("a",{href:At.value[Ct],target:"_blank",children:jsxRuntimeExports.jsx("img",{src:At.value[Ct]})}):jsxRuntimeExports.jsxs("li",{children:[Ct,": ",jsxRuntimeExports.jsx("b",{children:At.value[Ct]})]})},Ct):null),jsxRuntimeExports.jsxs(ProgramConsole,{onClick:()=>{var Ct;console.info(lt[At.value.name]||((Ct=lt==null?void 0:lt.uniforms[At.value.name])==null?void 0:Ct.value))},children:["console.info(",At.value.name,");"]})]})]})},At.name))})},DynamicDrawCallInfo=({el:ft})=>{usePerf(vt=>vt.log);const lt=usePerf(vt=>vt.gl),dt=vt=>{if(!lt)return 0;const St=Math.round(vt.drawCounts.total/(lt.info.render.triangles+lt.info.render.lines+lt.info.render.points)*100*10)/10;return isFinite(St)&&St||0};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ft.drawCounts.total>0&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[ft.drawCounts.type==="Triangle"?jsxRuntimeExports.jsx(VercelLogoIcon,{style:{top:"-1px"}}):jsxRuntimeExports.jsx(ActivityLogIcon,{style:{top:"-1px"}}),ft.drawCounts.total,jsxRuntimeExports.jsxs("small",{children:[ft.drawCounts.type,"s"]}),lt&&jsxRuntimeExports.jsxs(PerfB,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[ft.visible&&!ft.material.wireframe?dt(ft):0,"%"]})]})})},ProgramUI=({el:ft})=>{const[lt,dt]=reactExports.useState(ft.visible),[vt,St]=reactExports.useState(ft.expand),[Et,At]=reactExports.useState(0),{meshes:Ct,program:Tt,material:Rt}=ft;return jsxRuntimeExports.jsxs(ProgramGeo,{children:[jsxRuntimeExports.jsxs(ProgramHeader,{onClick:()=>{ft.expand=!vt,Object.keys(Ct).forEach(Bt=>{const Dt=Ct[Bt];Dt.material.wireframe=!1}),St(!vt)},children:[jsxRuntimeExports.jsx(Toggle,{style:{marginRight:"6px"},children:vt?jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(TriangleDownIcon,{})}):jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(TriangleUpIcon,{})})}),Tt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(ProgramTitle,{children:Tt.name}),jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[jsxRuntimeExports.jsx(LayersIcon,{style:{top:"-1px"}}),Object.keys(Ct).length,jsxRuntimeExports.jsx("small",{children:Object.keys(Ct).length>1?"users":"user"})]}),Et>0&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[Et>1?jsxRuntimeExports.jsx(ImageIcon,{style:{top:"-1px"}}):jsxRuntimeExports.jsx(ImageIcon,{style:{top:"-1px"}}),Et,jsxRuntimeExports.jsx("small",{children:"tex"})]}),jsxRuntimeExports.jsx(DynamicDrawCallInfo,{el:ft}),Rt.glslVersion==="300 es"&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[jsxRuntimeExports.jsx(RocketIcon,{style:{top:"-1px"}}),"300",jsxRuntimeExports.jsx("small",{children:"es"}),jsxRuntimeExports.jsx(PerfB,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),jsxRuntimeExports.jsx(ToggleVisible,{onPointerEnter:()=>{Object.keys(Ct).forEach(Bt=>{const Dt=Ct[Bt];Dt.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(Ct).forEach(Bt=>{const Dt=Ct[Bt];Dt.material.wireframe=!1})},onClick:Bt=>{Bt.stopPropagation(),Object.keys(Ct).forEach(Dt=>{const Ft=Ct[Dt],kt=!lt;Ft.visible=kt,ft.visible=kt,dt(kt)})},children:lt?jsxRuntimeExports.jsx(EyeOpenIcon,{}):jsxRuntimeExports.jsx(EyeNoneIcon,{})})]}),jsxRuntimeExports.jsxs("div",{style:{maxHeight:vt?"9999px":0,overflow:"hidden"},children:[jsxRuntimeExports.jsxs(ProgramsULHeader,{children:[jsxRuntimeExports.jsx(ButtonIcon,{})," Uniforms:"]}),jsxRuntimeExports.jsx(UniformsGL,{program:Tt,material:Rt,setTexNumber:At}),jsxRuntimeExports.jsxs(ProgramsULHeader,{children:[jsxRuntimeExports.jsx(CubeIcon,{})," Geometries:"]}),jsxRuntimeExports.jsx(ProgramsUL,{children:Ct&&Object.keys(Ct).map(Bt=>Ct[Bt]&&Ct[Bt].geometry&&jsxRuntimeExports.jsxs(ProgramsGeoLi,{children:[jsxRuntimeExports.jsxs("span",{children:[Ct[Bt].geometry.type,": "]}),Ct[Bt].userData&&Ct[Bt].userData.drawCount&&jsxRuntimeExports.jsxs("b",{children:[jsxRuntimeExports.jsxs("div",{children:[Ct[Bt].userData.drawCount.count,jsxRuntimeExports.jsxs("small",{children:[" ",Ct[Bt].userData.drawCount.type,"s"]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:[Math.round(estimateBytesUsed(Ct[Bt].geometry)/1024*1e3)/1e3,"Kb",jsxRuntimeExports.jsx("small",{children:" memory used"})]})]})]},Bt))}),jsxRuntimeExports.jsxs(ProgramConsole,{onClick:()=>{console.info(Rt)},children:["console.info(",Rt.type,")"]})]})]})},ProgramsUI=()=>{usePerf(lt=>lt.triggerProgramsUpdate);const ft=usePerf(lt=>lt.programs);return jsxRuntimeExports.jsx(ProgramsContainer,{children:ft&&Array.from(ft.values()).map(lt=>lt&&lt?jsxRuntimeExports.jsx(ProgramUI,{el:lt},lt.material.uuid):null)})},colorsGraph=ft=>({overClock:"#ff6eff",fps:ft?"100, 143, 255":"238,38,110",cpu:ft?"254, 254, 98":"66,226,46",gpu:ft?"254,254,254":"253,151,31",custom:ft?"86,180,233":"40,255,255"}),DynamicUIPerf=({showGraph:ft,colorBlind:lt})=>{const dt=usePerf(St=>St.overclockingFps),vt=usePerf(St=>St.fpsLimit);return jsxRuntimeExports.jsxs(PerfB,{style:ft?{color:dt?colorsGraph(lt).overClock.toString():`rgb(${colorsGraph(lt).fps})`}:{},children:["FPS ",dt?`${vt}🚀`:""]})},DynamicUI=({showGraph:ft,colorBlind:lt,customData:dt,minimal:vt})=>{const St=usePerf(Et=>Et.gl);return St?jsxRuntimeExports.jsxs(PerfIContainer,{children:[jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(LightningBoltIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:ft?{color:`rgb(${colorsGraph(lt).gpu.toString()})`}:{},children:"GPU"}),jsxRuntimeExports.jsx(PerfSmallI,{children:"ms"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(RulerHorizontalIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:ft?{color:`rgb(${colorsGraph(lt).cpu.toString()})`}:{},children:"CPU"}),jsxRuntimeExports.jsx(PerfSmallI,{children:"ms"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(LapTimerIcon,{}),jsxRuntimeExports.jsx(DynamicUIPerf,{showGraph:ft,colorBlind:lt})]}),!vt&&St&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(TextAlignJustifyIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:St.info.render.calls===1?"call":"calls"})]}),!vt&&St&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(VercelLogoIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Triangles"})]}),dt&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(BarChartIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:ft?{color:`rgb(${colorsGraph(lt).custom})`}:{},children:dt.name}),dt.info&&jsxRuntimeExports.jsx(PerfSmallI,{children:dt.info})]})]}):null},PerfUI=({showGraph:ft,colorBlind:lt,deepAnalyze:dt,customData:vt,matrixUpdate:St,openByDefault:Et,minimal:At})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DynamicUI,{showGraph:ft,colorBlind:lt,customData:vt,minimal:At}),!At&&jsxRuntimeExports.jsx(PerfThree,{matrixUpdate:St,openByDefault:Et,deepAnalyze:dt,showGraph:ft})]}),InfoUI=({matrixUpdate:ft})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(MarginIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Geometries"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(ImageIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Textures"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(ActivityLogIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"shaders"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(MinusIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Lines"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(DotIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Points"})]}),ft&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(DropdownMenuIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Matrices"})]})]}),ToggleEl=({tab:ft,title:lt,set:dt})=>{const vt=usePerf(St=>St.tab);return jsxRuntimeExports.jsx(Toggle,{className:`${vt===ft?" __perf_toggle_tab_active":""}`,onClick:()=>{dt(!0),setPerf({tab:ft})},children:jsxRuntimeExports.jsx("span",{children:lt})})},PerfThree=({openByDefault:ft,showGraph:lt,deepAnalyze:dt,matrixUpdate:vt})=>{const[St,Et]=React$1.useState(ft);return jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TabContainers,{show:St,showGraph:lt,matrixUpdate:vt}),ft&&!dt?null:jsxRuntimeExports.jsxs(ToggleContainer,{className:"__perf_toggle",children:[dt&&jsxRuntimeExports.jsx(ToggleEl,{tab:"programs",title:"Programs",set:Et}),dt&&jsxRuntimeExports.jsx(ToggleEl,{tab:"infos",title:"Infos",set:Et}),jsxRuntimeExports.jsx(Toggle,{onClick:()=>{Et(!St)},children:St?jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TriangleDownIcon,{})," Minimize"]}):jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TriangleUpIcon,{})," More"]})})]})]})},TabContainers=({show:ft,showGraph:lt,matrixUpdate:dt})=>{const vt=usePerf(St=>St.tab);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoUI,{matrixUpdate:dt}),ft&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ContainerScroll,{style:{marginTop:lt?"38px":0},children:vt==="programs"&&jsxRuntimeExports.jsx(ProgramsUI,{})})})]})},Perf=({showGraph:ft=!0,colorBlind:lt=!1,openByDefault:dt=!0,className:vt,overClock:St=!1,style:Et,position:At="top-right",chart:Ct,logsPerSecond:Tt,deepAnalyze:Rt=!1,antialias:Bt=!0,customData:Dt,matrixUpdate:Ft,minimal:kt})=>{const Ut=reactExports.useRef(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PerfHeadless,{logsPerSecond:Tt,chart:Ct,overClock:St,deepAnalyze:Rt,matrixUpdate:Ft}),jsxRuntimeExports.jsx(HtmlMinimal,{name:"r3f-perf",children:jsxRuntimeExports.jsxs(PerfS,{className:(vt?" ".concat(vt):" ")+` ${At||""} ${kt?"minimal":""}`,style:{minHeight:kt?"37px":ft?"100px":"60px",...Et},ref:Ut,children:[jsxRuntimeExports.jsx(ChartUI,{perfContainerRef:Ut,colorBlind:lt,chart:Ct,showGraph:ft,antialias:Bt,customData:Dt,minimal:kt,matrixUpdate:Ft}),jsxRuntimeExports.jsx(PerfUI,{colorBlind:lt,showGraph:ft,deepAnalyze:Rt,openByDefault:dt,customData:Dt,matrixUpdate:Ft,minimal:kt})]})})]})};var dist={},blocks={};(function(ft){Object.defineProperty(ft,"__esModule",{value:!0}),ft.BLOCKS=void 0,function(lt){lt.DOCUMENT="document",lt.PARAGRAPH="paragraph",lt.HEADING_1="heading-1",lt.HEADING_2="heading-2",lt.HEADING_3="heading-3",lt.HEADING_4="heading-4",lt.HEADING_5="heading-5",lt.HEADING_6="heading-6",lt.OL_LIST="ordered-list",lt.UL_LIST="unordered-list",lt.LIST_ITEM="list-item",lt.HR="hr",lt.QUOTE="blockquote",lt.EMBEDDED_ENTRY="embedded-entry-block",lt.EMBEDDED_ASSET="embedded-asset-block",lt.EMBEDDED_RESOURCE="embedded-resource-block",lt.TABLE="table",lt.TABLE_ROW="table-row",lt.TABLE_CELL="table-cell",lt.TABLE_HEADER_CELL="table-header-cell"}(ft.BLOCKS||(ft.BLOCKS={}))})(blocks);var inlines={};(function(ft){Object.defineProperty(ft,"__esModule",{value:!0}),ft.INLINES=void 0,function(lt){lt.HYPERLINK="hyperlink",lt.ENTRY_HYPERLINK="entry-hyperlink",lt.ASSET_HYPERLINK="asset-hyperlink",lt.EMBEDDED_ENTRY="embedded-entry-inline"}(ft.INLINES||(ft.INLINES={}))})(inlines);var marks={};Object.defineProperty(marks,"__esModule",{value:!0});var MARKS;(function(ft){ft.BOLD="bold",ft.ITALIC="italic",ft.UNDERLINE="underline",ft.CODE="code",ft.SUPERSCRIPT="superscript",ft.SUBSCRIPT="subscript"})(MARKS||(MARKS={}));marks.default=MARKS;var schemaConstraints={};(function(ft){var lt=commonjsGlobal&&commonjsGlobal.__spreadArray||function(Ct,Tt,Rt){if(Rt||arguments.length===2)for(var Bt=0,Dt=Tt.length,Ft;Bt<Dt;Bt++)(Ft||!(Bt in Tt))&&(Ft||(Ft=Array.prototype.slice.call(Tt,0,Bt)),Ft[Bt]=Tt[Bt]);return Ct.concat(Ft||Array.prototype.slice.call(Tt))},dt=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}},vt;Object.defineProperty(ft,"__esModule",{value:!0}),ft.V1_MARKS=ft.V1_NODE_TYPES=ft.TEXT_CONTAINERS=ft.HEADINGS=ft.CONTAINERS=ft.VOID_BLOCKS=ft.TABLE_BLOCKS=ft.LIST_ITEM_BLOCKS=ft.TOP_LEVEL_BLOCKS=void 0;var St=blocks,Et=inlines,At=dt(marks);ft.TOP_LEVEL_BLOCKS=[St.BLOCKS.PARAGRAPH,St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6,St.BLOCKS.OL_LIST,St.BLOCKS.UL_LIST,St.BLOCKS.HR,St.BLOCKS.QUOTE,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,St.BLOCKS.EMBEDDED_RESOURCE,St.BLOCKS.TABLE],ft.LIST_ITEM_BLOCKS=[St.BLOCKS.PARAGRAPH,St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6,St.BLOCKS.OL_LIST,St.BLOCKS.UL_LIST,St.BLOCKS.HR,St.BLOCKS.QUOTE,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,St.BLOCKS.EMBEDDED_RESOURCE],ft.TABLE_BLOCKS=[St.BLOCKS.TABLE,St.BLOCKS.TABLE_ROW,St.BLOCKS.TABLE_CELL,St.BLOCKS.TABLE_HEADER_CELL],ft.VOID_BLOCKS=[St.BLOCKS.HR,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,St.BLOCKS.EMBEDDED_RESOURCE],ft.CONTAINERS=(vt={},vt[St.BLOCKS.OL_LIST]=[St.BLOCKS.LIST_ITEM],vt[St.BLOCKS.UL_LIST]=[St.BLOCKS.LIST_ITEM],vt[St.BLOCKS.LIST_ITEM]=ft.LIST_ITEM_BLOCKS,vt[St.BLOCKS.QUOTE]=[St.BLOCKS.PARAGRAPH],vt[St.BLOCKS.TABLE]=[St.BLOCKS.TABLE_ROW],vt[St.BLOCKS.TABLE_ROW]=[St.BLOCKS.TABLE_CELL,St.BLOCKS.TABLE_HEADER_CELL],vt[St.BLOCKS.TABLE_CELL]=[St.BLOCKS.PARAGRAPH],vt[St.BLOCKS.TABLE_HEADER_CELL]=[St.BLOCKS.PARAGRAPH],vt),ft.HEADINGS=[St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6],ft.TEXT_CONTAINERS=lt([St.BLOCKS.PARAGRAPH],ft.HEADINGS,!0),ft.V1_NODE_TYPES=[St.BLOCKS.DOCUMENT,St.BLOCKS.PARAGRAPH,St.BLOCKS.HEADING_1,St.BLOCKS.HEADING_2,St.BLOCKS.HEADING_3,St.BLOCKS.HEADING_4,St.BLOCKS.HEADING_5,St.BLOCKS.HEADING_6,St.BLOCKS.OL_LIST,St.BLOCKS.UL_LIST,St.BLOCKS.LIST_ITEM,St.BLOCKS.HR,St.BLOCKS.QUOTE,St.BLOCKS.EMBEDDED_ENTRY,St.BLOCKS.EMBEDDED_ASSET,Et.INLINES.HYPERLINK,Et.INLINES.ENTRY_HYPERLINK,Et.INLINES.ASSET_HYPERLINK,Et.INLINES.EMBEDDED_ENTRY,"text"],ft.V1_MARKS=[At.default.BOLD,At.default.CODE,At.default.ITALIC,At.default.UNDERLINE]})(schemaConstraints);var types={};Object.defineProperty(types,"__esModule",{value:!0});var nodeTypes={};Object.defineProperty(nodeTypes,"__esModule",{value:!0});var emptyDocument={};Object.defineProperty(emptyDocument,"__esModule",{value:!0});var blocks_1$1=blocks,EMPTY_DOCUMENT={nodeType:blocks_1$1.BLOCKS.DOCUMENT,data:{},content:[{nodeType:blocks_1$1.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};emptyDocument.default=EMPTY_DOCUMENT;var helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.isText=helpers.isBlock=helpers.isInline=void 0;var blocks_1=blocks,inlines_1=inlines;function hasValue(ft,lt){for(var dt=0,vt=Object.keys(ft);dt<vt.length;dt++){var St=vt[dt];if(lt===ft[St])return!0}return!1}function isInline(ft){return hasValue(inlines_1.INLINES,ft.nodeType)}helpers.isInline=isInline;function isBlock(ft){return hasValue(blocks_1.BLOCKS,ft.nodeType)}helpers.isBlock=isBlock;function isText(ft){return ft.nodeType==="text"}helpers.isText=isText;(function(ft){var lt=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Dt,Ft,kt,Ut){Ut===void 0&&(Ut=kt);var Kt=Object.getOwnPropertyDescriptor(Ft,kt);(!Kt||("get"in Kt?!Ft.__esModule:Kt.writable||Kt.configurable))&&(Kt={enumerable:!0,get:function(){return Ft[kt]}}),Object.defineProperty(Dt,Ut,Kt)}:function(Dt,Ft,kt,Ut){Ut===void 0&&(Ut=kt),Dt[Ut]=Ft[kt]}),dt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Dt,Ft){Object.defineProperty(Dt,"default",{enumerable:!0,value:Ft})}:function(Dt,Ft){Dt.default=Ft}),vt=commonjsGlobal&&commonjsGlobal.__exportStar||function(Dt,Ft){for(var kt in Dt)kt!=="default"&&!Object.prototype.hasOwnProperty.call(Ft,kt)&&lt(Ft,Dt,kt)},St=commonjsGlobal&&commonjsGlobal.__importStar||function(Dt){if(Dt&&Dt.__esModule)return Dt;var Ft={};if(Dt!=null)for(var kt in Dt)kt!=="default"&&Object.prototype.hasOwnProperty.call(Dt,kt)&&lt(Ft,Dt,kt);return dt(Ft,Dt),Ft},Et=commonjsGlobal&&commonjsGlobal.__importDefault||function(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}};Object.defineProperty(ft,"__esModule",{value:!0}),ft.helpers=ft.EMPTY_DOCUMENT=ft.MARKS=ft.INLINES=ft.BLOCKS=void 0;var At=blocks;Object.defineProperty(ft,"BLOCKS",{enumerable:!0,get:function(){return At.BLOCKS}});var Ct=inlines;Object.defineProperty(ft,"INLINES",{enumerable:!0,get:function(){return Ct.INLINES}});var Tt=marks;Object.defineProperty(ft,"MARKS",{enumerable:!0,get:function(){return Et(Tt).default}}),vt(schemaConstraints,ft),vt(types,ft),vt(nodeTypes,ft);var Rt=emptyDocument;Object.defineProperty(ft,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return Et(Rt).default}});var Bt=St(helpers);ft.helpers=Bt})(dist);var richTextReactRenderer_es5={};(function(ft){Object.defineProperty(ft,"__esModule",{value:!0});function lt(yr){return yr&&typeof yr=="object"&&"default"in yr?yr.default:yr}var dt=reactExports,vt=lt(dt);/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var St=function(){return St=Object.assign||function(xr){for(var Sr,br=1,cr=arguments.length;br<cr;br++){Sr=arguments[br];for(var pr in Sr)Object.prototype.hasOwnProperty.call(Sr,pr)&&(xr[pr]=Sr[pr])}return xr},St.apply(this,arguments)},Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function At(yr){return yr&&yr.__esModule&&Object.prototype.hasOwnProperty.call(yr,"default")?yr.default:yr}function Ct(yr,xr){return xr={exports:{}},yr(xr,xr.exports),xr.exports}var Tt=Ct(function(yr,xr){Object.defineProperty(xr,"__esModule",{value:!0}),xr.BLOCKS=void 0,function(Sr){Sr.DOCUMENT="document",Sr.PARAGRAPH="paragraph",Sr.HEADING_1="heading-1",Sr.HEADING_2="heading-2",Sr.HEADING_3="heading-3",Sr.HEADING_4="heading-4",Sr.HEADING_5="heading-5",Sr.HEADING_6="heading-6",Sr.OL_LIST="ordered-list",Sr.UL_LIST="unordered-list",Sr.LIST_ITEM="list-item",Sr.HR="hr",Sr.QUOTE="blockquote",Sr.EMBEDDED_ENTRY="embedded-entry-block",Sr.EMBEDDED_ASSET="embedded-asset-block",Sr.EMBEDDED_RESOURCE="embedded-resource-block",Sr.TABLE="table",Sr.TABLE_ROW="table-row",Sr.TABLE_CELL="table-cell",Sr.TABLE_HEADER_CELL="table-header-cell"}(xr.BLOCKS||(xr.BLOCKS={}))});At(Tt),Tt.BLOCKS;var Rt=Ct(function(yr,xr){Object.defineProperty(xr,"__esModule",{value:!0}),xr.INLINES=void 0,function(Sr){Sr.HYPERLINK="hyperlink",Sr.ENTRY_HYPERLINK="entry-hyperlink",Sr.ASSET_HYPERLINK="asset-hyperlink",Sr.EMBEDDED_ENTRY="embedded-entry-inline"}(xr.INLINES||(xr.INLINES={}))});At(Rt),Rt.INLINES;var Bt=Ct(function(yr,xr){Object.defineProperty(xr,"__esModule",{value:!0});var Sr;(function(br){br.BOLD="bold",br.ITALIC="italic",br.UNDERLINE="underline",br.CODE="code",br.SUPERSCRIPT="superscript",br.SUBSCRIPT="subscript"})(Sr||(Sr={})),xr.default=Sr});At(Bt);var Dt=Ct(function(yr,xr){var Sr=Et&&Et.__spreadArray||function(Er,_r,Ar){if(Ar||arguments.length===2)for(var Pr=0,Ir=_r.length,kr;Pr<Ir;Pr++)(kr||!(Pr in _r))&&(kr||(kr=Array.prototype.slice.call(_r,0,Pr)),kr[Pr]=_r[Pr]);return Er.concat(kr||Array.prototype.slice.call(_r))},br=Et&&Et.__importDefault||function(Er){return Er&&Er.__esModule?Er:{default:Er}},cr;Object.defineProperty(xr,"__esModule",{value:!0}),xr.V1_MARKS=xr.V1_NODE_TYPES=xr.TEXT_CONTAINERS=xr.HEADINGS=xr.CONTAINERS=xr.VOID_BLOCKS=xr.TABLE_BLOCKS=xr.LIST_ITEM_BLOCKS=xr.TOP_LEVEL_BLOCKS=void 0;var pr=br(Bt);xr.TOP_LEVEL_BLOCKS=[Tt.BLOCKS.PARAGRAPH,Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6,Tt.BLOCKS.OL_LIST,Tt.BLOCKS.UL_LIST,Tt.BLOCKS.HR,Tt.BLOCKS.QUOTE,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Tt.BLOCKS.EMBEDDED_RESOURCE,Tt.BLOCKS.TABLE],xr.LIST_ITEM_BLOCKS=[Tt.BLOCKS.PARAGRAPH,Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6,Tt.BLOCKS.OL_LIST,Tt.BLOCKS.UL_LIST,Tt.BLOCKS.HR,Tt.BLOCKS.QUOTE,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Tt.BLOCKS.EMBEDDED_RESOURCE],xr.TABLE_BLOCKS=[Tt.BLOCKS.TABLE,Tt.BLOCKS.TABLE_ROW,Tt.BLOCKS.TABLE_CELL,Tt.BLOCKS.TABLE_HEADER_CELL],xr.VOID_BLOCKS=[Tt.BLOCKS.HR,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Tt.BLOCKS.EMBEDDED_RESOURCE],xr.CONTAINERS=(cr={},cr[Tt.BLOCKS.OL_LIST]=[Tt.BLOCKS.LIST_ITEM],cr[Tt.BLOCKS.UL_LIST]=[Tt.BLOCKS.LIST_ITEM],cr[Tt.BLOCKS.LIST_ITEM]=xr.LIST_ITEM_BLOCKS,cr[Tt.BLOCKS.QUOTE]=[Tt.BLOCKS.PARAGRAPH],cr[Tt.BLOCKS.TABLE]=[Tt.BLOCKS.TABLE_ROW],cr[Tt.BLOCKS.TABLE_ROW]=[Tt.BLOCKS.TABLE_CELL,Tt.BLOCKS.TABLE_HEADER_CELL],cr[Tt.BLOCKS.TABLE_CELL]=[Tt.BLOCKS.PARAGRAPH],cr[Tt.BLOCKS.TABLE_HEADER_CELL]=[Tt.BLOCKS.PARAGRAPH],cr),xr.HEADINGS=[Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6],xr.TEXT_CONTAINERS=Sr([Tt.BLOCKS.PARAGRAPH],xr.HEADINGS,!0),xr.V1_NODE_TYPES=[Tt.BLOCKS.DOCUMENT,Tt.BLOCKS.PARAGRAPH,Tt.BLOCKS.HEADING_1,Tt.BLOCKS.HEADING_2,Tt.BLOCKS.HEADING_3,Tt.BLOCKS.HEADING_4,Tt.BLOCKS.HEADING_5,Tt.BLOCKS.HEADING_6,Tt.BLOCKS.OL_LIST,Tt.BLOCKS.UL_LIST,Tt.BLOCKS.LIST_ITEM,Tt.BLOCKS.HR,Tt.BLOCKS.QUOTE,Tt.BLOCKS.EMBEDDED_ENTRY,Tt.BLOCKS.EMBEDDED_ASSET,Rt.INLINES.HYPERLINK,Rt.INLINES.ENTRY_HYPERLINK,Rt.INLINES.ASSET_HYPERLINK,Rt.INLINES.EMBEDDED_ENTRY,"text"],xr.V1_MARKS=[pr.default.BOLD,pr.default.CODE,pr.default.ITALIC,pr.default.UNDERLINE]});At(Dt),Dt.V1_MARKS,Dt.V1_NODE_TYPES,Dt.TEXT_CONTAINERS,Dt.HEADINGS,Dt.CONTAINERS,Dt.VOID_BLOCKS,Dt.TABLE_BLOCKS,Dt.LIST_ITEM_BLOCKS,Dt.TOP_LEVEL_BLOCKS;var Ft=Ct(function(yr,xr){Object.defineProperty(xr,"__esModule",{value:!0})});At(Ft);var kt=Ct(function(yr,xr){Object.defineProperty(xr,"__esModule",{value:!0})});At(kt);var Ut=Ct(function(yr,xr){Object.defineProperty(xr,"__esModule",{value:!0});var Sr={nodeType:Tt.BLOCKS.DOCUMENT,data:{},content:[{nodeType:Tt.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};xr.default=Sr});At(Ut);var Kt=Ct(function(yr,xr){Object.defineProperty(xr,"__esModule",{value:!0}),xr.isText=xr.isBlock=xr.isInline=void 0;function Sr(Er,_r){for(var Ar=0,Pr=Object.keys(Er);Ar<Pr.length;Ar++){var Ir=Pr[Ar];if(_r===Er[Ir])return!0}return!1}function br(Er){return Sr(Rt.INLINES,Er.nodeType)}xr.isInline=br;function cr(Er){return Sr(Tt.BLOCKS,Er.nodeType)}xr.isBlock=cr;function pr(Er){return Er.nodeType==="text"}xr.isText=pr});At(Kt),Kt.isText,Kt.isBlock,Kt.isInline;var tr=Ct(function(yr,xr){var Sr=Et&&Et.__createBinding||(Object.create?function(Ar,Pr,Ir,kr){kr===void 0&&(kr=Ir);var Dr=Object.getOwnPropertyDescriptor(Pr,Ir);(!Dr||("get"in Dr?!Pr.__esModule:Dr.writable||Dr.configurable))&&(Dr={enumerable:!0,get:function(){return Pr[Ir]}}),Object.defineProperty(Ar,kr,Dr)}:function(Ar,Pr,Ir,kr){kr===void 0&&(kr=Ir),Ar[kr]=Pr[Ir]}),br=Et&&Et.__setModuleDefault||(Object.create?function(Ar,Pr){Object.defineProperty(Ar,"default",{enumerable:!0,value:Pr})}:function(Ar,Pr){Ar.default=Pr}),cr=Et&&Et.__exportStar||function(Ar,Pr){for(var Ir in Ar)Ir!=="default"&&!Object.prototype.hasOwnProperty.call(Pr,Ir)&&Sr(Pr,Ar,Ir)},pr=Et&&Et.__importStar||function(Ar){if(Ar&&Ar.__esModule)return Ar;var Pr={};if(Ar!=null)for(var Ir in Ar)Ir!=="default"&&Object.prototype.hasOwnProperty.call(Ar,Ir)&&Sr(Pr,Ar,Ir);return br(Pr,Ar),Pr},Er=Et&&Et.__importDefault||function(Ar){return Ar&&Ar.__esModule?Ar:{default:Ar}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.helpers=xr.EMPTY_DOCUMENT=xr.MARKS=xr.INLINES=xr.BLOCKS=void 0,Object.defineProperty(xr,"BLOCKS",{enumerable:!0,get:function(){return Tt.BLOCKS}}),Object.defineProperty(xr,"INLINES",{enumerable:!0,get:function(){return Rt.INLINES}}),Object.defineProperty(xr,"MARKS",{enumerable:!0,get:function(){return Er(Bt).default}}),cr(Dt,xr),cr(Ft,xr),cr(kt,xr),Object.defineProperty(xr,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return Er(Ut).default}});var _r=pr(Kt);xr.helpers=_r});At(tr);var Wt=tr.helpers;tr.EMPTY_DOCUMENT;var Zt=tr.MARKS,Ht=tr.INLINES,nr=tr.BLOCKS;function sr(yr,xr){return dt.isValidElement(yr)&&yr.key===null?dt.cloneElement(yr,{key:xr}):yr}function ar(yr,xr){return yr.map(function(Sr,br){return sr(ir(Sr,xr),br)})}function ir(yr,xr){var Sr=xr.renderNode,br=xr.renderMark,cr=xr.renderText;if(Wt.isText(yr))return yr.marks.reduce(function(Er,_r){return br[_r.type]?br[_r.type](Er):Er},cr?cr(yr.value):yr.value);var pr=ar(yr.content,xr);return!yr.nodeType||!Sr[yr.nodeType]?vt.createElement(vt.Fragment,null,pr):Sr[yr.nodeType](yr,pr)}var rr,lr,ur=(rr={},rr[nr.DOCUMENT]=function(yr,xr){return xr},rr[nr.PARAGRAPH]=function(yr,xr){return vt.createElement("p",null,xr)},rr[nr.HEADING_1]=function(yr,xr){return vt.createElement("h1",null,xr)},rr[nr.HEADING_2]=function(yr,xr){return vt.createElement("h2",null,xr)},rr[nr.HEADING_3]=function(yr,xr){return vt.createElement("h3",null,xr)},rr[nr.HEADING_4]=function(yr,xr){return vt.createElement("h4",null,xr)},rr[nr.HEADING_5]=function(yr,xr){return vt.createElement("h5",null,xr)},rr[nr.HEADING_6]=function(yr,xr){return vt.createElement("h6",null,xr)},rr[nr.EMBEDDED_ENTRY]=function(yr,xr){return vt.createElement("div",null,xr)},rr[nr.EMBEDDED_RESOURCE]=function(yr,xr){return vt.createElement("div",null,xr)},rr[nr.UL_LIST]=function(yr,xr){return vt.createElement("ul",null,xr)},rr[nr.OL_LIST]=function(yr,xr){return vt.createElement("ol",null,xr)},rr[nr.LIST_ITEM]=function(yr,xr){return vt.createElement("li",null,xr)},rr[nr.QUOTE]=function(yr,xr){return vt.createElement("blockquote",null,xr)},rr[nr.HR]=function(){return vt.createElement("hr",null)},rr[nr.TABLE]=function(yr,xr){return vt.createElement("table",null,vt.createElement("tbody",null,xr))},rr[nr.TABLE_ROW]=function(yr,xr){return vt.createElement("tr",null,xr)},rr[nr.TABLE_HEADER_CELL]=function(yr,xr){return vt.createElement("th",null,xr)},rr[nr.TABLE_CELL]=function(yr,xr){return vt.createElement("td",null,xr)},rr[Ht.ASSET_HYPERLINK]=function(yr){return mr(Ht.ASSET_HYPERLINK,yr)},rr[Ht.ENTRY_HYPERLINK]=function(yr){return mr(Ht.ENTRY_HYPERLINK,yr)},rr[Ht.EMBEDDED_ENTRY]=function(yr){return mr(Ht.EMBEDDED_ENTRY,yr)},rr[Ht.HYPERLINK]=function(yr,xr){return vt.createElement("a",{href:yr.data.uri},xr)},rr),dr=(lr={},lr[Zt.BOLD]=function(yr){return vt.createElement("b",null,yr)},lr[Zt.ITALIC]=function(yr){return vt.createElement("i",null,yr)},lr[Zt.UNDERLINE]=function(yr){return vt.createElement("u",null,yr)},lr[Zt.CODE]=function(yr){return vt.createElement("code",null,yr)},lr[Zt.SUPERSCRIPT]=function(yr){return vt.createElement("sup",null,yr)},lr[Zt.SUBSCRIPT]=function(yr){return vt.createElement("sub",null,yr)},lr);function mr(yr,xr){return vt.createElement("span",{key:xr.data.target.sys.id},"type: ",xr.nodeType," id: ",xr.data.target.sys.id)}function Cr(yr,xr){return xr===void 0&&(xr={}),yr?ir(yr,{renderNode:St(St({},ur),xr.renderNode),renderMark:St(St({},dr),xr.renderMark),renderText:xr.renderText}):null}ft.documentToReactComponents=Cr})(richTextReactRenderer_es5);var lib={},players={},utils={},loadScript=function ft(lt,dt,vt){var St=document.head||document.getElementsByTagName("head")[0],Et=document.createElement("script");typeof dt=="function"&&(vt=dt,dt={}),dt=dt||{},vt=vt||function(){},Et.type=dt.type||"text/javascript",Et.charset=dt.charset||"utf8",Et.async="async"in dt?!!dt.async:!0,Et.src=lt,dt.attrs&&setAttributes(Et,dt.attrs),dt.text&&(Et.text=""+dt.text);var At="onload"in Et?stdOnEnd:ieOnEnd;At(Et,vt),Et.onload||stdOnEnd(Et,vt),St.appendChild(Et)};function setAttributes(ft,lt){for(var dt in lt)ft.setAttribute(dt,lt[dt])}function stdOnEnd(ft,lt){ft.onload=function(){this.onerror=this.onload=null,lt(null,ft)},ft.onerror=function(){this.onerror=this.onload=null,lt(new Error("Failed to load "+this.src),ft)}}function ieOnEnd(ft,lt){ft.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,lt(null,ft))}}var isMergeableObject=function ft(lt){return isNonNullObject(lt)&&!isSpecial(lt)};function isNonNullObject(ft){return!!ft&&typeof ft=="object"}function isSpecial(ft){var lt=Object.prototype.toString.call(ft);return lt==="[object RegExp]"||lt==="[object Date]"||isReactElement(ft)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(ft){return ft.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(ft){return Array.isArray(ft)?[]:{}}function cloneUnlessOtherwiseSpecified(ft,lt){return lt.clone!==!1&&lt.isMergeableObject(ft)?deepmerge(emptyTarget(ft),ft,lt):ft}function defaultArrayMerge(ft,lt,dt){return ft.concat(lt).map(function(vt){return cloneUnlessOtherwiseSpecified(vt,dt)})}function getMergeFunction(ft,lt){if(!lt.customMerge)return deepmerge;var dt=lt.customMerge(ft);return typeof dt=="function"?dt:deepmerge}function getEnumerableOwnPropertySymbols(ft){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(ft).filter(function(lt){return Object.propertyIsEnumerable.call(ft,lt)}):[]}function getKeys(ft){return Object.keys(ft).concat(getEnumerableOwnPropertySymbols(ft))}function propertyIsOnObject(ft,lt){try{return lt in ft}catch{return!1}}function propertyIsUnsafe(ft,lt){return propertyIsOnObject(ft,lt)&&!(Object.hasOwnProperty.call(ft,lt)&&Object.propertyIsEnumerable.call(ft,lt))}function mergeObject(ft,lt,dt){var vt={};return dt.isMergeableObject(ft)&&getKeys(ft).forEach(function(St){vt[St]=cloneUnlessOtherwiseSpecified(ft[St],dt)}),getKeys(lt).forEach(function(St){propertyIsUnsafe(ft,St)||(propertyIsOnObject(ft,St)&&dt.isMergeableObject(lt[St])?vt[St]=getMergeFunction(St,dt)(ft[St],lt[St],dt):vt[St]=cloneUnlessOtherwiseSpecified(lt[St],dt))}),vt}function deepmerge(ft,lt,dt){dt=dt||{},dt.arrayMerge=dt.arrayMerge||defaultArrayMerge,dt.isMergeableObject=dt.isMergeableObject||isMergeableObject,dt.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var vt=Array.isArray(lt),St=Array.isArray(ft),Et=vt===St;return Et?vt?dt.arrayMerge(ft,lt,dt):mergeObject(ft,lt,dt):cloneUnlessOtherwiseSpecified(lt,dt)}deepmerge.all=function ft(lt,dt){if(!Array.isArray(lt))throw new Error("first argument should be an array");return lt.reduce(function(vt,St){return deepmerge(vt,St,dt)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;Object.defineProperty(utils,"__esModule",{value:!0});utils.parseStartTime=parseStartTime;utils.parseEndTime=parseEndTime;utils.randomString=randomString;utils.queryString=queryString;utils.getSDK=getSDK;utils.getConfig=getConfig;utils.omit=omit;utils.callPlayer=callPlayer;utils.isMediaStream=isMediaStream;utils.isBlobUrl=isBlobUrl;utils.supportsWebKitPresentationMode=supportsWebKitPresentationMode;var _loadScript=_interopRequireDefault$2(loadScript),_deepmerge$1=_interopRequireDefault$2(cjs);function _interopRequireDefault$2(ft){return ft&&ft.__esModule?ft:{default:ft}}function _slicedToArray(ft,lt){return _arrayWithHoles(ft)||_iterableToArrayLimit(ft,lt)||_unsupportedIterableToArray$2(ft,lt)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(ft,lt){if(ft){if(typeof ft=="string")return _arrayLikeToArray$2(ft,lt);var dt=Object.prototype.toString.call(ft).slice(8,-1);if(dt==="Object"&&ft.constructor&&(dt=ft.constructor.name),dt==="Map"||dt==="Set")return Array.from(ft);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return _arrayLikeToArray$2(ft,lt)}}function _arrayLikeToArray$2(ft,lt){(lt==null||lt>ft.length)&&(lt=ft.length);for(var dt=0,vt=new Array(lt);dt<lt;dt++)vt[dt]=ft[dt];return vt}function _iterableToArrayLimit(ft,lt){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ft)))){var dt=[],vt=!0,St=!1,Et=void 0;try{for(var At=ft[Symbol.iterator](),Ct;!(vt=(Ct=At.next()).done)&&(dt.push(Ct.value),!(lt&&dt.length===lt));vt=!0);}catch(Tt){St=!0,Et=Tt}finally{try{!vt&&At.return!=null&&At.return()}finally{if(St)throw Et}}return dt}}function _arrayWithHoles(ft){if(Array.isArray(ft))return ft}var MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(ft,lt){if(!(ft instanceof Array)){var dt=ft.match(lt);if(dt){var vt=dt[1];if(vt.match(MATCH_START_STAMP))return parseTimeString(vt);if(MATCH_NUMERIC.test(vt))return parseInt(vt)}}}function parseTimeString(ft){for(var lt=0,dt=MATCH_START_STAMP.exec(ft);dt!==null;){var vt=dt,St=_slicedToArray(vt,3),Et=St[1],At=St[2];At==="h"&&(lt+=parseInt(Et,10)*60*60),At==="m"&&(lt+=parseInt(Et,10)*60),At==="s"&&(lt+=parseInt(Et,10)),dt=MATCH_START_STAMP.exec(ft)}return lt}function parseStartTime(ft){return parseTimeParam(ft,MATCH_START_QUERY)}function parseEndTime(ft){return parseTimeParam(ft,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(ft){return Object.keys(ft).map(function(lt){return"".concat(lt,"=").concat(ft[lt])}).join("&")}function getGlobal(ft){return window[ft]?window[ft]:window.exports&&window.exports[ft]?window.exports[ft]:window.module&&window.module.exports&&window.module.exports[ft]?window.module.exports[ft]:null}var requests={};function getSDK(ft,lt){var dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,vt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},St=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_loadScript.default,Et=getGlobal(lt);return Et&&vt(Et)?Promise.resolve(Et):new Promise(function(At,Ct){if(requests[ft]){requests[ft].push({resolve:At,reject:Ct});return}requests[ft]=[{resolve:At,reject:Ct}];var Tt=function(Dt){requests[ft].forEach(function(Ft){return Ft.resolve(Dt)})};if(dt){var Rt=window[dt];window[dt]=function(){Rt&&Rt(),Tt(getGlobal(lt))}}St(ft,function(Bt){Bt?(requests[ft].forEach(function(Dt){return Dt.reject(Bt)}),requests[ft]=null):dt||Tt(getGlobal(lt))})})}function getConfig(ft,lt){return(0,_deepmerge$1.default)(lt.config,ft.config)}function omit(ft){for(var lt,dt=arguments.length,vt=new Array(dt>1?dt-1:0),St=1;St<dt;St++)vt[St-1]=arguments[St];for(var Et=(lt=[]).concat.apply(lt,vt),At={},Ct=Object.keys(ft),Tt=0,Rt=Ct;Tt<Rt.length;Tt++){var Bt=Rt[Tt];Et.indexOf(Bt)===-1&&(At[Bt]=ft[Bt])}return At}function callPlayer(ft){var lt;if(!this.player||!this.player[ft]){var dt="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(ft,"%c – ");return this.player?this.player[ft]||(dt+="The method was not available"):dt+="The player was not available",console.warn(dt,"font-weight: bold",""),null}for(var vt=arguments.length,St=new Array(vt>1?vt-1:0),Et=1;Et<vt;Et++)St[Et-1]=arguments[Et];return(lt=this.player)[ft].apply(lt,St)}function isMediaStream(ft){return typeof window<"u"&&typeof window.MediaStream<"u"&&ft instanceof window.MediaStream}function isBlobUrl(ft){return/^blob:/.test(ft)}function supportsWebKitPresentationMode(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),lt=/iPhone|iPod/.test(navigator.userAgent)===!1;return ft.webkitSupportsPresentationMode&&typeof ft.webkitSetPresentationMode=="function"&&lt}var patterns={};Object.defineProperty(patterns,"__esModule",{value:!0});patterns.canPlay=patterns.FLV_EXTENSIONS=patterns.DASH_EXTENSIONS=patterns.HLS_EXTENSIONS=patterns.VIDEO_EXTENSIONS=patterns.AUDIO_EXTENSIONS=patterns.MATCH_URL_KALTURA=patterns.MATCH_URL_VIDYARD=patterns.MATCH_URL_MIXCLOUD=patterns.MATCH_URL_DAILYMOTION=patterns.MATCH_URL_TWITCH_CHANNEL=patterns.MATCH_URL_TWITCH_VIDEO=patterns.MATCH_URL_WISTIA=patterns.MATCH_URL_STREAMABLE=patterns.MATCH_URL_FACEBOOK_WATCH=patterns.MATCH_URL_FACEBOOK=patterns.MATCH_URL_VIMEO=patterns.MATCH_URL_SOUNDCLOUD=patterns.MATCH_URL_YOUTUBE=void 0;var _utils$1=utils;function _createForOfIteratorHelper(ft,lt){var dt;if(typeof Symbol>"u"||ft[Symbol.iterator]==null){if(Array.isArray(ft)||(dt=_unsupportedIterableToArray$1(ft))||lt&&ft&&typeof ft.length=="number"){dt&&(ft=dt);var vt=0,St=function(){};return{s:St,n:function(){return vt>=ft.length?{done:!0}:{done:!1,value:ft[vt++]}},e:function(Rt){throw Rt},f:St}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Et=!0,At=!1,Ct;return{s:function(){dt=ft[Symbol.iterator]()},n:function(){var Rt=dt.next();return Et=Rt.done,Rt},e:function(Rt){At=!0,Ct=Rt},f:function(){try{!Et&&dt.return!=null&&dt.return()}finally{if(At)throw Ct}}}}function _unsupportedIterableToArray$1(ft,lt){if(ft){if(typeof ft=="string")return _arrayLikeToArray$1(ft,lt);var dt=Object.prototype.toString.call(ft).slice(8,-1);if(dt==="Object"&&ft.constructor&&(dt=ft.constructor.name),dt==="Map"||dt==="Set")return Array.from(ft);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return _arrayLikeToArray$1(ft,lt)}}function _arrayLikeToArray$1(ft,lt){(lt==null||lt>ft.length)&&(lt=ft.length);for(var dt=0,vt=new Array(lt);dt<lt;dt++)vt[dt]=ft[dt];return vt}var MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;patterns.MATCH_URL_YOUTUBE=MATCH_URL_YOUTUBE;var MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;patterns.MATCH_URL_SOUNDCLOUD=MATCH_URL_SOUNDCLOUD;var MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/;patterns.MATCH_URL_VIMEO=MATCH_URL_VIMEO;var MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;patterns.MATCH_URL_FACEBOOK=MATCH_URL_FACEBOOK;var MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/;patterns.MATCH_URL_FACEBOOK_WATCH=MATCH_URL_FACEBOOK_WATCH;var MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/;patterns.MATCH_URL_STREAMABLE=MATCH_URL_STREAMABLE;var MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;patterns.MATCH_URL_WISTIA=MATCH_URL_WISTIA;var MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;patterns.MATCH_URL_TWITCH_VIDEO=MATCH_URL_TWITCH_VIDEO;var MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;patterns.MATCH_URL_TWITCH_CHANNEL=MATCH_URL_TWITCH_CHANNEL;var MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;patterns.MATCH_URL_DAILYMOTION=MATCH_URL_DAILYMOTION;var MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/;patterns.MATCH_URL_MIXCLOUD=MATCH_URL_MIXCLOUD;var MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;patterns.MATCH_URL_VIDYARD=MATCH_URL_VIDYARD;var MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;patterns.MATCH_URL_KALTURA=MATCH_URL_KALTURA;var AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;patterns.AUDIO_EXTENSIONS=AUDIO_EXTENSIONS;var VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;patterns.VIDEO_EXTENSIONS=VIDEO_EXTENSIONS;var HLS_EXTENSIONS=/\.(m3u8)($|\?)/i;patterns.HLS_EXTENSIONS=HLS_EXTENSIONS;var DASH_EXTENSIONS=/\.(mpd)($|\?)/i;patterns.DASH_EXTENSIONS=DASH_EXTENSIONS;var FLV_EXTENSIONS=/\.(flv)($|\?)/i;patterns.FLV_EXTENSIONS=FLV_EXTENSIONS;var canPlayFile=function ft(lt){if(lt instanceof Array){var dt=_createForOfIteratorHelper(lt),vt;try{for(dt.s();!(vt=dt.n()).done;){var St=vt.value;if(typeof St=="string"&&ft(St)||ft(St.src))return!0}}catch(Et){dt.e(Et)}finally{dt.f()}return!1}return(0,_utils$1.isMediaStream)(lt)||(0,_utils$1.isBlobUrl)(lt)?!0:AUDIO_EXTENSIONS.test(lt)||VIDEO_EXTENSIONS.test(lt)||HLS_EXTENSIONS.test(lt)||DASH_EXTENSIONS.test(lt)||FLV_EXTENSIONS.test(lt)},canPlay={youtube:function ft(lt){return lt instanceof Array?lt.every(function(dt){return MATCH_URL_YOUTUBE.test(dt)}):MATCH_URL_YOUTUBE.test(lt)},soundcloud:function ft(lt){return MATCH_URL_SOUNDCLOUD.test(lt)&&!AUDIO_EXTENSIONS.test(lt)},vimeo:function ft(lt){return MATCH_URL_VIMEO.test(lt)&&!VIDEO_EXTENSIONS.test(lt)&&!HLS_EXTENSIONS.test(lt)},facebook:function ft(lt){return MATCH_URL_FACEBOOK.test(lt)||MATCH_URL_FACEBOOK_WATCH.test(lt)},streamable:function ft(lt){return MATCH_URL_STREAMABLE.test(lt)},wistia:function ft(lt){return MATCH_URL_WISTIA.test(lt)},twitch:function ft(lt){return MATCH_URL_TWITCH_VIDEO.test(lt)||MATCH_URL_TWITCH_CHANNEL.test(lt)},dailymotion:function ft(lt){return MATCH_URL_DAILYMOTION.test(lt)},mixcloud:function ft(lt){return MATCH_URL_MIXCLOUD.test(lt)},vidyard:function ft(lt){return MATCH_URL_VIDYARD.test(lt)},kaltura:function ft(lt){return MATCH_URL_KALTURA.test(lt)},file:canPlayFile};patterns.canPlay=canPlay;var YouTube={},hasRequiredYouTube;function requireYouTube(){return hasRequiredYouTube||(hasRequiredYouTube=1,function(ft){function lt(cr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(Er){return typeof Er}:lt=function(Er){return Er&&typeof Symbol=="function"&&Er.constructor===Symbol&&Er!==Symbol.prototype?"symbol":typeof Er},lt(cr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var cr=new WeakMap;return Et=function(){return cr},cr}function At(cr){if(cr&&cr.__esModule)return cr;if(cr===null||lt(cr)!=="object"&&typeof cr!="function")return{default:cr};var pr=Et();if(pr&&pr.has(cr))return pr.get(cr);var Er={},_r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ar in cr)if(Object.prototype.hasOwnProperty.call(cr,Ar)){var Pr=_r?Object.getOwnPropertyDescriptor(cr,Ar):null;Pr&&(Pr.get||Pr.set)?Object.defineProperty(Er,Ar,Pr):Er[Ar]=cr[Ar]}return Er.default=cr,pr&&pr.set(cr,Er),Er}function Ct(cr,pr){var Er=Object.keys(cr);if(Object.getOwnPropertySymbols){var _r=Object.getOwnPropertySymbols(cr);pr&&(_r=_r.filter(function(Ar){return Object.getOwnPropertyDescriptor(cr,Ar).enumerable})),Er.push.apply(Er,_r)}return Er}function Tt(cr){for(var pr=1;pr<arguments.length;pr++){var Er=arguments[pr]!=null?arguments[pr]:{};pr%2?Ct(Object(Er),!0).forEach(function(_r){lr(cr,_r,Er[_r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cr,Object.getOwnPropertyDescriptors(Er)):Ct(Object(Er)).forEach(function(_r){Object.defineProperty(cr,_r,Object.getOwnPropertyDescriptor(Er,_r))})}return cr}function Rt(cr,pr){return Ut(cr)||kt(cr,pr)||Dt(cr,pr)||Bt()}function Bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(cr,pr){if(cr){if(typeof cr=="string")return Ft(cr,pr);var Er=Object.prototype.toString.call(cr).slice(8,-1);if(Er==="Object"&&cr.constructor&&(Er=cr.constructor.name),Er==="Map"||Er==="Set")return Array.from(cr);if(Er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Er))return Ft(cr,pr)}}function Ft(cr,pr){(pr==null||pr>cr.length)&&(pr=cr.length);for(var Er=0,_r=new Array(pr);Er<pr;Er++)_r[Er]=cr[Er];return _r}function kt(cr,pr){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(cr)))){var Er=[],_r=!0,Ar=!1,Pr=void 0;try{for(var Ir=cr[Symbol.iterator](),kr;!(_r=(kr=Ir.next()).done)&&(Er.push(kr.value),!(pr&&Er.length===pr));_r=!0);}catch(Dr){Ar=!0,Pr=Dr}finally{try{!_r&&Ir.return!=null&&Ir.return()}finally{if(Ar)throw Pr}}return Er}}function Ut(cr){if(Array.isArray(cr))return cr}function Kt(cr,pr){if(!(cr instanceof pr))throw new TypeError("Cannot call a class as a function")}function tr(cr,pr){for(var Er=0;Er<pr.length;Er++){var _r=pr[Er];_r.enumerable=_r.enumerable||!1,_r.configurable=!0,"value"in _r&&(_r.writable=!0),Object.defineProperty(cr,_r.key,_r)}}function Wt(cr,pr,Er){return pr&&tr(cr.prototype,pr),Er&&tr(cr,Er),cr}function Zt(cr,pr){if(typeof pr!="function"&&pr!==null)throw new TypeError("Super expression must either be null or a function");cr.prototype=Object.create(pr&&pr.prototype,{constructor:{value:cr,writable:!0,configurable:!0}}),pr&&Ht(cr,pr)}function Ht(cr,pr){return Ht=Object.setPrototypeOf||function(_r,Ar){return _r.__proto__=Ar,_r},Ht(cr,pr)}function nr(cr){var pr=ir();return function(){var _r=rr(cr),Ar;if(pr){var Pr=rr(this).constructor;Ar=Reflect.construct(_r,arguments,Pr)}else Ar=_r.apply(this,arguments);return sr(this,Ar)}}function sr(cr,pr){return pr&&(lt(pr)==="object"||typeof pr=="function")?pr:ar(cr)}function ar(cr){if(cr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return cr}function ir(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function rr(cr){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(Er){return Er.__proto__||Object.getPrototypeOf(Er)},rr(cr)}function lr(cr,pr,Er){return pr in cr?Object.defineProperty(cr,pr,{value:Er,enumerable:!0,configurable:!0,writable:!0}):cr[pr]=Er,cr}var ur="https://www.youtube.com/iframe_api",dr="YT",mr="onYouTubeIframeAPIReady",Cr=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,yr=/user\/([a-zA-Z0-9_-]+)\/?/,xr=/youtube-nocookie\.com/,Sr="https://www.youtube-nocookie.com",br=function(cr){Zt(Er,cr);var pr=nr(Er);function Er(){var _r;Kt(this,Er);for(var Ar=arguments.length,Pr=new Array(Ar),Ir=0;Ir<Ar;Ir++)Pr[Ir]=arguments[Ir];return _r=pr.call.apply(pr,[this].concat(Pr)),lr(ar(_r),"callPlayer",vt.callPlayer),lr(ar(_r),"parsePlaylist",function(kr){if(kr instanceof Array)return{listType:"playlist",playlist:kr.map(_r.getID).join(",")};if(Cr.test(kr)){var Dr=kr.match(Cr),Jr=Rt(Dr,2),Or=Jr[1];return{listType:"playlist",list:Or.replace(/^UC/,"UU")}}if(yr.test(kr)){var jr=kr.match(yr),Nr=Rt(jr,2),Vr=Nr[1];return{listType:"user_uploads",list:Vr}}return{}}),lr(ar(_r),"onStateChange",function(kr){var Dr=kr.data,Jr=_r.props,Or=Jr.onPlay,jr=Jr.onPause,Nr=Jr.onBuffer,Vr=Jr.onBufferEnd,Br=Jr.onEnded,zr=Jr.onReady,qr=Jr.loop,en=Jr.config,cn=en.playerVars,Rn=en.onUnstarted,Qr=window[dr].PlayerState,yn=Qr.UNSTARTED,Pn=Qr.PLAYING,pn=Qr.PAUSED,Fr=Qr.BUFFERING,Rr=Qr.ENDED,Yr=Qr.CUED;if(Dr===yn&&Rn(),Dr===Pn&&(Or(),Vr()),Dr===pn&&jr(),Dr===Fr&&Nr(),Dr===Rr){var fn=!!_r.callPlayer("getPlaylist");qr&&!fn&&(cn.start?_r.seekTo(cn.start):_r.play()),Br()}Dr===Yr&&zr()}),lr(ar(_r),"mute",function(){_r.callPlayer("mute")}),lr(ar(_r),"unmute",function(){_r.callPlayer("unMute")}),lr(ar(_r),"ref",function(kr){_r.container=kr}),_r}return Wt(Er,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(Ar){return!Ar||Ar instanceof Array||Cr.test(Ar)?null:Ar.match(St.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(Ar,Pr){var Ir=this,kr=this.props,Dr=kr.playing,Jr=kr.muted,Or=kr.playsinline,jr=kr.controls,Nr=kr.loop,Vr=kr.config,Br=kr.onError,zr=Vr.playerVars,qr=Vr.embedOptions,en=this.getID(Ar);if(Pr){if(Cr.test(Ar)||yr.test(Ar)||Ar instanceof Array){this.player.loadPlaylist(this.parsePlaylist(Ar));return}this.player.cueVideoById({videoId:en,startSeconds:(0,vt.parseStartTime)(Ar)||zr.start,endSeconds:(0,vt.parseEndTime)(Ar)||zr.end});return}(0,vt.getSDK)(ur,dr,mr,function(cn){return cn.loaded}).then(function(cn){Ir.container&&(Ir.player=new cn.Player(Ir.container,Tt({width:"100%",height:"100%",videoId:en,playerVars:Tt(Tt({autoplay:Dr?1:0,mute:Jr?1:0,controls:jr?1:0,start:(0,vt.parseStartTime)(Ar),end:(0,vt.parseEndTime)(Ar),origin:window.location.origin,playsinline:Or?1:0},Ir.parsePlaylist(Ar)),zr),events:{onReady:function(){Nr&&Ir.player.setLoop(!0),Ir.props.onReady()},onPlaybackRateChange:function(Qr){return Ir.props.onPlaybackRateChange(Qr.data)},onStateChange:Ir.onStateChange,onError:function(Qr){return Br(Qr.data)}},host:xr.test(Ar)?Sr:void 0},qr)))},Br),qr.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(Ar){this.callPlayer("seekTo",Ar),this.props.playing||this.pause()}},{key:"setVolume",value:function(Ar){this.callPlayer("setVolume",Ar*100)}},{key:"setPlaybackRate",value:function(Ar){this.callPlayer("setPlaybackRate",Ar)}},{key:"setLoop",value:function(Ar){this.callPlayer("setLoop",Ar)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var Ar=this.props.display,Pr={width:"100%",height:"100%",display:Ar};return dt.default.createElement("div",{style:Pr},dt.default.createElement("div",{ref:this.ref}))}}]),Er}(dt.Component);ft.default=br,lr(br,"displayName","YouTube"),lr(br,"canPlay",St.canPlay.youtube)}(YouTube)),YouTube}var SoundCloud={},hasRequiredSoundCloud;function requireSoundCloud(){return hasRequiredSoundCloud||(hasRequiredSoundCloud=1,function(ft){function lt(ir){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(lr){return typeof lr}:lt=function(lr){return lr&&typeof Symbol=="function"&&lr.constructor===Symbol&&lr!==Symbol.prototype?"symbol":typeof lr},lt(ir)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var ir=new WeakMap;return Et=function(){return ir},ir}function At(ir){if(ir&&ir.__esModule)return ir;if(ir===null||lt(ir)!=="object"&&typeof ir!="function")return{default:ir};var rr=Et();if(rr&&rr.has(ir))return rr.get(ir);var lr={},ur=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var dr in ir)if(Object.prototype.hasOwnProperty.call(ir,dr)){var mr=ur?Object.getOwnPropertyDescriptor(ir,dr):null;mr&&(mr.get||mr.set)?Object.defineProperty(lr,dr,mr):lr[dr]=ir[dr]}return lr.default=ir,rr&&rr.set(ir,lr),lr}function Ct(ir,rr){var lr=Object.keys(ir);if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(ir);rr&&(ur=ur.filter(function(dr){return Object.getOwnPropertyDescriptor(ir,dr).enumerable})),lr.push.apply(lr,ur)}return lr}function Tt(ir){for(var rr=1;rr<arguments.length;rr++){var lr=arguments[rr]!=null?arguments[rr]:{};rr%2?Ct(Object(lr),!0).forEach(function(ur){Ht(ir,ur,lr[ur])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ir,Object.getOwnPropertyDescriptors(lr)):Ct(Object(lr)).forEach(function(ur){Object.defineProperty(ir,ur,Object.getOwnPropertyDescriptor(lr,ur))})}return ir}function Rt(ir,rr){if(!(ir instanceof rr))throw new TypeError("Cannot call a class as a function")}function Bt(ir,rr){for(var lr=0;lr<rr.length;lr++){var ur=rr[lr];ur.enumerable=ur.enumerable||!1,ur.configurable=!0,"value"in ur&&(ur.writable=!0),Object.defineProperty(ir,ur.key,ur)}}function Dt(ir,rr,lr){return rr&&Bt(ir.prototype,rr),lr&&Bt(ir,lr),ir}function Ft(ir,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Super expression must either be null or a function");ir.prototype=Object.create(rr&&rr.prototype,{constructor:{value:ir,writable:!0,configurable:!0}}),rr&&kt(ir,rr)}function kt(ir,rr){return kt=Object.setPrototypeOf||function(ur,dr){return ur.__proto__=dr,ur},kt(ir,rr)}function Ut(ir){var rr=Wt();return function(){var ur=Zt(ir),dr;if(rr){var mr=Zt(this).constructor;dr=Reflect.construct(ur,arguments,mr)}else dr=ur.apply(this,arguments);return Kt(this,dr)}}function Kt(ir,rr){return rr&&(lt(rr)==="object"||typeof rr=="function")?rr:tr(ir)}function tr(ir){if(ir===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ir}function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zt(ir){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(lr){return lr.__proto__||Object.getPrototypeOf(lr)},Zt(ir)}function Ht(ir,rr,lr){return rr in ir?Object.defineProperty(ir,rr,{value:lr,enumerable:!0,configurable:!0,writable:!0}):ir[rr]=lr,ir}var nr="https://w.soundcloud.com/player/api.js",sr="SC",ar=function(ir){Ft(lr,ir);var rr=Ut(lr);function lr(){var ur;Rt(this,lr);for(var dr=arguments.length,mr=new Array(dr),Cr=0;Cr<dr;Cr++)mr[Cr]=arguments[Cr];return ur=rr.call.apply(rr,[this].concat(mr)),Ht(tr(ur),"callPlayer",vt.callPlayer),Ht(tr(ur),"duration",null),Ht(tr(ur),"currentTime",null),Ht(tr(ur),"fractionLoaded",null),Ht(tr(ur),"mute",function(){ur.setVolume(0)}),Ht(tr(ur),"unmute",function(){ur.props.volume!==null&&ur.setVolume(ur.props.volume)}),Ht(tr(ur),"ref",function(yr){ur.iframe=yr}),ur}return Dt(lr,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(dr,mr){var Cr=this;(0,vt.getSDK)(nr,sr).then(function(yr){if(Cr.iframe){var xr=yr.Widget.Events,Sr=xr.PLAY,br=xr.PLAY_PROGRESS,cr=xr.PAUSE,pr=xr.FINISH,Er=xr.ERROR;mr||(Cr.player=yr.Widget(Cr.iframe),Cr.player.bind(Sr,Cr.props.onPlay),Cr.player.bind(cr,function(){var _r=Cr.duration-Cr.currentTime;_r<.05||Cr.props.onPause()}),Cr.player.bind(br,function(_r){Cr.currentTime=_r.currentPosition/1e3,Cr.fractionLoaded=_r.loadedProgress}),Cr.player.bind(pr,function(){return Cr.props.onEnded()}),Cr.player.bind(Er,function(_r){return Cr.props.onError(_r)})),Cr.player.load(dr,Tt(Tt({},Cr.props.config.options),{},{callback:function(){Cr.player.getDuration(function(Ar){Cr.duration=Ar/1e3,Cr.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(dr){this.callPlayer("seekTo",dr*1e3)}},{key:"setVolume",value:function(dr){this.callPlayer("setVolume",dr*100)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var dr=this.props.display,mr={width:"100%",height:"100%",display:dr};return dt.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:mr,frameBorder:0,allow:"autoplay"})}}]),lr}(dt.Component);ft.default=ar,Ht(ar,"displayName","SoundCloud"),Ht(ar,"canPlay",St.canPlay.soundcloud),Ht(ar,"loopOnEnded",!0)}(SoundCloud)),SoundCloud}var Vimeo={},hasRequiredVimeo;function requireVimeo(){return hasRequiredVimeo||(hasRequiredVimeo=1,function(ft){function lt(ir){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(lr){return typeof lr}:lt=function(lr){return lr&&typeof Symbol=="function"&&lr.constructor===Symbol&&lr!==Symbol.prototype?"symbol":typeof lr},lt(ir)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var ir=new WeakMap;return Et=function(){return ir},ir}function At(ir){if(ir&&ir.__esModule)return ir;if(ir===null||lt(ir)!=="object"&&typeof ir!="function")return{default:ir};var rr=Et();if(rr&&rr.has(ir))return rr.get(ir);var lr={},ur=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var dr in ir)if(Object.prototype.hasOwnProperty.call(ir,dr)){var mr=ur?Object.getOwnPropertyDescriptor(ir,dr):null;mr&&(mr.get||mr.set)?Object.defineProperty(lr,dr,mr):lr[dr]=ir[dr]}return lr.default=ir,rr&&rr.set(ir,lr),lr}function Ct(ir,rr){var lr=Object.keys(ir);if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(ir);rr&&(ur=ur.filter(function(dr){return Object.getOwnPropertyDescriptor(ir,dr).enumerable})),lr.push.apply(lr,ur)}return lr}function Tt(ir){for(var rr=1;rr<arguments.length;rr++){var lr=arguments[rr]!=null?arguments[rr]:{};rr%2?Ct(Object(lr),!0).forEach(function(ur){Ht(ir,ur,lr[ur])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ir,Object.getOwnPropertyDescriptors(lr)):Ct(Object(lr)).forEach(function(ur){Object.defineProperty(ir,ur,Object.getOwnPropertyDescriptor(lr,ur))})}return ir}function Rt(ir,rr){if(!(ir instanceof rr))throw new TypeError("Cannot call a class as a function")}function Bt(ir,rr){for(var lr=0;lr<rr.length;lr++){var ur=rr[lr];ur.enumerable=ur.enumerable||!1,ur.configurable=!0,"value"in ur&&(ur.writable=!0),Object.defineProperty(ir,ur.key,ur)}}function Dt(ir,rr,lr){return rr&&Bt(ir.prototype,rr),lr&&Bt(ir,lr),ir}function Ft(ir,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Super expression must either be null or a function");ir.prototype=Object.create(rr&&rr.prototype,{constructor:{value:ir,writable:!0,configurable:!0}}),rr&&kt(ir,rr)}function kt(ir,rr){return kt=Object.setPrototypeOf||function(ur,dr){return ur.__proto__=dr,ur},kt(ir,rr)}function Ut(ir){var rr=Wt();return function(){var ur=Zt(ir),dr;if(rr){var mr=Zt(this).constructor;dr=Reflect.construct(ur,arguments,mr)}else dr=ur.apply(this,arguments);return Kt(this,dr)}}function Kt(ir,rr){return rr&&(lt(rr)==="object"||typeof rr=="function")?rr:tr(ir)}function tr(ir){if(ir===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ir}function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zt(ir){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(lr){return lr.__proto__||Object.getPrototypeOf(lr)},Zt(ir)}function Ht(ir,rr,lr){return rr in ir?Object.defineProperty(ir,rr,{value:lr,enumerable:!0,configurable:!0,writable:!0}):ir[rr]=lr,ir}var nr="https://player.vimeo.com/api/player.js",sr="Vimeo",ar=function(ir){Ft(lr,ir);var rr=Ut(lr);function lr(){var ur;Rt(this,lr);for(var dr=arguments.length,mr=new Array(dr),Cr=0;Cr<dr;Cr++)mr[Cr]=arguments[Cr];return ur=rr.call.apply(rr,[this].concat(mr)),Ht(tr(ur),"callPlayer",vt.callPlayer),Ht(tr(ur),"duration",null),Ht(tr(ur),"currentTime",null),Ht(tr(ur),"secondsLoaded",null),Ht(tr(ur),"mute",function(){ur.setMuted(!0)}),Ht(tr(ur),"unmute",function(){ur.setMuted(!1)}),Ht(tr(ur),"ref",function(yr){ur.container=yr}),ur}return Dt(lr,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(dr){var mr=this;this.duration=null,(0,vt.getSDK)(nr,sr).then(function(Cr){if(mr.container){var yr=mr.props.config,xr=yr.playerOptions,Sr=yr.title;mr.player=new Cr.Player(mr.container,Tt({url:dr,autoplay:mr.props.playing,muted:mr.props.muted,loop:mr.props.loop,playsinline:mr.props.playsinline,controls:mr.props.controls},xr)),mr.player.ready().then(function(){var br=mr.container.querySelector("iframe");br.style.width="100%",br.style.height="100%",Sr&&(br.title=Sr)}).catch(mr.props.onError),mr.player.on("loaded",function(){mr.props.onReady(),mr.refreshDuration()}),mr.player.on("play",function(){mr.props.onPlay(),mr.refreshDuration()}),mr.player.on("pause",mr.props.onPause),mr.player.on("seeked",function(br){return mr.props.onSeek(br.seconds)}),mr.player.on("ended",mr.props.onEnded),mr.player.on("error",mr.props.onError),mr.player.on("timeupdate",function(br){var cr=br.seconds;mr.currentTime=cr}),mr.player.on("progress",function(br){var cr=br.seconds;mr.secondsLoaded=cr}),mr.player.on("bufferstart",mr.props.onBuffer),mr.player.on("bufferend",mr.props.onBufferEnd),mr.player.on("playbackratechange",function(br){return mr.props.onPlaybackRateChange(br.playbackRate)})}},this.props.onError)}},{key:"refreshDuration",value:function(){var dr=this;this.player.getDuration().then(function(mr){dr.duration=mr})}},{key:"play",value:function(){var dr=this.callPlayer("play");dr&&dr.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(dr){this.callPlayer("setCurrentTime",dr)}},{key:"setVolume",value:function(dr){this.callPlayer("setVolume",dr)}},{key:"setMuted",value:function(dr){this.callPlayer("setMuted",dr)}},{key:"setLoop",value:function(dr){this.callPlayer("setLoop",dr)}},{key:"setPlaybackRate",value:function(dr){this.callPlayer("setPlaybackRate",dr)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var dr=this.props.display,mr={width:"100%",height:"100%",overflow:"hidden",display:dr};return dt.default.createElement("div",{key:this.props.url,ref:this.ref,style:mr})}}]),lr}(dt.Component);ft.default=ar,Ht(ar,"displayName","Vimeo"),Ht(ar,"canPlay",St.canPlay.vimeo),Ht(ar,"forceLoad",!0)}(Vimeo)),Vimeo}var Facebook={},hasRequiredFacebook;function requireFacebook(){return hasRequiredFacebook||(hasRequiredFacebook=1,function(ft){function lt(rr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(ur){return typeof ur}:lt=function(ur){return ur&&typeof Symbol=="function"&&ur.constructor===Symbol&&ur!==Symbol.prototype?"symbol":typeof ur},lt(rr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var rr=new WeakMap;return Et=function(){return rr},rr}function At(rr){if(rr&&rr.__esModule)return rr;if(rr===null||lt(rr)!=="object"&&typeof rr!="function")return{default:rr};var lr=Et();if(lr&&lr.has(rr))return lr.get(rr);var ur={},dr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mr in rr)if(Object.prototype.hasOwnProperty.call(rr,mr)){var Cr=dr?Object.getOwnPropertyDescriptor(rr,mr):null;Cr&&(Cr.get||Cr.set)?Object.defineProperty(ur,mr,Cr):ur[mr]=rr[mr]}return ur.default=rr,lr&&lr.set(rr,ur),ur}function Ct(){return Ct=Object.assign||function(rr){for(var lr=1;lr<arguments.length;lr++){var ur=arguments[lr];for(var dr in ur)Object.prototype.hasOwnProperty.call(ur,dr)&&(rr[dr]=ur[dr])}return rr},Ct.apply(this,arguments)}function Tt(rr,lr){if(!(rr instanceof lr))throw new TypeError("Cannot call a class as a function")}function Rt(rr,lr){for(var ur=0;ur<lr.length;ur++){var dr=lr[ur];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(rr,dr.key,dr)}}function Bt(rr,lr,ur){return lr&&Rt(rr.prototype,lr),ur&&Rt(rr,ur),rr}function Dt(rr,lr){if(typeof lr!="function"&&lr!==null)throw new TypeError("Super expression must either be null or a function");rr.prototype=Object.create(lr&&lr.prototype,{constructor:{value:rr,writable:!0,configurable:!0}}),lr&&Ft(rr,lr)}function Ft(rr,lr){return Ft=Object.setPrototypeOf||function(dr,mr){return dr.__proto__=mr,dr},Ft(rr,lr)}function kt(rr){var lr=tr();return function(){var dr=Wt(rr),mr;if(lr){var Cr=Wt(this).constructor;mr=Reflect.construct(dr,arguments,Cr)}else mr=dr.apply(this,arguments);return Ut(this,mr)}}function Ut(rr,lr){return lr&&(lt(lr)==="object"||typeof lr=="function")?lr:Kt(rr)}function Kt(rr){if(rr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rr}function tr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Wt(rr){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(ur){return ur.__proto__||Object.getPrototypeOf(ur)},Wt(rr)}function Zt(rr,lr,ur){return lr in rr?Object.defineProperty(rr,lr,{value:ur,enumerable:!0,configurable:!0,writable:!0}):rr[lr]=ur,rr}var Ht="https://connect.facebook.net/en_US/sdk.js",nr="FB",sr="fbAsyncInit",ar="facebook-player-",ir=function(rr){Dt(ur,rr);var lr=kt(ur);function ur(){var dr;Tt(this,ur);for(var mr=arguments.length,Cr=new Array(mr),yr=0;yr<mr;yr++)Cr[yr]=arguments[yr];return dr=lr.call.apply(lr,[this].concat(Cr)),Zt(Kt(dr),"callPlayer",vt.callPlayer),Zt(Kt(dr),"playerID",dr.props.config.playerId||"".concat(ar).concat((0,vt.randomString)())),Zt(Kt(dr),"mute",function(){dr.callPlayer("mute")}),Zt(Kt(dr),"unmute",function(){dr.callPlayer("unmute")}),dr}return Bt(ur,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(mr,Cr){var yr=this;if(Cr){(0,vt.getSDK)(Ht,nr,sr).then(function(xr){return xr.XFBML.parse()});return}(0,vt.getSDK)(Ht,nr,sr).then(function(xr){xr.init({appId:yr.props.config.appId,xfbml:!0,version:yr.props.config.version}),xr.Event.subscribe("xfbml.render",function(Sr){yr.props.onLoaded()}),xr.Event.subscribe("xfbml.ready",function(Sr){Sr.type==="video"&&Sr.id===yr.playerID&&(yr.player=Sr.instance,yr.player.subscribe("startedPlaying",yr.props.onPlay),yr.player.subscribe("paused",yr.props.onPause),yr.player.subscribe("finishedPlaying",yr.props.onEnded),yr.player.subscribe("startedBuffering",yr.props.onBuffer),yr.player.subscribe("finishedBuffering",yr.props.onBufferEnd),yr.player.subscribe("error",yr.props.onError),yr.props.muted?yr.callPlayer("mute"):yr.callPlayer("unmute"),yr.props.onReady(),document.getElementById(yr.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(mr){this.callPlayer("seek",mr)}},{key:"setVolume",value:function(mr){this.callPlayer("setVolume",mr)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var mr=this.props.config.attributes,Cr={width:"100%",height:"100%"};return dt.default.createElement("div",Ct({style:Cr,id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},mr))}}]),ur}(dt.Component);ft.default=ir,Zt(ir,"displayName","Facebook"),Zt(ir,"canPlay",St.canPlay.facebook),Zt(ir,"loopOnEnded",!0)}(Facebook)),Facebook}var Streamable={},hasRequiredStreamable;function requireStreamable(){return hasRequiredStreamable||(hasRequiredStreamable=1,function(ft){function lt(sr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(ir){return typeof ir}:lt=function(ir){return ir&&typeof Symbol=="function"&&ir.constructor===Symbol&&ir!==Symbol.prototype?"symbol":typeof ir},lt(sr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var sr=new WeakMap;return Et=function(){return sr},sr}function At(sr){if(sr&&sr.__esModule)return sr;if(sr===null||lt(sr)!=="object"&&typeof sr!="function")return{default:sr};var ar=Et();if(ar&&ar.has(sr))return ar.get(sr);var ir={},rr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lr in sr)if(Object.prototype.hasOwnProperty.call(sr,lr)){var ur=rr?Object.getOwnPropertyDescriptor(sr,lr):null;ur&&(ur.get||ur.set)?Object.defineProperty(ir,lr,ur):ir[lr]=sr[lr]}return ir.default=sr,ar&&ar.set(sr,ir),ir}function Ct(sr,ar){if(!(sr instanceof ar))throw new TypeError("Cannot call a class as a function")}function Tt(sr,ar){for(var ir=0;ir<ar.length;ir++){var rr=ar[ir];rr.enumerable=rr.enumerable||!1,rr.configurable=!0,"value"in rr&&(rr.writable=!0),Object.defineProperty(sr,rr.key,rr)}}function Rt(sr,ar,ir){return ar&&Tt(sr.prototype,ar),ir&&Tt(sr,ir),sr}function Bt(sr,ar){if(typeof ar!="function"&&ar!==null)throw new TypeError("Super expression must either be null or a function");sr.prototype=Object.create(ar&&ar.prototype,{constructor:{value:sr,writable:!0,configurable:!0}}),ar&&Dt(sr,ar)}function Dt(sr,ar){return Dt=Object.setPrototypeOf||function(rr,lr){return rr.__proto__=lr,rr},Dt(sr,ar)}function Ft(sr){var ar=Kt();return function(){var rr=tr(sr),lr;if(ar){var ur=tr(this).constructor;lr=Reflect.construct(rr,arguments,ur)}else lr=rr.apply(this,arguments);return kt(this,lr)}}function kt(sr,ar){return ar&&(lt(ar)==="object"||typeof ar=="function")?ar:Ut(sr)}function Ut(sr){if(sr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return sr}function Kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function tr(sr){return tr=Object.setPrototypeOf?Object.getPrototypeOf:function(ir){return ir.__proto__||Object.getPrototypeOf(ir)},tr(sr)}function Wt(sr,ar,ir){return ar in sr?Object.defineProperty(sr,ar,{value:ir,enumerable:!0,configurable:!0,writable:!0}):sr[ar]=ir,sr}var Zt="https://cdn.embed.ly/player-0.1.0.min.js",Ht="playerjs",nr=function(sr){Bt(ir,sr);var ar=Ft(ir);function ir(){var rr;Ct(this,ir);for(var lr=arguments.length,ur=new Array(lr),dr=0;dr<lr;dr++)ur[dr]=arguments[dr];return rr=ar.call.apply(ar,[this].concat(ur)),Wt(Ut(rr),"callPlayer",vt.callPlayer),Wt(Ut(rr),"duration",null),Wt(Ut(rr),"currentTime",null),Wt(Ut(rr),"secondsLoaded",null),Wt(Ut(rr),"mute",function(){rr.callPlayer("mute")}),Wt(Ut(rr),"unmute",function(){rr.callPlayer("unmute")}),Wt(Ut(rr),"ref",function(mr){rr.iframe=mr}),rr}return Rt(ir,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(lr){var ur=this;(0,vt.getSDK)(Zt,Ht).then(function(dr){ur.iframe&&(ur.player=new dr.Player(ur.iframe),ur.player.setLoop(ur.props.loop),ur.player.on("ready",ur.props.onReady),ur.player.on("play",ur.props.onPlay),ur.player.on("pause",ur.props.onPause),ur.player.on("seeked",ur.props.onSeek),ur.player.on("ended",ur.props.onEnded),ur.player.on("error",ur.props.onError),ur.player.on("timeupdate",function(mr){var Cr=mr.duration,yr=mr.seconds;ur.duration=Cr,ur.currentTime=yr}),ur.player.on("buffered",function(mr){var Cr=mr.percent;ur.duration&&(ur.secondsLoaded=ur.duration*Cr)}),ur.props.muted&&ur.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(lr){this.callPlayer("setCurrentTime",lr)}},{key:"setVolume",value:function(lr){this.callPlayer("setVolume",lr*100)}},{key:"setLoop",value:function(lr){this.callPlayer("setLoop",lr)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var lr=this.props.url.match(St.MATCH_URL_STREAMABLE)[1],ur={width:"100%",height:"100%"};return dt.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(lr),frameBorder:"0",scrolling:"no",style:ur,allow:"encrypted-media; autoplay; fullscreen;"})}}]),ir}(dt.Component);ft.default=nr,Wt(nr,"displayName","Streamable"),Wt(nr,"canPlay",St.canPlay.streamable)}(Streamable)),Streamable}var Wistia={},hasRequiredWistia;function requireWistia(){return hasRequiredWistia||(hasRequiredWistia=1,function(ft){function lt(rr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(ur){return typeof ur}:lt=function(ur){return ur&&typeof Symbol=="function"&&ur.constructor===Symbol&&ur!==Symbol.prototype?"symbol":typeof ur},lt(rr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var rr=new WeakMap;return Et=function(){return rr},rr}function At(rr){if(rr&&rr.__esModule)return rr;if(rr===null||lt(rr)!=="object"&&typeof rr!="function")return{default:rr};var lr=Et();if(lr&&lr.has(rr))return lr.get(rr);var ur={},dr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mr in rr)if(Object.prototype.hasOwnProperty.call(rr,mr)){var Cr=dr?Object.getOwnPropertyDescriptor(rr,mr):null;Cr&&(Cr.get||Cr.set)?Object.defineProperty(ur,mr,Cr):ur[mr]=rr[mr]}return ur.default=rr,lr&&lr.set(rr,ur),ur}function Ct(rr,lr){var ur=Object.keys(rr);if(Object.getOwnPropertySymbols){var dr=Object.getOwnPropertySymbols(rr);lr&&(dr=dr.filter(function(mr){return Object.getOwnPropertyDescriptor(rr,mr).enumerable})),ur.push.apply(ur,dr)}return ur}function Tt(rr){for(var lr=1;lr<arguments.length;lr++){var ur=arguments[lr]!=null?arguments[lr]:{};lr%2?Ct(Object(ur),!0).forEach(function(dr){Ht(rr,dr,ur[dr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(ur)):Ct(Object(ur)).forEach(function(dr){Object.defineProperty(rr,dr,Object.getOwnPropertyDescriptor(ur,dr))})}return rr}function Rt(rr,lr){if(!(rr instanceof lr))throw new TypeError("Cannot call a class as a function")}function Bt(rr,lr){for(var ur=0;ur<lr.length;ur++){var dr=lr[ur];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(rr,dr.key,dr)}}function Dt(rr,lr,ur){return lr&&Bt(rr.prototype,lr),ur&&Bt(rr,ur),rr}function Ft(rr,lr){if(typeof lr!="function"&&lr!==null)throw new TypeError("Super expression must either be null or a function");rr.prototype=Object.create(lr&&lr.prototype,{constructor:{value:rr,writable:!0,configurable:!0}}),lr&&kt(rr,lr)}function kt(rr,lr){return kt=Object.setPrototypeOf||function(dr,mr){return dr.__proto__=mr,dr},kt(rr,lr)}function Ut(rr){var lr=Wt();return function(){var dr=Zt(rr),mr;if(lr){var Cr=Zt(this).constructor;mr=Reflect.construct(dr,arguments,Cr)}else mr=dr.apply(this,arguments);return Kt(this,mr)}}function Kt(rr,lr){return lr&&(lt(lr)==="object"||typeof lr=="function")?lr:tr(rr)}function tr(rr){if(rr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rr}function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zt(rr){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(ur){return ur.__proto__||Object.getPrototypeOf(ur)},Zt(rr)}function Ht(rr,lr,ur){return lr in rr?Object.defineProperty(rr,lr,{value:ur,enumerable:!0,configurable:!0,writable:!0}):rr[lr]=ur,rr}var nr="https://fast.wistia.com/assets/external/E-v1.js",sr="Wistia",ar="wistia-player-",ir=function(rr){Ft(ur,rr);var lr=Ut(ur);function ur(){var dr;Rt(this,ur);for(var mr=arguments.length,Cr=new Array(mr),yr=0;yr<mr;yr++)Cr[yr]=arguments[yr];return dr=lr.call.apply(lr,[this].concat(Cr)),Ht(tr(dr),"callPlayer",vt.callPlayer),Ht(tr(dr),"playerID",dr.props.config.playerId||"".concat(ar).concat((0,vt.randomString)())),Ht(tr(dr),"onPlay",function(){var xr;return(xr=dr.props).onPlay.apply(xr,arguments)}),Ht(tr(dr),"onPause",function(){var xr;return(xr=dr.props).onPause.apply(xr,arguments)}),Ht(tr(dr),"onSeek",function(){var xr;return(xr=dr.props).onSeek.apply(xr,arguments)}),Ht(tr(dr),"onEnded",function(){var xr;return(xr=dr.props).onEnded.apply(xr,arguments)}),Ht(tr(dr),"onPlaybackRateChange",function(){var xr;return(xr=dr.props).onPlaybackRateChange.apply(xr,arguments)}),Ht(tr(dr),"mute",function(){dr.callPlayer("mute")}),Ht(tr(dr),"unmute",function(){dr.callPlayer("unmute")}),dr}return Dt(ur,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(mr){var Cr=this,yr=this.props,xr=yr.playing,Sr=yr.muted,br=yr.controls,cr=yr.onReady,pr=yr.config,Er=yr.onError;(0,vt.getSDK)(nr,sr).then(function(_r){pr.customControls&&pr.customControls.forEach(function(Ar){return _r.defineControl(Ar)}),window._wq=window._wq||[],window._wq.push({id:Cr.playerID,options:Tt({autoPlay:xr,silentAutoPlay:"allow",muted:Sr,controlsVisibleOnLoad:br,fullscreenButton:br,playbar:br,playbackRateControl:br,qualityControl:br,volumeControl:br,settingsControl:br,smallPlayButton:br},pr.options),onReady:function(Pr){Cr.player=Pr,Cr.unbind(),Cr.player.bind("play",Cr.onPlay),Cr.player.bind("pause",Cr.onPause),Cr.player.bind("seek",Cr.onSeek),Cr.player.bind("end",Cr.onEnded),Cr.player.bind("playbackratechange",Cr.onPlaybackRateChange),cr()}})},Er)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(mr){this.callPlayer("time",mr)}},{key:"setVolume",value:function(mr){this.callPlayer("volume",mr)}},{key:"setPlaybackRate",value:function(mr){this.callPlayer("playbackRate",mr)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var mr=this.props.url,Cr=mr&&mr.match(St.MATCH_URL_WISTIA)[1],yr="wistia_embed wistia_async_".concat(Cr),xr={width:"100%",height:"100%"};return dt.default.createElement("div",{id:this.playerID,key:Cr,className:yr,style:xr})}}]),ur}(dt.Component);ft.default=ir,Ht(ir,"displayName","Wistia"),Ht(ir,"canPlay",St.canPlay.wistia),Ht(ir,"loopOnEnded",!0)}(Wistia)),Wistia}var Twitch={},hasRequiredTwitch;function requireTwitch(){return hasRequiredTwitch||(hasRequiredTwitch=1,function(ft){function lt(rr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(ur){return typeof ur}:lt=function(ur){return ur&&typeof Symbol=="function"&&ur.constructor===Symbol&&ur!==Symbol.prototype?"symbol":typeof ur},lt(rr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var rr=new WeakMap;return Et=function(){return rr},rr}function At(rr){if(rr&&rr.__esModule)return rr;if(rr===null||lt(rr)!=="object"&&typeof rr!="function")return{default:rr};var lr=Et();if(lr&&lr.has(rr))return lr.get(rr);var ur={},dr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mr in rr)if(Object.prototype.hasOwnProperty.call(rr,mr)){var Cr=dr?Object.getOwnPropertyDescriptor(rr,mr):null;Cr&&(Cr.get||Cr.set)?Object.defineProperty(ur,mr,Cr):ur[mr]=rr[mr]}return ur.default=rr,lr&&lr.set(rr,ur),ur}function Ct(rr,lr){var ur=Object.keys(rr);if(Object.getOwnPropertySymbols){var dr=Object.getOwnPropertySymbols(rr);lr&&(dr=dr.filter(function(mr){return Object.getOwnPropertyDescriptor(rr,mr).enumerable})),ur.push.apply(ur,dr)}return ur}function Tt(rr){for(var lr=1;lr<arguments.length;lr++){var ur=arguments[lr]!=null?arguments[lr]:{};lr%2?Ct(Object(ur),!0).forEach(function(dr){Ht(rr,dr,ur[dr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(ur)):Ct(Object(ur)).forEach(function(dr){Object.defineProperty(rr,dr,Object.getOwnPropertyDescriptor(ur,dr))})}return rr}function Rt(rr,lr){if(!(rr instanceof lr))throw new TypeError("Cannot call a class as a function")}function Bt(rr,lr){for(var ur=0;ur<lr.length;ur++){var dr=lr[ur];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(rr,dr.key,dr)}}function Dt(rr,lr,ur){return lr&&Bt(rr.prototype,lr),ur&&Bt(rr,ur),rr}function Ft(rr,lr){if(typeof lr!="function"&&lr!==null)throw new TypeError("Super expression must either be null or a function");rr.prototype=Object.create(lr&&lr.prototype,{constructor:{value:rr,writable:!0,configurable:!0}}),lr&&kt(rr,lr)}function kt(rr,lr){return kt=Object.setPrototypeOf||function(dr,mr){return dr.__proto__=mr,dr},kt(rr,lr)}function Ut(rr){var lr=Wt();return function(){var dr=Zt(rr),mr;if(lr){var Cr=Zt(this).constructor;mr=Reflect.construct(dr,arguments,Cr)}else mr=dr.apply(this,arguments);return Kt(this,mr)}}function Kt(rr,lr){return lr&&(lt(lr)==="object"||typeof lr=="function")?lr:tr(rr)}function tr(rr){if(rr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rr}function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zt(rr){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(ur){return ur.__proto__||Object.getPrototypeOf(ur)},Zt(rr)}function Ht(rr,lr,ur){return lr in rr?Object.defineProperty(rr,lr,{value:ur,enumerable:!0,configurable:!0,writable:!0}):rr[lr]=ur,rr}var nr="https://player.twitch.tv/js/embed/v1.js",sr="Twitch",ar="twitch-player-",ir=function(rr){Ft(ur,rr);var lr=Ut(ur);function ur(){var dr;Rt(this,ur);for(var mr=arguments.length,Cr=new Array(mr),yr=0;yr<mr;yr++)Cr[yr]=arguments[yr];return dr=lr.call.apply(lr,[this].concat(Cr)),Ht(tr(dr),"callPlayer",vt.callPlayer),Ht(tr(dr),"playerID",dr.props.config.playerId||"".concat(ar).concat((0,vt.randomString)())),Ht(tr(dr),"mute",function(){dr.callPlayer("setMuted",!0)}),Ht(tr(dr),"unmute",function(){dr.callPlayer("setMuted",!1)}),dr}return Dt(ur,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(mr,Cr){var yr=this,xr=this.props,Sr=xr.playsinline,br=xr.onError,cr=xr.config,pr=xr.controls,Er=St.MATCH_URL_TWITCH_CHANNEL.test(mr),_r=Er?mr.match(St.MATCH_URL_TWITCH_CHANNEL)[1]:mr.match(St.MATCH_URL_TWITCH_VIDEO)[1];if(Cr){Er?this.player.setChannel(_r):this.player.setVideo("v"+_r);return}(0,vt.getSDK)(nr,sr).then(function(Ar){yr.player=new Ar.Player(yr.playerID,Tt({video:Er?"":_r,channel:Er?_r:"",height:"100%",width:"100%",playsinline:Sr,autoplay:yr.props.playing,muted:yr.props.muted,controls:Er?!0:pr,time:(0,vt.parseStartTime)(mr)},cr.options));var Pr=Ar.Player,Ir=Pr.READY,kr=Pr.PLAYING,Dr=Pr.PAUSE,Jr=Pr.ENDED,Or=Pr.ONLINE,jr=Pr.OFFLINE,Nr=Pr.SEEK;yr.player.addEventListener(Ir,yr.props.onReady),yr.player.addEventListener(kr,yr.props.onPlay),yr.player.addEventListener(Dr,yr.props.onPause),yr.player.addEventListener(Jr,yr.props.onEnded),yr.player.addEventListener(Nr,yr.props.onSeek),yr.player.addEventListener(Or,yr.props.onLoaded),yr.player.addEventListener(jr,yr.props.onLoaded)},br)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(mr){this.callPlayer("seek",mr)}},{key:"setVolume",value:function(mr){this.callPlayer("setVolume",mr)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var mr={width:"100%",height:"100%"};return dt.default.createElement("div",{style:mr,id:this.playerID})}}]),ur}(dt.Component);ft.default=ir,Ht(ir,"displayName","Twitch"),Ht(ir,"canPlay",St.canPlay.twitch),Ht(ir,"loopOnEnded",!0)}(Twitch)),Twitch}var DailyMotion={},hasRequiredDailyMotion;function requireDailyMotion(){return hasRequiredDailyMotion||(hasRequiredDailyMotion=1,function(ft){function lt(yr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(Sr){return typeof Sr}:lt=function(Sr){return Sr&&typeof Symbol=="function"&&Sr.constructor===Symbol&&Sr!==Symbol.prototype?"symbol":typeof Sr},lt(yr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var yr=new WeakMap;return Et=function(){return yr},yr}function At(yr){if(yr&&yr.__esModule)return yr;if(yr===null||lt(yr)!=="object"&&typeof yr!="function")return{default:yr};var xr=Et();if(xr&&xr.has(yr))return xr.get(yr);var Sr={},br=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var cr in yr)if(Object.prototype.hasOwnProperty.call(yr,cr)){var pr=br?Object.getOwnPropertyDescriptor(yr,cr):null;pr&&(pr.get||pr.set)?Object.defineProperty(Sr,cr,pr):Sr[cr]=yr[cr]}return Sr.default=yr,xr&&xr.set(yr,Sr),Sr}function Ct(yr,xr){var Sr=Object.keys(yr);if(Object.getOwnPropertySymbols){var br=Object.getOwnPropertySymbols(yr);xr&&(br=br.filter(function(cr){return Object.getOwnPropertyDescriptor(yr,cr).enumerable})),Sr.push.apply(Sr,br)}return Sr}function Tt(yr){for(var xr=1;xr<arguments.length;xr++){var Sr=arguments[xr]!=null?arguments[xr]:{};xr%2?Ct(Object(Sr),!0).forEach(function(br){lr(yr,br,Sr[br])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yr,Object.getOwnPropertyDescriptors(Sr)):Ct(Object(Sr)).forEach(function(br){Object.defineProperty(yr,br,Object.getOwnPropertyDescriptor(Sr,br))})}return yr}function Rt(yr,xr){return Ut(yr)||kt(yr,xr)||Dt(yr,xr)||Bt()}function Bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(yr,xr){if(yr){if(typeof yr=="string")return Ft(yr,xr);var Sr=Object.prototype.toString.call(yr).slice(8,-1);if(Sr==="Object"&&yr.constructor&&(Sr=yr.constructor.name),Sr==="Map"||Sr==="Set")return Array.from(yr);if(Sr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Sr))return Ft(yr,xr)}}function Ft(yr,xr){(xr==null||xr>yr.length)&&(xr=yr.length);for(var Sr=0,br=new Array(xr);Sr<xr;Sr++)br[Sr]=yr[Sr];return br}function kt(yr,xr){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(yr)))){var Sr=[],br=!0,cr=!1,pr=void 0;try{for(var Er=yr[Symbol.iterator](),_r;!(br=(_r=Er.next()).done)&&(Sr.push(_r.value),!(xr&&Sr.length===xr));br=!0);}catch(Ar){cr=!0,pr=Ar}finally{try{!br&&Er.return!=null&&Er.return()}finally{if(cr)throw pr}}return Sr}}function Ut(yr){if(Array.isArray(yr))return yr}function Kt(yr,xr){if(!(yr instanceof xr))throw new TypeError("Cannot call a class as a function")}function tr(yr,xr){for(var Sr=0;Sr<xr.length;Sr++){var br=xr[Sr];br.enumerable=br.enumerable||!1,br.configurable=!0,"value"in br&&(br.writable=!0),Object.defineProperty(yr,br.key,br)}}function Wt(yr,xr,Sr){return xr&&tr(yr.prototype,xr),Sr&&tr(yr,Sr),yr}function Zt(yr,xr){if(typeof xr!="function"&&xr!==null)throw new TypeError("Super expression must either be null or a function");yr.prototype=Object.create(xr&&xr.prototype,{constructor:{value:yr,writable:!0,configurable:!0}}),xr&&Ht(yr,xr)}function Ht(yr,xr){return Ht=Object.setPrototypeOf||function(br,cr){return br.__proto__=cr,br},Ht(yr,xr)}function nr(yr){var xr=ir();return function(){var br=rr(yr),cr;if(xr){var pr=rr(this).constructor;cr=Reflect.construct(br,arguments,pr)}else cr=br.apply(this,arguments);return sr(this,cr)}}function sr(yr,xr){return xr&&(lt(xr)==="object"||typeof xr=="function")?xr:ar(yr)}function ar(yr){if(yr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yr}function ir(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function rr(yr){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(Sr){return Sr.__proto__||Object.getPrototypeOf(Sr)},rr(yr)}function lr(yr,xr,Sr){return xr in yr?Object.defineProperty(yr,xr,{value:Sr,enumerable:!0,configurable:!0,writable:!0}):yr[xr]=Sr,yr}var ur="https://api.dmcdn.net/all.js",dr="DM",mr="dmAsyncInit",Cr=function(yr){Zt(Sr,yr);var xr=nr(Sr);function Sr(){var br;Kt(this,Sr);for(var cr=arguments.length,pr=new Array(cr),Er=0;Er<cr;Er++)pr[Er]=arguments[Er];return br=xr.call.apply(xr,[this].concat(pr)),lr(ar(br),"callPlayer",vt.callPlayer),lr(ar(br),"onDurationChange",function(){var _r=br.getDuration();br.props.onDuration(_r)}),lr(ar(br),"mute",function(){br.callPlayer("setMuted",!0)}),lr(ar(br),"unmute",function(){br.callPlayer("setMuted",!1)}),lr(ar(br),"ref",function(_r){br.container=_r}),br}return Wt(Sr,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(cr){var pr=this,Er=this.props,_r=Er.controls,Ar=Er.config,Pr=Er.onError,Ir=Er.playing,kr=cr.match(St.MATCH_URL_DAILYMOTION),Dr=Rt(kr,2),Jr=Dr[1];if(this.player){this.player.load(Jr,{start:(0,vt.parseStartTime)(cr),autoplay:Ir});return}(0,vt.getSDK)(ur,dr,mr,function(Or){return Or.player}).then(function(Or){if(pr.container){var jr=Or.player;pr.player=new jr(pr.container,{width:"100%",height:"100%",video:Jr,params:Tt({controls:_r,autoplay:pr.props.playing,mute:pr.props.muted,start:(0,vt.parseStartTime)(cr),origin:window.location.origin},Ar.params),events:{apiready:pr.props.onReady,seeked:function(){return pr.props.onSeek(pr.player.currentTime)},video_end:pr.props.onEnded,durationchange:pr.onDurationChange,pause:pr.props.onPause,playing:pr.props.onPlay,waiting:pr.props.onBuffer,error:function(Vr){return Pr(Vr)}}})}},Pr)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(cr){this.callPlayer("seek",cr)}},{key:"setVolume",value:function(cr){this.callPlayer("setVolume",cr)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var cr=this.props.display,pr={width:"100%",height:"100%",display:cr};return dt.default.createElement("div",{style:pr},dt.default.createElement("div",{ref:this.ref}))}}]),Sr}(dt.Component);ft.default=Cr,lr(Cr,"displayName","DailyMotion"),lr(Cr,"canPlay",St.canPlay.dailymotion),lr(Cr,"loopOnEnded",!0)}(DailyMotion)),DailyMotion}var Mixcloud={},hasRequiredMixcloud;function requireMixcloud(){return hasRequiredMixcloud||(hasRequiredMixcloud=1,function(ft){function lt(ir){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(lr){return typeof lr}:lt=function(lr){return lr&&typeof Symbol=="function"&&lr.constructor===Symbol&&lr!==Symbol.prototype?"symbol":typeof lr},lt(ir)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var ir=new WeakMap;return Et=function(){return ir},ir}function At(ir){if(ir&&ir.__esModule)return ir;if(ir===null||lt(ir)!=="object"&&typeof ir!="function")return{default:ir};var rr=Et();if(rr&&rr.has(ir))return rr.get(ir);var lr={},ur=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var dr in ir)if(Object.prototype.hasOwnProperty.call(ir,dr)){var mr=ur?Object.getOwnPropertyDescriptor(ir,dr):null;mr&&(mr.get||mr.set)?Object.defineProperty(lr,dr,mr):lr[dr]=ir[dr]}return lr.default=ir,rr&&rr.set(ir,lr),lr}function Ct(ir,rr){var lr=Object.keys(ir);if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(ir);rr&&(ur=ur.filter(function(dr){return Object.getOwnPropertyDescriptor(ir,dr).enumerable})),lr.push.apply(lr,ur)}return lr}function Tt(ir){for(var rr=1;rr<arguments.length;rr++){var lr=arguments[rr]!=null?arguments[rr]:{};rr%2?Ct(Object(lr),!0).forEach(function(ur){Ht(ir,ur,lr[ur])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ir,Object.getOwnPropertyDescriptors(lr)):Ct(Object(lr)).forEach(function(ur){Object.defineProperty(ir,ur,Object.getOwnPropertyDescriptor(lr,ur))})}return ir}function Rt(ir,rr){if(!(ir instanceof rr))throw new TypeError("Cannot call a class as a function")}function Bt(ir,rr){for(var lr=0;lr<rr.length;lr++){var ur=rr[lr];ur.enumerable=ur.enumerable||!1,ur.configurable=!0,"value"in ur&&(ur.writable=!0),Object.defineProperty(ir,ur.key,ur)}}function Dt(ir,rr,lr){return rr&&Bt(ir.prototype,rr),lr&&Bt(ir,lr),ir}function Ft(ir,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Super expression must either be null or a function");ir.prototype=Object.create(rr&&rr.prototype,{constructor:{value:ir,writable:!0,configurable:!0}}),rr&&kt(ir,rr)}function kt(ir,rr){return kt=Object.setPrototypeOf||function(ur,dr){return ur.__proto__=dr,ur},kt(ir,rr)}function Ut(ir){var rr=Wt();return function(){var ur=Zt(ir),dr;if(rr){var mr=Zt(this).constructor;dr=Reflect.construct(ur,arguments,mr)}else dr=ur.apply(this,arguments);return Kt(this,dr)}}function Kt(ir,rr){return rr&&(lt(rr)==="object"||typeof rr=="function")?rr:tr(ir)}function tr(ir){if(ir===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ir}function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zt(ir){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(lr){return lr.__proto__||Object.getPrototypeOf(lr)},Zt(ir)}function Ht(ir,rr,lr){return rr in ir?Object.defineProperty(ir,rr,{value:lr,enumerable:!0,configurable:!0,writable:!0}):ir[rr]=lr,ir}var nr="https://widget.mixcloud.com/media/js/widgetApi.js",sr="Mixcloud",ar=function(ir){Ft(lr,ir);var rr=Ut(lr);function lr(){var ur;Rt(this,lr);for(var dr=arguments.length,mr=new Array(dr),Cr=0;Cr<dr;Cr++)mr[Cr]=arguments[Cr];return ur=rr.call.apply(rr,[this].concat(mr)),Ht(tr(ur),"callPlayer",vt.callPlayer),Ht(tr(ur),"duration",null),Ht(tr(ur),"currentTime",null),Ht(tr(ur),"secondsLoaded",null),Ht(tr(ur),"mute",function(){}),Ht(tr(ur),"unmute",function(){}),Ht(tr(ur),"ref",function(yr){ur.iframe=yr}),ur}return Dt(lr,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(dr){var mr=this;(0,vt.getSDK)(nr,sr).then(function(Cr){mr.player=Cr.PlayerWidget(mr.iframe),mr.player.ready.then(function(){mr.player.events.play.on(mr.props.onPlay),mr.player.events.pause.on(mr.props.onPause),mr.player.events.ended.on(mr.props.onEnded),mr.player.events.error.on(mr.props.error),mr.player.events.progress.on(function(yr,xr){mr.currentTime=yr,mr.duration=xr}),mr.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(dr){this.callPlayer("seek",dr)}},{key:"setVolume",value:function(dr){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var dr=this.props,mr=dr.url,Cr=dr.config,yr=mr.match(St.MATCH_URL_MIXCLOUD)[1],xr={width:"100%",height:"100%"},Sr=(0,vt.queryString)(Tt(Tt({},Cr.options),{},{feed:"/".concat(yr,"/")}));return dt.default.createElement("iframe",{key:yr,ref:this.ref,style:xr,src:"https://www.mixcloud.com/widget/iframe/?".concat(Sr),frameBorder:"0",allow:"autoplay"})}}]),lr}(dt.Component);ft.default=ar,Ht(ar,"displayName","Mixcloud"),Ht(ar,"canPlay",St.canPlay.mixcloud),Ht(ar,"loopOnEnded",!0)}(Mixcloud)),Mixcloud}var Vidyard={},hasRequiredVidyard;function requireVidyard(){return hasRequiredVidyard||(hasRequiredVidyard=1,function(ft){function lt(rr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(ur){return typeof ur}:lt=function(ur){return ur&&typeof Symbol=="function"&&ur.constructor===Symbol&&ur!==Symbol.prototype?"symbol":typeof ur},lt(rr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var rr=new WeakMap;return Et=function(){return rr},rr}function At(rr){if(rr&&rr.__esModule)return rr;if(rr===null||lt(rr)!=="object"&&typeof rr!="function")return{default:rr};var lr=Et();if(lr&&lr.has(rr))return lr.get(rr);var ur={},dr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mr in rr)if(Object.prototype.hasOwnProperty.call(rr,mr)){var Cr=dr?Object.getOwnPropertyDescriptor(rr,mr):null;Cr&&(Cr.get||Cr.set)?Object.defineProperty(ur,mr,Cr):ur[mr]=rr[mr]}return ur.default=rr,lr&&lr.set(rr,ur),ur}function Ct(rr,lr){var ur=Object.keys(rr);if(Object.getOwnPropertySymbols){var dr=Object.getOwnPropertySymbols(rr);lr&&(dr=dr.filter(function(mr){return Object.getOwnPropertyDescriptor(rr,mr).enumerable})),ur.push.apply(ur,dr)}return ur}function Tt(rr){for(var lr=1;lr<arguments.length;lr++){var ur=arguments[lr]!=null?arguments[lr]:{};lr%2?Ct(Object(ur),!0).forEach(function(dr){Ht(rr,dr,ur[dr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(ur)):Ct(Object(ur)).forEach(function(dr){Object.defineProperty(rr,dr,Object.getOwnPropertyDescriptor(ur,dr))})}return rr}function Rt(rr,lr){if(!(rr instanceof lr))throw new TypeError("Cannot call a class as a function")}function Bt(rr,lr){for(var ur=0;ur<lr.length;ur++){var dr=lr[ur];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(rr,dr.key,dr)}}function Dt(rr,lr,ur){return lr&&Bt(rr.prototype,lr),ur&&Bt(rr,ur),rr}function Ft(rr,lr){if(typeof lr!="function"&&lr!==null)throw new TypeError("Super expression must either be null or a function");rr.prototype=Object.create(lr&&lr.prototype,{constructor:{value:rr,writable:!0,configurable:!0}}),lr&&kt(rr,lr)}function kt(rr,lr){return kt=Object.setPrototypeOf||function(dr,mr){return dr.__proto__=mr,dr},kt(rr,lr)}function Ut(rr){var lr=Wt();return function(){var dr=Zt(rr),mr;if(lr){var Cr=Zt(this).constructor;mr=Reflect.construct(dr,arguments,Cr)}else mr=dr.apply(this,arguments);return Kt(this,mr)}}function Kt(rr,lr){return lr&&(lt(lr)==="object"||typeof lr=="function")?lr:tr(rr)}function tr(rr){if(rr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rr}function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Zt(rr){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(ur){return ur.__proto__||Object.getPrototypeOf(ur)},Zt(rr)}function Ht(rr,lr,ur){return lr in rr?Object.defineProperty(rr,lr,{value:ur,enumerable:!0,configurable:!0,writable:!0}):rr[lr]=ur,rr}var nr="https://play.vidyard.com/embed/v4.js",sr="VidyardV4",ar="onVidyardAPI",ir=function(rr){Ft(ur,rr);var lr=Ut(ur);function ur(){var dr;Rt(this,ur);for(var mr=arguments.length,Cr=new Array(mr),yr=0;yr<mr;yr++)Cr[yr]=arguments[yr];return dr=lr.call.apply(lr,[this].concat(Cr)),Ht(tr(dr),"callPlayer",vt.callPlayer),Ht(tr(dr),"mute",function(){dr.setVolume(0)}),Ht(tr(dr),"unmute",function(){dr.props.volume!==null&&dr.setVolume(dr.props.volume)}),Ht(tr(dr),"ref",function(xr){dr.container=xr}),dr}return Dt(ur,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(mr){var Cr=this,yr=this.props,xr=yr.playing,Sr=yr.config,br=yr.onError,cr=yr.onDuration,pr=mr&&mr.match(St.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,vt.getSDK)(nr,sr,ar).then(function(Er){Cr.container&&(Er.api.addReadyListener(function(_r,Ar){Cr.player||(Cr.player=Ar,Cr.player.on("ready",Cr.props.onReady),Cr.player.on("play",Cr.props.onPlay),Cr.player.on("pause",Cr.props.onPause),Cr.player.on("seek",Cr.props.onSeek),Cr.player.on("playerComplete",Cr.props.onEnded))},pr),Er.api.renderPlayer(Tt({uuid:pr,container:Cr.container,autoplay:xr?1:0},Sr.options)),Er.api.getPlayerMetadata(pr).then(function(_r){Cr.duration=_r.length_in_seconds,cr(_r.length_in_seconds)}))},br)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(mr){this.callPlayer("seek",mr)}},{key:"setVolume",value:function(mr){this.callPlayer("setVolume",mr)}},{key:"setPlaybackRate",value:function(mr){this.callPlayer("setPlaybackSpeed",mr)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var mr=this.props.display,Cr={width:"100%",height:"100%",display:mr};return dt.default.createElement("div",{style:Cr},dt.default.createElement("div",{ref:this.ref}))}}]),ur}(dt.Component);ft.default=ir,Ht(ir,"displayName","Vidyard"),Ht(ir,"canPlay",St.canPlay.vidyard)}(Vidyard)),Vidyard}var Kaltura={},hasRequiredKaltura;function requireKaltura(){return hasRequiredKaltura||(hasRequiredKaltura=1,function(ft){function lt(sr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(ir){return typeof ir}:lt=function(ir){return ir&&typeof Symbol=="function"&&ir.constructor===Symbol&&ir!==Symbol.prototype?"symbol":typeof ir},lt(sr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var sr=new WeakMap;return Et=function(){return sr},sr}function At(sr){if(sr&&sr.__esModule)return sr;if(sr===null||lt(sr)!=="object"&&typeof sr!="function")return{default:sr};var ar=Et();if(ar&&ar.has(sr))return ar.get(sr);var ir={},rr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lr in sr)if(Object.prototype.hasOwnProperty.call(sr,lr)){var ur=rr?Object.getOwnPropertyDescriptor(sr,lr):null;ur&&(ur.get||ur.set)?Object.defineProperty(ir,lr,ur):ir[lr]=sr[lr]}return ir.default=sr,ar&&ar.set(sr,ir),ir}function Ct(sr,ar){if(!(sr instanceof ar))throw new TypeError("Cannot call a class as a function")}function Tt(sr,ar){for(var ir=0;ir<ar.length;ir++){var rr=ar[ir];rr.enumerable=rr.enumerable||!1,rr.configurable=!0,"value"in rr&&(rr.writable=!0),Object.defineProperty(sr,rr.key,rr)}}function Rt(sr,ar,ir){return ar&&Tt(sr.prototype,ar),ir&&Tt(sr,ir),sr}function Bt(sr,ar){if(typeof ar!="function"&&ar!==null)throw new TypeError("Super expression must either be null or a function");sr.prototype=Object.create(ar&&ar.prototype,{constructor:{value:sr,writable:!0,configurable:!0}}),ar&&Dt(sr,ar)}function Dt(sr,ar){return Dt=Object.setPrototypeOf||function(rr,lr){return rr.__proto__=lr,rr},Dt(sr,ar)}function Ft(sr){var ar=Kt();return function(){var rr=tr(sr),lr;if(ar){var ur=tr(this).constructor;lr=Reflect.construct(rr,arguments,ur)}else lr=rr.apply(this,arguments);return kt(this,lr)}}function kt(sr,ar){return ar&&(lt(ar)==="object"||typeof ar=="function")?ar:Ut(sr)}function Ut(sr){if(sr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return sr}function Kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function tr(sr){return tr=Object.setPrototypeOf?Object.getPrototypeOf:function(ir){return ir.__proto__||Object.getPrototypeOf(ir)},tr(sr)}function Wt(sr,ar,ir){return ar in sr?Object.defineProperty(sr,ar,{value:ir,enumerable:!0,configurable:!0,writable:!0}):sr[ar]=ir,sr}var Zt="https://cdn.embed.ly/player-0.1.0.min.js",Ht="playerjs",nr=function(sr){Bt(ir,sr);var ar=Ft(ir);function ir(){var rr;Ct(this,ir);for(var lr=arguments.length,ur=new Array(lr),dr=0;dr<lr;dr++)ur[dr]=arguments[dr];return rr=ar.call.apply(ar,[this].concat(ur)),Wt(Ut(rr),"callPlayer",vt.callPlayer),Wt(Ut(rr),"duration",null),Wt(Ut(rr),"currentTime",null),Wt(Ut(rr),"secondsLoaded",null),Wt(Ut(rr),"mute",function(){rr.callPlayer("mute")}),Wt(Ut(rr),"unmute",function(){rr.callPlayer("unmute")}),Wt(Ut(rr),"ref",function(mr){rr.iframe=mr}),rr}return Rt(ir,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(lr){var ur=this;(0,vt.getSDK)(Zt,Ht).then(function(dr){ur.iframe&&(ur.player=new dr.Player(ur.iframe),ur.player.on("ready",function(){setTimeout(function(){ur.player.isReady=!0,ur.player.setLoop(ur.props.loop),ur.props.muted&&ur.player.mute(),ur.addListeners(ur.player,ur.props),ur.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(lr,ur){var dr=this;lr.on("play",ur.onPlay),lr.on("pause",ur.onPause),lr.on("ended",ur.onEnded),lr.on("error",ur.onError),lr.on("timeupdate",function(mr){var Cr=mr.duration,yr=mr.seconds;dr.duration=Cr,dr.currentTime=yr})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(lr){this.callPlayer("setCurrentTime",lr)}},{key:"setVolume",value:function(lr){this.callPlayer("setVolume",lr)}},{key:"setLoop",value:function(lr){this.callPlayer("setLoop",lr)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var lr={width:"100%",height:"100%"};return dt.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:lr,allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}]),ir}(dt.Component);ft.default=nr,Wt(nr,"displayName","Kaltura"),Wt(nr,"canPlay",St.canPlay.kaltura)}(Kaltura)),Kaltura}var FilePlayer={},hasRequiredFilePlayer;function requireFilePlayer(){return hasRequiredFilePlayer||(hasRequiredFilePlayer=1,function(ft){function lt(br){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(pr){return typeof pr}:lt=function(pr){return pr&&typeof Symbol=="function"&&pr.constructor===Symbol&&pr!==Symbol.prototype?"symbol":typeof pr},lt(br)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=At(reactExports),vt=utils,St=patterns;function Et(){if(typeof WeakMap!="function")return null;var br=new WeakMap;return Et=function(){return br},br}function At(br){if(br&&br.__esModule)return br;if(br===null||lt(br)!=="object"&&typeof br!="function")return{default:br};var cr=Et();if(cr&&cr.has(br))return cr.get(br);var pr={},Er=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _r in br)if(Object.prototype.hasOwnProperty.call(br,_r)){var Ar=Er?Object.getOwnPropertyDescriptor(br,_r):null;Ar&&(Ar.get||Ar.set)?Object.defineProperty(pr,_r,Ar):pr[_r]=br[_r]}return pr.default=br,cr&&cr.set(br,pr),pr}function Ct(){return Ct=Object.assign||function(br){for(var cr=1;cr<arguments.length;cr++){var pr=arguments[cr];for(var Er in pr)Object.prototype.hasOwnProperty.call(pr,Er)&&(br[Er]=pr[Er])}return br},Ct.apply(this,arguments)}function Tt(br,cr){if(!(br instanceof cr))throw new TypeError("Cannot call a class as a function")}function Rt(br,cr){for(var pr=0;pr<cr.length;pr++){var Er=cr[pr];Er.enumerable=Er.enumerable||!1,Er.configurable=!0,"value"in Er&&(Er.writable=!0),Object.defineProperty(br,Er.key,Er)}}function Bt(br,cr,pr){return cr&&Rt(br.prototype,cr),pr&&Rt(br,pr),br}function Dt(br,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Super expression must either be null or a function");br.prototype=Object.create(cr&&cr.prototype,{constructor:{value:br,writable:!0,configurable:!0}}),cr&&Ft(br,cr)}function Ft(br,cr){return Ft=Object.setPrototypeOf||function(Er,_r){return Er.__proto__=_r,Er},Ft(br,cr)}function kt(br){var cr=tr();return function(){var Er=Wt(br),_r;if(cr){var Ar=Wt(this).constructor;_r=Reflect.construct(Er,arguments,Ar)}else _r=Er.apply(this,arguments);return Ut(this,_r)}}function Ut(br,cr){return cr&&(lt(cr)==="object"||typeof cr=="function")?cr:Kt(br)}function Kt(br){if(br===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return br}function tr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Wt(br){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(pr){return pr.__proto__||Object.getPrototypeOf(pr)},Wt(br)}function Zt(br,cr,pr){return cr in br?Object.defineProperty(br,cr,{value:pr,enumerable:!0,configurable:!0,writable:!0}):br[cr]=pr,br}var Ht=typeof navigator<"u",nr=Ht&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,sr=Ht&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||nr)&&!window.MSStream,ar=Ht&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,ir="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",rr="Hls",lr="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",ur="dashjs",dr="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",mr="flvjs",Cr=/www\.dropbox\.com\/.+/,yr=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,xr="https://videodelivery.net/{id}/manifest/video.m3u8",Sr=function(br){Dt(pr,br);var cr=kt(pr);function pr(){var Er;Tt(this,pr);for(var _r=arguments.length,Ar=new Array(_r),Pr=0;Pr<_r;Pr++)Ar[Pr]=arguments[Pr];return Er=cr.call.apply(cr,[this].concat(Ar)),Zt(Kt(Er),"onReady",function(){var Ir;return(Ir=Er.props).onReady.apply(Ir,arguments)}),Zt(Kt(Er),"onPlay",function(){var Ir;return(Ir=Er.props).onPlay.apply(Ir,arguments)}),Zt(Kt(Er),"onBuffer",function(){var Ir;return(Ir=Er.props).onBuffer.apply(Ir,arguments)}),Zt(Kt(Er),"onBufferEnd",function(){var Ir;return(Ir=Er.props).onBufferEnd.apply(Ir,arguments)}),Zt(Kt(Er),"onPause",function(){var Ir;return(Ir=Er.props).onPause.apply(Ir,arguments)}),Zt(Kt(Er),"onEnded",function(){var Ir;return(Ir=Er.props).onEnded.apply(Ir,arguments)}),Zt(Kt(Er),"onError",function(){var Ir;return(Ir=Er.props).onError.apply(Ir,arguments)}),Zt(Kt(Er),"onPlayBackRateChange",function(Ir){return Er.props.onPlaybackRateChange(Ir.target.playbackRate)}),Zt(Kt(Er),"onEnablePIP",function(){var Ir;return(Ir=Er.props).onEnablePIP.apply(Ir,arguments)}),Zt(Kt(Er),"onDisablePIP",function(Ir){var kr=Er.props,Dr=kr.onDisablePIP,Jr=kr.playing;Dr(Ir),Jr&&Er.play()}),Zt(Kt(Er),"onPresentationModeChange",function(Ir){if(Er.player&&(0,vt.supportsWebKitPresentationMode)(Er.player)){var kr=Er.player.webkitPresentationMode;kr==="picture-in-picture"?Er.onEnablePIP(Ir):kr==="inline"&&Er.onDisablePIP(Ir)}}),Zt(Kt(Er),"onSeek",function(Ir){Er.props.onSeek(Ir.target.currentTime)}),Zt(Kt(Er),"mute",function(){Er.player.muted=!0}),Zt(Kt(Er),"unmute",function(){Er.player.muted=!1}),Zt(Kt(Er),"renderSourceElement",function(Ir,kr){return typeof Ir=="string"?dt.default.createElement("source",{key:kr,src:Ir}):dt.default.createElement("source",Ct({key:kr},Ir))}),Zt(Kt(Er),"renderTrack",function(Ir,kr){return dt.default.createElement("track",Ct({key:kr},Ir))}),Zt(Kt(Er),"ref",function(Ir){Er.player&&(Er.prevPlayer=Er.player),Er.player=Ir}),Er}return Bt(pr,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),this.player.src=this.getSource(this.props.url),sr&&this.player.load()}},{key:"componentDidUpdate",value:function(_r){this.shouldUseAudio(this.props)!==this.shouldUseAudio(_r)&&(this.removeListeners(this.prevPlayer,_r.url),this.addListeners(this.player)),this.props.url!==_r.url&&!(0,vt.isMediaStream)(this.props.url)&&(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.src="",this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(_r){var Ar=this.props,Pr=Ar.url,Ir=Ar.playsinline;_r.addEventListener("play",this.onPlay),_r.addEventListener("waiting",this.onBuffer),_r.addEventListener("playing",this.onBufferEnd),_r.addEventListener("pause",this.onPause),_r.addEventListener("seeked",this.onSeek),_r.addEventListener("ended",this.onEnded),_r.addEventListener("error",this.onError),_r.addEventListener("ratechange",this.onPlayBackRateChange),_r.addEventListener("enterpictureinpicture",this.onEnablePIP),_r.addEventListener("leavepictureinpicture",this.onDisablePIP),_r.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(Pr)||_r.addEventListener("canplay",this.onReady),Ir&&(_r.setAttribute("playsinline",""),_r.setAttribute("webkit-playsinline",""),_r.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(_r,Ar){_r.removeEventListener("canplay",this.onReady),_r.removeEventListener("play",this.onPlay),_r.removeEventListener("waiting",this.onBuffer),_r.removeEventListener("playing",this.onBufferEnd),_r.removeEventListener("pause",this.onPause),_r.removeEventListener("seeked",this.onSeek),_r.removeEventListener("ended",this.onEnded),_r.removeEventListener("error",this.onError),_r.removeEventListener("ratechange",this.onPlayBackRateChange),_r.removeEventListener("enterpictureinpicture",this.onEnablePIP),_r.removeEventListener("leavepictureinpicture",this.onDisablePIP),_r.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(Ar)||_r.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(_r){return _r.config.forceVideo||_r.config.attributes.poster?!1:St.AUDIO_EXTENSIONS.test(_r.url)||_r.config.forceAudio}},{key:"shouldUseHLS",value:function(_r){return this.props.config.forceHLS||ar&&this.props.config.forceSafariHLS?!0:sr?!1:St.HLS_EXTENSIONS.test(_r)||yr.test(_r)}},{key:"shouldUseDASH",value:function(_r){return St.DASH_EXTENSIONS.test(_r)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(_r){return St.FLV_EXTENSIONS.test(_r)||this.props.config.forceFLV}},{key:"load",value:function(_r){var Ar=this,Pr=this.props.config,Ir=Pr.hlsVersion,kr=Pr.hlsOptions,Dr=Pr.dashVersion,Jr=Pr.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(_r)&&(0,vt.getSDK)(ir.replace("VERSION",Ir),rr).then(function(Or){if(Ar.hls=new Or(kr),Ar.hls.on(Or.Events.MANIFEST_PARSED,function(){Ar.props.onReady()}),Ar.hls.on(Or.Events.ERROR,function(Nr,Vr){Ar.props.onError(Nr,Vr,Ar.hls,Or)}),yr.test(_r)){var jr=_r.match(yr)[1];Ar.hls.loadSource(xr.replace("{id}",jr))}else Ar.hls.loadSource(_r);Ar.hls.attachMedia(Ar.player),Ar.props.onLoaded()}),this.shouldUseDASH(_r)&&(0,vt.getSDK)(lr.replace("VERSION",Dr),ur).then(function(Or){Ar.dash=Or.MediaPlayer().create(),Ar.dash.initialize(Ar.player,_r,Ar.props.playing),Ar.dash.on("error",Ar.props.onError),parseInt(Dr)<3?Ar.dash.getDebug().setLogToBrowserConsole(!1):Ar.dash.updateSettings({debug:{logLevel:Or.Debug.LOG_LEVEL_NONE}}),Ar.props.onLoaded()}),this.shouldUseFLV(_r)&&(0,vt.getSDK)(dr.replace("VERSION",Jr),mr).then(function(Or){Ar.flv=Or.createPlayer({type:"flv",url:_r}),Ar.flv.attachMediaElement(Ar.player),Ar.flv.on(Or.Events.ERROR,function(jr,Nr){Ar.props.onError(jr,Nr,Ar.flv,Or)}),Ar.flv.load(),Ar.props.onLoaded()}),_r instanceof Array)this.player.load();else if((0,vt.isMediaStream)(_r))try{this.player.srcObject=_r}catch{this.player.src=window.URL.createObjectURL(_r)}}},{key:"play",value:function(){var _r=this.player.play();_r&&_r.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(_r){this.player.currentTime=_r}},{key:"setVolume",value:function(_r){this.player.volume=_r}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,vt.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,vt.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(_r){try{this.player.playbackRate=_r}catch(Ar){this.props.onError(Ar)}}},{key:"getDuration",value:function(){if(!this.player)return null;var _r=this.player,Ar=_r.duration,Pr=_r.seekable;return Ar===1/0&&Pr.length>0?Pr.end(Pr.length-1):Ar}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var _r=this.player.buffered;if(_r.length===0)return 0;var Ar=_r.end(_r.length-1),Pr=this.getDuration();return Ar>Pr?Pr:Ar}},{key:"getSource",value:function(_r){var Ar=this.shouldUseHLS(_r),Pr=this.shouldUseDASH(_r),Ir=this.shouldUseFLV(_r);if(!(_r instanceof Array||(0,vt.isMediaStream)(_r)||Ar||Pr||Ir))return Cr.test(_r)?_r.replace("www.dropbox.com","dl.dropboxusercontent.com"):_r}},{key:"render",value:function(){var _r=this.props,Ar=_r.url,Pr=_r.playing,Ir=_r.loop,kr=_r.controls,Dr=_r.muted,Jr=_r.config,Or=_r.width,jr=_r.height,Nr=this.shouldUseAudio(this.props),Vr=Nr?"audio":"video",Br={width:Or==="auto"?Or:"100%",height:jr==="auto"?jr:"100%"};return dt.default.createElement(Vr,Ct({ref:this.ref,src:this.getSource(Ar),style:Br,preload:"auto",autoPlay:Pr||void 0,controls:kr,muted:Dr,loop:Ir},Jr.attributes),Ar instanceof Array&&Ar.map(this.renderSourceElement),Jr.tracks.map(this.renderTrack))}}]),pr}(dt.Component);ft.default=Sr,Zt(Sr,"displayName","FilePlayer"),Zt(Sr,"canPlay",St.canPlay.file)}(FilePlayer)),FilePlayer}(function(ft){Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var lt=reactExports,dt=utils,vt=patterns;function St(Tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?St=function(Bt){return typeof Bt}:St=function(Bt){return Bt&&typeof Symbol=="function"&&Bt.constructor===Symbol&&Bt!==Symbol.prototype?"symbol":typeof Bt},St(Tt)}function Et(){if(typeof WeakMap!="function")return null;var Tt=new WeakMap;return Et=function(){return Tt},Tt}function At(Tt){if(Tt&&Tt.__esModule)return Tt;if(Tt===null||St(Tt)!=="object"&&typeof Tt!="function")return{default:Tt};var Rt=Et();if(Rt&&Rt.has(Tt))return Rt.get(Tt);var Bt={},Dt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ft in Tt)if(Object.prototype.hasOwnProperty.call(Tt,Ft)){var kt=Dt?Object.getOwnPropertyDescriptor(Tt,Ft):null;kt&&(kt.get||kt.set)?Object.defineProperty(Bt,Ft,kt):Bt[Ft]=Tt[Ft]}return Bt.default=Tt,Rt&&Rt.set(Tt,Bt),Bt}var Ct=[{key:"youtube",name:"YouTube",canPlay:vt.canPlay.youtube,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireYouTube())})})},{key:"soundcloud",name:"SoundCloud",canPlay:vt.canPlay.soundcloud,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireSoundCloud())})})},{key:"vimeo",name:"Vimeo",canPlay:vt.canPlay.vimeo,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireVimeo())})})},{key:"facebook",name:"Facebook",canPlay:vt.canPlay.facebook,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireFacebook())})})},{key:"streamable",name:"Streamable",canPlay:vt.canPlay.streamable,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireStreamable())})})},{key:"wistia",name:"Wistia",canPlay:vt.canPlay.wistia,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireWistia())})})},{key:"twitch",name:"Twitch",canPlay:vt.canPlay.twitch,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireTwitch())})})},{key:"dailymotion",name:"DailyMotion",canPlay:vt.canPlay.dailymotion,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireDailyMotion())})})},{key:"mixcloud",name:"Mixcloud",canPlay:vt.canPlay.mixcloud,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireMixcloud())})})},{key:"vidyard",name:"Vidyard",canPlay:vt.canPlay.vidyard,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireVidyard())})})},{key:"kaltura",name:"Kaltura",canPlay:vt.canPlay.kaltura,lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireKaltura())})})},{key:"file",name:"FilePlayer",canPlay:vt.canPlay.file,canEnablePIP:function(Rt){return vt.canPlay.file(Rt)&&(document.pictureInPictureEnabled||(0,dt.supportsWebKitPresentationMode)())&&!vt.AUDIO_EXTENSIONS.test(Rt)},lazyPlayer:(0,lt.lazy)(function(){return Promise.resolve().then(function(){return At(requireFilePlayer())})})}];ft.default=Ct})(players);var ReactPlayer$1={},safeIsNaN=Number.isNaN||function ft(lt){return typeof lt=="number"&&lt!==lt};function isEqual(ft,lt){return!!(ft===lt||safeIsNaN(ft)&&safeIsNaN(lt))}function areInputsEqual(ft,lt){if(ft.length!==lt.length)return!1;for(var dt=0;dt<ft.length;dt++)if(!isEqual(ft[dt],lt[dt]))return!1;return!0}function memoizeOne(ft,lt){lt===void 0&&(lt=areInputsEqual);var dt,vt=[],St,Et=!1;function At(){for(var Ct=[],Tt=0;Tt<arguments.length;Tt++)Ct[Tt]=arguments[Tt];return Et&&dt===this&&lt(Ct,vt)||(St=ft.apply(this,Ct),Et=!0,dt=this,vt=Ct),St}return At}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(memoizeOne_esm);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(ft,lt){if(ft===lt)return!0;if(ft&&lt&&typeof ft=="object"&&typeof lt=="object"){if(ft.constructor!==lt.constructor)return!1;var dt,vt,St;if(Array.isArray(ft)){if(dt=ft.length,dt!=lt.length)return!1;for(vt=dt;vt--!==0;)if(!equal(ft[vt],lt[vt]))return!1;return!0}var Et;if(hasMap&&ft instanceof Map&&lt instanceof Map){if(ft.size!==lt.size)return!1;for(Et=ft.entries();!(vt=Et.next()).done;)if(!lt.has(vt.value[0]))return!1;for(Et=ft.entries();!(vt=Et.next()).done;)if(!equal(vt.value[1],lt.get(vt.value[0])))return!1;return!0}if(hasSet&&ft instanceof Set&&lt instanceof Set){if(ft.size!==lt.size)return!1;for(Et=ft.entries();!(vt=Et.next()).done;)if(!lt.has(vt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(ft)&&ArrayBuffer.isView(lt)){if(dt=ft.length,dt!=lt.length)return!1;for(vt=dt;vt--!==0;)if(ft[vt]!==lt[vt])return!1;return!0}if(ft.constructor===RegExp)return ft.source===lt.source&&ft.flags===lt.flags;if(ft.valueOf!==Object.prototype.valueOf&&typeof ft.valueOf=="function"&&typeof lt.valueOf=="function")return ft.valueOf()===lt.valueOf();if(ft.toString!==Object.prototype.toString&&typeof ft.toString=="function"&&typeof lt.toString=="function")return ft.toString()===lt.toString();if(St=Object.keys(ft),dt=St.length,dt!==Object.keys(lt).length)return!1;for(vt=dt;vt--!==0;)if(!Object.prototype.hasOwnProperty.call(lt,St[vt]))return!1;if(hasElementType&&ft instanceof Element)return!1;for(vt=dt;vt--!==0;)if(!((St[vt]==="_owner"||St[vt]==="__v"||St[vt]==="__o")&&ft.$$typeof)&&!equal(ft[St[vt]],lt[St[vt]]))return!1;return!0}return ft!==ft&&lt!==lt}var reactFastCompare=function ft(lt,dt){try{return equal(lt,dt)}catch(vt){if((vt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw vt}},props={};Object.defineProperty(props,"__esModule",{value:!0});props.defaultProps=props.propTypes=void 0;var _propTypes=_interopRequireDefault$1(propTypesExports);function _interopRequireDefault$1(ft){return ft&&ft.__esModule?ft:{default:ft}}var string=_propTypes.default.string,bool=_propTypes.default.bool,number=_propTypes.default.number,array=_propTypes.default.array,oneOfType=_propTypes.default.oneOfType,shape=_propTypes.default.shape,object=_propTypes.default.object,func=_propTypes.default.func,node=_propTypes.default.node,propTypes={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func};props.propTypes=propTypes;var noop=function ft(){},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop,onStart:noop,onPlay:noop,onPause:noop,onBuffer:noop,onBufferEnd:noop,onEnded:noop,onError:noop,onDuration:noop,onSeek:noop,onPlaybackRateChange:noop,onProgress:noop,onClickPreview:noop,onEnablePIP:noop,onDisablePIP:noop};props.defaultProps=defaultProps;var Player={};(function(ft){function lt(ir){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(lr){return typeof lr}:lt=function(lr){return lr&&typeof Symbol=="function"&&lr.constructor===Symbol&&lr!==Symbol.prototype?"symbol":typeof lr},lt(ir)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=Tt(reactExports),vt=At(reactFastCompare),St=props,Et=utils;function At(ir){return ir&&ir.__esModule?ir:{default:ir}}function Ct(){if(typeof WeakMap!="function")return null;var ir=new WeakMap;return Ct=function(){return ir},ir}function Tt(ir){if(ir&&ir.__esModule)return ir;if(ir===null||lt(ir)!=="object"&&typeof ir!="function")return{default:ir};var rr=Ct();if(rr&&rr.has(ir))return rr.get(ir);var lr={},ur=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var dr in ir)if(Object.prototype.hasOwnProperty.call(ir,dr)){var mr=ur?Object.getOwnPropertyDescriptor(ir,dr):null;mr&&(mr.get||mr.set)?Object.defineProperty(lr,dr,mr):lr[dr]=ir[dr]}return lr.default=ir,rr&&rr.set(ir,lr),lr}function Rt(){return Rt=Object.assign||function(ir){for(var rr=1;rr<arguments.length;rr++){var lr=arguments[rr];for(var ur in lr)Object.prototype.hasOwnProperty.call(lr,ur)&&(ir[ur]=lr[ur])}return ir},Rt.apply(this,arguments)}function Bt(ir,rr){if(!(ir instanceof rr))throw new TypeError("Cannot call a class as a function")}function Dt(ir,rr){for(var lr=0;lr<rr.length;lr++){var ur=rr[lr];ur.enumerable=ur.enumerable||!1,ur.configurable=!0,"value"in ur&&(ur.writable=!0),Object.defineProperty(ir,ur.key,ur)}}function Ft(ir,rr,lr){return rr&&Dt(ir.prototype,rr),lr&&Dt(ir,lr),ir}function kt(ir,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Super expression must either be null or a function");ir.prototype=Object.create(rr&&rr.prototype,{constructor:{value:ir,writable:!0,configurable:!0}}),rr&&Ut(ir,rr)}function Ut(ir,rr){return Ut=Object.setPrototypeOf||function(ur,dr){return ur.__proto__=dr,ur},Ut(ir,rr)}function Kt(ir){var rr=Zt();return function(){var ur=Ht(ir),dr;if(rr){var mr=Ht(this).constructor;dr=Reflect.construct(ur,arguments,mr)}else dr=ur.apply(this,arguments);return tr(this,dr)}}function tr(ir,rr){return rr&&(lt(rr)==="object"||typeof rr=="function")?rr:Wt(ir)}function Wt(ir){if(ir===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ir}function Zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ht(ir){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(lr){return lr.__proto__||Object.getPrototypeOf(lr)},Ht(ir)}function nr(ir,rr,lr){return rr in ir?Object.defineProperty(ir,rr,{value:lr,enumerable:!0,configurable:!0,writable:!0}):ir[rr]=lr,ir}var sr=5e3,ar=function(ir){kt(lr,ir);var rr=Kt(lr);function lr(){var ur;Bt(this,lr);for(var dr=arguments.length,mr=new Array(dr),Cr=0;Cr<dr;Cr++)mr[Cr]=arguments[Cr];return ur=rr.call.apply(rr,[this].concat(mr)),nr(Wt(ur),"mounted",!1),nr(Wt(ur),"isReady",!1),nr(Wt(ur),"isPlaying",!1),nr(Wt(ur),"isLoading",!0),nr(Wt(ur),"loadOnReady",null),nr(Wt(ur),"startOnPlay",!0),nr(Wt(ur),"seekOnPlay",null),nr(Wt(ur),"onDurationCalled",!1),nr(Wt(ur),"handlePlayerMount",function(yr){if(ur.player){ur.progress();return}ur.player=yr,ur.player.load(ur.props.url),ur.progress()}),nr(Wt(ur),"getInternalPlayer",function(yr){return ur.player?ur.player[yr]:null}),nr(Wt(ur),"progress",function(){if(ur.props.url&&ur.player&&ur.isReady){var yr=ur.getCurrentTime()||0,xr=ur.getSecondsLoaded(),Sr=ur.getDuration();if(Sr){var br={playedSeconds:yr,played:yr/Sr};xr!==null&&(br.loadedSeconds=xr,br.loaded=xr/Sr),(br.playedSeconds!==ur.prevPlayed||br.loadedSeconds!==ur.prevLoaded)&&ur.props.onProgress(br),ur.prevPlayed=br.playedSeconds,ur.prevLoaded=br.loadedSeconds}}ur.progressTimeout=setTimeout(ur.progress,ur.props.progressFrequency||ur.props.progressInterval)}),nr(Wt(ur),"handleReady",function(){if(ur.mounted){ur.isReady=!0,ur.isLoading=!1;var yr=ur.props,xr=yr.onReady,Sr=yr.playing,br=yr.volume,cr=yr.muted;xr(),!cr&&br!==null&&ur.player.setVolume(br),ur.loadOnReady?(ur.player.load(ur.loadOnReady,!0),ur.loadOnReady=null):Sr&&ur.player.play(),ur.handleDurationCheck()}}),nr(Wt(ur),"handlePlay",function(){ur.isPlaying=!0,ur.isLoading=!1;var yr=ur.props,xr=yr.onStart,Sr=yr.onPlay,br=yr.playbackRate;ur.startOnPlay&&(ur.player.setPlaybackRate&&br!==1&&ur.player.setPlaybackRate(br),xr(),ur.startOnPlay=!1),Sr(),ur.seekOnPlay&&(ur.seekTo(ur.seekOnPlay),ur.seekOnPlay=null),ur.handleDurationCheck()}),nr(Wt(ur),"handlePause",function(yr){ur.isPlaying=!1,ur.isLoading||ur.props.onPause(yr)}),nr(Wt(ur),"handleEnded",function(){var yr=ur.props,xr=yr.activePlayer,Sr=yr.loop,br=yr.onEnded;xr.loopOnEnded&&Sr&&ur.seekTo(0),Sr||(ur.isPlaying=!1,br())}),nr(Wt(ur),"handleError",function(){var yr;ur.isLoading=!1,(yr=ur.props).onError.apply(yr,arguments)}),nr(Wt(ur),"handleDurationCheck",function(){clearTimeout(ur.durationCheckTimeout);var yr=ur.getDuration();yr?ur.onDurationCalled||(ur.props.onDuration(yr),ur.onDurationCalled=!0):ur.durationCheckTimeout=setTimeout(ur.handleDurationCheck,100)}),nr(Wt(ur),"handleLoaded",function(){ur.isLoading=!1}),ur}return Ft(lr,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(dr){var mr=this;if(this.player){var Cr=this.props,yr=Cr.url,xr=Cr.playing,Sr=Cr.volume,br=Cr.muted,cr=Cr.playbackRate,pr=Cr.pip,Er=Cr.loop,_r=Cr.activePlayer,Ar=Cr.disableDeferredLoading;if(!(0,vt.default)(dr.url,yr)){if(this.isLoading&&!_r.forceLoad&&!Ar&&!(0,Et.isMediaStream)(yr)){console.warn("ReactPlayer: the attempt to load ".concat(yr," is being deferred until the player has loaded")),this.loadOnReady=yr;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(yr,this.isReady)}!dr.playing&&xr&&!this.isPlaying&&this.player.play(),dr.playing&&!xr&&this.isPlaying&&this.player.pause(),!dr.pip&&pr&&this.player.enablePIP&&this.player.enablePIP(),dr.pip&&!pr&&this.player.disablePIP&&this.player.disablePIP(),dr.volume!==Sr&&Sr!==null&&this.player.setVolume(Sr),dr.muted!==br&&(br?this.player.mute():(this.player.unmute(),Sr!==null&&setTimeout(function(){return mr.player.setVolume(Sr)}))),dr.playbackRate!==cr&&this.player.setPlaybackRate&&this.player.setPlaybackRate(cr),dr.loop!==Er&&this.player.setLoop&&this.player.setLoop(Er)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(dr,mr){var Cr=this;if(!this.isReady){dr!==0&&(this.seekOnPlay=dr,setTimeout(function(){Cr.seekOnPlay=null},sr));return}var yr=mr?mr==="fraction":dr>0&&dr<1;if(yr){var xr=this.player.getDuration();if(!xr){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(xr*dr);return}this.player.seekTo(dr)}},{key:"render",value:function(){var dr=this.props.activePlayer;return dr?dt.default.createElement(dr,Rt({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),lr}(dt.Component);ft.default=ar,nr(ar,"displayName","Player"),nr(ar,"propTypes",St.propTypes),nr(ar,"defaultProps",St.defaultProps)})(Player);var Preview$1={},hasRequiredPreview;function requirePreview(){return hasRequiredPreview||(hasRequiredPreview=1,function(ft){function lt(sr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(ir){return typeof ir}:lt=function(ir){return ir&&typeof Symbol=="function"&&ir.constructor===Symbol&&ir!==Symbol.prototype?"symbol":typeof ir},lt(sr)}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var dt=St(reactExports);function vt(){if(typeof WeakMap!="function")return null;var sr=new WeakMap;return vt=function(){return sr},sr}function St(sr){if(sr&&sr.__esModule)return sr;if(sr===null||lt(sr)!=="object"&&typeof sr!="function")return{default:sr};var ar=vt();if(ar&&ar.has(sr))return ar.get(sr);var ir={},rr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lr in sr)if(Object.prototype.hasOwnProperty.call(sr,lr)){var ur=rr?Object.getOwnPropertyDescriptor(sr,lr):null;ur&&(ur.get||ur.set)?Object.defineProperty(ir,lr,ur):ir[lr]=sr[lr]}return ir.default=sr,ar&&ar.set(sr,ir),ir}function Et(sr,ar){var ir=Object.keys(sr);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(sr);ar&&(rr=rr.filter(function(lr){return Object.getOwnPropertyDescriptor(sr,lr).enumerable})),ir.push.apply(ir,rr)}return ir}function At(sr){for(var ar=1;ar<arguments.length;ar++){var ir=arguments[ar]!=null?arguments[ar]:{};ar%2?Et(Object(ir),!0).forEach(function(rr){Wt(sr,rr,ir[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sr,Object.getOwnPropertyDescriptors(ir)):Et(Object(ir)).forEach(function(rr){Object.defineProperty(sr,rr,Object.getOwnPropertyDescriptor(ir,rr))})}return sr}function Ct(sr,ar){if(!(sr instanceof ar))throw new TypeError("Cannot call a class as a function")}function Tt(sr,ar){for(var ir=0;ir<ar.length;ir++){var rr=ar[ir];rr.enumerable=rr.enumerable||!1,rr.configurable=!0,"value"in rr&&(rr.writable=!0),Object.defineProperty(sr,rr.key,rr)}}function Rt(sr,ar,ir){return ar&&Tt(sr.prototype,ar),ir&&Tt(sr,ir),sr}function Bt(sr,ar){if(typeof ar!="function"&&ar!==null)throw new TypeError("Super expression must either be null or a function");sr.prototype=Object.create(ar&&ar.prototype,{constructor:{value:sr,writable:!0,configurable:!0}}),ar&&Dt(sr,ar)}function Dt(sr,ar){return Dt=Object.setPrototypeOf||function(rr,lr){return rr.__proto__=lr,rr},Dt(sr,ar)}function Ft(sr){var ar=Kt();return function(){var rr=tr(sr),lr;if(ar){var ur=tr(this).constructor;lr=Reflect.construct(rr,arguments,ur)}else lr=rr.apply(this,arguments);return kt(this,lr)}}function kt(sr,ar){return ar&&(lt(ar)==="object"||typeof ar=="function")?ar:Ut(sr)}function Ut(sr){if(sr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return sr}function Kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function tr(sr){return tr=Object.setPrototypeOf?Object.getPrototypeOf:function(ir){return ir.__proto__||Object.getPrototypeOf(ir)},tr(sr)}function Wt(sr,ar,ir){return ar in sr?Object.defineProperty(sr,ar,{value:ir,enumerable:!0,configurable:!0,writable:!0}):sr[ar]=ir,sr}var Zt="64px",Ht={},nr=function(sr){Bt(ir,sr);var ar=Ft(ir);function ir(){var rr;Ct(this,ir);for(var lr=arguments.length,ur=new Array(lr),dr=0;dr<lr;dr++)ur[dr]=arguments[dr];return rr=ar.call.apply(ar,[this].concat(ur)),Wt(Ut(rr),"mounted",!1),Wt(Ut(rr),"state",{image:null}),Wt(Ut(rr),"handleKeyPress",function(mr){(mr.key==="Enter"||mr.key===" ")&&rr.props.onClick()}),rr}return Rt(ir,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(lr){var ur=this.props,dr=ur.url,mr=ur.light;(lr.url!==dr||lr.light!==mr)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(lr){var ur=this,dr=lr.url,mr=lr.light,Cr=lr.oEmbedUrl;if(!dt.default.isValidElement(mr)){if(typeof mr=="string"){this.setState({image:mr});return}if(Ht[dr]){this.setState({image:Ht[dr]});return}return this.setState({image:null}),window.fetch(Cr.replace("{url}",dr)).then(function(yr){return yr.json()}).then(function(yr){if(yr.thumbnail_url&&ur.mounted){var xr=yr.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");ur.setState({image:xr}),Ht[dr]=xr}})}}},{key:"render",value:function(){var lr=this.props,ur=lr.light,dr=lr.onClick,mr=lr.playIcon,Cr=lr.previewTabIndex,yr=this.state.image,xr=dt.default.isValidElement(ur),Sr={display:"flex",alignItems:"center",justifyContent:"center"},br={preview:At({width:"100%",height:"100%",backgroundImage:yr&&!xr?"url(".concat(yr,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},Sr),shadow:At({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:Zt,width:Zt,height:Zt,position:xr?"absolute":void 0},Sr),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},cr=dt.default.createElement("div",{style:br.shadow,className:"react-player__shadow"},dt.default.createElement("div",{style:br.playIcon,className:"react-player__play-icon"}));return dt.default.createElement("div",{style:br.preview,className:"react-player__preview",onClick:dr,tabIndex:Cr,onKeyPress:this.handleKeyPress},xr?ur:null,mr||cr)}}]),ir}(dt.Component);ft.default=nr}(Preview$1)),Preview$1}Object.defineProperty(ReactPlayer$1,"__esModule",{value:!0});ReactPlayer$1.createReactPlayer=void 0;var _react=_interopRequireWildcard(reactExports),_deepmerge=_interopRequireDefault(cjs),_memoizeOne=_interopRequireDefault(require$$2),_reactFastCompare=_interopRequireDefault(reactFastCompare),_props=props,_utils=utils,_Player3=_interopRequireDefault(Player);function _interopRequireDefault(ft){return ft&&ft.__esModule?ft:{default:ft}}function _typeof(ft){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(dt){return typeof dt}:_typeof=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},_typeof(ft)}function ownKeys(ft,lt){var dt=Object.keys(ft);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ft);lt&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor(ft,St).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread(ft){for(var lt=1;lt<arguments.length;lt++){var dt=arguments[lt]!=null?arguments[lt]:{};lt%2?ownKeys(Object(dt),!0).forEach(function(vt){_defineProperty(ft,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(dt)):ownKeys(Object(dt)).forEach(function(vt){Object.defineProperty(ft,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return ft}function _extends(){return _extends=Object.assign||function(ft){for(var lt=1;lt<arguments.length;lt++){var dt=arguments[lt];for(var vt in dt)Object.prototype.hasOwnProperty.call(dt,vt)&&(ft[vt]=dt[vt])}return ft},_extends.apply(this,arguments)}function _toConsumableArray(ft){return _arrayWithoutHoles(ft)||_iterableToArray(ft)||_unsupportedIterableToArray(ft)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(ft,lt){if(ft){if(typeof ft=="string")return _arrayLikeToArray(ft,lt);var dt=Object.prototype.toString.call(ft).slice(8,-1);if(dt==="Object"&&ft.constructor&&(dt=ft.constructor.name),dt==="Map"||dt==="Set")return Array.from(ft);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return _arrayLikeToArray(ft,lt)}}function _iterableToArray(ft){if(typeof Symbol<"u"&&Symbol.iterator in Object(ft))return Array.from(ft)}function _arrayWithoutHoles(ft){if(Array.isArray(ft))return _arrayLikeToArray(ft)}function _arrayLikeToArray(ft,lt){(lt==null||lt>ft.length)&&(lt=ft.length);for(var dt=0,vt=new Array(lt);dt<lt;dt++)vt[dt]=ft[dt];return vt}function _classCallCheck(ft,lt){if(!(ft instanceof lt))throw new TypeError("Cannot call a class as a function")}function _defineProperties(ft,lt){for(var dt=0;dt<lt.length;dt++){var vt=lt[dt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(ft,vt.key,vt)}}function _createClass(ft,lt,dt){return lt&&_defineProperties(ft.prototype,lt),dt&&_defineProperties(ft,dt),ft}function _inherits(ft,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function");ft.prototype=Object.create(lt&&lt.prototype,{constructor:{value:ft,writable:!0,configurable:!0}}),lt&&_setPrototypeOf(ft,lt)}function _setPrototypeOf(ft,lt){return _setPrototypeOf=Object.setPrototypeOf||function(vt,St){return vt.__proto__=St,vt},_setPrototypeOf(ft,lt)}function _createSuper(ft){var lt=_isNativeReflectConstruct();return function(){var vt=_getPrototypeOf(ft),St;if(lt){var Et=_getPrototypeOf(this).constructor;St=Reflect.construct(vt,arguments,Et)}else St=vt.apply(this,arguments);return _possibleConstructorReturn(this,St)}}function _possibleConstructorReturn(ft,lt){return lt&&(_typeof(lt)==="object"||typeof lt=="function")?lt:_assertThisInitialized(ft)}function _assertThisInitialized(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(ft){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(dt){return dt.__proto__||Object.getPrototypeOf(dt)},_getPrototypeOf(ft)}function _defineProperty(ft,lt,dt){return lt in ft?Object.defineProperty(ft,lt,{value:dt,enumerable:!0,configurable:!0,writable:!0}):ft[lt]=dt,ft}function _getRequireWildcardCache(){if(typeof WeakMap!="function")return null;var ft=new WeakMap;return _getRequireWildcardCache=function(){return ft},ft}function _interopRequireWildcard(ft){if(ft&&ft.__esModule)return ft;if(ft===null||_typeof(ft)!=="object"&&typeof ft!="function")return{default:ft};var lt=_getRequireWildcardCache();if(lt&&lt.has(ft))return lt.get(ft);var dt={},vt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var St in ft)if(Object.prototype.hasOwnProperty.call(ft,St)){var Et=vt?Object.getOwnPropertyDescriptor(ft,St):null;Et&&(Et.get||Et.set)?Object.defineProperty(dt,St,Et):dt[St]=ft[St]}return dt.default=ft,lt&&lt.set(ft,dt),dt}var Preview=(0,_react.lazy)(function(){return Promise.resolve().then(function(){return _interopRequireWildcard(requirePreview())})}),IS_BROWSER=typeof window<"u"&&window.document,IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?_react.Suspense:function(){return null},customPlayers=[],createReactPlayer=function ft(lt,dt){var vt,St;return St=vt=function(Et){_inherits(Ct,Et);var At=_createSuper(Ct);function Ct(){var Tt;_classCallCheck(this,Ct);for(var Rt=arguments.length,Bt=new Array(Rt),Dt=0;Dt<Rt;Dt++)Bt[Dt]=arguments[Dt];return Tt=At.call.apply(At,[this].concat(Bt)),_defineProperty(_assertThisInitialized(Tt),"state",{showPreview:!!Tt.props.light}),_defineProperty(_assertThisInitialized(Tt),"references",{wrapper:function(kt){Tt.wrapper=kt},player:function(kt){Tt.player=kt}}),_defineProperty(_assertThisInitialized(Tt),"handleClickPreview",function(Ft){Tt.setState({showPreview:!1}),Tt.props.onClickPreview(Ft)}),_defineProperty(_assertThisInitialized(Tt),"showPreview",function(){Tt.setState({showPreview:!0})}),_defineProperty(_assertThisInitialized(Tt),"getDuration",function(){return Tt.player?Tt.player.getDuration():null}),_defineProperty(_assertThisInitialized(Tt),"getCurrentTime",function(){return Tt.player?Tt.player.getCurrentTime():null}),_defineProperty(_assertThisInitialized(Tt),"getSecondsLoaded",function(){return Tt.player?Tt.player.getSecondsLoaded():null}),_defineProperty(_assertThisInitialized(Tt),"getInternalPlayer",function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return Tt.player?Tt.player.getInternalPlayer(Ft):null}),_defineProperty(_assertThisInitialized(Tt),"seekTo",function(Ft,kt){if(!Tt.player)return null;Tt.player.seekTo(Ft,kt)}),_defineProperty(_assertThisInitialized(Tt),"handleReady",function(){Tt.props.onReady(_assertThisInitialized(Tt))}),_defineProperty(_assertThisInitialized(Tt),"getActivePlayer",(0,_memoizeOne.default)(function(Ft){for(var kt=0,Ut=[].concat(customPlayers,_toConsumableArray(lt));kt<Ut.length;kt++){var Kt=Ut[kt];if(Kt.canPlay(Ft))return Kt}return dt||null})),_defineProperty(_assertThisInitialized(Tt),"getConfig",(0,_memoizeOne.default)(function(Ft,kt){var Ut=Tt.props.config;return _deepmerge.default.all([_props.defaultProps.config,_props.defaultProps.config[kt]||{},Ut,Ut[kt]||{}])})),_defineProperty(_assertThisInitialized(Tt),"getAttributes",(0,_memoizeOne.default)(function(Ft){return(0,_utils.omit)(Tt.props,SUPPORTED_PROPS)})),_defineProperty(_assertThisInitialized(Tt),"renderActivePlayer",function(Ft){if(!Ft)return null;var kt=Tt.getActivePlayer(Ft);if(!kt)return null;var Ut=Tt.getConfig(Ft,kt.key);return _react.default.createElement(_Player3.default,_extends({},Tt.props,{key:kt.key,ref:Tt.references.player,config:Ut,activePlayer:kt.lazyPlayer||kt,onReady:Tt.handleReady}))}),Tt}return _createClass(Ct,[{key:"shouldComponentUpdate",value:function(Rt,Bt){return!(0,_reactFastCompare.default)(this.props,Rt)||!(0,_reactFastCompare.default)(this.state,Bt)}},{key:"componentDidUpdate",value:function(Rt){var Bt=this.props.light;!Rt.light&&Bt&&this.setState({showPreview:!0}),Rt.light&&!Bt&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(Rt){if(!Rt)return null;var Bt=this.props,Dt=Bt.light,Ft=Bt.playIcon,kt=Bt.previewTabIndex,Ut=Bt.oEmbedUrl;return _react.default.createElement(Preview,{url:Rt,light:Dt,playIcon:Ft,previewTabIndex:kt,oEmbedUrl:Ut,onClick:this.handleClickPreview})}},{key:"render",value:function(){var Rt=this.props,Bt=Rt.url,Dt=Rt.style,Ft=Rt.width,kt=Rt.height,Ut=Rt.fallback,Kt=Rt.wrapper,tr=this.state.showPreview,Wt=this.getAttributes(Bt),Zt=typeof Kt=="string"?this.references.wrapper:void 0;return _react.default.createElement(Kt,_extends({ref:Zt,style:_objectSpread(_objectSpread({},Dt),{},{width:Ft,height:kt})},Wt),_react.default.createElement(UniversalSuspense,{fallback:Ut},tr?this.renderPreview(Bt):this.renderActivePlayer(Bt)))}}]),Ct}(_react.Component),_defineProperty(vt,"displayName","ReactPlayer"),_defineProperty(vt,"propTypes",_props.propTypes),_defineProperty(vt,"defaultProps",_props.defaultProps),_defineProperty(vt,"addCustomPlayer",function(Et){customPlayers.push(Et)}),_defineProperty(vt,"removeCustomPlayers",function(){customPlayers.length=0}),_defineProperty(vt,"canPlay",function(Et){for(var At=0,Ct=[].concat(customPlayers,_toConsumableArray(lt));At<Ct.length;At++){var Tt=Ct[At];if(Tt.canPlay(Et))return!0}return!1}),_defineProperty(vt,"canEnablePIP",function(Et){for(var At=0,Ct=[].concat(customPlayers,_toConsumableArray(lt));At<Ct.length;At++){var Tt=Ct[At];if(Tt.canEnablePIP&&Tt.canEnablePIP(Et))return!0}return!1}),St};ReactPlayer$1.createReactPlayer=createReactPlayer;(function(ft){Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var lt=vt(players),dt=ReactPlayer$1;function vt(At){return At&&At.__esModule?At:{default:At}}var St=lt.default[lt.default.length-1],Et=(0,dt.createReactPlayer)(lt.default,St);ft.default=Et})(lib);const ReactPlayer=getDefaultExportFromCjs(lib);extend({UnrealBloomPass,VignetteShader});function processData(ft){let lt=[];return ft.items.forEach(dt=>{console.log(dt);let vt={};const{fields:St,metadata:Et,sys:At}=dt;let{title:Ct,subtitle:Tt,description:Rt,image:Bt,otherImages:Dt,whatsappNumber:Ft,linkedIn:kt}=St,Ut=St.video||!1;console.log(St);let Kt,tr;Kt=At.contentType.sys.id,Kt=="sectionCopy"&&(tr=St.section);let{id:Wt}=At;const Zt=({children:ar})=>jsxRuntimeExports.jsx("p",{className:"bold",children:ar}),Ht=({children:ar})=>jsxRuntimeExports.jsx("p",{className:"align-center",children:ar}),nr={renderMark:{[dist.MARKS.BOLD]:ar=>jsxRuntimeExports.jsx(Zt,{children:ar})},renderNode:{[dist.BLOCKS.PARAGRAPH]:(ar,ir)=>jsxRuntimeExports.jsx(Ht,{children:ir})},renderText:ar=>ar.replace("!","?")};richTextReactRenderer_es5.documentToReactComponents(Rt,nr);let sr=Rt.content;Rt=Rt.content[0],Rt.content[0].value?Rt=Rt.content[0].value:Rt="",vt.title=Ct,vt.subTitle=Tt,vt.description=Rt,vt.descriptionArr=sr,vt.image=Bt,vt.section=toTitleCase(Kt),vt.otherImages=Dt,vt.ring=tr,vt.id=Wt,vt.video=Ut,vt.whatsapp=Ft,vt.linkedIn=kt,lt.push(vt)}),lt}function toTitleCase(ft){return ft.replace(/\w\S*/g,function(lt){return lt.charAt(0).toUpperCase()+lt.substr(1).toLowerCase()})}function QRPanel(){return jsxRuntimeExports.jsx("div",{className:"custom-loader pointer-events-none absolute  z-[60]  flex h-full w-full items-center justify-center  transition-all delay-[200ms] duration-[800ms] ease-in-out",children:jsxRuntimeExports.jsx("div",{className:"mt-64 flex justify-center bg-black bg-opacity-30 p-12",children:jsxRuntimeExports.jsx("div",{className:"bg-white p-2",children:jsxRuntimeExports.jsx(QRCodeSVG,{value:"hireco.co.uk"})})})})}function App(){const ft=appState(ir=>ir.activeRing),lt=appState(ir=>ir.fetchData,shallow$1),dt=appState(ir=>ir.activeTile),vt=appState(ir=>ir.getUniverseStores),St=appState(ir=>ir.setFetchData),Et=appState(ir=>ir.maxDistance,shallow$1),At=appState(ir=>ir.boundsMargin,shallow$1),Ct=appState(ir=>ir.activeVideo,shallow$1),Tt=appState(ir=>ir.setLoaded),Rt=appState(ir=>ir.qrPanel,shallow$1),Bt=appState(ir=>ir.currentView,shallow$1);vt();const Dt=reactExports.useRef(),Ft=reactExports.useRef(),kt=reactExports.useRef();reactExports.useRef(),reactExports.useState(.5),reactExports.useState(1);const{progress:Ut}=useProgress();reactExports.useEffect(()=>{},[Bt]),reactExports.useEffect(()=>{Ut==100&&setTimeout(()=>{Tt(!0)},3e3)},[Ut]);const{isLoading:Kt,error:tr,data:Wt}=useQuery({queryKey:["repoData"],queryFn:()=>fetch("https://cdn.contentful.com/spaces/ndcfmypd0yep/environments/master/entries?access_token=YZXIc9fW0cmy7ymmmZGQ6k8W2vO76zG3XIvsoccZLE8").then(ir=>ir.json())});reactExports.useEffect(()=>{Wt&&St(processData(Wt))},[Wt]),reactExports.useEffect(()=>{!kt||!kt.current||(dt?kt.current.enableZoom=!1:kt.current.enableZoom=!0)},[dt]);const[Zt,Ht]=reactExports.useState(!1);reactExports.useEffect(()=>{console.log("change active video"),dt?lt.filter(ir=>ir.id==dt)[0].video&&(console.log("show play button"),setTimeout(()=>{console.log("async"),Ht(!0)},1250)):Ht(!1)},[dt]);const[nr,sr]=reactExports.useState(!1),ar=useFullScreenHandle();return reactExports.useEffect(()=>{nr?(console.log("enter"),ar.enter()):ar.exit()},[nr]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(FullScreen,{handle:ar,children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-full",children:jsxRuntimeExports.jsx("div",{className:"fullscreen-icon relative z-[60] cursor-pointer p-4",onClick:()=>{sr(!nr)},children:nr?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",children:jsxRuntimeExports.jsx("path",{id:"Icon_open-fullscreen-exit","data-name":"Icon open-fullscreen-exit",d:"M4.5,0,0,4.5l6.75,6.75L0,18H18V0L11.25,6.75ZM18,18V36l6.75-6.75L31.5,36,36,31.5l-6.75-6.75L36,18Z",fill:"#fff"})}):jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",children:jsxRuntimeExports.jsx("path",{id:"Icon_open-fullscreen-enter","data-name":"Icon open-fullscreen-enter",d:"M0,0V18l6.75-6.75L13.5,18,18,13.5,11.25,6.75,18,0ZM22.5,18,18,22.5l6.75,6.75L18,36H36V18l-6.75,6.75Z",fill:"#fff"})})})}),ft!="none"&&!Ct?jsxRuntimeExports.jsx(ContentOverlay,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),Zt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(PlayButton,{})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),Ct?jsxRuntimeExports.jsx(VideoOverlay,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx(WelcomeToUniverse,{}),jsxRuntimeExports.jsx(ConsoleLogger,{}),jsxRuntimeExports.jsx(CustomLoader,{}),Rt?jsxRuntimeExports.jsx(QRPanel,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),lt&&jsxRuntimeExports.jsxs(Canvas,{className:"relative",style:{height:"100vh"},children:[jsxRuntimeExports.jsx(Perf,{}),jsxRuntimeExports.jsxs("group",{ref:Dt,children:[jsxRuntimeExports.jsx("ambientLight",{intensity:2}),jsxRuntimeExports.jsx(PerspectiveCamera,{ref:Ft,aspect:window.innerWidth/window.innerHeight,fov:60,position:[-500,-500,-500],makeDefault:!0}),jsxRuntimeExports.jsx(OrbitControls,{makeDefault:!0,minPolarAngle:.5,maxPolarAngle:Math.PI/2,minDistance:5,maxDistance:Et,ref:kt,enablePan:!1}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx("color",{attach:"background",args:["#191920"],opacity:1}),jsxRuntimeExports.jsx("hemisphereLight",{color:"white",groundColor:"#ff0f00",position:[-7,25,13],intensity:1}),jsxRuntimeExports.jsx(Bounds,{damping:3,margin:At,children:jsxRuntimeExports.jsx(Scene,{cameraRef:Ft,orbitControlsRef:kt})}),jsxRuntimeExports.jsx(Effects,{disableGamma:!0})]})]})]})]})})}function VideoOverlay(){const ft=appState(dt=>dt.setActiveVideo),lt=appState(dt=>dt.activeVideo);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:" absolute z-50  h-screen w-screen",children:jsxRuntimeExports.jsxs("div",{className:" flex  h-full w-full items-center justify-start pl-24",children:[jsxRuntimeExports.jsx(ReactPlayer,{url:"./images/"+lt,playing:!0,className:"relative z-20 w-[50%]",width:"50%",height:"auto",controls:!0,loop:!0}),jsxRuntimeExports.jsx("div",{className:"backdrop absolute top-0 left-0 z-10 h-full w-full bg-black bg-opacity-50 ",onClick:()=>{console.log("activeVideoChange"),ft(null)}})]})})})}function WelcomeToUniverse(){const ft=appState(dt=>dt.setCurrentView),lt=appState(dt=>dt.currentView,shallow$1);return jsxRuntimeExports.jsx("div",{className:` absolute z-50 h-screen w-screen bg-black bg-opacity-60 text-white transition-opacity ${lt!="idle"?"pointer-events-none opacity-0":""}`,onClick:()=>ft("main"),children:jsxRuntimeExports.jsx("div",{className:"flex h-full flex-col justify-end pl-[10vw] pb-[10vh]",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-start text-left ",children:[jsxRuntimeExports.jsx("p",{class:"text-[8em] font-bold uppercase text-orange-500",children:"WELCOME TO"}),jsxRuntimeExports.jsx("p",{class:"text-[4.75em] font-bold uppercase",children:"THE HIRECO UNIVERSE"}),jsxRuntimeExports.jsx("p",{class:"pt-3  text-[2.33em] font-bold uppercase ",children:"YOUR DIGITAL TRANSPORT SOLUTION AWAITS"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-start pt-12 align-middle ",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.714",height:"31.438",viewBox:"0 0 30.714 31.438",children:jsxRuntimeExports.jsx("path",{id:"Icon_material-touch-app","data-name":"Icon material-touch-app",d:"M12.326,14.584V10.007a3.059,3.059,0,1,1,6.119,0v4.577a5.507,5.507,0,1,0-6.119,0ZM24.368,20.25l-5.556-2.766a1.723,1.723,0,0,0-.661-.135h-.93V10.007a1.836,1.836,0,1,0-3.671,0V23.15l-4.2-.881a2.139,2.139,0,0,0-.294-.037,1.369,1.369,0,0,0-.967.4l-.967.979L13.17,29.66a1.842,1.842,0,0,0,1.3.538h8.309a1.782,1.782,0,0,0,1.762-1.566l.918-6.449a1.759,1.759,0,0,0-1.089-1.934Z",transform:"translate(14.435 -8.071) rotate(41)",fill:"#fff"})}),jsxRuntimeExports.jsx("p",{class:"pl-3 text-[2.5em] font-thin uppercase",children:"Tap to explore"})]})]})})})}function ContentOverlay(ft){const lt=appState(kt=>kt.setActiveRing),dt=appState(kt=>kt.setCurrentView),vt=appState(kt=>kt.setActiveTile),St=appState(kt=>kt.activeRing,shallow$1),Et=appState(kt=>kt.activeTile,shallow$1),At=appState(kt=>kt.currentView,shallow$1),Ct=appState(kt=>kt.updateBounds,shallow$1);appState(kt=>kt.activeVideo,shallow$1),appState(kt=>kt.focusElementRef,shallow$1);const Tt=appState(kt=>kt.setActiveVideo,shallow$1),Rt=appState(kt=>kt.setFocusElementRef),Bt=appState(kt=>kt.ringNames),Dt=appState(kt=>kt.setQrPanel);return appState(kt=>kt.fetchData,shallow$1).filter(kt=>kt.id==Et)[0],jsxRuntimeExports.jsx("div",{className:"wrap grad-left pointer-events-none absolute  z-40 flex h-screen w-1/2 items-center pl-10 pr-[30%] ",children:jsxRuntimeExports.jsxs("div",{className:"content flex h-full flex-col justify-around text-white",children:[jsxRuntimeExports.jsxs("div",{className:"back pointer-events-auto flex cursor-pointer pb-6 pt-6",onClick:()=>{if(Et){vt(null),Rt(null),Tt(null),Dt(null);let[kt,Ut,Kt]=[cameraPositionsStore.focus[St].position.x,cameraPositionsStore.focus[St].position.y,cameraPositionsStore.focus[St].position.z],[tr,Wt,Zt]=[cameraPositionsStore.focus[St].target.x,cameraPositionsStore.focus[St].target.y,cameraPositionsStore.focus[St].target.z];Ct({position:{xPos:kt,yPos:Ut,zPos:Kt},target:{xTar:tr,yTar:Wt,zTar:Zt}})}else lt("none"),dt("main"),vt(null),Rt(null),Tt(null),Dt(null)},children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40.681",height:"18",viewBox:"0 0 40.681 18",children:jsxRuntimeExports.jsxs("g",{id:"Group_1","data-name":"Group 1",transform:"translate(-109.319 -43.115)",children:[jsxRuntimeExports.jsxs("g",{id:"Icon_ionic-ios-planet","data-name":"Icon ionic-ios-planet",transform:"translate(117.378 34.115)",children:[jsxRuntimeExports.jsx("path",{id:"Path_1","data-name":"Path 1",d:"M32.52,24.771a4.139,4.139,0,0,0-.8-1.287,26.5,26.5,0,0,0-3.853-3.319.341.341,0,0,0-.527.162l-.33.942a.34.34,0,0,0,.12.387,18.511,18.511,0,0,1,2.939,2.524.262.262,0,0,1-.274.408,30.239,30.239,0,0,1-3.108-.9c-.6-.218-1.245-.471-1.913-.745a8.375,8.375,0,0,0-.872-11.18,8.6,8.6,0,0,0-11-.717A8.458,8.458,0,0,0,10.048,14.7c-.584-.422-1.132-.837-1.631-1.238A17.582,17.582,0,0,1,5.7,11.025c-.155-.2.063-.471.309-.415A39.946,39.946,0,0,1,9.97,11.939a.309.309,0,0,0,.316-.056l.78-.71a.3.3,0,0,0-.091-.506A19.85,19.85,0,0,0,5.147,9a1.734,1.734,0,0,0-1.638.731c-.534.935.5,2.475,3.171,4.7a65.483,65.483,0,0,0,9.6,6.469c6.152,3.452,12.03,5.7,14.625,5.7a1.652,1.652,0,0,0,1.554-.64A1.367,1.367,0,0,0,32.52,24.771Z",fill:"#fff"}),jsxRuntimeExports.jsx("path",{id:"Path_2","data-name":"Path 2",d:"M21.938,24.891a69.329,69.329,0,0,1-6.511-3.15c-2.116-1.188-4.177-2.566-5.934-3.769a.421.421,0,0,0-.239-.077.433.433,0,0,0-.429.415c0,.084-.007.169-.007.246a8.332,8.332,0,0,0,2.5,5.97A8.589,8.589,0,0,0,22,25.629a.409.409,0,0,0,.19-.387A.4.4,0,0,0,21.938,24.891Z",fill:"#fff"})]}),jsxRuntimeExports.jsx("path",{id:"Icon_ionic-ios-arrow-back","data-name":"Icon ionic-ios-arrow-back",d:"M13.32,12.195l4.543-4.539a.858.858,0,0,0-1.215-1.212L11.5,11.587a.856.856,0,0,0-.025,1.183l5.168,5.179a.858.858,0,1,0,1.215-1.212Z",transform:"translate(98.068 39.918)",fill:"#fff"})]})}),jsxRuntimeExports.jsx("span",{className:"pl-4 font-bold uppercase tracking-wider",children:"Back"})]}),At=="page"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"testimonial text-xl",children:St=="ring_2"&&Et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{class:"text-right text-orange-500",children:'"Gendae nam fugit, u opta cus es eum alibusdae peditiur re laut fuga. Em fugiam GXO, Head of Fleet UK"'}),jsxRuntimeExports.jsxs("div",{className:"pointer-events-auto pt-12",onClick:()=>{console.log("first"),Dt(!0)},children:[jsxRuntimeExports.jsxs("div",{className:"linkedIn flex  items-center justify-end",children:[jsxRuntimeExports.jsx("p",{class:" pr-4 text-right font-body font-bold text-green-500",children:"Whatsapp"}),jsxRuntimeExports.jsx("div",{className:"flex h-[40px] w-[40px] rounded-full bg-white p-2",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Icons",viewBox:"0 0 32 32",width:"30px",children:[jsxRuntimeExports.jsx("path",{fill:"#25D366",d:"M17,0C8.7,0,2,6.7,2,15c0,3.4,1.1,6.6,3.2,9.2l-2.1,6.4c-0.1,0.4,0,0.8,0.3,1.1C3.5,31.9,3.8,32,4,32  c0.1,0,0.3,0,0.4-0.1l6.9-3.1C13.1,29.6,15,30,17,30c8.3,0,15-6.7,15-15S25.3,0,17,0z"}),jsxRuntimeExports.jsx("path",{fill:"#FFFFFF",d:"M25.7,20.5c-0.4,1.2-1.9,2.2-3.2,2.4C22.2,23,21.9,23,21.5,23c-0.8,0-2-0.2-4.1-1.1c-2.4-1-4.8-3.1-6.7-5.8  L10.7,16C10.1,15.1,9,13.4,9,11.6c0-2.2,1.1-3.3,1.5-3.8c0.5-0.5,1.2-0.8,2-0.8c0.2,0,0.3,0,0.5,0c0.7,0,1.2,0.2,1.7,1.2l0.4,0.8  c0.3,0.8,0.7,1.7,0.8,1.8c0.3,0.6,0.3,1.1,0,1.6c-0.1,0.3-0.3,0.5-0.5,0.7c-0.1,0.2-0.2,0.3-0.3,0.3c-0.1,0.1-0.1,0.1-0.2,0.2  c0.3,0.5,0.9,1.4,1.7,2.1c1.2,1.1,2.1,1.4,2.6,1.6l0,0c0.2-0.2,0.4-0.6,0.7-0.9l0.1-0.2c0.5-0.7,1.3-0.9,2.1-0.6  c0.4,0.2,2.6,1.2,2.6,1.2l0.2,0.1c0.3,0.2,0.7,0.3,0.9,0.7C26.2,18.5,25.9,19.8,25.7,20.5z"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"linkedIn flex  items-center justify-end pt-2",children:[jsxRuntimeExports.jsx("p",{class:" pr-4 text-right font-body font-bold text-blue-500",children:"LinkedIn"}),jsxRuntimeExports.jsx("div",{className:"flex h-[40px] w-[40px] rounded-full bg-white p-2",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","data-supported-dps":"24x24",fill:"#2B55B7",class:"mercado-match",focusable:"false",width:"30px",children:jsxRuntimeExports.jsx("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})})})]})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:" "})}),jsxRuntimeExports.jsxs("div",{className:"ask-me-more pointer-events-auto pt-12 text-xl",children:[jsxRuntimeExports.jsx("p",{class:"font-bold uppercase text-orange-500",children:"Want to know more about"}),["ring_2","ring_3","ring_4","ring_5","ring_6"].map((kt,Ut)=>{const Kt=Bt[kt];return jsxRuntimeExports.jsx("p",{class:"cursor-pointer font-bold uppercase ",onClick:()=>{lt(kt),vt(null),Tt(null)},children:"> "+Kt})})]}),jsxRuntimeExports.jsx("div",{className:""})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})]})})}function PlayButton(){const ft=appState(Rt=>Rt.activeRing),lt=appState(Rt=>Rt.ringNames),dt=appState(Rt=>Rt.fetchData),vt=appState(Rt=>Rt.activeTile);appState(Rt=>Rt.activeVideo);const St=appState(Rt=>Rt.setActiveVideo);lt[ft];function Et(){console.log("play video"),console.log(Tt),St(Tt)}if(!dt)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let At;if(At=dt.filter(Rt=>Rt.id==vt)[0],!At)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let Ct,Tt;return Ct=At.video||!1,Tt=At.image||!1,Ct?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"playbutton pointer-events-none absolute top-0 left-0 z-50 flex h-screen w-screen scale-[3] items-center justify-center opacity-100  transition-opacity delay-[3000ms] ease-in-out ",children:[jsxRuntimeExports.jsx("div",{className:"svg pointer-events-auto absolute animate-[ping_3s_ease-in-out_infinite] shadow-[5_50px_60px_-15px_rgba(0,0,0,1)]",onClick:()=>Et(),children:jsxRuntimeExports.jsx(PlaySvg,{})}),jsxRuntimeExports.jsx("div",{className:"svg absolute scale-125 shadow-[0_35px_60px_-15px_rgba(0,0,0,0.3)]",children:jsxRuntimeExports.jsx(PlaySvg,{})})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function PlaySvg(){return jsxRuntimeExports.jsx("div",{className:"relative z-50",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34.081",height:"38.953",viewBox:"0 0 34.081 38.953",children:jsxRuntimeExports.jsx("path",{id:"Icon_awesome-play","data-name":"Icon awesome-play",d:"M32.287,16.334,5.508.5A3.631,3.631,0,0,0,0,3.644V35.3a3.648,3.648,0,0,0,5.508,3.142L32.287,22.617a3.648,3.648,0,0,0,0-6.284Z",transform:"translate(0 -0.002)",fill:"#fff"})})})}const global$1="",queryClient=new QueryClient;client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(App,{})})}));
