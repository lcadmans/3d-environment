var V0=Object.defineProperty;var z0=(et,_e,tt)=>_e in et?V0(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt;var ks=(et,_e,tt)=>(z0(et,typeof _e!="symbol"?_e+"":_e,tt),tt);(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const st of nt)if(st.type==="childList")for(const ot of st.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&rt(ot)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const st={};return nt.integrity&&(st.integrity=nt.integrity),nt.referrerPolicy&&(st.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?st.credentials="include":nt.crossOrigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function rt(nt){if(nt.ep)return;nt.ep=!0;const st=tt(nt);fetch(nt.href,st)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){if(et.__esModule)return et;var _e=et.default;if(typeof _e=="function"){var tt=function rt(){if(this instanceof rt){var nt=[null];nt.push.apply(nt,arguments);var st=Function.bind.apply(_e,nt);return new st}return _e.apply(this,arguments)};tt.prototype=_e.prototype}else tt={};return Object.defineProperty(tt,"__esModule",{value:!0}),Object.keys(et).forEach(function(rt){var nt=Object.getOwnPropertyDescriptor(et,rt);Object.defineProperty(tt,rt,nt.get?nt:{enumerable:!0,get:function(){return et[rt]}})}),tt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$4=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(et){return et===null||typeof et!="object"?null:(et=z$4&&et[z$4]||et["@@iterator"],typeof et=="function"?et:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$4={};function E$3(et,_e,tt){this.props=et,this.context=_e,this.refs=D$4,this.updater=tt||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$3.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$2(et,_e,tt){this.props=et,this.context=_e,this.refs=D$4,this.updater=tt||B$3}var H$4=G$2.prototype=new F$2;H$4.constructor=G$2;C$3(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$3=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$3(et,_e,tt){var rt,nt={},st=null,ot=null;if(_e!=null)for(rt in _e.ref!==void 0&&(ot=_e.ref),_e.key!==void 0&&(st=""+_e.key),_e)J$2.call(_e,rt)&&!L$2.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);var at=arguments.length-2;if(at===1)nt.children=tt;else if(1<at){for(var lt=Array(at),ft=0;ft<at;ft++)lt[ft]=arguments[ft+2];nt.children=lt}if(et&&et.defaultProps)for(rt in at=et.defaultProps,at)nt[rt]===void 0&&(nt[rt]=at[rt]);return{$$typeof:l$6,type:et,key:st,ref:ot,props:nt,_owner:K$3.current}}function N$3(et,_e){return{$$typeof:l$6,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$3(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$6}function escape$1(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(tt){return _e[tt]})}var P$2=/\/+/g;function Q$3(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):_e.toString(36)}function R$3(et,_e,tt,rt,nt){var st=typeof et;(st==="undefined"||st==="boolean")&&(et=null);var ot=!1;if(et===null)ot=!0;else switch(st){case"string":case"number":ot=!0;break;case"object":switch(et.$$typeof){case l$6:case n$5:ot=!0}}if(ot)return ot=et,nt=nt(ot),et=rt===""?"."+Q$3(ot,0):rt,I$3(nt)?(tt="",et!=null&&(tt=et.replace(P$2,"$&/")+"/"),R$3(nt,_e,tt,"",function(ft){return ft})):nt!=null&&(O$3(nt)&&(nt=N$3(nt,tt+(!nt.key||ot&&ot.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+et)),_e.push(nt)),1;if(ot=0,rt=rt===""?".":rt+":",I$3(et))for(var at=0;at<et.length;at++){st=et[at];var lt=rt+Q$3(st,at);ot+=R$3(st,_e,tt,lt,nt)}else if(lt=A$3(et),typeof lt=="function")for(et=lt.call(et),at=0;!(st=et.next()).done;)st=st.value,lt=rt+Q$3(st,at++),ot+=R$3(st,_e,tt,lt,nt);else if(st==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$3(et,_e,tt){if(et==null)return et;var rt=[],nt=0;return R$3(et,rt,"","",function(st){return _e.call(tt,st,nt++)}),rt}function T$3(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(tt){(et._status===0||et._status===-1)&&(et._status=1,et._result=tt)},function(tt){(et._status===0||et._status===-1)&&(et._status=2,et._result=tt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$3={current:null},V$2={transition:null},W$4={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(et,_e,tt){S$3(et,function(){_e.apply(this,arguments)},tt)},count:function(et){var _e=0;return S$3(et,function(){_e++}),_e},toArray:function(et){return S$3(et,function(_e){return _e})||[]},only:function(et){if(!O$3(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$3;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(et,_e,tt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var rt=C$3({},et.props),nt=et.key,st=et.ref,ot=et._owner;if(_e!=null){if(_e.ref!==void 0&&(st=_e.ref,ot=K$3.current),_e.key!==void 0&&(nt=""+_e.key),et.type&&et.type.defaultProps)var at=et.type.defaultProps;for(lt in _e)J$2.call(_e,lt)&&!L$2.hasOwnProperty(lt)&&(rt[lt]=_e[lt]===void 0&&at!==void 0?at[lt]:_e[lt])}var lt=arguments.length-2;if(lt===1)rt.children=tt;else if(1<lt){at=Array(lt);for(var ft=0;ft<lt;ft++)at[ft]=arguments[ft+2];rt.children=at}return{$$typeof:l$6,type:et.type,key:nt,ref:st,props:rt,_owner:ot}};react_production_min.createContext=function(et){return et={$$typeof:u$6,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$3,_context:et},et.Consumer=et};react_production_min.createElement=M$3;react_production_min.createFactory=function(et){var _e=M$3.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$6,render:et}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(et){return{$$typeof:y$4,_payload:{_status:-1,_result:et},_init:T$3}};react_production_min.memo=function(et,_e){return{$$typeof:x$3,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$3.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$3.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$3.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$3.current.useEffect(et,_e)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(et,_e,tt){return U$3.current.useImperativeHandle(et,_e,tt)};react_production_min.useInsertionEffect=function(et,_e){return U$3.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$3.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$3.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,tt){return U$3.current.useReducer(et,_e,tt)};react_production_min.useRef=function(et){return U$3.current.useRef(et)};react_production_min.useState=function(et){return U$3.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,tt){return U$3.current.useSyncExternalStore(et,_e,tt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$4=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$3(et,_e,tt){var rt,nt={},st=null,ot=null;tt!==void 0&&(st=""+tt),_e.key!==void 0&&(st=""+_e.key),_e.ref!==void 0&&(ot=_e.ref);for(rt in _e)m$5.call(_e,rt)&&!p$6.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);if(et&&et.defaultProps)for(rt in _e=et.defaultProps,_e)nt[rt]===void 0&&(nt[rt]=_e[rt]);return{$$typeof:k$4,type:et,key:st,ref:ot,props:nt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(kt,Vt){var Zt=kt.length;kt.push(Vt);e:for(;0<Zt;){var Wt=Zt-1>>>1,nr=kt[Wt];if(0<nt(nr,Vt))kt[Wt]=Vt,kt[Zt]=nr,Zt=Wt;else break e}}function tt(kt){return kt.length===0?null:kt[0]}function rt(kt){if(kt.length===0)return null;var Vt=kt[0],Zt=kt.pop();if(Zt!==Vt){kt[0]=Zt;e:for(var Wt=0,nr=kt.length,sr=nr>>>1;Wt<sr;){var lr=2*(Wt+1)-1,dr=kt[lr],hr=lr+1,wr=kt[hr];if(0>nt(dr,Zt))hr<nr&&0>nt(wr,dr)?(kt[Wt]=wr,kt[hr]=Zt,Wt=hr):(kt[Wt]=dr,kt[lr]=Zt,Wt=lr);else if(hr<nr&&0>nt(wr,Zt))kt[Wt]=wr,kt[hr]=Zt,Wt=hr;else break e}}return Vt}function nt(kt,Vt){var Zt=kt.sortIndex-Vt.sortIndex;return Zt!==0?Zt:kt.id-Vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;et.unstable_now=function(){return st.now()}}else{var ot=Date,at=ot.now();et.unstable_now=function(){return ot.now()-at}}var lt=[],ft=[],dt=1,gt=null,pt=3,vt=!1,St=!1,At=!1,Tt=typeof setTimeout=="function"?setTimeout:null,Ct=typeof clearTimeout=="function"?clearTimeout:null,Mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(kt){for(var Vt=tt(ft);Vt!==null;){if(Vt.callback===null)rt(ft);else if(Vt.startTime<=kt)rt(ft),Vt.sortIndex=Vt.expirationTime,_e(lt,Vt);else break;Vt=tt(ft)}}function Rt(kt){if(At=!1,Et(kt),!St)if(tt(lt)!==null)St=!0,qt(Bt);else{var Vt=tt(ft);Vt!==null&&er(Rt,Vt.startTime-kt)}}function Bt(kt,Vt){St=!1,At&&(At=!1,Ct(wt),wt=-1),vt=!0;var Zt=pt;try{for(Et(Vt),gt=tt(lt);gt!==null&&(!(gt.expirationTime>Vt)||kt&&!Ut());){var Wt=gt.callback;if(typeof Wt=="function"){gt.callback=null,pt=gt.priorityLevel;var nr=Wt(gt.expirationTime<=Vt);Vt=et.unstable_now(),typeof nr=="function"?gt.callback=nr:gt===tt(lt)&&rt(lt),Et(Vt)}else rt(lt);gt=tt(lt)}if(gt!==null)var sr=!0;else{var lr=tt(ft);lr!==null&&er(Rt,lr.startTime-Vt),sr=!1}return sr}finally{gt=null,pt=Zt,vt=!1}}var Ft=!1,Lt=null,wt=-1,Dt=5,Ot=-1;function Ut(){return!(et.unstable_now()-Ot<Dt)}function zt(){if(Lt!==null){var kt=et.unstable_now();Ot=kt;var Vt=!0;try{Vt=Lt(!0,kt)}finally{Vt?tr():(Ft=!1,Lt=null)}}else Ft=!1}var tr;if(typeof Mt=="function")tr=function(){Mt(zt)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Kt=jt.port2;jt.port1.onmessage=zt,tr=function(){Kt.postMessage(null)}}else tr=function(){Tt(zt,0)};function qt(kt){Lt=kt,Ft||(Ft=!0,tr())}function er(kt,Vt){wt=Tt(function(){kt(et.unstable_now())},Vt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(kt){kt.callback=null},et.unstable_continueExecution=function(){St||vt||(St=!0,qt(Bt))},et.unstable_forceFrameRate=function(kt){0>kt||125<kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<kt?Math.floor(1e3/kt):5},et.unstable_getCurrentPriorityLevel=function(){return pt},et.unstable_getFirstCallbackNode=function(){return tt(lt)},et.unstable_next=function(kt){switch(pt){case 1:case 2:case 3:var Vt=3;break;default:Vt=pt}var Zt=pt;pt=Vt;try{return kt()}finally{pt=Zt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(kt,Vt){switch(kt){case 1:case 2:case 3:case 4:case 5:break;default:kt=3}var Zt=pt;pt=kt;try{return Vt()}finally{pt=Zt}},et.unstable_scheduleCallback=function(kt,Vt,Zt){var Wt=et.unstable_now();switch(typeof Zt=="object"&&Zt!==null?(Zt=Zt.delay,Zt=typeof Zt=="number"&&0<Zt?Wt+Zt:Wt):Zt=Wt,kt){case 1:var nr=-1;break;case 2:nr=250;break;case 5:nr=1073741823;break;case 4:nr=1e4;break;default:nr=5e3}return nr=Zt+nr,kt={id:dt++,callback:Vt,priorityLevel:kt,startTime:Zt,expirationTime:nr,sortIndex:-1},Zt>Wt?(kt.sortIndex=Zt,_e(ft,kt),tt(lt)===null&&kt===tt(ft)&&(At?(Ct(wt),wt=-1):At=!0,er(Rt,Zt-Wt))):(kt.sortIndex=nr,_e(lt,kt),St||vt||(St=!0,qt(Bt))),kt},et.unstable_shouldYield=Ut,et.unstable_wrapCallback=function(kt){var Vt=pt;return function(){var Zt=pt;pt=Vt;try{return kt.apply(this,arguments)}finally{pt=Zt}}}})(scheduler_production_min$2);scheduler$2.exports=scheduler_production_min$2;var schedulerExports$1=scheduler$2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$5(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,tt=1;tt<arguments.length;tt++)_e+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,tt,rt){if(_e===null||typeof _e>"u"||pa(et,_e,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$5(et,_e,tt,rt,nt,st,ot){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=et,this.type=_e,this.sanitizeURL=st,this.removeEmptyString=ot}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$3[et]=new v$5(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z$3[_e]=new v$5(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$3[et]=new v$5(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$3[et]=new v$5(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$3[et]=new v$5(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$3[et]=new v$5(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$3[et]=new v$5(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$3[et]=new v$5(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$3[et]=new v$5(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$3[_e]=new v$5(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$3[_e]=new v$5(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z$3[_e]=new v$5(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$3[et]=new v$5(et,1,!1,et.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$3[et]=new v$5(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,_e,tt,rt){var nt=z$3.hasOwnProperty(_e)?z$3[_e]:null;(nt!==null?nt.type!==0:rt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,tt,nt,rt)&&(tt=null),rt||nt===null?oa(_e)&&(tt===null?et.removeAttribute(_e):et.setAttribute(_e,""+tt)):nt.mustUseProperty?et[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(_e=nt.attributeName,rt=nt.attributeNamespace,tt===null?et.removeAttribute(_e):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?et.setAttributeNS(rt,_e,tt):et.setAttribute(_e,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$2=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(tt){var _e=tt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ft){var rt=ft}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(ft){rt=ft}et.call(_e.prototype)}else{try{throw Error()}catch(ft){rt=ft}et()}}catch(ft){if(ft&&rt&&typeof ft.stack=="string"){for(var nt=ft.stack.split(`
`),st=rt.stack.split(`
`),ot=nt.length-1,at=st.length-1;1<=ot&&0<=at&&nt[ot]!==st[at];)at--;for(;1<=ot&&0<=at;ot--,at--)if(nt[ot]!==st[at]){if(ot!==1||at!==1)do if(ot--,at--,0>at||nt[ot]!==st[at]){var lt=`
`+nt[ot].replace(" at new "," at ");return et.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",et.displayName)),lt}while(1<=ot&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",tt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),rt=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,st=tt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(ot){rt=""+ot,st.call(this,ot)}}),Object.defineProperty(et,_e,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(ot){rt=""+ot},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var tt=_e.getValue(),rt="";return et&&(rt=Ta(et)?et.checked?"true":"false":et.value),et=rt,et!==tt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var tt=_e.checked;return A$2({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??et._wrapperState.initialChecked})}function Za(et,_e){var tt=_e.defaultValue==null?"":_e.defaultValue,rt=_e.checked!=null?_e.checked:_e.defaultChecked;tt=Sa(_e.value!=null?_e.value:tt),et._wrapperState={initialChecked:rt,initialValue:tt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(et,_e){_e=_e.checked,_e!=null&&ta(et,"checked",_e,!1)}function bb(et,_e){ab(et,_e);var tt=Sa(_e.value),rt=_e.type;if(tt!=null)rt==="number"?(tt===0&&et.value===""||et.value!=tt)&&(et.value=""+tt):et.value!==""+tt&&(et.value=""+tt);else if(rt==="submit"||rt==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(et,_e.type,tt):_e.hasOwnProperty("defaultValue")&&cb(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,tt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var rt=_e.type;if(!(rt!=="submit"&&rt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,tt||_e===et.value||(et.value=_e),et.defaultValue=_e}tt=et.name,tt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,tt!==""&&(et.name=tt)}function cb(et,_e,tt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(tt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+tt&&(et.defaultValue=""+tt))}var eb=Array.isArray;function fb(et,_e,tt,rt){if(et=et.options,_e){_e={};for(var nt=0;nt<tt.length;nt++)_e["$"+tt[nt]]=!0;for(tt=0;tt<et.length;tt++)nt=_e.hasOwnProperty("$"+et[tt].value),et[tt].selected!==nt&&(et[tt].selected=nt),nt&&rt&&(et[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),_e=null,nt=0;nt<et.length;nt++){if(et[nt].value===tt){et[nt].selected=!0,rt&&(et[nt].defaultSelected=!0);return}_e!==null||et[nt].disabled||(_e=et[nt])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var tt=_e.value;if(tt==null){if(tt=_e.children,_e=_e.defaultValue,tt!=null){if(_e!=null)throw Error(p$5(92));if(eb(tt)){if(1<tt.length)throw Error(p$5(93));tt=tt[0]}_e=tt}_e==null&&(_e=""),tt=_e}et._wrapperState={initialValue:Sa(tt)}}function ib(et,_e){var tt=Sa(_e.value),rt=Sa(_e.defaultValue);tt!=null&&(tt=""+tt,tt!==et.value&&(et.value=tt),_e.defaultValue==null&&et.defaultValue!==tt&&(et.defaultValue=tt)),rt!=null&&(et.defaultValue=""+rt)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return et(_e,tt,rt,nt)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var tt=et.firstChild;if(tt&&tt===et.lastChild&&tt.nodeType===3){tt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,tt){return _e==null||typeof _e=="boolean"||_e===""?"":tt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var tt in _e)if(_e.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,_e[tt],rt);tt==="float"&&(tt="cssFloat"),rt?et.setProperty(tt,nt):et[tt]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$5(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$5(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$5(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$5(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$5(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,tt){if(Ib)return et(_e,tt);Ib=!0;try{return Gb(et,_e,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var tt=et.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(et=et.type,rt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!rt;break e;default:et=!1}if(et)return null;if(tt&&typeof tt!="function")throw Error(p$5(231,_e,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,tt,rt,nt,st,ot,at,lt){var ft=Array.prototype.slice.call(arguments,3);try{_e.apply(tt,ft)}catch(dt){this.onError(dt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,tt,rt,nt,st,ot,at,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,tt,rt,nt,st,ot,at,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ft=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=ft)}}function Vb(et){var _e=et,tt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,_e.flags&4098&&(tt=_e.return),et=_e.return;while(et)}return _e.tag===3?tt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$5(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$5(188));return _e!==et?null:et}for(var tt=et,rt=_e;;){var nt=tt.return;if(nt===null)break;var st=nt.alternate;if(st===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===st.child){for(st=nt.child;st;){if(st===tt)return Xb(nt),et;if(st===rt)return Xb(nt),_e;st=st.sibling}throw Error(p$5(188))}if(tt.return!==rt.return)tt=nt,rt=st;else{for(var ot=!1,at=nt.child;at;){if(at===tt){ot=!0,tt=nt,rt=st;break}if(at===rt){ot=!0,rt=nt,tt=st;break}at=at.sibling}if(!ot){for(at=st.child;at;){if(at===tt){ot=!0,tt=st,rt=nt;break}if(at===rt){ot=!0,rt=st,tt=nt;break}at=at.sibling}if(!ot)throw Error(p$5(189))}}if(tt.alternate!==rt)throw Error(p$5(190))}if(tt.tag!==3)throw Error(p$5(188));return tt.stateNode.current===tt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var tt=et.pendingLanes;if(tt===0)return 0;var rt=0,nt=et.suspendedLanes,st=et.pingedLanes,ot=tt&268435455;if(ot!==0){var at=ot&~nt;at!==0?rt=tc(at):(st&=ot,st!==0&&(rt=tc(st)))}else ot=tt&~nt,ot!==0?rt=tc(ot):st!==0&&(rt=tc(st));if(rt===0)return 0;if(_e!==0&&_e!==rt&&!(_e&nt)&&(nt=rt&-rt,st=_e&-_e,nt>=st||nt===16&&(st&4194240)!==0))return _e;if(rt&4&&(rt|=tt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=rt;0<_e;)tt=31-oc(_e),nt=1<<tt,rt|=et[tt],_e&=~nt;return rt}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var tt=et.suspendedLanes,rt=et.pingedLanes,nt=et.expirationTimes,st=et.pendingLanes;0<st;){var ot=31-oc(st),at=1<<ot,lt=nt[ot];lt===-1?(!(at&tt)||at&rt)&&(nt[ot]=vc(at,_e)):lt<=_e&&(et.expiredLanes|=at),st&=~at}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var _e=[],tt=0;31>tt;tt++)_e.push(et);return _e}function Ac(et,_e,tt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=tt}function Bc(et,_e){var tt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var rt=et.eventTimes;for(et=et.expirationTimes;0<tt;){var nt=31-oc(tt),st=1<<nt;_e[nt]=0,rt[nt]=-1,et[nt]=-1,tt&=~st}}function Cc(et,_e){var tt=et.entangledLanes|=_e;for(et=et.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&_e|et[rt]&_e&&(et[rt]|=_e),tt&=~nt}}var C$2=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,tt,rt,nt,st){return et===null||et.nativeEvent!==st?(et={blockedOn:_e,domEventName:tt,eventSystemFlags:rt,nativeEvent:st,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=rt,_e=et.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),et)}function Uc(et,_e,tt,rt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,et,_e,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,et,_e,tt,rt,nt),!0;case"pointerover":var st=nt.pointerId;return Oc.set(st,Tc(Oc.get(st)||null,et,_e,tt,rt,nt)),!0;case"gotpointercapture":return st=nt.pointerId,Pc.set(st,Tc(Pc.get(st)||null,et,_e,tt,rt,nt)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var tt=Vb(_e);if(tt!==null){if(_e=tt.tag,_e===13){if(_e=Wb(tt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(tt)});return}}else if(_e===3&&tt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var tt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(tt===null){tt=et.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return _e=Cb(tt),_e!==null&&Fc(_e),et.blockedOn=tt,!1;_e.shift()}return!0}function Zc(et,_e,tt){Xc(et)&&tt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function _e(nt){return ad(nt,et)}if(0<Kc.length){ad(Kc[0],et);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===et&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===et&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,tt,rt){var nt=C$2,st=cd.transition;cd.transition=null;try{C$2=1,fd(et,_e,tt,rt)}finally{C$2=nt,cd.transition=st}}function gd(et,_e,tt,rt){var nt=C$2,st=cd.transition;cd.transition=null;try{C$2=4,fd(et,_e,tt,rt)}finally{C$2=nt,cd.transition=st}}function fd(et,_e,tt,rt){if(dd){var nt=Yc(et,_e,tt,rt);if(nt===null)hd(et,_e,rt,id$1,tt),Sc(et,rt);else if(Uc(nt,et,_e,tt,rt))rt.stopPropagation();else if(Sc(et,rt),_e&4&&-1<Rc.indexOf(et)){for(;nt!==null;){var st=Cb(nt);if(st!==null&&Ec(st),st=Yc(et,_e,tt,rt),st===null&&hd(et,_e,rt,id$1,tt),st===nt)break;nt=st}nt!==null&&rt.stopPropagation()}else hd(et,_e,rt,null,tt)}}var id$1=null;function Yc(et,_e,tt,rt){if(id$1=null,et=xb(rt),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(tt=_e.tag,tt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(tt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id$1=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,tt=_e.length,rt,nt="value"in kd?kd.value:kd.textContent,st=nt.length;for(et=0;et<tt&&_e[et]===nt[et];et++);var ot=tt-et;for(rt=1;rt<=ot&&_e[tt-rt]===nt[st-rt];rt++);return md=nt.slice(et,1<rt?1-rt:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(tt,rt,nt,st,ot){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=st,this.target=ot,this.currentTarget=null;for(var at in et)et.hasOwnProperty(at)&&(tt=et[at],this[at]=tt?tt(st):st[at]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$2||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie$1=!1;function je$1(et,_e){switch(et){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return et=_e.data,et===ee$1&&fe$1?null:et;default:return null}}function ke(et,_e){if(ie$1)return et==="compositionend"||!ae$2&&ge$1(et,_e)?(et=nd(),md=ld=kd=null,ie$1=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de$1&&_e.locale!=="ko"?null:_e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le$1[et.type]:_e==="textarea"}function ne$1(et,_e,tt,rt){Eb(rt),_e=oe$1(_e,"onChange"),0<_e.length&&(tt=new td("onChange","change",null,tt,rt),et.push({event:tt,listeners:_e}))}var pe$1=null,qe$1=null;function re$2(et){se$1(et,0)}function te$1(et){var _e=ue$1(et);if(Wa(_e))return et}function ve$1(et,_e){if(et==="change")return _e}var we$1=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe=ye}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(et){if(et.propertyName==="value"&&te$1(qe$1)){var _e=[];ne$1(_e,qe$1,et,xb(et)),Jb(re$2,_e)}}function Ce$1(et,_e,tt){et==="focusin"?(Ae(),pe$1=_e,qe$1=tt,pe$1.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae()}function De$1(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te$1(qe$1)}function Ee$1(et,_e){if(et==="click")return te$1(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te$1(_e)}function Ge$2(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He$1=typeof Object.is=="function"?Object.is:Ge$2;function Ie(et,_e){if(He$1(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var tt=Object.keys(et),rt=Object.keys(_e);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(_e,nt)||!He$1(et[nt],_e[nt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke$2(et,_e){var tt=Je(et);et=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=et+tt.textContent.length,et<=_e&&rt>=_e)return{node:tt,offset:_e-et};et=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le$2(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le$2(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var tt=typeof _e.contentWindow.location.href=="string"}catch{tt=!1}if(tt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne$1(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe$1(et){var _e=Me(),tt=et.focusedElem,rt=et.selectionRange;if(_e!==tt&&tt&&tt.ownerDocument&&Le$2(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne$1(tt)){if(_e=rt.start,et=rt.end,et===void 0&&(et=_e),"selectionStart"in tt)tt.selectionStart=_e,tt.selectionEnd=Math.min(et,tt.value.length);else if(et=(_e=tt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var nt=tt.textContent.length,st=Math.min(rt.start,nt);rt=rt.end===void 0?st:Math.min(rt.end,nt),!et.extend&&st>rt&&(nt=rt,rt=st,st=nt),nt=Ke$2(tt,st);var ot=Ke$2(tt,rt);nt&&ot&&(et.rangeCount!==1||et.anchorNode!==nt.node||et.anchorOffset!==nt.offset||et.focusNode!==ot.node||et.focusOffset!==ot.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),et.removeAllRanges(),st>rt?(et.addRange(_e),et.extend(ot.node,ot.offset)):(_e.setEnd(ot.node,ot.offset),et.addRange(_e)))}}for(_e=[],et=tt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<_e.length;tt++)et=_e[tt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue$1(et,_e,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te$1||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne$1(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe$1(Re$1,"onSelect"),0<rt.length&&(_e=new td("onSelect","select",null,_e,tt),et.push({event:_e,listeners:rt}),_e.target=Qe)))}function Ve$1(et,_e){var tt={};return tt[et.toLowerCase()]=_e.toLowerCase(),tt["Webkit"+et]="webkit"+_e,tt["Moz"+et]="moz"+_e,tt}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We$1[et])return et;var _e=We$1[et],tt;for(tt in _e)if(_e.hasOwnProperty(tt)&&tt in Ye)return Xe[et]=_e[tt];return et}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,tt){var rt=et.type||"unknown-event";et.currentTarget=tt,Ub(rt,_e,void 0,et),et.currentTarget=null}function se$1(et,_e){_e=(_e&4)!==0;for(var tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.event;rt=rt.listeners;e:{var st=void 0;if(_e)for(var ot=rt.length-1;0<=ot;ot--){var at=rt[ot],lt=at.instance,ft=at.currentTarget;if(at=at.listener,lt!==st&&nt.isPropagationStopped())break e;nf(nt,at,ft),st=lt}else for(ot=0;ot<rt.length;ot++){if(at=rt[ot],lt=at.instance,ft=at.currentTarget,at=at.listener,lt!==st&&nt.isPropagationStopped())break e;nf(nt,at,ft),st=lt}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$3(et,_e){var tt=_e[of];tt===void 0&&(tt=_e[of]=new Set);var rt=et+"__bubble";tt.has(rt)||(pf(_e,et,2,!1),tt.add(rt))}function qf(et,_e,tt){var rt=0;_e&&(rt|=4),pf(tt,et,rt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,et),qf(tt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,tt,rt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,_e,tt,et),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),rt?nt!==void 0?et.addEventListener(_e,tt,{capture:!0,passive:nt}):et.addEventListener(_e,tt,!0):nt!==void 0?et.addEventListener(_e,tt,{passive:nt}):et.addEventListener(_e,tt,!1)}function hd(et,_e,tt,rt,nt){var st=rt;if(!(_e&1)&&!(_e&2)&&rt!==null)e:for(;;){if(rt===null)return;var ot=rt.tag;if(ot===3||ot===4){var at=rt.stateNode.containerInfo;if(at===nt||at.nodeType===8&&at.parentNode===nt)break;if(ot===4)for(ot=rt.return;ot!==null;){var lt=ot.tag;if((lt===3||lt===4)&&(lt=ot.stateNode.containerInfo,lt===nt||lt.nodeType===8&&lt.parentNode===nt))return;ot=ot.return}for(;at!==null;){if(ot=Wc(at),ot===null)return;if(lt=ot.tag,lt===5||lt===6){rt=st=ot;continue e}at=at.parentNode}}rt=rt.return}Jb(function(){var ft=st,dt=xb(tt),gt=[];e:{var pt=df.get(et);if(pt!==void 0){var vt=td,St=et;switch(et){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":vt=Rd;break;case"focusin":St="focus",vt=Fd;break;case"focusout":St="blur",vt=Fd;break;case"beforeblur":case"afterblur":vt=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Vd;break;case $e$1:case af:case bf:vt=Hd;break;case cf:vt=Xd;break;case"scroll":vt=vd;break;case"wheel":vt=Zd;break;case"copy":case"cut":case"paste":vt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Td}var At=(_e&4)!==0,Tt=!At&&et==="scroll",Ct=At?pt!==null?pt+"Capture":null:pt;At=[];for(var Mt=ft,Et;Mt!==null;){Et=Mt;var Rt=Et.stateNode;if(Et.tag===5&&Rt!==null&&(Et=Rt,Ct!==null&&(Rt=Kb(Mt,Ct),Rt!=null&&At.push(tf(Mt,Rt,Et)))),Tt)break;Mt=Mt.return}0<At.length&&(pt=new vt(pt,St,null,tt,dt),gt.push({event:pt,listeners:At}))}}if(!(_e&7)){e:{if(pt=et==="mouseover"||et==="pointerover",vt=et==="mouseout"||et==="pointerout",pt&&tt!==wb&&(St=tt.relatedTarget||tt.fromElement)&&(Wc(St)||St[uf]))break e;if((vt||pt)&&(pt=dt.window===dt?dt:(pt=dt.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(St=tt.relatedTarget||tt.toElement,vt=ft,St=St?Wc(St):null,St!==null&&(Tt=Vb(St),St!==Tt||St.tag!==5&&St.tag!==6)&&(St=null)):(vt=null,St=ft),vt!==St)){if(At=Bd,Rt="onMouseLeave",Ct="onMouseEnter",Mt="mouse",(et==="pointerout"||et==="pointerover")&&(At=Td,Rt="onPointerLeave",Ct="onPointerEnter",Mt="pointer"),Tt=vt==null?pt:ue$1(vt),Et=St==null?pt:ue$1(St),pt=new At(Rt,Mt+"leave",vt,tt,dt),pt.target=Tt,pt.relatedTarget=Et,Rt=null,Wc(dt)===ft&&(At=new At(Ct,Mt+"enter",St,tt,dt),At.target=Et,At.relatedTarget=Tt,Rt=At),Tt=Rt,vt&&St)t:{for(At=vt,Ct=St,Mt=0,Et=At;Et;Et=vf(Et))Mt++;for(Et=0,Rt=Ct;Rt;Rt=vf(Rt))Et++;for(;0<Mt-Et;)At=vf(At),Mt--;for(;0<Et-Mt;)Ct=vf(Ct),Et--;for(;Mt--;){if(At===Ct||Ct!==null&&At===Ct.alternate)break t;At=vf(At),Ct=vf(Ct)}At=null}else At=null;vt!==null&&wf(gt,pt,vt,At,!1),St!==null&&Tt!==null&&wf(gt,Tt,St,At,!0)}}e:{if(pt=ft?ue$1(ft):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Bt=ve$1;else if(me$1(pt))if(we$1)Bt=Fe;else{Bt=De$1;var Ft=Ce$1}else(vt=pt.nodeName)&&vt.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(Bt=Ee$1);if(Bt&&(Bt=Bt(et,ft))){ne$1(gt,Bt,tt,dt);break e}Ft&&Ft(et,pt,ft),et==="focusout"&&(Ft=pt._wrapperState)&&Ft.controlled&&pt.type==="number"&&cb(pt,"number",pt.value)}switch(Ft=ft?ue$1(ft):window,et){case"focusin":(me$1(Ft)||Ft.contentEditable==="true")&&(Qe=Ft,Re$1=ft,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(gt,tt,dt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(gt,tt,dt)}var Lt;if(ae$2)e:{switch(et){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie$1?ge$1(et,tt)&&(wt="onCompositionEnd"):et==="keydown"&&tt.keyCode===229&&(wt="onCompositionStart");wt&&(de$1&&tt.locale!=="ko"&&(ie$1||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie$1&&(Lt=nd()):(kd=dt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Ft=oe$1(ft,wt),0<Ft.length&&(wt=new Ld(wt,et,null,tt,dt),gt.push({event:wt,listeners:Ft}),Lt?wt.data=Lt:(Lt=he(tt),Lt!==null&&(wt.data=Lt)))),(Lt=ce$1?je$1(et,tt):ke(et,tt))&&(ft=oe$1(ft,"onBeforeInput"),0<ft.length&&(dt=new Ld("onBeforeInput","beforeinput",null,tt,dt),gt.push({event:dt,listeners:ft}),dt.data=Lt))}se$1(gt,_e)})}function tf(et,_e,tt){return{instance:et,listener:_e,currentTarget:tt}}function oe$1(et,_e){for(var tt=_e+"Capture",rt=[];et!==null;){var nt=et,st=nt.stateNode;nt.tag===5&&st!==null&&(nt=st,st=Kb(et,tt),st!=null&&rt.unshift(tf(et,st,nt)),st=Kb(et,_e),st!=null&&rt.push(tf(et,st,nt))),et=et.return}return rt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,tt,rt,nt){for(var st=_e._reactName,ot=[];tt!==null&&tt!==rt;){var at=tt,lt=at.alternate,ft=at.stateNode;if(lt!==null&&lt===rt)break;at.tag===5&&ft!==null&&(at=ft,nt?(lt=Kb(tt,st),lt!=null&&ot.unshift(tf(tt,lt,at))):nt||(lt=Kb(tt,st),lt!=null&&ot.push(tf(tt,lt,at)))),tt=tt.return}ot.length!==0&&et.push({event:_e,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,tt){if(_e=zf(_e),zf(et)!==_e&&tt)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var tt=_e,rt=0;do{var nt=tt.nextSibling;if(et.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){et.removeChild(nt),bd(_e);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(_e===0)return et;_e--}else tt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var tt=et.parentNode;tt;){if(_e=tt[uf]||tt[Of]){if(tt=_e.alternate,_e.child!==null||tt!==null&&tt.child!==null)for(et=Mf(et);et!==null;){if(tt=et[Of])return tt;et=Mf(et)}return _e}et=tt,tt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue$1(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$5(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$2(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var tt=et.type.contextTypes;if(!tt)return Vf;var rt=et.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===_e)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},st;for(st in tt)nt[st]=_e[st];return rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(et,_e,tt){if(H$3.current!==Vf)throw Error(p$5(168));G$1(H$3,_e),G$1(Wf,tt)}function bg(et,_e,tt){var rt=et.stateNode;if(_e=_e.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in _e))throw Error(p$5(108,Ra(et)||"Unknown",nt));return A$2({},tt,rt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,et),G$1(Wf,Wf.current),!0}function dg(et,_e,tt){var rt=et.stateNode;if(!rt)throw Error(p$5(169));tt?(et=bg(et,_e,Xf),rt.__reactInternalMemoizedMergedChildContext=et,E$2(Wf),E$2(H$3),G$1(H$3,et)):E$2(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C$2;try{var tt=eg;for(C$2=1;et<tt.length;et++){var rt=tt[et];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),nt}finally{C$2=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var rt=rg;et=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var st=32-oc(_e)+nt;if(30<st){var ot=nt-nt%5;st=(rt&(1<<ot)-1).toString(32),rt>>=ot,nt-=ot,rg=1<<32-oc(_e)+nt|tt<<nt|rt,sg=st+et}else rg=1<<st|tt<<nt|rt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(et,_e){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=_e,tt.return=et,_e=et.deletions,_e===null?(et.deletions=[tt],et.flags|=16):_e.push(tt)}function Cg(et,_e){switch(et.tag){case 5:var tt=et.type;return _e=_e.nodeType!==1||tt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=_e,tt.return=et,et.child=tt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$2){var _e=yg;if(_e){var tt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$5(418));_e=Lf(tt.nextSibling);var rt=xg;_e&&Cg(et,_e)?Ag(rt,tt):(et.flags=et.flags&-4097|2,I$2=!1,xg=et)}}else{if(Dg(et))throw Error(p$5(418));et.flags=et.flags&-4097|2,I$2=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$2)return Fg(et),I$2=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$5(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$5(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$2({},_e),et=et.defaultProps;for(var tt in et)_e[tt]===void 0&&(_e[tt]=et[tt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E$2(Mg),et._currentValue=_e}function Sg(et,_e,tt){for(;et!==null;){var rt=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,rt!==null&&(rt.childLanes|=_e)):rt!==null&&(rt.childLanes&_e)!==_e&&(rt.childLanes|=_e),et===tt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&_e&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,tt,rt){var nt=_e.interleaved;return nt===null?(tt.next=tt,Xg(_e)):(tt.next=nt.next,nt.next=tt),_e.interleaved=tt,Zg(et,rt)}function Zg(et,_e){et.lanes|=_e;var tt=et.alternate;for(tt!==null&&(tt.lanes|=_e),tt=et,et=et.return;et!==null;)et.childLanes|=_e,tt=et.alternate,tt!==null&&(tt.childLanes|=_e),tt=et,et=et.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,tt){var rt=et.updateQueue;if(rt===null)return null;if(rt=rt.shared,K$2&2){var nt=rt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),rt.pending=_e,Zg(et,tt)}return nt=rt.interleaved,nt===null?(_e.next=_e,Xg(rt)):(_e.next=nt.next,nt.next=_e),rt.interleaved=_e,Zg(et,tt)}function eh(et,_e,tt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(tt&4194240)!==0)){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}function fh(et,_e){var tt=et.updateQueue,rt=et.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,st=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var ot={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};st===null?nt=st=ot:st=st.next=ot,tt=tt.next}while(tt!==null);st===null?nt=st=_e:st=st.next=_e}else nt=st=_e;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:st,shared:rt.shared,effects:rt.effects},et.updateQueue=tt;return}et=tt.lastBaseUpdate,et===null?tt.firstBaseUpdate=_e:et.next=_e,tt.lastBaseUpdate=_e}function gh(et,_e,tt,rt){var nt=et.updateQueue;$g=!1;var st=nt.firstBaseUpdate,ot=nt.lastBaseUpdate,at=nt.shared.pending;if(at!==null){nt.shared.pending=null;var lt=at,ft=lt.next;lt.next=null,ot===null?st=ft:ot.next=ft,ot=lt;var dt=et.alternate;dt!==null&&(dt=dt.updateQueue,at=dt.lastBaseUpdate,at!==ot&&(at===null?dt.firstBaseUpdate=ft:at.next=ft,dt.lastBaseUpdate=lt))}if(st!==null){var gt=nt.baseState;ot=0,dt=ft=lt=null,at=st;do{var pt=at.lane,vt=at.eventTime;if((rt&pt)===pt){dt!==null&&(dt=dt.next={eventTime:vt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var St=et,At=at;switch(pt=_e,vt=tt,At.tag){case 1:if(St=At.payload,typeof St=="function"){gt=St.call(vt,gt,pt);break e}gt=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=At.payload,pt=typeof St=="function"?St.call(vt,gt,pt):St,pt==null)break e;gt=A$2({},gt,pt);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(et.flags|=64,pt=nt.effects,pt===null?nt.effects=[at]:pt.push(at))}else vt={eventTime:vt,lane:pt,tag:at.tag,payload:at.payload,callback:at.callback,next:null},dt===null?(ft=dt=vt,lt=gt):dt=dt.next=vt,ot|=pt;if(at=at.next,at===null){if(at=nt.shared.pending,at===null)break;pt=at,at=pt.next,pt.next=null,nt.lastBaseUpdate=pt,nt.shared.pending=null}}while(1);if(dt===null&&(lt=gt),nt.baseState=lt,nt.firstBaseUpdate=ft,nt.lastBaseUpdate=dt,_e=nt.shared.interleaved,_e!==null){nt=_e;do ot|=nt.lane,nt=nt.next;while(nt!==_e)}else st===null&&(nt.shared.lanes=0);hh|=ot,et.lanes=ot,et.memoizedState=gt}}function ih(et,_e,tt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var rt=et[_e],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$5(191,nt));nt.call(rt)}}}var jh=new aa.Component().refs;function kh(et,_e,tt,rt){_e=et.memoizedState,tt=tt(rt,_e),tt=tt==null?_e:A$2({},_e,tt),et.memoizedState=tt,et.lanes===0&&(et.updateQueue.baseState=tt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,tt){et=et._reactInternals;var rt=L$1(),nt=lh(et),st=ch(rt,nt);st.payload=_e,tt!=null&&(st.callback=tt),_e=dh(et,st,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueReplaceState:function(et,_e,tt){et=et._reactInternals;var rt=L$1(),nt=lh(et),st=ch(rt,nt);st.tag=1,st.payload=_e,tt!=null&&(st.callback=tt),_e=dh(et,st,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var tt=L$1(),rt=lh(et),nt=ch(tt,rt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=dh(et,nt,rt),_e!==null&&(mh(_e,et,rt,tt),eh(_e,et,rt))}};function oh(et,_e,tt,rt,nt,st,ot){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(rt,st,ot):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(tt,rt)||!Ie(nt,st):!0}function ph(et,_e,tt){var rt=!1,nt=Vf,st=_e.contextType;return typeof st=="object"&&st!==null?st=Vg(st):(nt=Zf(_e)?Xf:H$3.current,rt=_e.contextTypes,st=(rt=rt!=null)?Yf(et,nt):Vf),_e=new _e(tt,st),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=nt,et.__reactInternalMemoizedMaskedChildContext=st),_e}function qh(et,_e,tt,rt){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(tt,rt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(tt,rt),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh(et,_e,tt,rt){var nt=et.stateNode;nt.props=tt,nt.state=et.memoizedState,nt.refs=jh,ah(et);var st=_e.contextType;typeof st=="object"&&st!==null?nt.context=Vg(st):(st=Zf(_e)?Xf:H$3.current,nt.context=Yf(et,st)),nt.state=et.memoizedState,st=_e.getDerivedStateFromProps,typeof st=="function"&&(kh(et,_e,st,tt),nt.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(et,tt,nt,rt),nt.state=et.memoizedState),typeof nt.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,_e,tt){if(et=tt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$5(309));var rt=tt.stateNode}if(!rt)throw Error(p$5(147,et));var nt=rt,st=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===st?_e.ref:(_e=function(ot){var at=nt.refs;at===jh&&(at=nt.refs={}),ot===null?delete at[st]:at[st]=ot},_e._stringRef=st,_e)}if(typeof et!="string")throw Error(p$5(284));if(!tt._owner)throw Error(p$5(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$5(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh(et){function _e(Ct,Mt){if(et){var Et=Ct.deletions;Et===null?(Ct.deletions=[Mt],Ct.flags|=16):Et.push(Mt)}}function tt(Ct,Mt){if(!et)return null;for(;Mt!==null;)_e(Ct,Mt),Mt=Mt.sibling;return null}function rt(Ct,Mt){for(Ct=new Map;Mt!==null;)Mt.key!==null?Ct.set(Mt.key,Mt):Ct.set(Mt.index,Mt),Mt=Mt.sibling;return Ct}function nt(Ct,Mt){return Ct=wh(Ct,Mt),Ct.index=0,Ct.sibling=null,Ct}function st(Ct,Mt,Et){return Ct.index=Et,et?(Et=Ct.alternate,Et!==null?(Et=Et.index,Et<Mt?(Ct.flags|=2,Mt):Et):(Ct.flags|=2,Mt)):(Ct.flags|=1048576,Mt)}function ot(Ct){return et&&Ct.alternate===null&&(Ct.flags|=2),Ct}function at(Ct,Mt,Et,Rt){return Mt===null||Mt.tag!==6?(Mt=xh(Et,Ct.mode,Rt),Mt.return=Ct,Mt):(Mt=nt(Mt,Et),Mt.return=Ct,Mt)}function lt(Ct,Mt,Et,Rt){var Bt=Et.type;return Bt===ya?dt(Ct,Mt,Et.props.children,Rt,Et.key):Mt!==null&&(Mt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&uh(Bt)===Mt.type)?(Rt=nt(Mt,Et.props),Rt.ref=sh(Ct,Mt,Et),Rt.return=Ct,Rt):(Rt=yh(Et.type,Et.key,Et.props,null,Ct.mode,Rt),Rt.ref=sh(Ct,Mt,Et),Rt.return=Ct,Rt)}function ft(Ct,Mt,Et,Rt){return Mt===null||Mt.tag!==4||Mt.stateNode.containerInfo!==Et.containerInfo||Mt.stateNode.implementation!==Et.implementation?(Mt=zh(Et,Ct.mode,Rt),Mt.return=Ct,Mt):(Mt=nt(Mt,Et.children||[]),Mt.return=Ct,Mt)}function dt(Ct,Mt,Et,Rt,Bt){return Mt===null||Mt.tag!==7?(Mt=Ah(Et,Ct.mode,Rt,Bt),Mt.return=Ct,Mt):(Mt=nt(Mt,Et),Mt.return=Ct,Mt)}function gt(Ct,Mt,Et){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number")return Mt=xh(""+Mt,Ct.mode,Et),Mt.return=Ct,Mt;if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case va:return Et=yh(Mt.type,Mt.key,Mt.props,null,Ct.mode,Et),Et.ref=sh(Ct,null,Mt),Et.return=Ct,Et;case wa:return Mt=zh(Mt,Ct.mode,Et),Mt.return=Ct,Mt;case Ha:var Rt=Mt._init;return gt(Ct,Rt(Mt._payload),Et)}if(eb(Mt)||Ka(Mt))return Mt=Ah(Mt,Ct.mode,Et,null),Mt.return=Ct,Mt;th(Ct,Mt)}return null}function pt(Ct,Mt,Et,Rt){var Bt=Mt!==null?Mt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Bt!==null?null:at(Ct,Mt,""+Et,Rt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return Et.key===Bt?lt(Ct,Mt,Et,Rt):null;case wa:return Et.key===Bt?ft(Ct,Mt,Et,Rt):null;case Ha:return Bt=Et._init,pt(Ct,Mt,Bt(Et._payload),Rt)}if(eb(Et)||Ka(Et))return Bt!==null?null:dt(Ct,Mt,Et,Rt,null);th(Ct,Et)}return null}function vt(Ct,Mt,Et,Rt,Bt){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return Ct=Ct.get(Et)||null,at(Mt,Ct,""+Rt,Bt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case va:return Ct=Ct.get(Rt.key===null?Et:Rt.key)||null,lt(Mt,Ct,Rt,Bt);case wa:return Ct=Ct.get(Rt.key===null?Et:Rt.key)||null,ft(Mt,Ct,Rt,Bt);case Ha:var Ft=Rt._init;return vt(Ct,Mt,Et,Ft(Rt._payload),Bt)}if(eb(Rt)||Ka(Rt))return Ct=Ct.get(Et)||null,dt(Mt,Ct,Rt,Bt,null);th(Mt,Rt)}return null}function St(Ct,Mt,Et,Rt){for(var Bt=null,Ft=null,Lt=Mt,wt=Mt=0,Dt=null;Lt!==null&&wt<Et.length;wt++){Lt.index>wt?(Dt=Lt,Lt=null):Dt=Lt.sibling;var Ot=pt(Ct,Lt,Et[wt],Rt);if(Ot===null){Lt===null&&(Lt=Dt);break}et&&Lt&&Ot.alternate===null&&_e(Ct,Lt),Mt=st(Ot,Mt,wt),Ft===null?Bt=Ot:Ft.sibling=Ot,Ft=Ot,Lt=Dt}if(wt===Et.length)return tt(Ct,Lt),I$2&&tg(Ct,wt),Bt;if(Lt===null){for(;wt<Et.length;wt++)Lt=gt(Ct,Et[wt],Rt),Lt!==null&&(Mt=st(Lt,Mt,wt),Ft===null?Bt=Lt:Ft.sibling=Lt,Ft=Lt);return I$2&&tg(Ct,wt),Bt}for(Lt=rt(Ct,Lt);wt<Et.length;wt++)Dt=vt(Lt,Ct,wt,Et[wt],Rt),Dt!==null&&(et&&Dt.alternate!==null&&Lt.delete(Dt.key===null?wt:Dt.key),Mt=st(Dt,Mt,wt),Ft===null?Bt=Dt:Ft.sibling=Dt,Ft=Dt);return et&&Lt.forEach(function(Ut){return _e(Ct,Ut)}),I$2&&tg(Ct,wt),Bt}function At(Ct,Mt,Et,Rt){var Bt=Ka(Et);if(typeof Bt!="function")throw Error(p$5(150));if(Et=Bt.call(Et),Et==null)throw Error(p$5(151));for(var Ft=Bt=null,Lt=Mt,wt=Mt=0,Dt=null,Ot=Et.next();Lt!==null&&!Ot.done;wt++,Ot=Et.next()){Lt.index>wt?(Dt=Lt,Lt=null):Dt=Lt.sibling;var Ut=pt(Ct,Lt,Ot.value,Rt);if(Ut===null){Lt===null&&(Lt=Dt);break}et&&Lt&&Ut.alternate===null&&_e(Ct,Lt),Mt=st(Ut,Mt,wt),Ft===null?Bt=Ut:Ft.sibling=Ut,Ft=Ut,Lt=Dt}if(Ot.done)return tt(Ct,Lt),I$2&&tg(Ct,wt),Bt;if(Lt===null){for(;!Ot.done;wt++,Ot=Et.next())Ot=gt(Ct,Ot.value,Rt),Ot!==null&&(Mt=st(Ot,Mt,wt),Ft===null?Bt=Ot:Ft.sibling=Ot,Ft=Ot);return I$2&&tg(Ct,wt),Bt}for(Lt=rt(Ct,Lt);!Ot.done;wt++,Ot=Et.next())Ot=vt(Lt,Ct,wt,Ot.value,Rt),Ot!==null&&(et&&Ot.alternate!==null&&Lt.delete(Ot.key===null?wt:Ot.key),Mt=st(Ot,Mt,wt),Ft===null?Bt=Ot:Ft.sibling=Ot,Ft=Ot);return et&&Lt.forEach(function(zt){return _e(Ct,zt)}),I$2&&tg(Ct,wt),Bt}function Tt(Ct,Mt,Et,Rt){if(typeof Et=="object"&&Et!==null&&Et.type===ya&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:e:{for(var Bt=Et.key,Ft=Mt;Ft!==null;){if(Ft.key===Bt){if(Bt=Et.type,Bt===ya){if(Ft.tag===7){tt(Ct,Ft.sibling),Mt=nt(Ft,Et.props.children),Mt.return=Ct,Ct=Mt;break e}}else if(Ft.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&uh(Bt)===Ft.type){tt(Ct,Ft.sibling),Mt=nt(Ft,Et.props),Mt.ref=sh(Ct,Ft,Et),Mt.return=Ct,Ct=Mt;break e}tt(Ct,Ft);break}else _e(Ct,Ft);Ft=Ft.sibling}Et.type===ya?(Mt=Ah(Et.props.children,Ct.mode,Rt,Et.key),Mt.return=Ct,Ct=Mt):(Rt=yh(Et.type,Et.key,Et.props,null,Ct.mode,Rt),Rt.ref=sh(Ct,Mt,Et),Rt.return=Ct,Ct=Rt)}return ot(Ct);case wa:e:{for(Ft=Et.key;Mt!==null;){if(Mt.key===Ft)if(Mt.tag===4&&Mt.stateNode.containerInfo===Et.containerInfo&&Mt.stateNode.implementation===Et.implementation){tt(Ct,Mt.sibling),Mt=nt(Mt,Et.children||[]),Mt.return=Ct,Ct=Mt;break e}else{tt(Ct,Mt);break}else _e(Ct,Mt);Mt=Mt.sibling}Mt=zh(Et,Ct.mode,Rt),Mt.return=Ct,Ct=Mt}return ot(Ct);case Ha:return Ft=Et._init,Tt(Ct,Mt,Ft(Et._payload),Rt)}if(eb(Et))return St(Ct,Mt,Et,Rt);if(Ka(Et))return At(Ct,Mt,Et,Rt);th(Ct,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,Mt!==null&&Mt.tag===6?(tt(Ct,Mt.sibling),Mt=nt(Mt,Et),Mt.return=Ct,Ct=Mt):(tt(Ct,Mt),Mt=xh(Et,Ct.mode,Rt),Mt.return=Ct,Ct=Mt),ot(Ct)):tt(Ct,Mt)}return Tt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$5(174));return et}function Ih(et,_e){switch(G$1(Gh,_e),G$1(Fh,et),G$1(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E$2(Eh),G$1(Eh,_e)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(et){Hh(Gh.current);var _e=Hh(Eh.current),tt=lb(_e,et.type);_e!==tt&&(G$1(Fh,et),G$1(Eh,tt))}function Lh(et){Fh.current===et&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var tt=_e.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$5(321))}function Wh(et,_e){if(_e===null)return!1;for(var tt=0;tt<_e.length&&tt<et.length;tt++)if(!He$1(et[tt],_e[tt]))return!1;return!0}function Xh(et,_e,tt,rt,nt,st){if(Rh=st,N$2=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=tt(rt,nt),Th){st=0;do{if(Th=!1,Uh=0,25<=st)throw Error(p$5(301));st+=1,P$1=O$2=null,_e.updateQueue=null,Ph.current=$h,et=tt(rt,nt)}while(Th)}if(Ph.current=ai,_e=O$2!==null&&O$2.next!==null,Rh=0,P$1=O$2=N$2=null,Sh=!1,_e)throw Error(p$5(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=et:P$1=P$1.next=et,P$1}function di(){if(O$2===null){var et=N$2.alternate;et=et!==null?et.memoizedState:null}else et=O$2.next;var _e=P$1===null?N$2.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$2=et;else{if(et===null)throw Error(p$5(310));O$2=et,et={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$1===null?N$2.memoizedState=P$1=et:P$1=P$1.next=et}return P$1}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$5(311));tt.lastRenderedReducer=et;var rt=O$2,nt=rt.baseQueue,st=tt.pending;if(st!==null){if(nt!==null){var ot=nt.next;nt.next=st.next,st.next=ot}rt.baseQueue=nt=st,tt.pending=null}if(nt!==null){st=nt.next,rt=rt.baseState;var at=ot=null,lt=null,ft=st;do{var dt=ft.lane;if((Rh&dt)===dt)lt!==null&&(lt=lt.next={lane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),rt=ft.hasEagerState?ft.eagerState:et(rt,ft.action);else{var gt={lane:dt,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null};lt===null?(at=lt=gt,ot=rt):lt=lt.next=gt,N$2.lanes|=dt,hh|=dt}ft=ft.next}while(ft!==null&&ft!==st);lt===null?ot=rt:lt.next=at,He$1(rt,_e.memoizedState)||(Ug=!0),_e.memoizedState=rt,_e.baseState=ot,_e.baseQueue=lt,tt.lastRenderedState=rt}if(et=tt.interleaved,et!==null){nt=et;do st=nt.lane,N$2.lanes|=st,hh|=st,nt=nt.next;while(nt!==et)}else nt===null&&(tt.lanes=0);return[_e.memoizedState,tt.dispatch]}function gi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$5(311));tt.lastRenderedReducer=et;var rt=tt.dispatch,nt=tt.pending,st=_e.memoizedState;if(nt!==null){tt.pending=null;var ot=nt=nt.next;do st=et(st,ot.action),ot=ot.next;while(ot!==nt);He$1(st,_e.memoizedState)||(Ug=!0),_e.memoizedState=st,_e.baseQueue===null&&(_e.baseState=st),tt.lastRenderedState=st}return[st,rt]}function hi(){}function ii(et,_e){var tt=N$2,rt=di(),nt=_e(),st=!He$1(rt.memoizedState,nt);if(st&&(rt.memoizedState=nt,Ug=!0),rt=rt.queue,ji(ki.bind(null,tt,rt,et),[et]),rt.getSnapshot!==_e||st||P$1!==null&&P$1.memoizedState.tag&1){if(tt.flags|=2048,li(9,mi.bind(null,tt,rt,nt,_e),void 0,null),R$2===null)throw Error(p$5(349));Rh&30||ni(tt,_e,nt)}return nt}function ni(et,_e,tt){et.flags|=16384,et={getSnapshot:_e,value:tt},_e=N$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$2.updateQueue=_e,_e.stores=[et]):(tt=_e.stores,tt===null?_e.stores=[et]:tt.push(et))}function mi(et,_e,tt,rt){_e.value=tt,_e.getSnapshot=rt,oi(_e)&&pi(et)}function ki(et,_e,tt){return tt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!He$1(et,tt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N$2,et),[_e.memoizedState,et]}function li(et,_e,tt,rt){return et={tag:et,create:_e,destroy:tt,deps:rt,next:null},_e=N$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$2.updateQueue=_e,_e.lastEffect=et.next=et):(tt=_e.lastEffect,tt===null?_e.lastEffect=et.next=et:(rt=tt.next,tt.next=et,et.next=rt,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,tt,rt){var nt=ci();N$2.flags|=et,nt.memoizedState=li(1|_e,tt,void 0,rt===void 0?null:rt)}function ui(et,_e,tt,rt){var nt=di();rt=rt===void 0?null:rt;var st=void 0;if(O$2!==null){var ot=O$2.memoizedState;if(st=ot.destroy,rt!==null&&Wh(rt,ot.deps)){nt.memoizedState=li(_e,tt,st,rt);return}}N$2.flags|=et,nt.memoizedState=li(1|_e,tt,st,rt)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),tt)}function Ai(){}function Bi(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(tt.memoizedState=[et,_e],et)}function Ci(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(et=et(),tt.memoizedState=[et,_e],et)}function Di(et,_e,tt){return Rh&21?(He$1(tt,_e)||(tt=yc(),N$2.lanes|=tt,hh|=tt,et.baseState=!0),_e):(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=tt)}function Ei(et,_e){var tt=C$2;C$2=tt!==0&&4>tt?tt:4,et(!0);var rt=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C$2=tt,Qh.transition=rt}}function Fi(){return di().memoizedState}function Gi(et,_e,tt){var rt=lh(et);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,tt);else if(tt=Yg(et,_e,tt,rt),tt!==null){var nt=L$1();mh(tt,et,rt,nt),Ji(tt,_e,rt)}}function ri(et,_e,tt){var rt=lh(et),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,nt);else{var st=et.alternate;if(et.lanes===0&&(st===null||st.lanes===0)&&(st=_e.lastRenderedReducer,st!==null))try{var ot=_e.lastRenderedState,at=st(ot,tt);if(nt.hasEagerState=!0,nt.eagerState=at,He$1(at,ot)){var lt=_e.interleaved;lt===null?(nt.next=nt,Xg(_e)):(nt.next=lt.next,lt.next=nt),_e.interleaved=nt;return}}catch{}finally{}tt=Yg(et,_e,nt,rt),tt!==null&&(nt=L$1(),mh(tt,et,rt,nt),Ji(tt,_e,rt))}}function Hi(et){var _e=et.alternate;return et===N$2||_e!==null&&_e===N$2}function Ii(et,_e){Th=Sh=!0;var tt=et.pending;tt===null?_e.next=_e:(_e.next=tt.next,tt.next=_e),et.pending=_e}function Ji(et,_e,tt){if(tt&4194240){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),tt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var tt=ci();return _e=_e===void 0?null:_e,et=et(),tt.memoizedState=[et,_e],et},useReducer:function(et,_e,tt){var rt=ci();return _e=tt!==void 0?tt(_e):_e,rt.memoizedState=rt.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},rt.queue=et,et=et.dispatch=Gi.bind(null,N$2,et),[rt.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,tt){var rt=N$2,nt=ci();if(I$2){if(tt===void 0)throw Error(p$5(407));tt=tt()}else{if(tt=_e(),R$2===null)throw Error(p$5(349));Rh&30||ni(rt,_e,tt)}nt.memoizedState=tt;var st={value:tt,getSnapshot:_e};return nt.queue=st,vi(ki.bind(null,rt,st,et),[et]),rt.flags|=2048,li(9,mi.bind(null,rt,st,tt,_e),void 0,null),tt},useId:function(){var et=ci(),_e=R$2.identifierPrefix;if(I$2){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,_e=":"+_e+"R"+tt,tt=Uh++,0<tt&&(_e+="H"+tt.toString(32)),_e+=":"}else tt=Vh++,_e=":"+_e+"r"+tt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$2.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$2===null?_e.memoizedState=et:Di(_e,O$2.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var tt="",rt=_e;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(st){nt=`
Error generating stack: `+st.message+`
`+st.stack}return{value:et,source:_e,stack:nt,digest:null}}function Li(et,_e,tt){return{value:et,source:null,stack:tt??null,digest:_e??null}}function Mi(et,_e){try{console.error(_e.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var rt=_e.value;return tt.callback=function(){Pi||(Pi=!0,Qi=rt),Mi(et,_e)},tt}function Ri(et,_e,tt){tt=ch(-1,tt),tt.tag=3;var rt=et.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=_e.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Mi(et,_e)}}var st=et.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(tt.callback=function(){Mi(et,_e),typeof rt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=_e.stack;this.componentDidCatch(_e.value,{componentStack:ot!==null?ot:""})}),tt}function Ti(et,_e,tt){var rt=et.pingCache;if(rt===null){rt=et.pingCache=new Ni;var nt=new Set;rt.set(_e,nt)}else nt=rt.get(_e),nt===void 0&&(nt=new Set,rt.set(_e,nt));nt.has(tt)||(nt.add(tt),et=Ui.bind(null,et,_e,tt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,tt,rt,nt){return et.mode&1?(et.flags|=65536,et.lanes=nt,et):(et===_e?et.flags|=65536:(et.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(_e=ch(-1,1),_e.tag=2,dh(tt,_e,1))),tt.lanes|=1),et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,tt,rt){_e.child=et===null?Ch(_e,null,tt,rt):Bh(_e,et.child,tt,rt)}function Zi(et,_e,tt,rt,nt){tt=tt.render;var st=_e.ref;return Tg(_e,nt),rt=Xh(et,_e,tt,rt,st,nt),tt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$2&&tt&&vg(_e),_e.flags|=1,Yi(et,_e,rt,nt),_e.child)}function aj(et,_e,tt,rt,nt){if(et===null){var st=tt.type;return typeof st=="function"&&!bj(st)&&st.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(_e.tag=15,_e.type=st,cj(et,_e,st,rt,nt)):(et=yh(tt.type,null,rt,_e,_e.mode,nt),et.ref=_e.ref,et.return=_e,_e.child=et)}if(st=et.child,!(et.lanes&nt)){var ot=st.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(ot,rt)&&et.ref===_e.ref)return $i(et,_e,nt)}return _e.flags|=1,et=wh(st,rt),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,tt,rt,nt){if(et!==null){var st=et.memoizedProps;if(Ie(st,rt)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=rt=st,(et.lanes&nt)!==0)et.flags&131072&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,nt)}return dj(et,_e,tt,rt,nt)}function ej(et,_e,tt){var rt=_e.pendingProps,nt=rt.children,st=et!==null?et.memoizedState:null;if(rt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if(!(tt&1073741824))return et=st!==null?st.baseLanes|tt:tt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=st!==null?st.baseLanes:tt,G$1(fj,gj),gj|=rt}else st!==null?(rt=st.baseLanes|tt,_e.memoizedState=null):rt=tt,G$1(fj,gj),gj|=rt;return Yi(et,_e,nt,tt),_e.child}function hj(et,_e){var tt=_e.ref;(et===null&&tt!==null||et!==null&&et.ref!==tt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,tt,rt,nt){var st=Zf(tt)?Xf:H$3.current;return st=Yf(_e,st),Tg(_e,nt),tt=Xh(et,_e,tt,rt,st,nt),rt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$2&&rt&&vg(_e),_e.flags|=1,Yi(et,_e,tt,nt),_e.child)}function ij(et,_e,tt,rt,nt){if(Zf(tt)){var st=!0;cg(_e)}else st=!1;if(Tg(_e,nt),_e.stateNode===null)jj(et,_e),ph(_e,tt,rt),rh(_e,tt,rt,nt),rt=!0;else if(et===null){var ot=_e.stateNode,at=_e.memoizedProps;ot.props=at;var lt=ot.context,ft=tt.contextType;typeof ft=="object"&&ft!==null?ft=Vg(ft):(ft=Zf(tt)?Xf:H$3.current,ft=Yf(_e,ft));var dt=tt.getDerivedStateFromProps,gt=typeof dt=="function"||typeof ot.getSnapshotBeforeUpdate=="function";gt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==rt||lt!==ft)&&qh(_e,ot,rt,ft),$g=!1;var pt=_e.memoizedState;ot.state=pt,gh(_e,rt,ot,nt),lt=_e.memoizedState,at!==rt||pt!==lt||Wf.current||$g?(typeof dt=="function"&&(kh(_e,tt,dt,rt),lt=_e.memoizedState),(at=$g||oh(_e,tt,at,rt,pt,lt,ft))?(gt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=rt,_e.memoizedState=lt),ot.props=rt,ot.state=lt,ot.context=ft,rt=at):(typeof ot.componentDidMount=="function"&&(_e.flags|=4194308),rt=!1)}else{ot=_e.stateNode,bh(et,_e),at=_e.memoizedProps,ft=_e.type===_e.elementType?at:Lg(_e.type,at),ot.props=ft,gt=_e.pendingProps,pt=ot.context,lt=tt.contextType,typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(tt)?Xf:H$3.current,lt=Yf(_e,lt));var vt=tt.getDerivedStateFromProps;(dt=typeof vt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==gt||pt!==lt)&&qh(_e,ot,rt,lt),$g=!1,pt=_e.memoizedState,ot.state=pt,gh(_e,rt,ot,nt);var St=_e.memoizedState;at!==gt||pt!==St||Wf.current||$g?(typeof vt=="function"&&(kh(_e,tt,vt,rt),St=_e.memoizedState),(ft=$g||oh(_e,tt,ft,rt,pt,St,lt)||!1)?(dt||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(rt,St,lt),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(rt,St,lt)),typeof ot.componentDidUpdate=="function"&&(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof ot.componentDidUpdate!="function"||at===et.memoizedProps&&pt===et.memoizedState||(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&pt===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=rt,_e.memoizedState=St),ot.props=rt,ot.state=St,ot.context=lt,rt=ft):(typeof ot.componentDidUpdate!="function"||at===et.memoizedProps&&pt===et.memoizedState||(_e.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&pt===et.memoizedState||(_e.flags|=1024),rt=!1)}return kj(et,_e,tt,rt,st,nt)}function kj(et,_e,tt,rt,nt,st){hj(et,_e);var ot=(_e.flags&128)!==0;if(!rt&&!ot)return nt&&dg(_e,tt,!1),$i(et,_e,st);rt=_e.stateNode,Xi.current=_e;var at=ot&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return _e.flags|=1,et!==null&&ot?(_e.child=Bh(_e,et.child,null,st),_e.child=Bh(_e,null,at,st)):Yi(et,_e,at,st),_e.memoizedState=rt.state,nt&&dg(_e,tt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,tt,rt,nt){return Ig(),Jg(nt),_e.flags|=256,Yi(et,_e,tt,rt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,tt){var rt=_e.pendingProps,nt=M$2.current,st=!1,ot=(_e.flags&128)!==0,at;if((at=ot)||(at=et!==null&&et.memoizedState===null?!1:(nt&2)!==0),at?(st=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(nt|=1),G$1(M$2,nt&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(_e.mode&1?et.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(ot=rt.children,et=rt.fallback,st?(rt=_e.mode,st=_e.child,ot={mode:"hidden",children:ot},!(rt&1)&&st!==null?(st.childLanes=0,st.pendingProps=ot):st=qj(ot,rt,0,null),et=Ah(et,rt,tt,null),st.return=_e,et.return=_e,st.sibling=et,_e.child=st,_e.child.memoizedState=oj(tt),_e.memoizedState=nj,et):rj(_e,ot));if(nt=et.memoizedState,nt!==null&&(at=nt.dehydrated,at!==null))return sj(et,_e,ot,rt,at,nt,tt);if(st){st=rt.fallback,ot=_e.mode,nt=et.child,at=nt.sibling;var lt={mode:"hidden",children:rt.children};return!(ot&1)&&_e.child!==nt?(rt=_e.child,rt.childLanes=0,rt.pendingProps=lt,_e.deletions=null):(rt=wh(nt,lt),rt.subtreeFlags=nt.subtreeFlags&14680064),at!==null?st=wh(at,st):(st=Ah(st,ot,tt,null),st.flags|=2),st.return=_e,rt.return=_e,rt.sibling=st,_e.child=rt,rt=st,st=_e.child,ot=et.child.memoizedState,ot=ot===null?oj(tt):{baseLanes:ot.baseLanes|tt,cachePool:null,transitions:ot.transitions},st.memoizedState=ot,st.childLanes=et.childLanes&~tt,_e.memoizedState=nj,rt}return st=et.child,et=st.sibling,rt=wh(st,{mode:"visible",children:rt.children}),!(_e.mode&1)&&(rt.lanes=tt),rt.return=_e,rt.sibling=null,et!==null&&(tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)),_e.child=rt,_e.memoizedState=null,rt}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,tt,rt){return rt!==null&&Jg(rt),Bh(_e,et.child,null,tt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,tt,rt,nt,st,ot){if(tt)return _e.flags&256?(_e.flags&=-257,rt=Li(Error(p$5(422))),tj(et,_e,ot,rt)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(st=rt.fallback,nt=_e.mode,rt=qj({mode:"visible",children:rt.children},nt,0,null),st=Ah(st,nt,ot,null),st.flags|=2,rt.return=_e,st.return=_e,rt.sibling=st,_e.child=rt,_e.mode&1&&Bh(_e,et.child,null,ot),_e.child.memoizedState=oj(ot),_e.memoizedState=nj,st);if(!(_e.mode&1))return tj(et,_e,ot,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var at=rt.dgst;return rt=at,st=Error(p$5(419)),rt=Li(st,rt,void 0),tj(et,_e,ot,rt)}if(at=(ot&et.childLanes)!==0,Ug||at){if(rt=R$2,rt!==null){switch(ot&-ot){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(rt.suspendedLanes|ot)?0:nt,nt!==0&&nt!==st.retryLane&&(st.retryLane=nt,Zg(et,nt),mh(rt,et,nt,-1))}return uj(),rt=Li(Error(p$5(421))),tj(et,_e,ot,rt)}return nt.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),nt._reactRetry=_e,null):(et=st.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$2=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,rt.children),_e.flags|=4096,_e)}function wj(et,_e,tt){et.lanes|=_e;var rt=et.alternate;rt!==null&&(rt.lanes|=_e),Sg(et.return,_e,tt)}function xj(et,_e,tt,rt,nt){var st=et.memoizedState;st===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(st.isBackwards=_e,st.rendering=null,st.renderingStartTime=0,st.last=rt,st.tail=tt,st.tailMode=nt)}function yj(et,_e,tt){var rt=_e.pendingProps,nt=rt.revealOrder,st=rt.tail;if(Yi(et,_e,rt.children,tt),rt=M$2.current,rt&2)rt=rt&1|2,_e.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,tt,_e);else if(et.tag===19)wj(et,tt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}rt&=1}if(G$1(M$2,rt),!(_e.mode&1))_e.memoizedState=null;else switch(nt){case"forwards":for(tt=_e.child,nt=null;tt!==null;)et=tt.alternate,et!==null&&Mh(et)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=_e.child,_e.child=null):(nt=tt.sibling,tt.sibling=null),xj(_e,!1,nt,tt,st);break;case"backwards":for(tt=null,nt=_e.child,_e.child=null;nt!==null;){if(et=nt.alternate,et!==null&&Mh(et)===null){_e.child=nt;break}et=nt.sibling,nt.sibling=tt,tt=nt,nt=et}xj(_e,!0,tt,null,st);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){!(_e.mode&1)&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,tt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,!(tt&_e.childLanes))return null;if(et!==null&&_e.child!==et.child)throw Error(p$5(153));if(_e.child!==null){for(et=_e.child,tt=wh(et,et.pendingProps),_e.child=tt,tt.return=_e;et.sibling!==null;)et=et.sibling,tt=tt.sibling=wh(et,et.pendingProps),tt.return=_e;tt.sibling=null}return _e.child}function zj(et,_e,tt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var rt=_e.type._context,nt=_e.memoizedProps.value;G$1(Mg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=_e.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(M$2,M$2.current&1),_e.flags|=128,null):tt&_e.child.childLanes?pj(et,_e,tt):(G$1(M$2,M$2.current&1),et=$i(et,_e,tt),et!==null?et.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(rt=(tt&_e.childLanes)!==0,et.flags&128){if(rt)return yj(et,_e,tt);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$2,M$2.current),rt)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,tt)}return $i(et,_e,tt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var tt=_e.child;tt!==null;){if(tt.tag===5||tt.tag===6)et.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(et,_e,tt,rt){var nt=et.memoizedProps;if(nt!==rt){et=_e.stateNode,Hh(Eh.current);var st=null;switch(tt){case"input":nt=Ya(et,nt),rt=Ya(et,rt),st=[];break;case"select":nt=A$2({},nt,{value:void 0}),rt=A$2({},rt,{value:void 0}),st=[];break;case"textarea":nt=gb(et,nt),rt=gb(et,rt),st=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(et.onclick=Bf)}ub(tt,rt);var ot;tt=null;for(ft in nt)if(!rt.hasOwnProperty(ft)&&nt.hasOwnProperty(ft)&&nt[ft]!=null)if(ft==="style"){var at=nt[ft];for(ot in at)at.hasOwnProperty(ot)&&(tt||(tt={}),tt[ot]="")}else ft!=="dangerouslySetInnerHTML"&&ft!=="children"&&ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&ft!=="autoFocus"&&(ea.hasOwnProperty(ft)?st||(st=[]):(st=st||[]).push(ft,null));for(ft in rt){var lt=rt[ft];if(at=nt!=null?nt[ft]:void 0,rt.hasOwnProperty(ft)&&lt!==at&&(lt!=null||at!=null))if(ft==="style")if(at){for(ot in at)!at.hasOwnProperty(ot)||lt&&lt.hasOwnProperty(ot)||(tt||(tt={}),tt[ot]="");for(ot in lt)lt.hasOwnProperty(ot)&&at[ot]!==lt[ot]&&(tt||(tt={}),tt[ot]=lt[ot])}else tt||(st||(st=[]),st.push(ft,tt)),tt=lt;else ft==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,at=at?at.__html:void 0,lt!=null&&at!==lt&&(st=st||[]).push(ft,lt)):ft==="children"?typeof lt!="string"&&typeof lt!="number"||(st=st||[]).push(ft,""+lt):ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ft)?(lt!=null&&ft==="onScroll"&&D$3("scroll",et),st||at===lt||(st=[])):(st=st||[]).push(ft,lt))}tt&&(st=st||[]).push("style",tt);var ft=st;(_e.updateQueue=ft)&&(_e.flags|=4)}};Dj=function(et,_e,tt,rt){tt!==rt&&(_e.flags|=4)};function Ej(et,_e){if(!I$2)switch(et.tailMode){case"hidden":_e=et.tail;for(var tt=null;_e!==null;)_e.alternate!==null&&(tt=_e),_e=_e.sibling;tt===null?et.tail=null:tt.sibling=null;break;case"collapsed":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:rt.sibling=null}}function S$2(et){var _e=et.alternate!==null&&et.alternate.child===et.child,tt=0,rt=0;if(_e)for(var nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=et,nt=nt.sibling;else for(nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=et,nt=nt.sibling;return et.subtreeFlags|=rt,et.childLanes=tt,_e}function Fj(et,_e,tt){var rt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(_e),null;case 1:return Zf(_e.type)&&$f(),S$2(_e),null;case 3:return rt=_e.stateNode,Jh(),E$2(Wf),E$2(H$3),Oh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$2(_e),null;case 5:Lh(_e);var nt=Hh(Gh.current);if(tt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,tt,rt,nt),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!rt){if(_e.stateNode===null)throw Error(p$5(166));return S$2(_e),null}if(et=Hh(Eh.current),Gg(_e)){rt=_e.stateNode,tt=_e.type;var st=_e.memoizedProps;switch(rt[Of]=_e,rt[Pf]=st,et=(_e.mode&1)!==0,tt){case"dialog":D$3("cancel",rt),D$3("close",rt);break;case"iframe":case"object":case"embed":D$3("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$3(lf[nt],rt);break;case"source":D$3("error",rt);break;case"img":case"image":case"link":D$3("error",rt),D$3("load",rt);break;case"details":D$3("toggle",rt);break;case"input":Za(rt,st),D$3("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!st.multiple},D$3("invalid",rt);break;case"textarea":hb(rt,st),D$3("invalid",rt)}ub(tt,st),nt=null;for(var ot in st)if(st.hasOwnProperty(ot)){var at=st[ot];ot==="children"?typeof at=="string"?rt.textContent!==at&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,at,et),nt=["children",at]):typeof at=="number"&&rt.textContent!==""+at&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,at,et),nt=["children",""+at]):ea.hasOwnProperty(ot)&&at!=null&&ot==="onScroll"&&D$3("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,st,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(rt.onclick=Bf)}rt=nt,_e.updateQueue=rt,rt!==null&&(_e.flags|=4)}else{ot=nt.nodeType===9?nt:nt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(tt)),et==="http://www.w3.org/1999/xhtml"?tt==="script"?(et=ot.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof rt.is=="string"?et=ot.createElement(tt,{is:rt.is}):(et=ot.createElement(tt),tt==="select"&&(ot=et,rt.multiple?ot.multiple=!0:rt.size&&(ot.size=rt.size))):et=ot.createElementNS(et,tt),et[Of]=_e,et[Pf]=rt,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(ot=vb(tt,rt),tt){case"dialog":D$3("cancel",et),D$3("close",et),nt=rt;break;case"iframe":case"object":case"embed":D$3("load",et),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$3(lf[nt],et);nt=rt;break;case"source":D$3("error",et),nt=rt;break;case"img":case"image":case"link":D$3("error",et),D$3("load",et),nt=rt;break;case"details":D$3("toggle",et),nt=rt;break;case"input":Za(et,rt),nt=Ya(et,rt),D$3("invalid",et);break;case"option":nt=rt;break;case"select":et._wrapperState={wasMultiple:!!rt.multiple},nt=A$2({},rt,{value:void 0}),D$3("invalid",et);break;case"textarea":hb(et,rt),nt=gb(et,rt),D$3("invalid",et);break;default:nt=rt}ub(tt,nt),at=nt;for(st in at)if(at.hasOwnProperty(st)){var lt=at[st];st==="style"?sb(et,lt):st==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(et,lt)):st==="children"?typeof lt=="string"?(tt!=="textarea"||lt!=="")&&ob(et,lt):typeof lt=="number"&&ob(et,""+lt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?lt!=null&&st==="onScroll"&&D$3("scroll",et):lt!=null&&ta(et,st,lt,ot))}switch(tt){case"input":Va(et),db(et,rt,!1);break;case"textarea":Va(et),jb(et);break;case"option":rt.value!=null&&et.setAttribute("value",""+Sa(rt.value));break;case"select":et.multiple=!!rt.multiple,st=rt.value,st!=null?fb(et,!!rt.multiple,st,!1):rt.defaultValue!=null&&fb(et,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$2(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,rt);else{if(typeof rt!="string"&&_e.stateNode===null)throw Error(p$5(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(rt=_e.stateNode,tt=_e.memoizedProps,rt[Of]=_e,(st=rt.nodeValue!==tt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(rt.nodeValue,tt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(et.mode&1)!==0)}st&&(_e.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=_e,_e.stateNode=rt}return S$2(_e),null;case 13:if(E$2(M$2),rt=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,st=!1;else if(st=Gg(_e),rt!==null&&rt.dehydrated!==null){if(et===null){if(!st)throw Error(p$5(318));if(st=_e.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$5(317));st[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$2(_e),st=!1}else zg!==null&&(Gj(zg),zg=null),st=!0;if(!st)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=tt,_e):(rt=rt!==null,rt!==(et!==null&&et.memoizedState!==null)&&rt&&(_e.child.flags|=8192,_e.mode&1&&(et===null||M$2.current&1?T$2===0&&(T$2=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$2(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$2(_e),null;case 10:return Rg(_e.type._context),S$2(_e),null;case 17:return Zf(_e.type)&&$f(),S$2(_e),null;case 19:if(E$2(M$2),st=_e.memoizedState,st===null)return S$2(_e),null;if(rt=(_e.flags&128)!==0,ot=st.rendering,ot===null)if(rt)Ej(st,!1);else{if(T$2!==0||et!==null&&et.flags&128)for(et=_e.child;et!==null;){if(ot=Mh(et),ot!==null){for(_e.flags|=128,Ej(st,!1),rt=ot.updateQueue,rt!==null&&(_e.updateQueue=rt,_e.flags|=4),_e.subtreeFlags=0,rt=tt,tt=_e.child;tt!==null;)st=tt,et=rt,st.flags&=14680066,ot=st.alternate,ot===null?(st.childLanes=0,st.lanes=et,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=ot.childLanes,st.lanes=ot.lanes,st.child=ot.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=ot.memoizedProps,st.memoizedState=ot.memoizedState,st.updateQueue=ot.updateQueue,st.type=ot.type,et=ot.dependencies,st.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),tt=tt.sibling;return G$1(M$2,M$2.current&1|2),_e.child}et=et.sibling}st.tail!==null&&B$2()>Hj&&(_e.flags|=128,rt=!0,Ej(st,!1),_e.lanes=4194304)}else{if(!rt)if(et=Mh(ot),et!==null){if(_e.flags|=128,rt=!0,tt=et.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),Ej(st,!0),st.tail===null&&st.tailMode==="hidden"&&!ot.alternate&&!I$2)return S$2(_e),null}else 2*B$2()-st.renderingStartTime>Hj&&tt!==1073741824&&(_e.flags|=128,rt=!0,Ej(st,!1),_e.lanes=4194304);st.isBackwards?(ot.sibling=_e.child,_e.child=ot):(tt=st.last,tt!==null?tt.sibling=ot:_e.child=ot,st.last=ot)}return st.tail!==null?(_e=st.tail,st.rendering=_e,st.tail=_e.sibling,st.renderingStartTime=B$2(),_e.sibling=null,tt=M$2.current,G$1(M$2,rt?tt&1|2:tt&1),_e):(S$2(_e),null);case 22:case 23:return Ij(),rt=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==rt&&(_e.flags|=8192),rt&&_e.mode&1?gj&1073741824&&(S$2(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$2(_e),null;case 24:return null;case 25:return null}throw Error(p$5(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E$2(Wf),E$2(H$3),Oh(),et=_e.flags,et&65536&&!(et&128)?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$2(M$2),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$5(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(et,_e){var tt=et.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$3(et,_e,rt)}else tt.current=null}function Nj(et,_e,tt){try{tt()}catch(rt){W$3(et,_e,rt)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me(),Ne$1(et)){if("selectionStart"in et)var tt={start:et.selectionStart,end:et.selectionEnd};else e:{tt=(tt=et.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,st=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,st.nodeType}catch{tt=null;break e}var ot=0,at=-1,lt=-1,ft=0,dt=0,gt=et,pt=null;t:for(;;){for(var vt;gt!==tt||nt!==0&&gt.nodeType!==3||(at=ot+nt),gt!==st||rt!==0&&gt.nodeType!==3||(lt=ot+rt),gt.nodeType===3&&(ot+=gt.nodeValue.length),(vt=gt.firstChild)!==null;)pt=gt,gt=vt;for(;;){if(gt===et)break t;if(pt===tt&&++ft===nt&&(at=ot),pt===st&&++dt===rt&&(lt=ot),(vt=gt.nextSibling)!==null)break;gt=pt,pt=gt.parentNode}gt=vt}tt=at===-1||lt===-1?null:{start:at,end:lt}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:et,selectionRange:tt},dd=!1,V$1=_e;V$1!==null;)if(_e=V$1,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$1=et;else for(;V$1!==null;){_e=V$1;try{var St=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var At=St.memoizedProps,Tt=St.memoizedState,Ct=_e.stateNode,Mt=Ct.getSnapshotBeforeUpdate(_e.elementType===_e.type?At:Lg(_e.type,At),Tt);Ct.__reactInternalSnapshotBeforeUpdate=Mt}break;case 3:var Et=_e.stateNode.containerInfo;Et.nodeType===1?Et.textContent="":Et.nodeType===9&&Et.documentElement&&Et.removeChild(Et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(Rt){W$3(_e,_e.return,Rt)}if(et=_e.sibling,et!==null){et.return=_e.return,V$1=et;break}V$1=_e.return}return St=Oj,Oj=!1,St}function Qj(et,_e,tt){var rt=_e.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&et)===et){var st=nt.destroy;nt.destroy=void 0,st!==void 0&&Nj(_e,tt,st)}nt=nt.next}while(nt!==rt)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&et)===et){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var tt=et.stateNode;switch(et.tag){case 5:et=tt;break;default:et=tt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.nodeType===8?tt.parentNode.insertBefore(et,_e):tt.insertBefore(et,_e):(tt.nodeType===8?(_e=tt.parentNode,_e.insertBefore(et,tt)):(_e=tt,_e.appendChild(et)),tt=tt._reactRootContainer,tt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(rt!==4&&(et=et.child,et!==null))for(Wj(et,_e,tt),et=et.sibling;et!==null;)Wj(et,_e,tt),et=et.sibling}function Xj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.insertBefore(et,_e):tt.appendChild(et);else if(rt!==4&&(et=et.child,et!==null))for(Xj(et,_e,tt),et=et.sibling;et!==null;)Xj(et,_e,tt),et=et.sibling}var X$2=null,Yj=!1;function Zj(et,_e,tt){for(tt=tt.child;tt!==null;)ak(et,_e,tt),tt=tt.sibling}function ak(et,_e,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$2||Mj(tt,_e);case 6:var rt=X$2,nt=Yj;X$2=null,Zj(et,_e,tt),X$2=rt,Yj=nt,X$2!==null&&(Yj?(et=X$2,tt=tt.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):X$2.removeChild(tt.stateNode));break;case 18:X$2!==null&&(Yj?(et=X$2,tt=tt.stateNode,et.nodeType===8?Kf(et.parentNode,tt):et.nodeType===1&&Kf(et,tt),bd(et)):Kf(X$2,tt.stateNode));break;case 4:rt=X$2,nt=Yj,X$2=tt.stateNode.containerInfo,Yj=!0,Zj(et,_e,tt),X$2=rt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$2&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var st=nt,ot=st.destroy;st=st.tag,ot!==void 0&&(st&2||st&4)&&Nj(tt,_e,ot),nt=nt.next}while(nt!==rt)}Zj(et,_e,tt);break;case 1:if(!U$2&&(Mj(tt,_e),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(at){W$3(tt,_e,at)}Zj(et,_e,tt);break;case 21:Zj(et,_e,tt);break;case 22:tt.mode&1?(U$2=(rt=U$2)||tt.memoizedState!==null,Zj(et,_e,tt),U$2=rt):Zj(et,_e,tt);break;default:Zj(et,_e,tt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var tt=et.stateNode;tt===null&&(tt=et.stateNode=new Lj),_e.forEach(function(rt){var nt=ck.bind(null,et,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function dk(et,_e){var tt=_e.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var st=et,ot=_e,at=ot;e:for(;at!==null;){switch(at.tag){case 5:X$2=at.stateNode,Yj=!1;break e;case 3:X$2=at.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X$2===null)throw Error(p$5(160));ak(st,ot,nt),X$2=null,Yj=!1;var lt=nt.alternate;lt!==null&&(lt.return=null),nt.return=null}catch(ft){W$3(nt,_e,ft)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var tt=et.alternate,rt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),rt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(At){W$3(et,et.return,At)}try{Qj(5,et,et.return)}catch(At){W$3(et,et.return,At)}}break;case 1:dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return),et.flags&32){var nt=et.stateNode;try{ob(nt,"")}catch(At){W$3(et,et.return,At)}}if(rt&4&&(nt=et.stateNode,nt!=null)){var st=et.memoizedProps,ot=tt!==null?tt.memoizedProps:st,at=et.type,lt=et.updateQueue;if(et.updateQueue=null,lt!==null)try{at==="input"&&st.type==="radio"&&st.name!=null&&ab(nt,st),vb(at,ot);var ft=vb(at,st);for(ot=0;ot<lt.length;ot+=2){var dt=lt[ot],gt=lt[ot+1];dt==="style"?sb(nt,gt):dt==="dangerouslySetInnerHTML"?nb(nt,gt):dt==="children"?ob(nt,gt):ta(nt,dt,gt,ft)}switch(at){case"input":bb(nt,st);break;case"textarea":ib(nt,st);break;case"select":var pt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!st.multiple;var vt=st.value;vt!=null?fb(nt,!!st.multiple,vt,!1):pt!==!!st.multiple&&(st.defaultValue!=null?fb(nt,!!st.multiple,st.defaultValue,!0):fb(nt,!!st.multiple,st.multiple?[]:"",!1))}nt[Pf]=st}catch(At){W$3(et,et.return,At)}}break;case 6:if(dk(_e,et),fk(et),rt&4){if(et.stateNode===null)throw Error(p$5(162));nt=et.stateNode,st=et.memoizedProps;try{nt.nodeValue=st}catch(At){W$3(et,et.return,At)}}break;case 3:if(dk(_e,et),fk(et),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(At){W$3(et,et.return,At)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),nt=et.child,nt.flags&8192&&(st=nt.memoizedState!==null,nt.stateNode.isHidden=st,!st||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$2())),rt&4&&bk(et);break;case 22:if(dt=tt!==null&&tt.memoizedState!==null,et.mode&1?(U$2=(ft=U$2)||dt,dk(_e,et),U$2=ft):dk(_e,et),fk(et),rt&8192){if(ft=et.memoizedState!==null,(et.stateNode.isHidden=ft)&&!dt&&et.mode&1)for(V$1=et,dt=et.child;dt!==null;){for(gt=V$1=dt;V$1!==null;){switch(pt=V$1,vt=pt.child,pt.tag){case 0:case 11:case 14:case 15:Qj(4,pt,pt.return);break;case 1:Mj(pt,pt.return);var St=pt.stateNode;if(typeof St.componentWillUnmount=="function"){rt=pt,tt=pt.return;try{_e=rt,St.props=_e.memoizedProps,St.state=_e.memoizedState,St.componentWillUnmount()}catch(At){W$3(rt,tt,At)}}break;case 5:Mj(pt,pt.return);break;case 22:if(pt.memoizedState!==null){hk(gt);continue}}vt!==null?(vt.return=pt,V$1=vt):hk(gt)}dt=dt.sibling}e:for(dt=null,gt=et;;){if(gt.tag===5){if(dt===null){dt=gt;try{nt=gt.stateNode,ft?(st=nt.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(at=gt.stateNode,lt=gt.memoizedProps.style,ot=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,at.style.display=rb("display",ot))}catch(At){W$3(et,et.return,At)}}}else if(gt.tag===6){if(dt===null)try{gt.stateNode.nodeValue=ft?"":gt.memoizedProps}catch(At){W$3(et,et.return,At)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===et)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===et)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===et)break e;dt===gt&&(dt=null),gt=gt.return}dt===gt&&(dt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:dk(_e,et),fk(et),rt&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var tt=et.return;tt!==null;){if(Uj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$5(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var st=Vj(et);Xj(et,st,nt);break;case 3:case 4:var ot=rt.stateNode.containerInfo,at=Vj(et);Wj(et,at,ot);break;default:throw Error(p$5(161))}}catch(lt){W$3(et,et.return,lt)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,tt){V$1=et,jk(et)}function jk(et,_e,tt){for(var rt=(et.mode&1)!==0;V$1!==null;){var nt=V$1,st=nt.child;if(nt.tag===22&&rt){var ot=nt.memoizedState!==null||Kj;if(!ot){var at=nt.alternate,lt=at!==null&&at.memoizedState!==null||U$2;at=Kj;var ft=U$2;if(Kj=ot,(U$2=lt)&&!ft)for(V$1=nt;V$1!==null;)ot=V$1,lt=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(nt):lt!==null?(lt.return=ot,V$1=lt):kk(nt);for(;st!==null;)V$1=st,jk(st),st=st.sibling;V$1=nt,Kj=at,U$2=ft}lk(et)}else nt.subtreeFlags&8772&&st!==null?(st.return=nt,V$1=st):lk(et)}}function lk(et){for(;V$1!==null;){var _e=V$1;if(_e.flags&8772){var tt=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U$2||Rj(5,_e);break;case 1:var rt=_e.stateNode;if(_e.flags&4&&!U$2)if(tt===null)rt.componentDidMount();else{var nt=_e.elementType===_e.type?tt.memoizedProps:Lg(_e.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var st=_e.updateQueue;st!==null&&ih(_e,st,rt);break;case 3:var ot=_e.updateQueue;if(ot!==null){if(tt=null,_e.child!==null)switch(_e.child.tag){case 5:tt=_e.child.stateNode;break;case 1:tt=_e.child.stateNode}ih(_e,ot,tt)}break;case 5:var at=_e.stateNode;if(tt===null&&_e.flags&4){tt=at;var lt=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&tt.focus();break;case"img":lt.src&&(tt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ft=_e.alternate;if(ft!==null){var dt=ft.memoizedState;if(dt!==null){var gt=dt.dehydrated;gt!==null&&bd(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$2||_e.flags&512&&Sj(_e)}catch(pt){W$3(_e,_e.return,pt)}}if(_e===et){V$1=null;break}if(tt=_e.sibling,tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function hk(et){for(;V$1!==null;){var _e=V$1;if(_e===et){V$1=null;break}var tt=_e.sibling;if(tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function kk(et){for(;V$1!==null;){var _e=V$1;try{switch(_e.tag){case 0:case 11:case 15:var tt=_e.return;try{Rj(4,_e)}catch(lt){W$3(_e,tt,lt)}break;case 1:var rt=_e.stateNode;if(typeof rt.componentDidMount=="function"){var nt=_e.return;try{rt.componentDidMount()}catch(lt){W$3(_e,nt,lt)}}var st=_e.return;try{Sj(_e)}catch(lt){W$3(_e,st,lt)}break;case 5:var ot=_e.return;try{Sj(_e)}catch(lt){W$3(_e,ot,lt)}}}catch(lt){W$3(_e,_e.return,lt)}if(_e===et){V$1=null;break}var at=_e.sibling;if(at!==null){at.return=_e.return,V$1=at;break}V$1=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$2=0,R$2=null,Y$2=null,Z$1=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$2&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(et){return et.mode&1?K$2&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$2,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function mh(et,_e,tt,rt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac(et,tt,rt),(!(K$2&2)||et!==R$2)&&(et===R$2&&(!(K$2&2)&&(rk|=tt),T$2===4&&Dk(et,Z$1)),Ek(et,rt),tt===1&&K$2===0&&!(_e.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(et,_e){var tt=et.callbackNode;wc(et,_e);var rt=uc(et,et===R$2?Z$1:0);if(rt===0)tt!==null&&bc(tt),et.callbackNode=null,et.callbackPriority=0;else if(_e=rt&-rt,et.callbackPriority!==_e){if(tt!=null&&bc(tt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){!(K$2&6)&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=tt}}function Hk(et,_e){if(Bk=-1,Ck=0,K$2&6)throw Error(p$5(327));var tt=et.callbackNode;if(Ik()&&et.callbackNode!==tt)return null;var rt=uc(et,et===R$2?Z$1:0);if(rt===0)return null;if(rt&30||rt&et.expiredLanes||_e)_e=Jk(et,rt);else{_e=rt;var nt=K$2;K$2|=2;var st=Kk();(R$2!==et||Z$1!==_e)&&(vk=null,Hj=B$2()+500,Lk(et,_e));do try{Mk();break}catch(at){Nk(et,at)}while(1);Qg(),nk.current=st,K$2=nt,Y$2!==null?_e=0:(R$2=null,Z$1=0,_e=T$2)}if(_e!==0){if(_e===2&&(nt=xc(et),nt!==0&&(rt=nt,_e=Ok(et,nt))),_e===1)throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$2()),tt;if(_e===6)Dk(et,rt);else{if(nt=et.current.alternate,!(rt&30)&&!Pk(nt)&&(_e=Jk(et,rt),_e===2&&(st=xc(et),st!==0&&(rt=st,_e=Ok(et,st))),_e===1))throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$2()),tt;switch(et.finishedWork=nt,et.finishedLanes=rt,_e){case 0:case 1:throw Error(p$5(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,rt),(rt&130023424)===rt&&(_e=gk+500-B$2(),10<_e)){if(uc(et,0)!==0)break;if(nt=et.suspendedLanes,(nt&rt)!==rt){L$1(),et.pingedLanes|=et.suspendedLanes&nt;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,rt),(rt&4194240)===rt)break;for(_e=et.eventTimes,nt=-1;0<rt;){var ot=31-oc(rt);st=1<<ot,ot=_e[ot],ot>nt&&(nt=ot),rt&=~st}if(rt=nt,rt=B$2()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*mk(rt/1960))-rt,10<rt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),rt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$5(329))}}}return Ek(et,B$2()),et.callbackNode===tt?Hk.bind(null,et):null}function Ok(et,_e){var tt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=tt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var tt=_e.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],st=nt.getSnapshot;nt=nt.value;try{if(!He$1(st(),nt))return!1}catch{return!1}}}if(tt=_e.child,_e.subtreeFlags&16384&&tt!==null)tt.return=_e,_e=tt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var tt=31-oc(_e),rt=1<<tt;et[tt]=-1,_e&=~rt}}function Fk(et){if(K$2&6)throw Error(p$5(327));Ik();var _e=uc(et,0);if(!(_e&1))return Ek(et,B$2()),null;var tt=Jk(et,_e);if(et.tag!==0&&tt===2){var rt=xc(et);rt!==0&&(_e=rt,tt=Ok(et,rt))}if(tt===1)throw tt=qk,Lk(et,0),Dk(et,_e),Ek(et,B$2()),tt;if(tt===6)throw Error(p$5(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B$2()),null}function Rk(et,_e){var tt=K$2;K$2|=1;try{return et(_e)}finally{K$2=tt,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var _e=K$2;K$2|=1;var tt=pk.transition,rt=C$2;try{if(pk.transition=null,C$2=1,et)return et()}finally{C$2=rt,pk.transition=tt,K$2=_e,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var tt=et.timeoutHandle;if(tt!==-1&&(et.timeoutHandle=-1,Gf(tt)),Y$2!==null)for(tt=Y$2.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$3),Oh();break;case 5:Lh(rt);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(rt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$2=et,Y$2=et=wh(et.current,null),Z$1=gj=_e,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(tt=Wg[_e],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,st=tt.pending;if(st!==null){var ot=st.next;st.next=nt,rt.next=ot}tt.pending=rt}Wg=null}return et}function Nk(et,_e){do{var tt=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var rt=N$2.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Sh=!1}if(Rh=0,P$1=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$2=1,qk=_e,Y$2=null;break}e:{var st=et,ot=tt.return,at=tt,lt=_e;if(_e=Z$1,at.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ft=lt,dt=at,gt=dt.tag;if(!(dt.mode&1)&&(gt===0||gt===11||gt===15)){var pt=dt.alternate;pt?(dt.updateQueue=pt.updateQueue,dt.memoizedState=pt.memoizedState,dt.lanes=pt.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var vt=Vi(ot);if(vt!==null){vt.flags&=-257,Wi(vt,ot,at,st,_e),vt.mode&1&&Ti(st,ft,_e),_e=vt,lt=ft;var St=_e.updateQueue;if(St===null){var At=new Set;At.add(lt),_e.updateQueue=At}else St.add(lt);break e}else{if(!(_e&1)){Ti(st,ft,_e),uj();break e}lt=Error(p$5(426))}}else if(I$2&&at.mode&1){var Tt=Vi(ot);if(Tt!==null){!(Tt.flags&65536)&&(Tt.flags|=256),Wi(Tt,ot,at,st,_e),Jg(Ki(lt,at));break e}}st=lt=Ki(lt,at),T$2!==4&&(T$2=2),tk===null?tk=[st]:tk.push(st),st=ot;do{switch(st.tag){case 3:st.flags|=65536,_e&=-_e,st.lanes|=_e;var Ct=Oi(st,lt,_e);fh(st,Ct);break e;case 1:at=lt;var Mt=st.type,Et=st.stateNode;if(!(st.flags&128)&&(typeof Mt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Si===null||!Si.has(Et)))){st.flags|=65536,_e&=-_e,st.lanes|=_e;var Rt=Ri(st,at,_e);fh(st,Rt);break e}}st=st.return}while(st!==null)}Tk(tt)}catch(Bt){_e=Bt,Y$2===tt&&tt!==null&&(Y$2=tt=tt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$1)}function Jk(et,_e){var tt=K$2;K$2|=2;var rt=Kk();(R$2!==et||Z$1!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(nt){Nk(et,nt)}while(1);if(Qg(),K$2=tt,nk.current=rt,Y$2!==null)throw Error(p$5(261));return R$2=null,Z$1=0,T$2}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc();)Vk(Y$2)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$2=_e,ok.current=null}function Tk(et){var _e=et;do{var tt=_e.alternate;if(et=_e.return,_e.flags&32768){if(tt=Jj(tt,_e),tt!==null){tt.flags&=32767,Y$2=tt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$2=6,Y$2=null;return}}else if(tt=Fj(tt,_e,gj),tt!==null){Y$2=tt;return}if(_e=_e.sibling,_e!==null){Y$2=_e;return}Y$2=_e=et}while(_e!==null);T$2===0&&(T$2=5)}function Qk(et,_e,tt){var rt=C$2,nt=pk.transition;try{pk.transition=null,C$2=1,Xk(et,_e,tt,rt)}finally{pk.transition=nt,C$2=rt}return null}function Xk(et,_e,tt,rt){do Ik();while(xk!==null);if(K$2&6)throw Error(p$5(327));tt=et.finishedWork;var nt=et.finishedLanes;if(tt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,tt===et.current)throw Error(p$5(177));et.callbackNode=null,et.callbackPriority=0;var st=tt.lanes|tt.childLanes;if(Bc(et,st),et===R$2&&(Y$2=R$2=null,Z$1=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),st=(tt.flags&15990)!==0,tt.subtreeFlags&15990||st){st=pk.transition,pk.transition=null;var ot=C$2;C$2=1;var at=K$2;K$2|=4,ok.current=null,Pj(et,tt),ek(tt,et),Oe$1(Df),dd=!!Cf,Df=Cf=null,et.current=tt,ik(tt),dc(),K$2=at,C$2=ot,pk.transition=st}else et.current=tt;if(wk&&(wk=!1,xk=et,yk=nt),st=et.pendingLanes,st===0&&(Si=null),mc(tt.stateNode),Ek(et,B$2()),_e!==null)for(rt=et.onRecoverableError,tt=0;tt<_e.length;tt++)nt=_e[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return yk&1&&et.tag!==0&&Ik(),st=et.pendingLanes,st&1?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,tt=C$2;try{if(pk.transition=null,C$2=16>et?16:et,xk===null)var rt=!1;else{if(et=xk,xk=null,yk=0,K$2&6)throw Error(p$5(331));var nt=K$2;for(K$2|=4,V$1=et.current;V$1!==null;){var st=V$1,ot=st.child;if(V$1.flags&16){var at=st.deletions;if(at!==null){for(var lt=0;lt<at.length;lt++){var ft=at[lt];for(V$1=ft;V$1!==null;){var dt=V$1;switch(dt.tag){case 0:case 11:case 15:Qj(8,dt,st)}var gt=dt.child;if(gt!==null)gt.return=dt,V$1=gt;else for(;V$1!==null;){dt=V$1;var pt=dt.sibling,vt=dt.return;if(Tj(dt),dt===ft){V$1=null;break}if(pt!==null){pt.return=vt,V$1=pt;break}V$1=vt}}}var St=st.alternate;if(St!==null){var At=St.child;if(At!==null){St.child=null;do{var Tt=At.sibling;At.sibling=null,At=Tt}while(At!==null)}}V$1=st}}if(st.subtreeFlags&2064&&ot!==null)ot.return=st,V$1=ot;else e:for(;V$1!==null;){if(st=V$1,st.flags&2048)switch(st.tag){case 0:case 11:case 15:Qj(9,st,st.return)}var Ct=st.sibling;if(Ct!==null){Ct.return=st.return,V$1=Ct;break e}V$1=st.return}}var Mt=et.current;for(V$1=Mt;V$1!==null;){ot=V$1;var Et=ot.child;if(ot.subtreeFlags&2064&&Et!==null)Et.return=ot,V$1=Et;else e:for(ot=Mt;V$1!==null;){if(at=V$1,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(Bt){W$3(at,at.return,Bt)}if(at===ot){V$1=null;break e}var Rt=at.sibling;if(Rt!==null){Rt.return=at.return,V$1=Rt;break e}V$1=at.return}}if(K$2=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}rt=!0}return rt}finally{C$2=tt,pk.transition=_e}}return!1}function Yk(et,_e,tt){_e=Ki(tt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L$1(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$3(et,_e,tt){if(et.tag===3)Yk(et,et,tt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,tt);break}else if(_e.tag===1){var rt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt))){et=Ki(tt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L$1(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,tt){var rt=et.pingCache;rt!==null&&rt.delete(_e),_e=L$1(),et.pingedLanes|=et.suspendedLanes&tt,R$2===et&&(Z$1&tt)===tt&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(et,0):sk|=tt),Ek(et,_e)}function Zk(et,_e){_e===0&&(et.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var tt=L$1();et=Zg(et,_e),et!==null&&(Ac(et,_e,tt),Ek(et,tt))}function vj(et){var _e=et.memoizedState,tt=0;_e!==null&&(tt=_e.retryLane),Zk(et,tt)}function ck(et,_e){var tt=0;switch(et.tag){case 13:var rt=et.stateNode,nt=et.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=et.stateNode;break;default:throw Error(p$5(314))}rt!==null&&rt.delete(_e),Zk(et,tt)}var Wk;Wk=function(et,_e,tt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if(!(et.lanes&tt)&&!(_e.flags&128))return Ug=!1,zj(et,_e,tt);Ug=!!(et.flags&131072)}else Ug=!1,I$2&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var rt=_e.type;jj(et,_e),et=_e.pendingProps;var nt=Yf(_e,H$3.current);Tg(_e,tt),nt=Xh(null,_e,rt,et,nt,tt);var st=bi();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(rt)?(st=!0,cg(_e)):st=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_e),nt.updater=nh,_e.stateNode=nt,nt._reactInternals=_e,rh(_e,rt,et,tt),_e=kj(null,_e,rt,!0,st,tt)):(_e.tag=0,I$2&&st&&vg(_e),Yi(null,_e,nt,tt),_e=_e.child),_e;case 16:rt=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,nt=rt._init,rt=nt(rt._payload),_e.type=rt,nt=_e.tag=$k(rt),et=Lg(rt,et),nt){case 0:_e=dj(null,_e,rt,et,tt);break e;case 1:_e=ij(null,_e,rt,et,tt);break e;case 11:_e=Zi(null,_e,rt,et,tt);break e;case 14:_e=aj(null,_e,rt,Lg(rt.type,et),tt);break e}throw Error(p$5(306,rt,""))}return _e;case 0:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),dj(et,_e,rt,nt,tt);case 1:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),ij(et,_e,rt,nt,tt);case 3:e:{if(lj(_e),et===null)throw Error(p$5(387));rt=_e.pendingProps,st=_e.memoizedState,nt=st.element,bh(et,_e),gh(_e,rt,null,tt);var ot=_e.memoizedState;if(rt=ot.element,st.isDehydrated)if(st={element:rt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},_e.updateQueue.baseState=st,_e.memoizedState=st,_e.flags&256){nt=Ki(Error(p$5(423)),_e),_e=mj(et,_e,rt,tt,nt);break e}else if(rt!==nt){nt=Ki(Error(p$5(424)),_e),_e=mj(et,_e,rt,tt,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$2=!0,zg=null,tt=Ch(_e,null,rt,tt),_e.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){_e=$i(et,_e,tt);break e}Yi(et,_e,rt,tt)}_e=_e.child}return _e;case 5:return Kh(_e),et===null&&Eg(_e),rt=_e.type,nt=_e.pendingProps,st=et!==null?et.memoizedProps:null,ot=nt.children,Ef(rt,nt)?ot=null:st!==null&&Ef(rt,st)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,ot,tt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,tt);case 4:return Ih(_e,_e.stateNode.containerInfo),rt=_e.pendingProps,et===null?_e.child=Bh(_e,null,rt,tt):Yi(et,_e,rt,tt),_e.child;case 11:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),Zi(et,_e,rt,nt,tt);case 7:return Yi(et,_e,_e.pendingProps,tt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 10:e:{if(rt=_e.type._context,nt=_e.pendingProps,st=_e.memoizedProps,ot=nt.value,G$1(Mg,rt._currentValue),rt._currentValue=ot,st!==null)if(He$1(st.value,ot)){if(st.children===nt.children&&!Wf.current){_e=$i(et,_e,tt);break e}}else for(st=_e.child,st!==null&&(st.return=_e);st!==null;){var at=st.dependencies;if(at!==null){ot=st.child;for(var lt=at.firstContext;lt!==null;){if(lt.context===rt){if(st.tag===1){lt=ch(-1,tt&-tt),lt.tag=2;var ft=st.updateQueue;if(ft!==null){ft=ft.shared;var dt=ft.pending;dt===null?lt.next=lt:(lt.next=dt.next,dt.next=lt),ft.pending=lt}}st.lanes|=tt,lt=st.alternate,lt!==null&&(lt.lanes|=tt),Sg(st.return,tt,_e),at.lanes|=tt;break}lt=lt.next}}else if(st.tag===10)ot=st.type===_e.type?null:st.child;else if(st.tag===18){if(ot=st.return,ot===null)throw Error(p$5(341));ot.lanes|=tt,at=ot.alternate,at!==null&&(at.lanes|=tt),Sg(ot,tt,_e),ot=st.sibling}else ot=st.child;if(ot!==null)ot.return=st;else for(ot=st;ot!==null;){if(ot===_e){ot=null;break}if(st=ot.sibling,st!==null){st.return=ot.return,ot=st;break}ot=ot.return}st=ot}Yi(et,_e,nt.children,tt),_e=_e.child}return _e;case 9:return nt=_e.type,rt=_e.pendingProps.children,Tg(_e,tt),nt=Vg(nt),rt=rt(nt),_e.flags|=1,Yi(et,_e,rt,tt),_e.child;case 14:return rt=_e.type,nt=Lg(rt,_e.pendingProps),nt=Lg(rt.type,nt),aj(et,_e,rt,nt,tt);case 15:return cj(et,_e,_e.type,_e.pendingProps,tt);case 17:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),jj(et,_e),_e.tag=1,Zf(rt)?(et=!0,cg(_e)):et=!1,Tg(_e,tt),ph(_e,rt,nt),rh(_e,rt,nt,tt),kj(null,_e,rt,!0,et,tt);case 19:return yj(et,_e,tt);case 22:return ej(et,_e,tt)}throw Error(p$5(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,tt,rt){this.tag=et,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,tt,rt){return new al(et,_e,tt,rt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var tt=et.alternate;return tt===null?(tt=Bg(et.tag,_e,et.key,et.mode),tt.elementType=et.elementType,tt.type=et.type,tt.stateNode=et.stateNode,tt.alternate=et,et.alternate=tt):(tt.pendingProps=_e,tt.type=et.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=et.flags&14680064,tt.childLanes=et.childLanes,tt.lanes=et.lanes,tt.child=et.child,tt.memoizedProps=et.memoizedProps,tt.memoizedState=et.memoizedState,tt.updateQueue=et.updateQueue,_e=et.dependencies,tt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},tt.sibling=et.sibling,tt.index=et.index,tt.ref=et.ref,tt}function yh(et,_e,tt,rt,nt,st){var ot=2;if(rt=et,typeof et=="function")bj(et)&&(ot=1);else if(typeof et=="string")ot=5;else e:switch(et){case ya:return Ah(tt.children,nt,st,_e);case za:ot=8,nt|=8;break;case Aa:return et=Bg(12,tt,_e,nt|2),et.elementType=Aa,et.lanes=st,et;case Ea:return et=Bg(13,tt,_e,nt),et.elementType=Ea,et.lanes=st,et;case Fa:return et=Bg(19,tt,_e,nt),et.elementType=Fa,et.lanes=st,et;case Ia:return qj(tt,nt,st,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,rt=null;break e}throw Error(p$5(130,et==null?et:typeof et,""))}return _e=Bg(ot,tt,_e,nt),_e.elementType=et,_e.type=rt,_e.lanes=st,_e}function Ah(et,_e,tt,rt){return et=Bg(7,et,rt,_e),et.lanes=tt,et}function qj(et,_e,tt,rt){return et=Bg(22,et,rt,_e),et.elementType=Ia,et.lanes=tt,et.stateNode={isHidden:!1},et}function xh(et,_e,tt){return et=Bg(6,et,null,_e),et.lanes=tt,et}function zh(et,_e,tt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=tt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,tt,rt,nt){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(et,_e,tt,rt,nt,st,ot,at,lt){return et=new bl(et,_e,tt,at,lt),_e===1?(_e=1,st===!0&&(_e|=8)):_e=0,st=Bg(3,null,null,_e),et.current=st,st.stateNode=et,st.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(st),et}function dl(et,_e,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:et,containerInfo:_e,implementation:tt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$5(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$5(171))}if(et.tag===1){var tt=et.type;if(Zf(tt))return bg(et,tt,_e)}return _e}function fl(et,_e,tt,rt,nt,st,ot,at,lt){return et=cl(tt,rt,!0,et,nt,st,ot,at,lt),et.context=el(null),tt=et.current,rt=L$1(),nt=lh(tt),st=ch(rt,nt),st.callback=_e??null,dh(tt,st,nt),et.current.lanes=nt,Ac(et,nt,rt),Ek(et,rt),et}function gl(et,_e,tt,rt){var nt=_e.current,st=L$1(),ot=lh(nt);return tt=el(tt),_e.context===null?_e.context=tt:_e.pendingContext=tt,_e=ch(st,ot),_e.payload={element:et},rt=rt===void 0?null:rt,rt!==null&&(_e.callback=rt),et=dh(nt,_e,ot),et!==null&&(mh(et,nt,ot,st),eh(et,nt,ot)),ot}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var tt=et.retryLane;et.retryLane=tt!==0&&tt<_e?tt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$5(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var tt=0;tt<Qc.length&&_e!==0&&_e<Qc[tt].priority;tt++);Qc.splice(tt,0,et),tt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,tt,rt,nt){if(nt){if(typeof rt=="function"){var st=rt;rt=function(){var ft=hl(ot);st.call(ft)}}var ot=fl(_e,rt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=ot,et[uf]=ot.current,sf(et.nodeType===8?et.parentNode:et),Sk(),ot}for(;nt=et.lastChild;)et.removeChild(nt);if(typeof rt=="function"){var at=rt;rt=function(){var ft=hl(lt);at.call(ft)}}var lt=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=lt,et[uf]=lt.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,lt,tt,rt)}),lt}function sl(et,_e,tt,rt,nt){var st=tt._reactRootContainer;if(st){var ot=st;if(typeof nt=="function"){var at=nt;nt=function(){var lt=hl(ot);at.call(lt)}}gl(_e,ot,et,nt)}else ot=rl(tt,_e,et,nt,rt);return hl(ot)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var tt=tc(_e.pendingLanes);tt!==0&&(Cc(_e,tt|1),Ek(_e,B$2()),!(K$2&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var rt=Zg(et,1);if(rt!==null){var nt=L$1();mh(rt,et,1,nt)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var tt=L$1();mh(_e,et,134217728,tt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),tt=Zg(et,_e);if(tt!==null){var rt=L$1();mh(tt,et,_e,rt)}jl(et,_e)}};Hc=function(){return C$2};Ic=function(et,_e){var tt=C$2;try{return C$2=et,_e()}finally{C$2=tt}};yb=function(et,_e,tt){switch(_e){case"input":if(bb(et,tt),_e=tt.name,tt.type==="radio"&&_e!=null){for(tt=et;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<tt.length;_e++){var rt=tt[_e];if(rt!==et&&rt.form===et.form){var nt=Db(rt);if(!nt)throw Error(p$5(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(et,tt);break;case"select":_e=tt.value,_e!=null&&fb(et,!!tt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$5(200));return dl(et,_e,null,tt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$5(299));var tt=!1,rt="",nt=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(rt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,tt,!1,rt,nt),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$5(188)):(et=Object.keys(et).join(","),Error(p$5(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,tt){if(!pl(_e))throw Error(p$5(200));return sl(null,et,_e,!0,tt)};reactDom_production_min.hydrateRoot=function(et,_e,tt){if(!ol(et))throw Error(p$5(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,st="",ot=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(st=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(ot=tt.onRecoverableError)),_e=fl(_e,null,et,1,tt??null,nt,!1,st,ot),et[uf]=_e.current,sf(et),rt)for(et=0;et<rt.length;et++)tt=rt[et],nt=tt._getVersion,nt=nt(tt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[tt,nt]:_e.mutableSourceEagerHydrationData.push(tt,nt);return new nl(_e)};reactDom_production_min.render=function(et,_e,tt){if(!pl(_e))throw Error(p$5(200));return sl(null,et,_e,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$5(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,tt,rt){if(!pl(tt))throw Error(p$5(200));if(et==null||et._reactInternals===void 0)throw Error(p$5(38));return sl(et,_e,tt,!1,rt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot$1,m$4=reactDomExports;createRoot$1=client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$1.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="149",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(_e,tt){this._listeners===void 0&&(this._listeners={});const rt=this._listeners;rt[_e]===void 0&&(rt[_e]=[]),rt[_e].indexOf(tt)===-1&&rt[_e].push(tt)}hasEventListener(_e,tt){if(this._listeners===void 0)return!1;const rt=this._listeners;return rt[_e]!==void 0&&rt[_e].indexOf(tt)!==-1}removeEventListener(_e,tt){if(this._listeners===void 0)return;const nt=this._listeners[_e];if(nt!==void 0){const st=nt.indexOf(tt);st!==-1&&nt.splice(st,1)}}dispatchEvent(_e){if(this._listeners===void 0)return;const rt=this._listeners[_e.type];if(rt!==void 0){_e.target=this;const nt=rt.slice(0);for(let st=0,ot=nt.length;st<ot;st++)nt[st].call(this,_e);_e.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const et=Math.random()*4294967295|0,_e=Math.random()*4294967295|0,tt=Math.random()*4294967295|0,rt=Math.random()*4294967295|0;return(_lut$1[et&255]+_lut$1[et>>8&255]+_lut$1[et>>16&255]+_lut$1[et>>24&255]+"-"+_lut$1[_e&255]+_lut$1[_e>>8&255]+"-"+_lut$1[_e>>16&15|64]+_lut$1[_e>>24&255]+"-"+_lut$1[tt&63|128]+_lut$1[tt>>8&255]+"-"+_lut$1[tt>>16&255]+_lut$1[tt>>24&255]+_lut$1[rt&255]+_lut$1[rt>>8&255]+_lut$1[rt>>16&255]+_lut$1[rt>>24&255]).toLowerCase()}function clamp(et,_e,tt){return Math.max(_e,Math.min(tt,et))}function euclideanModulo(et,_e){return(et%_e+_e)%_e}function mapLinear(et,_e,tt,rt,nt){return rt+(et-_e)*(nt-rt)/(tt-_e)}function inverseLerp(et,_e,tt){return et!==_e?(tt-et)/(_e-et):0}function lerp(et,_e,tt){return(1-tt)*et+tt*_e}function damp(et,_e,tt,rt){return lerp(et,_e,1-Math.exp(-tt*rt))}function pingpong(et,_e=1){return _e-Math.abs(euclideanModulo(et,_e*2)-_e)}function smoothstep(et,_e,tt){return et<=_e?0:et>=tt?1:(et=(et-_e)/(tt-_e),et*et*(3-2*et))}function smootherstep(et,_e,tt){return et<=_e?0:et>=tt?1:(et=(et-_e)/(tt-_e),et*et*et*(et*(et*6-15)+10))}function randInt(et,_e){return et+Math.floor(Math.random()*(_e-et+1))}function randFloat(et,_e){return et+Math.random()*(_e-et)}function randFloatSpread(et){return et*(.5-Math.random())}function seededRandom(et){et!==void 0&&(_seed=et);let _e=_seed+=1831565813;return _e=Math.imul(_e^_e>>>15,_e|1),_e^=_e+Math.imul(_e^_e>>>7,_e|61),((_e^_e>>>14)>>>0)/4294967296}function degToRad(et){return et*DEG2RAD}function radToDeg(et){return et*RAD2DEG}function isPowerOfTwo(et){return(et&et-1)===0&&et!==0}function ceilPowerOfTwo(et){return Math.pow(2,Math.ceil(Math.log(et)/Math.LN2))}function floorPowerOfTwo(et){return Math.pow(2,Math.floor(Math.log(et)/Math.LN2))}function setQuaternionFromProperEuler(et,_e,tt,rt,nt){const st=Math.cos,ot=Math.sin,at=st(tt/2),lt=ot(tt/2),ft=st((_e+rt)/2),dt=ot((_e+rt)/2),gt=st((_e-rt)/2),pt=ot((_e-rt)/2),vt=st((rt-_e)/2),St=ot((rt-_e)/2);switch(nt){case"XYX":et.set(at*dt,lt*gt,lt*pt,at*ft);break;case"YZY":et.set(lt*pt,at*dt,lt*gt,at*ft);break;case"ZXZ":et.set(lt*gt,lt*pt,at*dt,at*ft);break;case"XZX":et.set(at*dt,lt*St,lt*vt,at*ft);break;case"YXY":et.set(lt*vt,at*dt,lt*St,at*ft);break;case"ZYZ":et.set(lt*St,lt*vt,at*dt,at*ft);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+nt)}}function denormalize(et,_e){switch(_e.constructor){case Float32Array:return et;case Uint16Array:return et/65535;case Uint8Array:return et/255;case Int16Array:return Math.max(et/32767,-1);case Int8Array:return Math.max(et/127,-1);default:throw new Error("Invalid component type.")}}function normalize(et,_e){switch(_e.constructor){case Float32Array:return et;case Uint16Array:return Math.round(et*65535);case Uint8Array:return Math.round(et*255);case Int16Array:return Math.round(et*32767);case Int8Array:return Math.round(et*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,ceilPowerOfTwo,clamp,damp,degToRad,denormalize,euclideanModulo,floorPowerOfTwo,generateUUID:generateUUID$1,inverseLerp,isPowerOfTwo,lerp,mapLinear,normalize,pingpong,radToDeg,randFloat,randFloatSpread,randInt,seededRandom,setQuaternionFromProperEuler,smootherstep,smoothstep});class Vector2{constructor(_e=0,tt=0){Vector2.prototype.isVector2=!0,this.x=_e,this.y=tt}get width(){return this.x}set width(_e){this.x=_e}get height(){return this.y}set height(_e){this.y=_e}set(_e,tt){return this.x=_e,this.y=tt,this}setScalar(_e){return this.x=_e,this.y=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setComponent(_e,tt){switch(_e){case 0:this.x=tt;break;case 1:this.y=tt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y)}copy(_e){return this.x=_e.x,this.y=_e.y,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this}addScalar(_e){return this.x+=_e,this.y+=_e,this}addVectors(_e,tt){return this.x=_e.x+tt.x,this.y=_e.y+tt.y,this}addScaledVector(_e,tt){return this.x+=_e.x*tt,this.y+=_e.y*tt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this}subScalar(_e){return this.x-=_e,this.y-=_e,this}subVectors(_e,tt){return this.x=_e.x-tt.x,this.y=_e.y-tt.y,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this}divide(_e){return this.x/=_e.x,this.y/=_e.y,this}divideScalar(_e){return this.multiplyScalar(1/_e)}applyMatrix3(_e){const tt=this.x,rt=this.y,nt=_e.elements;return this.x=nt[0]*tt+nt[3]*rt+nt[6],this.y=nt[1]*tt+nt[4]*rt+nt[7],this}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this}clamp(_e,tt){return this.x=Math.max(_e.x,Math.min(tt.x,this.x)),this.y=Math.max(_e.y,Math.min(tt.y,this.y)),this}clampScalar(_e,tt){return this.x=Math.max(_e,Math.min(tt,this.x)),this.y=Math.max(_e,Math.min(tt,this.y)),this}clampLength(_e,tt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(_e,Math.min(tt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(_e){return this.x*_e.x+this.y*_e.y}cross(_e){return this.x*_e.y-this.y*_e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(_e){return Math.sqrt(this.distanceToSquared(_e))}distanceToSquared(_e){const tt=this.x-_e.x,rt=this.y-_e.y;return tt*tt+rt*rt}manhattanDistanceTo(_e){return Math.abs(this.x-_e.x)+Math.abs(this.y-_e.y)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,tt){return this.x+=(_e.x-this.x)*tt,this.y+=(_e.y-this.y)*tt,this}lerpVectors(_e,tt,rt){return this.x=_e.x+(tt.x-_e.x)*rt,this.y=_e.y+(tt.y-_e.y)*rt,this}equals(_e){return _e.x===this.x&&_e.y===this.y}fromArray(_e,tt=0){return this.x=_e[tt],this.y=_e[tt+1],this}toArray(_e=[],tt=0){return _e[tt]=this.x,_e[tt+1]=this.y,_e}fromBufferAttribute(_e,tt){return this.x=_e.getX(tt),this.y=_e.getY(tt),this}rotateAround(_e,tt){const rt=Math.cos(tt),nt=Math.sin(tt),st=this.x-_e.x,ot=this.y-_e.y;return this.x=st*rt-ot*nt+_e.x,this.y=st*nt+ot*rt+_e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(_e,tt,rt,nt,st,ot,at,lt,ft){const dt=this.elements;return dt[0]=_e,dt[1]=nt,dt[2]=at,dt[3]=tt,dt[4]=st,dt[5]=lt,dt[6]=rt,dt[7]=ot,dt[8]=ft,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(_e){const tt=this.elements,rt=_e.elements;return tt[0]=rt[0],tt[1]=rt[1],tt[2]=rt[2],tt[3]=rt[3],tt[4]=rt[4],tt[5]=rt[5],tt[6]=rt[6],tt[7]=rt[7],tt[8]=rt[8],this}extractBasis(_e,tt,rt){return _e.setFromMatrix3Column(this,0),tt.setFromMatrix3Column(this,1),rt.setFromMatrix3Column(this,2),this}setFromMatrix4(_e){const tt=_e.elements;return this.set(tt[0],tt[4],tt[8],tt[1],tt[5],tt[9],tt[2],tt[6],tt[10]),this}multiply(_e){return this.multiplyMatrices(this,_e)}premultiply(_e){return this.multiplyMatrices(_e,this)}multiplyMatrices(_e,tt){const rt=_e.elements,nt=tt.elements,st=this.elements,ot=rt[0],at=rt[3],lt=rt[6],ft=rt[1],dt=rt[4],gt=rt[7],pt=rt[2],vt=rt[5],St=rt[8],At=nt[0],Tt=nt[3],Ct=nt[6],Mt=nt[1],Et=nt[4],Rt=nt[7],Bt=nt[2],Ft=nt[5],Lt=nt[8];return st[0]=ot*At+at*Mt+lt*Bt,st[3]=ot*Tt+at*Et+lt*Ft,st[6]=ot*Ct+at*Rt+lt*Lt,st[1]=ft*At+dt*Mt+gt*Bt,st[4]=ft*Tt+dt*Et+gt*Ft,st[7]=ft*Ct+dt*Rt+gt*Lt,st[2]=pt*At+vt*Mt+St*Bt,st[5]=pt*Tt+vt*Et+St*Ft,st[8]=pt*Ct+vt*Rt+St*Lt,this}multiplyScalar(_e){const tt=this.elements;return tt[0]*=_e,tt[3]*=_e,tt[6]*=_e,tt[1]*=_e,tt[4]*=_e,tt[7]*=_e,tt[2]*=_e,tt[5]*=_e,tt[8]*=_e,this}determinant(){const _e=this.elements,tt=_e[0],rt=_e[1],nt=_e[2],st=_e[3],ot=_e[4],at=_e[5],lt=_e[6],ft=_e[7],dt=_e[8];return tt*ot*dt-tt*at*ft-rt*st*dt+rt*at*lt+nt*st*ft-nt*ot*lt}invert(){const _e=this.elements,tt=_e[0],rt=_e[1],nt=_e[2],st=_e[3],ot=_e[4],at=_e[5],lt=_e[6],ft=_e[7],dt=_e[8],gt=dt*ot-at*ft,pt=at*lt-dt*st,vt=ft*st-ot*lt,St=tt*gt+rt*pt+nt*vt;if(St===0)return this.set(0,0,0,0,0,0,0,0,0);const At=1/St;return _e[0]=gt*At,_e[1]=(nt*ft-dt*rt)*At,_e[2]=(at*rt-nt*ot)*At,_e[3]=pt*At,_e[4]=(dt*tt-nt*lt)*At,_e[5]=(nt*st-at*tt)*At,_e[6]=vt*At,_e[7]=(rt*lt-ft*tt)*At,_e[8]=(ot*tt-rt*st)*At,this}transpose(){let _e;const tt=this.elements;return _e=tt[1],tt[1]=tt[3],tt[3]=_e,_e=tt[2],tt[2]=tt[6],tt[6]=_e,_e=tt[5],tt[5]=tt[7],tt[7]=_e,this}getNormalMatrix(_e){return this.setFromMatrix4(_e).invert().transpose()}transposeIntoArray(_e){const tt=this.elements;return _e[0]=tt[0],_e[1]=tt[3],_e[2]=tt[6],_e[3]=tt[1],_e[4]=tt[4],_e[5]=tt[7],_e[6]=tt[2],_e[7]=tt[5],_e[8]=tt[8],this}setUvTransform(_e,tt,rt,nt,st,ot,at){const lt=Math.cos(st),ft=Math.sin(st);return this.set(rt*lt,rt*ft,-rt*(lt*ot+ft*at)+ot+_e,-nt*ft,nt*lt,-nt*(-ft*ot+lt*at)+at+tt,0,0,1),this}scale(_e,tt){return this.premultiply(_m3.makeScale(_e,tt)),this}rotate(_e){return this.premultiply(_m3.makeRotation(-_e)),this}translate(_e,tt){return this.premultiply(_m3.makeTranslation(_e,tt)),this}makeTranslation(_e,tt){return this.set(1,0,_e,0,1,tt,0,0,1),this}makeRotation(_e){const tt=Math.cos(_e),rt=Math.sin(_e);return this.set(tt,-rt,0,rt,tt,0,0,0,1),this}makeScale(_e,tt){return this.set(_e,0,0,0,tt,0,0,0,1),this}equals(_e){const tt=this.elements,rt=_e.elements;for(let nt=0;nt<9;nt++)if(tt[nt]!==rt[nt])return!1;return!0}fromArray(_e,tt=0){for(let rt=0;rt<9;rt++)this.elements[rt]=_e[rt+tt];return this}toArray(_e=[],tt=0){const rt=this.elements;return _e[tt]=rt[0],_e[tt+1]=rt[1],_e[tt+2]=rt[2],_e[tt+3]=rt[3],_e[tt+4]=rt[4],_e[tt+5]=rt[5],_e[tt+6]=rt[6],_e[tt+7]=rt[7],_e[tt+8]=rt[8],_e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(et){for(let _e=et.length-1;_e>=0;--_e)if(et[_e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(et,_e){return new TYPED_ARRAYS[et](_e)}function createElementNS(et){return document.createElementNS("http://www.w3.org/1999/xhtml",et)}function SRGBToLinear(et){return et<.04045?et*.0773993808:Math.pow(et*.9478672986+.0521327014,2.4)}function LinearToSRGB(et){return et<.0031308?et*12.92:1.055*Math.pow(et,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(et){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(et,_e,tt){if(this.legacyMode||_e===tt||!_e||!tt)return et;if(FN[_e]&&FN[_e][tt]!==void 0){const rt=FN[_e][tt];return et.r=rt(et.r),et.g=rt(et.g),et.b=rt(et.b),et}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(et,_e){return this.convert(et,this.workingColorSpace,_e)},toWorkingColorSpace:function(et,_e){return this.convert(et,_e,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb$1={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(et,_e,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(_e-et)*6*tt:tt<1/2?_e:tt<2/3?et+(_e-et)*6*(2/3-tt):et}function toComponents(et,_e){return _e.r=et.r,_e.g=et.g,_e.b=et.b,_e}class Color{constructor(_e,tt,rt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,tt===void 0&&rt===void 0?this.set(_e):this.setRGB(_e,tt,rt)}set(_e){return _e&&_e.isColor?this.copy(_e):typeof _e=="number"?this.setHex(_e):typeof _e=="string"&&this.setStyle(_e),this}setScalar(_e){return this.r=_e,this.g=_e,this.b=_e,this}setHex(_e,tt=SRGBColorSpace){return _e=Math.floor(_e),this.r=(_e>>16&255)/255,this.g=(_e>>8&255)/255,this.b=(_e&255)/255,ColorManagement.toWorkingColorSpace(this,tt),this}setRGB(_e,tt,rt,nt=ColorManagement.workingColorSpace){return this.r=_e,this.g=tt,this.b=rt,ColorManagement.toWorkingColorSpace(this,nt),this}setHSL(_e,tt,rt,nt=ColorManagement.workingColorSpace){if(_e=euclideanModulo(_e,1),tt=clamp(tt,0,1),rt=clamp(rt,0,1),tt===0)this.r=this.g=this.b=rt;else{const st=rt<=.5?rt*(1+tt):rt+tt-rt*tt,ot=2*rt-st;this.r=hue2rgb(ot,st,_e+1/3),this.g=hue2rgb(ot,st,_e),this.b=hue2rgb(ot,st,_e-1/3)}return ColorManagement.toWorkingColorSpace(this,nt),this}setStyle(_e,tt=SRGBColorSpace){function rt(st){st!==void 0&&parseFloat(st)<1&&console.warn("THREE.Color: Alpha component of "+_e+" will be ignored.")}let nt;if(nt=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(_e)){let st;const ot=nt[1],at=nt[2];switch(ot){case"rgb":case"rgba":if(st=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(at))return this.r=Math.min(255,parseInt(st[1],10))/255,this.g=Math.min(255,parseInt(st[2],10))/255,this.b=Math.min(255,parseInt(st[3],10))/255,ColorManagement.toWorkingColorSpace(this,tt),rt(st[4]),this;if(st=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(at))return this.r=Math.min(100,parseInt(st[1],10))/100,this.g=Math.min(100,parseInt(st[2],10))/100,this.b=Math.min(100,parseInt(st[3],10))/100,ColorManagement.toWorkingColorSpace(this,tt),rt(st[4]),this;break;case"hsl":case"hsla":if(st=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(at)){const lt=parseFloat(st[1])/360,ft=parseFloat(st[2])/100,dt=parseFloat(st[3])/100;return rt(st[4]),this.setHSL(lt,ft,dt,tt)}break}}else if(nt=/^\#([A-Fa-f\d]+)$/.exec(_e)){const st=nt[1],ot=st.length;if(ot===3)return this.r=parseInt(st.charAt(0)+st.charAt(0),16)/255,this.g=parseInt(st.charAt(1)+st.charAt(1),16)/255,this.b=parseInt(st.charAt(2)+st.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,tt),this;if(ot===6)return this.r=parseInt(st.charAt(0)+st.charAt(1),16)/255,this.g=parseInt(st.charAt(2)+st.charAt(3),16)/255,this.b=parseInt(st.charAt(4)+st.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,tt),this}return _e&&_e.length>0?this.setColorName(_e,tt):this}setColorName(_e,tt=SRGBColorSpace){const rt=_colorKeywords[_e.toLowerCase()];return rt!==void 0?this.setHex(rt,tt):console.warn("THREE.Color: Unknown color "+_e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(_e){return this.r=_e.r,this.g=_e.g,this.b=_e.b,this}copySRGBToLinear(_e){return this.r=SRGBToLinear(_e.r),this.g=SRGBToLinear(_e.g),this.b=SRGBToLinear(_e.b),this}copyLinearToSRGB(_e){return this.r=LinearToSRGB(_e.r),this.g=LinearToSRGB(_e.g),this.b=LinearToSRGB(_e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(_e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),_e),clamp(_rgb$1.r*255,0,255)<<16^clamp(_rgb$1.g*255,0,255)<<8^clamp(_rgb$1.b*255,0,255)<<0}getHexString(_e=SRGBColorSpace){return("000000"+this.getHex(_e).toString(16)).slice(-6)}getHSL(_e,tt=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),tt);const rt=_rgb$1.r,nt=_rgb$1.g,st=_rgb$1.b,ot=Math.max(rt,nt,st),at=Math.min(rt,nt,st);let lt,ft;const dt=(at+ot)/2;if(at===ot)lt=0,ft=0;else{const gt=ot-at;switch(ft=dt<=.5?gt/(ot+at):gt/(2-ot-at),ot){case rt:lt=(nt-st)/gt+(nt<st?6:0);break;case nt:lt=(st-rt)/gt+2;break;case st:lt=(rt-nt)/gt+4;break}lt/=6}return _e.h=lt,_e.s=ft,_e.l=dt,_e}getRGB(_e,tt=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),tt),_e.r=_rgb$1.r,_e.g=_rgb$1.g,_e.b=_rgb$1.b,_e}getStyle(_e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),_e),_e!==SRGBColorSpace?`color(${_e} ${_rgb$1.r} ${_rgb$1.g} ${_rgb$1.b})`:`rgb(${_rgb$1.r*255|0},${_rgb$1.g*255|0},${_rgb$1.b*255|0})`}offsetHSL(_e,tt,rt){return this.getHSL(_hslA),_hslA.h+=_e,_hslA.s+=tt,_hslA.l+=rt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(_e){return this.r+=_e.r,this.g+=_e.g,this.b+=_e.b,this}addColors(_e,tt){return this.r=_e.r+tt.r,this.g=_e.g+tt.g,this.b=_e.b+tt.b,this}addScalar(_e){return this.r+=_e,this.g+=_e,this.b+=_e,this}sub(_e){return this.r=Math.max(0,this.r-_e.r),this.g=Math.max(0,this.g-_e.g),this.b=Math.max(0,this.b-_e.b),this}multiply(_e){return this.r*=_e.r,this.g*=_e.g,this.b*=_e.b,this}multiplyScalar(_e){return this.r*=_e,this.g*=_e,this.b*=_e,this}lerp(_e,tt){return this.r+=(_e.r-this.r)*tt,this.g+=(_e.g-this.g)*tt,this.b+=(_e.b-this.b)*tt,this}lerpColors(_e,tt,rt){return this.r=_e.r+(tt.r-_e.r)*rt,this.g=_e.g+(tt.g-_e.g)*rt,this.b=_e.b+(tt.b-_e.b)*rt,this}lerpHSL(_e,tt){this.getHSL(_hslA),_e.getHSL(_hslB);const rt=lerp(_hslA.h,_hslB.h,tt),nt=lerp(_hslA.s,_hslB.s,tt),st=lerp(_hslA.l,_hslB.l,tt);return this.setHSL(rt,nt,st),this}equals(_e){return _e.r===this.r&&_e.g===this.g&&_e.b===this.b}fromArray(_e,tt=0){return this.r=_e[tt],this.g=_e[tt+1],this.b=_e[tt+2],this}toArray(_e=[],tt=0){return _e[tt]=this.r,_e[tt+1]=this.g,_e[tt+2]=this.b,_e}fromBufferAttribute(_e,tt){return this.r=_e.getX(tt),this.g=_e.getY(tt),this.b=_e.getZ(tt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color.NAMES=_colorKeywords;let _canvas;class ImageUtils{static getDataURL(_e){if(/^data:/i.test(_e.src)||typeof HTMLCanvasElement>"u")return _e.src;let tt;if(_e instanceof HTMLCanvasElement)tt=_e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=_e.width,_canvas.height=_e.height;const rt=_canvas.getContext("2d");_e instanceof ImageData?rt.putImageData(_e,0,0):rt.drawImage(_e,0,0,_e.width,_e.height),tt=_canvas}return tt.width>2048||tt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",_e),tt.toDataURL("image/jpeg",.6)):tt.toDataURL("image/png")}static sRGBToLinear(_e){if(typeof HTMLImageElement<"u"&&_e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_e instanceof ImageBitmap){const tt=createElementNS("canvas");tt.width=_e.width,tt.height=_e.height;const rt=tt.getContext("2d");rt.drawImage(_e,0,0,_e.width,_e.height);const nt=rt.getImageData(0,0,_e.width,_e.height),st=nt.data;for(let ot=0;ot<st.length;ot++)st[ot]=SRGBToLinear(st[ot]/255)*255;return rt.putImageData(nt,0,0),tt}else if(_e.data){const tt=_e.data.slice(0);for(let rt=0;rt<tt.length;rt++)tt instanceof Uint8Array||tt instanceof Uint8ClampedArray?tt[rt]=Math.floor(SRGBToLinear(tt[rt]/255)*255):tt[rt]=SRGBToLinear(tt[rt]);return{data:tt,width:_e.width,height:_e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),_e}}class Source{constructor(_e=null){this.isSource=!0,this.uuid=generateUUID$1(),this.data=_e,this.version=0}set needsUpdate(_e){_e===!0&&this.version++}toJSON(_e){const tt=_e===void 0||typeof _e=="string";if(!tt&&_e.images[this.uuid]!==void 0)return _e.images[this.uuid];const rt={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let st;if(Array.isArray(nt)){st=[];for(let ot=0,at=nt.length;ot<at;ot++)nt[ot].isDataTexture?st.push(serializeImage(nt[ot].image)):st.push(serializeImage(nt[ot]))}else st=serializeImage(nt);rt.url=st}return tt||(_e.images[this.uuid]=rt),rt}}function serializeImage(et){return typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&et instanceof ImageBitmap?ImageUtils.getDataURL(et):et.data?{data:Array.from(et.data),width:et.width,height:et.height,type:et.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(_e=Texture.DEFAULT_IMAGE,tt=Texture.DEFAULT_MAPPING,rt=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,st=LinearFilter,ot=LinearMipmapLinearFilter,at=RGBAFormat,lt=UnsignedByteType,ft=Texture.DEFAULT_ANISOTROPY,dt=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(_e),this.mipmaps=[],this.mapping=tt,this.wrapS=rt,this.wrapT=nt,this.magFilter=st,this.minFilter=ot,this.anisotropy=ft,this.format=at,this.internalFormat=null,this.type=lt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=dt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(_e){this.source.data=_e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(_e){return this.name=_e.name,this.source=_e.source,this.mipmaps=_e.mipmaps.slice(0),this.mapping=_e.mapping,this.wrapS=_e.wrapS,this.wrapT=_e.wrapT,this.magFilter=_e.magFilter,this.minFilter=_e.minFilter,this.anisotropy=_e.anisotropy,this.format=_e.format,this.internalFormat=_e.internalFormat,this.type=_e.type,this.offset.copy(_e.offset),this.repeat.copy(_e.repeat),this.center.copy(_e.center),this.rotation=_e.rotation,this.matrixAutoUpdate=_e.matrixAutoUpdate,this.matrix.copy(_e.matrix),this.generateMipmaps=_e.generateMipmaps,this.premultiplyAlpha=_e.premultiplyAlpha,this.flipY=_e.flipY,this.unpackAlignment=_e.unpackAlignment,this.encoding=_e.encoding,this.userData=JSON.parse(JSON.stringify(_e.userData)),this.needsUpdate=!0,this}toJSON(_e){const tt=_e===void 0||typeof _e=="string";if(!tt&&_e.textures[this.uuid]!==void 0)return _e.textures[this.uuid];const rt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(_e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(rt.userData=this.userData),tt||(_e.textures[this.uuid]=rt),rt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(_e){if(this.mapping!==UVMapping)return _e;if(_e.applyMatrix3(this.matrix),_e.x<0||_e.x>1)switch(this.wrapS){case RepeatWrapping:_e.x=_e.x-Math.floor(_e.x);break;case ClampToEdgeWrapping:_e.x=_e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_e.x)%2)===1?_e.x=Math.ceil(_e.x)-_e.x:_e.x=_e.x-Math.floor(_e.x);break}if(_e.y<0||_e.y>1)switch(this.wrapT){case RepeatWrapping:_e.y=_e.y-Math.floor(_e.y);break;case ClampToEdgeWrapping:_e.y=_e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_e.y)%2)===1?_e.y=Math.ceil(_e.y)-_e.y:_e.y=_e.y-Math.floor(_e.y);break}return this.flipY&&(_e.y=1-_e.y),_e}set needsUpdate(_e){_e===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(_e=0,tt=0,rt=0,nt=1){Vector4.prototype.isVector4=!0,this.x=_e,this.y=tt,this.z=rt,this.w=nt}get width(){return this.z}set width(_e){this.z=_e}get height(){return this.w}set height(_e){this.w=_e}set(_e,tt,rt,nt){return this.x=_e,this.y=tt,this.z=rt,this.w=nt,this}setScalar(_e){return this.x=_e,this.y=_e,this.z=_e,this.w=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setZ(_e){return this.z=_e,this}setW(_e){return this.w=_e,this}setComponent(_e,tt){switch(_e){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;case 3:this.w=tt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(_e){return this.x=_e.x,this.y=_e.y,this.z=_e.z,this.w=_e.w!==void 0?_e.w:1,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this.z+=_e.z,this.w+=_e.w,this}addScalar(_e){return this.x+=_e,this.y+=_e,this.z+=_e,this.w+=_e,this}addVectors(_e,tt){return this.x=_e.x+tt.x,this.y=_e.y+tt.y,this.z=_e.z+tt.z,this.w=_e.w+tt.w,this}addScaledVector(_e,tt){return this.x+=_e.x*tt,this.y+=_e.y*tt,this.z+=_e.z*tt,this.w+=_e.w*tt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this.z-=_e.z,this.w-=_e.w,this}subScalar(_e){return this.x-=_e,this.y-=_e,this.z-=_e,this.w-=_e,this}subVectors(_e,tt){return this.x=_e.x-tt.x,this.y=_e.y-tt.y,this.z=_e.z-tt.z,this.w=_e.w-tt.w,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this.z*=_e.z,this.w*=_e.w,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this.z*=_e,this.w*=_e,this}applyMatrix4(_e){const tt=this.x,rt=this.y,nt=this.z,st=this.w,ot=_e.elements;return this.x=ot[0]*tt+ot[4]*rt+ot[8]*nt+ot[12]*st,this.y=ot[1]*tt+ot[5]*rt+ot[9]*nt+ot[13]*st,this.z=ot[2]*tt+ot[6]*rt+ot[10]*nt+ot[14]*st,this.w=ot[3]*tt+ot[7]*rt+ot[11]*nt+ot[15]*st,this}divideScalar(_e){return this.multiplyScalar(1/_e)}setAxisAngleFromQuaternion(_e){this.w=2*Math.acos(_e.w);const tt=Math.sqrt(1-_e.w*_e.w);return tt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=_e.x/tt,this.y=_e.y/tt,this.z=_e.z/tt),this}setAxisAngleFromRotationMatrix(_e){let tt,rt,nt,st;const lt=_e.elements,ft=lt[0],dt=lt[4],gt=lt[8],pt=lt[1],vt=lt[5],St=lt[9],At=lt[2],Tt=lt[6],Ct=lt[10];if(Math.abs(dt-pt)<.01&&Math.abs(gt-At)<.01&&Math.abs(St-Tt)<.01){if(Math.abs(dt+pt)<.1&&Math.abs(gt+At)<.1&&Math.abs(St+Tt)<.1&&Math.abs(ft+vt+Ct-3)<.1)return this.set(1,0,0,0),this;tt=Math.PI;const Et=(ft+1)/2,Rt=(vt+1)/2,Bt=(Ct+1)/2,Ft=(dt+pt)/4,Lt=(gt+At)/4,wt=(St+Tt)/4;return Et>Rt&&Et>Bt?Et<.01?(rt=0,nt=.707106781,st=.707106781):(rt=Math.sqrt(Et),nt=Ft/rt,st=Lt/rt):Rt>Bt?Rt<.01?(rt=.707106781,nt=0,st=.707106781):(nt=Math.sqrt(Rt),rt=Ft/nt,st=wt/nt):Bt<.01?(rt=.707106781,nt=.707106781,st=0):(st=Math.sqrt(Bt),rt=Lt/st,nt=wt/st),this.set(rt,nt,st,tt),this}let Mt=Math.sqrt((Tt-St)*(Tt-St)+(gt-At)*(gt-At)+(pt-dt)*(pt-dt));return Math.abs(Mt)<.001&&(Mt=1),this.x=(Tt-St)/Mt,this.y=(gt-At)/Mt,this.z=(pt-dt)/Mt,this.w=Math.acos((ft+vt+Ct-1)/2),this}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this.z=Math.min(this.z,_e.z),this.w=Math.min(this.w,_e.w),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this.z=Math.max(this.z,_e.z),this.w=Math.max(this.w,_e.w),this}clamp(_e,tt){return this.x=Math.max(_e.x,Math.min(tt.x,this.x)),this.y=Math.max(_e.y,Math.min(tt.y,this.y)),this.z=Math.max(_e.z,Math.min(tt.z,this.z)),this.w=Math.max(_e.w,Math.min(tt.w,this.w)),this}clampScalar(_e,tt){return this.x=Math.max(_e,Math.min(tt,this.x)),this.y=Math.max(_e,Math.min(tt,this.y)),this.z=Math.max(_e,Math.min(tt,this.z)),this.w=Math.max(_e,Math.min(tt,this.w)),this}clampLength(_e,tt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(_e,Math.min(tt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(_e){return this.x*_e.x+this.y*_e.y+this.z*_e.z+this.w*_e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,tt){return this.x+=(_e.x-this.x)*tt,this.y+=(_e.y-this.y)*tt,this.z+=(_e.z-this.z)*tt,this.w+=(_e.w-this.w)*tt,this}lerpVectors(_e,tt,rt){return this.x=_e.x+(tt.x-_e.x)*rt,this.y=_e.y+(tt.y-_e.y)*rt,this.z=_e.z+(tt.z-_e.z)*rt,this.w=_e.w+(tt.w-_e.w)*rt,this}equals(_e){return _e.x===this.x&&_e.y===this.y&&_e.z===this.z&&_e.w===this.w}fromArray(_e,tt=0){return this.x=_e[tt],this.y=_e[tt+1],this.z=_e[tt+2],this.w=_e[tt+3],this}toArray(_e=[],tt=0){return _e[tt]=this.x,_e[tt+1]=this.y,_e[tt+2]=this.z,_e[tt+3]=this.w,_e}fromBufferAttribute(_e,tt){return this.x=_e.getX(tt),this.y=_e.getY(tt),this.z=_e.getZ(tt),this.w=_e.getW(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(_e=1,tt=1,rt={}){super(),this.isWebGLRenderTarget=!0,this.width=_e,this.height=tt,this.depth=1,this.scissor=new Vector4(0,0,_e,tt),this.scissorTest=!1,this.viewport=new Vector4(0,0,_e,tt);const nt={width:_e,height:tt,depth:1};this.texture=new Texture(nt,rt.mapping,rt.wrapS,rt.wrapT,rt.magFilter,rt.minFilter,rt.format,rt.type,rt.anisotropy,rt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=rt.generateMipmaps!==void 0?rt.generateMipmaps:!1,this.texture.internalFormat=rt.internalFormat!==void 0?rt.internalFormat:null,this.texture.minFilter=rt.minFilter!==void 0?rt.minFilter:LinearFilter,this.depthBuffer=rt.depthBuffer!==void 0?rt.depthBuffer:!0,this.stencilBuffer=rt.stencilBuffer!==void 0?rt.stencilBuffer:!1,this.depthTexture=rt.depthTexture!==void 0?rt.depthTexture:null,this.samples=rt.samples!==void 0?rt.samples:0}setSize(_e,tt,rt=1){(this.width!==_e||this.height!==tt||this.depth!==rt)&&(this.width=_e,this.height=tt,this.depth=rt,this.texture.image.width=_e,this.texture.image.height=tt,this.texture.image.depth=rt,this.dispose()),this.viewport.set(0,0,_e,tt),this.scissor.set(0,0,_e,tt)}clone(){return new this.constructor().copy(this)}copy(_e){this.width=_e.width,this.height=_e.height,this.depth=_e.depth,this.viewport.copy(_e.viewport),this.texture=_e.texture.clone(),this.texture.isRenderTargetTexture=!0;const tt=Object.assign({},_e.texture.image);return this.texture.source=new Source(tt),this.depthBuffer=_e.depthBuffer,this.stencilBuffer=_e.stencilBuffer,_e.depthTexture!==null&&(this.depthTexture=_e.depthTexture.clone()),this.samples=_e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(_e=null,tt=1,rt=1,nt=1){super(null),this.isDataArrayTexture=!0,this.image={data:_e,width:tt,height:rt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(_e=1,tt=1,rt=1){super(_e,tt),this.isWebGLArrayRenderTarget=!0,this.depth=rt,this.texture=new DataArrayTexture(null,_e,tt,rt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(_e=null,tt=1,rt=1,nt=1){super(null),this.isData3DTexture=!0,this.image={data:_e,width:tt,height:rt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(_e=1,tt=1,rt=1){super(_e,tt),this.isWebGL3DRenderTarget=!0,this.depth=rt,this.texture=new Data3DTexture(null,_e,tt,rt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(_e=1,tt=1,rt=1,nt={}){super(_e,tt,nt),this.isWebGLMultipleRenderTargets=!0;const st=this.texture;this.texture=[];for(let ot=0;ot<rt;ot++)this.texture[ot]=st.clone(),this.texture[ot].isRenderTargetTexture=!0}setSize(_e,tt,rt=1){if(this.width!==_e||this.height!==tt||this.depth!==rt){this.width=_e,this.height=tt,this.depth=rt;for(let nt=0,st=this.texture.length;nt<st;nt++)this.texture[nt].image.width=_e,this.texture[nt].image.height=tt,this.texture[nt].image.depth=rt;this.dispose()}return this.viewport.set(0,0,_e,tt),this.scissor.set(0,0,_e,tt),this}copy(_e){this.dispose(),this.width=_e.width,this.height=_e.height,this.depth=_e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=_e.depthBuffer,this.stencilBuffer=_e.stencilBuffer,_e.depthTexture!==null&&(this.depthTexture=_e.depthTexture.clone()),this.texture.length=0;for(let tt=0,rt=_e.texture.length;tt<rt;tt++)this.texture[tt]=_e.texture[tt].clone(),this.texture[tt].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(_e=0,tt=0,rt=0,nt=1){this.isQuaternion=!0,this._x=_e,this._y=tt,this._z=rt,this._w=nt}static slerpFlat(_e,tt,rt,nt,st,ot,at){let lt=rt[nt+0],ft=rt[nt+1],dt=rt[nt+2],gt=rt[nt+3];const pt=st[ot+0],vt=st[ot+1],St=st[ot+2],At=st[ot+3];if(at===0){_e[tt+0]=lt,_e[tt+1]=ft,_e[tt+2]=dt,_e[tt+3]=gt;return}if(at===1){_e[tt+0]=pt,_e[tt+1]=vt,_e[tt+2]=St,_e[tt+3]=At;return}if(gt!==At||lt!==pt||ft!==vt||dt!==St){let Tt=1-at;const Ct=lt*pt+ft*vt+dt*St+gt*At,Mt=Ct>=0?1:-1,Et=1-Ct*Ct;if(Et>Number.EPSILON){const Bt=Math.sqrt(Et),Ft=Math.atan2(Bt,Ct*Mt);Tt=Math.sin(Tt*Ft)/Bt,at=Math.sin(at*Ft)/Bt}const Rt=at*Mt;if(lt=lt*Tt+pt*Rt,ft=ft*Tt+vt*Rt,dt=dt*Tt+St*Rt,gt=gt*Tt+At*Rt,Tt===1-at){const Bt=1/Math.sqrt(lt*lt+ft*ft+dt*dt+gt*gt);lt*=Bt,ft*=Bt,dt*=Bt,gt*=Bt}}_e[tt]=lt,_e[tt+1]=ft,_e[tt+2]=dt,_e[tt+3]=gt}static multiplyQuaternionsFlat(_e,tt,rt,nt,st,ot){const at=rt[nt],lt=rt[nt+1],ft=rt[nt+2],dt=rt[nt+3],gt=st[ot],pt=st[ot+1],vt=st[ot+2],St=st[ot+3];return _e[tt]=at*St+dt*gt+lt*vt-ft*pt,_e[tt+1]=lt*St+dt*pt+ft*gt-at*vt,_e[tt+2]=ft*St+dt*vt+at*pt-lt*gt,_e[tt+3]=dt*St-at*gt-lt*pt-ft*vt,_e}get x(){return this._x}set x(_e){this._x=_e,this._onChangeCallback()}get y(){return this._y}set y(_e){this._y=_e,this._onChangeCallback()}get z(){return this._z}set z(_e){this._z=_e,this._onChangeCallback()}get w(){return this._w}set w(_e){this._w=_e,this._onChangeCallback()}set(_e,tt,rt,nt){return this._x=_e,this._y=tt,this._z=rt,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(_e){return this._x=_e.x,this._y=_e.y,this._z=_e.z,this._w=_e.w,this._onChangeCallback(),this}setFromEuler(_e,tt){const rt=_e._x,nt=_e._y,st=_e._z,ot=_e._order,at=Math.cos,lt=Math.sin,ft=at(rt/2),dt=at(nt/2),gt=at(st/2),pt=lt(rt/2),vt=lt(nt/2),St=lt(st/2);switch(ot){case"XYZ":this._x=pt*dt*gt+ft*vt*St,this._y=ft*vt*gt-pt*dt*St,this._z=ft*dt*St+pt*vt*gt,this._w=ft*dt*gt-pt*vt*St;break;case"YXZ":this._x=pt*dt*gt+ft*vt*St,this._y=ft*vt*gt-pt*dt*St,this._z=ft*dt*St-pt*vt*gt,this._w=ft*dt*gt+pt*vt*St;break;case"ZXY":this._x=pt*dt*gt-ft*vt*St,this._y=ft*vt*gt+pt*dt*St,this._z=ft*dt*St+pt*vt*gt,this._w=ft*dt*gt-pt*vt*St;break;case"ZYX":this._x=pt*dt*gt-ft*vt*St,this._y=ft*vt*gt+pt*dt*St,this._z=ft*dt*St-pt*vt*gt,this._w=ft*dt*gt+pt*vt*St;break;case"YZX":this._x=pt*dt*gt+ft*vt*St,this._y=ft*vt*gt+pt*dt*St,this._z=ft*dt*St-pt*vt*gt,this._w=ft*dt*gt-pt*vt*St;break;case"XZY":this._x=pt*dt*gt-ft*vt*St,this._y=ft*vt*gt-pt*dt*St,this._z=ft*dt*St+pt*vt*gt,this._w=ft*dt*gt+pt*vt*St;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+ot)}return tt!==!1&&this._onChangeCallback(),this}setFromAxisAngle(_e,tt){const rt=tt/2,nt=Math.sin(rt);return this._x=_e.x*nt,this._y=_e.y*nt,this._z=_e.z*nt,this._w=Math.cos(rt),this._onChangeCallback(),this}setFromRotationMatrix(_e){const tt=_e.elements,rt=tt[0],nt=tt[4],st=tt[8],ot=tt[1],at=tt[5],lt=tt[9],ft=tt[2],dt=tt[6],gt=tt[10],pt=rt+at+gt;if(pt>0){const vt=.5/Math.sqrt(pt+1);this._w=.25/vt,this._x=(dt-lt)*vt,this._y=(st-ft)*vt,this._z=(ot-nt)*vt}else if(rt>at&&rt>gt){const vt=2*Math.sqrt(1+rt-at-gt);this._w=(dt-lt)/vt,this._x=.25*vt,this._y=(nt+ot)/vt,this._z=(st+ft)/vt}else if(at>gt){const vt=2*Math.sqrt(1+at-rt-gt);this._w=(st-ft)/vt,this._x=(nt+ot)/vt,this._y=.25*vt,this._z=(lt+dt)/vt}else{const vt=2*Math.sqrt(1+gt-rt-at);this._w=(ot-nt)/vt,this._x=(st+ft)/vt,this._y=(lt+dt)/vt,this._z=.25*vt}return this._onChangeCallback(),this}setFromUnitVectors(_e,tt){let rt=_e.dot(tt)+1;return rt<Number.EPSILON?(rt=0,Math.abs(_e.x)>Math.abs(_e.z)?(this._x=-_e.y,this._y=_e.x,this._z=0,this._w=rt):(this._x=0,this._y=-_e.z,this._z=_e.y,this._w=rt)):(this._x=_e.y*tt.z-_e.z*tt.y,this._y=_e.z*tt.x-_e.x*tt.z,this._z=_e.x*tt.y-_e.y*tt.x,this._w=rt),this.normalize()}angleTo(_e){return 2*Math.acos(Math.abs(clamp(this.dot(_e),-1,1)))}rotateTowards(_e,tt){const rt=this.angleTo(_e);if(rt===0)return this;const nt=Math.min(1,tt/rt);return this.slerp(_e,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(_e){return this._x*_e._x+this._y*_e._y+this._z*_e._z+this._w*_e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let _e=this.length();return _e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(_e=1/_e,this._x=this._x*_e,this._y=this._y*_e,this._z=this._z*_e,this._w=this._w*_e),this._onChangeCallback(),this}multiply(_e){return this.multiplyQuaternions(this,_e)}premultiply(_e){return this.multiplyQuaternions(_e,this)}multiplyQuaternions(_e,tt){const rt=_e._x,nt=_e._y,st=_e._z,ot=_e._w,at=tt._x,lt=tt._y,ft=tt._z,dt=tt._w;return this._x=rt*dt+ot*at+nt*ft-st*lt,this._y=nt*dt+ot*lt+st*at-rt*ft,this._z=st*dt+ot*ft+rt*lt-nt*at,this._w=ot*dt-rt*at-nt*lt-st*ft,this._onChangeCallback(),this}slerp(_e,tt){if(tt===0)return this;if(tt===1)return this.copy(_e);const rt=this._x,nt=this._y,st=this._z,ot=this._w;let at=ot*_e._w+rt*_e._x+nt*_e._y+st*_e._z;if(at<0?(this._w=-_e._w,this._x=-_e._x,this._y=-_e._y,this._z=-_e._z,at=-at):this.copy(_e),at>=1)return this._w=ot,this._x=rt,this._y=nt,this._z=st,this;const lt=1-at*at;if(lt<=Number.EPSILON){const vt=1-tt;return this._w=vt*ot+tt*this._w,this._x=vt*rt+tt*this._x,this._y=vt*nt+tt*this._y,this._z=vt*st+tt*this._z,this.normalize(),this._onChangeCallback(),this}const ft=Math.sqrt(lt),dt=Math.atan2(ft,at),gt=Math.sin((1-tt)*dt)/ft,pt=Math.sin(tt*dt)/ft;return this._w=ot*gt+this._w*pt,this._x=rt*gt+this._x*pt,this._y=nt*gt+this._y*pt,this._z=st*gt+this._z*pt,this._onChangeCallback(),this}slerpQuaternions(_e,tt,rt){return this.copy(_e).slerp(tt,rt)}random(){const _e=Math.random(),tt=Math.sqrt(1-_e),rt=Math.sqrt(_e),nt=2*Math.PI*Math.random(),st=2*Math.PI*Math.random();return this.set(tt*Math.cos(nt),rt*Math.sin(st),rt*Math.cos(st),tt*Math.sin(nt))}equals(_e){return _e._x===this._x&&_e._y===this._y&&_e._z===this._z&&_e._w===this._w}fromArray(_e,tt=0){return this._x=_e[tt],this._y=_e[tt+1],this._z=_e[tt+2],this._w=_e[tt+3],this._onChangeCallback(),this}toArray(_e=[],tt=0){return _e[tt]=this._x,_e[tt+1]=this._y,_e[tt+2]=this._z,_e[tt+3]=this._w,_e}fromBufferAttribute(_e,tt){return this._x=_e.getX(tt),this._y=_e.getY(tt),this._z=_e.getZ(tt),this._w=_e.getW(tt),this}_onChange(_e){return this._onChangeCallback=_e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(_e=0,tt=0,rt=0){Vector3.prototype.isVector3=!0,this.x=_e,this.y=tt,this.z=rt}set(_e,tt,rt){return rt===void 0&&(rt=this.z),this.x=_e,this.y=tt,this.z=rt,this}setScalar(_e){return this.x=_e,this.y=_e,this.z=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setZ(_e){return this.z=_e,this}setComponent(_e,tt){switch(_e){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(_e){return this.x=_e.x,this.y=_e.y,this.z=_e.z,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this.z+=_e.z,this}addScalar(_e){return this.x+=_e,this.y+=_e,this.z+=_e,this}addVectors(_e,tt){return this.x=_e.x+tt.x,this.y=_e.y+tt.y,this.z=_e.z+tt.z,this}addScaledVector(_e,tt){return this.x+=_e.x*tt,this.y+=_e.y*tt,this.z+=_e.z*tt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this.z-=_e.z,this}subScalar(_e){return this.x-=_e,this.y-=_e,this.z-=_e,this}subVectors(_e,tt){return this.x=_e.x-tt.x,this.y=_e.y-tt.y,this.z=_e.z-tt.z,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this.z*=_e.z,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this.z*=_e,this}multiplyVectors(_e,tt){return this.x=_e.x*tt.x,this.y=_e.y*tt.y,this.z=_e.z*tt.z,this}applyEuler(_e){return this.applyQuaternion(_quaternion$4.setFromEuler(_e))}applyAxisAngle(_e,tt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(_e,tt))}applyMatrix3(_e){const tt=this.x,rt=this.y,nt=this.z,st=_e.elements;return this.x=st[0]*tt+st[3]*rt+st[6]*nt,this.y=st[1]*tt+st[4]*rt+st[7]*nt,this.z=st[2]*tt+st[5]*rt+st[8]*nt,this}applyNormalMatrix(_e){return this.applyMatrix3(_e).normalize()}applyMatrix4(_e){const tt=this.x,rt=this.y,nt=this.z,st=_e.elements,ot=1/(st[3]*tt+st[7]*rt+st[11]*nt+st[15]);return this.x=(st[0]*tt+st[4]*rt+st[8]*nt+st[12])*ot,this.y=(st[1]*tt+st[5]*rt+st[9]*nt+st[13])*ot,this.z=(st[2]*tt+st[6]*rt+st[10]*nt+st[14])*ot,this}applyQuaternion(_e){const tt=this.x,rt=this.y,nt=this.z,st=_e.x,ot=_e.y,at=_e.z,lt=_e.w,ft=lt*tt+ot*nt-at*rt,dt=lt*rt+at*tt-st*nt,gt=lt*nt+st*rt-ot*tt,pt=-st*tt-ot*rt-at*nt;return this.x=ft*lt+pt*-st+dt*-at-gt*-ot,this.y=dt*lt+pt*-ot+gt*-st-ft*-at,this.z=gt*lt+pt*-at+ft*-ot-dt*-st,this}project(_e){return this.applyMatrix4(_e.matrixWorldInverse).applyMatrix4(_e.projectionMatrix)}unproject(_e){return this.applyMatrix4(_e.projectionMatrixInverse).applyMatrix4(_e.matrixWorld)}transformDirection(_e){const tt=this.x,rt=this.y,nt=this.z,st=_e.elements;return this.x=st[0]*tt+st[4]*rt+st[8]*nt,this.y=st[1]*tt+st[5]*rt+st[9]*nt,this.z=st[2]*tt+st[6]*rt+st[10]*nt,this.normalize()}divide(_e){return this.x/=_e.x,this.y/=_e.y,this.z/=_e.z,this}divideScalar(_e){return this.multiplyScalar(1/_e)}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this.z=Math.min(this.z,_e.z),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this.z=Math.max(this.z,_e.z),this}clamp(_e,tt){return this.x=Math.max(_e.x,Math.min(tt.x,this.x)),this.y=Math.max(_e.y,Math.min(tt.y,this.y)),this.z=Math.max(_e.z,Math.min(tt.z,this.z)),this}clampScalar(_e,tt){return this.x=Math.max(_e,Math.min(tt,this.x)),this.y=Math.max(_e,Math.min(tt,this.y)),this.z=Math.max(_e,Math.min(tt,this.z)),this}clampLength(_e,tt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(_e,Math.min(tt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(_e){return this.x*_e.x+this.y*_e.y+this.z*_e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,tt){return this.x+=(_e.x-this.x)*tt,this.y+=(_e.y-this.y)*tt,this.z+=(_e.z-this.z)*tt,this}lerpVectors(_e,tt,rt){return this.x=_e.x+(tt.x-_e.x)*rt,this.y=_e.y+(tt.y-_e.y)*rt,this.z=_e.z+(tt.z-_e.z)*rt,this}cross(_e){return this.crossVectors(this,_e)}crossVectors(_e,tt){const rt=_e.x,nt=_e.y,st=_e.z,ot=tt.x,at=tt.y,lt=tt.z;return this.x=nt*lt-st*at,this.y=st*ot-rt*lt,this.z=rt*at-nt*ot,this}projectOnVector(_e){const tt=_e.lengthSq();if(tt===0)return this.set(0,0,0);const rt=_e.dot(this)/tt;return this.copy(_e).multiplyScalar(rt)}projectOnPlane(_e){return _vector$c.copy(this).projectOnVector(_e),this.sub(_vector$c)}reflect(_e){return this.sub(_vector$c.copy(_e).multiplyScalar(2*this.dot(_e)))}angleTo(_e){const tt=Math.sqrt(this.lengthSq()*_e.lengthSq());if(tt===0)return Math.PI/2;const rt=this.dot(_e)/tt;return Math.acos(clamp(rt,-1,1))}distanceTo(_e){return Math.sqrt(this.distanceToSquared(_e))}distanceToSquared(_e){const tt=this.x-_e.x,rt=this.y-_e.y,nt=this.z-_e.z;return tt*tt+rt*rt+nt*nt}manhattanDistanceTo(_e){return Math.abs(this.x-_e.x)+Math.abs(this.y-_e.y)+Math.abs(this.z-_e.z)}setFromSpherical(_e){return this.setFromSphericalCoords(_e.radius,_e.phi,_e.theta)}setFromSphericalCoords(_e,tt,rt){const nt=Math.sin(tt)*_e;return this.x=nt*Math.sin(rt),this.y=Math.cos(tt)*_e,this.z=nt*Math.cos(rt),this}setFromCylindrical(_e){return this.setFromCylindricalCoords(_e.radius,_e.theta,_e.y)}setFromCylindricalCoords(_e,tt,rt){return this.x=_e*Math.sin(tt),this.y=rt,this.z=_e*Math.cos(tt),this}setFromMatrixPosition(_e){const tt=_e.elements;return this.x=tt[12],this.y=tt[13],this.z=tt[14],this}setFromMatrixScale(_e){const tt=this.setFromMatrixColumn(_e,0).length(),rt=this.setFromMatrixColumn(_e,1).length(),nt=this.setFromMatrixColumn(_e,2).length();return this.x=tt,this.y=rt,this.z=nt,this}setFromMatrixColumn(_e,tt){return this.fromArray(_e.elements,tt*4)}setFromMatrix3Column(_e,tt){return this.fromArray(_e.elements,tt*3)}setFromEuler(_e){return this.x=_e._x,this.y=_e._y,this.z=_e._z,this}equals(_e){return _e.x===this.x&&_e.y===this.y&&_e.z===this.z}fromArray(_e,tt=0){return this.x=_e[tt],this.y=_e[tt+1],this.z=_e[tt+2],this}toArray(_e=[],tt=0){return _e[tt]=this.x,_e[tt+1]=this.y,_e[tt+2]=this.z,_e}fromBufferAttribute(_e,tt){return this.x=_e.getX(tt),this.y=_e.getY(tt),this.z=_e.getZ(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const _e=(Math.random()-.5)*2,tt=Math.random()*Math.PI*2,rt=Math.sqrt(1-_e**2);return this.x=rt*Math.cos(tt),this.y=rt*Math.sin(tt),this.z=_e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(_e=new Vector3(1/0,1/0,1/0),tt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=_e,this.max=tt}set(_e,tt){return this.min.copy(_e),this.max.copy(tt),this}setFromArray(_e){let tt=1/0,rt=1/0,nt=1/0,st=-1/0,ot=-1/0,at=-1/0;for(let lt=0,ft=_e.length;lt<ft;lt+=3){const dt=_e[lt],gt=_e[lt+1],pt=_e[lt+2];dt<tt&&(tt=dt),gt<rt&&(rt=gt),pt<nt&&(nt=pt),dt>st&&(st=dt),gt>ot&&(ot=gt),pt>at&&(at=pt)}return this.min.set(tt,rt,nt),this.max.set(st,ot,at),this}setFromBufferAttribute(_e){let tt=1/0,rt=1/0,nt=1/0,st=-1/0,ot=-1/0,at=-1/0;for(let lt=0,ft=_e.count;lt<ft;lt++){const dt=_e.getX(lt),gt=_e.getY(lt),pt=_e.getZ(lt);dt<tt&&(tt=dt),gt<rt&&(rt=gt),pt<nt&&(nt=pt),dt>st&&(st=dt),gt>ot&&(ot=gt),pt>at&&(at=pt)}return this.min.set(tt,rt,nt),this.max.set(st,ot,at),this}setFromPoints(_e){this.makeEmpty();for(let tt=0,rt=_e.length;tt<rt;tt++)this.expandByPoint(_e[tt]);return this}setFromCenterAndSize(_e,tt){const rt=_vector$b.copy(tt).multiplyScalar(.5);return this.min.copy(_e).sub(rt),this.max.copy(_e).add(rt),this}setFromObject(_e,tt=!1){return this.makeEmpty(),this.expandByObject(_e,tt)}clone(){return new this.constructor().copy(this)}copy(_e){return this.min.copy(_e.min),this.max.copy(_e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(_e){return this.isEmpty()?_e.set(0,0,0):_e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_e){return this.isEmpty()?_e.set(0,0,0):_e.subVectors(this.max,this.min)}expandByPoint(_e){return this.min.min(_e),this.max.max(_e),this}expandByVector(_e){return this.min.sub(_e),this.max.add(_e),this}expandByScalar(_e){return this.min.addScalar(-_e),this.max.addScalar(_e),this}expandByObject(_e,tt=!1){_e.updateWorldMatrix(!1,!1);const rt=_e.geometry;if(rt!==void 0)if(tt&&rt.attributes!=null&&rt.attributes.position!==void 0){const st=rt.attributes.position;for(let ot=0,at=st.count;ot<at;ot++)_vector$b.fromBufferAttribute(st,ot).applyMatrix4(_e.matrixWorld),this.expandByPoint(_vector$b)}else rt.boundingBox===null&&rt.computeBoundingBox(),_box$3.copy(rt.boundingBox),_box$3.applyMatrix4(_e.matrixWorld),this.union(_box$3);const nt=_e.children;for(let st=0,ot=nt.length;st<ot;st++)this.expandByObject(nt[st],tt);return this}containsPoint(_e){return!(_e.x<this.min.x||_e.x>this.max.x||_e.y<this.min.y||_e.y>this.max.y||_e.z<this.min.z||_e.z>this.max.z)}containsBox(_e){return this.min.x<=_e.min.x&&_e.max.x<=this.max.x&&this.min.y<=_e.min.y&&_e.max.y<=this.max.y&&this.min.z<=_e.min.z&&_e.max.z<=this.max.z}getParameter(_e,tt){return tt.set((_e.x-this.min.x)/(this.max.x-this.min.x),(_e.y-this.min.y)/(this.max.y-this.min.y),(_e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(_e){return!(_e.max.x<this.min.x||_e.min.x>this.max.x||_e.max.y<this.min.y||_e.min.y>this.max.y||_e.max.z<this.min.z||_e.min.z>this.max.z)}intersectsSphere(_e){return this.clampPoint(_e.center,_vector$b),_vector$b.distanceToSquared(_e.center)<=_e.radius*_e.radius}intersectsPlane(_e){let tt,rt;return _e.normal.x>0?(tt=_e.normal.x*this.min.x,rt=_e.normal.x*this.max.x):(tt=_e.normal.x*this.max.x,rt=_e.normal.x*this.min.x),_e.normal.y>0?(tt+=_e.normal.y*this.min.y,rt+=_e.normal.y*this.max.y):(tt+=_e.normal.y*this.max.y,rt+=_e.normal.y*this.min.y),_e.normal.z>0?(tt+=_e.normal.z*this.min.z,rt+=_e.normal.z*this.max.z):(tt+=_e.normal.z*this.max.z,rt+=_e.normal.z*this.min.z),tt<=-_e.constant&&rt>=-_e.constant}intersectsTriangle(_e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(_e.a,_center),_v1$7.subVectors(_e.b,_center),_v2$4.subVectors(_e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let tt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(tt,_v0$2,_v1$7,_v2$4,_extents)||(tt=[1,0,0,0,1,0,0,0,1],!satForAxes(tt,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),tt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(tt,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(_e,tt){return tt.copy(_e).clamp(this.min,this.max)}distanceToPoint(_e){return _vector$b.copy(_e).clamp(this.min,this.max).sub(_e).length()}getBoundingSphere(_e){return this.getCenter(_e.center),_e.radius=this.getSize(_vector$b).length()*.5,_e}intersect(_e){return this.min.max(_e.min),this.max.min(_e.max),this.isEmpty()&&this.makeEmpty(),this}union(_e){return this.min.min(_e.min),this.max.max(_e.max),this}applyMatrix4(_e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(_e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(_e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(_e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(_e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(_e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(_e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(_e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(_e),this.setFromPoints(_points),this)}translate(_e){return this.min.add(_e),this.max.add(_e),this}equals(_e){return _e.min.equals(this.min)&&_e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(et,_e,tt,rt,nt){for(let st=0,ot=et.length-3;st<=ot;st+=3){_testAxis.fromArray(et,st);const at=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),lt=_e.dot(_testAxis),ft=tt.dot(_testAxis),dt=rt.dot(_testAxis);if(Math.max(-Math.max(lt,ft,dt),Math.min(lt,ft,dt))>at)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(_e=new Vector3,tt=-1){this.center=_e,this.radius=tt}set(_e,tt){return this.center.copy(_e),this.radius=tt,this}setFromPoints(_e,tt){const rt=this.center;tt!==void 0?rt.copy(tt):_box$2.setFromPoints(_e).getCenter(rt);let nt=0;for(let st=0,ot=_e.length;st<ot;st++)nt=Math.max(nt,rt.distanceToSquared(_e[st]));return this.radius=Math.sqrt(nt),this}copy(_e){return this.center.copy(_e.center),this.radius=_e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(_e){return _e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(_e){return _e.distanceTo(this.center)-this.radius}intersectsSphere(_e){const tt=this.radius+_e.radius;return _e.center.distanceToSquared(this.center)<=tt*tt}intersectsBox(_e){return _e.intersectsSphere(this)}intersectsPlane(_e){return Math.abs(_e.distanceToPoint(this.center))<=this.radius}clampPoint(_e,tt){const rt=this.center.distanceToSquared(_e);return tt.copy(_e),rt>this.radius*this.radius&&(tt.sub(this.center).normalize(),tt.multiplyScalar(this.radius).add(this.center)),tt}getBoundingBox(_e){return this.isEmpty()?(_e.makeEmpty(),_e):(_e.set(this.center,this.center),_e.expandByScalar(this.radius),_e)}applyMatrix4(_e){return this.center.applyMatrix4(_e),this.radius=this.radius*_e.getMaxScaleOnAxis(),this}translate(_e){return this.center.add(_e),this}expandByPoint(_e){if(this.isEmpty())return this.center.copy(_e),this.radius=0,this;_v1$6.subVectors(_e,this.center);const tt=_v1$6.lengthSq();if(tt>this.radius*this.radius){const rt=Math.sqrt(tt),nt=(rt-this.radius)*.5;this.center.addScaledVector(_v1$6,nt/rt),this.radius+=nt}return this}union(_e){return _e.isEmpty()?this:this.isEmpty()?(this.copy(_e),this):(this.center.equals(_e.center)===!0?this.radius=Math.max(this.radius,_e.radius):(_v2$3.subVectors(_e.center,this.center).setLength(_e.radius),this.expandByPoint(_v1$6.copy(_e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(_e.center).sub(_v2$3))),this)}equals(_e){return _e.center.equals(this.center)&&_e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(_e=new Vector3,tt=new Vector3(0,0,-1)){this.origin=_e,this.direction=tt}set(_e,tt){return this.origin.copy(_e),this.direction.copy(tt),this}copy(_e){return this.origin.copy(_e.origin),this.direction.copy(_e.direction),this}at(_e,tt){return tt.copy(this.direction).multiplyScalar(_e).add(this.origin)}lookAt(_e){return this.direction.copy(_e).sub(this.origin).normalize(),this}recast(_e){return this.origin.copy(this.at(_e,_vector$a)),this}closestPointToPoint(_e,tt){tt.subVectors(_e,this.origin);const rt=tt.dot(this.direction);return rt<0?tt.copy(this.origin):tt.copy(this.direction).multiplyScalar(rt).add(this.origin)}distanceToPoint(_e){return Math.sqrt(this.distanceSqToPoint(_e))}distanceSqToPoint(_e){const tt=_vector$a.subVectors(_e,this.origin).dot(this.direction);return tt<0?this.origin.distanceToSquared(_e):(_vector$a.copy(this.direction).multiplyScalar(tt).add(this.origin),_vector$a.distanceToSquared(_e))}distanceSqToSegment(_e,tt,rt,nt){_segCenter.copy(_e).add(tt).multiplyScalar(.5),_segDir.copy(tt).sub(_e).normalize(),_diff.copy(this.origin).sub(_segCenter);const st=_e.distanceTo(tt)*.5,ot=-this.direction.dot(_segDir),at=_diff.dot(this.direction),lt=-_diff.dot(_segDir),ft=_diff.lengthSq(),dt=Math.abs(1-ot*ot);let gt,pt,vt,St;if(dt>0)if(gt=ot*lt-at,pt=ot*at-lt,St=st*dt,gt>=0)if(pt>=-St)if(pt<=St){const At=1/dt;gt*=At,pt*=At,vt=gt*(gt+ot*pt+2*at)+pt*(ot*gt+pt+2*lt)+ft}else pt=st,gt=Math.max(0,-(ot*pt+at)),vt=-gt*gt+pt*(pt+2*lt)+ft;else pt=-st,gt=Math.max(0,-(ot*pt+at)),vt=-gt*gt+pt*(pt+2*lt)+ft;else pt<=-St?(gt=Math.max(0,-(-ot*st+at)),pt=gt>0?-st:Math.min(Math.max(-st,-lt),st),vt=-gt*gt+pt*(pt+2*lt)+ft):pt<=St?(gt=0,pt=Math.min(Math.max(-st,-lt),st),vt=pt*(pt+2*lt)+ft):(gt=Math.max(0,-(ot*st+at)),pt=gt>0?st:Math.min(Math.max(-st,-lt),st),vt=-gt*gt+pt*(pt+2*lt)+ft);else pt=ot>0?-st:st,gt=Math.max(0,-(ot*pt+at)),vt=-gt*gt+pt*(pt+2*lt)+ft;return rt&&rt.copy(this.direction).multiplyScalar(gt).add(this.origin),nt&&nt.copy(_segDir).multiplyScalar(pt).add(_segCenter),vt}intersectSphere(_e,tt){_vector$a.subVectors(_e.center,this.origin);const rt=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-rt*rt,st=_e.radius*_e.radius;if(nt>st)return null;const ot=Math.sqrt(st-nt),at=rt-ot,lt=rt+ot;return at<0&&lt<0?null:at<0?this.at(lt,tt):this.at(at,tt)}intersectsSphere(_e){return this.distanceSqToPoint(_e.center)<=_e.radius*_e.radius}distanceToPlane(_e){const tt=_e.normal.dot(this.direction);if(tt===0)return _e.distanceToPoint(this.origin)===0?0:null;const rt=-(this.origin.dot(_e.normal)+_e.constant)/tt;return rt>=0?rt:null}intersectPlane(_e,tt){const rt=this.distanceToPlane(_e);return rt===null?null:this.at(rt,tt)}intersectsPlane(_e){const tt=_e.distanceToPoint(this.origin);return tt===0||_e.normal.dot(this.direction)*tt<0}intersectBox(_e,tt){let rt,nt,st,ot,at,lt;const ft=1/this.direction.x,dt=1/this.direction.y,gt=1/this.direction.z,pt=this.origin;return ft>=0?(rt=(_e.min.x-pt.x)*ft,nt=(_e.max.x-pt.x)*ft):(rt=(_e.max.x-pt.x)*ft,nt=(_e.min.x-pt.x)*ft),dt>=0?(st=(_e.min.y-pt.y)*dt,ot=(_e.max.y-pt.y)*dt):(st=(_e.max.y-pt.y)*dt,ot=(_e.min.y-pt.y)*dt),rt>ot||st>nt||((st>rt||isNaN(rt))&&(rt=st),(ot<nt||isNaN(nt))&&(nt=ot),gt>=0?(at=(_e.min.z-pt.z)*gt,lt=(_e.max.z-pt.z)*gt):(at=(_e.max.z-pt.z)*gt,lt=(_e.min.z-pt.z)*gt),rt>lt||at>nt)||((at>rt||rt!==rt)&&(rt=at),(lt<nt||nt!==nt)&&(nt=lt),nt<0)?null:this.at(rt>=0?rt:nt,tt)}intersectsBox(_e){return this.intersectBox(_e,_vector$a)!==null}intersectTriangle(_e,tt,rt,nt,st){_edge1.subVectors(tt,_e),_edge2.subVectors(rt,_e),_normal$1.crossVectors(_edge1,_edge2);let ot=this.direction.dot(_normal$1),at;if(ot>0){if(nt)return null;at=1}else if(ot<0)at=-1,ot=-ot;else return null;_diff.subVectors(this.origin,_e);const lt=at*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(lt<0)return null;const ft=at*this.direction.dot(_edge1.cross(_diff));if(ft<0||lt+ft>ot)return null;const dt=-at*_diff.dot(_normal$1);return dt<0?null:this.at(dt/ot,st)}applyMatrix4(_e){return this.origin.applyMatrix4(_e),this.direction.transformDirection(_e),this}equals(_e){return _e.origin.equals(this.origin)&&_e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(_e,tt,rt,nt,st,ot,at,lt,ft,dt,gt,pt,vt,St,At,Tt){const Ct=this.elements;return Ct[0]=_e,Ct[4]=tt,Ct[8]=rt,Ct[12]=nt,Ct[1]=st,Ct[5]=ot,Ct[9]=at,Ct[13]=lt,Ct[2]=ft,Ct[6]=dt,Ct[10]=gt,Ct[14]=pt,Ct[3]=vt,Ct[7]=St,Ct[11]=At,Ct[15]=Tt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(_e){const tt=this.elements,rt=_e.elements;return tt[0]=rt[0],tt[1]=rt[1],tt[2]=rt[2],tt[3]=rt[3],tt[4]=rt[4],tt[5]=rt[5],tt[6]=rt[6],tt[7]=rt[7],tt[8]=rt[8],tt[9]=rt[9],tt[10]=rt[10],tt[11]=rt[11],tt[12]=rt[12],tt[13]=rt[13],tt[14]=rt[14],tt[15]=rt[15],this}copyPosition(_e){const tt=this.elements,rt=_e.elements;return tt[12]=rt[12],tt[13]=rt[13],tt[14]=rt[14],this}setFromMatrix3(_e){const tt=_e.elements;return this.set(tt[0],tt[3],tt[6],0,tt[1],tt[4],tt[7],0,tt[2],tt[5],tt[8],0,0,0,0,1),this}extractBasis(_e,tt,rt){return _e.setFromMatrixColumn(this,0),tt.setFromMatrixColumn(this,1),rt.setFromMatrixColumn(this,2),this}makeBasis(_e,tt,rt){return this.set(_e.x,tt.x,rt.x,0,_e.y,tt.y,rt.y,0,_e.z,tt.z,rt.z,0,0,0,0,1),this}extractRotation(_e){const tt=this.elements,rt=_e.elements,nt=1/_v1$5.setFromMatrixColumn(_e,0).length(),st=1/_v1$5.setFromMatrixColumn(_e,1).length(),ot=1/_v1$5.setFromMatrixColumn(_e,2).length();return tt[0]=rt[0]*nt,tt[1]=rt[1]*nt,tt[2]=rt[2]*nt,tt[3]=0,tt[4]=rt[4]*st,tt[5]=rt[5]*st,tt[6]=rt[6]*st,tt[7]=0,tt[8]=rt[8]*ot,tt[9]=rt[9]*ot,tt[10]=rt[10]*ot,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromEuler(_e){const tt=this.elements,rt=_e.x,nt=_e.y,st=_e.z,ot=Math.cos(rt),at=Math.sin(rt),lt=Math.cos(nt),ft=Math.sin(nt),dt=Math.cos(st),gt=Math.sin(st);if(_e.order==="XYZ"){const pt=ot*dt,vt=ot*gt,St=at*dt,At=at*gt;tt[0]=lt*dt,tt[4]=-lt*gt,tt[8]=ft,tt[1]=vt+St*ft,tt[5]=pt-At*ft,tt[9]=-at*lt,tt[2]=At-pt*ft,tt[6]=St+vt*ft,tt[10]=ot*lt}else if(_e.order==="YXZ"){const pt=lt*dt,vt=lt*gt,St=ft*dt,At=ft*gt;tt[0]=pt+At*at,tt[4]=St*at-vt,tt[8]=ot*ft,tt[1]=ot*gt,tt[5]=ot*dt,tt[9]=-at,tt[2]=vt*at-St,tt[6]=At+pt*at,tt[10]=ot*lt}else if(_e.order==="ZXY"){const pt=lt*dt,vt=lt*gt,St=ft*dt,At=ft*gt;tt[0]=pt-At*at,tt[4]=-ot*gt,tt[8]=St+vt*at,tt[1]=vt+St*at,tt[5]=ot*dt,tt[9]=At-pt*at,tt[2]=-ot*ft,tt[6]=at,tt[10]=ot*lt}else if(_e.order==="ZYX"){const pt=ot*dt,vt=ot*gt,St=at*dt,At=at*gt;tt[0]=lt*dt,tt[4]=St*ft-vt,tt[8]=pt*ft+At,tt[1]=lt*gt,tt[5]=At*ft+pt,tt[9]=vt*ft-St,tt[2]=-ft,tt[6]=at*lt,tt[10]=ot*lt}else if(_e.order==="YZX"){const pt=ot*lt,vt=ot*ft,St=at*lt,At=at*ft;tt[0]=lt*dt,tt[4]=At-pt*gt,tt[8]=St*gt+vt,tt[1]=gt,tt[5]=ot*dt,tt[9]=-at*dt,tt[2]=-ft*dt,tt[6]=vt*gt+St,tt[10]=pt-At*gt}else if(_e.order==="XZY"){const pt=ot*lt,vt=ot*ft,St=at*lt,At=at*ft;tt[0]=lt*dt,tt[4]=-gt,tt[8]=ft*dt,tt[1]=pt*gt+At,tt[5]=ot*dt,tt[9]=vt*gt-St,tt[2]=St*gt-vt,tt[6]=at*dt,tt[10]=At*gt+pt}return tt[3]=0,tt[7]=0,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromQuaternion(_e){return this.compose(_zero,_e,_one)}lookAt(_e,tt,rt){const nt=this.elements;return _z.subVectors(_e,tt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(rt,_z),_x.lengthSq()===0&&(Math.abs(rt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(rt,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply(_e){return this.multiplyMatrices(this,_e)}premultiply(_e){return this.multiplyMatrices(_e,this)}multiplyMatrices(_e,tt){const rt=_e.elements,nt=tt.elements,st=this.elements,ot=rt[0],at=rt[4],lt=rt[8],ft=rt[12],dt=rt[1],gt=rt[5],pt=rt[9],vt=rt[13],St=rt[2],At=rt[6],Tt=rt[10],Ct=rt[14],Mt=rt[3],Et=rt[7],Rt=rt[11],Bt=rt[15],Ft=nt[0],Lt=nt[4],wt=nt[8],Dt=nt[12],Ot=nt[1],Ut=nt[5],zt=nt[9],tr=nt[13],jt=nt[2],Kt=nt[6],qt=nt[10],er=nt[14],kt=nt[3],Vt=nt[7],Zt=nt[11],Wt=nt[15];return st[0]=ot*Ft+at*Ot+lt*jt+ft*kt,st[4]=ot*Lt+at*Ut+lt*Kt+ft*Vt,st[8]=ot*wt+at*zt+lt*qt+ft*Zt,st[12]=ot*Dt+at*tr+lt*er+ft*Wt,st[1]=dt*Ft+gt*Ot+pt*jt+vt*kt,st[5]=dt*Lt+gt*Ut+pt*Kt+vt*Vt,st[9]=dt*wt+gt*zt+pt*qt+vt*Zt,st[13]=dt*Dt+gt*tr+pt*er+vt*Wt,st[2]=St*Ft+At*Ot+Tt*jt+Ct*kt,st[6]=St*Lt+At*Ut+Tt*Kt+Ct*Vt,st[10]=St*wt+At*zt+Tt*qt+Ct*Zt,st[14]=St*Dt+At*tr+Tt*er+Ct*Wt,st[3]=Mt*Ft+Et*Ot+Rt*jt+Bt*kt,st[7]=Mt*Lt+Et*Ut+Rt*Kt+Bt*Vt,st[11]=Mt*wt+Et*zt+Rt*qt+Bt*Zt,st[15]=Mt*Dt+Et*tr+Rt*er+Bt*Wt,this}multiplyScalar(_e){const tt=this.elements;return tt[0]*=_e,tt[4]*=_e,tt[8]*=_e,tt[12]*=_e,tt[1]*=_e,tt[5]*=_e,tt[9]*=_e,tt[13]*=_e,tt[2]*=_e,tt[6]*=_e,tt[10]*=_e,tt[14]*=_e,tt[3]*=_e,tt[7]*=_e,tt[11]*=_e,tt[15]*=_e,this}determinant(){const _e=this.elements,tt=_e[0],rt=_e[4],nt=_e[8],st=_e[12],ot=_e[1],at=_e[5],lt=_e[9],ft=_e[13],dt=_e[2],gt=_e[6],pt=_e[10],vt=_e[14],St=_e[3],At=_e[7],Tt=_e[11],Ct=_e[15];return St*(+st*lt*gt-nt*ft*gt-st*at*pt+rt*ft*pt+nt*at*vt-rt*lt*vt)+At*(+tt*lt*vt-tt*ft*pt+st*ot*pt-nt*ot*vt+nt*ft*dt-st*lt*dt)+Tt*(+tt*ft*gt-tt*at*vt-st*ot*gt+rt*ot*vt+st*at*dt-rt*ft*dt)+Ct*(-nt*at*dt-tt*lt*gt+tt*at*pt+nt*ot*gt-rt*ot*pt+rt*lt*dt)}transpose(){const _e=this.elements;let tt;return tt=_e[1],_e[1]=_e[4],_e[4]=tt,tt=_e[2],_e[2]=_e[8],_e[8]=tt,tt=_e[6],_e[6]=_e[9],_e[9]=tt,tt=_e[3],_e[3]=_e[12],_e[12]=tt,tt=_e[7],_e[7]=_e[13],_e[13]=tt,tt=_e[11],_e[11]=_e[14],_e[14]=tt,this}setPosition(_e,tt,rt){const nt=this.elements;return _e.isVector3?(nt[12]=_e.x,nt[13]=_e.y,nt[14]=_e.z):(nt[12]=_e,nt[13]=tt,nt[14]=rt),this}invert(){const _e=this.elements,tt=_e[0],rt=_e[1],nt=_e[2],st=_e[3],ot=_e[4],at=_e[5],lt=_e[6],ft=_e[7],dt=_e[8],gt=_e[9],pt=_e[10],vt=_e[11],St=_e[12],At=_e[13],Tt=_e[14],Ct=_e[15],Mt=gt*Tt*ft-At*pt*ft+At*lt*vt-at*Tt*vt-gt*lt*Ct+at*pt*Ct,Et=St*pt*ft-dt*Tt*ft-St*lt*vt+ot*Tt*vt+dt*lt*Ct-ot*pt*Ct,Rt=dt*At*ft-St*gt*ft+St*at*vt-ot*At*vt-dt*at*Ct+ot*gt*Ct,Bt=St*gt*lt-dt*At*lt-St*at*pt+ot*At*pt+dt*at*Tt-ot*gt*Tt,Ft=tt*Mt+rt*Et+nt*Rt+st*Bt;if(Ft===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Lt=1/Ft;return _e[0]=Mt*Lt,_e[1]=(At*pt*st-gt*Tt*st-At*nt*vt+rt*Tt*vt+gt*nt*Ct-rt*pt*Ct)*Lt,_e[2]=(at*Tt*st-At*lt*st+At*nt*ft-rt*Tt*ft-at*nt*Ct+rt*lt*Ct)*Lt,_e[3]=(gt*lt*st-at*pt*st-gt*nt*ft+rt*pt*ft+at*nt*vt-rt*lt*vt)*Lt,_e[4]=Et*Lt,_e[5]=(dt*Tt*st-St*pt*st+St*nt*vt-tt*Tt*vt-dt*nt*Ct+tt*pt*Ct)*Lt,_e[6]=(St*lt*st-ot*Tt*st-St*nt*ft+tt*Tt*ft+ot*nt*Ct-tt*lt*Ct)*Lt,_e[7]=(ot*pt*st-dt*lt*st+dt*nt*ft-tt*pt*ft-ot*nt*vt+tt*lt*vt)*Lt,_e[8]=Rt*Lt,_e[9]=(St*gt*st-dt*At*st-St*rt*vt+tt*At*vt+dt*rt*Ct-tt*gt*Ct)*Lt,_e[10]=(ot*At*st-St*at*st+St*rt*ft-tt*At*ft-ot*rt*Ct+tt*at*Ct)*Lt,_e[11]=(dt*at*st-ot*gt*st-dt*rt*ft+tt*gt*ft+ot*rt*vt-tt*at*vt)*Lt,_e[12]=Bt*Lt,_e[13]=(dt*At*nt-St*gt*nt+St*rt*pt-tt*At*pt-dt*rt*Tt+tt*gt*Tt)*Lt,_e[14]=(St*at*nt-ot*At*nt-St*rt*lt+tt*At*lt+ot*rt*Tt-tt*at*Tt)*Lt,_e[15]=(ot*gt*nt-dt*at*nt+dt*rt*lt-tt*gt*lt-ot*rt*pt+tt*at*pt)*Lt,this}scale(_e){const tt=this.elements,rt=_e.x,nt=_e.y,st=_e.z;return tt[0]*=rt,tt[4]*=nt,tt[8]*=st,tt[1]*=rt,tt[5]*=nt,tt[9]*=st,tt[2]*=rt,tt[6]*=nt,tt[10]*=st,tt[3]*=rt,tt[7]*=nt,tt[11]*=st,this}getMaxScaleOnAxis(){const _e=this.elements,tt=_e[0]*_e[0]+_e[1]*_e[1]+_e[2]*_e[2],rt=_e[4]*_e[4]+_e[5]*_e[5]+_e[6]*_e[6],nt=_e[8]*_e[8]+_e[9]*_e[9]+_e[10]*_e[10];return Math.sqrt(Math.max(tt,rt,nt))}makeTranslation(_e,tt,rt){return this.set(1,0,0,_e,0,1,0,tt,0,0,1,rt,0,0,0,1),this}makeRotationX(_e){const tt=Math.cos(_e),rt=Math.sin(_e);return this.set(1,0,0,0,0,tt,-rt,0,0,rt,tt,0,0,0,0,1),this}makeRotationY(_e){const tt=Math.cos(_e),rt=Math.sin(_e);return this.set(tt,0,rt,0,0,1,0,0,-rt,0,tt,0,0,0,0,1),this}makeRotationZ(_e){const tt=Math.cos(_e),rt=Math.sin(_e);return this.set(tt,-rt,0,0,rt,tt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_e,tt){const rt=Math.cos(tt),nt=Math.sin(tt),st=1-rt,ot=_e.x,at=_e.y,lt=_e.z,ft=st*ot,dt=st*at;return this.set(ft*ot+rt,ft*at-nt*lt,ft*lt+nt*at,0,ft*at+nt*lt,dt*at+rt,dt*lt-nt*ot,0,ft*lt-nt*at,dt*lt+nt*ot,st*lt*lt+rt,0,0,0,0,1),this}makeScale(_e,tt,rt){return this.set(_e,0,0,0,0,tt,0,0,0,0,rt,0,0,0,0,1),this}makeShear(_e,tt,rt,nt,st,ot){return this.set(1,rt,st,0,_e,1,ot,0,tt,nt,1,0,0,0,0,1),this}compose(_e,tt,rt){const nt=this.elements,st=tt._x,ot=tt._y,at=tt._z,lt=tt._w,ft=st+st,dt=ot+ot,gt=at+at,pt=st*ft,vt=st*dt,St=st*gt,At=ot*dt,Tt=ot*gt,Ct=at*gt,Mt=lt*ft,Et=lt*dt,Rt=lt*gt,Bt=rt.x,Ft=rt.y,Lt=rt.z;return nt[0]=(1-(At+Ct))*Bt,nt[1]=(vt+Rt)*Bt,nt[2]=(St-Et)*Bt,nt[3]=0,nt[4]=(vt-Rt)*Ft,nt[5]=(1-(pt+Ct))*Ft,nt[6]=(Tt+Mt)*Ft,nt[7]=0,nt[8]=(St+Et)*Lt,nt[9]=(Tt-Mt)*Lt,nt[10]=(1-(pt+At))*Lt,nt[11]=0,nt[12]=_e.x,nt[13]=_e.y,nt[14]=_e.z,nt[15]=1,this}decompose(_e,tt,rt){const nt=this.elements;let st=_v1$5.set(nt[0],nt[1],nt[2]).length();const ot=_v1$5.set(nt[4],nt[5],nt[6]).length(),at=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(st=-st),_e.x=nt[12],_e.y=nt[13],_e.z=nt[14],_m1$2.copy(this);const ft=1/st,dt=1/ot,gt=1/at;return _m1$2.elements[0]*=ft,_m1$2.elements[1]*=ft,_m1$2.elements[2]*=ft,_m1$2.elements[4]*=dt,_m1$2.elements[5]*=dt,_m1$2.elements[6]*=dt,_m1$2.elements[8]*=gt,_m1$2.elements[9]*=gt,_m1$2.elements[10]*=gt,tt.setFromRotationMatrix(_m1$2),rt.x=st,rt.y=ot,rt.z=at,this}makePerspective(_e,tt,rt,nt,st,ot){const at=this.elements,lt=2*st/(tt-_e),ft=2*st/(rt-nt),dt=(tt+_e)/(tt-_e),gt=(rt+nt)/(rt-nt),pt=-(ot+st)/(ot-st),vt=-2*ot*st/(ot-st);return at[0]=lt,at[4]=0,at[8]=dt,at[12]=0,at[1]=0,at[5]=ft,at[9]=gt,at[13]=0,at[2]=0,at[6]=0,at[10]=pt,at[14]=vt,at[3]=0,at[7]=0,at[11]=-1,at[15]=0,this}makeOrthographic(_e,tt,rt,nt,st,ot){const at=this.elements,lt=1/(tt-_e),ft=1/(rt-nt),dt=1/(ot-st),gt=(tt+_e)*lt,pt=(rt+nt)*ft,vt=(ot+st)*dt;return at[0]=2*lt,at[4]=0,at[8]=0,at[12]=-gt,at[1]=0,at[5]=2*ft,at[9]=0,at[13]=-pt,at[2]=0,at[6]=0,at[10]=-2*dt,at[14]=-vt,at[3]=0,at[7]=0,at[11]=0,at[15]=1,this}equals(_e){const tt=this.elements,rt=_e.elements;for(let nt=0;nt<16;nt++)if(tt[nt]!==rt[nt])return!1;return!0}fromArray(_e,tt=0){for(let rt=0;rt<16;rt++)this.elements[rt]=_e[rt+tt];return this}toArray(_e=[],tt=0){const rt=this.elements;return _e[tt]=rt[0],_e[tt+1]=rt[1],_e[tt+2]=rt[2],_e[tt+3]=rt[3],_e[tt+4]=rt[4],_e[tt+5]=rt[5],_e[tt+6]=rt[6],_e[tt+7]=rt[7],_e[tt+8]=rt[8],_e[tt+9]=rt[9],_e[tt+10]=rt[10],_e[tt+11]=rt[11],_e[tt+12]=rt[12],_e[tt+13]=rt[13],_e[tt+14]=rt[14],_e[tt+15]=rt[15],_e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(_e=0,tt=0,rt=0,nt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=_e,this._y=tt,this._z=rt,this._order=nt}get x(){return this._x}set x(_e){this._x=_e,this._onChangeCallback()}get y(){return this._y}set y(_e){this._y=_e,this._onChangeCallback()}get z(){return this._z}set z(_e){this._z=_e,this._onChangeCallback()}get order(){return this._order}set order(_e){this._order=_e,this._onChangeCallback()}set(_e,tt,rt,nt=this._order){return this._x=_e,this._y=tt,this._z=rt,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(_e){return this._x=_e._x,this._y=_e._y,this._z=_e._z,this._order=_e._order,this._onChangeCallback(),this}setFromRotationMatrix(_e,tt=this._order,rt=!0){const nt=_e.elements,st=nt[0],ot=nt[4],at=nt[8],lt=nt[1],ft=nt[5],dt=nt[9],gt=nt[2],pt=nt[6],vt=nt[10];switch(tt){case"XYZ":this._y=Math.asin(clamp(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(-dt,vt),this._z=Math.atan2(-ot,st)):(this._x=Math.atan2(pt,ft),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(dt,-1,1)),Math.abs(dt)<.9999999?(this._y=Math.atan2(at,vt),this._z=Math.atan2(lt,ft)):(this._y=Math.atan2(-gt,st),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(pt,-1,1)),Math.abs(pt)<.9999999?(this._y=Math.atan2(-gt,vt),this._z=Math.atan2(-ot,ft)):(this._y=0,this._z=Math.atan2(lt,st));break;case"ZYX":this._y=Math.asin(-clamp(gt,-1,1)),Math.abs(gt)<.9999999?(this._x=Math.atan2(pt,vt),this._z=Math.atan2(lt,st)):(this._x=0,this._z=Math.atan2(-ot,ft));break;case"YZX":this._z=Math.asin(clamp(lt,-1,1)),Math.abs(lt)<.9999999?(this._x=Math.atan2(-dt,ft),this._y=Math.atan2(-gt,st)):(this._x=0,this._y=Math.atan2(at,vt));break;case"XZY":this._z=Math.asin(-clamp(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(pt,ft),this._y=Math.atan2(at,st)):(this._x=Math.atan2(-dt,vt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+tt)}return this._order=tt,rt===!0&&this._onChangeCallback(),this}setFromQuaternion(_e,tt,rt){return _matrix$1.makeRotationFromQuaternion(_e),this.setFromRotationMatrix(_matrix$1,tt,rt)}setFromVector3(_e,tt=this._order){return this.set(_e.x,_e.y,_e.z,tt)}reorder(_e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,_e)}equals(_e){return _e._x===this._x&&_e._y===this._y&&_e._z===this._z&&_e._order===this._order}fromArray(_e){return this._x=_e[0],this._y=_e[1],this._z=_e[2],_e[3]!==void 0&&(this._order=_e[3]),this._onChangeCallback(),this}toArray(_e=[],tt=0){return _e[tt]=this._x,_e[tt+1]=this._y,_e[tt+2]=this._z,_e[tt+3]=this._order,_e}_onChange(_e){return this._onChangeCallback=_e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(_e){this.mask=(1<<_e|0)>>>0}enable(_e){this.mask|=1<<_e|0}enableAll(){this.mask=-1}toggle(_e){this.mask^=1<<_e|0}disable(_e){this.mask&=~(1<<_e|0)}disableAll(){this.mask=0}test(_e){return(this.mask&_e.mask)!==0}isEnabled(_e){return(this.mask&(1<<_e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const _e=new Vector3,tt=new Euler,rt=new Quaternion,nt=new Vector3(1,1,1);function st(){rt.setFromEuler(tt,!1)}function ot(){tt.setFromQuaternion(rt,void 0,!1)}tt._onChange(st),rt._onChange(ot),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_e},rotation:{configurable:!0,enumerable:!0,value:tt},quaternion:{configurable:!0,enumerable:!0,value:rt},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(_e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(_e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(_e){return this.quaternion.premultiply(_e),this}setRotationFromAxisAngle(_e,tt){this.quaternion.setFromAxisAngle(_e,tt)}setRotationFromEuler(_e){this.quaternion.setFromEuler(_e,!0)}setRotationFromMatrix(_e){this.quaternion.setFromRotationMatrix(_e)}setRotationFromQuaternion(_e){this.quaternion.copy(_e)}rotateOnAxis(_e,tt){return _q1.setFromAxisAngle(_e,tt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(_e,tt){return _q1.setFromAxisAngle(_e,tt),this.quaternion.premultiply(_q1),this}rotateX(_e){return this.rotateOnAxis(_xAxis,_e)}rotateY(_e){return this.rotateOnAxis(_yAxis,_e)}rotateZ(_e){return this.rotateOnAxis(_zAxis,_e)}translateOnAxis(_e,tt){return _v1$4.copy(_e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(tt)),this}translateX(_e){return this.translateOnAxis(_xAxis,_e)}translateY(_e){return this.translateOnAxis(_yAxis,_e)}translateZ(_e){return this.translateOnAxis(_zAxis,_e)}localToWorld(_e){return this.updateWorldMatrix(!0,!1),_e.applyMatrix4(this.matrixWorld)}worldToLocal(_e){return this.updateWorldMatrix(!0,!1),_e.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(_e,tt,rt){_e.isVector3?_target.copy(_e):_target.set(_e,tt,rt);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),nt&&(_m1$1.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(_e){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.add(arguments[tt]);return this}return _e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",_e),this):(_e&&_e.isObject3D?(_e.parent!==null&&_e.parent.remove(_e),_e.parent=this,this.children.push(_e),_e.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",_e),this)}remove(_e){if(arguments.length>1){for(let rt=0;rt<arguments.length;rt++)this.remove(arguments[rt]);return this}const tt=this.children.indexOf(_e);return tt!==-1&&(_e.parent=null,this.children.splice(tt,1),_e.dispatchEvent(_removedEvent)),this}removeFromParent(){const _e=this.parent;return _e!==null&&_e.remove(this),this}clear(){for(let _e=0;_e<this.children.length;_e++){const tt=this.children[_e];tt.parent=null,tt.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(_e){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),_e.parent!==null&&(_e.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(_e.parent.matrixWorld)),_e.applyMatrix4(_m1$1),this.add(_e),_e.updateWorldMatrix(!1,!0),this}getObjectById(_e){return this.getObjectByProperty("id",_e)}getObjectByName(_e){return this.getObjectByProperty("name",_e)}getObjectByProperty(_e,tt){if(this[_e]===tt)return this;for(let rt=0,nt=this.children.length;rt<nt;rt++){const ot=this.children[rt].getObjectByProperty(_e,tt);if(ot!==void 0)return ot}}getObjectsByProperty(_e,tt){let rt=[];this[_e]===tt&&rt.push(this);for(let nt=0,st=this.children.length;nt<st;nt++){const ot=this.children[nt].getObjectsByProperty(_e,tt);ot.length>0&&(rt=rt.concat(ot))}return rt}getWorldPosition(_e){return this.updateWorldMatrix(!0,!1),_e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(_e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_e,_scale$2),_e}getWorldScale(_e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,_e),_e}getWorldDirection(_e){this.updateWorldMatrix(!0,!1);const tt=this.matrixWorld.elements;return _e.set(tt[8],tt[9],tt[10]).normalize()}raycast(){}traverse(_e){_e(this);const tt=this.children;for(let rt=0,nt=tt.length;rt<nt;rt++)tt[rt].traverse(_e)}traverseVisible(_e){if(this.visible===!1)return;_e(this);const tt=this.children;for(let rt=0,nt=tt.length;rt<nt;rt++)tt[rt].traverseVisible(_e)}traverseAncestors(_e){const tt=this.parent;tt!==null&&(_e(tt),tt.traverseAncestors(_e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(_e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,_e=!0);const tt=this.children;for(let rt=0,nt=tt.length;rt<nt;rt++){const st=tt[rt];(st.matrixWorldAutoUpdate===!0||_e===!0)&&st.updateMatrixWorld(_e)}}updateWorldMatrix(_e,tt){const rt=this.parent;if(_e===!0&&rt!==null&&rt.matrixWorldAutoUpdate===!0&&rt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),tt===!0){const nt=this.children;for(let st=0,ot=nt.length;st<ot;st++){const at=nt[st];at.matrixWorldAutoUpdate===!0&&at.updateWorldMatrix(!1,!0)}}}toJSON(_e){const tt=_e===void 0||typeof _e=="string",rt={};tt&&(_e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},rt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON()));function st(at,lt){return at[lt.uuid]===void 0&&(at[lt.uuid]=lt.toJSON(_e)),lt.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON(_e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(nt.environment=this.environment.toJSON(_e).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=st(_e.geometries,this.geometry);const at=this.geometry.parameters;if(at!==void 0&&at.shapes!==void 0){const lt=at.shapes;if(Array.isArray(lt))for(let ft=0,dt=lt.length;ft<dt;ft++){const gt=lt[ft];st(_e.shapes,gt)}else st(_e.shapes,lt)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(st(_e.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const at=[];for(let lt=0,ft=this.material.length;lt<ft;lt++)at.push(st(_e.materials,this.material[lt]));nt.material=at}else nt.material=st(_e.materials,this.material);if(this.children.length>0){nt.children=[];for(let at=0;at<this.children.length;at++)nt.children.push(this.children[at].toJSON(_e).object)}if(this.animations.length>0){nt.animations=[];for(let at=0;at<this.animations.length;at++){const lt=this.animations[at];nt.animations.push(st(_e.animations,lt))}}if(tt){const at=ot(_e.geometries),lt=ot(_e.materials),ft=ot(_e.textures),dt=ot(_e.images),gt=ot(_e.shapes),pt=ot(_e.skeletons),vt=ot(_e.animations),St=ot(_e.nodes);at.length>0&&(rt.geometries=at),lt.length>0&&(rt.materials=lt),ft.length>0&&(rt.textures=ft),dt.length>0&&(rt.images=dt),gt.length>0&&(rt.shapes=gt),pt.length>0&&(rt.skeletons=pt),vt.length>0&&(rt.animations=vt),St.length>0&&(rt.nodes=St)}return rt.object=nt,rt;function ot(at){const lt=[];for(const ft in at){const dt=at[ft];delete dt.metadata,lt.push(dt)}return lt}}clone(_e){return new this.constructor().copy(this,_e)}copy(_e,tt=!0){if(this.name=_e.name,this.up.copy(_e.up),this.position.copy(_e.position),this.rotation.order=_e.rotation.order,this.quaternion.copy(_e.quaternion),this.scale.copy(_e.scale),this.matrix.copy(_e.matrix),this.matrixWorld.copy(_e.matrixWorld),this.matrixAutoUpdate=_e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=_e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=_e.matrixWorldAutoUpdate,this.layers.mask=_e.layers.mask,this.visible=_e.visible,this.castShadow=_e.castShadow,this.receiveShadow=_e.receiveShadow,this.frustumCulled=_e.frustumCulled,this.renderOrder=_e.renderOrder,this.userData=JSON.parse(JSON.stringify(_e.userData)),tt===!0)for(let rt=0;rt<_e.children.length;rt++){const nt=_e.children[rt];this.add(nt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(_e=new Vector3,tt=new Vector3,rt=new Vector3){this.a=_e,this.b=tt,this.c=rt}static getNormal(_e,tt,rt,nt){nt.subVectors(rt,tt),_v0$1.subVectors(_e,tt),nt.cross(_v0$1);const st=nt.lengthSq();return st>0?nt.multiplyScalar(1/Math.sqrt(st)):nt.set(0,0,0)}static getBarycoord(_e,tt,rt,nt,st){_v0$1.subVectors(nt,tt),_v1$3.subVectors(rt,tt),_v2$2.subVectors(_e,tt);const ot=_v0$1.dot(_v0$1),at=_v0$1.dot(_v1$3),lt=_v0$1.dot(_v2$2),ft=_v1$3.dot(_v1$3),dt=_v1$3.dot(_v2$2),gt=ot*ft-at*at;if(gt===0)return st.set(-2,-1,-1);const pt=1/gt,vt=(ft*lt-at*dt)*pt,St=(ot*dt-at*lt)*pt;return st.set(1-vt-St,St,vt)}static containsPoint(_e,tt,rt,nt){return this.getBarycoord(_e,tt,rt,nt,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(_e,tt,rt,nt,st,ot,at,lt){return this.getBarycoord(_e,tt,rt,nt,_v3$1),lt.set(0,0),lt.addScaledVector(st,_v3$1.x),lt.addScaledVector(ot,_v3$1.y),lt.addScaledVector(at,_v3$1.z),lt}static isFrontFacing(_e,tt,rt,nt){return _v0$1.subVectors(rt,tt),_v1$3.subVectors(_e,tt),_v0$1.cross(_v1$3).dot(nt)<0}set(_e,tt,rt){return this.a.copy(_e),this.b.copy(tt),this.c.copy(rt),this}setFromPointsAndIndices(_e,tt,rt,nt){return this.a.copy(_e[tt]),this.b.copy(_e[rt]),this.c.copy(_e[nt]),this}setFromAttributeAndIndices(_e,tt,rt,nt){return this.a.fromBufferAttribute(_e,tt),this.b.fromBufferAttribute(_e,rt),this.c.fromBufferAttribute(_e,nt),this}clone(){return new this.constructor().copy(this)}copy(_e){return this.a.copy(_e.a),this.b.copy(_e.b),this.c.copy(_e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(_e){return _e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(_e){return Triangle.getNormal(this.a,this.b,this.c,_e)}getPlane(_e){return _e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(_e,tt){return Triangle.getBarycoord(_e,this.a,this.b,this.c,tt)}getUV(_e,tt,rt,nt,st){return Triangle.getUV(_e,this.a,this.b,this.c,tt,rt,nt,st)}containsPoint(_e){return Triangle.containsPoint(_e,this.a,this.b,this.c)}isFrontFacing(_e){return Triangle.isFrontFacing(this.a,this.b,this.c,_e)}intersectsBox(_e){return _e.intersectsTriangle(this)}closestPointToPoint(_e,tt){const rt=this.a,nt=this.b,st=this.c;let ot,at;_vab.subVectors(nt,rt),_vac.subVectors(st,rt),_vap.subVectors(_e,rt);const lt=_vab.dot(_vap),ft=_vac.dot(_vap);if(lt<=0&&ft<=0)return tt.copy(rt);_vbp.subVectors(_e,nt);const dt=_vab.dot(_vbp),gt=_vac.dot(_vbp);if(dt>=0&&gt<=dt)return tt.copy(nt);const pt=lt*gt-dt*ft;if(pt<=0&&lt>=0&&dt<=0)return ot=lt/(lt-dt),tt.copy(rt).addScaledVector(_vab,ot);_vcp.subVectors(_e,st);const vt=_vab.dot(_vcp),St=_vac.dot(_vcp);if(St>=0&&vt<=St)return tt.copy(st);const At=vt*ft-lt*St;if(At<=0&&ft>=0&&St<=0)return at=ft/(ft-St),tt.copy(rt).addScaledVector(_vac,at);const Tt=dt*St-vt*gt;if(Tt<=0&&gt-dt>=0&&vt-St>=0)return _vbc.subVectors(st,nt),at=(gt-dt)/(gt-dt+(vt-St)),tt.copy(nt).addScaledVector(_vbc,at);const Ct=1/(Tt+At+pt);return ot=At*Ct,at=pt*Ct,tt.copy(rt).addScaledVector(_vab,ot).addScaledVector(_vac,at)}equals(_e){return _e.a.equals(this.a)&&_e.b.equals(this.b)&&_e.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(_e){this._alphaTest>0!=_e>0&&this.version++,this._alphaTest=_e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(_e){if(_e!==void 0)for(const tt in _e){const rt=_e[tt];if(rt===void 0){console.warn("THREE.Material: '"+tt+"' parameter is undefined.");continue}const nt=this[tt];if(nt===void 0){console.warn("THREE."+this.type+": '"+tt+"' is not a property of this material.");continue}nt&&nt.isColor?nt.set(rt):nt&&nt.isVector3&&rt&&rt.isVector3?nt.copy(rt):this[tt]=rt}}toJSON(_e){const tt=_e===void 0||typeof _e=="string";tt&&(_e={textures:{},images:{}});const rt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};rt.uuid=this.uuid,rt.type=this.type,this.name!==""&&(rt.name=this.name),this.color&&this.color.isColor&&(rt.color=this.color.getHex()),this.roughness!==void 0&&(rt.roughness=this.roughness),this.metalness!==void 0&&(rt.metalness=this.metalness),this.sheen!==void 0&&(rt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(rt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(rt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(rt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(rt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(rt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(rt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(rt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(rt.shininess=this.shininess),this.clearcoat!==void 0&&(rt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(rt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(rt.clearcoatMap=this.clearcoatMap.toJSON(_e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(rt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(_e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(rt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(_e).uuid,rt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(rt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(rt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(rt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(rt.iridescenceMap=this.iridescenceMap.toJSON(_e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(rt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(_e).uuid),this.map&&this.map.isTexture&&(rt.map=this.map.toJSON(_e).uuid),this.matcap&&this.matcap.isTexture&&(rt.matcap=this.matcap.toJSON(_e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(rt.alphaMap=this.alphaMap.toJSON(_e).uuid),this.lightMap&&this.lightMap.isTexture&&(rt.lightMap=this.lightMap.toJSON(_e).uuid,rt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(rt.aoMap=this.aoMap.toJSON(_e).uuid,rt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(rt.bumpMap=this.bumpMap.toJSON(_e).uuid,rt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(rt.normalMap=this.normalMap.toJSON(_e).uuid,rt.normalMapType=this.normalMapType,rt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(rt.displacementMap=this.displacementMap.toJSON(_e).uuid,rt.displacementScale=this.displacementScale,rt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(rt.roughnessMap=this.roughnessMap.toJSON(_e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(rt.metalnessMap=this.metalnessMap.toJSON(_e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(rt.emissiveMap=this.emissiveMap.toJSON(_e).uuid),this.specularMap&&this.specularMap.isTexture&&(rt.specularMap=this.specularMap.toJSON(_e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(rt.specularIntensityMap=this.specularIntensityMap.toJSON(_e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(rt.specularColorMap=this.specularColorMap.toJSON(_e).uuid),this.envMap&&this.envMap.isTexture&&(rt.envMap=this.envMap.toJSON(_e).uuid,this.combine!==void 0&&(rt.combine=this.combine)),this.envMapIntensity!==void 0&&(rt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(rt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(rt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(rt.gradientMap=this.gradientMap.toJSON(_e).uuid),this.transmission!==void 0&&(rt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(rt.transmissionMap=this.transmissionMap.toJSON(_e).uuid),this.thickness!==void 0&&(rt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(rt.thicknessMap=this.thicknessMap.toJSON(_e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(rt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(rt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(rt.size=this.size),this.shadowSide!==null&&(rt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(rt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(rt.blending=this.blending),this.side!==FrontSide&&(rt.side=this.side),this.vertexColors&&(rt.vertexColors=!0),this.opacity<1&&(rt.opacity=this.opacity),this.transparent===!0&&(rt.transparent=this.transparent),rt.depthFunc=this.depthFunc,rt.depthTest=this.depthTest,rt.depthWrite=this.depthWrite,rt.colorWrite=this.colorWrite,rt.stencilWrite=this.stencilWrite,rt.stencilWriteMask=this.stencilWriteMask,rt.stencilFunc=this.stencilFunc,rt.stencilRef=this.stencilRef,rt.stencilFuncMask=this.stencilFuncMask,rt.stencilFail=this.stencilFail,rt.stencilZFail=this.stencilZFail,rt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(rt.rotation=this.rotation),this.polygonOffset===!0&&(rt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(rt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(rt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(rt.linewidth=this.linewidth),this.dashSize!==void 0&&(rt.dashSize=this.dashSize),this.gapSize!==void 0&&(rt.gapSize=this.gapSize),this.scale!==void 0&&(rt.scale=this.scale),this.dithering===!0&&(rt.dithering=!0),this.alphaTest>0&&(rt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(rt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(rt.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(rt.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(rt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(rt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(rt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(rt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(rt.flatShading=this.flatShading),this.visible===!1&&(rt.visible=!1),this.toneMapped===!1&&(rt.toneMapped=!1),this.fog===!1&&(rt.fog=!1),Object.keys(this.userData).length>0&&(rt.userData=this.userData);function nt(st){const ot=[];for(const at in st){const lt=st[at];delete lt.metadata,ot.push(lt)}return ot}if(tt){const st=nt(_e.textures),ot=nt(_e.images);st.length>0&&(rt.textures=st),ot.length>0&&(rt.images=ot)}return rt}clone(){return new this.constructor().copy(this)}copy(_e){this.name=_e.name,this.blending=_e.blending,this.side=_e.side,this.vertexColors=_e.vertexColors,this.opacity=_e.opacity,this.transparent=_e.transparent,this.blendSrc=_e.blendSrc,this.blendDst=_e.blendDst,this.blendEquation=_e.blendEquation,this.blendSrcAlpha=_e.blendSrcAlpha,this.blendDstAlpha=_e.blendDstAlpha,this.blendEquationAlpha=_e.blendEquationAlpha,this.depthFunc=_e.depthFunc,this.depthTest=_e.depthTest,this.depthWrite=_e.depthWrite,this.stencilWriteMask=_e.stencilWriteMask,this.stencilFunc=_e.stencilFunc,this.stencilRef=_e.stencilRef,this.stencilFuncMask=_e.stencilFuncMask,this.stencilFail=_e.stencilFail,this.stencilZFail=_e.stencilZFail,this.stencilZPass=_e.stencilZPass,this.stencilWrite=_e.stencilWrite;const tt=_e.clippingPlanes;let rt=null;if(tt!==null){const nt=tt.length;rt=new Array(nt);for(let st=0;st!==nt;++st)rt[st]=tt[st].clone()}return this.clippingPlanes=rt,this.clipIntersection=_e.clipIntersection,this.clipShadows=_e.clipShadows,this.shadowSide=_e.shadowSide,this.colorWrite=_e.colorWrite,this.precision=_e.precision,this.polygonOffset=_e.polygonOffset,this.polygonOffsetFactor=_e.polygonOffsetFactor,this.polygonOffsetUnits=_e.polygonOffsetUnits,this.dithering=_e.dithering,this.alphaTest=_e.alphaTest,this.alphaToCoverage=_e.alphaToCoverage,this.premultipliedAlpha=_e.premultipliedAlpha,this.forceSinglePass=_e.forceSinglePass,this.visible=_e.visible,this.toneMapped=_e.toneMapped,this.userData=JSON.parse(JSON.stringify(_e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_e){_e===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(_e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.fog=_e.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(_e,tt,rt=!1){if(Array.isArray(_e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=_e,this.itemSize=tt,this.count=_e!==void 0?_e.length/tt:0,this.normalized=rt,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(_e){_e===!0&&this.version++}setUsage(_e){return this.usage=_e,this}copy(_e){return this.name=_e.name,this.array=new _e.array.constructor(_e.array),this.itemSize=_e.itemSize,this.count=_e.count,this.normalized=_e.normalized,this.usage=_e.usage,this}copyAt(_e,tt,rt){_e*=this.itemSize,rt*=tt.itemSize;for(let nt=0,st=this.itemSize;nt<st;nt++)this.array[_e+nt]=tt.array[rt+nt];return this}copyArray(_e){return this.array.set(_e),this}applyMatrix3(_e){if(this.itemSize===2)for(let tt=0,rt=this.count;tt<rt;tt++)_vector2$1.fromBufferAttribute(this,tt),_vector2$1.applyMatrix3(_e),this.setXY(tt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let tt=0,rt=this.count;tt<rt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyMatrix3(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(_e){for(let tt=0,rt=this.count;tt<rt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyMatrix4(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(_e){for(let tt=0,rt=this.count;tt<rt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.applyNormalMatrix(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(_e){for(let tt=0,rt=this.count;tt<rt;tt++)_vector$9.fromBufferAttribute(this,tt),_vector$9.transformDirection(_e),this.setXYZ(tt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(_e,tt=0){return this.array.set(_e,tt),this}getX(_e){let tt=this.array[_e*this.itemSize];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setX(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[_e*this.itemSize]=tt,this}getY(_e){let tt=this.array[_e*this.itemSize+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setY(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[_e*this.itemSize+1]=tt,this}getZ(_e){let tt=this.array[_e*this.itemSize+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setZ(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[_e*this.itemSize+2]=tt,this}getW(_e){let tt=this.array[_e*this.itemSize+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setW(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[_e*this.itemSize+3]=tt,this}setXY(_e,tt,rt){return _e*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),rt=normalize(rt,this.array)),this.array[_e+0]=tt,this.array[_e+1]=rt,this}setXYZ(_e,tt,rt,nt){return _e*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),rt=normalize(rt,this.array),nt=normalize(nt,this.array)),this.array[_e+0]=tt,this.array[_e+1]=rt,this.array[_e+2]=nt,this}setXYZW(_e,tt,rt,nt,st){return _e*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),rt=normalize(rt,this.array),nt=normalize(nt,this.array),st=normalize(st,this.array)),this.array[_e+0]=tt,this.array[_e+1]=rt,this.array[_e+2]=nt,this.array[_e+3]=st,this}onUpload(_e){return this.onUploadCallback=_e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const _e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(_e.name=this.name),this.usage!==StaticDrawUsage&&(_e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(_e.updateRange=this.updateRange),_e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Int8Array(_e),tt,rt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Uint8Array(_e),tt,rt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Uint8ClampedArray(_e),tt,rt)}}class Int16BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Int16Array(_e),tt,rt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Uint16Array(_e),tt,rt)}}class Int32BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Int32Array(_e),tt,rt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Uint32Array(_e),tt,rt)}}class Float16BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Uint16Array(_e),tt,rt),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Float32Array(_e),tt,rt)}}class Float64BufferAttribute extends BufferAttribute{constructor(_e,tt,rt){super(new Float64Array(_e),tt,rt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(_e){return Array.isArray(_e)?this.index=new(arrayNeedsUint32(_e)?Uint32BufferAttribute:Uint16BufferAttribute)(_e,1):this.index=_e,this}getAttribute(_e){return this.attributes[_e]}setAttribute(_e,tt){return this.attributes[_e]=tt,this}deleteAttribute(_e){return delete this.attributes[_e],this}hasAttribute(_e){return this.attributes[_e]!==void 0}addGroup(_e,tt,rt=0){this.groups.push({start:_e,count:tt,materialIndex:rt})}clearGroups(){this.groups=[]}setDrawRange(_e,tt){this.drawRange.start=_e,this.drawRange.count=tt}applyMatrix4(_e){const tt=this.attributes.position;tt!==void 0&&(tt.applyMatrix4(_e),tt.needsUpdate=!0);const rt=this.attributes.normal;if(rt!==void 0){const st=new Matrix3().getNormalMatrix(_e);rt.applyNormalMatrix(st),rt.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection(_e),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(_e){return _m1.makeRotationFromQuaternion(_e),this.applyMatrix4(_m1),this}rotateX(_e){return _m1.makeRotationX(_e),this.applyMatrix4(_m1),this}rotateY(_e){return _m1.makeRotationY(_e),this.applyMatrix4(_m1),this}rotateZ(_e){return _m1.makeRotationZ(_e),this.applyMatrix4(_m1),this}translate(_e,tt,rt){return _m1.makeTranslation(_e,tt,rt),this.applyMatrix4(_m1),this}scale(_e,tt,rt){return _m1.makeScale(_e,tt,rt),this.applyMatrix4(_m1),this}lookAt(_e){return _obj.lookAt(_e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(_e){const tt=[];for(let rt=0,nt=_e.length;rt<nt;rt++){const st=_e[rt];tt.push(st.x,st.y,st.z||0)}return this.setAttribute("position",new Float32BufferAttribute(tt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _e=this.attributes.position,tt=this.morphAttributes.position;if(_e&&_e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(_e!==void 0){if(this.boundingBox.setFromBufferAttribute(_e),tt)for(let rt=0,nt=tt.length;rt<nt;rt++){const st=tt[rt];_box$1.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _e=this.attributes.position,tt=this.morphAttributes.position;if(_e&&_e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(_e){const rt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(_e),tt)for(let st=0,ot=tt.length;st<ot;st++){const at=tt[st];_boxMorphTargets.setFromBufferAttribute(at),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(rt);let nt=0;for(let st=0,ot=_e.count;st<ot;st++)_vector$8.fromBufferAttribute(_e,st),nt=Math.max(nt,rt.distanceToSquared(_vector$8));if(tt)for(let st=0,ot=tt.length;st<ot;st++){const at=tt[st],lt=this.morphTargetsRelative;for(let ft=0,dt=at.count;ft<dt;ft++)_vector$8.fromBufferAttribute(at,ft),lt&&(_offset.fromBufferAttribute(_e,ft),_vector$8.add(_offset)),nt=Math.max(nt,rt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const _e=this.index,tt=this.attributes;if(_e===null||tt.position===void 0||tt.normal===void 0||tt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const rt=_e.array,nt=tt.position.array,st=tt.normal.array,ot=tt.uv.array,at=nt.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*at),4));const lt=this.getAttribute("tangent").array,ft=[],dt=[];for(let Ot=0;Ot<at;Ot++)ft[Ot]=new Vector3,dt[Ot]=new Vector3;const gt=new Vector3,pt=new Vector3,vt=new Vector3,St=new Vector2,At=new Vector2,Tt=new Vector2,Ct=new Vector3,Mt=new Vector3;function Et(Ot,Ut,zt){gt.fromArray(nt,Ot*3),pt.fromArray(nt,Ut*3),vt.fromArray(nt,zt*3),St.fromArray(ot,Ot*2),At.fromArray(ot,Ut*2),Tt.fromArray(ot,zt*2),pt.sub(gt),vt.sub(gt),At.sub(St),Tt.sub(St);const tr=1/(At.x*Tt.y-Tt.x*At.y);isFinite(tr)&&(Ct.copy(pt).multiplyScalar(Tt.y).addScaledVector(vt,-At.y).multiplyScalar(tr),Mt.copy(vt).multiplyScalar(At.x).addScaledVector(pt,-Tt.x).multiplyScalar(tr),ft[Ot].add(Ct),ft[Ut].add(Ct),ft[zt].add(Ct),dt[Ot].add(Mt),dt[Ut].add(Mt),dt[zt].add(Mt))}let Rt=this.groups;Rt.length===0&&(Rt=[{start:0,count:rt.length}]);for(let Ot=0,Ut=Rt.length;Ot<Ut;++Ot){const zt=Rt[Ot],tr=zt.start,jt=zt.count;for(let Kt=tr,qt=tr+jt;Kt<qt;Kt+=3)Et(rt[Kt+0],rt[Kt+1],rt[Kt+2])}const Bt=new Vector3,Ft=new Vector3,Lt=new Vector3,wt=new Vector3;function Dt(Ot){Lt.fromArray(st,Ot*3),wt.copy(Lt);const Ut=ft[Ot];Bt.copy(Ut),Bt.sub(Lt.multiplyScalar(Lt.dot(Ut))).normalize(),Ft.crossVectors(wt,Ut);const tr=Ft.dot(dt[Ot])<0?-1:1;lt[Ot*4]=Bt.x,lt[Ot*4+1]=Bt.y,lt[Ot*4+2]=Bt.z,lt[Ot*4+3]=tr}for(let Ot=0,Ut=Rt.length;Ot<Ut;++Ot){const zt=Rt[Ot],tr=zt.start,jt=zt.count;for(let Kt=tr,qt=tr+jt;Kt<qt;Kt+=3)Dt(rt[Kt+0]),Dt(rt[Kt+1]),Dt(rt[Kt+2])}}computeVertexNormals(){const _e=this.index,tt=this.getAttribute("position");if(tt!==void 0){let rt=this.getAttribute("normal");if(rt===void 0)rt=new BufferAttribute(new Float32Array(tt.count*3),3),this.setAttribute("normal",rt);else for(let pt=0,vt=rt.count;pt<vt;pt++)rt.setXYZ(pt,0,0,0);const nt=new Vector3,st=new Vector3,ot=new Vector3,at=new Vector3,lt=new Vector3,ft=new Vector3,dt=new Vector3,gt=new Vector3;if(_e)for(let pt=0,vt=_e.count;pt<vt;pt+=3){const St=_e.getX(pt+0),At=_e.getX(pt+1),Tt=_e.getX(pt+2);nt.fromBufferAttribute(tt,St),st.fromBufferAttribute(tt,At),ot.fromBufferAttribute(tt,Tt),dt.subVectors(ot,st),gt.subVectors(nt,st),dt.cross(gt),at.fromBufferAttribute(rt,St),lt.fromBufferAttribute(rt,At),ft.fromBufferAttribute(rt,Tt),at.add(dt),lt.add(dt),ft.add(dt),rt.setXYZ(St,at.x,at.y,at.z),rt.setXYZ(At,lt.x,lt.y,lt.z),rt.setXYZ(Tt,ft.x,ft.y,ft.z)}else for(let pt=0,vt=tt.count;pt<vt;pt+=3)nt.fromBufferAttribute(tt,pt+0),st.fromBufferAttribute(tt,pt+1),ot.fromBufferAttribute(tt,pt+2),dt.subVectors(ot,st),gt.subVectors(nt,st),dt.cross(gt),rt.setXYZ(pt+0,dt.x,dt.y,dt.z),rt.setXYZ(pt+1,dt.x,dt.y,dt.z),rt.setXYZ(pt+2,dt.x,dt.y,dt.z);this.normalizeNormals(),rt.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const _e=this.attributes.normal;for(let tt=0,rt=_e.count;tt<rt;tt++)_vector$8.fromBufferAttribute(_e,tt),_vector$8.normalize(),_e.setXYZ(tt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function _e(at,lt){const ft=at.array,dt=at.itemSize,gt=at.normalized,pt=new ft.constructor(lt.length*dt);let vt=0,St=0;for(let At=0,Tt=lt.length;At<Tt;At++){at.isInterleavedBufferAttribute?vt=lt[At]*at.data.stride+at.offset:vt=lt[At]*dt;for(let Ct=0;Ct<dt;Ct++)pt[St++]=ft[vt++]}return new BufferAttribute(pt,dt,gt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const tt=new BufferGeometry,rt=this.index.array,nt=this.attributes;for(const at in nt){const lt=nt[at],ft=_e(lt,rt);tt.setAttribute(at,ft)}const st=this.morphAttributes;for(const at in st){const lt=[],ft=st[at];for(let dt=0,gt=ft.length;dt<gt;dt++){const pt=ft[dt],vt=_e(pt,rt);lt.push(vt)}tt.morphAttributes[at]=lt}tt.morphTargetsRelative=this.morphTargetsRelative;const ot=this.groups;for(let at=0,lt=ot.length;at<lt;at++){const ft=ot[at];tt.addGroup(ft.start,ft.count,ft.materialIndex)}return tt}toJSON(){const _e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(_e.uuid=this.uuid,_e.type=this.type,this.name!==""&&(_e.name=this.name),Object.keys(this.userData).length>0&&(_e.userData=this.userData),this.parameters!==void 0){const lt=this.parameters;for(const ft in lt)lt[ft]!==void 0&&(_e[ft]=lt[ft]);return _e}_e.data={attributes:{}};const tt=this.index;tt!==null&&(_e.data.index={type:tt.array.constructor.name,array:Array.prototype.slice.call(tt.array)});const rt=this.attributes;for(const lt in rt){const ft=rt[lt];_e.data.attributes[lt]=ft.toJSON(_e.data)}const nt={};let st=!1;for(const lt in this.morphAttributes){const ft=this.morphAttributes[lt],dt=[];for(let gt=0,pt=ft.length;gt<pt;gt++){const vt=ft[gt];dt.push(vt.toJSON(_e.data))}dt.length>0&&(nt[lt]=dt,st=!0)}st&&(_e.data.morphAttributes=nt,_e.data.morphTargetsRelative=this.morphTargetsRelative);const ot=this.groups;ot.length>0&&(_e.data.groups=JSON.parse(JSON.stringify(ot)));const at=this.boundingSphere;return at!==null&&(_e.data.boundingSphere={center:at.center.toArray(),radius:at.radius}),_e}clone(){return new this.constructor().copy(this)}copy(_e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const tt={};this.name=_e.name;const rt=_e.index;rt!==null&&this.setIndex(rt.clone(tt));const nt=_e.attributes;for(const ft in nt){const dt=nt[ft];this.setAttribute(ft,dt.clone(tt))}const st=_e.morphAttributes;for(const ft in st){const dt=[],gt=st[ft];for(let pt=0,vt=gt.length;pt<vt;pt++)dt.push(gt[pt].clone(tt));this.morphAttributes[ft]=dt}this.morphTargetsRelative=_e.morphTargetsRelative;const ot=_e.groups;for(let ft=0,dt=ot.length;ft<dt;ft++){const gt=ot[ft];this.addGroup(gt.start,gt.count,gt.materialIndex)}const at=_e.boundingBox;at!==null&&(this.boundingBox=at.clone());const lt=_e.boundingSphere;return lt!==null&&(this.boundingSphere=lt.clone()),this.drawRange.start=_e.drawRange.start,this.drawRange.count=_e.drawRange.count,this.userData=_e.userData,_e.parameters!==void 0&&(this.parameters=Object.assign({},_e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(_e=new BufferGeometry,tt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=_e,this.material=tt,this.updateMorphTargets()}copy(_e,tt){return super.copy(_e,tt),_e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=_e.morphTargetInfluences.slice()),_e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},_e.morphTargetDictionary)),this.material=_e.material,this.geometry=_e.geometry,this}updateMorphTargets(){const tt=this.geometry.morphAttributes,rt=Object.keys(tt);if(rt.length>0){const nt=tt[rt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let st=0,ot=nt.length;st<ot;st++){const at=nt[st].name||String(st);this.morphTargetInfluences.push(0),this.morphTargetDictionary[at]=st}}}}getVertexPosition(_e,tt){const rt=this.geometry,nt=rt.attributes.position,st=rt.morphAttributes.position,ot=rt.morphTargetsRelative;tt.fromBufferAttribute(nt,_e);const at=this.morphTargetInfluences;if(st&&at){_morphA.set(0,0,0);for(let lt=0,ft=st.length;lt<ft;lt++){const dt=at[lt],gt=st[lt];dt!==0&&(_tempA.fromBufferAttribute(gt,_e),ot?_morphA.addScaledVector(_tempA,dt):_morphA.addScaledVector(_tempA.sub(tt),dt))}tt.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform(_e,tt),tt}raycast(_e,tt){const rt=this.geometry,nt=this.material,st=this.matrixWorld;if(nt===void 0||(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$3.copy(rt.boundingSphere),_sphere$3.applyMatrix4(st),_e.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(st).invert(),_ray$2.copy(_e.ray).applyMatrix4(_inverseMatrix$2),rt.boundingBox!==null&&_ray$2.intersectsBox(rt.boundingBox)===!1))return;let ot;const at=rt.index,lt=rt.attributes.position,ft=rt.attributes.uv,dt=rt.attributes.uv2,gt=rt.groups,pt=rt.drawRange;if(at!==null)if(Array.isArray(nt))for(let vt=0,St=gt.length;vt<St;vt++){const At=gt[vt],Tt=nt[At.materialIndex],Ct=Math.max(At.start,pt.start),Mt=Math.min(at.count,Math.min(At.start+At.count,pt.start+pt.count));for(let Et=Ct,Rt=Mt;Et<Rt;Et+=3){const Bt=at.getX(Et),Ft=at.getX(Et+1),Lt=at.getX(Et+2);ot=checkBufferGeometryIntersection(this,Tt,_e,_ray$2,ft,dt,Bt,Ft,Lt),ot&&(ot.faceIndex=Math.floor(Et/3),ot.face.materialIndex=At.materialIndex,tt.push(ot))}}else{const vt=Math.max(0,pt.start),St=Math.min(at.count,pt.start+pt.count);for(let At=vt,Tt=St;At<Tt;At+=3){const Ct=at.getX(At),Mt=at.getX(At+1),Et=at.getX(At+2);ot=checkBufferGeometryIntersection(this,nt,_e,_ray$2,ft,dt,Ct,Mt,Et),ot&&(ot.faceIndex=Math.floor(At/3),tt.push(ot))}}else if(lt!==void 0)if(Array.isArray(nt))for(let vt=0,St=gt.length;vt<St;vt++){const At=gt[vt],Tt=nt[At.materialIndex],Ct=Math.max(At.start,pt.start),Mt=Math.min(lt.count,Math.min(At.start+At.count,pt.start+pt.count));for(let Et=Ct,Rt=Mt;Et<Rt;Et+=3){const Bt=Et,Ft=Et+1,Lt=Et+2;ot=checkBufferGeometryIntersection(this,Tt,_e,_ray$2,ft,dt,Bt,Ft,Lt),ot&&(ot.faceIndex=Math.floor(Et/3),ot.face.materialIndex=At.materialIndex,tt.push(ot))}}else{const vt=Math.max(0,pt.start),St=Math.min(lt.count,pt.start+pt.count);for(let At=vt,Tt=St;At<Tt;At+=3){const Ct=At,Mt=At+1,Et=At+2;ot=checkBufferGeometryIntersection(this,nt,_e,_ray$2,ft,dt,Ct,Mt,Et),ot&&(ot.faceIndex=Math.floor(At/3),tt.push(ot))}}}}function checkIntersection(et,_e,tt,rt,nt,st,ot,at){let lt;if(_e.side===BackSide?lt=rt.intersectTriangle(ot,st,nt,!0,at):lt=rt.intersectTriangle(nt,st,ot,_e.side===FrontSide,at),lt===null)return null;_intersectionPointWorld.copy(at),_intersectionPointWorld.applyMatrix4(et.matrixWorld);const ft=tt.ray.origin.distanceTo(_intersectionPointWorld);return ft<tt.near||ft>tt.far?null:{distance:ft,point:_intersectionPointWorld.clone(),object:et}}function checkBufferGeometryIntersection(et,_e,tt,rt,nt,st,ot,at,lt){et.getVertexPosition(ot,_vA$1),et.getVertexPosition(at,_vB$1),et.getVertexPosition(lt,_vC$1);const ft=checkIntersection(et,_e,tt,rt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ft){nt&&(_uvA$1.fromBufferAttribute(nt,ot),_uvB$1.fromBufferAttribute(nt,at),_uvC$1.fromBufferAttribute(nt,lt),ft.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),st&&(_uvA$1.fromBufferAttribute(st,ot),_uvB$1.fromBufferAttribute(st,at),_uvC$1.fromBufferAttribute(st,lt),ft.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const dt={a:ot,b:at,c:lt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,dt.normal),ft.face=dt}return ft}class BoxGeometry extends BufferGeometry{constructor(_e=1,tt=1,rt=1,nt=1,st=1,ot=1){super(),this.type="BoxGeometry",this.parameters={width:_e,height:tt,depth:rt,widthSegments:nt,heightSegments:st,depthSegments:ot};const at=this;nt=Math.floor(nt),st=Math.floor(st),ot=Math.floor(ot);const lt=[],ft=[],dt=[],gt=[];let pt=0,vt=0;St("z","y","x",-1,-1,rt,tt,_e,ot,st,0),St("z","y","x",1,-1,rt,tt,-_e,ot,st,1),St("x","z","y",1,1,_e,rt,tt,nt,ot,2),St("x","z","y",1,-1,_e,rt,-tt,nt,ot,3),St("x","y","z",1,-1,_e,tt,rt,nt,st,4),St("x","y","z",-1,-1,_e,tt,-rt,nt,st,5),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ft,3)),this.setAttribute("normal",new Float32BufferAttribute(dt,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2));function St(At,Tt,Ct,Mt,Et,Rt,Bt,Ft,Lt,wt,Dt){const Ot=Rt/Lt,Ut=Bt/wt,zt=Rt/2,tr=Bt/2,jt=Ft/2,Kt=Lt+1,qt=wt+1;let er=0,kt=0;const Vt=new Vector3;for(let Zt=0;Zt<qt;Zt++){const Wt=Zt*Ut-tr;for(let nr=0;nr<Kt;nr++){const sr=nr*Ot-zt;Vt[At]=sr*Mt,Vt[Tt]=Wt*Et,Vt[Ct]=jt,ft.push(Vt.x,Vt.y,Vt.z),Vt[At]=0,Vt[Tt]=0,Vt[Ct]=Ft>0?1:-1,dt.push(Vt.x,Vt.y,Vt.z),gt.push(nr/Lt),gt.push(1-Zt/wt),er+=1}}for(let Zt=0;Zt<wt;Zt++)for(let Wt=0;Wt<Lt;Wt++){const nr=pt+Wt+Kt*Zt,sr=pt+Wt+Kt*(Zt+1),lr=pt+(Wt+1)+Kt*(Zt+1),dr=pt+(Wt+1)+Kt*Zt;lt.push(nr,sr,dr),lt.push(sr,lr,dr),kt+=6}at.addGroup(vt,kt,Dt),vt+=kt,pt+=er}}static fromJSON(_e){return new BoxGeometry(_e.width,_e.height,_e.depth,_e.widthSegments,_e.heightSegments,_e.depthSegments)}}function cloneUniforms(et){const _e={};for(const tt in et){_e[tt]={};for(const rt in et[tt]){const nt=et[tt][rt];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?_e[tt][rt]=nt.clone():Array.isArray(nt)?_e[tt][rt]=nt.slice():_e[tt][rt]=nt}}return _e}function mergeUniforms(et){const _e={};for(let tt=0;tt<et.length;tt++){const rt=cloneUniforms(et[tt]);for(const nt in rt)_e[nt]=rt[nt]}return _e}function cloneUniformsGroups(et){const _e=[];for(let tt=0;tt<et.length;tt++)_e.push(et[tt].clone());return _e}function getUnlitUniformColorSpace(et){return et.getRenderTarget()===null&&et.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(_e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,_e!==void 0&&this.setValues(_e)}copy(_e){return super.copy(_e),this.fragmentShader=_e.fragmentShader,this.vertexShader=_e.vertexShader,this.uniforms=cloneUniforms(_e.uniforms),this.uniformsGroups=cloneUniformsGroups(_e.uniformsGroups),this.defines=Object.assign({},_e.defines),this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.fog=_e.fog,this.lights=_e.lights,this.clipping=_e.clipping,this.extensions=Object.assign({},_e.extensions),this.glslVersion=_e.glslVersion,this}toJSON(_e){const tt=super.toJSON(_e);tt.glslVersion=this.glslVersion,tt.uniforms={};for(const nt in this.uniforms){const ot=this.uniforms[nt].value;ot&&ot.isTexture?tt.uniforms[nt]={type:"t",value:ot.toJSON(_e).uuid}:ot&&ot.isColor?tt.uniforms[nt]={type:"c",value:ot.getHex()}:ot&&ot.isVector2?tt.uniforms[nt]={type:"v2",value:ot.toArray()}:ot&&ot.isVector3?tt.uniforms[nt]={type:"v3",value:ot.toArray()}:ot&&ot.isVector4?tt.uniforms[nt]={type:"v4",value:ot.toArray()}:ot&&ot.isMatrix3?tt.uniforms[nt]={type:"m3",value:ot.toArray()}:ot&&ot.isMatrix4?tt.uniforms[nt]={type:"m4",value:ot.toArray()}:tt.uniforms[nt]={value:ot}}Object.keys(this.defines).length>0&&(tt.defines=this.defines),tt.vertexShader=this.vertexShader,tt.fragmentShader=this.fragmentShader;const rt={};for(const nt in this.extensions)this.extensions[nt]===!0&&(rt[nt]=!0);return Object.keys(rt).length>0&&(tt.extensions=rt),tt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(_e,tt){return super.copy(_e,tt),this.matrixWorldInverse.copy(_e.matrixWorldInverse),this.projectionMatrix.copy(_e.projectionMatrix),this.projectionMatrixInverse.copy(_e.projectionMatrixInverse),this}getWorldDirection(_e){this.updateWorldMatrix(!0,!1);const tt=this.matrixWorld.elements;return _e.set(-tt[8],-tt[9],-tt[10]).normalize()}updateMatrixWorld(_e){super.updateMatrixWorld(_e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(_e,tt){super.updateWorldMatrix(_e,tt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let PerspectiveCamera$1=class extends Camera{constructor(_e=50,tt=1,rt=.1,nt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=_e,this.zoom=1,this.near=rt,this.far=nt,this.focus=10,this.aspect=tt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(_e,tt){return super.copy(_e,tt),this.fov=_e.fov,this.zoom=_e.zoom,this.near=_e.near,this.far=_e.far,this.focus=_e.focus,this.aspect=_e.aspect,this.view=_e.view===null?null:Object.assign({},_e.view),this.filmGauge=_e.filmGauge,this.filmOffset=_e.filmOffset,this}setFocalLength(_e){const tt=.5*this.getFilmHeight()/_e;this.fov=RAD2DEG*2*Math.atan(tt),this.updateProjectionMatrix()}getFocalLength(){const _e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/_e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(_e,tt,rt,nt,st,ot){this.aspect=_e/tt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_e,this.view.fullHeight=tt,this.view.offsetX=rt,this.view.offsetY=nt,this.view.width=st,this.view.height=ot,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _e=this.near;let tt=_e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,rt=2*tt,nt=this.aspect*rt,st=-.5*nt;const ot=this.view;if(this.view!==null&&this.view.enabled){const lt=ot.fullWidth,ft=ot.fullHeight;st+=ot.offsetX*nt/lt,tt-=ot.offsetY*rt/ft,nt*=ot.width/lt,rt*=ot.height/ft}const at=this.filmOffset;at!==0&&(st+=_e*at/this.getFilmWidth()),this.projectionMatrix.makePerspective(st,st+nt,tt,tt-rt,_e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_e){const tt=super.toJSON(_e);return tt.object.fov=this.fov,tt.object.zoom=this.zoom,tt.object.near=this.near,tt.object.far=this.far,tt.object.focus=this.focus,tt.object.aspect=this.aspect,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt.object.filmGauge=this.filmGauge,tt.object.filmOffset=this.filmOffset,tt}};const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(_e,tt,rt){super(),this.type="CubeCamera",this.renderTarget=rt;const nt=new PerspectiveCamera$1(fov,aspect,_e,tt);nt.layers=this.layers,nt.up.set(0,1,0),nt.lookAt(1,0,0),this.add(nt);const st=new PerspectiveCamera$1(fov,aspect,_e,tt);st.layers=this.layers,st.up.set(0,1,0),st.lookAt(-1,0,0),this.add(st);const ot=new PerspectiveCamera$1(fov,aspect,_e,tt);ot.layers=this.layers,ot.up.set(0,0,-1),ot.lookAt(0,1,0),this.add(ot);const at=new PerspectiveCamera$1(fov,aspect,_e,tt);at.layers=this.layers,at.up.set(0,0,1),at.lookAt(0,-1,0),this.add(at);const lt=new PerspectiveCamera$1(fov,aspect,_e,tt);lt.layers=this.layers,lt.up.set(0,1,0),lt.lookAt(0,0,1),this.add(lt);const ft=new PerspectiveCamera$1(fov,aspect,_e,tt);ft.layers=this.layers,ft.up.set(0,1,0),ft.lookAt(0,0,-1),this.add(ft)}update(_e,tt){this.parent===null&&this.updateMatrixWorld();const rt=this.renderTarget,[nt,st,ot,at,lt,ft]=this.children,dt=_e.getRenderTarget(),gt=_e.toneMapping,pt=_e.xr.enabled;_e.toneMapping=NoToneMapping,_e.xr.enabled=!1;const vt=rt.texture.generateMipmaps;rt.texture.generateMipmaps=!1,_e.setRenderTarget(rt,0),_e.render(tt,nt),_e.setRenderTarget(rt,1),_e.render(tt,st),_e.setRenderTarget(rt,2),_e.render(tt,ot),_e.setRenderTarget(rt,3),_e.render(tt,at),_e.setRenderTarget(rt,4),_e.render(tt,lt),rt.texture.generateMipmaps=vt,_e.setRenderTarget(rt,5),_e.render(tt,ft),_e.setRenderTarget(dt),_e.toneMapping=gt,_e.xr.enabled=pt,rt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(_e,tt,rt,nt,st,ot,at,lt,ft,dt){_e=_e!==void 0?_e:[],tt=tt!==void 0?tt:CubeReflectionMapping,super(_e,tt,rt,nt,st,ot,at,lt,ft,dt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(_e){this.image=_e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(_e=1,tt={}){super(_e,_e,tt),this.isWebGLCubeRenderTarget=!0;const rt={width:_e,height:_e,depth:1},nt=[rt,rt,rt,rt,rt,rt];this.texture=new CubeTexture(nt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=tt.generateMipmaps!==void 0?tt.generateMipmaps:!1,this.texture.minFilter=tt.minFilter!==void 0?tt.minFilter:LinearFilter}fromEquirectangularTexture(_e,tt){this.texture.type=tt.type,this.texture.encoding=tt.encoding,this.texture.generateMipmaps=tt.generateMipmaps,this.texture.minFilter=tt.minFilter,this.texture.magFilter=tt.magFilter;const rt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),st=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(rt.uniforms),vertexShader:rt.vertexShader,fragmentShader:rt.fragmentShader,side:BackSide,blending:NoBlending});st.uniforms.tEquirect.value=tt;const ot=new Mesh(nt,st),at=tt.minFilter;return tt.minFilter===LinearMipmapLinearFilter&&(tt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(_e,ot),tt.minFilter=at,ot.geometry.dispose(),ot.material.dispose(),this}clear(_e,tt,rt,nt){const st=_e.getRenderTarget();for(let ot=0;ot<6;ot++)_e.setRenderTarget(this,ot),_e.clear(tt,rt,nt);_e.setRenderTarget(st)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(_e=new Vector3(1,0,0),tt=0){this.isPlane=!0,this.normal=_e,this.constant=tt}set(_e,tt){return this.normal.copy(_e),this.constant=tt,this}setComponents(_e,tt,rt,nt){return this.normal.set(_e,tt,rt),this.constant=nt,this}setFromNormalAndCoplanarPoint(_e,tt){return this.normal.copy(_e),this.constant=-tt.dot(this.normal),this}setFromCoplanarPoints(_e,tt,rt){const nt=_vector1.subVectors(rt,tt).cross(_vector2.subVectors(_e,tt)).normalize();return this.setFromNormalAndCoplanarPoint(nt,_e),this}copy(_e){return this.normal.copy(_e.normal),this.constant=_e.constant,this}normalize(){const _e=1/this.normal.length();return this.normal.multiplyScalar(_e),this.constant*=_e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(_e){return this.normal.dot(_e)+this.constant}distanceToSphere(_e){return this.distanceToPoint(_e.center)-_e.radius}projectPoint(_e,tt){return tt.copy(this.normal).multiplyScalar(-this.distanceToPoint(_e)).add(_e)}intersectLine(_e,tt){const rt=_e.delta(_vector1),nt=this.normal.dot(rt);if(nt===0)return this.distanceToPoint(_e.start)===0?tt.copy(_e.start):null;const st=-(_e.start.dot(this.normal)+this.constant)/nt;return st<0||st>1?null:tt.copy(rt).multiplyScalar(st).add(_e.start)}intersectsLine(_e){const tt=this.distanceToPoint(_e.start),rt=this.distanceToPoint(_e.end);return tt<0&&rt>0||rt<0&&tt>0}intersectsBox(_e){return _e.intersectsPlane(this)}intersectsSphere(_e){return _e.intersectsPlane(this)}coplanarPoint(_e){return _e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(_e,tt){const rt=tt||_normalMatrix.getNormalMatrix(_e),nt=this.coplanarPoint(_vector1).applyMatrix4(_e),st=this.normal.applyMatrix3(rt).normalize();return this.constant=-nt.dot(st),this}translate(_e){return this.constant-=_e.dot(this.normal),this}equals(_e){return _e.normal.equals(this.normal)&&_e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(_e=new Plane,tt=new Plane,rt=new Plane,nt=new Plane,st=new Plane,ot=new Plane){this.planes=[_e,tt,rt,nt,st,ot]}set(_e,tt,rt,nt,st,ot){const at=this.planes;return at[0].copy(_e),at[1].copy(tt),at[2].copy(rt),at[3].copy(nt),at[4].copy(st),at[5].copy(ot),this}copy(_e){const tt=this.planes;for(let rt=0;rt<6;rt++)tt[rt].copy(_e.planes[rt]);return this}setFromProjectionMatrix(_e){const tt=this.planes,rt=_e.elements,nt=rt[0],st=rt[1],ot=rt[2],at=rt[3],lt=rt[4],ft=rt[5],dt=rt[6],gt=rt[7],pt=rt[8],vt=rt[9],St=rt[10],At=rt[11],Tt=rt[12],Ct=rt[13],Mt=rt[14],Et=rt[15];return tt[0].setComponents(at-nt,gt-lt,At-pt,Et-Tt).normalize(),tt[1].setComponents(at+nt,gt+lt,At+pt,Et+Tt).normalize(),tt[2].setComponents(at+st,gt+ft,At+vt,Et+Ct).normalize(),tt[3].setComponents(at-st,gt-ft,At-vt,Et-Ct).normalize(),tt[4].setComponents(at-ot,gt-dt,At-St,Et-Mt).normalize(),tt[5].setComponents(at+ot,gt+dt,At+St,Et+Mt).normalize(),this}intersectsObject(_e){const tt=_e.geometry;return tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$2.copy(tt.boundingSphere).applyMatrix4(_e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(_e){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(_e.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(_e){const tt=this.planes,rt=_e.center,nt=-_e.radius;for(let st=0;st<6;st++)if(tt[st].distanceToPoint(rt)<nt)return!1;return!0}intersectsBox(_e){const tt=this.planes;for(let rt=0;rt<6;rt++){const nt=tt[rt];if(_vector$7.x=nt.normal.x>0?_e.max.x:_e.min.x,_vector$7.y=nt.normal.y>0?_e.max.y:_e.min.y,_vector$7.z=nt.normal.z>0?_e.max.z:_e.min.z,nt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(_e){const tt=this.planes;for(let rt=0;rt<6;rt++)if(tt[rt].distanceToPoint(_e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let et=null,_e=!1,tt=null,rt=null;function nt(st,ot){tt(st,ot),rt=et.requestAnimationFrame(nt)}return{start:function(){_e!==!0&&tt!==null&&(rt=et.requestAnimationFrame(nt),_e=!0)},stop:function(){et.cancelAnimationFrame(rt),_e=!1},setAnimationLoop:function(st){tt=st},setContext:function(st){et=st}}}function WebGLAttributes(et,_e){const tt=_e.isWebGL2,rt=new WeakMap;function nt(ft,dt){const gt=ft.array,pt=ft.usage,vt=et.createBuffer();et.bindBuffer(dt,vt),et.bufferData(dt,gt,pt),ft.onUploadCallback();let St;if(gt instanceof Float32Array)St=5126;else if(gt instanceof Uint16Array)if(ft.isFloat16BufferAttribute)if(tt)St=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else St=5123;else if(gt instanceof Int16Array)St=5122;else if(gt instanceof Uint32Array)St=5125;else if(gt instanceof Int32Array)St=5124;else if(gt instanceof Int8Array)St=5120;else if(gt instanceof Uint8Array)St=5121;else if(gt instanceof Uint8ClampedArray)St=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+gt);return{buffer:vt,type:St,bytesPerElement:gt.BYTES_PER_ELEMENT,version:ft.version}}function st(ft,dt,gt){const pt=dt.array,vt=dt.updateRange;et.bindBuffer(gt,ft),vt.count===-1?et.bufferSubData(gt,0,pt):(tt?et.bufferSubData(gt,vt.offset*pt.BYTES_PER_ELEMENT,pt,vt.offset,vt.count):et.bufferSubData(gt,vt.offset*pt.BYTES_PER_ELEMENT,pt.subarray(vt.offset,vt.offset+vt.count)),vt.count=-1),dt.onUploadCallback()}function ot(ft){return ft.isInterleavedBufferAttribute&&(ft=ft.data),rt.get(ft)}function at(ft){ft.isInterleavedBufferAttribute&&(ft=ft.data);const dt=rt.get(ft);dt&&(et.deleteBuffer(dt.buffer),rt.delete(ft))}function lt(ft,dt){if(ft.isGLBufferAttribute){const pt=rt.get(ft);(!pt||pt.version<ft.version)&&rt.set(ft,{buffer:ft.buffer,type:ft.type,bytesPerElement:ft.elementSize,version:ft.version});return}ft.isInterleavedBufferAttribute&&(ft=ft.data);const gt=rt.get(ft);gt===void 0?rt.set(ft,nt(ft,dt)):gt.version<ft.version&&(st(gt.buffer,ft,dt),gt.version=ft.version)}return{get:ot,remove:at,update:lt}}class PlaneGeometry extends BufferGeometry{constructor(_e=1,tt=1,rt=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:_e,height:tt,widthSegments:rt,heightSegments:nt};const st=_e/2,ot=tt/2,at=Math.floor(rt),lt=Math.floor(nt),ft=at+1,dt=lt+1,gt=_e/at,pt=tt/lt,vt=[],St=[],At=[],Tt=[];for(let Ct=0;Ct<dt;Ct++){const Mt=Ct*pt-ot;for(let Et=0;Et<ft;Et++){const Rt=Et*gt-st;St.push(Rt,-Mt,0),At.push(0,0,1),Tt.push(Et/at),Tt.push(1-Ct/lt)}}for(let Ct=0;Ct<lt;Ct++)for(let Mt=0;Mt<at;Mt++){const Et=Mt+ft*Ct,Rt=Mt+ft*(Ct+1),Bt=Mt+1+ft*(Ct+1),Ft=Mt+1+ft*Ct;vt.push(Et,Rt,Ft),vt.push(Rt,Bt,Ft)}this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("normal",new Float32BufferAttribute(At,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}static fromJSON(_e){return new PlaneGeometry(_e.width,_e.height,_e.widthSegments,_e.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(et,_e,tt,rt,nt,st,ot){const at=new Color(0);let lt=st===!0?0:1,ft,dt,gt=null,pt=0,vt=null;function St(Tt,Ct){let Mt=!1,Et=Ct.isScene===!0?Ct.background:null;Et&&Et.isTexture&&(Et=(Ct.backgroundBlurriness>0?tt:_e).get(Et));const Rt=et.xr,Bt=Rt.getSession&&Rt.getSession();Bt&&Bt.environmentBlendMode==="additive"&&(Et=null),Et===null?At(at,lt):Et&&Et.isColor&&(At(Et,1),Mt=!0),(et.autoClear||Mt)&&et.clear(et.autoClearColor,et.autoClearDepth,et.autoClearStencil),Et&&(Et.isCubeTexture||Et.mapping===CubeUVReflectionMapping)?(dt===void 0&&(dt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),dt.geometry.deleteAttribute("normal"),dt.geometry.deleteAttribute("uv"),dt.onBeforeRender=function(Ft,Lt,wt){this.matrixWorld.copyPosition(wt.matrixWorld)},Object.defineProperty(dt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),nt.update(dt)),dt.material.uniforms.envMap.value=Et,dt.material.uniforms.flipEnvMap.value=Et.isCubeTexture&&Et.isRenderTargetTexture===!1?-1:1,dt.material.uniforms.backgroundBlurriness.value=Ct.backgroundBlurriness,dt.material.uniforms.backgroundIntensity.value=Ct.backgroundIntensity,dt.material.toneMapped=Et.encoding!==sRGBEncoding,(gt!==Et||pt!==Et.version||vt!==et.toneMapping)&&(dt.material.needsUpdate=!0,gt=Et,pt=Et.version,vt=et.toneMapping),dt.layers.enableAll(),Tt.unshift(dt,dt.geometry,dt.material,0,0,null)):Et&&Et.isTexture&&(ft===void 0&&(ft=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ft.geometry.deleteAttribute("normal"),Object.defineProperty(ft.material,"map",{get:function(){return this.uniforms.t2D.value}}),nt.update(ft)),ft.material.uniforms.t2D.value=Et,ft.material.uniforms.backgroundIntensity.value=Ct.backgroundIntensity,ft.material.toneMapped=Et.encoding!==sRGBEncoding,Et.matrixAutoUpdate===!0&&Et.updateMatrix(),ft.material.uniforms.uvTransform.value.copy(Et.matrix),(gt!==Et||pt!==Et.version||vt!==et.toneMapping)&&(ft.material.needsUpdate=!0,gt=Et,pt=Et.version,vt=et.toneMapping),ft.layers.enableAll(),Tt.unshift(ft,ft.geometry,ft.material,0,0,null))}function At(Tt,Ct){Tt.getRGB(_rgb,getUnlitUniformColorSpace(et)),rt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Ct,ot)}return{getClearColor:function(){return at},setClearColor:function(Tt,Ct=1){at.set(Tt),lt=Ct,At(at,lt)},getClearAlpha:function(){return lt},setClearAlpha:function(Tt){lt=Tt,At(at,lt)},render:St}}function WebGLBindingStates(et,_e,tt,rt){const nt=et.getParameter(34921),st=rt.isWebGL2?null:_e.get("OES_vertex_array_object"),ot=rt.isWebGL2||st!==null,at={},lt=Tt(null);let ft=lt,dt=!1;function gt(jt,Kt,qt,er,kt){let Vt=!1;if(ot){const Zt=At(er,qt,Kt);ft!==Zt&&(ft=Zt,vt(ft.object)),Vt=Ct(jt,er,qt,kt),Vt&&Mt(jt,er,qt,kt)}else{const Zt=Kt.wireframe===!0;(ft.geometry!==er.id||ft.program!==qt.id||ft.wireframe!==Zt)&&(ft.geometry=er.id,ft.program=qt.id,ft.wireframe=Zt,Vt=!0)}kt!==null&&tt.update(kt,34963),(Vt||dt)&&(dt=!1,wt(jt,Kt,qt,er),kt!==null&&et.bindBuffer(34963,tt.get(kt).buffer))}function pt(){return rt.isWebGL2?et.createVertexArray():st.createVertexArrayOES()}function vt(jt){return rt.isWebGL2?et.bindVertexArray(jt):st.bindVertexArrayOES(jt)}function St(jt){return rt.isWebGL2?et.deleteVertexArray(jt):st.deleteVertexArrayOES(jt)}function At(jt,Kt,qt){const er=qt.wireframe===!0;let kt=at[jt.id];kt===void 0&&(kt={},at[jt.id]=kt);let Vt=kt[Kt.id];Vt===void 0&&(Vt={},kt[Kt.id]=Vt);let Zt=Vt[er];return Zt===void 0&&(Zt=Tt(pt()),Vt[er]=Zt),Zt}function Tt(jt){const Kt=[],qt=[],er=[];for(let kt=0;kt<nt;kt++)Kt[kt]=0,qt[kt]=0,er[kt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Kt,enabledAttributes:qt,attributeDivisors:er,object:jt,attributes:{},index:null}}function Ct(jt,Kt,qt,er){const kt=ft.attributes,Vt=Kt.attributes;let Zt=0;const Wt=qt.getAttributes();for(const nr in Wt)if(Wt[nr].location>=0){const lr=kt[nr];let dr=Vt[nr];if(dr===void 0&&(nr==="instanceMatrix"&&jt.instanceMatrix&&(dr=jt.instanceMatrix),nr==="instanceColor"&&jt.instanceColor&&(dr=jt.instanceColor)),lr===void 0||lr.attribute!==dr||dr&&lr.data!==dr.data)return!0;Zt++}return ft.attributesNum!==Zt||ft.index!==er}function Mt(jt,Kt,qt,er){const kt={},Vt=Kt.attributes;let Zt=0;const Wt=qt.getAttributes();for(const nr in Wt)if(Wt[nr].location>=0){let lr=Vt[nr];lr===void 0&&(nr==="instanceMatrix"&&jt.instanceMatrix&&(lr=jt.instanceMatrix),nr==="instanceColor"&&jt.instanceColor&&(lr=jt.instanceColor));const dr={};dr.attribute=lr,lr&&lr.data&&(dr.data=lr.data),kt[nr]=dr,Zt++}ft.attributes=kt,ft.attributesNum=Zt,ft.index=er}function Et(){const jt=ft.newAttributes;for(let Kt=0,qt=jt.length;Kt<qt;Kt++)jt[Kt]=0}function Rt(jt){Bt(jt,0)}function Bt(jt,Kt){const qt=ft.newAttributes,er=ft.enabledAttributes,kt=ft.attributeDivisors;qt[jt]=1,er[jt]===0&&(et.enableVertexAttribArray(jt),er[jt]=1),kt[jt]!==Kt&&((rt.isWebGL2?et:_e.get("ANGLE_instanced_arrays"))[rt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](jt,Kt),kt[jt]=Kt)}function Ft(){const jt=ft.newAttributes,Kt=ft.enabledAttributes;for(let qt=0,er=Kt.length;qt<er;qt++)Kt[qt]!==jt[qt]&&(et.disableVertexAttribArray(qt),Kt[qt]=0)}function Lt(jt,Kt,qt,er,kt,Vt){rt.isWebGL2===!0&&(qt===5124||qt===5125)?et.vertexAttribIPointer(jt,Kt,qt,kt,Vt):et.vertexAttribPointer(jt,Kt,qt,er,kt,Vt)}function wt(jt,Kt,qt,er){if(rt.isWebGL2===!1&&(jt.isInstancedMesh||er.isInstancedBufferGeometry)&&_e.get("ANGLE_instanced_arrays")===null)return;Et();const kt=er.attributes,Vt=qt.getAttributes(),Zt=Kt.defaultAttributeValues;for(const Wt in Vt){const nr=Vt[Wt];if(nr.location>=0){let sr=kt[Wt];if(sr===void 0&&(Wt==="instanceMatrix"&&jt.instanceMatrix&&(sr=jt.instanceMatrix),Wt==="instanceColor"&&jt.instanceColor&&(sr=jt.instanceColor)),sr!==void 0){const lr=sr.normalized,dr=sr.itemSize,hr=tt.get(sr);if(hr===void 0)continue;const wr=hr.buffer,pr=hr.type,_r=hr.bytesPerElement;if(sr.isInterleavedBufferAttribute){const mr=sr.data,Er=mr.stride,ur=sr.offset;if(mr.isInstancedInterleavedBuffer){for(let xr=0;xr<nr.locationSize;xr++)Bt(nr.location+xr,mr.meshPerAttribute);jt.isInstancedMesh!==!0&&er._maxInstanceCount===void 0&&(er._maxInstanceCount=mr.meshPerAttribute*mr.count)}else for(let xr=0;xr<nr.locationSize;xr++)Rt(nr.location+xr);et.bindBuffer(34962,wr);for(let xr=0;xr<nr.locationSize;xr++)Lt(nr.location+xr,dr/nr.locationSize,pr,lr,Er*_r,(ur+dr/nr.locationSize*xr)*_r)}else{if(sr.isInstancedBufferAttribute){for(let mr=0;mr<nr.locationSize;mr++)Bt(nr.location+mr,sr.meshPerAttribute);jt.isInstancedMesh!==!0&&er._maxInstanceCount===void 0&&(er._maxInstanceCount=sr.meshPerAttribute*sr.count)}else for(let mr=0;mr<nr.locationSize;mr++)Rt(nr.location+mr);et.bindBuffer(34962,wr);for(let mr=0;mr<nr.locationSize;mr++)Lt(nr.location+mr,dr/nr.locationSize,pr,lr,dr*_r,dr/nr.locationSize*mr*_r)}}else if(Zt!==void 0){const lr=Zt[Wt];if(lr!==void 0)switch(lr.length){case 2:et.vertexAttrib2fv(nr.location,lr);break;case 3:et.vertexAttrib3fv(nr.location,lr);break;case 4:et.vertexAttrib4fv(nr.location,lr);break;default:et.vertexAttrib1fv(nr.location,lr)}}}}Ft()}function Dt(){zt();for(const jt in at){const Kt=at[jt];for(const qt in Kt){const er=Kt[qt];for(const kt in er)St(er[kt].object),delete er[kt];delete Kt[qt]}delete at[jt]}}function Ot(jt){if(at[jt.id]===void 0)return;const Kt=at[jt.id];for(const qt in Kt){const er=Kt[qt];for(const kt in er)St(er[kt].object),delete er[kt];delete Kt[qt]}delete at[jt.id]}function Ut(jt){for(const Kt in at){const qt=at[Kt];if(qt[jt.id]===void 0)continue;const er=qt[jt.id];for(const kt in er)St(er[kt].object),delete er[kt];delete qt[jt.id]}}function zt(){tr(),dt=!0,ft!==lt&&(ft=lt,vt(ft.object))}function tr(){lt.geometry=null,lt.program=null,lt.wireframe=!1}return{setup:gt,reset:zt,resetDefaultState:tr,dispose:Dt,releaseStatesOfGeometry:Ot,releaseStatesOfProgram:Ut,initAttributes:Et,enableAttribute:Rt,disableUnusedAttributes:Ft}}function WebGLBufferRenderer(et,_e,tt,rt){const nt=rt.isWebGL2;let st;function ot(ft){st=ft}function at(ft,dt){et.drawArrays(st,ft,dt),tt.update(dt,st,1)}function lt(ft,dt,gt){if(gt===0)return;let pt,vt;if(nt)pt=et,vt="drawArraysInstanced";else if(pt=_e.get("ANGLE_instanced_arrays"),vt="drawArraysInstancedANGLE",pt===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}pt[vt](st,ft,dt,gt),tt.update(dt,st,gt)}this.setMode=ot,this.render=at,this.renderInstances=lt}function WebGLCapabilities(et,_e,tt){let rt;function nt(){if(rt!==void 0)return rt;if(_e.has("EXT_texture_filter_anisotropic")===!0){const Lt=_e.get("EXT_texture_filter_anisotropic");rt=et.getParameter(Lt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else rt=0;return rt}function st(Lt){if(Lt==="highp"){if(et.getShaderPrecisionFormat(35633,36338).precision>0&&et.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Lt="mediump"}return Lt==="mediump"&&et.getShaderPrecisionFormat(35633,36337).precision>0&&et.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const ot=typeof WebGL2RenderingContext<"u"&&et instanceof WebGL2RenderingContext;let at=tt.precision!==void 0?tt.precision:"highp";const lt=st(at);lt!==at&&(console.warn("THREE.WebGLRenderer:",at,"not supported, using",lt,"instead."),at=lt);const ft=ot||_e.has("WEBGL_draw_buffers"),dt=tt.logarithmicDepthBuffer===!0,gt=et.getParameter(34930),pt=et.getParameter(35660),vt=et.getParameter(3379),St=et.getParameter(34076),At=et.getParameter(34921),Tt=et.getParameter(36347),Ct=et.getParameter(36348),Mt=et.getParameter(36349),Et=pt>0,Rt=ot||_e.has("OES_texture_float"),Bt=Et&&Rt,Ft=ot?et.getParameter(36183):0;return{isWebGL2:ot,drawBuffers:ft,getMaxAnisotropy:nt,getMaxPrecision:st,precision:at,logarithmicDepthBuffer:dt,maxTextures:gt,maxVertexTextures:pt,maxTextureSize:vt,maxCubemapSize:St,maxAttributes:At,maxVertexUniforms:Tt,maxVaryings:Ct,maxFragmentUniforms:Mt,vertexTextures:Et,floatFragmentTextures:Rt,floatVertexTextures:Bt,maxSamples:Ft}}function WebGLClipping(et){const _e=this;let tt=null,rt=0,nt=!1,st=!1;const ot=new Plane,at=new Matrix3,lt={value:null,needsUpdate:!1};this.uniform=lt,this.numPlanes=0,this.numIntersection=0,this.init=function(gt,pt){const vt=gt.length!==0||pt||rt!==0||nt;return nt=pt,rt=gt.length,vt},this.beginShadows=function(){st=!0,dt(null)},this.endShadows=function(){st=!1},this.setGlobalState=function(gt,pt){tt=dt(gt,pt,0)},this.setState=function(gt,pt,vt){const St=gt.clippingPlanes,At=gt.clipIntersection,Tt=gt.clipShadows,Ct=et.get(gt);if(!nt||St===null||St.length===0||st&&!Tt)st?dt(null):ft();else{const Mt=st?0:rt,Et=Mt*4;let Rt=Ct.clippingState||null;lt.value=Rt,Rt=dt(St,pt,Et,vt);for(let Bt=0;Bt!==Et;++Bt)Rt[Bt]=tt[Bt];Ct.clippingState=Rt,this.numIntersection=At?this.numPlanes:0,this.numPlanes+=Mt}};function ft(){lt.value!==tt&&(lt.value=tt,lt.needsUpdate=rt>0),_e.numPlanes=rt,_e.numIntersection=0}function dt(gt,pt,vt,St){const At=gt!==null?gt.length:0;let Tt=null;if(At!==0){if(Tt=lt.value,St!==!0||Tt===null){const Ct=vt+At*4,Mt=pt.matrixWorldInverse;at.getNormalMatrix(Mt),(Tt===null||Tt.length<Ct)&&(Tt=new Float32Array(Ct));for(let Et=0,Rt=vt;Et!==At;++Et,Rt+=4)ot.copy(gt[Et]).applyMatrix4(Mt,at),ot.normal.toArray(Tt,Rt),Tt[Rt+3]=ot.constant}lt.value=Tt,lt.needsUpdate=!0}return _e.numPlanes=At,_e.numIntersection=0,Tt}}function WebGLCubeMaps(et){let _e=new WeakMap;function tt(ot,at){return at===EquirectangularReflectionMapping?ot.mapping=CubeReflectionMapping:at===EquirectangularRefractionMapping&&(ot.mapping=CubeRefractionMapping),ot}function rt(ot){if(ot&&ot.isTexture&&ot.isRenderTargetTexture===!1){const at=ot.mapping;if(at===EquirectangularReflectionMapping||at===EquirectangularRefractionMapping)if(_e.has(ot)){const lt=_e.get(ot).texture;return tt(lt,ot.mapping)}else{const lt=ot.image;if(lt&&lt.height>0){const ft=new WebGLCubeRenderTarget(lt.height/2);return ft.fromEquirectangularTexture(et,ot),_e.set(ot,ft),ot.addEventListener("dispose",nt),tt(ft.texture,ot.mapping)}else return null}}return ot}function nt(ot){const at=ot.target;at.removeEventListener("dispose",nt);const lt=_e.get(at);lt!==void 0&&(_e.delete(at),lt.dispose())}function st(){_e=new WeakMap}return{get:rt,dispose:st}}class OrthographicCamera extends Camera{constructor(_e=-1,tt=1,rt=1,nt=-1,st=.1,ot=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_e,this.right=tt,this.top=rt,this.bottom=nt,this.near=st,this.far=ot,this.updateProjectionMatrix()}copy(_e,tt){return super.copy(_e,tt),this.left=_e.left,this.right=_e.right,this.top=_e.top,this.bottom=_e.bottom,this.near=_e.near,this.far=_e.far,this.zoom=_e.zoom,this.view=_e.view===null?null:Object.assign({},_e.view),this}setViewOffset(_e,tt,rt,nt,st,ot){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_e,this.view.fullHeight=tt,this.view.offsetX=rt,this.view.offsetY=nt,this.view.width=st,this.view.height=ot,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _e=(this.right-this.left)/(2*this.zoom),tt=(this.top-this.bottom)/(2*this.zoom),rt=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let st=rt-_e,ot=rt+_e,at=nt+tt,lt=nt-tt;if(this.view!==null&&this.view.enabled){const ft=(this.right-this.left)/this.view.fullWidth/this.zoom,dt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;st+=ft*this.view.offsetX,ot=st+ft*this.view.width,at-=dt*this.view.offsetY,lt=at-dt*this.view.height}this.projectionMatrix.makeOrthographic(st,ot,at,lt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_e){const tt=super.toJSON(_e);return tt.object.zoom=this.zoom,tt.object.left=this.left,tt.object.right=this.right,tt.object.top=this.top,tt.object.bottom=this.bottom,tt.object.near=this.near,tt.object.far=this.far,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(_e){this._renderer=_e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(_e,tt=0,rt=.1,nt=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const st=this._allocateTargets();return st.depthBuffer=!0,this._sceneToCubeUV(_e,rt,nt,st),tt>0&&this._blur(st,0,0,tt),this._applyPMREM(st),this._cleanup(st),st}fromEquirectangular(_e,tt=null){return this._fromTexture(_e,tt)}fromCubemap(_e,tt=null){return this._fromTexture(_e,tt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(_e){this._lodMax=Math.floor(Math.log2(_e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let _e=0;_e<this._lodPlanes.length;_e++)this._lodPlanes[_e].dispose()}_cleanup(_e){this._renderer.setRenderTarget(_oldTarget),_e.scissorTest=!1,_setViewport(_e,0,0,_e.width,_e.height)}_fromTexture(_e,tt){_e.mapping===CubeReflectionMapping||_e.mapping===CubeRefractionMapping?this._setSize(_e.image.length===0?16:_e.image[0].width||_e.image[0].image.width):this._setSize(_e.image.width/4),_oldTarget=this._renderer.getRenderTarget();const rt=tt||this._allocateTargets();return this._textureToCubeUV(_e,rt),this._applyPMREM(rt),this._cleanup(rt),rt}_allocateTargets(){const _e=3*Math.max(this._cubeSize,112),tt=4*this._cubeSize,rt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},nt=_createRenderTarget(_e,tt,rt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==_e||this._pingPongRenderTarget.height!==tt){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(_e,tt,rt);const{_lodMax:st}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(st)),this._blurMaterial=_getBlurShader(st,_e,tt)}return nt}_compileMaterial(_e){const tt=new Mesh(this._lodPlanes[0],_e);this._renderer.compile(tt,_flatCamera)}_sceneToCubeUV(_e,tt,rt,nt){const at=new PerspectiveCamera$1(90,1,tt,rt),lt=[1,-1,1,1,1,1],ft=[1,1,1,-1,-1,-1],dt=this._renderer,gt=dt.autoClear,pt=dt.toneMapping;dt.getClearColor(_clearColor),dt.toneMapping=NoToneMapping,dt.autoClear=!1;const vt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),St=new Mesh(new BoxGeometry,vt);let At=!1;const Tt=_e.background;Tt?Tt.isColor&&(vt.color.copy(Tt),_e.background=null,At=!0):(vt.color.copy(_clearColor),At=!0);for(let Ct=0;Ct<6;Ct++){const Mt=Ct%3;Mt===0?(at.up.set(0,lt[Ct],0),at.lookAt(ft[Ct],0,0)):Mt===1?(at.up.set(0,0,lt[Ct]),at.lookAt(0,ft[Ct],0)):(at.up.set(0,lt[Ct],0),at.lookAt(0,0,ft[Ct]));const Et=this._cubeSize;_setViewport(nt,Mt*Et,Ct>2?Et:0,Et,Et),dt.setRenderTarget(nt),At&&dt.render(St,at),dt.render(_e,at)}St.geometry.dispose(),St.material.dispose(),dt.toneMapping=pt,dt.autoClear=gt,_e.background=Tt}_textureToCubeUV(_e,tt){const rt=this._renderer,nt=_e.mapping===CubeReflectionMapping||_e.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=_e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const st=nt?this._cubemapMaterial:this._equirectMaterial,ot=new Mesh(this._lodPlanes[0],st),at=st.uniforms;at.envMap.value=_e;const lt=this._cubeSize;_setViewport(tt,0,0,3*lt,2*lt),rt.setRenderTarget(tt),rt.render(ot,_flatCamera)}_applyPMREM(_e){const tt=this._renderer,rt=tt.autoClear;tt.autoClear=!1;for(let nt=1;nt<this._lodPlanes.length;nt++){const st=Math.sqrt(this._sigmas[nt]*this._sigmas[nt]-this._sigmas[nt-1]*this._sigmas[nt-1]),ot=_axisDirections[(nt-1)%_axisDirections.length];this._blur(_e,nt-1,nt,st,ot)}tt.autoClear=rt}_blur(_e,tt,rt,nt,st){const ot=this._pingPongRenderTarget;this._halfBlur(_e,ot,tt,rt,nt,"latitudinal",st),this._halfBlur(ot,_e,rt,rt,nt,"longitudinal",st)}_halfBlur(_e,tt,rt,nt,st,ot,at){const lt=this._renderer,ft=this._blurMaterial;ot!=="latitudinal"&&ot!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const dt=3,gt=new Mesh(this._lodPlanes[nt],ft),pt=ft.uniforms,vt=this._sizeLods[rt]-1,St=isFinite(st)?Math.PI/(2*vt):2*Math.PI/(2*MAX_SAMPLES-1),At=st/St,Tt=isFinite(st)?1+Math.floor(dt*At):MAX_SAMPLES;Tt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${st}, is too large and will clip, as it requested ${Tt} samples when the maximum is set to ${MAX_SAMPLES}`);const Ct=[];let Mt=0;for(let Lt=0;Lt<MAX_SAMPLES;++Lt){const wt=Lt/At,Dt=Math.exp(-wt*wt/2);Ct.push(Dt),Lt===0?Mt+=Dt:Lt<Tt&&(Mt+=2*Dt)}for(let Lt=0;Lt<Ct.length;Lt++)Ct[Lt]=Ct[Lt]/Mt;pt.envMap.value=_e.texture,pt.samples.value=Tt,pt.weights.value=Ct,pt.latitudinal.value=ot==="latitudinal",at&&(pt.poleAxis.value=at);const{_lodMax:Et}=this;pt.dTheta.value=St,pt.mipInt.value=Et-rt;const Rt=this._sizeLods[nt],Bt=3*Rt*(nt>Et-LOD_MIN?nt-Et+LOD_MIN:0),Ft=4*(this._cubeSize-Rt);_setViewport(tt,Bt,Ft,3*Rt,2*Rt),lt.setRenderTarget(tt),lt.render(gt,_flatCamera)}}function _createPlanes(et){const _e=[],tt=[],rt=[];let nt=et;const st=et-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let ot=0;ot<st;ot++){const at=Math.pow(2,nt);tt.push(at);let lt=1/at;ot>et-LOD_MIN?lt=EXTRA_LOD_SIGMA[ot-et+LOD_MIN-1]:ot===0&&(lt=0),rt.push(lt);const ft=1/(at-2),dt=-ft,gt=1+ft,pt=[dt,dt,gt,dt,gt,gt,dt,dt,gt,gt,dt,gt],vt=6,St=6,At=3,Tt=2,Ct=1,Mt=new Float32Array(At*St*vt),Et=new Float32Array(Tt*St*vt),Rt=new Float32Array(Ct*St*vt);for(let Ft=0;Ft<vt;Ft++){const Lt=Ft%3*2/3-1,wt=Ft>2?0:-1,Dt=[Lt,wt,0,Lt+2/3,wt,0,Lt+2/3,wt+1,0,Lt,wt,0,Lt+2/3,wt+1,0,Lt,wt+1,0];Mt.set(Dt,At*St*Ft),Et.set(pt,Tt*St*Ft);const Ot=[Ft,Ft,Ft,Ft,Ft,Ft];Rt.set(Ot,Ct*St*Ft)}const Bt=new BufferGeometry;Bt.setAttribute("position",new BufferAttribute(Mt,At)),Bt.setAttribute("uv",new BufferAttribute(Et,Tt)),Bt.setAttribute("faceIndex",new BufferAttribute(Rt,Ct)),_e.push(Bt),nt>LOD_MIN&&nt--}return{lodPlanes:_e,sizeLods:tt,sigmas:rt}}function _createRenderTarget(et,_e,tt){const rt=new WebGLRenderTarget(et,_e,tt);return rt.texture.mapping=CubeUVReflectionMapping,rt.texture.name="PMREM.cubeUv",rt.scissorTest=!0,rt}function _setViewport(et,_e,tt,rt,nt){et.viewport.set(_e,tt,rt,nt),et.scissor.set(_e,tt,rt,nt)}function _getBlurShader(et,_e,tt){const rt=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/_e,CUBEUV_TEXEL_HEIGHT:1/tt,CUBEUV_MAX_MIP:`${et}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:rt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(et){let _e=new WeakMap,tt=null;function rt(at){if(at&&at.isTexture){const lt=at.mapping,ft=lt===EquirectangularReflectionMapping||lt===EquirectangularRefractionMapping,dt=lt===CubeReflectionMapping||lt===CubeRefractionMapping;if(ft||dt)if(at.isRenderTargetTexture&&at.needsPMREMUpdate===!0){at.needsPMREMUpdate=!1;let gt=_e.get(at);return tt===null&&(tt=new PMREMGenerator(et)),gt=ft?tt.fromEquirectangular(at,gt):tt.fromCubemap(at,gt),_e.set(at,gt),gt.texture}else{if(_e.has(at))return _e.get(at).texture;{const gt=at.image;if(ft&&gt&&gt.height>0||dt&&gt&&nt(gt)){tt===null&&(tt=new PMREMGenerator(et));const pt=ft?tt.fromEquirectangular(at):tt.fromCubemap(at);return _e.set(at,pt),at.addEventListener("dispose",st),pt.texture}else return null}}}return at}function nt(at){let lt=0;const ft=6;for(let dt=0;dt<ft;dt++)at[dt]!==void 0&&lt++;return lt===ft}function st(at){const lt=at.target;lt.removeEventListener("dispose",st);const ft=_e.get(lt);ft!==void 0&&(_e.delete(lt),ft.dispose())}function ot(){_e=new WeakMap,tt!==null&&(tt.dispose(),tt=null)}return{get:rt,dispose:ot}}function WebGLExtensions(et){const _e={};function tt(rt){if(_e[rt]!==void 0)return _e[rt];let nt;switch(rt){case"WEBGL_depth_texture":nt=et.getExtension("WEBGL_depth_texture")||et.getExtension("MOZ_WEBGL_depth_texture")||et.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=et.getExtension("EXT_texture_filter_anisotropic")||et.getExtension("MOZ_EXT_texture_filter_anisotropic")||et.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=et.getExtension("WEBGL_compressed_texture_s3tc")||et.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=et.getExtension("WEBGL_compressed_texture_pvrtc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=et.getExtension(rt)}return _e[rt]=nt,nt}return{has:function(rt){return tt(rt)!==null},init:function(rt){rt.isWebGL2?tt("EXT_color_buffer_float"):(tt("WEBGL_depth_texture"),tt("OES_texture_float"),tt("OES_texture_half_float"),tt("OES_texture_half_float_linear"),tt("OES_standard_derivatives"),tt("OES_element_index_uint"),tt("OES_vertex_array_object"),tt("ANGLE_instanced_arrays")),tt("OES_texture_float_linear"),tt("EXT_color_buffer_half_float"),tt("WEBGL_multisampled_render_to_texture")},get:function(rt){const nt=tt(rt);return nt===null&&console.warn("THREE.WebGLRenderer: "+rt+" extension not supported."),nt}}}function WebGLGeometries(et,_e,tt,rt){const nt={},st=new WeakMap;function ot(gt){const pt=gt.target;pt.index!==null&&_e.remove(pt.index);for(const St in pt.attributes)_e.remove(pt.attributes[St]);pt.removeEventListener("dispose",ot),delete nt[pt.id];const vt=st.get(pt);vt&&(_e.remove(vt),st.delete(pt)),rt.releaseStatesOfGeometry(pt),pt.isInstancedBufferGeometry===!0&&delete pt._maxInstanceCount,tt.memory.geometries--}function at(gt,pt){return nt[pt.id]===!0||(pt.addEventListener("dispose",ot),nt[pt.id]=!0,tt.memory.geometries++),pt}function lt(gt){const pt=gt.attributes;for(const St in pt)_e.update(pt[St],34962);const vt=gt.morphAttributes;for(const St in vt){const At=vt[St];for(let Tt=0,Ct=At.length;Tt<Ct;Tt++)_e.update(At[Tt],34962)}}function ft(gt){const pt=[],vt=gt.index,St=gt.attributes.position;let At=0;if(vt!==null){const Mt=vt.array;At=vt.version;for(let Et=0,Rt=Mt.length;Et<Rt;Et+=3){const Bt=Mt[Et+0],Ft=Mt[Et+1],Lt=Mt[Et+2];pt.push(Bt,Ft,Ft,Lt,Lt,Bt)}}else{const Mt=St.array;At=St.version;for(let Et=0,Rt=Mt.length/3-1;Et<Rt;Et+=3){const Bt=Et+0,Ft=Et+1,Lt=Et+2;pt.push(Bt,Ft,Ft,Lt,Lt,Bt)}}const Tt=new(arrayNeedsUint32(pt)?Uint32BufferAttribute:Uint16BufferAttribute)(pt,1);Tt.version=At;const Ct=st.get(gt);Ct&&_e.remove(Ct),st.set(gt,Tt)}function dt(gt){const pt=st.get(gt);if(pt){const vt=gt.index;vt!==null&&pt.version<vt.version&&ft(gt)}else ft(gt);return st.get(gt)}return{get:at,update:lt,getWireframeAttribute:dt}}function WebGLIndexedBufferRenderer(et,_e,tt,rt){const nt=rt.isWebGL2;let st;function ot(pt){st=pt}let at,lt;function ft(pt){at=pt.type,lt=pt.bytesPerElement}function dt(pt,vt){et.drawElements(st,vt,at,pt*lt),tt.update(vt,st,1)}function gt(pt,vt,St){if(St===0)return;let At,Tt;if(nt)At=et,Tt="drawElementsInstanced";else if(At=_e.get("ANGLE_instanced_arrays"),Tt="drawElementsInstancedANGLE",At===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}At[Tt](st,vt,at,pt*lt,St),tt.update(vt,st,St)}this.setMode=ot,this.setIndex=ft,this.render=dt,this.renderInstances=gt}function WebGLInfo(et){const _e={geometries:0,textures:0},tt={frame:0,calls:0,triangles:0,points:0,lines:0};function rt(st,ot,at){switch(tt.calls++,ot){case 4:tt.triangles+=at*(st/3);break;case 1:tt.lines+=at*(st/2);break;case 3:tt.lines+=at*(st-1);break;case 2:tt.lines+=at*st;break;case 0:tt.points+=at*st;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",ot);break}}function nt(){tt.frame++,tt.calls=0,tt.triangles=0,tt.points=0,tt.lines=0}return{memory:_e,render:tt,programs:null,autoReset:!0,reset:nt,update:rt}}function numericalSort(et,_e){return et[0]-_e[0]}function absNumericalSort(et,_e){return Math.abs(_e[1])-Math.abs(et[1])}function WebGLMorphtargets(et,_e,tt){const rt={},nt=new Float32Array(8),st=new WeakMap,ot=new Vector4,at=[];for(let ft=0;ft<8;ft++)at[ft]=[ft,0];function lt(ft,dt,gt,pt){const vt=ft.morphTargetInfluences;if(_e.isWebGL2===!0){const At=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,Tt=At!==void 0?At.length:0;let Ct=st.get(dt);if(Ct===void 0||Ct.count!==Tt){let qt=function(){jt.dispose(),st.delete(dt),dt.removeEventListener("dispose",qt)};var St=qt;Ct!==void 0&&Ct.texture.dispose();const Rt=dt.morphAttributes.position!==void 0,Bt=dt.morphAttributes.normal!==void 0,Ft=dt.morphAttributes.color!==void 0,Lt=dt.morphAttributes.position||[],wt=dt.morphAttributes.normal||[],Dt=dt.morphAttributes.color||[];let Ot=0;Rt===!0&&(Ot=1),Bt===!0&&(Ot=2),Ft===!0&&(Ot=3);let Ut=dt.attributes.position.count*Ot,zt=1;Ut>_e.maxTextureSize&&(zt=Math.ceil(Ut/_e.maxTextureSize),Ut=_e.maxTextureSize);const tr=new Float32Array(Ut*zt*4*Tt),jt=new DataArrayTexture(tr,Ut,zt,Tt);jt.type=FloatType,jt.needsUpdate=!0;const Kt=Ot*4;for(let er=0;er<Tt;er++){const kt=Lt[er],Vt=wt[er],Zt=Dt[er],Wt=Ut*zt*4*er;for(let nr=0;nr<kt.count;nr++){const sr=nr*Kt;Rt===!0&&(ot.fromBufferAttribute(kt,nr),tr[Wt+sr+0]=ot.x,tr[Wt+sr+1]=ot.y,tr[Wt+sr+2]=ot.z,tr[Wt+sr+3]=0),Bt===!0&&(ot.fromBufferAttribute(Vt,nr),tr[Wt+sr+4]=ot.x,tr[Wt+sr+5]=ot.y,tr[Wt+sr+6]=ot.z,tr[Wt+sr+7]=0),Ft===!0&&(ot.fromBufferAttribute(Zt,nr),tr[Wt+sr+8]=ot.x,tr[Wt+sr+9]=ot.y,tr[Wt+sr+10]=ot.z,tr[Wt+sr+11]=Zt.itemSize===4?ot.w:1)}}Ct={count:Tt,texture:jt,size:new Vector2(Ut,zt)},st.set(dt,Ct),dt.addEventListener("dispose",qt)}let Mt=0;for(let Rt=0;Rt<vt.length;Rt++)Mt+=vt[Rt];const Et=dt.morphTargetsRelative?1:1-Mt;pt.getUniforms().setValue(et,"morphTargetBaseInfluence",Et),pt.getUniforms().setValue(et,"morphTargetInfluences",vt),pt.getUniforms().setValue(et,"morphTargetsTexture",Ct.texture,tt),pt.getUniforms().setValue(et,"morphTargetsTextureSize",Ct.size)}else{const At=vt===void 0?0:vt.length;let Tt=rt[dt.id];if(Tt===void 0||Tt.length!==At){Tt=[];for(let Bt=0;Bt<At;Bt++)Tt[Bt]=[Bt,0];rt[dt.id]=Tt}for(let Bt=0;Bt<At;Bt++){const Ft=Tt[Bt];Ft[0]=Bt,Ft[1]=vt[Bt]}Tt.sort(absNumericalSort);for(let Bt=0;Bt<8;Bt++)Bt<At&&Tt[Bt][1]?(at[Bt][0]=Tt[Bt][0],at[Bt][1]=Tt[Bt][1]):(at[Bt][0]=Number.MAX_SAFE_INTEGER,at[Bt][1]=0);at.sort(numericalSort);const Ct=dt.morphAttributes.position,Mt=dt.morphAttributes.normal;let Et=0;for(let Bt=0;Bt<8;Bt++){const Ft=at[Bt],Lt=Ft[0],wt=Ft[1];Lt!==Number.MAX_SAFE_INTEGER&&wt?(Ct&&dt.getAttribute("morphTarget"+Bt)!==Ct[Lt]&&dt.setAttribute("morphTarget"+Bt,Ct[Lt]),Mt&&dt.getAttribute("morphNormal"+Bt)!==Mt[Lt]&&dt.setAttribute("morphNormal"+Bt,Mt[Lt]),nt[Bt]=wt,Et+=wt):(Ct&&dt.hasAttribute("morphTarget"+Bt)===!0&&dt.deleteAttribute("morphTarget"+Bt),Mt&&dt.hasAttribute("morphNormal"+Bt)===!0&&dt.deleteAttribute("morphNormal"+Bt),nt[Bt]=0)}const Rt=dt.morphTargetsRelative?1:1-Et;pt.getUniforms().setValue(et,"morphTargetBaseInfluence",Rt),pt.getUniforms().setValue(et,"morphTargetInfluences",nt)}}return{update:lt}}function WebGLObjects(et,_e,tt,rt){let nt=new WeakMap;function st(lt){const ft=rt.render.frame,dt=lt.geometry,gt=_e.get(lt,dt);return nt.get(gt)!==ft&&(_e.update(gt),nt.set(gt,ft)),lt.isInstancedMesh&&(lt.hasEventListener("dispose",at)===!1&&lt.addEventListener("dispose",at),tt.update(lt.instanceMatrix,34962),lt.instanceColor!==null&&tt.update(lt.instanceColor,34962)),gt}function ot(){nt=new WeakMap}function at(lt){const ft=lt.target;ft.removeEventListener("dispose",at),tt.remove(ft.instanceMatrix),ft.instanceColor!==null&&tt.remove(ft.instanceColor)}return{update:st,dispose:ot}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(et,_e,tt){const rt=et[0];if(rt<=0||rt>0)return et;const nt=_e*tt;let st=arrayCacheF32[nt];if(st===void 0&&(st=new Float32Array(nt),arrayCacheF32[nt]=st),_e!==0){rt.toArray(st,0);for(let ot=1,at=0;ot!==_e;++ot)at+=tt,et[ot].toArray(st,at)}return st}function arraysEqual(et,_e){if(et.length!==_e.length)return!1;for(let tt=0,rt=et.length;tt<rt;tt++)if(et[tt]!==_e[tt])return!1;return!0}function copyArray(et,_e){for(let tt=0,rt=_e.length;tt<rt;tt++)et[tt]=_e[tt]}function allocTexUnits(et,_e){let tt=arrayCacheI32[_e];tt===void 0&&(tt=new Int32Array(_e),arrayCacheI32[_e]=tt);for(let rt=0;rt!==_e;++rt)tt[rt]=et.allocateTextureUnit();return tt}function setValueV1f(et,_e){const tt=this.cache;tt[0]!==_e&&(et.uniform1f(this.addr,_e),tt[0]=_e)}function setValueV2f(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y)&&(et.uniform2f(this.addr,_e.x,_e.y),tt[0]=_e.x,tt[1]=_e.y);else{if(arraysEqual(tt,_e))return;et.uniform2fv(this.addr,_e),copyArray(tt,_e)}}function setValueV3f(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z)&&(et.uniform3f(this.addr,_e.x,_e.y,_e.z),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z);else if(_e.r!==void 0)(tt[0]!==_e.r||tt[1]!==_e.g||tt[2]!==_e.b)&&(et.uniform3f(this.addr,_e.r,_e.g,_e.b),tt[0]=_e.r,tt[1]=_e.g,tt[2]=_e.b);else{if(arraysEqual(tt,_e))return;et.uniform3fv(this.addr,_e),copyArray(tt,_e)}}function setValueV4f(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z||tt[3]!==_e.w)&&(et.uniform4f(this.addr,_e.x,_e.y,_e.z,_e.w),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z,tt[3]=_e.w);else{if(arraysEqual(tt,_e))return;et.uniform4fv(this.addr,_e),copyArray(tt,_e)}}function setValueM2(et,_e){const tt=this.cache,rt=_e.elements;if(rt===void 0){if(arraysEqual(tt,_e))return;et.uniformMatrix2fv(this.addr,!1,_e),copyArray(tt,_e)}else{if(arraysEqual(tt,rt))return;mat2array.set(rt),et.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(tt,rt)}}function setValueM3(et,_e){const tt=this.cache,rt=_e.elements;if(rt===void 0){if(arraysEqual(tt,_e))return;et.uniformMatrix3fv(this.addr,!1,_e),copyArray(tt,_e)}else{if(arraysEqual(tt,rt))return;mat3array.set(rt),et.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(tt,rt)}}function setValueM4(et,_e){const tt=this.cache,rt=_e.elements;if(rt===void 0){if(arraysEqual(tt,_e))return;et.uniformMatrix4fv(this.addr,!1,_e),copyArray(tt,_e)}else{if(arraysEqual(tt,rt))return;mat4array.set(rt),et.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(tt,rt)}}function setValueV1i(et,_e){const tt=this.cache;tt[0]!==_e&&(et.uniform1i(this.addr,_e),tt[0]=_e)}function setValueV2i(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y)&&(et.uniform2i(this.addr,_e.x,_e.y),tt[0]=_e.x,tt[1]=_e.y);else{if(arraysEqual(tt,_e))return;et.uniform2iv(this.addr,_e),copyArray(tt,_e)}}function setValueV3i(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z)&&(et.uniform3i(this.addr,_e.x,_e.y,_e.z),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z);else{if(arraysEqual(tt,_e))return;et.uniform3iv(this.addr,_e),copyArray(tt,_e)}}function setValueV4i(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z||tt[3]!==_e.w)&&(et.uniform4i(this.addr,_e.x,_e.y,_e.z,_e.w),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z,tt[3]=_e.w);else{if(arraysEqual(tt,_e))return;et.uniform4iv(this.addr,_e),copyArray(tt,_e)}}function setValueV1ui(et,_e){const tt=this.cache;tt[0]!==_e&&(et.uniform1ui(this.addr,_e),tt[0]=_e)}function setValueV2ui(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y)&&(et.uniform2ui(this.addr,_e.x,_e.y),tt[0]=_e.x,tt[1]=_e.y);else{if(arraysEqual(tt,_e))return;et.uniform2uiv(this.addr,_e),copyArray(tt,_e)}}function setValueV3ui(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z)&&(et.uniform3ui(this.addr,_e.x,_e.y,_e.z),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z);else{if(arraysEqual(tt,_e))return;et.uniform3uiv(this.addr,_e),copyArray(tt,_e)}}function setValueV4ui(et,_e){const tt=this.cache;if(_e.x!==void 0)(tt[0]!==_e.x||tt[1]!==_e.y||tt[2]!==_e.z||tt[3]!==_e.w)&&(et.uniform4ui(this.addr,_e.x,_e.y,_e.z,_e.w),tt[0]=_e.x,tt[1]=_e.y,tt[2]=_e.z,tt[3]=_e.w);else{if(arraysEqual(tt,_e))return;et.uniform4uiv(this.addr,_e),copyArray(tt,_e)}}function setValueT1(et,_e,tt){const rt=this.cache,nt=tt.allocateTextureUnit();rt[0]!==nt&&(et.uniform1i(this.addr,nt),rt[0]=nt),tt.setTexture2D(_e||emptyTexture,nt)}function setValueT3D1(et,_e,tt){const rt=this.cache,nt=tt.allocateTextureUnit();rt[0]!==nt&&(et.uniform1i(this.addr,nt),rt[0]=nt),tt.setTexture3D(_e||empty3dTexture,nt)}function setValueT6(et,_e,tt){const rt=this.cache,nt=tt.allocateTextureUnit();rt[0]!==nt&&(et.uniform1i(this.addr,nt),rt[0]=nt),tt.setTextureCube(_e||emptyCubeTexture,nt)}function setValueT2DArray1(et,_e,tt){const rt=this.cache,nt=tt.allocateTextureUnit();rt[0]!==nt&&(et.uniform1i(this.addr,nt),rt[0]=nt),tt.setTexture2DArray(_e||emptyArrayTexture,nt)}function getSingularSetter(et){switch(et){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(et,_e){et.uniform1fv(this.addr,_e)}function setValueV2fArray(et,_e){const tt=flatten(_e,this.size,2);et.uniform2fv(this.addr,tt)}function setValueV3fArray(et,_e){const tt=flatten(_e,this.size,3);et.uniform3fv(this.addr,tt)}function setValueV4fArray(et,_e){const tt=flatten(_e,this.size,4);et.uniform4fv(this.addr,tt)}function setValueM2Array(et,_e){const tt=flatten(_e,this.size,4);et.uniformMatrix2fv(this.addr,!1,tt)}function setValueM3Array(et,_e){const tt=flatten(_e,this.size,9);et.uniformMatrix3fv(this.addr,!1,tt)}function setValueM4Array(et,_e){const tt=flatten(_e,this.size,16);et.uniformMatrix4fv(this.addr,!1,tt)}function setValueV1iArray(et,_e){et.uniform1iv(this.addr,_e)}function setValueV2iArray(et,_e){et.uniform2iv(this.addr,_e)}function setValueV3iArray(et,_e){et.uniform3iv(this.addr,_e)}function setValueV4iArray(et,_e){et.uniform4iv(this.addr,_e)}function setValueV1uiArray(et,_e){et.uniform1uiv(this.addr,_e)}function setValueV2uiArray(et,_e){et.uniform2uiv(this.addr,_e)}function setValueV3uiArray(et,_e){et.uniform3uiv(this.addr,_e)}function setValueV4uiArray(et,_e){et.uniform4uiv(this.addr,_e)}function setValueT1Array(et,_e,tt){const rt=this.cache,nt=_e.length,st=allocTexUnits(tt,nt);arraysEqual(rt,st)||(et.uniform1iv(this.addr,st),copyArray(rt,st));for(let ot=0;ot!==nt;++ot)tt.setTexture2D(_e[ot]||emptyTexture,st[ot])}function setValueT3DArray(et,_e,tt){const rt=this.cache,nt=_e.length,st=allocTexUnits(tt,nt);arraysEqual(rt,st)||(et.uniform1iv(this.addr,st),copyArray(rt,st));for(let ot=0;ot!==nt;++ot)tt.setTexture3D(_e[ot]||empty3dTexture,st[ot])}function setValueT6Array(et,_e,tt){const rt=this.cache,nt=_e.length,st=allocTexUnits(tt,nt);arraysEqual(rt,st)||(et.uniform1iv(this.addr,st),copyArray(rt,st));for(let ot=0;ot!==nt;++ot)tt.setTextureCube(_e[ot]||emptyCubeTexture,st[ot])}function setValueT2DArrayArray(et,_e,tt){const rt=this.cache,nt=_e.length,st=allocTexUnits(tt,nt);arraysEqual(rt,st)||(et.uniform1iv(this.addr,st),copyArray(rt,st));for(let ot=0;ot!==nt;++ot)tt.setTexture2DArray(_e[ot]||emptyArrayTexture,st[ot])}function getPureArraySetter(et){switch(et){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(_e,tt,rt){this.id=_e,this.addr=rt,this.cache=[],this.setValue=getSingularSetter(tt.type)}}class PureArrayUniform{constructor(_e,tt,rt){this.id=_e,this.addr=rt,this.cache=[],this.size=tt.size,this.setValue=getPureArraySetter(tt.type)}}class StructuredUniform{constructor(_e){this.id=_e,this.seq=[],this.map={}}setValue(_e,tt,rt){const nt=this.seq;for(let st=0,ot=nt.length;st!==ot;++st){const at=nt[st];at.setValue(_e,tt[at.id],rt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(et,_e){et.seq.push(_e),et.map[_e.id]=_e}function parseUniform(et,_e,tt){const rt=et.name,nt=rt.length;for(RePathPart.lastIndex=0;;){const st=RePathPart.exec(rt),ot=RePathPart.lastIndex;let at=st[1];const lt=st[2]==="]",ft=st[3];if(lt&&(at=at|0),ft===void 0||ft==="["&&ot+2===nt){addUniform(tt,ft===void 0?new SingleUniform(at,et,_e):new PureArrayUniform(at,et,_e));break}else{let gt=tt.map[at];gt===void 0&&(gt=new StructuredUniform(at),addUniform(tt,gt)),tt=gt}}}class WebGLUniforms{constructor(_e,tt){this.seq=[],this.map={};const rt=_e.getProgramParameter(tt,35718);for(let nt=0;nt<rt;++nt){const st=_e.getActiveUniform(tt,nt),ot=_e.getUniformLocation(tt,st.name);parseUniform(st,ot,this)}}setValue(_e,tt,rt,nt){const st=this.map[tt];st!==void 0&&st.setValue(_e,rt,nt)}setOptional(_e,tt,rt){const nt=tt[rt];nt!==void 0&&this.setValue(_e,rt,nt)}static upload(_e,tt,rt,nt){for(let st=0,ot=tt.length;st!==ot;++st){const at=tt[st],lt=rt[at.id];lt.needsUpdate!==!1&&at.setValue(_e,lt.value,nt)}}static seqWithValue(_e,tt){const rt=[];for(let nt=0,st=_e.length;nt!==st;++nt){const ot=_e[nt];ot.id in tt&&rt.push(ot)}return rt}}function WebGLShader(et,_e,tt){const rt=et.createShader(_e);return et.shaderSource(rt,tt),et.compileShader(rt),rt}let programIdCount=0;function handleSource(et,_e){const tt=et.split(`
`),rt=[],nt=Math.max(_e-6,0),st=Math.min(_e+6,tt.length);for(let ot=nt;ot<st;ot++){const at=ot+1;rt.push(`${at===_e?">":" "} ${at}: ${tt[ot]}`)}return rt.join(`
`)}function getEncodingComponents(et){switch(et){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",et),["Linear","( value )"]}}function getShaderErrors(et,_e,tt){const rt=et.getShaderParameter(_e,35713),nt=et.getShaderInfoLog(_e).trim();if(rt&&nt==="")return"";const st=/ERROR: 0:(\d+)/.exec(nt);if(st){const ot=parseInt(st[1]);return tt.toUpperCase()+`

`+nt+`

`+handleSource(et.getShaderSource(_e),ot)}else return nt}function getTexelEncodingFunction(et,_e){const tt=getEncodingComponents(_e);return"vec4 "+et+"( vec4 value ) { return LinearTo"+tt[0]+tt[1]+"; }"}function getToneMappingFunction(et,_e){let tt;switch(_e){case LinearToneMapping:tt="Linear";break;case ReinhardToneMapping:tt="Reinhard";break;case CineonToneMapping:tt="OptimizedCineon";break;case ACESFilmicToneMapping:tt="ACESFilmic";break;case CustomToneMapping:tt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",_e),tt="Linear"}return"vec3 "+et+"( vec3 color ) { return "+tt+"ToneMapping( color ); }"}function generateExtensions(et){return[et.extensionDerivatives||et.envMapCubeUVHeight||et.bumpMap||et.tangentSpaceNormalMap||et.clearcoatNormalMap||et.flatShading||et.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(et.extensionFragDepth||et.logarithmicDepthBuffer)&&et.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",et.extensionDrawBuffers&&et.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(et.extensionShaderTextureLOD||et.envMap||et.transmission)&&et.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(et){const _e=[];for(const tt in et){const rt=et[tt];rt!==!1&&_e.push("#define "+tt+" "+rt)}return _e.join(`
`)}function fetchAttributeLocations(et,_e){const tt={},rt=et.getProgramParameter(_e,35721);for(let nt=0;nt<rt;nt++){const st=et.getActiveAttrib(_e,nt),ot=st.name;let at=1;st.type===35674&&(at=2),st.type===35675&&(at=3),st.type===35676&&(at=4),tt[ot]={type:st.type,location:et.getAttribLocation(_e,ot),locationSize:at}}return tt}function filterEmptyLine(et){return et!==""}function replaceLightNums(et,_e){const tt=_e.numSpotLightShadows+_e.numSpotLightMaps-_e.numSpotLightShadowsWithMaps;return et.replace(/NUM_DIR_LIGHTS/g,_e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,_e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,tt).replace(/NUM_RECT_AREA_LIGHTS/g,_e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_e.numPointLightShadows)}function replaceClippingPlaneNums(et,_e){return et.replace(/NUM_CLIPPING_PLANES/g,_e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_e.numClippingPlanes-_e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(et){return et.replace(includePattern,includeReplacer)}function includeReplacer(et,_e){const tt=ShaderChunk[_e];if(tt===void 0)throw new Error("Can not resolve #include <"+_e+">");return resolveIncludes(tt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(et){return et.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(et,_e,tt,rt){let nt="";for(let st=parseInt(_e);st<parseInt(tt);st++)nt+=rt.replace(/\[\s*i\s*\]/g,"[ "+st+" ]").replace(/UNROLLED_LOOP_INDEX/g,st);return nt}function generatePrecision(et){let _e="precision "+et.precision+` float;
precision `+et.precision+" int;";return et.precision==="highp"?_e+=`
#define HIGH_PRECISION`:et.precision==="mediump"?_e+=`
#define MEDIUM_PRECISION`:et.precision==="lowp"&&(_e+=`
#define LOW_PRECISION`),_e}function generateShadowMapTypeDefine(et){let _e="SHADOWMAP_TYPE_BASIC";return et.shadowMapType===PCFShadowMap?_e="SHADOWMAP_TYPE_PCF":et.shadowMapType===PCFSoftShadowMap?_e="SHADOWMAP_TYPE_PCF_SOFT":et.shadowMapType===VSMShadowMap&&(_e="SHADOWMAP_TYPE_VSM"),_e}function generateEnvMapTypeDefine(et){let _e="ENVMAP_TYPE_CUBE";if(et.envMap)switch(et.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:_e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:_e="ENVMAP_TYPE_CUBE_UV";break}return _e}function generateEnvMapModeDefine(et){let _e="ENVMAP_MODE_REFLECTION";if(et.envMap)switch(et.envMapMode){case CubeRefractionMapping:_e="ENVMAP_MODE_REFRACTION";break}return _e}function generateEnvMapBlendingDefine(et){let _e="ENVMAP_BLENDING_NONE";if(et.envMap)switch(et.combine){case MultiplyOperation:_e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:_e="ENVMAP_BLENDING_MIX";break;case AddOperation:_e="ENVMAP_BLENDING_ADD";break}return _e}function generateCubeUVSize(et){const _e=et.envMapCubeUVHeight;if(_e===null)return null;const tt=Math.log2(_e)-2,rt=1/_e;return{texelWidth:1/(3*Math.max(Math.pow(2,tt),7*16)),texelHeight:rt,maxMip:tt}}function WebGLProgram(et,_e,tt,rt){const nt=et.getContext(),st=tt.defines;let ot=tt.vertexShader,at=tt.fragmentShader;const lt=generateShadowMapTypeDefine(tt),ft=generateEnvMapTypeDefine(tt),dt=generateEnvMapModeDefine(tt),gt=generateEnvMapBlendingDefine(tt),pt=generateCubeUVSize(tt),vt=tt.isWebGL2?"":generateExtensions(tt),St=generateDefines(st),At=nt.createProgram();let Tt,Ct,Mt=tt.glslVersion?"#version "+tt.glslVersion+`
`:"";tt.isRawShaderMaterial?(Tt=[St].filter(filterEmptyLine).join(`
`),Tt.length>0&&(Tt+=`
`),Ct=[vt,St].filter(filterEmptyLine).join(`
`),Ct.length>0&&(Ct+=`
`)):(Tt=[generatePrecision(tt),"#define SHADER_NAME "+tt.shaderName,St,tt.instancing?"#define USE_INSTANCING":"",tt.instancingColor?"#define USE_INSTANCING_COLOR":"",tt.supportsVertexTextures?"#define VERTEX_TEXTURES":"",tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.map?"#define USE_MAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+dt:"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMap&&tt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",tt.normalMap&&tt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.displacementMap&&tt.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",tt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",tt.vertexTangents?"#define USE_TANGENT":"",tt.vertexColors?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUvs?"#define USE_UV":"",tt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",tt.flatShading?"#define FLAT_SHADED":"",tt.skinning?"#define USE_SKINNING":"",tt.morphTargets?"#define USE_MORPHTARGETS":"",tt.morphNormals&&tt.flatShading===!1?"#define USE_MORPHNORMALS":"",tt.morphColors&&tt.isWebGL2?"#define USE_MORPHCOLORS":"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+tt.morphTextureStride:"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_COUNT "+tt.morphTargetsCount:"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+lt:"",tt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",tt.logarithmicDepthBuffer&&tt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Ct=[vt,generatePrecision(tt),"#define SHADER_NAME "+tt.shaderName,St,tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.map?"#define USE_MAP":"",tt.matcap?"#define USE_MATCAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+ft:"",tt.envMap?"#define "+dt:"",tt.envMap?"#define "+gt:"",pt?"#define CUBEUV_TEXEL_WIDTH "+pt.texelWidth:"",pt?"#define CUBEUV_TEXEL_HEIGHT "+pt.texelHeight:"",pt?"#define CUBEUV_MAX_MIP "+pt.maxMip+".0":"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMap&&tt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",tt.normalMap&&tt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",tt.clearcoat?"#define USE_CLEARCOAT":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.iridescence?"#define USE_IRIDESCENCE":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",tt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.alphaTest?"#define USE_ALPHATEST":"",tt.sheen?"#define USE_SHEEN":"",tt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",tt.vertexTangents?"#define USE_TANGENT":"",tt.vertexColors||tt.instancingColor?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUvs?"#define USE_UV":"",tt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",tt.gradientMap?"#define USE_GRADIENTMAP":"",tt.flatShading?"#define FLAT_SHADED":"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+lt:"",tt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",tt.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",tt.logarithmicDepthBuffer&&tt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",tt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",tt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",tt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",tt.toneMapping):"",tt.dithering?"#define DITHERING":"",tt.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",tt.outputEncoding),tt.useDepthPacking?"#define DEPTH_PACKING "+tt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),ot=resolveIncludes(ot),ot=replaceLightNums(ot,tt),ot=replaceClippingPlaneNums(ot,tt),at=resolveIncludes(at),at=replaceLightNums(at,tt),at=replaceClippingPlaneNums(at,tt),ot=unrollLoops(ot),at=unrollLoops(at),tt.isWebGL2&&tt.isRawShaderMaterial!==!0&&(Mt=`#version 300 es
`,Tt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Tt,Ct=["#define varying in",tt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",tt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Ct);const Et=Mt+Tt+ot,Rt=Mt+Ct+at,Bt=WebGLShader(nt,35633,Et),Ft=WebGLShader(nt,35632,Rt);if(nt.attachShader(At,Bt),nt.attachShader(At,Ft),tt.index0AttributeName!==void 0?nt.bindAttribLocation(At,0,tt.index0AttributeName):tt.morphTargets===!0&&nt.bindAttribLocation(At,0,"position"),nt.linkProgram(At),et.debug.checkShaderErrors){const Dt=nt.getProgramInfoLog(At).trim(),Ot=nt.getShaderInfoLog(Bt).trim(),Ut=nt.getShaderInfoLog(Ft).trim();let zt=!0,tr=!0;if(nt.getProgramParameter(At,35714)===!1){zt=!1;const jt=getShaderErrors(nt,Bt,"vertex"),Kt=getShaderErrors(nt,Ft,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(At,35715)+`

Program Info Log: `+Dt+`
`+jt+`
`+Kt)}else Dt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Dt):(Ot===""||Ut==="")&&(tr=!1);tr&&(this.diagnostics={runnable:zt,programLog:Dt,vertexShader:{log:Ot,prefix:Tt},fragmentShader:{log:Ut,prefix:Ct}})}nt.deleteShader(Bt),nt.deleteShader(Ft);let Lt;this.getUniforms=function(){return Lt===void 0&&(Lt=new WebGLUniforms(nt,At)),Lt};let wt;return this.getAttributes=function(){return wt===void 0&&(wt=fetchAttributeLocations(nt,At)),wt},this.destroy=function(){rt.releaseStatesOfProgram(this),nt.deleteProgram(At),this.program=void 0},this.name=tt.shaderName,this.id=programIdCount++,this.cacheKey=_e,this.usedTimes=1,this.program=At,this.vertexShader=Bt,this.fragmentShader=Ft,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(_e){const tt=_e.vertexShader,rt=_e.fragmentShader,nt=this._getShaderStage(tt),st=this._getShaderStage(rt),ot=this._getShaderCacheForMaterial(_e);return ot.has(nt)===!1&&(ot.add(nt),nt.usedTimes++),ot.has(st)===!1&&(ot.add(st),st.usedTimes++),this}remove(_e){const tt=this.materialCache.get(_e);for(const rt of tt)rt.usedTimes--,rt.usedTimes===0&&this.shaderCache.delete(rt.code);return this.materialCache.delete(_e),this}getVertexShaderID(_e){return this._getShaderStage(_e.vertexShader).id}getFragmentShaderID(_e){return this._getShaderStage(_e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(_e){const tt=this.materialCache;let rt=tt.get(_e);return rt===void 0&&(rt=new Set,tt.set(_e,rt)),rt}_getShaderStage(_e){const tt=this.shaderCache;let rt=tt.get(_e);return rt===void 0&&(rt=new WebGLShaderStage(_e),tt.set(_e,rt)),rt}}class WebGLShaderStage{constructor(_e){this.id=_id++,this.code=_e,this.usedTimes=0}}function WebGLPrograms(et,_e,tt,rt,nt,st,ot){const at=new Layers,lt=new WebGLShaderCache,ft=[],dt=nt.isWebGL2,gt=nt.logarithmicDepthBuffer,pt=nt.vertexTextures;let vt=nt.precision;const St={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function At(wt,Dt,Ot,Ut,zt){const tr=Ut.fog,jt=zt.geometry,Kt=wt.isMeshStandardMaterial?Ut.environment:null,qt=(wt.isMeshStandardMaterial?tt:_e).get(wt.envMap||Kt),er=qt&&qt.mapping===CubeUVReflectionMapping?qt.image.height:null,kt=St[wt.type];wt.precision!==null&&(vt=nt.getMaxPrecision(wt.precision),vt!==wt.precision&&console.warn("THREE.WebGLProgram.getParameters:",wt.precision,"not supported, using",vt,"instead."));const Vt=jt.morphAttributes.position||jt.morphAttributes.normal||jt.morphAttributes.color,Zt=Vt!==void 0?Vt.length:0;let Wt=0;jt.morphAttributes.position!==void 0&&(Wt=1),jt.morphAttributes.normal!==void 0&&(Wt=2),jt.morphAttributes.color!==void 0&&(Wt=3);let nr,sr,lr,dr;if(kt){const Er=ShaderLib[kt];nr=Er.vertexShader,sr=Er.fragmentShader}else nr=wt.vertexShader,sr=wt.fragmentShader,lt.update(wt),lr=lt.getVertexShaderID(wt),dr=lt.getFragmentShaderID(wt);const hr=et.getRenderTarget(),wr=wt.alphaTest>0,pr=wt.clearcoat>0,_r=wt.iridescence>0;return{isWebGL2:dt,shaderID:kt,shaderName:wt.type,vertexShader:nr,fragmentShader:sr,defines:wt.defines,customVertexShaderID:lr,customFragmentShaderID:dr,isRawShaderMaterial:wt.isRawShaderMaterial===!0,glslVersion:wt.glslVersion,precision:vt,instancing:zt.isInstancedMesh===!0,instancingColor:zt.isInstancedMesh===!0&&zt.instanceColor!==null,supportsVertexTextures:pt,outputEncoding:hr===null?et.outputEncoding:hr.isXRRenderTarget===!0?hr.texture.encoding:LinearEncoding,map:!!wt.map,matcap:!!wt.matcap,envMap:!!qt,envMapMode:qt&&qt.mapping,envMapCubeUVHeight:er,lightMap:!!wt.lightMap,aoMap:!!wt.aoMap,emissiveMap:!!wt.emissiveMap,bumpMap:!!wt.bumpMap,normalMap:!!wt.normalMap,objectSpaceNormalMap:wt.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:wt.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!wt.map&&wt.map.isVideoTexture===!0&&wt.map.encoding===sRGBEncoding,clearcoat:pr,clearcoatMap:pr&&!!wt.clearcoatMap,clearcoatRoughnessMap:pr&&!!wt.clearcoatRoughnessMap,clearcoatNormalMap:pr&&!!wt.clearcoatNormalMap,iridescence:_r,iridescenceMap:_r&&!!wt.iridescenceMap,iridescenceThicknessMap:_r&&!!wt.iridescenceThicknessMap,displacementMap:!!wt.displacementMap,roughnessMap:!!wt.roughnessMap,metalnessMap:!!wt.metalnessMap,specularMap:!!wt.specularMap,specularIntensityMap:!!wt.specularIntensityMap,specularColorMap:!!wt.specularColorMap,opaque:wt.transparent===!1&&wt.blending===NormalBlending,alphaMap:!!wt.alphaMap,alphaTest:wr,gradientMap:!!wt.gradientMap,sheen:wt.sheen>0,sheenColorMap:!!wt.sheenColorMap,sheenRoughnessMap:!!wt.sheenRoughnessMap,transmission:wt.transmission>0,transmissionMap:!!wt.transmissionMap,thicknessMap:!!wt.thicknessMap,combine:wt.combine,vertexTangents:!!wt.normalMap&&!!jt.attributes.tangent,vertexColors:wt.vertexColors,vertexAlphas:wt.vertexColors===!0&&!!jt.attributes.color&&jt.attributes.color.itemSize===4,vertexUvs:!!wt.map||!!wt.bumpMap||!!wt.normalMap||!!wt.specularMap||!!wt.alphaMap||!!wt.emissiveMap||!!wt.roughnessMap||!!wt.metalnessMap||!!wt.clearcoatMap||!!wt.clearcoatRoughnessMap||!!wt.clearcoatNormalMap||!!wt.iridescenceMap||!!wt.iridescenceThicknessMap||!!wt.displacementMap||!!wt.transmissionMap||!!wt.thicknessMap||!!wt.specularIntensityMap||!!wt.specularColorMap||!!wt.sheenColorMap||!!wt.sheenRoughnessMap,uvsVertexOnly:!(wt.map||wt.bumpMap||wt.normalMap||wt.specularMap||wt.alphaMap||wt.emissiveMap||wt.roughnessMap||wt.metalnessMap||wt.clearcoatNormalMap||wt.iridescenceMap||wt.iridescenceThicknessMap||wt.transmission>0||wt.transmissionMap||wt.thicknessMap||wt.specularIntensityMap||wt.specularColorMap||wt.sheen>0||wt.sheenColorMap||wt.sheenRoughnessMap)&&!!wt.displacementMap,fog:!!tr,useFog:wt.fog===!0,fogExp2:tr&&tr.isFogExp2,flatShading:!!wt.flatShading,sizeAttenuation:wt.sizeAttenuation,logarithmicDepthBuffer:gt,skinning:zt.isSkinnedMesh===!0,morphTargets:jt.morphAttributes.position!==void 0,morphNormals:jt.morphAttributes.normal!==void 0,morphColors:jt.morphAttributes.color!==void 0,morphTargetsCount:Zt,morphTextureStride:Wt,numDirLights:Dt.directional.length,numPointLights:Dt.point.length,numSpotLights:Dt.spot.length,numSpotLightMaps:Dt.spotLightMap.length,numRectAreaLights:Dt.rectArea.length,numHemiLights:Dt.hemi.length,numDirLightShadows:Dt.directionalShadowMap.length,numPointLightShadows:Dt.pointShadowMap.length,numSpotLightShadows:Dt.spotShadowMap.length,numSpotLightShadowsWithMaps:Dt.numSpotLightShadowsWithMaps,numClippingPlanes:ot.numPlanes,numClipIntersection:ot.numIntersection,dithering:wt.dithering,shadowMapEnabled:et.shadowMap.enabled&&Ot.length>0,shadowMapType:et.shadowMap.type,toneMapping:wt.toneMapped?et.toneMapping:NoToneMapping,physicallyCorrectLights:et.physicallyCorrectLights,premultipliedAlpha:wt.premultipliedAlpha,doubleSided:wt.side===DoubleSide,flipSided:wt.side===BackSide,useDepthPacking:!!wt.depthPacking,depthPacking:wt.depthPacking||0,index0AttributeName:wt.index0AttributeName,extensionDerivatives:wt.extensions&&wt.extensions.derivatives,extensionFragDepth:wt.extensions&&wt.extensions.fragDepth,extensionDrawBuffers:wt.extensions&&wt.extensions.drawBuffers,extensionShaderTextureLOD:wt.extensions&&wt.extensions.shaderTextureLOD,rendererExtensionFragDepth:dt||rt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:dt||rt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:dt||rt.has("EXT_shader_texture_lod"),customProgramCacheKey:wt.customProgramCacheKey()}}function Tt(wt){const Dt=[];if(wt.shaderID?Dt.push(wt.shaderID):(Dt.push(wt.customVertexShaderID),Dt.push(wt.customFragmentShaderID)),wt.defines!==void 0)for(const Ot in wt.defines)Dt.push(Ot),Dt.push(wt.defines[Ot]);return wt.isRawShaderMaterial===!1&&(Ct(Dt,wt),Mt(Dt,wt),Dt.push(et.outputEncoding)),Dt.push(wt.customProgramCacheKey),Dt.join()}function Ct(wt,Dt){wt.push(Dt.precision),wt.push(Dt.outputEncoding),wt.push(Dt.envMapMode),wt.push(Dt.envMapCubeUVHeight),wt.push(Dt.combine),wt.push(Dt.vertexUvs),wt.push(Dt.fogExp2),wt.push(Dt.sizeAttenuation),wt.push(Dt.morphTargetsCount),wt.push(Dt.morphAttributeCount),wt.push(Dt.numDirLights),wt.push(Dt.numPointLights),wt.push(Dt.numSpotLights),wt.push(Dt.numSpotLightMaps),wt.push(Dt.numHemiLights),wt.push(Dt.numRectAreaLights),wt.push(Dt.numDirLightShadows),wt.push(Dt.numPointLightShadows),wt.push(Dt.numSpotLightShadows),wt.push(Dt.numSpotLightShadowsWithMaps),wt.push(Dt.shadowMapType),wt.push(Dt.toneMapping),wt.push(Dt.numClippingPlanes),wt.push(Dt.numClipIntersection),wt.push(Dt.depthPacking)}function Mt(wt,Dt){at.disableAll(),Dt.isWebGL2&&at.enable(0),Dt.supportsVertexTextures&&at.enable(1),Dt.instancing&&at.enable(2),Dt.instancingColor&&at.enable(3),Dt.map&&at.enable(4),Dt.matcap&&at.enable(5),Dt.envMap&&at.enable(6),Dt.lightMap&&at.enable(7),Dt.aoMap&&at.enable(8),Dt.emissiveMap&&at.enable(9),Dt.bumpMap&&at.enable(10),Dt.normalMap&&at.enable(11),Dt.objectSpaceNormalMap&&at.enable(12),Dt.tangentSpaceNormalMap&&at.enable(13),Dt.clearcoat&&at.enable(14),Dt.clearcoatMap&&at.enable(15),Dt.clearcoatRoughnessMap&&at.enable(16),Dt.clearcoatNormalMap&&at.enable(17),Dt.iridescence&&at.enable(18),Dt.iridescenceMap&&at.enable(19),Dt.iridescenceThicknessMap&&at.enable(20),Dt.displacementMap&&at.enable(21),Dt.specularMap&&at.enable(22),Dt.roughnessMap&&at.enable(23),Dt.metalnessMap&&at.enable(24),Dt.gradientMap&&at.enable(25),Dt.alphaMap&&at.enable(26),Dt.alphaTest&&at.enable(27),Dt.vertexColors&&at.enable(28),Dt.vertexAlphas&&at.enable(29),Dt.vertexUvs&&at.enable(30),Dt.vertexTangents&&at.enable(31),Dt.uvsVertexOnly&&at.enable(32),wt.push(at.mask),at.disableAll(),Dt.fog&&at.enable(0),Dt.useFog&&at.enable(1),Dt.flatShading&&at.enable(2),Dt.logarithmicDepthBuffer&&at.enable(3),Dt.skinning&&at.enable(4),Dt.morphTargets&&at.enable(5),Dt.morphNormals&&at.enable(6),Dt.morphColors&&at.enable(7),Dt.premultipliedAlpha&&at.enable(8),Dt.shadowMapEnabled&&at.enable(9),Dt.physicallyCorrectLights&&at.enable(10),Dt.doubleSided&&at.enable(11),Dt.flipSided&&at.enable(12),Dt.useDepthPacking&&at.enable(13),Dt.dithering&&at.enable(14),Dt.specularIntensityMap&&at.enable(15),Dt.specularColorMap&&at.enable(16),Dt.transmission&&at.enable(17),Dt.transmissionMap&&at.enable(18),Dt.thicknessMap&&at.enable(19),Dt.sheen&&at.enable(20),Dt.sheenColorMap&&at.enable(21),Dt.sheenRoughnessMap&&at.enable(22),Dt.decodeVideoTexture&&at.enable(23),Dt.opaque&&at.enable(24),wt.push(at.mask)}function Et(wt){const Dt=St[wt.type];let Ot;if(Dt){const Ut=ShaderLib[Dt];Ot=UniformsUtils.clone(Ut.uniforms)}else Ot=wt.uniforms;return Ot}function Rt(wt,Dt){let Ot;for(let Ut=0,zt=ft.length;Ut<zt;Ut++){const tr=ft[Ut];if(tr.cacheKey===Dt){Ot=tr,++Ot.usedTimes;break}}return Ot===void 0&&(Ot=new WebGLProgram(et,Dt,wt,st),ft.push(Ot)),Ot}function Bt(wt){if(--wt.usedTimes===0){const Dt=ft.indexOf(wt);ft[Dt]=ft[ft.length-1],ft.pop(),wt.destroy()}}function Ft(wt){lt.remove(wt)}function Lt(){lt.dispose()}return{getParameters:At,getProgramCacheKey:Tt,getUniforms:Et,acquireProgram:Rt,releaseProgram:Bt,releaseShaderCache:Ft,programs:ft,dispose:Lt}}function WebGLProperties(){let et=new WeakMap;function _e(st){let ot=et.get(st);return ot===void 0&&(ot={},et.set(st,ot)),ot}function tt(st){et.delete(st)}function rt(st,ot,at){et.get(st)[ot]=at}function nt(){et=new WeakMap}return{get:_e,remove:tt,update:rt,dispose:nt}}function painterSortStable(et,_e){return et.groupOrder!==_e.groupOrder?et.groupOrder-_e.groupOrder:et.renderOrder!==_e.renderOrder?et.renderOrder-_e.renderOrder:et.material.id!==_e.material.id?et.material.id-_e.material.id:et.z!==_e.z?et.z-_e.z:et.id-_e.id}function reversePainterSortStable(et,_e){return et.groupOrder!==_e.groupOrder?et.groupOrder-_e.groupOrder:et.renderOrder!==_e.renderOrder?et.renderOrder-_e.renderOrder:et.z!==_e.z?_e.z-et.z:et.id-_e.id}function WebGLRenderList(){const et=[];let _e=0;const tt=[],rt=[],nt=[];function st(){_e=0,tt.length=0,rt.length=0,nt.length=0}function ot(gt,pt,vt,St,At,Tt){let Ct=et[_e];return Ct===void 0?(Ct={id:gt.id,object:gt,geometry:pt,material:vt,groupOrder:St,renderOrder:gt.renderOrder,z:At,group:Tt},et[_e]=Ct):(Ct.id=gt.id,Ct.object=gt,Ct.geometry=pt,Ct.material=vt,Ct.groupOrder=St,Ct.renderOrder=gt.renderOrder,Ct.z=At,Ct.group=Tt),_e++,Ct}function at(gt,pt,vt,St,At,Tt){const Ct=ot(gt,pt,vt,St,At,Tt);vt.transmission>0?rt.push(Ct):vt.transparent===!0?nt.push(Ct):tt.push(Ct)}function lt(gt,pt,vt,St,At,Tt){const Ct=ot(gt,pt,vt,St,At,Tt);vt.transmission>0?rt.unshift(Ct):vt.transparent===!0?nt.unshift(Ct):tt.unshift(Ct)}function ft(gt,pt){tt.length>1&&tt.sort(gt||painterSortStable),rt.length>1&&rt.sort(pt||reversePainterSortStable),nt.length>1&&nt.sort(pt||reversePainterSortStable)}function dt(){for(let gt=_e,pt=et.length;gt<pt;gt++){const vt=et[gt];if(vt.id===null)break;vt.id=null,vt.object=null,vt.geometry=null,vt.material=null,vt.group=null}}return{opaque:tt,transmissive:rt,transparent:nt,init:st,push:at,unshift:lt,finish:dt,sort:ft}}function WebGLRenderLists(){let et=new WeakMap;function _e(rt,nt){const st=et.get(rt);let ot;return st===void 0?(ot=new WebGLRenderList,et.set(rt,[ot])):nt>=st.length?(ot=new WebGLRenderList,st.push(ot)):ot=st[nt],ot}function tt(){et=new WeakMap}return{get:_e,dispose:tt}}function UniformsCache(){const et={};return{get:function(_e){if(et[_e.id]!==void 0)return et[_e.id];let tt;switch(_e.type){case"DirectionalLight":tt={direction:new Vector3,color:new Color};break;case"SpotLight":tt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":tt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":tt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":tt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return et[_e.id]=tt,tt}}}function ShadowUniformsCache(){const et={};return{get:function(_e){if(et[_e.id]!==void 0)return et[_e.id];let tt;switch(_e.type){case"DirectionalLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return et[_e.id]=tt,tt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(et,_e){return(_e.castShadow?2:0)-(et.castShadow?2:0)+(_e.map?1:0)-(et.map?1:0)}function WebGLLights(et,_e){const tt=new UniformsCache,rt=ShadowUniformsCache(),nt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let dt=0;dt<9;dt++)nt.probe.push(new Vector3);const st=new Vector3,ot=new Matrix4,at=new Matrix4;function lt(dt,gt){let pt=0,vt=0,St=0;for(let Ut=0;Ut<9;Ut++)nt.probe[Ut].set(0,0,0);let At=0,Tt=0,Ct=0,Mt=0,Et=0,Rt=0,Bt=0,Ft=0,Lt=0,wt=0;dt.sort(shadowCastingAndTexturingLightsFirst);const Dt=gt!==!0?Math.PI:1;for(let Ut=0,zt=dt.length;Ut<zt;Ut++){const tr=dt[Ut],jt=tr.color,Kt=tr.intensity,qt=tr.distance,er=tr.shadow&&tr.shadow.map?tr.shadow.map.texture:null;if(tr.isAmbientLight)pt+=jt.r*Kt*Dt,vt+=jt.g*Kt*Dt,St+=jt.b*Kt*Dt;else if(tr.isLightProbe)for(let kt=0;kt<9;kt++)nt.probe[kt].addScaledVector(tr.sh.coefficients[kt],Kt);else if(tr.isDirectionalLight){const kt=tt.get(tr);if(kt.color.copy(tr.color).multiplyScalar(tr.intensity*Dt),tr.castShadow){const Vt=tr.shadow,Zt=rt.get(tr);Zt.shadowBias=Vt.bias,Zt.shadowNormalBias=Vt.normalBias,Zt.shadowRadius=Vt.radius,Zt.shadowMapSize=Vt.mapSize,nt.directionalShadow[At]=Zt,nt.directionalShadowMap[At]=er,nt.directionalShadowMatrix[At]=tr.shadow.matrix,Rt++}nt.directional[At]=kt,At++}else if(tr.isSpotLight){const kt=tt.get(tr);kt.position.setFromMatrixPosition(tr.matrixWorld),kt.color.copy(jt).multiplyScalar(Kt*Dt),kt.distance=qt,kt.coneCos=Math.cos(tr.angle),kt.penumbraCos=Math.cos(tr.angle*(1-tr.penumbra)),kt.decay=tr.decay,nt.spot[Ct]=kt;const Vt=tr.shadow;if(tr.map&&(nt.spotLightMap[Lt]=tr.map,Lt++,Vt.updateMatrices(tr),tr.castShadow&&wt++),nt.spotLightMatrix[Ct]=Vt.matrix,tr.castShadow){const Zt=rt.get(tr);Zt.shadowBias=Vt.bias,Zt.shadowNormalBias=Vt.normalBias,Zt.shadowRadius=Vt.radius,Zt.shadowMapSize=Vt.mapSize,nt.spotShadow[Ct]=Zt,nt.spotShadowMap[Ct]=er,Ft++}Ct++}else if(tr.isRectAreaLight){const kt=tt.get(tr);kt.color.copy(jt).multiplyScalar(Kt),kt.halfWidth.set(tr.width*.5,0,0),kt.halfHeight.set(0,tr.height*.5,0),nt.rectArea[Mt]=kt,Mt++}else if(tr.isPointLight){const kt=tt.get(tr);if(kt.color.copy(tr.color).multiplyScalar(tr.intensity*Dt),kt.distance=tr.distance,kt.decay=tr.decay,tr.castShadow){const Vt=tr.shadow,Zt=rt.get(tr);Zt.shadowBias=Vt.bias,Zt.shadowNormalBias=Vt.normalBias,Zt.shadowRadius=Vt.radius,Zt.shadowMapSize=Vt.mapSize,Zt.shadowCameraNear=Vt.camera.near,Zt.shadowCameraFar=Vt.camera.far,nt.pointShadow[Tt]=Zt,nt.pointShadowMap[Tt]=er,nt.pointShadowMatrix[Tt]=tr.shadow.matrix,Bt++}nt.point[Tt]=kt,Tt++}else if(tr.isHemisphereLight){const kt=tt.get(tr);kt.skyColor.copy(tr.color).multiplyScalar(Kt*Dt),kt.groundColor.copy(tr.groundColor).multiplyScalar(Kt*Dt),nt.hemi[Et]=kt,Et++}}Mt>0&&(_e.isWebGL2||et.has("OES_texture_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,nt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):et.has("OES_texture_half_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_HALF_1,nt.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),nt.ambient[0]=pt,nt.ambient[1]=vt,nt.ambient[2]=St;const Ot=nt.hash;(Ot.directionalLength!==At||Ot.pointLength!==Tt||Ot.spotLength!==Ct||Ot.rectAreaLength!==Mt||Ot.hemiLength!==Et||Ot.numDirectionalShadows!==Rt||Ot.numPointShadows!==Bt||Ot.numSpotShadows!==Ft||Ot.numSpotMaps!==Lt)&&(nt.directional.length=At,nt.spot.length=Ct,nt.rectArea.length=Mt,nt.point.length=Tt,nt.hemi.length=Et,nt.directionalShadow.length=Rt,nt.directionalShadowMap.length=Rt,nt.pointShadow.length=Bt,nt.pointShadowMap.length=Bt,nt.spotShadow.length=Ft,nt.spotShadowMap.length=Ft,nt.directionalShadowMatrix.length=Rt,nt.pointShadowMatrix.length=Bt,nt.spotLightMatrix.length=Ft+Lt-wt,nt.spotLightMap.length=Lt,nt.numSpotLightShadowsWithMaps=wt,Ot.directionalLength=At,Ot.pointLength=Tt,Ot.spotLength=Ct,Ot.rectAreaLength=Mt,Ot.hemiLength=Et,Ot.numDirectionalShadows=Rt,Ot.numPointShadows=Bt,Ot.numSpotShadows=Ft,Ot.numSpotMaps=Lt,nt.version=nextVersion++)}function ft(dt,gt){let pt=0,vt=0,St=0,At=0,Tt=0;const Ct=gt.matrixWorldInverse;for(let Mt=0,Et=dt.length;Mt<Et;Mt++){const Rt=dt[Mt];if(Rt.isDirectionalLight){const Bt=nt.directional[pt];Bt.direction.setFromMatrixPosition(Rt.matrixWorld),st.setFromMatrixPosition(Rt.target.matrixWorld),Bt.direction.sub(st),Bt.direction.transformDirection(Ct),pt++}else if(Rt.isSpotLight){const Bt=nt.spot[St];Bt.position.setFromMatrixPosition(Rt.matrixWorld),Bt.position.applyMatrix4(Ct),Bt.direction.setFromMatrixPosition(Rt.matrixWorld),st.setFromMatrixPosition(Rt.target.matrixWorld),Bt.direction.sub(st),Bt.direction.transformDirection(Ct),St++}else if(Rt.isRectAreaLight){const Bt=nt.rectArea[At];Bt.position.setFromMatrixPosition(Rt.matrixWorld),Bt.position.applyMatrix4(Ct),at.identity(),ot.copy(Rt.matrixWorld),ot.premultiply(Ct),at.extractRotation(ot),Bt.halfWidth.set(Rt.width*.5,0,0),Bt.halfHeight.set(0,Rt.height*.5,0),Bt.halfWidth.applyMatrix4(at),Bt.halfHeight.applyMatrix4(at),At++}else if(Rt.isPointLight){const Bt=nt.point[vt];Bt.position.setFromMatrixPosition(Rt.matrixWorld),Bt.position.applyMatrix4(Ct),vt++}else if(Rt.isHemisphereLight){const Bt=nt.hemi[Tt];Bt.direction.setFromMatrixPosition(Rt.matrixWorld),Bt.direction.transformDirection(Ct),Tt++}}}return{setup:lt,setupView:ft,state:nt}}function WebGLRenderState(et,_e){const tt=new WebGLLights(et,_e),rt=[],nt=[];function st(){rt.length=0,nt.length=0}function ot(gt){rt.push(gt)}function at(gt){nt.push(gt)}function lt(gt){tt.setup(rt,gt)}function ft(gt){tt.setupView(rt,gt)}return{init:st,state:{lightsArray:rt,shadowsArray:nt,lights:tt},setupLights:lt,setupLightsView:ft,pushLight:ot,pushShadow:at}}function WebGLRenderStates(et,_e){let tt=new WeakMap;function rt(st,ot=0){const at=tt.get(st);let lt;return at===void 0?(lt=new WebGLRenderState(et,_e),tt.set(st,[lt])):ot>=at.length?(lt=new WebGLRenderState(et,_e),at.push(lt)):lt=at[ot],lt}function nt(){tt=new WeakMap}return{get:rt,dispose:nt}}class MeshDepthMaterial extends Material{constructor(_e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_e)}copy(_e){return super.copy(_e),this.depthPacking=_e.depthPacking,this.map=_e.map,this.alphaMap=_e.alphaMap,this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(_e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(_e)}copy(_e){return super.copy(_e),this.referencePosition.copy(_e.referencePosition),this.nearDistance=_e.nearDistance,this.farDistance=_e.farDistance,this.map=_e.map,this.alphaMap=_e.alphaMap,this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(et,_e,tt){let rt=new Frustum;const nt=new Vector2,st=new Vector2,ot=new Vector4,at=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),lt=new MeshDistanceMaterial,ft={},dt=tt.maxTextureSize,gt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},pt=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),vt=pt.clone();vt.defines.HORIZONTAL_PASS=1;const St=new BufferGeometry;St.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const At=new Mesh(St,pt),Tt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(Rt,Bt,Ft){if(Tt.enabled===!1||Tt.autoUpdate===!1&&Tt.needsUpdate===!1||Rt.length===0)return;const Lt=et.getRenderTarget(),wt=et.getActiveCubeFace(),Dt=et.getActiveMipmapLevel(),Ot=et.state;Ot.setBlending(NoBlending),Ot.buffers.color.setClear(1,1,1,1),Ot.buffers.depth.setTest(!0),Ot.setScissorTest(!1);for(let Ut=0,zt=Rt.length;Ut<zt;Ut++){const tr=Rt[Ut],jt=tr.shadow;if(jt===void 0){console.warn("THREE.WebGLShadowMap:",tr,"has no shadow.");continue}if(jt.autoUpdate===!1&&jt.needsUpdate===!1)continue;nt.copy(jt.mapSize);const Kt=jt.getFrameExtents();if(nt.multiply(Kt),st.copy(jt.mapSize),(nt.x>dt||nt.y>dt)&&(nt.x>dt&&(st.x=Math.floor(dt/Kt.x),nt.x=st.x*Kt.x,jt.mapSize.x=st.x),nt.y>dt&&(st.y=Math.floor(dt/Kt.y),nt.y=st.y*Kt.y,jt.mapSize.y=st.y)),jt.map===null){const er=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};jt.map=new WebGLRenderTarget(nt.x,nt.y,er),jt.map.texture.name=tr.name+".shadowMap",jt.camera.updateProjectionMatrix()}et.setRenderTarget(jt.map),et.clear();const qt=jt.getViewportCount();for(let er=0;er<qt;er++){const kt=jt.getViewport(er);ot.set(st.x*kt.x,st.y*kt.y,st.x*kt.z,st.y*kt.w),Ot.viewport(ot),jt.updateMatrices(tr,er),rt=jt.getFrustum(),Et(Bt,Ft,jt.camera,tr,this.type)}jt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Ct(jt,Ft),jt.needsUpdate=!1}Tt.needsUpdate=!1,et.setRenderTarget(Lt,wt,Dt)};function Ct(Rt,Bt){const Ft=_e.update(At);pt.defines.VSM_SAMPLES!==Rt.blurSamples&&(pt.defines.VSM_SAMPLES=Rt.blurSamples,vt.defines.VSM_SAMPLES=Rt.blurSamples,pt.needsUpdate=!0,vt.needsUpdate=!0),Rt.mapPass===null&&(Rt.mapPass=new WebGLRenderTarget(nt.x,nt.y)),pt.uniforms.shadow_pass.value=Rt.map.texture,pt.uniforms.resolution.value=Rt.mapSize,pt.uniforms.radius.value=Rt.radius,et.setRenderTarget(Rt.mapPass),et.clear(),et.renderBufferDirect(Bt,null,Ft,pt,At,null),vt.uniforms.shadow_pass.value=Rt.mapPass.texture,vt.uniforms.resolution.value=Rt.mapSize,vt.uniforms.radius.value=Rt.radius,et.setRenderTarget(Rt.map),et.clear(),et.renderBufferDirect(Bt,null,Ft,vt,At,null)}function Mt(Rt,Bt,Ft,Lt,wt,Dt){let Ot=null;const Ut=Ft.isPointLight===!0?Rt.customDistanceMaterial:Rt.customDepthMaterial;if(Ut!==void 0)Ot=Ut;else if(Ot=Ft.isPointLight===!0?lt:at,et.localClippingEnabled&&Bt.clipShadows===!0&&Array.isArray(Bt.clippingPlanes)&&Bt.clippingPlanes.length!==0||Bt.displacementMap&&Bt.displacementScale!==0||Bt.alphaMap&&Bt.alphaTest>0||Bt.map&&Bt.alphaTest>0){const zt=Ot.uuid,tr=Bt.uuid;let jt=ft[zt];jt===void 0&&(jt={},ft[zt]=jt);let Kt=jt[tr];Kt===void 0&&(Kt=Ot.clone(),jt[tr]=Kt),Ot=Kt}return Ot.visible=Bt.visible,Ot.wireframe=Bt.wireframe,Dt===VSMShadowMap?Ot.side=Bt.shadowSide!==null?Bt.shadowSide:Bt.side:Ot.side=Bt.shadowSide!==null?Bt.shadowSide:gt[Bt.side],Ot.alphaMap=Bt.alphaMap,Ot.alphaTest=Bt.alphaTest,Ot.map=Bt.map,Ot.clipShadows=Bt.clipShadows,Ot.clippingPlanes=Bt.clippingPlanes,Ot.clipIntersection=Bt.clipIntersection,Ot.displacementMap=Bt.displacementMap,Ot.displacementScale=Bt.displacementScale,Ot.displacementBias=Bt.displacementBias,Ot.wireframeLinewidth=Bt.wireframeLinewidth,Ot.linewidth=Bt.linewidth,Ft.isPointLight===!0&&Ot.isMeshDistanceMaterial===!0&&(Ot.referencePosition.setFromMatrixPosition(Ft.matrixWorld),Ot.nearDistance=Lt,Ot.farDistance=wt),Ot}function Et(Rt,Bt,Ft,Lt,wt){if(Rt.visible===!1)return;if(Rt.layers.test(Bt.layers)&&(Rt.isMesh||Rt.isLine||Rt.isPoints)&&(Rt.castShadow||Rt.receiveShadow&&wt===VSMShadowMap)&&(!Rt.frustumCulled||rt.intersectsObject(Rt))){Rt.modelViewMatrix.multiplyMatrices(Ft.matrixWorldInverse,Rt.matrixWorld);const Ut=_e.update(Rt),zt=Rt.material;if(Array.isArray(zt)){const tr=Ut.groups;for(let jt=0,Kt=tr.length;jt<Kt;jt++){const qt=tr[jt],er=zt[qt.materialIndex];if(er&&er.visible){const kt=Mt(Rt,er,Lt,Ft.near,Ft.far,wt);et.renderBufferDirect(Ft,null,Ut,kt,Rt,qt)}}}else if(zt.visible){const tr=Mt(Rt,zt,Lt,Ft.near,Ft.far,wt);et.renderBufferDirect(Ft,null,Ut,tr,Rt,null)}}const Ot=Rt.children;for(let Ut=0,zt=Ot.length;Ut<zt;Ut++)Et(Ot[Ut],Bt,Ft,Lt,wt)}}function WebGLState(et,_e,tt){const rt=tt.isWebGL2;function nt(){let Cr=!1;const Ur=new Vector4;let tn=null;const fn=new Vector4(0,0,0,0);return{setMask:function(mn){tn!==mn&&!Cr&&(et.colorMask(mn,mn,mn,mn),tn=mn)},setLocked:function(mn){Cr=mn},setClear:function(mn,Mn,Hn,Wn,$n){$n===!0&&(mn*=Wn,Mn*=Wn,Hn*=Wn),Ur.set(mn,Mn,Hn,Wn),fn.equals(Ur)===!1&&(et.clearColor(mn,Mn,Hn,Wn),fn.copy(Ur))},reset:function(){Cr=!1,tn=null,fn.set(-1,0,0,0)}}}function st(){let Cr=!1,Ur=null,tn=null,fn=null;return{setTest:function(mn){mn?wr(2929):pr(2929)},setMask:function(mn){Ur!==mn&&!Cr&&(et.depthMask(mn),Ur=mn)},setFunc:function(mn){if(tn!==mn){switch(mn){case NeverDepth:et.depthFunc(512);break;case AlwaysDepth:et.depthFunc(519);break;case LessDepth:et.depthFunc(513);break;case LessEqualDepth:et.depthFunc(515);break;case EqualDepth:et.depthFunc(514);break;case GreaterEqualDepth:et.depthFunc(518);break;case GreaterDepth:et.depthFunc(516);break;case NotEqualDepth:et.depthFunc(517);break;default:et.depthFunc(515)}tn=mn}},setLocked:function(mn){Cr=mn},setClear:function(mn){fn!==mn&&(et.clearDepth(mn),fn=mn)},reset:function(){Cr=!1,Ur=null,tn=null,fn=null}}}function ot(){let Cr=!1,Ur=null,tn=null,fn=null,mn=null,Mn=null,Hn=null,Wn=null,$n=null;return{setTest:function(Un){Cr||(Un?wr(2960):pr(2960))},setMask:function(Un){Ur!==Un&&!Cr&&(et.stencilMask(Un),Ur=Un)},setFunc:function(Un,Kn,Vn){(tn!==Un||fn!==Kn||mn!==Vn)&&(et.stencilFunc(Un,Kn,Vn),tn=Un,fn=Kn,mn=Vn)},setOp:function(Un,Kn,Vn){(Mn!==Un||Hn!==Kn||Wn!==Vn)&&(et.stencilOp(Un,Kn,Vn),Mn=Un,Hn=Kn,Wn=Vn)},setLocked:function(Un){Cr=Un},setClear:function(Un){$n!==Un&&(et.clearStencil(Un),$n=Un)},reset:function(){Cr=!1,Ur=null,tn=null,fn=null,mn=null,Mn=null,Hn=null,Wn=null,$n=null}}}const at=new nt,lt=new st,ft=new ot,dt=new WeakMap,gt=new WeakMap;let pt={},vt={},St=new WeakMap,At=[],Tt=null,Ct=!1,Mt=null,Et=null,Rt=null,Bt=null,Ft=null,Lt=null,wt=null,Dt=!1,Ot=null,Ut=null,zt=null,tr=null,jt=null;const Kt=et.getParameter(35661);let qt=!1,er=0;const kt=et.getParameter(7938);kt.indexOf("WebGL")!==-1?(er=parseFloat(/^WebGL (\d)/.exec(kt)[1]),qt=er>=1):kt.indexOf("OpenGL ES")!==-1&&(er=parseFloat(/^OpenGL ES (\d)/.exec(kt)[1]),qt=er>=2);let Vt=null,Zt={};const Wt=et.getParameter(3088),nr=et.getParameter(2978),sr=new Vector4().fromArray(Wt),lr=new Vector4().fromArray(nr);function dr(Cr,Ur,tn){const fn=new Uint8Array(4),mn=et.createTexture();et.bindTexture(Cr,mn),et.texParameteri(Cr,10241,9728),et.texParameteri(Cr,10240,9728);for(let Mn=0;Mn<tn;Mn++)et.texImage2D(Ur+Mn,0,6408,1,1,0,6408,5121,fn);return mn}const hr={};hr[3553]=dr(3553,3553,1),hr[34067]=dr(34067,34069,6),at.setClear(0,0,0,1),lt.setClear(1),ft.setClear(0),wr(2929),lt.setFunc(LessEqualDepth),kr(!1),nn(CullFaceBack),wr(2884),Ar(NoBlending);function wr(Cr){pt[Cr]!==!0&&(et.enable(Cr),pt[Cr]=!0)}function pr(Cr){pt[Cr]!==!1&&(et.disable(Cr),pt[Cr]=!1)}function _r(Cr,Ur){return vt[Cr]!==Ur?(et.bindFramebuffer(Cr,Ur),vt[Cr]=Ur,rt&&(Cr===36009&&(vt[36160]=Ur),Cr===36160&&(vt[36009]=Ur)),!0):!1}function mr(Cr,Ur){let tn=At,fn=!1;if(Cr)if(tn=St.get(Ur),tn===void 0&&(tn=[],St.set(Ur,tn)),Cr.isWebGLMultipleRenderTargets){const mn=Cr.texture;if(tn.length!==mn.length||tn[0]!==36064){for(let Mn=0,Hn=mn.length;Mn<Hn;Mn++)tn[Mn]=36064+Mn;tn.length=mn.length,fn=!0}}else tn[0]!==36064&&(tn[0]=36064,fn=!0);else tn[0]!==1029&&(tn[0]=1029,fn=!0);fn&&(tt.isWebGL2?et.drawBuffers(tn):_e.get("WEBGL_draw_buffers").drawBuffersWEBGL(tn))}function Er(Cr){return Tt!==Cr?(et.useProgram(Cr),Tt=Cr,!0):!1}const ur={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(rt)ur[MinEquation]=32775,ur[MaxEquation]=32776;else{const Cr=_e.get("EXT_blend_minmax");Cr!==null&&(ur[MinEquation]=Cr.MIN_EXT,ur[MaxEquation]=Cr.MAX_EXT)}const xr={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function Ar(Cr,Ur,tn,fn,mn,Mn,Hn,Wn){if(Cr===NoBlending){Ct===!0&&(pr(3042),Ct=!1);return}if(Ct===!1&&(wr(3042),Ct=!0),Cr!==CustomBlending){if(Cr!==Mt||Wn!==Dt){if((Et!==AddEquation||Ft!==AddEquation)&&(et.blendEquation(32774),Et=AddEquation,Ft=AddEquation),Wn)switch(Cr){case NormalBlending:et.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:et.blendFunc(1,1);break;case SubtractiveBlending:et.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:et.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Cr);break}else switch(Cr){case NormalBlending:et.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:et.blendFunc(770,1);break;case SubtractiveBlending:et.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:et.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Cr);break}Rt=null,Bt=null,Lt=null,wt=null,Mt=Cr,Dt=Wn}return}mn=mn||Ur,Mn=Mn||tn,Hn=Hn||fn,(Ur!==Et||mn!==Ft)&&(et.blendEquationSeparate(ur[Ur],ur[mn]),Et=Ur,Ft=mn),(tn!==Rt||fn!==Bt||Mn!==Lt||Hn!==wt)&&(et.blendFuncSeparate(xr[tn],xr[fn],xr[Mn],xr[Hn]),Rt=tn,Bt=fn,Lt=Mn,wt=Hn),Mt=Cr,Dt=!1}function Br(Cr,Ur){Cr.side===DoubleSide?pr(2884):wr(2884);let tn=Cr.side===BackSide;Ur&&(tn=!tn),kr(tn),Cr.blending===NormalBlending&&Cr.transparent===!1?Ar(NoBlending):Ar(Cr.blending,Cr.blendEquation,Cr.blendSrc,Cr.blendDst,Cr.blendEquationAlpha,Cr.blendSrcAlpha,Cr.blendDstAlpha,Cr.premultipliedAlpha),lt.setFunc(Cr.depthFunc),lt.setTest(Cr.depthTest),lt.setMask(Cr.depthWrite),at.setMask(Cr.colorWrite);const fn=Cr.stencilWrite;ft.setTest(fn),fn&&(ft.setMask(Cr.stencilWriteMask),ft.setFunc(Cr.stencilFunc,Cr.stencilRef,Cr.stencilFuncMask),ft.setOp(Cr.stencilFail,Cr.stencilZFail,Cr.stencilZPass)),Xr(Cr.polygonOffset,Cr.polygonOffsetFactor,Cr.polygonOffsetUnits),Cr.alphaToCoverage===!0?wr(32926):pr(32926)}function kr(Cr){Ot!==Cr&&(Cr?et.frontFace(2304):et.frontFace(2305),Ot=Cr)}function nn(Cr){Cr!==CullFaceNone?(wr(2884),Cr!==Ut&&(Cr===CullFaceBack?et.cullFace(1029):Cr===CullFaceFront?et.cullFace(1028):et.cullFace(1032))):pr(2884),Ut=Cr}function Pr(Cr){Cr!==zt&&(qt&&et.lineWidth(Cr),zt=Cr)}function Xr(Cr,Ur,tn){Cr?(wr(32823),(tr!==Ur||jt!==tn)&&(et.polygonOffset(Ur,tn),tr=Ur,jt=tn)):pr(32823)}function Zr(Cr){Cr?wr(3089):pr(3089)}function zr(Cr){Cr===void 0&&(Cr=33984+Kt-1),Vt!==Cr&&(et.activeTexture(Cr),Vt=Cr)}function cr(Cr,Ur,tn){tn===void 0&&(Vt===null?tn=33984+Kt-1:tn=Vt);let fn=Zt[tn];fn===void 0&&(fn={type:void 0,texture:void 0},Zt[tn]=fn),(fn.type!==Cr||fn.texture!==Ur)&&(Vt!==tn&&(et.activeTexture(tn),Vt=tn),et.bindTexture(Cr,Ur||hr[Cr]),fn.type=Cr,fn.texture=Ur)}function ar(){const Cr=Zt[Vt];Cr!==void 0&&Cr.type!==void 0&&(et.bindTexture(Cr.type,null),Cr.type=void 0,Cr.texture=void 0)}function Tr(){try{et.compressedTexImage2D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Nr(){try{et.compressedTexImage3D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Qr(){try{et.texSubImage2D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function en(){try{et.texSubImage3D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function on(){try{et.compressedTexSubImage2D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function rn(){try{et.compressedTexSubImage3D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Vr(){try{et.texStorage2D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function ln(){try{et.texStorage3D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function br(){try{et.texImage2D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Gr(){try{et.texImage3D.apply(et,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Kr(Cr){sr.equals(Cr)===!1&&(et.scissor(Cr.x,Cr.y,Cr.z,Cr.w),sr.copy(Cr))}function Wr(Cr){lr.equals(Cr)===!1&&(et.viewport(Cr.x,Cr.y,Cr.z,Cr.w),lr.copy(Cr))}function an(Cr,Ur){let tn=gt.get(Ur);tn===void 0&&(tn=new WeakMap,gt.set(Ur,tn));let fn=tn.get(Cr);fn===void 0&&(fn=et.getUniformBlockIndex(Ur,Cr.name),tn.set(Cr,fn))}function gn(Cr,Ur){const fn=gt.get(Ur).get(Cr);dt.get(Ur)!==fn&&(et.uniformBlockBinding(Ur,fn,Cr.__bindingPointIndex),dt.set(Ur,fn))}function Cn(){et.disable(3042),et.disable(2884),et.disable(2929),et.disable(32823),et.disable(3089),et.disable(2960),et.disable(32926),et.blendEquation(32774),et.blendFunc(1,0),et.blendFuncSeparate(1,0,1,0),et.colorMask(!0,!0,!0,!0),et.clearColor(0,0,0,0),et.depthMask(!0),et.depthFunc(513),et.clearDepth(1),et.stencilMask(4294967295),et.stencilFunc(519,0,4294967295),et.stencilOp(7680,7680,7680),et.clearStencil(0),et.cullFace(1029),et.frontFace(2305),et.polygonOffset(0,0),et.activeTexture(33984),et.bindFramebuffer(36160,null),rt===!0&&(et.bindFramebuffer(36009,null),et.bindFramebuffer(36008,null)),et.useProgram(null),et.lineWidth(1),et.scissor(0,0,et.canvas.width,et.canvas.height),et.viewport(0,0,et.canvas.width,et.canvas.height),pt={},Vt=null,Zt={},vt={},St=new WeakMap,At=[],Tt=null,Ct=!1,Mt=null,Et=null,Rt=null,Bt=null,Ft=null,Lt=null,wt=null,Dt=!1,Ot=null,Ut=null,zt=null,tr=null,jt=null,sr.set(0,0,et.canvas.width,et.canvas.height),lr.set(0,0,et.canvas.width,et.canvas.height),at.reset(),lt.reset(),ft.reset()}return{buffers:{color:at,depth:lt,stencil:ft},enable:wr,disable:pr,bindFramebuffer:_r,drawBuffers:mr,useProgram:Er,setBlending:Ar,setMaterial:Br,setFlipSided:kr,setCullFace:nn,setLineWidth:Pr,setPolygonOffset:Xr,setScissorTest:Zr,activeTexture:zr,bindTexture:cr,unbindTexture:ar,compressedTexImage2D:Tr,compressedTexImage3D:Nr,texImage2D:br,texImage3D:Gr,updateUBOMapping:an,uniformBlockBinding:gn,texStorage2D:Vr,texStorage3D:ln,texSubImage2D:Qr,texSubImage3D:en,compressedTexSubImage2D:on,compressedTexSubImage3D:rn,scissor:Kr,viewport:Wr,reset:Cn}}function WebGLTextures(et,_e,tt,rt,nt,st,ot){const at=nt.isWebGL2,lt=nt.maxTextures,ft=nt.maxCubemapSize,dt=nt.maxTextureSize,gt=nt.maxSamples,pt=_e.has("WEBGL_multisampled_render_to_texture")?_e.get("WEBGL_multisampled_render_to_texture"):null,vt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),St=new WeakMap;let At;const Tt=new WeakMap;let Ct=!1;try{Ct=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Mt(cr,ar){return Ct?new OffscreenCanvas(cr,ar):createElementNS("canvas")}function Et(cr,ar,Tr,Nr){let Qr=1;if((cr.width>Nr||cr.height>Nr)&&(Qr=Nr/Math.max(cr.width,cr.height)),Qr<1||ar===!0)if(typeof HTMLImageElement<"u"&&cr instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&cr instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&cr instanceof ImageBitmap){const en=ar?floorPowerOfTwo:Math.floor,on=en(Qr*cr.width),rn=en(Qr*cr.height);At===void 0&&(At=Mt(on,rn));const Vr=Tr?Mt(on,rn):At;return Vr.width=on,Vr.height=rn,Vr.getContext("2d").drawImage(cr,0,0,on,rn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+cr.width+"x"+cr.height+") to ("+on+"x"+rn+")."),Vr}else return"data"in cr&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+cr.width+"x"+cr.height+")."),cr;return cr}function Rt(cr){return isPowerOfTwo(cr.width)&&isPowerOfTwo(cr.height)}function Bt(cr){return at?!1:cr.wrapS!==ClampToEdgeWrapping||cr.wrapT!==ClampToEdgeWrapping||cr.minFilter!==NearestFilter&&cr.minFilter!==LinearFilter}function Ft(cr,ar){return cr.generateMipmaps&&ar&&cr.minFilter!==NearestFilter&&cr.minFilter!==LinearFilter}function Lt(cr){et.generateMipmap(cr)}function wt(cr,ar,Tr,Nr,Qr=!1){if(at===!1)return ar;if(cr!==null){if(et[cr]!==void 0)return et[cr];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+cr+"'")}let en=ar;return ar===6403&&(Tr===5126&&(en=33326),Tr===5131&&(en=33325),Tr===5121&&(en=33321)),ar===33319&&(Tr===5126&&(en=33328),Tr===5131&&(en=33327),Tr===5121&&(en=33323)),ar===6408&&(Tr===5126&&(en=34836),Tr===5131&&(en=34842),Tr===5121&&(en=Nr===sRGBEncoding&&Qr===!1?35907:32856),Tr===32819&&(en=32854),Tr===32820&&(en=32855)),(en===33325||en===33326||en===33327||en===33328||en===34842||en===34836)&&_e.get("EXT_color_buffer_float"),en}function Dt(cr,ar,Tr){return Ft(cr,Tr)===!0||cr.isFramebufferTexture&&cr.minFilter!==NearestFilter&&cr.minFilter!==LinearFilter?Math.log2(Math.max(ar.width,ar.height))+1:cr.mipmaps!==void 0&&cr.mipmaps.length>0?cr.mipmaps.length:cr.isCompressedTexture&&Array.isArray(cr.image)?ar.mipmaps.length:1}function Ot(cr){return cr===NearestFilter||cr===NearestMipmapNearestFilter||cr===NearestMipmapLinearFilter?9728:9729}function Ut(cr){const ar=cr.target;ar.removeEventListener("dispose",Ut),tr(ar),ar.isVideoTexture&&St.delete(ar)}function zt(cr){const ar=cr.target;ar.removeEventListener("dispose",zt),Kt(ar)}function tr(cr){const ar=rt.get(cr);if(ar.__webglInit===void 0)return;const Tr=cr.source,Nr=Tt.get(Tr);if(Nr){const Qr=Nr[ar.__cacheKey];Qr.usedTimes--,Qr.usedTimes===0&&jt(cr),Object.keys(Nr).length===0&&Tt.delete(Tr)}rt.remove(cr)}function jt(cr){const ar=rt.get(cr);et.deleteTexture(ar.__webglTexture);const Tr=cr.source,Nr=Tt.get(Tr);delete Nr[ar.__cacheKey],ot.memory.textures--}function Kt(cr){const ar=cr.texture,Tr=rt.get(cr),Nr=rt.get(ar);if(Nr.__webglTexture!==void 0&&(et.deleteTexture(Nr.__webglTexture),ot.memory.textures--),cr.depthTexture&&cr.depthTexture.dispose(),cr.isWebGLCubeRenderTarget)for(let Qr=0;Qr<6;Qr++)et.deleteFramebuffer(Tr.__webglFramebuffer[Qr]),Tr.__webglDepthbuffer&&et.deleteRenderbuffer(Tr.__webglDepthbuffer[Qr]);else{if(et.deleteFramebuffer(Tr.__webglFramebuffer),Tr.__webglDepthbuffer&&et.deleteRenderbuffer(Tr.__webglDepthbuffer),Tr.__webglMultisampledFramebuffer&&et.deleteFramebuffer(Tr.__webglMultisampledFramebuffer),Tr.__webglColorRenderbuffer)for(let Qr=0;Qr<Tr.__webglColorRenderbuffer.length;Qr++)Tr.__webglColorRenderbuffer[Qr]&&et.deleteRenderbuffer(Tr.__webglColorRenderbuffer[Qr]);Tr.__webglDepthRenderbuffer&&et.deleteRenderbuffer(Tr.__webglDepthRenderbuffer)}if(cr.isWebGLMultipleRenderTargets)for(let Qr=0,en=ar.length;Qr<en;Qr++){const on=rt.get(ar[Qr]);on.__webglTexture&&(et.deleteTexture(on.__webglTexture),ot.memory.textures--),rt.remove(ar[Qr])}rt.remove(ar),rt.remove(cr)}let qt=0;function er(){qt=0}function kt(){const cr=qt;return cr>=lt&&console.warn("THREE.WebGLTextures: Trying to use "+cr+" texture units while this GPU supports only "+lt),qt+=1,cr}function Vt(cr){const ar=[];return ar.push(cr.wrapS),ar.push(cr.wrapT),ar.push(cr.wrapR||0),ar.push(cr.magFilter),ar.push(cr.minFilter),ar.push(cr.anisotropy),ar.push(cr.internalFormat),ar.push(cr.format),ar.push(cr.type),ar.push(cr.generateMipmaps),ar.push(cr.premultiplyAlpha),ar.push(cr.flipY),ar.push(cr.unpackAlignment),ar.push(cr.encoding),ar.join()}function Zt(cr,ar){const Tr=rt.get(cr);if(cr.isVideoTexture&&Zr(cr),cr.isRenderTargetTexture===!1&&cr.version>0&&Tr.__version!==cr.version){const Nr=cr.image;if(Nr===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Nr.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pr(Tr,cr,ar);return}}tt.bindTexture(3553,Tr.__webglTexture,33984+ar)}function Wt(cr,ar){const Tr=rt.get(cr);if(cr.version>0&&Tr.__version!==cr.version){pr(Tr,cr,ar);return}tt.bindTexture(35866,Tr.__webglTexture,33984+ar)}function nr(cr,ar){const Tr=rt.get(cr);if(cr.version>0&&Tr.__version!==cr.version){pr(Tr,cr,ar);return}tt.bindTexture(32879,Tr.__webglTexture,33984+ar)}function sr(cr,ar){const Tr=rt.get(cr);if(cr.version>0&&Tr.__version!==cr.version){_r(Tr,cr,ar);return}tt.bindTexture(34067,Tr.__webglTexture,33984+ar)}const lr={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},dr={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function hr(cr,ar,Tr){if(Tr?(et.texParameteri(cr,10242,lr[ar.wrapS]),et.texParameteri(cr,10243,lr[ar.wrapT]),(cr===32879||cr===35866)&&et.texParameteri(cr,32882,lr[ar.wrapR]),et.texParameteri(cr,10240,dr[ar.magFilter]),et.texParameteri(cr,10241,dr[ar.minFilter])):(et.texParameteri(cr,10242,33071),et.texParameteri(cr,10243,33071),(cr===32879||cr===35866)&&et.texParameteri(cr,32882,33071),(ar.wrapS!==ClampToEdgeWrapping||ar.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),et.texParameteri(cr,10240,Ot(ar.magFilter)),et.texParameteri(cr,10241,Ot(ar.minFilter)),ar.minFilter!==NearestFilter&&ar.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),_e.has("EXT_texture_filter_anisotropic")===!0){const Nr=_e.get("EXT_texture_filter_anisotropic");if(ar.magFilter===NearestFilter||ar.minFilter!==NearestMipmapLinearFilter&&ar.minFilter!==LinearMipmapLinearFilter||ar.type===FloatType&&_e.has("OES_texture_float_linear")===!1||at===!1&&ar.type===HalfFloatType&&_e.has("OES_texture_half_float_linear")===!1)return;(ar.anisotropy>1||rt.get(ar).__currentAnisotropy)&&(et.texParameterf(cr,Nr.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ar.anisotropy,nt.getMaxAnisotropy())),rt.get(ar).__currentAnisotropy=ar.anisotropy)}}function wr(cr,ar){let Tr=!1;cr.__webglInit===void 0&&(cr.__webglInit=!0,ar.addEventListener("dispose",Ut));const Nr=ar.source;let Qr=Tt.get(Nr);Qr===void 0&&(Qr={},Tt.set(Nr,Qr));const en=Vt(ar);if(en!==cr.__cacheKey){Qr[en]===void 0&&(Qr[en]={texture:et.createTexture(),usedTimes:0},ot.memory.textures++,Tr=!0),Qr[en].usedTimes++;const on=Qr[cr.__cacheKey];on!==void 0&&(Qr[cr.__cacheKey].usedTimes--,on.usedTimes===0&&jt(ar)),cr.__cacheKey=en,cr.__webglTexture=Qr[en].texture}return Tr}function pr(cr,ar,Tr){let Nr=3553;(ar.isDataArrayTexture||ar.isCompressedArrayTexture)&&(Nr=35866),ar.isData3DTexture&&(Nr=32879);const Qr=wr(cr,ar),en=ar.source;tt.bindTexture(Nr,cr.__webglTexture,33984+Tr);const on=rt.get(en);if(en.version!==on.__version||Qr===!0){tt.activeTexture(33984+Tr),et.pixelStorei(37440,ar.flipY),et.pixelStorei(37441,ar.premultiplyAlpha),et.pixelStorei(3317,ar.unpackAlignment),et.pixelStorei(37443,0);const rn=Bt(ar)&&Rt(ar.image)===!1;let Vr=Et(ar.image,rn,!1,dt);Vr=zr(ar,Vr);const ln=Rt(Vr)||at,br=st.convert(ar.format,ar.encoding);let Gr=st.convert(ar.type),Kr=wt(ar.internalFormat,br,Gr,ar.encoding,ar.isVideoTexture);hr(Nr,ar,ln);let Wr;const an=ar.mipmaps,gn=at&&ar.isVideoTexture!==!0,Cn=on.__version===void 0||Qr===!0,Cr=Dt(ar,Vr,ln);if(ar.isDepthTexture)Kr=6402,at?ar.type===FloatType?Kr=36012:ar.type===UnsignedIntType?Kr=33190:ar.type===UnsignedInt248Type?Kr=35056:Kr=33189:ar.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ar.format===DepthFormat&&Kr===6402&&ar.type!==UnsignedShortType&&ar.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ar.type=UnsignedIntType,Gr=st.convert(ar.type)),ar.format===DepthStencilFormat&&Kr===6402&&(Kr=34041,ar.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ar.type=UnsignedInt248Type,Gr=st.convert(ar.type))),Cn&&(gn?tt.texStorage2D(3553,1,Kr,Vr.width,Vr.height):tt.texImage2D(3553,0,Kr,Vr.width,Vr.height,0,br,Gr,null));else if(ar.isDataTexture)if(an.length>0&&ln){gn&&Cn&&tt.texStorage2D(3553,Cr,Kr,an[0].width,an[0].height);for(let Ur=0,tn=an.length;Ur<tn;Ur++)Wr=an[Ur],gn?tt.texSubImage2D(3553,Ur,0,0,Wr.width,Wr.height,br,Gr,Wr.data):tt.texImage2D(3553,Ur,Kr,Wr.width,Wr.height,0,br,Gr,Wr.data);ar.generateMipmaps=!1}else gn?(Cn&&tt.texStorage2D(3553,Cr,Kr,Vr.width,Vr.height),tt.texSubImage2D(3553,0,0,0,Vr.width,Vr.height,br,Gr,Vr.data)):tt.texImage2D(3553,0,Kr,Vr.width,Vr.height,0,br,Gr,Vr.data);else if(ar.isCompressedTexture)if(ar.isCompressedArrayTexture){gn&&Cn&&tt.texStorage3D(35866,Cr,Kr,an[0].width,an[0].height,Vr.depth);for(let Ur=0,tn=an.length;Ur<tn;Ur++)Wr=an[Ur],ar.format!==RGBAFormat?br!==null?gn?tt.compressedTexSubImage3D(35866,Ur,0,0,0,Wr.width,Wr.height,Vr.depth,br,Wr.data,0,0):tt.compressedTexImage3D(35866,Ur,Kr,Wr.width,Wr.height,Vr.depth,0,Wr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gn?tt.texSubImage3D(35866,Ur,0,0,0,Wr.width,Wr.height,Vr.depth,br,Gr,Wr.data):tt.texImage3D(35866,Ur,Kr,Wr.width,Wr.height,Vr.depth,0,br,Gr,Wr.data)}else{gn&&Cn&&tt.texStorage2D(3553,Cr,Kr,an[0].width,an[0].height);for(let Ur=0,tn=an.length;Ur<tn;Ur++)Wr=an[Ur],ar.format!==RGBAFormat?br!==null?gn?tt.compressedTexSubImage2D(3553,Ur,0,0,Wr.width,Wr.height,br,Wr.data):tt.compressedTexImage2D(3553,Ur,Kr,Wr.width,Wr.height,0,Wr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gn?tt.texSubImage2D(3553,Ur,0,0,Wr.width,Wr.height,br,Gr,Wr.data):tt.texImage2D(3553,Ur,Kr,Wr.width,Wr.height,0,br,Gr,Wr.data)}else if(ar.isDataArrayTexture)gn?(Cn&&tt.texStorage3D(35866,Cr,Kr,Vr.width,Vr.height,Vr.depth),tt.texSubImage3D(35866,0,0,0,0,Vr.width,Vr.height,Vr.depth,br,Gr,Vr.data)):tt.texImage3D(35866,0,Kr,Vr.width,Vr.height,Vr.depth,0,br,Gr,Vr.data);else if(ar.isData3DTexture)gn?(Cn&&tt.texStorage3D(32879,Cr,Kr,Vr.width,Vr.height,Vr.depth),tt.texSubImage3D(32879,0,0,0,0,Vr.width,Vr.height,Vr.depth,br,Gr,Vr.data)):tt.texImage3D(32879,0,Kr,Vr.width,Vr.height,Vr.depth,0,br,Gr,Vr.data);else if(ar.isFramebufferTexture){if(Cn)if(gn)tt.texStorage2D(3553,Cr,Kr,Vr.width,Vr.height);else{let Ur=Vr.width,tn=Vr.height;for(let fn=0;fn<Cr;fn++)tt.texImage2D(3553,fn,Kr,Ur,tn,0,br,Gr,null),Ur>>=1,tn>>=1}}else if(an.length>0&&ln){gn&&Cn&&tt.texStorage2D(3553,Cr,Kr,an[0].width,an[0].height);for(let Ur=0,tn=an.length;Ur<tn;Ur++)Wr=an[Ur],gn?tt.texSubImage2D(3553,Ur,0,0,br,Gr,Wr):tt.texImage2D(3553,Ur,Kr,br,Gr,Wr);ar.generateMipmaps=!1}else gn?(Cn&&tt.texStorage2D(3553,Cr,Kr,Vr.width,Vr.height),tt.texSubImage2D(3553,0,0,0,br,Gr,Vr)):tt.texImage2D(3553,0,Kr,br,Gr,Vr);Ft(ar,ln)&&Lt(Nr),on.__version=en.version,ar.onUpdate&&ar.onUpdate(ar)}cr.__version=ar.version}function _r(cr,ar,Tr){if(ar.image.length!==6)return;const Nr=wr(cr,ar),Qr=ar.source;tt.bindTexture(34067,cr.__webglTexture,33984+Tr);const en=rt.get(Qr);if(Qr.version!==en.__version||Nr===!0){tt.activeTexture(33984+Tr),et.pixelStorei(37440,ar.flipY),et.pixelStorei(37441,ar.premultiplyAlpha),et.pixelStorei(3317,ar.unpackAlignment),et.pixelStorei(37443,0);const on=ar.isCompressedTexture||ar.image[0].isCompressedTexture,rn=ar.image[0]&&ar.image[0].isDataTexture,Vr=[];for(let Ur=0;Ur<6;Ur++)!on&&!rn?Vr[Ur]=Et(ar.image[Ur],!1,!0,ft):Vr[Ur]=rn?ar.image[Ur].image:ar.image[Ur],Vr[Ur]=zr(ar,Vr[Ur]);const ln=Vr[0],br=Rt(ln)||at,Gr=st.convert(ar.format,ar.encoding),Kr=st.convert(ar.type),Wr=wt(ar.internalFormat,Gr,Kr,ar.encoding),an=at&&ar.isVideoTexture!==!0,gn=en.__version===void 0||Nr===!0;let Cn=Dt(ar,ln,br);hr(34067,ar,br);let Cr;if(on){an&&gn&&tt.texStorage2D(34067,Cn,Wr,ln.width,ln.height);for(let Ur=0;Ur<6;Ur++){Cr=Vr[Ur].mipmaps;for(let tn=0;tn<Cr.length;tn++){const fn=Cr[tn];ar.format!==RGBAFormat?Gr!==null?an?tt.compressedTexSubImage2D(34069+Ur,tn,0,0,fn.width,fn.height,Gr,fn.data):tt.compressedTexImage2D(34069+Ur,tn,Wr,fn.width,fn.height,0,fn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):an?tt.texSubImage2D(34069+Ur,tn,0,0,fn.width,fn.height,Gr,Kr,fn.data):tt.texImage2D(34069+Ur,tn,Wr,fn.width,fn.height,0,Gr,Kr,fn.data)}}}else{Cr=ar.mipmaps,an&&gn&&(Cr.length>0&&Cn++,tt.texStorage2D(34067,Cn,Wr,Vr[0].width,Vr[0].height));for(let Ur=0;Ur<6;Ur++)if(rn){an?tt.texSubImage2D(34069+Ur,0,0,0,Vr[Ur].width,Vr[Ur].height,Gr,Kr,Vr[Ur].data):tt.texImage2D(34069+Ur,0,Wr,Vr[Ur].width,Vr[Ur].height,0,Gr,Kr,Vr[Ur].data);for(let tn=0;tn<Cr.length;tn++){const mn=Cr[tn].image[Ur].image;an?tt.texSubImage2D(34069+Ur,tn+1,0,0,mn.width,mn.height,Gr,Kr,mn.data):tt.texImage2D(34069+Ur,tn+1,Wr,mn.width,mn.height,0,Gr,Kr,mn.data)}}else{an?tt.texSubImage2D(34069+Ur,0,0,0,Gr,Kr,Vr[Ur]):tt.texImage2D(34069+Ur,0,Wr,Gr,Kr,Vr[Ur]);for(let tn=0;tn<Cr.length;tn++){const fn=Cr[tn];an?tt.texSubImage2D(34069+Ur,tn+1,0,0,Gr,Kr,fn.image[Ur]):tt.texImage2D(34069+Ur,tn+1,Wr,Gr,Kr,fn.image[Ur])}}}Ft(ar,br)&&Lt(34067),en.__version=Qr.version,ar.onUpdate&&ar.onUpdate(ar)}cr.__version=ar.version}function mr(cr,ar,Tr,Nr,Qr){const en=st.convert(Tr.format,Tr.encoding),on=st.convert(Tr.type),rn=wt(Tr.internalFormat,en,on,Tr.encoding);rt.get(ar).__hasExternalTextures||(Qr===32879||Qr===35866?tt.texImage3D(Qr,0,rn,ar.width,ar.height,ar.depth,0,en,on,null):tt.texImage2D(Qr,0,rn,ar.width,ar.height,0,en,on,null)),tt.bindFramebuffer(36160,cr),Xr(ar)?pt.framebufferTexture2DMultisampleEXT(36160,Nr,Qr,rt.get(Tr).__webglTexture,0,Pr(ar)):(Qr===3553||Qr>=34069&&Qr<=34074)&&et.framebufferTexture2D(36160,Nr,Qr,rt.get(Tr).__webglTexture,0),tt.bindFramebuffer(36160,null)}function Er(cr,ar,Tr){if(et.bindRenderbuffer(36161,cr),ar.depthBuffer&&!ar.stencilBuffer){let Nr=33189;if(Tr||Xr(ar)){const Qr=ar.depthTexture;Qr&&Qr.isDepthTexture&&(Qr.type===FloatType?Nr=36012:Qr.type===UnsignedIntType&&(Nr=33190));const en=Pr(ar);Xr(ar)?pt.renderbufferStorageMultisampleEXT(36161,en,Nr,ar.width,ar.height):et.renderbufferStorageMultisample(36161,en,Nr,ar.width,ar.height)}else et.renderbufferStorage(36161,Nr,ar.width,ar.height);et.framebufferRenderbuffer(36160,36096,36161,cr)}else if(ar.depthBuffer&&ar.stencilBuffer){const Nr=Pr(ar);Tr&&Xr(ar)===!1?et.renderbufferStorageMultisample(36161,Nr,35056,ar.width,ar.height):Xr(ar)?pt.renderbufferStorageMultisampleEXT(36161,Nr,35056,ar.width,ar.height):et.renderbufferStorage(36161,34041,ar.width,ar.height),et.framebufferRenderbuffer(36160,33306,36161,cr)}else{const Nr=ar.isWebGLMultipleRenderTargets===!0?ar.texture:[ar.texture];for(let Qr=0;Qr<Nr.length;Qr++){const en=Nr[Qr],on=st.convert(en.format,en.encoding),rn=st.convert(en.type),Vr=wt(en.internalFormat,on,rn,en.encoding),ln=Pr(ar);Tr&&Xr(ar)===!1?et.renderbufferStorageMultisample(36161,ln,Vr,ar.width,ar.height):Xr(ar)?pt.renderbufferStorageMultisampleEXT(36161,ln,Vr,ar.width,ar.height):et.renderbufferStorage(36161,Vr,ar.width,ar.height)}}et.bindRenderbuffer(36161,null)}function ur(cr,ar){if(ar&&ar.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(tt.bindFramebuffer(36160,cr),!(ar.depthTexture&&ar.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!rt.get(ar.depthTexture).__webglTexture||ar.depthTexture.image.width!==ar.width||ar.depthTexture.image.height!==ar.height)&&(ar.depthTexture.image.width=ar.width,ar.depthTexture.image.height=ar.height,ar.depthTexture.needsUpdate=!0),Zt(ar.depthTexture,0);const Nr=rt.get(ar.depthTexture).__webglTexture,Qr=Pr(ar);if(ar.depthTexture.format===DepthFormat)Xr(ar)?pt.framebufferTexture2DMultisampleEXT(36160,36096,3553,Nr,0,Qr):et.framebufferTexture2D(36160,36096,3553,Nr,0);else if(ar.depthTexture.format===DepthStencilFormat)Xr(ar)?pt.framebufferTexture2DMultisampleEXT(36160,33306,3553,Nr,0,Qr):et.framebufferTexture2D(36160,33306,3553,Nr,0);else throw new Error("Unknown depthTexture format")}function xr(cr){const ar=rt.get(cr),Tr=cr.isWebGLCubeRenderTarget===!0;if(cr.depthTexture&&!ar.__autoAllocateDepthBuffer){if(Tr)throw new Error("target.depthTexture not supported in Cube render targets");ur(ar.__webglFramebuffer,cr)}else if(Tr){ar.__webglDepthbuffer=[];for(let Nr=0;Nr<6;Nr++)tt.bindFramebuffer(36160,ar.__webglFramebuffer[Nr]),ar.__webglDepthbuffer[Nr]=et.createRenderbuffer(),Er(ar.__webglDepthbuffer[Nr],cr,!1)}else tt.bindFramebuffer(36160,ar.__webglFramebuffer),ar.__webglDepthbuffer=et.createRenderbuffer(),Er(ar.__webglDepthbuffer,cr,!1);tt.bindFramebuffer(36160,null)}function Ar(cr,ar,Tr){const Nr=rt.get(cr);ar!==void 0&&mr(Nr.__webglFramebuffer,cr,cr.texture,36064,3553),Tr!==void 0&&xr(cr)}function Br(cr){const ar=cr.texture,Tr=rt.get(cr),Nr=rt.get(ar);cr.addEventListener("dispose",zt),cr.isWebGLMultipleRenderTargets!==!0&&(Nr.__webglTexture===void 0&&(Nr.__webglTexture=et.createTexture()),Nr.__version=ar.version,ot.memory.textures++);const Qr=cr.isWebGLCubeRenderTarget===!0,en=cr.isWebGLMultipleRenderTargets===!0,on=Rt(cr)||at;if(Qr){Tr.__webglFramebuffer=[];for(let rn=0;rn<6;rn++)Tr.__webglFramebuffer[rn]=et.createFramebuffer()}else{if(Tr.__webglFramebuffer=et.createFramebuffer(),en)if(nt.drawBuffers){const rn=cr.texture;for(let Vr=0,ln=rn.length;Vr<ln;Vr++){const br=rt.get(rn[Vr]);br.__webglTexture===void 0&&(br.__webglTexture=et.createTexture(),ot.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(at&&cr.samples>0&&Xr(cr)===!1){const rn=en?ar:[ar];Tr.__webglMultisampledFramebuffer=et.createFramebuffer(),Tr.__webglColorRenderbuffer=[],tt.bindFramebuffer(36160,Tr.__webglMultisampledFramebuffer);for(let Vr=0;Vr<rn.length;Vr++){const ln=rn[Vr];Tr.__webglColorRenderbuffer[Vr]=et.createRenderbuffer(),et.bindRenderbuffer(36161,Tr.__webglColorRenderbuffer[Vr]);const br=st.convert(ln.format,ln.encoding),Gr=st.convert(ln.type),Kr=wt(ln.internalFormat,br,Gr,ln.encoding,cr.isXRRenderTarget===!0),Wr=Pr(cr);et.renderbufferStorageMultisample(36161,Wr,Kr,cr.width,cr.height),et.framebufferRenderbuffer(36160,36064+Vr,36161,Tr.__webglColorRenderbuffer[Vr])}et.bindRenderbuffer(36161,null),cr.depthBuffer&&(Tr.__webglDepthRenderbuffer=et.createRenderbuffer(),Er(Tr.__webglDepthRenderbuffer,cr,!0)),tt.bindFramebuffer(36160,null)}}if(Qr){tt.bindTexture(34067,Nr.__webglTexture),hr(34067,ar,on);for(let rn=0;rn<6;rn++)mr(Tr.__webglFramebuffer[rn],cr,ar,36064,34069+rn);Ft(ar,on)&&Lt(34067),tt.unbindTexture()}else if(en){const rn=cr.texture;for(let Vr=0,ln=rn.length;Vr<ln;Vr++){const br=rn[Vr],Gr=rt.get(br);tt.bindTexture(3553,Gr.__webglTexture),hr(3553,br,on),mr(Tr.__webglFramebuffer,cr,br,36064+Vr,3553),Ft(br,on)&&Lt(3553)}tt.unbindTexture()}else{let rn=3553;(cr.isWebGL3DRenderTarget||cr.isWebGLArrayRenderTarget)&&(at?rn=cr.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),tt.bindTexture(rn,Nr.__webglTexture),hr(rn,ar,on),mr(Tr.__webglFramebuffer,cr,ar,36064,rn),Ft(ar,on)&&Lt(rn),tt.unbindTexture()}cr.depthBuffer&&xr(cr)}function kr(cr){const ar=Rt(cr)||at,Tr=cr.isWebGLMultipleRenderTargets===!0?cr.texture:[cr.texture];for(let Nr=0,Qr=Tr.length;Nr<Qr;Nr++){const en=Tr[Nr];if(Ft(en,ar)){const on=cr.isWebGLCubeRenderTarget?34067:3553,rn=rt.get(en).__webglTexture;tt.bindTexture(on,rn),Lt(on),tt.unbindTexture()}}}function nn(cr){if(at&&cr.samples>0&&Xr(cr)===!1){const ar=cr.isWebGLMultipleRenderTargets?cr.texture:[cr.texture],Tr=cr.width,Nr=cr.height;let Qr=16384;const en=[],on=cr.stencilBuffer?33306:36096,rn=rt.get(cr),Vr=cr.isWebGLMultipleRenderTargets===!0;if(Vr)for(let ln=0;ln<ar.length;ln++)tt.bindFramebuffer(36160,rn.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(36160,36064+ln,36161,null),tt.bindFramebuffer(36160,rn.__webglFramebuffer),et.framebufferTexture2D(36009,36064+ln,3553,null,0);tt.bindFramebuffer(36008,rn.__webglMultisampledFramebuffer),tt.bindFramebuffer(36009,rn.__webglFramebuffer);for(let ln=0;ln<ar.length;ln++){en.push(36064+ln),cr.depthBuffer&&en.push(on);const br=rn.__ignoreDepthValues!==void 0?rn.__ignoreDepthValues:!1;if(br===!1&&(cr.depthBuffer&&(Qr|=256),cr.stencilBuffer&&(Qr|=1024)),Vr&&et.framebufferRenderbuffer(36008,36064,36161,rn.__webglColorRenderbuffer[ln]),br===!0&&(et.invalidateFramebuffer(36008,[on]),et.invalidateFramebuffer(36009,[on])),Vr){const Gr=rt.get(ar[ln]).__webglTexture;et.framebufferTexture2D(36009,36064,3553,Gr,0)}et.blitFramebuffer(0,0,Tr,Nr,0,0,Tr,Nr,Qr,9728),vt&&et.invalidateFramebuffer(36008,en)}if(tt.bindFramebuffer(36008,null),tt.bindFramebuffer(36009,null),Vr)for(let ln=0;ln<ar.length;ln++){tt.bindFramebuffer(36160,rn.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(36160,36064+ln,36161,rn.__webglColorRenderbuffer[ln]);const br=rt.get(ar[ln]).__webglTexture;tt.bindFramebuffer(36160,rn.__webglFramebuffer),et.framebufferTexture2D(36009,36064+ln,3553,br,0)}tt.bindFramebuffer(36009,rn.__webglMultisampledFramebuffer)}}function Pr(cr){return Math.min(gt,cr.samples)}function Xr(cr){const ar=rt.get(cr);return at&&cr.samples>0&&_e.has("WEBGL_multisampled_render_to_texture")===!0&&ar.__useRenderToTexture!==!1}function Zr(cr){const ar=ot.render.frame;St.get(cr)!==ar&&(St.set(cr,ar),cr.update())}function zr(cr,ar){const Tr=cr.encoding,Nr=cr.format,Qr=cr.type;return cr.isCompressedTexture===!0||cr.isVideoTexture===!0||cr.format===_SRGBAFormat||Tr!==LinearEncoding&&(Tr===sRGBEncoding?at===!1?_e.has("EXT_sRGB")===!0&&Nr===RGBAFormat?(cr.format=_SRGBAFormat,cr.minFilter=LinearFilter,cr.generateMipmaps=!1):ar=ImageUtils.sRGBToLinear(ar):(Nr!==RGBAFormat||Qr!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Tr)),ar}this.allocateTextureUnit=kt,this.resetTextureUnits=er,this.setTexture2D=Zt,this.setTexture2DArray=Wt,this.setTexture3D=nr,this.setTextureCube=sr,this.rebindTextures=Ar,this.setupRenderTarget=Br,this.updateRenderTargetMipmap=kr,this.updateMultisampleRenderTarget=nn,this.setupDepthRenderbuffer=xr,this.setupFrameBufferTexture=mr,this.useMultisampledRTT=Xr}function WebGLUtils(et,_e,tt){const rt=tt.isWebGL2;function nt(st,ot=null){let at;if(st===UnsignedByteType)return 5121;if(st===UnsignedShort4444Type)return 32819;if(st===UnsignedShort5551Type)return 32820;if(st===ByteType)return 5120;if(st===ShortType)return 5122;if(st===UnsignedShortType)return 5123;if(st===IntType)return 5124;if(st===UnsignedIntType)return 5125;if(st===FloatType)return 5126;if(st===HalfFloatType)return rt?5131:(at=_e.get("OES_texture_half_float"),at!==null?at.HALF_FLOAT_OES:null);if(st===AlphaFormat)return 6406;if(st===RGBAFormat)return 6408;if(st===LuminanceFormat)return 6409;if(st===LuminanceAlphaFormat)return 6410;if(st===DepthFormat)return 6402;if(st===DepthStencilFormat)return 34041;if(st===_SRGBAFormat)return at=_e.get("EXT_sRGB"),at!==null?at.SRGB_ALPHA_EXT:null;if(st===RedFormat)return 6403;if(st===RedIntegerFormat)return 36244;if(st===RGFormat)return 33319;if(st===RGIntegerFormat)return 33320;if(st===RGBAIntegerFormat)return 36249;if(st===RGB_S3TC_DXT1_Format||st===RGBA_S3TC_DXT1_Format||st===RGBA_S3TC_DXT3_Format||st===RGBA_S3TC_DXT5_Format)if(ot===sRGBEncoding)if(at=_e.get("WEBGL_compressed_texture_s3tc_srgb"),at!==null){if(st===RGB_S3TC_DXT1_Format)return at.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(st===RGBA_S3TC_DXT1_Format)return at.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(st===RGBA_S3TC_DXT3_Format)return at.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(st===RGBA_S3TC_DXT5_Format)return at.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(at=_e.get("WEBGL_compressed_texture_s3tc"),at!==null){if(st===RGB_S3TC_DXT1_Format)return at.COMPRESSED_RGB_S3TC_DXT1_EXT;if(st===RGBA_S3TC_DXT1_Format)return at.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(st===RGBA_S3TC_DXT3_Format)return at.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(st===RGBA_S3TC_DXT5_Format)return at.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(st===RGB_PVRTC_4BPPV1_Format||st===RGB_PVRTC_2BPPV1_Format||st===RGBA_PVRTC_4BPPV1_Format||st===RGBA_PVRTC_2BPPV1_Format)if(at=_e.get("WEBGL_compressed_texture_pvrtc"),at!==null){if(st===RGB_PVRTC_4BPPV1_Format)return at.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(st===RGB_PVRTC_2BPPV1_Format)return at.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(st===RGBA_PVRTC_4BPPV1_Format)return at.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(st===RGBA_PVRTC_2BPPV1_Format)return at.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(st===RGB_ETC1_Format)return at=_e.get("WEBGL_compressed_texture_etc1"),at!==null?at.COMPRESSED_RGB_ETC1_WEBGL:null;if(st===RGB_ETC2_Format||st===RGBA_ETC2_EAC_Format)if(at=_e.get("WEBGL_compressed_texture_etc"),at!==null){if(st===RGB_ETC2_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ETC2:at.COMPRESSED_RGB8_ETC2;if(st===RGBA_ETC2_EAC_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:at.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(st===RGBA_ASTC_4x4_Format||st===RGBA_ASTC_5x4_Format||st===RGBA_ASTC_5x5_Format||st===RGBA_ASTC_6x5_Format||st===RGBA_ASTC_6x6_Format||st===RGBA_ASTC_8x5_Format||st===RGBA_ASTC_8x6_Format||st===RGBA_ASTC_8x8_Format||st===RGBA_ASTC_10x5_Format||st===RGBA_ASTC_10x6_Format||st===RGBA_ASTC_10x8_Format||st===RGBA_ASTC_10x10_Format||st===RGBA_ASTC_12x10_Format||st===RGBA_ASTC_12x12_Format)if(at=_e.get("WEBGL_compressed_texture_astc"),at!==null){if(st===RGBA_ASTC_4x4_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:at.COMPRESSED_RGBA_ASTC_4x4_KHR;if(st===RGBA_ASTC_5x4_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:at.COMPRESSED_RGBA_ASTC_5x4_KHR;if(st===RGBA_ASTC_5x5_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:at.COMPRESSED_RGBA_ASTC_5x5_KHR;if(st===RGBA_ASTC_6x5_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:at.COMPRESSED_RGBA_ASTC_6x5_KHR;if(st===RGBA_ASTC_6x6_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:at.COMPRESSED_RGBA_ASTC_6x6_KHR;if(st===RGBA_ASTC_8x5_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:at.COMPRESSED_RGBA_ASTC_8x5_KHR;if(st===RGBA_ASTC_8x6_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:at.COMPRESSED_RGBA_ASTC_8x6_KHR;if(st===RGBA_ASTC_8x8_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:at.COMPRESSED_RGBA_ASTC_8x8_KHR;if(st===RGBA_ASTC_10x5_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:at.COMPRESSED_RGBA_ASTC_10x5_KHR;if(st===RGBA_ASTC_10x6_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:at.COMPRESSED_RGBA_ASTC_10x6_KHR;if(st===RGBA_ASTC_10x8_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:at.COMPRESSED_RGBA_ASTC_10x8_KHR;if(st===RGBA_ASTC_10x10_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:at.COMPRESSED_RGBA_ASTC_10x10_KHR;if(st===RGBA_ASTC_12x10_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:at.COMPRESSED_RGBA_ASTC_12x10_KHR;if(st===RGBA_ASTC_12x12_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:at.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(st===RGBA_BPTC_Format)if(at=_e.get("EXT_texture_compression_bptc"),at!==null){if(st===RGBA_BPTC_Format)return ot===sRGBEncoding?at.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:at.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(st===RED_RGTC1_Format||st===SIGNED_RED_RGTC1_Format||st===RED_GREEN_RGTC2_Format||st===SIGNED_RED_GREEN_RGTC2_Format)if(at=_e.get("EXT_texture_compression_rgtc"),at!==null){if(st===RGBA_BPTC_Format)return at.COMPRESSED_RED_RGTC1_EXT;if(st===SIGNED_RED_RGTC1_Format)return at.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(st===RED_GREEN_RGTC2_Format)return at.COMPRESSED_RED_GREEN_RGTC2_EXT;if(st===SIGNED_RED_GREEN_RGTC2_Format)return at.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return st===UnsignedInt248Type?rt?34042:(at=_e.get("WEBGL_depth_texture"),at!==null?at.UNSIGNED_INT_24_8_WEBGL:null):et[st]!==void 0?et[st]:null}return{convert:nt}}class ArrayCamera extends PerspectiveCamera$1{constructor(_e=[]){super(),this.isArrayCamera=!0,this.cameras=_e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(_e){return this._targetRay!==null&&this._targetRay.dispatchEvent(_e),this._grip!==null&&this._grip.dispatchEvent(_e),this._hand!==null&&this._hand.dispatchEvent(_e),this}connect(_e){if(_e&&_e.hand){const tt=this._hand;if(tt)for(const rt of _e.hand.values())this._getHandJoint(tt,rt)}return this.dispatchEvent({type:"connected",data:_e}),this}disconnect(_e){return this.dispatchEvent({type:"disconnected",data:_e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(_e,tt,rt){let nt=null,st=null,ot=null;const at=this._targetRay,lt=this._grip,ft=this._hand;if(_e&&tt.session.visibilityState!=="visible-blurred"){if(ft&&_e.hand){ot=!0;for(const At of _e.hand.values()){const Tt=tt.getJointPose(At,rt),Ct=this._getHandJoint(ft,At);Tt!==null&&(Ct.matrix.fromArray(Tt.transform.matrix),Ct.matrix.decompose(Ct.position,Ct.rotation,Ct.scale),Ct.jointRadius=Tt.radius),Ct.visible=Tt!==null}const dt=ft.joints["index-finger-tip"],gt=ft.joints["thumb-tip"],pt=dt.position.distanceTo(gt.position),vt=.02,St=.005;ft.inputState.pinching&&pt>vt+St?(ft.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:_e.handedness,target:this})):!ft.inputState.pinching&&pt<=vt-St&&(ft.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:_e.handedness,target:this}))}else lt!==null&&_e.gripSpace&&(st=tt.getPose(_e.gripSpace,rt),st!==null&&(lt.matrix.fromArray(st.transform.matrix),lt.matrix.decompose(lt.position,lt.rotation,lt.scale),st.linearVelocity?(lt.hasLinearVelocity=!0,lt.linearVelocity.copy(st.linearVelocity)):lt.hasLinearVelocity=!1,st.angularVelocity?(lt.hasAngularVelocity=!0,lt.angularVelocity.copy(st.angularVelocity)):lt.hasAngularVelocity=!1));at!==null&&(nt=tt.getPose(_e.targetRaySpace,rt),nt===null&&st!==null&&(nt=st),nt!==null&&(at.matrix.fromArray(nt.transform.matrix),at.matrix.decompose(at.position,at.rotation,at.scale),nt.linearVelocity?(at.hasLinearVelocity=!0,at.linearVelocity.copy(nt.linearVelocity)):at.hasLinearVelocity=!1,nt.angularVelocity?(at.hasAngularVelocity=!0,at.angularVelocity.copy(nt.angularVelocity)):at.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return at!==null&&(at.visible=nt!==null),lt!==null&&(lt.visible=st!==null),ft!==null&&(ft.visible=ot!==null),this}_getHandJoint(_e,tt){if(_e.joints[tt.jointName]===void 0){const rt=new Group;rt.matrixAutoUpdate=!1,rt.visible=!1,_e.joints[tt.jointName]=rt,_e.add(rt)}return _e.joints[tt.jointName]}}class DepthTexture extends Texture{constructor(_e,tt,rt,nt,st,ot,at,lt,ft,dt){if(dt=dt!==void 0?dt:DepthFormat,dt!==DepthFormat&&dt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");rt===void 0&&dt===DepthFormat&&(rt=UnsignedIntType),rt===void 0&&dt===DepthStencilFormat&&(rt=UnsignedInt248Type),super(null,nt,st,ot,at,lt,dt,rt,ft),this.isDepthTexture=!0,this.image={width:_e,height:tt},this.magFilter=at!==void 0?at:NearestFilter,this.minFilter=lt!==void 0?lt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(_e,tt){super();const rt=this;let nt=null,st=1,ot=null,at="local-floor",lt=1,ft=null,dt=null,gt=null,pt=null,vt=null,St=null;const At=tt.getContextAttributes();let Tt=null,Ct=null;const Mt=[],Et=[],Rt=new Set,Bt=new Map,Ft=new PerspectiveCamera$1;Ft.layers.enable(1),Ft.viewport=new Vector4;const Lt=new PerspectiveCamera$1;Lt.layers.enable(2),Lt.viewport=new Vector4;const wt=[Ft,Lt],Dt=new ArrayCamera;Dt.layers.enable(1),Dt.layers.enable(2);let Ot=null,Ut=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(nr){let sr=Mt[nr];return sr===void 0&&(sr=new WebXRController,Mt[nr]=sr),sr.getTargetRaySpace()},this.getControllerGrip=function(nr){let sr=Mt[nr];return sr===void 0&&(sr=new WebXRController,Mt[nr]=sr),sr.getGripSpace()},this.getHand=function(nr){let sr=Mt[nr];return sr===void 0&&(sr=new WebXRController,Mt[nr]=sr),sr.getHandSpace()};function zt(nr){const sr=Et.indexOf(nr.inputSource);if(sr===-1)return;const lr=Mt[sr];lr!==void 0&&lr.dispatchEvent({type:nr.type,data:nr.inputSource})}function tr(){nt.removeEventListener("select",zt),nt.removeEventListener("selectstart",zt),nt.removeEventListener("selectend",zt),nt.removeEventListener("squeeze",zt),nt.removeEventListener("squeezestart",zt),nt.removeEventListener("squeezeend",zt),nt.removeEventListener("end",tr),nt.removeEventListener("inputsourceschange",jt);for(let nr=0;nr<Mt.length;nr++){const sr=Et[nr];sr!==null&&(Et[nr]=null,Mt[nr].disconnect(sr))}Ot=null,Ut=null,_e.setRenderTarget(Tt),vt=null,pt=null,gt=null,nt=null,Ct=null,Wt.stop(),rt.isPresenting=!1,rt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(nr){st=nr,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(nr){at=nr,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return ft||ot},this.setReferenceSpace=function(nr){ft=nr},this.getBaseLayer=function(){return pt!==null?pt:vt},this.getBinding=function(){return gt},this.getFrame=function(){return St},this.getSession=function(){return nt},this.setSession=async function(nr){if(nt=nr,nt!==null){if(Tt=_e.getRenderTarget(),nt.addEventListener("select",zt),nt.addEventListener("selectstart",zt),nt.addEventListener("selectend",zt),nt.addEventListener("squeeze",zt),nt.addEventListener("squeezestart",zt),nt.addEventListener("squeezeend",zt),nt.addEventListener("end",tr),nt.addEventListener("inputsourceschange",jt),At.xrCompatible!==!0&&await tt.makeXRCompatible(),nt.renderState.layers===void 0||_e.capabilities.isWebGL2===!1){const sr={antialias:nt.renderState.layers===void 0?At.antialias:!0,alpha:At.alpha,depth:At.depth,stencil:At.stencil,framebufferScaleFactor:st};vt=new XRWebGLLayer(nt,tt,sr),nt.updateRenderState({baseLayer:vt}),Ct=new WebGLRenderTarget(vt.framebufferWidth,vt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:_e.outputEncoding,stencilBuffer:At.stencil})}else{let sr=null,lr=null,dr=null;At.depth&&(dr=At.stencil?35056:33190,sr=At.stencil?DepthStencilFormat:DepthFormat,lr=At.stencil?UnsignedInt248Type:UnsignedIntType);const hr={colorFormat:32856,depthFormat:dr,scaleFactor:st};gt=new XRWebGLBinding(nt,tt),pt=gt.createProjectionLayer(hr),nt.updateRenderState({layers:[pt]}),Ct=new WebGLRenderTarget(pt.textureWidth,pt.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(pt.textureWidth,pt.textureHeight,lr,void 0,void 0,void 0,void 0,void 0,void 0,sr),stencilBuffer:At.stencil,encoding:_e.outputEncoding,samples:At.antialias?4:0});const wr=_e.properties.get(Ct);wr.__ignoreDepthValues=pt.ignoreDepthValues}Ct.isXRRenderTarget=!0,this.setFoveation(lt),ft=null,ot=await nt.requestReferenceSpace(at),Wt.setContext(nt),Wt.start(),rt.isPresenting=!0,rt.dispatchEvent({type:"sessionstart"})}};function jt(nr){for(let sr=0;sr<nr.removed.length;sr++){const lr=nr.removed[sr],dr=Et.indexOf(lr);dr>=0&&(Et[dr]=null,Mt[dr].disconnect(lr))}for(let sr=0;sr<nr.added.length;sr++){const lr=nr.added[sr];let dr=Et.indexOf(lr);if(dr===-1){for(let wr=0;wr<Mt.length;wr++)if(wr>=Et.length){Et.push(lr),dr=wr;break}else if(Et[wr]===null){Et[wr]=lr,dr=wr;break}if(dr===-1)break}const hr=Mt[dr];hr&&hr.connect(lr)}}const Kt=new Vector3,qt=new Vector3;function er(nr,sr,lr){Kt.setFromMatrixPosition(sr.matrixWorld),qt.setFromMatrixPosition(lr.matrixWorld);const dr=Kt.distanceTo(qt),hr=sr.projectionMatrix.elements,wr=lr.projectionMatrix.elements,pr=hr[14]/(hr[10]-1),_r=hr[14]/(hr[10]+1),mr=(hr[9]+1)/hr[5],Er=(hr[9]-1)/hr[5],ur=(hr[8]-1)/hr[0],xr=(wr[8]+1)/wr[0],Ar=pr*ur,Br=pr*xr,kr=dr/(-ur+xr),nn=kr*-ur;sr.matrixWorld.decompose(nr.position,nr.quaternion,nr.scale),nr.translateX(nn),nr.translateZ(kr),nr.matrixWorld.compose(nr.position,nr.quaternion,nr.scale),nr.matrixWorldInverse.copy(nr.matrixWorld).invert();const Pr=pr+kr,Xr=_r+kr,Zr=Ar-nn,zr=Br+(dr-nn),cr=mr*_r/Xr*Pr,ar=Er*_r/Xr*Pr;nr.projectionMatrix.makePerspective(Zr,zr,cr,ar,Pr,Xr)}function kt(nr,sr){sr===null?nr.matrixWorld.copy(nr.matrix):nr.matrixWorld.multiplyMatrices(sr.matrixWorld,nr.matrix),nr.matrixWorldInverse.copy(nr.matrixWorld).invert()}this.updateCamera=function(nr){if(nt===null)return;Dt.near=Lt.near=Ft.near=nr.near,Dt.far=Lt.far=Ft.far=nr.far,(Ot!==Dt.near||Ut!==Dt.far)&&(nt.updateRenderState({depthNear:Dt.near,depthFar:Dt.far}),Ot=Dt.near,Ut=Dt.far);const sr=nr.parent,lr=Dt.cameras;kt(Dt,sr);for(let hr=0;hr<lr.length;hr++)kt(lr[hr],sr);Dt.matrixWorld.decompose(Dt.position,Dt.quaternion,Dt.scale),nr.matrix.copy(Dt.matrix),nr.matrix.decompose(nr.position,nr.quaternion,nr.scale);const dr=nr.children;for(let hr=0,wr=dr.length;hr<wr;hr++)dr[hr].updateMatrixWorld(!0);lr.length===2?er(Dt,Ft,Lt):Dt.projectionMatrix.copy(Ft.projectionMatrix)},this.getCamera=function(){return Dt},this.getFoveation=function(){if(!(pt===null&&vt===null))return lt},this.setFoveation=function(nr){lt=nr,pt!==null&&(pt.fixedFoveation=nr),vt!==null&&vt.fixedFoveation!==void 0&&(vt.fixedFoveation=nr)},this.getPlanes=function(){return Rt};let Vt=null;function Zt(nr,sr){if(dt=sr.getViewerPose(ft||ot),St=sr,dt!==null){const lr=dt.views;vt!==null&&(_e.setRenderTargetFramebuffer(Ct,vt.framebuffer),_e.setRenderTarget(Ct));let dr=!1;lr.length!==Dt.cameras.length&&(Dt.cameras.length=0,dr=!0);for(let hr=0;hr<lr.length;hr++){const wr=lr[hr];let pr=null;if(vt!==null)pr=vt.getViewport(wr);else{const mr=gt.getViewSubImage(pt,wr);pr=mr.viewport,hr===0&&(_e.setRenderTargetTextures(Ct,mr.colorTexture,pt.ignoreDepthValues?void 0:mr.depthStencilTexture),_e.setRenderTarget(Ct))}let _r=wt[hr];_r===void 0&&(_r=new PerspectiveCamera$1,_r.layers.enable(hr),_r.viewport=new Vector4,wt[hr]=_r),_r.matrix.fromArray(wr.transform.matrix),_r.projectionMatrix.fromArray(wr.projectionMatrix),_r.viewport.set(pr.x,pr.y,pr.width,pr.height),hr===0&&Dt.matrix.copy(_r.matrix),dr===!0&&Dt.cameras.push(_r)}}for(let lr=0;lr<Mt.length;lr++){const dr=Et[lr],hr=Mt[lr];dr!==null&&hr!==void 0&&hr.update(dr,sr,ft||ot)}if(Vt&&Vt(nr,sr),sr.detectedPlanes){rt.dispatchEvent({type:"planesdetected",data:sr.detectedPlanes});let lr=null;for(const dr of Rt)sr.detectedPlanes.has(dr)||(lr===null&&(lr=[]),lr.push(dr));if(lr!==null)for(const dr of lr)Rt.delete(dr),Bt.delete(dr),rt.dispatchEvent({type:"planeremoved",data:dr});for(const dr of sr.detectedPlanes)if(!Rt.has(dr))Rt.add(dr),Bt.set(dr,sr.lastChangedTime),rt.dispatchEvent({type:"planeadded",data:dr});else{const hr=Bt.get(dr);dr.lastChangedTime>hr&&(Bt.set(dr,dr.lastChangedTime),rt.dispatchEvent({type:"planechanged",data:dr}))}}St=null}const Wt=new WebGLAnimation;Wt.setAnimationLoop(Zt),this.setAnimationLoop=function(nr){Vt=nr},this.dispose=function(){}}}function WebGLMaterials(et,_e){function tt(At,Tt){Tt.color.getRGB(At.fogColor.value,getUnlitUniformColorSpace(et)),Tt.isFog?(At.fogNear.value=Tt.near,At.fogFar.value=Tt.far):Tt.isFogExp2&&(At.fogDensity.value=Tt.density)}function rt(At,Tt,Ct,Mt,Et){Tt.isMeshBasicMaterial||Tt.isMeshLambertMaterial?nt(At,Tt):Tt.isMeshToonMaterial?(nt(At,Tt),dt(At,Tt)):Tt.isMeshPhongMaterial?(nt(At,Tt),ft(At,Tt)):Tt.isMeshStandardMaterial?(nt(At,Tt),gt(At,Tt),Tt.isMeshPhysicalMaterial&&pt(At,Tt,Et)):Tt.isMeshMatcapMaterial?(nt(At,Tt),vt(At,Tt)):Tt.isMeshDepthMaterial?nt(At,Tt):Tt.isMeshDistanceMaterial?(nt(At,Tt),St(At,Tt)):Tt.isMeshNormalMaterial?nt(At,Tt):Tt.isLineBasicMaterial?(st(At,Tt),Tt.isLineDashedMaterial&&ot(At,Tt)):Tt.isPointsMaterial?at(At,Tt,Ct,Mt):Tt.isSpriteMaterial?lt(At,Tt):Tt.isShadowMaterial?(At.color.value.copy(Tt.color),At.opacity.value=Tt.opacity):Tt.isShaderMaterial&&(Tt.uniformsNeedUpdate=!1)}function nt(At,Tt){At.opacity.value=Tt.opacity,Tt.color&&At.diffuse.value.copy(Tt.color),Tt.emissive&&At.emissive.value.copy(Tt.emissive).multiplyScalar(Tt.emissiveIntensity),Tt.map&&(At.map.value=Tt.map),Tt.alphaMap&&(At.alphaMap.value=Tt.alphaMap),Tt.bumpMap&&(At.bumpMap.value=Tt.bumpMap,At.bumpScale.value=Tt.bumpScale,Tt.side===BackSide&&(At.bumpScale.value*=-1)),Tt.displacementMap&&(At.displacementMap.value=Tt.displacementMap,At.displacementScale.value=Tt.displacementScale,At.displacementBias.value=Tt.displacementBias),Tt.emissiveMap&&(At.emissiveMap.value=Tt.emissiveMap),Tt.normalMap&&(At.normalMap.value=Tt.normalMap,At.normalScale.value.copy(Tt.normalScale),Tt.side===BackSide&&At.normalScale.value.negate()),Tt.specularMap&&(At.specularMap.value=Tt.specularMap),Tt.alphaTest>0&&(At.alphaTest.value=Tt.alphaTest);const Ct=_e.get(Tt).envMap;if(Ct&&(At.envMap.value=Ct,At.flipEnvMap.value=Ct.isCubeTexture&&Ct.isRenderTargetTexture===!1?-1:1,At.reflectivity.value=Tt.reflectivity,At.ior.value=Tt.ior,At.refractionRatio.value=Tt.refractionRatio),Tt.lightMap){At.lightMap.value=Tt.lightMap;const Rt=et.physicallyCorrectLights!==!0?Math.PI:1;At.lightMapIntensity.value=Tt.lightMapIntensity*Rt}Tt.aoMap&&(At.aoMap.value=Tt.aoMap,At.aoMapIntensity.value=Tt.aoMapIntensity);let Mt;Tt.map?Mt=Tt.map:Tt.specularMap?Mt=Tt.specularMap:Tt.displacementMap?Mt=Tt.displacementMap:Tt.normalMap?Mt=Tt.normalMap:Tt.bumpMap?Mt=Tt.bumpMap:Tt.roughnessMap?Mt=Tt.roughnessMap:Tt.metalnessMap?Mt=Tt.metalnessMap:Tt.alphaMap?Mt=Tt.alphaMap:Tt.emissiveMap?Mt=Tt.emissiveMap:Tt.clearcoatMap?Mt=Tt.clearcoatMap:Tt.clearcoatNormalMap?Mt=Tt.clearcoatNormalMap:Tt.clearcoatRoughnessMap?Mt=Tt.clearcoatRoughnessMap:Tt.iridescenceMap?Mt=Tt.iridescenceMap:Tt.iridescenceThicknessMap?Mt=Tt.iridescenceThicknessMap:Tt.specularIntensityMap?Mt=Tt.specularIntensityMap:Tt.specularColorMap?Mt=Tt.specularColorMap:Tt.transmissionMap?Mt=Tt.transmissionMap:Tt.thicknessMap?Mt=Tt.thicknessMap:Tt.sheenColorMap?Mt=Tt.sheenColorMap:Tt.sheenRoughnessMap&&(Mt=Tt.sheenRoughnessMap),Mt!==void 0&&(Mt.isWebGLRenderTarget&&(Mt=Mt.texture),Mt.matrixAutoUpdate===!0&&Mt.updateMatrix(),At.uvTransform.value.copy(Mt.matrix));let Et;Tt.aoMap?Et=Tt.aoMap:Tt.lightMap&&(Et=Tt.lightMap),Et!==void 0&&(Et.isWebGLRenderTarget&&(Et=Et.texture),Et.matrixAutoUpdate===!0&&Et.updateMatrix(),At.uv2Transform.value.copy(Et.matrix))}function st(At,Tt){At.diffuse.value.copy(Tt.color),At.opacity.value=Tt.opacity}function ot(At,Tt){At.dashSize.value=Tt.dashSize,At.totalSize.value=Tt.dashSize+Tt.gapSize,At.scale.value=Tt.scale}function at(At,Tt,Ct,Mt){At.diffuse.value.copy(Tt.color),At.opacity.value=Tt.opacity,At.size.value=Tt.size*Ct,At.scale.value=Mt*.5,Tt.map&&(At.map.value=Tt.map),Tt.alphaMap&&(At.alphaMap.value=Tt.alphaMap),Tt.alphaTest>0&&(At.alphaTest.value=Tt.alphaTest);let Et;Tt.map?Et=Tt.map:Tt.alphaMap&&(Et=Tt.alphaMap),Et!==void 0&&(Et.matrixAutoUpdate===!0&&Et.updateMatrix(),At.uvTransform.value.copy(Et.matrix))}function lt(At,Tt){At.diffuse.value.copy(Tt.color),At.opacity.value=Tt.opacity,At.rotation.value=Tt.rotation,Tt.map&&(At.map.value=Tt.map),Tt.alphaMap&&(At.alphaMap.value=Tt.alphaMap),Tt.alphaTest>0&&(At.alphaTest.value=Tt.alphaTest);let Ct;Tt.map?Ct=Tt.map:Tt.alphaMap&&(Ct=Tt.alphaMap),Ct!==void 0&&(Ct.matrixAutoUpdate===!0&&Ct.updateMatrix(),At.uvTransform.value.copy(Ct.matrix))}function ft(At,Tt){At.specular.value.copy(Tt.specular),At.shininess.value=Math.max(Tt.shininess,1e-4)}function dt(At,Tt){Tt.gradientMap&&(At.gradientMap.value=Tt.gradientMap)}function gt(At,Tt){At.roughness.value=Tt.roughness,At.metalness.value=Tt.metalness,Tt.roughnessMap&&(At.roughnessMap.value=Tt.roughnessMap),Tt.metalnessMap&&(At.metalnessMap.value=Tt.metalnessMap),_e.get(Tt).envMap&&(At.envMapIntensity.value=Tt.envMapIntensity)}function pt(At,Tt,Ct){At.ior.value=Tt.ior,Tt.sheen>0&&(At.sheenColor.value.copy(Tt.sheenColor).multiplyScalar(Tt.sheen),At.sheenRoughness.value=Tt.sheenRoughness,Tt.sheenColorMap&&(At.sheenColorMap.value=Tt.sheenColorMap),Tt.sheenRoughnessMap&&(At.sheenRoughnessMap.value=Tt.sheenRoughnessMap)),Tt.clearcoat>0&&(At.clearcoat.value=Tt.clearcoat,At.clearcoatRoughness.value=Tt.clearcoatRoughness,Tt.clearcoatMap&&(At.clearcoatMap.value=Tt.clearcoatMap),Tt.clearcoatRoughnessMap&&(At.clearcoatRoughnessMap.value=Tt.clearcoatRoughnessMap),Tt.clearcoatNormalMap&&(At.clearcoatNormalScale.value.copy(Tt.clearcoatNormalScale),At.clearcoatNormalMap.value=Tt.clearcoatNormalMap,Tt.side===BackSide&&At.clearcoatNormalScale.value.negate())),Tt.iridescence>0&&(At.iridescence.value=Tt.iridescence,At.iridescenceIOR.value=Tt.iridescenceIOR,At.iridescenceThicknessMinimum.value=Tt.iridescenceThicknessRange[0],At.iridescenceThicknessMaximum.value=Tt.iridescenceThicknessRange[1],Tt.iridescenceMap&&(At.iridescenceMap.value=Tt.iridescenceMap),Tt.iridescenceThicknessMap&&(At.iridescenceThicknessMap.value=Tt.iridescenceThicknessMap)),Tt.transmission>0&&(At.transmission.value=Tt.transmission,At.transmissionSamplerMap.value=Ct.texture,At.transmissionSamplerSize.value.set(Ct.width,Ct.height),Tt.transmissionMap&&(At.transmissionMap.value=Tt.transmissionMap),At.thickness.value=Tt.thickness,Tt.thicknessMap&&(At.thicknessMap.value=Tt.thicknessMap),At.attenuationDistance.value=Tt.attenuationDistance,At.attenuationColor.value.copy(Tt.attenuationColor)),At.specularIntensity.value=Tt.specularIntensity,At.specularColor.value.copy(Tt.specularColor),Tt.specularIntensityMap&&(At.specularIntensityMap.value=Tt.specularIntensityMap),Tt.specularColorMap&&(At.specularColorMap.value=Tt.specularColorMap)}function vt(At,Tt){Tt.matcap&&(At.matcap.value=Tt.matcap)}function St(At,Tt){At.referencePosition.value.copy(Tt.referencePosition),At.nearDistance.value=Tt.nearDistance,At.farDistance.value=Tt.farDistance}return{refreshFogUniforms:tt,refreshMaterialUniforms:rt}}function WebGLUniformsGroups(et,_e,tt,rt){let nt={},st={},ot=[];const at=tt.isWebGL2?et.getParameter(35375):0;function lt(Mt,Et){const Rt=Et.program;rt.uniformBlockBinding(Mt,Rt)}function ft(Mt,Et){let Rt=nt[Mt.id];Rt===void 0&&(St(Mt),Rt=dt(Mt),nt[Mt.id]=Rt,Mt.addEventListener("dispose",Tt));const Bt=Et.program;rt.updateUBOMapping(Mt,Bt);const Ft=_e.render.frame;st[Mt.id]!==Ft&&(pt(Mt),st[Mt.id]=Ft)}function dt(Mt){const Et=gt();Mt.__bindingPointIndex=Et;const Rt=et.createBuffer(),Bt=Mt.__size,Ft=Mt.usage;return et.bindBuffer(35345,Rt),et.bufferData(35345,Bt,Ft),et.bindBuffer(35345,null),et.bindBufferBase(35345,Et,Rt),Rt}function gt(){for(let Mt=0;Mt<at;Mt++)if(ot.indexOf(Mt)===-1)return ot.push(Mt),Mt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function pt(Mt){const Et=nt[Mt.id],Rt=Mt.uniforms,Bt=Mt.__cache;et.bindBuffer(35345,Et);for(let Ft=0,Lt=Rt.length;Ft<Lt;Ft++){const wt=Rt[Ft];if(vt(wt,Ft,Bt)===!0){const Dt=wt.__offset,Ot=Array.isArray(wt.value)?wt.value:[wt.value];let Ut=0;for(let zt=0;zt<Ot.length;zt++){const tr=Ot[zt],jt=At(tr);typeof tr=="number"?(wt.__data[0]=tr,et.bufferSubData(35345,Dt+Ut,wt.__data)):tr.isMatrix3?(wt.__data[0]=tr.elements[0],wt.__data[1]=tr.elements[1],wt.__data[2]=tr.elements[2],wt.__data[3]=tr.elements[0],wt.__data[4]=tr.elements[3],wt.__data[5]=tr.elements[4],wt.__data[6]=tr.elements[5],wt.__data[7]=tr.elements[0],wt.__data[8]=tr.elements[6],wt.__data[9]=tr.elements[7],wt.__data[10]=tr.elements[8],wt.__data[11]=tr.elements[0]):(tr.toArray(wt.__data,Ut),Ut+=jt.storage/Float32Array.BYTES_PER_ELEMENT)}et.bufferSubData(35345,Dt,wt.__data)}}et.bindBuffer(35345,null)}function vt(Mt,Et,Rt){const Bt=Mt.value;if(Rt[Et]===void 0){if(typeof Bt=="number")Rt[Et]=Bt;else{const Ft=Array.isArray(Bt)?Bt:[Bt],Lt=[];for(let wt=0;wt<Ft.length;wt++)Lt.push(Ft[wt].clone());Rt[Et]=Lt}return!0}else if(typeof Bt=="number"){if(Rt[Et]!==Bt)return Rt[Et]=Bt,!0}else{const Ft=Array.isArray(Rt[Et])?Rt[Et]:[Rt[Et]],Lt=Array.isArray(Bt)?Bt:[Bt];for(let wt=0;wt<Ft.length;wt++){const Dt=Ft[wt];if(Dt.equals(Lt[wt])===!1)return Dt.copy(Lt[wt]),!0}}return!1}function St(Mt){const Et=Mt.uniforms;let Rt=0;const Bt=16;let Ft=0;for(let Lt=0,wt=Et.length;Lt<wt;Lt++){const Dt=Et[Lt],Ot={boundary:0,storage:0},Ut=Array.isArray(Dt.value)?Dt.value:[Dt.value];for(let zt=0,tr=Ut.length;zt<tr;zt++){const jt=Ut[zt],Kt=At(jt);Ot.boundary+=Kt.boundary,Ot.storage+=Kt.storage}if(Dt.__data=new Float32Array(Ot.storage/Float32Array.BYTES_PER_ELEMENT),Dt.__offset=Rt,Lt>0){Ft=Rt%Bt;const zt=Bt-Ft;Ft!==0&&zt-Ot.boundary<0&&(Rt+=Bt-Ft,Dt.__offset=Rt)}Rt+=Ot.storage}return Ft=Rt%Bt,Ft>0&&(Rt+=Bt-Ft),Mt.__size=Rt,Mt.__cache={},this}function At(Mt){const Et={boundary:0,storage:0};return typeof Mt=="number"?(Et.boundary=4,Et.storage=4):Mt.isVector2?(Et.boundary=8,Et.storage=8):Mt.isVector3||Mt.isColor?(Et.boundary=16,Et.storage=12):Mt.isVector4?(Et.boundary=16,Et.storage=16):Mt.isMatrix3?(Et.boundary=48,Et.storage=48):Mt.isMatrix4?(Et.boundary=64,Et.storage=64):Mt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Mt),Et}function Tt(Mt){const Et=Mt.target;Et.removeEventListener("dispose",Tt);const Rt=ot.indexOf(Et.__bindingPointIndex);ot.splice(Rt,1),et.deleteBuffer(nt[Et.id]),delete nt[Et.id],delete st[Et.id]}function Ct(){for(const Mt in nt)et.deleteBuffer(nt[Mt]);ot=[],nt={},st={}}return{bind:lt,update:ft,dispose:Ct}}function createCanvasElement(){const et=createElementNS("canvas");return et.style.display="block",et}function WebGLRenderer(et={}){this.isWebGLRenderer=!0;const _e=et.canvas!==void 0?et.canvas:createCanvasElement(),tt=et.context!==void 0?et.context:null,rt=et.depth!==void 0?et.depth:!0,nt=et.stencil!==void 0?et.stencil:!0,st=et.antialias!==void 0?et.antialias:!1,ot=et.premultipliedAlpha!==void 0?et.premultipliedAlpha:!0,at=et.preserveDrawingBuffer!==void 0?et.preserveDrawingBuffer:!1,lt=et.powerPreference!==void 0?et.powerPreference:"default",ft=et.failIfMajorPerformanceCaveat!==void 0?et.failIfMajorPerformanceCaveat:!1;let dt;tt!==null?dt=tt.getContextAttributes().alpha:dt=et.alpha!==void 0?et.alpha:!1;let gt=null,pt=null;const vt=[],St=[];this.domElement=_e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const At=this;let Tt=!1,Ct=0,Mt=0,Et=null,Rt=-1,Bt=null;const Ft=new Vector4,Lt=new Vector4;let wt=null,Dt=_e.width,Ot=_e.height,Ut=1,zt=null,tr=null;const jt=new Vector4(0,0,Dt,Ot),Kt=new Vector4(0,0,Dt,Ot);let qt=!1;const er=new Frustum;let kt=!1,Vt=!1,Zt=null;const Wt=new Matrix4,nr=new Vector2,sr=new Vector3,lr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function dr(){return Et===null?Ut:1}let hr=tt;function wr(gr,Dr){for(let jr=0;jr<gr.length;jr++){const Fr=gr[jr],Jr=_e.getContext(Fr,Dr);if(Jr!==null)return Jr}return null}try{const gr={alpha:!0,depth:rt,stencil:nt,antialias:st,premultipliedAlpha:ot,preserveDrawingBuffer:at,powerPreference:lt,failIfMajorPerformanceCaveat:ft};if("setAttribute"in _e&&_e.setAttribute("data-engine",`three.js r${REVISION}`),_e.addEventListener("webglcontextlost",Kr,!1),_e.addEventListener("webglcontextrestored",Wr,!1),_e.addEventListener("webglcontextcreationerror",an,!1),hr===null){const Dr=["webgl2","webgl","experimental-webgl"];if(At.isWebGL1Renderer===!0&&Dr.shift(),hr=wr(Dr,gr),hr===null)throw wr(Dr)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}hr.getShaderPrecisionFormat===void 0&&(hr.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(gr){throw console.error("THREE.WebGLRenderer: "+gr.message),gr}let pr,_r,mr,Er,ur,xr,Ar,Br,kr,nn,Pr,Xr,Zr,zr,cr,ar,Tr,Nr,Qr,en,on,rn,Vr,ln;function br(){pr=new WebGLExtensions(hr),_r=new WebGLCapabilities(hr,pr,et),pr.init(_r),rn=new WebGLUtils(hr,pr,_r),mr=new WebGLState(hr,pr,_r),Er=new WebGLInfo,ur=new WebGLProperties,xr=new WebGLTextures(hr,pr,mr,ur,_r,rn,Er),Ar=new WebGLCubeMaps(At),Br=new WebGLCubeUVMaps(At),kr=new WebGLAttributes(hr,_r),Vr=new WebGLBindingStates(hr,pr,kr,_r),nn=new WebGLGeometries(hr,kr,Er,Vr),Pr=new WebGLObjects(hr,nn,kr,Er),Qr=new WebGLMorphtargets(hr,_r,xr),ar=new WebGLClipping(ur),Xr=new WebGLPrograms(At,Ar,Br,pr,_r,Vr,ar),Zr=new WebGLMaterials(At,ur),zr=new WebGLRenderLists,cr=new WebGLRenderStates(pr,_r),Nr=new WebGLBackground(At,Ar,Br,mr,Pr,dt,ot),Tr=new WebGLShadowMap(At,Pr,_r),ln=new WebGLUniformsGroups(hr,Er,_r,mr),en=new WebGLBufferRenderer(hr,pr,Er,_r),on=new WebGLIndexedBufferRenderer(hr,pr,Er,_r),Er.programs=Xr.programs,At.capabilities=_r,At.extensions=pr,At.properties=ur,At.renderLists=zr,At.shadowMap=Tr,At.state=mr,At.info=Er}br();const Gr=new WebXRManager(At,hr);this.xr=Gr,this.getContext=function(){return hr},this.getContextAttributes=function(){return hr.getContextAttributes()},this.forceContextLoss=function(){const gr=pr.get("WEBGL_lose_context");gr&&gr.loseContext()},this.forceContextRestore=function(){const gr=pr.get("WEBGL_lose_context");gr&&gr.restoreContext()},this.getPixelRatio=function(){return Ut},this.setPixelRatio=function(gr){gr!==void 0&&(Ut=gr,this.setSize(Dt,Ot,!1))},this.getSize=function(gr){return gr.set(Dt,Ot)},this.setSize=function(gr,Dr,jr){if(Gr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Dt=gr,Ot=Dr,_e.width=Math.floor(gr*Ut),_e.height=Math.floor(Dr*Ut),jr!==!1&&(_e.style.width=gr+"px",_e.style.height=Dr+"px"),this.setViewport(0,0,gr,Dr)},this.getDrawingBufferSize=function(gr){return gr.set(Dt*Ut,Ot*Ut).floor()},this.setDrawingBufferSize=function(gr,Dr,jr){Dt=gr,Ot=Dr,Ut=jr,_e.width=Math.floor(gr*jr),_e.height=Math.floor(Dr*jr),this.setViewport(0,0,gr,Dr)},this.getCurrentViewport=function(gr){return gr.copy(Ft)},this.getViewport=function(gr){return gr.copy(jt)},this.setViewport=function(gr,Dr,jr,Fr){gr.isVector4?jt.set(gr.x,gr.y,gr.z,gr.w):jt.set(gr,Dr,jr,Fr),mr.viewport(Ft.copy(jt).multiplyScalar(Ut).floor())},this.getScissor=function(gr){return gr.copy(Kt)},this.setScissor=function(gr,Dr,jr,Fr){gr.isVector4?Kt.set(gr.x,gr.y,gr.z,gr.w):Kt.set(gr,Dr,jr,Fr),mr.scissor(Lt.copy(Kt).multiplyScalar(Ut).floor())},this.getScissorTest=function(){return qt},this.setScissorTest=function(gr){mr.setScissorTest(qt=gr)},this.setOpaqueSort=function(gr){zt=gr},this.setTransparentSort=function(gr){tr=gr},this.getClearColor=function(gr){return gr.copy(Nr.getClearColor())},this.setClearColor=function(){Nr.setClearColor.apply(Nr,arguments)},this.getClearAlpha=function(){return Nr.getClearAlpha()},this.setClearAlpha=function(){Nr.setClearAlpha.apply(Nr,arguments)},this.clear=function(gr=!0,Dr=!0,jr=!0){let Fr=0;gr&&(Fr|=16384),Dr&&(Fr|=256),jr&&(Fr|=1024),hr.clear(Fr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){_e.removeEventListener("webglcontextlost",Kr,!1),_e.removeEventListener("webglcontextrestored",Wr,!1),_e.removeEventListener("webglcontextcreationerror",an,!1),zr.dispose(),cr.dispose(),ur.dispose(),Ar.dispose(),Br.dispose(),Pr.dispose(),Vr.dispose(),ln.dispose(),Xr.dispose(),Gr.dispose(),Gr.removeEventListener("sessionstart",fn),Gr.removeEventListener("sessionend",mn),Zt&&(Zt.dispose(),Zt=null),Mn.stop()};function Kr(gr){gr.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Tt=!0}function Wr(){console.log("THREE.WebGLRenderer: Context Restored."),Tt=!1;const gr=Er.autoReset,Dr=Tr.enabled,jr=Tr.autoUpdate,Fr=Tr.needsUpdate,Jr=Tr.type;br(),Er.autoReset=gr,Tr.enabled=Dr,Tr.autoUpdate=jr,Tr.needsUpdate=Fr,Tr.type=Jr}function an(gr){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",gr.statusMessage)}function gn(gr){const Dr=gr.target;Dr.removeEventListener("dispose",gn),Cn(Dr)}function Cn(gr){Cr(gr),ur.remove(gr)}function Cr(gr){const Dr=ur.get(gr).programs;Dr!==void 0&&(Dr.forEach(function(jr){Xr.releaseProgram(jr)}),gr.isShaderMaterial&&Xr.releaseShaderCache(gr))}this.renderBufferDirect=function(gr,Dr,jr,Fr,Jr,vn){Dr===null&&(Dr=lr);const En=Jr.isMesh&&Jr.matrixWorld.determinant()<0,bn=ws(gr,Dr,jr,Fr,Jr);mr.setMaterial(Fr,En);let In=jr.index,Fn=1;Fr.wireframe===!0&&(In=nn.getWireframeAttribute(jr),Fn=2);const On=jr.drawRange,Nn=jr.attributes.position;let ss=On.start*Fn,ns=(On.start+On.count)*Fn;vn!==null&&(ss=Math.max(ss,vn.start*Fn),ns=Math.min(ns,(vn.start+vn.count)*Fn)),In!==null?(ss=Math.max(ss,0),ns=Math.min(ns,In.count)):Nn!=null&&(ss=Math.max(ss,0),ns=Math.min(ns,Nn.count));const Ns=ns-ss;if(Ns<0||Ns===1/0)return;Vr.setup(Jr,Fr,bn,jr,In);let Ws,cn=en;if(In!==null&&(Ws=kr.get(In),cn=on,cn.setIndex(Ws)),Jr.isMesh)Fr.wireframe===!0?(mr.setLineWidth(Fr.wireframeLinewidth*dr()),cn.setMode(1)):cn.setMode(4);else if(Jr.isLine){let Tn=Fr.linewidth;Tn===void 0&&(Tn=1),mr.setLineWidth(Tn*dr()),Jr.isLineSegments?cn.setMode(1):Jr.isLineLoop?cn.setMode(2):cn.setMode(3)}else Jr.isPoints?cn.setMode(0):Jr.isSprite&&cn.setMode(4);if(Jr.isInstancedMesh)cn.renderInstances(ss,Ns,Jr.count);else if(jr.isInstancedBufferGeometry){const Tn=jr._maxInstanceCount!==void 0?jr._maxInstanceCount:1/0,Eo=Math.min(jr.instanceCount,Tn);cn.renderInstances(ss,Ns,Eo)}else cn.render(ss,Ns)},this.compile=function(gr,Dr){function jr(Fr,Jr,vn){Fr.transparent===!0&&Fr.side===DoubleSide&&Fr.forceSinglePass===!1?(Fr.side=BackSide,Fr.needsUpdate=!0,Vn(Fr,Jr,vn),Fr.side=FrontSide,Fr.needsUpdate=!0,Vn(Fr,Jr,vn),Fr.side=DoubleSide):Vn(Fr,Jr,vn)}pt=cr.get(gr),pt.init(),St.push(pt),gr.traverseVisible(function(Fr){Fr.isLight&&Fr.layers.test(Dr.layers)&&(pt.pushLight(Fr),Fr.castShadow&&pt.pushShadow(Fr))}),pt.setupLights(At.physicallyCorrectLights),gr.traverse(function(Fr){const Jr=Fr.material;if(Jr)if(Array.isArray(Jr))for(let vn=0;vn<Jr.length;vn++){const En=Jr[vn];jr(En,gr,Fr)}else jr(Jr,gr,Fr)}),St.pop(),pt=null};let Ur=null;function tn(gr){Ur&&Ur(gr)}function fn(){Mn.stop()}function mn(){Mn.start()}const Mn=new WebGLAnimation;Mn.setAnimationLoop(tn),typeof self<"u"&&Mn.setContext(self),this.setAnimationLoop=function(gr){Ur=gr,Gr.setAnimationLoop(gr),gr===null?Mn.stop():Mn.start()},Gr.addEventListener("sessionstart",fn),Gr.addEventListener("sessionend",mn),this.render=function(gr,Dr){if(Dr!==void 0&&Dr.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Tt===!0)return;gr.matrixWorldAutoUpdate===!0&&gr.updateMatrixWorld(),Dr.parent===null&&Dr.matrixWorldAutoUpdate===!0&&Dr.updateMatrixWorld(),Gr.enabled===!0&&Gr.isPresenting===!0&&(Gr.cameraAutoUpdate===!0&&Gr.updateCamera(Dr),Dr=Gr.getCamera()),gr.isScene===!0&&gr.onBeforeRender(At,gr,Dr,Et),pt=cr.get(gr,St.length),pt.init(),St.push(pt),Wt.multiplyMatrices(Dr.projectionMatrix,Dr.matrixWorldInverse),er.setFromProjectionMatrix(Wt),Vt=this.localClippingEnabled,kt=ar.init(this.clippingPlanes,Vt),gt=zr.get(gr,vt.length),gt.init(),vt.push(gt),Hn(gr,Dr,0,At.sortObjects),gt.finish(),At.sortObjects===!0&&gt.sort(zt,tr),kt===!0&&ar.beginShadows();const jr=pt.state.shadowsArray;if(Tr.render(jr,gr,Dr),kt===!0&&ar.endShadows(),this.info.autoReset===!0&&this.info.reset(),Nr.render(gt,gr),pt.setupLights(At.physicallyCorrectLights),Dr.isArrayCamera){const Fr=Dr.cameras;for(let Jr=0,vn=Fr.length;Jr<vn;Jr++){const En=Fr[Jr];Wn(gt,gr,En,En.viewport)}}else Wn(gt,gr,Dr);Et!==null&&(xr.updateMultisampleRenderTarget(Et),xr.updateRenderTargetMipmap(Et)),gr.isScene===!0&&gr.onAfterRender(At,gr,Dr),Vr.resetDefaultState(),Rt=-1,Bt=null,St.pop(),St.length>0?pt=St[St.length-1]:pt=null,vt.pop(),vt.length>0?gt=vt[vt.length-1]:gt=null};function Hn(gr,Dr,jr,Fr){if(gr.visible===!1)return;if(gr.layers.test(Dr.layers)){if(gr.isGroup)jr=gr.renderOrder;else if(gr.isLOD)gr.autoUpdate===!0&&gr.update(Dr);else if(gr.isLight)pt.pushLight(gr),gr.castShadow&&pt.pushShadow(gr);else if(gr.isSprite){if(!gr.frustumCulled||er.intersectsSprite(gr)){Fr&&sr.setFromMatrixPosition(gr.matrixWorld).applyMatrix4(Wt);const En=Pr.update(gr),bn=gr.material;bn.visible&&gt.push(gr,En,bn,jr,sr.z,null)}}else if((gr.isMesh||gr.isLine||gr.isPoints)&&(gr.isSkinnedMesh&&gr.skeleton.frame!==Er.render.frame&&(gr.skeleton.update(),gr.skeleton.frame=Er.render.frame),!gr.frustumCulled||er.intersectsObject(gr))){Fr&&sr.setFromMatrixPosition(gr.matrixWorld).applyMatrix4(Wt);const En=Pr.update(gr),bn=gr.material;if(Array.isArray(bn)){const In=En.groups;for(let Fn=0,On=In.length;Fn<On;Fn++){const Nn=In[Fn],ss=bn[Nn.materialIndex];ss&&ss.visible&&gt.push(gr,En,ss,jr,sr.z,Nn)}}else bn.visible&&gt.push(gr,En,bn,jr,sr.z,null)}}const vn=gr.children;for(let En=0,bn=vn.length;En<bn;En++)Hn(vn[En],Dr,jr,Fr)}function Wn(gr,Dr,jr,Fr){const Jr=gr.opaque,vn=gr.transmissive,En=gr.transparent;pt.setupLightsView(jr),kt===!0&&ar.setGlobalState(At.clippingPlanes,jr),vn.length>0&&$n(Jr,Dr,jr),Fr&&mr.viewport(Ft.copy(Fr)),Jr.length>0&&Un(Jr,Dr,jr),vn.length>0&&Un(vn,Dr,jr),En.length>0&&Un(En,Dr,jr),mr.buffers.depth.setTest(!0),mr.buffers.depth.setMask(!0),mr.buffers.color.setMask(!0),mr.setPolygonOffset(!1)}function $n(gr,Dr,jr){const Fr=_r.isWebGL2;Zt===null&&(Zt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:pr.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Fr&&st===!0?4:0})),At.getDrawingBufferSize(nr),Fr?Zt.setSize(nr.x,nr.y):Zt.setSize(floorPowerOfTwo(nr.x),floorPowerOfTwo(nr.y));const Jr=At.getRenderTarget();At.setRenderTarget(Zt),At.clear();const vn=At.toneMapping;At.toneMapping=NoToneMapping,Un(gr,Dr,jr),At.toneMapping=vn,xr.updateMultisampleRenderTarget(Zt),xr.updateRenderTargetMipmap(Zt),At.setRenderTarget(Jr)}function Un(gr,Dr,jr){const Fr=Dr.isScene===!0?Dr.overrideMaterial:null;for(let Jr=0,vn=gr.length;Jr<vn;Jr++){const En=gr[Jr],bn=En.object,In=En.geometry,Fn=Fr===null?En.material:Fr,On=En.group;bn.layers.test(jr.layers)&&Kn(bn,Dr,jr,In,Fn,On)}}function Kn(gr,Dr,jr,Fr,Jr,vn){gr.onBeforeRender(At,Dr,jr,Fr,Jr,vn),gr.modelViewMatrix.multiplyMatrices(jr.matrixWorldInverse,gr.matrixWorld),gr.normalMatrix.getNormalMatrix(gr.modelViewMatrix),Jr.onBeforeRender(At,Dr,jr,Fr,gr,vn),Jr.transparent===!0&&Jr.side===DoubleSide&&Jr.forceSinglePass===!1?(Jr.side=BackSide,Jr.needsUpdate=!0,At.renderBufferDirect(jr,Dr,Fr,Jr,gr,vn),Jr.side=FrontSide,Jr.needsUpdate=!0,At.renderBufferDirect(jr,Dr,Fr,Jr,gr,vn),Jr.side=DoubleSide):At.renderBufferDirect(jr,Dr,Fr,Jr,gr,vn),gr.onAfterRender(At,Dr,jr,Fr,Jr,vn)}function Vn(gr,Dr,jr){Dr.isScene!==!0&&(Dr=lr);const Fr=ur.get(gr),Jr=pt.state.lights,vn=pt.state.shadowsArray,En=Jr.state.version,bn=Xr.getParameters(gr,Jr.state,vn,Dr,jr),In=Xr.getProgramCacheKey(bn);let Fn=Fr.programs;Fr.environment=gr.isMeshStandardMaterial?Dr.environment:null,Fr.fog=Dr.fog,Fr.envMap=(gr.isMeshStandardMaterial?Br:Ar).get(gr.envMap||Fr.environment),Fn===void 0&&(gr.addEventListener("dispose",gn),Fn=new Map,Fr.programs=Fn);let On=Fn.get(In);if(On!==void 0){if(Fr.currentProgram===On&&Fr.lightsStateVersion===En)return Ls(gr,bn),On}else bn.uniforms=Xr.getUniforms(gr),gr.onBuild(jr,bn,At),gr.onBeforeCompile(bn,At),On=Xr.acquireProgram(bn,In),Fn.set(In,On),Fr.uniforms=bn.uniforms;const Nn=Fr.uniforms;(!gr.isShaderMaterial&&!gr.isRawShaderMaterial||gr.clipping===!0)&&(Nn.clippingPlanes=ar.uniform),Ls(gr,bn),Fr.needsLights=ls(gr),Fr.lightsStateVersion=En,Fr.needsLights&&(Nn.ambientLightColor.value=Jr.state.ambient,Nn.lightProbe.value=Jr.state.probe,Nn.directionalLights.value=Jr.state.directional,Nn.directionalLightShadows.value=Jr.state.directionalShadow,Nn.spotLights.value=Jr.state.spot,Nn.spotLightShadows.value=Jr.state.spotShadow,Nn.rectAreaLights.value=Jr.state.rectArea,Nn.ltc_1.value=Jr.state.rectAreaLTC1,Nn.ltc_2.value=Jr.state.rectAreaLTC2,Nn.pointLights.value=Jr.state.point,Nn.pointLightShadows.value=Jr.state.pointShadow,Nn.hemisphereLights.value=Jr.state.hemi,Nn.directionalShadowMap.value=Jr.state.directionalShadowMap,Nn.directionalShadowMatrix.value=Jr.state.directionalShadowMatrix,Nn.spotShadowMap.value=Jr.state.spotShadowMap,Nn.spotLightMatrix.value=Jr.state.spotLightMatrix,Nn.spotLightMap.value=Jr.state.spotLightMap,Nn.pointShadowMap.value=Jr.state.pointShadowMap,Nn.pointShadowMatrix.value=Jr.state.pointShadowMatrix);const ss=On.getUniforms(),ns=WebGLUniforms.seqWithValue(ss.seq,Nn);return Fr.currentProgram=On,Fr.uniformsList=ns,On}function Ls(gr,Dr){const jr=ur.get(gr);jr.outputEncoding=Dr.outputEncoding,jr.instancing=Dr.instancing,jr.skinning=Dr.skinning,jr.morphTargets=Dr.morphTargets,jr.morphNormals=Dr.morphNormals,jr.morphColors=Dr.morphColors,jr.morphTargetsCount=Dr.morphTargetsCount,jr.numClippingPlanes=Dr.numClippingPlanes,jr.numIntersection=Dr.numClipIntersection,jr.vertexAlphas=Dr.vertexAlphas,jr.vertexTangents=Dr.vertexTangents,jr.toneMapping=Dr.toneMapping}function ws(gr,Dr,jr,Fr,Jr){Dr.isScene!==!0&&(Dr=lr),xr.resetTextureUnits();const vn=Dr.fog,En=Fr.isMeshStandardMaterial?Dr.environment:null,bn=Et===null?At.outputEncoding:Et.isXRRenderTarget===!0?Et.texture.encoding:LinearEncoding,In=(Fr.isMeshStandardMaterial?Br:Ar).get(Fr.envMap||En),Fn=Fr.vertexColors===!0&&!!jr.attributes.color&&jr.attributes.color.itemSize===4,On=!!Fr.normalMap&&!!jr.attributes.tangent,Nn=!!jr.morphAttributes.position,ss=!!jr.morphAttributes.normal,ns=!!jr.morphAttributes.color,Ns=Fr.toneMapped?At.toneMapping:NoToneMapping,Ws=jr.morphAttributes.position||jr.morphAttributes.normal||jr.morphAttributes.color,cn=Ws!==void 0?Ws.length:0,Tn=ur.get(Fr),Eo=pt.state.lights;if(kt===!0&&(Vt===!0||gr!==Bt)){const Xn=gr===Bt&&Fr.id===Rt;ar.setState(Fr,gr,Xn)}let Jn=!1;Fr.version===Tn.__version?(Tn.needsLights&&Tn.lightsStateVersion!==Eo.state.version||Tn.outputEncoding!==bn||Jr.isInstancedMesh&&Tn.instancing===!1||!Jr.isInstancedMesh&&Tn.instancing===!0||Jr.isSkinnedMesh&&Tn.skinning===!1||!Jr.isSkinnedMesh&&Tn.skinning===!0||Tn.envMap!==In||Fr.fog===!0&&Tn.fog!==vn||Tn.numClippingPlanes!==void 0&&(Tn.numClippingPlanes!==ar.numPlanes||Tn.numIntersection!==ar.numIntersection)||Tn.vertexAlphas!==Fn||Tn.vertexTangents!==On||Tn.morphTargets!==Nn||Tn.morphNormals!==ss||Tn.morphColors!==ns||Tn.toneMapping!==Ns||_r.isWebGL2===!0&&Tn.morphTargetsCount!==cn)&&(Jn=!0):(Jn=!0,Tn.__version=Fr.version);let Qs=Tn.currentProgram;Jn===!0&&(Qs=Vn(Fr,Dr,Jr));let uo=!1,us=!1,Ts=!1;const Rn=Qs.getUniforms(),kn=Tn.uniforms;if(mr.useProgram(Qs.program)&&(uo=!0,us=!0,Ts=!0),Fr.id!==Rt&&(Rt=Fr.id,us=!0),uo||Bt!==gr){if(Rn.setValue(hr,"projectionMatrix",gr.projectionMatrix),_r.logarithmicDepthBuffer&&Rn.setValue(hr,"logDepthBufFC",2/(Math.log(gr.far+1)/Math.LN2)),Bt!==gr&&(Bt=gr,us=!0,Ts=!0),Fr.isShaderMaterial||Fr.isMeshPhongMaterial||Fr.isMeshToonMaterial||Fr.isMeshStandardMaterial||Fr.envMap){const Xn=Rn.map.cameraPosition;Xn!==void 0&&Xn.setValue(hr,sr.setFromMatrixPosition(gr.matrixWorld))}(Fr.isMeshPhongMaterial||Fr.isMeshToonMaterial||Fr.isMeshLambertMaterial||Fr.isMeshBasicMaterial||Fr.isMeshStandardMaterial||Fr.isShaderMaterial)&&Rn.setValue(hr,"isOrthographic",gr.isOrthographicCamera===!0),(Fr.isMeshPhongMaterial||Fr.isMeshToonMaterial||Fr.isMeshLambertMaterial||Fr.isMeshBasicMaterial||Fr.isMeshStandardMaterial||Fr.isShaderMaterial||Fr.isShadowMaterial||Jr.isSkinnedMesh)&&Rn.setValue(hr,"viewMatrix",gr.matrixWorldInverse)}if(Jr.isSkinnedMesh){Rn.setOptional(hr,Jr,"bindMatrix"),Rn.setOptional(hr,Jr,"bindMatrixInverse");const Xn=Jr.skeleton;Xn&&(_r.floatVertexTextures?(Xn.boneTexture===null&&Xn.computeBoneTexture(),Rn.setValue(hr,"boneTexture",Xn.boneTexture,xr),Rn.setValue(hr,"boneTextureSize",Xn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Gs=jr.morphAttributes;if((Gs.position!==void 0||Gs.normal!==void 0||Gs.color!==void 0&&_r.isWebGL2===!0)&&Qr.update(Jr,jr,Fr,Qs),(us||Tn.receiveShadow!==Jr.receiveShadow)&&(Tn.receiveShadow=Jr.receiveShadow,Rn.setValue(hr,"receiveShadow",Jr.receiveShadow)),Fr.isMeshGouraudMaterial&&Fr.envMap!==null&&(kn.envMap.value=In,kn.flipEnvMap.value=In.isCubeTexture&&In.isRenderTargetTexture===!1?-1:1),us&&(Rn.setValue(hr,"toneMappingExposure",At.toneMappingExposure),Tn.needsLights&&qn(kn,Ts),vn&&Fr.fog===!0&&Zr.refreshFogUniforms(kn,vn),Zr.refreshMaterialUniforms(kn,Fr,Ut,Ot,Zt),WebGLUniforms.upload(hr,Tn.uniformsList,kn,xr)),Fr.isShaderMaterial&&Fr.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(hr,Tn.uniformsList,kn,xr),Fr.uniformsNeedUpdate=!1),Fr.isSpriteMaterial&&Rn.setValue(hr,"center",Jr.center),Rn.setValue(hr,"modelViewMatrix",Jr.modelViewMatrix),Rn.setValue(hr,"normalMatrix",Jr.normalMatrix),Rn.setValue(hr,"modelMatrix",Jr.matrixWorld),Fr.isShaderMaterial||Fr.isRawShaderMaterial){const Xn=Fr.uniformsGroups;for(let gs=0,As=Xn.length;gs<As;gs++)if(_r.isWebGL2){const Ks=Xn[gs];ln.update(Ks,Qs),ln.bind(Ks,Qs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Qs}function qn(gr,Dr){gr.ambientLightColor.needsUpdate=Dr,gr.lightProbe.needsUpdate=Dr,gr.directionalLights.needsUpdate=Dr,gr.directionalLightShadows.needsUpdate=Dr,gr.pointLights.needsUpdate=Dr,gr.pointLightShadows.needsUpdate=Dr,gr.spotLights.needsUpdate=Dr,gr.spotLightShadows.needsUpdate=Dr,gr.rectAreaLights.needsUpdate=Dr,gr.hemisphereLights.needsUpdate=Dr}function ls(gr){return gr.isMeshLambertMaterial||gr.isMeshToonMaterial||gr.isMeshPhongMaterial||gr.isMeshStandardMaterial||gr.isShadowMaterial||gr.isShaderMaterial&&gr.lights===!0}this.getActiveCubeFace=function(){return Ct},this.getActiveMipmapLevel=function(){return Mt},this.getRenderTarget=function(){return Et},this.setRenderTargetTextures=function(gr,Dr,jr){ur.get(gr.texture).__webglTexture=Dr,ur.get(gr.depthTexture).__webglTexture=jr;const Fr=ur.get(gr);Fr.__hasExternalTextures=!0,Fr.__hasExternalTextures&&(Fr.__autoAllocateDepthBuffer=jr===void 0,Fr.__autoAllocateDepthBuffer||pr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Fr.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(gr,Dr){const jr=ur.get(gr);jr.__webglFramebuffer=Dr,jr.__useDefaultFramebuffer=Dr===void 0},this.setRenderTarget=function(gr,Dr=0,jr=0){Et=gr,Ct=Dr,Mt=jr;let Fr=!0,Jr=null,vn=!1,En=!1;if(gr){const In=ur.get(gr);In.__useDefaultFramebuffer!==void 0?(mr.bindFramebuffer(36160,null),Fr=!1):In.__webglFramebuffer===void 0?xr.setupRenderTarget(gr):In.__hasExternalTextures&&xr.rebindTextures(gr,ur.get(gr.texture).__webglTexture,ur.get(gr.depthTexture).__webglTexture);const Fn=gr.texture;(Fn.isData3DTexture||Fn.isDataArrayTexture||Fn.isCompressedArrayTexture)&&(En=!0);const On=ur.get(gr).__webglFramebuffer;gr.isWebGLCubeRenderTarget?(Jr=On[Dr],vn=!0):_r.isWebGL2&&gr.samples>0&&xr.useMultisampledRTT(gr)===!1?Jr=ur.get(gr).__webglMultisampledFramebuffer:Jr=On,Ft.copy(gr.viewport),Lt.copy(gr.scissor),wt=gr.scissorTest}else Ft.copy(jt).multiplyScalar(Ut).floor(),Lt.copy(Kt).multiplyScalar(Ut).floor(),wt=qt;if(mr.bindFramebuffer(36160,Jr)&&_r.drawBuffers&&Fr&&mr.drawBuffers(gr,Jr),mr.viewport(Ft),mr.scissor(Lt),mr.setScissorTest(wt),vn){const In=ur.get(gr.texture);hr.framebufferTexture2D(36160,36064,34069+Dr,In.__webglTexture,jr)}else if(En){const In=ur.get(gr.texture),Fn=Dr||0;hr.framebufferTextureLayer(36160,36064,In.__webglTexture,jr||0,Fn)}Rt=-1},this.readRenderTargetPixels=function(gr,Dr,jr,Fr,Jr,vn,En){if(!(gr&&gr.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let bn=ur.get(gr).__webglFramebuffer;if(gr.isWebGLCubeRenderTarget&&En!==void 0&&(bn=bn[En]),bn){mr.bindFramebuffer(36160,bn);try{const In=gr.texture,Fn=In.format,On=In.type;if(Fn!==RGBAFormat&&rn.convert(Fn)!==hr.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Nn=On===HalfFloatType&&(pr.has("EXT_color_buffer_half_float")||_r.isWebGL2&&pr.has("EXT_color_buffer_float"));if(On!==UnsignedByteType&&rn.convert(On)!==hr.getParameter(35738)&&!(On===FloatType&&(_r.isWebGL2||pr.has("OES_texture_float")||pr.has("WEBGL_color_buffer_float")))&&!Nn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Dr>=0&&Dr<=gr.width-Fr&&jr>=0&&jr<=gr.height-Jr&&hr.readPixels(Dr,jr,Fr,Jr,rn.convert(Fn),rn.convert(On),vn)}finally{const In=Et!==null?ur.get(Et).__webglFramebuffer:null;mr.bindFramebuffer(36160,In)}}},this.copyFramebufferToTexture=function(gr,Dr,jr=0){const Fr=Math.pow(2,-jr),Jr=Math.floor(Dr.image.width*Fr),vn=Math.floor(Dr.image.height*Fr);xr.setTexture2D(Dr,0),hr.copyTexSubImage2D(3553,jr,0,0,gr.x,gr.y,Jr,vn),mr.unbindTexture()},this.copyTextureToTexture=function(gr,Dr,jr,Fr=0){const Jr=Dr.image.width,vn=Dr.image.height,En=rn.convert(jr.format),bn=rn.convert(jr.type);xr.setTexture2D(jr,0),hr.pixelStorei(37440,jr.flipY),hr.pixelStorei(37441,jr.premultiplyAlpha),hr.pixelStorei(3317,jr.unpackAlignment),Dr.isDataTexture?hr.texSubImage2D(3553,Fr,gr.x,gr.y,Jr,vn,En,bn,Dr.image.data):Dr.isCompressedTexture?hr.compressedTexSubImage2D(3553,Fr,gr.x,gr.y,Dr.mipmaps[0].width,Dr.mipmaps[0].height,En,Dr.mipmaps[0].data):hr.texSubImage2D(3553,Fr,gr.x,gr.y,En,bn,Dr.image),Fr===0&&jr.generateMipmaps&&hr.generateMipmap(3553),mr.unbindTexture()},this.copyTextureToTexture3D=function(gr,Dr,jr,Fr,Jr=0){if(At.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const vn=gr.max.x-gr.min.x+1,En=gr.max.y-gr.min.y+1,bn=gr.max.z-gr.min.z+1,In=rn.convert(Fr.format),Fn=rn.convert(Fr.type);let On;if(Fr.isData3DTexture)xr.setTexture3D(Fr,0),On=32879;else if(Fr.isDataArrayTexture)xr.setTexture2DArray(Fr,0),On=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}hr.pixelStorei(37440,Fr.flipY),hr.pixelStorei(37441,Fr.premultiplyAlpha),hr.pixelStorei(3317,Fr.unpackAlignment);const Nn=hr.getParameter(3314),ss=hr.getParameter(32878),ns=hr.getParameter(3316),Ns=hr.getParameter(3315),Ws=hr.getParameter(32877),cn=jr.isCompressedTexture?jr.mipmaps[0]:jr.image;hr.pixelStorei(3314,cn.width),hr.pixelStorei(32878,cn.height),hr.pixelStorei(3316,gr.min.x),hr.pixelStorei(3315,gr.min.y),hr.pixelStorei(32877,gr.min.z),jr.isDataTexture||jr.isData3DTexture?hr.texSubImage3D(On,Jr,Dr.x,Dr.y,Dr.z,vn,En,bn,In,Fn,cn.data):jr.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),hr.compressedTexSubImage3D(On,Jr,Dr.x,Dr.y,Dr.z,vn,En,bn,In,cn.data)):hr.texSubImage3D(On,Jr,Dr.x,Dr.y,Dr.z,vn,En,bn,In,Fn,cn),hr.pixelStorei(3314,Nn),hr.pixelStorei(32878,ss),hr.pixelStorei(3316,ns),hr.pixelStorei(3315,Ns),hr.pixelStorei(32877,Ws),Jr===0&&Fr.generateMipmaps&&hr.generateMipmap(On),mr.unbindTexture()},this.initTexture=function(gr){gr.isCubeTexture?xr.setTextureCube(gr,0):gr.isData3DTexture?xr.setTexture3D(gr,0):gr.isDataArrayTexture||gr.isCompressedArrayTexture?xr.setTexture2DArray(gr,0):xr.setTexture2D(gr,0),mr.unbindTexture()},this.resetState=function(){Ct=0,Mt=0,Et=null,mr.reset(),Vr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(_e,tt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(_e),this.density=tt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(_e,tt=1,rt=1e3){this.isFog=!0,this.name="",this.color=new Color(_e),this.near=tt,this.far=rt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(_e,tt){return super.copy(_e,tt),_e.background!==null&&(this.background=_e.background.clone()),_e.environment!==null&&(this.environment=_e.environment.clone()),_e.fog!==null&&(this.fog=_e.fog.clone()),this.backgroundBlurriness=_e.backgroundBlurriness,this.backgroundIntensity=_e.backgroundIntensity,_e.overrideMaterial!==null&&(this.overrideMaterial=_e.overrideMaterial.clone()),this.matrixAutoUpdate=_e.matrixAutoUpdate,this}toJSON(_e){const tt=super.toJSON(_e);return this.fog!==null&&(tt.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(tt.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(tt.object.backgroundIntensity=this.backgroundIntensity),tt}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(_e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=_e}}class InterleavedBuffer{constructor(_e,tt){this.isInterleavedBuffer=!0,this.array=_e,this.stride=tt,this.count=_e!==void 0?_e.length/tt:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(_e){_e===!0&&this.version++}setUsage(_e){return this.usage=_e,this}copy(_e){return this.array=new _e.array.constructor(_e.array),this.count=_e.count,this.stride=_e.stride,this.usage=_e.usage,this}copyAt(_e,tt,rt){_e*=this.stride,rt*=tt.stride;for(let nt=0,st=this.stride;nt<st;nt++)this.array[_e+nt]=tt.array[rt+nt];return this}set(_e,tt=0){return this.array.set(_e,tt),this}clone(_e){_e.arrayBuffers===void 0&&(_e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),_e.arrayBuffers[this.array.buffer._uuid]===void 0&&(_e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const tt=new this.array.constructor(_e.arrayBuffers[this.array.buffer._uuid]),rt=new this.constructor(tt,this.stride);return rt.setUsage(this.usage),rt}onUpload(_e){return this.onUploadCallback=_e,this}toJSON(_e){return _e.arrayBuffers===void 0&&(_e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),_e.arrayBuffers[this.array.buffer._uuid]===void 0&&(_e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(_e,tt,rt,nt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=_e,this.itemSize=tt,this.offset=rt,this.normalized=nt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(_e){this.data.needsUpdate=_e}applyMatrix4(_e){for(let tt=0,rt=this.data.count;tt<rt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.applyMatrix4(_e),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(_e){for(let tt=0,rt=this.count;tt<rt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.applyNormalMatrix(_e),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(_e){for(let tt=0,rt=this.count;tt<rt;tt++)_vector$6.fromBufferAttribute(this,tt),_vector$6.transformDirection(_e),this.setXYZ(tt,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[_e*this.data.stride+this.offset]=tt,this}setY(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[_e*this.data.stride+this.offset+1]=tt,this}setZ(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[_e*this.data.stride+this.offset+2]=tt,this}setW(_e,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[_e*this.data.stride+this.offset+3]=tt,this}getX(_e){let tt=this.data.array[_e*this.data.stride+this.offset];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getY(_e){let tt=this.data.array[_e*this.data.stride+this.offset+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getZ(_e){let tt=this.data.array[_e*this.data.stride+this.offset+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getW(_e){let tt=this.data.array[_e*this.data.stride+this.offset+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setXY(_e,tt,rt){return _e=_e*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),rt=normalize(rt,this.array)),this.data.array[_e+0]=tt,this.data.array[_e+1]=rt,this}setXYZ(_e,tt,rt,nt){return _e=_e*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),rt=normalize(rt,this.array),nt=normalize(nt,this.array)),this.data.array[_e+0]=tt,this.data.array[_e+1]=rt,this.data.array[_e+2]=nt,this}setXYZW(_e,tt,rt,nt,st){return _e=_e*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),rt=normalize(rt,this.array),nt=normalize(nt,this.array),st=normalize(st,this.array)),this.data.array[_e+0]=tt,this.data.array[_e+1]=rt,this.data.array[_e+2]=nt,this.data.array[_e+3]=st,this}clone(_e){if(_e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const tt=[];for(let rt=0;rt<this.count;rt++){const nt=rt*this.data.stride+this.offset;for(let st=0;st<this.itemSize;st++)tt.push(this.data.array[nt+st])}return new BufferAttribute(new this.array.constructor(tt),this.itemSize,this.normalized)}else return _e.interleavedBuffers===void 0&&(_e.interleavedBuffers={}),_e.interleavedBuffers[this.data.uuid]===void 0&&(_e.interleavedBuffers[this.data.uuid]=this.data.clone(_e)),new InterleavedBufferAttribute(_e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(_e){if(_e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const tt=[];for(let rt=0;rt<this.count;rt++){const nt=rt*this.data.stride+this.offset;for(let st=0;st<this.itemSize;st++)tt.push(this.data.array[nt+st])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:tt,normalized:this.normalized}}else return _e.interleavedBuffers===void 0&&(_e.interleavedBuffers={}),_e.interleavedBuffers[this.data.uuid]===void 0&&(_e.interleavedBuffers[this.data.uuid]=this.data.toJSON(_e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(_e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.alphaMap=_e.alphaMap,this.rotation=_e.rotation,this.sizeAttenuation=_e.sizeAttenuation,this.fog=_e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(_e){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const tt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),rt=new InterleavedBuffer(tt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(rt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(rt,2,3,!1))}this.geometry=_geometry,this.material=_e!==void 0?_e:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(_e,tt){_e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(_e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(_e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),_e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const rt=this.material.rotation;let nt,st;rt!==0&&(st=Math.cos(rt),nt=Math.sin(rt));const ot=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,ot,_worldScale,nt,st),transformVertex(_vB.set(.5,-.5,0),_mvPosition,ot,_worldScale,nt,st),transformVertex(_vC.set(.5,.5,0),_mvPosition,ot,_worldScale,nt,st),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let at=_e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(at===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,ot,_worldScale,nt,st),_uvB.set(0,1),at=_e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),at===null))return;const lt=_e.ray.origin.distanceTo(_intersectPoint);lt<_e.near||lt>_e.far||tt.push({distance:lt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(_e,tt){return super.copy(_e,tt),_e.center!==void 0&&this.center.copy(_e.center),this.material=_e.material,this}}function transformVertex(et,_e,tt,rt,nt,st){_alignedPosition.subVectors(et,tt).addScalar(.5).multiply(rt),nt!==void 0?(_rotatedPosition.x=st*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+st*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),et.copy(_e),et.x+=_rotatedPosition.x,et.y+=_rotatedPosition.y,et.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(_e){super.copy(_e,!1);const tt=_e.levels;for(let rt=0,nt=tt.length;rt<nt;rt++){const st=tt[rt];this.addLevel(st.object.clone(),st.distance,st.hysteresis)}return this.autoUpdate=_e.autoUpdate,this}addLevel(_e,tt=0,rt=0){tt=Math.abs(tt);const nt=this.levels;let st;for(st=0;st<nt.length&&!(tt<nt[st].distance);st++);return nt.splice(st,0,{distance:tt,hysteresis:rt,object:_e}),this.add(_e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(_e){const tt=this.levels;if(tt.length>0){let rt,nt;for(rt=1,nt=tt.length;rt<nt;rt++){let st=tt[rt].distance;if(tt[rt].object.visible&&(st-=st*tt[rt].hysteresis),_e<st)break}return tt[rt-1].object}return null}raycast(_e,tt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const nt=_e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(nt).raycast(_e,tt)}}update(_e){const tt=this.levels;if(tt.length>1){_v1$2.setFromMatrixPosition(_e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const rt=_v1$2.distanceTo(_v2$1)/_e.zoom;tt[0].object.visible=!0;let nt,st;for(nt=1,st=tt.length;nt<st;nt++){let ot=tt[nt].distance;if(tt[nt].object.visible&&(ot-=ot*tt[nt].hysteresis),rt>=ot)tt[nt-1].object.visible=!1,tt[nt].object.visible=!0;else break}for(this._currentLevel=nt-1;nt<st;nt++)tt[nt].object.visible=!1}}toJSON(_e){const tt=super.toJSON(_e);this.autoUpdate===!1&&(tt.object.autoUpdate=!1),tt.object.levels=[];const rt=this.levels;for(let nt=0,st=rt.length;nt<st;nt++){const ot=rt[nt];tt.object.levels.push({object:ot.object.uuid,distance:ot.distance,hysteresis:ot.hysteresis})}return tt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(_e,tt){super(_e,tt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(_e,tt){return super.copy(_e,tt),this.bindMode=_e.bindMode,this.bindMatrix.copy(_e.bindMatrix),this.bindMatrixInverse.copy(_e.bindMatrixInverse),this.skeleton=_e.skeleton,this}bind(_e,tt){this.skeleton=_e,tt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),tt=this.matrixWorld),this.bindMatrix.copy(tt),this.bindMatrixInverse.copy(tt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const _e=new Vector4,tt=this.geometry.attributes.skinWeight;for(let rt=0,nt=tt.count;rt<nt;rt++){_e.fromBufferAttribute(tt,rt);const st=1/_e.manhattanLength();st!==1/0?_e.multiplyScalar(st):_e.set(1,0,0,0),tt.setXYZW(rt,_e.x,_e.y,_e.z,_e.w)}}updateMatrixWorld(_e){super.updateMatrixWorld(_e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(_e,tt){const rt=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,_e),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,_e),_basePosition.copy(tt).applyMatrix4(this.bindMatrix),tt.set(0,0,0);for(let st=0;st<4;st++){const ot=_skinWeight.getComponent(st);if(ot!==0){const at=_skinIndex.getComponent(st);_matrix.multiplyMatrices(rt.bones[at].matrixWorld,rt.boneInverses[at]),tt.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),ot)}}return tt.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(_e=null,tt=1,rt=1,nt,st,ot,at,lt,ft=NearestFilter,dt=NearestFilter,gt,pt){super(null,ot,at,lt,ft,dt,nt,st,gt,pt),this.isDataTexture=!0,this.image={data:_e,width:tt,height:rt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(_e=[],tt=[]){this.uuid=generateUUID$1(),this.bones=_e.slice(0),this.boneInverses=tt,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const _e=this.bones,tt=this.boneInverses;if(this.boneMatrices=new Float32Array(_e.length*16),tt.length===0)this.calculateInverses();else if(_e.length!==tt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let rt=0,nt=this.bones.length;rt<nt;rt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let _e=0,tt=this.bones.length;_e<tt;_e++){const rt=new Matrix4;this.bones[_e]&&rt.copy(this.bones[_e].matrixWorld).invert(),this.boneInverses.push(rt)}}pose(){for(let _e=0,tt=this.bones.length;_e<tt;_e++){const rt=this.bones[_e];rt&&rt.matrixWorld.copy(this.boneInverses[_e]).invert()}for(let _e=0,tt=this.bones.length;_e<tt;_e++){const rt=this.bones[_e];rt&&(rt.parent&&rt.parent.isBone?(rt.matrix.copy(rt.parent.matrixWorld).invert(),rt.matrix.multiply(rt.matrixWorld)):rt.matrix.copy(rt.matrixWorld),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale))}}update(){const _e=this.bones,tt=this.boneInverses,rt=this.boneMatrices,nt=this.boneTexture;for(let st=0,ot=_e.length;st<ot;st++){const at=_e[st]?_e[st].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(at,tt[st]),_offsetMatrix.toArray(rt,st*16)}nt!==null&&(nt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let _e=Math.sqrt(this.bones.length*4);_e=ceilPowerOfTwo(_e),_e=Math.max(_e,4);const tt=new Float32Array(_e*_e*4);tt.set(this.boneMatrices);const rt=new DataTexture(tt,_e,_e,RGBAFormat,FloatType);return rt.needsUpdate=!0,this.boneMatrices=tt,this.boneTexture=rt,this.boneTextureSize=_e,this}getBoneByName(_e){for(let tt=0,rt=this.bones.length;tt<rt;tt++){const nt=this.bones[tt];if(nt.name===_e)return nt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(_e,tt){this.uuid=_e.uuid;for(let rt=0,nt=_e.bones.length;rt<nt;rt++){const st=_e.bones[rt];let ot=tt[st];ot===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",st),ot=new Bone),this.bones.push(ot),this.boneInverses.push(new Matrix4().fromArray(_e.boneInverses[rt]))}return this.init(),this}toJSON(){const _e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};_e.uuid=this.uuid;const tt=this.bones,rt=this.boneInverses;for(let nt=0,st=tt.length;nt<st;nt++){const ot=tt[nt];_e.bones.push(ot.uuid);const at=rt[nt];_e.boneInverses.push(at.toArray())}return _e}}class InstancedBufferAttribute extends BufferAttribute{constructor(_e,tt,rt,nt=1){super(_e,tt,rt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=nt}copy(_e){return super.copy(_e),this.meshPerAttribute=_e.meshPerAttribute,this}toJSON(){const _e=super.toJSON();return _e.meshPerAttribute=this.meshPerAttribute,_e.isInstancedBufferAttribute=!0,_e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_identity=new Matrix4,_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(_e,tt,rt){super(_e,tt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(rt*16),16),this.instanceColor=null,this.count=rt,this.frustumCulled=!1;for(let nt=0;nt<rt;nt++)this.setMatrixAt(nt,_identity)}copy(_e,tt){return super.copy(_e,tt),this.instanceMatrix.copy(_e.instanceMatrix),_e.instanceColor!==null&&(this.instanceColor=_e.instanceColor.clone()),this.count=_e.count,this}getColorAt(_e,tt){tt.fromArray(this.instanceColor.array,_e*3)}getMatrixAt(_e,tt){tt.fromArray(this.instanceMatrix.array,_e*16)}raycast(_e,tt){const rt=this.matrixWorld,nt=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let st=0;st<nt;st++){this.getMatrixAt(st,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(rt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(_e,_instanceIntersects);for(let ot=0,at=_instanceIntersects.length;ot<at;ot++){const lt=_instanceIntersects[ot];lt.instanceId=st,lt.object=this,tt.push(lt)}_instanceIntersects.length=0}}setColorAt(_e,tt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),tt.toArray(this.instanceColor.array,_e*3)}setMatrixAt(_e,tt){tt.toArray(this.instanceMatrix.array,_e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(_e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.linewidth=_e.linewidth,this.linecap=_e.linecap,this.linejoin=_e.linejoin,this.fog=_e.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(_e=new BufferGeometry,tt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=_e,this.material=tt,this.updateMorphTargets()}copy(_e,tt){return super.copy(_e,tt),this.material=_e.material,this.geometry=_e.geometry,this}computeLineDistances(){const _e=this.geometry;if(_e.index===null){const tt=_e.attributes.position,rt=[0];for(let nt=1,st=tt.count;nt<st;nt++)_start$1.fromBufferAttribute(tt,nt-1),_end$1.fromBufferAttribute(tt,nt),rt[nt]=rt[nt-1],rt[nt]+=_start$1.distanceTo(_end$1);_e.setAttribute("lineDistance",new Float32BufferAttribute(rt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(_e,tt){const rt=this.geometry,nt=this.matrixWorld,st=_e.params.Line.threshold,ot=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$1.copy(rt.boundingSphere),_sphere$1.applyMatrix4(nt),_sphere$1.radius+=st,_e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy(_e.ray).applyMatrix4(_inverseMatrix$1);const at=st/((this.scale.x+this.scale.y+this.scale.z)/3),lt=at*at,ft=new Vector3,dt=new Vector3,gt=new Vector3,pt=new Vector3,vt=this.isLineSegments?2:1,St=rt.index,Tt=rt.attributes.position;if(St!==null){const Ct=Math.max(0,ot.start),Mt=Math.min(St.count,ot.start+ot.count);for(let Et=Ct,Rt=Mt-1;Et<Rt;Et+=vt){const Bt=St.getX(Et),Ft=St.getX(Et+1);if(ft.fromBufferAttribute(Tt,Bt),dt.fromBufferAttribute(Tt,Ft),_ray$1.distanceSqToSegment(ft,dt,pt,gt)>lt)continue;pt.applyMatrix4(this.matrixWorld);const wt=_e.ray.origin.distanceTo(pt);wt<_e.near||wt>_e.far||tt.push({distance:wt,point:gt.clone().applyMatrix4(this.matrixWorld),index:Et,face:null,faceIndex:null,object:this})}}else{const Ct=Math.max(0,ot.start),Mt=Math.min(Tt.count,ot.start+ot.count);for(let Et=Ct,Rt=Mt-1;Et<Rt;Et+=vt){if(ft.fromBufferAttribute(Tt,Et),dt.fromBufferAttribute(Tt,Et+1),_ray$1.distanceSqToSegment(ft,dt,pt,gt)>lt)continue;pt.applyMatrix4(this.matrixWorld);const Ft=_e.ray.origin.distanceTo(pt);Ft<_e.near||Ft>_e.far||tt.push({distance:Ft,point:gt.clone().applyMatrix4(this.matrixWorld),index:Et,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const tt=this.geometry.morphAttributes,rt=Object.keys(tt);if(rt.length>0){const nt=tt[rt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let st=0,ot=nt.length;st<ot;st++){const at=nt[st].name||String(st);this.morphTargetInfluences.push(0),this.morphTargetDictionary[at]=st}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(_e,tt){super(_e,tt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const _e=this.geometry;if(_e.index===null){const tt=_e.attributes.position,rt=[];for(let nt=0,st=tt.count;nt<st;nt+=2)_start.fromBufferAttribute(tt,nt),_end.fromBufferAttribute(tt,nt+1),rt[nt]=nt===0?0:rt[nt-1],rt[nt+1]=rt[nt]+_start.distanceTo(_end);_e.setAttribute("lineDistance",new Float32BufferAttribute(rt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(_e,tt){super(_e,tt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(_e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.alphaMap=_e.alphaMap,this.size=_e.size,this.sizeAttenuation=_e.sizeAttenuation,this.fog=_e.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(_e=new BufferGeometry,tt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=_e,this.material=tt,this.updateMorphTargets()}copy(_e,tt){return super.copy(_e,tt),this.material=_e.material,this.geometry=_e.geometry,this}raycast(_e,tt){const rt=this.geometry,nt=this.matrixWorld,st=_e.params.Points.threshold,ot=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere.copy(rt.boundingSphere),_sphere.applyMatrix4(nt),_sphere.radius+=st,_e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(nt).invert(),_ray.copy(_e.ray).applyMatrix4(_inverseMatrix);const at=st/((this.scale.x+this.scale.y+this.scale.z)/3),lt=at*at,ft=rt.index,gt=rt.attributes.position;if(ft!==null){const pt=Math.max(0,ot.start),vt=Math.min(ft.count,ot.start+ot.count);for(let St=pt,At=vt;St<At;St++){const Tt=ft.getX(St);_position$2.fromBufferAttribute(gt,Tt),testPoint(_position$2,Tt,lt,nt,_e,tt,this)}}else{const pt=Math.max(0,ot.start),vt=Math.min(gt.count,ot.start+ot.count);for(let St=pt,At=vt;St<At;St++)_position$2.fromBufferAttribute(gt,St),testPoint(_position$2,St,lt,nt,_e,tt,this)}}updateMorphTargets(){const tt=this.geometry.morphAttributes,rt=Object.keys(tt);if(rt.length>0){const nt=tt[rt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let st=0,ot=nt.length;st<ot;st++){const at=nt[st].name||String(st);this.morphTargetInfluences.push(0),this.morphTargetDictionary[at]=st}}}}}function testPoint(et,_e,tt,rt,nt,st,ot){const at=_ray.distanceSqToPoint(et);if(at<tt){const lt=new Vector3;_ray.closestPointToPoint(et,lt),lt.applyMatrix4(rt);const ft=nt.ray.origin.distanceTo(lt);if(ft<nt.near||ft>nt.far)return;st.push({distance:ft,distanceToRay:Math.sqrt(at),point:lt,index:_e,face:null,object:ot})}}class VideoTexture extends Texture{constructor(_e,tt,rt,nt,st,ot,at,lt,ft){super(_e,tt,rt,nt,st,ot,at,lt,ft),this.isVideoTexture=!0,this.minFilter=ot!==void 0?ot:LinearFilter,this.magFilter=st!==void 0?st:LinearFilter,this.generateMipmaps=!1;const dt=this;function gt(){dt.needsUpdate=!0,_e.requestVideoFrameCallback(gt)}"requestVideoFrameCallback"in _e&&_e.requestVideoFrameCallback(gt)}clone(){return new this.constructor(this.image).copy(this)}update(){const _e=this.image;"requestVideoFrameCallback"in _e===!1&&_e.readyState>=_e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(_e,tt,rt){super({width:_e,height:tt}),this.isFramebufferTexture=!0,this.format=rt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(_e,tt,rt,nt,st,ot,at,lt,ft,dt,gt,pt){super(null,ot,at,lt,ft,dt,nt,st,gt,pt),this.isCompressedTexture=!0,this.image={width:tt,height:rt},this.mipmaps=_e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(_e,tt,rt,nt,st,ot){super(_e,tt,rt,st,ot),this.isCompressedArrayTexture=!0,this.image.depth=nt,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor(_e,tt,rt,nt,st,ot,at,lt,ft){super(_e,tt,rt,nt,st,ot,at,lt,ft),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(_e,tt){const rt=this.getUtoTmapping(_e);return this.getPoint(rt,tt)}getPoints(_e=5){const tt=[];for(let rt=0;rt<=_e;rt++)tt.push(this.getPoint(rt/_e));return tt}getSpacedPoints(_e=5){const tt=[];for(let rt=0;rt<=_e;rt++)tt.push(this.getPointAt(rt/_e));return tt}getLength(){const _e=this.getLengths();return _e[_e.length-1]}getLengths(_e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===_e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const tt=[];let rt,nt=this.getPoint(0),st=0;tt.push(0);for(let ot=1;ot<=_e;ot++)rt=this.getPoint(ot/_e),st+=rt.distanceTo(nt),tt.push(st),nt=rt;return this.cacheArcLengths=tt,tt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(_e,tt){const rt=this.getLengths();let nt=0;const st=rt.length;let ot;tt?ot=tt:ot=_e*rt[st-1];let at=0,lt=st-1,ft;for(;at<=lt;)if(nt=Math.floor(at+(lt-at)/2),ft=rt[nt]-ot,ft<0)at=nt+1;else if(ft>0)lt=nt-1;else{lt=nt;break}if(nt=lt,rt[nt]===ot)return nt/(st-1);const dt=rt[nt],pt=rt[nt+1]-dt,vt=(ot-dt)/pt;return(nt+vt)/(st-1)}getTangent(_e,tt){let nt=_e-1e-4,st=_e+1e-4;nt<0&&(nt=0),st>1&&(st=1);const ot=this.getPoint(nt),at=this.getPoint(st),lt=tt||(ot.isVector2?new Vector2:new Vector3);return lt.copy(at).sub(ot).normalize(),lt}getTangentAt(_e,tt){const rt=this.getUtoTmapping(_e);return this.getTangent(rt,tt)}computeFrenetFrames(_e,tt){const rt=new Vector3,nt=[],st=[],ot=[],at=new Vector3,lt=new Matrix4;for(let vt=0;vt<=_e;vt++){const St=vt/_e;nt[vt]=this.getTangentAt(St,new Vector3)}st[0]=new Vector3,ot[0]=new Vector3;let ft=Number.MAX_VALUE;const dt=Math.abs(nt[0].x),gt=Math.abs(nt[0].y),pt=Math.abs(nt[0].z);dt<=ft&&(ft=dt,rt.set(1,0,0)),gt<=ft&&(ft=gt,rt.set(0,1,0)),pt<=ft&&rt.set(0,0,1),at.crossVectors(nt[0],rt).normalize(),st[0].crossVectors(nt[0],at),ot[0].crossVectors(nt[0],st[0]);for(let vt=1;vt<=_e;vt++){if(st[vt]=st[vt-1].clone(),ot[vt]=ot[vt-1].clone(),at.crossVectors(nt[vt-1],nt[vt]),at.length()>Number.EPSILON){at.normalize();const St=Math.acos(clamp(nt[vt-1].dot(nt[vt]),-1,1));st[vt].applyMatrix4(lt.makeRotationAxis(at,St))}ot[vt].crossVectors(nt[vt],st[vt])}if(tt===!0){let vt=Math.acos(clamp(st[0].dot(st[_e]),-1,1));vt/=_e,nt[0].dot(at.crossVectors(st[0],st[_e]))>0&&(vt=-vt);for(let St=1;St<=_e;St++)st[St].applyMatrix4(lt.makeRotationAxis(nt[St],vt*St)),ot[St].crossVectors(nt[St],st[St])}return{tangents:nt,normals:st,binormals:ot}}clone(){return new this.constructor().copy(this)}copy(_e){return this.arcLengthDivisions=_e.arcLengthDivisions,this}toJSON(){const _e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return _e.arcLengthDivisions=this.arcLengthDivisions,_e.type=this.type,_e}fromJSON(_e){return this.arcLengthDivisions=_e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(_e=0,tt=0,rt=1,nt=1,st=0,ot=Math.PI*2,at=!1,lt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=_e,this.aY=tt,this.xRadius=rt,this.yRadius=nt,this.aStartAngle=st,this.aEndAngle=ot,this.aClockwise=at,this.aRotation=lt}getPoint(_e,tt){const rt=tt||new Vector2,nt=Math.PI*2;let st=this.aEndAngle-this.aStartAngle;const ot=Math.abs(st)<Number.EPSILON;for(;st<0;)st+=nt;for(;st>nt;)st-=nt;st<Number.EPSILON&&(ot?st=0:st=nt),this.aClockwise===!0&&!ot&&(st===nt?st=-nt:st=st-nt);const at=this.aStartAngle+_e*st;let lt=this.aX+this.xRadius*Math.cos(at),ft=this.aY+this.yRadius*Math.sin(at);if(this.aRotation!==0){const dt=Math.cos(this.aRotation),gt=Math.sin(this.aRotation),pt=lt-this.aX,vt=ft-this.aY;lt=pt*dt-vt*gt+this.aX,ft=pt*gt+vt*dt+this.aY}return rt.set(lt,ft)}copy(_e){return super.copy(_e),this.aX=_e.aX,this.aY=_e.aY,this.xRadius=_e.xRadius,this.yRadius=_e.yRadius,this.aStartAngle=_e.aStartAngle,this.aEndAngle=_e.aEndAngle,this.aClockwise=_e.aClockwise,this.aRotation=_e.aRotation,this}toJSON(){const _e=super.toJSON();return _e.aX=this.aX,_e.aY=this.aY,_e.xRadius=this.xRadius,_e.yRadius=this.yRadius,_e.aStartAngle=this.aStartAngle,_e.aEndAngle=this.aEndAngle,_e.aClockwise=this.aClockwise,_e.aRotation=this.aRotation,_e}fromJSON(_e){return super.fromJSON(_e),this.aX=_e.aX,this.aY=_e.aY,this.xRadius=_e.xRadius,this.yRadius=_e.yRadius,this.aStartAngle=_e.aStartAngle,this.aEndAngle=_e.aEndAngle,this.aClockwise=_e.aClockwise,this.aRotation=_e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(_e,tt,rt,nt,st,ot){super(_e,tt,rt,rt,nt,st,ot),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let et=0,_e=0,tt=0,rt=0;function nt(st,ot,at,lt){et=st,_e=at,tt=-3*st+3*ot-2*at-lt,rt=2*st-2*ot+at+lt}return{initCatmullRom:function(st,ot,at,lt,ft){nt(ot,at,ft*(at-st),ft*(lt-ot))},initNonuniformCatmullRom:function(st,ot,at,lt,ft,dt,gt){let pt=(ot-st)/ft-(at-st)/(ft+dt)+(at-ot)/dt,vt=(at-ot)/dt-(lt-ot)/(dt+gt)+(lt-at)/gt;pt*=dt,vt*=dt,nt(ot,at,pt,vt)},calc:function(st){const ot=st*st,at=ot*st;return et+_e*st+tt*ot+rt*at}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(_e=[],tt=!1,rt="centripetal",nt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=_e,this.closed=tt,this.curveType=rt,this.tension=nt}getPoint(_e,tt=new Vector3){const rt=tt,nt=this.points,st=nt.length,ot=(st-(this.closed?0:1))*_e;let at=Math.floor(ot),lt=ot-at;this.closed?at+=at>0?0:(Math.floor(Math.abs(at)/st)+1)*st:lt===0&&at===st-1&&(at=st-2,lt=1);let ft,dt;this.closed||at>0?ft=nt[(at-1)%st]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),ft=tmp);const gt=nt[at%st],pt=nt[(at+1)%st];if(this.closed||at+2<st?dt=nt[(at+2)%st]:(tmp.subVectors(nt[st-1],nt[st-2]).add(nt[st-1]),dt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const vt=this.curveType==="chordal"?.5:.25;let St=Math.pow(ft.distanceToSquared(gt),vt),At=Math.pow(gt.distanceToSquared(pt),vt),Tt=Math.pow(pt.distanceToSquared(dt),vt);At<1e-4&&(At=1),St<1e-4&&(St=At),Tt<1e-4&&(Tt=At),px.initNonuniformCatmullRom(ft.x,gt.x,pt.x,dt.x,St,At,Tt),py.initNonuniformCatmullRom(ft.y,gt.y,pt.y,dt.y,St,At,Tt),pz.initNonuniformCatmullRom(ft.z,gt.z,pt.z,dt.z,St,At,Tt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ft.x,gt.x,pt.x,dt.x,this.tension),py.initCatmullRom(ft.y,gt.y,pt.y,dt.y,this.tension),pz.initCatmullRom(ft.z,gt.z,pt.z,dt.z,this.tension));return rt.set(px.calc(lt),py.calc(lt),pz.calc(lt)),rt}copy(_e){super.copy(_e),this.points=[];for(let tt=0,rt=_e.points.length;tt<rt;tt++){const nt=_e.points[tt];this.points.push(nt.clone())}return this.closed=_e.closed,this.curveType=_e.curveType,this.tension=_e.tension,this}toJSON(){const _e=super.toJSON();_e.points=[];for(let tt=0,rt=this.points.length;tt<rt;tt++){const nt=this.points[tt];_e.points.push(nt.toArray())}return _e.closed=this.closed,_e.curveType=this.curveType,_e.tension=this.tension,_e}fromJSON(_e){super.fromJSON(_e),this.points=[];for(let tt=0,rt=_e.points.length;tt<rt;tt++){const nt=_e.points[tt];this.points.push(new Vector3().fromArray(nt))}return this.closed=_e.closed,this.curveType=_e.curveType,this.tension=_e.tension,this}}function CatmullRom(et,_e,tt,rt,nt){const st=(rt-_e)*.5,ot=(nt-tt)*.5,at=et*et,lt=et*at;return(2*tt-2*rt+st+ot)*lt+(-3*tt+3*rt-2*st-ot)*at+st*et+tt}function QuadraticBezierP0(et,_e){const tt=1-et;return tt*tt*_e}function QuadraticBezierP1(et,_e){return 2*(1-et)*et*_e}function QuadraticBezierP2(et,_e){return et*et*_e}function QuadraticBezier(et,_e,tt,rt){return QuadraticBezierP0(et,_e)+QuadraticBezierP1(et,tt)+QuadraticBezierP2(et,rt)}function CubicBezierP0(et,_e){const tt=1-et;return tt*tt*tt*_e}function CubicBezierP1(et,_e){const tt=1-et;return 3*tt*tt*et*_e}function CubicBezierP2(et,_e){return 3*(1-et)*et*et*_e}function CubicBezierP3(et,_e){return et*et*et*_e}function CubicBezier(et,_e,tt,rt,nt){return CubicBezierP0(et,_e)+CubicBezierP1(et,tt)+CubicBezierP2(et,rt)+CubicBezierP3(et,nt)}class CubicBezierCurve extends Curve{constructor(_e=new Vector2,tt=new Vector2,rt=new Vector2,nt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=_e,this.v1=tt,this.v2=rt,this.v3=nt}getPoint(_e,tt=new Vector2){const rt=tt,nt=this.v0,st=this.v1,ot=this.v2,at=this.v3;return rt.set(CubicBezier(_e,nt.x,st.x,ot.x,at.x),CubicBezier(_e,nt.y,st.y,ot.y,at.y)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this.v3.copy(_e.v3),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e.v3=this.v3.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this.v3.fromArray(_e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(_e=new Vector3,tt=new Vector3,rt=new Vector3,nt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=_e,this.v1=tt,this.v2=rt,this.v3=nt}getPoint(_e,tt=new Vector3){const rt=tt,nt=this.v0,st=this.v1,ot=this.v2,at=this.v3;return rt.set(CubicBezier(_e,nt.x,st.x,ot.x,at.x),CubicBezier(_e,nt.y,st.y,ot.y,at.y),CubicBezier(_e,nt.z,st.z,ot.z,at.z)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this.v3.copy(_e.v3),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e.v3=this.v3.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this.v3.fromArray(_e.v3),this}}class LineCurve extends Curve{constructor(_e=new Vector2,tt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=_e,this.v2=tt}getPoint(_e,tt=new Vector2){const rt=tt;return _e===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(_e).add(this.v1)),rt}getPointAt(_e,tt){return this.getPoint(_e,tt)}getTangent(_e,tt){const rt=tt||new Vector2;return rt.copy(this.v2).sub(this.v1).normalize(),rt}copy(_e){return super.copy(_e),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class LineCurve3 extends Curve{constructor(_e=new Vector3,tt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=_e,this.v2=tt}getPoint(_e,tt=new Vector3){const rt=tt;return _e===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(_e).add(this.v1)),rt}getPointAt(_e,tt){return this.getPoint(_e,tt)}copy(_e){return super.copy(_e),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(_e=new Vector2,tt=new Vector2,rt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=_e,this.v1=tt,this.v2=rt}getPoint(_e,tt=new Vector2){const rt=tt,nt=this.v0,st=this.v1,ot=this.v2;return rt.set(QuadraticBezier(_e,nt.x,st.x,ot.x),QuadraticBezier(_e,nt.y,st.y,ot.y)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(_e=new Vector3,tt=new Vector3,rt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=_e,this.v1=tt,this.v2=rt}getPoint(_e,tt=new Vector3){const rt=tt,nt=this.v0,st=this.v1,ot=this.v2;return rt.set(QuadraticBezier(_e,nt.x,st.x,ot.x),QuadraticBezier(_e,nt.y,st.y,ot.y),QuadraticBezier(_e,nt.z,st.z,ot.z)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class SplineCurve extends Curve{constructor(_e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=_e}getPoint(_e,tt=new Vector2){const rt=tt,nt=this.points,st=(nt.length-1)*_e,ot=Math.floor(st),at=st-ot,lt=nt[ot===0?ot:ot-1],ft=nt[ot],dt=nt[ot>nt.length-2?nt.length-1:ot+1],gt=nt[ot>nt.length-3?nt.length-1:ot+2];return rt.set(CatmullRom(at,lt.x,ft.x,dt.x,gt.x),CatmullRom(at,lt.y,ft.y,dt.y,gt.y)),rt}copy(_e){super.copy(_e),this.points=[];for(let tt=0,rt=_e.points.length;tt<rt;tt++){const nt=_e.points[tt];this.points.push(nt.clone())}return this}toJSON(){const _e=super.toJSON();_e.points=[];for(let tt=0,rt=this.points.length;tt<rt;tt++){const nt=this.points[tt];_e.points.push(nt.toArray())}return _e}fromJSON(_e){super.fromJSON(_e),this.points=[];for(let tt=0,rt=_e.points.length;tt<rt;tt++){const nt=_e.points[tt];this.points.push(new Vector2().fromArray(nt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(_e){this.curves.push(_e)}closePath(){const _e=this.curves[0].getPoint(0),tt=this.curves[this.curves.length-1].getPoint(1);_e.equals(tt)||this.curves.push(new LineCurve(tt,_e))}getPoint(_e,tt){const rt=_e*this.getLength(),nt=this.getCurveLengths();let st=0;for(;st<nt.length;){if(nt[st]>=rt){const ot=nt[st]-rt,at=this.curves[st],lt=at.getLength(),ft=lt===0?0:1-ot/lt;return at.getPointAt(ft,tt)}st++}return null}getLength(){const _e=this.getCurveLengths();return _e[_e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const _e=[];let tt=0;for(let rt=0,nt=this.curves.length;rt<nt;rt++)tt+=this.curves[rt].getLength(),_e.push(tt);return this.cacheLengths=_e,_e}getSpacedPoints(_e=40){const tt=[];for(let rt=0;rt<=_e;rt++)tt.push(this.getPoint(rt/_e));return this.autoClose&&tt.push(tt[0]),tt}getPoints(_e=12){const tt=[];let rt;for(let nt=0,st=this.curves;nt<st.length;nt++){const ot=st[nt],at=ot.isEllipseCurve?_e*2:ot.isLineCurve||ot.isLineCurve3?1:ot.isSplineCurve?_e*ot.points.length:_e,lt=ot.getPoints(at);for(let ft=0;ft<lt.length;ft++){const dt=lt[ft];rt&&rt.equals(dt)||(tt.push(dt),rt=dt)}}return this.autoClose&&tt.length>1&&!tt[tt.length-1].equals(tt[0])&&tt.push(tt[0]),tt}copy(_e){super.copy(_e),this.curves=[];for(let tt=0,rt=_e.curves.length;tt<rt;tt++){const nt=_e.curves[tt];this.curves.push(nt.clone())}return this.autoClose=_e.autoClose,this}toJSON(){const _e=super.toJSON();_e.autoClose=this.autoClose,_e.curves=[];for(let tt=0,rt=this.curves.length;tt<rt;tt++){const nt=this.curves[tt];_e.curves.push(nt.toJSON())}return _e}fromJSON(_e){super.fromJSON(_e),this.autoClose=_e.autoClose,this.curves=[];for(let tt=0,rt=_e.curves.length;tt<rt;tt++){const nt=_e.curves[tt];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}class Path extends CurvePath{constructor(_e){super(),this.type="Path",this.currentPoint=new Vector2,_e&&this.setFromPoints(_e)}setFromPoints(_e){this.moveTo(_e[0].x,_e[0].y);for(let tt=1,rt=_e.length;tt<rt;tt++)this.lineTo(_e[tt].x,_e[tt].y);return this}moveTo(_e,tt){return this.currentPoint.set(_e,tt),this}lineTo(_e,tt){const rt=new LineCurve(this.currentPoint.clone(),new Vector2(_e,tt));return this.curves.push(rt),this.currentPoint.set(_e,tt),this}quadraticCurveTo(_e,tt,rt,nt){const st=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(_e,tt),new Vector2(rt,nt));return this.curves.push(st),this.currentPoint.set(rt,nt),this}bezierCurveTo(_e,tt,rt,nt,st,ot){const at=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(_e,tt),new Vector2(rt,nt),new Vector2(st,ot));return this.curves.push(at),this.currentPoint.set(st,ot),this}splineThru(_e){const tt=[this.currentPoint.clone()].concat(_e),rt=new SplineCurve(tt);return this.curves.push(rt),this.currentPoint.copy(_e[_e.length-1]),this}arc(_e,tt,rt,nt,st,ot){const at=this.currentPoint.x,lt=this.currentPoint.y;return this.absarc(_e+at,tt+lt,rt,nt,st,ot),this}absarc(_e,tt,rt,nt,st,ot){return this.absellipse(_e,tt,rt,rt,nt,st,ot),this}ellipse(_e,tt,rt,nt,st,ot,at,lt){const ft=this.currentPoint.x,dt=this.currentPoint.y;return this.absellipse(_e+ft,tt+dt,rt,nt,st,ot,at,lt),this}absellipse(_e,tt,rt,nt,st,ot,at,lt){const ft=new EllipseCurve(_e,tt,rt,nt,st,ot,at,lt);if(this.curves.length>0){const gt=ft.getPoint(0);gt.equals(this.currentPoint)||this.lineTo(gt.x,gt.y)}this.curves.push(ft);const dt=ft.getPoint(1);return this.currentPoint.copy(dt),this}copy(_e){return super.copy(_e),this.currentPoint.copy(_e.currentPoint),this}toJSON(){const _e=super.toJSON();return _e.currentPoint=this.currentPoint.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.currentPoint.fromArray(_e.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(_e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],tt=12,rt=0,nt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:_e,segments:tt,phiStart:rt,phiLength:nt},tt=Math.floor(tt),nt=clamp(nt,0,Math.PI*2);const st=[],ot=[],at=[],lt=[],ft=[],dt=1/tt,gt=new Vector3,pt=new Vector2,vt=new Vector3,St=new Vector3,At=new Vector3;let Tt=0,Ct=0;for(let Mt=0;Mt<=_e.length-1;Mt++)switch(Mt){case 0:Tt=_e[Mt+1].x-_e[Mt].x,Ct=_e[Mt+1].y-_e[Mt].y,vt.x=Ct*1,vt.y=-Tt,vt.z=Ct*0,At.copy(vt),vt.normalize(),lt.push(vt.x,vt.y,vt.z);break;case _e.length-1:lt.push(At.x,At.y,At.z);break;default:Tt=_e[Mt+1].x-_e[Mt].x,Ct=_e[Mt+1].y-_e[Mt].y,vt.x=Ct*1,vt.y=-Tt,vt.z=Ct*0,St.copy(vt),vt.x+=At.x,vt.y+=At.y,vt.z+=At.z,vt.normalize(),lt.push(vt.x,vt.y,vt.z),At.copy(St)}for(let Mt=0;Mt<=tt;Mt++){const Et=rt+Mt*dt*nt,Rt=Math.sin(Et),Bt=Math.cos(Et);for(let Ft=0;Ft<=_e.length-1;Ft++){gt.x=_e[Ft].x*Rt,gt.y=_e[Ft].y,gt.z=_e[Ft].x*Bt,ot.push(gt.x,gt.y,gt.z),pt.x=Mt/tt,pt.y=Ft/(_e.length-1),at.push(pt.x,pt.y);const Lt=lt[3*Ft+0]*Rt,wt=lt[3*Ft+1],Dt=lt[3*Ft+0]*Bt;ft.push(Lt,wt,Dt)}}for(let Mt=0;Mt<tt;Mt++)for(let Et=0;Et<_e.length-1;Et++){const Rt=Et+Mt*_e.length,Bt=Rt,Ft=Rt+_e.length,Lt=Rt+_e.length+1,wt=Rt+1;st.push(Bt,Ft,wt),st.push(Lt,wt,Ft)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2)),this.setAttribute("normal",new Float32BufferAttribute(ft,3))}static fromJSON(_e){return new LatheGeometry(_e.points,_e.segments,_e.phiStart,_e.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(_e=1,tt=1,rt=4,nt=8){const st=new Path;st.absarc(0,-tt/2,_e,Math.PI*1.5,0),st.absarc(0,tt/2,_e,0,Math.PI*.5),super(st.getPoints(rt),nt),this.type="CapsuleGeometry",this.parameters={radius:_e,height:tt,capSegments:rt,radialSegments:nt}}static fromJSON(_e){return new CapsuleGeometry(_e.radius,_e.length,_e.capSegments,_e.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(_e=1,tt=32,rt=0,nt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:_e,segments:tt,thetaStart:rt,thetaLength:nt},tt=Math.max(3,tt);const st=[],ot=[],at=[],lt=[],ft=new Vector3,dt=new Vector2;ot.push(0,0,0),at.push(0,0,1),lt.push(.5,.5);for(let gt=0,pt=3;gt<=tt;gt++,pt+=3){const vt=rt+gt/tt*nt;ft.x=_e*Math.cos(vt),ft.y=_e*Math.sin(vt),ot.push(ft.x,ft.y,ft.z),at.push(0,0,1),dt.x=(ot[pt]/_e+1)/2,dt.y=(ot[pt+1]/_e+1)/2,lt.push(dt.x,dt.y)}for(let gt=1;gt<=tt;gt++)st.push(gt,gt+1,0);this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}static fromJSON(_e){return new CircleGeometry(_e.radius,_e.segments,_e.thetaStart,_e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(_e=1,tt=1,rt=1,nt=32,st=1,ot=!1,at=0,lt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:_e,radiusBottom:tt,height:rt,radialSegments:nt,heightSegments:st,openEnded:ot,thetaStart:at,thetaLength:lt};const ft=this;nt=Math.floor(nt),st=Math.floor(st);const dt=[],gt=[],pt=[],vt=[];let St=0;const At=[],Tt=rt/2;let Ct=0;Mt(),ot===!1&&(_e>0&&Et(!0),tt>0&&Et(!1)),this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(gt,3)),this.setAttribute("normal",new Float32BufferAttribute(pt,3)),this.setAttribute("uv",new Float32BufferAttribute(vt,2));function Mt(){const Rt=new Vector3,Bt=new Vector3;let Ft=0;const Lt=(tt-_e)/rt;for(let wt=0;wt<=st;wt++){const Dt=[],Ot=wt/st,Ut=Ot*(tt-_e)+_e;for(let zt=0;zt<=nt;zt++){const tr=zt/nt,jt=tr*lt+at,Kt=Math.sin(jt),qt=Math.cos(jt);Bt.x=Ut*Kt,Bt.y=-Ot*rt+Tt,Bt.z=Ut*qt,gt.push(Bt.x,Bt.y,Bt.z),Rt.set(Kt,Lt,qt).normalize(),pt.push(Rt.x,Rt.y,Rt.z),vt.push(tr,1-Ot),Dt.push(St++)}At.push(Dt)}for(let wt=0;wt<nt;wt++)for(let Dt=0;Dt<st;Dt++){const Ot=At[Dt][wt],Ut=At[Dt+1][wt],zt=At[Dt+1][wt+1],tr=At[Dt][wt+1];dt.push(Ot,Ut,tr),dt.push(Ut,zt,tr),Ft+=6}ft.addGroup(Ct,Ft,0),Ct+=Ft}function Et(Rt){const Bt=St,Ft=new Vector2,Lt=new Vector3;let wt=0;const Dt=Rt===!0?_e:tt,Ot=Rt===!0?1:-1;for(let zt=1;zt<=nt;zt++)gt.push(0,Tt*Ot,0),pt.push(0,Ot,0),vt.push(.5,.5),St++;const Ut=St;for(let zt=0;zt<=nt;zt++){const jt=zt/nt*lt+at,Kt=Math.cos(jt),qt=Math.sin(jt);Lt.x=Dt*qt,Lt.y=Tt*Ot,Lt.z=Dt*Kt,gt.push(Lt.x,Lt.y,Lt.z),pt.push(0,Ot,0),Ft.x=Kt*.5+.5,Ft.y=qt*.5*Ot+.5,vt.push(Ft.x,Ft.y),St++}for(let zt=0;zt<nt;zt++){const tr=Bt+zt,jt=Ut+zt;Rt===!0?dt.push(jt,jt+1,tr):dt.push(jt+1,jt,tr),wt+=3}ft.addGroup(Ct,wt,Rt===!0?1:2),Ct+=wt}}static fromJSON(_e){return new CylinderGeometry(_e.radiusTop,_e.radiusBottom,_e.height,_e.radialSegments,_e.heightSegments,_e.openEnded,_e.thetaStart,_e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(_e=1,tt=1,rt=32,nt=1,st=!1,ot=0,at=Math.PI*2){super(0,_e,tt,rt,nt,st,ot,at),this.type="ConeGeometry",this.parameters={radius:_e,height:tt,radialSegments:rt,heightSegments:nt,openEnded:st,thetaStart:ot,thetaLength:at}}static fromJSON(_e){return new ConeGeometry(_e.radius,_e.height,_e.radialSegments,_e.heightSegments,_e.openEnded,_e.thetaStart,_e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(_e=[],tt=[],rt=1,nt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:_e,indices:tt,radius:rt,detail:nt};const st=[],ot=[];at(nt),ft(rt),dt(),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(st.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2)),nt===0?this.computeVertexNormals():this.normalizeNormals();function at(Mt){const Et=new Vector3,Rt=new Vector3,Bt=new Vector3;for(let Ft=0;Ft<tt.length;Ft+=3)vt(tt[Ft+0],Et),vt(tt[Ft+1],Rt),vt(tt[Ft+2],Bt),lt(Et,Rt,Bt,Mt)}function lt(Mt,Et,Rt,Bt){const Ft=Bt+1,Lt=[];for(let wt=0;wt<=Ft;wt++){Lt[wt]=[];const Dt=Mt.clone().lerp(Rt,wt/Ft),Ot=Et.clone().lerp(Rt,wt/Ft),Ut=Ft-wt;for(let zt=0;zt<=Ut;zt++)zt===0&&wt===Ft?Lt[wt][zt]=Dt:Lt[wt][zt]=Dt.clone().lerp(Ot,zt/Ut)}for(let wt=0;wt<Ft;wt++)for(let Dt=0;Dt<2*(Ft-wt)-1;Dt++){const Ot=Math.floor(Dt/2);Dt%2===0?(pt(Lt[wt][Ot+1]),pt(Lt[wt+1][Ot]),pt(Lt[wt][Ot])):(pt(Lt[wt][Ot+1]),pt(Lt[wt+1][Ot+1]),pt(Lt[wt+1][Ot]))}}function ft(Mt){const Et=new Vector3;for(let Rt=0;Rt<st.length;Rt+=3)Et.x=st[Rt+0],Et.y=st[Rt+1],Et.z=st[Rt+2],Et.normalize().multiplyScalar(Mt),st[Rt+0]=Et.x,st[Rt+1]=Et.y,st[Rt+2]=Et.z}function dt(){const Mt=new Vector3;for(let Et=0;Et<st.length;Et+=3){Mt.x=st[Et+0],Mt.y=st[Et+1],Mt.z=st[Et+2];const Rt=Tt(Mt)/2/Math.PI+.5,Bt=Ct(Mt)/Math.PI+.5;ot.push(Rt,1-Bt)}St(),gt()}function gt(){for(let Mt=0;Mt<ot.length;Mt+=6){const Et=ot[Mt+0],Rt=ot[Mt+2],Bt=ot[Mt+4],Ft=Math.max(Et,Rt,Bt),Lt=Math.min(Et,Rt,Bt);Ft>.9&&Lt<.1&&(Et<.2&&(ot[Mt+0]+=1),Rt<.2&&(ot[Mt+2]+=1),Bt<.2&&(ot[Mt+4]+=1))}}function pt(Mt){st.push(Mt.x,Mt.y,Mt.z)}function vt(Mt,Et){const Rt=Mt*3;Et.x=_e[Rt+0],Et.y=_e[Rt+1],Et.z=_e[Rt+2]}function St(){const Mt=new Vector3,Et=new Vector3,Rt=new Vector3,Bt=new Vector3,Ft=new Vector2,Lt=new Vector2,wt=new Vector2;for(let Dt=0,Ot=0;Dt<st.length;Dt+=9,Ot+=6){Mt.set(st[Dt+0],st[Dt+1],st[Dt+2]),Et.set(st[Dt+3],st[Dt+4],st[Dt+5]),Rt.set(st[Dt+6],st[Dt+7],st[Dt+8]),Ft.set(ot[Ot+0],ot[Ot+1]),Lt.set(ot[Ot+2],ot[Ot+3]),wt.set(ot[Ot+4],ot[Ot+5]),Bt.copy(Mt).add(Et).add(Rt).divideScalar(3);const Ut=Tt(Bt);At(Ft,Ot+0,Mt,Ut),At(Lt,Ot+2,Et,Ut),At(wt,Ot+4,Rt,Ut)}}function At(Mt,Et,Rt,Bt){Bt<0&&Mt.x===1&&(ot[Et]=Mt.x-1),Rt.x===0&&Rt.z===0&&(ot[Et]=Bt/2/Math.PI+.5)}function Tt(Mt){return Math.atan2(Mt.z,-Mt.x)}function Ct(Mt){return Math.atan2(-Mt.y,Math.sqrt(Mt.x*Mt.x+Mt.z*Mt.z))}}static fromJSON(_e){return new PolyhedronGeometry(_e.vertices,_e.indices,_e.radius,_e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const rt=(1+Math.sqrt(5))/2,nt=1/rt,st=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nt,-rt,0,-nt,rt,0,nt,-rt,0,nt,rt,-nt,-rt,0,-nt,rt,0,nt,-rt,0,nt,rt,0,-rt,0,-nt,rt,0,-nt,-rt,0,nt,rt,0,nt],ot=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(st,ot,_e,tt),this.type="DodecahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new DodecahedronGeometry(_e.radius,_e.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(_e=null,tt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:_e,thresholdAngle:tt},_e!==null){const nt=Math.pow(10,4),st=Math.cos(DEG2RAD*tt),ot=_e.getIndex(),at=_e.getAttribute("position"),lt=ot?ot.count:at.count,ft=[0,0,0],dt=["a","b","c"],gt=new Array(3),pt={},vt=[];for(let St=0;St<lt;St+=3){ot?(ft[0]=ot.getX(St),ft[1]=ot.getX(St+1),ft[2]=ot.getX(St+2)):(ft[0]=St,ft[1]=St+1,ft[2]=St+2);const{a:At,b:Tt,c:Ct}=_triangle;if(At.fromBufferAttribute(at,ft[0]),Tt.fromBufferAttribute(at,ft[1]),Ct.fromBufferAttribute(at,ft[2]),_triangle.getNormal(_normal),gt[0]=`${Math.round(At.x*nt)},${Math.round(At.y*nt)},${Math.round(At.z*nt)}`,gt[1]=`${Math.round(Tt.x*nt)},${Math.round(Tt.y*nt)},${Math.round(Tt.z*nt)}`,gt[2]=`${Math.round(Ct.x*nt)},${Math.round(Ct.y*nt)},${Math.round(Ct.z*nt)}`,!(gt[0]===gt[1]||gt[1]===gt[2]||gt[2]===gt[0]))for(let Mt=0;Mt<3;Mt++){const Et=(Mt+1)%3,Rt=gt[Mt],Bt=gt[Et],Ft=_triangle[dt[Mt]],Lt=_triangle[dt[Et]],wt=`${Rt}_${Bt}`,Dt=`${Bt}_${Rt}`;Dt in pt&&pt[Dt]?(_normal.dot(pt[Dt].normal)<=st&&(vt.push(Ft.x,Ft.y,Ft.z),vt.push(Lt.x,Lt.y,Lt.z)),pt[Dt]=null):wt in pt||(pt[wt]={index0:ft[Mt],index1:ft[Et],normal:_normal.clone()})}}for(const St in pt)if(pt[St]){const{index0:At,index1:Tt}=pt[St];_v0.fromBufferAttribute(at,At),_v1$1.fromBufferAttribute(at,Tt),vt.push(_v0.x,_v0.y,_v0.z),vt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(vt,3))}}}class Shape extends Path{constructor(_e){super(_e),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(_e){const tt=[];for(let rt=0,nt=this.holes.length;rt<nt;rt++)tt[rt]=this.holes[rt].getPoints(_e);return tt}extractPoints(_e){return{shape:this.getPoints(_e),holes:this.getPointsHoles(_e)}}copy(_e){super.copy(_e),this.holes=[];for(let tt=0,rt=_e.holes.length;tt<rt;tt++){const nt=_e.holes[tt];this.holes.push(nt.clone())}return this}toJSON(){const _e=super.toJSON();_e.uuid=this.uuid,_e.holes=[];for(let tt=0,rt=this.holes.length;tt<rt;tt++){const nt=this.holes[tt];_e.holes.push(nt.toJSON())}return _e}fromJSON(_e){super.fromJSON(_e),this.uuid=_e.uuid,this.holes=[];for(let tt=0,rt=_e.holes.length;tt<rt;tt++){const nt=_e.holes[tt];this.holes.push(new Path().fromJSON(nt))}return this}}const Earcut={triangulate:function(et,_e,tt=2){const rt=_e&&_e.length,nt=rt?_e[0]*tt:et.length;let st=linkedList(et,0,nt,tt,!0);const ot=[];if(!st||st.next===st.prev)return ot;let at,lt,ft,dt,gt,pt,vt;if(rt&&(st=eliminateHoles(et,_e,st,tt)),et.length>80*tt){at=ft=et[0],lt=dt=et[1];for(let St=tt;St<nt;St+=tt)gt=et[St],pt=et[St+1],gt<at&&(at=gt),pt<lt&&(lt=pt),gt>ft&&(ft=gt),pt>dt&&(dt=pt);vt=Math.max(ft-at,dt-lt),vt=vt!==0?32767/vt:0}return earcutLinked(st,ot,tt,at,lt,vt,0),ot}};function linkedList(et,_e,tt,rt,nt){let st,ot;if(nt===signedArea(et,_e,tt,rt)>0)for(st=_e;st<tt;st+=rt)ot=insertNode(st,et[st],et[st+1],ot);else for(st=tt-rt;st>=_e;st-=rt)ot=insertNode(st,et[st],et[st+1],ot);return ot&&equals(ot,ot.next)&&(removeNode(ot),ot=ot.next),ot}function filterPoints(et,_e){if(!et)return et;_e||(_e=et);let tt=et,rt;do if(rt=!1,!tt.steiner&&(equals(tt,tt.next)||area(tt.prev,tt,tt.next)===0)){if(removeNode(tt),tt=_e=tt.prev,tt===tt.next)break;rt=!0}else tt=tt.next;while(rt||tt!==_e);return _e}function earcutLinked(et,_e,tt,rt,nt,st,ot){if(!et)return;!ot&&st&&indexCurve(et,rt,nt,st);let at=et,lt,ft;for(;et.prev!==et.next;){if(lt=et.prev,ft=et.next,st?isEarHashed(et,rt,nt,st):isEar(et)){_e.push(lt.i/tt|0),_e.push(et.i/tt|0),_e.push(ft.i/tt|0),removeNode(et),et=ft.next,at=ft.next;continue}if(et=ft,et===at){ot?ot===1?(et=cureLocalIntersections(filterPoints(et),_e,tt),earcutLinked(et,_e,tt,rt,nt,st,2)):ot===2&&splitEarcut(et,_e,tt,rt,nt,st):earcutLinked(filterPoints(et),_e,tt,rt,nt,st,1);break}}}function isEar(et){const _e=et.prev,tt=et,rt=et.next;if(area(_e,tt,rt)>=0)return!1;const nt=_e.x,st=tt.x,ot=rt.x,at=_e.y,lt=tt.y,ft=rt.y,dt=nt<st?nt<ot?nt:ot:st<ot?st:ot,gt=at<lt?at<ft?at:ft:lt<ft?lt:ft,pt=nt>st?nt>ot?nt:ot:st>ot?st:ot,vt=at>lt?at>ft?at:ft:lt>ft?lt:ft;let St=rt.next;for(;St!==_e;){if(St.x>=dt&&St.x<=pt&&St.y>=gt&&St.y<=vt&&pointInTriangle(nt,at,st,lt,ot,ft,St.x,St.y)&&area(St.prev,St,St.next)>=0)return!1;St=St.next}return!0}function isEarHashed(et,_e,tt,rt){const nt=et.prev,st=et,ot=et.next;if(area(nt,st,ot)>=0)return!1;const at=nt.x,lt=st.x,ft=ot.x,dt=nt.y,gt=st.y,pt=ot.y,vt=at<lt?at<ft?at:ft:lt<ft?lt:ft,St=dt<gt?dt<pt?dt:pt:gt<pt?gt:pt,At=at>lt?at>ft?at:ft:lt>ft?lt:ft,Tt=dt>gt?dt>pt?dt:pt:gt>pt?gt:pt,Ct=zOrder(vt,St,_e,tt,rt),Mt=zOrder(At,Tt,_e,tt,rt);let Et=et.prevZ,Rt=et.nextZ;for(;Et&&Et.z>=Ct&&Rt&&Rt.z<=Mt;){if(Et.x>=vt&&Et.x<=At&&Et.y>=St&&Et.y<=Tt&&Et!==nt&&Et!==ot&&pointInTriangle(at,dt,lt,gt,ft,pt,Et.x,Et.y)&&area(Et.prev,Et,Et.next)>=0||(Et=Et.prevZ,Rt.x>=vt&&Rt.x<=At&&Rt.y>=St&&Rt.y<=Tt&&Rt!==nt&&Rt!==ot&&pointInTriangle(at,dt,lt,gt,ft,pt,Rt.x,Rt.y)&&area(Rt.prev,Rt,Rt.next)>=0))return!1;Rt=Rt.nextZ}for(;Et&&Et.z>=Ct;){if(Et.x>=vt&&Et.x<=At&&Et.y>=St&&Et.y<=Tt&&Et!==nt&&Et!==ot&&pointInTriangle(at,dt,lt,gt,ft,pt,Et.x,Et.y)&&area(Et.prev,Et,Et.next)>=0)return!1;Et=Et.prevZ}for(;Rt&&Rt.z<=Mt;){if(Rt.x>=vt&&Rt.x<=At&&Rt.y>=St&&Rt.y<=Tt&&Rt!==nt&&Rt!==ot&&pointInTriangle(at,dt,lt,gt,ft,pt,Rt.x,Rt.y)&&area(Rt.prev,Rt,Rt.next)>=0)return!1;Rt=Rt.nextZ}return!0}function cureLocalIntersections(et,_e,tt){let rt=et;do{const nt=rt.prev,st=rt.next.next;!equals(nt,st)&&intersects(nt,rt,rt.next,st)&&locallyInside(nt,st)&&locallyInside(st,nt)&&(_e.push(nt.i/tt|0),_e.push(rt.i/tt|0),_e.push(st.i/tt|0),removeNode(rt),removeNode(rt.next),rt=et=st),rt=rt.next}while(rt!==et);return filterPoints(rt)}function splitEarcut(et,_e,tt,rt,nt,st){let ot=et;do{let at=ot.next.next;for(;at!==ot.prev;){if(ot.i!==at.i&&isValidDiagonal(ot,at)){let lt=splitPolygon(ot,at);ot=filterPoints(ot,ot.next),lt=filterPoints(lt,lt.next),earcutLinked(ot,_e,tt,rt,nt,st,0),earcutLinked(lt,_e,tt,rt,nt,st,0);return}at=at.next}ot=ot.next}while(ot!==et)}function eliminateHoles(et,_e,tt,rt){const nt=[];let st,ot,at,lt,ft;for(st=0,ot=_e.length;st<ot;st++)at=_e[st]*rt,lt=st<ot-1?_e[st+1]*rt:et.length,ft=linkedList(et,at,lt,rt,!1),ft===ft.next&&(ft.steiner=!0),nt.push(getLeftmost(ft));for(nt.sort(compareX),st=0;st<nt.length;st++)tt=eliminateHole(nt[st],tt);return tt}function compareX(et,_e){return et.x-_e.x}function eliminateHole(et,_e){const tt=findHoleBridge(et,_e);if(!tt)return _e;const rt=splitPolygon(tt,et);return filterPoints(rt,rt.next),filterPoints(tt,tt.next)}function findHoleBridge(et,_e){let tt=_e,rt=-1/0,nt;const st=et.x,ot=et.y;do{if(ot<=tt.y&&ot>=tt.next.y&&tt.next.y!==tt.y){const pt=tt.x+(ot-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(pt<=st&&pt>rt&&(rt=pt,nt=tt.x<tt.next.x?tt:tt.next,pt===st))return nt}tt=tt.next}while(tt!==_e);if(!nt)return null;const at=nt,lt=nt.x,ft=nt.y;let dt=1/0,gt;tt=nt;do st>=tt.x&&tt.x>=lt&&st!==tt.x&&pointInTriangle(ot<ft?st:rt,ot,lt,ft,ot<ft?rt:st,ot,tt.x,tt.y)&&(gt=Math.abs(ot-tt.y)/(st-tt.x),locallyInside(tt,et)&&(gt<dt||gt===dt&&(tt.x>nt.x||tt.x===nt.x&&sectorContainsSector(nt,tt)))&&(nt=tt,dt=gt)),tt=tt.next;while(tt!==at);return nt}function sectorContainsSector(et,_e){return area(et.prev,et,_e.prev)<0&&area(_e.next,et,et.next)<0}function indexCurve(et,_e,tt,rt){let nt=et;do nt.z===0&&(nt.z=zOrder(nt.x,nt.y,_e,tt,rt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==et);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(et){let _e,tt,rt,nt,st,ot,at,lt,ft=1;do{for(tt=et,et=null,st=null,ot=0;tt;){for(ot++,rt=tt,at=0,_e=0;_e<ft&&(at++,rt=rt.nextZ,!!rt);_e++);for(lt=ft;at>0||lt>0&&rt;)at!==0&&(lt===0||!rt||tt.z<=rt.z)?(nt=tt,tt=tt.nextZ,at--):(nt=rt,rt=rt.nextZ,lt--),st?st.nextZ=nt:et=nt,nt.prevZ=st,st=nt;tt=rt}st.nextZ=null,ft*=2}while(ot>1);return et}function zOrder(et,_e,tt,rt,nt){return et=(et-tt)*nt|0,_e=(_e-rt)*nt|0,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,_e=(_e|_e<<8)&16711935,_e=(_e|_e<<4)&252645135,_e=(_e|_e<<2)&858993459,_e=(_e|_e<<1)&1431655765,et|_e<<1}function getLeftmost(et){let _e=et,tt=et;do(_e.x<tt.x||_e.x===tt.x&&_e.y<tt.y)&&(tt=_e),_e=_e.next;while(_e!==et);return tt}function pointInTriangle(et,_e,tt,rt,nt,st,ot,at){return(nt-ot)*(_e-at)>=(et-ot)*(st-at)&&(et-ot)*(rt-at)>=(tt-ot)*(_e-at)&&(tt-ot)*(st-at)>=(nt-ot)*(rt-at)}function isValidDiagonal(et,_e){return et.next.i!==_e.i&&et.prev.i!==_e.i&&!intersectsPolygon(et,_e)&&(locallyInside(et,_e)&&locallyInside(_e,et)&&middleInside(et,_e)&&(area(et.prev,et,_e.prev)||area(et,_e.prev,_e))||equals(et,_e)&&area(et.prev,et,et.next)>0&&area(_e.prev,_e,_e.next)>0)}function area(et,_e,tt){return(_e.y-et.y)*(tt.x-_e.x)-(_e.x-et.x)*(tt.y-_e.y)}function equals(et,_e){return et.x===_e.x&&et.y===_e.y}function intersects(et,_e,tt,rt){const nt=sign(area(et,_e,tt)),st=sign(area(et,_e,rt)),ot=sign(area(tt,rt,et)),at=sign(area(tt,rt,_e));return!!(nt!==st&&ot!==at||nt===0&&onSegment(et,tt,_e)||st===0&&onSegment(et,rt,_e)||ot===0&&onSegment(tt,et,rt)||at===0&&onSegment(tt,_e,rt))}function onSegment(et,_e,tt){return _e.x<=Math.max(et.x,tt.x)&&_e.x>=Math.min(et.x,tt.x)&&_e.y<=Math.max(et.y,tt.y)&&_e.y>=Math.min(et.y,tt.y)}function sign(et){return et>0?1:et<0?-1:0}function intersectsPolygon(et,_e){let tt=et;do{if(tt.i!==et.i&&tt.next.i!==et.i&&tt.i!==_e.i&&tt.next.i!==_e.i&&intersects(tt,tt.next,et,_e))return!0;tt=tt.next}while(tt!==et);return!1}function locallyInside(et,_e){return area(et.prev,et,et.next)<0?area(et,_e,et.next)>=0&&area(et,et.prev,_e)>=0:area(et,_e,et.prev)<0||area(et,et.next,_e)<0}function middleInside(et,_e){let tt=et,rt=!1;const nt=(et.x+_e.x)/2,st=(et.y+_e.y)/2;do tt.y>st!=tt.next.y>st&&tt.next.y!==tt.y&&nt<(tt.next.x-tt.x)*(st-tt.y)/(tt.next.y-tt.y)+tt.x&&(rt=!rt),tt=tt.next;while(tt!==et);return rt}function splitPolygon(et,_e){const tt=new Node(et.i,et.x,et.y),rt=new Node(_e.i,_e.x,_e.y),nt=et.next,st=_e.prev;return et.next=_e,_e.prev=et,tt.next=nt,nt.prev=tt,rt.next=tt,tt.prev=rt,st.next=rt,rt.prev=st,rt}function insertNode(et,_e,tt,rt){const nt=new Node(et,_e,tt);return rt?(nt.next=rt.next,nt.prev=rt,rt.next.prev=nt,rt.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(et){et.next.prev=et.prev,et.prev.next=et.next,et.prevZ&&(et.prevZ.nextZ=et.nextZ),et.nextZ&&(et.nextZ.prevZ=et.prevZ)}function Node(et,_e,tt){this.i=et,this.x=_e,this.y=tt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(et,_e,tt,rt){let nt=0;for(let st=_e,ot=tt-rt;st<tt;st+=rt)nt+=(et[ot]-et[st])*(et[st+1]+et[ot+1]),ot=st;return nt}class ShapeUtils{static area(_e){const tt=_e.length;let rt=0;for(let nt=tt-1,st=0;st<tt;nt=st++)rt+=_e[nt].x*_e[st].y-_e[st].x*_e[nt].y;return rt*.5}static isClockWise(_e){return ShapeUtils.area(_e)<0}static triangulateShape(_e,tt){const rt=[],nt=[],st=[];removeDupEndPts(_e),addContour(rt,_e);let ot=_e.length;tt.forEach(removeDupEndPts);for(let lt=0;lt<tt.length;lt++)nt.push(ot),ot+=tt[lt].length,addContour(rt,tt[lt]);const at=Earcut.triangulate(rt,nt);for(let lt=0;lt<at.length;lt+=3)st.push(at.slice(lt,lt+3));return st}}function removeDupEndPts(et){const _e=et.length;_e>2&&et[_e-1].equals(et[0])&&et.pop()}function addContour(et,_e){for(let tt=0;tt<_e.length;tt++)et.push(_e[tt].x),et.push(_e[tt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(_e=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:_e,options:tt},_e=Array.isArray(_e)?_e:[_e];const rt=this,nt=[],st=[];for(let at=0,lt=_e.length;at<lt;at++){const ft=_e[at];ot(ft)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),this.computeVertexNormals();function ot(at){const lt=[],ft=tt.curveSegments!==void 0?tt.curveSegments:12,dt=tt.steps!==void 0?tt.steps:1,gt=tt.depth!==void 0?tt.depth:1;let pt=tt.bevelEnabled!==void 0?tt.bevelEnabled:!0,vt=tt.bevelThickness!==void 0?tt.bevelThickness:.2,St=tt.bevelSize!==void 0?tt.bevelSize:vt-.1,At=tt.bevelOffset!==void 0?tt.bevelOffset:0,Tt=tt.bevelSegments!==void 0?tt.bevelSegments:3;const Ct=tt.extrudePath,Mt=tt.UVGenerator!==void 0?tt.UVGenerator:WorldUVGenerator;let Et,Rt=!1,Bt,Ft,Lt,wt;Ct&&(Et=Ct.getSpacedPoints(dt),Rt=!0,pt=!1,Bt=Ct.computeFrenetFrames(dt,!1),Ft=new Vector3,Lt=new Vector3,wt=new Vector3),pt||(Tt=0,vt=0,St=0,At=0);const Dt=at.extractPoints(ft);let Ot=Dt.shape;const Ut=Dt.holes;if(!ShapeUtils.isClockWise(Ot)){Ot=Ot.reverse();for(let ur=0,xr=Ut.length;ur<xr;ur++){const Ar=Ut[ur];ShapeUtils.isClockWise(Ar)&&(Ut[ur]=Ar.reverse())}}const tr=ShapeUtils.triangulateShape(Ot,Ut),jt=Ot;for(let ur=0,xr=Ut.length;ur<xr;ur++){const Ar=Ut[ur];Ot=Ot.concat(Ar)}function Kt(ur,xr,Ar){return xr||console.error("THREE.ExtrudeGeometry: vec does not exist"),xr.clone().multiplyScalar(Ar).add(ur)}const qt=Ot.length,er=tr.length;function kt(ur,xr,Ar){let Br,kr,nn;const Pr=ur.x-xr.x,Xr=ur.y-xr.y,Zr=Ar.x-ur.x,zr=Ar.y-ur.y,cr=Pr*Pr+Xr*Xr,ar=Pr*zr-Xr*Zr;if(Math.abs(ar)>Number.EPSILON){const Tr=Math.sqrt(cr),Nr=Math.sqrt(Zr*Zr+zr*zr),Qr=xr.x-Xr/Tr,en=xr.y+Pr/Tr,on=Ar.x-zr/Nr,rn=Ar.y+Zr/Nr,Vr=((on-Qr)*zr-(rn-en)*Zr)/(Pr*zr-Xr*Zr);Br=Qr+Pr*Vr-ur.x,kr=en+Xr*Vr-ur.y;const ln=Br*Br+kr*kr;if(ln<=2)return new Vector2(Br,kr);nn=Math.sqrt(ln/2)}else{let Tr=!1;Pr>Number.EPSILON?Zr>Number.EPSILON&&(Tr=!0):Pr<-Number.EPSILON?Zr<-Number.EPSILON&&(Tr=!0):Math.sign(Xr)===Math.sign(zr)&&(Tr=!0),Tr?(Br=-Xr,kr=Pr,nn=Math.sqrt(cr)):(Br=Pr,kr=Xr,nn=Math.sqrt(cr/2))}return new Vector2(Br/nn,kr/nn)}const Vt=[];for(let ur=0,xr=jt.length,Ar=xr-1,Br=ur+1;ur<xr;ur++,Ar++,Br++)Ar===xr&&(Ar=0),Br===xr&&(Br=0),Vt[ur]=kt(jt[ur],jt[Ar],jt[Br]);const Zt=[];let Wt,nr=Vt.concat();for(let ur=0,xr=Ut.length;ur<xr;ur++){const Ar=Ut[ur];Wt=[];for(let Br=0,kr=Ar.length,nn=kr-1,Pr=Br+1;Br<kr;Br++,nn++,Pr++)nn===kr&&(nn=0),Pr===kr&&(Pr=0),Wt[Br]=kt(Ar[Br],Ar[nn],Ar[Pr]);Zt.push(Wt),nr=nr.concat(Wt)}for(let ur=0;ur<Tt;ur++){const xr=ur/Tt,Ar=vt*Math.cos(xr*Math.PI/2),Br=St*Math.sin(xr*Math.PI/2)+At;for(let kr=0,nn=jt.length;kr<nn;kr++){const Pr=Kt(jt[kr],Vt[kr],Br);wr(Pr.x,Pr.y,-Ar)}for(let kr=0,nn=Ut.length;kr<nn;kr++){const Pr=Ut[kr];Wt=Zt[kr];for(let Xr=0,Zr=Pr.length;Xr<Zr;Xr++){const zr=Kt(Pr[Xr],Wt[Xr],Br);wr(zr.x,zr.y,-Ar)}}}const sr=St+At;for(let ur=0;ur<qt;ur++){const xr=pt?Kt(Ot[ur],nr[ur],sr):Ot[ur];Rt?(Lt.copy(Bt.normals[0]).multiplyScalar(xr.x),Ft.copy(Bt.binormals[0]).multiplyScalar(xr.y),wt.copy(Et[0]).add(Lt).add(Ft),wr(wt.x,wt.y,wt.z)):wr(xr.x,xr.y,0)}for(let ur=1;ur<=dt;ur++)for(let xr=0;xr<qt;xr++){const Ar=pt?Kt(Ot[xr],nr[xr],sr):Ot[xr];Rt?(Lt.copy(Bt.normals[ur]).multiplyScalar(Ar.x),Ft.copy(Bt.binormals[ur]).multiplyScalar(Ar.y),wt.copy(Et[ur]).add(Lt).add(Ft),wr(wt.x,wt.y,wt.z)):wr(Ar.x,Ar.y,gt/dt*ur)}for(let ur=Tt-1;ur>=0;ur--){const xr=ur/Tt,Ar=vt*Math.cos(xr*Math.PI/2),Br=St*Math.sin(xr*Math.PI/2)+At;for(let kr=0,nn=jt.length;kr<nn;kr++){const Pr=Kt(jt[kr],Vt[kr],Br);wr(Pr.x,Pr.y,gt+Ar)}for(let kr=0,nn=Ut.length;kr<nn;kr++){const Pr=Ut[kr];Wt=Zt[kr];for(let Xr=0,Zr=Pr.length;Xr<Zr;Xr++){const zr=Kt(Pr[Xr],Wt[Xr],Br);Rt?wr(zr.x,zr.y+Et[dt-1].y,Et[dt-1].x+Ar):wr(zr.x,zr.y,gt+Ar)}}}lr(),dr();function lr(){const ur=nt.length/3;if(pt){let xr=0,Ar=qt*xr;for(let Br=0;Br<er;Br++){const kr=tr[Br];pr(kr[2]+Ar,kr[1]+Ar,kr[0]+Ar)}xr=dt+Tt*2,Ar=qt*xr;for(let Br=0;Br<er;Br++){const kr=tr[Br];pr(kr[0]+Ar,kr[1]+Ar,kr[2]+Ar)}}else{for(let xr=0;xr<er;xr++){const Ar=tr[xr];pr(Ar[2],Ar[1],Ar[0])}for(let xr=0;xr<er;xr++){const Ar=tr[xr];pr(Ar[0]+qt*dt,Ar[1]+qt*dt,Ar[2]+qt*dt)}}rt.addGroup(ur,nt.length/3-ur,0)}function dr(){const ur=nt.length/3;let xr=0;hr(jt,xr),xr+=jt.length;for(let Ar=0,Br=Ut.length;Ar<Br;Ar++){const kr=Ut[Ar];hr(kr,xr),xr+=kr.length}rt.addGroup(ur,nt.length/3-ur,1)}function hr(ur,xr){let Ar=ur.length;for(;--Ar>=0;){const Br=Ar;let kr=Ar-1;kr<0&&(kr=ur.length-1);for(let nn=0,Pr=dt+Tt*2;nn<Pr;nn++){const Xr=qt*nn,Zr=qt*(nn+1),zr=xr+Br+Xr,cr=xr+kr+Xr,ar=xr+kr+Zr,Tr=xr+Br+Zr;_r(zr,cr,ar,Tr)}}}function wr(ur,xr,Ar){lt.push(ur),lt.push(xr),lt.push(Ar)}function pr(ur,xr,Ar){mr(ur),mr(xr),mr(Ar);const Br=nt.length/3,kr=Mt.generateTopUV(rt,nt,Br-3,Br-2,Br-1);Er(kr[0]),Er(kr[1]),Er(kr[2])}function _r(ur,xr,Ar,Br){mr(ur),mr(xr),mr(Br),mr(xr),mr(Ar),mr(Br);const kr=nt.length/3,nn=Mt.generateSideWallUV(rt,nt,kr-6,kr-3,kr-2,kr-1);Er(nn[0]),Er(nn[1]),Er(nn[3]),Er(nn[1]),Er(nn[2]),Er(nn[3])}function mr(ur){nt.push(lt[ur*3+0]),nt.push(lt[ur*3+1]),nt.push(lt[ur*3+2])}function Er(ur){st.push(ur.x),st.push(ur.y)}}}toJSON(){const _e=super.toJSON(),tt=this.parameters.shapes,rt=this.parameters.options;return toJSON$1(tt,rt,_e)}static fromJSON(_e,tt){const rt=[];for(let st=0,ot=_e.shapes.length;st<ot;st++){const at=tt[_e.shapes[st]];rt.push(at)}const nt=_e.options.extrudePath;return nt!==void 0&&(_e.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(rt,_e.options)}}const WorldUVGenerator={generateTopUV:function(et,_e,tt,rt,nt){const st=_e[tt*3],ot=_e[tt*3+1],at=_e[rt*3],lt=_e[rt*3+1],ft=_e[nt*3],dt=_e[nt*3+1];return[new Vector2(st,ot),new Vector2(at,lt),new Vector2(ft,dt)]},generateSideWallUV:function(et,_e,tt,rt,nt,st){const ot=_e[tt*3],at=_e[tt*3+1],lt=_e[tt*3+2],ft=_e[rt*3],dt=_e[rt*3+1],gt=_e[rt*3+2],pt=_e[nt*3],vt=_e[nt*3+1],St=_e[nt*3+2],At=_e[st*3],Tt=_e[st*3+1],Ct=_e[st*3+2];return Math.abs(at-dt)<Math.abs(ot-ft)?[new Vector2(ot,1-lt),new Vector2(ft,1-gt),new Vector2(pt,1-St),new Vector2(At,1-Ct)]:[new Vector2(at,1-lt),new Vector2(dt,1-gt),new Vector2(vt,1-St),new Vector2(Tt,1-Ct)]}};function toJSON$1(et,_e,tt){if(tt.shapes=[],Array.isArray(et))for(let rt=0,nt=et.length;rt<nt;rt++){const st=et[rt];tt.shapes.push(st.uuid)}else tt.shapes.push(et.uuid);return tt.options=Object.assign({},_e),_e.extrudePath!==void 0&&(tt.options.extrudePath=_e.extrudePath.toJSON()),tt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const rt=(1+Math.sqrt(5))/2,nt=[-1,rt,0,1,rt,0,-1,-rt,0,1,-rt,0,0,-1,rt,0,1,rt,0,-1,-rt,0,1,-rt,rt,0,-1,rt,0,1,-rt,0,-1,-rt,0,1],st=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(nt,st,_e,tt),this.type="IcosahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new IcosahedronGeometry(_e.radius,_e.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const rt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(rt,nt,_e,tt),this.type="OctahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new OctahedronGeometry(_e.radius,_e.detail)}}class RingGeometry extends BufferGeometry{constructor(_e=.5,tt=1,rt=32,nt=1,st=0,ot=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:_e,outerRadius:tt,thetaSegments:rt,phiSegments:nt,thetaStart:st,thetaLength:ot},rt=Math.max(3,rt),nt=Math.max(1,nt);const at=[],lt=[],ft=[],dt=[];let gt=_e;const pt=(tt-_e)/nt,vt=new Vector3,St=new Vector2;for(let At=0;At<=nt;At++){for(let Tt=0;Tt<=rt;Tt++){const Ct=st+Tt/rt*ot;vt.x=gt*Math.cos(Ct),vt.y=gt*Math.sin(Ct),lt.push(vt.x,vt.y,vt.z),ft.push(0,0,1),St.x=(vt.x/tt+1)/2,St.y=(vt.y/tt+1)/2,dt.push(St.x,St.y)}gt+=pt}for(let At=0;At<nt;At++){const Tt=At*(rt+1);for(let Ct=0;Ct<rt;Ct++){const Mt=Ct+Tt,Et=Mt,Rt=Mt+rt+1,Bt=Mt+rt+2,Ft=Mt+1;at.push(Et,Rt,Ft),at.push(Rt,Bt,Ft)}}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2))}static fromJSON(_e){return new RingGeometry(_e.innerRadius,_e.outerRadius,_e.thetaSegments,_e.phiSegments,_e.thetaStart,_e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(_e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:_e,curveSegments:tt};const rt=[],nt=[],st=[],ot=[];let at=0,lt=0;if(Array.isArray(_e)===!1)ft(_e);else for(let dt=0;dt<_e.length;dt++)ft(_e[dt]),this.addGroup(at,lt,dt),at+=lt,lt=0;this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2));function ft(dt){const gt=nt.length/3,pt=dt.extractPoints(tt);let vt=pt.shape;const St=pt.holes;ShapeUtils.isClockWise(vt)===!1&&(vt=vt.reverse());for(let Tt=0,Ct=St.length;Tt<Ct;Tt++){const Mt=St[Tt];ShapeUtils.isClockWise(Mt)===!0&&(St[Tt]=Mt.reverse())}const At=ShapeUtils.triangulateShape(vt,St);for(let Tt=0,Ct=St.length;Tt<Ct;Tt++){const Mt=St[Tt];vt=vt.concat(Mt)}for(let Tt=0,Ct=vt.length;Tt<Ct;Tt++){const Mt=vt[Tt];nt.push(Mt.x,Mt.y,0),st.push(0,0,1),ot.push(Mt.x,Mt.y)}for(let Tt=0,Ct=At.length;Tt<Ct;Tt++){const Mt=At[Tt],Et=Mt[0]+gt,Rt=Mt[1]+gt,Bt=Mt[2]+gt;rt.push(Et,Rt,Bt),lt+=3}}}toJSON(){const _e=super.toJSON(),tt=this.parameters.shapes;return toJSON(tt,_e)}static fromJSON(_e,tt){const rt=[];for(let nt=0,st=_e.shapes.length;nt<st;nt++){const ot=tt[_e.shapes[nt]];rt.push(ot)}return new ShapeGeometry(rt,_e.curveSegments)}}function toJSON(et,_e){if(_e.shapes=[],Array.isArray(et))for(let tt=0,rt=et.length;tt<rt;tt++){const nt=et[tt];_e.shapes.push(nt.uuid)}else _e.shapes.push(et.uuid);return _e}class SphereGeometry extends BufferGeometry{constructor(_e=1,tt=32,rt=16,nt=0,st=Math.PI*2,ot=0,at=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:_e,widthSegments:tt,heightSegments:rt,phiStart:nt,phiLength:st,thetaStart:ot,thetaLength:at},tt=Math.max(3,Math.floor(tt)),rt=Math.max(2,Math.floor(rt));const lt=Math.min(ot+at,Math.PI);let ft=0;const dt=[],gt=new Vector3,pt=new Vector3,vt=[],St=[],At=[],Tt=[];for(let Ct=0;Ct<=rt;Ct++){const Mt=[],Et=Ct/rt;let Rt=0;Ct==0&&ot==0?Rt=.5/tt:Ct==rt&&lt==Math.PI&&(Rt=-.5/tt);for(let Bt=0;Bt<=tt;Bt++){const Ft=Bt/tt;gt.x=-_e*Math.cos(nt+Ft*st)*Math.sin(ot+Et*at),gt.y=_e*Math.cos(ot+Et*at),gt.z=_e*Math.sin(nt+Ft*st)*Math.sin(ot+Et*at),St.push(gt.x,gt.y,gt.z),pt.copy(gt).normalize(),At.push(pt.x,pt.y,pt.z),Tt.push(Ft+Rt,1-Et),Mt.push(ft++)}dt.push(Mt)}for(let Ct=0;Ct<rt;Ct++)for(let Mt=0;Mt<tt;Mt++){const Et=dt[Ct][Mt+1],Rt=dt[Ct][Mt],Bt=dt[Ct+1][Mt],Ft=dt[Ct+1][Mt+1];(Ct!==0||ot>0)&&vt.push(Et,Rt,Ft),(Ct!==rt-1||lt<Math.PI)&&vt.push(Rt,Bt,Ft)}this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("normal",new Float32BufferAttribute(At,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}static fromJSON(_e){return new SphereGeometry(_e.radius,_e.widthSegments,_e.heightSegments,_e.phiStart,_e.phiLength,_e.thetaStart,_e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(_e=1,tt=0){const rt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nt=[2,1,0,0,3,2,1,3,0,2,3,1];super(rt,nt,_e,tt),this.type="TetrahedronGeometry",this.parameters={radius:_e,detail:tt}}static fromJSON(_e){return new TetrahedronGeometry(_e.radius,_e.detail)}}class TorusGeometry extends BufferGeometry{constructor(_e=1,tt=.4,rt=12,nt=48,st=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:_e,tube:tt,radialSegments:rt,tubularSegments:nt,arc:st},rt=Math.floor(rt),nt=Math.floor(nt);const ot=[],at=[],lt=[],ft=[],dt=new Vector3,gt=new Vector3,pt=new Vector3;for(let vt=0;vt<=rt;vt++)for(let St=0;St<=nt;St++){const At=St/nt*st,Tt=vt/rt*Math.PI*2;gt.x=(_e+tt*Math.cos(Tt))*Math.cos(At),gt.y=(_e+tt*Math.cos(Tt))*Math.sin(At),gt.z=tt*Math.sin(Tt),at.push(gt.x,gt.y,gt.z),dt.x=_e*Math.cos(At),dt.y=_e*Math.sin(At),pt.subVectors(gt,dt).normalize(),lt.push(pt.x,pt.y,pt.z),ft.push(St/nt),ft.push(vt/rt)}for(let vt=1;vt<=rt;vt++)for(let St=1;St<=nt;St++){const At=(nt+1)*vt+St-1,Tt=(nt+1)*(vt-1)+St-1,Ct=(nt+1)*(vt-1)+St,Mt=(nt+1)*vt+St;ot.push(At,Tt,Mt),ot.push(Tt,Ct,Mt)}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2))}static fromJSON(_e){return new TorusGeometry(_e.radius,_e.tube,_e.radialSegments,_e.tubularSegments,_e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(_e=1,tt=.4,rt=64,nt=8,st=2,ot=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:_e,tube:tt,tubularSegments:rt,radialSegments:nt,p:st,q:ot},rt=Math.floor(rt),nt=Math.floor(nt);const at=[],lt=[],ft=[],dt=[],gt=new Vector3,pt=new Vector3,vt=new Vector3,St=new Vector3,At=new Vector3,Tt=new Vector3,Ct=new Vector3;for(let Et=0;Et<=rt;++Et){const Rt=Et/rt*st*Math.PI*2;Mt(Rt,st,ot,_e,vt),Mt(Rt+.01,st,ot,_e,St),Tt.subVectors(St,vt),Ct.addVectors(St,vt),At.crossVectors(Tt,Ct),Ct.crossVectors(At,Tt),At.normalize(),Ct.normalize();for(let Bt=0;Bt<=nt;++Bt){const Ft=Bt/nt*Math.PI*2,Lt=-tt*Math.cos(Ft),wt=tt*Math.sin(Ft);gt.x=vt.x+(Lt*Ct.x+wt*At.x),gt.y=vt.y+(Lt*Ct.y+wt*At.y),gt.z=vt.z+(Lt*Ct.z+wt*At.z),lt.push(gt.x,gt.y,gt.z),pt.subVectors(gt,vt).normalize(),ft.push(pt.x,pt.y,pt.z),dt.push(Et/rt),dt.push(Bt/nt)}}for(let Et=1;Et<=rt;Et++)for(let Rt=1;Rt<=nt;Rt++){const Bt=(nt+1)*(Et-1)+(Rt-1),Ft=(nt+1)*Et+(Rt-1),Lt=(nt+1)*Et+Rt,wt=(nt+1)*(Et-1)+Rt;at.push(Bt,Ft,wt),at.push(Ft,Lt,wt)}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function Mt(Et,Rt,Bt,Ft,Lt){const wt=Math.cos(Et),Dt=Math.sin(Et),Ot=Bt/Rt*Et,Ut=Math.cos(Ot);Lt.x=Ft*(2+Ut)*.5*wt,Lt.y=Ft*(2+Ut)*Dt*.5,Lt.z=Ft*Math.sin(Ot)*.5}}static fromJSON(_e){return new TorusKnotGeometry(_e.radius,_e.tube,_e.tubularSegments,_e.radialSegments,_e.p,_e.q)}}class TubeGeometry extends BufferGeometry{constructor(_e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),tt=64,rt=1,nt=8,st=!1){super(),this.type="TubeGeometry",this.parameters={path:_e,tubularSegments:tt,radius:rt,radialSegments:nt,closed:st};const ot=_e.computeFrenetFrames(tt,st);this.tangents=ot.tangents,this.normals=ot.normals,this.binormals=ot.binormals;const at=new Vector3,lt=new Vector3,ft=new Vector2;let dt=new Vector3;const gt=[],pt=[],vt=[],St=[];At(),this.setIndex(St),this.setAttribute("position",new Float32BufferAttribute(gt,3)),this.setAttribute("normal",new Float32BufferAttribute(pt,3)),this.setAttribute("uv",new Float32BufferAttribute(vt,2));function At(){for(let Et=0;Et<tt;Et++)Tt(Et);Tt(st===!1?tt:0),Mt(),Ct()}function Tt(Et){dt=_e.getPointAt(Et/tt,dt);const Rt=ot.normals[Et],Bt=ot.binormals[Et];for(let Ft=0;Ft<=nt;Ft++){const Lt=Ft/nt*Math.PI*2,wt=Math.sin(Lt),Dt=-Math.cos(Lt);lt.x=Dt*Rt.x+wt*Bt.x,lt.y=Dt*Rt.y+wt*Bt.y,lt.z=Dt*Rt.z+wt*Bt.z,lt.normalize(),pt.push(lt.x,lt.y,lt.z),at.x=dt.x+rt*lt.x,at.y=dt.y+rt*lt.y,at.z=dt.z+rt*lt.z,gt.push(at.x,at.y,at.z)}}function Ct(){for(let Et=1;Et<=tt;Et++)for(let Rt=1;Rt<=nt;Rt++){const Bt=(nt+1)*(Et-1)+(Rt-1),Ft=(nt+1)*Et+(Rt-1),Lt=(nt+1)*Et+Rt,wt=(nt+1)*(Et-1)+Rt;St.push(Bt,Ft,wt),St.push(Ft,Lt,wt)}}function Mt(){for(let Et=0;Et<=tt;Et++)for(let Rt=0;Rt<=nt;Rt++)ft.x=Et/tt,ft.y=Rt/nt,vt.push(ft.x,ft.y)}}toJSON(){const _e=super.toJSON();return _e.path=this.parameters.path.toJSON(),_e}static fromJSON(_e){return new TubeGeometry(new Curves[_e.path.type]().fromJSON(_e.path),_e.tubularSegments,_e.radius,_e.radialSegments,_e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(_e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:_e},_e!==null){const tt=[],rt=new Set,nt=new Vector3,st=new Vector3;if(_e.index!==null){const ot=_e.attributes.position,at=_e.index;let lt=_e.groups;lt.length===0&&(lt=[{start:0,count:at.count,materialIndex:0}]);for(let ft=0,dt=lt.length;ft<dt;++ft){const gt=lt[ft],pt=gt.start,vt=gt.count;for(let St=pt,At=pt+vt;St<At;St+=3)for(let Tt=0;Tt<3;Tt++){const Ct=at.getX(St+Tt),Mt=at.getX(St+(Tt+1)%3);nt.fromBufferAttribute(ot,Ct),st.fromBufferAttribute(ot,Mt),isUniqueEdge(nt,st,rt)===!0&&(tt.push(nt.x,nt.y,nt.z),tt.push(st.x,st.y,st.z))}}}else{const ot=_e.attributes.position;for(let at=0,lt=ot.count/3;at<lt;at++)for(let ft=0;ft<3;ft++){const dt=3*at+ft,gt=3*at+(ft+1)%3;nt.fromBufferAttribute(ot,dt),st.fromBufferAttribute(ot,gt),isUniqueEdge(nt,st,rt)===!0&&(tt.push(nt.x,nt.y,nt.z),tt.push(st.x,st.y,st.z))}}this.setAttribute("position",new Float32BufferAttribute(tt,3))}}}function isUniqueEdge(et,_e,tt){const rt=`${et.x},${et.y},${et.z}-${_e.x},${_e.y},${_e.z}`,nt=`${_e.x},${_e.y},${_e.z}-${et.x},${et.y},${et.z}`;return tt.has(rt)===!0||tt.has(nt)===!0?!1:(tt.add(rt),tt.add(nt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(_e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.fog=_e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(_e){super(_e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(_e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.defines={STANDARD:""},this.color.copy(_e.color),this.roughness=_e.roughness,this.metalness=_e.metalness,this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.roughnessMap=_e.roughnessMap,this.metalnessMap=_e.metalnessMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.envMapIntensity=_e.envMapIntensity,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(_e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(tt){this.ior=(1+.4*tt)/(1-.4*tt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(_e)}get sheen(){return this._sheen}set sheen(_e){this._sheen>0!=_e>0&&this.version++,this._sheen=_e}get clearcoat(){return this._clearcoat}set clearcoat(_e){this._clearcoat>0!=_e>0&&this.version++,this._clearcoat=_e}get iridescence(){return this._iridescence}set iridescence(_e){this._iridescence>0!=_e>0&&this.version++,this._iridescence=_e}get transmission(){return this._transmission}set transmission(_e){this._transmission>0!=_e>0&&this.version++,this._transmission=_e}copy(_e){return super.copy(_e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=_e.clearcoat,this.clearcoatMap=_e.clearcoatMap,this.clearcoatRoughness=_e.clearcoatRoughness,this.clearcoatRoughnessMap=_e.clearcoatRoughnessMap,this.clearcoatNormalMap=_e.clearcoatNormalMap,this.clearcoatNormalScale.copy(_e.clearcoatNormalScale),this.ior=_e.ior,this.iridescence=_e.iridescence,this.iridescenceMap=_e.iridescenceMap,this.iridescenceIOR=_e.iridescenceIOR,this.iridescenceThicknessRange=[..._e.iridescenceThicknessRange],this.iridescenceThicknessMap=_e.iridescenceThicknessMap,this.sheen=_e.sheen,this.sheenColor.copy(_e.sheenColor),this.sheenColorMap=_e.sheenColorMap,this.sheenRoughness=_e.sheenRoughness,this.sheenRoughnessMap=_e.sheenRoughnessMap,this.transmission=_e.transmission,this.transmissionMap=_e.transmissionMap,this.thickness=_e.thickness,this.thicknessMap=_e.thicknessMap,this.attenuationDistance=_e.attenuationDistance,this.attenuationColor.copy(_e.attenuationColor),this.specularIntensity=_e.specularIntensity,this.specularIntensityMap=_e.specularIntensityMap,this.specularColor.copy(_e.specularColor),this.specularColorMap=_e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(_e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.specular.copy(_e.specular),this.shininess=_e.shininess,this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshToonMaterial extends Material{constructor(_e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.gradientMap=_e.gradientMap,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.alphaMap=_e.alphaMap,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.fog=_e.fog,this}}class MeshNormalMaterial extends Material{constructor(_e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(_e)}copy(_e){return super.copy(_e),this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.flatShading=_e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(_e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshMatcapMaterial extends Material{constructor(_e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.defines={MATCAP:""},this.color.copy(_e.color),this.matcap=_e.matcap,this.map=_e.map,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.alphaMap=_e.alphaMap,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(_e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(_e)}copy(_e){return super.copy(_e),this.scale=_e.scale,this.dashSize=_e.dashSize,this.gapSize=_e.gapSize,this}}function arraySlice(et,_e,tt){return isTypedArray(et)?new et.constructor(et.subarray(_e,tt!==void 0?tt:et.length)):et.slice(_e,tt)}function convertArray(et,_e,tt){return!et||!tt&&et.constructor===_e?et:typeof _e.BYTES_PER_ELEMENT=="number"?new _e(et):Array.prototype.slice.call(et)}function isTypedArray(et){return ArrayBuffer.isView(et)&&!(et instanceof DataView)}function getKeyframeOrder(et){function _e(nt,st){return et[nt]-et[st]}const tt=et.length,rt=new Array(tt);for(let nt=0;nt!==tt;++nt)rt[nt]=nt;return rt.sort(_e),rt}function sortedArray(et,_e,tt){const rt=et.length,nt=new et.constructor(rt);for(let st=0,ot=0;ot!==rt;++st){const at=tt[st]*_e;for(let lt=0;lt!==_e;++lt)nt[ot++]=et[at+lt]}return nt}function flattenJSON(et,_e,tt,rt){let nt=1,st=et[0];for(;st!==void 0&&st[rt]===void 0;)st=et[nt++];if(st===void 0)return;let ot=st[rt];if(ot!==void 0)if(Array.isArray(ot))do ot=st[rt],ot!==void 0&&(_e.push(st.time),tt.push.apply(tt,ot)),st=et[nt++];while(st!==void 0);else if(ot.toArray!==void 0)do ot=st[rt],ot!==void 0&&(_e.push(st.time),ot.toArray(tt,tt.length)),st=et[nt++];while(st!==void 0);else do ot=st[rt],ot!==void 0&&(_e.push(st.time),tt.push(ot)),st=et[nt++];while(st!==void 0)}function subclip(et,_e,tt,rt,nt=30){const st=et.clone();st.name=_e;const ot=[];for(let lt=0;lt<st.tracks.length;++lt){const ft=st.tracks[lt],dt=ft.getValueSize(),gt=[],pt=[];for(let vt=0;vt<ft.times.length;++vt){const St=ft.times[vt]*nt;if(!(St<tt||St>=rt)){gt.push(ft.times[vt]);for(let At=0;At<dt;++At)pt.push(ft.values[vt*dt+At])}}gt.length!==0&&(ft.times=convertArray(gt,ft.times.constructor),ft.values=convertArray(pt,ft.values.constructor),ot.push(ft))}st.tracks=ot;let at=1/0;for(let lt=0;lt<st.tracks.length;++lt)at>st.tracks[lt].times[0]&&(at=st.tracks[lt].times[0]);for(let lt=0;lt<st.tracks.length;++lt)st.tracks[lt].shift(-1*at);return st.resetDuration(),st}function makeClipAdditive(et,_e=0,tt=et,rt=30){rt<=0&&(rt=30);const nt=tt.tracks.length,st=_e/rt;for(let ot=0;ot<nt;++ot){const at=tt.tracks[ot],lt=at.ValueTypeName;if(lt==="bool"||lt==="string")continue;const ft=et.tracks.find(function(Ct){return Ct.name===at.name&&Ct.ValueTypeName===lt});if(ft===void 0)continue;let dt=0;const gt=at.getValueSize();at.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(dt=gt/3);let pt=0;const vt=ft.getValueSize();ft.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(pt=vt/3);const St=at.times.length-1;let At;if(st<=at.times[0]){const Ct=dt,Mt=gt-dt;At=arraySlice(at.values,Ct,Mt)}else if(st>=at.times[St]){const Ct=St*gt+dt,Mt=Ct+gt-dt;At=arraySlice(at.values,Ct,Mt)}else{const Ct=at.createInterpolant(),Mt=dt,Et=gt-dt;Ct.evaluate(st),At=arraySlice(Ct.resultBuffer,Mt,Et)}lt==="quaternion"&&new Quaternion().fromArray(At).normalize().conjugate().toArray(At);const Tt=ft.times.length;for(let Ct=0;Ct<Tt;++Ct){const Mt=Ct*vt+pt;if(lt==="quaternion")Quaternion.multiplyQuaternionsFlat(ft.values,Mt,At,0,ft.values,Mt);else{const Et=vt-pt*2;for(let Rt=0;Rt<Et;++Rt)ft.values[Mt+Rt]-=At[Rt]}}}return et.blendMode=AdditiveAnimationBlendMode,et}var AnimationUtils=Object.freeze({__proto__:null,arraySlice,convertArray,flattenJSON,getKeyframeOrder,isTypedArray,makeClipAdditive,sortedArray,subclip});class Interpolant{constructor(_e,tt,rt,nt){this.parameterPositions=_e,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new tt.constructor(rt),this.sampleValues=tt,this.valueSize=rt,this.settings=null,this.DefaultSettings_={}}evaluate(_e){const tt=this.parameterPositions;let rt=this._cachedIndex,nt=tt[rt],st=tt[rt-1];e:{t:{let ot;r:{n:if(!(_e<nt)){for(let at=rt+2;;){if(nt===void 0){if(_e<st)break n;return rt=tt.length,this._cachedIndex=rt,this.copySampleValue_(rt-1)}if(rt===at)break;if(st=nt,nt=tt[++rt],_e<nt)break t}ot=tt.length;break r}if(!(_e>=st)){const at=tt[1];_e<at&&(rt=2,st=at);for(let lt=rt-2;;){if(st===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(rt===lt)break;if(nt=st,st=tt[--rt-1],_e>=st)break t}ot=rt,rt=0;break r}break e}for(;rt<ot;){const at=rt+ot>>>1;_e<tt[at]?ot=at:rt=at+1}if(nt=tt[rt],st=tt[rt-1],st===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===void 0)return rt=tt.length,this._cachedIndex=rt,this.copySampleValue_(rt-1)}this._cachedIndex=rt,this.intervalChanged_(rt,st,nt)}return this.interpolate_(rt,st,_e,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(_e){const tt=this.resultBuffer,rt=this.sampleValues,nt=this.valueSize,st=_e*nt;for(let ot=0;ot!==nt;++ot)tt[ot]=rt[st+ot];return tt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(_e,tt,rt,nt){super(_e,tt,rt,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(_e,tt,rt){const nt=this.parameterPositions;let st=_e-2,ot=_e+1,at=nt[st],lt=nt[ot];if(at===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:st=_e,at=2*tt-rt;break;case WrapAroundEnding:st=nt.length-2,at=tt+nt[st]-nt[st+1];break;default:st=_e,at=rt}if(lt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:ot=_e,lt=2*rt-tt;break;case WrapAroundEnding:ot=1,lt=rt+nt[1]-nt[0];break;default:ot=_e-1,lt=tt}const ft=(rt-tt)*.5,dt=this.valueSize;this._weightPrev=ft/(tt-at),this._weightNext=ft/(lt-rt),this._offsetPrev=st*dt,this._offsetNext=ot*dt}interpolate_(_e,tt,rt,nt){const st=this.resultBuffer,ot=this.sampleValues,at=this.valueSize,lt=_e*at,ft=lt-at,dt=this._offsetPrev,gt=this._offsetNext,pt=this._weightPrev,vt=this._weightNext,St=(rt-tt)/(nt-tt),At=St*St,Tt=At*St,Ct=-pt*Tt+2*pt*At-pt*St,Mt=(1+pt)*Tt+(-1.5-2*pt)*At+(-.5+pt)*St+1,Et=(-1-vt)*Tt+(1.5+vt)*At+.5*St,Rt=vt*Tt-vt*At;for(let Bt=0;Bt!==at;++Bt)st[Bt]=Ct*ot[dt+Bt]+Mt*ot[ft+Bt]+Et*ot[lt+Bt]+Rt*ot[gt+Bt];return st}}class LinearInterpolant extends Interpolant{constructor(_e,tt,rt,nt){super(_e,tt,rt,nt)}interpolate_(_e,tt,rt,nt){const st=this.resultBuffer,ot=this.sampleValues,at=this.valueSize,lt=_e*at,ft=lt-at,dt=(rt-tt)/(nt-tt),gt=1-dt;for(let pt=0;pt!==at;++pt)st[pt]=ot[ft+pt]*gt+ot[lt+pt]*dt;return st}}class DiscreteInterpolant extends Interpolant{constructor(_e,tt,rt,nt){super(_e,tt,rt,nt)}interpolate_(_e){return this.copySampleValue_(_e-1)}}class KeyframeTrack{constructor(_e,tt,rt,nt){if(_e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(tt===void 0||tt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+_e);this.name=_e,this.times=convertArray(tt,this.TimeBufferType),this.values=convertArray(rt,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON(_e){const tt=_e.constructor;let rt;if(tt.toJSON!==this.toJSON)rt=tt.toJSON(_e);else{rt={name:_e.name,times:convertArray(_e.times,Array),values:convertArray(_e.values,Array)};const nt=_e.getInterpolation();nt!==_e.DefaultInterpolation&&(rt.interpolation=nt)}return rt.type=_e.ValueTypeName,rt}InterpolantFactoryMethodDiscrete(_e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),_e)}InterpolantFactoryMethodLinear(_e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),_e)}InterpolantFactoryMethodSmooth(_e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),_e)}setInterpolation(_e){let tt;switch(_e){case InterpolateDiscrete:tt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:tt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:tt=this.InterpolantFactoryMethodSmooth;break}if(tt===void 0){const rt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(_e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(rt);return console.warn("THREE.KeyframeTrack:",rt),this}return this.createInterpolant=tt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(_e){if(_e!==0){const tt=this.times;for(let rt=0,nt=tt.length;rt!==nt;++rt)tt[rt]+=_e}return this}scale(_e){if(_e!==1){const tt=this.times;for(let rt=0,nt=tt.length;rt!==nt;++rt)tt[rt]*=_e}return this}trim(_e,tt){const rt=this.times,nt=rt.length;let st=0,ot=nt-1;for(;st!==nt&&rt[st]<_e;)++st;for(;ot!==-1&&rt[ot]>tt;)--ot;if(++ot,st!==0||ot!==nt){st>=ot&&(ot=Math.max(ot,1),st=ot-1);const at=this.getValueSize();this.times=arraySlice(rt,st,ot),this.values=arraySlice(this.values,st*at,ot*at)}return this}validate(){let _e=!0;const tt=this.getValueSize();tt-Math.floor(tt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),_e=!1);const rt=this.times,nt=this.values,st=rt.length;st===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),_e=!1);let ot=null;for(let at=0;at!==st;at++){const lt=rt[at];if(typeof lt=="number"&&isNaN(lt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,at,lt),_e=!1;break}if(ot!==null&&ot>lt){console.error("THREE.KeyframeTrack: Out of order keys.",this,at,lt,ot),_e=!1;break}ot=lt}if(nt!==void 0&&isTypedArray(nt))for(let at=0,lt=nt.length;at!==lt;++at){const ft=nt[at];if(isNaN(ft)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,at,ft),_e=!1;break}}return _e}optimize(){const _e=arraySlice(this.times),tt=arraySlice(this.values),rt=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,st=_e.length-1;let ot=1;for(let at=1;at<st;++at){let lt=!1;const ft=_e[at],dt=_e[at+1];if(ft!==dt&&(at!==1||ft!==_e[0]))if(nt)lt=!0;else{const gt=at*rt,pt=gt-rt,vt=gt+rt;for(let St=0;St!==rt;++St){const At=tt[gt+St];if(At!==tt[pt+St]||At!==tt[vt+St]){lt=!0;break}}}if(lt){if(at!==ot){_e[ot]=_e[at];const gt=at*rt,pt=ot*rt;for(let vt=0;vt!==rt;++vt)tt[pt+vt]=tt[gt+vt]}++ot}}if(st>0){_e[ot]=_e[st];for(let at=st*rt,lt=ot*rt,ft=0;ft!==rt;++ft)tt[lt+ft]=tt[at+ft];++ot}return ot!==_e.length?(this.times=arraySlice(_e,0,ot),this.values=arraySlice(tt,0,ot*rt)):(this.times=_e,this.values=tt),this}clone(){const _e=arraySlice(this.times,0),tt=arraySlice(this.values,0),rt=this.constructor,nt=new rt(this.name,_e,tt);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(_e,tt,rt,nt){super(_e,tt,rt,nt)}interpolate_(_e,tt,rt,nt){const st=this.resultBuffer,ot=this.sampleValues,at=this.valueSize,lt=(rt-tt)/(nt-tt);let ft=_e*at;for(let dt=ft+at;ft!==dt;ft+=4)Quaternion.slerpFlat(st,0,ot,ft-at,ot,ft,lt);return st}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(_e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),_e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(_e,tt=-1,rt,nt=NormalAnimationBlendMode){this.name=_e,this.tracks=rt,this.duration=tt,this.blendMode=nt,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(_e){const tt=[],rt=_e.tracks,nt=1/(_e.fps||1);for(let ot=0,at=rt.length;ot!==at;++ot)tt.push(parseKeyframeTrack(rt[ot]).scale(nt));const st=new this(_e.name,_e.duration,tt,_e.blendMode);return st.uuid=_e.uuid,st}static toJSON(_e){const tt=[],rt=_e.tracks,nt={name:_e.name,duration:_e.duration,tracks:tt,uuid:_e.uuid,blendMode:_e.blendMode};for(let st=0,ot=rt.length;st!==ot;++st)tt.push(KeyframeTrack.toJSON(rt[st]));return nt}static CreateFromMorphTargetSequence(_e,tt,rt,nt){const st=tt.length,ot=[];for(let at=0;at<st;at++){let lt=[],ft=[];lt.push((at+st-1)%st,at,(at+1)%st),ft.push(0,1,0);const dt=getKeyframeOrder(lt);lt=sortedArray(lt,1,dt),ft=sortedArray(ft,1,dt),!nt&&lt[0]===0&&(lt.push(st),ft.push(ft[0])),ot.push(new NumberKeyframeTrack(".morphTargetInfluences["+tt[at].name+"]",lt,ft).scale(1/rt))}return new this(_e,-1,ot)}static findByName(_e,tt){let rt=_e;if(!Array.isArray(_e)){const nt=_e;rt=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<rt.length;nt++)if(rt[nt].name===tt)return rt[nt];return null}static CreateClipsFromMorphTargetSequences(_e,tt,rt){const nt={},st=/^([\w-]*?)([\d]+)$/;for(let at=0,lt=_e.length;at<lt;at++){const ft=_e[at],dt=ft.name.match(st);if(dt&&dt.length>1){const gt=dt[1];let pt=nt[gt];pt||(nt[gt]=pt=[]),pt.push(ft)}}const ot=[];for(const at in nt)ot.push(this.CreateFromMorphTargetSequence(at,nt[at],tt,rt));return ot}static parseAnimation(_e,tt){if(!_e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const rt=function(gt,pt,vt,St,At){if(vt.length!==0){const Tt=[],Ct=[];flattenJSON(vt,Tt,Ct,St),Tt.length!==0&&At.push(new gt(pt,Tt,Ct))}},nt=[],st=_e.name||"default",ot=_e.fps||30,at=_e.blendMode;let lt=_e.length||-1;const ft=_e.hierarchy||[];for(let gt=0;gt<ft.length;gt++){const pt=ft[gt].keys;if(!(!pt||pt.length===0))if(pt[0].morphTargets){const vt={};let St;for(St=0;St<pt.length;St++)if(pt[St].morphTargets)for(let At=0;At<pt[St].morphTargets.length;At++)vt[pt[St].morphTargets[At]]=-1;for(const At in vt){const Tt=[],Ct=[];for(let Mt=0;Mt!==pt[St].morphTargets.length;++Mt){const Et=pt[St];Tt.push(Et.time),Ct.push(Et.morphTarget===At?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+At+"]",Tt,Ct))}lt=vt.length*ot}else{const vt=".bones["+tt[gt].name+"]";rt(VectorKeyframeTrack,vt+".position",pt,"pos",nt),rt(QuaternionKeyframeTrack,vt+".quaternion",pt,"rot",nt),rt(VectorKeyframeTrack,vt+".scale",pt,"scl",nt)}}return nt.length===0?null:new this(st,lt,nt,at)}resetDuration(){const _e=this.tracks;let tt=0;for(let rt=0,nt=_e.length;rt!==nt;++rt){const st=this.tracks[rt];tt=Math.max(tt,st.times[st.times.length-1])}return this.duration=tt,this}trim(){for(let _e=0;_e<this.tracks.length;_e++)this.tracks[_e].trim(0,this.duration);return this}validate(){let _e=!0;for(let tt=0;tt<this.tracks.length;tt++)_e=_e&&this.tracks[tt].validate();return _e}optimize(){for(let _e=0;_e<this.tracks.length;_e++)this.tracks[_e].optimize();return this}clone(){const _e=[];for(let tt=0;tt<this.tracks.length;tt++)_e.push(this.tracks[tt].clone());return new this.constructor(this.name,this.duration,_e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(et){switch(et.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+et)}function parseKeyframeTrack(et){if(et.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const _e=getTrackTypeForValueTypeName(et.type);if(et.times===void 0){const tt=[],rt=[];flattenJSON(et.keys,tt,rt,"value"),et.times=tt,et.values=rt}return _e.parse!==void 0?_e.parse(et):new _e(et.name,et.times,et.values,et.interpolation)}const Cache={enabled:!1,files:{},add:function(et,_e){this.enabled!==!1&&(this.files[et]=_e)},get:function(et){if(this.enabled!==!1)return this.files[et]},remove:function(et){delete this.files[et]},clear:function(){this.files={}}};class LoadingManager{constructor(_e,tt,rt){const nt=this;let st=!1,ot=0,at=0,lt;const ft=[];this.onStart=void 0,this.onLoad=_e,this.onProgress=tt,this.onError=rt,this.itemStart=function(dt){at++,st===!1&&nt.onStart!==void 0&&nt.onStart(dt,ot,at),st=!0},this.itemEnd=function(dt){ot++,nt.onProgress!==void 0&&nt.onProgress(dt,ot,at),ot===at&&(st=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(dt){nt.onError!==void 0&&nt.onError(dt)},this.resolveURL=function(dt){return lt?lt(dt):dt},this.setURLModifier=function(dt){return lt=dt,this},this.addHandler=function(dt,gt){return ft.push(dt,gt),this},this.removeHandler=function(dt){const gt=ft.indexOf(dt);return gt!==-1&&ft.splice(gt,2),this},this.getHandler=function(dt){for(let gt=0,pt=ft.length;gt<pt;gt+=2){const vt=ft[gt],St=ft[gt+1];if(vt.global&&(vt.lastIndex=0),vt.test(dt))return St}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(_e){this.manager=_e!==void 0?_e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(_e,tt){const rt=this;return new Promise(function(nt,st){rt.load(_e,nt,tt,st)})}parse(){}setCrossOrigin(_e){return this.crossOrigin=_e,this}setWithCredentials(_e){return this.withCredentials=_e,this}setPath(_e){return this.path=_e,this}setResourcePath(_e){return this.resourcePath=_e,this}setRequestHeader(_e){return this.requestHeader=_e,this}}const loading={};class HttpError extends Error{constructor(_e,tt){super(_e),this.response=tt}}class FileLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){_e===void 0&&(_e=""),this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const st=Cache.get(_e);if(st!==void 0)return this.manager.itemStart(_e),setTimeout(()=>{tt&&tt(st),this.manager.itemEnd(_e)},0),st;if(loading[_e]!==void 0){loading[_e].push({onLoad:tt,onProgress:rt,onError:nt});return}loading[_e]=[],loading[_e].push({onLoad:tt,onProgress:rt,onError:nt});const ot=new Request(_e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),at=this.mimeType,lt=this.responseType;fetch(ot).then(ft=>{if(ft.status===200||ft.status===0){if(ft.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||ft.body===void 0||ft.body.getReader===void 0)return ft;const dt=loading[_e],gt=ft.body.getReader(),pt=ft.headers.get("Content-Length")||ft.headers.get("X-File-Size"),vt=pt?parseInt(pt):0,St=vt!==0;let At=0;const Tt=new ReadableStream({start(Ct){Mt();function Mt(){gt.read().then(({done:Et,value:Rt})=>{if(Et)Ct.close();else{At+=Rt.byteLength;const Bt=new ProgressEvent("progress",{lengthComputable:St,loaded:At,total:vt});for(let Ft=0,Lt=dt.length;Ft<Lt;Ft++){const wt=dt[Ft];wt.onProgress&&wt.onProgress(Bt)}Ct.enqueue(Rt),Mt()}})}}});return new Response(Tt)}else throw new HttpError(`fetch for "${ft.url}" responded with ${ft.status}: ${ft.statusText}`,ft)}).then(ft=>{switch(lt){case"arraybuffer":return ft.arrayBuffer();case"blob":return ft.blob();case"document":return ft.text().then(dt=>new DOMParser().parseFromString(dt,at));case"json":return ft.json();default:if(at===void 0)return ft.text();{const gt=/charset="?([^;"\s]*)"?/i.exec(at),pt=gt&&gt[1]?gt[1].toLowerCase():void 0,vt=new TextDecoder(pt);return ft.arrayBuffer().then(St=>vt.decode(St))}}}).then(ft=>{Cache.add(_e,ft);const dt=loading[_e];delete loading[_e];for(let gt=0,pt=dt.length;gt<pt;gt++){const vt=dt[gt];vt.onLoad&&vt.onLoad(ft)}}).catch(ft=>{const dt=loading[_e];if(dt===void 0)throw this.manager.itemError(_e),ft;delete loading[_e];for(let gt=0,pt=dt.length;gt<pt;gt++){const vt=dt[gt];vt.onError&&vt.onError(ft)}this.manager.itemError(_e)}).finally(()=>{this.manager.itemEnd(_e)}),this.manager.itemStart(_e)}setResponseType(_e){return this.responseType=_e,this}setMimeType(_e){return this.mimeType=_e,this}}class AnimationLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=this,ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load(_e,function(at){try{tt(st.parse(JSON.parse(at)))}catch(lt){nt?nt(lt):console.error(lt),st.manager.itemError(_e)}},rt,nt)}parse(_e){const tt=[];for(let rt=0;rt<_e.length;rt++){const nt=AnimationClip.parse(_e[rt]);tt.push(nt)}return tt}}class CompressedTextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=this,ot=[],at=new CompressedTexture,lt=new FileLoader(this.manager);lt.setPath(this.path),lt.setResponseType("arraybuffer"),lt.setRequestHeader(this.requestHeader),lt.setWithCredentials(st.withCredentials);let ft=0;function dt(gt){lt.load(_e[gt],function(pt){const vt=st.parse(pt,!0);ot[gt]={width:vt.width,height:vt.height,format:vt.format,mipmaps:vt.mipmaps},ft+=1,ft===6&&(vt.mipmapCount===1&&(at.minFilter=LinearFilter),at.image=ot,at.format=vt.format,at.needsUpdate=!0,tt&&tt(at))},rt,nt)}if(Array.isArray(_e))for(let gt=0,pt=_e.length;gt<pt;++gt)dt(gt);else lt.load(_e,function(gt){const pt=st.parse(gt,!0);if(pt.isCubemap){const vt=pt.mipmaps.length/pt.mipmapCount;for(let St=0;St<vt;St++){ot[St]={mipmaps:[]};for(let At=0;At<pt.mipmapCount;At++)ot[St].mipmaps.push(pt.mipmaps[St*pt.mipmapCount+At]),ot[St].format=pt.format,ot[St].width=pt.width,ot[St].height=pt.height}at.image=ot}else at.image.width=pt.width,at.image.height=pt.height,at.mipmaps=pt.mipmaps;pt.mipmapCount===1&&(at.minFilter=LinearFilter),at.format=pt.format,at.needsUpdate=!0,tt&&tt(at)},rt,nt);return at}}class ImageLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const st=this,ot=Cache.get(_e);if(ot!==void 0)return st.manager.itemStart(_e),setTimeout(function(){tt&&tt(ot),st.manager.itemEnd(_e)},0),ot;const at=createElementNS("img");function lt(){dt(),Cache.add(_e,this),tt&&tt(this),st.manager.itemEnd(_e)}function ft(gt){dt(),nt&&nt(gt),st.manager.itemError(_e),st.manager.itemEnd(_e)}function dt(){at.removeEventListener("load",lt,!1),at.removeEventListener("error",ft,!1)}return at.addEventListener("load",lt,!1),at.addEventListener("error",ft,!1),_e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(at.crossOrigin=this.crossOrigin),st.manager.itemStart(_e),at.src=_e,at}}class CubeTextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=new CubeTexture,ot=new ImageLoader(this.manager);ot.setCrossOrigin(this.crossOrigin),ot.setPath(this.path);let at=0;function lt(ft){ot.load(_e[ft],function(dt){st.images[ft]=dt,at++,at===6&&(st.needsUpdate=!0,tt&&tt(st))},void 0,nt)}for(let ft=0;ft<_e.length;++ft)lt(ft);return st}}class DataTextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=this,ot=new DataTexture,at=new FileLoader(this.manager);return at.setResponseType("arraybuffer"),at.setRequestHeader(this.requestHeader),at.setPath(this.path),at.setWithCredentials(st.withCredentials),at.load(_e,function(lt){const ft=st.parse(lt);ft&&(ft.image!==void 0?ot.image=ft.image:ft.data!==void 0&&(ot.image.width=ft.width,ot.image.height=ft.height,ot.image.data=ft.data),ot.wrapS=ft.wrapS!==void 0?ft.wrapS:ClampToEdgeWrapping,ot.wrapT=ft.wrapT!==void 0?ft.wrapT:ClampToEdgeWrapping,ot.magFilter=ft.magFilter!==void 0?ft.magFilter:LinearFilter,ot.minFilter=ft.minFilter!==void 0?ft.minFilter:LinearFilter,ot.anisotropy=ft.anisotropy!==void 0?ft.anisotropy:1,ft.encoding!==void 0&&(ot.encoding=ft.encoding),ft.flipY!==void 0&&(ot.flipY=ft.flipY),ft.format!==void 0&&(ot.format=ft.format),ft.type!==void 0&&(ot.type=ft.type),ft.mipmaps!==void 0&&(ot.mipmaps=ft.mipmaps,ot.minFilter=LinearMipmapLinearFilter),ft.mipmapCount===1&&(ot.minFilter=LinearFilter),ft.generateMipmaps!==void 0&&(ot.generateMipmaps=ft.generateMipmaps),ot.needsUpdate=!0,tt&&tt(ot,ft))},rt,nt),ot}}class TextureLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=new Texture,ot=new ImageLoader(this.manager);return ot.setCrossOrigin(this.crossOrigin),ot.setPath(this.path),ot.load(_e,function(at){st.image=at,st.needsUpdate=!0,tt!==void 0&&tt(st)},rt,nt),st}}class Light extends Object3D{constructor(_e,tt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(_e),this.intensity=tt}dispose(){}copy(_e,tt){return super.copy(_e,tt),this.color.copy(_e.color),this.intensity=_e.intensity,this}toJSON(_e){const tt=super.toJSON(_e);return tt.object.color=this.color.getHex(),tt.object.intensity=this.intensity,this.groundColor!==void 0&&(tt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(tt.object.distance=this.distance),this.angle!==void 0&&(tt.object.angle=this.angle),this.decay!==void 0&&(tt.object.decay=this.decay),this.penumbra!==void 0&&(tt.object.penumbra=this.penumbra),this.shadow!==void 0&&(tt.object.shadow=this.shadow.toJSON()),tt}}class HemisphereLight extends Light{constructor(_e,tt,rt){super(_e,rt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(tt)}copy(_e,tt){return super.copy(_e,tt),this.groundColor.copy(_e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(_e){this.camera=_e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(_e){const tt=this.camera,rt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(_e.matrixWorld),tt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(_e.target.matrixWorld),tt.lookAt(_lookTarget$1),tt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),rt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),rt.multiply(_projScreenMatrix$1)}getViewport(_e){return this._viewports[_e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(_e){return this.camera=_e.camera.clone(),this.bias=_e.bias,this.radius=_e.radius,this.mapSize.copy(_e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const _e={};return this.bias!==0&&(_e.bias=this.bias),this.normalBias!==0&&(_e.normalBias=this.normalBias),this.radius!==1&&(_e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(_e.mapSize=this.mapSize.toArray()),_e.camera=this.camera.toJSON(!1).object,delete _e.camera.matrix,_e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(_e){const tt=this.camera,rt=RAD2DEG*2*_e.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,st=_e.distance||tt.far;(rt!==tt.fov||nt!==tt.aspect||st!==tt.far)&&(tt.fov=rt,tt.aspect=nt,tt.far=st,tt.updateProjectionMatrix()),super.updateMatrices(_e)}copy(_e){return super.copy(_e),this.focus=_e.focus,this}}class SpotLight extends Light{constructor(_e,tt,rt=0,nt=Math.PI/3,st=0,ot=2){super(_e,tt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=rt,this.angle=nt,this.penumbra=st,this.decay=ot,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(_e){this.intensity=_e/Math.PI}dispose(){this.shadow.dispose()}copy(_e,tt){return super.copy(_e,tt),this.distance=_e.distance,this.angle=_e.angle,this.penumbra=_e.penumbra,this.decay=_e.decay,this.target=_e.target.clone(),this.shadow=_e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(_e,tt=0){const rt=this.camera,nt=this.matrix,st=_e.distance||rt.far;st!==rt.far&&(rt.far=st,rt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(_e.matrixWorld),rt.position.copy(_lightPositionWorld),_lookTarget.copy(rt.position),_lookTarget.add(this._cubeDirections[tt]),rt.up.copy(this._cubeUps[tt]),rt.lookAt(_lookTarget),rt.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(_e,tt,rt=0,nt=2){super(_e,tt),this.isPointLight=!0,this.type="PointLight",this.distance=rt,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(_e){this.intensity=_e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(_e,tt){return super.copy(_e,tt),this.distance=_e.distance,this.decay=_e.decay,this.shadow=_e.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(_e,tt){super(_e,tt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(_e){return super.copy(_e),this.target=_e.target.clone(),this.shadow=_e.shadow.clone(),this}}class AmbientLight extends Light{constructor(_e,tt){super(_e,tt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(_e,tt,rt=10,nt=10){super(_e,tt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=rt,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(_e){this.intensity=_e/(this.width*this.height*Math.PI)}copy(_e){return super.copy(_e),this.width=_e.width,this.height=_e.height,this}toJSON(_e){const tt=super.toJSON(_e);return tt.object.width=this.width,tt.object.height=this.height,tt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let _e=0;_e<9;_e++)this.coefficients.push(new Vector3)}set(_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].copy(_e[tt]);return this}zero(){for(let _e=0;_e<9;_e++)this.coefficients[_e].set(0,0,0);return this}getAt(_e,tt){const rt=_e.x,nt=_e.y,st=_e.z,ot=this.coefficients;return tt.copy(ot[0]).multiplyScalar(.282095),tt.addScaledVector(ot[1],.488603*nt),tt.addScaledVector(ot[2],.488603*st),tt.addScaledVector(ot[3],.488603*rt),tt.addScaledVector(ot[4],1.092548*(rt*nt)),tt.addScaledVector(ot[5],1.092548*(nt*st)),tt.addScaledVector(ot[6],.315392*(3*st*st-1)),tt.addScaledVector(ot[7],1.092548*(rt*st)),tt.addScaledVector(ot[8],.546274*(rt*rt-nt*nt)),tt}getIrradianceAt(_e,tt){const rt=_e.x,nt=_e.y,st=_e.z,ot=this.coefficients;return tt.copy(ot[0]).multiplyScalar(.886227),tt.addScaledVector(ot[1],2*.511664*nt),tt.addScaledVector(ot[2],2*.511664*st),tt.addScaledVector(ot[3],2*.511664*rt),tt.addScaledVector(ot[4],2*.429043*rt*nt),tt.addScaledVector(ot[5],2*.429043*nt*st),tt.addScaledVector(ot[6],.743125*st*st-.247708),tt.addScaledVector(ot[7],2*.429043*rt*st),tt.addScaledVector(ot[8],.429043*(rt*rt-nt*nt)),tt}add(_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].add(_e.coefficients[tt]);return this}addScaledSH(_e,tt){for(let rt=0;rt<9;rt++)this.coefficients[rt].addScaledVector(_e.coefficients[rt],tt);return this}scale(_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].multiplyScalar(_e);return this}lerp(_e,tt){for(let rt=0;rt<9;rt++)this.coefficients[rt].lerp(_e.coefficients[rt],tt);return this}equals(_e){for(let tt=0;tt<9;tt++)if(!this.coefficients[tt].equals(_e.coefficients[tt]))return!1;return!0}copy(_e){return this.set(_e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(_e,tt=0){const rt=this.coefficients;for(let nt=0;nt<9;nt++)rt[nt].fromArray(_e,tt+nt*3);return this}toArray(_e=[],tt=0){const rt=this.coefficients;for(let nt=0;nt<9;nt++)rt[nt].toArray(_e,tt+nt*3);return _e}static getBasisAt(_e,tt){const rt=_e.x,nt=_e.y,st=_e.z;tt[0]=.282095,tt[1]=.488603*nt,tt[2]=.488603*st,tt[3]=.488603*rt,tt[4]=1.092548*rt*nt,tt[5]=1.092548*nt*st,tt[6]=.315392*(3*st*st-1),tt[7]=1.092548*rt*st,tt[8]=.546274*(rt*rt-nt*nt)}}class LightProbe extends Light{constructor(_e=new SphericalHarmonics3,tt=1){super(void 0,tt),this.isLightProbe=!0,this.sh=_e}copy(_e){return super.copy(_e),this.sh.copy(_e.sh),this}fromJSON(_e){return this.intensity=_e.intensity,this.sh.fromArray(_e.sh),this}toJSON(_e){const tt=super.toJSON(_e);return tt.object.sh=this.sh.toArray(),tt}}class MaterialLoader extends Loader{constructor(_e){super(_e),this.textures={}}load(_e,tt,rt,nt){const st=this,ot=new FileLoader(st.manager);ot.setPath(st.path),ot.setRequestHeader(st.requestHeader),ot.setWithCredentials(st.withCredentials),ot.load(_e,function(at){try{tt(st.parse(JSON.parse(at)))}catch(lt){nt?nt(lt):console.error(lt),st.manager.itemError(_e)}},rt,nt)}parse(_e){const tt=this.textures;function rt(st){return tt[st]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",st),tt[st]}const nt=MaterialLoader.createMaterialFromType(_e.type);if(_e.uuid!==void 0&&(nt.uuid=_e.uuid),_e.name!==void 0&&(nt.name=_e.name),_e.color!==void 0&&nt.color!==void 0&&nt.color.setHex(_e.color),_e.roughness!==void 0&&(nt.roughness=_e.roughness),_e.metalness!==void 0&&(nt.metalness=_e.metalness),_e.sheen!==void 0&&(nt.sheen=_e.sheen),_e.sheenColor!==void 0&&(nt.sheenColor=new Color().setHex(_e.sheenColor)),_e.sheenRoughness!==void 0&&(nt.sheenRoughness=_e.sheenRoughness),_e.emissive!==void 0&&nt.emissive!==void 0&&nt.emissive.setHex(_e.emissive),_e.specular!==void 0&&nt.specular!==void 0&&nt.specular.setHex(_e.specular),_e.specularIntensity!==void 0&&(nt.specularIntensity=_e.specularIntensity),_e.specularColor!==void 0&&nt.specularColor!==void 0&&nt.specularColor.setHex(_e.specularColor),_e.shininess!==void 0&&(nt.shininess=_e.shininess),_e.clearcoat!==void 0&&(nt.clearcoat=_e.clearcoat),_e.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=_e.clearcoatRoughness),_e.iridescence!==void 0&&(nt.iridescence=_e.iridescence),_e.iridescenceIOR!==void 0&&(nt.iridescenceIOR=_e.iridescenceIOR),_e.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=_e.iridescenceThicknessRange),_e.transmission!==void 0&&(nt.transmission=_e.transmission),_e.thickness!==void 0&&(nt.thickness=_e.thickness),_e.attenuationDistance!==void 0&&(nt.attenuationDistance=_e.attenuationDistance),_e.attenuationColor!==void 0&&nt.attenuationColor!==void 0&&nt.attenuationColor.setHex(_e.attenuationColor),_e.fog!==void 0&&(nt.fog=_e.fog),_e.flatShading!==void 0&&(nt.flatShading=_e.flatShading),_e.blending!==void 0&&(nt.blending=_e.blending),_e.combine!==void 0&&(nt.combine=_e.combine),_e.side!==void 0&&(nt.side=_e.side),_e.shadowSide!==void 0&&(nt.shadowSide=_e.shadowSide),_e.opacity!==void 0&&(nt.opacity=_e.opacity),_e.transparent!==void 0&&(nt.transparent=_e.transparent),_e.alphaTest!==void 0&&(nt.alphaTest=_e.alphaTest),_e.depthTest!==void 0&&(nt.depthTest=_e.depthTest),_e.depthWrite!==void 0&&(nt.depthWrite=_e.depthWrite),_e.colorWrite!==void 0&&(nt.colorWrite=_e.colorWrite),_e.stencilWrite!==void 0&&(nt.stencilWrite=_e.stencilWrite),_e.stencilWriteMask!==void 0&&(nt.stencilWriteMask=_e.stencilWriteMask),_e.stencilFunc!==void 0&&(nt.stencilFunc=_e.stencilFunc),_e.stencilRef!==void 0&&(nt.stencilRef=_e.stencilRef),_e.stencilFuncMask!==void 0&&(nt.stencilFuncMask=_e.stencilFuncMask),_e.stencilFail!==void 0&&(nt.stencilFail=_e.stencilFail),_e.stencilZFail!==void 0&&(nt.stencilZFail=_e.stencilZFail),_e.stencilZPass!==void 0&&(nt.stencilZPass=_e.stencilZPass),_e.wireframe!==void 0&&(nt.wireframe=_e.wireframe),_e.wireframeLinewidth!==void 0&&(nt.wireframeLinewidth=_e.wireframeLinewidth),_e.wireframeLinecap!==void 0&&(nt.wireframeLinecap=_e.wireframeLinecap),_e.wireframeLinejoin!==void 0&&(nt.wireframeLinejoin=_e.wireframeLinejoin),_e.rotation!==void 0&&(nt.rotation=_e.rotation),_e.linewidth!==1&&(nt.linewidth=_e.linewidth),_e.dashSize!==void 0&&(nt.dashSize=_e.dashSize),_e.gapSize!==void 0&&(nt.gapSize=_e.gapSize),_e.scale!==void 0&&(nt.scale=_e.scale),_e.polygonOffset!==void 0&&(nt.polygonOffset=_e.polygonOffset),_e.polygonOffsetFactor!==void 0&&(nt.polygonOffsetFactor=_e.polygonOffsetFactor),_e.polygonOffsetUnits!==void 0&&(nt.polygonOffsetUnits=_e.polygonOffsetUnits),_e.dithering!==void 0&&(nt.dithering=_e.dithering),_e.alphaToCoverage!==void 0&&(nt.alphaToCoverage=_e.alphaToCoverage),_e.premultipliedAlpha!==void 0&&(nt.premultipliedAlpha=_e.premultipliedAlpha),_e.forceSinglePass!==void 0&&(nt.forceSinglePass=_e.forceSinglePass),_e.visible!==void 0&&(nt.visible=_e.visible),_e.toneMapped!==void 0&&(nt.toneMapped=_e.toneMapped),_e.userData!==void 0&&(nt.userData=_e.userData),_e.vertexColors!==void 0&&(typeof _e.vertexColors=="number"?nt.vertexColors=_e.vertexColors>0:nt.vertexColors=_e.vertexColors),_e.uniforms!==void 0)for(const st in _e.uniforms){const ot=_e.uniforms[st];switch(nt.uniforms[st]={},ot.type){case"t":nt.uniforms[st].value=rt(ot.value);break;case"c":nt.uniforms[st].value=new Color().setHex(ot.value);break;case"v2":nt.uniforms[st].value=new Vector2().fromArray(ot.value);break;case"v3":nt.uniforms[st].value=new Vector3().fromArray(ot.value);break;case"v4":nt.uniforms[st].value=new Vector4().fromArray(ot.value);break;case"m3":nt.uniforms[st].value=new Matrix3().fromArray(ot.value);break;case"m4":nt.uniforms[st].value=new Matrix4().fromArray(ot.value);break;default:nt.uniforms[st].value=ot.value}}if(_e.defines!==void 0&&(nt.defines=_e.defines),_e.vertexShader!==void 0&&(nt.vertexShader=_e.vertexShader),_e.fragmentShader!==void 0&&(nt.fragmentShader=_e.fragmentShader),_e.glslVersion!==void 0&&(nt.glslVersion=_e.glslVersion),_e.extensions!==void 0)for(const st in _e.extensions)nt.extensions[st]=_e.extensions[st];if(_e.size!==void 0&&(nt.size=_e.size),_e.sizeAttenuation!==void 0&&(nt.sizeAttenuation=_e.sizeAttenuation),_e.map!==void 0&&(nt.map=rt(_e.map)),_e.matcap!==void 0&&(nt.matcap=rt(_e.matcap)),_e.alphaMap!==void 0&&(nt.alphaMap=rt(_e.alphaMap)),_e.bumpMap!==void 0&&(nt.bumpMap=rt(_e.bumpMap)),_e.bumpScale!==void 0&&(nt.bumpScale=_e.bumpScale),_e.normalMap!==void 0&&(nt.normalMap=rt(_e.normalMap)),_e.normalMapType!==void 0&&(nt.normalMapType=_e.normalMapType),_e.normalScale!==void 0){let st=_e.normalScale;Array.isArray(st)===!1&&(st=[st,st]),nt.normalScale=new Vector2().fromArray(st)}return _e.displacementMap!==void 0&&(nt.displacementMap=rt(_e.displacementMap)),_e.displacementScale!==void 0&&(nt.displacementScale=_e.displacementScale),_e.displacementBias!==void 0&&(nt.displacementBias=_e.displacementBias),_e.roughnessMap!==void 0&&(nt.roughnessMap=rt(_e.roughnessMap)),_e.metalnessMap!==void 0&&(nt.metalnessMap=rt(_e.metalnessMap)),_e.emissiveMap!==void 0&&(nt.emissiveMap=rt(_e.emissiveMap)),_e.emissiveIntensity!==void 0&&(nt.emissiveIntensity=_e.emissiveIntensity),_e.specularMap!==void 0&&(nt.specularMap=rt(_e.specularMap)),_e.specularIntensityMap!==void 0&&(nt.specularIntensityMap=rt(_e.specularIntensityMap)),_e.specularColorMap!==void 0&&(nt.specularColorMap=rt(_e.specularColorMap)),_e.envMap!==void 0&&(nt.envMap=rt(_e.envMap)),_e.envMapIntensity!==void 0&&(nt.envMapIntensity=_e.envMapIntensity),_e.reflectivity!==void 0&&(nt.reflectivity=_e.reflectivity),_e.refractionRatio!==void 0&&(nt.refractionRatio=_e.refractionRatio),_e.lightMap!==void 0&&(nt.lightMap=rt(_e.lightMap)),_e.lightMapIntensity!==void 0&&(nt.lightMapIntensity=_e.lightMapIntensity),_e.aoMap!==void 0&&(nt.aoMap=rt(_e.aoMap)),_e.aoMapIntensity!==void 0&&(nt.aoMapIntensity=_e.aoMapIntensity),_e.gradientMap!==void 0&&(nt.gradientMap=rt(_e.gradientMap)),_e.clearcoatMap!==void 0&&(nt.clearcoatMap=rt(_e.clearcoatMap)),_e.clearcoatRoughnessMap!==void 0&&(nt.clearcoatRoughnessMap=rt(_e.clearcoatRoughnessMap)),_e.clearcoatNormalMap!==void 0&&(nt.clearcoatNormalMap=rt(_e.clearcoatNormalMap)),_e.clearcoatNormalScale!==void 0&&(nt.clearcoatNormalScale=new Vector2().fromArray(_e.clearcoatNormalScale)),_e.iridescenceMap!==void 0&&(nt.iridescenceMap=rt(_e.iridescenceMap)),_e.iridescenceThicknessMap!==void 0&&(nt.iridescenceThicknessMap=rt(_e.iridescenceThicknessMap)),_e.transmissionMap!==void 0&&(nt.transmissionMap=rt(_e.transmissionMap)),_e.thicknessMap!==void 0&&(nt.thicknessMap=rt(_e.thicknessMap)),_e.sheenColorMap!==void 0&&(nt.sheenColorMap=rt(_e.sheenColorMap)),_e.sheenRoughnessMap!==void 0&&(nt.sheenRoughnessMap=rt(_e.sheenRoughnessMap)),nt}setTextures(_e){return this.textures=_e,this}static createMaterialFromType(_e){const tt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new tt[_e]}}class LoaderUtils{static decodeText(_e){if(typeof TextDecoder<"u")return new TextDecoder().decode(_e);let tt="";for(let rt=0,nt=_e.length;rt<nt;rt++)tt+=String.fromCharCode(_e[rt]);try{return decodeURIComponent(escape(tt))}catch{return tt}}static extractUrlBase(_e){const tt=_e.lastIndexOf("/");return tt===-1?"./":_e.slice(0,tt+1)}static resolveURL(_e,tt){return typeof _e!="string"||_e===""?"":(/^https?:\/\//i.test(tt)&&/^\//.test(_e)&&(tt=tt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(_e)||/^data:.*,.*$/i.test(_e)||/^blob:.*$/i.test(_e)?_e:tt+_e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(_e){return super.copy(_e),this.instanceCount=_e.instanceCount,this}toJSON(){const _e=super.toJSON();return _e.instanceCount=this.instanceCount,_e.isInstancedBufferGeometry=!0,_e}}class BufferGeometryLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=this,ot=new FileLoader(st.manager);ot.setPath(st.path),ot.setRequestHeader(st.requestHeader),ot.setWithCredentials(st.withCredentials),ot.load(_e,function(at){try{tt(st.parse(JSON.parse(at)))}catch(lt){nt?nt(lt):console.error(lt),st.manager.itemError(_e)}},rt,nt)}parse(_e){const tt={},rt={};function nt(vt,St){if(tt[St]!==void 0)return tt[St];const Tt=vt.interleavedBuffers[St],Ct=st(vt,Tt.buffer),Mt=getTypedArray(Tt.type,Ct),Et=new InterleavedBuffer(Mt,Tt.stride);return Et.uuid=Tt.uuid,tt[St]=Et,Et}function st(vt,St){if(rt[St]!==void 0)return rt[St];const Tt=vt.arrayBuffers[St],Ct=new Uint32Array(Tt).buffer;return rt[St]=Ct,Ct}const ot=_e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,at=_e.data.index;if(at!==void 0){const vt=getTypedArray(at.type,at.array);ot.setIndex(new BufferAttribute(vt,1))}const lt=_e.data.attributes;for(const vt in lt){const St=lt[vt];let At;if(St.isInterleavedBufferAttribute){const Tt=nt(_e.data,St.data);At=new InterleavedBufferAttribute(Tt,St.itemSize,St.offset,St.normalized)}else{const Tt=getTypedArray(St.type,St.array),Ct=St.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;At=new Ct(Tt,St.itemSize,St.normalized)}St.name!==void 0&&(At.name=St.name),St.usage!==void 0&&At.setUsage(St.usage),St.updateRange!==void 0&&(At.updateRange.offset=St.updateRange.offset,At.updateRange.count=St.updateRange.count),ot.setAttribute(vt,At)}const ft=_e.data.morphAttributes;if(ft)for(const vt in ft){const St=ft[vt],At=[];for(let Tt=0,Ct=St.length;Tt<Ct;Tt++){const Mt=St[Tt];let Et;if(Mt.isInterleavedBufferAttribute){const Rt=nt(_e.data,Mt.data);Et=new InterleavedBufferAttribute(Rt,Mt.itemSize,Mt.offset,Mt.normalized)}else{const Rt=getTypedArray(Mt.type,Mt.array);Et=new BufferAttribute(Rt,Mt.itemSize,Mt.normalized)}Mt.name!==void 0&&(Et.name=Mt.name),At.push(Et)}ot.morphAttributes[vt]=At}_e.data.morphTargetsRelative&&(ot.morphTargetsRelative=!0);const gt=_e.data.groups||_e.data.drawcalls||_e.data.offsets;if(gt!==void 0)for(let vt=0,St=gt.length;vt!==St;++vt){const At=gt[vt];ot.addGroup(At.start,At.count,At.materialIndex)}const pt=_e.data.boundingSphere;if(pt!==void 0){const vt=new Vector3;pt.center!==void 0&&vt.fromArray(pt.center),ot.boundingSphere=new Sphere(vt,pt.radius)}return _e.name&&(ot.name=_e.name),_e.userData&&(ot.userData=_e.userData),ot}}class ObjectLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=this,ot=this.path===""?LoaderUtils.extractUrlBase(_e):this.path;this.resourcePath=this.resourcePath||ot;const at=new FileLoader(this.manager);at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(_e,function(lt){let ft=null;try{ft=JSON.parse(lt)}catch(gt){nt!==void 0&&nt(gt),console.error("THREE:ObjectLoader: Can't parse "+_e+".",gt.message);return}const dt=ft.metadata;if(dt===void 0||dt.type===void 0||dt.type.toLowerCase()==="geometry"){nt!==void 0&&nt(new Error("THREE.ObjectLoader: Can't load "+_e)),console.error("THREE.ObjectLoader: Can't load "+_e);return}st.parse(ft,tt)},rt,nt)}async loadAsync(_e,tt){const rt=this,nt=this.path===""?LoaderUtils.extractUrlBase(_e):this.path;this.resourcePath=this.resourcePath||nt;const st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials);const ot=await st.loadAsync(_e,tt),at=JSON.parse(ot),lt=at.metadata;if(lt===void 0||lt.type===void 0||lt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+_e);return await rt.parseAsync(at)}parse(_e,tt){const rt=this.parseAnimations(_e.animations),nt=this.parseShapes(_e.shapes),st=this.parseGeometries(_e.geometries,nt),ot=this.parseImages(_e.images,function(){tt!==void 0&&tt(ft)}),at=this.parseTextures(_e.textures,ot),lt=this.parseMaterials(_e.materials,at),ft=this.parseObject(_e.object,st,lt,at,rt),dt=this.parseSkeletons(_e.skeletons,ft);if(this.bindSkeletons(ft,dt),tt!==void 0){let gt=!1;for(const pt in ot)if(ot[pt].data instanceof HTMLImageElement){gt=!0;break}gt===!1&&tt(ft)}return ft}async parseAsync(_e){const tt=this.parseAnimations(_e.animations),rt=this.parseShapes(_e.shapes),nt=this.parseGeometries(_e.geometries,rt),st=await this.parseImagesAsync(_e.images),ot=this.parseTextures(_e.textures,st),at=this.parseMaterials(_e.materials,ot),lt=this.parseObject(_e.object,nt,at,ot,tt),ft=this.parseSkeletons(_e.skeletons,lt);return this.bindSkeletons(lt,ft),lt}parseShapes(_e){const tt={};if(_e!==void 0)for(let rt=0,nt=_e.length;rt<nt;rt++){const st=new Shape().fromJSON(_e[rt]);tt[st.uuid]=st}return tt}parseSkeletons(_e,tt){const rt={},nt={};if(tt.traverse(function(st){st.isBone&&(nt[st.uuid]=st)}),_e!==void 0)for(let st=0,ot=_e.length;st<ot;st++){const at=new Skeleton().fromJSON(_e[st],nt);rt[at.uuid]=at}return rt}parseGeometries(_e,tt){const rt={};if(_e!==void 0){const nt=new BufferGeometryLoader;for(let st=0,ot=_e.length;st<ot;st++){let at;const lt=_e[st];switch(lt.type){case"BufferGeometry":case"InstancedBufferGeometry":at=nt.parse(lt);break;default:lt.type in Geometries?at=Geometries[lt.type].fromJSON(lt,tt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${lt.type}"`)}at.uuid=lt.uuid,lt.name!==void 0&&(at.name=lt.name),at.isBufferGeometry===!0&&lt.userData!==void 0&&(at.userData=lt.userData),rt[lt.uuid]=at}}return rt}parseMaterials(_e,tt){const rt={},nt={};if(_e!==void 0){const st=new MaterialLoader;st.setTextures(tt);for(let ot=0,at=_e.length;ot<at;ot++){const lt=_e[ot];rt[lt.uuid]===void 0&&(rt[lt.uuid]=st.parse(lt)),nt[lt.uuid]=rt[lt.uuid]}}return nt}parseAnimations(_e){const tt={};if(_e!==void 0)for(let rt=0;rt<_e.length;rt++){const nt=_e[rt],st=AnimationClip.parse(nt);tt[st.uuid]=st}return tt}parseImages(_e,tt){const rt=this,nt={};let st;function ot(lt){return rt.manager.itemStart(lt),st.load(lt,function(){rt.manager.itemEnd(lt)},void 0,function(){rt.manager.itemError(lt),rt.manager.itemEnd(lt)})}function at(lt){if(typeof lt=="string"){const ft=lt,dt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ft)?ft:rt.resourcePath+ft;return ot(dt)}else return lt.data?{data:getTypedArray(lt.type,lt.data),width:lt.width,height:lt.height}:null}if(_e!==void 0&&_e.length>0){const lt=new LoadingManager(tt);st=new ImageLoader(lt),st.setCrossOrigin(this.crossOrigin);for(let ft=0,dt=_e.length;ft<dt;ft++){const gt=_e[ft],pt=gt.url;if(Array.isArray(pt)){const vt=[];for(let St=0,At=pt.length;St<At;St++){const Tt=pt[St],Ct=at(Tt);Ct!==null&&(Ct instanceof HTMLImageElement?vt.push(Ct):vt.push(new DataTexture(Ct.data,Ct.width,Ct.height)))}nt[gt.uuid]=new Source(vt)}else{const vt=at(gt.url);nt[gt.uuid]=new Source(vt)}}}return nt}async parseImagesAsync(_e){const tt=this,rt={};let nt;async function st(ot){if(typeof ot=="string"){const at=ot,lt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(at)?at:tt.resourcePath+at;return await nt.loadAsync(lt)}else return ot.data?{data:getTypedArray(ot.type,ot.data),width:ot.width,height:ot.height}:null}if(_e!==void 0&&_e.length>0){nt=new ImageLoader(this.manager),nt.setCrossOrigin(this.crossOrigin);for(let ot=0,at=_e.length;ot<at;ot++){const lt=_e[ot],ft=lt.url;if(Array.isArray(ft)){const dt=[];for(let gt=0,pt=ft.length;gt<pt;gt++){const vt=ft[gt],St=await st(vt);St!==null&&(St instanceof HTMLImageElement?dt.push(St):dt.push(new DataTexture(St.data,St.width,St.height)))}rt[lt.uuid]=new Source(dt)}else{const dt=await st(lt.url);rt[lt.uuid]=new Source(dt)}}}return rt}parseTextures(_e,tt){function rt(st,ot){return typeof st=="number"?st:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",st),ot[st])}const nt={};if(_e!==void 0)for(let st=0,ot=_e.length;st<ot;st++){const at=_e[st];at.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',at.uuid),tt[at.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",at.image);const lt=tt[at.image],ft=lt.data;let dt;Array.isArray(ft)?(dt=new CubeTexture,ft.length===6&&(dt.needsUpdate=!0)):(ft&&ft.data?dt=new DataTexture:dt=new Texture,ft&&(dt.needsUpdate=!0)),dt.source=lt,dt.uuid=at.uuid,at.name!==void 0&&(dt.name=at.name),at.mapping!==void 0&&(dt.mapping=rt(at.mapping,TEXTURE_MAPPING)),at.offset!==void 0&&dt.offset.fromArray(at.offset),at.repeat!==void 0&&dt.repeat.fromArray(at.repeat),at.center!==void 0&&dt.center.fromArray(at.center),at.rotation!==void 0&&(dt.rotation=at.rotation),at.wrap!==void 0&&(dt.wrapS=rt(at.wrap[0],TEXTURE_WRAPPING),dt.wrapT=rt(at.wrap[1],TEXTURE_WRAPPING)),at.format!==void 0&&(dt.format=at.format),at.type!==void 0&&(dt.type=at.type),at.encoding!==void 0&&(dt.encoding=at.encoding),at.minFilter!==void 0&&(dt.minFilter=rt(at.minFilter,TEXTURE_FILTER)),at.magFilter!==void 0&&(dt.magFilter=rt(at.magFilter,TEXTURE_FILTER)),at.anisotropy!==void 0&&(dt.anisotropy=at.anisotropy),at.flipY!==void 0&&(dt.flipY=at.flipY),at.generateMipmaps!==void 0&&(dt.generateMipmaps=at.generateMipmaps),at.premultiplyAlpha!==void 0&&(dt.premultiplyAlpha=at.premultiplyAlpha),at.unpackAlignment!==void 0&&(dt.unpackAlignment=at.unpackAlignment),at.userData!==void 0&&(dt.userData=at.userData),nt[at.uuid]=dt}return nt}parseObject(_e,tt,rt,nt,st){let ot;function at(pt){return tt[pt]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",pt),tt[pt]}function lt(pt){if(pt!==void 0){if(Array.isArray(pt)){const vt=[];for(let St=0,At=pt.length;St<At;St++){const Tt=pt[St];rt[Tt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Tt),vt.push(rt[Tt])}return vt}return rt[pt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",pt),rt[pt]}}function ft(pt){return nt[pt]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",pt),nt[pt]}let dt,gt;switch(_e.type){case"Scene":ot=new Scene,_e.background!==void 0&&(Number.isInteger(_e.background)?ot.background=new Color(_e.background):ot.background=ft(_e.background)),_e.environment!==void 0&&(ot.environment=ft(_e.environment)),_e.fog!==void 0&&(_e.fog.type==="Fog"?ot.fog=new Fog(_e.fog.color,_e.fog.near,_e.fog.far):_e.fog.type==="FogExp2"&&(ot.fog=new FogExp2(_e.fog.color,_e.fog.density))),_e.backgroundBlurriness!==void 0&&(ot.backgroundBlurriness=_e.backgroundBlurriness),_e.backgroundIntensity!==void 0&&(ot.backgroundIntensity=_e.backgroundIntensity);break;case"PerspectiveCamera":ot=new PerspectiveCamera$1(_e.fov,_e.aspect,_e.near,_e.far),_e.focus!==void 0&&(ot.focus=_e.focus),_e.zoom!==void 0&&(ot.zoom=_e.zoom),_e.filmGauge!==void 0&&(ot.filmGauge=_e.filmGauge),_e.filmOffset!==void 0&&(ot.filmOffset=_e.filmOffset),_e.view!==void 0&&(ot.view=Object.assign({},_e.view));break;case"OrthographicCamera":ot=new OrthographicCamera(_e.left,_e.right,_e.top,_e.bottom,_e.near,_e.far),_e.zoom!==void 0&&(ot.zoom=_e.zoom),_e.view!==void 0&&(ot.view=Object.assign({},_e.view));break;case"AmbientLight":ot=new AmbientLight(_e.color,_e.intensity);break;case"DirectionalLight":ot=new DirectionalLight(_e.color,_e.intensity);break;case"PointLight":ot=new PointLight(_e.color,_e.intensity,_e.distance,_e.decay);break;case"RectAreaLight":ot=new RectAreaLight(_e.color,_e.intensity,_e.width,_e.height);break;case"SpotLight":ot=new SpotLight(_e.color,_e.intensity,_e.distance,_e.angle,_e.penumbra,_e.decay);break;case"HemisphereLight":ot=new HemisphereLight(_e.color,_e.groundColor,_e.intensity);break;case"LightProbe":ot=new LightProbe().fromJSON(_e);break;case"SkinnedMesh":dt=at(_e.geometry),gt=lt(_e.material),ot=new SkinnedMesh(dt,gt),_e.bindMode!==void 0&&(ot.bindMode=_e.bindMode),_e.bindMatrix!==void 0&&ot.bindMatrix.fromArray(_e.bindMatrix),_e.skeleton!==void 0&&(ot.skeleton=_e.skeleton);break;case"Mesh":dt=at(_e.geometry),gt=lt(_e.material),ot=new Mesh(dt,gt);break;case"InstancedMesh":dt=at(_e.geometry),gt=lt(_e.material);const pt=_e.count,vt=_e.instanceMatrix,St=_e.instanceColor;ot=new InstancedMesh(dt,gt,pt),ot.instanceMatrix=new InstancedBufferAttribute(new Float32Array(vt.array),16),St!==void 0&&(ot.instanceColor=new InstancedBufferAttribute(new Float32Array(St.array),St.itemSize));break;case"LOD":ot=new LOD;break;case"Line":ot=new Line(at(_e.geometry),lt(_e.material));break;case"LineLoop":ot=new LineLoop(at(_e.geometry),lt(_e.material));break;case"LineSegments":ot=new LineSegments(at(_e.geometry),lt(_e.material));break;case"PointCloud":case"Points":ot=new Points(at(_e.geometry),lt(_e.material));break;case"Sprite":ot=new Sprite(lt(_e.material));break;case"Group":ot=new Group;break;case"Bone":ot=new Bone;break;default:ot=new Object3D}if(ot.uuid=_e.uuid,_e.name!==void 0&&(ot.name=_e.name),_e.matrix!==void 0?(ot.matrix.fromArray(_e.matrix),_e.matrixAutoUpdate!==void 0&&(ot.matrixAutoUpdate=_e.matrixAutoUpdate),ot.matrixAutoUpdate&&ot.matrix.decompose(ot.position,ot.quaternion,ot.scale)):(_e.position!==void 0&&ot.position.fromArray(_e.position),_e.rotation!==void 0&&ot.rotation.fromArray(_e.rotation),_e.quaternion!==void 0&&ot.quaternion.fromArray(_e.quaternion),_e.scale!==void 0&&ot.scale.fromArray(_e.scale)),_e.castShadow!==void 0&&(ot.castShadow=_e.castShadow),_e.receiveShadow!==void 0&&(ot.receiveShadow=_e.receiveShadow),_e.shadow&&(_e.shadow.bias!==void 0&&(ot.shadow.bias=_e.shadow.bias),_e.shadow.normalBias!==void 0&&(ot.shadow.normalBias=_e.shadow.normalBias),_e.shadow.radius!==void 0&&(ot.shadow.radius=_e.shadow.radius),_e.shadow.mapSize!==void 0&&ot.shadow.mapSize.fromArray(_e.shadow.mapSize),_e.shadow.camera!==void 0&&(ot.shadow.camera=this.parseObject(_e.shadow.camera))),_e.visible!==void 0&&(ot.visible=_e.visible),_e.frustumCulled!==void 0&&(ot.frustumCulled=_e.frustumCulled),_e.renderOrder!==void 0&&(ot.renderOrder=_e.renderOrder),_e.userData!==void 0&&(ot.userData=_e.userData),_e.layers!==void 0&&(ot.layers.mask=_e.layers),_e.children!==void 0){const pt=_e.children;for(let vt=0;vt<pt.length;vt++)ot.add(this.parseObject(pt[vt],tt,rt,nt,st))}if(_e.animations!==void 0){const pt=_e.animations;for(let vt=0;vt<pt.length;vt++){const St=pt[vt];ot.animations.push(st[St])}}if(_e.type==="LOD"){_e.autoUpdate!==void 0&&(ot.autoUpdate=_e.autoUpdate);const pt=_e.levels;for(let vt=0;vt<pt.length;vt++){const St=pt[vt],At=ot.getObjectByProperty("uuid",St.object);At!==void 0&&ot.addLevel(At,St.distance,St.hysteresis)}}return ot}bindSkeletons(_e,tt){Object.keys(tt).length!==0&&_e.traverse(function(rt){if(rt.isSkinnedMesh===!0&&rt.skeleton!==void 0){const nt=tt[rt.skeleton];nt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",rt.skeleton):rt.bind(nt,rt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(_e){super(_e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(_e){return this.options=_e,this}load(_e,tt,rt,nt){_e===void 0&&(_e=""),this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const st=this,ot=Cache.get(_e);if(ot!==void 0)return st.manager.itemStart(_e),setTimeout(function(){tt&&tt(ot),st.manager.itemEnd(_e)},0),ot;const at={};at.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",at.headers=this.requestHeader,fetch(_e,at).then(function(lt){return lt.blob()}).then(function(lt){return createImageBitmap(lt,Object.assign(st.options,{colorSpaceConversion:"none"}))}).then(function(lt){Cache.add(_e,lt),tt&&tt(lt),st.manager.itemEnd(_e)}).catch(function(lt){nt&&nt(lt),st.manager.itemError(_e),st.manager.itemEnd(_e)}),st.manager.itemStart(_e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(_e){_context=_e}}class AudioLoader extends Loader{constructor(_e){super(_e)}load(_e,tt,rt,nt){const st=this,ot=new FileLoader(this.manager);ot.setResponseType("arraybuffer"),ot.setPath(this.path),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load(_e,function(at){try{const lt=at.slice(0);AudioContext.getContext().decodeAudioData(lt,function(dt){tt(dt)})}catch(lt){nt?nt(lt):console.error(lt),st.manager.itemError(_e)}},rt,nt)}}class HemisphereLightProbe extends LightProbe{constructor(_e,tt,rt=1){super(void 0,rt),this.isHemisphereLightProbe=!0;const nt=new Color().set(_e),st=new Color().set(tt),ot=new Vector3(nt.r,nt.g,nt.b),at=new Vector3(st.r,st.g,st.b),lt=Math.sqrt(Math.PI),ft=lt*Math.sqrt(.75);this.sh.coefficients[0].copy(ot).add(at).multiplyScalar(lt),this.sh.coefficients[1].copy(ot).sub(at).multiplyScalar(ft)}}class AmbientLightProbe extends LightProbe{constructor(_e,tt=1){super(void 0,tt),this.isAmbientLightProbe=!0;const rt=new Color().set(_e);this.sh.coefficients[0].set(rt.r,rt.g,rt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(_e){const tt=this._cache;if(tt.focus!==_e.focus||tt.fov!==_e.fov||tt.aspect!==_e.aspect*this.aspect||tt.near!==_e.near||tt.far!==_e.far||tt.zoom!==_e.zoom||tt.eyeSep!==this.eyeSep){tt.focus=_e.focus,tt.fov=_e.fov,tt.aspect=_e.aspect*this.aspect,tt.near=_e.near,tt.far=_e.far,tt.zoom=_e.zoom,tt.eyeSep=this.eyeSep,_projectionMatrix.copy(_e.projectionMatrix);const nt=tt.eyeSep/2,st=nt*tt.near/tt.focus,ot=tt.near*Math.tan(DEG2RAD*tt.fov*.5)/tt.zoom;let at,lt;_eyeLeft.elements[12]=-nt,_eyeRight.elements[12]=nt,at=-ot*tt.aspect+st,lt=ot*tt.aspect+st,_projectionMatrix.elements[0]=2*tt.near/(lt-at),_projectionMatrix.elements[8]=(lt+at)/(lt-at),this.cameraL.projectionMatrix.copy(_projectionMatrix),at=-ot*tt.aspect-st,lt=ot*tt.aspect-st,_projectionMatrix.elements[0]=2*tt.near/(lt-at),_projectionMatrix.elements[8]=(lt+at)/(lt-at),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(_e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(_e.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(_e=!0){this.autoStart=_e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let _e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const tt=now$2();_e=(tt-this.oldTime)/1e3,this.oldTime=tt,this.elapsedTime+=_e}return _e}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(_e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=_e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(_e){return this.gain.gain.setTargetAtTime(_e,this.context.currentTime,.01),this}updateMatrixWorld(_e){super.updateMatrixWorld(_e);const tt=this.context.listener,rt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),tt.positionX){const nt=this.context.currentTime+this.timeDelta;tt.positionX.linearRampToValueAtTime(_position$1.x,nt),tt.positionY.linearRampToValueAtTime(_position$1.y,nt),tt.positionZ.linearRampToValueAtTime(_position$1.z,nt),tt.forwardX.linearRampToValueAtTime(_orientation$1.x,nt),tt.forwardY.linearRampToValueAtTime(_orientation$1.y,nt),tt.forwardZ.linearRampToValueAtTime(_orientation$1.z,nt),tt.upX.linearRampToValueAtTime(rt.x,nt),tt.upY.linearRampToValueAtTime(rt.y,nt),tt.upZ.linearRampToValueAtTime(rt.z,nt)}else tt.setPosition(_position$1.x,_position$1.y,_position$1.z),tt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,rt.x,rt.y,rt.z)}}class Audio extends Object3D{constructor(_e){super(),this.type="Audio",this.listener=_e,this.context=_e.context,this.gain=this.context.createGain(),this.gain.connect(_e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(_e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=_e,this.connect(),this}setMediaElementSource(_e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(_e),this.connect(),this}setMediaStreamSource(_e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(_e),this.connect(),this}setBuffer(_e){return this.buffer=_e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(_e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+_e;const tt=this.context.createBufferSource();return tt.buffer=this.buffer,tt.loop=this.loop,tt.loopStart=this.loopStart,tt.loopEnd=this.loopEnd,tt.onended=this.onEnded.bind(this),tt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=tt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let _e=1,tt=this.filters.length;_e<tt;_e++)this.filters[_e-1].connect(this.filters[_e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let _e=1,tt=this.filters.length;_e<tt;_e++)this.filters[_e-1].disconnect(this.filters[_e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(_e){return _e||(_e=[]),this._connected===!0?(this.disconnect(),this.filters=_e.slice(),this.connect()):this.filters=_e.slice(),this}setDetune(_e){if(this.detune=_e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(_e){return this.setFilters(_e?[_e]:[])}setPlaybackRate(_e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=_e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(_e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=_e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(_e){return this.loopStart=_e,this}setLoopEnd(_e){return this.loopEnd=_e,this}getVolume(){return this.gain.gain.value}setVolume(_e){return this.gain.gain.setTargetAtTime(_e,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(_e){super(_e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(_e){return this.panner.refDistance=_e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(_e){return this.panner.rolloffFactor=_e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(_e){return this.panner.distanceModel=_e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(_e){return this.panner.maxDistance=_e,this}setDirectionalCone(_e,tt,rt){return this.panner.coneInnerAngle=_e,this.panner.coneOuterAngle=tt,this.panner.coneOuterGain=rt,this}updateMatrixWorld(_e){if(super.updateMatrixWorld(_e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const tt=this.panner;if(tt.positionX){const rt=this.context.currentTime+this.listener.timeDelta;tt.positionX.linearRampToValueAtTime(_position.x,rt),tt.positionY.linearRampToValueAtTime(_position.y,rt),tt.positionZ.linearRampToValueAtTime(_position.z,rt),tt.orientationX.linearRampToValueAtTime(_orientation.x,rt),tt.orientationY.linearRampToValueAtTime(_orientation.y,rt),tt.orientationZ.linearRampToValueAtTime(_orientation.z,rt)}else tt.setPosition(_position.x,_position.y,_position.z),tt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(_e,tt=2048){this.analyser=_e.context.createAnalyser(),this.analyser.fftSize=tt,this.data=new Uint8Array(this.analyser.frequencyBinCount),_e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let _e=0;const tt=this.getFrequencyData();for(let rt=0;rt<tt.length;rt++)_e+=tt[rt];return _e/tt.length}}class PropertyMixer{constructor(_e,tt,rt){this.binding=_e,this.valueSize=rt;let nt,st,ot;switch(tt){case"quaternion":nt=this._slerp,st=this._slerpAdditive,ot=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(rt*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,st=this._select,ot=this._setAdditiveIdentityOther,this.buffer=new Array(rt*5);break;default:nt=this._lerp,st=this._lerpAdditive,ot=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(rt*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=st,this._setIdentity=ot,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(_e,tt){const rt=this.buffer,nt=this.valueSize,st=_e*nt+nt;let ot=this.cumulativeWeight;if(ot===0){for(let at=0;at!==nt;++at)rt[st+at]=rt[at];ot=tt}else{ot+=tt;const at=tt/ot;this._mixBufferRegion(rt,st,0,at,nt)}this.cumulativeWeight=ot}accumulateAdditive(_e){const tt=this.buffer,rt=this.valueSize,nt=rt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(tt,nt,0,_e,rt),this.cumulativeWeightAdditive+=_e}apply(_e){const tt=this.valueSize,rt=this.buffer,nt=_e*tt+tt,st=this.cumulativeWeight,ot=this.cumulativeWeightAdditive,at=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,st<1){const lt=tt*this._origIndex;this._mixBufferRegion(rt,nt,lt,1-st,tt)}ot>0&&this._mixBufferRegionAdditive(rt,nt,this._addIndex*tt,1,tt);for(let lt=tt,ft=tt+tt;lt!==ft;++lt)if(rt[lt]!==rt[lt+tt]){at.setValue(rt,nt);break}}saveOriginalState(){const _e=this.binding,tt=this.buffer,rt=this.valueSize,nt=rt*this._origIndex;_e.getValue(tt,nt);for(let st=rt,ot=nt;st!==ot;++st)tt[st]=tt[nt+st%rt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const _e=this.valueSize*3;this.binding.setValue(this.buffer,_e)}_setAdditiveIdentityNumeric(){const _e=this._addIndex*this.valueSize,tt=_e+this.valueSize;for(let rt=_e;rt<tt;rt++)this.buffer[rt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const _e=this._origIndex*this.valueSize,tt=this._addIndex*this.valueSize;for(let rt=0;rt<this.valueSize;rt++)this.buffer[tt+rt]=this.buffer[_e+rt]}_select(_e,tt,rt,nt,st){if(nt>=.5)for(let ot=0;ot!==st;++ot)_e[tt+ot]=_e[rt+ot]}_slerp(_e,tt,rt,nt){Quaternion.slerpFlat(_e,tt,_e,tt,_e,rt,nt)}_slerpAdditive(_e,tt,rt,nt,st){const ot=this._workIndex*st;Quaternion.multiplyQuaternionsFlat(_e,ot,_e,tt,_e,rt),Quaternion.slerpFlat(_e,tt,_e,tt,_e,ot,nt)}_lerp(_e,tt,rt,nt,st){const ot=1-nt;for(let at=0;at!==st;++at){const lt=tt+at;_e[lt]=_e[lt]*ot+_e[rt+at]*nt}}_lerpAdditive(_e,tt,rt,nt,st){for(let ot=0;ot!==st;++ot){const at=tt+ot;_e[at]=_e[at]+_e[rt+ot]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(_e,tt,rt){const nt=rt||PropertyBinding.parseTrackName(tt);this._targetGroup=_e,this._bindings=_e.subscribe_(tt,nt)}getValue(_e,tt){this.bind();const rt=this._targetGroup.nCachedObjects_,nt=this._bindings[rt];nt!==void 0&&nt.getValue(_e,tt)}setValue(_e,tt){const rt=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,st=rt.length;nt!==st;++nt)rt[nt].setValue(_e,tt)}bind(){const _e=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,rt=_e.length;tt!==rt;++tt)_e[tt].bind()}unbind(){const _e=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,rt=_e.length;tt!==rt;++tt)_e[tt].unbind()}}class PropertyBinding{constructor(_e,tt,rt){this.path=tt,this.parsedPath=rt||PropertyBinding.parseTrackName(tt),this.node=PropertyBinding.findNode(_e,this.parsedPath.nodeName)||_e,this.rootNode=_e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(_e,tt,rt){return _e&&_e.isAnimationObjectGroup?new PropertyBinding.Composite(_e,tt,rt):new PropertyBinding(_e,tt,rt)}static sanitizeNodeName(_e){return _e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(_e){const tt=_trackRe.exec(_e);if(tt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+_e);const rt={nodeName:tt[2],objectName:tt[3],objectIndex:tt[4],propertyName:tt[5],propertyIndex:tt[6]},nt=rt.nodeName&&rt.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const st=rt.nodeName.substring(nt+1);_supportedObjectNames.indexOf(st)!==-1&&(rt.nodeName=rt.nodeName.substring(0,nt),rt.objectName=st)}if(rt.propertyName===null||rt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+_e);return rt}static findNode(_e,tt){if(tt===void 0||tt===""||tt==="."||tt===-1||tt===_e.name||tt===_e.uuid)return _e;if(_e.skeleton){const rt=_e.skeleton.getBoneByName(tt);if(rt!==void 0)return rt}if(_e.children){const rt=function(st){for(let ot=0;ot<st.length;ot++){const at=st[ot];if(at.name===tt||at.uuid===tt)return at;const lt=rt(at.children);if(lt)return lt}return null},nt=rt(_e.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(_e,tt){_e[tt]=this.targetObject[this.propertyName]}_getValue_array(_e,tt){const rt=this.resolvedProperty;for(let nt=0,st=rt.length;nt!==st;++nt)_e[tt++]=rt[nt]}_getValue_arrayElement(_e,tt){_e[tt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(_e,tt){this.resolvedProperty.toArray(_e,tt)}_setValue_direct(_e,tt){this.targetObject[this.propertyName]=_e[tt]}_setValue_direct_setNeedsUpdate(_e,tt){this.targetObject[this.propertyName]=_e[tt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(_e,tt){this.targetObject[this.propertyName]=_e[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(_e,tt){const rt=this.resolvedProperty;for(let nt=0,st=rt.length;nt!==st;++nt)rt[nt]=_e[tt++]}_setValue_array_setNeedsUpdate(_e,tt){const rt=this.resolvedProperty;for(let nt=0,st=rt.length;nt!==st;++nt)rt[nt]=_e[tt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(_e,tt){const rt=this.resolvedProperty;for(let nt=0,st=rt.length;nt!==st;++nt)rt[nt]=_e[tt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(_e,tt){this.resolvedProperty[this.propertyIndex]=_e[tt]}_setValue_arrayElement_setNeedsUpdate(_e,tt){this.resolvedProperty[this.propertyIndex]=_e[tt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(_e,tt){this.resolvedProperty[this.propertyIndex]=_e[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(_e,tt){this.resolvedProperty.fromArray(_e,tt)}_setValue_fromArray_setNeedsUpdate(_e,tt){this.resolvedProperty.fromArray(_e,tt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(_e,tt){this.resolvedProperty.fromArray(_e,tt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(_e,tt){this.bind(),this.getValue(_e,tt)}_setValue_unbound(_e,tt){this.bind(),this.setValue(_e,tt)}bind(){let _e=this.node;const tt=this.parsedPath,rt=tt.objectName,nt=tt.propertyName;let st=tt.propertyIndex;if(_e||(_e=PropertyBinding.findNode(this.rootNode,tt.nodeName)||this.rootNode,this.node=_e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!_e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(rt){let ft=tt.objectIndex;switch(rt){case"materials":if(!_e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}_e=_e.material.materials;break;case"bones":if(!_e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}_e=_e.skeleton.bones;for(let dt=0;dt<_e.length;dt++)if(_e[dt].name===ft){ft=dt;break}break;case"map":if("map"in _e){_e=_e.map;break}if(!_e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}_e=_e.material.map;break;default:if(_e[rt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}_e=_e[rt]}if(ft!==void 0){if(_e[ft]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,_e);return}_e=_e[ft]}}const ot=_e[nt];if(ot===void 0){const ft=tt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ft+"."+nt+" but it wasn't found.",_e);return}let at=this.Versioning.None;this.targetObject=_e,_e.needsUpdate!==void 0?at=this.Versioning.NeedsUpdate:_e.matrixWorldNeedsUpdate!==void 0&&(at=this.Versioning.MatrixWorldNeedsUpdate);let lt=this.BindingType.Direct;if(st!==void 0){if(nt==="morphTargetInfluences"){if(!_e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!_e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}_e.morphTargetDictionary[st]!==void 0&&(st=_e.morphTargetDictionary[st])}lt=this.BindingType.ArrayElement,this.resolvedProperty=ot,this.propertyIndex=st}else ot.fromArray!==void 0&&ot.toArray!==void 0?(lt=this.BindingType.HasFromToArray,this.resolvedProperty=ot):Array.isArray(ot)?(lt=this.BindingType.EntireArray,this.resolvedProperty=ot):this.propertyName=nt;this.getValue=this.GetterByBindingType[lt],this.setValue=this.SetterByBindingTypeAndVersioning[lt][at]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const _e={};this._indicesByUUID=_e;for(let rt=0,nt=arguments.length;rt!==nt;++rt)_e[arguments[rt].uuid]=rt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const tt=this;this.stats={objects:{get total(){return tt._objects.length},get inUse(){return this.total-tt.nCachedObjects_}},get bindingsPerObject(){return tt._bindings.length}}}add(){const _e=this._objects,tt=this._indicesByUUID,rt=this._paths,nt=this._parsedPaths,st=this._bindings,ot=st.length;let at,lt=_e.length,ft=this.nCachedObjects_;for(let dt=0,gt=arguments.length;dt!==gt;++dt){const pt=arguments[dt],vt=pt.uuid;let St=tt[vt];if(St===void 0){St=lt++,tt[vt]=St,_e.push(pt);for(let At=0,Tt=ot;At!==Tt;++At)st[At].push(new PropertyBinding(pt,rt[At],nt[At]))}else if(St<ft){at=_e[St];const At=--ft,Tt=_e[At];tt[Tt.uuid]=St,_e[St]=Tt,tt[vt]=At,_e[At]=pt;for(let Ct=0,Mt=ot;Ct!==Mt;++Ct){const Et=st[Ct],Rt=Et[At];let Bt=Et[St];Et[St]=Rt,Bt===void 0&&(Bt=new PropertyBinding(pt,rt[Ct],nt[Ct])),Et[At]=Bt}}else _e[St]!==at&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=ft}remove(){const _e=this._objects,tt=this._indicesByUUID,rt=this._bindings,nt=rt.length;let st=this.nCachedObjects_;for(let ot=0,at=arguments.length;ot!==at;++ot){const lt=arguments[ot],ft=lt.uuid,dt=tt[ft];if(dt!==void 0&&dt>=st){const gt=st++,pt=_e[gt];tt[pt.uuid]=dt,_e[dt]=pt,tt[ft]=gt,_e[gt]=lt;for(let vt=0,St=nt;vt!==St;++vt){const At=rt[vt],Tt=At[gt],Ct=At[dt];At[dt]=Tt,At[gt]=Ct}}}this.nCachedObjects_=st}uncache(){const _e=this._objects,tt=this._indicesByUUID,rt=this._bindings,nt=rt.length;let st=this.nCachedObjects_,ot=_e.length;for(let at=0,lt=arguments.length;at!==lt;++at){const ft=arguments[at],dt=ft.uuid,gt=tt[dt];if(gt!==void 0)if(delete tt[dt],gt<st){const pt=--st,vt=_e[pt],St=--ot,At=_e[St];tt[vt.uuid]=gt,_e[gt]=vt,tt[At.uuid]=pt,_e[pt]=At,_e.pop();for(let Tt=0,Ct=nt;Tt!==Ct;++Tt){const Mt=rt[Tt],Et=Mt[pt],Rt=Mt[St];Mt[gt]=Et,Mt[pt]=Rt,Mt.pop()}}else{const pt=--ot,vt=_e[pt];pt>0&&(tt[vt.uuid]=gt),_e[gt]=vt,_e.pop();for(let St=0,At=nt;St!==At;++St){const Tt=rt[St];Tt[gt]=Tt[pt],Tt.pop()}}}this.nCachedObjects_=st}subscribe_(_e,tt){const rt=this._bindingsIndicesByPath;let nt=rt[_e];const st=this._bindings;if(nt!==void 0)return st[nt];const ot=this._paths,at=this._parsedPaths,lt=this._objects,ft=lt.length,dt=this.nCachedObjects_,gt=new Array(ft);nt=st.length,rt[_e]=nt,ot.push(_e),at.push(tt),st.push(gt);for(let pt=dt,vt=lt.length;pt!==vt;++pt){const St=lt[pt];gt[pt]=new PropertyBinding(St,_e,tt)}return gt}unsubscribe_(_e){const tt=this._bindingsIndicesByPath,rt=tt[_e];if(rt!==void 0){const nt=this._paths,st=this._parsedPaths,ot=this._bindings,at=ot.length-1,lt=ot[at],ft=_e[at];tt[ft]=rt,ot[rt]=lt,ot.pop(),st[rt]=st[at],st.pop(),nt[rt]=nt[at],nt.pop()}}}class AnimationAction{constructor(_e,tt,rt=null,nt=tt.blendMode){this._mixer=_e,this._clip=tt,this._localRoot=rt,this.blendMode=nt;const st=tt.tracks,ot=st.length,at=new Array(ot),lt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ft=0;ft!==ot;++ft){const dt=st[ft].createInterpolant(null);at[ft]=dt,dt.settings=lt}this._interpolantSettings=lt,this._interpolants=at,this._propertyBindings=new Array(ot),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(_e){return this._startTime=_e,this}setLoop(_e,tt){return this.loop=_e,this.repetitions=tt,this}setEffectiveWeight(_e){return this.weight=_e,this._effectiveWeight=this.enabled?_e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(_e){return this._scheduleFading(_e,0,1)}fadeOut(_e){return this._scheduleFading(_e,1,0)}crossFadeFrom(_e,tt,rt){if(_e.fadeOut(tt),this.fadeIn(tt),rt){const nt=this._clip.duration,st=_e._clip.duration,ot=st/nt,at=nt/st;_e.warp(1,ot,tt),this.warp(at,1,tt)}return this}crossFadeTo(_e,tt,rt){return _e.crossFadeFrom(this,tt,rt)}stopFading(){const _e=this._weightInterpolant;return _e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(_e)),this}setEffectiveTimeScale(_e){return this.timeScale=_e,this._effectiveTimeScale=this.paused?0:_e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(_e){return this.timeScale=this._clip.duration/_e,this.stopWarping()}syncWith(_e){return this.time=_e.time,this.timeScale=_e.timeScale,this.stopWarping()}halt(_e){return this.warp(this._effectiveTimeScale,0,_e)}warp(_e,tt,rt){const nt=this._mixer,st=nt.time,ot=this.timeScale;let at=this._timeScaleInterpolant;at===null&&(at=nt._lendControlInterpolant(),this._timeScaleInterpolant=at);const lt=at.parameterPositions,ft=at.sampleValues;return lt[0]=st,lt[1]=st+rt,ft[0]=_e/ot,ft[1]=tt/ot,this}stopWarping(){const _e=this._timeScaleInterpolant;return _e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(_e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(_e,tt,rt,nt){if(!this.enabled){this._updateWeight(_e);return}const st=this._startTime;if(st!==null){const lt=(_e-st)*rt;lt<0||rt===0?tt=0:(this._startTime=null,tt=rt*lt)}tt*=this._updateTimeScale(_e);const ot=this._updateTime(tt),at=this._updateWeight(_e);if(at>0){const lt=this._interpolants,ft=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let dt=0,gt=lt.length;dt!==gt;++dt)lt[dt].evaluate(ot),ft[dt].accumulateAdditive(at);break;case NormalAnimationBlendMode:default:for(let dt=0,gt=lt.length;dt!==gt;++dt)lt[dt].evaluate(ot),ft[dt].accumulate(nt,at)}}}_updateWeight(_e){let tt=0;if(this.enabled){tt=this.weight;const rt=this._weightInterpolant;if(rt!==null){const nt=rt.evaluate(_e)[0];tt*=nt,_e>rt.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=tt,tt}_updateTimeScale(_e){let tt=0;if(!this.paused){tt=this.timeScale;const rt=this._timeScaleInterpolant;if(rt!==null){const nt=rt.evaluate(_e)[0];tt*=nt,_e>rt.parameterPositions[1]&&(this.stopWarping(),tt===0?this.paused=!0:this.timeScale=tt)}}return this._effectiveTimeScale=tt,tt}_updateTime(_e){const tt=this._clip.duration,rt=this.loop;let nt=this.time+_e,st=this._loopCount;const ot=rt===LoopPingPong;if(_e===0)return st===-1?nt:ot&&(st&1)===1?tt-nt:nt;if(rt===LoopOnce){st===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=tt)nt=tt;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:_e<0?-1:1})}}else{if(st===-1&&(_e>=0?(st=0,this._setEndings(!0,this.repetitions===0,ot)):this._setEndings(this.repetitions===0,!0,ot)),nt>=tt||nt<0){const at=Math.floor(nt/tt);nt-=tt*at,st+=Math.abs(at);const lt=this.repetitions-st;if(lt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=_e>0?tt:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:_e>0?1:-1});else{if(lt===1){const ft=_e<0;this._setEndings(ft,!ft,ot)}else this._setEndings(!1,!1,ot);this._loopCount=st,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:at})}}else this.time=nt;if(ot&&(st&1)===1)return tt-nt}return nt}_setEndings(_e,tt,rt){const nt=this._interpolantSettings;rt?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):(_e?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,tt?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading(_e,tt,rt){const nt=this._mixer,st=nt.time;let ot=this._weightInterpolant;ot===null&&(ot=nt._lendControlInterpolant(),this._weightInterpolant=ot);const at=ot.parameterPositions,lt=ot.sampleValues;return at[0]=st,lt[0]=tt,at[1]=st+_e,lt[1]=rt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(_e){super(),this._root=_e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(_e,tt){const rt=_e._localRoot||this._root,nt=_e._clip.tracks,st=nt.length,ot=_e._propertyBindings,at=_e._interpolants,lt=rt.uuid,ft=this._bindingsByRootAndName;let dt=ft[lt];dt===void 0&&(dt={},ft[lt]=dt);for(let gt=0;gt!==st;++gt){const pt=nt[gt],vt=pt.name;let St=dt[vt];if(St!==void 0)++St.referenceCount,ot[gt]=St;else{if(St=ot[gt],St!==void 0){St._cacheIndex===null&&(++St.referenceCount,this._addInactiveBinding(St,lt,vt));continue}const At=tt&&tt._propertyBindings[gt].binding.parsedPath;St=new PropertyMixer(PropertyBinding.create(rt,vt,At),pt.ValueTypeName,pt.getValueSize()),++St.referenceCount,this._addInactiveBinding(St,lt,vt),ot[gt]=St}at[gt].resultBuffer=St.buffer}}_activateAction(_e){if(!this._isActiveAction(_e)){if(_e._cacheIndex===null){const rt=(_e._localRoot||this._root).uuid,nt=_e._clip.uuid,st=this._actionsByClip[nt];this._bindAction(_e,st&&st.knownActions[0]),this._addInactiveAction(_e,nt,rt)}const tt=_e._propertyBindings;for(let rt=0,nt=tt.length;rt!==nt;++rt){const st=tt[rt];st.useCount++===0&&(this._lendBinding(st),st.saveOriginalState())}this._lendAction(_e)}}_deactivateAction(_e){if(this._isActiveAction(_e)){const tt=_e._propertyBindings;for(let rt=0,nt=tt.length;rt!==nt;++rt){const st=tt[rt];--st.useCount===0&&(st.restoreOriginalState(),this._takeBackBinding(st))}this._takeBackAction(_e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const _e=this;this.stats={actions:{get total(){return _e._actions.length},get inUse(){return _e._nActiveActions}},bindings:{get total(){return _e._bindings.length},get inUse(){return _e._nActiveBindings}},controlInterpolants:{get total(){return _e._controlInterpolants.length},get inUse(){return _e._nActiveControlInterpolants}}}}_isActiveAction(_e){const tt=_e._cacheIndex;return tt!==null&&tt<this._nActiveActions}_addInactiveAction(_e,tt,rt){const nt=this._actions,st=this._actionsByClip;let ot=st[tt];if(ot===void 0)ot={knownActions:[_e],actionByRoot:{}},_e._byClipCacheIndex=0,st[tt]=ot;else{const at=ot.knownActions;_e._byClipCacheIndex=at.length,at.push(_e)}_e._cacheIndex=nt.length,nt.push(_e),ot.actionByRoot[rt]=_e}_removeInactiveAction(_e){const tt=this._actions,rt=tt[tt.length-1],nt=_e._cacheIndex;rt._cacheIndex=nt,tt[nt]=rt,tt.pop(),_e._cacheIndex=null;const st=_e._clip.uuid,ot=this._actionsByClip,at=ot[st],lt=at.knownActions,ft=lt[lt.length-1],dt=_e._byClipCacheIndex;ft._byClipCacheIndex=dt,lt[dt]=ft,lt.pop(),_e._byClipCacheIndex=null;const gt=at.actionByRoot,pt=(_e._localRoot||this._root).uuid;delete gt[pt],lt.length===0&&delete ot[st],this._removeInactiveBindingsForAction(_e)}_removeInactiveBindingsForAction(_e){const tt=_e._propertyBindings;for(let rt=0,nt=tt.length;rt!==nt;++rt){const st=tt[rt];--st.referenceCount===0&&this._removeInactiveBinding(st)}}_lendAction(_e){const tt=this._actions,rt=_e._cacheIndex,nt=this._nActiveActions++,st=tt[nt];_e._cacheIndex=nt,tt[nt]=_e,st._cacheIndex=rt,tt[rt]=st}_takeBackAction(_e){const tt=this._actions,rt=_e._cacheIndex,nt=--this._nActiveActions,st=tt[nt];_e._cacheIndex=nt,tt[nt]=_e,st._cacheIndex=rt,tt[rt]=st}_addInactiveBinding(_e,tt,rt){const nt=this._bindingsByRootAndName,st=this._bindings;let ot=nt[tt];ot===void 0&&(ot={},nt[tt]=ot),ot[rt]=_e,_e._cacheIndex=st.length,st.push(_e)}_removeInactiveBinding(_e){const tt=this._bindings,rt=_e.binding,nt=rt.rootNode.uuid,st=rt.path,ot=this._bindingsByRootAndName,at=ot[nt],lt=tt[tt.length-1],ft=_e._cacheIndex;lt._cacheIndex=ft,tt[ft]=lt,tt.pop(),delete at[st],Object.keys(at).length===0&&delete ot[nt]}_lendBinding(_e){const tt=this._bindings,rt=_e._cacheIndex,nt=this._nActiveBindings++,st=tt[nt];_e._cacheIndex=nt,tt[nt]=_e,st._cacheIndex=rt,tt[rt]=st}_takeBackBinding(_e){const tt=this._bindings,rt=_e._cacheIndex,nt=--this._nActiveBindings,st=tt[nt];_e._cacheIndex=nt,tt[nt]=_e,st._cacheIndex=rt,tt[rt]=st}_lendControlInterpolant(){const _e=this._controlInterpolants,tt=this._nActiveControlInterpolants++;let rt=_e[tt];return rt===void 0&&(rt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),rt.__cacheIndex=tt,_e[tt]=rt),rt}_takeBackControlInterpolant(_e){const tt=this._controlInterpolants,rt=_e.__cacheIndex,nt=--this._nActiveControlInterpolants,st=tt[nt];_e.__cacheIndex=nt,tt[nt]=_e,st.__cacheIndex=rt,tt[rt]=st}clipAction(_e,tt,rt){const nt=tt||this._root,st=nt.uuid;let ot=typeof _e=="string"?AnimationClip.findByName(nt,_e):_e;const at=ot!==null?ot.uuid:_e,lt=this._actionsByClip[at];let ft=null;if(rt===void 0&&(ot!==null?rt=ot.blendMode:rt=NormalAnimationBlendMode),lt!==void 0){const gt=lt.actionByRoot[st];if(gt!==void 0&&gt.blendMode===rt)return gt;ft=lt.knownActions[0],ot===null&&(ot=ft._clip)}if(ot===null)return null;const dt=new AnimationAction(this,ot,tt,rt);return this._bindAction(dt,ft),this._addInactiveAction(dt,at,st),dt}existingAction(_e,tt){const rt=tt||this._root,nt=rt.uuid,st=typeof _e=="string"?AnimationClip.findByName(rt,_e):_e,ot=st?st.uuid:_e,at=this._actionsByClip[ot];return at!==void 0&&at.actionByRoot[nt]||null}stopAllAction(){const _e=this._actions,tt=this._nActiveActions;for(let rt=tt-1;rt>=0;--rt)_e[rt].stop();return this}update(_e){_e*=this.timeScale;const tt=this._actions,rt=this._nActiveActions,nt=this.time+=_e,st=Math.sign(_e),ot=this._accuIndex^=1;for(let ft=0;ft!==rt;++ft)tt[ft]._update(nt,_e,st,ot);const at=this._bindings,lt=this._nActiveBindings;for(let ft=0;ft!==lt;++ft)at[ft].apply(ot);return this}setTime(_e){this.time=0;for(let tt=0;tt<this._actions.length;tt++)this._actions[tt].time=0;return this.update(_e)}getRoot(){return this._root}uncacheClip(_e){const tt=this._actions,rt=_e.uuid,nt=this._actionsByClip,st=nt[rt];if(st!==void 0){const ot=st.knownActions;for(let at=0,lt=ot.length;at!==lt;++at){const ft=ot[at];this._deactivateAction(ft);const dt=ft._cacheIndex,gt=tt[tt.length-1];ft._cacheIndex=null,ft._byClipCacheIndex=null,gt._cacheIndex=dt,tt[dt]=gt,tt.pop(),this._removeInactiveBindingsForAction(ft)}delete nt[rt]}}uncacheRoot(_e){const tt=_e.uuid,rt=this._actionsByClip;for(const ot in rt){const at=rt[ot].actionByRoot,lt=at[tt];lt!==void 0&&(this._deactivateAction(lt),this._removeInactiveAction(lt))}const nt=this._bindingsByRootAndName,st=nt[tt];if(st!==void 0)for(const ot in st){const at=st[ot];at.restoreOriginalState(),this._removeInactiveBinding(at)}}uncacheAction(_e,tt){const rt=this.existingAction(_e,tt);rt!==null&&(this._deactivateAction(rt),this._removeInactiveAction(rt))}}class Uniform{constructor(_e){this.value=_e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(_e){return this.uniforms.push(_e),this}remove(_e){const tt=this.uniforms.indexOf(_e);return tt!==-1&&this.uniforms.splice(tt,1),this}setName(_e){return this.name=_e,this}setUsage(_e){return this.usage=_e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(_e){this.name=_e.name,this.usage=_e.usage;const tt=_e.uniforms;this.uniforms.length=0;for(let rt=0,nt=tt.length;rt<nt;rt++)this.uniforms.push(tt[rt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(_e,tt,rt=1){super(_e,tt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=rt}copy(_e){return super.copy(_e),this.meshPerAttribute=_e.meshPerAttribute,this}clone(_e){const tt=super.clone(_e);return tt.meshPerAttribute=this.meshPerAttribute,tt}toJSON(_e){const tt=super.toJSON(_e);return tt.isInstancedInterleavedBuffer=!0,tt.meshPerAttribute=this.meshPerAttribute,tt}}class GLBufferAttribute{constructor(_e,tt,rt,nt,st){this.isGLBufferAttribute=!0,this.name="",this.buffer=_e,this.type=tt,this.itemSize=rt,this.elementSize=nt,this.count=st,this.version=0}set needsUpdate(_e){_e===!0&&this.version++}setBuffer(_e){return this.buffer=_e,this}setType(_e,tt){return this.type=_e,this.elementSize=tt,this}setItemSize(_e){return this.itemSize=_e,this}setCount(_e){return this.count=_e,this}}class Raycaster{constructor(_e,tt,rt=0,nt=1/0){this.ray=new Ray(_e,tt),this.near=rt,this.far=nt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(_e,tt){this.ray.set(_e,tt)}setFromCamera(_e,tt){tt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(tt.matrixWorld),this.ray.direction.set(_e.x,_e.y,.5).unproject(tt).sub(this.ray.origin).normalize(),this.camera=tt):tt.isOrthographicCamera?(this.ray.origin.set(_e.x,_e.y,(tt.near+tt.far)/(tt.near-tt.far)).unproject(tt),this.ray.direction.set(0,0,-1).transformDirection(tt.matrixWorld),this.camera=tt):console.error("THREE.Raycaster: Unsupported camera type: "+tt.type)}intersectObject(_e,tt=!0,rt=[]){return intersectObject(_e,this,rt,tt),rt.sort(ascSort),rt}intersectObjects(_e,tt=!0,rt=[]){for(let nt=0,st=_e.length;nt<st;nt++)intersectObject(_e[nt],this,rt,tt);return rt.sort(ascSort),rt}}function ascSort(et,_e){return et.distance-_e.distance}function intersectObject(et,_e,tt,rt){if(et.layers.test(_e.layers)&&et.raycast(_e,tt),rt===!0){const nt=et.children;for(let st=0,ot=nt.length;st<ot;st++)intersectObject(nt[st],_e,tt,!0)}}class Spherical{constructor(_e=1,tt=0,rt=0){return this.radius=_e,this.phi=tt,this.theta=rt,this}set(_e,tt,rt){return this.radius=_e,this.phi=tt,this.theta=rt,this}copy(_e){return this.radius=_e.radius,this.phi=_e.phi,this.theta=_e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(_e){return this.setFromCartesianCoords(_e.x,_e.y,_e.z)}setFromCartesianCoords(_e,tt,rt){return this.radius=Math.sqrt(_e*_e+tt*tt+rt*rt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(_e,rt),this.phi=Math.acos(clamp(tt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(_e=1,tt=0,rt=0){return this.radius=_e,this.theta=tt,this.y=rt,this}set(_e,tt,rt){return this.radius=_e,this.theta=tt,this.y=rt,this}copy(_e){return this.radius=_e.radius,this.theta=_e.theta,this.y=_e.y,this}setFromVector3(_e){return this.setFromCartesianCoords(_e.x,_e.y,_e.z)}setFromCartesianCoords(_e,tt,rt){return this.radius=Math.sqrt(_e*_e+rt*rt),this.theta=Math.atan2(_e,rt),this.y=tt,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(_e=new Vector2(1/0,1/0),tt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=_e,this.max=tt}set(_e,tt){return this.min.copy(_e),this.max.copy(tt),this}setFromPoints(_e){this.makeEmpty();for(let tt=0,rt=_e.length;tt<rt;tt++)this.expandByPoint(_e[tt]);return this}setFromCenterAndSize(_e,tt){const rt=_vector$4.copy(tt).multiplyScalar(.5);return this.min.copy(_e).sub(rt),this.max.copy(_e).add(rt),this}clone(){return new this.constructor().copy(this)}copy(_e){return this.min.copy(_e.min),this.max.copy(_e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(_e){return this.isEmpty()?_e.set(0,0):_e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_e){return this.isEmpty()?_e.set(0,0):_e.subVectors(this.max,this.min)}expandByPoint(_e){return this.min.min(_e),this.max.max(_e),this}expandByVector(_e){return this.min.sub(_e),this.max.add(_e),this}expandByScalar(_e){return this.min.addScalar(-_e),this.max.addScalar(_e),this}containsPoint(_e){return!(_e.x<this.min.x||_e.x>this.max.x||_e.y<this.min.y||_e.y>this.max.y)}containsBox(_e){return this.min.x<=_e.min.x&&_e.max.x<=this.max.x&&this.min.y<=_e.min.y&&_e.max.y<=this.max.y}getParameter(_e,tt){return tt.set((_e.x-this.min.x)/(this.max.x-this.min.x),(_e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(_e){return!(_e.max.x<this.min.x||_e.min.x>this.max.x||_e.max.y<this.min.y||_e.min.y>this.max.y)}clampPoint(_e,tt){return tt.copy(_e).clamp(this.min,this.max)}distanceToPoint(_e){return _vector$4.copy(_e).clamp(this.min,this.max).sub(_e).length()}intersect(_e){return this.min.max(_e.min),this.max.min(_e.max),this}union(_e){return this.min.min(_e.min),this.max.max(_e.max),this}translate(_e){return this.min.add(_e),this.max.add(_e),this}equals(_e){return _e.min.equals(this.min)&&_e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(_e=new Vector3,tt=new Vector3){this.start=_e,this.end=tt}set(_e,tt){return this.start.copy(_e),this.end.copy(tt),this}copy(_e){return this.start.copy(_e.start),this.end.copy(_e.end),this}getCenter(_e){return _e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(_e){return _e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(_e,tt){return this.delta(tt).multiplyScalar(_e).add(this.start)}closestPointToPointParameter(_e,tt){_startP.subVectors(_e,this.start),_startEnd.subVectors(this.end,this.start);const rt=_startEnd.dot(_startEnd);let st=_startEnd.dot(_startP)/rt;return tt&&(st=clamp(st,0,1)),st}closestPointToPoint(_e,tt,rt){const nt=this.closestPointToPointParameter(_e,tt);return this.delta(rt).multiplyScalar(nt).add(this.start)}applyMatrix4(_e){return this.start.applyMatrix4(_e),this.end.applyMatrix4(_e),this}equals(_e){return _e.start.equals(this.start)&&_e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(_e,tt){super(),this.light=_e,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="SpotLightHelper";const rt=new BufferGeometry,nt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let ot=0,at=1,lt=32;ot<lt;ot++,at++){const ft=ot/lt*Math.PI*2,dt=at/lt*Math.PI*2;nt.push(Math.cos(ft),Math.sin(ft),1,Math.cos(dt),Math.sin(dt),1)}rt.setAttribute("position",new Float32BufferAttribute(nt,3));const st=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(rt,st),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const _e=this.light.distance?this.light.distance:1e3,tt=_e*Math.tan(this.light.angle);this.cone.scale.set(tt,tt,_e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(_e){const tt=getBoneList(_e),rt=new BufferGeometry,nt=[],st=[],ot=new Color(0,0,1),at=new Color(0,1,0);for(let ft=0;ft<tt.length;ft++){const dt=tt[ft];dt.parent&&dt.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),st.push(ot.r,ot.g,ot.b),st.push(at.r,at.g,at.b))}rt.setAttribute("position",new Float32BufferAttribute(nt,3)),rt.setAttribute("color",new Float32BufferAttribute(st,3));const lt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(rt,lt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=_e,this.bones=tt,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(_e){const tt=this.bones,rt=this.geometry,nt=rt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let st=0,ot=0;st<tt.length;st++){const at=tt[st];at.parent&&at.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,at.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(ot,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,at.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(ot+1,_vector$2.x,_vector$2.y,_vector$2.z),ot+=2)}rt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(_e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(et){const _e=[];et.isBone===!0&&_e.push(et);for(let tt=0;tt<et.children.length;tt++)_e.push.apply(_e,getBoneList(et.children[tt]));return _e}class PointLightHelper extends Mesh{constructor(_e,tt,rt){const nt=new SphereGeometry(tt,4,2),st=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(nt,st),this.light=_e,this.color=rt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(_e,tt,rt){super(),this.light=_e,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=rt,this.type="HemisphereLightHelper";const nt=new OctahedronGeometry(tt);nt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const st=nt.getAttribute("position"),ot=new Float32Array(st.count*3);nt.setAttribute("color",new BufferAttribute(ot,3)),this.add(new Mesh(nt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const _e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const tt=_e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let rt=0,nt=tt.count;rt<nt;rt++){const st=rt<nt/2?_color1:_color2;tt.setXYZ(rt,st.r,st.g,st.b)}tt.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),_e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(_e=10,tt=10,rt=4473924,nt=8947848){rt=new Color(rt),nt=new Color(nt);const st=tt/2,ot=_e/tt,at=_e/2,lt=[],ft=[];for(let pt=0,vt=0,St=-at;pt<=tt;pt++,St+=ot){lt.push(-at,0,St,at,0,St),lt.push(St,0,-at,St,0,at);const At=pt===st?rt:nt;At.toArray(ft,vt),vt+=3,At.toArray(ft,vt),vt+=3,At.toArray(ft,vt),vt+=3,At.toArray(ft,vt),vt+=3}const dt=new BufferGeometry;dt.setAttribute("position",new Float32BufferAttribute(lt,3)),dt.setAttribute("color",new Float32BufferAttribute(ft,3));const gt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(dt,gt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(_e=10,tt=16,rt=8,nt=64,st=4473924,ot=8947848){st=new Color(st),ot=new Color(ot);const at=[],lt=[];if(tt>1)for(let gt=0;gt<tt;gt++){const pt=gt/tt*(Math.PI*2),vt=Math.sin(pt)*_e,St=Math.cos(pt)*_e;at.push(0,0,0),at.push(vt,0,St);const At=gt&1?st:ot;lt.push(At.r,At.g,At.b),lt.push(At.r,At.g,At.b)}for(let gt=0;gt<rt;gt++){const pt=gt&1?st:ot,vt=_e-_e/rt*gt;for(let St=0;St<nt;St++){let At=St/nt*(Math.PI*2),Tt=Math.sin(At)*vt,Ct=Math.cos(At)*vt;at.push(Tt,0,Ct),lt.push(pt.r,pt.g,pt.b),At=(St+1)/nt*(Math.PI*2),Tt=Math.sin(At)*vt,Ct=Math.cos(At)*vt,at.push(Tt,0,Ct),lt.push(pt.r,pt.g,pt.b)}}const ft=new BufferGeometry;ft.setAttribute("position",new Float32BufferAttribute(at,3)),ft.setAttribute("color",new Float32BufferAttribute(lt,3));const dt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ft,dt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(_e,tt,rt){super(),this.light=_e,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=rt,this.type="DirectionalLightHelper",tt===void 0&&(tt=1);let nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute([-tt,tt,0,tt,tt,0,tt,-tt,0,-tt,-tt,0,-tt,tt,0],3));const st=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(nt,st),this.add(this.lightPlane),nt=new BufferGeometry,nt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(nt,st),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(_e){const tt=new BufferGeometry,rt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),nt=[],st=[],ot={};at("n1","n2"),at("n2","n4"),at("n4","n3"),at("n3","n1"),at("f1","f2"),at("f2","f4"),at("f4","f3"),at("f3","f1"),at("n1","f1"),at("n2","f2"),at("n3","f3"),at("n4","f4"),at("p","n1"),at("p","n2"),at("p","n3"),at("p","n4"),at("u1","u2"),at("u2","u3"),at("u3","u1"),at("c","t"),at("p","c"),at("cn1","cn2"),at("cn3","cn4"),at("cf1","cf2"),at("cf3","cf4");function at(St,At){lt(St),lt(At)}function lt(St){nt.push(0,0,0),st.push(0,0,0),ot[St]===void 0&&(ot[St]=[]),ot[St].push(nt.length/3-1)}tt.setAttribute("position",new Float32BufferAttribute(nt,3)),tt.setAttribute("color",new Float32BufferAttribute(st,3)),super(tt,rt),this.type="CameraHelper",this.camera=_e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=ot,this.update();const ft=new Color(16755200),dt=new Color(16711680),gt=new Color(43775),pt=new Color(16777215),vt=new Color(3355443);this.setColors(ft,dt,gt,pt,vt)}setColors(_e,tt,rt,nt,st){const at=this.geometry.getAttribute("color");at.setXYZ(0,_e.r,_e.g,_e.b),at.setXYZ(1,_e.r,_e.g,_e.b),at.setXYZ(2,_e.r,_e.g,_e.b),at.setXYZ(3,_e.r,_e.g,_e.b),at.setXYZ(4,_e.r,_e.g,_e.b),at.setXYZ(5,_e.r,_e.g,_e.b),at.setXYZ(6,_e.r,_e.g,_e.b),at.setXYZ(7,_e.r,_e.g,_e.b),at.setXYZ(8,_e.r,_e.g,_e.b),at.setXYZ(9,_e.r,_e.g,_e.b),at.setXYZ(10,_e.r,_e.g,_e.b),at.setXYZ(11,_e.r,_e.g,_e.b),at.setXYZ(12,_e.r,_e.g,_e.b),at.setXYZ(13,_e.r,_e.g,_e.b),at.setXYZ(14,_e.r,_e.g,_e.b),at.setXYZ(15,_e.r,_e.g,_e.b),at.setXYZ(16,_e.r,_e.g,_e.b),at.setXYZ(17,_e.r,_e.g,_e.b),at.setXYZ(18,_e.r,_e.g,_e.b),at.setXYZ(19,_e.r,_e.g,_e.b),at.setXYZ(20,_e.r,_e.g,_e.b),at.setXYZ(21,_e.r,_e.g,_e.b),at.setXYZ(22,_e.r,_e.g,_e.b),at.setXYZ(23,_e.r,_e.g,_e.b),at.setXYZ(24,tt.r,tt.g,tt.b),at.setXYZ(25,tt.r,tt.g,tt.b),at.setXYZ(26,tt.r,tt.g,tt.b),at.setXYZ(27,tt.r,tt.g,tt.b),at.setXYZ(28,tt.r,tt.g,tt.b),at.setXYZ(29,tt.r,tt.g,tt.b),at.setXYZ(30,tt.r,tt.g,tt.b),at.setXYZ(31,tt.r,tt.g,tt.b),at.setXYZ(32,rt.r,rt.g,rt.b),at.setXYZ(33,rt.r,rt.g,rt.b),at.setXYZ(34,rt.r,rt.g,rt.b),at.setXYZ(35,rt.r,rt.g,rt.b),at.setXYZ(36,rt.r,rt.g,rt.b),at.setXYZ(37,rt.r,rt.g,rt.b),at.setXYZ(38,nt.r,nt.g,nt.b),at.setXYZ(39,nt.r,nt.g,nt.b),at.setXYZ(40,st.r,st.g,st.b),at.setXYZ(41,st.r,st.g,st.b),at.setXYZ(42,st.r,st.g,st.b),at.setXYZ(43,st.r,st.g,st.b),at.setXYZ(44,st.r,st.g,st.b),at.setXYZ(45,st.r,st.g,st.b),at.setXYZ(46,st.r,st.g,st.b),at.setXYZ(47,st.r,st.g,st.b),at.setXYZ(48,st.r,st.g,st.b),at.setXYZ(49,st.r,st.g,st.b),at.needsUpdate=!0}update(){const _e=this.geometry,tt=this.pointMap,rt=1,nt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",tt,_e,_camera,0,0,-1),setPoint("t",tt,_e,_camera,0,0,1),setPoint("n1",tt,_e,_camera,-rt,-nt,-1),setPoint("n2",tt,_e,_camera,rt,-nt,-1),setPoint("n3",tt,_e,_camera,-rt,nt,-1),setPoint("n4",tt,_e,_camera,rt,nt,-1),setPoint("f1",tt,_e,_camera,-rt,-nt,1),setPoint("f2",tt,_e,_camera,rt,-nt,1),setPoint("f3",tt,_e,_camera,-rt,nt,1),setPoint("f4",tt,_e,_camera,rt,nt,1),setPoint("u1",tt,_e,_camera,rt*.7,nt*1.1,-1),setPoint("u2",tt,_e,_camera,-rt*.7,nt*1.1,-1),setPoint("u3",tt,_e,_camera,0,nt*2,-1),setPoint("cf1",tt,_e,_camera,-rt,0,1),setPoint("cf2",tt,_e,_camera,rt,0,1),setPoint("cf3",tt,_e,_camera,0,-nt,1),setPoint("cf4",tt,_e,_camera,0,nt,1),setPoint("cn1",tt,_e,_camera,-rt,0,-1),setPoint("cn2",tt,_e,_camera,rt,0,-1),setPoint("cn3",tt,_e,_camera,0,-nt,-1),setPoint("cn4",tt,_e,_camera,0,nt,-1),_e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(et,_e,tt,rt,nt,st,ot){_vector.set(nt,st,ot).unproject(rt);const at=_e[et];if(at!==void 0){const lt=tt.getAttribute("position");for(let ft=0,dt=at.length;ft<dt;ft++)lt.setXYZ(at[ft],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(_e,tt=16776960){const rt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=new Float32Array(8*3),st=new BufferGeometry;st.setIndex(new BufferAttribute(rt,1)),st.setAttribute("position",new BufferAttribute(nt,3)),super(st,new LineBasicMaterial({color:tt,toneMapped:!1})),this.object=_e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(_e){if(_e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const tt=_box.min,rt=_box.max,nt=this.geometry.attributes.position,st=nt.array;st[0]=rt.x,st[1]=rt.y,st[2]=rt.z,st[3]=tt.x,st[4]=rt.y,st[5]=rt.z,st[6]=tt.x,st[7]=tt.y,st[8]=rt.z,st[9]=rt.x,st[10]=tt.y,st[11]=rt.z,st[12]=rt.x,st[13]=rt.y,st[14]=tt.z,st[15]=tt.x,st[16]=rt.y,st[17]=tt.z,st[18]=tt.x,st[19]=tt.y,st[20]=tt.z,st[21]=rt.x,st[22]=tt.y,st[23]=tt.z,nt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(_e){return this.object=_e,this.update(),this}copy(_e,tt){return super.copy(_e,tt),this.object=_e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(_e,tt=16776960){const rt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],st=new BufferGeometry;st.setIndex(new BufferAttribute(rt,1)),st.setAttribute("position",new Float32BufferAttribute(nt,3)),super(st,new LineBasicMaterial({color:tt,toneMapped:!1})),this.box=_e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(_e){const tt=this.box;tt.isEmpty()||(tt.getCenter(this.position),tt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(_e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(_e,tt=1,rt=16776960){const nt=rt,st=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(st,3)),ot.computeBoundingSphere(),super(ot,new LineBasicMaterial({color:nt,toneMapped:!1})),this.type="PlaneHelper",this.plane=_e,this.size=tt;const at=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(at,3)),lt.computeBoundingSphere(),this.add(new Mesh(lt,new MeshBasicMaterial({color:nt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(_e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(_e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(_e=new Vector3(0,0,1),tt=new Vector3(0,0,0),rt=1,nt=16776960,st=rt*.2,ot=st*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(tt),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:nt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:nt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_e),this.setLength(rt,st,ot)}setDirection(_e){if(_e.y>.99999)this.quaternion.set(0,0,0,1);else if(_e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(_e.z,0,-_e.x).normalize();const tt=Math.acos(_e.y);this.quaternion.setFromAxisAngle(_axis,tt)}}setLength(_e,tt=_e*.2,rt=tt*.2){this.line.scale.set(1,Math.max(1e-4,_e-tt),1),this.line.updateMatrix(),this.cone.scale.set(rt,tt,rt),this.cone.position.y=_e,this.cone.updateMatrix()}setColor(_e){this.line.material.color.set(_e),this.cone.material.color.set(_e)}copy(_e){return super.copy(_e,!1),this.line.copy(_e.line),this.cone.copy(_e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(_e=1){const tt=[0,0,0,_e,0,0,0,0,0,0,_e,0,0,0,0,0,0,_e],rt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(tt,3)),nt.setAttribute("color",new Float32BufferAttribute(rt,3));const st=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,st),this.type="AxesHelper"}setColors(_e,tt,rt){const nt=new Color,st=this.geometry.attributes.color.array;return nt.set(_e),nt.toArray(st,0),nt.toArray(st,3),nt.set(tt),nt.toArray(st,6),nt.toArray(st,9),nt.set(rt),nt.toArray(st,12),nt.toArray(st,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(_e,tt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(_e,tt),this}lineTo(_e,tt){return this.currentPath.lineTo(_e,tt),this}quadraticCurveTo(_e,tt,rt,nt){return this.currentPath.quadraticCurveTo(_e,tt,rt,nt),this}bezierCurveTo(_e,tt,rt,nt,st,ot){return this.currentPath.bezierCurveTo(_e,tt,rt,nt,st,ot),this}splineThru(_e){return this.currentPath.splineThru(_e),this}toShapes(_e){function tt(Ct){const Mt=[];for(let Et=0,Rt=Ct.length;Et<Rt;Et++){const Bt=Ct[Et],Ft=new Shape;Ft.curves=Bt.curves,Mt.push(Ft)}return Mt}function rt(Ct,Mt){const Et=Mt.length;let Rt=!1;for(let Bt=Et-1,Ft=0;Ft<Et;Bt=Ft++){let Lt=Mt[Bt],wt=Mt[Ft],Dt=wt.x-Lt.x,Ot=wt.y-Lt.y;if(Math.abs(Ot)>Number.EPSILON){if(Ot<0&&(Lt=Mt[Ft],Dt=-Dt,wt=Mt[Bt],Ot=-Ot),Ct.y<Lt.y||Ct.y>wt.y)continue;if(Ct.y===Lt.y){if(Ct.x===Lt.x)return!0}else{const Ut=Ot*(Ct.x-Lt.x)-Dt*(Ct.y-Lt.y);if(Ut===0)return!0;if(Ut<0)continue;Rt=!Rt}}else{if(Ct.y!==Lt.y)continue;if(wt.x<=Ct.x&&Ct.x<=Lt.x||Lt.x<=Ct.x&&Ct.x<=wt.x)return!0}}return Rt}const nt=ShapeUtils.isClockWise,st=this.subPaths;if(st.length===0)return[];let ot,at,lt;const ft=[];if(st.length===1)return at=st[0],lt=new Shape,lt.curves=at.curves,ft.push(lt),ft;let dt=!nt(st[0].getPoints());dt=_e?!dt:dt;const gt=[],pt=[];let vt=[],St=0,At;pt[St]=void 0,vt[St]=[];for(let Ct=0,Mt=st.length;Ct<Mt;Ct++)at=st[Ct],At=at.getPoints(),ot=nt(At),ot=_e?!ot:ot,ot?(!dt&&pt[St]&&St++,pt[St]={s:new Shape,p:At},pt[St].s.curves=at.curves,dt&&St++,vt[St]=[]):vt[St].push({h:at,p:At[0]});if(!pt[0])return tt(st);if(pt.length>1){let Ct=!1,Mt=0;for(let Et=0,Rt=pt.length;Et<Rt;Et++)gt[Et]=[];for(let Et=0,Rt=pt.length;Et<Rt;Et++){const Bt=vt[Et];for(let Ft=0;Ft<Bt.length;Ft++){const Lt=Bt[Ft];let wt=!0;for(let Dt=0;Dt<pt.length;Dt++)rt(Lt.p,pt[Dt].p)&&(Et!==Dt&&Mt++,wt?(wt=!1,gt[Dt].push(Lt)):Ct=!0);wt&&gt[Et].push(Lt)}}Mt>0&&Ct===!1&&(vt=gt)}let Tt;for(let Ct=0,Mt=pt.length;Ct<Mt;Ct++){lt=pt[Ct].s,ft.push(lt),Tt=vt[Ct];for(let Et=0,Rt=Tt.length;Et<Rt;Et++)lt.holes.push(Tt[Et].h)}return ft}}const _tables=_generateTables();function _generateTables(){const et=new ArrayBuffer(4),_e=new Float32Array(et),tt=new Uint32Array(et),rt=new Uint32Array(512),nt=new Uint32Array(512);for(let lt=0;lt<256;++lt){const ft=lt-127;ft<-27?(rt[lt]=0,rt[lt|256]=32768,nt[lt]=24,nt[lt|256]=24):ft<-14?(rt[lt]=1024>>-ft-14,rt[lt|256]=1024>>-ft-14|32768,nt[lt]=-ft-1,nt[lt|256]=-ft-1):ft<=15?(rt[lt]=ft+15<<10,rt[lt|256]=ft+15<<10|32768,nt[lt]=13,nt[lt|256]=13):ft<128?(rt[lt]=31744,rt[lt|256]=64512,nt[lt]=24,nt[lt|256]=24):(rt[lt]=31744,rt[lt|256]=64512,nt[lt]=13,nt[lt|256]=13)}const st=new Uint32Array(2048),ot=new Uint32Array(64),at=new Uint32Array(64);for(let lt=1;lt<1024;++lt){let ft=lt<<13,dt=0;for(;!(ft&8388608);)ft<<=1,dt-=8388608;ft&=-8388609,dt+=947912704,st[lt]=ft|dt}for(let lt=1024;lt<2048;++lt)st[lt]=939524096+(lt-1024<<13);for(let lt=1;lt<31;++lt)ot[lt]=lt<<23;ot[31]=1199570944,ot[32]=2147483648;for(let lt=33;lt<63;++lt)ot[lt]=2147483648+(lt-32<<23);ot[63]=3347054592;for(let lt=1;lt<64;++lt)lt!==32&&(at[lt]=1024);return{floatView:_e,uint32View:tt,baseTable:rt,shiftTable:nt,mantissaTable:st,exponentTable:ot,offsetTable:at}}function toHalfFloat(et){Math.abs(et)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),et=clamp(et,-65504,65504),_tables.floatView[0]=et;const _e=_tables.uint32View[0],tt=_e>>23&511;return _tables.baseTable[tt]+((_e&8388607)>>_tables.shiftTable[tt])}function fromHalfFloat(et){const _e=et>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[_e]+(et&1023)]+_tables.exponentTable[_e],_tables.floatView[0]}var DataUtils=Object.freeze({__proto__:null,fromHalfFloat,toHalfFloat});class BoxBufferGeometry extends BoxGeometry{constructor(_e,tt,rt,nt,st,ot){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(_e,tt,rt,nt,st,ot)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(_e,tt,rt,nt){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(_e,tt,rt,nt)}}class CircleBufferGeometry extends CircleGeometry{constructor(_e,tt,rt,nt){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(_e,tt,rt,nt)}}class ConeBufferGeometry extends ConeGeometry{constructor(_e,tt,rt,nt,st,ot,at){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(_e,tt,rt,nt,st,ot,at)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(_e,tt,rt,nt,st,ot,at,lt){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(_e,tt,rt,nt,st,ot,at,lt)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(_e,tt){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(_e,tt)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(_e,tt){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(_e,tt)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(_e,tt){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(_e,tt)}}class LatheBufferGeometry extends LatheGeometry{constructor(_e,tt,rt,nt){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(_e,tt,rt,nt)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(_e,tt){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(_e,tt)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(_e,tt,rt,nt){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(_e,tt,rt,nt)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(_e,tt,rt,nt){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(_e,tt,rt,nt)}}class RingBufferGeometry extends RingGeometry{constructor(_e,tt,rt,nt,st,ot){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(_e,tt,rt,nt,st,ot)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(_e,tt){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(_e,tt)}}class SphereBufferGeometry extends SphereGeometry{constructor(_e,tt,rt,nt,st,ot,at){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(_e,tt,rt,nt,st,ot,at)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(_e,tt){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(_e,tt)}}class TorusBufferGeometry extends TorusGeometry{constructor(_e,tt,rt,nt,st){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(_e,tt,rt,nt,st)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(_e,tt,rt,nt,st,ot){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(_e,tt,rt,nt,st,ot)}}class TubeBufferGeometry extends TubeGeometry{constructor(_e,tt,rt,nt,st){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(_e,tt,rt,nt,st)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const r$4=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera:PerspectiveCamera$1,Plane,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$4(et){let _e;const tt=new Set,rt=(ft,dt)=>{const gt=typeof ft=="function"?ft(_e):ft;if(gt!==_e){const pt=_e;_e=dt?gt:Object.assign({},_e,gt),tt.forEach(vt=>vt(_e,pt))}},nt=()=>_e,st=(ft,dt=nt,gt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let pt=dt(_e);function vt(){const St=dt(_e);if(!gt(pt,St)){const At=pt;ft(pt=St,At)}}return tt.add(vt),()=>tt.delete(vt)},lt={setState:rt,getState:nt,subscribe:(ft,dt,gt)=>dt||gt?st(ft,dt,gt):(tt.add(ft),()=>tt.delete(ft)),destroy:()=>tt.clear()};return _e=et(rt,nt,lt),lt}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$3(et){const _e=typeof et=="function"?createStore$4(et):et,tt=(rt=_e.getState,nt=Object.is)=>{const[,st]=reactExports.useReducer(Tt=>Tt+1,0),ot=_e.getState(),at=reactExports.useRef(ot),lt=reactExports.useRef(rt),ft=reactExports.useRef(nt),dt=reactExports.useRef(!1),gt=reactExports.useRef();gt.current===void 0&&(gt.current=rt(ot));let pt,vt=!1;(at.current!==ot||lt.current!==rt||ft.current!==nt||dt.current)&&(pt=rt(ot),vt=!nt(gt.current,pt)),useIsomorphicLayoutEffect$2(()=>{vt&&(gt.current=pt),at.current=ot,lt.current=rt,ft.current=nt,dt.current=!1});const St=reactExports.useRef(ot);useIsomorphicLayoutEffect$2(()=>{const Tt=()=>{try{const Mt=_e.getState(),Et=lt.current(Mt);ft.current(gt.current,Et)||(at.current=Mt,gt.current=Et,st())}catch{dt.current=!0,st()}},Ct=_e.subscribe(Tt);return _e.getState()!==St.current&&Tt(),Ct},[]);const At=vt?pt:gt.current;return reactExports.useDebugValue(At),At};return Object.assign(tt,_e),tt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const rt=[tt,_e];return{next(){const nt=rt.length<=0;return{value:rt.shift(),done:nt}}}},tt}var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(et){function _e(kt,Vt){var Zt=kt.length;kt.push(Vt);e:for(;0<Zt;){var Wt=Zt-1>>>1,nr=kt[Wt];if(0<nt(nr,Vt))kt[Wt]=Vt,kt[Zt]=nr,Zt=Wt;else break e}}function tt(kt){return kt.length===0?null:kt[0]}function rt(kt){if(kt.length===0)return null;var Vt=kt[0],Zt=kt.pop();if(Zt!==Vt){kt[0]=Zt;e:for(var Wt=0,nr=kt.length,sr=nr>>>1;Wt<sr;){var lr=2*(Wt+1)-1,dr=kt[lr],hr=lr+1,wr=kt[hr];if(0>nt(dr,Zt))hr<nr&&0>nt(wr,dr)?(kt[Wt]=wr,kt[hr]=Zt,Wt=hr):(kt[Wt]=dr,kt[lr]=Zt,Wt=lr);else if(hr<nr&&0>nt(wr,Zt))kt[Wt]=wr,kt[hr]=Zt,Wt=hr;else break e}}return Vt}function nt(kt,Vt){var Zt=kt.sortIndex-Vt.sortIndex;return Zt!==0?Zt:kt.id-Vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;et.unstable_now=function(){return st.now()}}else{var ot=Date,at=ot.now();et.unstable_now=function(){return ot.now()-at}}var lt=[],ft=[],dt=1,gt=null,pt=3,vt=!1,St=!1,At=!1,Tt=typeof setTimeout=="function"?setTimeout:null,Ct=typeof clearTimeout=="function"?clearTimeout:null,Mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(kt){for(var Vt=tt(ft);Vt!==null;){if(Vt.callback===null)rt(ft);else if(Vt.startTime<=kt)rt(ft),Vt.sortIndex=Vt.expirationTime,_e(lt,Vt);else break;Vt=tt(ft)}}function Rt(kt){if(At=!1,Et(kt),!St)if(tt(lt)!==null)St=!0,qt(Bt);else{var Vt=tt(ft);Vt!==null&&er(Rt,Vt.startTime-kt)}}function Bt(kt,Vt){St=!1,At&&(At=!1,Ct(wt),wt=-1),vt=!0;var Zt=pt;try{for(Et(Vt),gt=tt(lt);gt!==null&&(!(gt.expirationTime>Vt)||kt&&!Ut());){var Wt=gt.callback;if(typeof Wt=="function"){gt.callback=null,pt=gt.priorityLevel;var nr=Wt(gt.expirationTime<=Vt);Vt=et.unstable_now(),typeof nr=="function"?gt.callback=nr:gt===tt(lt)&&rt(lt),Et(Vt)}else rt(lt);gt=tt(lt)}if(gt!==null)var sr=!0;else{var lr=tt(ft);lr!==null&&er(Rt,lr.startTime-Vt),sr=!1}return sr}finally{gt=null,pt=Zt,vt=!1}}var Ft=!1,Lt=null,wt=-1,Dt=5,Ot=-1;function Ut(){return!(et.unstable_now()-Ot<Dt)}function zt(){if(Lt!==null){var kt=et.unstable_now();Ot=kt;var Vt=!0;try{Vt=Lt(!0,kt)}finally{Vt?tr():(Ft=!1,Lt=null)}}else Ft=!1}var tr;if(typeof Mt=="function")tr=function(){Mt(zt)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Kt=jt.port2;jt.port1.onmessage=zt,tr=function(){Kt.postMessage(null)}}else tr=function(){Tt(zt,0)};function qt(kt){Lt=kt,Ft||(Ft=!0,tr())}function er(kt,Vt){wt=Tt(function(){kt(et.unstable_now())},Vt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(kt){kt.callback=null},et.unstable_continueExecution=function(){St||vt||(St=!0,qt(Bt))},et.unstable_forceFrameRate=function(kt){0>kt||125<kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<kt?Math.floor(1e3/kt):5},et.unstable_getCurrentPriorityLevel=function(){return pt},et.unstable_getFirstCallbackNode=function(){return tt(lt)},et.unstable_next=function(kt){switch(pt){case 1:case 2:case 3:var Vt=3;break;default:Vt=pt}var Zt=pt;pt=Vt;try{return kt()}finally{pt=Zt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(kt,Vt){switch(kt){case 1:case 2:case 3:case 4:case 5:break;default:kt=3}var Zt=pt;pt=kt;try{return Vt()}finally{pt=Zt}},et.unstable_scheduleCallback=function(kt,Vt,Zt){var Wt=et.unstable_now();switch(typeof Zt=="object"&&Zt!==null?(Zt=Zt.delay,Zt=typeof Zt=="number"&&0<Zt?Wt+Zt:Wt):Zt=Wt,kt){case 1:var nr=-1;break;case 2:nr=250;break;case 5:nr=1073741823;break;case 4:nr=1e4;break;default:nr=5e3}return nr=Zt+nr,kt={id:dt++,callback:Vt,priorityLevel:kt,startTime:Zt,expirationTime:nr,sortIndex:-1},Zt>Wt?(kt.sortIndex=Zt,_e(ft,kt),tt(lt)===null&&kt===tt(ft)&&(At?(Ct(wt),wt=-1):At=!0,er(Rt,Zt-Wt))):(kt.sortIndex=nr,_e(lt,kt),St||vt||(St=!0,qt(Bt))),kt},et.unstable_shouldYield=Ut,et.unstable_wrapCallback=function(kt){var Vt=pt;return function(){var Zt=pt;pt=Vt;try{return kt.apply(this,arguments)}finally{pt=Zt}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler$1.exports=requireScheduler_production_min()),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(_e){var tt={},rt=reactExports,nt=requireScheduler(),st=Object.assign;function ot(yt){for(var _t="https://reactjs.org/docs/error-decoder.html?invariant="+yt,Nt=1;Nt<arguments.length;Nt++)_t+="&args[]="+encodeURIComponent(arguments[Nt]);return"Minified React error #"+yt+"; visit "+_t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var at=rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lt=Symbol.for("react.element"),ft=Symbol.for("react.portal"),dt=Symbol.for("react.fragment"),gt=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),St=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),Mt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Rt=Symbol.for("react.offscreen"),Bt=Symbol.iterator;function Ft(yt){return yt===null||typeof yt!="object"?null:(yt=Bt&&yt[Bt]||yt["@@iterator"],typeof yt=="function"?yt:null)}function Lt(yt){if(yt==null)return null;if(typeof yt=="function")return yt.displayName||yt.name||null;if(typeof yt=="string")return yt;switch(yt){case dt:return"Fragment";case ft:return"Portal";case pt:return"Profiler";case gt:return"StrictMode";case Tt:return"Suspense";case Ct:return"SuspenseList"}if(typeof yt=="object")switch(yt.$$typeof){case St:return(yt.displayName||"Context")+".Consumer";case vt:return(yt._context.displayName||"Context")+".Provider";case At:var _t=yt.render;return yt=yt.displayName,yt||(yt=_t.displayName||_t.name||"",yt=yt!==""?"ForwardRef("+yt+")":"ForwardRef"),yt;case Mt:return _t=yt.displayName||null,_t!==null?_t:Lt(yt.type)||"Memo";case Et:_t=yt._payload,yt=yt._init;try{return Lt(yt(_t))}catch{}}return null}function wt(yt){var _t=yt.type;switch(yt.tag){case 24:return"Cache";case 9:return(_t.displayName||"Context")+".Consumer";case 10:return(_t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return yt=_t.render,yt=yt.displayName||yt.name||"",_t.displayName||(yt!==""?"ForwardRef("+yt+")":"ForwardRef");case 7:return"Fragment";case 5:return _t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lt(_t);case 8:return _t===gt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _t=="function")return _t.displayName||_t.name||null;if(typeof _t=="string")return _t}return null}function Dt(yt){var _t=yt,Nt=yt;if(yt.alternate)for(;_t.return;)_t=_t.return;else{yt=_t;do _t=yt,_t.flags&4098&&(Nt=_t.return),yt=_t.return;while(yt)}return _t.tag===3?Nt:null}function Ot(yt){if(Dt(yt)!==yt)throw Error(ot(188))}function Ut(yt){var _t=yt.alternate;if(!_t){if(_t=Dt(yt),_t===null)throw Error(ot(188));return _t!==yt?null:yt}for(var Nt=yt,Ht=_t;;){var rr=Nt.return;if(rr===null)break;var ir=rr.alternate;if(ir===null){if(Ht=rr.return,Ht!==null){Nt=Ht;continue}break}if(rr.child===ir.child){for(ir=rr.child;ir;){if(ir===Nt)return Ot(rr),yt;if(ir===Ht)return Ot(rr),_t;ir=ir.sibling}throw Error(ot(188))}if(Nt.return!==Ht.return)Nt=rr,Ht=ir;else{for(var Sr=!1,Ir=rr.child;Ir;){if(Ir===Nt){Sr=!0,Nt=rr,Ht=ir;break}if(Ir===Ht){Sr=!0,Ht=rr,Nt=ir;break}Ir=Ir.sibling}if(!Sr){for(Ir=ir.child;Ir;){if(Ir===Nt){Sr=!0,Nt=ir,Ht=rr;break}if(Ir===Ht){Sr=!0,Ht=ir,Nt=rr;break}Ir=Ir.sibling}if(!Sr)throw Error(ot(189))}}if(Nt.alternate!==Ht)throw Error(ot(190))}if(Nt.tag!==3)throw Error(ot(188));return Nt.stateNode.current===Nt?yt:_t}function zt(yt){return yt=Ut(yt),yt!==null?tr(yt):null}function tr(yt){if(yt.tag===5||yt.tag===6)return yt;for(yt=yt.child;yt!==null;){var _t=tr(yt);if(_t!==null)return _t;yt=yt.sibling}return null}function jt(yt){if(yt.tag===5||yt.tag===6)return yt;for(yt=yt.child;yt!==null;){if(yt.tag!==4){var _t=jt(yt);if(_t!==null)return _t}yt=yt.sibling}return null}var Kt=Array.isArray,qt=_e.getPublicInstance,er=_e.getRootHostContext,kt=_e.getChildHostContext,Vt=_e.prepareForCommit,Zt=_e.resetAfterCommit,Wt=_e.createInstance,nr=_e.appendInitialChild,sr=_e.finalizeInitialChildren,lr=_e.prepareUpdate,dr=_e.shouldSetTextContent,hr=_e.createTextInstance,wr=_e.scheduleTimeout,pr=_e.cancelTimeout,_r=_e.noTimeout,mr=_e.isPrimaryRenderer,Er=_e.supportsMutation,ur=_e.supportsPersistence,xr=_e.supportsHydration,Ar=_e.getInstanceFromNode,Br=_e.preparePortalMount,kr=_e.getCurrentEventPriority,nn=_e.detachDeletedInstance,Pr=_e.supportsMicrotasks,Xr=_e.scheduleMicrotask,Zr=_e.supportsTestSelectors,zr=_e.findFiberRoot,cr=_e.getBoundingRect,ar=_e.getTextContent,Tr=_e.isHiddenSubtree,Nr=_e.matchAccessibilityRole,Qr=_e.setFocusIfFocusable,en=_e.setupIntersectionObserver,on=_e.appendChild,rn=_e.appendChildToContainer,Vr=_e.commitTextUpdate,ln=_e.commitMount,br=_e.commitUpdate,Gr=_e.insertBefore,Kr=_e.insertInContainerBefore,Wr=_e.removeChild,an=_e.removeChildFromContainer,gn=_e.resetTextContent,Cn=_e.hideInstance,Cr=_e.hideTextInstance,Ur=_e.unhideInstance,tn=_e.unhideTextInstance,fn=_e.clearContainer,mn=_e.cloneInstance,Mn=_e.createContainerChildSet,Hn=_e.appendChildToContainerChildSet,Wn=_e.finalizeContainerChildren,$n=_e.replaceContainerChildren,Un=_e.cloneHiddenInstance,Kn=_e.cloneHiddenTextInstance,Vn=_e.canHydrateInstance,Ls=_e.canHydrateTextInstance,ws=_e.canHydrateSuspenseInstance,qn=_e.isSuspenseInstancePending,ls=_e.isSuspenseInstanceFallback,gr=_e.registerSuspenseInstanceRetry,Dr=_e.getNextHydratableSibling,jr=_e.getFirstHydratableChild,Fr=_e.getFirstHydratableChildWithinContainer,Jr=_e.getFirstHydratableChildWithinSuspenseInstance,vn=_e.hydrateInstance,En=_e.hydrateTextInstance,bn=_e.hydrateSuspenseInstance,In=_e.getNextHydratableInstanceAfterSuspenseInstance,Fn=_e.commitHydratedContainer,On=_e.commitHydratedSuspenseInstance,Nn=_e.clearSuspenseBoundary,ss=_e.clearSuspenseBoundaryFromContainer,ns=_e.shouldDeleteUnhydratedTailInstances,Ns=_e.didNotMatchHydratedContainerTextInstance,Ws=_e.didNotMatchHydratedTextInstance,cn;function Tn(yt){if(cn===void 0)try{throw Error()}catch(Nt){var _t=Nt.stack.trim().match(/\n( *(at )?)/);cn=_t&&_t[1]||""}return`
`+cn+yt}var Eo=!1;function Jn(yt,_t){if(!yt||Eo)return"";Eo=!0;var Nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_t)if(_t=function(){throw Error()},Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(un){var Ht=un}Reflect.construct(yt,[],_t)}else{try{_t.call()}catch(un){Ht=un}yt.call(_t.prototype)}else{try{throw Error()}catch(un){Ht=un}yt()}}catch(un){if(un&&Ht&&typeof un.stack=="string"){for(var rr=un.stack.split(`
`),ir=Ht.stack.split(`
`),Sr=rr.length-1,Ir=ir.length-1;1<=Sr&&0<=Ir&&rr[Sr]!==ir[Ir];)Ir--;for(;1<=Sr&&0<=Ir;Sr--,Ir--)if(rr[Sr]!==ir[Ir]){if(Sr!==1||Ir!==1)do if(Sr--,Ir--,0>Ir||rr[Sr]!==ir[Ir]){var Yr=`
`+rr[Sr].replace(" at new "," at ");return yt.displayName&&Yr.includes("<anonymous>")&&(Yr=Yr.replace("<anonymous>",yt.displayName)),Yr}while(1<=Sr&&0<=Ir);break}}}finally{Eo=!1,Error.prepareStackTrace=Nt}return(yt=yt?yt.displayName||yt.name:"")?Tn(yt):""}var Qs=Object.prototype.hasOwnProperty,uo=[],us=-1;function Ts(yt){return{current:yt}}function Rn(yt){0>us||(yt.current=uo[us],uo[us]=null,us--)}function kn(yt,_t){us++,uo[us]=yt.current,yt.current=_t}var Gs={},Xn=Ts(Gs),gs=Ts(!1),As=Gs;function Ks(yt,_t){var Nt=yt.type.contextTypes;if(!Nt)return Gs;var Ht=yt.stateNode;if(Ht&&Ht.__reactInternalMemoizedUnmaskedChildContext===_t)return Ht.__reactInternalMemoizedMaskedChildContext;var rr={},ir;for(ir in Nt)rr[ir]=_t[ir];return Ht&&(yt=yt.stateNode,yt.__reactInternalMemoizedUnmaskedChildContext=_t,yt.__reactInternalMemoizedMaskedChildContext=rr),rr}function os(yt){return yt=yt.childContextTypes,yt!=null}function bo(){Rn(gs),Rn(Xn)}function Oo(yt,_t,Nt){if(Xn.current!==Gs)throw Error(ot(168));kn(Xn,_t),kn(gs,Nt)}function jo(yt,_t,Nt){var Ht=yt.stateNode;if(_t=_t.childContextTypes,typeof Ht.getChildContext!="function")return Nt;Ht=Ht.getChildContext();for(var rr in Ht)if(!(rr in _t))throw Error(ot(108,wt(yt)||"Unknown",rr));return st({},Nt,Ht)}function co(yt){return yt=(yt=yt.stateNode)&&yt.__reactInternalMemoizedMergedChildContext||Gs,As=Xn.current,kn(Xn,yt),kn(gs,gs.current),!0}function Pl(yt,_t,Nt){var Ht=yt.stateNode;if(!Ht)throw Error(ot(169));Nt?(yt=jo(yt,_t,As),Ht.__reactInternalMemoizedMergedChildContext=yt,Rn(gs),Rn(Xn),kn(Xn,yt)):Rn(gs),kn(gs,Nt)}var Is=Math.clz32?Math.clz32:Rl,ko=Math.log,No=Math.LN2;function Rl(yt){return yt>>>=0,yt===0?32:31-(ko(yt)/No|0)|0}var fo=64,Zs=4194304;function Vs(yt){switch(yt&-yt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return yt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return yt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return yt}}function Go(yt,_t){var Nt=yt.pendingLanes;if(Nt===0)return 0;var Ht=0,rr=yt.suspendedLanes,ir=yt.pingedLanes,Sr=Nt&268435455;if(Sr!==0){var Ir=Sr&~rr;Ir!==0?Ht=Vs(Ir):(ir&=Sr,ir!==0&&(Ht=Vs(ir)))}else Sr=Nt&~rr,Sr!==0?Ht=Vs(Sr):ir!==0&&(Ht=Vs(ir));if(Ht===0)return 0;if(_t!==0&&_t!==Ht&&!(_t&rr)&&(rr=Ht&-Ht,ir=_t&-_t,rr>=ir||rr===16&&(ir&4194240)!==0))return _t;if(Ht&4&&(Ht|=Nt&16),_t=yt.entangledLanes,_t!==0)for(yt=yt.entanglements,_t&=Ht;0<_t;)Nt=31-Is(_t),rr=1<<Nt,Ht|=yt[Nt],_t&=~rr;return Ht}function Ll(yt,_t){switch(yt){case 1:case 2:case 4:return _t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(yt,_t){for(var Nt=yt.suspendedLanes,Ht=yt.pingedLanes,rr=yt.expirationTimes,ir=yt.pendingLanes;0<ir;){var Sr=31-Is(ir),Ir=1<<Sr,Yr=rr[Sr];Yr===-1?(!(Ir&Nt)||Ir&Ht)&&(rr[Sr]=Ll(Ir,_t)):Yr<=_t&&(yt.expiredLanes|=Ir),ir&=~Ir}}function Ao(yt){return yt=yt.pendingLanes&-1073741825,yt!==0?yt:yt&1073741824?1073741824:0}function Wo(yt){for(var _t=[],Nt=0;31>Nt;Nt++)_t.push(yt);return _t}function ho(yt,_t,Nt){yt.pendingLanes|=_t,_t!==536870912&&(yt.suspendedLanes=0,yt.pingedLanes=0),yt=yt.eventTimes,_t=31-Is(_t),yt[_t]=Nt}function Io(yt,_t){var Nt=yt.pendingLanes&~_t;yt.pendingLanes=_t,yt.suspendedLanes=0,yt.pingedLanes=0,yt.expiredLanes&=_t,yt.mutableReadLanes&=_t,yt.entangledLanes&=_t,_t=yt.entanglements;var Ht=yt.eventTimes;for(yt=yt.expirationTimes;0<Nt;){var rr=31-Is(Nt),ir=1<<rr;_t[rr]=0,Ht[rr]=-1,yt[rr]=-1,Nt&=~ir}}function po(yt,_t){var Nt=yt.entangledLanes|=_t;for(yt=yt.entanglements;Nt;){var Ht=31-Is(Nt),rr=1<<Ht;rr&_t|yt[Ht]&_t&&(yt[Ht]|=_t),Nt&=~rr}}var Ln=0;function Ko(yt){return yt&=-yt,1<yt?4<yt?yt&268435455?16:536870912:4:1}var Co=nt.unstable_scheduleCallback,Mo=nt.unstable_cancelCallback,xa=nt.unstable_shouldYield,Xo=nt.unstable_requestPaint,cs=nt.unstable_now,wo=nt.unstable_ImmediatePriority,ba=nt.unstable_UserBlockingPriority,Bs=nt.unstable_NormalPriority,To=nt.unstable_IdlePriority,Po=null,Xs=null;function $a(yt){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(Po,yt,void 0,(yt.current.flags&128)===128)}catch{}}function qo(yt,_t){return yt===_t&&(yt!==0||1/yt===1/_t)||yt!==yt&&_t!==_t}var yr=typeof Object.is=="function"?Object.is:qo,Rr=null,sn=!1,hn=!1;function _i(yt){Rr===null?Rr=[yt]:Rr.push(yt)}function Pn(yt){sn=!0,_i(yt)}function jn(){if(!hn&&Rr!==null){hn=!0;var yt=0,_t=Ln;try{var Nt=Rr;for(Ln=1;yt<Nt.length;yt++){var Ht=Nt[yt];do Ht=Ht(!0);while(Ht!==null)}Rr=null,sn=!1}catch(rr){throw Rr!==null&&(Rr=Rr.slice(yt+1)),Co(wo,jn),rr}finally{Ln=_t,hn=!1}}return null}var fs=at.ReactCurrentBatchConfig;function hs(yt,_t){if(yr(yt,_t))return!0;if(typeof yt!="object"||yt===null||typeof _t!="object"||_t===null)return!1;var Nt=Object.keys(yt),Ht=Object.keys(_t);if(Nt.length!==Ht.length)return!1;for(Ht=0;Ht<Nt.length;Ht++){var rr=Nt[Ht];if(!Qs.call(_t,rr)||!yr(yt[rr],_t[rr]))return!1}return!0}function es(yt){switch(yt.tag){case 5:return Tn(yt.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return yt=Jn(yt.type,!1),yt;case 11:return yt=Jn(yt.type.render,!1),yt;case 1:return yt=Jn(yt.type,!0),yt;default:return""}}function ts(yt,_t){if(yt&&yt.defaultProps){_t=st({},_t),yt=yt.defaultProps;for(var Nt in yt)_t[Nt]===void 0&&(_t[Nt]=yt[Nt]);return _t}return _t}var rs=Ts(null),vs=null,ds=null,Es=null;function qs(){Es=ds=vs=null}function to(yt,_t,Nt){mr?(kn(rs,_t._currentValue),_t._currentValue=Nt):(kn(rs,_t._currentValue2),_t._currentValue2=Nt)}function Ds(yt){var _t=rs.current;Rn(rs),mr?yt._currentValue=_t:yt._currentValue2=_t}function ys(yt,_t,Nt){for(;yt!==null;){var Ht=yt.alternate;if((yt.childLanes&_t)!==_t?(yt.childLanes|=_t,Ht!==null&&(Ht.childLanes|=_t)):Ht!==null&&(Ht.childLanes&_t)!==_t&&(Ht.childLanes|=_t),yt===Nt)break;yt=yt.return}}function _s(yt,_t){vs=yt,Es=ds=null,yt=yt.dependencies,yt!==null&&yt.firstContext!==null&&(yt.lanes&_t&&(ao=!0),yt.firstContext=null)}function Yn(yt){var _t=mr?yt._currentValue:yt._currentValue2;if(Es!==yt)if(yt={context:yt,memoizedValue:_t,next:null},ds===null){if(vs===null)throw Error(ot(308));ds=yt,vs.dependencies={lanes:0,firstContext:yt}}else ds=ds.next=yt;return _t}var Ps=null,Ro=!1;function Wu(yt){yt.updateQueue={baseState:yt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kp(yt,_t){yt=yt.updateQueue,_t.updateQueue===yt&&(_t.updateQueue={baseState:yt.baseState,firstBaseUpdate:yt.firstBaseUpdate,lastBaseUpdate:yt.lastBaseUpdate,shared:yt.shared,effects:yt.effects})}function Uo(yt,_t){return{eventTime:yt,lane:_t,tag:0,payload:null,callback:null,next:null}}function Jo(yt,_t){var Nt=yt.updateQueue;Nt!==null&&(Nt=Nt.shared,Cs!==null&&yt.mode&1&&!(zn&2)?(yt=Nt.interleaved,yt===null?(_t.next=_t,Ps===null?Ps=[Nt]:Ps.push(Nt)):(_t.next=yt.next,yt.next=_t),Nt.interleaved=_t):(yt=Nt.pending,yt===null?_t.next=_t:(_t.next=yt.next,yt.next=_t),Nt.pending=_t))}function lu(yt,_t,Nt){if(_t=_t.updateQueue,_t!==null&&(_t=_t.shared,(Nt&4194240)!==0)){var Ht=_t.lanes;Ht&=yt.pendingLanes,Nt|=Ht,_t.lanes=Nt,po(yt,Nt)}}function Np(yt,_t){var Nt=yt.updateQueue,Ht=yt.alternate;if(Ht!==null&&(Ht=Ht.updateQueue,Nt===Ht)){var rr=null,ir=null;if(Nt=Nt.firstBaseUpdate,Nt!==null){do{var Sr={eventTime:Nt.eventTime,lane:Nt.lane,tag:Nt.tag,payload:Nt.payload,callback:Nt.callback,next:null};ir===null?rr=ir=Sr:ir=ir.next=Sr,Nt=Nt.next}while(Nt!==null);ir===null?rr=ir=_t:ir=ir.next=_t}else rr=ir=_t;Nt={baseState:Ht.baseState,firstBaseUpdate:rr,lastBaseUpdate:ir,shared:Ht.shared,effects:Ht.effects},yt.updateQueue=Nt;return}yt=Nt.lastBaseUpdate,yt===null?Nt.firstBaseUpdate=_t:yt.next=_t,Nt.lastBaseUpdate=_t}function uu(yt,_t,Nt,Ht){var rr=yt.updateQueue;Ro=!1;var ir=rr.firstBaseUpdate,Sr=rr.lastBaseUpdate,Ir=rr.shared.pending;if(Ir!==null){rr.shared.pending=null;var Yr=Ir,un=Yr.next;Yr.next=null,Sr===null?ir=un:Sr.next=un,Sr=Yr;var yn=yt.alternate;yn!==null&&(yn=yn.updateQueue,Ir=yn.lastBaseUpdate,Ir!==Sr&&(Ir===null?yn.firstBaseUpdate=un:Ir.next=un,yn.lastBaseUpdate=Yr))}if(ir!==null){var Bn=rr.baseState;Sr=0,yn=un=Yr=null,Ir=ir;do{var An=Ir.lane,as=Ir.eventTime;if((Ht&An)===An){yn!==null&&(yn=yn.next={eventTime:as,lane:0,tag:Ir.tag,payload:Ir.payload,callback:Ir.callback,next:null});e:{var xn=yt,js=Ir;switch(An=_t,as=Nt,js.tag){case 1:if(xn=js.payload,typeof xn=="function"){Bn=xn.call(as,Bn,An);break e}Bn=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=js.payload,An=typeof xn=="function"?xn.call(as,Bn,An):xn,An==null)break e;Bn=st({},Bn,An);break e;case 2:Ro=!0}}Ir.callback!==null&&Ir.lane!==0&&(yt.flags|=64,An=rr.effects,An===null?rr.effects=[Ir]:An.push(Ir))}else as={eventTime:as,lane:An,tag:Ir.tag,payload:Ir.payload,callback:Ir.callback,next:null},yn===null?(un=yn=as,Yr=Bn):yn=yn.next=as,Sr|=An;if(Ir=Ir.next,Ir===null){if(Ir=rr.shared.pending,Ir===null)break;An=Ir,Ir=An.next,An.next=null,rr.lastBaseUpdate=An,rr.shared.pending=null}}while(1);if(yn===null&&(Yr=Bn),rr.baseState=Yr,rr.firstBaseUpdate=un,rr.lastBaseUpdate=yn,_t=rr.shared.interleaved,_t!==null){rr=_t;do Sr|=rr.lane,rr=rr.next;while(rr!==_t)}else ir===null&&(rr.shared.lanes=0);Vl|=Sr,yt.lanes=Sr,yt.memoizedState=Bn}}function Gp(yt,_t,Nt){if(yt=_t.effects,_t.effects=null,yt!==null)for(_t=0;_t<yt.length;_t++){var Ht=yt[_t],rr=Ht.callback;if(rr!==null){if(Ht.callback=null,Ht=Nt,typeof rr!="function")throw Error(ot(191,rr));rr.call(Ht)}}}var Up=new rt.Component().refs;function Ku(yt,_t,Nt,Ht){_t=yt.memoizedState,Nt=Nt(Ht,_t),Nt=Nt==null?_t:st({},_t,Nt),yt.memoizedState=Nt,yt.lanes===0&&(yt.updateQueue.baseState=Nt)}var cu={isMounted:function(yt){return(yt=yt._reactInternals)?Dt(yt)===yt:!1},enqueueSetState:function(yt,_t,Nt){yt=yt._reactInternals;var Ht=Ys(),rr=Zo(yt),ir=Uo(Ht,rr);ir.payload=_t,Nt!=null&&(ir.callback=Nt),Jo(yt,ir),_t=_o(yt,rr,Ht),_t!==null&&lu(_t,yt,rr)},enqueueReplaceState:function(yt,_t,Nt){yt=yt._reactInternals;var Ht=Ys(),rr=Zo(yt),ir=Uo(Ht,rr);ir.tag=1,ir.payload=_t,Nt!=null&&(ir.callback=Nt),Jo(yt,ir),_t=_o(yt,rr,Ht),_t!==null&&lu(_t,yt,rr)},enqueueForceUpdate:function(yt,_t){yt=yt._reactInternals;var Nt=Ys(),Ht=Zo(yt),rr=Uo(Nt,Ht);rr.tag=2,_t!=null&&(rr.callback=_t),Jo(yt,rr),_t=_o(yt,Ht,Nt),_t!==null&&lu(_t,yt,Ht)}};function Vp(yt,_t,Nt,Ht,rr,ir,Sr){return yt=yt.stateNode,typeof yt.shouldComponentUpdate=="function"?yt.shouldComponentUpdate(Ht,ir,Sr):_t.prototype&&_t.prototype.isPureReactComponent?!hs(Nt,Ht)||!hs(rr,ir):!0}function zp(yt,_t,Nt){var Ht=!1,rr=Gs,ir=_t.contextType;return typeof ir=="object"&&ir!==null?ir=Yn(ir):(rr=os(_t)?As:Xn.current,Ht=_t.contextTypes,ir=(Ht=Ht!=null)?Ks(yt,rr):Gs),_t=new _t(Nt,ir),yt.memoizedState=_t.state!==null&&_t.state!==void 0?_t.state:null,_t.updater=cu,yt.stateNode=_t,_t._reactInternals=yt,Ht&&(yt=yt.stateNode,yt.__reactInternalMemoizedUnmaskedChildContext=rr,yt.__reactInternalMemoizedMaskedChildContext=ir),_t}function Hp(yt,_t,Nt,Ht){yt=_t.state,typeof _t.componentWillReceiveProps=="function"&&_t.componentWillReceiveProps(Nt,Ht),typeof _t.UNSAFE_componentWillReceiveProps=="function"&&_t.UNSAFE_componentWillReceiveProps(Nt,Ht),_t.state!==yt&&cu.enqueueReplaceState(_t,_t.state,null)}function Xu(yt,_t,Nt,Ht){var rr=yt.stateNode;rr.props=Nt,rr.state=yt.memoizedState,rr.refs=Up,Wu(yt);var ir=_t.contextType;typeof ir=="object"&&ir!==null?rr.context=Yn(ir):(ir=os(_t)?As:Xn.current,rr.context=Ks(yt,ir)),rr.state=yt.memoizedState,ir=_t.getDerivedStateFromProps,typeof ir=="function"&&(Ku(yt,_t,ir,Nt),rr.state=yt.memoizedState),typeof _t.getDerivedStateFromProps=="function"||typeof rr.getSnapshotBeforeUpdate=="function"||typeof rr.UNSAFE_componentWillMount!="function"&&typeof rr.componentWillMount!="function"||(_t=rr.state,typeof rr.componentWillMount=="function"&&rr.componentWillMount(),typeof rr.UNSAFE_componentWillMount=="function"&&rr.UNSAFE_componentWillMount(),_t!==rr.state&&cu.enqueueReplaceState(rr,rr.state,null),uu(yt,Nt,rr,Ht),rr.state=yt.memoizedState),typeof rr.componentDidMount=="function"&&(yt.flags|=4194308)}var Il=[],Bl=0,fu=null,hu=0,mo=[],go=0,yl=null,Vo=1,zo="";function _l(yt,_t){Il[Bl++]=hu,Il[Bl++]=fu,fu=yt,hu=_t}function $p(yt,_t,Nt){mo[go++]=Vo,mo[go++]=zo,mo[go++]=yl,yl=yt;var Ht=Vo;yt=zo;var rr=32-Is(Ht)-1;Ht&=~(1<<rr),Nt+=1;var ir=32-Is(_t)+rr;if(30<ir){var Sr=rr-rr%5;ir=(Ht&(1<<Sr)-1).toString(32),Ht>>=Sr,rr-=Sr,Vo=1<<32-Is(_t)+rr|Nt<<rr|Ht,zo=ir+yt}else Vo=1<<ir|Nt<<rr|Ht,zo=yt}function qu(yt){yt.return!==null&&(_l(yt,1),$p(yt,1,0))}function Ju(yt){for(;yt===fu;)fu=Il[--Bl],Il[Bl]=null,hu=Il[--Bl],Il[Bl]=null;for(;yt===yl;)yl=mo[--go],mo[go]=null,zo=mo[--go],mo[go]=null,Vo=mo[--go],mo[go]=null}var so=null,oo=null,ps=!1,Hl=!1,Lo=null;function jp(yt,_t){var Nt=xo(5,null,null,0);Nt.elementType="DELETED",Nt.stateNode=_t,Nt.return=yt,_t=yt.deletions,_t===null?(yt.deletions=[Nt],yt.flags|=16):_t.push(Nt)}function Wp(yt,_t){switch(yt.tag){case 5:return _t=Vn(_t,yt.type,yt.pendingProps),_t!==null?(yt.stateNode=_t,so=yt,oo=jr(_t),!0):!1;case 6:return _t=Ls(_t,yt.pendingProps),_t!==null?(yt.stateNode=_t,so=yt,oo=null,!0):!1;case 13:if(_t=ws(_t),_t!==null){var Nt=yl!==null?{id:Vo,overflow:zo}:null;return yt.memoizedState={dehydrated:_t,treeContext:Nt,retryLane:1073741824},Nt=xo(18,null,null,0),Nt.stateNode=_t,Nt.return=yt,yt.child=Nt,so=yt,oo=null,!0}return!1;default:return!1}}function Yu(yt){return(yt.mode&1)!==0&&(yt.flags&128)===0}function Qu(yt){if(ps){var _t=oo;if(_t){var Nt=_t;if(!Wp(yt,_t)){if(Yu(yt))throw Error(ot(418));_t=Dr(Nt);var Ht=so;_t&&Wp(yt,_t)?jp(Ht,Nt):(yt.flags=yt.flags&-4097|2,ps=!1,so=yt)}}else{if(Yu(yt))throw Error(ot(418));yt.flags=yt.flags&-4097|2,ps=!1,so=yt}}}function Kp(yt){for(yt=yt.return;yt!==null&&yt.tag!==5&&yt.tag!==3&&yt.tag!==13;)yt=yt.return;so=yt}function $l(yt){if(!xr||yt!==so)return!1;if(!ps)return Kp(yt),ps=!0,!1;if(yt.tag!==3&&(yt.tag!==5||ns(yt.type)&&!dr(yt.type,yt.memoizedProps))){var _t=oo;if(_t){if(Yu(yt)){for(yt=oo;yt;)yt=Dr(yt);throw Error(ot(418))}for(;_t;)jp(yt,_t),_t=Dr(_t)}}if(Kp(yt),yt.tag===13){if(!xr)throw Error(ot(316));if(yt=yt.memoizedState,yt=yt!==null?yt.dehydrated:null,!yt)throw Error(ot(317));oo=In(yt)}else oo=so?Dr(yt.stateNode):null;return!0}function Dl(){xr&&(oo=so=null,Hl=ps=!1)}function Zu(yt){Lo===null?Lo=[yt]:Lo.push(yt)}function Wl(yt,_t,Nt){if(yt=Nt.ref,yt!==null&&typeof yt!="function"&&typeof yt!="object"){if(Nt._owner){if(Nt=Nt._owner,Nt){if(Nt.tag!==1)throw Error(ot(309));var Ht=Nt.stateNode}if(!Ht)throw Error(ot(147,yt));var rr=Ht,ir=""+yt;return _t!==null&&_t.ref!==null&&typeof _t.ref=="function"&&_t.ref._stringRef===ir?_t.ref:(_t=function(Sr){var Ir=rr.refs;Ir===Up&&(Ir=rr.refs={}),Sr===null?delete Ir[ir]:Ir[ir]=Sr},_t._stringRef=ir,_t)}if(typeof yt!="string")throw Error(ot(284));if(!Nt._owner)throw Error(ot(290,yt))}return yt}function du(yt,_t){throw yt=Object.prototype.toString.call(_t),Error(ot(31,yt==="[object Object]"?"object with keys {"+Object.keys(_t).join(", ")+"}":yt))}function Xp(yt){var _t=yt._init;return _t(yt._payload)}function qp(yt){function _t(Hr,Or){if(yt){var qr=Hr.deletions;qr===null?(Hr.deletions=[Or],Hr.flags|=16):qr.push(Or)}}function Nt(Hr,Or){if(!yt)return null;for(;Or!==null;)_t(Hr,Or),Or=Or.sibling;return null}function Ht(Hr,Or){for(Hr=new Map;Or!==null;)Or.key!==null?Hr.set(Or.key,Or):Hr.set(Or.index,Or),Or=Or.sibling;return Hr}function rr(Hr,Or){return Hr=ga(Hr,Or),Hr.index=0,Hr.sibling=null,Hr}function ir(Hr,Or,qr){return Hr.index=qr,yt?(qr=Hr.alternate,qr!==null?(qr=qr.index,qr<Or?(Hr.flags|=2,Or):qr):(Hr.flags|=2,Or)):(Hr.flags|=1048576,Or)}function Sr(Hr){return yt&&Hr.alternate===null&&(Hr.flags|=2),Hr}function Ir(Hr,Or,qr,pn){return Or===null||Or.tag!==6?(Or=Dp(qr,Hr.mode,pn),Or.return=Hr,Or):(Or=rr(Or,qr),Or.return=Hr,Or)}function Yr(Hr,Or,qr,pn){var _n=qr.type;return _n===dt?yn(Hr,Or,qr.props.children,pn,qr.key):Or!==null&&(Or.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===Et&&Xp(_n)===Or.type)?(pn=rr(Or,qr.props),pn.ref=Wl(Hr,Or,qr),pn.return=Hr,pn):(pn=$u(qr.type,qr.key,qr.props,null,Hr.mode,pn),pn.ref=Wl(Hr,Or,qr),pn.return=Hr,pn)}function un(Hr,Or,qr,pn){return Or===null||Or.tag!==4||Or.stateNode.containerInfo!==qr.containerInfo||Or.stateNode.implementation!==qr.implementation?(Or=Fp(qr,Hr.mode,pn),Or.return=Hr,Or):(Or=rr(Or,qr.children||[]),Or.return=Hr,Or)}function yn(Hr,Or,qr,pn,_n){return Or===null||Or.tag!==7?(Or=Tl(qr,Hr.mode,pn,_n),Or.return=Hr,Or):(Or=rr(Or,qr),Or.return=Hr,Or)}function Bn(Hr,Or,qr){if(typeof Or=="string"&&Or!==""||typeof Or=="number")return Or=Dp(""+Or,Hr.mode,qr),Or.return=Hr,Or;if(typeof Or=="object"&&Or!==null){switch(Or.$$typeof){case lt:return qr=$u(Or.type,Or.key,Or.props,null,Hr.mode,qr),qr.ref=Wl(Hr,null,Or),qr.return=Hr,qr;case ft:return Or=Fp(Or,Hr.mode,qr),Or.return=Hr,Or;case Et:var pn=Or._init;return Bn(Hr,pn(Or._payload),qr)}if(Kt(Or)||Ft(Or))return Or=Tl(Or,Hr.mode,qr,null),Or.return=Hr,Or;du(Hr,Or)}return null}function An(Hr,Or,qr,pn){var _n=Or!==null?Or.key:null;if(typeof qr=="string"&&qr!==""||typeof qr=="number")return _n!==null?null:Ir(Hr,Or,""+qr,pn);if(typeof qr=="object"&&qr!==null){switch(qr.$$typeof){case lt:return qr.key===_n?Yr(Hr,Or,qr,pn):null;case ft:return qr.key===_n?un(Hr,Or,qr,pn):null;case Et:return _n=qr._init,An(Hr,Or,_n(qr._payload),pn)}if(Kt(qr)||Ft(qr))return _n!==null?null:yn(Hr,Or,qr,pn,null);du(Hr,qr)}return null}function as(Hr,Or,qr,pn,_n){if(typeof pn=="string"&&pn!==""||typeof pn=="number")return Hr=Hr.get(qr)||null,Ir(Or,Hr,""+pn,_n);if(typeof pn=="object"&&pn!==null){switch(pn.$$typeof){case lt:return Hr=Hr.get(pn.key===null?qr:pn.key)||null,Yr(Or,Hr,pn,_n);case ft:return Hr=Hr.get(pn.key===null?qr:pn.key)||null,un(Or,Hr,pn,_n);case Et:var Gn=pn._init;return as(Hr,Or,qr,Gn(pn._payload),_n)}if(Kt(pn)||Ft(pn))return Hr=Hr.get(qr)||null,yn(Or,Hr,pn,_n,null);du(Or,pn)}return null}function xn(Hr,Or,qr,pn){for(var _n=null,Gn=null,Dn=Or,Qn=Or=0,Os=null;Dn!==null&&Qn<qr.length;Qn++){Dn.index>Qn?(Os=Dn,Dn=null):Os=Dn.sibling;var Zn=An(Hr,Dn,qr[Qn],pn);if(Zn===null){Dn===null&&(Dn=Os);break}yt&&Dn&&Zn.alternate===null&&_t(Hr,Dn),Or=ir(Zn,Or,Qn),Gn===null?_n=Zn:Gn.sibling=Zn,Gn=Zn,Dn=Os}if(Qn===qr.length)return Nt(Hr,Dn),ps&&_l(Hr,Qn),_n;if(Dn===null){for(;Qn<qr.length;Qn++)Dn=Bn(Hr,qr[Qn],pn),Dn!==null&&(Or=ir(Dn,Or,Qn),Gn===null?_n=Dn:Gn.sibling=Dn,Gn=Dn);return ps&&_l(Hr,Qn),_n}for(Dn=Ht(Hr,Dn);Qn<qr.length;Qn++)Os=as(Dn,Hr,Qn,qr[Qn],pn),Os!==null&&(yt&&Os.alternate!==null&&Dn.delete(Os.key===null?Qn:Os.key),Or=ir(Os,Or,Qn),Gn===null?_n=Os:Gn.sibling=Os,Gn=Os);return yt&&Dn.forEach(function(_a){return _t(Hr,_a)}),ps&&_l(Hr,Qn),_n}function js(Hr,Or,qr,pn){var _n=Ft(qr);if(typeof _n!="function")throw Error(ot(150));if(qr=_n.call(qr),qr==null)throw Error(ot(151));for(var Gn=_n=null,Dn=Or,Qn=Or=0,Os=null,Zn=qr.next();Dn!==null&&!Zn.done;Qn++,Zn=qr.next()){Dn.index>Qn?(Os=Dn,Dn=null):Os=Dn.sibling;var _a=An(Hr,Dn,Zn.value,pn);if(_a===null){Dn===null&&(Dn=Os);break}yt&&Dn&&_a.alternate===null&&_t(Hr,Dn),Or=ir(_a,Or,Qn),Gn===null?_n=_a:Gn.sibling=_a,Gn=_a,Dn=Os}if(Zn.done)return Nt(Hr,Dn),ps&&_l(Hr,Qn),_n;if(Dn===null){for(;!Zn.done;Qn++,Zn=qr.next())Zn=Bn(Hr,Zn.value,pn),Zn!==null&&(Or=ir(Zn,Or,Qn),Gn===null?_n=Zn:Gn.sibling=Zn,Gn=Zn);return ps&&_l(Hr,Qn),_n}for(Dn=Ht(Hr,Dn);!Zn.done;Qn++,Zn=qr.next())Zn=as(Dn,Hr,Qn,Zn.value,pn),Zn!==null&&(yt&&Zn.alternate!==null&&Dn.delete(Zn.key===null?Qn:Zn.key),Or=ir(Zn,Or,Qn),Gn===null?_n=Zn:Gn.sibling=Zn,Gn=Zn);return yt&&Dn.forEach(function(U0){return _t(Hr,U0)}),ps&&_l(Hr,Qn),_n}function So(Hr,Or,qr,pn){if(typeof qr=="object"&&qr!==null&&qr.type===dt&&qr.key===null&&(qr=qr.props.children),typeof qr=="object"&&qr!==null){switch(qr.$$typeof){case lt:e:{for(var _n=qr.key,Gn=Or;Gn!==null;){if(Gn.key===_n){if(_n=qr.type,_n===dt){if(Gn.tag===7){Nt(Hr,Gn.sibling),Or=rr(Gn,qr.props.children),Or.return=Hr,Hr=Or;break e}}else if(Gn.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===Et&&Xp(_n)===Gn.type){Nt(Hr,Gn.sibling),Or=rr(Gn,qr.props),Or.ref=Wl(Hr,Gn,qr),Or.return=Hr,Hr=Or;break e}Nt(Hr,Gn);break}else _t(Hr,Gn);Gn=Gn.sibling}qr.type===dt?(Or=Tl(qr.props.children,Hr.mode,pn,qr.key),Or.return=Hr,Hr=Or):(pn=$u(qr.type,qr.key,qr.props,null,Hr.mode,pn),pn.ref=Wl(Hr,Or,qr),pn.return=Hr,Hr=pn)}return Sr(Hr);case ft:e:{for(Gn=qr.key;Or!==null;){if(Or.key===Gn)if(Or.tag===4&&Or.stateNode.containerInfo===qr.containerInfo&&Or.stateNode.implementation===qr.implementation){Nt(Hr,Or.sibling),Or=rr(Or,qr.children||[]),Or.return=Hr,Hr=Or;break e}else{Nt(Hr,Or);break}else _t(Hr,Or);Or=Or.sibling}Or=Fp(qr,Hr.mode,pn),Or.return=Hr,Hr=Or}return Sr(Hr);case Et:return Gn=qr._init,So(Hr,Or,Gn(qr._payload),pn)}if(Kt(qr))return xn(Hr,Or,qr,pn);if(Ft(qr))return js(Hr,Or,qr,pn);du(Hr,qr)}return typeof qr=="string"&&qr!==""||typeof qr=="number"?(qr=""+qr,Or!==null&&Or.tag===6?(Nt(Hr,Or.sibling),Or=rr(Or,qr),Or.return=Hr,Hr=Or):(Nt(Hr,Or),Or=Dp(qr,Hr.mode,pn),Or.return=Hr,Hr=Or),Sr(Hr)):Nt(Hr,Or)}return So}var Fl=qp(!0),Jp=qp(!1),Kl={},vo=Ts(Kl),Xl=Ts(Kl),Ol=Ts(Kl);function Bo(yt){if(yt===Kl)throw Error(ot(174));return yt}function _c(yt,_t){kn(Ol,_t),kn(Xl,yt),kn(vo,Kl),yt=er(_t),Rn(vo),kn(vo,yt)}function Nl(){Rn(vo),Rn(Xl),Rn(Ol)}function Yp(yt){var _t=Bo(Ol.current),Nt=Bo(vo.current);_t=kt(Nt,yt.type,_t),Nt!==_t&&(kn(Xl,yt),kn(vo,_t))}function _f(yt){Xl.current===yt&&(Rn(vo),Rn(Xl))}var xs=Ts(0);function pu(yt){for(var _t=yt;_t!==null;){if(_t.tag===13){var Nt=_t.memoizedState;if(Nt!==null&&(Nt=Nt.dehydrated,Nt===null||qn(Nt)||ls(Nt)))return _t}else if(_t.tag===19&&_t.memoizedProps.revealOrder!==void 0){if(_t.flags&128)return _t}else if(_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===yt)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===yt)return null;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}return null}var _h=[];function _d(){for(var yt=0;yt<_h.length;yt++){var _t=_h[yt];mr?_t._workInProgressVersionPrimary=null:_t._workInProgressVersionSecondary=null}_h.length=0}var mu=at.ReactCurrentDispatcher,yo=at.ReactCurrentBatchConfig,Gl=0,Ss=null,zs=null,Fs=null,gu=!1,Jl=!1,Yl=0,f0=0;function Hs(){throw Error(ot(321))}function ep(yt,_t){if(_t===null)return!1;for(var Nt=0;Nt<_t.length&&Nt<yt.length;Nt++)if(!yr(yt[Nt],_t[Nt]))return!1;return!0}function tp(yt,_t,Nt,Ht,rr,ir){if(Gl=ir,Ss=_t,_t.memoizedState=null,_t.updateQueue=null,_t.lanes=0,mu.current=yt===null||yt.memoizedState===null?m0:g0,yt=Nt(Ht,rr),Jl){ir=0;do{if(Jl=!1,Yl=0,25<=ir)throw Error(ot(301));ir+=1,Fs=zs=null,_t.updateQueue=null,mu.current=v0,yt=Nt(Ht,rr)}while(Jl)}if(mu.current=Su,_t=zs!==null&&zs.next!==null,Gl=0,Fs=zs=Ss=null,gu=!1,_t)throw Error(ot(300));return yt}function rp(){var yt=Yl!==0;return Yl=0,yt}function Ho(){var yt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fs===null?Ss.memoizedState=Fs=yt:Fs=Fs.next=yt,Fs}function Do(){if(zs===null){var yt=Ss.alternate;yt=yt!==null?yt.memoizedState:null}else yt=zs.next;var _t=Fs===null?Ss.memoizedState:Fs.next;if(_t!==null)Fs=_t,zs=yt;else{if(yt===null)throw Error(ot(310));zs=yt,yt={memoizedState:zs.memoizedState,baseState:zs.baseState,baseQueue:zs.baseQueue,queue:zs.queue,next:null},Fs===null?Ss.memoizedState=Fs=yt:Fs=Fs.next=yt}return Fs}function xl(yt,_t){return typeof _t=="function"?_t(yt):_t}function vu(yt){var _t=Do(),Nt=_t.queue;if(Nt===null)throw Error(ot(311));Nt.lastRenderedReducer=yt;var Ht=zs,rr=Ht.baseQueue,ir=Nt.pending;if(ir!==null){if(rr!==null){var Sr=rr.next;rr.next=ir.next,ir.next=Sr}Ht.baseQueue=rr=ir,Nt.pending=null}if(rr!==null){ir=rr.next,Ht=Ht.baseState;var Ir=Sr=null,Yr=null,un=ir;do{var yn=un.lane;if((Gl&yn)===yn)Yr!==null&&(Yr=Yr.next={lane:0,action:un.action,hasEagerState:un.hasEagerState,eagerState:un.eagerState,next:null}),Ht=un.hasEagerState?un.eagerState:yt(Ht,un.action);else{var Bn={lane:yn,action:un.action,hasEagerState:un.hasEagerState,eagerState:un.eagerState,next:null};Yr===null?(Ir=Yr=Bn,Sr=Ht):Yr=Yr.next=Bn,Ss.lanes|=yn,Vl|=yn}un=un.next}while(un!==null&&un!==ir);Yr===null?Sr=Ht:Yr.next=Ir,yr(Ht,_t.memoizedState)||(ao=!0),_t.memoizedState=Ht,_t.baseState=Sr,_t.baseQueue=Yr,Nt.lastRenderedState=Ht}if(yt=Nt.interleaved,yt!==null){rr=yt;do ir=rr.lane,Ss.lanes|=ir,Vl|=ir,rr=rr.next;while(rr!==yt)}else rr===null&&(Nt.lanes=0);return[_t.memoizedState,Nt.dispatch]}function yu(yt){var _t=Do(),Nt=_t.queue;if(Nt===null)throw Error(ot(311));Nt.lastRenderedReducer=yt;var Ht=Nt.dispatch,rr=Nt.pending,ir=_t.memoizedState;if(rr!==null){Nt.pending=null;var Sr=rr=rr.next;do ir=yt(ir,Sr.action),Sr=Sr.next;while(Sr!==rr);yr(ir,_t.memoizedState)||(ao=!0),_t.memoizedState=ir,_t.baseQueue===null&&(_t.baseState=ir),Nt.lastRenderedState=ir}return[ir,Ht]}function Qp(){}function Zp(yt,_t){var Nt=Ss,Ht=Do(),rr=_t(),ir=!yr(Ht.memoizedState,rr);if(ir&&(Ht.memoizedState=rr,ao=!0),Ht=Ht.queue,Zl(rm.bind(null,Nt,Ht,yt),[yt]),Ht.getSnapshot!==_t||ir||Fs!==null&&Fs.memoizedState.tag&1){if(Nt.flags|=2048,Ql(9,tm.bind(null,Nt,Ht,rr,_t),void 0,null),Cs===null)throw Error(ot(349));Gl&30||em(Nt,_t,rr)}return rr}function em(yt,_t,Nt){yt.flags|=16384,yt={getSnapshot:_t,value:Nt},_t=Ss.updateQueue,_t===null?(_t={lastEffect:null,stores:null},Ss.updateQueue=_t,_t.stores=[yt]):(Nt=_t.stores,Nt===null?_t.stores=[yt]:Nt.push(yt))}function tm(yt,_t,Nt,Ht){_t.value=Nt,_t.getSnapshot=Ht,im(_t)&&_o(yt,1,-1)}function rm(yt,_t,Nt){return Nt(function(){im(_t)&&_o(yt,1,-1)})}function im(yt){var _t=yt.getSnapshot;yt=yt.value;try{var Nt=_t();return!yr(yt,Nt)}catch{return!0}}function np(yt){var _t=Ho();return typeof yt=="function"&&(yt=yt()),_t.memoizedState=_t.baseState=yt,yt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:yt},_t.queue=yt,yt=yt.dispatch=p0.bind(null,Ss,yt),[_t.memoizedState,yt]}function Ql(yt,_t,Nt,Ht){return yt={tag:yt,create:_t,destroy:Nt,deps:Ht,next:null},_t=Ss.updateQueue,_t===null?(_t={lastEffect:null,stores:null},Ss.updateQueue=_t,_t.lastEffect=yt.next=yt):(Nt=_t.lastEffect,Nt===null?_t.lastEffect=yt.next=yt:(Ht=Nt.next,Nt.next=yt,yt.next=Ht,_t.lastEffect=yt)),yt}function sm(){return Do().memoizedState}function _u(yt,_t,Nt,Ht){var rr=Ho();Ss.flags|=yt,rr.memoizedState=Ql(1|_t,Nt,void 0,Ht===void 0?null:Ht)}function xu(yt,_t,Nt,Ht){var rr=Do();Ht=Ht===void 0?null:Ht;var ir=void 0;if(zs!==null){var Sr=zs.memoizedState;if(ir=Sr.destroy,Ht!==null&&ep(Ht,Sr.deps)){rr.memoizedState=Ql(_t,Nt,ir,Ht);return}}Ss.flags|=yt,rr.memoizedState=Ql(1|_t,Nt,ir,Ht)}function sp(yt,_t){return _u(8390656,8,yt,_t)}function Zl(yt,_t){return xu(2048,8,yt,_t)}function om(yt,_t){return xu(4,2,yt,_t)}function am(yt,_t){return xu(4,4,yt,_t)}function lm(yt,_t){if(typeof _t=="function")return yt=yt(),_t(yt),function(){_t(null)};if(_t!=null)return yt=yt(),_t.current=yt,function(){_t.current=null}}function um(yt,_t,Nt){return Nt=Nt!=null?Nt.concat([yt]):null,xu(4,4,lm.bind(null,_t,yt),Nt)}function ap(){}function cm(yt,_t){var Nt=Do();_t=_t===void 0?null:_t;var Ht=Nt.memoizedState;return Ht!==null&&_t!==null&&ep(_t,Ht[1])?Ht[0]:(Nt.memoizedState=[yt,_t],yt)}function fm(yt,_t){var Nt=Do();_t=_t===void 0?null:_t;var Ht=Nt.memoizedState;return Ht!==null&&_t!==null&&ep(_t,Ht[1])?Ht[0]:(yt=yt(),Nt.memoizedState=[yt,_t],yt)}function h0(yt,_t){var Nt=Ln;Ln=Nt!==0&&4>Nt?Nt:4,yt(!0);var Ht=yo.transition;yo.transition={};try{yt(!1),_t()}finally{Ln=Nt,yo.transition=Ht}}function hm(){return Do().memoizedState}function d0(yt,_t,Nt){var Ht=Zo(yt);Nt={lane:Ht,action:Nt,hasEagerState:!1,eagerState:null,next:null},dm(yt)?pm(_t,Nt):(mm(yt,_t,Nt),Nt=Ys(),yt=_o(yt,Ht,Nt),yt!==null&&gm(yt,_t,Ht))}function p0(yt,_t,Nt){var Ht=Zo(yt),rr={lane:Ht,action:Nt,hasEagerState:!1,eagerState:null,next:null};if(dm(yt))pm(_t,rr);else{mm(yt,_t,rr);var ir=yt.alternate;if(yt.lanes===0&&(ir===null||ir.lanes===0)&&(ir=_t.lastRenderedReducer,ir!==null))try{var Sr=_t.lastRenderedState,Ir=ir(Sr,Nt);if(rr.hasEagerState=!0,rr.eagerState=Ir,yr(Ir,Sr))return}catch{}finally{}Nt=Ys(),yt=_o(yt,Ht,Nt),yt!==null&&gm(yt,_t,Ht)}}function dm(yt){var _t=yt.alternate;return yt===Ss||_t!==null&&_t===Ss}function pm(yt,_t){Jl=gu=!0;var Nt=yt.pending;Nt===null?_t.next=_t:(_t.next=Nt.next,Nt.next=_t),yt.pending=_t}function mm(yt,_t,Nt){Cs!==null&&yt.mode&1&&!(zn&2)?(yt=_t.interleaved,yt===null?(Nt.next=Nt,Ps===null?Ps=[_t]:Ps.push(_t)):(Nt.next=yt.next,yt.next=Nt),_t.interleaved=Nt):(yt=_t.pending,yt===null?Nt.next=Nt:(Nt.next=yt.next,yt.next=Nt),_t.pending=Nt)}function gm(yt,_t,Nt){if(Nt&4194240){var Ht=_t.lanes;Ht&=yt.pendingLanes,Nt|=Ht,_t.lanes=Nt,po(yt,Nt)}}var Su={readContext:Yn,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useInsertionEffect:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useMutableSource:Hs,useSyncExternalStore:Hs,useId:Hs,unstable_isNewReconciler:!1},m0={readContext:Yn,useCallback:function(yt,_t){return Ho().memoizedState=[yt,_t===void 0?null:_t],yt},useContext:Yn,useEffect:sp,useImperativeHandle:function(yt,_t,Nt){return Nt=Nt!=null?Nt.concat([yt]):null,_u(4194308,4,lm.bind(null,_t,yt),Nt)},useLayoutEffect:function(yt,_t){return _u(4194308,4,yt,_t)},useInsertionEffect:function(yt,_t){return _u(4,2,yt,_t)},useMemo:function(yt,_t){var Nt=Ho();return _t=_t===void 0?null:_t,yt=yt(),Nt.memoizedState=[yt,_t],yt},useReducer:function(yt,_t,Nt){var Ht=Ho();return _t=Nt!==void 0?Nt(_t):_t,Ht.memoizedState=Ht.baseState=_t,yt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:_t},Ht.queue=yt,yt=yt.dispatch=d0.bind(null,Ss,yt),[Ht.memoizedState,yt]},useRef:function(yt){var _t=Ho();return yt={current:yt},_t.memoizedState=yt},useState:np,useDebugValue:ap,useDeferredValue:function(yt){var _t=np(yt),Nt=_t[0],Ht=_t[1];return sp(function(){var rr=yo.transition;yo.transition={};try{Ht(yt)}finally{yo.transition=rr}},[yt]),Nt},useTransition:function(){var yt=np(!1),_t=yt[0];return yt=h0.bind(null,yt[1]),Ho().memoizedState=yt,[_t,yt]},useMutableSource:function(){},useSyncExternalStore:function(yt,_t,Nt){var Ht=Ss,rr=Ho();if(ps){if(Nt===void 0)throw Error(ot(407));Nt=Nt()}else{if(Nt=_t(),Cs===null)throw Error(ot(349));Gl&30||em(Ht,_t,Nt)}rr.memoizedState=Nt;var ir={value:Nt,getSnapshot:_t};return rr.queue=ir,sp(rm.bind(null,Ht,ir,yt),[yt]),Ht.flags|=2048,Ql(9,tm.bind(null,Ht,ir,Nt,_t),void 0,null),Nt},useId:function(){var yt=Ho(),_t=Cs.identifierPrefix;if(ps){var Nt=zo,Ht=Vo;Nt=(Ht&~(1<<32-Is(Ht)-1)).toString(32)+Nt,_t=":"+_t+"R"+Nt,Nt=Yl++,0<Nt&&(_t+="H"+Nt.toString(32)),_t+=":"}else Nt=f0++,_t=":"+_t+"r"+Nt.toString(32)+":";return yt.memoizedState=_t},unstable_isNewReconciler:!1},g0={readContext:Yn,useCallback:cm,useContext:Yn,useEffect:Zl,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:am,useMemo:fm,useReducer:vu,useRef:sm,useState:function(){return vu(xl)},useDebugValue:ap,useDeferredValue:function(yt){var _t=vu(xl),Nt=_t[0],Ht=_t[1];return Zl(function(){var rr=yo.transition;yo.transition={};try{Ht(yt)}finally{yo.transition=rr}},[yt]),Nt},useTransition:function(){var yt=vu(xl)[0],_t=Do().memoizedState;return[yt,_t]},useMutableSource:Qp,useSyncExternalStore:Zp,useId:hm,unstable_isNewReconciler:!1},v0={readContext:Yn,useCallback:cm,useContext:Yn,useEffect:Zl,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:am,useMemo:fm,useReducer:yu,useRef:sm,useState:function(){return yu(xl)},useDebugValue:ap,useDeferredValue:function(yt){var _t=yu(xl),Nt=_t[0],Ht=_t[1];return Zl(function(){var rr=yo.transition;yo.transition={};try{Ht(yt)}finally{yo.transition=rr}},[yt]),Nt},useTransition:function(){var yt=yu(xl)[0],_t=Do().memoizedState;return[yt,_t]},useMutableSource:Qp,useSyncExternalStore:Zp,useId:hm,unstable_isNewReconciler:!1};function lp(yt,_t){try{var Nt="",Ht=_t;do Nt+=es(Ht),Ht=Ht.return;while(Ht);var rr=Nt}catch(ir){rr=`
Error generating stack: `+ir.message+`
`+ir.stack}return{value:yt,source:_t,stack:rr}}function up(yt,_t){try{console.error(_t.value)}catch(Nt){setTimeout(function(){throw Nt})}}var y0=typeof WeakMap=="function"?WeakMap:Map;function vm(yt,_t,Nt){Nt=Uo(-1,Nt),Nt.tag=3,Nt.payload={element:null};var Ht=_t.value;return Nt.callback=function(){ku||(ku=!0,wp=Ht),up(yt,_t)},Nt}function ym(yt,_t,Nt){Nt=Uo(-1,Nt),Nt.tag=3;var Ht=yt.type.getDerivedStateFromError;if(typeof Ht=="function"){var rr=_t.value;Nt.payload=function(){return Ht(rr)},Nt.callback=function(){up(yt,_t)}}var ir=yt.stateNode;return ir!==null&&typeof ir.componentDidCatch=="function"&&(Nt.callback=function(){up(yt,_t),typeof Ht!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var Sr=_t.stack;this.componentDidCatch(_t.value,{componentStack:Sr!==null?Sr:""})}),Nt}function _m(yt,_t,Nt){var Ht=yt.pingCache;if(Ht===null){Ht=yt.pingCache=new y0;var rr=new Set;Ht.set(_t,rr)}else rr=Ht.get(_t),rr===void 0&&(rr=new Set,Ht.set(_t,rr));rr.has(Nt)||(rr.add(Nt),yt=I0.bind(null,yt,_t,Nt),_t.then(yt,yt))}function xm(yt){do{var _t;if((_t=yt.tag===13)&&(_t=yt.memoizedState,_t=_t!==null?_t.dehydrated!==null:!0),_t)return yt;yt=yt.return}while(yt!==null);return null}function Sm(yt,_t,Nt,Ht,rr){return yt.mode&1?(yt.flags|=65536,yt.lanes=rr,yt):(yt===_t?yt.flags|=65536:(yt.flags|=128,Nt.flags|=131072,Nt.flags&=-52805,Nt.tag===1&&(Nt.alternate===null?Nt.tag=17:(_t=Uo(-1,1),_t.tag=2,Jo(Nt,_t))),Nt.lanes|=1),yt)}function Fo(yt){yt.flags|=4}function Em(yt,_t){if(yt!==null&&yt.child===_t.child)return!0;if(_t.flags&16)return!1;for(yt=_t.child;yt!==null;){if(yt.flags&12854||yt.subtreeFlags&12854)return!1;yt=yt.sibling}return!0}var eu,tu,Eu,bu;if(Er)eu=function(yt,_t){for(var Nt=_t.child;Nt!==null;){if(Nt.tag===5||Nt.tag===6)nr(yt,Nt.stateNode);else if(Nt.tag!==4&&Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===_t)break;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===_t)return;Nt=Nt.return}Nt.sibling.return=Nt.return,Nt=Nt.sibling}},tu=function(){},Eu=function(yt,_t,Nt,Ht,rr){if(yt=yt.memoizedProps,yt!==Ht){var ir=_t.stateNode,Sr=Bo(vo.current);Nt=lr(ir,Nt,yt,Ht,rr,Sr),(_t.updateQueue=Nt)&&Fo(_t)}},bu=function(yt,_t,Nt,Ht){Nt!==Ht&&Fo(_t)};else if(ur){eu=function(yt,_t,Nt,Ht){for(var rr=_t.child;rr!==null;){if(rr.tag===5){var ir=rr.stateNode;Nt&&Ht&&(ir=Un(ir,rr.type,rr.memoizedProps,rr)),nr(yt,ir)}else if(rr.tag===6)ir=rr.stateNode,Nt&&Ht&&(ir=Kn(ir,rr.memoizedProps,rr)),nr(yt,ir);else if(rr.tag!==4){if(rr.tag===22&&rr.memoizedState!==null)ir=rr.child,ir!==null&&(ir.return=rr),eu(yt,rr,!0,!0);else if(rr.child!==null){rr.child.return=rr,rr=rr.child;continue}}if(rr===_t)break;for(;rr.sibling===null;){if(rr.return===null||rr.return===_t)return;rr=rr.return}rr.sibling.return=rr.return,rr=rr.sibling}};var bm=function(yt,_t,Nt,Ht){for(var rr=_t.child;rr!==null;){if(rr.tag===5){var ir=rr.stateNode;Nt&&Ht&&(ir=Un(ir,rr.type,rr.memoizedProps,rr)),Hn(yt,ir)}else if(rr.tag===6)ir=rr.stateNode,Nt&&Ht&&(ir=Kn(ir,rr.memoizedProps,rr)),Hn(yt,ir);else if(rr.tag!==4){if(rr.tag===22&&rr.memoizedState!==null)ir=rr.child,ir!==null&&(ir.return=rr),bm(yt,rr,!0,!0);else if(rr.child!==null){rr.child.return=rr,rr=rr.child;continue}}if(rr===_t)break;for(;rr.sibling===null;){if(rr.return===null||rr.return===_t)return;rr=rr.return}rr.sibling.return=rr.return,rr=rr.sibling}};tu=function(yt,_t){var Nt=_t.stateNode;if(!Em(yt,_t)){yt=Nt.containerInfo;var Ht=Mn(yt);bm(Ht,_t,!1,!1),Nt.pendingChildren=Ht,Fo(_t),Wn(yt,Ht)}},Eu=function(yt,_t,Nt,Ht,rr){var ir=yt.stateNode,Sr=yt.memoizedProps;if((yt=Em(yt,_t))&&Sr===Ht)_t.stateNode=ir;else{var Ir=_t.stateNode,Yr=Bo(vo.current),un=null;Sr!==Ht&&(un=lr(Ir,Nt,Sr,Ht,rr,Yr)),yt&&un===null?_t.stateNode=ir:(ir=mn(ir,un,Nt,Sr,Ht,_t,yt,Ir),sr(ir,Nt,Ht,rr,Yr)&&Fo(_t),_t.stateNode=ir,yt?Fo(_t):eu(ir,_t,!1,!1))}},bu=function(yt,_t,Nt,Ht){Nt!==Ht?(yt=Bo(Ol.current),Nt=Bo(vo.current),_t.stateNode=hr(Ht,yt,Nt,_t),Fo(_t)):_t.stateNode=yt.stateNode}}else tu=function(){},Eu=function(){},bu=function(){};function ru(yt,_t){if(!ps)switch(yt.tailMode){case"hidden":_t=yt.tail;for(var Nt=null;_t!==null;)_t.alternate!==null&&(Nt=_t),_t=_t.sibling;Nt===null?yt.tail=null:Nt.sibling=null;break;case"collapsed":Nt=yt.tail;for(var Ht=null;Nt!==null;)Nt.alternate!==null&&(Ht=Nt),Nt=Nt.sibling;Ht===null?_t||yt.tail===null?yt.tail=null:yt.tail.sibling=null:Ht.sibling=null}}function $s(yt){var _t=yt.alternate!==null&&yt.alternate.child===yt.child,Nt=0,Ht=0;if(_t)for(var rr=yt.child;rr!==null;)Nt|=rr.lanes|rr.childLanes,Ht|=rr.subtreeFlags&14680064,Ht|=rr.flags&14680064,rr.return=yt,rr=rr.sibling;else for(rr=yt.child;rr!==null;)Nt|=rr.lanes|rr.childLanes,Ht|=rr.subtreeFlags,Ht|=rr.flags,rr.return=yt,rr=rr.sibling;return yt.subtreeFlags|=Ht,yt.childLanes=Nt,_t}function _0(yt,_t,Nt){var Ht=_t.pendingProps;switch(Ju(_t),_t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(_t),null;case 1:return os(_t.type)&&bo(),$s(_t),null;case 3:return Ht=_t.stateNode,Nl(),Rn(gs),Rn(Xn),_d(),Ht.pendingContext&&(Ht.context=Ht.pendingContext,Ht.pendingContext=null),(yt===null||yt.child===null)&&($l(_t)?Fo(_t):yt===null||yt.memoizedState.isDehydrated&&!(_t.flags&256)||(_t.flags|=1024,Lo!==null&&(Rp(Lo),Lo=null))),tu(yt,_t),$s(_t),null;case 5:_f(_t),Nt=Bo(Ol.current);var rr=_t.type;if(yt!==null&&_t.stateNode!=null)Eu(yt,_t,rr,Ht,Nt),yt.ref!==_t.ref&&(_t.flags|=512,_t.flags|=2097152);else{if(!Ht){if(_t.stateNode===null)throw Error(ot(166));return $s(_t),null}if(yt=Bo(vo.current),$l(_t)){if(!xr)throw Error(ot(175));yt=vn(_t.stateNode,_t.type,_t.memoizedProps,Nt,yt,_t,!Hl),_t.updateQueue=yt,yt!==null&&Fo(_t)}else{var ir=Wt(rr,Ht,Nt,yt,_t);eu(ir,_t,!1,!1),_t.stateNode=ir,sr(ir,rr,Ht,Nt,yt)&&Fo(_t)}_t.ref!==null&&(_t.flags|=512,_t.flags|=2097152)}return $s(_t),null;case 6:if(yt&&_t.stateNode!=null)bu(yt,_t,yt.memoizedProps,Ht);else{if(typeof Ht!="string"&&_t.stateNode===null)throw Error(ot(166));if(yt=Bo(Ol.current),Nt=Bo(vo.current),$l(_t)){if(!xr)throw Error(ot(176));if(yt=_t.stateNode,Ht=_t.memoizedProps,(Nt=En(yt,Ht,_t,!Hl))&&(rr=so,rr!==null))switch(ir=(rr.mode&1)!==0,rr.tag){case 3:Ns(rr.stateNode.containerInfo,yt,Ht,ir);break;case 5:Ws(rr.type,rr.memoizedProps,rr.stateNode,yt,Ht,ir)}Nt&&Fo(_t)}else _t.stateNode=hr(Ht,yt,Nt,_t)}return $s(_t),null;case 13:if(Rn(xs),Ht=_t.memoizedState,ps&&oo!==null&&_t.mode&1&&!(_t.flags&128)){for(yt=oo;yt;)yt=Dr(yt);return Dl(),_t.flags|=98560,_t}if(Ht!==null&&Ht.dehydrated!==null){if(Ht=$l(_t),yt===null){if(!Ht)throw Error(ot(318));if(!xr)throw Error(ot(344));if(yt=_t.memoizedState,yt=yt!==null?yt.dehydrated:null,!yt)throw Error(ot(317));bn(yt,_t)}else Dl(),!(_t.flags&128)&&(_t.memoizedState=null),_t.flags|=4;return $s(_t),null}return Lo!==null&&(Rp(Lo),Lo=null),_t.flags&128?(_t.lanes=Nt,_t):(Ht=Ht!==null,Nt=!1,yt===null?$l(_t):Nt=yt.memoizedState!==null,Ht&&!Nt&&(_t.child.flags|=8192,_t.mode&1&&(yt===null||xs.current&1?Rs===0&&(Rs=3):Ip())),_t.updateQueue!==null&&(_t.flags|=4),$s(_t),null);case 4:return Nl(),tu(yt,_t),yt===null&&Br(_t.stateNode.containerInfo),$s(_t),null;case 10:return Ds(_t.type._context),$s(_t),null;case 17:return os(_t.type)&&bo(),$s(_t),null;case 19:if(Rn(xs),rr=_t.memoizedState,rr===null)return $s(_t),null;if(Ht=(_t.flags&128)!==0,ir=rr.rendering,ir===null)if(Ht)ru(rr,!1);else{if(Rs!==0||yt!==null&&yt.flags&128)for(yt=_t.child;yt!==null;){if(ir=pu(yt),ir!==null){for(_t.flags|=128,ru(rr,!1),yt=ir.updateQueue,yt!==null&&(_t.updateQueue=yt,_t.flags|=4),_t.subtreeFlags=0,yt=Nt,Ht=_t.child;Ht!==null;)Nt=Ht,rr=yt,Nt.flags&=14680066,ir=Nt.alternate,ir===null?(Nt.childLanes=0,Nt.lanes=rr,Nt.child=null,Nt.subtreeFlags=0,Nt.memoizedProps=null,Nt.memoizedState=null,Nt.updateQueue=null,Nt.dependencies=null,Nt.stateNode=null):(Nt.childLanes=ir.childLanes,Nt.lanes=ir.lanes,Nt.child=ir.child,Nt.subtreeFlags=0,Nt.deletions=null,Nt.memoizedProps=ir.memoizedProps,Nt.memoizedState=ir.memoizedState,Nt.updateQueue=ir.updateQueue,Nt.type=ir.type,rr=ir.dependencies,Nt.dependencies=rr===null?null:{lanes:rr.lanes,firstContext:rr.firstContext}),Ht=Ht.sibling;return kn(xs,xs.current&1|2),_t.child}yt=yt.sibling}rr.tail!==null&&cs()>Mp&&(_t.flags|=128,Ht=!0,ru(rr,!1),_t.lanes=4194304)}else{if(!Ht)if(yt=pu(ir),yt!==null){if(_t.flags|=128,Ht=!0,yt=yt.updateQueue,yt!==null&&(_t.updateQueue=yt,_t.flags|=4),ru(rr,!0),rr.tail===null&&rr.tailMode==="hidden"&&!ir.alternate&&!ps)return $s(_t),null}else 2*cs()-rr.renderingStartTime>Mp&&Nt!==1073741824&&(_t.flags|=128,Ht=!0,ru(rr,!1),_t.lanes=4194304);rr.isBackwards?(ir.sibling=_t.child,_t.child=ir):(yt=rr.last,yt!==null?yt.sibling=ir:_t.child=ir,rr.last=ir)}return rr.tail!==null?(_t=rr.tail,rr.rendering=_t,rr.tail=_t.sibling,rr.renderingStartTime=cs(),_t.sibling=null,yt=xs.current,kn(xs,Ht?yt&1|2:yt&1),_t):($s(_t),null);case 22:case 23:return Lp(),Ht=_t.memoizedState!==null,yt!==null&&yt.memoizedState!==null!==Ht&&(_t.flags|=8192),Ht&&_t.mode&1?lo&1073741824&&($s(_t),Er&&_t.subtreeFlags&6&&(_t.flags|=8192)):$s(_t),null;case 24:return null;case 25:return null}throw Error(ot(156,_t.tag))}var x0=at.ReactCurrentOwner,ao=!1;function Js(yt,_t,Nt,Ht){_t.child=yt===null?Jp(_t,null,Nt,Ht):Fl(_t,yt.child,Nt,Ht)}function Am(yt,_t,Nt,Ht,rr){Nt=Nt.render;var ir=_t.ref;return _s(_t,rr),Ht=tp(yt,_t,Nt,Ht,ir,rr),Nt=rp(),yt!==null&&!ao?(_t.updateQueue=yt.updateQueue,_t.flags&=-2053,yt.lanes&=~rr,$o(yt,_t,rr)):(ps&&Nt&&qu(_t),_t.flags|=1,Js(yt,_t,Ht,rr),_t.child)}function Cm(yt,_t,Nt,Ht,rr){if(yt===null){var ir=Nt.type;return typeof ir=="function"&&!Bp(ir)&&ir.defaultProps===void 0&&Nt.compare===null&&Nt.defaultProps===void 0?(_t.tag=15,_t.type=ir,Mm(yt,_t,ir,Ht,rr)):(yt=$u(Nt.type,null,Ht,_t,_t.mode,rr),yt.ref=_t.ref,yt.return=_t,_t.child=yt)}if(ir=yt.child,!(yt.lanes&rr)){var Sr=ir.memoizedProps;if(Nt=Nt.compare,Nt=Nt!==null?Nt:hs,Nt(Sr,Ht)&&yt.ref===_t.ref)return $o(yt,_t,rr)}return _t.flags|=1,yt=ga(ir,Ht),yt.ref=_t.ref,yt.return=_t,_t.child=yt}function Mm(yt,_t,Nt,Ht,rr){if(yt!==null&&hs(yt.memoizedProps,Ht)&&yt.ref===_t.ref)if(ao=!1,(yt.lanes&rr)!==0)yt.flags&131072&&(ao=!0);else return _t.lanes=yt.lanes,$o(yt,_t,rr);return cp(yt,_t,Nt,Ht,rr)}function wm(yt,_t,Nt){var Ht=_t.pendingProps,rr=Ht.children,ir=yt!==null?yt.memoizedState:null;if(Ht.mode==="hidden")if(!(_t.mode&1))_t.memoizedState={baseLanes:0,cachePool:null},kn(Ul,lo),lo|=Nt;else if(Nt&1073741824)_t.memoizedState={baseLanes:0,cachePool:null},Ht=ir!==null?ir.baseLanes:Nt,kn(Ul,lo),lo|=Ht;else return yt=ir!==null?ir.baseLanes|Nt:Nt,_t.lanes=_t.childLanes=1073741824,_t.memoizedState={baseLanes:yt,cachePool:null},_t.updateQueue=null,kn(Ul,lo),lo|=yt,null;else ir!==null?(Ht=ir.baseLanes|Nt,_t.memoizedState=null):Ht=Nt,kn(Ul,lo),lo|=Ht;return Js(yt,_t,rr,Nt),_t.child}function Tm(yt,_t){var Nt=_t.ref;(yt===null&&Nt!==null||yt!==null&&yt.ref!==Nt)&&(_t.flags|=512,_t.flags|=2097152)}function cp(yt,_t,Nt,Ht,rr){var ir=os(Nt)?As:Xn.current;return ir=Ks(_t,ir),_s(_t,rr),Nt=tp(yt,_t,Nt,Ht,ir,rr),Ht=rp(),yt!==null&&!ao?(_t.updateQueue=yt.updateQueue,_t.flags&=-2053,yt.lanes&=~rr,$o(yt,_t,rr)):(ps&&Ht&&qu(_t),_t.flags|=1,Js(yt,_t,Nt,rr),_t.child)}function Pm(yt,_t,Nt,Ht,rr){if(os(Nt)){var ir=!0;co(_t)}else ir=!1;if(_s(_t,rr),_t.stateNode===null)yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),zp(_t,Nt,Ht),Xu(_t,Nt,Ht,rr),Ht=!0;else if(yt===null){var Sr=_t.stateNode,Ir=_t.memoizedProps;Sr.props=Ir;var Yr=Sr.context,un=Nt.contextType;typeof un=="object"&&un!==null?un=Yn(un):(un=os(Nt)?As:Xn.current,un=Ks(_t,un));var yn=Nt.getDerivedStateFromProps,Bn=typeof yn=="function"||typeof Sr.getSnapshotBeforeUpdate=="function";Bn||typeof Sr.UNSAFE_componentWillReceiveProps!="function"&&typeof Sr.componentWillReceiveProps!="function"||(Ir!==Ht||Yr!==un)&&Hp(_t,Sr,Ht,un),Ro=!1;var An=_t.memoizedState;Sr.state=An,uu(_t,Ht,Sr,rr),Yr=_t.memoizedState,Ir!==Ht||An!==Yr||gs.current||Ro?(typeof yn=="function"&&(Ku(_t,Nt,yn,Ht),Yr=_t.memoizedState),(Ir=Ro||Vp(_t,Nt,Ir,Ht,An,Yr,un))?(Bn||typeof Sr.UNSAFE_componentWillMount!="function"&&typeof Sr.componentWillMount!="function"||(typeof Sr.componentWillMount=="function"&&Sr.componentWillMount(),typeof Sr.UNSAFE_componentWillMount=="function"&&Sr.UNSAFE_componentWillMount()),typeof Sr.componentDidMount=="function"&&(_t.flags|=4194308)):(typeof Sr.componentDidMount=="function"&&(_t.flags|=4194308),_t.memoizedProps=Ht,_t.memoizedState=Yr),Sr.props=Ht,Sr.state=Yr,Sr.context=un,Ht=Ir):(typeof Sr.componentDidMount=="function"&&(_t.flags|=4194308),Ht=!1)}else{Sr=_t.stateNode,kp(yt,_t),Ir=_t.memoizedProps,un=_t.type===_t.elementType?Ir:ts(_t.type,Ir),Sr.props=un,Bn=_t.pendingProps,An=Sr.context,Yr=Nt.contextType,typeof Yr=="object"&&Yr!==null?Yr=Yn(Yr):(Yr=os(Nt)?As:Xn.current,Yr=Ks(_t,Yr));var as=Nt.getDerivedStateFromProps;(yn=typeof as=="function"||typeof Sr.getSnapshotBeforeUpdate=="function")||typeof Sr.UNSAFE_componentWillReceiveProps!="function"&&typeof Sr.componentWillReceiveProps!="function"||(Ir!==Bn||An!==Yr)&&Hp(_t,Sr,Ht,Yr),Ro=!1,An=_t.memoizedState,Sr.state=An,uu(_t,Ht,Sr,rr);var xn=_t.memoizedState;Ir!==Bn||An!==xn||gs.current||Ro?(typeof as=="function"&&(Ku(_t,Nt,as,Ht),xn=_t.memoizedState),(un=Ro||Vp(_t,Nt,un,Ht,An,xn,Yr)||!1)?(yn||typeof Sr.UNSAFE_componentWillUpdate!="function"&&typeof Sr.componentWillUpdate!="function"||(typeof Sr.componentWillUpdate=="function"&&Sr.componentWillUpdate(Ht,xn,Yr),typeof Sr.UNSAFE_componentWillUpdate=="function"&&Sr.UNSAFE_componentWillUpdate(Ht,xn,Yr)),typeof Sr.componentDidUpdate=="function"&&(_t.flags|=4),typeof Sr.getSnapshotBeforeUpdate=="function"&&(_t.flags|=1024)):(typeof Sr.componentDidUpdate!="function"||Ir===yt.memoizedProps&&An===yt.memoizedState||(_t.flags|=4),typeof Sr.getSnapshotBeforeUpdate!="function"||Ir===yt.memoizedProps&&An===yt.memoizedState||(_t.flags|=1024),_t.memoizedProps=Ht,_t.memoizedState=xn),Sr.props=Ht,Sr.state=xn,Sr.context=Yr,Ht=un):(typeof Sr.componentDidUpdate!="function"||Ir===yt.memoizedProps&&An===yt.memoizedState||(_t.flags|=4),typeof Sr.getSnapshotBeforeUpdate!="function"||Ir===yt.memoizedProps&&An===yt.memoizedState||(_t.flags|=1024),Ht=!1)}return fp(yt,_t,Nt,Ht,ir,rr)}function fp(yt,_t,Nt,Ht,rr,ir){Tm(yt,_t);var Sr=(_t.flags&128)!==0;if(!Ht&&!Sr)return rr&&Pl(_t,Nt,!1),$o(yt,_t,ir);Ht=_t.stateNode,x0.current=_t;var Ir=Sr&&typeof Nt.getDerivedStateFromError!="function"?null:Ht.render();return _t.flags|=1,yt!==null&&Sr?(_t.child=Fl(_t,yt.child,null,ir),_t.child=Fl(_t,null,Ir,ir)):Js(yt,_t,Ir,ir),_t.memoizedState=Ht.state,rr&&Pl(_t,Nt,!0),_t.child}function Rm(yt){var _t=yt.stateNode;_t.pendingContext?Oo(yt,_t.pendingContext,_t.pendingContext!==_t.context):_t.context&&Oo(yt,_t.context,!1),_c(yt,_t.containerInfo)}function Lm(yt,_t,Nt,Ht,rr){return Dl(),Zu(rr),_t.flags|=256,Js(yt,_t,Nt,Ht),_t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Cu(yt){return{baseLanes:yt,cachePool:null}}function Im(yt,_t,Nt){var Ht=_t.pendingProps,rr=xs.current,ir=!1,Sr=(_t.flags&128)!==0,Ir;if((Ir=Sr)||(Ir=yt!==null&&yt.memoizedState===null?!1:(rr&2)!==0),Ir?(ir=!0,_t.flags&=-129):(yt===null||yt.memoizedState!==null)&&(rr|=1),kn(xs,rr&1),yt===null)return Qu(_t),yt=_t.memoizedState,yt!==null&&(yt=yt.dehydrated,yt!==null)?(_t.mode&1?ls(yt)?_t.lanes=8:_t.lanes=1073741824:_t.lanes=1,null):(rr=Ht.children,yt=Ht.fallback,ir?(Ht=_t.mode,ir=_t.child,rr={mode:"hidden",children:rr},!(Ht&1)&&ir!==null?(ir.childLanes=0,ir.pendingProps=rr):ir=ju(rr,Ht,0,null),yt=Tl(yt,Ht,Nt,null),ir.return=_t,yt.return=_t,ir.sibling=yt,_t.child=ir,_t.child.memoizedState=Cu(Nt),_t.memoizedState=Au,yt):hp(_t,rr));if(rr=yt.memoizedState,rr!==null){if(Ir=rr.dehydrated,Ir!==null){if(Sr)return _t.flags&256?(_t.flags&=-257,Mu(yt,_t,Nt,Error(ot(422)))):_t.memoizedState!==null?(_t.child=yt.child,_t.flags|=128,null):(ir=Ht.fallback,rr=_t.mode,Ht=ju({mode:"visible",children:Ht.children},rr,0,null),ir=Tl(ir,rr,Nt,null),ir.flags|=2,Ht.return=_t,ir.return=_t,Ht.sibling=ir,_t.child=Ht,_t.mode&1&&Fl(_t,yt.child,null,Nt),_t.child.memoizedState=Cu(Nt),_t.memoizedState=Au,ir);if(!(_t.mode&1))_t=Mu(yt,_t,Nt,null);else if(ls(Ir))_t=Mu(yt,_t,Nt,Error(ot(419)));else if(Ht=(Nt&yt.childLanes)!==0,ao||Ht){if(Ht=Cs,Ht!==null){switch(Nt&-Nt){case 4:ir=2;break;case 16:ir=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ir=32;break;case 536870912:ir=268435456;break;default:ir=0}Ht=ir&(Ht.suspendedLanes|Nt)?0:ir,Ht!==0&&Ht!==rr.retryLane&&(rr.retryLane=Ht,_o(yt,Ht,-1))}Ip(),_t=Mu(yt,_t,Nt,Error(ot(421)))}else qn(Ir)?(_t.flags|=128,_t.child=yt.child,_t=B0.bind(null,yt),gr(Ir,_t),_t=null):(Nt=rr.treeContext,xr&&(oo=Jr(Ir),so=_t,ps=!0,Lo=null,Hl=!1,Nt!==null&&(mo[go++]=Vo,mo[go++]=zo,mo[go++]=yl,Vo=Nt.id,zo=Nt.overflow,yl=_t)),_t=hp(_t,_t.pendingProps.children),_t.flags|=4096);return _t}return ir?(Ht=Dm(yt,_t,Ht.children,Ht.fallback,Nt),ir=_t.child,rr=yt.child.memoizedState,ir.memoizedState=rr===null?Cu(Nt):{baseLanes:rr.baseLanes|Nt,cachePool:null},ir.childLanes=yt.childLanes&~Nt,_t.memoizedState=Au,Ht):(Nt=Bm(yt,_t,Ht.children,Nt),_t.memoizedState=null,Nt)}return ir?(Ht=Dm(yt,_t,Ht.children,Ht.fallback,Nt),ir=_t.child,rr=yt.child.memoizedState,ir.memoizedState=rr===null?Cu(Nt):{baseLanes:rr.baseLanes|Nt,cachePool:null},ir.childLanes=yt.childLanes&~Nt,_t.memoizedState=Au,Ht):(Nt=Bm(yt,_t,Ht.children,Nt),_t.memoizedState=null,Nt)}function hp(yt,_t){return _t=ju({mode:"visible",children:_t},yt.mode,0,null),_t.return=yt,yt.child=_t}function Bm(yt,_t,Nt,Ht){var rr=yt.child;return yt=rr.sibling,Nt=ga(rr,{mode:"visible",children:Nt}),!(_t.mode&1)&&(Nt.lanes=Ht),Nt.return=_t,Nt.sibling=null,yt!==null&&(Ht=_t.deletions,Ht===null?(_t.deletions=[yt],_t.flags|=16):Ht.push(yt)),_t.child=Nt}function Dm(yt,_t,Nt,Ht,rr){var ir=_t.mode;yt=yt.child;var Sr=yt.sibling,Ir={mode:"hidden",children:Nt};return!(ir&1)&&_t.child!==yt?(Nt=_t.child,Nt.childLanes=0,Nt.pendingProps=Ir,_t.deletions=null):(Nt=ga(yt,Ir),Nt.subtreeFlags=yt.subtreeFlags&14680064),Sr!==null?Ht=ga(Sr,Ht):(Ht=Tl(Ht,ir,rr,null),Ht.flags|=2),Ht.return=_t,Nt.return=_t,Nt.sibling=Ht,_t.child=Nt,Ht}function Mu(yt,_t,Nt,Ht){return Ht!==null&&Zu(Ht),Fl(_t,yt.child,null,Nt),yt=hp(_t,_t.pendingProps.children),yt.flags|=2,_t.memoizedState=null,yt}function Fm(yt,_t,Nt){yt.lanes|=_t;var Ht=yt.alternate;Ht!==null&&(Ht.lanes|=_t),ys(yt.return,_t,Nt)}function dp(yt,_t,Nt,Ht,rr){var ir=yt.memoizedState;ir===null?yt.memoizedState={isBackwards:_t,rendering:null,renderingStartTime:0,last:Ht,tail:Nt,tailMode:rr}:(ir.isBackwards=_t,ir.rendering=null,ir.renderingStartTime=0,ir.last=Ht,ir.tail=Nt,ir.tailMode=rr)}function Om(yt,_t,Nt){var Ht=_t.pendingProps,rr=Ht.revealOrder,ir=Ht.tail;if(Js(yt,_t,Ht.children,Nt),Ht=xs.current,Ht&2)Ht=Ht&1|2,_t.flags|=128;else{if(yt!==null&&yt.flags&128)e:for(yt=_t.child;yt!==null;){if(yt.tag===13)yt.memoizedState!==null&&Fm(yt,Nt,_t);else if(yt.tag===19)Fm(yt,Nt,_t);else if(yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===_t)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===_t)break e;yt=yt.return}yt.sibling.return=yt.return,yt=yt.sibling}Ht&=1}if(kn(xs,Ht),!(_t.mode&1))_t.memoizedState=null;else switch(rr){case"forwards":for(Nt=_t.child,rr=null;Nt!==null;)yt=Nt.alternate,yt!==null&&pu(yt)===null&&(rr=Nt),Nt=Nt.sibling;Nt=rr,Nt===null?(rr=_t.child,_t.child=null):(rr=Nt.sibling,Nt.sibling=null),dp(_t,!1,rr,Nt,ir);break;case"backwards":for(Nt=null,rr=_t.child,_t.child=null;rr!==null;){if(yt=rr.alternate,yt!==null&&pu(yt)===null){_t.child=rr;break}yt=rr.sibling,rr.sibling=Nt,Nt=rr,rr=yt}dp(_t,!0,Nt,null,ir);break;case"together":dp(_t,!1,null,null,void 0);break;default:_t.memoizedState=null}return _t.child}function $o(yt,_t,Nt){if(yt!==null&&(_t.dependencies=yt.dependencies),Vl|=_t.lanes,!(Nt&_t.childLanes))return null;if(yt!==null&&_t.child!==yt.child)throw Error(ot(153));if(_t.child!==null){for(yt=_t.child,Nt=ga(yt,yt.pendingProps),_t.child=Nt,Nt.return=_t;yt.sibling!==null;)yt=yt.sibling,Nt=Nt.sibling=ga(yt,yt.pendingProps),Nt.return=_t;Nt.sibling=null}return _t.child}function S0(yt,_t,Nt){switch(_t.tag){case 3:Rm(_t),Dl();break;case 5:Yp(_t);break;case 1:os(_t.type)&&co(_t);break;case 4:_c(_t,_t.stateNode.containerInfo);break;case 10:to(_t,_t.type._context,_t.memoizedProps.value);break;case 13:var Ht=_t.memoizedState;if(Ht!==null)return Ht.dehydrated!==null?(kn(xs,xs.current&1),_t.flags|=128,null):Nt&_t.child.childLanes?Im(yt,_t,Nt):(kn(xs,xs.current&1),yt=$o(yt,_t,Nt),yt!==null?yt.sibling:null);kn(xs,xs.current&1);break;case 19:if(Ht=(Nt&_t.childLanes)!==0,yt.flags&128){if(Ht)return Om(yt,_t,Nt);_t.flags|=128}var rr=_t.memoizedState;if(rr!==null&&(rr.rendering=null,rr.tail=null,rr.lastEffect=null),kn(xs,xs.current),Ht)break;return null;case 22:case 23:return _t.lanes=0,wm(yt,_t,Nt)}return $o(yt,_t,Nt)}function E0(yt,_t){switch(Ju(_t),_t.tag){case 1:return os(_t.type)&&bo(),yt=_t.flags,yt&65536?(_t.flags=yt&-65537|128,_t):null;case 3:return Nl(),Rn(gs),Rn(Xn),_d(),yt=_t.flags,yt&65536&&!(yt&128)?(_t.flags=yt&-65537|128,_t):null;case 5:return _f(_t),null;case 13:if(Rn(xs),yt=_t.memoizedState,yt!==null&&yt.dehydrated!==null){if(_t.alternate===null)throw Error(ot(340));Dl()}return yt=_t.flags,yt&65536?(_t.flags=yt&-65537|128,_t):null;case 19:return Rn(xs),null;case 4:return Nl(),null;case 10:return Ds(_t.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var wu=!1,Sl=!1,b0=typeof WeakSet=="function"?WeakSet:Set,dn=null;function Tu(yt,_t){var Nt=yt.ref;if(Nt!==null)if(typeof Nt=="function")try{Nt(null)}catch(Ht){io(yt,_t,Ht)}else Nt.current=null}function pp(yt,_t,Nt){try{Nt()}catch(Ht){io(yt,_t,Ht)}}var km=!1;function A0(yt,_t){for(Vt(yt.containerInfo),dn=_t;dn!==null;)if(yt=dn,_t=yt.child,(yt.subtreeFlags&1028)!==0&&_t!==null)_t.return=yt,dn=_t;else for(;dn!==null;){yt=dn;try{var Nt=yt.alternate;if(yt.flags&1024)switch(yt.tag){case 0:case 11:case 15:break;case 1:if(Nt!==null){var Ht=Nt.memoizedProps,rr=Nt.memoizedState,ir=yt.stateNode,Sr=ir.getSnapshotBeforeUpdate(yt.elementType===yt.type?Ht:ts(yt.type,Ht),rr);ir.__reactInternalSnapshotBeforeUpdate=Sr}break;case 3:Er&&fn(yt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(Ir){io(yt,yt.return,Ir)}if(_t=yt.sibling,_t!==null){_t.return=yt.return,dn=_t;break}dn=yt.return}return Nt=km,km=!1,Nt}function El(yt,_t,Nt){var Ht=_t.updateQueue;if(Ht=Ht!==null?Ht.lastEffect:null,Ht!==null){var rr=Ht=Ht.next;do{if((rr.tag&yt)===yt){var ir=rr.destroy;rr.destroy=void 0,ir!==void 0&&pp(_t,Nt,ir)}rr=rr.next}while(rr!==Ht)}}function nu(yt,_t){if(_t=_t.updateQueue,_t=_t!==null?_t.lastEffect:null,_t!==null){var Nt=_t=_t.next;do{if((Nt.tag&yt)===yt){var Ht=Nt.create;Nt.destroy=Ht()}Nt=Nt.next}while(Nt!==_t)}}function mp(yt){var _t=yt.ref;if(_t!==null){var Nt=yt.stateNode;switch(yt.tag){case 5:yt=qt(Nt);break;default:yt=Nt}typeof _t=="function"?_t(yt):_t.current=yt}}function Nm(yt,_t,Nt){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(Po,_t)}catch{}switch(_t.tag){case 0:case 11:case 14:case 15:if(yt=_t.updateQueue,yt!==null&&(yt=yt.lastEffect,yt!==null)){var Ht=yt=yt.next;do{var rr=Ht,ir=rr.destroy;rr=rr.tag,ir!==void 0&&(rr&2||rr&4)&&pp(_t,Nt,ir),Ht=Ht.next}while(Ht!==yt)}break;case 1:if(Tu(_t,Nt),yt=_t.stateNode,typeof yt.componentWillUnmount=="function")try{yt.props=_t.memoizedProps,yt.state=_t.memoizedState,yt.componentWillUnmount()}catch(Sr){io(_t,Nt,Sr)}break;case 5:Tu(_t,Nt);break;case 4:Er?$m(yt,_t,Nt):ur&&ur&&(_t=_t.stateNode.containerInfo,Nt=Mn(_t),$n(_t,Nt))}}function Gm(yt,_t,Nt){for(var Ht=_t;;)if(Nm(yt,Ht,Nt),Ht.child===null||Er&&Ht.tag===4){if(Ht===_t)break;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===_t)return;Ht=Ht.return}Ht.sibling.return=Ht.return,Ht=Ht.sibling}else Ht.child.return=Ht,Ht=Ht.child}function Um(yt){var _t=yt.alternate;_t!==null&&(yt.alternate=null,Um(_t)),yt.child=null,yt.deletions=null,yt.sibling=null,yt.tag===5&&(_t=yt.stateNode,_t!==null&&nn(_t)),yt.stateNode=null,yt.return=null,yt.dependencies=null,yt.memoizedProps=null,yt.memoizedState=null,yt.pendingProps=null,yt.stateNode=null,yt.updateQueue=null}function Vm(yt){return yt.tag===5||yt.tag===3||yt.tag===4}function zm(yt){e:for(;;){for(;yt.sibling===null;){if(yt.return===null||Vm(yt.return))return null;yt=yt.return}for(yt.sibling.return=yt.return,yt=yt.sibling;yt.tag!==5&&yt.tag!==6&&yt.tag!==18;){if(yt.flags&2||yt.child===null||yt.tag===4)continue e;yt.child.return=yt,yt=yt.child}if(!(yt.flags&2))return yt.stateNode}}function Hm(yt){if(Er){e:{for(var _t=yt.return;_t!==null;){if(Vm(_t))break e;_t=_t.return}throw Error(ot(160))}var Nt=_t;switch(Nt.tag){case 5:_t=Nt.stateNode,Nt.flags&32&&(gn(_t),Nt.flags&=-33),Nt=zm(yt),vp(yt,Nt,_t);break;case 3:case 4:_t=Nt.stateNode.containerInfo,Nt=zm(yt),gp(yt,Nt,_t);break;default:throw Error(ot(161))}}}function gp(yt,_t,Nt){var Ht=yt.tag;if(Ht===5||Ht===6)yt=yt.stateNode,_t?Kr(Nt,yt,_t):rn(Nt,yt);else if(Ht!==4&&(yt=yt.child,yt!==null))for(gp(yt,_t,Nt),yt=yt.sibling;yt!==null;)gp(yt,_t,Nt),yt=yt.sibling}function vp(yt,_t,Nt){var Ht=yt.tag;if(Ht===5||Ht===6)yt=yt.stateNode,_t?Gr(Nt,yt,_t):on(Nt,yt);else if(Ht!==4&&(yt=yt.child,yt!==null))for(vp(yt,_t,Nt),yt=yt.sibling;yt!==null;)vp(yt,_t,Nt),yt=yt.sibling}function $m(yt,_t,Nt){for(var Ht=_t,rr=!1,ir,Sr;;){if(!rr){rr=Ht.return;e:for(;;){if(rr===null)throw Error(ot(160));switch(ir=rr.stateNode,rr.tag){case 5:Sr=!1;break e;case 3:ir=ir.containerInfo,Sr=!0;break e;case 4:ir=ir.containerInfo,Sr=!0;break e}rr=rr.return}rr=!0}if(Ht.tag===5||Ht.tag===6)Gm(yt,Ht,Nt),Sr?an(ir,Ht.stateNode):Wr(ir,Ht.stateNode);else if(Ht.tag===18)Sr?ss(ir,Ht.stateNode):Nn(ir,Ht.stateNode);else if(Ht.tag===4){if(Ht.child!==null){ir=Ht.stateNode.containerInfo,Sr=!0,Ht.child.return=Ht,Ht=Ht.child;continue}}else if(Nm(yt,Ht,Nt),Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===_t)break;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===_t)return;Ht=Ht.return,Ht.tag===4&&(rr=!1)}Ht.sibling.return=Ht.return,Ht=Ht.sibling}}function yp(yt,_t){if(Er){switch(_t.tag){case 0:case 11:case 14:case 15:El(3,_t,_t.return),nu(3,_t),El(5,_t,_t.return);return;case 1:return;case 5:var Nt=_t.stateNode;if(Nt!=null){var Ht=_t.memoizedProps;yt=yt!==null?yt.memoizedProps:Ht;var rr=_t.type,ir=_t.updateQueue;_t.updateQueue=null,ir!==null&&br(Nt,ir,rr,yt,Ht,_t)}return;case 6:if(_t.stateNode===null)throw Error(ot(162));Nt=_t.memoizedProps,Vr(_t.stateNode,yt!==null?yt.memoizedProps:Nt,Nt);return;case 3:xr&&yt!==null&&yt.memoizedState.isDehydrated&&Fn(_t.stateNode.containerInfo);return;case 12:return;case 13:Pu(_t);return;case 19:Pu(_t);return;case 17:return}throw Error(ot(163))}switch(_t.tag){case 0:case 11:case 14:case 15:El(3,_t,_t.return),nu(3,_t),El(5,_t,_t.return);return;case 12:return;case 13:Pu(_t);return;case 19:Pu(_t);return;case 3:xr&&yt!==null&&yt.memoizedState.isDehydrated&&Fn(_t.stateNode.containerInfo);break;case 22:case 23:return}e:if(ur){switch(_t.tag){case 1:case 5:case 6:break e;case 3:case 4:_t=_t.stateNode,$n(_t.containerInfo,_t.pendingChildren);break e}throw Error(ot(163))}}function Pu(yt){var _t=yt.updateQueue;if(_t!==null){yt.updateQueue=null;var Nt=yt.stateNode;Nt===null&&(Nt=yt.stateNode=new b0),_t.forEach(function(Ht){var rr=D0.bind(null,yt,Ht);Nt.has(Ht)||(Nt.add(Ht),Ht.then(rr,rr))})}}function C0(yt,_t){for(dn=_t;dn!==null;){_t=dn;var Nt=_t.deletions;if(Nt!==null)for(var Ht=0;Ht<Nt.length;Ht++){var rr=Nt[Ht];try{var ir=yt;Er?$m(ir,rr,_t):Gm(ir,rr,_t);var Sr=rr.alternate;Sr!==null&&(Sr.return=null),rr.return=null}catch(_n){io(rr,_t,_n)}}if(Nt=_t.child,_t.subtreeFlags&12854&&Nt!==null)Nt.return=_t,dn=Nt;else for(;dn!==null;){_t=dn;try{var Ir=_t.flags;if(Ir&32&&Er&&gn(_t.stateNode),Ir&512){var Yr=_t.alternate;if(Yr!==null){var un=Yr.ref;un!==null&&(typeof un=="function"?un(null):un.current=null)}}if(Ir&8192)switch(_t.tag){case 13:if(_t.memoizedState!==null){var yn=_t.alternate;(yn===null||yn.memoizedState===null)&&(Cp=cs())}break;case 22:var Bn=_t.memoizedState!==null,An=_t.alternate,as=An!==null&&An.memoizedState!==null;if(Nt=_t,Er){e:if(Ht=Nt,rr=Bn,ir=null,Er)for(var xn=Ht;;){if(xn.tag===5){if(ir===null){ir=xn;var js=xn.stateNode;rr?Cn(js):Ur(xn.stateNode,xn.memoizedProps)}}else if(xn.tag===6){if(ir===null){var So=xn.stateNode;rr?Cr(So):tn(So,xn.memoizedProps)}}else if((xn.tag!==22&&xn.tag!==23||xn.memoizedState===null||xn===Ht)&&xn.child!==null){xn.child.return=xn,xn=xn.child;continue}if(xn===Ht)break;for(;xn.sibling===null;){if(xn.return===null||xn.return===Ht)break e;ir===xn&&(ir=null),xn=xn.return}ir===xn&&(ir=null),xn.sibling.return=xn.return,xn=xn.sibling}}if(Bn&&!as&&Nt.mode&1){dn=Nt;for(var Hr=Nt.child;Hr!==null;){for(Nt=dn=Hr;dn!==null;){Ht=dn;var Or=Ht.child;switch(Ht.tag){case 0:case 11:case 14:case 15:El(4,Ht,Ht.return);break;case 1:Tu(Ht,Ht.return);var qr=Ht.stateNode;if(typeof qr.componentWillUnmount=="function"){var pn=Ht.return;try{qr.props=Ht.memoizedProps,qr.state=Ht.memoizedState,qr.componentWillUnmount()}catch(_n){io(Ht,pn,_n)}}break;case 5:Tu(Ht,Ht.return);break;case 22:if(Ht.memoizedState!==null){Km(Nt);continue}}Or!==null?(Or.return=Ht,dn=Or):Km(Nt)}Hr=Hr.sibling}}}switch(Ir&4102){case 2:Hm(_t),_t.flags&=-3;break;case 6:Hm(_t),_t.flags&=-3,yp(_t.alternate,_t);break;case 4096:_t.flags&=-4097;break;case 4100:_t.flags&=-4097,yp(_t.alternate,_t);break;case 4:yp(_t.alternate,_t)}}catch(_n){io(_t,_t.return,_n)}if(Nt=_t.sibling,Nt!==null){Nt.return=_t.return,dn=Nt;break}dn=_t.return}}}function M0(yt,_t,Nt){dn=yt,jm(yt)}function jm(yt,_t,Nt){for(var Ht=(yt.mode&1)!==0;dn!==null;){var rr=dn,ir=rr.child;if(rr.tag===22&&Ht){var Sr=rr.memoizedState!==null||wu;if(!Sr){var Ir=rr.alternate,Yr=Ir!==null&&Ir.memoizedState!==null||Sl;Ir=wu;var un=Sl;if(wu=Sr,(Sl=Yr)&&!un)for(dn=rr;dn!==null;)Sr=dn,Yr=Sr.child,Sr.tag===22&&Sr.memoizedState!==null?Xm(rr):Yr!==null?(Yr.return=Sr,dn=Yr):Xm(rr);for(;ir!==null;)dn=ir,jm(ir),ir=ir.sibling;dn=rr,wu=Ir,Sl=un}Wm(yt)}else rr.subtreeFlags&8772&&ir!==null?(ir.return=rr,dn=ir):Wm(yt)}}function Wm(yt){for(;dn!==null;){var _t=dn;if(_t.flags&8772){var Nt=_t.alternate;try{if(_t.flags&8772)switch(_t.tag){case 0:case 11:case 15:Sl||nu(5,_t);break;case 1:var Ht=_t.stateNode;if(_t.flags&4&&!Sl)if(Nt===null)Ht.componentDidMount();else{var rr=_t.elementType===_t.type?Nt.memoizedProps:ts(_t.type,Nt.memoizedProps);Ht.componentDidUpdate(rr,Nt.memoizedState,Ht.__reactInternalSnapshotBeforeUpdate)}var ir=_t.updateQueue;ir!==null&&Gp(_t,ir,Ht);break;case 3:var Sr=_t.updateQueue;if(Sr!==null){if(Nt=null,_t.child!==null)switch(_t.child.tag){case 5:Nt=qt(_t.child.stateNode);break;case 1:Nt=_t.child.stateNode}Gp(_t,Sr,Nt)}break;case 5:var Ir=_t.stateNode;Nt===null&&_t.flags&4&&ln(Ir,_t.type,_t.memoizedProps,_t);break;case 6:break;case 4:break;case 12:break;case 13:if(xr&&_t.memoizedState===null){var Yr=_t.alternate;if(Yr!==null){var un=Yr.memoizedState;if(un!==null){var yn=un.dehydrated;yn!==null&&On(yn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(ot(163))}Sl||_t.flags&512&&mp(_t)}catch(Bn){io(_t,_t.return,Bn)}}if(_t===yt){dn=null;break}if(Nt=_t.sibling,Nt!==null){Nt.return=_t.return,dn=Nt;break}dn=_t.return}}function Km(yt){for(;dn!==null;){var _t=dn;if(_t===yt){dn=null;break}var Nt=_t.sibling;if(Nt!==null){Nt.return=_t.return,dn=Nt;break}dn=_t.return}}function Xm(yt){for(;dn!==null;){var _t=dn;try{switch(_t.tag){case 0:case 11:case 15:var Nt=_t.return;try{nu(4,_t)}catch(Yr){io(_t,Nt,Yr)}break;case 1:var Ht=_t.stateNode;if(typeof Ht.componentDidMount=="function"){var rr=_t.return;try{Ht.componentDidMount()}catch(Yr){io(_t,rr,Yr)}}var ir=_t.return;try{mp(_t)}catch(Yr){io(_t,ir,Yr)}break;case 5:var Sr=_t.return;try{mp(_t)}catch(Yr){io(_t,Sr,Yr)}}}catch(Yr){io(_t,_t.return,Yr)}if(_t===yt){dn=null;break}var Ir=_t.sibling;if(Ir!==null){Ir.return=_t.return,dn=Ir;break}dn=_t.return}}var Ru=0,Lu=1,Iu=2,Bu=3,Du=4;if(typeof Symbol=="function"&&Symbol.for){var iu=Symbol.for;Ru=iu("selector.component"),Lu=iu("selector.has_pseudo_class"),Iu=iu("selector.role"),Bu=iu("selector.test_id"),Du=iu("selector.text")}function _p(yt){var _t=Ar(yt);if(_t!=null){if(typeof _t.memoizedProps["data-testname"]!="string")throw Error(ot(364));return _t}if(yt=zr(yt),yt===null)throw Error(ot(362));return yt.stateNode.current}function xp(yt,_t){switch(_t.$$typeof){case Ru:if(yt.type===_t.value)return!0;break;case Lu:e:{_t=_t.value,yt=[yt,0];for(var Nt=0;Nt<yt.length;){var Ht=yt[Nt++],rr=yt[Nt++],ir=_t[rr];if(Ht.tag!==5||!Tr(Ht)){for(;ir!=null&&xp(Ht,ir);)rr++,ir=_t[rr];if(rr===_t.length){_t=!0;break e}else for(Ht=Ht.child;Ht!==null;)yt.push(Ht,rr),Ht=Ht.sibling}}_t=!1}return _t;case Iu:if(yt.tag===5&&Nr(yt.stateNode,_t.value))return!0;break;case Du:if((yt.tag===5||yt.tag===6)&&(yt=ar(yt),yt!==null&&0<=yt.indexOf(_t.value)))return!0;break;case Bu:if(yt.tag===5&&(yt=yt.memoizedProps["data-testname"],typeof yt=="string"&&yt.toLowerCase()===_t.value.toLowerCase()))return!0;break;default:throw Error(ot(365))}return!1}function Sp(yt){switch(yt.$$typeof){case Ru:return"<"+(Lt(yt.value)||"Unknown")+">";case Lu:return":has("+(Sp(yt)||"")+")";case Iu:return'[role="'+yt.value+'"]';case Du:return'"'+yt.value+'"';case Bu:return'[data-testname="'+yt.value+'"]';default:throw Error(ot(365))}}function qm(yt,_t){var Nt=[];yt=[yt,0];for(var Ht=0;Ht<yt.length;){var rr=yt[Ht++],ir=yt[Ht++],Sr=_t[ir];if(rr.tag!==5||!Tr(rr)){for(;Sr!=null&&xp(rr,Sr);)ir++,Sr=_t[ir];if(ir===_t.length)Nt.push(rr);else for(rr=rr.child;rr!==null;)yt.push(rr,ir),rr=rr.sibling}}return Nt}function Ep(yt,_t){if(!Zr)throw Error(ot(363));yt=_p(yt),yt=qm(yt,_t),_t=[],yt=Array.from(yt);for(var Nt=0;Nt<yt.length;){var Ht=yt[Nt++];if(Ht.tag===5)Tr(Ht)||_t.push(Ht.stateNode);else for(Ht=Ht.child;Ht!==null;)yt.push(Ht),Ht=Ht.sibling}return _t}var w0=Math.ceil,Fu=at.ReactCurrentDispatcher,bp=at.ReactCurrentOwner,bs=at.ReactCurrentBatchConfig,zn=0,Cs=null,Ms=null,Us=0,lo=0,Ul=Ts(0),Rs=0,su=null,Vl=0,Ou=0,Ap=0,ou=null,ro=null,Cp=0,Mp=1/0;function zl(){Mp=cs()+500}var ku=!1,wp=null,Yo=null,Nu=!1,Qo=null,Gu=0,au=0,Tp=null,Uu=-1,Vu=0;function Ys(){return zn&6?cs():Uu!==-1?Uu:Uu=cs()}function Zo(yt){return yt.mode&1?zn&2&&Us!==0?Us&-Us:fs.transition!==null?(Vu===0&&(yt=fo,fo<<=1,!(fo&4194240)&&(fo=64),Vu=yt),Vu):(yt=Ln,yt!==0?yt:kr()):1}function _o(yt,_t,Nt){if(50<au)throw au=0,Tp=null,Error(ot(185));var Ht=zu(yt,_t);return Ht===null?null:(ho(Ht,_t,Nt),(!(zn&2)||Ht!==Cs)&&(Ht===Cs&&(!(zn&2)&&(Ou|=_t),Rs===4&&na(Ht,Us)),no(Ht,Nt),_t===1&&zn===0&&!(yt.mode&1)&&(zl(),sn&&jn())),Ht)}function zu(yt,_t){yt.lanes|=_t;var Nt=yt.alternate;for(Nt!==null&&(Nt.lanes|=_t),Nt=yt,yt=yt.return;yt!==null;)yt.childLanes|=_t,Nt=yt.alternate,Nt!==null&&(Nt.childLanes|=_t),Nt=yt,yt=yt.return;return Nt.tag===3?Nt.stateNode:null}function no(yt,_t){var Nt=yt.callbackNode;eo(yt,_t);var Ht=Go(yt,yt===Cs?Us:0);if(Ht===0)Nt!==null&&Mo(Nt),yt.callbackNode=null,yt.callbackPriority=0;else if(_t=Ht&-Ht,yt.callbackPriority!==_t){if(Nt!=null&&Mo(Nt),_t===1)yt.tag===0?Pn(Ym.bind(null,yt)):_i(Ym.bind(null,yt)),Pr?Xr(function(){zn===0&&jn()}):Co(wo,jn),Nt=null;else{switch(Ko(Ht)){case 1:Nt=wo;break;case 4:Nt=ba;break;case 16:Nt=Bs;break;case 536870912:Nt=To;break;default:Nt=Bs}Nt=s0(Nt,Jm.bind(null,yt))}yt.callbackPriority=_t,yt.callbackNode=Nt}}function Jm(yt,_t){if(Uu=-1,Vu=0,zn&6)throw Error(ot(327));var Nt=yt.callbackNode;if(Ml()&&yt.callbackNode!==Nt)return null;var Ht=Go(yt,yt===Cs?Us:0);if(Ht===0)return null;if(Ht&30||Ht&yt.expiredLanes||_t)_t=Hu(yt,Ht);else{_t=Ht;var rr=zn;zn|=2;var ir=_g();(Cs!==yt||Us!==_t)&&(zl(),Al(yt,_t));do try{R0();break}catch(Ir){Zm(yt,Ir)}while(1);qs(),Fu.current=ir,zn=rr,Ms!==null?_t=0:(Cs=null,Us=0,_t=Rs)}if(_t!==0){if(_t===2&&(rr=Ao(yt),rr!==0&&(Ht=rr,_t=Pp(yt,rr))),_t===1)throw Nt=su,Al(yt,0),na(yt,Ht),no(yt,cs()),Nt;if(_t===6)na(yt,Ht);else{if(rr=yt.current.alternate,!(Ht&30)&&!T0(rr)&&(_t=Hu(yt,Ht),_t===2&&(ir=Ao(yt),ir!==0&&(Ht=ir,_t=Pp(yt,ir))),_t===1))throw Nt=su,Al(yt,0),na(yt,Ht),no(yt,cs()),Nt;switch(yt.finishedWork=rr,yt.finishedLanes=Ht,_t){case 0:case 1:throw Error(ot(345));case 2:Cl(yt,ro);break;case 3:if(na(yt,Ht),(Ht&130023424)===Ht&&(_t=Cp+500-cs(),10<_t)){if(Go(yt,0)!==0)break;if(rr=yt.suspendedLanes,(rr&Ht)!==Ht){Ys(),yt.pingedLanes|=yt.suspendedLanes&rr;break}yt.timeoutHandle=wr(Cl.bind(null,yt,ro),_t);break}Cl(yt,ro);break;case 4:if(na(yt,Ht),(Ht&4194240)===Ht)break;for(_t=yt.eventTimes,rr=-1;0<Ht;){var Sr=31-Is(Ht);ir=1<<Sr,Sr=_t[Sr],Sr>rr&&(rr=Sr),Ht&=~ir}if(Ht=rr,Ht=cs()-Ht,Ht=(120>Ht?120:480>Ht?480:1080>Ht?1080:1920>Ht?1920:3e3>Ht?3e3:4320>Ht?4320:1960*w0(Ht/1960))-Ht,10<Ht){yt.timeoutHandle=wr(Cl.bind(null,yt,ro),Ht);break}Cl(yt,ro);break;case 5:Cl(yt,ro);break;default:throw Error(ot(329))}}}return no(yt,cs()),yt.callbackNode===Nt?Jm.bind(null,yt):null}function Pp(yt,_t){var Nt=ou;return yt.current.memoizedState.isDehydrated&&(Al(yt,_t).flags|=256),yt=Hu(yt,_t),yt!==2&&(_t=ro,ro=Nt,_t!==null&&Rp(_t)),yt}function Rp(yt){ro===null?ro=yt:ro.push.apply(ro,yt)}function T0(yt){for(var _t=yt;;){if(_t.flags&16384){var Nt=_t.updateQueue;if(Nt!==null&&(Nt=Nt.stores,Nt!==null))for(var Ht=0;Ht<Nt.length;Ht++){var rr=Nt[Ht],ir=rr.getSnapshot;rr=rr.value;try{if(!yr(ir(),rr))return!1}catch{return!1}}}if(Nt=_t.child,_t.subtreeFlags&16384&&Nt!==null)Nt.return=_t,_t=Nt;else{if(_t===yt)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===yt)return!0;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}}return!0}function na(yt,_t){for(_t&=~Ap,_t&=~Ou,yt.suspendedLanes|=_t,yt.pingedLanes&=~_t,yt=yt.expirationTimes;0<_t;){var Nt=31-Is(_t),Ht=1<<Nt;yt[Nt]=-1,_t&=~Ht}}function Ym(yt){if(zn&6)throw Error(ot(327));Ml();var _t=Go(yt,0);if(!(_t&1))return no(yt,cs()),null;var Nt=Hu(yt,_t);if(yt.tag!==0&&Nt===2){var Ht=Ao(yt);Ht!==0&&(_t=Ht,Nt=Pp(yt,Ht))}if(Nt===1)throw Nt=su,Al(yt,0),na(yt,_t),no(yt,cs()),Nt;if(Nt===6)throw Error(ot(345));return yt.finishedWork=yt.current.alternate,yt.finishedLanes=_t,Cl(yt,ro),no(yt,cs()),null}function Qm(yt){Qo!==null&&Qo.tag===0&&!(zn&6)&&Ml();var _t=zn;zn|=1;var Nt=bs.transition,Ht=Ln;try{if(bs.transition=null,Ln=1,yt)return yt()}finally{Ln=Ht,bs.transition=Nt,zn=_t,!(zn&6)&&jn()}}function Lp(){lo=Ul.current,Rn(Ul)}function Al(yt,_t){yt.finishedWork=null,yt.finishedLanes=0;var Nt=yt.timeoutHandle;if(Nt!==_r&&(yt.timeoutHandle=_r,pr(Nt)),Ms!==null)for(Nt=Ms.return;Nt!==null;){var Ht=Nt;switch(Ju(Ht),Ht.tag){case 1:Ht=Ht.type.childContextTypes,Ht!=null&&bo();break;case 3:Nl(),Rn(gs),Rn(Xn),_d();break;case 5:_f(Ht);break;case 4:Nl();break;case 13:Rn(xs);break;case 19:Rn(xs);break;case 10:Ds(Ht.type._context);break;case 22:case 23:Lp()}Nt=Nt.return}if(Cs=yt,Ms=yt=ga(yt.current,null),Us=lo=_t,Rs=0,su=null,Ap=Ou=Vl=0,ro=ou=null,Ps!==null){for(_t=0;_t<Ps.length;_t++)if(Nt=Ps[_t],Ht=Nt.interleaved,Ht!==null){Nt.interleaved=null;var rr=Ht.next,ir=Nt.pending;if(ir!==null){var Sr=ir.next;ir.next=rr,Ht.next=Sr}Nt.pending=Ht}Ps=null}return yt}function Zm(yt,_t){do{var Nt=Ms;try{if(qs(),mu.current=Su,gu){for(var Ht=Ss.memoizedState;Ht!==null;){var rr=Ht.queue;rr!==null&&(rr.pending=null),Ht=Ht.next}gu=!1}if(Gl=0,Fs=zs=Ss=null,Jl=!1,Yl=0,bp.current=null,Nt===null||Nt.return===null){Rs=1,su=_t,Ms=null;break}e:{var ir=yt,Sr=Nt.return,Ir=Nt,Yr=_t;if(_t=Us,Ir.flags|=32768,Yr!==null&&typeof Yr=="object"&&typeof Yr.then=="function"){var un=Yr,yn=Ir,Bn=yn.tag;if(!(yn.mode&1)&&(Bn===0||Bn===11||Bn===15)){var An=yn.alternate;An?(yn.updateQueue=An.updateQueue,yn.memoizedState=An.memoizedState,yn.lanes=An.lanes):(yn.updateQueue=null,yn.memoizedState=null)}var as=xm(Sr);if(as!==null){as.flags&=-257,Sm(as,Sr,Ir,ir,_t),as.mode&1&&_m(ir,un,_t),_t=as,Yr=un;var xn=_t.updateQueue;if(xn===null){var js=new Set;js.add(Yr),_t.updateQueue=js}else xn.add(Yr);break e}else{if(!(_t&1)){_m(ir,un,_t),Ip();break e}Yr=Error(ot(426))}}else if(ps&&Ir.mode&1){var So=xm(Sr);if(So!==null){!(So.flags&65536)&&(So.flags|=256),Sm(So,Sr,Ir,ir,_t),Zu(Yr);break e}}ir=Yr,Rs!==4&&(Rs=2),ou===null?ou=[ir]:ou.push(ir),Yr=lp(Yr,Ir),Ir=Sr;do{switch(Ir.tag){case 3:Ir.flags|=65536,_t&=-_t,Ir.lanes|=_t;var Hr=vm(Ir,Yr,_t);Np(Ir,Hr);break e;case 1:ir=Yr;var Or=Ir.type,qr=Ir.stateNode;if(!(Ir.flags&128)&&(typeof Or.getDerivedStateFromError=="function"||qr!==null&&typeof qr.componentDidCatch=="function"&&(Yo===null||!Yo.has(qr)))){Ir.flags|=65536,_t&=-_t,Ir.lanes|=_t;var pn=ym(Ir,ir,_t);Np(Ir,pn);break e}}Ir=Ir.return}while(Ir!==null)}t0(Nt)}catch(_n){_t=_n,Ms===Nt&&Nt!==null&&(Ms=Nt=Nt.return);continue}break}while(1)}function _g(){var yt=Fu.current;return Fu.current=Su,yt===null?Su:yt}function Ip(){(Rs===0||Rs===3||Rs===2)&&(Rs=4),Cs===null||!(Vl&268435455)&&!(Ou&268435455)||na(Cs,Us)}function Hu(yt,_t){var Nt=zn;zn|=2;var Ht=_g();Cs===yt&&Us===_t||Al(yt,_t);do try{P0();break}catch(rr){Zm(yt,rr)}while(1);if(qs(),zn=Nt,Fu.current=Ht,Ms!==null)throw Error(ot(261));return Cs=null,Us=0,Rs}function P0(){for(;Ms!==null;)e0(Ms)}function R0(){for(;Ms!==null&&!xa();)e0(Ms)}function e0(yt){var _t=i0(yt.alternate,yt,lo);yt.memoizedProps=yt.pendingProps,_t===null?t0(yt):Ms=_t,bp.current=null}function t0(yt){var _t=yt;do{var Nt=_t.alternate;if(yt=_t.return,_t.flags&32768){if(Nt=E0(Nt,_t),Nt!==null){Nt.flags&=32767,Ms=Nt;return}if(yt!==null)yt.flags|=32768,yt.subtreeFlags=0,yt.deletions=null;else{Rs=6,Ms=null;return}}else if(Nt=_0(Nt,_t,lo),Nt!==null){Ms=Nt;return}if(_t=_t.sibling,_t!==null){Ms=_t;return}Ms=_t=yt}while(_t!==null);Rs===0&&(Rs=5)}function Cl(yt,_t){var Nt=Ln,Ht=bs.transition;try{bs.transition=null,Ln=1,L0(yt,_t,Nt)}finally{bs.transition=Ht,Ln=Nt}return null}function L0(yt,_t,Nt){do Ml();while(Qo!==null);if(zn&6)throw Error(ot(327));var Ht=yt.finishedWork,rr=yt.finishedLanes;if(Ht===null)return null;if(yt.finishedWork=null,yt.finishedLanes=0,Ht===yt.current)throw Error(ot(177));yt.callbackNode=null,yt.callbackPriority=0;var ir=Ht.lanes|Ht.childLanes;if(Io(yt,ir),yt===Cs&&(Ms=Cs=null,Us=0),!(Ht.subtreeFlags&2064)&&!(Ht.flags&2064)||Nu||(Nu=!0,s0(Bs,function(){return Ml(),null})),ir=(Ht.flags&15990)!==0,Ht.subtreeFlags&15990||ir){ir=bs.transition,bs.transition=null;var Sr=Ln;Ln=1;var Ir=zn;zn|=4,bp.current=null,A0(yt,Ht),C0(yt,Ht),Zt(yt.containerInfo),yt.current=Ht,M0(Ht),Xo(),zn=Ir,Ln=Sr,bs.transition=ir}else yt.current=Ht;if(Nu&&(Nu=!1,Qo=yt,Gu=rr),ir=yt.pendingLanes,ir===0&&(Yo=null),$a(Ht.stateNode),no(yt,cs()),_t!==null)for(Nt=yt.onRecoverableError,Ht=0;Ht<_t.length;Ht++)Nt(_t[Ht]);if(ku)throw ku=!1,yt=wp,wp=null,yt;return Gu&1&&yt.tag!==0&&Ml(),ir=yt.pendingLanes,ir&1?yt===Tp?au++:(au=0,Tp=yt):au=0,jn(),null}function Ml(){if(Qo!==null){var yt=Ko(Gu),_t=bs.transition,Nt=Ln;try{if(bs.transition=null,Ln=16>yt?16:yt,Qo===null)var Ht=!1;else{if(yt=Qo,Qo=null,Gu=0,zn&6)throw Error(ot(331));var rr=zn;for(zn|=4,dn=yt.current;dn!==null;){var ir=dn,Sr=ir.child;if(dn.flags&16){var Ir=ir.deletions;if(Ir!==null){for(var Yr=0;Yr<Ir.length;Yr++){var un=Ir[Yr];for(dn=un;dn!==null;){var yn=dn;switch(yn.tag){case 0:case 11:case 15:El(8,yn,ir)}var Bn=yn.child;if(Bn!==null)Bn.return=yn,dn=Bn;else for(;dn!==null;){yn=dn;var An=yn.sibling,as=yn.return;if(Um(yn),yn===un){dn=null;break}if(An!==null){An.return=as,dn=An;break}dn=as}}}var xn=ir.alternate;if(xn!==null){var js=xn.child;if(js!==null){xn.child=null;do{var So=js.sibling;js.sibling=null,js=So}while(js!==null)}}dn=ir}}if(ir.subtreeFlags&2064&&Sr!==null)Sr.return=ir,dn=Sr;else e:for(;dn!==null;){if(ir=dn,ir.flags&2048)switch(ir.tag){case 0:case 11:case 15:El(9,ir,ir.return)}var Hr=ir.sibling;if(Hr!==null){Hr.return=ir.return,dn=Hr;break e}dn=ir.return}}var Or=yt.current;for(dn=Or;dn!==null;){Sr=dn;var qr=Sr.child;if(Sr.subtreeFlags&2064&&qr!==null)qr.return=Sr,dn=qr;else e:for(Sr=Or;dn!==null;){if(Ir=dn,Ir.flags&2048)try{switch(Ir.tag){case 0:case 11:case 15:nu(9,Ir)}}catch(_n){io(Ir,Ir.return,_n)}if(Ir===Sr){dn=null;break e}var pn=Ir.sibling;if(pn!==null){pn.return=Ir.return,dn=pn;break e}dn=Ir.return}}if(zn=rr,jn(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(Po,yt)}catch{}Ht=!0}return Ht}finally{Ln=Nt,bs.transition=_t}}return!1}function r0(yt,_t,Nt){_t=lp(Nt,_t),_t=vm(yt,_t,1),Jo(yt,_t),_t=Ys(),yt=zu(yt,1),yt!==null&&(ho(yt,1,_t),no(yt,_t))}function io(yt,_t,Nt){if(yt.tag===3)r0(yt,yt,Nt);else for(;_t!==null;){if(_t.tag===3){r0(_t,yt,Nt);break}else if(_t.tag===1){var Ht=_t.stateNode;if(typeof _t.type.getDerivedStateFromError=="function"||typeof Ht.componentDidCatch=="function"&&(Yo===null||!Yo.has(Ht))){yt=lp(Nt,yt),yt=ym(_t,yt,1),Jo(_t,yt),yt=Ys(),_t=zu(_t,1),_t!==null&&(ho(_t,1,yt),no(_t,yt));break}}_t=_t.return}}function I0(yt,_t,Nt){var Ht=yt.pingCache;Ht!==null&&Ht.delete(_t),_t=Ys(),yt.pingedLanes|=yt.suspendedLanes&Nt,Cs===yt&&(Us&Nt)===Nt&&(Rs===4||Rs===3&&(Us&130023424)===Us&&500>cs()-Cp?Al(yt,0):Ap|=Nt),no(yt,_t)}function n0(yt,_t){_t===0&&(yt.mode&1?(_t=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):_t=1);var Nt=Ys();yt=zu(yt,_t),yt!==null&&(ho(yt,_t,Nt),no(yt,Nt))}function B0(yt){var _t=yt.memoizedState,Nt=0;_t!==null&&(Nt=_t.retryLane),n0(yt,Nt)}function D0(yt,_t){var Nt=0;switch(yt.tag){case 13:var Ht=yt.stateNode,rr=yt.memoizedState;rr!==null&&(Nt=rr.retryLane);break;case 19:Ht=yt.stateNode;break;default:throw Error(ot(314))}Ht!==null&&Ht.delete(_t),n0(yt,Nt)}var i0;i0=function(yt,_t,Nt){if(yt!==null)if(yt.memoizedProps!==_t.pendingProps||gs.current)ao=!0;else{if(!(yt.lanes&Nt)&&!(_t.flags&128))return ao=!1,S0(yt,_t,Nt);ao=!!(yt.flags&131072)}else ao=!1,ps&&_t.flags&1048576&&$p(_t,hu,_t.index);switch(_t.lanes=0,_t.tag){case 2:var Ht=_t.type;yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),yt=_t.pendingProps;var rr=Ks(_t,Xn.current);_s(_t,Nt),rr=tp(null,_t,Ht,yt,rr,Nt);var ir=rp();return _t.flags|=1,typeof rr=="object"&&rr!==null&&typeof rr.render=="function"&&rr.$$typeof===void 0?(_t.tag=1,_t.memoizedState=null,_t.updateQueue=null,os(Ht)?(ir=!0,co(_t)):ir=!1,_t.memoizedState=rr.state!==null&&rr.state!==void 0?rr.state:null,Wu(_t),rr.updater=cu,_t.stateNode=rr,rr._reactInternals=_t,Xu(_t,Ht,yt,Nt),_t=fp(null,_t,Ht,!0,ir,Nt)):(_t.tag=0,ps&&ir&&qu(_t),Js(null,_t,rr,Nt),_t=_t.child),_t;case 16:Ht=_t.elementType;e:{switch(yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),yt=_t.pendingProps,rr=Ht._init,Ht=rr(Ht._payload),_t.type=Ht,rr=_t.tag=O0(Ht),yt=ts(Ht,yt),rr){case 0:_t=cp(null,_t,Ht,yt,Nt);break e;case 1:_t=Pm(null,_t,Ht,yt,Nt);break e;case 11:_t=Am(null,_t,Ht,yt,Nt);break e;case 14:_t=Cm(null,_t,Ht,ts(Ht.type,yt),Nt);break e}throw Error(ot(306,Ht,""))}return _t;case 0:return Ht=_t.type,rr=_t.pendingProps,rr=_t.elementType===Ht?rr:ts(Ht,rr),cp(yt,_t,Ht,rr,Nt);case 1:return Ht=_t.type,rr=_t.pendingProps,rr=_t.elementType===Ht?rr:ts(Ht,rr),Pm(yt,_t,Ht,rr,Nt);case 3:e:{if(Rm(_t),yt===null)throw Error(ot(387));Ht=_t.pendingProps,ir=_t.memoizedState,rr=ir.element,kp(yt,_t),uu(_t,Ht,null,Nt);var Sr=_t.memoizedState;if(Ht=Sr.element,xr&&ir.isDehydrated)if(ir={element:Ht,isDehydrated:!1,cache:Sr.cache,transitions:Sr.transitions},_t.updateQueue.baseState=ir,_t.memoizedState=ir,_t.flags&256){rr=Error(ot(423)),_t=Lm(yt,_t,Ht,Nt,rr);break e}else if(Ht!==rr){rr=Error(ot(424)),_t=Lm(yt,_t,Ht,Nt,rr);break e}else for(xr&&(oo=Fr(_t.stateNode.containerInfo),so=_t,ps=!0,Lo=null,Hl=!1),Nt=Jp(_t,null,Ht,Nt),_t.child=Nt;Nt;)Nt.flags=Nt.flags&-3|4096,Nt=Nt.sibling;else{if(Dl(),Ht===rr){_t=$o(yt,_t,Nt);break e}Js(yt,_t,Ht,Nt)}_t=_t.child}return _t;case 5:return Yp(_t),yt===null&&Qu(_t),Ht=_t.type,rr=_t.pendingProps,ir=yt!==null?yt.memoizedProps:null,Sr=rr.children,dr(Ht,rr)?Sr=null:ir!==null&&dr(Ht,ir)&&(_t.flags|=32),Tm(yt,_t),Js(yt,_t,Sr,Nt),_t.child;case 6:return yt===null&&Qu(_t),null;case 13:return Im(yt,_t,Nt);case 4:return _c(_t,_t.stateNode.containerInfo),Ht=_t.pendingProps,yt===null?_t.child=Fl(_t,null,Ht,Nt):Js(yt,_t,Ht,Nt),_t.child;case 11:return Ht=_t.type,rr=_t.pendingProps,rr=_t.elementType===Ht?rr:ts(Ht,rr),Am(yt,_t,Ht,rr,Nt);case 7:return Js(yt,_t,_t.pendingProps,Nt),_t.child;case 8:return Js(yt,_t,_t.pendingProps.children,Nt),_t.child;case 12:return Js(yt,_t,_t.pendingProps.children,Nt),_t.child;case 10:e:{if(Ht=_t.type._context,rr=_t.pendingProps,ir=_t.memoizedProps,Sr=rr.value,to(_t,Ht,Sr),ir!==null)if(yr(ir.value,Sr)){if(ir.children===rr.children&&!gs.current){_t=$o(yt,_t,Nt);break e}}else for(ir=_t.child,ir!==null&&(ir.return=_t);ir!==null;){var Ir=ir.dependencies;if(Ir!==null){Sr=ir.child;for(var Yr=Ir.firstContext;Yr!==null;){if(Yr.context===Ht){if(ir.tag===1){Yr=Uo(-1,Nt&-Nt),Yr.tag=2;var un=ir.updateQueue;if(un!==null){un=un.shared;var yn=un.pending;yn===null?Yr.next=Yr:(Yr.next=yn.next,yn.next=Yr),un.pending=Yr}}ir.lanes|=Nt,Yr=ir.alternate,Yr!==null&&(Yr.lanes|=Nt),ys(ir.return,Nt,_t),Ir.lanes|=Nt;break}Yr=Yr.next}}else if(ir.tag===10)Sr=ir.type===_t.type?null:ir.child;else if(ir.tag===18){if(Sr=ir.return,Sr===null)throw Error(ot(341));Sr.lanes|=Nt,Ir=Sr.alternate,Ir!==null&&(Ir.lanes|=Nt),ys(Sr,Nt,_t),Sr=ir.sibling}else Sr=ir.child;if(Sr!==null)Sr.return=ir;else for(Sr=ir;Sr!==null;){if(Sr===_t){Sr=null;break}if(ir=Sr.sibling,ir!==null){ir.return=Sr.return,Sr=ir;break}Sr=Sr.return}ir=Sr}Js(yt,_t,rr.children,Nt),_t=_t.child}return _t;case 9:return rr=_t.type,Ht=_t.pendingProps.children,_s(_t,Nt),rr=Yn(rr),Ht=Ht(rr),_t.flags|=1,Js(yt,_t,Ht,Nt),_t.child;case 14:return Ht=_t.type,rr=ts(Ht,_t.pendingProps),rr=ts(Ht.type,rr),Cm(yt,_t,Ht,rr,Nt);case 15:return Mm(yt,_t,_t.type,_t.pendingProps,Nt);case 17:return Ht=_t.type,rr=_t.pendingProps,rr=_t.elementType===Ht?rr:ts(Ht,rr),yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),_t.tag=1,os(Ht)?(yt=!0,co(_t)):yt=!1,_s(_t,Nt),zp(_t,Ht,rr),Xu(_t,Ht,rr,Nt),fp(null,_t,Ht,!0,yt,Nt);case 19:return Om(yt,_t,Nt);case 22:return wm(yt,_t,Nt)}throw Error(ot(156,_t.tag))};function s0(yt,_t){return Co(yt,_t)}function F0(yt,_t,Nt,Ht){this.tag=yt,this.key=Nt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ht,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(yt,_t,Nt,Ht){return new F0(yt,_t,Nt,Ht)}function Bp(yt){return yt=yt.prototype,!(!yt||!yt.isReactComponent)}function O0(yt){if(typeof yt=="function")return Bp(yt)?1:0;if(yt!=null){if(yt=yt.$$typeof,yt===At)return 11;if(yt===Mt)return 14}return 2}function ga(yt,_t){var Nt=yt.alternate;return Nt===null?(Nt=xo(yt.tag,_t,yt.key,yt.mode),Nt.elementType=yt.elementType,Nt.type=yt.type,Nt.stateNode=yt.stateNode,Nt.alternate=yt,yt.alternate=Nt):(Nt.pendingProps=_t,Nt.type=yt.type,Nt.flags=0,Nt.subtreeFlags=0,Nt.deletions=null),Nt.flags=yt.flags&14680064,Nt.childLanes=yt.childLanes,Nt.lanes=yt.lanes,Nt.child=yt.child,Nt.memoizedProps=yt.memoizedProps,Nt.memoizedState=yt.memoizedState,Nt.updateQueue=yt.updateQueue,_t=yt.dependencies,Nt.dependencies=_t===null?null:{lanes:_t.lanes,firstContext:_t.firstContext},Nt.sibling=yt.sibling,Nt.index=yt.index,Nt.ref=yt.ref,Nt}function $u(yt,_t,Nt,Ht,rr,ir){var Sr=2;if(Ht=yt,typeof yt=="function")Bp(yt)&&(Sr=1);else if(typeof yt=="string")Sr=5;else e:switch(yt){case dt:return Tl(Nt.children,rr,ir,_t);case gt:Sr=8,rr|=8;break;case pt:return yt=xo(12,Nt,_t,rr|2),yt.elementType=pt,yt.lanes=ir,yt;case Tt:return yt=xo(13,Nt,_t,rr),yt.elementType=Tt,yt.lanes=ir,yt;case Ct:return yt=xo(19,Nt,_t,rr),yt.elementType=Ct,yt.lanes=ir,yt;case Rt:return ju(Nt,rr,ir,_t);default:if(typeof yt=="object"&&yt!==null)switch(yt.$$typeof){case vt:Sr=10;break e;case St:Sr=9;break e;case At:Sr=11;break e;case Mt:Sr=14;break e;case Et:Sr=16,Ht=null;break e}throw Error(ot(130,yt==null?yt:typeof yt,""))}return _t=xo(Sr,Nt,_t,rr),_t.elementType=yt,_t.type=Ht,_t.lanes=ir,_t}function Tl(yt,_t,Nt,Ht){return yt=xo(7,yt,Ht,_t),yt.lanes=Nt,yt}function ju(yt,_t,Nt,Ht){return yt=xo(22,yt,Ht,_t),yt.elementType=Rt,yt.lanes=Nt,yt.stateNode={},yt}function Dp(yt,_t,Nt){return yt=xo(6,yt,null,_t),yt.lanes=Nt,yt}function Fp(yt,_t,Nt){return _t=xo(4,yt.children!==null?yt.children:[],yt.key,_t),_t.lanes=Nt,_t.stateNode={containerInfo:yt.containerInfo,pendingChildren:null,implementation:yt.implementation},_t}function k0(yt,_t,Nt,Ht,rr){this.tag=_t,this.containerInfo=yt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_r,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=Ht,this.onRecoverableError=rr,xr&&(this.mutableSourceEagerHydrationData=null)}function o0(yt,_t,Nt,Ht,rr,ir,Sr,Ir,Yr){return yt=new k0(yt,_t,Nt,Ir,Yr),_t===1?(_t=1,ir===!0&&(_t|=8)):_t=0,ir=xo(3,null,null,_t),yt.current=ir,ir.stateNode=yt,ir.memoizedState={element:Ht,isDehydrated:Nt,cache:null,transitions:null},Wu(ir),yt}function a0(yt){if(!yt)return Gs;yt=yt._reactInternals;e:{if(Dt(yt)!==yt||yt.tag!==1)throw Error(ot(170));var _t=yt;do{switch(_t.tag){case 3:_t=_t.stateNode.context;break e;case 1:if(os(_t.type)){_t=_t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_t=_t.return}while(_t!==null);throw Error(ot(171))}if(yt.tag===1){var Nt=yt.type;if(os(Nt))return jo(yt,Nt,_t)}return _t}function l0(yt){var _t=yt._reactInternals;if(_t===void 0)throw typeof yt.render=="function"?Error(ot(188)):(yt=Object.keys(yt).join(","),Error(ot(268,yt)));return yt=zt(_t),yt===null?null:yt.stateNode}function u0(yt,_t){if(yt=yt.memoizedState,yt!==null&&yt.dehydrated!==null){var Nt=yt.retryLane;yt.retryLane=Nt!==0&&Nt<_t?Nt:_t}}function Op(yt,_t){u0(yt,_t),(yt=yt.alternate)&&u0(yt,_t)}function N0(yt){return yt=zt(yt),yt===null?null:yt.stateNode}function G0(){return null}return tt.attemptContinuousHydration=function(yt){if(yt.tag===13){var _t=Ys();_o(yt,134217728,_t),Op(yt,134217728)}},tt.attemptHydrationAtCurrentPriority=function(yt){if(yt.tag===13){var _t=Ys(),Nt=Zo(yt);_o(yt,Nt,_t),Op(yt,Nt)}},tt.attemptSynchronousHydration=function(yt){switch(yt.tag){case 3:var _t=yt.stateNode;if(_t.current.memoizedState.isDehydrated){var Nt=Vs(_t.pendingLanes);Nt!==0&&(po(_t,Nt|1),no(_t,cs()),!(zn&6)&&(zl(),jn()))}break;case 13:var Ht=Ys();Qm(function(){return _o(yt,1,Ht)}),Op(yt,1)}},tt.batchedUpdates=function(yt,_t){var Nt=zn;zn|=1;try{return yt(_t)}finally{zn=Nt,zn===0&&(zl(),sn&&jn())}},tt.createComponentSelector=function(yt){return{$$typeof:Ru,value:yt}},tt.createContainer=function(yt,_t,Nt,Ht,rr,ir,Sr){return o0(yt,_t,!1,null,Nt,Ht,rr,ir,Sr)},tt.createHasPseudoClassSelector=function(yt){return{$$typeof:Lu,value:yt}},tt.createHydrationContainer=function(yt,_t,Nt,Ht,rr,ir,Sr,Ir,Yr){return yt=o0(Nt,Ht,!0,yt,rr,ir,Sr,Ir,Yr),yt.context=a0(null),Nt=yt.current,Ht=Ys(),rr=Zo(Nt),ir=Uo(Ht,rr),ir.callback=_t??null,Jo(Nt,ir),yt.current.lanes=rr,ho(yt,rr,Ht),no(yt,Ht),yt},tt.createPortal=function(yt,_t,Nt){var Ht=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ft,key:Ht==null?null:""+Ht,children:yt,containerInfo:_t,implementation:Nt}},tt.createRoleSelector=function(yt){return{$$typeof:Iu,value:yt}},tt.createTestNameSelector=function(yt){return{$$typeof:Bu,value:yt}},tt.createTextSelector=function(yt){return{$$typeof:Du,value:yt}},tt.deferredUpdates=function(yt){var _t=Ln,Nt=bs.transition;try{return bs.transition=null,Ln=16,yt()}finally{Ln=_t,bs.transition=Nt}},tt.discreteUpdates=function(yt,_t,Nt,Ht,rr){var ir=Ln,Sr=bs.transition;try{return bs.transition=null,Ln=1,yt(_t,Nt,Ht,rr)}finally{Ln=ir,bs.transition=Sr,zn===0&&zl()}},tt.findAllNodes=Ep,tt.findBoundingRects=function(yt,_t){if(!Zr)throw Error(ot(363));_t=Ep(yt,_t),yt=[];for(var Nt=0;Nt<_t.length;Nt++)yt.push(cr(_t[Nt]));for(_t=yt.length-1;0<_t;_t--){Nt=yt[_t];for(var Ht=Nt.x,rr=Ht+Nt.width,ir=Nt.y,Sr=ir+Nt.height,Ir=_t-1;0<=Ir;Ir--)if(_t!==Ir){var Yr=yt[Ir],un=Yr.x,yn=un+Yr.width,Bn=Yr.y,An=Bn+Yr.height;if(Ht>=un&&ir>=Bn&&rr<=yn&&Sr<=An){yt.splice(_t,1);break}else if(Ht!==un||Nt.width!==Yr.width||An<ir||Bn>Sr){if(!(ir!==Bn||Nt.height!==Yr.height||yn<Ht||un>rr)){un>Ht&&(Yr.width+=un-Ht,Yr.x=Ht),yn<rr&&(Yr.width=rr-un),yt.splice(_t,1);break}}else{Bn>ir&&(Yr.height+=Bn-ir,Yr.y=ir),An<Sr&&(Yr.height=Sr-Bn),yt.splice(_t,1);break}}}return yt},tt.findHostInstance=l0,tt.findHostInstanceWithNoPortals=function(yt){return yt=Ut(yt),yt=yt!==null?jt(yt):null,yt===null?null:yt.stateNode},tt.findHostInstanceWithWarning=function(yt){return l0(yt)},tt.flushControlled=function(yt){var _t=zn;zn|=1;var Nt=bs.transition,Ht=Ln;try{bs.transition=null,Ln=1,yt()}finally{Ln=Ht,bs.transition=Nt,zn=_t,zn===0&&(zl(),jn())}},tt.flushPassiveEffects=Ml,tt.flushSync=Qm,tt.focusWithin=function(yt,_t){if(!Zr)throw Error(ot(363));for(yt=_p(yt),_t=qm(yt,_t),_t=Array.from(_t),yt=0;yt<_t.length;){var Nt=_t[yt++];if(!Tr(Nt)){if(Nt.tag===5&&Qr(Nt.stateNode))return!0;for(Nt=Nt.child;Nt!==null;)_t.push(Nt),Nt=Nt.sibling}}return!1},tt.getCurrentUpdatePriority=function(){return Ln},tt.getFindAllNodesFailureDescription=function(yt,_t){if(!Zr)throw Error(ot(363));var Nt=0,Ht=[];yt=[_p(yt),0];for(var rr=0;rr<yt.length;){var ir=yt[rr++],Sr=yt[rr++],Ir=_t[Sr];if((ir.tag!==5||!Tr(ir))&&(xp(ir,Ir)&&(Ht.push(Sp(Ir)),Sr++,Sr>Nt&&(Nt=Sr)),Sr<_t.length))for(ir=ir.child;ir!==null;)yt.push(ir,Sr),ir=ir.sibling}if(Nt<_t.length){for(yt=[];Nt<_t.length;Nt++)yt.push(Sp(_t[Nt]));return`findAllNodes was able to match part of the selector:
  `+(Ht.join(" > ")+`

No matching component was found for:
  `)+yt.join(" > ")}return null},tt.getPublicRootInstance=function(yt){if(yt=yt.current,!yt.child)return null;switch(yt.child.tag){case 5:return qt(yt.child.stateNode);default:return yt.child.stateNode}},tt.injectIntoDevTools=function(yt){if(yt={bundleType:yt.bundleType,version:yt.version,rendererPackageName:yt.rendererPackageName,rendererConfig:yt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:at.ReactCurrentDispatcher,findHostInstanceByFiber:N0,findFiberByHostInstance:yt.findFiberByHostInstance||G0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")yt=!1;else{var _t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_t.isDisabled||!_t.supportsFiber)yt=!0;else{try{Po=_t.inject(yt),Xs=_t}catch{}yt=!!_t.checkDCE}}return yt},tt.isAlreadyRendering=function(){return!1},tt.observeVisibleRects=function(yt,_t,Nt,Ht){if(!Zr)throw Error(ot(363));yt=Ep(yt,_t);var rr=en(yt,Nt,Ht).disconnect;return{disconnect:function(){rr()}}},tt.registerMutableSourceForHydration=function(yt,_t){var Nt=_t._getVersion;Nt=Nt(_t._source),yt.mutableSourceEagerHydrationData==null?yt.mutableSourceEagerHydrationData=[_t,Nt]:yt.mutableSourceEagerHydrationData.push(_t,Nt)},tt.runWithPriority=function(yt,_t){var Nt=Ln;try{return Ln=yt,_t()}finally{Ln=Nt}},tt.shouldError=function(){return null},tt.shouldSuspend=function(){return!1},tt.updateContainer=function(yt,_t,Nt,Ht){var rr=_t.current,ir=Ys(),Sr=Zo(rr);return Nt=a0(Nt),_t.context===null?_t.context=Nt:_t.pendingContext=Nt,_t=Uo(ir,Sr),_t.payload={element:yt},Ht=Ht===void 0?null:Ht,Ht!==null&&(_t.callback=Ht),Jo(rr,_t),yt=_o(rr,Sr,ir),yt!==null&&lu(yt,rr,Sr),Sr},tt};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(kt,Vt){var Zt=kt.length;kt.push(Vt);e:for(;0<Zt;){var Wt=Zt-1>>>1,nr=kt[Wt];if(0<nt(nr,Vt))kt[Wt]=Vt,kt[Zt]=nr,Zt=Wt;else break e}}function tt(kt){return kt.length===0?null:kt[0]}function rt(kt){if(kt.length===0)return null;var Vt=kt[0],Zt=kt.pop();if(Zt!==Vt){kt[0]=Zt;e:for(var Wt=0,nr=kt.length,sr=nr>>>1;Wt<sr;){var lr=2*(Wt+1)-1,dr=kt[lr],hr=lr+1,wr=kt[hr];if(0>nt(dr,Zt))hr<nr&&0>nt(wr,dr)?(kt[Wt]=wr,kt[hr]=Zt,Wt=hr):(kt[Wt]=dr,kt[lr]=Zt,Wt=lr);else if(hr<nr&&0>nt(wr,Zt))kt[Wt]=wr,kt[hr]=Zt,Wt=hr;else break e}}return Vt}function nt(kt,Vt){var Zt=kt.sortIndex-Vt.sortIndex;return Zt!==0?Zt:kt.id-Vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;et.unstable_now=function(){return st.now()}}else{var ot=Date,at=ot.now();et.unstable_now=function(){return ot.now()-at}}var lt=[],ft=[],dt=1,gt=null,pt=3,vt=!1,St=!1,At=!1,Tt=typeof setTimeout=="function"?setTimeout:null,Ct=typeof clearTimeout=="function"?clearTimeout:null,Mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(kt){for(var Vt=tt(ft);Vt!==null;){if(Vt.callback===null)rt(ft);else if(Vt.startTime<=kt)rt(ft),Vt.sortIndex=Vt.expirationTime,_e(lt,Vt);else break;Vt=tt(ft)}}function Rt(kt){if(At=!1,Et(kt),!St)if(tt(lt)!==null)St=!0,qt(Bt);else{var Vt=tt(ft);Vt!==null&&er(Rt,Vt.startTime-kt)}}function Bt(kt,Vt){St=!1,At&&(At=!1,Ct(wt),wt=-1),vt=!0;var Zt=pt;try{for(Et(Vt),gt=tt(lt);gt!==null&&(!(gt.expirationTime>Vt)||kt&&!Ut());){var Wt=gt.callback;if(typeof Wt=="function"){gt.callback=null,pt=gt.priorityLevel;var nr=Wt(gt.expirationTime<=Vt);Vt=et.unstable_now(),typeof nr=="function"?gt.callback=nr:gt===tt(lt)&&rt(lt),Et(Vt)}else rt(lt);gt=tt(lt)}if(gt!==null)var sr=!0;else{var lr=tt(ft);lr!==null&&er(Rt,lr.startTime-Vt),sr=!1}return sr}finally{gt=null,pt=Zt,vt=!1}}var Ft=!1,Lt=null,wt=-1,Dt=5,Ot=-1;function Ut(){return!(et.unstable_now()-Ot<Dt)}function zt(){if(Lt!==null){var kt=et.unstable_now();Ot=kt;var Vt=!0;try{Vt=Lt(!0,kt)}finally{Vt?tr():(Ft=!1,Lt=null)}}else Ft=!1}var tr;if(typeof Mt=="function")tr=function(){Mt(zt)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Kt=jt.port2;jt.port1.onmessage=zt,tr=function(){Kt.postMessage(null)}}else tr=function(){Tt(zt,0)};function qt(kt){Lt=kt,Ft||(Ft=!0,tr())}function er(kt,Vt){wt=Tt(function(){kt(et.unstable_now())},Vt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(kt){kt.callback=null},et.unstable_continueExecution=function(){St||vt||(St=!0,qt(Bt))},et.unstable_forceFrameRate=function(kt){0>kt||125<kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<kt?Math.floor(1e3/kt):5},et.unstable_getCurrentPriorityLevel=function(){return pt},et.unstable_getFirstCallbackNode=function(){return tt(lt)},et.unstable_next=function(kt){switch(pt){case 1:case 2:case 3:var Vt=3;break;default:Vt=pt}var Zt=pt;pt=Vt;try{return kt()}finally{pt=Zt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(kt,Vt){switch(kt){case 1:case 2:case 3:case 4:case 5:break;default:kt=3}var Zt=pt;pt=kt;try{return Vt()}finally{pt=Zt}},et.unstable_scheduleCallback=function(kt,Vt,Zt){var Wt=et.unstable_now();switch(typeof Zt=="object"&&Zt!==null?(Zt=Zt.delay,Zt=typeof Zt=="number"&&0<Zt?Wt+Zt:Wt):Zt=Wt,kt){case 1:var nr=-1;break;case 2:nr=250;break;case 5:nr=1073741823;break;case 4:nr=1e4;break;default:nr=5e3}return nr=Zt+nr,kt={id:dt++,callback:Vt,priorityLevel:kt,startTime:Zt,expirationTime:nr,sortIndex:-1},Zt>Wt?(kt.sortIndex=Zt,_e(ft,kt),tt(lt)===null&&kt===tt(ft)&&(At?(Ct(wt),wt=-1):At=!0,er(Rt,Zt-Wt))):(kt.sortIndex=nr,_e(lt,kt),St||vt||(St=!0,qt(Bt))),kt},et.unstable_shouldYield=Ut,et.unstable_wrapCallback=function(kt){var Vt=pt;return function(){var Zt=pt;pt=Vt;try{return kt.apply(this,arguments)}finally{pt=Zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;function shallowEqualArrays(et,_e,tt=(rt,nt)=>rt===nt){if(et===_e)return!0;if(!et||!_e)return!1;const rt=et.length;if(_e.length!==rt)return!1;for(let nt=0;nt<rt;nt++)if(!tt(et[nt],_e[nt]))return!1;return!0}const globalCache=[];function query(et,_e,tt=!1,rt={}){for(const st of globalCache)if(shallowEqualArrays(_e,st.keys,st.equal)){if(tt)return;if(Object.prototype.hasOwnProperty.call(st,"error"))throw st.error;if(Object.prototype.hasOwnProperty.call(st,"response"))return st.response;if(!tt)throw st.promise}const nt={keys:_e,equal:rt.equal,promise:et(..._e).then(st=>nt.response=st).then(()=>{rt.lifespan&&rt.lifespan>0&&setTimeout(()=>{const st=globalCache.indexOf(nt);st!==-1&&globalCache.splice(st,1)},rt.lifespan)}).catch(st=>nt.error=st)};if(globalCache.push(nt),!tt)throw nt.promise}const suspend=(et,_e,tt)=>query(et,_e,!1,tt),preload=(et,_e,tt)=>void query(et,_e,!0,tt),clear=et=>{if(et===void 0||et.length===0)globalCache.splice(0,globalCache.length);else{const _e=globalCache.find(tt=>shallowEqualArrays(et,tt.keys,tt.equal));if(_e){const tt=globalCache.indexOf(_e);tt!==-1&&globalCache.splice(tt,1)}}},catalogue={},extend=et=>void Object.assign(catalogue,et);function createRenderer(et,_e){function tt(dt,{args:gt=[],attach:pt,...vt},St){let At=`${dt[0].toUpperCase()}${dt.slice(1)}`,Tt;if(dt==="primitive"){if(vt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Ct=vt.object;Tt=prepare(Ct,{type:dt,root:St,attach:pt,primitive:!0})}else{const Ct=catalogue[At];if(!Ct)throw new Error(`R3F: ${At} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(gt))throw new Error("R3F: The args prop must be an array!");Tt=prepare(new Ct(...gt),{type:dt,root:St,attach:pt,memoizedProps:{args:gt}})}return Tt.__r3f.attach===void 0&&(Tt instanceof BufferGeometry?Tt.__r3f.attach="geometry":Tt instanceof Material&&(Tt.__r3f.attach="material")),At!=="inject"&&applyProps$1(Tt,vt),Tt}function rt(dt,gt){let pt=!1;if(gt){var vt,St;(vt=gt.__r3f)!=null&&vt.attach?attach(dt,gt,gt.__r3f.attach):gt.isObject3D&&dt.isObject3D&&(dt.add(gt),pt=!0),pt||(St=dt.__r3f)==null||St.objects.push(gt),gt.__r3f||prepare(gt,{}),gt.__r3f.parent=dt,updateInstance(gt),invalidateInstance(gt)}}function nt(dt,gt,pt){let vt=!1;if(gt){var St,At;if((St=gt.__r3f)!=null&&St.attach)attach(dt,gt,gt.__r3f.attach);else if(gt.isObject3D&&dt.isObject3D){gt.parent=dt,gt.dispatchEvent({type:"added"});const Tt=dt.children.filter(Mt=>Mt!==gt),Ct=Tt.indexOf(pt);dt.children=[...Tt.slice(0,Ct),gt,...Tt.slice(Ct)],vt=!0}vt||(At=dt.__r3f)==null||At.objects.push(gt),gt.__r3f||prepare(gt,{}),gt.__r3f.parent=dt,updateInstance(gt),invalidateInstance(gt)}}function st(dt,gt,pt=!1){dt&&[...dt].forEach(vt=>ot(gt,vt,pt))}function ot(dt,gt,pt){if(gt){var vt,St,At;if(gt.__r3f&&(gt.__r3f.parent=null),(vt=dt.__r3f)!=null&&vt.objects&&(dt.__r3f.objects=dt.__r3f.objects.filter(Rt=>Rt!==gt)),(St=gt.__r3f)!=null&&St.attach)detach(dt,gt,gt.__r3f.attach);else if(gt.isObject3D&&dt.isObject3D){var Tt;dt.remove(gt),(Tt=gt.__r3f)!=null&&Tt.root&&removeInteractivity(gt.__r3f.root,gt)}const Mt=(At=gt.__r3f)==null?void 0:At.primitive,Et=pt===void 0?gt.dispose!==null&&!Mt:pt;if(!Mt){var Ct;st((Ct=gt.__r3f)==null?void 0:Ct.objects,gt,Et),st(gt.children,gt,Et)}gt.__r3f&&(delete gt.__r3f.root,delete gt.__r3f.objects,delete gt.__r3f.handlers,delete gt.__r3f.memoizedProps,Mt||delete gt.__r3f),Et&&gt.dispose&&gt.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{gt.dispose()}catch{}}),invalidateInstance(dt)}}function at(dt,gt,pt,vt){var St;const At=(St=dt.__r3f)==null?void 0:St.parent;if(!At)return;const Tt=tt(gt,pt,dt.__r3f.root);if(dt.children){for(const Ct of dt.children)Ct.__r3f&&rt(Tt,Ct);dt.children=dt.children.filter(Ct=>!Ct.__r3f)}dt.__r3f.objects.forEach(Ct=>rt(Tt,Ct)),dt.__r3f.objects=[],dt.__r3f.autoRemovedBeforeAppend||ot(At,dt),Tt.parent&&(Tt.__r3f.autoRemovedBeforeAppend=!0),rt(At,Tt),Tt.raycast&&Tt.__r3f.eventCount&&Tt.__r3f.root.getState().internal.interaction.push(Tt),[vt,vt.alternate].forEach(Ct=>{Ct!==null&&(Ct.stateNode=Tt,Ct.ref&&(typeof Ct.ref=="function"?Ct.ref(Tt):Ct.ref.current=Tt))})}const lt=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:tt,removeChild:ot,appendChild:rt,appendInitialChild:rt,insertBefore:nt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(dt,gt)=>{if(!gt)return;const pt=dt.getState().scene;pt.__r3f&&(pt.__r3f.root=dt,rt(pt,gt))},removeChildFromContainer:(dt,gt)=>{gt&&ot(dt.getState().scene,gt)},insertInContainerBefore:(dt,gt,pt)=>{if(!gt||!pt)return;const vt=dt.getState().scene;vt.__r3f&&nt(vt,gt,pt)},getRootHostContext:()=>null,getChildHostContext:dt=>dt,finalizeInitialChildren(dt){var gt;return!!((gt=dt==null?void 0:dt.__r3f)!=null?gt:{}).handlers},prepareUpdate(dt,gt,pt,vt){if(dt.__r3f.primitive&&vt.object&&vt.object!==dt)return[!0];{const{args:St=[],children:At,...Tt}=vt,{args:Ct=[],children:Mt,...Et}=pt;if(!Array.isArray(St))throw new Error("R3F: the args prop must be an array!");if(St.some((Bt,Ft)=>Bt!==Ct[Ft]))return[!0];const Rt=diffProps(dt,Tt,Et,!0);return Rt.changes.length?[!1,Rt]:null}},commitUpdate(dt,[gt,pt],vt,St,At,Tt){gt?at(dt,vt,At,Tt):applyProps$1(dt,pt)},commitMount(dt,gt,pt,vt){var St;const At=(St=dt.__r3f)!=null?St:{};dt.raycast&&At.handlers&&At.eventCount&&dt.__r3f.root.getState().internal.interaction.push(dt)},getPublicInstance:dt=>dt,prepareForCommit:()=>null,preparePortalMount:dt=>prepare(dt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(dt){var gt;const{attach:pt,parent:vt}=(gt=dt.__r3f)!=null?gt:{};pt&&vt&&detach(vt,dt,pt),dt.isObject3D&&(dt.visible=!1),invalidateInstance(dt)},unhideInstance(dt,gt){var pt;const{attach:vt,parent:St}=(pt=dt.__r3f)!=null?pt:{};vt&&St&&attach(St,dt,vt),(dt.isObject3D&&gt.visible==null||gt.visible)&&(dt.visible=!0),invalidateInstance(dt)},createTextInstance:lt,hideTextInstance:lt,unhideTextInstance:lt,getCurrentEventPriority:()=>_e?_e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=et=>"colorSpace"in et||"outputColorSpace"in et,getColorManagement=()=>{var et;return(et=catalogue.ColorManagement)!=null?et:null},isOrthographicCamera=et=>et&&et.isOrthographicCamera,isRef$1=et=>et&&et.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(et){const _e=reactExports.useRef(et);return useIsomorphicLayoutEffect$1(()=>void(_e.current=et),[et]),_e}function Block({set:et}){return useIsomorphicLayoutEffect$1(()=>(et(new Promise(()=>null)),()=>et(!1)),[et]),null}class ErrorBoundary extends reactExports.Component{constructor(..._e){super(..._e),this.state={error:!1}}componentDidCatch(_e){this.props.set(_e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=et=>et&&!!et.memoized&&!!et.changes;function calculateDpr(et){var _e;const tt=typeof window<"u"?(_e=window.devicePixelRatio)!=null?_e:2:1;return Array.isArray(et)?Math.min(Math.max(et[0],tt),et[1]):et}const getRootState=et=>{var _e;return(_e=et.__r3f)==null?void 0:_e.root.getState()},is={obj:et=>et===Object(et)&&!is.arr(et)&&typeof et!="function",fun:et=>typeof et=="function",str:et=>typeof et=="string",num:et=>typeof et=="number",boo:et=>typeof et=="boolean",und:et=>et===void 0,arr:et=>Array.isArray(et),equ(et,_e,{arrays:tt="shallow",objects:rt="reference",strict:nt=!0}={}){if(typeof et!=typeof _e||!!et!=!!_e)return!1;if(is.str(et)||is.num(et))return et===_e;const st=is.obj(et);if(st&&rt==="reference")return et===_e;const ot=is.arr(et);if(ot&&tt==="reference")return et===_e;if((ot||st)&&et===_e)return!0;let at;for(at in et)if(!(at in _e))return!1;if(st&&tt==="shallow"&&rt==="shallow"){for(at in nt?_e:et)if(!is.equ(et[at],_e[at],{strict:nt,objects:"reference"}))return!1}else for(at in nt?_e:et)if(et[at]!==_e[at])return!1;if(is.und(at)){if(ot&&et.length===0&&_e.length===0||st&&Object.keys(et).length===0&&Object.keys(_e).length===0)return!0;if(et!==_e)return!1}return!0}};function buildGraph(et){const _e={nodes:{},materials:{}};return et&&et.traverse(tt=>{tt.name&&(_e.nodes[tt.name]=tt),tt.material&&!_e.materials[tt.material.name]&&(_e.materials[tt.material.name]=tt.material)}),_e}function dispose(et){et.dispose&&et.type!=="Scene"&&et.dispose();for(const _e in et)_e.dispose==null||_e.dispose(),delete et[_e]}function prepare(et,_e){const tt=et;return(_e!=null&&_e.primitive||!tt.__r3f)&&(tt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,..._e}),et}function resolve(et,_e){let tt=et;if(_e.includes("-")){const rt=_e.split("-"),nt=rt.pop();return tt=rt.reduce((st,ot)=>st[ot],et),{target:tt,key:nt}}else return{target:tt,key:_e}}const INDEX_REGEX=/-\d+$/;function attach(et,_e,tt){if(is.str(tt)){if(INDEX_REGEX.test(tt)){const st=tt.replace(INDEX_REGEX,""),{target:ot,key:at}=resolve(et,st);Array.isArray(ot[at])||(ot[at]=[])}const{target:rt,key:nt}=resolve(et,tt);_e.__r3f.previousAttach=rt[nt],rt[nt]=_e}else _e.__r3f.previousAttach=tt(et,_e)}function detach(et,_e,tt){var rt,nt;if(is.str(tt)){const{target:st,key:ot}=resolve(et,tt),at=_e.__r3f.previousAttach;at===void 0?delete st[ot]:st[ot]=at}else(rt=_e.__r3f)==null||rt.previousAttach==null||rt.previousAttach(et,_e);(nt=_e.__r3f)==null||delete nt.previousAttach}function diffProps(et,{children:_e,key:tt,ref:rt,...nt},{children:st,key:ot,ref:at,...lt}={},ft=!1){var dt;const gt=(dt=et==null?void 0:et.__r3f)!=null?dt:{},pt=Object.entries(nt),vt=[];if(ft){const At=Object.keys(lt);for(let Tt=0;Tt<At.length;Tt++)nt.hasOwnProperty(At[Tt])||pt.unshift([At[Tt],DEFAULT+"remove"])}pt.forEach(([At,Tt])=>{var Ct;if((Ct=et.__r3f)!=null&&Ct.primitive&&At==="object"||is.equ(Tt,lt[At]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(At))return vt.push([At,Tt,!0,[]]);let Mt=[];At.includes("-")&&(Mt=At.split("-")),vt.push([At,Tt,!1,Mt]);for(const Et in nt){const Rt=nt[Et];Et.startsWith(`${At}-`)&&vt.push([Et,Rt,!1,Et.split("-")])}});const St={...nt};return gt.memoizedProps&&gt.memoizedProps.args&&(St.args=gt.memoizedProps.args),gt.memoizedProps&&gt.memoizedProps.attach&&(St.attach=gt.memoizedProps.attach),{memoized:St,changes:vt}}function applyProps$1(et,_e){var tt,rt,nt;const st=(tt=et.__r3f)!=null?tt:{},ot=st.root,at=(rt=ot==null||ot.getState==null?void 0:ot.getState())!=null?rt:{},{memoized:lt,changes:ft}=isDiffSet(_e)?_e:diffProps(et,_e),dt=st.eventCount;et.__r3f&&(et.__r3f.memoizedProps=lt);for(let pt=0;pt<ft.length;pt++){let[vt,St,At,Tt]=ft[pt];if(hasColorSpace(et)){const Rt="srgb",Bt="srgb-linear";vt==="encoding"?(vt="colorSpace",St=St===3001?Rt:Bt):vt==="outputEncoding"&&(vt="outputColorSpace",St=St===3001?Rt:Bt)}let Ct=et,Mt=Ct[vt];if(Tt.length&&(Mt=Tt.reduce((Et,Rt)=>Et[Rt],et),!(Mt&&Mt.set))){const[Et,...Rt]=Tt.reverse();Ct=Rt.reverse().reduce((Bt,Ft)=>Bt[Ft],et),vt=Et}if(St===DEFAULT+"remove")if(Ct.constructor){let Et=DEFAULTS.get(Ct.constructor);Et||(Et=new Ct.constructor,DEFAULTS.set(Ct.constructor,Et)),St=Et[vt]}else St=0;if(At)St?st.handlers[vt]=St:delete st.handlers[vt],st.eventCount=Object.keys(st.handlers).length;else if(Mt&&Mt.set&&(Mt.copy||Mt instanceof Layers)){if(Array.isArray(St))Mt.fromArray?Mt.fromArray(St):Mt.set(...St);else if(Mt.copy&&St&&St.constructor&&Mt.constructor===St.constructor)Mt.copy(St);else if(St!==void 0){const Et=Mt instanceof Color;!Et&&Mt.setScalar?Mt.setScalar(St):Mt instanceof Layers&&St instanceof Layers?Mt.mask=St.mask:Mt.set(St),!getColorManagement()&&!at.linear&&Et&&Mt.convertSRGBToLinear()}}else if(Ct[vt]=St,Ct[vt]instanceof Texture&&Ct[vt].format===RGBAFormat&&Ct[vt].type===UnsignedByteType){const Et=Ct[vt];hasColorSpace(Et)&&hasColorSpace(at.gl)?Et.colorSpace=at.gl.outputColorSpace:Et.encoding=at.gl.outputEncoding}invalidateInstance(et)}if(st.parent&&at.internal&&et.raycast&&dt!==st.eventCount){const pt=at.internal.interaction.indexOf(et);pt>-1&&at.internal.interaction.splice(pt,1),st.eventCount&&at.internal.interaction.push(et)}return!(ft.length===1&&ft[0][0]==="onUpdate")&&ft.length&&(nt=et.__r3f)!=null&&nt.parent&&updateInstance(et),et}function invalidateInstance(et){var _e,tt;const rt=(_e=et.__r3f)==null||(tt=_e.root)==null||tt.getState==null?void 0:tt.getState();rt&&rt.internal.frames===0&&rt.invalidate()}function updateInstance(et){et.onUpdate==null||et.onUpdate(et)}function updateCamera(et,_e){et.manual||(isOrthographicCamera(et)?(et.left=_e.width/-2,et.right=_e.width/2,et.top=_e.height/2,et.bottom=_e.height/-2):et.aspect=_e.width/_e.height,et.updateProjectionMatrix(),et.updateMatrixWorld())}function makeId(et){return(et.eventObject||et.object).uuid+"/"+et.index+et.instanceId}function getEventPriority(){var et;const _e=typeof self<"u"&&self||typeof window<"u"&&window;if(!_e)return constantsExports.DefaultEventPriority;switch((et=_e.event)==null?void 0:et.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(et,_e,tt,rt){const nt=tt.get(_e);nt&&(tt.delete(_e),tt.size===0&&(et.delete(rt),nt.target.releasePointerCapture(rt)))}function removeInteractivity(et,_e){const{internal:tt}=et.getState();tt.interaction=tt.interaction.filter(rt=>rt!==_e),tt.initialHits=tt.initialHits.filter(rt=>rt!==_e),tt.hovered.forEach((rt,nt)=>{(rt.eventObject===_e||rt.object===_e)&&tt.hovered.delete(nt)}),tt.capturedMap.forEach((rt,nt)=>{releaseInternalPointerCapture(tt.capturedMap,_e,rt,nt)})}function createEvents(et){function _e(lt){const{internal:ft}=et.getState(),dt=lt.offsetX-ft.initialClick[0],gt=lt.offsetY-ft.initialClick[1];return Math.round(Math.sqrt(dt*dt+gt*gt))}function tt(lt){return lt.filter(ft=>["Move","Over","Enter","Out","Leave"].some(dt=>{var gt;return(gt=ft.__r3f)==null?void 0:gt.handlers["onPointer"+dt]}))}function rt(lt,ft){const dt=et.getState(),gt=new Set,pt=[],vt=ft?ft(dt.internal.interaction):dt.internal.interaction;for(let Ct=0;Ct<vt.length;Ct++){const Mt=getRootState(vt[Ct]);Mt&&(Mt.raycaster.camera=void 0)}dt.previousRoot||dt.events.compute==null||dt.events.compute(lt,dt);function St(Ct){const Mt=getRootState(Ct);if(!Mt||!Mt.events.enabled||Mt.raycaster.camera===null)return[];if(Mt.raycaster.camera===void 0){var Et;Mt.events.compute==null||Mt.events.compute(lt,Mt,(Et=Mt.previousRoot)==null?void 0:Et.getState()),Mt.raycaster.camera===void 0&&(Mt.raycaster.camera=null)}return Mt.raycaster.camera?Mt.raycaster.intersectObject(Ct,!0):[]}let At=vt.flatMap(St).sort((Ct,Mt)=>{const Et=getRootState(Ct.object),Rt=getRootState(Mt.object);return!Et||!Rt?Ct.distance-Mt.distance:Rt.events.priority-Et.events.priority||Ct.distance-Mt.distance}).filter(Ct=>{const Mt=makeId(Ct);return gt.has(Mt)?!1:(gt.add(Mt),!0)});dt.events.filter&&(At=dt.events.filter(At,dt));for(const Ct of At){let Mt=Ct.object;for(;Mt;){var Tt;(Tt=Mt.__r3f)!=null&&Tt.eventCount&&pt.push({...Ct,eventObject:Mt}),Mt=Mt.parent}}if("pointerId"in lt&&dt.internal.capturedMap.has(lt.pointerId))for(let Ct of dt.internal.capturedMap.get(lt.pointerId).values())gt.has(makeId(Ct.intersection))||pt.push(Ct.intersection);return pt}function nt(lt,ft,dt,gt){const pt=et.getState();if(lt.length){const vt={stopped:!1};for(const St of lt){const At=getRootState(St.object)||pt,{raycaster:Tt,pointer:Ct,camera:Mt,internal:Et}=At,Rt=new Vector3(Ct.x,Ct.y,0).unproject(Mt),Bt=Ot=>{var Ut,zt;return(Ut=(zt=Et.capturedMap.get(Ot))==null?void 0:zt.has(St.eventObject))!=null?Ut:!1},Ft=Ot=>{const Ut={intersection:St,target:ft.target};Et.capturedMap.has(Ot)?Et.capturedMap.get(Ot).set(St.eventObject,Ut):Et.capturedMap.set(Ot,new Map([[St.eventObject,Ut]])),ft.target.setPointerCapture(Ot)},Lt=Ot=>{const Ut=Et.capturedMap.get(Ot);Ut&&releaseInternalPointerCapture(Et.capturedMap,St.eventObject,Ut,Ot)};let wt={};for(let Ot in ft){let Ut=ft[Ot];typeof Ut!="function"&&(wt[Ot]=Ut)}let Dt={...St,...wt,pointer:Ct,intersections:lt,stopped:vt.stopped,delta:dt,unprojectedPoint:Rt,ray:Tt.ray,camera:Mt,stopPropagation(){const Ot="pointerId"in ft&&Et.capturedMap.get(ft.pointerId);if((!Ot||Ot.has(St.eventObject))&&(Dt.stopped=vt.stopped=!0,Et.hovered.size&&Array.from(Et.hovered.values()).find(Ut=>Ut.eventObject===St.eventObject))){const Ut=lt.slice(0,lt.indexOf(St));st([...Ut,St])}},target:{hasPointerCapture:Bt,setPointerCapture:Ft,releasePointerCapture:Lt},currentTarget:{hasPointerCapture:Bt,setPointerCapture:Ft,releasePointerCapture:Lt},nativeEvent:ft};if(gt(Dt),vt.stopped===!0)break}}return lt}function st(lt){const{internal:ft}=et.getState();for(const dt of ft.hovered.values())if(!lt.length||!lt.find(gt=>gt.object===dt.object&&gt.index===dt.index&&gt.instanceId===dt.instanceId)){const pt=dt.eventObject.__r3f,vt=pt==null?void 0:pt.handlers;if(ft.hovered.delete(makeId(dt)),pt!=null&&pt.eventCount){const St={...dt,intersections:lt};vt.onPointerOut==null||vt.onPointerOut(St),vt.onPointerLeave==null||vt.onPointerLeave(St)}}}function ot(lt,ft){for(let dt=0;dt<ft.length;dt++){const gt=ft[dt].__r3f;gt==null||gt.handlers.onPointerMissed==null||gt.handlers.onPointerMissed(lt)}}function at(lt){switch(lt){case"onPointerLeave":case"onPointerCancel":return()=>st([]);case"onLostPointerCapture":return ft=>{const{internal:dt}=et.getState();"pointerId"in ft&&dt.capturedMap.has(ft.pointerId)&&requestAnimationFrame(()=>{dt.capturedMap.has(ft.pointerId)&&(dt.capturedMap.delete(ft.pointerId),st([]))})}}return function(dt){const{onPointerMissed:gt,internal:pt}=et.getState();pt.lastEvent.current=dt;const vt=lt==="onPointerMove",St=lt==="onClick"||lt==="onContextMenu"||lt==="onDoubleClick",Tt=rt(dt,vt?tt:void 0),Ct=St?_e(dt):0;lt==="onPointerDown"&&(pt.initialClick=[dt.offsetX,dt.offsetY],pt.initialHits=Tt.map(Et=>Et.eventObject)),St&&!Tt.length&&Ct<=2&&(ot(dt,pt.interaction),gt&&gt(dt)),vt&&st(Tt);function Mt(Et){const Rt=Et.eventObject,Bt=Rt.__r3f,Ft=Bt==null?void 0:Bt.handlers;if(Bt!=null&&Bt.eventCount)if(vt){if(Ft.onPointerOver||Ft.onPointerEnter||Ft.onPointerOut||Ft.onPointerLeave){const Lt=makeId(Et),wt=pt.hovered.get(Lt);wt?wt.stopped&&Et.stopPropagation():(pt.hovered.set(Lt,Et),Ft.onPointerOver==null||Ft.onPointerOver(Et),Ft.onPointerEnter==null||Ft.onPointerEnter(Et))}Ft.onPointerMove==null||Ft.onPointerMove(Et)}else{const Lt=Ft[lt];Lt?(!St||pt.initialHits.includes(Rt))&&(ot(dt,pt.interaction.filter(wt=>!pt.initialHits.includes(wt))),Lt(Et)):St&&pt.initialHits.includes(Rt)&&ot(dt,pt.interaction.filter(wt=>!pt.initialHits.includes(wt)))}}nt(Tt,dt,Ct,Mt)}}return{handlePointer:at}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=et=>!!(et!=null&&et.render),context$1=reactExports.createContext(null),createStore$3=(et,_e)=>{const tt=create$3((at,lt)=>{const ft=new Vector3,dt=new Vector3,gt=new Vector3;function pt(Ct=lt().camera,Mt=dt,Et=lt().size){const{width:Rt,height:Bt,top:Ft,left:Lt}=Et,wt=Rt/Bt;Mt instanceof Vector3?gt.copy(Mt):gt.set(...Mt);const Dt=Ct.getWorldPosition(ft).distanceTo(gt);if(isOrthographicCamera(Ct))return{width:Rt/Ct.zoom,height:Bt/Ct.zoom,top:Ft,left:Lt,factor:1,distance:Dt,aspect:wt};{const Ot=Ct.fov*Math.PI/180,Ut=2*Math.tan(Ot/2)*Dt,zt=Ut*(Rt/Bt);return{width:zt,height:Ut,top:Ft,left:Lt,factor:Rt/zt,distance:Dt,aspect:wt}}}let vt;const St=Ct=>at(Mt=>({performance:{...Mt.performance,current:Ct}})),At=new Vector2;return{set:at,get:lt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Ct=1)=>et(lt(),Ct),advance:(Ct,Mt)=>_e(Ct,Mt,lt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:At,mouse:At,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Ct=lt();vt&&clearTimeout(vt),Ct.performance.current!==Ct.performance.min&&St(Ct.performance.min),vt=setTimeout(()=>St(lt().performance.max),Ct.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:pt},setEvents:Ct=>at(Mt=>({...Mt,events:{...Mt.events,...Ct}})),setSize:(Ct,Mt,Et,Rt,Bt)=>{const Ft=lt().camera,Lt={width:Ct,height:Mt,top:Rt||0,left:Bt||0,updateStyle:Et};at(wt=>({size:Lt,viewport:{...wt.viewport,...pt(Ft,dt,Lt)}}))},setDpr:Ct=>at(Mt=>{const Et=calculateDpr(Ct);return{viewport:{...Mt.viewport,dpr:Et,initialDpr:Mt.viewport.initialDpr||Et}}}),setFrameloop:(Ct="always")=>{const Mt=lt().clock;Mt.stop(),Mt.elapsedTime=0,Ct!=="never"&&(Mt.start(),Mt.elapsedTime=0),at(()=>({frameloop:Ct}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Ct,Mt,Et)=>{const Rt=lt().internal;return Rt.priority=Rt.priority+(Mt>0?1:0),Rt.subscribers.push({ref:Ct,priority:Mt,store:Et}),Rt.subscribers=Rt.subscribers.sort((Bt,Ft)=>Bt.priority-Ft.priority),()=>{const Bt=lt().internal;Bt!=null&&Bt.subscribers&&(Bt.priority=Bt.priority-(Mt>0?1:0),Bt.subscribers=Bt.subscribers.filter(Ft=>Ft.ref!==Ct))}}}}}),rt=tt.getState();let nt=rt.size,st=rt.viewport.dpr,ot=rt.camera;return tt.subscribe(()=>{const{camera:at,size:lt,viewport:ft,gl:dt,set:gt}=tt.getState();if(lt!==nt||ft.dpr!==st){var pt;nt=lt,st=ft.dpr,updateCamera(at,lt),dt.setPixelRatio(ft.dpr);const vt=(pt=lt.updateStyle)!=null?pt:typeof HTMLCanvasElement<"u"&&dt.domElement instanceof HTMLCanvasElement;dt.setSize(lt.width,lt.height,vt)}at!==ot&&(ot=at,gt(vt=>({viewport:{...vt.viewport,...vt.viewport.getCurrentViewport(at)}})))}),tt.subscribe(at=>et(at)),tt};function createSubs(et,_e){const tt={callback:et};return _e.add(tt),()=>void _e.delete(tt)}let i$2,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=et=>createSubs(et,globalEffects),addAfterEffect=et=>createSubs(et,globalAfterEffects),addTail=et=>createSubs(et,globalTailEffects);function run(et,_e){if(et.size)for(const{callback:tt}of et.values())tt(_e)}function flushGlobalEffects(et,_e){switch(et){case"before":return run(globalEffects,_e);case"after":return run(globalAfterEffects,_e);case"tail":return run(globalTailEffects,_e)}}let subscribers,subscription;function render$1(et,_e,tt){let rt=_e.clock.getDelta();for(_e.frameloop==="never"&&typeof et=="number"&&(rt=et-_e.clock.elapsedTime,_e.clock.oldTime=_e.clock.elapsedTime,_e.clock.elapsedTime=et),subscribers=_e.internal.subscribers,i$2=0;i$2<subscribers.length;i$2++)subscription=subscribers[i$2],subscription.ref.current(subscription.store.getState(),rt,tt);return!_e.internal.priority&&_e.gl.render&&_e.gl.render(_e.scene,_e.camera),_e.internal.frames=Math.max(0,_e.internal.frames-1),_e.frameloop==="always"?1:_e.internal.frames}function createLoop(et){let _e=!1,tt,rt,nt;function st(lt){rt=requestAnimationFrame(st),_e=!0,tt=0,flushGlobalEffects("before",lt);for(const dt of et.values()){var ft;nt=dt.store.getState(),nt.internal.active&&(nt.frameloop==="always"||nt.internal.frames>0)&&!((ft=nt.gl.xr)!=null&&ft.isPresenting)&&(tt+=render$1(lt,nt))}if(flushGlobalEffects("after",lt),tt===0)return flushGlobalEffects("tail",lt),_e=!1,cancelAnimationFrame(rt)}function ot(lt,ft=1){var dt;if(!lt)return et.forEach(gt=>ot(gt.store.getState()),ft);(dt=lt.gl.xr)!=null&&dt.isPresenting||!lt.internal.active||lt.frameloop==="never"||(lt.internal.frames=Math.min(60,lt.internal.frames+ft),_e||(_e=!0,requestAnimationFrame(st)))}function at(lt,ft=!0,dt,gt){if(ft&&flushGlobalEffects("before",lt),dt)render$1(lt,dt,gt);else for(const pt of et.values())render$1(lt,pt.store.getState());ft&&flushGlobalEffects("after",lt)}return{loop:st,invalidate:ot,advance:at}}function useStore$2(){const et=reactExports.useContext(context$1);if(!et)throw new Error("R3F: Hooks can only be used within the Canvas component!");return et}function useThree(et=tt=>tt,_e){return useStore$2()(et,_e)}function useFrame(et,_e=0){const tt=useStore$2(),rt=tt.getState().internal.subscribe,nt=useMutableCallback(et);return useIsomorphicLayoutEffect$1(()=>rt(nt,_e,tt),[_e,rt,tt]),null}function loadingFn(et,_e){return function(tt,...rt){const nt=new tt;return et&&et(nt),Promise.all(rt.map(st=>new Promise((ot,at)=>nt.load(st,lt=>{lt.scene&&Object.assign(lt,buildGraph(lt.scene)),ot(lt)},_e,lt=>at(new Error(`Could not load ${st}: ${lt.message})`))))))}}function useLoader(et,_e,tt,rt){const nt=Array.isArray(_e)?_e:[_e],st=suspend(loadingFn(tt,rt),[et,...nt],{equal:is.equ});return Array.isArray(_e)?st:st[0]}useLoader.preload=function(et,_e,tt){const rt=Array.isArray(_e)?_e:[_e];return preload(loadingFn(tt),[et,...rt])};useLoader.clear=function(et,_e){const tt=Array.isArray(_e)?_e:[_e];return clear([et,...tt])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(et,_e)=>{const tt=typeof et=="function"?et(_e):et;return isRenderer(tt)?tt:new WebGLRenderer({powerPreference:"high-performance",canvas:_e,antialias:!0,alpha:!0,...et})};function computeInitialSize(et,_e){if(_e)return _e;if(typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement&&et.parentElement){const{width:tt,height:rt,top:nt,left:st}=et.parentElement.getBoundingClientRect();return{width:tt,height:rt,top:nt,left:st}}else if(typeof OffscreenCanvas<"u"&&et instanceof OffscreenCanvas)return{width:et.width,height:et.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot(et){const _e=roots.get(et),tt=_e==null?void 0:_e.fiber,rt=_e==null?void 0:_e.store;_e&&console.warn("R3F.createRoot should only be called once!");const nt=typeof reportError=="function"?reportError:console.error,st=rt||createStore$3(invalidate,advance),ot=tt||reconciler.createContainer(st,constantsExports.ConcurrentRoot,null,!1,null,"",nt,null);_e||roots.set(et,{fiber:ot,store:st});let at,lt=!1,ft;return{configure(dt={}){let{gl:gt,size:pt,scene:vt,events:St,onCreated:At,shadows:Tt=!1,linear:Ct=!1,flat:Mt=!1,legacy:Et=!1,orthographic:Rt=!1,frameloop:Bt="always",dpr:Ft=[1,2],performance:Lt,raycaster:wt,camera:Dt,onPointerMissed:Ot}=dt,Ut=st.getState(),zt=Ut.gl;Ut.gl||Ut.set({gl:zt=createRendererInstance(gt,et)});let tr=Ut.raycaster;tr||Ut.set({raycaster:tr=new Raycaster});const{params:jt,...Kt}=wt||{};if(is.equ(Kt,tr,shallowLoose)||applyProps(tr,{...Kt}),is.equ(jt,tr.params,shallowLoose)||applyProps(tr,{params:{...tr.params,...jt}}),!Ut.camera||Ut.camera===ft&&!is.equ(ft,Dt,shallowLoose)){ft=Dt;const Wt=Dt instanceof Camera,nr=Wt?Dt:Rt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);Wt||(nr.position.z=5,Dt&&applyProps(nr,Dt),!Ut.camera&&!(Dt!=null&&Dt.rotation)&&nr.lookAt(0,0,0)),Ut.set({camera:nr})}if(!Ut.scene){let Wt;vt instanceof Scene?Wt=vt:(Wt=new Scene,vt&&applyProps(Wt,vt)),Ut.set({scene:prepare(Wt)})}if(!Ut.xr){const Wt=(lr,dr)=>{const hr=st.getState();hr.frameloop!=="never"&&advance(lr,!0,hr,dr)},nr=()=>{const lr=st.getState();lr.gl.xr.enabled=lr.gl.xr.isPresenting,lr.gl.xr.setAnimationLoop(lr.gl.xr.isPresenting?Wt:null),lr.gl.xr.isPresenting||invalidate(lr)},sr={connect(){const lr=st.getState().gl;lr.xr.addEventListener("sessionstart",nr),lr.xr.addEventListener("sessionend",nr)},disconnect(){const lr=st.getState().gl;lr.xr.removeEventListener("sessionstart",nr),lr.xr.removeEventListener("sessionend",nr)}};zt.xr&&sr.connect(),Ut.set({xr:sr})}if(zt.shadowMap){const Wt=zt.shadowMap.enabled,nr=zt.shadowMap.type;if(zt.shadowMap.enabled=!!Tt,is.boo(Tt))zt.shadowMap.type=PCFSoftShadowMap;else if(is.str(Tt)){var qt;const sr={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};zt.shadowMap.type=(qt=sr[Tt])!=null?qt:PCFSoftShadowMap}else is.obj(Tt)&&Object.assign(zt.shadowMap,Tt);(Wt!==zt.shadowMap.enabled||nr!==zt.shadowMap.type)&&(zt.shadowMap.needsUpdate=!0)}const er=getColorManagement();er&&("enabled"in er?er.enabled=!Et:"legacyMode"in er&&(er.legacyMode=Et)),applyProps(zt,{outputEncoding:Ct?3e3:3001,toneMapping:Mt?NoToneMapping:ACESFilmicToneMapping}),Ut.legacy!==Et&&Ut.set(()=>({legacy:Et})),Ut.linear!==Ct&&Ut.set(()=>({linear:Ct})),Ut.flat!==Mt&&Ut.set(()=>({flat:Mt})),gt&&!is.fun(gt)&&!isRenderer(gt)&&!is.equ(gt,zt,shallowLoose)&&applyProps(zt,gt),St&&!Ut.events.handlers&&Ut.set({events:St(st)});const Zt=computeInitialSize(et,pt);return is.equ(Zt,Ut.size,shallowLoose)||Ut.setSize(Zt.width,Zt.height,Zt.updateStyle,Zt.top,Zt.left),Ft&&Ut.viewport.dpr!==calculateDpr(Ft)&&Ut.setDpr(Ft),Ut.frameloop!==Bt&&Ut.setFrameloop(Bt),Ut.onPointerMissed||Ut.set({onPointerMissed:Ot}),Lt&&!is.equ(Lt,Ut.performance,shallowLoose)&&Ut.set(Wt=>({performance:{...Wt.performance,...Lt}})),at=At,lt=!0,this},render(dt){return lt||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:st,children:dt,onCreated:at,rootElement:et}),ot,null,()=>{}),st},unmount(){unmountComponentAtNode(et)}}}function Provider({store:et,children:_e,onCreated:tt,rootElement:rt}){return useIsomorphicLayoutEffect$1(()=>{const nt=et.getState();nt.set(st=>({internal:{...st.internal,active:!0}})),tt&&tt(nt),et.getState().events.connected||nt.events.connect==null||nt.events.connect(rt)},[]),reactExports.createElement(context$1.Provider,{value:et},_e)}function unmountComponentAtNode(et,_e){const tt=roots.get(et),rt=tt==null?void 0:tt.fiber;if(rt){const nt=tt==null?void 0:tt.store.getState();nt&&(nt.internal.active=!1),reconciler.updateContainer(null,rt,null,()=>{nt&&setTimeout(()=>{try{var st,ot,at,lt;nt.events.disconnect==null||nt.events.disconnect(),(st=nt.gl)==null||(ot=st.renderLists)==null||ot.dispose==null||ot.dispose(),(at=nt.gl)==null||at.forceContextLoss==null||at.forceContextLoss(),(lt=nt.gl)!=null&&lt.xr&&nt.xr.disconnect(),dispose(nt),roots.delete(et),_e&&_e(et)}catch{}},500)})}}function createPortal(et,_e,tt){return reactExports.createElement(Portal,{key:_e.uuid,children:et,container:_e,state:tt})}function Portal({state:et={},children:_e,container:tt}){const{events:rt,size:nt,...st}=et,ot=useStore$2(),[at]=reactExports.useState(()=>new Raycaster),[lt]=reactExports.useState(()=>new Vector2),ft=reactExports.useCallback((gt,pt)=>{const vt={...gt};Object.keys(gt).forEach(At=>{(privateKeys.includes(At)||gt[At]!==pt[At]&&pt[At])&&delete vt[At]});let St;if(pt&&nt){const At=pt.camera;St=gt.viewport.getCurrentViewport(At,new Vector3,nt),At!==gt.camera&&updateCamera(At,nt)}return{...vt,scene:tt,raycaster:at,pointer:lt,mouse:lt,previousRoot:ot,events:{...gt.events,...pt==null?void 0:pt.events,...rt},size:{...gt.size,...nt},viewport:{...gt.viewport,...St},...st}},[et]),[dt]=reactExports.useState(()=>{const gt=ot.getState();return create$3((vt,St)=>({...gt,scene:tt,raycaster:at,pointer:lt,mouse:lt,previousRoot:ot,events:{...gt.events,...rt},size:{...gt.size,...nt},...st,set:vt,get:St,setEvents:At=>vt(Tt=>({...Tt,events:{...Tt.events,...At}}))}))});return reactExports.useEffect(()=>{const gt=ot.subscribe(pt=>dt.setState(vt=>ft(pt,vt)));return()=>{gt(),dt.destroy()}},[]),reactExports.useEffect(()=>{dt.setState(gt=>ft(ot.getState(),gt))},[ft]),reactExports.createElement(reactExports.Fragment,null,reconciler.createPortal(reactExports.createElement(context$1.Provider,{value:dt},_e),dt,null))}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce(et,_e,tt){var rt,nt,st,ot,at;_e==null&&(_e=100);function lt(){var dt=Date.now()-ot;dt<_e&&dt>=0?rt=setTimeout(lt,_e-dt):(rt=null,tt||(at=et.apply(st,nt),st=nt=null))}var ft=function(){st=this,nt=arguments,ot=Date.now();var dt=tt&&!rt;return rt||(rt=setTimeout(lt,_e)),dt&&(at=et.apply(st,nt),st=nt=null),at};return ft.clear=function(){rt&&(clearTimeout(rt),rt=null)},ft.flush=function(){rt&&(at=et.apply(st,nt),st=nt=null,clearTimeout(rt),rt=null)},ft}debounce.debounce=debounce;var debounce_1=debounce;const createDebounce=getDefaultExportFromCjs(debounce_1);function useMeasure(et){let{debounce:_e,scroll:tt,polyfill:rt,offsetSize:nt}=et===void 0?{debounce:0,scroll:!1,offsetSize:!1}:et;const st=rt||(typeof window>"u"?class{}:window.ResizeObserver);if(!st)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[ot,at]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),lt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:ot}),ft=_e?typeof _e=="number"?_e:_e.scroll:null,dt=_e?typeof _e=="number"?_e:_e.resize:null,gt=reactExports.useRef(!1);reactExports.useEffect(()=>(gt.current=!0,()=>void(gt.current=!1)));const[pt,vt,St]=reactExports.useMemo(()=>{const Mt=()=>{if(!lt.current.element)return;const{left:Et,top:Rt,width:Bt,height:Ft,bottom:Lt,right:wt,x:Dt,y:Ot}=lt.current.element.getBoundingClientRect(),Ut={left:Et,top:Rt,width:Bt,height:Ft,bottom:Lt,right:wt,x:Dt,y:Ot};lt.current.element instanceof HTMLElement&&nt&&(Ut.height=lt.current.element.offsetHeight,Ut.width=lt.current.element.offsetWidth),Object.freeze(Ut),gt.current&&!areBoundsEqual(lt.current.lastBounds,Ut)&&at(lt.current.lastBounds=Ut)};return[Mt,dt?createDebounce(Mt,dt):Mt,ft?createDebounce(Mt,ft):Mt]},[at,nt,ft,dt]);function At(){lt.current.scrollContainers&&(lt.current.scrollContainers.forEach(Mt=>Mt.removeEventListener("scroll",St,!0)),lt.current.scrollContainers=null),lt.current.resizeObserver&&(lt.current.resizeObserver.disconnect(),lt.current.resizeObserver=null)}function Tt(){lt.current.element&&(lt.current.resizeObserver=new st(St),lt.current.resizeObserver.observe(lt.current.element),tt&&lt.current.scrollContainers&&lt.current.scrollContainers.forEach(Mt=>Mt.addEventListener("scroll",St,{capture:!0,passive:!0})))}const Ct=Mt=>{!Mt||Mt===lt.current.element||(At(),lt.current.element=Mt,lt.current.scrollContainers=findScrollContainers(Mt),Tt())};return useOnWindowScroll(St,!!tt),useOnWindowResize(vt),reactExports.useEffect(()=>{At(),Tt()},[tt,St,vt]),reactExports.useEffect(()=>At,[]),[Ct,ot,pt]}function useOnWindowResize(et){reactExports.useEffect(()=>{const _e=et;return window.addEventListener("resize",_e),()=>void window.removeEventListener("resize",_e)},[et])}function useOnWindowScroll(et,_e){reactExports.useEffect(()=>{if(_e){const tt=et;return window.addEventListener("scroll",tt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",tt,!0)}},[et,_e])}function findScrollContainers(et){const _e=[];if(!et||et===document.body)return _e;const{overflow:tt,overflowX:rt,overflowY:nt}=window.getComputedStyle(et);return[tt,rt,nt].some(st=>st==="auto"||st==="scroll")&&_e.push(et),[..._e,...findScrollContainers(et.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(et,_e)=>keys.every(tt=>et[tt]===_e[tt]);var __defProp$4=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$4=(et,_e,tt)=>_e in et?__defProp$4(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt,__spreadValues$1=(et,_e)=>{for(var tt in _e||(_e={}))__hasOwnProp$1.call(_e,tt)&&__defNormalProp$4(et,tt,_e[tt]);if(__getOwnPropSymbols$1)for(var tt of __getOwnPropSymbols$1(_e))__propIsEnum$1.call(_e,tt)&&__defNormalProp$4(et,tt,_e[tt]);return et},__spreadProps=(et,_e)=>__defProps(et,__getOwnPropDescs(_e));function traverseFiber(et,_e,tt){if(!et)return;if(tt(et)===!0)return et;let rt=_e?et.return:et.child;for(;rt;){const nt=traverseFiber(rt,_e,tt);if(nt)return nt;rt=_e?null:rt.sibling}}function wrapContext(et){try{return Object.defineProperties(et,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return et}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const et=reactExports.useContext(FiberContext);if(!et)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _e=reactExports.useId();return reactExports.useMemo(()=>{var rt;return(rt=ReactCurrentOwner.current)!=null?rt:traverseFiber(et,!1,nt=>{let st=nt.memoizedState;for(;st;){if(st.memoizedState===_e)return!0;st=st.next}})},[et,_e])}function useContextBridge(){var et,_e;const tt=useFiber(),[rt]=reactExports.useState(()=>new Map);rt.clear();let nt=tt;for(;nt;){const st=(et=nt.type)==null?void 0:et._context;st&&st!==FiberContext&&!rt.has(st)&&rt.set(st,(_e=ReactCurrentDispatcher.current)==null?void 0:_e.readContext(wrapContext(st))),nt=nt.return}return reactExports.useMemo(()=>Array.from(rt.keys()).reduce((st,ot)=>at=>reactExports.createElement(st,null,reactExports.createElement(ot.Provider,__spreadProps(__spreadValues$1({},at),{value:rt.get(ot)}))),st=>reactExports.createElement(FiberProvider,__spreadValues$1({},st))),[rt])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(et){const{handlePointer:_e}=createEvents(et);return{priority:1,enabled:!0,compute(tt,rt,nt){rt.pointer.set(tt.offsetX/rt.size.width*2-1,-(tt.offsetY/rt.size.height)*2+1),rt.raycaster.setFromCamera(rt.pointer,rt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((tt,rt)=>({...tt,[rt]:_e(rt)}),{}),update:()=>{var tt;const{events:rt,internal:nt}=et.getState();(tt=nt.lastEvent)!=null&&tt.current&&rt.handlers&&rt.handlers.onPointerMove(nt.lastEvent.current)},connect:tt=>{var rt;const{set:nt,events:st}=et.getState();st.disconnect==null||st.disconnect(),nt(ot=>({events:{...ot.events,connected:tt}})),Object.entries((rt=st.handlers)!=null?rt:[]).forEach(([ot,at])=>{const[lt,ft]=DOM_EVENTS[ot];tt.addEventListener(lt,at,{passive:ft})})},disconnect:()=>{const{set:tt,events:rt}=et.getState();if(rt.connected){var nt;Object.entries((nt=rt.handlers)!=null?nt:[]).forEach(([st,ot])=>{if(rt&&rt.connected instanceof HTMLElement){const[at]=DOM_EVENTS[st];rt.connected.removeEventListener(at,ot)}}),tt(st=>({events:{...st.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function({children:_e,fallback:tt,resize:rt,style:nt,gl:st,events:ot=createPointerEvents,eventSource:at,eventPrefix:lt,shadows:ft,linear:dt,flat:gt,legacy:pt,orthographic:vt,frameloop:St,dpr:At,performance:Tt,raycaster:Ct,camera:Mt,onPointerMissed:Et,onCreated:Rt,...Bt},Ft){reactExports.useMemo(()=>extend(r$4),[]);const Lt=useContextBridge(),[wt,Dt]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...rt}),Ot=reactExports.useRef(null),Ut=reactExports.useRef(null);reactExports.useImperativeHandle(Ft,()=>Ot.current);const zt=useMutableCallback(Et),[tr,jt]=reactExports.useState(!1),[Kt,qt]=reactExports.useState(!1);if(tr)throw tr;if(Kt)throw Kt;const er=reactExports.useRef(null);useIsomorphicLayoutEffect$1(()=>{const Vt=Ot.current;Dt.width>0&&Dt.height>0&&Vt&&(er.current||(er.current=createRoot(Vt)),er.current.configure({gl:st,events:ot,shadows:ft,linear:dt,flat:gt,legacy:pt,orthographic:vt,frameloop:St,dpr:At,performance:Tt,raycaster:Ct,camera:Mt,size:Dt,onPointerMissed:(...Zt)=>zt.current==null?void 0:zt.current(...Zt),onCreated:Zt=>{Zt.events.connect==null||Zt.events.connect(at?isRef$1(at)?at.current:at:Ut.current),lt&&Zt.setEvents({compute:(Wt,nr)=>{const sr=Wt[lt+"X"],lr=Wt[lt+"Y"];nr.pointer.set(sr/nr.size.width*2-1,-(lr/nr.size.height)*2+1),nr.raycaster.setFromCamera(nr.pointer,nr.camera)}}),Rt==null||Rt(Zt)}}),er.current.render(reactExports.createElement(Lt,null,reactExports.createElement(ErrorBoundary,{set:qt},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:jt})},_e)))))}),reactExports.useEffect(()=>{const Vt=Ot.current;if(Vt)return()=>unmountComponentAtNode(Vt)},[]);const kt=at?"none":"auto";return reactExports.createElement("div",_extends$1({ref:Ut,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:kt,...nt}},Bt),reactExports.createElement("div",{ref:wt,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:Ot,style:{display:"block"}},tt)))}),Canvas=reactExports.forwardRef(function(_e,tt){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$1({},_e,{ref:tt})))});function createStore$2(et){let _e;const tt=new Set,rt=(ft,dt)=>{const gt=typeof ft=="function"?ft(_e):ft;if(gt!==_e){const pt=_e;_e=dt?gt:Object.assign({},_e,gt),tt.forEach(vt=>vt(_e,pt))}},nt=()=>_e,st=(ft,dt=nt,gt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let pt=dt(_e);function vt(){const St=dt(_e);if(!gt(pt,St)){const At=pt;ft(pt=St,At)}}return tt.add(vt),()=>tt.delete(vt)},lt={setState:rt,getState:nt,subscribe:(ft,dt,gt)=>dt||gt?st(ft,dt,gt):(tt.add(ft),()=>tt.delete(ft)),destroy:()=>tt.clear()};return _e=et(rt,nt,lt),lt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$2(et){const _e=typeof et=="function"?createStore$2(et):et,tt=(rt=_e.getState,nt=Object.is)=>{const[,st]=reactExports.useReducer(Tt=>Tt+1,0),ot=_e.getState(),at=reactExports.useRef(ot),lt=reactExports.useRef(rt),ft=reactExports.useRef(nt),dt=reactExports.useRef(!1),gt=reactExports.useRef();gt.current===void 0&&(gt.current=rt(ot));let pt,vt=!1;(at.current!==ot||lt.current!==rt||ft.current!==nt||dt.current)&&(pt=rt(ot),vt=!nt(gt.current,pt)),useIsomorphicLayoutEffect(()=>{vt&&(gt.current=pt),at.current=ot,lt.current=rt,ft.current=nt,dt.current=!1});const St=reactExports.useRef(ot);useIsomorphicLayoutEffect(()=>{const Tt=()=>{try{const Mt=_e.getState(),Et=lt.current(Mt);ft.current(gt.current,Et)||(at.current=Mt,gt.current=Et,st())}catch{dt.current=!0,st()}},Ct=_e.subscribe(Tt);return _e.getState()!==St.current&&Tt(),Ct},[]);const At=vt?pt:gt.current;return reactExports.useDebugValue(At),At};return Object.assign(tt,_e),tt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const rt=[tt,_e];return{next(){const nt=rt.length<=0;return{value:rt.shift(),done:nt}}}},tt}let saveLastTotalLoaded=0;const useProgress=create$2(et=>(DefaultLoadingManager.onStart=(_e,tt,rt)=>{et({active:!0,item:_e,loaded:tt,total:rt,progress:(tt-saveLastTotalLoaded)/(rt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{et({active:!1})},DefaultLoadingManager.onError=_e=>et(tt=>({errors:[...tt.errors,_e]})),DefaultLoadingManager.onProgress=(_e,tt,rt)=>{tt===rt&&(saveLastTotalLoaded=rt),et({active:!0,item:_e,loaded:tt,total:rt,progress:(tt-saveLastTotalLoaded)/(rt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function mergeRefs(et){return function(_e){et.forEach(function(tt){typeof tt=="function"?tt(_e):tt!=null&&(tt.current=_e)})}}function toTrianglesDrawMode(et,_e){if(_e===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),et;if(_e===TriangleFanDrawMode||_e===TriangleStripDrawMode){let tt=et.getIndex();if(tt===null){const ot=[],at=et.getAttribute("position");if(at!==void 0){for(let lt=0;lt<at.count;lt++)ot.push(lt);et.setIndex(ot),tt=et.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),et}const rt=tt.count-2,nt=[];if(tt)if(_e===TriangleFanDrawMode)for(let ot=1;ot<=rt;ot++)nt.push(tt.getX(0)),nt.push(tt.getX(ot)),nt.push(tt.getX(ot+1));else for(let ot=0;ot<rt;ot++)ot%2===0?(nt.push(tt.getX(ot)),nt.push(tt.getX(ot+1)),nt.push(tt.getX(ot+2))):(nt.push(tt.getX(ot+2)),nt.push(tt.getX(ot+1)),nt.push(tt.getX(ot)));nt.length/3!==rt&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const st=et.clone();return st.setIndex(nt),st.clearGroups(),st}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",_e),et}const isCubeTexture=et=>et&&et.isCubeTexture;class GroundProjectedEnv extends Mesh{constructor(_e,tt){var rt,nt;const st=isCubeTexture(_e),at=((nt=st?(rt=_e.image[0])==null?void 0:rt.width:_e.image.width)!=null?nt:1024)/4,lt=Math.floor(Math.log2(at)),ft=Math.pow(2,lt),dt=3*Math.max(ft,16*7),gt=4*ft,pt=[st?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/dt}`,`#define CUBEUV_TEXEL_HEIGHT ${1/gt}`,`#define CUBEUV_MAX_MIP ${lt}.0`],vt=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,St=pt.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,At={map:{value:_e},height:{value:(tt==null?void 0:tt.height)||15},radius:{value:(tt==null?void 0:tt.radius)||100}},Tt=new IcosahedronGeometry(1,16),Ct=new ShaderMaterial({uniforms:At,fragmentShader:St,vertexShader:vt,side:DoubleSide});super(Tt,Ct)}set radius(_e){this.material.uniforms.radius.value=_e}get radius(){return this.material.uniforms.radius.value}set height(_e){this.material.uniforms.height.value=_e}get height(){return this.material.uniforms.height.value}}var __defProp$3=Object.defineProperty,__defNormalProp$3=(et,_e,tt)=>_e in et?__defProp$3(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt,__publicField$2=(et,_e,tt)=>(__defNormalProp$3(et,typeof _e!="symbol"?_e+"":_e,tt),tt);const moduloWrapAround=(et,_e)=>(et%_e+_e)%_e;let OrbitControls$1=class extends EventDispatcher{constructor(_e,tt){super(),__publicField$2(this,"object"),__publicField$2(this,"domElement"),__publicField$2(this,"enabled",!0),__publicField$2(this,"target",new Vector3),__publicField$2(this,"minDistance",0),__publicField$2(this,"maxDistance",1/0),__publicField$2(this,"minZoom",0),__publicField$2(this,"maxZoom",1/0),__publicField$2(this,"minPolarAngle",0),__publicField$2(this,"maxPolarAngle",Math.PI),__publicField$2(this,"minAzimuthAngle",-1/0),__publicField$2(this,"maxAzimuthAngle",1/0),__publicField$2(this,"enableDamping",!1),__publicField$2(this,"dampingFactor",.05),__publicField$2(this,"enableZoom",!0),__publicField$2(this,"zoomSpeed",1),__publicField$2(this,"enableRotate",!0),__publicField$2(this,"rotateSpeed",1),__publicField$2(this,"enablePan",!0),__publicField$2(this,"panSpeed",1),__publicField$2(this,"screenSpacePanning",!0),__publicField$2(this,"keyPanSpeed",7),__publicField$2(this,"autoRotate",!1),__publicField$2(this,"autoRotateSpeed",2),__publicField$2(this,"reverseOrbit",!1),__publicField$2(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField$2(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField$2(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField$2(this,"target0"),__publicField$2(this,"position0"),__publicField$2(this,"zoom0"),__publicField$2(this,"_domElementKeyEvents",null),__publicField$2(this,"getPolarAngle"),__publicField$2(this,"getAzimuthalAngle"),__publicField$2(this,"setPolarAngle"),__publicField$2(this,"setAzimuthalAngle"),__publicField$2(this,"getDistance"),__publicField$2(this,"listenToKeyEvents"),__publicField$2(this,"saveState"),__publicField$2(this,"reset"),__publicField$2(this,"update"),__publicField$2(this,"connect"),__publicField$2(this,"dispose"),this.object=_e,this.domElement=tt,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>dt.phi,this.getAzimuthalAngle=()=>dt.theta,this.setPolarAngle=br=>{let Gr=moduloWrapAround(br,2*Math.PI),Kr=dt.phi;Kr<0&&(Kr+=2*Math.PI),Gr<0&&(Gr+=2*Math.PI);let Wr=Math.abs(Gr-Kr);2*Math.PI-Wr<Wr&&(Gr<Kr?Gr+=2*Math.PI:Kr+=2*Math.PI),gt.phi=Gr-Kr,rt.update()},this.setAzimuthalAngle=br=>{let Gr=moduloWrapAround(br,2*Math.PI),Kr=dt.theta;Kr<0&&(Kr+=2*Math.PI),Gr<0&&(Gr+=2*Math.PI);let Wr=Math.abs(Gr-Kr);2*Math.PI-Wr<Wr&&(Gr<Kr?Gr+=2*Math.PI:Kr+=2*Math.PI),gt.theta=Gr-Kr,rt.update()},this.getDistance=()=>rt.object.position.distanceTo(rt.target),this.listenToKeyEvents=br=>{br.addEventListener("keydown",Tr),this._domElementKeyEvents=br},this.saveState=()=>{rt.target0.copy(rt.target),rt.position0.copy(rt.object.position),rt.zoom0=rt.object.zoom},this.reset=()=>{rt.target.copy(rt.target0),rt.object.position.copy(rt.position0),rt.object.zoom=rt.zoom0,rt.object.updateProjectionMatrix(),rt.dispatchEvent(nt),rt.update(),lt=at.NONE},this.update=(()=>{const br=new Vector3,Gr=new Quaternion().setFromUnitVectors(_e.up,new Vector3(0,1,0)),Kr=Gr.clone().invert(),Wr=new Vector3,an=new Quaternion,gn=2*Math.PI;return function(){const Cr=rt.object.position;br.copy(Cr).sub(rt.target),br.applyQuaternion(Gr),dt.setFromVector3(br),rt.autoRotate&&lt===at.NONE&&zt(Ot()),rt.enableDamping?(dt.theta+=gt.theta*rt.dampingFactor,dt.phi+=gt.phi*rt.dampingFactor):(dt.theta+=gt.theta,dt.phi+=gt.phi);let Ur=rt.minAzimuthAngle,tn=rt.maxAzimuthAngle;return isFinite(Ur)&&isFinite(tn)&&(Ur<-Math.PI?Ur+=gn:Ur>Math.PI&&(Ur-=gn),tn<-Math.PI?tn+=gn:tn>Math.PI&&(tn-=gn),Ur<=tn?dt.theta=Math.max(Ur,Math.min(tn,dt.theta)):dt.theta=dt.theta>(Ur+tn)/2?Math.max(Ur,dt.theta):Math.min(tn,dt.theta)),dt.phi=Math.max(rt.minPolarAngle,Math.min(rt.maxPolarAngle,dt.phi)),dt.makeSafe(),dt.radius*=pt,dt.radius=Math.max(rt.minDistance,Math.min(rt.maxDistance,dt.radius)),rt.enableDamping===!0?rt.target.addScaledVector(vt,rt.dampingFactor):rt.target.add(vt),br.setFromSpherical(dt),br.applyQuaternion(Kr),Cr.copy(rt.target).add(br),rt.object.lookAt(rt.target),rt.enableDamping===!0?(gt.theta*=1-rt.dampingFactor,gt.phi*=1-rt.dampingFactor,vt.multiplyScalar(1-rt.dampingFactor)):(gt.set(0,0,0),vt.set(0,0,0)),pt=1,St||Wr.distanceToSquared(rt.object.position)>ft||8*(1-an.dot(rt.object.quaternion))>ft?(rt.dispatchEvent(nt),Wr.copy(rt.object.position),an.copy(rt.object.quaternion),St=!1,!0):!1}})(),this.connect=br=>{br===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),rt.domElement=br,rt.domElement.style.touchAction="none",rt.domElement.addEventListener("contextmenu",en),rt.domElement.addEventListener("pointerdown",nn),rt.domElement.addEventListener("pointercancel",Zr),rt.domElement.addEventListener("wheel",ar)},this.dispose=()=>{var br,Gr,Kr,Wr,an,gn;(br=rt.domElement)==null||br.removeEventListener("contextmenu",en),(Gr=rt.domElement)==null||Gr.removeEventListener("pointerdown",nn),(Kr=rt.domElement)==null||Kr.removeEventListener("pointercancel",Zr),(Wr=rt.domElement)==null||Wr.removeEventListener("wheel",ar),(an=rt.domElement)==null||an.ownerDocument.removeEventListener("pointermove",Pr),(gn=rt.domElement)==null||gn.ownerDocument.removeEventListener("pointerup",Xr),rt._domElementKeyEvents!==null&&rt._domElementKeyEvents.removeEventListener("keydown",Tr)};const rt=this,nt={type:"change"},st={type:"start"},ot={type:"end"},at={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let lt=at.NONE;const ft=1e-6,dt=new Spherical,gt=new Spherical;let pt=1;const vt=new Vector3;let St=!1;const At=new Vector2,Tt=new Vector2,Ct=new Vector2,Mt=new Vector2,Et=new Vector2,Rt=new Vector2,Bt=new Vector2,Ft=new Vector2,Lt=new Vector2,wt=[],Dt={};function Ot(){return 2*Math.PI/60/60*rt.autoRotateSpeed}function Ut(){return Math.pow(.95,rt.zoomSpeed)}function zt(br){rt.reverseOrbit?gt.theta+=br:gt.theta-=br}function tr(br){rt.reverseOrbit?gt.phi+=br:gt.phi-=br}const jt=(()=>{const br=new Vector3;return function(Kr,Wr){br.setFromMatrixColumn(Wr,0),br.multiplyScalar(-Kr),vt.add(br)}})(),Kt=(()=>{const br=new Vector3;return function(Kr,Wr){rt.screenSpacePanning===!0?br.setFromMatrixColumn(Wr,1):(br.setFromMatrixColumn(Wr,0),br.crossVectors(rt.object.up,br)),br.multiplyScalar(Kr),vt.add(br)}})(),qt=(()=>{const br=new Vector3;return function(Kr,Wr){const an=rt.domElement;if(an&&rt.object instanceof PerspectiveCamera$1&&rt.object.isPerspectiveCamera){const gn=rt.object.position;br.copy(gn).sub(rt.target);let Cn=br.length();Cn*=Math.tan(rt.object.fov/2*Math.PI/180),jt(2*Kr*Cn/an.clientHeight,rt.object.matrix),Kt(2*Wr*Cn/an.clientHeight,rt.object.matrix)}else an&&rt.object instanceof OrthographicCamera&&rt.object.isOrthographicCamera?(jt(Kr*(rt.object.right-rt.object.left)/rt.object.zoom/an.clientWidth,rt.object.matrix),Kt(Wr*(rt.object.top-rt.object.bottom)/rt.object.zoom/an.clientHeight,rt.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),rt.enablePan=!1)}})();function er(br){rt.object instanceof PerspectiveCamera$1&&rt.object.isPerspectiveCamera?pt/=br:rt.object instanceof OrthographicCamera&&rt.object.isOrthographicCamera?(rt.object.zoom=Math.max(rt.minZoom,Math.min(rt.maxZoom,rt.object.zoom*br)),rt.object.updateProjectionMatrix(),St=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),rt.enableZoom=!1)}function kt(br){rt.object instanceof PerspectiveCamera$1&&rt.object.isPerspectiveCamera?pt*=br:rt.object instanceof OrthographicCamera&&rt.object.isOrthographicCamera?(rt.object.zoom=Math.max(rt.minZoom,Math.min(rt.maxZoom,rt.object.zoom/br)),rt.object.updateProjectionMatrix(),St=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),rt.enableZoom=!1)}function Vt(br){At.set(br.clientX,br.clientY)}function Zt(br){Bt.set(br.clientX,br.clientY)}function Wt(br){Mt.set(br.clientX,br.clientY)}function nr(br){Tt.set(br.clientX,br.clientY),Ct.subVectors(Tt,At).multiplyScalar(rt.rotateSpeed);const Gr=rt.domElement;Gr&&(zt(2*Math.PI*Ct.x/Gr.clientHeight),tr(2*Math.PI*Ct.y/Gr.clientHeight)),At.copy(Tt),rt.update()}function sr(br){Ft.set(br.clientX,br.clientY),Lt.subVectors(Ft,Bt),Lt.y>0?er(Ut()):Lt.y<0&&kt(Ut()),Bt.copy(Ft),rt.update()}function lr(br){Et.set(br.clientX,br.clientY),Rt.subVectors(Et,Mt).multiplyScalar(rt.panSpeed),qt(Rt.x,Rt.y),Mt.copy(Et),rt.update()}function dr(br){br.deltaY<0?kt(Ut()):br.deltaY>0&&er(Ut()),rt.update()}function hr(br){let Gr=!1;switch(br.code){case rt.keys.UP:qt(0,rt.keyPanSpeed),Gr=!0;break;case rt.keys.BOTTOM:qt(0,-rt.keyPanSpeed),Gr=!0;break;case rt.keys.LEFT:qt(rt.keyPanSpeed,0),Gr=!0;break;case rt.keys.RIGHT:qt(-rt.keyPanSpeed,0),Gr=!0;break}Gr&&(br.preventDefault(),rt.update())}function wr(){if(wt.length==1)At.set(wt[0].pageX,wt[0].pageY);else{const br=.5*(wt[0].pageX+wt[1].pageX),Gr=.5*(wt[0].pageY+wt[1].pageY);At.set(br,Gr)}}function pr(){if(wt.length==1)Mt.set(wt[0].pageX,wt[0].pageY);else{const br=.5*(wt[0].pageX+wt[1].pageX),Gr=.5*(wt[0].pageY+wt[1].pageY);Mt.set(br,Gr)}}function _r(){const br=wt[0].pageX-wt[1].pageX,Gr=wt[0].pageY-wt[1].pageY,Kr=Math.sqrt(br*br+Gr*Gr);Bt.set(0,Kr)}function mr(){rt.enableZoom&&_r(),rt.enablePan&&pr()}function Er(){rt.enableZoom&&_r(),rt.enableRotate&&wr()}function ur(br){if(wt.length==1)Tt.set(br.pageX,br.pageY);else{const Kr=ln(br),Wr=.5*(br.pageX+Kr.x),an=.5*(br.pageY+Kr.y);Tt.set(Wr,an)}Ct.subVectors(Tt,At).multiplyScalar(rt.rotateSpeed);const Gr=rt.domElement;Gr&&(zt(2*Math.PI*Ct.x/Gr.clientHeight),tr(2*Math.PI*Ct.y/Gr.clientHeight)),At.copy(Tt)}function xr(br){if(wt.length==1)Et.set(br.pageX,br.pageY);else{const Gr=ln(br),Kr=.5*(br.pageX+Gr.x),Wr=.5*(br.pageY+Gr.y);Et.set(Kr,Wr)}Rt.subVectors(Et,Mt).multiplyScalar(rt.panSpeed),qt(Rt.x,Rt.y),Mt.copy(Et)}function Ar(br){const Gr=ln(br),Kr=br.pageX-Gr.x,Wr=br.pageY-Gr.y,an=Math.sqrt(Kr*Kr+Wr*Wr);Ft.set(0,an),Lt.set(0,Math.pow(Ft.y/Bt.y,rt.zoomSpeed)),er(Lt.y),Bt.copy(Ft)}function Br(br){rt.enableZoom&&Ar(br),rt.enablePan&&xr(br)}function kr(br){rt.enableZoom&&Ar(br),rt.enableRotate&&ur(br)}function nn(br){var Gr,Kr;rt.enabled!==!1&&(wt.length===0&&((Gr=rt.domElement)==null||Gr.ownerDocument.addEventListener("pointermove",Pr),(Kr=rt.domElement)==null||Kr.ownerDocument.addEventListener("pointerup",Xr)),on(br),br.pointerType==="touch"?Nr(br):zr(br))}function Pr(br){rt.enabled!==!1&&(br.pointerType==="touch"?Qr(br):cr(br))}function Xr(br){var Gr,Kr,Wr;rn(br),wt.length===0&&((Gr=rt.domElement)==null||Gr.releasePointerCapture(br.pointerId),(Kr=rt.domElement)==null||Kr.ownerDocument.removeEventListener("pointermove",Pr),(Wr=rt.domElement)==null||Wr.ownerDocument.removeEventListener("pointerup",Xr)),rt.dispatchEvent(ot),lt=at.NONE}function Zr(br){rn(br)}function zr(br){let Gr;switch(br.button){case 0:Gr=rt.mouseButtons.LEFT;break;case 1:Gr=rt.mouseButtons.MIDDLE;break;case 2:Gr=rt.mouseButtons.RIGHT;break;default:Gr=-1}switch(Gr){case MOUSE.DOLLY:if(rt.enableZoom===!1)return;Zt(br),lt=at.DOLLY;break;case MOUSE.ROTATE:if(br.ctrlKey||br.metaKey||br.shiftKey){if(rt.enablePan===!1)return;Wt(br),lt=at.PAN}else{if(rt.enableRotate===!1)return;Vt(br),lt=at.ROTATE}break;case MOUSE.PAN:if(br.ctrlKey||br.metaKey||br.shiftKey){if(rt.enableRotate===!1)return;Vt(br),lt=at.ROTATE}else{if(rt.enablePan===!1)return;Wt(br),lt=at.PAN}break;default:lt=at.NONE}lt!==at.NONE&&rt.dispatchEvent(st)}function cr(br){if(rt.enabled!==!1)switch(lt){case at.ROTATE:if(rt.enableRotate===!1)return;nr(br);break;case at.DOLLY:if(rt.enableZoom===!1)return;sr(br);break;case at.PAN:if(rt.enablePan===!1)return;lr(br);break}}function ar(br){rt.enabled===!1||rt.enableZoom===!1||lt!==at.NONE&&lt!==at.ROTATE||(br.preventDefault(),rt.dispatchEvent(st),dr(br),rt.dispatchEvent(ot))}function Tr(br){rt.enabled===!1||rt.enablePan===!1||hr(br)}function Nr(br){switch(Vr(br),wt.length){case 1:switch(rt.touches.ONE){case TOUCH.ROTATE:if(rt.enableRotate===!1)return;wr(),lt=at.TOUCH_ROTATE;break;case TOUCH.PAN:if(rt.enablePan===!1)return;pr(),lt=at.TOUCH_PAN;break;default:lt=at.NONE}break;case 2:switch(rt.touches.TWO){case TOUCH.DOLLY_PAN:if(rt.enableZoom===!1&&rt.enablePan===!1)return;mr(),lt=at.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(rt.enableZoom===!1&&rt.enableRotate===!1)return;Er(),lt=at.TOUCH_DOLLY_ROTATE;break;default:lt=at.NONE}break;default:lt=at.NONE}lt!==at.NONE&&rt.dispatchEvent(st)}function Qr(br){switch(Vr(br),lt){case at.TOUCH_ROTATE:if(rt.enableRotate===!1)return;ur(br),rt.update();break;case at.TOUCH_PAN:if(rt.enablePan===!1)return;xr(br),rt.update();break;case at.TOUCH_DOLLY_PAN:if(rt.enableZoom===!1&&rt.enablePan===!1)return;Br(br),rt.update();break;case at.TOUCH_DOLLY_ROTATE:if(rt.enableZoom===!1&&rt.enableRotate===!1)return;kr(br),rt.update();break;default:lt=at.NONE}}function en(br){rt.enabled!==!1&&br.preventDefault()}function on(br){wt.push(br)}function rn(br){delete Dt[br.pointerId];for(let Gr=0;Gr<wt.length;Gr++)if(wt[Gr].pointerId==br.pointerId){wt.splice(Gr,1);return}}function Vr(br){let Gr=Dt[br.pointerId];Gr===void 0&&(Gr=new Vector2,Dt[br.pointerId]=Gr),Gr.set(br.pageX,br.pageY)}function ln(br){const Gr=br.pointerId===wt[0].pointerId?wt[1]:wt[0];return Dt[Gr.pointerId]}tt!==void 0&&this.connect(tt),this.update()}};var __defProp$2=Object.defineProperty,__defNormalProp$2=(et,_e,tt)=>_e in et?__defProp$2(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt,__publicField$1=(et,_e,tt)=>(__defNormalProp$2(et,typeof _e!="symbol"?_e+"":_e,tt),tt);class Pass{constructor(){__publicField$1(this,"enabled",!0),__publicField$1(this,"needsSwap",!0),__publicField$1(this,"clear",!1),__publicField$1(this,"renderToScreen",!1)}setSize(_e,tt){}render(_e,tt,rt,nt,st){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class FullScreenQuad{constructor(_e){__publicField$1(this,"camera",new OrthographicCamera(-1,1,1,-1,0,1)),__publicField$1(this,"geometry",new PlaneGeometry(2,2)),__publicField$1(this,"mesh"),this.mesh=new Mesh(this.geometry,_e)}get material(){return this.mesh.material}set material(_e){this.mesh.material=_e}dispose(){this.mesh.geometry.dispose()}render(_e){_e.render(this.mesh,this.camera)}}const CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Color(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)};var __defProp$1=Object.defineProperty,__defNormalProp$1=(et,_e,tt)=>_e in et?__defProp$1(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt,__publicField=(et,_e,tt)=>(__defNormalProp$1(et,typeof _e!="symbol"?_e+"":_e,tt),tt);const _UnrealBloomPass=class extends Pass{constructor(et,_e,tt,rt){super(),this.strength=_e!==void 0?_e:1,this.radius=tt,this.threshold=rt,this.resolution=et!==void 0?new Vector2(et.x,et.y):new Vector2(256,256),this.clearColor=new Color(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let nt=Math.round(this.resolution.x/2),st=Math.round(this.resolution.y/2);this.renderTargetBright=new WebGLRenderTarget(nt,st,{type:HalfFloatType}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let dt=0;dt<this.nMips;dt++){const gt=new WebGLRenderTarget(nt,st,{type:HalfFloatType});gt.texture.name="UnrealBloomPass.h"+dt,gt.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(gt);const pt=new WebGLRenderTarget(nt,st,{type:HalfFloatType});pt.texture.name="UnrealBloomPass.v"+dt,pt.texture.generateMipmaps=!1,this.renderTargetsVertical.push(pt),nt=Math.round(nt/2),st=Math.round(st/2)}const ot=LuminosityHighPassShader;this.highPassUniforms=UniformsUtils.clone(ot.uniforms),this.highPassUniforms.luminosityThreshold.value=rt,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:ot.vertexShader,fragmentShader:ot.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const at=[3,5,7,9,11];nt=Math.round(this.resolution.x/2),st=Math.round(this.resolution.y/2);for(let dt=0;dt<this.nMips;dt++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(at[dt])),this.separableBlurMaterials[dt].uniforms.texSize.value=new Vector2(nt,st),nt=Math.round(nt/2),st=Math.round(st/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=_e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const lt=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=lt,this.bloomTintColors=[new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1),new Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const ft=CopyShader;this.copyUniforms=UniformsUtils.clone(ft.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ShaderMaterial({uniforms:this.copyUniforms,vertexShader:ft.vertexShader,fragmentShader:ft.fragmentShader,blending:AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Color,this.oldClearAlpha=1,this.basic=new MeshBasicMaterial,this.fsQuad=new FullScreenQuad(null)}dispose(){for(let et=0;et<this.renderTargetsHorizontal.length;et++)this.renderTargetsHorizontal[et].dispose();for(let et=0;et<this.renderTargetsVertical.length;et++)this.renderTargetsVertical[et].dispose();this.renderTargetBright.dispose();for(let et=0;et<this.separableBlurMaterials.length;et++)this.separableBlurMaterials[et].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(et,_e){let tt=Math.round(et/2),rt=Math.round(_e/2);this.renderTargetBright.setSize(tt,rt);for(let nt=0;nt<this.nMips;nt++)this.renderTargetsHorizontal[nt].setSize(tt,rt),this.renderTargetsVertical[nt].setSize(tt,rt),this.separableBlurMaterials[nt].uniforms.texSize.value=new Vector2(tt,rt),tt=Math.round(tt/2),rt=Math.round(rt/2)}render(et,_e,tt,rt,nt){et.getClearColor(this._oldClearColor),this.oldClearAlpha=et.getClearAlpha();const st=et.autoClear;et.autoClear=!1,et.setClearColor(this.clearColor,0),nt&&et.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=tt.texture,et.setRenderTarget(null),et.clear(),this.fsQuad.render(et)),this.highPassUniforms.tDiffuse.value=tt.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,et.setRenderTarget(this.renderTargetBright),et.clear(),this.fsQuad.render(et);let ot=this.renderTargetBright;for(let at=0;at<this.nMips;at++)this.fsQuad.material=this.separableBlurMaterials[at],this.separableBlurMaterials[at].uniforms.colorTexture.value=ot.texture,this.separableBlurMaterials[at].uniforms.direction.value=_UnrealBloomPass.BlurDirectionX,et.setRenderTarget(this.renderTargetsHorizontal[at]),et.clear(),this.fsQuad.render(et),this.separableBlurMaterials[at].uniforms.colorTexture.value=this.renderTargetsHorizontal[at].texture,this.separableBlurMaterials[at].uniforms.direction.value=_UnrealBloomPass.BlurDirectionY,et.setRenderTarget(this.renderTargetsVertical[at]),et.clear(),this.fsQuad.render(et),ot=this.renderTargetsVertical[at];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,et.setRenderTarget(this.renderTargetsHorizontal[0]),et.clear(),this.fsQuad.render(et),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,nt&&et.state.buffers.stencil.setTest(!0),this.renderToScreen?(et.setRenderTarget(null),this.fsQuad.render(et)):(et.setRenderTarget(tt),this.fsQuad.render(et)),et.setClearColor(this._oldClearColor,this.oldClearAlpha),et.autoClear=st}getSeperableBlurMaterial(et){return new ShaderMaterial({defines:{KERNEL_RADIUS:et,SIGMA:et},uniforms:{colorTexture:{value:null},texSize:{value:new Vector2(.5,.5)},direction:{value:new Vector2(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(et){return new ShaderMaterial({defines:{NUM_MIPS:et},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let UnrealBloomPass=_UnrealBloomPass;__publicField(UnrealBloomPass,"BlurDirectionX",new Vector2(1,0));__publicField(UnrealBloomPass,"BlurDirectionY",new Vector2(0,1));class GLTFLoader extends Loader{constructor(_e){super(_e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(tt){return new GLTFMaterialsClearcoatExtension(tt)}),this.register(function(tt){return new GLTFTextureBasisUExtension(tt)}),this.register(function(tt){return new GLTFTextureWebPExtension(tt)}),this.register(function(tt){return new GLTFTextureAVIFExtension(tt)}),this.register(function(tt){return new GLTFMaterialsSheenExtension(tt)}),this.register(function(tt){return new GLTFMaterialsTransmissionExtension(tt)}),this.register(function(tt){return new GLTFMaterialsVolumeExtension(tt)}),this.register(function(tt){return new GLTFMaterialsIorExtension(tt)}),this.register(function(tt){return new GLTFMaterialsEmissiveStrengthExtension(tt)}),this.register(function(tt){return new GLTFMaterialsSpecularExtension(tt)}),this.register(function(tt){return new GLTFMaterialsIridescenceExtension(tt)}),this.register(function(tt){return new GLTFMaterialsAnisotropyExtension(tt)}),this.register(function(tt){return new GLTFLightsExtension(tt)}),this.register(function(tt){return new GLTFMeshoptCompression(tt)}),this.register(function(tt){return new GLTFMeshGpuInstancing(tt)})}load(_e,tt,rt,nt){const st=this;let ot;this.resourcePath!==""?ot=this.resourcePath:this.path!==""?ot=this.path:ot=LoaderUtils.extractUrlBase(_e),this.manager.itemStart(_e);const at=function(ft){nt?nt(ft):console.error(ft),st.manager.itemError(_e),st.manager.itemEnd(_e)},lt=new FileLoader(this.manager);lt.setPath(this.path),lt.setResponseType("arraybuffer"),lt.setRequestHeader(this.requestHeader),lt.setWithCredentials(this.withCredentials),lt.load(_e,function(ft){try{st.parse(ft,ot,function(dt){tt(dt),st.manager.itemEnd(_e)},at)}catch(dt){at(dt)}},rt,at)}setDRACOLoader(_e){return this.dracoLoader=_e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(_e){return this.ktx2Loader=_e,this}setMeshoptDecoder(_e){return this.meshoptDecoder=_e,this}register(_e){return this.pluginCallbacks.indexOf(_e)===-1&&this.pluginCallbacks.push(_e),this}unregister(_e){return this.pluginCallbacks.indexOf(_e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(_e),1),this}parse(_e,tt,rt,nt){let st;const ot={},at={};if(typeof _e=="string")st=JSON.parse(_e);else if(_e instanceof ArrayBuffer)if(LoaderUtils.decodeText(new Uint8Array(_e.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{ot[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(_e)}catch(dt){nt&&nt(dt);return}st=JSON.parse(ot[EXTENSIONS.KHR_BINARY_GLTF].content)}else st=JSON.parse(LoaderUtils.decodeText(new Uint8Array(_e)));else st=_e;if(st.asset===void 0||st.asset.version[0]<2){nt&&nt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const lt=new GLTFParser(st,{path:tt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});lt.fileLoader.setRequestHeader(this.requestHeader);for(let ft=0;ft<this.pluginCallbacks.length;ft++){const dt=this.pluginCallbacks[ft](lt);at[dt.name]=dt,ot[dt.name]=!0}if(st.extensionsUsed)for(let ft=0;ft<st.extensionsUsed.length;++ft){const dt=st.extensionsUsed[ft],gt=st.extensionsRequired||[];switch(dt){case EXTENSIONS.KHR_MATERIALS_UNLIT:ot[dt]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:ot[dt]=new GLTFDracoMeshCompressionExtension(st,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:ot[dt]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:ot[dt]=new GLTFMeshQuantizationExtension;break;default:gt.indexOf(dt)>=0&&at[dt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+dt+'".')}}lt.setExtensions(ot),lt.setPlugins(at),lt.parse(rt,nt)}parseAsync(_e,tt){const rt=this;return new Promise(function(nt,st){rt.parse(_e,tt,nt,st)})}}function GLTFRegistry(){let et={};return{get:function(_e){return et[_e]},add:function(_e,tt){et[_e]=tt},remove:function(_e){delete et[_e]},removeAll:function(){et={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const _e=this.parser,tt=this.parser.json.nodes||[];for(let rt=0,nt=tt.length;rt<nt;rt++){const st=tt[rt];st.extensions&&st.extensions[this.name]&&st.extensions[this.name].light!==void 0&&_e._addNodeRef(this.cache,st.extensions[this.name].light)}}_loadLight(_e){const tt=this.parser,rt="light:"+_e;let nt=tt.cache.get(rt);if(nt)return nt;const st=tt.json,lt=((st.extensions&&st.extensions[this.name]||{}).lights||[])[_e];let ft;const dt=new Color(16777215);lt.color!==void 0&&dt.fromArray(lt.color);const gt=lt.range!==void 0?lt.range:0;switch(lt.type){case"directional":ft=new DirectionalLight(dt),ft.target.position.set(0,0,-1),ft.add(ft.target);break;case"point":ft=new PointLight(dt),ft.distance=gt;break;case"spot":ft=new SpotLight(dt),ft.distance=gt,lt.spot=lt.spot||{},lt.spot.innerConeAngle=lt.spot.innerConeAngle!==void 0?lt.spot.innerConeAngle:0,lt.spot.outerConeAngle=lt.spot.outerConeAngle!==void 0?lt.spot.outerConeAngle:Math.PI/4,ft.angle=lt.spot.outerConeAngle,ft.penumbra=1-lt.spot.innerConeAngle/lt.spot.outerConeAngle,ft.target.position.set(0,0,-1),ft.add(ft.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+lt.type)}return ft.position.set(0,0,0),ft.decay=2,assignExtrasToUserData(ft,lt),lt.intensity!==void 0&&(ft.intensity=lt.intensity),ft.name=tt.createUniqueName(lt.name||"light_"+_e),nt=Promise.resolve(ft),tt.cache.add(rt,nt),nt}getDependency(_e,tt){if(_e==="light")return this._loadLight(tt)}createNodeAttachment(_e){const tt=this,rt=this.parser,st=rt.json.nodes[_e],at=(st.extensions&&st.extensions[this.name]||{}).light;return at===void 0?null:this._loadLight(at).then(function(lt){return rt._getNodeRef(tt.cache,at,lt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(_e,tt,rt){const nt=[];_e.color=new Color(1,1,1),_e.opacity=1;const st=tt.pbrMetallicRoughness;if(st){if(Array.isArray(st.baseColorFactor)){const ot=st.baseColorFactor;_e.color.fromArray(ot),_e.opacity=ot[3]}st.baseColorTexture!==void 0&&nt.push(rt.assignTexture(_e,"map",st.baseColorTexture,3001))}return Promise.all(nt)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(_e,tt){const nt=this.parser.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=nt.extensions[this.name].emissiveStrength;return st!==void 0&&(tt.emissiveIntensity=st),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser,nt=rt.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=[],ot=nt.extensions[this.name];if(ot.clearcoatFactor!==void 0&&(tt.clearcoat=ot.clearcoatFactor),ot.clearcoatTexture!==void 0&&st.push(rt.assignTexture(tt,"clearcoatMap",ot.clearcoatTexture)),ot.clearcoatRoughnessFactor!==void 0&&(tt.clearcoatRoughness=ot.clearcoatRoughnessFactor),ot.clearcoatRoughnessTexture!==void 0&&st.push(rt.assignTexture(tt,"clearcoatRoughnessMap",ot.clearcoatRoughnessTexture)),ot.clearcoatNormalTexture!==void 0&&(st.push(rt.assignTexture(tt,"clearcoatNormalMap",ot.clearcoatNormalTexture)),ot.clearcoatNormalTexture.scale!==void 0)){const at=ot.clearcoatNormalTexture.scale;tt.clearcoatNormalScale=new Vector2(at,at)}return Promise.all(st)}}class GLTFMaterialsIridescenceExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser,nt=rt.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=[],ot=nt.extensions[this.name];return ot.iridescenceFactor!==void 0&&(tt.iridescence=ot.iridescenceFactor),ot.iridescenceTexture!==void 0&&st.push(rt.assignTexture(tt,"iridescenceMap",ot.iridescenceTexture)),ot.iridescenceIor!==void 0&&(tt.iridescenceIOR=ot.iridescenceIor),tt.iridescenceThicknessRange===void 0&&(tt.iridescenceThicknessRange=[100,400]),ot.iridescenceThicknessMinimum!==void 0&&(tt.iridescenceThicknessRange[0]=ot.iridescenceThicknessMinimum),ot.iridescenceThicknessMaximum!==void 0&&(tt.iridescenceThicknessRange[1]=ot.iridescenceThicknessMaximum),ot.iridescenceThicknessTexture!==void 0&&st.push(rt.assignTexture(tt,"iridescenceThicknessMap",ot.iridescenceThicknessTexture)),Promise.all(st)}}class GLTFMaterialsSheenExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser,nt=rt.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=[];tt.sheenColor=new Color(0,0,0),tt.sheenRoughness=0,tt.sheen=1;const ot=nt.extensions[this.name];return ot.sheenColorFactor!==void 0&&tt.sheenColor.fromArray(ot.sheenColorFactor),ot.sheenRoughnessFactor!==void 0&&(tt.sheenRoughness=ot.sheenRoughnessFactor),ot.sheenColorTexture!==void 0&&st.push(rt.assignTexture(tt,"sheenColorMap",ot.sheenColorTexture,3001)),ot.sheenRoughnessTexture!==void 0&&st.push(rt.assignTexture(tt,"sheenRoughnessMap",ot.sheenRoughnessTexture)),Promise.all(st)}}class GLTFMaterialsTransmissionExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser,nt=rt.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=[],ot=nt.extensions[this.name];return ot.transmissionFactor!==void 0&&(tt.transmission=ot.transmissionFactor),ot.transmissionTexture!==void 0&&st.push(rt.assignTexture(tt,"transmissionMap",ot.transmissionTexture)),Promise.all(st)}}class GLTFMaterialsVolumeExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser,nt=rt.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=[],ot=nt.extensions[this.name];tt.thickness=ot.thicknessFactor!==void 0?ot.thicknessFactor:0,ot.thicknessTexture!==void 0&&st.push(rt.assignTexture(tt,"thicknessMap",ot.thicknessTexture)),tt.attenuationDistance=ot.attenuationDistance||1/0;const at=ot.attenuationColor||[1,1,1];return tt.attenuationColor=new Color(at[0],at[1],at[2]),Promise.all(st)}}class GLTFMaterialsIorExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const nt=this.parser.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=nt.extensions[this.name];return tt.ior=st.ior!==void 0?st.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser,nt=rt.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=[],ot=nt.extensions[this.name];tt.specularIntensity=ot.specularFactor!==void 0?ot.specularFactor:1,ot.specularTexture!==void 0&&st.push(rt.assignTexture(tt,"specularIntensityMap",ot.specularTexture));const at=ot.specularColorFactor||[1,1,1];return tt.specularColor=new Color(at[0],at[1],at[2]),ot.specularColorTexture!==void 0&&st.push(rt.assignTexture(tt,"specularColorMap",ot.specularColorTexture,3001)),Promise.all(st)}}class GLTFMaterialsAnisotropyExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(_e){const rt=this.parser.json.materials[_e];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(_e,tt){const rt=this.parser,nt=rt.json.materials[_e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const st=[],ot=nt.extensions[this.name];return ot.anisotropyStrength!==void 0&&(tt.anisotropy=ot.anisotropyStrength),ot.anisotropyRotation!==void 0&&(tt.anisotropyRotation=ot.anisotropyRotation),ot.anisotropyTexture!==void 0&&st.push(rt.assignTexture(tt,"anisotropyMap",ot.anisotropyTexture)),Promise.all(st)}}class GLTFTextureBasisUExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(_e){const tt=this.parser,rt=tt.json,nt=rt.textures[_e];if(!nt.extensions||!nt.extensions[this.name])return null;const st=nt.extensions[this.name],ot=tt.options.ktx2Loader;if(!ot){if(rt.extensionsRequired&&rt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return tt.loadTextureImage(_e,st.source,ot)}}class GLTFTextureWebPExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(_e){const tt=this.name,rt=this.parser,nt=rt.json,st=nt.textures[_e];if(!st.extensions||!st.extensions[tt])return null;const ot=st.extensions[tt],at=nt.images[ot.source];let lt=rt.textureLoader;if(at.uri){const ft=rt.options.manager.getHandler(at.uri);ft!==null&&(lt=ft)}return this.detectSupport().then(function(ft){if(ft)return rt.loadTextureImage(_e,ot.source,lt);if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(tt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return rt.loadTexture(_e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(_e){const tt=new Image;tt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",tt.onload=tt.onerror=function(){_e(tt.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(_e){this.parser=_e,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(_e){const tt=this.name,rt=this.parser,nt=rt.json,st=nt.textures[_e];if(!st.extensions||!st.extensions[tt])return null;const ot=st.extensions[tt],at=nt.images[ot.source];let lt=rt.textureLoader;if(at.uri){const ft=rt.options.manager.getHandler(at.uri);ft!==null&&(lt=ft)}return this.detectSupport().then(function(ft){if(ft)return rt.loadTextureImage(_e,ot.source,lt);if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(tt)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return rt.loadTexture(_e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(_e){const tt=new Image;tt.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",tt.onload=tt.onerror=function(){_e(tt.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(_e){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=_e}loadBufferView(_e){const tt=this.parser.json,rt=tt.bufferViews[_e];if(rt.extensions&&rt.extensions[this.name]){const nt=rt.extensions[this.name],st=this.parser.getDependency("buffer",nt.buffer),ot=this.parser.options.meshoptDecoder;if(!ot||!ot.supported){if(tt.extensionsRequired&&tt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return st.then(function(at){const lt=nt.byteOffset||0,ft=nt.byteLength||0,dt=nt.count,gt=nt.byteStride,pt=new Uint8Array(at,lt,ft);return ot.decodeGltfBufferAsync?ot.decodeGltfBufferAsync(dt,gt,pt,nt.mode,nt.filter).then(function(vt){return vt.buffer}):ot.ready.then(function(){const vt=new ArrayBuffer(dt*gt);return ot.decodeGltfBuffer(new Uint8Array(vt),dt,gt,pt,nt.mode,nt.filter),vt})})}else return null}}class GLTFMeshGpuInstancing{constructor(_e){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=_e}createNodeMesh(_e){const tt=this.parser.json,rt=tt.nodes[_e];if(!rt.extensions||!rt.extensions[this.name]||rt.mesh===void 0)return null;const nt=tt.meshes[rt.mesh];for(const ft of nt.primitives)if(ft.mode!==WEBGL_CONSTANTS.TRIANGLES&&ft.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&ft.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&ft.mode!==void 0)return null;const ot=rt.extensions[this.name].attributes,at=[],lt={};for(const ft in ot)at.push(this.parser.getDependency("accessor",ot[ft]).then(dt=>(lt[ft]=dt,lt[ft])));return at.length<1?null:(at.push(this.parser.createNodeMesh(_e)),Promise.all(at).then(ft=>{const dt=ft.pop(),gt=dt.isGroup?dt.children:[dt],pt=ft[0].count,vt=[];for(const St of gt){const At=new Matrix4,Tt=new Vector3,Ct=new Quaternion,Mt=new Vector3(1,1,1),Et=new InstancedMesh(St.geometry,St.material,pt);for(let Rt=0;Rt<pt;Rt++)lt.TRANSLATION&&Tt.fromBufferAttribute(lt.TRANSLATION,Rt),lt.ROTATION&&Ct.fromBufferAttribute(lt.ROTATION,Rt),lt.SCALE&&Mt.fromBufferAttribute(lt.SCALE,Rt),Et.setMatrixAt(Rt,At.compose(Tt,Ct,Mt));for(const Rt in lt)Rt!=="TRANSLATION"&&Rt!=="ROTATION"&&Rt!=="SCALE"&&St.geometry.setAttribute(Rt,lt[Rt]);Object3D.prototype.copy.call(Et,St),this.parser.assignFinalMaterial(Et),vt.push(Et)}return dt.isGroup?(dt.clear(),dt.add(...vt),dt):vt[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(_e){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const tt=new DataView(_e,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(_e.slice(0,4))),version:tt.getUint32(4,!0),length:tt.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const rt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,nt=new DataView(_e,BINARY_EXTENSION_HEADER_LENGTH);let st=0;for(;st<rt;){const ot=nt.getUint32(st,!0);st+=4;const at=nt.getUint32(st,!0);if(st+=4,at===BINARY_EXTENSION_CHUNK_TYPES.JSON){const lt=new Uint8Array(_e,BINARY_EXTENSION_HEADER_LENGTH+st,ot);this.content=LoaderUtils.decodeText(lt)}else if(at===BINARY_EXTENSION_CHUNK_TYPES.BIN){const lt=BINARY_EXTENSION_HEADER_LENGTH+st;this.body=_e.slice(lt,lt+ot)}st+=ot}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(_e,tt){if(!tt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=_e,this.dracoLoader=tt,this.dracoLoader.preload()}decodePrimitive(_e,tt){const rt=this.json,nt=this.dracoLoader,st=_e.extensions[this.name].bufferView,ot=_e.extensions[this.name].attributes,at={},lt={},ft={};for(const dt in ot){const gt=ATTRIBUTES[dt]||dt.toLowerCase();at[gt]=ot[dt]}for(const dt in _e.attributes){const gt=ATTRIBUTES[dt]||dt.toLowerCase();if(ot[dt]!==void 0){const pt=rt.accessors[_e.attributes[dt]],vt=WEBGL_COMPONENT_TYPES[pt.componentType];ft[gt]=vt.name,lt[gt]=pt.normalized===!0}}return tt.getDependency("bufferView",st).then(function(dt){return new Promise(function(gt){nt.decodeDracoFile(dt,function(pt){for(const vt in pt.attributes){const St=pt.attributes[vt],At=lt[vt];At!==void 0&&(St.normalized=At)}gt(pt)},at,ft)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(_e,tt){return(tt.texCoord===void 0||tt.texCoord===_e.channel)&&tt.offset===void 0&&tt.rotation===void 0&&tt.scale===void 0||(_e=_e.clone(),tt.texCoord!==void 0&&(_e.channel=tt.texCoord),tt.offset!==void 0&&_e.offset.fromArray(tt.offset),tt.rotation!==void 0&&(_e.rotation=tt.rotation),tt.scale!==void 0&&_e.repeat.fromArray(tt.scale),_e.needsUpdate=!0),_e}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(_e,tt,rt,nt){super(_e,tt,rt,nt)}copySampleValue_(_e){const tt=this.resultBuffer,rt=this.sampleValues,nt=this.valueSize,st=_e*nt*3+nt;for(let ot=0;ot!==nt;ot++)tt[ot]=rt[st+ot];return tt}interpolate_(_e,tt,rt,nt){const st=this.resultBuffer,ot=this.sampleValues,at=this.valueSize,lt=at*2,ft=at*3,dt=nt-tt,gt=(rt-tt)/dt,pt=gt*gt,vt=pt*gt,St=_e*ft,At=St-ft,Tt=-2*vt+3*pt,Ct=vt-pt,Mt=1-Tt,Et=Ct-pt+gt;for(let Rt=0;Rt!==at;Rt++){const Bt=ot[At+Rt+at],Ft=ot[At+Rt+lt]*dt,Lt=ot[St+Rt+at],wt=ot[St+Rt]*dt;st[Rt]=Mt*Bt+Et*Ft+Tt*Lt+Ct*wt}return st}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(_e,tt,rt,nt){const st=super.interpolate_(_e,tt,rt,nt);return _q.fromArray(st).normalize().toArray(st),st}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...REVISION.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(et){return et.DefaultMaterial===void 0&&(et.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),et.DefaultMaterial}function addUnknownExtensionsToUserData(et,_e,tt){for(const rt in tt.extensions)et[rt]===void 0&&(_e.userData.gltfExtensions=_e.userData.gltfExtensions||{},_e.userData.gltfExtensions[rt]=tt.extensions[rt])}function assignExtrasToUserData(et,_e){_e.extras!==void 0&&(typeof _e.extras=="object"?Object.assign(et.userData,_e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+_e.extras))}function addMorphTargets(et,_e,tt){let rt=!1,nt=!1,st=!1;for(let ft=0,dt=_e.length;ft<dt;ft++){const gt=_e[ft];if(gt.POSITION!==void 0&&(rt=!0),gt.NORMAL!==void 0&&(nt=!0),gt.COLOR_0!==void 0&&(st=!0),rt&&nt&&st)break}if(!rt&&!nt&&!st)return Promise.resolve(et);const ot=[],at=[],lt=[];for(let ft=0,dt=_e.length;ft<dt;ft++){const gt=_e[ft];if(rt){const pt=gt.POSITION!==void 0?tt.getDependency("accessor",gt.POSITION):et.attributes.position;ot.push(pt)}if(nt){const pt=gt.NORMAL!==void 0?tt.getDependency("accessor",gt.NORMAL):et.attributes.normal;at.push(pt)}if(st){const pt=gt.COLOR_0!==void 0?tt.getDependency("accessor",gt.COLOR_0):et.attributes.color;lt.push(pt)}}return Promise.all([Promise.all(ot),Promise.all(at),Promise.all(lt)]).then(function(ft){const dt=ft[0],gt=ft[1],pt=ft[2];return rt&&(et.morphAttributes.position=dt),nt&&(et.morphAttributes.normal=gt),st&&(et.morphAttributes.color=pt),et.morphTargetsRelative=!0,et})}function updateMorphTargets(et,_e){if(et.updateMorphTargets(),_e.weights!==void 0)for(let tt=0,rt=_e.weights.length;tt<rt;tt++)et.morphTargetInfluences[tt]=_e.weights[tt];if(_e.extras&&Array.isArray(_e.extras.targetNames)){const tt=_e.extras.targetNames;if(et.morphTargetInfluences.length===tt.length){et.morphTargetDictionary={};for(let rt=0,nt=tt.length;rt<nt;rt++)et.morphTargetDictionary[tt[rt]]=rt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(et){let _e;const tt=et.extensions&&et.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(tt?_e="draco:"+tt.bufferView+":"+tt.indices+":"+createAttributesKey(tt.attributes):_e=et.indices+":"+createAttributesKey(et.attributes)+":"+et.mode,et.targets!==void 0)for(let rt=0,nt=et.targets.length;rt<nt;rt++)_e+=":"+createAttributesKey(et.targets[rt]);return _e}function createAttributesKey(et){let _e="";const tt=Object.keys(et).sort();for(let rt=0,nt=tt.length;rt<nt;rt++)_e+=tt[rt]+":"+et[tt[rt]]+";";return _e}function getNormalizedComponentScale(et){switch(et){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(et){return et.search(/\.jpe?g($|\?)/i)>0||et.search(/^data\:image\/jpeg/)===0?"image/jpeg":et.search(/\.webp($|\?)/i)>0||et.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(_e={},tt={}){this.json=_e,this.extensions={},this.plugins={},this.options=tt,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let rt=!1,nt=!1,st=-1;typeof navigator<"u"&&(rt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,nt=navigator.userAgent.indexOf("Firefox")>-1,st=nt?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||rt||nt&&st<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(_e){this.extensions=_e}setPlugins(_e){this.plugins=_e}parse(_e,tt){const rt=this,nt=this.json,st=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(ot){return ot._markDefs&&ot._markDefs()}),Promise.all(this._invokeAll(function(ot){return ot.beforeRoot&&ot.beforeRoot()})).then(function(){return Promise.all([rt.getDependencies("scene"),rt.getDependencies("animation"),rt.getDependencies("camera")])}).then(function(ot){const at={scene:ot[0][nt.scene||0],scenes:ot[0],animations:ot[1],cameras:ot[2],asset:nt.asset,parser:rt,userData:{}};addUnknownExtensionsToUserData(st,at,nt),assignExtrasToUserData(at,nt),Promise.all(rt._invokeAll(function(lt){return lt.afterRoot&&lt.afterRoot(at)})).then(function(){_e(at)})}).catch(tt)}_markDefs(){const _e=this.json.nodes||[],tt=this.json.skins||[],rt=this.json.meshes||[];for(let nt=0,st=tt.length;nt<st;nt++){const ot=tt[nt].joints;for(let at=0,lt=ot.length;at<lt;at++)_e[ot[at]].isBone=!0}for(let nt=0,st=_e.length;nt<st;nt++){const ot=_e[nt];ot.mesh!==void 0&&(this._addNodeRef(this.meshCache,ot.mesh),ot.skin!==void 0&&(rt[ot.mesh].isSkinnedMesh=!0)),ot.camera!==void 0&&this._addNodeRef(this.cameraCache,ot.camera)}}_addNodeRef(_e,tt){tt!==void 0&&(_e.refs[tt]===void 0&&(_e.refs[tt]=_e.uses[tt]=0),_e.refs[tt]++)}_getNodeRef(_e,tt,rt){if(_e.refs[tt]<=1)return rt;const nt=rt.clone(),st=(ot,at)=>{const lt=this.associations.get(ot);lt!=null&&this.associations.set(at,lt);for(const[ft,dt]of ot.children.entries())st(dt,at.children[ft])};return st(rt,nt),nt.name+="_instance_"+_e.uses[tt]++,nt}_invokeOne(_e){const tt=Object.values(this.plugins);tt.push(this);for(let rt=0;rt<tt.length;rt++){const nt=_e(tt[rt]);if(nt)return nt}return null}_invokeAll(_e){const tt=Object.values(this.plugins);tt.unshift(this);const rt=[];for(let nt=0;nt<tt.length;nt++){const st=_e(tt[nt]);st&&rt.push(st)}return rt}getDependency(_e,tt){const rt=_e+":"+tt;let nt=this.cache.get(rt);if(!nt){switch(_e){case"scene":nt=this.loadScene(tt);break;case"node":nt=this._invokeOne(function(st){return st.loadNode&&st.loadNode(tt)});break;case"mesh":nt=this._invokeOne(function(st){return st.loadMesh&&st.loadMesh(tt)});break;case"accessor":nt=this.loadAccessor(tt);break;case"bufferView":nt=this._invokeOne(function(st){return st.loadBufferView&&st.loadBufferView(tt)});break;case"buffer":nt=this.loadBuffer(tt);break;case"material":nt=this._invokeOne(function(st){return st.loadMaterial&&st.loadMaterial(tt)});break;case"texture":nt=this._invokeOne(function(st){return st.loadTexture&&st.loadTexture(tt)});break;case"skin":nt=this.loadSkin(tt);break;case"animation":nt=this._invokeOne(function(st){return st.loadAnimation&&st.loadAnimation(tt)});break;case"camera":nt=this.loadCamera(tt);break;default:if(nt=this._invokeOne(function(st){return st!=this&&st.getDependency&&st.getDependency(_e,tt)}),!nt)throw new Error("Unknown type: "+_e);break}this.cache.add(rt,nt)}return nt}getDependencies(_e){let tt=this.cache.get(_e);if(!tt){const rt=this,nt=this.json[_e+(_e==="mesh"?"es":"s")]||[];tt=Promise.all(nt.map(function(st,ot){return rt.getDependency(_e,ot)})),this.cache.add(_e,tt)}return tt}loadBuffer(_e){const tt=this.json.buffers[_e],rt=this.fileLoader;if(tt.type&&tt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+tt.type+" buffer type is not supported.");if(tt.uri===void 0&&_e===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const nt=this.options;return new Promise(function(st,ot){rt.load(LoaderUtils.resolveURL(tt.uri,nt.path),st,void 0,function(){ot(new Error('THREE.GLTFLoader: Failed to load buffer "'+tt.uri+'".'))})})}loadBufferView(_e){const tt=this.json.bufferViews[_e];return this.getDependency("buffer",tt.buffer).then(function(rt){const nt=tt.byteLength||0,st=tt.byteOffset||0;return rt.slice(st,st+nt)})}loadAccessor(_e){const tt=this,rt=this.json,nt=this.json.accessors[_e];if(nt.bufferView===void 0&&nt.sparse===void 0){const ot=WEBGL_TYPE_SIZES[nt.type],at=WEBGL_COMPONENT_TYPES[nt.componentType],lt=nt.normalized===!0,ft=new at(nt.count*ot);return Promise.resolve(new BufferAttribute(ft,ot,lt))}const st=[];return nt.bufferView!==void 0?st.push(this.getDependency("bufferView",nt.bufferView)):st.push(null),nt.sparse!==void 0&&(st.push(this.getDependency("bufferView",nt.sparse.indices.bufferView)),st.push(this.getDependency("bufferView",nt.sparse.values.bufferView))),Promise.all(st).then(function(ot){const at=ot[0],lt=WEBGL_TYPE_SIZES[nt.type],ft=WEBGL_COMPONENT_TYPES[nt.componentType],dt=ft.BYTES_PER_ELEMENT,gt=dt*lt,pt=nt.byteOffset||0,vt=nt.bufferView!==void 0?rt.bufferViews[nt.bufferView].byteStride:void 0,St=nt.normalized===!0;let At,Tt;if(vt&&vt!==gt){const Ct=Math.floor(pt/vt),Mt="InterleavedBuffer:"+nt.bufferView+":"+nt.componentType+":"+Ct+":"+nt.count;let Et=tt.cache.get(Mt);Et||(At=new ft(at,Ct*vt,nt.count*vt/dt),Et=new InterleavedBuffer(At,vt/dt),tt.cache.add(Mt,Et)),Tt=new InterleavedBufferAttribute(Et,lt,pt%vt/dt,St)}else at===null?At=new ft(nt.count*lt):At=new ft(at,pt,nt.count*lt),Tt=new BufferAttribute(At,lt,St);if(nt.sparse!==void 0){const Ct=WEBGL_TYPE_SIZES.SCALAR,Mt=WEBGL_COMPONENT_TYPES[nt.sparse.indices.componentType],Et=nt.sparse.indices.byteOffset||0,Rt=nt.sparse.values.byteOffset||0,Bt=new Mt(ot[1],Et,nt.sparse.count*Ct),Ft=new ft(ot[2],Rt,nt.sparse.count*lt);at!==null&&(Tt=new BufferAttribute(Tt.array.slice(),Tt.itemSize,Tt.normalized));for(let Lt=0,wt=Bt.length;Lt<wt;Lt++){const Dt=Bt[Lt];if(Tt.setX(Dt,Ft[Lt*lt]),lt>=2&&Tt.setY(Dt,Ft[Lt*lt+1]),lt>=3&&Tt.setZ(Dt,Ft[Lt*lt+2]),lt>=4&&Tt.setW(Dt,Ft[Lt*lt+3]),lt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return Tt})}loadTexture(_e){const tt=this.json,rt=this.options,st=tt.textures[_e].source,ot=tt.images[st];let at=this.textureLoader;if(ot.uri){const lt=rt.manager.getHandler(ot.uri);lt!==null&&(at=lt)}return this.loadTextureImage(_e,st,at)}loadTextureImage(_e,tt,rt){const nt=this,st=this.json,ot=st.textures[_e],at=st.images[tt],lt=(at.uri||at.bufferView)+":"+ot.sampler;if(this.textureCache[lt])return this.textureCache[lt];const ft=this.loadImageSource(tt,rt).then(function(dt){dt.flipY=!1,dt.name=ot.name||at.name||"",dt.name===""&&typeof at.uri=="string"&&at.uri.startsWith("data:image/")===!1&&(dt.name=at.uri);const pt=(st.samplers||{})[ot.sampler]||{};return dt.magFilter=WEBGL_FILTERS[pt.magFilter]||LinearFilter,dt.minFilter=WEBGL_FILTERS[pt.minFilter]||LinearMipmapLinearFilter,dt.wrapS=WEBGL_WRAPPINGS[pt.wrapS]||RepeatWrapping,dt.wrapT=WEBGL_WRAPPINGS[pt.wrapT]||RepeatWrapping,nt.associations.set(dt,{textures:_e}),dt}).catch(function(){return null});return this.textureCache[lt]=ft,ft}loadImageSource(_e,tt){const rt=this,nt=this.json,st=this.options;if(this.sourceCache[_e]!==void 0)return this.sourceCache[_e].then(gt=>gt.clone());const ot=nt.images[_e],at=self.URL||self.webkitURL;let lt=ot.uri||"",ft=!1;if(ot.bufferView!==void 0)lt=rt.getDependency("bufferView",ot.bufferView).then(function(gt){ft=!0;const pt=new Blob([gt],{type:ot.mimeType});return lt=at.createObjectURL(pt),lt});else if(ot.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+_e+" is missing URI and bufferView");const dt=Promise.resolve(lt).then(function(gt){return new Promise(function(pt,vt){let St=pt;tt.isImageBitmapLoader===!0&&(St=function(At){const Tt=new Texture(At);Tt.needsUpdate=!0,pt(Tt)}),tt.load(LoaderUtils.resolveURL(gt,st.path),St,void 0,vt)})}).then(function(gt){return ft===!0&&at.revokeObjectURL(lt),gt.userData.mimeType=ot.mimeType||getImageURIMimeType(ot.uri),gt}).catch(function(gt){throw console.error("THREE.GLTFLoader: Couldn't load texture",lt),gt});return this.sourceCache[_e]=dt,dt}assignTexture(_e,tt,rt,nt){const st=this;return this.getDependency("texture",rt.index).then(function(ot){if(!ot)return null;if(rt.texCoord!==void 0&&rt.texCoord>0&&(ot=ot.clone(),ot.channel=rt.texCoord),st.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const at=rt.extensions!==void 0?rt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(at){const lt=st.associations.get(ot);ot=st.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(ot,at),st.associations.set(ot,lt)}}return nt!==void 0&&("colorSpace"in ot?ot.colorSpace=nt===3001?"srgb":"srgb-linear":ot.encoding=nt),_e[tt]=ot,ot})}assignFinalMaterial(_e){const tt=_e.geometry;let rt=_e.material;const nt=tt.attributes.tangent===void 0,st=tt.attributes.color!==void 0,ot=tt.attributes.normal===void 0;if(_e.isPoints){const at="PointsMaterial:"+rt.uuid;let lt=this.cache.get(at);lt||(lt=new PointsMaterial,Material.prototype.copy.call(lt,rt),lt.color.copy(rt.color),lt.map=rt.map,lt.sizeAttenuation=!1,this.cache.add(at,lt)),rt=lt}else if(_e.isLine){const at="LineBasicMaterial:"+rt.uuid;let lt=this.cache.get(at);lt||(lt=new LineBasicMaterial,Material.prototype.copy.call(lt,rt),lt.color.copy(rt.color),lt.map=rt.map,this.cache.add(at,lt)),rt=lt}if(nt||st||ot){let at="ClonedMaterial:"+rt.uuid+":";nt&&(at+="derivative-tangents:"),st&&(at+="vertex-colors:"),ot&&(at+="flat-shading:");let lt=this.cache.get(at);lt||(lt=rt.clone(),st&&(lt.vertexColors=!0),ot&&(lt.flatShading=!0),nt&&(lt.normalScale&&(lt.normalScale.y*=-1),lt.clearcoatNormalScale&&(lt.clearcoatNormalScale.y*=-1)),this.cache.add(at,lt),this.associations.set(lt,this.associations.get(rt))),rt=lt}_e.material=rt}getMaterialType(){return MeshStandardMaterial}loadMaterial(_e){const tt=this,rt=this.json,nt=this.extensions,st=rt.materials[_e];let ot;const at={},lt=st.extensions||{},ft=[];if(lt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const gt=nt[EXTENSIONS.KHR_MATERIALS_UNLIT];ot=gt.getMaterialType(),ft.push(gt.extendParams(at,st,tt))}else{const gt=st.pbrMetallicRoughness||{};if(at.color=new Color(1,1,1),at.opacity=1,Array.isArray(gt.baseColorFactor)){const pt=gt.baseColorFactor;at.color.fromArray(pt),at.opacity=pt[3]}gt.baseColorTexture!==void 0&&ft.push(tt.assignTexture(at,"map",gt.baseColorTexture,3001)),at.metalness=gt.metallicFactor!==void 0?gt.metallicFactor:1,at.roughness=gt.roughnessFactor!==void 0?gt.roughnessFactor:1,gt.metallicRoughnessTexture!==void 0&&(ft.push(tt.assignTexture(at,"metalnessMap",gt.metallicRoughnessTexture)),ft.push(tt.assignTexture(at,"roughnessMap",gt.metallicRoughnessTexture))),ot=this._invokeOne(function(pt){return pt.getMaterialType&&pt.getMaterialType(_e)}),ft.push(Promise.all(this._invokeAll(function(pt){return pt.extendMaterialParams&&pt.extendMaterialParams(_e,at)})))}st.doubleSided===!0&&(at.side=DoubleSide);const dt=st.alphaMode||ALPHA_MODES.OPAQUE;if(dt===ALPHA_MODES.BLEND?(at.transparent=!0,at.depthWrite=!1):(at.transparent=!1,dt===ALPHA_MODES.MASK&&(at.alphaTest=st.alphaCutoff!==void 0?st.alphaCutoff:.5)),st.normalTexture!==void 0&&ot!==MeshBasicMaterial&&(ft.push(tt.assignTexture(at,"normalMap",st.normalTexture)),at.normalScale=new Vector2(1,1),st.normalTexture.scale!==void 0)){const gt=st.normalTexture.scale;at.normalScale.set(gt,gt)}return st.occlusionTexture!==void 0&&ot!==MeshBasicMaterial&&(ft.push(tt.assignTexture(at,"aoMap",st.occlusionTexture)),st.occlusionTexture.strength!==void 0&&(at.aoMapIntensity=st.occlusionTexture.strength)),st.emissiveFactor!==void 0&&ot!==MeshBasicMaterial&&(at.emissive=new Color().fromArray(st.emissiveFactor)),st.emissiveTexture!==void 0&&ot!==MeshBasicMaterial&&ft.push(tt.assignTexture(at,"emissiveMap",st.emissiveTexture,3001)),Promise.all(ft).then(function(){const gt=new ot(at);return st.name&&(gt.name=st.name),assignExtrasToUserData(gt,st),tt.associations.set(gt,{materials:_e}),st.extensions&&addUnknownExtensionsToUserData(nt,gt,st),gt})}createUniqueName(_e){const tt=PropertyBinding.sanitizeNodeName(_e||"");return tt in this.nodeNamesUsed?tt+"_"+ ++this.nodeNamesUsed[tt]:(this.nodeNamesUsed[tt]=0,tt)}loadGeometries(_e){const tt=this,rt=this.extensions,nt=this.primitiveCache;function st(at){return rt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(at,tt).then(function(lt){return addPrimitiveAttributes(lt,at,tt)})}const ot=[];for(let at=0,lt=_e.length;at<lt;at++){const ft=_e[at],dt=createPrimitiveKey(ft),gt=nt[dt];if(gt)ot.push(gt.promise);else{let pt;ft.extensions&&ft.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?pt=st(ft):pt=addPrimitiveAttributes(new BufferGeometry,ft,tt),nt[dt]={primitive:ft,promise:pt},ot.push(pt)}}return Promise.all(ot)}loadMesh(_e){const tt=this,rt=this.json,nt=this.extensions,st=rt.meshes[_e],ot=st.primitives,at=[];for(let lt=0,ft=ot.length;lt<ft;lt++){const dt=ot[lt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",ot[lt].material);at.push(dt)}return at.push(tt.loadGeometries(ot)),Promise.all(at).then(function(lt){const ft=lt.slice(0,lt.length-1),dt=lt[lt.length-1],gt=[];for(let vt=0,St=dt.length;vt<St;vt++){const At=dt[vt],Tt=ot[vt];let Ct;const Mt=ft[vt];if(Tt.mode===WEBGL_CONSTANTS.TRIANGLES||Tt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||Tt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||Tt.mode===void 0)Ct=st.isSkinnedMesh===!0?new SkinnedMesh(At,Mt):new Mesh(At,Mt),Ct.isSkinnedMesh===!0&&Ct.normalizeSkinWeights(),Tt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?Ct.geometry=toTrianglesDrawMode(Ct.geometry,TriangleStripDrawMode):Tt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(Ct.geometry=toTrianglesDrawMode(Ct.geometry,TriangleFanDrawMode));else if(Tt.mode===WEBGL_CONSTANTS.LINES)Ct=new LineSegments(At,Mt);else if(Tt.mode===WEBGL_CONSTANTS.LINE_STRIP)Ct=new Line(At,Mt);else if(Tt.mode===WEBGL_CONSTANTS.LINE_LOOP)Ct=new LineLoop(At,Mt);else if(Tt.mode===WEBGL_CONSTANTS.POINTS)Ct=new Points(At,Mt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Tt.mode);Object.keys(Ct.geometry.morphAttributes).length>0&&updateMorphTargets(Ct,st),Ct.name=tt.createUniqueName(st.name||"mesh_"+_e),assignExtrasToUserData(Ct,st),Tt.extensions&&addUnknownExtensionsToUserData(nt,Ct,Tt),tt.assignFinalMaterial(Ct),gt.push(Ct)}for(let vt=0,St=gt.length;vt<St;vt++)tt.associations.set(gt[vt],{meshes:_e,primitives:vt});if(gt.length===1)return st.extensions&&addUnknownExtensionsToUserData(nt,gt[0],st),gt[0];const pt=new Group;st.extensions&&addUnknownExtensionsToUserData(nt,pt,st),tt.associations.set(pt,{meshes:_e});for(let vt=0,St=gt.length;vt<St;vt++)pt.add(gt[vt]);return pt})}loadCamera(_e){let tt;const rt=this.json.cameras[_e],nt=rt[rt.type];if(!nt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return rt.type==="perspective"?tt=new PerspectiveCamera$1(MathUtils.radToDeg(nt.yfov),nt.aspectRatio||1,nt.znear||1,nt.zfar||2e6):rt.type==="orthographic"&&(tt=new OrthographicCamera(-nt.xmag,nt.xmag,nt.ymag,-nt.ymag,nt.znear,nt.zfar)),rt.name&&(tt.name=this.createUniqueName(rt.name)),assignExtrasToUserData(tt,rt),Promise.resolve(tt)}loadSkin(_e){const tt=this.json.skins[_e],rt=[];for(let nt=0,st=tt.joints.length;nt<st;nt++)rt.push(this._loadNodeShallow(tt.joints[nt]));return tt.inverseBindMatrices!==void 0?rt.push(this.getDependency("accessor",tt.inverseBindMatrices)):rt.push(null),Promise.all(rt).then(function(nt){const st=nt.pop(),ot=nt,at=[],lt=[];for(let ft=0,dt=ot.length;ft<dt;ft++){const gt=ot[ft];if(gt){at.push(gt);const pt=new Matrix4;st!==null&&pt.fromArray(st.array,ft*16),lt.push(pt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',tt.joints[ft])}return new Skeleton(at,lt)})}loadAnimation(_e){const rt=this.json.animations[_e],nt=rt.name?rt.name:"animation_"+_e,st=[],ot=[],at=[],lt=[],ft=[];for(let dt=0,gt=rt.channels.length;dt<gt;dt++){const pt=rt.channels[dt],vt=rt.samplers[pt.sampler],St=pt.target,At=St.node,Tt=rt.parameters!==void 0?rt.parameters[vt.input]:vt.input,Ct=rt.parameters!==void 0?rt.parameters[vt.output]:vt.output;St.node!==void 0&&(st.push(this.getDependency("node",At)),ot.push(this.getDependency("accessor",Tt)),at.push(this.getDependency("accessor",Ct)),lt.push(vt),ft.push(St))}return Promise.all([Promise.all(st),Promise.all(ot),Promise.all(at),Promise.all(lt),Promise.all(ft)]).then(function(dt){const gt=dt[0],pt=dt[1],vt=dt[2],St=dt[3],At=dt[4],Tt=[];for(let Ct=0,Mt=gt.length;Ct<Mt;Ct++){const Et=gt[Ct],Rt=pt[Ct],Bt=vt[Ct],Ft=St[Ct],Lt=At[Ct];if(Et===void 0)continue;Et.updateMatrix();let wt;switch(PATH_PROPERTIES[Lt.path]){case PATH_PROPERTIES.weights:wt=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:wt=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:wt=VectorKeyframeTrack;break}const Dt=Et.name?Et.name:Et.uuid,Ot=Ft.interpolation!==void 0?INTERPOLATION[Ft.interpolation]:InterpolateLinear,Ut=[];PATH_PROPERTIES[Lt.path]===PATH_PROPERTIES.weights?Et.traverse(function(tr){tr.morphTargetInfluences&&Ut.push(tr.name?tr.name:tr.uuid)}):Ut.push(Dt);let zt=Bt.array;if(Bt.normalized){const tr=getNormalizedComponentScale(zt.constructor),jt=new Float32Array(zt.length);for(let Kt=0,qt=zt.length;Kt<qt;Kt++)jt[Kt]=zt[Kt]*tr;zt=jt}for(let tr=0,jt=Ut.length;tr<jt;tr++){const Kt=new wt(Ut[tr]+"."+PATH_PROPERTIES[Lt.path],Rt.array,zt,Ot);Ft.interpolation==="CUBICSPLINE"&&(Kt.createInterpolant=function(er){const kt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new kt(this.times,this.values,this.getValueSize()/3,er)},Kt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),Tt.push(Kt)}}return new AnimationClip(nt,void 0,Tt)})}createNodeMesh(_e){const tt=this.json,rt=this,nt=tt.nodes[_e];return nt.mesh===void 0?null:rt.getDependency("mesh",nt.mesh).then(function(st){const ot=rt._getNodeRef(rt.meshCache,nt.mesh,st);return nt.weights!==void 0&&ot.traverse(function(at){if(at.isMesh)for(let lt=0,ft=nt.weights.length;lt<ft;lt++)at.morphTargetInfluences[lt]=nt.weights[lt]}),ot})}loadNode(_e){const tt=this.json,rt=this,nt=tt.nodes[_e],st=rt._loadNodeShallow(_e),ot=[],at=nt.children||[];for(let ft=0,dt=at.length;ft<dt;ft++)ot.push(rt.getDependency("node",at[ft]));const lt=nt.skin===void 0?Promise.resolve(null):rt.getDependency("skin",nt.skin);return Promise.all([st,Promise.all(ot),lt]).then(function(ft){const dt=ft[0],gt=ft[1],pt=ft[2];pt!==null&&dt.traverse(function(vt){vt.isSkinnedMesh&&vt.bind(pt,_identityMatrix)});for(let vt=0,St=gt.length;vt<St;vt++)dt.add(gt[vt]);return dt})}_loadNodeShallow(_e){const tt=this.json,rt=this.extensions,nt=this;if(this.nodeCache[_e]!==void 0)return this.nodeCache[_e];const st=tt.nodes[_e],ot=st.name?nt.createUniqueName(st.name):"",at=[],lt=nt._invokeOne(function(ft){return ft.createNodeMesh&&ft.createNodeMesh(_e)});return lt&&at.push(lt),st.camera!==void 0&&at.push(nt.getDependency("camera",st.camera).then(function(ft){return nt._getNodeRef(nt.cameraCache,st.camera,ft)})),nt._invokeAll(function(ft){return ft.createNodeAttachment&&ft.createNodeAttachment(_e)}).forEach(function(ft){at.push(ft)}),this.nodeCache[_e]=Promise.all(at).then(function(ft){let dt;if(st.isBone===!0?dt=new Bone:ft.length>1?dt=new Group:ft.length===1?dt=ft[0]:dt=new Object3D,dt!==ft[0])for(let gt=0,pt=ft.length;gt<pt;gt++)dt.add(ft[gt]);if(st.name&&(dt.userData.name=st.name,dt.name=ot),assignExtrasToUserData(dt,st),st.extensions&&addUnknownExtensionsToUserData(rt,dt,st),st.matrix!==void 0){const gt=new Matrix4;gt.fromArray(st.matrix),dt.applyMatrix4(gt)}else st.translation!==void 0&&dt.position.fromArray(st.translation),st.rotation!==void 0&&dt.quaternion.fromArray(st.rotation),st.scale!==void 0&&dt.scale.fromArray(st.scale);return nt.associations.has(dt)||nt.associations.set(dt,{}),nt.associations.get(dt).nodes=_e,dt}),this.nodeCache[_e]}loadScene(_e){const tt=this.extensions,rt=this.json.scenes[_e],nt=this,st=new Group;rt.name&&(st.name=nt.createUniqueName(rt.name)),assignExtrasToUserData(st,rt),rt.extensions&&addUnknownExtensionsToUserData(tt,st,rt);const ot=rt.nodes||[],at=[];for(let lt=0,ft=ot.length;lt<ft;lt++)at.push(nt.getDependency("node",ot[lt]));return Promise.all(at).then(function(lt){for(let dt=0,gt=lt.length;dt<gt;dt++)st.add(lt[dt]);const ft=dt=>{const gt=new Map;for(const[pt,vt]of nt.associations)(pt instanceof Material||pt instanceof Texture)&&gt.set(pt,vt);return dt.traverse(pt=>{const vt=nt.associations.get(pt);vt!=null&&gt.set(pt,vt)}),gt};return nt.associations=ft(st),st})}}function computeBounds(et,_e,tt){const rt=_e.attributes,nt=new Box3;if(rt.POSITION!==void 0){const at=tt.json.accessors[rt.POSITION],lt=at.min,ft=at.max;if(lt!==void 0&&ft!==void 0){if(nt.set(new Vector3(lt[0],lt[1],lt[2]),new Vector3(ft[0],ft[1],ft[2])),at.normalized){const dt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[at.componentType]);nt.min.multiplyScalar(dt),nt.max.multiplyScalar(dt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const st=_e.targets;if(st!==void 0){const at=new Vector3,lt=new Vector3;for(let ft=0,dt=st.length;ft<dt;ft++){const gt=st[ft];if(gt.POSITION!==void 0){const pt=tt.json.accessors[gt.POSITION],vt=pt.min,St=pt.max;if(vt!==void 0&&St!==void 0){if(lt.setX(Math.max(Math.abs(vt[0]),Math.abs(St[0]))),lt.setY(Math.max(Math.abs(vt[1]),Math.abs(St[1]))),lt.setZ(Math.max(Math.abs(vt[2]),Math.abs(St[2]))),pt.normalized){const At=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[pt.componentType]);lt.multiplyScalar(At)}at.max(lt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}nt.expandByVector(at)}et.boundingBox=nt;const ot=new Sphere;nt.getCenter(ot.center),ot.radius=nt.min.distanceTo(nt.max)/2,et.boundingSphere=ot}function addPrimitiveAttributes(et,_e,tt){const rt=_e.attributes,nt=[];function st(ot,at){return tt.getDependency("accessor",ot).then(function(lt){et.setAttribute(at,lt)})}for(const ot in rt){const at=ATTRIBUTES[ot]||ot.toLowerCase();at in et.attributes||nt.push(st(rt[ot],at))}if(_e.indices!==void 0&&!et.index){const ot=tt.getDependency("accessor",_e.indices).then(function(at){et.setIndex(at)});nt.push(ot)}return assignExtrasToUserData(et,_e),computeBounds(et,_e,tt),Promise.all(nt).then(function(){return _e.targets!==void 0?addMorphTargets(et,_e.targets,tt):et})}const VignetteShader={uniforms:{tDiffuse:{value:null},offset:{value:1},darkness:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float offset;","uniform float darkness;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );","	gl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );","}"].join(`
`)};class RGBELoader extends DataTextureLoader{constructor(_e){super(_e),this.type=HalfFloatType}parse(_e){const at=function(Et,Rt){switch(Et){case 1:console.error("THREE.RGBELoader Read Error: "+(Rt||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(Rt||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(Rt||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(Rt||""))}return-1},gt=`
`,pt=function(Et,Rt,Bt){Rt=Rt||1024;let Lt=Et.pos,wt=-1,Dt=0,Ot="",Ut=String.fromCharCode.apply(null,new Uint16Array(Et.subarray(Lt,Lt+128)));for(;0>(wt=Ut.indexOf(gt))&&Dt<Rt&&Lt<Et.byteLength;)Ot+=Ut,Dt+=Ut.length,Lt+=128,Ut+=String.fromCharCode.apply(null,new Uint16Array(Et.subarray(Lt,Lt+128)));return-1<wt?(Bt!==!1&&(Et.pos+=Dt+wt+1),Ot+Ut.slice(0,wt)):!1},vt=function(Et){const Rt=/^#\?(\S+)/,Bt=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Ft=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Lt=/^\s*FORMAT=(\S+)\s*$/,wt=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Dt={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Ot,Ut;if(Et.pos>=Et.byteLength||!(Ot=pt(Et)))return at(1,"no header found");if(!(Ut=Ot.match(Rt)))return at(3,"bad initial token");for(Dt.valid|=1,Dt.programtype=Ut[1],Dt.string+=Ot+`
`;Ot=pt(Et),Ot!==!1;){if(Dt.string+=Ot+`
`,Ot.charAt(0)==="#"){Dt.comments+=Ot+`
`;continue}if((Ut=Ot.match(Bt))&&(Dt.gamma=parseFloat(Ut[1])),(Ut=Ot.match(Ft))&&(Dt.exposure=parseFloat(Ut[1])),(Ut=Ot.match(Lt))&&(Dt.valid|=2,Dt.format=Ut[1]),(Ut=Ot.match(wt))&&(Dt.valid|=4,Dt.height=parseInt(Ut[1],10),Dt.width=parseInt(Ut[2],10)),Dt.valid&2&&Dt.valid&4)break}return Dt.valid&2?Dt.valid&4?Dt:at(3,"missing image size specifier"):at(3,"missing format specifier")},St=function(Et,Rt,Bt){const Ft=Rt;if(Ft<8||Ft>32767||Et[0]!==2||Et[1]!==2||Et[2]&128)return new Uint8Array(Et);if(Ft!==(Et[2]<<8|Et[3]))return at(3,"wrong scanline width");const Lt=new Uint8Array(4*Rt*Bt);if(!Lt.length)return at(4,"unable to allocate buffer space");let wt=0,Dt=0;const Ot=4*Ft,Ut=new Uint8Array(4),zt=new Uint8Array(Ot);let tr=Bt;for(;tr>0&&Dt<Et.byteLength;){if(Dt+4>Et.byteLength)return at(1);if(Ut[0]=Et[Dt++],Ut[1]=Et[Dt++],Ut[2]=Et[Dt++],Ut[3]=Et[Dt++],Ut[0]!=2||Ut[1]!=2||(Ut[2]<<8|Ut[3])!=Ft)return at(3,"bad rgbe scanline format");let jt=0,Kt;for(;jt<Ot&&Dt<Et.byteLength;){Kt=Et[Dt++];const er=Kt>128;if(er&&(Kt-=128),Kt===0||jt+Kt>Ot)return at(3,"bad scanline data");if(er){const kt=Et[Dt++];for(let Vt=0;Vt<Kt;Vt++)zt[jt++]=kt}else zt.set(Et.subarray(Dt,Dt+Kt),jt),jt+=Kt,Dt+=Kt}const qt=Ft;for(let er=0;er<qt;er++){let kt=0;Lt[wt]=zt[er+kt],kt+=Ft,Lt[wt+1]=zt[er+kt],kt+=Ft,Lt[wt+2]=zt[er+kt],kt+=Ft,Lt[wt+3]=zt[er+kt],wt+=4}tr--}return Lt},At=function(Et,Rt,Bt,Ft){const Lt=Et[Rt+3],wt=Math.pow(2,Lt-128)/255;Bt[Ft+0]=Et[Rt+0]*wt,Bt[Ft+1]=Et[Rt+1]*wt,Bt[Ft+2]=Et[Rt+2]*wt,Bt[Ft+3]=1},Tt=function(Et,Rt,Bt,Ft){const Lt=Et[Rt+3],wt=Math.pow(2,Lt-128)/255;Bt[Ft+0]=DataUtils.toHalfFloat(Math.min(Et[Rt+0]*wt,65504)),Bt[Ft+1]=DataUtils.toHalfFloat(Math.min(Et[Rt+1]*wt,65504)),Bt[Ft+2]=DataUtils.toHalfFloat(Math.min(Et[Rt+2]*wt,65504)),Bt[Ft+3]=DataUtils.toHalfFloat(1)},Ct=new Uint8Array(_e);Ct.pos=0;const Mt=vt(Ct);if(Mt!==-1){const Et=Mt.width,Rt=Mt.height,Bt=St(Ct.subarray(Ct.pos),Et,Rt);if(Bt!==-1){let Ft,Lt,wt;switch(this.type){case FloatType:wt=Bt.length/4;const Dt=new Float32Array(wt*4);for(let Ut=0;Ut<wt;Ut++)At(Bt,Ut*4,Dt,Ut*4);Ft=Dt,Lt=FloatType;break;case HalfFloatType:wt=Bt.length/4;const Ot=new Uint16Array(wt*4);for(let Ut=0;Ut<wt;Ut++)Tt(Bt,Ut*4,Ot,Ut*4);Ft=Ot,Lt=HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:Et,height:Rt,data:Ft,header:Mt.string,gamma:Mt.gamma,exposure:Mt.exposure,type:Lt}}}return null}setDataType(_e){return this.type=_e,this}load(_e,tt,rt,nt){function st(ot,at){switch(ot.type){case FloatType:case HalfFloatType:"colorSpace"in ot?ot.colorSpace="srgb-linear":ot.encoding=3e3,ot.minFilter=LinearFilter,ot.magFilter=LinearFilter,ot.generateMipmaps=!1,ot.flipY=!0;break}tt&&tt(ot,at)}return super.load(_e,st,rt,nt)}}const _taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(_e){super(_e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(_e){return this.decoderPath=_e,this}setDecoderConfig(_e){return this.decoderConfig=_e,this}setWorkerLimit(_e){return this.workerLimit=_e,this}load(_e,tt,rt,nt){const st=new FileLoader(this.manager);st.setPath(this.path),st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(_e,ot=>{const at={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(ot,at).then(tt).catch(nt)},rt,nt)}decodeDracoFile(_e,tt,rt,nt){const st={attributeIDs:rt||this.defaultAttributeIDs,attributeTypes:nt||this.defaultAttributeTypes,useUniqueIDs:!!rt};this.decodeGeometry(_e,st).then(tt)}decodeGeometry(_e,tt){for(const lt in tt.attributeTypes){const ft=tt.attributeTypes[lt];ft.BYTES_PER_ELEMENT!==void 0&&(tt.attributeTypes[lt]=ft.name)}const rt=JSON.stringify(tt);if(_taskCache.has(_e)){const lt=_taskCache.get(_e);if(lt.key===rt)return lt.promise;if(_e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let nt;const st=this.workerNextTaskID++,ot=_e.byteLength,at=this._getWorker(st,ot).then(lt=>(nt=lt,new Promise((ft,dt)=>{nt._callbacks[st]={resolve:ft,reject:dt},nt.postMessage({type:"decode",id:st,taskConfig:tt,buffer:_e},[_e])}))).then(lt=>this._createGeometry(lt.geometry));return at.catch(()=>!0).then(()=>{nt&&st&&this._releaseTask(nt,st)}),_taskCache.set(_e,{key:rt,promise:at}),at}_createGeometry(_e){const tt=new BufferGeometry;_e.index&&tt.setIndex(new BufferAttribute(_e.index.array,1));for(let rt=0;rt<_e.attributes.length;rt++){const nt=_e.attributes[rt],st=nt.name,ot=nt.array,at=nt.itemSize;tt.setAttribute(st,new BufferAttribute(ot,at))}return tt}_loadLibrary(_e,tt){const rt=new FileLoader(this.manager);return rt.setPath(this.decoderPath),rt.setResponseType(tt),rt.setWithCredentials(this.withCredentials),new Promise((nt,st)=>{rt.load(_e,nt,void 0,st)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const _e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",tt=[];return _e?tt.push(this._loadLibrary("draco_decoder.js","text")):(tt.push(this._loadLibrary("draco_wasm_wrapper.js","text")),tt.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(tt).then(rt=>{const nt=rt[0];_e||(this.decoderConfig.wasmBinary=rt[1]);const st=DRACOWorker.toString(),ot=["/* draco decoder */",nt,"","/* worker */",st.substring(st.indexOf("{")+1,st.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([ot]))}),this.decoderPending}_getWorker(_e,tt){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const nt=new Worker(this.workerSourceURL);nt._callbacks={},nt._taskCosts={},nt._taskLoad=0,nt.postMessage({type:"init",decoderConfig:this.decoderConfig}),nt.onmessage=function(st){const ot=st.data;switch(ot.type){case"decode":nt._callbacks[ot.id].resolve(ot);break;case"error":nt._callbacks[ot.id].reject(ot);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+ot.type+'"')}},this.workerPool.push(nt)}else this.workerPool.sort(function(nt,st){return nt._taskLoad>st._taskLoad?-1:1});const rt=this.workerPool[this.workerPool.length-1];return rt._taskCosts[_e]=tt,rt._taskLoad+=tt,rt})}_releaseTask(_e,tt){_e._taskLoad-=_e._taskCosts[tt],delete _e._callbacks[tt],delete _e._taskCosts[tt]}debug(){console.log("Task load: ",this.workerPool.map(_e=>_e._taskLoad))}dispose(){for(let _e=0;_e<this.workerPool.length;++_e)this.workerPool[_e].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let et,_e;onmessage=function(ot){const at=ot.data;switch(at.type){case"init":et=at.decoderConfig,_e=new Promise(function(dt){et.onModuleLoaded=function(gt){dt({draco:gt})},DracoDecoderModule(et)});break;case"decode":const lt=at.buffer,ft=at.taskConfig;_e.then(dt=>{const gt=dt.draco,pt=new gt.Decoder,vt=new gt.DecoderBuffer;vt.Init(new Int8Array(lt),lt.byteLength);try{const St=tt(gt,pt,vt,ft),At=St.attributes.map(Tt=>Tt.array.buffer);St.index&&At.push(St.index.array.buffer),self.postMessage({type:"decode",id:at.id,geometry:St},At)}catch(St){console.error(St),self.postMessage({type:"error",id:at.id,error:St.message})}finally{gt.destroy(vt),gt.destroy(pt)}});break}};function tt(ot,at,lt,ft){const dt=ft.attributeIDs,gt=ft.attributeTypes;let pt,vt;const St=at.GetEncodedGeometryType(lt);if(St===ot.TRIANGULAR_MESH)pt=new ot.Mesh,vt=at.DecodeBufferToMesh(lt,pt);else if(St===ot.POINT_CLOUD)pt=new ot.PointCloud,vt=at.DecodeBufferToPointCloud(lt,pt);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!vt.ok()||pt.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+vt.error_msg());const At={index:null,attributes:[]};for(const Tt in dt){const Ct=self[gt[Tt]];let Mt,Et;if(ft.useUniqueIDs)Et=dt[Tt],Mt=at.GetAttributeByUniqueId(pt,Et);else{if(Et=at.GetAttributeId(pt,ot[dt[Tt]]),Et===-1)continue;Mt=at.GetAttribute(pt,Et)}At.attributes.push(nt(ot,at,pt,Tt,Ct,Mt))}return St===ot.TRIANGULAR_MESH&&(At.index=rt(ot,at,pt)),ot.destroy(pt),At}function rt(ot,at,lt){const dt=lt.num_faces()*3,gt=dt*4,pt=ot._malloc(gt);at.GetTrianglesUInt32Array(lt,gt,pt);const vt=new Uint32Array(ot.HEAPF32.buffer,pt,dt).slice();return ot._free(pt),{array:vt,itemSize:1}}function nt(ot,at,lt,ft,dt,gt){const pt=gt.num_components(),St=lt.num_points()*pt,At=St*dt.BYTES_PER_ELEMENT,Tt=st(ot,dt),Ct=ot._malloc(At);at.GetAttributeDataArrayForAllPoints(lt,gt,Tt,At,Ct);const Mt=new dt(ot.HEAPF32.buffer,Ct,St).slice();return ot._free(Ct),{name:ft,array:Mt,itemSize:pt}}function st(ot,at){switch(at){case Float32Array:return ot.DT_FLOAT32;case Int8Array:return ot.DT_INT8;case Int16Array:return ot.DT_INT16;case Int32Array:return ot.DT_INT32;case Uint8Array:return ot.DT_UINT8;case Uint16Array:return ot.DT_UINT16;case Uint32Array:return ot.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const et="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",_e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",tt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),rt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let nt=et;WebAssembly.validate(tt)&&(nt=_e);let st;const ot=WebAssembly.instantiate(at(nt),{}).then(gt=>{st=gt.instance,st.exports.__wasm_call_ctors()});function at(gt){const pt=new Uint8Array(gt.length);for(let St=0;St<gt.length;++St){const At=gt.charCodeAt(St);pt[St]=At>96?At-71:At>64?At-65:At>47?At+4:At>46?63:62}let vt=0;for(let St=0;St<gt.length;++St)pt[vt++]=pt[St]<60?rt[pt[St]]:(pt[St]-60)*64+pt[++St];return pt.buffer.slice(0,vt)}function lt(gt,pt,vt,St,At,Tt){const Ct=st.exports.sbrk,Mt=vt+3&-4,Et=Ct(Mt*St),Rt=Ct(At.length),Bt=new Uint8Array(st.exports.memory.buffer);Bt.set(At,Rt);const Ft=gt(Et,vt,St,Rt,At.length);if(Ft===0&&Tt&&Tt(Et,Mt,St),pt.set(Bt.subarray(Et,Et+vt*St)),Ct(Et-Ct(0)),Ft!==0)throw new Error(`Malformed buffer data: ${Ft}`)}const ft={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},dt={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:ot,supported:!0,decodeVertexBuffer(gt,pt,vt,St,At){lt(st.exports.meshopt_decodeVertexBuffer,gt,pt,vt,St,st.exports[ft[At]])},decodeIndexBuffer(gt,pt,vt,St){lt(st.exports.meshopt_decodeIndexBuffer,gt,pt,vt,St)},decodeIndexSequence(gt,pt,vt,St){lt(st.exports.meshopt_decodeIndexSequence,gt,pt,vt,St)},decodeGltfBuffer(gt,pt,vt,St,At,Tt){lt(st.exports[dt[At]],gt,pt,vt,St,st.exports[ft[Tt]])}},generated};function workerBootstrap(){var et=Object.create(null);function _e(nt,st){var ot=nt.id,at=nt.name,lt=nt.dependencies;lt===void 0&&(lt=[]);var ft=nt.init;ft===void 0&&(ft=function(){});var dt=nt.getTransferables;if(dt===void 0&&(dt=null),!et[ot])try{lt=lt.map(function(pt){return pt&&pt.isWorkerModule&&(_e(pt,function(vt){if(vt instanceof Error)throw vt}),pt=et[pt.id].value),pt}),ft=rt("<"+at+">.init",ft),dt&&(dt=rt("<"+at+">.getTransferables",dt));var gt=null;typeof ft=="function"?gt=ft.apply(void 0,lt):console.error("worker module init function failed to rehydrate"),et[ot]={id:ot,value:gt,getTransferables:dt},st(gt)}catch(pt){pt&&pt.noLog||console.error(pt),st(pt)}}function tt(nt,st){var ot,at=nt.id,lt=nt.args;(!et[at]||typeof et[at].value!="function")&&st(new Error("Worker module "+at+": not found or its 'init' did not return a function"));try{var ft=(ot=et[at]).value.apply(ot,lt);ft&&typeof ft.then=="function"?ft.then(dt,function(gt){return st(gt instanceof Error?gt:new Error(""+gt))}):dt(ft)}catch(gt){st(gt)}function dt(gt){try{var pt=et[at].getTransferables&&et[at].getTransferables(gt);(!pt||!Array.isArray(pt)||!pt.length)&&(pt=void 0),st(gt,pt)}catch(vt){console.error(vt),st(vt)}}}function rt(nt,st){var ot=void 0;self.troikaDefine=function(lt){return ot=lt};var at=URL.createObjectURL(new Blob(["/** "+nt.replace(/\*/g,"")+` **/

troikaDefine(
`+st+`
)`],{type:"application/javascript"}));try{importScripts(at)}catch(lt){console.error(lt)}return URL.revokeObjectURL(at),delete self.troikaDefine,ot}self.addEventListener("message",function(nt){var st=nt.data,ot=st.messageId,at=st.action,lt=st.data;try{at==="registerModule"&&_e(lt,function(ft){ft instanceof Error?postMessage({messageId:ot,success:!1,error:ft.message}):postMessage({messageId:ot,success:!0,result:{isCallable:typeof ft=="function"}})}),at==="callModule"&&tt(lt,function(ft,dt){ft instanceof Error?postMessage({messageId:ot,success:!1,error:ft.message}):postMessage({messageId:ot,success:!0,result:ft},dt||void 0)})}catch(ft){postMessage({messageId:ot,success:!1,error:ft.stack})}})}function defineMainThreadModule(et){var _e=function(){for(var tt=[],rt=arguments.length;rt--;)tt[rt]=arguments[rt];return _e._getInitResult().then(function(nt){if(typeof nt=="function")return nt.apply(void 0,tt);throw new Error("Worker module function was called but `init` did not return a callable function")})};return _e._getInitResult=function(){var tt=et.dependencies,rt=et.init;tt=Array.isArray(tt)?tt.map(function(st){return st&&st._getInitResult?st._getInitResult():st}):[];var nt=Promise.all(tt).then(function(st){return rt.apply(null,st)});return _e._getInitResult=function(){return nt},nt},_e}var supportsWorkers=function(){var et=!1;if(typeof window<"u"&&typeof window.document<"u")try{var _e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));_e.terminate(),et=!0}catch(tt){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+tt.message+"]")}return supportsWorkers=function(){return et},et},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(et){if((!et||typeof et.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var _e=et.dependencies,tt=et.init,rt=et.getTransferables,nt=et.workerId;if(!supportsWorkers())return defineMainThreadModule(et);nt==null&&(nt="#default");var st="workerModule"+ ++_workerModuleId,ot=et.name||st,at=null;_e=_e&&_e.map(function(ft){return typeof ft=="function"&&!ft.workerModuleData&&(_allowInitAsString=!0,ft=defineWorkerModule({workerId:nt,name:"<"+ot+"> function dependency: "+ft.name,init:`function(){return (
`+stringifyFunction(ft)+`
)}`}),_allowInitAsString=!1),ft&&ft.workerModuleData&&(ft=ft.workerModuleData),ft});function lt(){for(var ft=[],dt=arguments.length;dt--;)ft[dt]=arguments[dt];if(!at){at=callWorker(nt,"registerModule",lt.workerModuleData);var gt=function(){at=null,registeredModules[nt].delete(gt)};(registeredModules[nt]||(registeredModules[nt]=new Set)).add(gt)}return at.then(function(pt){var vt=pt.isCallable;if(vt)return callWorker(nt,"callModule",{id:st,args:ft});throw new Error("Worker module function was called but `init` did not return a callable function")})}return lt.workerModuleData={isWorkerModule:!0,id:st,name:ot,dependencies:_e,init:stringifyFunction(tt),getTransferables:rt&&stringifyFunction(rt)},lt}function terminateWorker(et){registeredModules[et]&&registeredModules[et].forEach(function(_e){_e()}),workers[et]&&(workers[et].terminate(),delete workers[et])}function stringifyFunction(et){var _e=et.toString();return!/^function/.test(_e)&&/^\w+\s*\(/.test(_e)&&(_e="function "+_e),_e}function getWorker(et){var _e=workers[et];if(!_e){var tt=stringifyFunction(workerBootstrap);_e=workers[et]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+et.replace(/\*/g,"")+` **/

;(`+tt+")()"],{type:"application/javascript"}))),_e.onmessage=function(rt){var nt=rt.data,st=nt.messageId,ot=openRequests[st];if(!ot)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[st],ot(nt)}}return _e}function callWorker(et,_e,tt){return new Promise(function(rt,nt){var st=++_messageId;openRequests[st]=function(ot){ot.success?rt(ot.result):nt(new Error("Error in worker "+_e+" call: "+ot.error))},getWorker(et).postMessage({messageId:st,action:_e,data:tt})})}function SDFGenerator(){var et=function(_e){function tt(Vt,Zt,Wt,nr,sr,lr,dr,hr){var wr=1-dr;hr.x=wr*wr*Vt+2*wr*dr*Wt+dr*dr*sr,hr.y=wr*wr*Zt+2*wr*dr*nr+dr*dr*lr}function rt(Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr){var _r=1-wr;pr.x=_r*_r*_r*Vt+3*_r*_r*wr*Wt+3*_r*wr*wr*sr+wr*wr*wr*dr,pr.y=_r*_r*_r*Zt+3*_r*_r*wr*nr+3*_r*wr*wr*lr+wr*wr*wr*hr}function nt(Vt,Zt){for(var Wt=/([MLQCZ])([^MLQCZ]*)/g,nr,sr,lr,dr,hr;nr=Wt.exec(Vt);){var wr=nr[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(pr){return parseFloat(pr)});switch(nr[1]){case"M":dr=sr=wr[0],hr=lr=wr[1];break;case"L":(wr[0]!==dr||wr[1]!==hr)&&Zt("L",dr,hr,dr=wr[0],hr=wr[1]);break;case"Q":{Zt("Q",dr,hr,dr=wr[2],hr=wr[3],wr[0],wr[1]);break}case"C":{Zt("C",dr,hr,dr=wr[4],hr=wr[5],wr[0],wr[1],wr[2],wr[3]);break}case"Z":(dr!==sr||hr!==lr)&&Zt("L",dr,hr,sr,lr);break}}}function st(Vt,Zt,Wt){Wt===void 0&&(Wt=16);var nr={x:0,y:0};nt(Vt,function(sr,lr,dr,hr,wr,pr,_r,mr,Er){switch(sr){case"L":Zt(lr,dr,hr,wr);break;case"Q":{for(var ur=lr,xr=dr,Ar=1;Ar<Wt;Ar++)tt(lr,dr,pr,_r,hr,wr,Ar/(Wt-1),nr),Zt(ur,xr,nr.x,nr.y),ur=nr.x,xr=nr.y;break}case"C":{for(var Br=lr,kr=dr,nn=1;nn<Wt;nn++)rt(lr,dr,pr,_r,mr,Er,hr,wr,nn/(Wt-1),nr),Zt(Br,kr,nr.x,nr.y),Br=nr.x,kr=nr.y;break}}})}var ot="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",at="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",lt=new WeakMap,ft={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function dt(Vt,Zt){var Wt=Vt.getContext?Vt.getContext("webgl",ft):Vt,nr=lt.get(Wt);if(!nr){let Br=function(zr){var cr=lr[zr];if(!cr&&(cr=lr[zr]=Wt.getExtension(zr),!cr))throw new Error(zr+" not supported");return cr},kr=function(zr,cr){var ar=Wt.createShader(cr);return Wt.shaderSource(ar,zr),Wt.compileShader(ar),ar},nn=function(zr,cr,ar,Tr){if(!dr[zr]){var Nr={},Qr={},en=Wt.createProgram();Wt.attachShader(en,kr(cr,Wt.VERTEX_SHADER)),Wt.attachShader(en,kr(ar,Wt.FRAGMENT_SHADER)),Wt.linkProgram(en),dr[zr]={program:en,transaction:function(rn){Wt.useProgram(en),rn({setUniform:function(ln,br){for(var Gr=[],Kr=arguments.length-2;Kr-- >0;)Gr[Kr]=arguments[Kr+2];var Wr=Qr[br]||(Qr[br]=Wt.getUniformLocation(en,br));Wt["uniform"+ln].apply(Wt,[Wr].concat(Gr))},setAttribute:function(ln,br,Gr,Kr,Wr){var an=Nr[ln];an||(an=Nr[ln]={buf:Wt.createBuffer(),loc:Wt.getAttribLocation(en,ln),data:null}),Wt.bindBuffer(Wt.ARRAY_BUFFER,an.buf),Wt.vertexAttribPointer(an.loc,br,Wt.FLOAT,!1,0,0),Wt.enableVertexAttribArray(an.loc),sr?Wt.vertexAttribDivisor(an.loc,Kr):Br("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(an.loc,Kr),Wr!==an.data&&(Wt.bufferData(Wt.ARRAY_BUFFER,Wr,Gr),an.data=Wr)}})}}}dr[zr].transaction(Tr)},Pr=function(zr,cr){wr++;try{Wt.activeTexture(Wt.TEXTURE0+wr);var ar=hr[zr];ar||(ar=hr[zr]=Wt.createTexture(),Wt.bindTexture(Wt.TEXTURE_2D,ar),Wt.texParameteri(Wt.TEXTURE_2D,Wt.TEXTURE_MIN_FILTER,Wt.NEAREST),Wt.texParameteri(Wt.TEXTURE_2D,Wt.TEXTURE_MAG_FILTER,Wt.NEAREST)),Wt.bindTexture(Wt.TEXTURE_2D,ar),cr(ar,wr)}finally{wr--}},Xr=function(zr,cr,ar){var Tr=Wt.createFramebuffer();pr.push(Tr),Wt.bindFramebuffer(Wt.FRAMEBUFFER,Tr),Wt.activeTexture(Wt.TEXTURE0+cr),Wt.bindTexture(Wt.TEXTURE_2D,zr),Wt.framebufferTexture2D(Wt.FRAMEBUFFER,Wt.COLOR_ATTACHMENT0,Wt.TEXTURE_2D,zr,0);try{ar(Tr)}finally{Wt.deleteFramebuffer(Tr),Wt.bindFramebuffer(Wt.FRAMEBUFFER,pr[--pr.length-1]||null)}},Zr=function(){lr={},dr={},hr={},wr=-1,pr.length=0};var _r=Br,mr=kr,Er=nn,ur=Pr,xr=Xr,Ar=Zr,sr=typeof WebGL2RenderingContext<"u"&&Wt instanceof WebGL2RenderingContext,lr={},dr={},hr={},wr=-1,pr=[];Wt.canvas.addEventListener("webglcontextlost",function(zr){Zr(),zr.preventDefault()},!1),lt.set(Wt,nr={gl:Wt,isWebGL2:sr,getExtension:Br,withProgram:nn,withTexture:Pr,withTextureFramebuffer:Xr,handleContextLoss:Zr})}Zt(nr)}function gt(Vt,Zt,Wt,nr,sr,lr,dr,hr){dr===void 0&&(dr=15),hr===void 0&&(hr=null),dt(Vt,function(wr){var pr=wr.gl,_r=wr.withProgram,mr=wr.withTexture;mr("copy",function(Er,ur){pr.texImage2D(pr.TEXTURE_2D,0,pr.RGBA,sr,lr,0,pr.RGBA,pr.UNSIGNED_BYTE,Zt),_r("copy",ot,at,function(xr){var Ar=xr.setUniform,Br=xr.setAttribute;Br("aUV",2,pr.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ar("1i","image",ur),pr.bindFramebuffer(pr.FRAMEBUFFER,hr||null),pr.disable(pr.BLEND),pr.colorMask(dr&8,dr&4,dr&2,dr&1),pr.viewport(Wt,nr,sr,lr),pr.scissor(Wt,nr,sr,lr),pr.drawArrays(pr.TRIANGLES,0,3)})})})}function pt(Vt,Zt,Wt){var nr=Vt.width,sr=Vt.height;dt(Vt,function(lr){var dr=lr.gl,hr=new Uint8Array(nr*sr*4);dr.readPixels(0,0,nr,sr,dr.RGBA,dr.UNSIGNED_BYTE,hr),Vt.width=Zt,Vt.height=Wt,gt(dr,hr,0,0,nr,sr)})}var vt=Object.freeze({__proto__:null,withWebGLContext:dt,renderImageData:gt,resizeWebGLCanvasWithoutClearing:pt});function St(Vt,Zt,Wt,nr,sr,lr){lr===void 0&&(lr=1);var dr=new Uint8Array(Vt*Zt),hr=nr[2]-nr[0],wr=nr[3]-nr[1],pr=[];st(Wt,function(Br,kr,nn,Pr){pr.push({x1:Br,y1:kr,x2:nn,y2:Pr,minX:Math.min(Br,nn),minY:Math.min(kr,Pr),maxX:Math.max(Br,nn),maxY:Math.max(kr,Pr)})}),pr.sort(function(Br,kr){return Br.maxX-kr.maxX});for(var _r=0;_r<Vt;_r++)for(var mr=0;mr<Zt;mr++){var Er=xr(nr[0]+hr*(_r+.5)/Vt,nr[1]+wr*(mr+.5)/Zt),ur=Math.pow(1-Math.abs(Er)/sr,lr)/2;Er<0&&(ur=1-ur),ur=Math.max(0,Math.min(255,Math.round(ur*255))),dr[mr*Vt+_r]=ur}return dr;function xr(Br,kr){for(var nn=1/0,Pr=1/0,Xr=pr.length;Xr--;){var Zr=pr[Xr];if(Zr.maxX+Pr<=Br)break;if(Br+Pr>Zr.minX&&kr-Pr<Zr.maxY&&kr+Pr>Zr.minY){var zr=Ct(Br,kr,Zr.x1,Zr.y1,Zr.x2,Zr.y2);zr<nn&&(nn=zr,Pr=Math.sqrt(nn))}}return Ar(Br,kr)&&(Pr=-Pr),Pr}function Ar(Br,kr){for(var nn=0,Pr=pr.length;Pr--;){var Xr=pr[Pr];if(Xr.maxX<=Br)break;var Zr=Xr.y1>kr!=Xr.y2>kr&&Br<(Xr.x2-Xr.x1)*(kr-Xr.y1)/(Xr.y2-Xr.y1)+Xr.x1;Zr&&(nn+=Xr.y1<Xr.y2?1:-1)}return nn!==0}}function At(Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr){lr===void 0&&(lr=1),hr===void 0&&(hr=0),wr===void 0&&(wr=0),pr===void 0&&(pr=0),Tt(Vt,Zt,Wt,nr,sr,lr,dr,null,hr,wr,pr)}function Tt(Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr,_r){lr===void 0&&(lr=1),wr===void 0&&(wr=0),pr===void 0&&(pr=0),_r===void 0&&(_r=0);for(var mr=St(Vt,Zt,Wt,nr,sr,lr),Er=new Uint8Array(mr.length*4),ur=0;ur<mr.length;ur++)Er[ur*4+_r]=mr[ur];gt(dr,Er,wr,pr,Vt,Zt,1<<3-_r,hr)}function Ct(Vt,Zt,Wt,nr,sr,lr){var dr=sr-Wt,hr=lr-nr,wr=dr*dr+hr*hr,pr=wr?Math.max(0,Math.min(1,((Vt-Wt)*dr+(Zt-nr)*hr)/wr)):0,_r=Vt-(Wt+pr*dr),mr=Zt-(nr+pr*hr);return _r*_r+mr*mr}var Mt=Object.freeze({__proto__:null,generate:St,generateIntoCanvas:At,generateIntoFramebuffer:Tt}),Et="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",Rt="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",Bt="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",Ft=new Float32Array([0,0,2,0,0,2]),Lt=null,wt=!1,Dt={},Ot=new WeakMap;function Ut(Vt){if(!wt&&!Kt(Vt))throw new Error("WebGL generation not supported")}function zt(Vt,Zt,Wt,nr,sr,lr,dr){if(lr===void 0&&(lr=1),dr===void 0&&(dr=null),!dr&&(dr=Lt,!dr)){var hr=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!hr)throw new Error("OffscreenCanvas or DOM canvas not supported");dr=Lt=hr.getContext("webgl",{depth:!1})}Ut(dr);var wr=new Uint8Array(Vt*Zt*4);dt(dr,function(Er){var ur=Er.gl,xr=Er.withTexture,Ar=Er.withTextureFramebuffer;xr("readable",function(Br,kr){ur.texImage2D(ur.TEXTURE_2D,0,ur.RGBA,Vt,Zt,0,ur.RGBA,ur.UNSIGNED_BYTE,null),Ar(Br,kr,function(nn){jt(Vt,Zt,Wt,nr,sr,lr,ur,nn,0,0,0),ur.readPixels(0,0,Vt,Zt,ur.RGBA,ur.UNSIGNED_BYTE,wr)})})});for(var pr=new Uint8Array(Vt*Zt),_r=0,mr=0;_r<wr.length;_r+=4)pr[mr++]=wr[_r];return pr}function tr(Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr){lr===void 0&&(lr=1),hr===void 0&&(hr=0),wr===void 0&&(wr=0),pr===void 0&&(pr=0),jt(Vt,Zt,Wt,nr,sr,lr,dr,null,hr,wr,pr)}function jt(Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr,_r){lr===void 0&&(lr=1),wr===void 0&&(wr=0),pr===void 0&&(pr=0),_r===void 0&&(_r=0),Ut(dr);var mr=[];st(Wt,function(Er,ur,xr,Ar){mr.push(Er,ur,xr,Ar)}),mr=new Float32Array(mr),dt(dr,function(Er){var ur=Er.gl,xr=Er.isWebGL2,Ar=Er.getExtension,Br=Er.withProgram,kr=Er.withTexture,nn=Er.withTextureFramebuffer,Pr=Er.handleContextLoss;if(kr("rawDistances",function(Xr,Zr){(Vt!==Xr._lastWidth||Zt!==Xr._lastHeight)&&ur.texImage2D(ur.TEXTURE_2D,0,ur.RGBA,Xr._lastWidth=Vt,Xr._lastHeight=Zt,0,ur.RGBA,ur.UNSIGNED_BYTE,null),Br("main",Et,Rt,function(zr){var cr=zr.setAttribute,ar=zr.setUniform,Tr=!xr&&Ar("ANGLE_instanced_arrays"),Nr=!xr&&Ar("EXT_blend_minmax");cr("aUV",2,ur.STATIC_DRAW,0,Ft),cr("aLineSegment",4,ur.DYNAMIC_DRAW,1,mr),ar.apply(void 0,["4f","uGlyphBounds"].concat(nr)),ar("1f","uMaxDistance",sr),ar("1f","uExponent",lr),nn(Xr,Zr,function(Qr){ur.enable(ur.BLEND),ur.colorMask(!0,!0,!0,!0),ur.viewport(0,0,Vt,Zt),ur.scissor(0,0,Vt,Zt),ur.blendFunc(ur.ONE,ur.ONE),ur.blendEquationSeparate(ur.FUNC_ADD,xr?ur.MAX:Nr.MAX_EXT),ur.clear(ur.COLOR_BUFFER_BIT),xr?ur.drawArraysInstanced(ur.TRIANGLES,0,3,mr.length/4):Tr.drawArraysInstancedANGLE(ur.TRIANGLES,0,3,mr.length/4)})}),Br("post",ot,Bt,function(zr){zr.setAttribute("aUV",2,ur.STATIC_DRAW,0,Ft),zr.setUniform("1i","tex",Zr),ur.bindFramebuffer(ur.FRAMEBUFFER,hr),ur.disable(ur.BLEND),ur.colorMask(_r===0,_r===1,_r===2,_r===3),ur.viewport(wr,pr,Vt,Zt),ur.scissor(wr,pr,Vt,Zt),ur.drawArrays(ur.TRIANGLES,0,3)})}),ur.isContextLost())throw Pr(),new Error("webgl context lost")})}function Kt(Vt){var Zt=!Vt||Vt===Lt?Dt:Vt.canvas||Vt,Wt=Ot.get(Zt);if(Wt===void 0){wt=!0;var nr=null;try{var sr=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],lr=zt(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Vt);Wt=lr&&sr.length===lr.length&&lr.every(function(dr,hr){return dr===sr[hr]}),Wt||(nr="bad trial run results",console.info(sr,lr))}catch(dr){Wt=!1,nr=dr.message}nr&&console.warn("WebGL SDF generation not supported:",nr),wt=!1,Ot.set(Zt,Wt)}return Wt}var qt=Object.freeze({__proto__:null,generate:zt,generateIntoCanvas:tr,generateIntoFramebuffer:jt,isSupported:Kt});function er(Vt,Zt,Wt,nr,sr,lr){sr===void 0&&(sr=Math.max(nr[2]-nr[0],nr[3]-nr[1])/2),lr===void 0&&(lr=1);try{return zt.apply(qt,arguments)}catch(dr){return console.info("WebGL SDF generation failed, falling back to JS",dr),St.apply(Mt,arguments)}}function kt(Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr){sr===void 0&&(sr=Math.max(nr[2]-nr[0],nr[3]-nr[1])/2),lr===void 0&&(lr=1),hr===void 0&&(hr=0),wr===void 0&&(wr=0),pr===void 0&&(pr=0);try{return tr.apply(qt,arguments)}catch(_r){return console.info("WebGL SDF generation failed, falling back to JS",_r),At.apply(Mt,arguments)}}return _e.forEachPathCommand=nt,_e.generate=er,_e.generateIntoCanvas=kt,_e.javascript=Mt,_e.pathToLineSegments=st,_e.webgl=qt,_e.webglUtils=vt,Object.defineProperty(_e,"__esModule",{value:!0}),_e}({});return et}function bidiFactory(){var et=function(_e){var tt={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},rt={},nt={};rt.L=1,nt[1]="L",Object.keys(tt).forEach(function(Pr,Xr){rt[Pr]=1<<Xr+1,nt[rt[Pr]]=Pr}),Object.freeze(rt);var st=rt.LRI|rt.RLI|rt.FSI,ot=rt.L|rt.R|rt.AL,at=rt.B|rt.S|rt.WS|rt.ON|rt.FSI|rt.LRI|rt.RLI|rt.PDI,lt=rt.BN|rt.RLE|rt.LRE|rt.RLO|rt.LRO|rt.PDF,ft=rt.S|rt.WS|rt.B|st|rt.PDI|lt,dt=null;function gt(){if(!dt){dt=new Map;var Pr=function(Zr){if(tt.hasOwnProperty(Zr)){var zr=0;tt[Zr].split(",").forEach(function(cr){var ar=cr.split("+"),Tr=ar[0],Nr=ar[1];Tr=parseInt(Tr,36),Nr=Nr?parseInt(Nr,36):0,dt.set(zr+=Tr,rt[Zr]);for(var Qr=0;Qr<Nr;Qr++)dt.set(++zr,rt[Zr])})}};for(var Xr in tt)Pr(Xr)}}function pt(Pr){return gt(),dt.get(Pr.codePointAt(0))||rt.L}function vt(Pr){return nt[pt(Pr)]}var St={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function At(Pr,Xr){var Zr=36,zr=0,cr=new Map,ar=Xr&&new Map,Tr;return Pr.split(",").forEach(function Nr(Qr){if(Qr.indexOf("+")!==-1)for(var en=+Qr;en--;)Nr(Tr);else{Tr=Qr;var on=Qr.split(">"),rn=on[0],Vr=on[1];rn=String.fromCodePoint(zr+=parseInt(rn,Zr)),Vr=String.fromCodePoint(zr+=parseInt(Vr,Zr)),cr.set(rn,Vr),Xr&&ar.set(Vr,rn)}}),{map:cr,reverseMap:ar}}var Tt,Ct,Mt;function Et(){if(!Tt){var Pr=At(St.pairs,!0),Xr=Pr.map,Zr=Pr.reverseMap;Tt=Xr,Ct=Zr,Mt=At(St.canonical,!1).map}}function Rt(Pr){return Et(),Tt.get(Pr)||null}function Bt(Pr){return Et(),Ct.get(Pr)||null}function Ft(Pr){return Et(),Mt.get(Pr)||null}var Lt=rt.L,wt=rt.R,Dt=rt.EN,Ot=rt.ES,Ut=rt.ET,zt=rt.AN,tr=rt.CS,jt=rt.B,Kt=rt.S,qt=rt.ON,er=rt.BN,kt=rt.NSM,Vt=rt.AL,Zt=rt.LRO,Wt=rt.RLO,nr=rt.LRE,sr=rt.RLE,lr=rt.PDF,dr=rt.LRI,hr=rt.RLI,wr=rt.FSI,pr=rt.PDI;function _r(Pr,Xr){for(var Zr=125,zr=new Uint32Array(Pr.length),cr=0;cr<Pr.length;cr++)zr[cr]=pt(Pr[cr]);var ar=new Map;function Tr(ys,_s){var Yn=zr[ys];zr[ys]=_s,ar.set(Yn,ar.get(Yn)-1),Yn&at&&ar.set(at,ar.get(at)-1),ar.set(_s,(ar.get(_s)||0)+1),_s&at&&ar.set(at,(ar.get(at)||0)+1)}for(var Nr=new Uint8Array(Pr.length),Qr=new Map,en=[],on=null,rn=0;rn<Pr.length;rn++)on||en.push(on={start:rn,end:Pr.length-1,level:Xr==="rtl"?1:Xr==="ltr"?0:qs(rn,!1)}),zr[rn]&jt&&(on.end=rn,on=null);for(var Vr=sr|nr|Wt|Zt|st|pr|lr|jt,ln=function(ys){return ys+(ys&1?1:2)},br=function(ys){return ys+(ys&1?2:1)},Gr=0;Gr<en.length;Gr++){on=en[Gr];var Kr=[{_level:on.level,_override:0,_isolate:0}],Wr=void 0,an=0,gn=0,Cn=0;ar.clear();for(var Cr=on.start;Cr<=on.end;Cr++){var Ur=zr[Cr];if(Wr=Kr[Kr.length-1],ar.set(Ur,(ar.get(Ur)||0)+1),Ur&at&&ar.set(at,(ar.get(at)||0)+1),Ur&Vr)if(Ur&(sr|nr)){Nr[Cr]=Wr._level;var tn=(Ur===sr?br:ln)(Wr._level);tn<=Zr&&!an&&!gn?Kr.push({_level:tn,_override:0,_isolate:0}):an||gn++}else if(Ur&(Wt|Zt)){Nr[Cr]=Wr._level;var fn=(Ur===Wt?br:ln)(Wr._level);fn<=Zr&&!an&&!gn?Kr.push({_level:fn,_override:Ur&Wt?wt:Lt,_isolate:0}):an||gn++}else if(Ur&st){Ur&wr&&(Ur=qs(Cr+1,!0)===1?hr:dr),Nr[Cr]=Wr._level,Wr._override&&Tr(Cr,Wr._override);var mn=(Ur===hr?br:ln)(Wr._level);mn<=Zr&&an===0&&gn===0?(Cn++,Kr.push({_level:mn,_override:0,_isolate:1,_isolInitIndex:Cr})):an++}else if(Ur&pr){if(an>0)an--;else if(Cn>0){for(gn=0;!Kr[Kr.length-1]._isolate;)Kr.pop();var Mn=Kr[Kr.length-1]._isolInitIndex;Mn!=null&&(Qr.set(Mn,Cr),Qr.set(Cr,Mn)),Kr.pop(),Cn--}Wr=Kr[Kr.length-1],Nr[Cr]=Wr._level,Wr._override&&Tr(Cr,Wr._override)}else Ur&lr?(an===0&&(gn>0?gn--:!Wr._isolate&&Kr.length>1&&(Kr.pop(),Wr=Kr[Kr.length-1])),Nr[Cr]=Wr._level):Ur&jt&&(Nr[Cr]=on.level);else Nr[Cr]=Wr._level,Wr._override&&Ur!==er&&Tr(Cr,Wr._override)}for(var Hn=[],Wn=null,$n=on.start;$n<=on.end;$n++){var Un=zr[$n];if(!(Un&lt)){var Kn=Nr[$n],Vn=Un&st,Ls=Un===pr;Wn&&Kn===Wn._level?(Wn._end=$n,Wn._endsWithIsolInit=Vn):Hn.push(Wn={_start:$n,_end:$n,_level:Kn,_startsWithPDI:Ls,_endsWithIsolInit:Vn})}}for(var ws=[],qn=0;qn<Hn.length;qn++){var ls=Hn[qn];if(!ls._startsWithPDI||ls._startsWithPDI&&!Qr.has(ls._start)){for(var gr=[Wn=ls],Dr=void 0;Wn&&Wn._endsWithIsolInit&&(Dr=Qr.get(Wn._end))!=null;)for(var jr=qn+1;jr<Hn.length;jr++)if(Hn[jr]._start===Dr){gr.push(Wn=Hn[jr]);break}for(var Fr=[],Jr=0;Jr<gr.length;Jr++)for(var vn=gr[Jr],En=vn._start;En<=vn._end;En++)Fr.push(En);for(var bn=Nr[Fr[0]],In=on.level,Fn=Fr[0]-1;Fn>=0;Fn--)if(!(zr[Fn]&lt)){In=Nr[Fn];break}var On=Fr[Fr.length-1],Nn=Nr[On],ss=on.level;if(!(zr[On]&st)){for(var ns=On+1;ns<=on.end;ns++)if(!(zr[ns]&lt)){ss=Nr[ns];break}}ws.push({_seqIndices:Fr,_sosType:Math.max(In,bn)%2?wt:Lt,_eosType:Math.max(ss,Nn)%2?wt:Lt})}}for(var Ns=0;Ns<ws.length;Ns++){var Ws=ws[Ns],cn=Ws._seqIndices,Tn=Ws._sosType,Eo=Ws._eosType;if(ar.get(kt))for(var Jn=0;Jn<cn.length;Jn++){var Qs=cn[Jn];if(zr[Qs]&kt){for(var uo=Tn,us=Jn-1;us>=0;us--)if(!(zr[cn[us]]&lt)){uo=zr[cn[us]];break}Tr(Qs,uo&(st|pr)?qt:uo)}}if(ar.get(Dt))for(var Ts=0;Ts<cn.length;Ts++){var Rn=cn[Ts];if(zr[Rn]&Dt)for(var kn=Ts-1;kn>=-1;kn--){var Gs=kn===-1?Tn:zr[cn[kn]];if(Gs&ot){Gs===Vt&&Tr(Rn,zt);break}}}if(ar.get(Vt))for(var Xn=0;Xn<cn.length;Xn++){var gs=cn[Xn];zr[gs]&Vt&&Tr(gs,wt)}if(ar.get(Ot)||ar.get(tr))for(var As=1;As<cn.length-1;As++){var Ks=cn[As];if(zr[Ks]&(Ot|tr)){for(var os=0,bo=0,Oo=As-1;Oo>=0&&(os=zr[cn[Oo]],!!(os&lt));Oo--);for(var jo=As+1;jo<cn.length&&(bo=zr[cn[jo]],!!(bo&lt));jo++);os===bo&&(zr[Ks]===Ot?os===Dt:os&(Dt|zt))&&Tr(Ks,os)}}if(ar.get(Dt))for(var co=0;co<cn.length;co++){var Pl=cn[co];if(zr[Pl]&Dt){for(var Is=co-1;Is>=0&&zr[cn[Is]]&(Ut|lt);Is--)Tr(cn[Is],Dt);for(var ko=co+1;ko<cn.length&&zr[cn[ko]]&(Ut|lt);ko++)Tr(cn[ko],Dt)}}if(ar.get(Ut)||ar.get(Ot)||ar.get(tr))for(var No=0;No<cn.length;No++){var Rl=cn[No];if(zr[Rl]&(Ut|Ot|tr)){Tr(Rl,qt);for(var fo=No-1;fo>=0&&zr[cn[fo]]&lt;fo--)Tr(cn[fo],qt);for(var Zs=No+1;Zs<cn.length&&zr[cn[Zs]]&lt;Zs++)Tr(cn[Zs],qt)}}if(ar.get(Dt))for(var Vs=0,Go=Tn;Vs<cn.length;Vs++){var Ll=cn[Vs],eo=zr[Ll];eo&Dt?Go===Lt&&Tr(Ll,Lt):eo&ot&&(Go=eo)}if(ar.get(at)){var Ao=wt|Dt|zt,Wo=Ao|Lt,ho=[];{for(var Io=[],po=0;po<cn.length;po++)if(zr[cn[po]]&at){var Ln=Pr[cn[po]],Ko=void 0;if(Rt(Ln)!==null)if(Io.length<63)Io.push({char:Ln,seqIndex:po});else break;else if((Ko=Bt(Ln))!==null)for(var Co=Io.length-1;Co>=0;Co--){var Mo=Io[Co].char;if(Mo===Ko||Mo===Bt(Ft(Ln))||Rt(Ft(Mo))===Ln){ho.push([Io[Co].seqIndex,po]),Io.length=Co;break}}}ho.sort(function(ys,_s){return ys[0]-_s[0]})}for(var xa=0;xa<ho.length;xa++){for(var Xo=ho[xa],cs=Xo[0],wo=Xo[1],ba=!1,Bs=0,To=cs+1;To<wo;To++){var Po=cn[To];if(zr[Po]&Wo){ba=!0;var Xs=zr[Po]&Ao?wt:Lt;if(Xs===Ds(Po)){Bs=Xs;break}}}if(ba&&!Bs){Bs=Tn;for(var $a=cs-1;$a>=0;$a--){var qo=cn[$a];if(zr[qo]&Wo){var yr=zr[qo]&Ao?wt:Lt;yr!==Ds(qo)?Bs=yr:Bs=Ds(qo);break}}}if(Bs){if(zr[cn[cs]]=zr[cn[wo]]=Bs,Bs!==Ds(cn[cs])){for(var Rr=cs+1;Rr<cn.length;Rr++)if(!(zr[cn[Rr]]&lt)){pt(Pr[cn[Rr]])&kt&&(zr[cn[Rr]]=Bs);break}}if(Bs!==Ds(cn[wo])){for(var sn=wo+1;sn<cn.length;sn++)if(!(zr[cn[sn]]&lt)){pt(Pr[cn[sn]])&kt&&(zr[cn[sn]]=Bs);break}}}}for(var hn=0;hn<cn.length;hn++)if(zr[cn[hn]]&at){for(var _i=hn,Pn=hn,jn=Tn,fs=hn-1;fs>=0;fs--)if(zr[cn[fs]]&lt)_i=fs;else{jn=zr[cn[fs]]&Ao?wt:Lt;break}for(var hs=Eo,es=hn+1;es<cn.length;es++)if(zr[cn[es]]&(at|lt))Pn=es;else{hs=zr[cn[es]]&Ao?wt:Lt;break}for(var ts=_i;ts<=Pn;ts++)zr[cn[ts]]=jn===hs?jn:Ds(cn[ts]);hn=Pn}}}for(var rs=on.start;rs<=on.end;rs++){var vs=Nr[rs],ds=zr[rs];if(vs&1?ds&(Lt|Dt|zt)&&Nr[rs]++:ds&wt?Nr[rs]++:ds&(zt|Dt)&&(Nr[rs]+=2),ds&lt&&(Nr[rs]=rs===0?on.level:Nr[rs-1]),rs===on.end||pt(Pr[rs])&(Kt|jt))for(var Es=rs;Es>=0&&pt(Pr[Es])&ft;Es--)Nr[Es]=on.level}}return{levels:Nr,paragraphs:en};function qs(ys,_s){for(var Yn=ys;Yn<Pr.length;Yn++){var Ps=zr[Yn];if(Ps&(wt|Vt))return 1;if(Ps&(jt|Lt)||_s&&Ps===pr)return 0;if(Ps&st){var Ro=to(Yn);Yn=Ro===-1?Pr.length:Ro}}return 0}function to(ys){for(var _s=1,Yn=ys+1;Yn<Pr.length;Yn++){var Ps=zr[Yn];if(Ps&jt)break;if(Ps&pr){if(--_s===0)return Yn}else Ps&st&&_s++}return-1}function Ds(ys){return Nr[ys]&1?wt:Lt}}var mr="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Er;function ur(){if(!Er){var Pr=At(mr,!0),Xr=Pr.map,Zr=Pr.reverseMap;Zr.forEach(function(zr,cr){Xr.set(cr,zr)}),Er=Xr}}function xr(Pr){return ur(),Er.get(Pr)||null}function Ar(Pr,Xr,Zr,zr){var cr=Pr.length;Zr=Math.max(0,Zr==null?0:+Zr),zr=Math.min(cr-1,zr==null?cr-1:+zr);for(var ar=new Map,Tr=Zr;Tr<=zr;Tr++)if(Xr[Tr]&1){var Nr=xr(Pr[Tr]);Nr!==null&&ar.set(Tr,Nr)}return ar}function Br(Pr,Xr,Zr,zr){var cr=Pr.length;Zr=Math.max(0,Zr==null?0:+Zr),zr=Math.min(cr-1,zr==null?cr-1:+zr);var ar=[];return Xr.paragraphs.forEach(function(Tr){var Nr=Math.max(Zr,Tr.start),Qr=Math.min(zr,Tr.end);if(Nr<Qr){for(var en=Xr.levels.slice(Nr,Qr+1),on=Qr;on>=Nr&&pt(Pr[on])&ft;on--)en[on]=Tr.level;for(var rn=Tr.level,Vr=1/0,ln=0;ln<en.length;ln++){var br=en[ln];br>rn&&(rn=br),br<Vr&&(Vr=br|1)}for(var Gr=rn;Gr>=Vr;Gr--)for(var Kr=0;Kr<en.length;Kr++)if(en[Kr]>=Gr){for(var Wr=Kr;Kr+1<en.length&&en[Kr+1]>=Gr;)Kr++;Kr>Wr&&ar.push([Wr+Zr,Kr+Zr])}}}),ar}function kr(Pr,Xr,Zr,zr){var cr=nn(Pr,Xr,Zr,zr),ar=[].concat(Pr);return cr.forEach(function(Tr,Nr){ar[Nr]=(Xr.levels[Tr]&1?xr(Pr[Tr]):null)||Pr[Tr]}),ar.join("")}function nn(Pr,Xr,Zr,zr){for(var cr=Br(Pr,Xr,Zr,zr),ar=[],Tr=0;Tr<Pr.length;Tr++)ar[Tr]=Tr;return cr.forEach(function(Nr){for(var Qr=Nr[0],en=Nr[1],on=ar.slice(Qr,en+1),rn=on.length;rn--;)ar[en-rn]=on[rn]}),ar}return _e.closingToOpeningBracket=Bt,_e.getBidiCharType=pt,_e.getBidiCharTypeName=vt,_e.getCanonicalBracket=Ft,_e.getEmbeddingLevels=_r,_e.getMirroredCharacter=xr,_e.getMirroredCharactersMap=Ar,_e.getReorderSegments=Br,_e.getReorderedIndices=nn,_e.getReorderedString=kr,_e.openingToClosingBracket=Rt,Object.defineProperty(_e,"__esModule",{value:!0}),_e}({});return et}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(et){const _e=/^[ \t]*#include +<([\w\d./]+)>/gm;function tt(rt,nt){let st=ShaderChunk[nt];return st?expandShaderIncludes(st):rt}return et.replace(_e,tt)}const _lut=[];for(let et=0;et<256;et++)_lut[et]=(et<16?"0":"")+et.toString(16);function generateUUID(){const et=Math.random()*4294967295|0,_e=Math.random()*4294967295|0,tt=Math.random()*4294967295|0,rt=Math.random()*4294967295|0;return(_lut[et&255]+_lut[et>>8&255]+_lut[et>>16&255]+_lut[et>>24&255]+"-"+_lut[_e&255]+_lut[_e>>8&255]+"-"+_lut[_e>>16&15|64]+_lut[_e>>24&255]+"-"+_lut[tt&63|128]+_lut[tt>>8&255]+"-"+_lut[tt>>16&255]+_lut[tt>>24&255]+_lut[rt&255]+_lut[rt>>8&255]+_lut[rt>>16&255]+_lut[rt>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let et=arguments[0];for(let _e=1,tt=arguments.length;_e<tt;_e++){let rt=arguments[_e];if(rt)for(let nt in rt)rt.hasOwnProperty(nt)&&(et[nt]=rt[nt])}return et},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(et,_e){const tt=getKeyForOptions(_e);let rt=CONSTRUCTOR_CACHE.get(et);if(rt||CONSTRUCTOR_CACHE.set(et,rt=Object.create(null)),rt[tt])return new rt[tt];const nt=`_onBeforeCompile${tt}`,st=function(ft){et.onBeforeCompile.call(this,ft);const dt=this.customProgramCacheKey()+"|"+ft.vertexShader+"|"+ft.fragmentShader;let gt=SHADER_UPGRADE_CACHE[dt];if(!gt){const pt=upgradeShaders(ft,_e,tt);gt=SHADER_UPGRADE_CACHE[dt]=pt}ft.vertexShader=gt.vertexShader,ft.fragmentShader=gt.fragmentShader,assign$1(ft.uniforms,this.uniforms),_e.timeUniform&&(ft.uniforms[_e.timeUniform]={get value(){return Date.now()-epoch}}),this[nt]&&this[nt](ft)},ot=function(){return at(_e.chained?et:et.clone())},at=function(ft){const dt=Object.create(ft,lt);return Object.defineProperty(dt,"baseMaterial",{value:et}),Object.defineProperty(dt,"id",{value:materialInstanceId++}),dt.uuid=generateUUID(),dt.uniforms=assign$1({},ft.uniforms,_e.uniforms),dt.defines=assign$1({},ft.defines,_e.defines),dt.defines[`TROIKA_DERIVED_MATERIAL_${tt}`]="",dt.extensions=assign$1({},ft.extensions,_e.extensions),dt._listeners=void 0,dt},lt={constructor:{value:ot},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return et.customProgramCacheKey()+"|"+tt}},onBeforeCompile:{get(){return st},set(ft){this[nt]=ft}},copy:{writable:!0,configurable:!0,value:function(ft){return et.copy.call(this,ft),!et.isShaderMaterial&&!et.isDerivedMaterial&&(assign$1(this.extensions,ft.extensions),assign$1(this.defines,ft.defines),assign$1(this.uniforms,UniformsUtils.clone(ft.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const ft=new et.constructor;return at(ft).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let ft=this._depthMaterial;return ft||(ft=this._depthMaterial=createDerivedMaterial(et.isDerivedMaterial?et.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),_e),ft.defines.IS_DEPTH_MATERIAL="",ft.uniforms=this.uniforms),ft}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let ft=this._distanceMaterial;return ft||(ft=this._distanceMaterial=createDerivedMaterial(et.isDerivedMaterial?et.getDistanceMaterial():new MeshDistanceMaterial,_e),ft.defines.IS_DISTANCE_MATERIAL="",ft.uniforms=this.uniforms),ft}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:ft,_distanceMaterial:dt}=this;ft&&ft.dispose(),dt&&dt.dispose(),et.dispose.call(this)}}};return rt[tt]=ot,new ot}function upgradeShaders({vertexShader:et,fragmentShader:_e},tt,rt){let{vertexDefs:nt,vertexMainIntro:st,vertexMainOutro:ot,vertexTransform:at,fragmentDefs:lt,fragmentMainIntro:ft,fragmentMainOutro:dt,fragmentColorTransform:gt,customRewriter:pt,timeUniform:vt}=tt;if(nt=nt||"",st=st||"",ot=ot||"",lt=lt||"",ft=ft||"",dt=dt||"",(at||pt)&&(et=expandShaderIncludes(et)),(gt||pt)&&(_e=_e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),_e=expandShaderIncludes(_e)),pt){let St=pt({vertexShader:et,fragmentShader:_e});et=St.vertexShader,_e=St.fragmentShader}if(gt){let St=[];_e=_e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,At=>(St.push(At),"")),dt=`${gt}
${St.join(`
`)}
${dt}`}if(vt){const St=`
uniform float ${vt};
`;nt=St+nt,lt=St+lt}return at&&(et=`vec3 troika_position_${rt};
vec3 troika_normal_${rt};
vec2 troika_uv_${rt};
${et}
`,nt=`${nt}
void troikaVertexTransform${rt}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${at}
}
`,st=`
troika_position_${rt} = vec3(position);
troika_normal_${rt} = vec3(normal);
troika_uv_${rt} = vec2(uv);
troikaVertexTransform${rt}(troika_position_${rt}, troika_normal_${rt}, troika_uv_${rt});
${st}
`,et=et.replace(/\b(position|normal|uv)\b/g,(St,At,Tt,Ct)=>/\battribute\s+vec[23]\s+$/.test(Ct.substr(0,Tt))?At:`troika_${At}_${rt}`)),et=injectIntoShaderCode(et,rt,nt,st,ot),_e=injectIntoShaderCode(_e,rt,lt,ft,dt),{vertexShader:et,fragmentShader:_e}}function injectIntoShaderCode(et,_e,tt,rt,nt){return(rt||nt||tt)&&(et=et.replace(voidMainRegExp,`
${tt}
void troikaOrigMain${_e}() {`),et+=`
void main() {
  ${rt}
  troikaOrigMain${_e}();
  ${nt}
}`),et}function optionsJsonReplacer(et,_e){return et==="uniforms"?void 0:typeof _e=="function"?_e.toString():_e}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(et){const _e=JSON.stringify(et,optionsJsonReplacer);let tt=optionsHashesToIds.get(_e);return tt==null&&optionsHashesToIds.set(_e,tt=++_idCtr),tt}function createTypesetter(et,_e,tt){const{defaultFontURL:rt}=tt,nt=Object.create(null),st=1/0,ot=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,at="[^\\S\\u00A0]",lt=new RegExp(`${at}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function ft(Mt,Et){function Rt(){const Bt=Ft=>{console.error(`Failure loading font ${Mt}${Mt===rt?"":"; trying fallback"}`,Ft),Mt!==rt&&(Mt=rt,Rt())};try{const Ft=new XMLHttpRequest;Ft.open("get",Mt,!0),Ft.responseType="arraybuffer",Ft.onload=function(){if(Ft.status>=400)Bt(new Error(Ft.statusText));else if(Ft.status>0)try{const Lt=et(Ft.response);Et(Lt)}catch(Lt){Bt(Lt)}},Ft.onerror=Bt,Ft.send()}catch(Ft){Bt(Ft)}}Rt()}function dt(Mt,Et){Mt||(Mt=rt);let Rt=nt[Mt];Rt?Rt.pending?Rt.pending.push(Et):Et(Rt):(nt[Mt]={pending:[Et]},ft(Mt,Bt=>{let Ft=nt[Mt].pending;nt[Mt]=Bt,Ft.forEach(Lt=>Lt(Bt))}))}function gt({text:Mt="",font:Et=rt,sdfGlyphSize:Rt=64,fontSize:Bt=1,letterSpacing:Ft=0,lineHeight:Lt="normal",maxWidth:wt=st,direction:Dt,textAlign:Ot="left",textIndent:Ut=0,whiteSpace:zt="normal",overflowWrap:tr="normal",anchorX:jt=0,anchorY:Kt=0,includeCaretPositions:qt=!1,chunkedBoundsSize:er=8192,colorRanges:kt=null},Vt,Zt=!1){const Wt=At(),nr={fontLoad:0,typesetting:0};Mt.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),Mt=Mt.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),Bt=+Bt,Ft=+Ft,wt=+wt,Lt=Lt||"normal",Ut=+Ut,dt(Et,sr=>{const lr=isFinite(wt);let dr=null,hr=null,wr=null,pr=null,_r=null,mr=null,Er=null,ur=0,xr=0,Ar=zt!=="nowrap";const{ascender:Br,descender:kr,unitsPerEm:nn,lineGap:Pr,capHeight:Xr,xHeight:Zr}=sr;nr.fontLoad=At()-Wt;const zr=At(),cr=Bt/nn;Lt==="normal"&&(Lt=(Br-kr+Pr)/nn),Lt=Lt*Bt;const ar=(Lt-(Br-kr)*cr)/2,Tr=-(Br*cr+ar),Nr=Math.min(Lt,(Br-kr)*cr),Qr=(Br+kr)/2*cr-Nr/2;let en=Ut,on=new Tt;const rn=[on];sr.forEachGlyph(Mt,Bt,Ft,(br,Gr,Kr)=>{const Wr=Mt.charAt(Kr),an=br.advanceWidth*cr,gn=on.count;let Cn;if("isEmpty"in br||(br.isWhitespace=!!Wr&&new RegExp(at).test(Wr),br.canBreakAfter=!!Wr&&lt.test(Wr),br.isEmpty=br.xMin===br.xMax||br.yMin===br.yMax||ot.test(Wr)),!br.isWhitespace&&!br.isEmpty&&xr++,Ar&&lr&&!br.isWhitespace&&Gr+an+en>wt&&gn){if(on.glyphAt(gn-1).glyphObj.canBreakAfter)Cn=new Tt,en=-Gr;else for(let Ur=gn;Ur--;)if(Ur===0&&tr==="break-word"){Cn=new Tt,en=-Gr;break}else if(on.glyphAt(Ur).glyphObj.canBreakAfter){Cn=on.splitAt(Ur+1);const tn=Cn.glyphAt(0).x;en-=tn;for(let fn=Cn.count;fn--;)Cn.glyphAt(fn).x-=tn;break}Cn&&(on.isSoftWrapped=!0,on=Cn,rn.push(on),ur=wt)}let Cr=on.glyphAt(on.count);Cr.glyphObj=br,Cr.x=Gr+en,Cr.width=an,Cr.charIndex=Kr,Wr===`
`&&(on=new Tt,rn.push(on),en=-(Gr+an+Ft*Bt)+Ut)}),rn.forEach(br=>{for(let Gr=br.count;Gr--;){let{glyphObj:Kr,x:Wr,width:an}=br.glyphAt(Gr);if(!Kr.isWhitespace){br.width=Wr+an,br.width>ur&&(ur=br.width);return}}});let Vr=0,ln=0;if(jt&&(typeof jt=="number"?Vr=-jt:typeof jt=="string"&&(Vr=-ur*(jt==="left"?0:jt==="center"?.5:jt==="right"?1:vt(jt)))),Kt){if(typeof Kt=="number")ln=-Kt;else if(typeof Kt=="string"){let br=rn.length*Lt;ln=Kt==="top"?0:Kt==="top-baseline"?-Tr:Kt==="top-cap"?-Tr-Xr*cr:Kt==="top-ex"?-Tr-Zr*cr:Kt==="middle"?br/2:Kt==="bottom"?br:Kt==="bottom-baseline"?br-ar+kr*cr:vt(Kt)*br}}if(!Zt){const br=_e.getEmbeddingLevels(Mt,Dt);dr=new Uint16Array(xr),hr=new Float32Array(xr*2),wr={},mr=[st,st,-st,-st],Er=[];let Gr=Tr;qt&&(_r=new Float32Array(Mt.length*3)),kt&&(pr=new Uint8Array(xr*3));let Kr=0,Wr=-1,an=-1,gn,Cn;if(rn.forEach((Cr,Ur)=>{let{count:tn,width:fn}=Cr;if(tn>0){let mn=0;for(let Kn=tn;Kn--&&Cr.glyphAt(Kn).glyphObj.isWhitespace;)mn++;let Mn=0,Hn=0;if(Ot==="center")Mn=(ur-fn)/2;else if(Ot==="right")Mn=ur-fn;else if(Ot==="justify"&&Cr.isSoftWrapped){let Kn=0;for(let Vn=tn-mn;Vn--;)Cr.glyphAt(Vn).glyphObj.isWhitespace&&Kn++;Hn=(ur-fn)/Kn}if(Hn||Mn){let Kn=0;for(let Vn=0;Vn<tn;Vn++){let Ls=Cr.glyphAt(Vn);const ws=Ls.glyphObj;Ls.x+=Mn+Kn,Hn!==0&&ws.isWhitespace&&Vn<tn-mn&&(Kn+=Hn,Ls.width+=Hn)}}const Wn=_e.getReorderSegments(Mt,br,Cr.glyphAt(0).charIndex,Cr.glyphAt(Cr.count-1).charIndex);for(let Kn=0;Kn<Wn.length;Kn++){const[Vn,Ls]=Wn[Kn];let ws=1/0,qn=-1/0;for(let ls=0;ls<tn;ls++)if(Cr.glyphAt(ls).charIndex>=Vn){let gr=ls,Dr=ls;for(;Dr<tn;Dr++){let jr=Cr.glyphAt(Dr);if(jr.charIndex>Ls)break;Dr<tn-mn&&(ws=Math.min(ws,jr.x),qn=Math.max(qn,jr.x+jr.width))}for(let jr=gr;jr<Dr;jr++){const Fr=Cr.glyphAt(jr);Fr.x=qn-(Fr.x+Fr.width-ws)}break}}let $n;const Un=Kn=>$n=Kn;for(let Kn=0;Kn<tn;Kn++){let Vn=Cr.glyphAt(Kn);$n=Vn.glyphObj;const Ls=$n.index,ws=br.levels[Vn.charIndex]&1;if(ws){const qn=_e.getMirroredCharacter(Mt[Vn.charIndex]);qn&&sr.forEachGlyph(qn,0,0,Un)}if(qt){const{charIndex:qn}=Vn,ls=Vn.x+Vr,gr=Vn.x+Vn.width+Vr;_r[qn*3]=ws?gr:ls,_r[qn*3+1]=ws?ls:gr,_r[qn*3+2]=Gr+Qr+ln;const Dr=qn-Wr;Dr>1&&St(_r,Wr,Dr),Wr=qn}if(kt){const{charIndex:qn}=Vn;for(;qn>an;)an++,kt.hasOwnProperty(an)&&(Cn=kt[an])}if(!$n.isWhitespace&&!$n.isEmpty){const qn=Kr++;wr[Ls]||(wr[Ls]={path:$n.path,pathBounds:[$n.xMin,$n.yMin,$n.xMax,$n.yMax]});const ls=Vn.x+Vr,gr=Gr+ln;hr[qn*2]=ls,hr[qn*2+1]=gr;const Dr=ls+$n.xMin*cr,jr=gr+$n.yMin*cr,Fr=ls+$n.xMax*cr,Jr=gr+$n.yMax*cr;Dr<mr[0]&&(mr[0]=Dr),jr<mr[1]&&(mr[1]=jr),Fr>mr[2]&&(mr[2]=Fr),Jr>mr[3]&&(mr[3]=Jr),qn%er===0&&(gn={start:qn,end:qn,rect:[st,st,-st,-st]},Er.push(gn)),gn.end++;const vn=gn.rect;if(Dr<vn[0]&&(vn[0]=Dr),jr<vn[1]&&(vn[1]=jr),Fr>vn[2]&&(vn[2]=Fr),Jr>vn[3]&&(vn[3]=Jr),dr[qn]=Ls,kt){const En=qn*3;pr[En]=Cn>>16&255,pr[En+1]=Cn>>8&255,pr[En+2]=Cn&255}}}}Gr-=Lt}),_r){const Cr=Mt.length-Wr;Cr>1&&St(_r,Wr,Cr)}}nr.typesetting=At()-zr,Vt({glyphIds:dr,glyphPositions:hr,glyphData:wr,caretPositions:_r,caretHeight:Nr,glyphColors:pr,chunkedBounds:Er,fontSize:Bt,unitsPerEm:nn,ascender:Br*cr,descender:kr*cr,capHeight:Xr*cr,xHeight:Zr*cr,lineHeight:Lt,topBaseline:Tr,blockBounds:[Vr,ln-rn.length*Lt,Vr+ur,ln],visibleBounds:mr,timings:nr})})}function pt(Mt,Et){gt(Mt,Rt=>{const[Bt,Ft,Lt,wt]=Rt.blockBounds;Et({width:Lt-Bt,height:wt-Ft})},{metricsOnly:!0})}function vt(Mt){let Et=Mt.match(/^([\d.]+)%$/),Rt=Et?parseFloat(Et[1]):NaN;return isNaN(Rt)?0:Rt/100}function St(Mt,Et,Rt){const Bt=Mt[Et*3],Ft=Mt[Et*3+1],Lt=Mt[Et*3+2],wt=(Ft-Bt)/Rt;for(let Dt=0;Dt<Rt;Dt++){const Ot=(Et+Dt)*3;Mt[Ot]=Bt+wt*Dt,Mt[Ot+1]=Bt+wt*(Dt+1),Mt[Ot+2]=Lt}}function At(){return(self.performance||Date).now()}function Tt(){this.data=[]}const Ct=["glyphObj","x","width","charIndex"];return Tt.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/Ct.length)},glyphAt(Mt){let Et=Tt.flyweight;return Et.data=this.data,Et.index=Mt,Et},splitAt(Mt){let Et=new Tt;return Et.data=this.data.splice(Mt*Ct.length),Et}},Tt.flyweight=Ct.reduce((Mt,Et,Rt,Bt)=>(Object.defineProperty(Mt,Et,{get(){return this.data[this.index*Ct.length+Rt]},set(Ft){this.data[this.index*Ct.length+Rt]=Ft}}),Mt),{data:null,index:0}),{typeset:gt,measure:pt,loadFont:dt}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(et,_e,tt,rt,nt,st,ot,at,lt,ft,dt=!0){return dt?generateSDF_GL(et,_e,tt,rt,nt,st,ot,at,lt,ft).then(null,gt=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",gt),warned=!0),generateSDF_JS_Worker(et,_e,tt,rt,nt,st,ot,at,lt,ft))):generateSDF_JS_Worker(et,_e,tt,rt,nt,st,ot,at,lt,ft)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const et=now();for(;queue.length&&now()-et<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...et)=>new Promise((_e,tt)=>{queue.push(()=>{const rt=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...et),_e({timing:now()-rt})}catch(nt){tt(nt)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(et,_e,tt,rt,nt,st,ot,at,lt,ft){const dt="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let gt=threads[dt];return gt||(gt=threads[dt]={workerModule:defineWorkerModule({name:dt,workerId:dt,dependencies:[SDFGenerator,now],init(pt,vt){const St=pt().javascript.generate;return function(...At){const Tt=vt();return{textureData:St(...At),timing:vt()-Tt}}},getTransferables(pt){return[pt.textureData.buffer]}}),requests:0,idleTimer:null}),gt.requests++,clearTimeout(gt.idleTimer),gt.workerModule(et,_e,tt,rt,nt,st).then(({textureData:pt,timing:vt})=>{const St=now(),At=new Uint8Array(pt.length*4);for(let Tt=0;Tt<pt.length;Tt++)At[Tt*4+ft]=pt[Tt];return mainThreadGenerator.webglUtils.renderImageData(ot,At,at,lt,et,_e,1<<3-ft),vt+=now()-St,--gt.requests===0&&(gt.idleTimer=setTimeout(()=>{terminateWorker(dt)},idleTimeout)),{timing:vt}})}function warmUpSDFCanvas(et){et._warm||(mainThreadGenerator.webgl.isSupported(et),et._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(et){var _e={parse:function(nt){var st=_e._bin,ot=new Uint8Array(nt);if(st.readASCII(ot,0,4)=="ttcf"){var at=4;st.readUshort(ot,at),at+=2,st.readUshort(ot,at),at+=2;var lt=st.readUint(ot,at);at+=4;for(var ft=[],dt=0;dt<lt;dt++){var gt=st.readUint(ot,at);at+=4,ft.push(_e._readFont(ot,gt))}return ft}return[_e._readFont(ot,0)]},_readFont:function(nt,st){var ot=_e._bin,at=st;ot.readFixed(nt,st),st+=4;var lt=ot.readUshort(nt,st);st+=2,ot.readUshort(nt,st),st+=2,ot.readUshort(nt,st),st+=2,ot.readUshort(nt,st),st+=2;for(var ft=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],dt={_data:nt,_offset:at},gt={},pt=0;pt<lt;pt++){var vt=ot.readASCII(nt,st,4);st+=4,ot.readUint(nt,st),st+=4;var St=ot.readUint(nt,st);st+=4;var At=ot.readUint(nt,st);st+=4,gt[vt]={offset:St,length:At}}for(pt=0;pt<ft.length;pt++){var Tt=ft[pt];gt[Tt]&&(dt[Tt.trim()]=_e[Tt.trim()].parse(nt,gt[Tt].offset,gt[Tt].length,dt))}return dt},_tabOffset:function(nt,st,ot){for(var at=_e._bin,lt=at.readUshort(nt,ot+4),ft=ot+12,dt=0;dt<lt;dt++){var gt=at.readASCII(nt,ft,4);ft+=4,at.readUint(nt,ft),ft+=4;var pt=at.readUint(nt,ft);if(ft+=4,at.readUint(nt,ft),ft+=4,gt==st)return pt}return 0}};_e._bin={readFixed:function(nt,st){return(nt[st]<<8|nt[st+1])+(nt[st+2]<<8|nt[st+3])/65540},readF2dot14:function(nt,st){return _e._bin.readShort(nt,st)/16384},readInt:function(nt,st){return _e._bin._view(nt).getInt32(st)},readInt8:function(nt,st){return _e._bin._view(nt).getInt8(st)},readShort:function(nt,st){return _e._bin._view(nt).getInt16(st)},readUshort:function(nt,st){return _e._bin._view(nt).getUint16(st)},readUshorts:function(nt,st,ot){for(var at=[],lt=0;lt<ot;lt++)at.push(_e._bin.readUshort(nt,st+2*lt));return at},readUint:function(nt,st){return _e._bin._view(nt).getUint32(st)},readUint64:function(nt,st){return 4294967296*_e._bin.readUint(nt,st)+_e._bin.readUint(nt,st+4)},readASCII:function(nt,st,ot){for(var at="",lt=0;lt<ot;lt++)at+=String.fromCharCode(nt[st+lt]);return at},readUnicode:function(nt,st,ot){for(var at="",lt=0;lt<ot;lt++){var ft=nt[st++]<<8|nt[st++];at+=String.fromCharCode(ft)}return at},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(nt,st,ot){var at=_e._bin._tdec;return at&&st==0&&ot==nt.length?at.decode(nt):_e._bin.readASCII(nt,st,ot)},readBytes:function(nt,st,ot){for(var at=[],lt=0;lt<ot;lt++)at.push(nt[st+lt]);return at},readASCIIArray:function(nt,st,ot){for(var at=[],lt=0;lt<ot;lt++)at.push(String.fromCharCode(nt[st+lt]));return at},_view:function(nt){return nt._dataView||(nt._dataView=nt.buffer?new DataView(nt.buffer,nt.byteOffset,nt.byteLength):new DataView(new Uint8Array(nt).buffer))}},_e._lctf={},_e._lctf.parse=function(nt,st,ot,at,lt){var ft=_e._bin,dt={},gt=st;ft.readFixed(nt,st),st+=4;var pt=ft.readUshort(nt,st);st+=2;var vt=ft.readUshort(nt,st);st+=2;var St=ft.readUshort(nt,st);return st+=2,dt.scriptList=_e._lctf.readScriptList(nt,gt+pt),dt.featureList=_e._lctf.readFeatureList(nt,gt+vt),dt.lookupList=_e._lctf.readLookupList(nt,gt+St,lt),dt},_e._lctf.readLookupList=function(nt,st,ot){var at=_e._bin,lt=st,ft=[],dt=at.readUshort(nt,st);st+=2;for(var gt=0;gt<dt;gt++){var pt=at.readUshort(nt,st);st+=2;var vt=_e._lctf.readLookupTable(nt,lt+pt,ot);ft.push(vt)}return ft},_e._lctf.readLookupTable=function(nt,st,ot){var at=_e._bin,lt=st,ft={tabs:[]};ft.ltype=at.readUshort(nt,st),st+=2,ft.flag=at.readUshort(nt,st),st+=2;var dt=at.readUshort(nt,st);st+=2;for(var gt=ft.ltype,pt=0;pt<dt;pt++){var vt=at.readUshort(nt,st);st+=2;var St=ot(nt,gt,lt+vt,ft);ft.tabs.push(St)}return ft},_e._lctf.numOfOnes=function(nt){for(var st=0,ot=0;ot<32;ot++)nt>>>ot&1&&st++;return st},_e._lctf.readClassDef=function(nt,st){var ot=_e._bin,at=[],lt=ot.readUshort(nt,st);if(st+=2,lt==1){var ft=ot.readUshort(nt,st);st+=2;var dt=ot.readUshort(nt,st);st+=2;for(var gt=0;gt<dt;gt++)at.push(ft+gt),at.push(ft+gt),at.push(ot.readUshort(nt,st)),st+=2}if(lt==2){var pt=ot.readUshort(nt,st);for(st+=2,gt=0;gt<pt;gt++)at.push(ot.readUshort(nt,st)),st+=2,at.push(ot.readUshort(nt,st)),st+=2,at.push(ot.readUshort(nt,st)),st+=2}return at},_e._lctf.getInterval=function(nt,st){for(var ot=0;ot<nt.length;ot+=3){var at=nt[ot],lt=nt[ot+1];if(nt[ot+2],at<=st&&st<=lt)return ot}return-1},_e._lctf.readCoverage=function(nt,st){var ot=_e._bin,at={};at.fmt=ot.readUshort(nt,st),st+=2;var lt=ot.readUshort(nt,st);return st+=2,at.fmt==1&&(at.tab=ot.readUshorts(nt,st,lt)),at.fmt==2&&(at.tab=ot.readUshorts(nt,st,3*lt)),at},_e._lctf.coverageIndex=function(nt,st){var ot=nt.tab;if(nt.fmt==1)return ot.indexOf(st);if(nt.fmt==2){var at=_e._lctf.getInterval(ot,st);if(at!=-1)return ot[at+2]+(st-ot[at])}return-1},_e._lctf.readFeatureList=function(nt,st){var ot=_e._bin,at=st,lt=[],ft=ot.readUshort(nt,st);st+=2;for(var dt=0;dt<ft;dt++){var gt=ot.readASCII(nt,st,4);st+=4;var pt=ot.readUshort(nt,st);st+=2;var vt=_e._lctf.readFeatureTable(nt,at+pt);vt.tag=gt.trim(),lt.push(vt)}return lt},_e._lctf.readFeatureTable=function(nt,st){var ot=_e._bin,at=st,lt={},ft=ot.readUshort(nt,st);st+=2,ft>0&&(lt.featureParams=at+ft);var dt=ot.readUshort(nt,st);st+=2,lt.tab=[];for(var gt=0;gt<dt;gt++)lt.tab.push(ot.readUshort(nt,st+2*gt));return lt},_e._lctf.readScriptList=function(nt,st){var ot=_e._bin,at=st,lt={},ft=ot.readUshort(nt,st);st+=2;for(var dt=0;dt<ft;dt++){var gt=ot.readASCII(nt,st,4);st+=4;var pt=ot.readUshort(nt,st);st+=2,lt[gt.trim()]=_e._lctf.readScriptTable(nt,at+pt)}return lt},_e._lctf.readScriptTable=function(nt,st){var ot=_e._bin,at=st,lt={},ft=ot.readUshort(nt,st);st+=2,lt.default=_e._lctf.readLangSysTable(nt,at+ft);var dt=ot.readUshort(nt,st);st+=2;for(var gt=0;gt<dt;gt++){var pt=ot.readASCII(nt,st,4);st+=4;var vt=ot.readUshort(nt,st);st+=2,lt[pt.trim()]=_e._lctf.readLangSysTable(nt,at+vt)}return lt},_e._lctf.readLangSysTable=function(nt,st){var ot=_e._bin,at={};ot.readUshort(nt,st),st+=2,at.reqFeature=ot.readUshort(nt,st),st+=2;var lt=ot.readUshort(nt,st);return st+=2,at.features=ot.readUshorts(nt,st,lt),at},_e.CFF={},_e.CFF.parse=function(nt,st,ot){var at=_e._bin;(nt=new Uint8Array(nt.buffer,st,ot))[st=0],nt[++st],nt[++st],nt[++st],st++;var lt=[];st=_e.CFF.readIndex(nt,st,lt);for(var ft=[],dt=0;dt<lt.length-1;dt++)ft.push(at.readASCII(nt,st+lt[dt],lt[dt+1]-lt[dt]));st+=lt[lt.length-1];var gt=[];st=_e.CFF.readIndex(nt,st,gt);var pt=[];for(dt=0;dt<gt.length-1;dt++)pt.push(_e.CFF.readDict(nt,st+gt[dt],st+gt[dt+1]));st+=gt[gt.length-1];var vt=pt[0],St=[];st=_e.CFF.readIndex(nt,st,St);var At=[];for(dt=0;dt<St.length-1;dt++)At.push(at.readASCII(nt,st+St[dt],St[dt+1]-St[dt]));if(st+=St[St.length-1],_e.CFF.readSubrs(nt,st,vt),vt.CharStrings){st=vt.CharStrings,St=[],st=_e.CFF.readIndex(nt,st,St);var Tt=[];for(dt=0;dt<St.length-1;dt++)Tt.push(at.readBytes(nt,st+St[dt],St[dt+1]-St[dt]));vt.CharStrings=Tt}if(vt.ROS){st=vt.FDArray;var Ct=[];for(st=_e.CFF.readIndex(nt,st,Ct),vt.FDArray=[],dt=0;dt<Ct.length-1;dt++){var Mt=_e.CFF.readDict(nt,st+Ct[dt],st+Ct[dt+1]);_e.CFF._readFDict(nt,Mt,At),vt.FDArray.push(Mt)}st+=Ct[Ct.length-1],st=vt.FDSelect,vt.FDSelect=[];var Et=nt[st];if(st++,Et!=3)throw Et;var Rt=at.readUshort(nt,st);for(st+=2,dt=0;dt<Rt+1;dt++)vt.FDSelect.push(at.readUshort(nt,st),nt[st+2]),st+=3}return vt.Encoding&&(vt.Encoding=_e.CFF.readEncoding(nt,vt.Encoding,vt.CharStrings.length)),vt.charset&&(vt.charset=_e.CFF.readCharset(nt,vt.charset,vt.CharStrings.length)),_e.CFF._readFDict(nt,vt,At),vt},_e.CFF._readFDict=function(nt,st,ot){var at;for(var lt in st.Private&&(at=st.Private[1],st.Private=_e.CFF.readDict(nt,at,at+st.Private[0]),st.Private.Subrs&&_e.CFF.readSubrs(nt,at+st.Private.Subrs,st.Private)),st)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(lt)!=-1&&(st[lt]=ot[st[lt]-426+35])},_e.CFF.readSubrs=function(nt,st,ot){var at=_e._bin,lt=[];st=_e.CFF.readIndex(nt,st,lt);var ft,dt=lt.length;ft=dt<1240?107:dt<33900?1131:32768,ot.Bias=ft,ot.Subrs=[];for(var gt=0;gt<lt.length-1;gt++)ot.Subrs.push(at.readBytes(nt,st+lt[gt],lt[gt+1]-lt[gt]))},_e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],_e.CFF.glyphByUnicode=function(nt,st){for(var ot=0;ot<nt.charset.length;ot++)if(nt.charset[ot]==st)return ot;return-1},_e.CFF.glyphBySE=function(nt,st){return st<0||st>255?-1:_e.CFF.glyphByUnicode(nt,_e.CFF.tableSE[st])},_e.CFF.readEncoding=function(nt,st,ot){_e._bin;var at=[".notdef"],lt=nt[st];if(st++,lt!=0)throw"error: unknown encoding format: "+lt;var ft=nt[st];st++;for(var dt=0;dt<ft;dt++)at.push(nt[st+dt]);return at},_e.CFF.readCharset=function(nt,st,ot){var at=_e._bin,lt=[".notdef"],ft=nt[st];if(st++,ft==0)for(var dt=0;dt<ot;dt++){var gt=at.readUshort(nt,st);st+=2,lt.push(gt)}else{if(ft!=1&&ft!=2)throw"error: format: "+ft;for(;lt.length<ot;){gt=at.readUshort(nt,st),st+=2;var pt=0;for(ft==1?(pt=nt[st],st++):(pt=at.readUshort(nt,st),st+=2),dt=0;dt<=pt;dt++)lt.push(gt),gt++}}return lt},_e.CFF.readIndex=function(nt,st,ot){var at=_e._bin,lt=at.readUshort(nt,st)+1,ft=nt[st+=2];if(st++,ft==1)for(var dt=0;dt<lt;dt++)ot.push(nt[st+dt]);else if(ft==2)for(dt=0;dt<lt;dt++)ot.push(at.readUshort(nt,st+2*dt));else if(ft==3)for(dt=0;dt<lt;dt++)ot.push(16777215&at.readUint(nt,st+3*dt-1));else if(lt!=1)throw"unsupported offset size: "+ft+", count: "+lt;return(st+=lt*ft)-1},_e.CFF.getCharString=function(nt,st,ot){var at=_e._bin,lt=nt[st],ft=nt[st+1];nt[st+2],nt[st+3],nt[st+4];var dt=1,gt=null,pt=null;lt<=20&&(gt=lt,dt=1),lt==12&&(gt=100*lt+ft,dt=2),21<=lt&&lt<=27&&(gt=lt,dt=1),lt==28&&(pt=at.readShort(nt,st+1),dt=3),29<=lt&&lt<=31&&(gt=lt,dt=1),32<=lt&&lt<=246&&(pt=lt-139,dt=1),247<=lt&&lt<=250&&(pt=256*(lt-247)+ft+108,dt=2),251<=lt&&lt<=254&&(pt=256*-(lt-251)-ft-108,dt=2),lt==255&&(pt=at.readInt(nt,st+1)/65535,dt=5),ot.val=pt??"o"+gt,ot.size=dt},_e.CFF.readCharString=function(nt,st,ot){for(var at=st+ot,lt=_e._bin,ft=[];st<at;){var dt=nt[st],gt=nt[st+1];nt[st+2],nt[st+3],nt[st+4];var pt=1,vt=null,St=null;dt<=20&&(vt=dt,pt=1),dt==12&&(vt=100*dt+gt,pt=2),dt!=19&&dt!=20||(vt=dt,pt=2),21<=dt&&dt<=27&&(vt=dt,pt=1),dt==28&&(St=lt.readShort(nt,st+1),pt=3),29<=dt&&dt<=31&&(vt=dt,pt=1),32<=dt&&dt<=246&&(St=dt-139,pt=1),247<=dt&&dt<=250&&(St=256*(dt-247)+gt+108,pt=2),251<=dt&&dt<=254&&(St=256*-(dt-251)-gt-108,pt=2),dt==255&&(St=lt.readInt(nt,st+1)/65535,pt=5),ft.push(St??"o"+vt),st+=pt}return ft},_e.CFF.readDict=function(nt,st,ot){for(var at=_e._bin,lt={},ft=[];st<ot;){var dt=nt[st],gt=nt[st+1];nt[st+2],nt[st+3],nt[st+4];var pt=1,vt=null,St=null;if(dt==28&&(St=at.readShort(nt,st+1),pt=3),dt==29&&(St=at.readInt(nt,st+1),pt=5),32<=dt&&dt<=246&&(St=dt-139,pt=1),247<=dt&&dt<=250&&(St=256*(dt-247)+gt+108,pt=2),251<=dt&&dt<=254&&(St=256*-(dt-251)-gt-108,pt=2),dt==255)throw St=at.readInt(nt,st+1)/65535,pt=5,"unknown number";if(dt==30){var At=[];for(pt=1;;){var Tt=nt[st+pt];pt++;var Ct=Tt>>4,Mt=15&Tt;if(Ct!=15&&At.push(Ct),Mt!=15&&At.push(Mt),Mt==15)break}for(var Et="",Rt=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],Bt=0;Bt<At.length;Bt++)Et+=Rt[At[Bt]];St=parseFloat(Et)}dt<=21&&(vt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][dt],pt=1,dt==12&&(vt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][gt],pt=2)),vt!=null?(lt[vt]=ft.length==1?ft[0]:ft,ft=[]):ft.push(St),st+=pt}return lt},_e.cmap={},_e.cmap.parse=function(nt,st,ot){nt=new Uint8Array(nt.buffer,st,ot),st=0;var at=_e._bin,lt={};at.readUshort(nt,st),st+=2;var ft=at.readUshort(nt,st);st+=2;var dt=[];lt.tables=[];for(var gt=0;gt<ft;gt++){var pt=at.readUshort(nt,st);st+=2;var vt=at.readUshort(nt,st);st+=2;var St=at.readUint(nt,st);st+=4;var At="p"+pt+"e"+vt,Tt=dt.indexOf(St);if(Tt==-1){var Ct;Tt=lt.tables.length,dt.push(St);var Mt=at.readUshort(nt,St);Mt==0?Ct=_e.cmap.parse0(nt,St):Mt==4?Ct=_e.cmap.parse4(nt,St):Mt==6?Ct=_e.cmap.parse6(nt,St):Mt==12?Ct=_e.cmap.parse12(nt,St):console.debug("unknown format: "+Mt,pt,vt,St),lt.tables.push(Ct)}if(lt[At]!=null)throw"multiple tables for one platform+encoding";lt[At]=Tt}return lt},_e.cmap.parse0=function(nt,st){var ot=_e._bin,at={};at.format=ot.readUshort(nt,st),st+=2;var lt=ot.readUshort(nt,st);st+=2,ot.readUshort(nt,st),st+=2,at.map=[];for(var ft=0;ft<lt-6;ft++)at.map.push(nt[st+ft]);return at},_e.cmap.parse4=function(nt,st){var ot=_e._bin,at=st,lt={};lt.format=ot.readUshort(nt,st),st+=2;var ft=ot.readUshort(nt,st);st+=2,ot.readUshort(nt,st),st+=2;var dt=ot.readUshort(nt,st);st+=2;var gt=dt/2;lt.searchRange=ot.readUshort(nt,st),st+=2,lt.entrySelector=ot.readUshort(nt,st),st+=2,lt.rangeShift=ot.readUshort(nt,st),st+=2,lt.endCount=ot.readUshorts(nt,st,gt),st+=2*gt,st+=2,lt.startCount=ot.readUshorts(nt,st,gt),st+=2*gt,lt.idDelta=[];for(var pt=0;pt<gt;pt++)lt.idDelta.push(ot.readShort(nt,st)),st+=2;for(lt.idRangeOffset=ot.readUshorts(nt,st,gt),st+=2*gt,lt.glyphIdArray=[];st<at+ft;)lt.glyphIdArray.push(ot.readUshort(nt,st)),st+=2;return lt},_e.cmap.parse6=function(nt,st){var ot=_e._bin,at={};at.format=ot.readUshort(nt,st),st+=2,ot.readUshort(nt,st),st+=2,ot.readUshort(nt,st),st+=2,at.firstCode=ot.readUshort(nt,st),st+=2;var lt=ot.readUshort(nt,st);st+=2,at.glyphIdArray=[];for(var ft=0;ft<lt;ft++)at.glyphIdArray.push(ot.readUshort(nt,st)),st+=2;return at},_e.cmap.parse12=function(nt,st){var ot=_e._bin,at={};at.format=ot.readUshort(nt,st),st+=2,st+=2,ot.readUint(nt,st),st+=4,ot.readUint(nt,st),st+=4;var lt=ot.readUint(nt,st);st+=4,at.groups=[];for(var ft=0;ft<lt;ft++){var dt=st+12*ft,gt=ot.readUint(nt,dt+0),pt=ot.readUint(nt,dt+4),vt=ot.readUint(nt,dt+8);at.groups.push([gt,pt,vt])}return at},_e.glyf={},_e.glyf.parse=function(nt,st,ot,at){for(var lt=[],ft=0;ft<at.maxp.numGlyphs;ft++)lt.push(null);return lt},_e.glyf._parseGlyf=function(nt,st){var ot=_e._bin,at=nt._data,lt=_e._tabOffset(at,"glyf",nt._offset)+nt.loca[st];if(nt.loca[st]==nt.loca[st+1])return null;var ft={};if(ft.noc=ot.readShort(at,lt),lt+=2,ft.xMin=ot.readShort(at,lt),lt+=2,ft.yMin=ot.readShort(at,lt),lt+=2,ft.xMax=ot.readShort(at,lt),lt+=2,ft.yMax=ot.readShort(at,lt),lt+=2,ft.xMin>=ft.xMax||ft.yMin>=ft.yMax)return null;if(ft.noc>0){ft.endPts=[];for(var dt=0;dt<ft.noc;dt++)ft.endPts.push(ot.readUshort(at,lt)),lt+=2;var gt=ot.readUshort(at,lt);if(lt+=2,at.length-lt<gt)return null;ft.instructions=ot.readBytes(at,lt,gt),lt+=gt;var pt=ft.endPts[ft.noc-1]+1;for(ft.flags=[],dt=0;dt<pt;dt++){var vt=at[lt];if(lt++,ft.flags.push(vt),(8&vt)!=0){var St=at[lt];lt++;for(var At=0;At<St;At++)ft.flags.push(vt),dt++}}for(ft.xs=[],dt=0;dt<pt;dt++){var Tt=(2&ft.flags[dt])!=0,Ct=(16&ft.flags[dt])!=0;Tt?(ft.xs.push(Ct?at[lt]:-at[lt]),lt++):Ct?ft.xs.push(0):(ft.xs.push(ot.readShort(at,lt)),lt+=2)}for(ft.ys=[],dt=0;dt<pt;dt++)Tt=(4&ft.flags[dt])!=0,Ct=(32&ft.flags[dt])!=0,Tt?(ft.ys.push(Ct?at[lt]:-at[lt]),lt++):Ct?ft.ys.push(0):(ft.ys.push(ot.readShort(at,lt)),lt+=2);var Mt=0,Et=0;for(dt=0;dt<pt;dt++)Mt+=ft.xs[dt],Et+=ft.ys[dt],ft.xs[dt]=Mt,ft.ys[dt]=Et}else{var Rt;ft.parts=[];do{Rt=ot.readUshort(at,lt),lt+=2;var Bt={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(ft.parts.push(Bt),Bt.glyphIndex=ot.readUshort(at,lt),lt+=2,1&Rt){var Ft=ot.readShort(at,lt);lt+=2;var Lt=ot.readShort(at,lt);lt+=2}else Ft=ot.readInt8(at,lt),lt++,Lt=ot.readInt8(at,lt),lt++;2&Rt?(Bt.m.tx=Ft,Bt.m.ty=Lt):(Bt.p1=Ft,Bt.p2=Lt),8&Rt?(Bt.m.a=Bt.m.d=ot.readF2dot14(at,lt),lt+=2):64&Rt?(Bt.m.a=ot.readF2dot14(at,lt),lt+=2,Bt.m.d=ot.readF2dot14(at,lt),lt+=2):128&Rt&&(Bt.m.a=ot.readF2dot14(at,lt),lt+=2,Bt.m.b=ot.readF2dot14(at,lt),lt+=2,Bt.m.c=ot.readF2dot14(at,lt),lt+=2,Bt.m.d=ot.readF2dot14(at,lt),lt+=2)}while(32&Rt);if(256&Rt){var wt=ot.readUshort(at,lt);for(lt+=2,ft.instr=[],dt=0;dt<wt;dt++)ft.instr.push(at[lt]),lt++}}return ft},_e.GPOS={},_e.GPOS.parse=function(nt,st,ot,at){return _e._lctf.parse(nt,st,ot,at,_e.GPOS.subt)},_e.GPOS.subt=function(nt,st,ot,at){var lt=_e._bin,ft=ot,dt={};if(dt.fmt=lt.readUshort(nt,ot),ot+=2,st==1||st==2||st==3||st==7||st==8&&dt.fmt<=2){var gt=lt.readUshort(nt,ot);ot+=2,dt.coverage=_e._lctf.readCoverage(nt,gt+ft)}if(st==1&&dt.fmt==1){var pt=lt.readUshort(nt,ot);ot+=2;var vt=_e._lctf.numOfOnes(pt);pt!=0&&(dt.pos=_e.GPOS.readValueRecord(nt,ot,pt))}else if(st==2&&dt.fmt>=1&&dt.fmt<=2){pt=lt.readUshort(nt,ot),ot+=2;var St=lt.readUshort(nt,ot);ot+=2,vt=_e._lctf.numOfOnes(pt);var At=_e._lctf.numOfOnes(St);if(dt.fmt==1){dt.pairsets=[];var Tt=lt.readUshort(nt,ot);ot+=2;for(var Ct=0;Ct<Tt;Ct++){var Mt=ft+lt.readUshort(nt,ot);ot+=2;var Et=lt.readUshort(nt,Mt);Mt+=2;for(var Rt=[],Bt=0;Bt<Et;Bt++){var Ft=lt.readUshort(nt,Mt);Mt+=2,pt!=0&&(zt=_e.GPOS.readValueRecord(nt,Mt,pt),Mt+=2*vt),St!=0&&(tr=_e.GPOS.readValueRecord(nt,Mt,St),Mt+=2*At),Rt.push({gid2:Ft,val1:zt,val2:tr})}dt.pairsets.push(Rt)}}if(dt.fmt==2){var Lt=lt.readUshort(nt,ot);ot+=2;var wt=lt.readUshort(nt,ot);ot+=2;var Dt=lt.readUshort(nt,ot);ot+=2;var Ot=lt.readUshort(nt,ot);for(ot+=2,dt.classDef1=_e._lctf.readClassDef(nt,ft+Lt),dt.classDef2=_e._lctf.readClassDef(nt,ft+wt),dt.matrix=[],Ct=0;Ct<Dt;Ct++){var Ut=[];for(Bt=0;Bt<Ot;Bt++){var zt=null,tr=null;pt!=0&&(zt=_e.GPOS.readValueRecord(nt,ot,pt),ot+=2*vt),St!=0&&(tr=_e.GPOS.readValueRecord(nt,ot,St),ot+=2*At),Ut.push({val1:zt,val2:tr})}dt.matrix.push(Ut)}}}else{if(st==9&&dt.fmt==1){var jt=lt.readUshort(nt,ot);ot+=2;var Kt=lt.readUint(nt,ot);if(ot+=4,at.ltype==9)at.ltype=jt;else if(at.ltype!=jt)throw"invalid extension substitution";return _e.GPOS.subt(nt,at.ltype,ft+Kt)}console.debug("unsupported GPOS table LookupType",st,"format",dt.fmt)}return dt},_e.GPOS.readValueRecord=function(nt,st,ot){var at=_e._bin,lt=[];return lt.push(1&ot?at.readShort(nt,st):0),st+=1&ot?2:0,lt.push(2&ot?at.readShort(nt,st):0),st+=2&ot?2:0,lt.push(4&ot?at.readShort(nt,st):0),st+=4&ot?2:0,lt.push(8&ot?at.readShort(nt,st):0),st+=8&ot?2:0,lt},_e.GSUB={},_e.GSUB.parse=function(nt,st,ot,at){return _e._lctf.parse(nt,st,ot,at,_e.GSUB.subt)},_e.GSUB.subt=function(nt,st,ot,at){var lt=_e._bin,ft=ot,dt={};if(dt.fmt=lt.readUshort(nt,ot),ot+=2,st!=1&&st!=4&&st!=5&&st!=6)return null;if(st==1||st==4||st==5&&dt.fmt<=2||st==6&&dt.fmt<=2){var gt=lt.readUshort(nt,ot);ot+=2,dt.coverage=_e._lctf.readCoverage(nt,ft+gt)}if(st==1&&dt.fmt>=1&&dt.fmt<=2){if(dt.fmt==1)dt.delta=lt.readShort(nt,ot),ot+=2;else if(dt.fmt==2){var pt=lt.readUshort(nt,ot);ot+=2,dt.newg=lt.readUshorts(nt,ot,pt),ot+=2*dt.newg.length}}else if(st==4){dt.vals=[],pt=lt.readUshort(nt,ot),ot+=2;for(var vt=0;vt<pt;vt++){var St=lt.readUshort(nt,ot);ot+=2,dt.vals.push(_e.GSUB.readLigatureSet(nt,ft+St))}}else if(st==5&&dt.fmt==2){if(dt.fmt==2){var At=lt.readUshort(nt,ot);ot+=2,dt.cDef=_e._lctf.readClassDef(nt,ft+At),dt.scset=[];var Tt=lt.readUshort(nt,ot);for(ot+=2,vt=0;vt<Tt;vt++){var Ct=lt.readUshort(nt,ot);ot+=2,dt.scset.push(Ct==0?null:_e.GSUB.readSubClassSet(nt,ft+Ct))}}}else if(st==6&&dt.fmt==3){if(dt.fmt==3){for(vt=0;vt<3;vt++){pt=lt.readUshort(nt,ot),ot+=2;for(var Mt=[],Et=0;Et<pt;Et++)Mt.push(_e._lctf.readCoverage(nt,ft+lt.readUshort(nt,ot+2*Et)));ot+=2*pt,vt==0&&(dt.backCvg=Mt),vt==1&&(dt.inptCvg=Mt),vt==2&&(dt.ahedCvg=Mt)}pt=lt.readUshort(nt,ot),ot+=2,dt.lookupRec=_e.GSUB.readSubstLookupRecords(nt,ot,pt)}}else{if(st==7&&dt.fmt==1){var Rt=lt.readUshort(nt,ot);ot+=2;var Bt=lt.readUint(nt,ot);if(ot+=4,at.ltype==9)at.ltype=Rt;else if(at.ltype!=Rt)throw"invalid extension substitution";return _e.GSUB.subt(nt,at.ltype,ft+Bt)}console.debug("unsupported GSUB table LookupType",st,"format",dt.fmt)}return dt},_e.GSUB.readSubClassSet=function(nt,st){var ot=_e._bin.readUshort,at=st,lt=[],ft=ot(nt,st);st+=2;for(var dt=0;dt<ft;dt++){var gt=ot(nt,st);st+=2,lt.push(_e.GSUB.readSubClassRule(nt,at+gt))}return lt},_e.GSUB.readSubClassRule=function(nt,st){var ot=_e._bin.readUshort,at={},lt=ot(nt,st),ft=ot(nt,st+=2);st+=2,at.input=[];for(var dt=0;dt<lt-1;dt++)at.input.push(ot(nt,st)),st+=2;return at.substLookupRecords=_e.GSUB.readSubstLookupRecords(nt,st,ft),at},_e.GSUB.readSubstLookupRecords=function(nt,st,ot){for(var at=_e._bin.readUshort,lt=[],ft=0;ft<ot;ft++)lt.push(at(nt,st),at(nt,st+2)),st+=4;return lt},_e.GSUB.readChainSubClassSet=function(nt,st){var ot=_e._bin,at=st,lt=[],ft=ot.readUshort(nt,st);st+=2;for(var dt=0;dt<ft;dt++){var gt=ot.readUshort(nt,st);st+=2,lt.push(_e.GSUB.readChainSubClassRule(nt,at+gt))}return lt},_e.GSUB.readChainSubClassRule=function(nt,st){for(var ot=_e._bin,at={},lt=["backtrack","input","lookahead"],ft=0;ft<lt.length;ft++){var dt=ot.readUshort(nt,st);st+=2,ft==1&&dt--,at[lt[ft]]=ot.readUshorts(nt,st,dt),st+=2*at[lt[ft]].length}return dt=ot.readUshort(nt,st),st+=2,at.subst=ot.readUshorts(nt,st,2*dt),st+=2*at.subst.length,at},_e.GSUB.readLigatureSet=function(nt,st){var ot=_e._bin,at=st,lt=[],ft=ot.readUshort(nt,st);st+=2;for(var dt=0;dt<ft;dt++){var gt=ot.readUshort(nt,st);st+=2,lt.push(_e.GSUB.readLigature(nt,at+gt))}return lt},_e.GSUB.readLigature=function(nt,st){var ot=_e._bin,at={chain:[]};at.nglyph=ot.readUshort(nt,st),st+=2;var lt=ot.readUshort(nt,st);st+=2;for(var ft=0;ft<lt-1;ft++)at.chain.push(ot.readUshort(nt,st)),st+=2;return at},_e.head={},_e.head.parse=function(nt,st,ot){var at=_e._bin,lt={};return at.readFixed(nt,st),st+=4,lt.fontRevision=at.readFixed(nt,st),st+=4,at.readUint(nt,st),st+=4,at.readUint(nt,st),st+=4,lt.flags=at.readUshort(nt,st),st+=2,lt.unitsPerEm=at.readUshort(nt,st),st+=2,lt.created=at.readUint64(nt,st),st+=8,lt.modified=at.readUint64(nt,st),st+=8,lt.xMin=at.readShort(nt,st),st+=2,lt.yMin=at.readShort(nt,st),st+=2,lt.xMax=at.readShort(nt,st),st+=2,lt.yMax=at.readShort(nt,st),st+=2,lt.macStyle=at.readUshort(nt,st),st+=2,lt.lowestRecPPEM=at.readUshort(nt,st),st+=2,lt.fontDirectionHint=at.readShort(nt,st),st+=2,lt.indexToLocFormat=at.readShort(nt,st),st+=2,lt.glyphDataFormat=at.readShort(nt,st),st+=2,lt},_e.hhea={},_e.hhea.parse=function(nt,st,ot){var at=_e._bin,lt={};return at.readFixed(nt,st),st+=4,lt.ascender=at.readShort(nt,st),st+=2,lt.descender=at.readShort(nt,st),st+=2,lt.lineGap=at.readShort(nt,st),st+=2,lt.advanceWidthMax=at.readUshort(nt,st),st+=2,lt.minLeftSideBearing=at.readShort(nt,st),st+=2,lt.minRightSideBearing=at.readShort(nt,st),st+=2,lt.xMaxExtent=at.readShort(nt,st),st+=2,lt.caretSlopeRise=at.readShort(nt,st),st+=2,lt.caretSlopeRun=at.readShort(nt,st),st+=2,lt.caretOffset=at.readShort(nt,st),st+=2,st+=8,lt.metricDataFormat=at.readShort(nt,st),st+=2,lt.numberOfHMetrics=at.readUshort(nt,st),st+=2,lt},_e.hmtx={},_e.hmtx.parse=function(nt,st,ot,at){for(var lt=_e._bin,ft={aWidth:[],lsBearing:[]},dt=0,gt=0,pt=0;pt<at.maxp.numGlyphs;pt++)pt<at.hhea.numberOfHMetrics&&(dt=lt.readUshort(nt,st),st+=2,gt=lt.readShort(nt,st),st+=2),ft.aWidth.push(dt),ft.lsBearing.push(gt);return ft},_e.kern={},_e.kern.parse=function(nt,st,ot,at){var lt=_e._bin,ft=lt.readUshort(nt,st);if(st+=2,ft==1)return _e.kern.parseV1(nt,st-2,ot,at);var dt=lt.readUshort(nt,st);st+=2;for(var gt={glyph1:[],rval:[]},pt=0;pt<dt;pt++){st+=2,ot=lt.readUshort(nt,st),st+=2;var vt=lt.readUshort(nt,st);st+=2;var St=vt>>>8;if((St&=15)!=0)throw"unknown kern table format: "+St;st=_e.kern.readFormat0(nt,st,gt)}return gt},_e.kern.parseV1=function(nt,st,ot,at){var lt=_e._bin;lt.readFixed(nt,st),st+=4;var ft=lt.readUint(nt,st);st+=4;for(var dt={glyph1:[],rval:[]},gt=0;gt<ft;gt++){lt.readUint(nt,st),st+=4;var pt=lt.readUshort(nt,st);st+=2,lt.readUshort(nt,st),st+=2;var vt=pt>>>8;if((vt&=15)!=0)throw"unknown kern table format: "+vt;st=_e.kern.readFormat0(nt,st,dt)}return dt},_e.kern.readFormat0=function(nt,st,ot){var at=_e._bin,lt=-1,ft=at.readUshort(nt,st);st+=2,at.readUshort(nt,st),st+=2,at.readUshort(nt,st),st+=2,at.readUshort(nt,st),st+=2;for(var dt=0;dt<ft;dt++){var gt=at.readUshort(nt,st);st+=2;var pt=at.readUshort(nt,st);st+=2;var vt=at.readShort(nt,st);st+=2,gt!=lt&&(ot.glyph1.push(gt),ot.rval.push({glyph2:[],vals:[]}));var St=ot.rval[ot.rval.length-1];St.glyph2.push(pt),St.vals.push(vt),lt=gt}return st},_e.loca={},_e.loca.parse=function(nt,st,ot,at){var lt=_e._bin,ft=[],dt=at.head.indexToLocFormat,gt=at.maxp.numGlyphs+1;if(dt==0)for(var pt=0;pt<gt;pt++)ft.push(lt.readUshort(nt,st+(pt<<1))<<1);if(dt==1)for(pt=0;pt<gt;pt++)ft.push(lt.readUint(nt,st+(pt<<2)));return ft},_e.maxp={},_e.maxp.parse=function(nt,st,ot){var at=_e._bin,lt={},ft=at.readUint(nt,st);return st+=4,lt.numGlyphs=at.readUshort(nt,st),st+=2,ft==65536&&(lt.maxPoints=at.readUshort(nt,st),st+=2,lt.maxContours=at.readUshort(nt,st),st+=2,lt.maxCompositePoints=at.readUshort(nt,st),st+=2,lt.maxCompositeContours=at.readUshort(nt,st),st+=2,lt.maxZones=at.readUshort(nt,st),st+=2,lt.maxTwilightPoints=at.readUshort(nt,st),st+=2,lt.maxStorage=at.readUshort(nt,st),st+=2,lt.maxFunctionDefs=at.readUshort(nt,st),st+=2,lt.maxInstructionDefs=at.readUshort(nt,st),st+=2,lt.maxStackElements=at.readUshort(nt,st),st+=2,lt.maxSizeOfInstructions=at.readUshort(nt,st),st+=2,lt.maxComponentElements=at.readUshort(nt,st),st+=2,lt.maxComponentDepth=at.readUshort(nt,st),st+=2),lt},_e.name={},_e.name.parse=function(nt,st,ot){var at=_e._bin,lt={};at.readUshort(nt,st),st+=2;var ft=at.readUshort(nt,st);st+=2,at.readUshort(nt,st);for(var dt,gt=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],pt=st+=2,vt=0;vt<ft;vt++){var St=at.readUshort(nt,st);st+=2;var At=at.readUshort(nt,st);st+=2;var Tt=at.readUshort(nt,st);st+=2;var Ct=at.readUshort(nt,st);st+=2;var Mt=at.readUshort(nt,st);st+=2;var Et=at.readUshort(nt,st);st+=2;var Rt,Bt=gt[Ct],Ft=pt+12*ft+Et;if(St==0)Rt=at.readUnicode(nt,Ft,Mt/2);else if(St==3&&At==0)Rt=at.readUnicode(nt,Ft,Mt/2);else if(At==0)Rt=at.readASCII(nt,Ft,Mt);else if(At==1)Rt=at.readUnicode(nt,Ft,Mt/2);else if(At==3)Rt=at.readUnicode(nt,Ft,Mt/2);else{if(St!=1)throw"unknown encoding "+At+", platformID: "+St;Rt=at.readASCII(nt,Ft,Mt),console.debug("reading unknown MAC encoding "+At+" as ASCII")}var Lt="p"+St+","+Tt.toString(16);lt[Lt]==null&&(lt[Lt]={}),lt[Lt][Bt!==void 0?Bt:Ct]=Rt,lt[Lt]._lang=Tt}for(var wt in lt)if(lt[wt].postScriptName!=null&&lt[wt]._lang==1033)return lt[wt];for(var wt in lt)if(lt[wt].postScriptName!=null&&lt[wt]._lang==0)return lt[wt];for(var wt in lt)if(lt[wt].postScriptName!=null&&lt[wt]._lang==3084)return lt[wt];for(var wt in lt)if(lt[wt].postScriptName!=null)return lt[wt];for(var wt in lt){dt=wt;break}return console.debug("returning name table with languageID "+lt[dt]._lang),lt[dt]},_e["OS/2"]={},_e["OS/2"].parse=function(nt,st,ot){var at=_e._bin.readUshort(nt,st);st+=2;var lt={};if(at==0)_e["OS/2"].version0(nt,st,lt);else if(at==1)_e["OS/2"].version1(nt,st,lt);else if(at==2||at==3||at==4)_e["OS/2"].version2(nt,st,lt);else{if(at!=5)throw"unknown OS/2 table version: "+at;_e["OS/2"].version5(nt,st,lt)}return lt},_e["OS/2"].version0=function(nt,st,ot){var at=_e._bin;return ot.xAvgCharWidth=at.readShort(nt,st),st+=2,ot.usWeightClass=at.readUshort(nt,st),st+=2,ot.usWidthClass=at.readUshort(nt,st),st+=2,ot.fsType=at.readUshort(nt,st),st+=2,ot.ySubscriptXSize=at.readShort(nt,st),st+=2,ot.ySubscriptYSize=at.readShort(nt,st),st+=2,ot.ySubscriptXOffset=at.readShort(nt,st),st+=2,ot.ySubscriptYOffset=at.readShort(nt,st),st+=2,ot.ySuperscriptXSize=at.readShort(nt,st),st+=2,ot.ySuperscriptYSize=at.readShort(nt,st),st+=2,ot.ySuperscriptXOffset=at.readShort(nt,st),st+=2,ot.ySuperscriptYOffset=at.readShort(nt,st),st+=2,ot.yStrikeoutSize=at.readShort(nt,st),st+=2,ot.yStrikeoutPosition=at.readShort(nt,st),st+=2,ot.sFamilyClass=at.readShort(nt,st),st+=2,ot.panose=at.readBytes(nt,st,10),st+=10,ot.ulUnicodeRange1=at.readUint(nt,st),st+=4,ot.ulUnicodeRange2=at.readUint(nt,st),st+=4,ot.ulUnicodeRange3=at.readUint(nt,st),st+=4,ot.ulUnicodeRange4=at.readUint(nt,st),st+=4,ot.achVendID=[at.readInt8(nt,st),at.readInt8(nt,st+1),at.readInt8(nt,st+2),at.readInt8(nt,st+3)],st+=4,ot.fsSelection=at.readUshort(nt,st),st+=2,ot.usFirstCharIndex=at.readUshort(nt,st),st+=2,ot.usLastCharIndex=at.readUshort(nt,st),st+=2,ot.sTypoAscender=at.readShort(nt,st),st+=2,ot.sTypoDescender=at.readShort(nt,st),st+=2,ot.sTypoLineGap=at.readShort(nt,st),st+=2,ot.usWinAscent=at.readUshort(nt,st),st+=2,ot.usWinDescent=at.readUshort(nt,st),st+=2},_e["OS/2"].version1=function(nt,st,ot){var at=_e._bin;return st=_e["OS/2"].version0(nt,st,ot),ot.ulCodePageRange1=at.readUint(nt,st),st+=4,ot.ulCodePageRange2=at.readUint(nt,st),st+=4},_e["OS/2"].version2=function(nt,st,ot){var at=_e._bin;return st=_e["OS/2"].version1(nt,st,ot),ot.sxHeight=at.readShort(nt,st),st+=2,ot.sCapHeight=at.readShort(nt,st),st+=2,ot.usDefault=at.readUshort(nt,st),st+=2,ot.usBreak=at.readUshort(nt,st),st+=2,ot.usMaxContext=at.readUshort(nt,st),st+=2},_e["OS/2"].version5=function(nt,st,ot){var at=_e._bin;return st=_e["OS/2"].version2(nt,st,ot),ot.usLowerOpticalPointSize=at.readUshort(nt,st),st+=2,ot.usUpperOpticalPointSize=at.readUshort(nt,st),st+=2},_e.post={},_e.post.parse=function(nt,st,ot){var at=_e._bin,lt={};return lt.version=at.readFixed(nt,st),st+=4,lt.italicAngle=at.readFixed(nt,st),st+=4,lt.underlinePosition=at.readShort(nt,st),st+=2,lt.underlineThickness=at.readShort(nt,st),st+=2,lt},_e==null&&(_e={}),_e.U==null&&(_e.U={}),_e.U.codeToGlyph=function(nt,st){var ot=nt.cmap,at=-1;if(ot.p0e4!=null?at=ot.p0e4:ot.p3e1!=null?at=ot.p3e1:ot.p1e0!=null?at=ot.p1e0:ot.p0e3!=null&&(at=ot.p0e3),at==-1)throw"no familiar platform and encoding!";var lt=ot.tables[at];if(lt.format==0)return st>=lt.map.length?0:lt.map[st];if(lt.format==4){for(var ft=-1,dt=0;dt<lt.endCount.length;dt++)if(st<=lt.endCount[dt]){ft=dt;break}return ft==-1||lt.startCount[ft]>st?0:65535&(lt.idRangeOffset[ft]!=0?lt.glyphIdArray[st-lt.startCount[ft]+(lt.idRangeOffset[ft]>>1)-(lt.idRangeOffset.length-ft)]:st+lt.idDelta[ft])}if(lt.format==12){if(st>lt.groups[lt.groups.length-1][1])return 0;for(dt=0;dt<lt.groups.length;dt++){var gt=lt.groups[dt];if(gt[0]<=st&&st<=gt[1])return gt[2]+(st-gt[0])}return 0}throw"unknown cmap table format "+lt.format},_e.U.glyphToPath=function(nt,st){var ot={cmds:[],crds:[]};if(nt.SVG&&nt.SVG.entries[st]){var at=nt.SVG.entries[st];return at==null?ot:(typeof at=="string"&&(at=_e.SVG.toPath(at),nt.SVG.entries[st]=at),at)}if(nt.CFF){var lt={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:nt.CFF.Private?nt.CFF.Private.defaultWidthX:0,open:!1},ft=nt.CFF,dt=nt.CFF.Private;if(ft.ROS){for(var gt=0;ft.FDSelect[gt+2]<=st;)gt+=2;dt=ft.FDArray[ft.FDSelect[gt+1]].Private}_e.U._drawCFF(nt.CFF.CharStrings[st],lt,ft,dt,ot)}else nt.glyf&&_e.U._drawGlyf(st,nt,ot);return ot},_e.U._drawGlyf=function(nt,st,ot){var at=st.glyf[nt];at==null&&(at=st.glyf[nt]=_e.glyf._parseGlyf(st,nt)),at!=null&&(at.noc>-1?_e.U._simpleGlyph(at,ot):_e.U._compoGlyph(at,st,ot))},_e.U._simpleGlyph=function(nt,st){for(var ot=0;ot<nt.noc;ot++){for(var at=ot==0?0:nt.endPts[ot-1]+1,lt=nt.endPts[ot],ft=at;ft<=lt;ft++){var dt=ft==at?lt:ft-1,gt=ft==lt?at:ft+1,pt=1&nt.flags[ft],vt=1&nt.flags[dt],St=1&nt.flags[gt],At=nt.xs[ft],Tt=nt.ys[ft];if(ft==at)if(pt){if(!vt){_e.U.P.moveTo(st,At,Tt);continue}_e.U.P.moveTo(st,nt.xs[dt],nt.ys[dt])}else vt?_e.U.P.moveTo(st,nt.xs[dt],nt.ys[dt]):_e.U.P.moveTo(st,(nt.xs[dt]+At)/2,(nt.ys[dt]+Tt)/2);pt?vt&&_e.U.P.lineTo(st,At,Tt):St?_e.U.P.qcurveTo(st,At,Tt,nt.xs[gt],nt.ys[gt]):_e.U.P.qcurveTo(st,At,Tt,(At+nt.xs[gt])/2,(Tt+nt.ys[gt])/2)}_e.U.P.closePath(st)}},_e.U._compoGlyph=function(nt,st,ot){for(var at=0;at<nt.parts.length;at++){var lt={cmds:[],crds:[]},ft=nt.parts[at];_e.U._drawGlyf(ft.glyphIndex,st,lt);for(var dt=ft.m,gt=0;gt<lt.crds.length;gt+=2){var pt=lt.crds[gt],vt=lt.crds[gt+1];ot.crds.push(pt*dt.a+vt*dt.b+dt.tx),ot.crds.push(pt*dt.c+vt*dt.d+dt.ty)}for(gt=0;gt<lt.cmds.length;gt++)ot.cmds.push(lt.cmds[gt])}},_e.U._getGlyphClass=function(nt,st){var ot=_e._lctf.getInterval(st,nt);return ot==-1?0:st[ot+2]},_e.U.getPairAdjustment=function(nt,st,ot){var at=!1;if(nt.GPOS)for(var lt=nt.GPOS,ft=lt.lookupList,dt=lt.featureList,gt=[],pt=0;pt<dt.length;pt++){var vt=dt[pt];if(vt.tag=="kern"){at=!0;for(var St=0;St<vt.tab.length;St++)if(!gt[vt.tab[St]]){gt[vt.tab[St]]=!0;for(var At=ft[vt.tab[St]],Tt=0;Tt<At.tabs.length;Tt++)if(At.tabs[Tt]!=null){var Ct,Mt=At.tabs[Tt];if((!Mt.coverage||(Ct=_e._lctf.coverageIndex(Mt.coverage,st))!=-1)&&At.ltype!=1){if(At.ltype==2){var Et=null;if(Mt.fmt==1){var Rt=Mt.pairsets[Ct];for(pt=0;pt<Rt.length;pt++)Rt[pt].gid2==ot&&(Et=Rt[pt])}else if(Mt.fmt==2){var Bt=_e.U._getGlyphClass(st,Mt.classDef1),Ft=_e.U._getGlyphClass(ot,Mt.classDef2);Et=Mt.matrix[Bt][Ft]}if(Et){var Lt=0;return Et.val1&&Et.val1[2]&&(Lt+=Et.val1[2]),Et.val2&&Et.val2[0]&&(Lt+=Et.val2[0]),Lt}}}}}}}if(nt.kern&&!at){var wt=nt.kern.glyph1.indexOf(st);if(wt!=-1){var Dt=nt.kern.rval[wt].glyph2.indexOf(ot);if(Dt!=-1)return nt.kern.rval[wt].vals[Dt]}}return 0},_e.U._applySubs=function(nt,st,ot,at){for(var lt=nt.length-st-1,ft=0;ft<ot.tabs.length;ft++)if(ot.tabs[ft]!=null){var dt,gt=ot.tabs[ft];if(!gt.coverage||(dt=_e._lctf.coverageIndex(gt.coverage,nt[st]))!=-1){if(ot.ltype==1)nt[st],gt.fmt==1?nt[st]=nt[st]+gt.delta:nt[st]=gt.newg[dt];else if(ot.ltype==4)for(var pt=gt.vals[dt],vt=0;vt<pt.length;vt++){var St=pt[vt],At=St.chain.length;if(!(At>lt)){for(var Tt=!0,Ct=0,Mt=0;Mt<At;Mt++){for(;nt[st+Ct+(1+Mt)]==-1;)Ct++;St.chain[Mt]!=nt[st+Ct+(1+Mt)]&&(Tt=!1)}if(Tt){for(nt[st]=St.nglyph,Mt=0;Mt<At+Ct;Mt++)nt[st+Mt+1]=-1;break}}}else if(ot.ltype==5&&gt.fmt==2)for(var Et=_e._lctf.getInterval(gt.cDef,nt[st]),Rt=gt.cDef[Et+2],Bt=gt.scset[Rt],Ft=0;Ft<Bt.length;Ft++){var Lt=Bt[Ft],wt=Lt.input;if(!(wt.length>lt)){for(Tt=!0,Mt=0;Mt<wt.length;Mt++){var Dt=_e._lctf.getInterval(gt.cDef,nt[st+1+Mt]);if(Et==-1&&gt.cDef[Dt+2]!=wt[Mt]){Tt=!1;break}}if(Tt){var Ot=Lt.substLookupRecords;for(vt=0;vt<Ot.length;vt+=2)Ot[vt],Ot[vt+1]}}}else if(ot.ltype==6&&gt.fmt==3){if(!_e.U._glsCovered(nt,gt.backCvg,st-gt.backCvg.length)||!_e.U._glsCovered(nt,gt.inptCvg,st)||!_e.U._glsCovered(nt,gt.ahedCvg,st+gt.inptCvg.length))continue;var Ut=gt.lookupRec;for(Ft=0;Ft<Ut.length;Ft+=2){Et=Ut[Ft];var zt=at[Ut[Ft+1]];_e.U._applySubs(nt,st+Et,zt,at)}}}}},_e.U._glsCovered=function(nt,st,ot){for(var at=0;at<st.length;at++)if(_e._lctf.coverageIndex(st[at],nt[ot+at])==-1)return!1;return!0},_e.U.glyphsToPath=function(nt,st,ot){for(var at={cmds:[],crds:[]},lt=0,ft=0;ft<st.length;ft++){var dt=st[ft];if(dt!=-1){for(var gt=ft<st.length-1&&st[ft+1]!=-1?st[ft+1]:0,pt=_e.U.glyphToPath(nt,dt),vt=0;vt<pt.crds.length;vt+=2)at.crds.push(pt.crds[vt]+lt),at.crds.push(pt.crds[vt+1]);for(ot&&at.cmds.push(ot),vt=0;vt<pt.cmds.length;vt++)at.cmds.push(pt.cmds[vt]);ot&&at.cmds.push("X"),lt+=nt.hmtx.aWidth[dt],ft<st.length-1&&(lt+=_e.U.getPairAdjustment(nt,dt,gt))}}return at},_e.U.P={},_e.U.P.moveTo=function(nt,st,ot){nt.cmds.push("M"),nt.crds.push(st,ot)},_e.U.P.lineTo=function(nt,st,ot){nt.cmds.push("L"),nt.crds.push(st,ot)},_e.U.P.curveTo=function(nt,st,ot,at,lt,ft,dt){nt.cmds.push("C"),nt.crds.push(st,ot,at,lt,ft,dt)},_e.U.P.qcurveTo=function(nt,st,ot,at,lt){nt.cmds.push("Q"),nt.crds.push(st,ot,at,lt)},_e.U.P.closePath=function(nt){nt.cmds.push("Z")},_e.U._drawCFF=function(nt,st,ot,at,lt){for(var ft=st.stack,dt=st.nStems,gt=st.haveWidth,pt=st.width,vt=st.open,St=0,At=st.x,Tt=st.y,Ct=0,Mt=0,Et=0,Rt=0,Bt=0,Ft=0,Lt=0,wt=0,Dt=0,Ot=0,Ut={val:0,size:0};St<nt.length;){_e.CFF.getCharString(nt,St,Ut);var zt=Ut.val;if(St+=Ut.size,zt=="o1"||zt=="o18")ft.length%2!=0&&!gt&&(pt=ft.shift()+at.nominalWidthX),dt+=ft.length>>1,ft.length=0,gt=!0;else if(zt=="o3"||zt=="o23")ft.length%2!=0&&!gt&&(pt=ft.shift()+at.nominalWidthX),dt+=ft.length>>1,ft.length=0,gt=!0;else if(zt=="o4")ft.length>1&&!gt&&(pt=ft.shift()+at.nominalWidthX,gt=!0),vt&&_e.U.P.closePath(lt),Tt+=ft.pop(),_e.U.P.moveTo(lt,At,Tt),vt=!0;else if(zt=="o5")for(;ft.length>0;)At+=ft.shift(),Tt+=ft.shift(),_e.U.P.lineTo(lt,At,Tt);else if(zt=="o6"||zt=="o7")for(var tr=ft.length,jt=zt=="o6",Kt=0;Kt<tr;Kt++){var qt=ft.shift();jt?At+=qt:Tt+=qt,jt=!jt,_e.U.P.lineTo(lt,At,Tt)}else if(zt=="o8"||zt=="o24"){tr=ft.length;for(var er=0;er+6<=tr;)Ct=At+ft.shift(),Mt=Tt+ft.shift(),Et=Ct+ft.shift(),Rt=Mt+ft.shift(),At=Et+ft.shift(),Tt=Rt+ft.shift(),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,At,Tt),er+=6;zt=="o24"&&(At+=ft.shift(),Tt+=ft.shift(),_e.U.P.lineTo(lt,At,Tt))}else{if(zt=="o11")break;if(zt=="o1234"||zt=="o1235"||zt=="o1236"||zt=="o1237")zt=="o1234"&&(Mt=Tt,Et=(Ct=At+ft.shift())+ft.shift(),Ot=Rt=Mt+ft.shift(),Ft=Rt,wt=Tt,At=(Lt=(Bt=(Dt=Et+ft.shift())+ft.shift())+ft.shift())+ft.shift(),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,Dt,Ot),_e.U.P.curveTo(lt,Bt,Ft,Lt,wt,At,Tt)),zt=="o1235"&&(Ct=At+ft.shift(),Mt=Tt+ft.shift(),Et=Ct+ft.shift(),Rt=Mt+ft.shift(),Dt=Et+ft.shift(),Ot=Rt+ft.shift(),Bt=Dt+ft.shift(),Ft=Ot+ft.shift(),Lt=Bt+ft.shift(),wt=Ft+ft.shift(),At=Lt+ft.shift(),Tt=wt+ft.shift(),ft.shift(),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,Dt,Ot),_e.U.P.curveTo(lt,Bt,Ft,Lt,wt,At,Tt)),zt=="o1236"&&(Ct=At+ft.shift(),Mt=Tt+ft.shift(),Et=Ct+ft.shift(),Ot=Rt=Mt+ft.shift(),Ft=Rt,Lt=(Bt=(Dt=Et+ft.shift())+ft.shift())+ft.shift(),wt=Ft+ft.shift(),At=Lt+ft.shift(),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,Dt,Ot),_e.U.P.curveTo(lt,Bt,Ft,Lt,wt,At,Tt)),zt=="o1237"&&(Ct=At+ft.shift(),Mt=Tt+ft.shift(),Et=Ct+ft.shift(),Rt=Mt+ft.shift(),Dt=Et+ft.shift(),Ot=Rt+ft.shift(),Bt=Dt+ft.shift(),Ft=Ot+ft.shift(),Lt=Bt+ft.shift(),wt=Ft+ft.shift(),Math.abs(Lt-At)>Math.abs(wt-Tt)?At=Lt+ft.shift():Tt=wt+ft.shift(),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,Dt,Ot),_e.U.P.curveTo(lt,Bt,Ft,Lt,wt,At,Tt));else if(zt=="o14"){if(ft.length>0&&!gt&&(pt=ft.shift()+ot.nominalWidthX,gt=!0),ft.length==4){var kt=ft.shift(),Vt=ft.shift(),Zt=ft.shift(),Wt=ft.shift(),nr=_e.CFF.glyphBySE(ot,Zt),sr=_e.CFF.glyphBySE(ot,Wt);_e.U._drawCFF(ot.CharStrings[nr],st,ot,at,lt),st.x=kt,st.y=Vt,_e.U._drawCFF(ot.CharStrings[sr],st,ot,at,lt)}vt&&(_e.U.P.closePath(lt),vt=!1)}else if(zt=="o19"||zt=="o20")ft.length%2!=0&&!gt&&(pt=ft.shift()+at.nominalWidthX),dt+=ft.length>>1,ft.length=0,gt=!0,St+=dt+7>>3;else if(zt=="o21")ft.length>2&&!gt&&(pt=ft.shift()+at.nominalWidthX,gt=!0),Tt+=ft.pop(),At+=ft.pop(),vt&&_e.U.P.closePath(lt),_e.U.P.moveTo(lt,At,Tt),vt=!0;else if(zt=="o22")ft.length>1&&!gt&&(pt=ft.shift()+at.nominalWidthX,gt=!0),At+=ft.pop(),vt&&_e.U.P.closePath(lt),_e.U.P.moveTo(lt,At,Tt),vt=!0;else if(zt=="o25"){for(;ft.length>6;)At+=ft.shift(),Tt+=ft.shift(),_e.U.P.lineTo(lt,At,Tt);Ct=At+ft.shift(),Mt=Tt+ft.shift(),Et=Ct+ft.shift(),Rt=Mt+ft.shift(),At=Et+ft.shift(),Tt=Rt+ft.shift(),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,At,Tt)}else if(zt=="o26")for(ft.length%2&&(At+=ft.shift());ft.length>0;)Ct=At,Mt=Tt+ft.shift(),At=Et=Ct+ft.shift(),Tt=(Rt=Mt+ft.shift())+ft.shift(),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,At,Tt);else if(zt=="o27")for(ft.length%2&&(Tt+=ft.shift());ft.length>0;)Mt=Tt,Et=(Ct=At+ft.shift())+ft.shift(),Rt=Mt+ft.shift(),At=Et+ft.shift(),Tt=Rt,_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,At,Tt);else if(zt=="o10"||zt=="o29"){var lr=zt=="o10"?at:ot;if(ft.length==0)console.debug("error: empty stack");else{var dr=ft.pop(),hr=lr.Subrs[dr+lr.Bias];st.x=At,st.y=Tt,st.nStems=dt,st.haveWidth=gt,st.width=pt,st.open=vt,_e.U._drawCFF(hr,st,ot,at,lt),At=st.x,Tt=st.y,dt=st.nStems,gt=st.haveWidth,pt=st.width,vt=st.open}}else if(zt=="o30"||zt=="o31"){var wr=ft.length,pr=(er=0,zt=="o31");for(er+=wr-(tr=-3&wr);er<tr;)pr?(Mt=Tt,Et=(Ct=At+ft.shift())+ft.shift(),Tt=(Rt=Mt+ft.shift())+ft.shift(),tr-er==5?(At=Et+ft.shift(),er++):At=Et,pr=!1):(Ct=At,Mt=Tt+ft.shift(),Et=Ct+ft.shift(),Rt=Mt+ft.shift(),At=Et+ft.shift(),tr-er==5?(Tt=Rt+ft.shift(),er++):Tt=Rt,pr=!0),_e.U.P.curveTo(lt,Ct,Mt,Et,Rt,At,Tt),er+=4}else{if((zt+"").charAt(0)=="o")throw console.debug("Unknown operation: "+zt,nt),zt;ft.push(zt)}}}st.x=At,st.y=Tt,st.nStems=dt,st.haveWidth=gt,st.width=pt,st.open=vt};var tt=_e,rt={Typr:tt};return et.Typr=tt,et.default=rt,Object.defineProperty(et,"__esModule",{value:!0}),et}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(et){var _e=Uint8Array,tt=Uint16Array,rt=Uint32Array,nt=new _e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),st=new _e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ot=new _e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),at=function(zt,tr){for(var jt=new tt(31),Kt=0;Kt<31;++Kt)jt[Kt]=tr+=1<<zt[Kt-1];var qt=new rt(jt[30]);for(Kt=1;Kt<30;++Kt)for(var er=jt[Kt];er<jt[Kt+1];++er)qt[er]=er-jt[Kt]<<5|Kt;return[jt,qt]},lt=at(nt,2),ft=lt[0],dt=lt[1];ft[28]=258,dt[258]=28;for(var gt=at(st,0)[0],pt=new tt(32768),vt=0;vt<32768;++vt){var St=(43690&vt)>>>1|(21845&vt)<<1;St=(61680&(St=(52428&St)>>>2|(13107&St)<<2))>>>4|(3855&St)<<4,pt[vt]=((65280&St)>>>8|(255&St)<<8)>>>1}var At=function(zt,tr,jt){for(var Kt=zt.length,qt=0,er=new tt(tr);qt<Kt;++qt)++er[zt[qt]-1];var kt,Vt=new tt(tr);for(qt=0;qt<tr;++qt)Vt[qt]=Vt[qt-1]+er[qt-1]<<1;if(jt){kt=new tt(1<<tr);var Zt=15-tr;for(qt=0;qt<Kt;++qt)if(zt[qt])for(var Wt=qt<<4|zt[qt],nr=tr-zt[qt],sr=Vt[zt[qt]-1]++<<nr,lr=sr|(1<<nr)-1;sr<=lr;++sr)kt[pt[sr]>>>Zt]=Wt}else for(kt=new tt(Kt),qt=0;qt<Kt;++qt)zt[qt]&&(kt[qt]=pt[Vt[zt[qt]-1]++]>>>15-zt[qt]);return kt},Tt=new _e(288);for(vt=0;vt<144;++vt)Tt[vt]=8;for(vt=144;vt<256;++vt)Tt[vt]=9;for(vt=256;vt<280;++vt)Tt[vt]=7;for(vt=280;vt<288;++vt)Tt[vt]=8;var Ct=new _e(32);for(vt=0;vt<32;++vt)Ct[vt]=5;var Mt=At(Tt,9,1),Et=At(Ct,5,1),Rt=function(zt){for(var tr=zt[0],jt=1;jt<zt.length;++jt)zt[jt]>tr&&(tr=zt[jt]);return tr},Bt=function(zt,tr,jt){var Kt=tr/8|0;return(zt[Kt]|zt[Kt+1]<<8)>>(7&tr)&jt},Ft=function(zt,tr){var jt=tr/8|0;return(zt[jt]|zt[jt+1]<<8|zt[jt+2]<<16)>>(7&tr)},Lt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],wt=function(zt,tr,jt){var Kt=new Error(tr||Lt[zt]);if(Kt.code=zt,Error.captureStackTrace&&Error.captureStackTrace(Kt,wt),!jt)throw Kt;return Kt},Dt=function(zt,tr,jt){var Kt=zt.length;if(!Kt||jt&&!jt.l&&Kt<5)return tr||new _e(0);var qt=!tr||jt,er=!jt||jt.i;jt||(jt={}),tr||(tr=new _e(3*Kt));var kt,Vt=function(Wr){var an=tr.length;if(Wr>an){var gn=new _e(Math.max(2*an,Wr));gn.set(tr),tr=gn}},Zt=jt.f||0,Wt=jt.p||0,nr=jt.b||0,sr=jt.l,lr=jt.d,dr=jt.m,hr=jt.n,wr=8*Kt;do{if(!sr){jt.f=Zt=Bt(zt,Wt,1);var pr=Bt(zt,Wt+1,3);if(Wt+=3,!pr){var _r=zt[(Zr=((kt=Wt)/8|0)+(7&kt&&1)+4)-4]|zt[Zr-3]<<8,mr=Zr+_r;if(mr>Kt){er&&wt(0);break}qt&&Vt(nr+_r),tr.set(zt.subarray(Zr,mr),nr),jt.b=nr+=_r,jt.p=Wt=8*mr;continue}if(pr==1)sr=Mt,lr=Et,dr=9,hr=5;else if(pr==2){var Er=Bt(zt,Wt,31)+257,ur=Bt(zt,Wt+10,15)+4,xr=Er+Bt(zt,Wt+5,31)+1;Wt+=14;for(var Ar=new _e(xr),Br=new _e(19),kr=0;kr<ur;++kr)Br[ot[kr]]=Bt(zt,Wt+3*kr,7);Wt+=3*ur;var nn=Rt(Br),Pr=(1<<nn)-1,Xr=At(Br,nn,1);for(kr=0;kr<xr;){var Zr,zr=Xr[Bt(zt,Wt,Pr)];if(Wt+=15&zr,(Zr=zr>>>4)<16)Ar[kr++]=Zr;else{var cr=0,ar=0;for(Zr==16?(ar=3+Bt(zt,Wt,3),Wt+=2,cr=Ar[kr-1]):Zr==17?(ar=3+Bt(zt,Wt,7),Wt+=3):Zr==18&&(ar=11+Bt(zt,Wt,127),Wt+=7);ar--;)Ar[kr++]=cr}}var Tr=Ar.subarray(0,Er),Nr=Ar.subarray(Er);dr=Rt(Tr),hr=Rt(Nr),sr=At(Tr,dr,1),lr=At(Nr,hr,1)}else wt(1);if(Wt>wr){er&&wt(0);break}}qt&&Vt(nr+131072);for(var Qr=(1<<dr)-1,en=(1<<hr)-1,on=Wt;;on=Wt){var rn=(cr=sr[Ft(zt,Wt)&Qr])>>>4;if((Wt+=15&cr)>wr){er&&wt(0);break}if(cr||wt(2),rn<256)tr[nr++]=rn;else{if(rn==256){on=Wt,sr=null;break}var Vr=rn-254;if(rn>264){var ln=nt[kr=rn-257];Vr=Bt(zt,Wt,(1<<ln)-1)+ft[kr],Wt+=ln}var br=lr[Ft(zt,Wt)&en],Gr=br>>>4;if(br||wt(3),Wt+=15&br,Nr=gt[Gr],Gr>3&&(ln=st[Gr],Nr+=Ft(zt,Wt)&(1<<ln)-1,Wt+=ln),Wt>wr){er&&wt(0);break}qt&&Vt(nr+131072);for(var Kr=nr+Vr;nr<Kr;nr+=4)tr[nr]=tr[nr-Nr],tr[nr+1]=tr[nr+1-Nr],tr[nr+2]=tr[nr+2-Nr],tr[nr+3]=tr[nr+3-Nr];nr=Kr}}jt.l=sr,jt.p=on,jt.b=nr,sr&&(Zt=1,jt.m=dr,jt.d=lr,jt.n=hr)}while(!Zt);return nr==tr.length?tr:function(Wr,an,gn){(an==null||an<0)&&(an=0),(gn==null||gn>Wr.length)&&(gn=Wr.length);var Cn=new(Wr instanceof tt?tt:Wr instanceof rt?rt:_e)(gn-an);return Cn.set(Wr.subarray(an,gn)),Cn}(tr,0,nr)},Ot=new _e(0),Ut=typeof TextDecoder<"u"&&new TextDecoder;try{Ut.decode(Ot,{stream:!0})}catch{}return et.convert_streams=function(zt){var tr=new DataView(zt),jt=0;function Kt(){var Er=tr.getUint16(jt);return jt+=2,Er}function qt(){var Er=tr.getUint32(jt);return jt+=4,Er}function er(Er){_r.setUint16(mr,Er),mr+=2}function kt(Er){_r.setUint32(mr,Er),mr+=4}for(var Vt={signature:qt(),flavor:qt(),length:qt(),numTables:Kt(),reserved:Kt(),totalSfntSize:qt(),majorVersion:Kt(),minorVersion:Kt(),metaOffset:qt(),metaLength:qt(),metaOrigLength:qt(),privOffset:qt(),privLength:qt()},Zt=0;Math.pow(2,Zt)<=Vt.numTables;)Zt++;Zt--;for(var Wt=16*Math.pow(2,Zt),nr=16*Vt.numTables-Wt,sr=12,lr=[],dr=0;dr<Vt.numTables;dr++)lr.push({tag:qt(),offset:qt(),compLength:qt(),origLength:qt(),origChecksum:qt()}),sr+=16;var hr,wr=new Uint8Array(12+16*lr.length+lr.reduce(function(Er,ur){return Er+ur.origLength+4},0)),pr=wr.buffer,_r=new DataView(pr),mr=0;return kt(Vt.flavor),er(Vt.numTables),er(Wt),er(Zt),er(nr),lr.forEach(function(Er){kt(Er.tag),kt(Er.origChecksum),kt(sr),kt(Er.origLength),Er.outOffset=sr,(sr+=Er.origLength)%4!=0&&(sr+=4-sr%4)}),lr.forEach(function(Er){var ur,xr=zt.slice(Er.offset,Er.offset+Er.compLength);if(Er.compLength!=Er.origLength){var Ar=new Uint8Array(Er.origLength);ur=new Uint8Array(xr,2),Dt(ur,Ar)}else Ar=new Uint8Array(xr);wr.set(Ar,Er.outOffset);var Br=0;(sr=Er.outOffset+Er.origLength)%4!=0&&(Br=4-sr%4),wr.set(new Uint8Array(Br).buffer,Er.outOffset+Er.origLength),hr=sr+Br}),pr.slice(0,hr)},Object.defineProperty(et,"__esModule",{value:!0}),et}({}).convert_streams}function parserFactory(et,_e){const tt={M:2,L:2,Q:4,C:6,Z:0},rt={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},nt=1,st=2,ot=4,at=8,lt=16,ft=32;let dt;function gt(Bt){if(!dt){const Ft={R:st,L:nt,D:ot,C:lt,U:ft,T:at};dt=new Map;for(let Lt in rt){let wt=0;rt[Lt].split(",").forEach(Dt=>{let[Ot,Ut]=Dt.split("+");Ot=parseInt(Ot,36),Ut=Ut?parseInt(Ut,36):0,dt.set(wt+=Ot,Ft[Lt]);for(let zt=Ut;zt--;)dt.set(++wt,Ft[Lt])})}}return dt.get(Bt)||ft}const pt=1,vt=2,St=3,At=4,Tt=[null,"isol","init","fina","medi"];function Ct(Bt){const Ft=new Uint8Array(Bt.length);let Lt=ft,wt=pt,Dt=-1;for(let Ot=0;Ot<Bt.length;Ot++){const Ut=Bt.codePointAt(Ot);let zt=gt(Ut)|0,tr=pt;zt&at||(Lt&(nt|ot|lt)?zt&(st|ot|lt)?(tr=St,(wt===pt||wt===St)&&Ft[Dt]++):zt&(nt|ft)&&(wt===vt||wt===At)&&Ft[Dt]--:Lt&(st|ft)&&(wt===vt||wt===At)&&Ft[Dt]--,wt=Ft[Ot]=tr,Lt=zt,Dt=Ot,Ut>65535&&Ot++)}return Ft}function Mt(Bt,Ft){const Lt=[];for(let Dt=0;Dt<Ft.length;Dt++){const Ot=Ft.codePointAt(Dt);Ot>65535&&Dt++,Lt.push(et.U.codeToGlyph(Bt,Ot))}const wt=Bt.GSUB;if(wt){const{lookupList:Dt,featureList:Ot}=wt;let Ut;const zt=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,tr=[];Ot.forEach(jt=>{if(zt.test(jt.tag))for(let Kt=0;Kt<jt.tab.length;Kt++){if(tr[jt.tab[Kt]])continue;tr[jt.tab[Kt]]=!0;const qt=Dt[jt.tab[Kt]],er=/^(isol|init|fina|medi)$/.test(jt.tag);er&&!Ut&&(Ut=Ct(Ft));for(let kt=0;kt<Lt.length;kt++)(!Ut||!er||Tt[Ut[kt]]===jt.tag)&&et.U._applySubs(Lt,kt,qt,Dt)}})}return Lt}function Et(...Bt){for(let Ft=0;Ft<Bt.length;Ft++)if(typeof Bt[Ft]=="number")return Bt[Ft]}function Rt(Bt){const Ft=Object.create(null),Lt=Bt["OS/2"],wt=Bt.hhea,Dt=Bt.head.unitsPerEm,Ot=Et(Lt&&Lt.sTypoAscender,wt&&wt.ascender,Dt),Ut={unitsPerEm:Dt,ascender:Ot,descender:Et(Lt&&Lt.sTypoDescender,wt&&wt.descender,0),capHeight:Et(Lt&&Lt.sCapHeight,Ot),xHeight:Et(Lt&&Lt.sxHeight,Ot),lineGap:Et(Lt&&Lt.sTypoLineGap,wt&&wt.lineGap),forEachGlyph(zt,tr,jt,Kt){let qt=0;const er=1/Ut.unitsPerEm*tr,kt=Mt(Bt,zt);let Vt=0,Zt=-1;return kt.forEach((Wt,nr)=>{if(Wt!==-1){let sr=Ft[Wt];if(!sr){const{cmds:lr,crds:dr}=et.U.glyphToPath(Bt,Wt);let hr="",wr=0;for(let ur=0,xr=lr.length;ur<xr;ur++){const Ar=tt[lr[ur]];hr+=lr[ur];for(let Br=1;Br<=Ar;Br++)hr+=(Br>1?",":"")+dr[wr++]}let pr,_r,mr,Er;if(dr.length){pr=_r=1/0,mr=Er=-1/0;for(let ur=0,xr=dr.length;ur<xr;ur+=2){let Ar=dr[ur],Br=dr[ur+1];Ar<pr&&(pr=Ar),Br<_r&&(_r=Br),Ar>mr&&(mr=Ar),Br>Er&&(Er=Br)}}else pr=mr=_r=Er=0;sr=Ft[Wt]={index:Wt,advanceWidth:Bt.hmtx.aWidth[Wt],xMin:pr,yMin:_r,xMax:mr,yMax:Er,path:hr,pathCommandCount:lr.length}}Zt!==-1&&(qt+=et.U.getPairAdjustment(Bt,Zt,Wt)*er),Kt.call(null,sr,qt,Vt),sr.advanceWidth&&(qt+=sr.advanceWidth*er),jt&&(qt+=jt*tr),Zt=Wt}Vt+=zt.codePointAt(Vt)>65535?2:1}),qt}};return Ut}return function(Ft){const Lt=new Uint8Array(Ft,0,4),wt=et._bin.readASCII(Lt,0,4);if(wt==="wOFF")Ft=_e(Ft);else if(wt==="wOF2")throw new Error("woff2 fonts not supported");return Rt(et.parse(Ft)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(et,_e,tt){const rt=et(),nt=_e();return tt(rt,nt)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(et,_e){et=assign({},et);const tt=now$1();if(et.font=toAbsoluteURL(et.font||CONFIG.defaultFontURL),et.text=""+et.text,et.sdfGlyphSize=et.sdfGlyphSize||CONFIG.sdfGlyphSize,et.colorRanges!=null){let gt={};for(let pt in et.colorRanges)if(et.colorRanges.hasOwnProperty(pt)){let vt=et.colorRanges[pt];typeof vt!="number"&&(vt=tempColor.set(vt).getHex()),gt[pt]=vt}et.colorRanges=gt}Object.freeze(et);const{textureWidth:rt,sdfExponent:nt}=CONFIG,{sdfGlyphSize:st}=et,ot=rt/st*4;let at=atlases[st];if(!at){const gt=document.createElement("canvas");gt.width=rt,gt.height=st*256/ot,at=atlases[st]={glyphCount:0,sdfGlyphSize:st,sdfCanvas:gt,sdfTexture:new Texture(gt,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},at.sdfTexture.generateMipmaps=!1,initContextLossHandling(at)}const{sdfTexture:lt,sdfCanvas:ft}=at;let dt=at.glyphsByFont.get(et.font);dt||at.glyphsByFont.set(et.font,dt=new Map),typesetInWorker(et).then(gt=>{const{glyphIds:pt,glyphPositions:vt,fontSize:St,unitsPerEm:At,timings:Tt}=gt,Ct=[],Mt=new Float32Array(pt.length*4),Et=St/At;let Rt=0,Bt=0;const Ft=now$1();pt.forEach((Ut,zt)=>{let tr=dt.get(Ut);if(!tr){const{path:er,pathBounds:kt}=gt.glyphData[Ut],Vt=Math.max(kt[2]-kt[0],kt[3]-kt[1])/st*(CONFIG.sdfMargin*st+.5),Zt=at.glyphCount++,Wt=[kt[0]-Vt,kt[1]-Vt,kt[2]+Vt,kt[3]+Vt];dt.set(Ut,tr={path:er,atlasIndex:Zt,sdfViewBox:Wt}),Ct.push(tr)}const{sdfViewBox:jt}=tr,Kt=vt[Bt++],qt=vt[Bt++];Mt[Rt++]=Kt+jt[0]*Et,Mt[Rt++]=qt+jt[1]*Et,Mt[Rt++]=Kt+jt[2]*Et,Mt[Rt++]=qt+jt[3]*Et,pt[zt]=tr.atlasIndex}),Tt.quads=(Tt.quads||0)+(now$1()-Ft);const Lt=now$1();Tt.sdf={};const wt=ft.height,Dt=Math.ceil(at.glyphCount/ot),Ot=Math.pow(2,Math.ceil(Math.log2(Dt*st)));Ot>wt&&(console.info(`Increasing SDF texture size ${wt}->${Ot}`),resizeWebGLCanvasWithoutClearing(ft,rt,Ot),lt.dispose()),Promise.all(Ct.map(Ut=>generateGlyphSDF(Ut,at,et.gpuAccelerateSDF).then(({timing:zt})=>{Tt.sdf[Ut.atlasIndex]=zt}))).then(()=>{Ct.length&&!at.contextLost&&(safariPre15Workaround(at),lt.needsUpdate=!0),Tt.sdfTotal=now$1()-Lt,Tt.total=now$1()-tt,_e(Object.freeze({parameters:et,sdfTexture:lt,sdfGlyphSize:st,sdfExponent:nt,glyphBounds:Mt,glyphAtlasIndices:pt,glyphColors:gt.glyphColors,caretPositions:gt.caretPositions,caretHeight:gt.caretHeight,chunkedBounds:gt.chunkedBounds,ascender:gt.ascender,descender:gt.descender,lineHeight:gt.lineHeight,capHeight:gt.capHeight,xHeight:gt.xHeight,topBaseline:gt.topBaseline,blockBounds:gt.blockBounds,visibleBounds:gt.visibleBounds,timings:gt.timings}))})}),Promise.resolve().then(()=>{at.contextLost||warmUpSDFCanvas(ft)})}function generateGlyphSDF({path:et,atlasIndex:_e,sdfViewBox:tt},{sdfGlyphSize:rt,sdfCanvas:nt,contextLost:st},ot){if(st)return Promise.resolve({timing:-1});const{textureWidth:at,sdfExponent:lt}=CONFIG,ft=Math.max(tt[2]-tt[0],tt[3]-tt[1]),dt=Math.floor(_e/4),gt=dt%(at/rt)*rt,pt=Math.floor(dt/(at/rt))*rt,vt=_e%4;return generateSDF(rt,rt,et,tt,ft,lt,nt,gt,pt,vt,ot)}function initContextLossHandling(et){const _e=et.sdfCanvas;_e.addEventListener("webglcontextlost",tt=>{console.log("Context Lost",tt),tt.preventDefault(),et.contextLost=!0}),_e.addEventListener("webglcontextrestored",tt=>{console.log("Context Restored",tt),et.contextLost=!1;const rt=[];et.glyphsByFont.forEach(nt=>{nt.forEach(st=>{rt.push(generateGlyphSDF(st,et,!0))})}),Promise.all(rt).then(()=>{safariPre15Workaround(et),et.sdfTexture.needsUpdate=!0})})}function preloadFont({font:et,characters:_e,sdfGlyphSize:tt},rt){let nt=Array.isArray(_e)?_e.join(`
`):""+_e;getTextRenderInfo({font:et,sdfGlyphSize:tt,text:nt},rt)}function assign(et,_e){for(let tt in _e)_e.hasOwnProperty(tt)&&(et[tt]=_e[tt]);return et}let linkEl;function toAbsoluteURL(et){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=et,linkEl.href}function safariPre15Workaround(et){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:_e,sdfTexture:tt}=et,{width:rt,height:nt}=_e,st=et.sdfCanvas.getContext("webgl");let ot=tt.image.data;(!ot||ot.length!==rt*nt*4)&&(ot=new Uint8Array(rt*nt*4),tt.image={width:rt,height:nt,data:ot},tt.flipY=!1,tt.isDataTexture=!0),st.readPixels(0,0,rt,nt,st.RGBA,st.UNSIGNED_BYTE,ot)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(et,_e,tt,rt){const{defaultFontURL:nt}=et;return tt(_e,rt(),{defaultFontURL:nt})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(et){return function(_e){return new Promise(tt=>{et.typeset(_e,tt)})}},getTransferables(et){const _e=[et.glyphPositions.buffer,et.glyphIds.buffer];return et.caretPositions&&_e.push(et.caretPositions.buffer),et.glyphColors&&_e.push(et.glyphColors.buffer),_e}}),templateGeometries={};function getTemplateGeometry(et){let _e=templateGeometries[et];if(!_e){const tt=new PlaneGeometry(1,1,et,et),rt=tt.clone(),nt=tt.attributes,st=rt.attributes,ot=new BufferGeometry,at=nt.uv.count;for(let lt=0;lt<at;lt++)st.position.array[lt*3]*=-1,st.normal.array[lt*3+2]*=-1;["position","normal","uv"].forEach(lt=>{ot.setAttribute(lt,new Float32BufferAttribute([...nt[lt].array,...st[lt].array],nt[lt].itemSize))}),ot.setIndex([...tt.index.array,...rt.index.array.map(lt=>lt+at)]),ot.translate(.5,.5,0),_e=templateGeometries[et]=ot}return _e}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(_e){const tt=this.getIndex().count;this.setDrawRange(_e===BackSide?tt/2:0,_e===DoubleSide?tt:tt/2)}set detail(_e){if(_e!==this._detail){this._detail=_e,(typeof _e!="number"||_e<1)&&(_e=1);let tt=getTemplateGeometry(_e);["position","normal","uv"].forEach(rt=>{this.attributes[rt]=tt.attributes[rt].clone()}),this.setIndex(tt.getIndex().clone())}}get detail(){return this._detail}set curveRadius(_e){_e!==this._curveRadius&&(this._curveRadius=_e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(_e,tt,rt,nt,st){updateBufferAttr(this,glyphBoundsAttrName,_e,4),updateBufferAttr(this,glyphIndexAttrName,tt,1),updateBufferAttr(this,glyphColorAttrName,st,3),this._blockBounds=rt,this._chunkedBounds=nt,this.instanceCount=tt.length,this._updateBounds()}_updateBounds(){const _e=this._blockBounds;if(_e){const{curveRadius:tt,boundingBox:rt}=this;if(tt){const{PI:nt,floor:st,min:ot,max:at,sin:lt,cos:ft}=Math,dt=nt/2,gt=nt*2,pt=Math.abs(tt),vt=_e[0]/pt,St=_e[2]/pt,At=st((vt+dt)/gt)!==st((St+dt)/gt)?-pt:ot(lt(vt)*pt,lt(St)*pt),Tt=st((vt-dt)/gt)!==st((St-dt)/gt)?pt:at(lt(vt)*pt,lt(St)*pt),Ct=st((vt+nt)/gt)!==st((St+nt)/gt)?pt*2:at(pt-ft(vt)*pt,pt-ft(St)*pt);rt.min.set(At,_e[1],tt<0?-Ct:0),rt.max.set(Tt,_e[3],tt<0?0:Ct)}else rt.min.set(_e[0],_e[1],0),rt.max.set(_e[2],_e[3],0);rt.getBoundingSphere(this.boundingSphere)}}applyClipRect(_e){let tt=this.getAttribute(glyphIndexAttrName).count,rt=this._chunkedBounds;if(rt)for(let nt=rt.length;nt--;){tt=rt[nt].end;let st=rt[nt].rect;if(st[1]<_e.w&&st[3]>_e.y&&st[0]<_e.z&&st[2]>_e.x)break}this.instanceCount=tt}}function updateBufferAttr(et,_e,tt,rt){const nt=et.getAttribute(_e);tt?nt&&nt.array.length===tt.length?(nt.array.set(tt),nt.needsUpdate=!0):(et.setAttribute(_e,new InstancedBufferAttribute(tt,rt)),delete et._maxInstanceCount,et.dispose()):nt&&et.deleteAttribute(_e)}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(et){const _e=createDerivedMaterial(et,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:tt,fragmentShader:rt}){let nt=/\buniform\s+vec3\s+diffuse\b/;return nt.test(rt)&&(rt=rt.replace(nt,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),nt.test(tt)||(tt=tt.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:tt,fragmentShader:rt}}});return _e.transparent=!0,Object.defineProperties(_e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),_e}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(et){return Array.isArray(et)?et[0]:et}let getFlatRaycastMesh=()=>{const et=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>et,et},getCurvedRaycastMesh=()=>{const et=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>et,et};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const _e=new GlyphsGeometry;super(_e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(_e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(_e):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},tt=>{this._isSyncing=!1,this._textRenderInfo=tt,this.geometry.updateGlyphs(tt.glyphBounds,tt.glyphAtlasIndices,tt.blockBounds,tt.chunkedBounds,tt.glyphColors);const rt=this._queuedSyncs;rt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{rt.forEach(nt=>nt&&nt())})),this.dispatchEvent(syncCompleteEvent),_e&&_e()})))}onBeforeRender(_e,tt,rt,nt,st,ot){this.sync(),st.isTroikaTextMaterial&&this._prepareForRender(st),st._hadOwnSide=st.hasOwnProperty("side"),this.geometry.setSide(st._actualSide=st.side),st.side=FrontSide}onAfterRender(_e,tt,rt,nt,st,ot){st._hadOwnSide?st.side=st._actualSide:delete st.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let _e=this._derivedMaterial;const tt=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!_e||_e.baseMaterial!==tt)&&(_e=this._derivedMaterial=createTextDerivedMaterial(tt),tt.addEventListener("dispose",function rt(){tt.removeEventListener("dispose",rt),_e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let rt=_e._outlineMtl;return rt||(rt=_e._outlineMtl=Object.create(_e,{id:{value:_e.id+.1}}),rt.isTextOutlineMaterial=!0,rt.depthWrite=!1,rt.map=null,_e.addEventListener("dispose",function nt(){_e.removeEventListener("dispose",nt),rt.dispose()})),[rt,_e]}else return _e}set material(_e){_e&&_e.isTroikaTextMaterial?(this._derivedMaterial=_e,this._baseMaterial=_e.baseMaterial):this._baseMaterial=_e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(_e){this.geometry.detail=_e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(_e){this.geometry.curveRadius=_e}get customDepthMaterial(){return first(this.material).getDepthMaterial()}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}_prepareForRender(_e){const tt=_e.isTextOutlineMaterial,rt=_e.uniforms,nt=this.textRenderInfo;if(nt){const{sdfTexture:at,blockBounds:lt}=nt;rt.uTroikaSDFTexture.value=at,rt.uTroikaSDFTextureSize.value.set(at.image.width,at.image.height),rt.uTroikaSDFGlyphSize.value=nt.sdfGlyphSize,rt.uTroikaSDFExponent.value=nt.sdfExponent,rt.uTroikaTotalBounds.value.fromArray(lt),rt.uTroikaUseGlyphColors.value=!tt&&!!nt.glyphColors;let ft=0,dt=0,gt=0,pt,vt,St,At=0,Tt=0;if(tt){let{outlineWidth:Mt,outlineOffsetX:Et,outlineOffsetY:Rt,outlineBlur:Bt,outlineOpacity:Ft}=this;ft=this._parsePercent(Mt)||0,dt=Math.max(0,this._parsePercent(Bt)||0),pt=Ft,At=this._parsePercent(Et)||0,Tt=this._parsePercent(Rt)||0}else gt=Math.max(0,this._parsePercent(this.strokeWidth)||0),gt&&(St=this.strokeColor,rt.uTroikaStrokeColor.value.set(St??defaultStrokeColor),vt=this.strokeOpacity,vt==null&&(vt=1)),pt=this.fillOpacity;rt.uTroikaDistanceOffset.value=ft,rt.uTroikaPositionOffset.value.set(At,Tt),rt.uTroikaBlurRadius.value=dt,rt.uTroikaStrokeWidth.value=gt,rt.uTroikaStrokeOpacity.value=vt,rt.uTroikaFillOpacity.value=pt??1,rt.uTroikaCurveRadius.value=this.curveRadius||0;let Ct=this.clipRect;if(Ct&&Array.isArray(Ct)&&Ct.length===4)rt.uTroikaClipRect.value.fromArray(Ct);else{const Mt=(this.fontSize||.1)*100;rt.uTroikaClipRect.value.set(lt[0]-Mt,lt[1]-Mt,lt[2]+Mt,lt[3]+Mt)}this.geometry.applyClipRect(rt.uTroikaClipRect.value)}rt.uTroikaSDFDebug.value=!!this.debugSDF,_e.polygonOffset=!!this.depthOffset,_e.polygonOffsetFactor=_e.polygonOffsetUnits=this.depthOffset||0;const st=tt?this.outlineColor||0:this.color;if(st==null)delete _e.color;else{const at=_e.hasOwnProperty("color")?_e.color:_e.color=new Color;(st!==at._input||typeof st=="object")&&at.set(at._input=st)}let ot=this.orientation||defaultOrient;if(ot!==_e._orientation){let at=rt.uTroikaOrient.value;ot=ot.replace(/[^-+xyz]/g,"");let lt=ot!==defaultOrient&&ot.match(/^([-+])([xyz])([-+])([xyz])$/);if(lt){let[,ft,dt,gt,pt]=lt;tempVec3a.set(0,0,0)[dt]=ft==="-"?1:-1,tempVec3b.set(0,0,0)[pt]=gt==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),at.setFromMatrix4(tempMat4)}else at.identity();_e._orientation=ot}}_parsePercent(_e){if(typeof _e=="string"){let tt=_e.match(/^(-?[\d.]+)%$/),rt=tt?parseFloat(tt[1]):NaN;_e=(isNaN(rt)?0:rt/100)*this.fontSize}return _e}localPositionToTextCoords(_e,tt=new Vector2){tt.copy(_e);const rt=this.curveRadius;return rt&&(tt.x=Math.atan2(_e.x,Math.abs(rt)-Math.abs(_e.z))*Math.abs(rt)),tt}worldPositionToTextCoords(_e,tt=new Vector2){return tempVec3a.copy(_e),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),tt)}raycast(_e,tt){const{textRenderInfo:rt,curveRadius:nt}=this;if(rt){const st=rt.blockBounds,ot=nt?getCurvedRaycastMesh():getFlatRaycastMesh(),at=ot.geometry,{position:lt,uv:ft}=at.attributes;for(let dt=0;dt<ft.count;dt++){let gt=st[0]+ft.getX(dt)*(st[2]-st[0]);const pt=st[1]+ft.getY(dt)*(st[3]-st[1]);let vt=0;nt&&(vt=nt-Math.cos(gt/nt)*nt,gt=Math.sin(gt/nt)*nt),lt.setXYZ(dt,gt,pt,vt)}at.boundingSphere=this.geometry.boundingSphere,at.boundingBox=this.geometry.boundingBox,ot.matrixWorld=this.matrixWorld,ot.material.side=this.material.side,tempArray.length=0,ot.raycast(_e,tempArray);for(let dt=0;dt<tempArray.length;dt++)tempArray[dt].object=this,tt.push(tempArray[dt])}}copy(_e){const tt=this.geometry;return super.copy(_e),this.geometry=tt,COPYABLE_PROPS.forEach(rt=>{this[rt]=_e[rt]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(et=>{const _e="_private_"+et;Object.defineProperty(Text$1.prototype,et,{get(){return this[_e]},set(tt){tt!==this[_e]&&(this[_e]=tt,this._needsSync=!0)}})});const Text=reactExports.forwardRef(({sdfGlyphSize:et=64,anchorX:_e="center",anchorY:tt="middle",font:rt,fontSize:nt=1,children:st,characters:ot,onSync:at,...lt},ft)=>{const dt=useThree(({invalidate:St})=>St),[gt]=reactExports.useState(()=>new Text$1),[pt,vt]=reactExports.useMemo(()=>{const St=[];let At="";return reactExports.Children.forEach(st,Tt=>{typeof Tt=="string"||typeof Tt=="number"?At+=Tt:St.push(Tt)}),[St,At]},[st]);return suspend(()=>new Promise(St=>preloadFont({font:rt,characters:ot},St)),["troika-text",rt,ot]),reactExports.useLayoutEffect(()=>void gt.sync(()=>{dt(),at&&at(gt)})),reactExports.useEffect(()=>()=>gt.dispose(),[gt]),reactExports.createElement("primitive",_extends$1({object:gt,ref:ft,font:rt,text:vt,anchorX:_e,anchorY:tt,fontSize:nt,sdfGlyphSize:et},lt),pt)});function shaderMaterial(et,_e,tt,rt){const nt=class extends ShaderMaterial{constructor(ot={}){const at=Object.entries(et);super({uniforms:at.reduce((lt,[ft,dt])=>{const gt=UniformsUtils.clone({[ft]:{value:dt}});return{...lt,...gt}},{}),vertexShader:_e,fragmentShader:tt}),this.key="",at.forEach(([lt])=>Object.defineProperty(this,lt,{get:()=>this.uniforms[lt].value,set:ft=>this.uniforms[lt].value=ft})),Object.assign(this,ot),rt&&rt(this)}};return nt.key=MathUtils.generateUUID(),nt}let dracoLoader=null;function extensions(et,_e,tt){return rt=>{tt&&tt(rt),et&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof et=="string"?et:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),rt.setDRACOLoader(dracoLoader)),_e&&rt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(et,_e=!0,tt=!0,rt){return useLoader(GLTFLoader,et,extensions(_e,tt,rt))}useGLTF.preload=(et,_e=!0,tt=!0,rt)=>useLoader.preload(GLTFLoader,et,extensions(_e,tt,rt));useGLTF.clear=et=>useLoader.clear(GLTFLoader,et);function useFBO(et,_e,tt){const rt=useThree(pt=>pt.size),nt=useThree(pt=>pt.viewport),st=typeof et=="number"?et:rt.width*nt.dpr,ot=typeof _e=="number"?_e:rt.height*nt.dpr,at=(typeof et=="number"?tt:et)||{},{samples:lt=0,depth:ft,...dt}=at,gt=reactExports.useMemo(()=>{const pt=new WebGLRenderTarget(st,ot,{minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType,...dt});return ft&&(pt.depthTexture=new DepthTexture(st,ot,FloatType)),pt.samples=lt,pt},[]);return reactExports.useLayoutEffect(()=>{gt.setSize(st,ot),lt&&(gt.samples=lt)},[lt,gt,st,ot]),reactExports.useEffect(()=>()=>gt.dispose(),[]),gt}const isFunction=et=>typeof et=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:et,resolution:_e=256,frames:tt=1/0,makeDefault:rt,children:nt,...st},ot)=>{const at=useThree(({set:Tt})=>Tt),lt=useThree(({camera:Tt})=>Tt),ft=useThree(({size:Tt})=>Tt),dt=reactExports.useRef(null),gt=reactExports.useRef(null),pt=useFBO(_e);reactExports.useLayoutEffect(()=>{st.manual||(dt.current.aspect=ft.width/ft.height)},[ft,st]),reactExports.useLayoutEffect(()=>{dt.current.updateProjectionMatrix()});let vt=0,St=null;const At=isFunction(nt);return useFrame(Tt=>{At&&(tt===1/0||vt<tt)&&(gt.current.visible=!1,Tt.gl.setRenderTarget(pt),St=Tt.scene.background,et&&(Tt.scene.background=et),Tt.gl.render(Tt.scene,dt.current),Tt.scene.background=St,Tt.gl.setRenderTarget(null),gt.current.visible=!0,vt++)}),reactExports.useLayoutEffect(()=>{if(rt){const Tt=lt;return at(()=>({camera:dt.current})),()=>at(()=>({camera:Tt}))}},[dt,rt,at]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends$1({ref:mergeRefs([dt,ot])},st),!At&&nt),reactExports.createElement("group",{ref:gt},At&&nt(pt.texture)))}),OrbitControls=reactExports.forwardRef(({makeDefault:et,camera:_e,regress:tt,domElement:rt,enableDamping:nt=!0,keyEvents:st=!1,onChange:ot,onStart:at,onEnd:lt,...ft},dt)=>{const gt=useThree(Ft=>Ft.invalidate),pt=useThree(Ft=>Ft.camera),vt=useThree(Ft=>Ft.gl),St=useThree(Ft=>Ft.events),At=useThree(Ft=>Ft.setEvents),Tt=useThree(Ft=>Ft.set),Ct=useThree(Ft=>Ft.get),Mt=useThree(Ft=>Ft.performance),Et=_e||pt,Rt=rt||St.connected||vt.domElement,Bt=reactExports.useMemo(()=>new OrbitControls$1(Et),[Et]);return useFrame(()=>{Bt.enabled&&Bt.update()},-1),reactExports.useEffect(()=>(st&&Bt.connect(st===!0?Rt:st),Bt.connect(Rt),()=>void Bt.dispose()),[st,Rt,tt,Bt,gt]),reactExports.useEffect(()=>{const Ft=Dt=>{gt(),tt&&Mt.regress(),ot&&ot(Dt)},Lt=Dt=>{at&&at(Dt)},wt=Dt=>{lt&&lt(Dt)};return Bt.addEventListener("change",Ft),Bt.addEventListener("start",Lt),Bt.addEventListener("end",wt),()=>{Bt.removeEventListener("start",Lt),Bt.removeEventListener("end",wt),Bt.removeEventListener("change",Ft)}},[ot,at,lt,Bt,gt,At]),reactExports.useEffect(()=>{if(et){const Ft=Ct().controls;return Tt({controls:Bt}),()=>Tt({controls:Ft})}},[et,Bt]),reactExports.createElement("primitive",_extends$1({ref:dt,object:Bt,enableDamping:nt},ft))}),isOrthographic=et=>et&&et.isOrthographicCamera,isBox3=et=>et&&et.isBox3,context=reactExports.createContext(null);function Bounds({children:et,damping:_e=6,fit:tt,clip:rt,observe:nt,margin:st=1.2,eps:ot=.01,onFit:at}){const lt=reactExports.useRef(null),{camera:ft,invalidate:dt,size:gt,controls:pt}=useThree(),vt=pt,St=reactExports.useRef(at);St.current=at;function At(Ft,Lt){return Math.abs(Ft.x-Lt.x)<ot&&Math.abs(Ft.y-Lt.y)<ot&&Math.abs(Ft.z-Lt.z)<ot}function Tt(Ft,Lt,wt,Dt){Ft.x=MathUtils.damp(Ft.x,Lt.x,wt,Dt),Ft.y=MathUtils.damp(Ft.y,Lt.y,wt,Dt),Ft.z=MathUtils.damp(Ft.z,Lt.z,wt,Dt)}const[Ct]=reactExports.useState(()=>({animating:!1,focus:new Vector3,camera:new Vector3,zoom:1})),[Mt]=reactExports.useState(()=>({focus:new Vector3,camera:new Vector3,zoom:1})),[Et]=reactExports.useState(()=>new Box3),Rt=reactExports.useMemo(()=>{function Ft(){const Lt=Et.getSize(new Vector3),wt=Et.getCenter(new Vector3),Dt=Math.max(Lt.x,Lt.y,Lt.z),Ot=isOrthographic(ft)?Dt*4:Dt/(2*Math.atan(Math.PI*ft.fov/360)),Ut=isOrthographic(ft)?Dt*4:Ot/ft.aspect,zt=st*Math.max(Ot,Ut);return{box:Et,size:Lt,center:wt,distance:zt}}return{getSize:Ft,refresh(Lt){if(isBox3(Lt))Et.copy(Lt);else{const wt=Lt||lt.current;wt.updateWorldMatrix(!0,!0),Et.setFromObject(wt)}if(Et.isEmpty()){const wt=ft.position.length()||10;Et.setFromCenterAndSize(new Vector3,new Vector3(wt,wt,wt))}if((vt==null?void 0:vt.constructor.name)==="OrthographicTrackballControls"){const{distance:wt}=Ft(),Dt=ft.position.clone().sub(vt.target).normalize().multiplyScalar(wt),Ot=vt.target.clone().add(Dt);ft.position.copy(Ot)}return this},clip(){const{distance:Lt}=Ft();return vt&&(vt.maxDistance=Lt*10),ft.near=Lt/100,ft.far=Lt*100,ft.updateProjectionMatrix(),vt&&vt.update(),dt(),this},to({position:Lt,target:wt}){Ct.camera.copy(ft.position);const{center:Dt}=Ft();return Mt.camera.set(...Lt),wt?Mt.focus.set(...wt):Mt.focus.copy(Dt),_e?Ct.animating=!0:ft.position.set(...Lt),this},fit(){Ct.camera.copy(ft.position),vt&&Ct.focus.copy(vt.target);const{center:Lt,distance:wt}=Ft(),Dt=Lt.clone().sub(ft.position).normalize().multiplyScalar(wt);if(Mt.camera.copy(Lt).sub(Dt),Mt.focus.copy(Lt),isOrthographic(ft)){Ct.zoom=ft.zoom;let Ot=0,Ut=0;const zt=[new Vector3(Et.min.x,Et.min.y,Et.min.z),new Vector3(Et.min.x,Et.max.y,Et.min.z),new Vector3(Et.min.x,Et.min.y,Et.max.z),new Vector3(Et.min.x,Et.max.y,Et.max.z),new Vector3(Et.max.x,Et.max.y,Et.max.z),new Vector3(Et.max.x,Et.max.y,Et.min.z),new Vector3(Et.max.x,Et.min.y,Et.max.z),new Vector3(Et.max.x,Et.min.y,Et.min.z)];Lt.applyMatrix4(ft.matrixWorldInverse);for(const Kt of zt)Kt.applyMatrix4(ft.matrixWorldInverse),Ot=Math.max(Ot,Math.abs(Kt.y-Lt.y)),Ut=Math.max(Ut,Math.abs(Kt.x-Lt.x));Ot*=2,Ut*=2;const tr=(ft.top-ft.bottom)/Ot,jt=(ft.right-ft.left)/Ut;Mt.zoom=Math.min(tr,jt)/st,_e||(ft.zoom=Mt.zoom,ft.updateProjectionMatrix())}return _e?Ct.animating=!0:(ft.position.copy(Mt.camera),ft.lookAt(Mt.focus),vt&&(vt.target.copy(Mt.focus),vt.update())),St.current&&St.current(this.getSize()),dt(),this}}},[Et,ft,vt,st,_e,dt]);reactExports.useLayoutEffect(()=>{if(vt){const Ft=()=>Ct.animating=!1;return vt.addEventListener("start",Ft),()=>vt.removeEventListener("start",Ft)}},[vt]);const Bt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{(nt||Bt.current++===0)&&(Rt.refresh(),tt&&Rt.fit(),rt&&Rt.clip())},[gt,rt,tt,nt,ft,vt]),useFrame((Ft,Lt)=>{if(Ct.animating){if(Tt(Ct.focus,Mt.focus,_e,Lt),Tt(Ct.camera,Mt.camera,_e,Lt),Ct.zoom=MathUtils.damp(Ct.zoom,Mt.zoom,_e,Lt),ft.position.copy(Ct.camera),isOrthographic(ft)&&(ft.zoom=Ct.zoom,ft.updateProjectionMatrix()),vt?(vt.target.copy(Ct.focus),vt.update()):ft.lookAt(Ct.focus),dt(),isOrthographic(ft)&&!(Math.abs(Ct.zoom-Mt.zoom)<ot)||!isOrthographic(ft)&&!At(Ct.camera,Mt.camera)||vt&&!At(Ct.focus,Mt.focus))return;Ct.animating=!1}}),reactExports.createElement("group",{ref:lt},reactExports.createElement(context.Provider,{value:Rt},et))}const presetsObj={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},CUBEMAP_ROOT="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function useEnvironment({files:et=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:_e="",preset:tt=void 0,encoding:rt=void 0,extensions:nt}={}){if(tt){if(!(tt in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "));et=presetsObj[tt],_e=CUBEMAP_ROOT}const st=Array.isArray(et),at=useLoader(st?CubeTextureLoader:RGBELoader,st?[et]:et,ft=>{ft.setPath(_e),nt&&nt(ft)}),lt=st?at[0]:at;return lt.mapping=st?CubeReflectionMapping:EquirectangularReflectionMapping,lt.encoding=rt??st?sRGBEncoding:LinearEncoding,lt}const isRef=et=>et.current&&et.current.isScene,resolveScene=et=>isRef(et)?et.current:et;function setEnvProps(et,_e,tt,rt,nt=0){const st=resolveScene(_e||tt),ot=st.background,at=st.environment,lt=st.backgroundBlurriness||0;return et!=="only"&&(st.environment=rt),et&&(st.background=rt),et&&st.backgroundBlurriness!==void 0&&(st.backgroundBlurriness=nt),()=>{et!=="only"&&(st.environment=at),et&&(st.background=ot),et&&st.backgroundBlurriness!==void 0&&(st.backgroundBlurriness=lt)}}function EnvironmentMap({scene:et,background:_e=!1,blur:tt,map:rt}){const nt=useThree(st=>st.scene);return reactExports.useLayoutEffect(()=>{if(rt)return setEnvProps(_e,et,nt,rt,tt)},[nt,et,rt,_e,tt]),null}function EnvironmentCube({background:et=!1,scene:_e,blur:tt,...rt}){const nt=useEnvironment(rt),st=useThree(ot=>ot.scene);return reactExports.useLayoutEffect(()=>setEnvProps(et,_e,st,nt,tt),[nt,et,_e,st,tt]),null}function EnvironmentPortal({children:et,near:_e=1,far:tt=1e3,resolution:rt=256,frames:nt=1,map:st,background:ot=!1,blur:at,scene:lt,files:ft,path:dt,preset:gt=void 0,extensions:pt}){const vt=useThree(Et=>Et.gl),St=useThree(Et=>Et.scene),At=reactExports.useRef(null),[Tt]=reactExports.useState(()=>new Scene),Ct=reactExports.useMemo(()=>{const Et=new WebGLCubeRenderTarget(rt);return Et.texture.type=HalfFloatType,Et},[rt]);reactExports.useLayoutEffect(()=>(nt===1&&At.current.update(vt,Tt),setEnvProps(ot,lt,St,Ct.texture,at)),[et,Tt,Ct.texture,lt,St,ot,nt,vt]);let Mt=1;return useFrame(()=>{(nt===1/0||Mt<nt)&&(At.current.update(vt,Tt),Mt++)}),reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(reactExports.Fragment,null,et,reactExports.createElement("cubeCamera",{ref:At,args:[_e,tt,Ct]}),ft||gt?reactExports.createElement(EnvironmentCube,{background:!0,files:ft,preset:gt,path:dt,extensions:pt}):st?reactExports.createElement(EnvironmentMap,{background:!0,map:st,extensions:pt}):null),Tt))}function EnvironmentGround(et){var _e,tt,rt,nt;const st=useEnvironment(et),ot=et.map||st;reactExports.useMemo(()=>extend({GroundProjectedEnvImpl:GroundProjectedEnv}),[]);const at=reactExports.useMemo(()=>[ot],[ot]),lt=(_e=et.ground)==null?void 0:_e.height,ft=(tt=et.ground)==null?void 0:tt.radius,dt=(rt=(nt=et.ground)==null?void 0:nt.scale)!==null&&rt!==void 0?rt:1e3;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(EnvironmentMap,_extends$1({},et,{map:ot})),reactExports.createElement("groundProjectedEnvImpl",{args:at,scale:dt,height:lt,radius:ft}))}function Environment(et){return et.ground?reactExports.createElement(EnvironmentGround,et):et.map?reactExports.createElement(EnvironmentMap,et):et.children?reactExports.createElement(EnvironmentPortal,et):reactExports.createElement(EnvironmentCube,et)}var propTypes$1={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(rt,nt,st,ot,at,lt){if(lt!==ReactPropTypesSecret){var ft=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ft.name="Invariant Violation",ft}}et.isRequired=et;function _e(){return et}var tt={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:_e,element:et,elementType:et,instanceOf:_e,node:et,objectOf:_e,oneOf:_e,oneOfType:_e,shape:_e,exact:_e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tt.PropTypes=tt,tt};propTypes$1.exports=factoryWithThrowingShims();var propTypesExports=propTypes$1.exports;function shallow$1(et,_e){if(Object.is(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;if(et instanceof Map&&_e instanceof Map){if(et.size!==_e.size)return!1;for(const[rt,nt]of et)if(!Object.is(nt,_e.get(rt)))return!1;return!0}if(et instanceof Set&&_e instanceof Set){if(et.size!==_e.size)return!1;for(const rt of et)if(!_e.has(rt))return!1;return!0}const tt=Object.keys(et);if(tt.length!==Object.keys(_e).length)return!1;for(let rt=0;rt<tt.length;rt++)if(!Object.prototype.hasOwnProperty.call(_e,tt[rt])||!Object.is(et[tt[rt]],_e[tt[rt]]))return!1;return!0}useGLTF.preload("./models/lights/lights_v1.glb");var f$2=r$3(),n$3=et=>c$3(et,f$2),m$3=r$3();n$3.write=et=>c$3(et,m$3);var d$3=r$3();n$3.onStart=et=>c$3(et,d$3);var h$6=r$3();n$3.onFrame=et=>c$3(et,h$6);var p$4=r$3();n$3.onFinish=et=>c$3(et,p$4);var i$1=[];n$3.setTimeout=(et,_e)=>{let tt=n$3.now()+_e,rt=()=>{let st=i$1.findIndex(ot=>ot.cancel==rt);~st&&i$1.splice(st,1),u$5-=~st?1:0},nt={time:tt,handler:et,cancel:rt};return i$1.splice(w$3(tt),0,nt),u$5+=1,v$4(),nt};var w$3=et=>~(~i$1.findIndex(_e=>_e.time>et)||~i$1.length);n$3.cancel=et=>{d$3.delete(et),h$6.delete(et),p$4.delete(et),f$2.delete(et),m$3.delete(et)};n$3.sync=et=>{T$1=!0,n$3.batchedUpdates(et),T$1=!1};n$3.throttle=et=>{let _e;function tt(){try{et(..._e)}finally{_e=null}}function rt(...nt){_e=nt,n$3.onStart(tt)}return rt.handler=et,rt.cancel=()=>{d$3.delete(tt),_e=null},rt};var y$3=typeof window<"u"?window.requestAnimationFrame:()=>{};n$3.use=et=>y$3=et;n$3.now=typeof performance<"u"?()=>performance.now():Date.now;n$3.batchedUpdates=et=>et();n$3.catch=console.error;n$3.frameLoop="always";n$3.advance=()=>{n$3.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x$2()};var l$4=-1,u$5=0,T$1=!1;function c$3(et,_e){T$1?(_e.delete(et),et(0)):(_e.add(et),v$4())}function v$4(){l$4<0&&(l$4=0,n$3.frameLoop!=="demand"&&y$3(b$3))}function R$1(){l$4=-1}function b$3(){~l$4&&(y$3(b$3),n$3.batchedUpdates(x$2))}function x$2(){let et=l$4;l$4=n$3.now();let _e=w$3(l$4);if(_e&&(Q$1(i$1.splice(0,_e),tt=>tt.handler()),u$5-=_e),!u$5){R$1();return}d$3.flush(),f$2.flush(et?Math.min(64,l$4-et):16.667),h$6.flush(),m$3.flush(),p$4.flush()}function r$3(){let et=new Set,_e=et;return{add(tt){u$5+=_e==et&&!et.has(tt)?1:0,et.add(tt)},delete(tt){return u$5-=_e==et&&et.has(tt)?1:0,et.delete(tt)},flush(tt){_e.size&&(et=new Set,u$5-=_e.size,Q$1(_e,rt=>rt(tt)&&et.add(rt)),u$5+=et.size,_e=et)}}}function Q$1(et,_e){et.forEach(tt=>{try{_e(tt)}catch(rt){n$3.catch(rt)}})}var ze=Object.defineProperty,Le$1=(et,_e)=>{for(var tt in _e)ze(et,tt,{get:_e[tt],enumerable:!0})},p$3={};Le$1(p$3,{assign:()=>U$1,colors:()=>c$2,createStringInterpolator:()=>k$3,skipAnimation:()=>ee,to:()=>J$1,willAdvance:()=>S$1});function Y$1(){}var mt=(et,_e,tt)=>Object.defineProperty(et,_e,{value:tt,writable:!0,configurable:!0}),l$3={arr:Array.isArray,obj:et=>!!et&&et.constructor.name==="Object",fun:et=>typeof et=="function",str:et=>typeof et=="string",num:et=>typeof et=="number",und:et=>et===void 0};function bt(et,_e){if(l$3.arr(et)){if(!l$3.arr(_e)||et.length!==_e.length)return!1;for(let tt=0;tt<et.length;tt++)if(et[tt]!==_e[tt])return!1;return!0}return et===_e}var Ve=(et,_e)=>et.forEach(_e);function xt(et,_e,tt){if(l$3.arr(et)){for(let rt=0;rt<et.length;rt++)_e.call(tt,et[rt],`${rt}`);return}for(let rt in et)et.hasOwnProperty(rt)&&_e.call(tt,et[rt],rt)}var ht=et=>l$3.und(et)?[]:l$3.arr(et)?et:[et],h$5=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k$3,J$1,c$2=null,ee=!1,S$1=Y$1,U$1=et=>{et.to&&(J$1=et.to),et.now&&(n$3.now=et.now),et.colors!==void 0&&(c$2=et.colors),et.skipAnimation!=null&&(ee=et.skipAnimation),et.createStringInterpolator&&(k$3=et.createStringInterpolator),et.requestAnimationFrame&&n$3.use(et.requestAnimationFrame),et.batchedUpdates&&(n$3.batchedUpdates=et.batchedUpdates),et.willAdvance&&(S$1=et.willAdvance),et.frameLoop&&(n$3.frameLoop=et.frameLoop)},E$1=new Set,u$4=[],H$2=[],A$1=0,qe={get idle(){return!E$1.size&&!u$4.length},start(et){A$1>et.priority?(E$1.add(et),n$3.onStart($e)):(te(et),n$3(B$1))},advance:B$1,sort(et){if(A$1)n$3.onFrame(()=>qe.sort(et));else{let _e=u$4.indexOf(et);~_e&&(u$4.splice(_e,1),re$1(et))}},clear(){u$4=[],E$1.clear()}};function $e(){E$1.forEach(te),E$1.clear(),n$3(B$1)}function te(et){u$4.includes(et)||re$1(et)}function re$1(et){u$4.splice(Ge$1(u$4,_e=>_e.priority>et.priority),0,et)}function B$1(et){let _e=H$2;for(let tt=0;tt<u$4.length;tt++){let rt=u$4[tt];A$1=rt.priority,rt.idle||(S$1(rt),rt.advance(et),rt.idle||_e.push(rt))}return A$1=0,H$2=u$4,H$2.length=0,u$4=_e,u$4.length>0}function Ge$1(et,_e){let tt=et.findIndex(_e);return tt<0?et.length:tt}var It={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},d$2="[-+]?\\d*\\.?\\d+",M$1=d$2+"%";function C$1(...et){return"\\(\\s*("+et.join(")\\s*,\\s*(")+")\\s*\\)"}var oe=new RegExp("rgb"+C$1(d$2,d$2,d$2)),fe=new RegExp("rgba"+C$1(d$2,d$2,d$2,d$2)),ae$1=new RegExp("hsl"+C$1(d$2,M$1,M$1)),ie=new RegExp("hsla"+C$1(d$2,M$1,M$1,d$2)),se=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,le=/^#([0-9a-fA-F]{6})$/,ce=/^#([0-9a-fA-F]{8})$/;function be(et){let _e;return typeof et=="number"?et>>>0===et&&et>=0&&et<=4294967295?et:null:(_e=le.exec(et))?parseInt(_e[1]+"ff",16)>>>0:c$2&&c$2[et]!==void 0?c$2[et]:(_e=oe.exec(et))?(y$2(_e[1])<<24|y$2(_e[2])<<16|y$2(_e[3])<<8|255)>>>0:(_e=fe.exec(et))?(y$2(_e[1])<<24|y$2(_e[2])<<16|y$2(_e[3])<<8|me(_e[4]))>>>0:(_e=se.exec(et))?parseInt(_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]+"ff",16)>>>0:(_e=ce.exec(et))?parseInt(_e[1],16)>>>0:(_e=ue.exec(et))?parseInt(_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]+_e[4]+_e[4],16)>>>0:(_e=ae$1.exec(et))?(de(pe(_e[1]),z$2(_e[2]),z$2(_e[3]))|255)>>>0:(_e=ie.exec(et))?(de(pe(_e[1]),z$2(_e[2]),z$2(_e[3]))|me(_e[4]))>>>0:null}function j$2(et,_e,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(_e-et)*6*tt:tt<1/2?_e:tt<2/3?et+(_e-et)*(2/3-tt)*6:et}function de(et,_e,tt){let rt=tt<.5?tt*(1+_e):tt+_e-tt*_e,nt=2*tt-rt,st=j$2(nt,rt,et+1/3),ot=j$2(nt,rt,et),at=j$2(nt,rt,et-1/3);return Math.round(st*255)<<24|Math.round(ot*255)<<16|Math.round(at*255)<<8}function y$2(et){let _e=parseInt(et,10);return _e<0?0:_e>255?255:_e}function pe(et){return(parseFloat(et)%360+360)%360/360}function me(et){let _e=parseFloat(et);return _e<0?0:_e>1?255:Math.round(_e*255)}function z$2(et){let _e=parseFloat(et);return _e<0?0:_e>100?1:_e/100}function D$2(et){let _e=be(et);if(_e===null)return et;_e=_e||0;let tt=(_e&4278190080)>>>24,rt=(_e&16711680)>>>16,nt=(_e&65280)>>>8,st=(_e&255)/255;return`rgba(${tt}, ${rt}, ${nt}, ${st})`}var W$2=(et,_e,tt)=>{if(l$3.fun(et))return et;if(l$3.arr(et))return W$2({range:et,output:_e,extrapolate:tt});if(l$3.str(et.output[0]))return k$3(et);let rt=et,nt=rt.output,st=rt.range||[0,1],ot=rt.extrapolateLeft||rt.extrapolate||"extend",at=rt.extrapolateRight||rt.extrapolate||"extend",lt=rt.easing||(ft=>ft);return ft=>{let dt=He(ft,st);return Ue(ft,st[dt],st[dt+1],nt[dt],nt[dt+1],lt,ot,at,rt.map)}};function Ue(et,_e,tt,rt,nt,st,ot,at,lt){let ft=lt?lt(et):et;if(ft<_e){if(ot==="identity")return ft;ot==="clamp"&&(ft=_e)}if(ft>tt){if(at==="identity")return ft;at==="clamp"&&(ft=tt)}return rt===nt?rt:_e===tt?et<=_e?rt:nt:(_e===-1/0?ft=-ft:tt===1/0?ft=ft-_e:ft=(ft-_e)/(tt-_e),ft=st(ft),rt===-1/0?ft=-ft:nt===1/0?ft=ft+rt:ft=ft*(nt-rt)+rt,ft)}function He(et,_e){for(var tt=1;tt<_e.length-1&&!(_e[tt]>=et);++tt);return tt-1}var g$1=Symbol.for("FluidValue.get"),m$2=Symbol.for("FluidValue.observers"),Pt=et=>!!(et&&et[g$1]),ve=et=>et&&et[g$1]?et[g$1]():et;function je(et,_e){et.eventObserved?et.eventObserved(_e):et(_e)}function $t(et,_e){let tt=et[m$2];tt&&tt.forEach(rt=>{je(rt,_e)})}var H0,$0,c0,ge=(c0=class{constructor(et){ks(this,H0);ks(this,$0);if(!et&&!(et=this.get))throw Error("Unknown getter");De(this,et)}},H0=g$1,$0=m$2,c0),De=(et,_e)=>Ee(et,g$1,_e);function Gt(et,_e){if(et[g$1]){let tt=et[m$2];tt||Ee(et,m$2,tt=new Set),tt.has(_e)||(tt.add(_e),et.observerAdded&&et.observerAdded(tt.size,_e))}return _e}function Qt(et,_e){let tt=et[m$2];if(tt&&tt.has(_e)){let rt=tt.size-1;rt?tt.delete(_e):et[m$2]=null,et.observerRemoved&&et.observerRemoved(rt,_e)}}var Ee=(et,_e,tt)=>Object.defineProperty(et,_e,{value:tt,writable:!0,configurable:!0}),O$1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,K$1=new RegExp(`(${O$1.source})(%|[a-z]+)`,"i"),we=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,b$2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,N$1=et=>{let[_e,tt]=We(et);if(!_e||h$5())return et;let rt=window.getComputedStyle(document.documentElement).getPropertyValue(_e);return rt?rt.trim():tt&&tt.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(tt)||et:tt&&b$2.test(tt)?N$1(tt):tt||et},We=et=>{let _e=b$2.exec(et);if(!_e)return[,];let[,tt,rt]=_e;return[tt,rt]},_,Ke$1=(et,_e,tt,rt,nt)=>`rgba(${Math.round(_e)}, ${Math.round(tt)}, ${Math.round(rt)}, ${nt})`,Xt=et=>{_||(_=c$2?new RegExp(`(${Object.keys(c$2).join("|")})(?!\\w)`,"g"):/^\b$/);let _e=et.output.map(nt=>ve(nt).replace(b$2,N$1).replace(Oe,D$2).replace(_,D$2)),tt=_e.map(nt=>nt.match(O$1).map(Number)),rt=tt[0].map((nt,st)=>tt.map(ot=>{if(!(st in ot))throw Error('The arity of each "output" value must be equal');return ot[st]})).map(nt=>W$2({...et,output:nt}));return nt=>{var at;let st=!K$1.test(_e[0])&&((at=_e.find(lt=>K$1.test(lt)))==null?void 0:at.replace(O$1,"")),ot=0;return _e[0].replace(O$1,()=>`${rt[ot++](nt)}${st||""}`).replace(we,Ke$1)}},Z="react-spring: ",Te=et=>{let _e=et,tt=!1;if(typeof _e!="function")throw new TypeError(`${Z}once requires a function parameter`);return(...rt)=>{tt||(_e(...rt),tt=!0)}},Ne=Te(console.warn);function Jt(){Ne(`${Z}The "interpolate" function is deprecated in v9 (use "to" instead)`)}Te(console.warn);function or(et){return l$3.str(et)&&(et[0]=="#"||/\d/.test(et)||!h$5()&&b$2.test(et)||et in(c$2||{}))}var Q=h$5()?reactExports.useEffect:reactExports.useLayoutEffect,Ce=()=>{let et=reactExports.useRef(!1);return Q(()=>(et.current=!0,()=>{et.current=!1}),[]),et};function Mr(){let et=reactExports.useState()[1],_e=Ce();return()=>{_e.current&&et(Math.random())}}function Lr(et,_e){let[tt]=reactExports.useState(()=>({inputs:_e,result:et()})),rt=reactExports.useRef(),nt=rt.current,st=nt;return st?_e&&st.inputs&&it(_e,st.inputs)||(st={inputs:_e,result:et()}):st=tt,reactExports.useEffect(()=>{rt.current=st,nt==tt&&(tt.inputs=tt.result=void 0)},[st]),st.result}function it(et,_e){if(et.length!==_e.length)return!1;for(let tt=0;tt<et.length;tt++)if(et[tt]!==_e[tt])return!1;return!0}var $r=et=>reactExports.useEffect(et,ut),ut=[],h$4=Symbol.for("Animated:node"),v$3=et=>!!et&&et[h$4]===et,k$2=et=>et&&et[h$4],D$1=(et,_e)=>mt(et,h$4,_e),F$1=et=>et&&et[h$4]&&et[h$4].getPayload(),c$1=class{constructor(){ks(this,"payload");D$1(this,this)}getPayload(){return this.payload||[]}},l$2=class extends c$1{constructor(tt){super();ks(this,"done",!0);ks(this,"elapsedTime");ks(this,"lastPosition");ks(this,"lastVelocity");ks(this,"v0");ks(this,"durationProgress",0);this._value=tt,l$3.num(this._value)&&(this.lastPosition=this._value)}static create(tt){return new l$2(tt)}getPayload(){return[this]}getValue(){return this._value}setValue(tt,rt){return l$3.num(tt)&&(this.lastPosition=tt,rt&&(tt=Math.round(tt/rt)*rt,this.done&&(this.lastPosition=tt))),this._value===tt?!1:(this._value=tt,!0)}reset(){let{done:tt}=this;this.done=!1,l$3.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,tt&&(this.lastVelocity=null),this.v0=null)}},d$1=class extends l$2{constructor(tt){super(0);ks(this,"_string",null);ks(this,"_toString");this._toString=W$2({output:[tt,tt]})}static create(tt){return new d$1(tt)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(tt){if(l$3.str(tt)){if(tt==this._string)return!1;this._string=tt,this._value=1}else if(super.setValue(tt))this._string=null;else return!1;return!0}reset(tt){tt&&(this._toString=W$2({output:[this.getValue(),tt]})),this._value=0,super.reset()}},f$1={dependencies:null},u$3=class extends c$1{constructor(_e){super(),this.source=_e,this.setValue(_e)}getValue(_e){let tt={};return xt(this.source,(rt,nt)=>{v$3(rt)?tt[nt]=rt.getValue(_e):Pt(rt)?tt[nt]=ve(rt):_e||(tt[nt]=rt)}),tt}setValue(_e){this.source=_e,this.payload=this._makePayload(_e)}reset(){this.payload&&Ve(this.payload,_e=>_e.reset())}_makePayload(_e){if(_e){let tt=new Set;return xt(_e,this._addToPayload,tt),Array.from(tt)}}_addToPayload(_e){f$1.dependencies&&Pt(_e)&&f$1.dependencies.add(_e);let tt=F$1(_e);tt&&Ve(tt,rt=>this.add(rt))}},y$1=class extends u$3{constructor(_e){super(_e)}static create(_e){return new y$1(_e)}getValue(){return this.source.map(_e=>_e.getValue())}setValue(_e){let tt=this.getPayload();return _e.length==tt.length?tt.map((rt,nt)=>rt.setValue(_e[nt])).some(Boolean):(super.setValue(_e.map(z$1)),!0)}};function z$1(et){return(or(et)?d$1:l$2).create(et)}function Le(et){let _e=k$2(et);return _e?_e.constructor:l$3.arr(et)?y$1:or(et)?d$1:l$2}var x$1=(et,_e)=>{let tt=!l$3.fun(et)||et.prototype&&et.prototype.isReactComponent;return reactExports.forwardRef((rt,nt)=>{let st=reactExports.useRef(null),ot=tt&&reactExports.useCallback(St=>{st.current=ae(nt,St)},[nt]),[at,lt]=ne(rt,_e),ft=Mr(),dt=()=>{let St=st.current;tt&&!St||(St?_e.applyAnimatedValues(St,at.getValue(!0)):!1)===!1&&ft()},gt=new b$1(dt,lt),pt=reactExports.useRef();Q(()=>(pt.current=gt,Ve(lt,St=>Gt(St,gt)),()=>{pt.current&&(Ve(pt.current.deps,St=>Qt(St,pt.current)),n$3.cancel(pt.current.update))})),reactExports.useEffect(dt,[]),$r(()=>()=>{let St=pt.current;Ve(St.deps,At=>Qt(At,St))});let vt=_e.getComponentProps(at.getValue());return reactExports.createElement(et,{...vt,ref:ot})})},b$1=class{constructor(_e,tt){this.update=_e,this.deps=tt}eventObserved(_e){_e.type=="change"&&n$3.write(this.update)}};function ne(et,_e){let tt=new Set;return f$1.dependencies=tt,et.style&&(et={...et,style:_e.createAnimatedStyle(et.style)}),et=new u$3(et),f$1.dependencies=null,[et,tt]}function ae(et,_e){return et&&(l$3.fun(et)?et(_e):et.current=_e),_e}var j$1=Symbol.for("AnimatedComponent"),Ke=(et,{applyAnimatedValues:_e=()=>!1,createAnimatedStyle:tt=nt=>new u$3(nt),getComponentProps:rt=nt=>nt}={})=>{let nt={applyAnimatedValues:_e,createAnimatedStyle:tt,getComponentProps:rt},st=ot=>{let at=I$1(ot)||"Anonymous";return l$3.str(ot)?ot=st[ot]||(st[ot]=x$1(ot,nt)):ot=ot[j$1]||(ot[j$1]=x$1(ot,nt)),ot.displayName=`Animated(${at})`,ot};return xt(et,(ot,at)=>{l$3.arr(et)&&(at=I$1(ot)),st[at]=st(ot)}),{animated:st}},I$1=et=>l$3.str(et)?et:et&&l$3.str(et.displayName)?et.displayName:l$3.fun(et)&&et.name||null,Re=et=>et instanceof X$1,Sn=1,X$1=class extends ge{constructor(){super(...arguments);ks(this,"id",Sn++);ks(this,"_priority",0)}get priority(){return this._priority}set priority(tt){this._priority!=tt&&(this._priority=tt,this._onPriorityChange(tt))}get(){let tt=k$2(this);return tt&&tt.getValue()}to(...tt){return p$3.to(this,tt)}interpolate(...tt){return Jt(),p$3.to(this,tt)}toJSON(){return this.get()}observerAdded(tt){tt==1&&this._attach()}observerRemoved(tt){tt==0&&this._detach()}_attach(){}_detach(){}_onChange(tt,rt=!1){$t(this,{type:"change",parent:this,value:tt,idle:rt})}_onPriorityChange(tt){this.idle||qe.sort(this),$t(this,{type:"priority",parent:this,priority:tt})}},H$1=({children:et,..._e})=>{let tt=reactExports.useContext(Ge),rt=_e.pause||!!tt.pause,nt=_e.immediate||!!tt.immediate;_e=Lr(()=>({pause:rt,immediate:nt}),[rt,nt]);let{Provider:st}=Ge;return reactExports.createElement(st,{value:_e},et)},Ge=wn(H$1,{});H$1.Provider=Ge.Provider;H$1.Consumer=Ge.Consumer;function wn(et,_e){return Object.assign(et,reactExports.createContext(_e)),et.Provider._context=et,et.Consumer._context=et,et}var W$1=class extends X$1{constructor(tt,rt){super();ks(this,"key");ks(this,"idle",!0);ks(this,"calc");ks(this,"_active",new Set);this.source=tt,this.calc=W$2(...rt);let nt=this._get(),st=Le(nt);D$1(this,st.create(nt))}advance(tt){let rt=this._get(),nt=this.get();bt(rt,nt)||(k$2(this).setValue(rt),this._onChange(rt,this.idle)),!this.idle&&Yt(this._active)&&ct(this)}_get(){let tt=l$3.arr(this.source)?this.source.map(ve):ht(ve(this.source));return this.calc(...tt)}_start(){this.idle&&!Yt(this._active)&&(this.idle=!1,Ve(F$1(this),tt=>{tt.done=!1}),p$3.skipAnimation?(n$3.batchedUpdates(()=>this.advance()),ct(this)):qe.start(this))}_attach(){let tt=1;Ve(ht(this.source),rt=>{Pt(rt)&&Gt(rt,this),Re(rt)&&(rt.idle||this._active.add(rt),tt=Math.max(tt,rt.priority+1))}),this.priority=tt,this._start()}_detach(){Ve(ht(this.source),tt=>{Pt(tt)&&Qt(tt,this)}),this._active.clear(),ct(this)}eventObserved(tt){tt.type=="change"?tt.idle?this.advance():(this._active.add(tt.parent),this._start()):tt.type=="idle"?this._active.delete(tt.parent):tt.type=="priority"&&(this.priority=ht(this.source).reduce((rt,nt)=>Math.max(rt,(Re(nt)?nt.priority:0)+1),0))}};function vr(et){return et.idle!==!1}function Yt(et){return!et.size||Array.from(et).every(vr)}function ct(et){et.idle||(et.idle=!0,Ve(F$1(et),_e=>{_e.done=!0}),$t(et,{type:"idle",parent:et}))}p$3.assign({createStringInterpolator:Xt,to:(et,_e)=>new W$1(et,_e)});var o$1=["primitive"].concat(Object.keys(r$4).filter(et=>/^[A-Z]/.test(et)).map(et=>et[0].toLowerCase()+et.slice(1)));p$3.assign({createStringInterpolator:Xt,colors:It,frameLoop:"demand"});addEffect(()=>{n$3.advance()});Ke(o$1,{applyAnimatedValues:applyProps});const createStoreImpl$1=et=>{let _e;const tt=new Set,rt=(lt,ft)=>{const dt=typeof lt=="function"?lt(_e):lt;if(!Object.is(dt,_e)){const gt=_e;_e=ft??typeof dt!="object"?dt:Object.assign({},_e,dt),tt.forEach(pt=>pt(_e,gt))}},nt=()=>_e,at={setState:rt,getState:nt,subscribe:lt=>(tt.add(lt),()=>tt.delete(lt)),destroy:()=>{var lt;((lt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:lt.MODE)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),tt.clear()}};return _e=et(rt,nt,at),at},createStore$1=et=>et?createStoreImpl$1(et):createStoreImpl$1;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$3(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var k$1=typeof Object.is=="function"?Object.is:h$3,l$1=e$1.useState,m$1=e$1.useEffect,n$2=e$1.useLayoutEffect,p$2=e$1.useDebugValue;function q$2(et,_e){var tt=_e(),rt=l$1({inst:{value:tt,getSnapshot:_e}}),nt=rt[0].inst,st=rt[1];return n$2(function(){nt.value=tt,nt.getSnapshot=_e,r$2(nt)&&st({inst:nt})},[et,tt,_e]),m$1(function(){return r$2(nt)&&st({inst:nt}),et(function(){r$2(nt)&&st({inst:nt})})},[et]),p$2(tt),tt}function r$2(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!k$1(et,tt)}catch{return!0}}function t$2(et,_e){return _e()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$1=shimExports;function p$1(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var q$1=typeof Object.is=="function"?Object.is:p$1,r$1=n$1.useSyncExternalStore,t$1=h$2.useRef,u$1=h$2.useEffect,v$2=h$2.useMemo,w$2=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(et,_e,tt,rt,nt){var st=t$1(null);if(st.current===null){var ot={hasValue:!1,value:null};st.current=ot}else ot=st.current;st=v$2(function(){function lt(vt){if(!ft){if(ft=!0,dt=vt,vt=rt(vt),nt!==void 0&&ot.hasValue){var St=ot.value;if(nt(St,vt))return gt=St}return gt=vt}if(St=gt,q$1(dt,vt))return St;var At=rt(vt);return nt!==void 0&&nt(St,At)?St:(dt=vt,gt=At)}var ft=!1,dt,gt,pt=tt===void 0?null:tt;return[function(){return lt(_e())},pt===null?void 0:function(){return lt(pt())}]},[_e,tt,rt,nt]);var at=r$1(et,st[0],st[1]);return u$1(function(){ot.hasValue=!0,ot.value=at},[at]),w$2(at),at};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useSyncExternalStoreWithSelector:useSyncExternalStoreWithSelector$1}=useSyncExternalStoreExports;function useStore$1(et,_e=et.getState,tt){const rt=useSyncExternalStoreWithSelector$1(et.subscribe,et.getState,et.getServerState||et.getState,_e,tt);return reactExports.useDebugValue(rt),rt}const createImpl$1=et=>{var _e;((_e={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:_e.MODE)!=="production"&&typeof et!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const tt=typeof et=="function"?createStore$1(et):et,rt=(nt,st)=>useStore$1(tt,nt,st);return Object.assign(rt,tt),rt},create$1=et=>et?createImpl$1(et):createImpl$1,trackedConnections=new Map,getTrackedConnectionState=et=>{const _e=trackedConnections.get(et);return _e?Object.fromEntries(Object.entries(_e.stores).map(([tt,rt])=>[tt,rt.getState()])):{}},extractConnectionInformation=(et,_e,tt)=>{if(et===void 0)return{type:"untracked",connection:_e.connect(tt)};const rt=trackedConnections.get(tt.name);if(rt)return{type:"tracked",store:et,...rt};const nt={connection:_e.connect(tt),stores:{}};return trackedConnections.set(tt.name,nt),{type:"tracked",store:et,...nt}},devtoolsImpl=(et,_e={})=>(tt,rt,nt)=>{var st,ot;const{enabled:at,anonymousActionType:lt,store:ft,...dt}=_e;let gt;try{gt=(at??((st={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:st.MODE)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!gt)return((ot={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:ot.MODE)!=="production"&&at&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),et(tt,rt,nt);const{connection:pt,...vt}=extractConnectionInformation(ft,gt,dt);let St=!0;nt.setState=(Ct,Mt,Et)=>{const Rt=tt(Ct,Mt);if(!St)return Rt;const Bt=Et===void 0?{type:lt||"anonymous"}:typeof Et=="string"?{type:Et}:Et;return ft===void 0?(pt==null||pt.send(Bt,rt()),Rt):(pt==null||pt.send({...Bt,type:`${ft}/${Bt.type}`},{...getTrackedConnectionState(dt.name),[ft]:nt.getState()}),Rt)};const At=(...Ct)=>{const Mt=St;St=!1,tt(...Ct),St=Mt},Tt=et(nt.setState,rt,nt);if(vt.type==="untracked"?pt==null||pt.init(Tt):(vt.stores[vt.store]=nt,pt==null||pt.init(Object.fromEntries(Object.entries(vt.stores).map(([Ct,Mt])=>[Ct,Ct===vt.store?Tt:Mt.getState()])))),nt.dispatchFromDevtools&&typeof nt.dispatch=="function"){let Ct=!1;const Mt=nt.dispatch;nt.dispatch=(...Et)=>{var Rt;((Rt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1})==null?void 0:Rt.MODE)!=="production"&&Et[0].type==="__setState"&&!Ct&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),Ct=!0),Mt(...Et)}}return pt.subscribe(Ct=>{var Mt;switch(Ct.type){case"ACTION":if(typeof Ct.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return parseJsonThen(Ct.payload,Et=>{if(Et.type==="__setState"){if(ft===void 0){At(Et.state);return}Object.keys(Et.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Rt=Et.state[ft];if(Rt==null)return;JSON.stringify(nt.getState())!==JSON.stringify(Rt)&&At(Rt);return}nt.dispatchFromDevtools&&typeof nt.dispatch=="function"&&nt.dispatch(Et)});case"DISPATCH":switch(Ct.payload.type){case"RESET":return At(Tt),ft===void 0?pt==null?void 0:pt.init(nt.getState()):pt==null?void 0:pt.init(getTrackedConnectionState(dt.name));case"COMMIT":if(ft===void 0){pt==null||pt.init(nt.getState());return}return pt==null?void 0:pt.init(getTrackedConnectionState(dt.name));case"ROLLBACK":return parseJsonThen(Ct.state,Et=>{if(ft===void 0){At(Et),pt==null||pt.init(nt.getState());return}At(Et[ft]),pt==null||pt.init(getTrackedConnectionState(dt.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(Ct.state,Et=>{if(ft===void 0){At(Et);return}JSON.stringify(nt.getState())!==JSON.stringify(Et[ft])&&At(Et[ft])});case"IMPORT_STATE":{const{nextLiftedState:Et}=Ct.payload,Rt=(Mt=Et.computedStates.slice(-1)[0])==null?void 0:Mt.state;if(!Rt)return;At(ft===void 0?Rt:Rt[ft]),pt==null||pt.send(null,Et);return}case"PAUSE_RECORDING":return St=!St}return}}),Tt},devtools=devtoolsImpl,parseJsonThen=(et,_e)=>{let tt;try{tt=JSON.parse(et)}catch(rt){console.error("[zustand devtools middleware] Could not parse the received json",rt)}tt!==void 0&&_e(tt)},cameraPositionsStore={idle:{position:{x:-92.20805126509336,y:273.04918347118746,z:531.174457433966},target:{x:-246.12475794281735,y:-80.59864882547737,z:30.823659875539892}},focus:{none:{position:{x:-44.383707309870985,y:154.80725313868743,z:529.3252135652391},target:{x:0,y:0,z:0}},ring_2:{position:{x:2.190236211025621,y:1.6507264752326343,z:5.88543684469006},target:{x:5.1055895988583515,y:.19085097887625263,z:1.4062717731548435}},ring_3:{position:{x:6.606071553051454,y:5.6729398609821455,z:26.285880446623217},target:{x:-.165218981269205,y:4.315291572453687,z:10.681823086410414}},ring_4:{position:{x:-27.82759373051267,y:23.270868751842713,z:3.2027251070890017},target:{x:-17.714418994029206,y:4.378913543490656,z:-24.107682450016874}},ring_5:{position:{x:70.87439247320444,y:3.5133611177688344,z:33.70241225448102},target:{x:83.84756896892354,y:-7.9443152135505155,z:-2.4499584966239416}},ring_6:{position:{x:-127.52475157742685,y:67.22411544314939,z:173.13500278780361},target:{x:-162.69584009705767,y:-.008526349845225706,z:80.16852275398091}},pageSection:{position:{x:.6367764799058464,y:.02575067199102174,z:.8197320773716226},rotation:{isEuler:!0,_x:.2958178557573598,_y:.5678515229569016,_z:-.1624619456530673,_order:"XYZ"},quaternion:{isQuaternion:!0,_x:.11852174376106969,_y:.28763329671625587,_z:-.035896367448952596,_w:.949700549478594},target:{x:.23306836128254418,y:.21023451620411804,z:.21439031135463676}}},normal:{}},ringNames={ring_2:"Experts",ring_3:"Source",ring_4:"Support",ring_5:"Technology",ring_6:"Welfare"},sectionRings={Experts:"ring_2",Source:"ring_3",Support:"ring_4",Technology:"ring_5",Welfare:"ring_6"},activeFiles=["600x400_RIGID_BRANDED.jpg","0c5758c9-node_pladis_logo_RGB_red_72ppi_Transparent_In_association1_Medium.png","1.jpg","9fc4eb_4fe0f0e738e14b6bae0b5a7a81aff851.webp","600x400_BOX_BRANDED.jpg","600x400_BRANDED MAN TRUCK.jpg","600x400_CURTAINSIDER_BRANDED.jpg","600x400_DOUBLE DECK_BRANDED.jpg","600x400_FLATBED.jpg","600x400_REFRIGERATED.jpg","600x400_SKEL.jpg","600x400_VANS DROP N GO.jpg","600x400_VANS PEUGEOT UTILITYjpg.jpg","600x400_VANS VW CHILLER.jpg","600x400_VANS VW PANEL.jpg","600x400_VANS WELFARE.jpg","1200px-B_Q_company_logo.svg.png","187699729.jpg.gallery.jpg","Dennison-Trailers_1000x500.webp","DJI_20230213_120755_942.JPG","DJI_20230213_120925_582.jpg","DJI_20230213_120927_900.JPG","don-bur-logo-svg.svg","download.png","dummy.mp4","EXPERTS_CHRIS HEATHER.jpg","experts_dummy.jpeg","EXPERTS_DUMMY.jpg","EXPERTS_JAMES SMITH.jpg","EXPERTS_JASON CHIPCHASE.jpg","EXPERTS_KAREN McCHESNEY.jpg","EXPERTS_PAUL JEFFERY.jpg","EXPERTS_SCOTT MCMINIGLE.jpg","EXPERTS_TIM GIBSON.jpg","EXPERTS_TIM MCARTHY.jpg","Flatbed-2 copy.jpg","GA_Logo_Menu.png","Krone_logo.webp","Lawrence-David-Logo.jpeg","logo-share.png","MAN_logo_logotype_emblem_symbol.jpeg","Mercedes-Logo.svg.png","MULTIPLE VANS.MP4","Play.png","Premier_Foods_logo.svg","Sainsburys-Logo.png","SDC-Trailers-Logo-RGB.jpeg","Tesco_Logo.svg.png","Volvo_Trucks___Bus_logo.jpeg","woodland-logo-blue.png","XPO_logistics.5c659fd72fa20.jpeg"],appState=create$1(devtools(et=>({started:!1,activeSlide:0,activeRing:"none",focusRing:"none",numPages:4,activePage:null,activePageNumber:null,currentView:"idle",isAnimating:!1,universeStores:null,cameraRefInfo:null,activeCameraAnchor:null,cameraOrbitPoints:generateCirclePoints(1.1,7,.6),returnCameraToOrigin:null,forcePageUpdate:!1,cameraControlsMouseButtons:{left:1,middle:8,right:2,wheel:8},dimensions:{width:window.innerWidth,height:window.innerHeight},scrollControlsInitiated:!1,activeTile:null,activeTileInfo:null,cameraControlsref:null,activeTileRef:null,focusElementRef:null,updateBounds:null,activeFiles,maxDistance:700,boundsMargin:3,activeVideo:null,loaded:!1,qrPanel:null,setActiveSlide:_e=>et(tt=>({activeSlide:_e})),setActiveRing:_e=>et(tt=>({activeRing:_e})),setFocusRing:_e=>et(tt=>({focusRing:_e})),setNumPages:_e=>et(tt=>({numPages:_e})),setActivePage:_e=>et(tt=>({activePage:_e})),setActivePageNumber:_e=>et(tt=>({activePageNumber:_e})),setCurrentView:_e=>et(tt=>({currentView:_e})),setIsAnimating:_e=>et(tt=>({isAnimating:_e})),setStarted:_e=>et(tt=>({started:_e})),setUniverseStores:_e=>et(tt=>({universeStores:_e})),setCameraRefInfo:_e=>et(tt=>({cameraRefInfo:_e})),setActiveCameraAnchor:_e=>et(tt=>({activeCameraAnchor:_e})),setCameraOrbitPoints:_e=>et(tt=>({cameraOrbitPoints:_e})),setReturnCameraToOrigin:_e=>et(tt=>({returnCameraToOrigin:_e})),setForcePageUpdate:_e=>et(tt=>({forcePageUpdate:_e})),setCameraControlsMouseButtons:_e=>et(tt=>({cameraControlsMouseButtons:_e})),setDimensions:_e=>et(tt=>({dimensions:_e})),setScrollControlsInitiated:_e=>et(tt=>({scrollControlsInitiated:_e})),setActiveTile:_e=>et(tt=>({activeTile:_e})),setCameraControlsref:_e=>et(tt=>({cameraControlsref:_e})),setActiveTileInfo:_e=>et(tt=>({activeTileInfo:_e})),setActiveTileRef:_e=>et(tt=>({activeTileRef:_e})),setFocusElementRef:_e=>et(tt=>({focusElementRef:_e})),setUpdateBounds:_e=>et(tt=>({updateBounds:_e})),setMaxDistance:_e=>et(tt=>({maxDistance:_e})),setBoundsMargin:_e=>et(tt=>({boundsMargin:_e})),setActiveVideo:_e=>et(tt=>({activeVideo:_e})),setLoaded:_e=>et(tt=>({loaded:_e})),setQrPanel:_e=>et(tt=>({qrPanel:_e})),ringNames,ringNameFromSection:sectionRings,fetchData:null,mockData:null,setFetchData:_e=>et(tt=>({fetchData:_e})),generateCirclePoints:(_e,tt,rt)=>generateCirclePoints(_e,tt,rt),getUniverseStores:()=>getUniverseStores()})));function generateCirclePoints(et,_e,tt=0){const rt=[];for(let nt=0;nt<_e;nt++){const st=nt/_e*Math.PI*2;let ot=new Vector3(Math.cos(st)*et,tt,Math.sin(st)*et);rt.push(ot)}return rt}const getUniverseStores=()=>{let et=[],_e=[.831,.25,.007];for(let st=0;st<15;st++){let ot=[];ot.push(_e[0]*st),ot.push(_e[1]*st),ot.push(_e[2]*st),et.push(ot)}const tt={},nt=(()=>{const{nodes:st,materials:ot}=useGLTF("./models/hireco_3DScene_sectLocation-v3.glb");let at={};return Object.keys(st).forEach(lt=>{let ft=st[lt];ft.name=ft.name.replace("_location",""),ft.type=="Mesh"&&(at[ft.name]=ft.position)}),at})();return{colorValues:et,universeMultipliers:tt,sectionPositions:nt}};useGLTF.preload("./models/hireco_3DScene_sectLocation-v3.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_source_v1.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_support_v7.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_smartTech_v4.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_Expert_v17.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_welfare_v1.glb");useGLTF.preload("./models/universe/universe_gradient_v8.glb");useGLTF.preload("./models/universe/hireco_3DScene_ringR-v1-forGLTF.glb");useGLTF.preload("./models/universe/hireco_3DScene_ringRAndO-v1-forGLTF.glb");useGLTF.preload("./models/hireco_3DScene_sectLocation-v1.glb");useGLTF.preload("./models/iconography/INCONOGRAPHY_source_van_v1.glb");useGLTF.preload("./models/universe/hireco_3DScene_GMiddle_v3.glb");useGLTF.preload("./models/INCONOGRAPHY_ArrowDirectory_v2.glb");function ConsoleLogger(){const et=appState(lt=>lt.activeRing),_e=appState(lt=>lt.currentView),tt=appState(lt=>lt.activePage),rt=appState(lt=>lt.activeTile),nt=appState(lt=>lt.scrollControlsInitiated,shallow$1),st=appState(lt=>lt.activeVideo,shallow$1),ot=appState(lt=>lt.qrPanel,shallow$1);let at={};return at.activeRing=et,at.currentView=_e,at.activePage=tt,at.scrollControlsInitiated=nt,at.activeTile=rt,at.activeVideo=st,at.qrPanel=ot,reactExports.useEffect(()=>{console.table(at)},[at]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}const vert=`precision mediump float;
#define GLSLIFY 1
varying vec2 vUv;varying float vWave;uniform float uTime;vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}void main(){vUv=uv;vec3 pos=position;float noiseFreq=0.2;float noiseAmp=0.14;vec3 noisePos=vec3(pos.x*noiseFreq+uTime/10.0,pos.y,pos.z);pos.z+=snoise(noisePos)*noiseAmp;vWave=pos.z;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);}`,frag=`precision mediump float;
#define GLSLIFY 1
uniform vec3 uColor;uniform float uTime;uniform float uOpacity;uniform sampler2D uTexture;varying vec2 vUv;varying float vWave;void main(){float wave=-tan(vWave*0.8)*1.0;vec3 texture=texture2D(uTexture,vUv+wave).rgb;gl_FragColor=vec4(texture,uOpacity);}`,WaveShaderMaterial=shaderMaterial({transparent:!0,uTime:0,uOpacity:.2,uColor:new Color(0,0,0),uTexture:new Texture},vert,frag);extend({WaveShaderMaterial});(function(){const et=new Vector3,_e=new Euler,tt=new Quaternion,rt=new Vector3;return function(nt){et.x=Math.random()*40-20,et.y=Math.random()*40-20,et.z=Math.random()*40-20,_e.x=Math.random()*2*Math.PI,_e.y=Math.random()*2*Math.PI,_e.z=Math.random()*2*Math.PI,tt.setFromEuler(_e),rt.x=rt.y=rt.z=Math.random()*1,nt.compose(et,tt,rt)}})();var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(et,_e){module.exports=_e()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(_e){_useWebWorker=!!_e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(_e){locationHref=_e},getLocationHref=function(){return locationHref};function createTag(et){return document.createElement(et)}function extendPrototype(et,_e){var tt,rt=et.length,nt;for(tt=0;tt<rt;tt+=1){nt=et[tt].prototype;for(var st in nt)Object.prototype.hasOwnProperty.call(nt,st)&&(_e.prototype[st]=nt[st])}}function getDescriptor(et,_e){return Object.getOwnPropertyDescriptor(et,_e)}function createProxyFunction(et){function _e(){}return _e.prototype=et,_e}var audioControllerFactory=function(){function et(_e){this.audios=[],this.audioFactory=_e,this._volume=1,this._isMuted=!1}return et.prototype={addAudio:function(tt){this.audios.push(tt)},pause:function(){var tt,rt=this.audios.length;for(tt=0;tt<rt;tt+=1)this.audios[tt].pause()},resume:function(){var tt,rt=this.audios.length;for(tt=0;tt<rt;tt+=1)this.audios[tt].resume()},setRate:function(tt){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].setRate(tt)},createAudio:function(tt){return this.audioFactory?this.audioFactory(tt):window.Howl?new window.Howl({src:[tt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(tt){this.audioFactory=tt},setVolume:function(tt){this._volume=tt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var tt,rt=this.audios.length;for(tt=0;tt<rt;tt+=1)this.audios[tt].volume(this._volume*(this._isMuted?0:1))}},function(){return new et}}(),createTypedArray=function(){function et(tt,rt){var nt=0,st=[],ot;switch(tt){case"int16":case"uint8c":ot=1;break;default:ot=1.1;break}for(nt=0;nt<rt;nt+=1)st.push(ot);return st}function _e(tt,rt){return tt==="float32"?new Float32Array(rt):tt==="int16"?new Int16Array(rt):tt==="uint8c"?new Uint8ClampedArray(rt):et(tt,rt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?_e:et}();function createSizedArray(et){return Array.apply(null,{length:et})}function _typeof$6(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(tt){return typeof tt}:_typeof$6=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$6(et)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var et=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],_e,tt=et.length;for(_e=0;_e<tt;_e+=1)BMMath[et[_e]]=Math[et[_e]]})(),BMMath.random=Math.random,BMMath.abs=function(et){var _e=_typeof$6(et);if(_e==="object"&&et.length){var tt=createSizedArray(et.length),rt,nt=et.length;for(rt=0;rt<nt;rt+=1)tt[rt]=Math.abs(et[rt]);return tt}return Math.abs(et)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(et){et.style.position="absolute",et.style.top=0,et.style.left=0,et.style.display="block",et.style.transformOrigin="0 0",et.style.webkitTransformOrigin="0 0",et.style.backfaceVisibility="visible",et.style.webkitBackfaceVisibility="visible",et.style.transformStyle="preserve-3d",et.style.webkitTransformStyle="preserve-3d",et.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(et,_e,tt,rt){this.type=et,this.currentTime=_e,this.totalTime=tt,this.direction=rt<0?-1:1}function BMCompleteEvent(et,_e){this.type=et,this.direction=_e<0?-1:1}function BMCompleteLoopEvent(et,_e,tt,rt){this.type=et,this.currentLoop=tt,this.totalLoops=_e,this.direction=rt<0?-1:1}function BMSegmentStartEvent(et,_e,tt){this.type=et,this.firstFrame=_e,this.totalFrames=tt}function BMDestroyEvent(et,_e){this.type=et,this.target=_e}function BMRenderFrameErrorEvent(et,_e){this.type="renderFrameError",this.nativeError=et,this.currentTime=_e}function BMConfigErrorEvent(et){this.type="configError",this.nativeError=et}var createElementID=function(){var et=0;return function(){return et+=1,idPrefix$1+"__lottie_element_"+et}}();function HSVtoRGB(et,_e,tt){var rt,nt,st,ot,at,lt,ft,dt;switch(ot=Math.floor(et*6),at=et*6-ot,lt=tt*(1-_e),ft=tt*(1-at*_e),dt=tt*(1-(1-at)*_e),ot%6){case 0:rt=tt,nt=dt,st=lt;break;case 1:rt=ft,nt=tt,st=lt;break;case 2:rt=lt,nt=tt,st=dt;break;case 3:rt=lt,nt=ft,st=tt;break;case 4:rt=dt,nt=lt,st=tt;break;case 5:rt=tt,nt=lt,st=ft;break}return[rt,nt,st]}function RGBtoHSV(et,_e,tt){var rt=Math.max(et,_e,tt),nt=Math.min(et,_e,tt),st=rt-nt,ot,at=rt===0?0:st/rt,lt=rt/255;switch(rt){case nt:ot=0;break;case et:ot=_e-tt+st*(_e<tt?6:0),ot/=6*st;break;case _e:ot=tt-et+st*2,ot/=6*st;break;case tt:ot=et-_e+st*4,ot/=6*st;break}return[ot,at,lt]}function addSaturationToRGB(et,_e){var tt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return tt[1]+=_e,tt[1]>1?tt[1]=1:tt[1]<=0&&(tt[1]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addBrightnessToRGB(et,_e){var tt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return tt[2]+=_e,tt[2]>1?tt[2]=1:tt[2]<0&&(tt[2]=0),HSVtoRGB(tt[0],tt[1],tt[2])}function addHueToRGB(et,_e){var tt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return tt[0]+=_e/360,tt[0]>1?tt[0]-=1:tt[0]<0&&(tt[0]+=1),HSVtoRGB(tt[0],tt[1],tt[2])}var rgbToHex=function(){var et=[],_e,tt;for(_e=0;_e<256;_e+=1)tt=_e.toString(16),et[_e]=tt.length===1?"0"+tt:tt;return function(rt,nt,st){return rt<0&&(rt=0),nt<0&&(nt=0),st<0&&(st=0),"#"+et[rt]+et[nt]+et[st]}}(),setSubframeEnabled=function(_e){subframeEnabled=!!_e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(_e){expressionsPlugin=_e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(_e){expressionsInterfaces=_e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(_e){defaultCurveSegments=_e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(_e){idPrefix$1=_e};function createNS(et){return document.createElementNS(svgNS,et)}function _typeof$5(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(tt){return typeof tt}:_typeof$5=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$5(et)}var dataManager=function(){var et=1,_e=[],tt,rt,nt={onmessage:function(){},postMessage:function(vt){tt({data:vt})}},st={postMessage:function(vt){nt.onmessage({data:vt})}};function ot(pt){if(window.Worker&&window.Blob&&getWebWorker()){var vt=new Blob(["var _workerSelf = self; self.onmessage = ",pt.toString()],{type:"text/javascript"}),St=URL.createObjectURL(vt);return new Worker(St)}return tt=pt,nt}function at(){rt||(rt=ot(function(vt){function St(){function Tt(Kt,qt){var er,kt,Vt=Kt.length,Zt,Wt,nr,sr;for(kt=0;kt<Vt;kt+=1)if(er=Kt[kt],"ks"in er&&!er.completed){if(er.completed=!0,er.hasMask){var lr=er.masksProperties;for(Wt=lr.length,Zt=0;Zt<Wt;Zt+=1)if(lr[Zt].pt.k.i)Bt(lr[Zt].pt.k);else for(sr=lr[Zt].pt.k.length,nr=0;nr<sr;nr+=1)lr[Zt].pt.k[nr].s&&Bt(lr[Zt].pt.k[nr].s[0]),lr[Zt].pt.k[nr].e&&Bt(lr[Zt].pt.k[nr].e[0])}er.ty===0?(er.layers=Et(er.refId,qt),Tt(er.layers,qt)):er.ty===4?Rt(er.shapes):er.ty===5&&tr(er)}}function Ct(Kt,qt){if(Kt){var er=0,kt=Kt.length;for(er=0;er<kt;er+=1)Kt[er].t===1&&(Kt[er].data.layers=Et(Kt[er].data.refId,qt),Tt(Kt[er].data.layers,qt))}}function Mt(Kt,qt){for(var er=0,kt=qt.length;er<kt;){if(qt[er].id===Kt)return qt[er];er+=1}return null}function Et(Kt,qt){var er=Mt(Kt,qt);return er?er.layers.__used?JSON.parse(JSON.stringify(er.layers)):(er.layers.__used=!0,er.layers):null}function Rt(Kt){var qt,er=Kt.length,kt,Vt;for(qt=er-1;qt>=0;qt-=1)if(Kt[qt].ty==="sh")if(Kt[qt].ks.k.i)Bt(Kt[qt].ks.k);else for(Vt=Kt[qt].ks.k.length,kt=0;kt<Vt;kt+=1)Kt[qt].ks.k[kt].s&&Bt(Kt[qt].ks.k[kt].s[0]),Kt[qt].ks.k[kt].e&&Bt(Kt[qt].ks.k[kt].e[0]);else Kt[qt].ty==="gr"&&Rt(Kt[qt].it)}function Bt(Kt){var qt,er=Kt.i.length;for(qt=0;qt<er;qt+=1)Kt.i[qt][0]+=Kt.v[qt][0],Kt.i[qt][1]+=Kt.v[qt][1],Kt.o[qt][0]+=Kt.v[qt][0],Kt.o[qt][1]+=Kt.v[qt][1]}function Ft(Kt,qt){var er=qt?qt.split("."):[100,100,100];return Kt[0]>er[0]?!0:er[0]>Kt[0]?!1:Kt[1]>er[1]?!0:er[1]>Kt[1]?!1:Kt[2]>er[2]?!0:er[2]>Kt[2]?!1:null}var Lt=function(){var Kt=[4,4,14];function qt(kt){var Vt=kt.t.d;kt.t.d={k:[{s:Vt,t:0}]}}function er(kt){var Vt,Zt=kt.length;for(Vt=0;Vt<Zt;Vt+=1)kt[Vt].ty===5&&qt(kt[Vt])}return function(kt){if(Ft(Kt,kt.v)&&(er(kt.layers),kt.assets)){var Vt,Zt=kt.assets.length;for(Vt=0;Vt<Zt;Vt+=1)kt.assets[Vt].layers&&er(kt.assets[Vt].layers)}}}(),wt=function(){var Kt=[4,7,99];return function(qt){if(qt.chars&&!Ft(Kt,qt.v)){var er,kt=qt.chars.length;for(er=0;er<kt;er+=1){var Vt=qt.chars[er];Vt.data&&Vt.data.shapes&&(Rt(Vt.data.shapes),Vt.data.ip=0,Vt.data.op=99999,Vt.data.st=0,Vt.data.sr=1,Vt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},qt.chars[er].t||(Vt.data.shapes.push({ty:"no"}),Vt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Dt=function(){var Kt=[5,7,15];function qt(kt){var Vt=kt.t.p;typeof Vt.a=="number"&&(Vt.a={a:0,k:Vt.a}),typeof Vt.p=="number"&&(Vt.p={a:0,k:Vt.p}),typeof Vt.r=="number"&&(Vt.r={a:0,k:Vt.r})}function er(kt){var Vt,Zt=kt.length;for(Vt=0;Vt<Zt;Vt+=1)kt[Vt].ty===5&&qt(kt[Vt])}return function(kt){if(Ft(Kt,kt.v)&&(er(kt.layers),kt.assets)){var Vt,Zt=kt.assets.length;for(Vt=0;Vt<Zt;Vt+=1)kt.assets[Vt].layers&&er(kt.assets[Vt].layers)}}}(),Ot=function(){var Kt=[4,1,9];function qt(kt){var Vt,Zt=kt.length,Wt,nr;for(Vt=0;Vt<Zt;Vt+=1)if(kt[Vt].ty==="gr")qt(kt[Vt].it);else if(kt[Vt].ty==="fl"||kt[Vt].ty==="st")if(kt[Vt].c.k&&kt[Vt].c.k[0].i)for(nr=kt[Vt].c.k.length,Wt=0;Wt<nr;Wt+=1)kt[Vt].c.k[Wt].s&&(kt[Vt].c.k[Wt].s[0]/=255,kt[Vt].c.k[Wt].s[1]/=255,kt[Vt].c.k[Wt].s[2]/=255,kt[Vt].c.k[Wt].s[3]/=255),kt[Vt].c.k[Wt].e&&(kt[Vt].c.k[Wt].e[0]/=255,kt[Vt].c.k[Wt].e[1]/=255,kt[Vt].c.k[Wt].e[2]/=255,kt[Vt].c.k[Wt].e[3]/=255);else kt[Vt].c.k[0]/=255,kt[Vt].c.k[1]/=255,kt[Vt].c.k[2]/=255,kt[Vt].c.k[3]/=255}function er(kt){var Vt,Zt=kt.length;for(Vt=0;Vt<Zt;Vt+=1)kt[Vt].ty===4&&qt(kt[Vt].shapes)}return function(kt){if(Ft(Kt,kt.v)&&(er(kt.layers),kt.assets)){var Vt,Zt=kt.assets.length;for(Vt=0;Vt<Zt;Vt+=1)kt.assets[Vt].layers&&er(kt.assets[Vt].layers)}}}(),Ut=function(){var Kt=[4,4,18];function qt(kt){var Vt,Zt=kt.length,Wt,nr;for(Vt=Zt-1;Vt>=0;Vt-=1)if(kt[Vt].ty==="sh")if(kt[Vt].ks.k.i)kt[Vt].ks.k.c=kt[Vt].closed;else for(nr=kt[Vt].ks.k.length,Wt=0;Wt<nr;Wt+=1)kt[Vt].ks.k[Wt].s&&(kt[Vt].ks.k[Wt].s[0].c=kt[Vt].closed),kt[Vt].ks.k[Wt].e&&(kt[Vt].ks.k[Wt].e[0].c=kt[Vt].closed);else kt[Vt].ty==="gr"&&qt(kt[Vt].it)}function er(kt){var Vt,Zt,Wt=kt.length,nr,sr,lr,dr;for(Zt=0;Zt<Wt;Zt+=1){if(Vt=kt[Zt],Vt.hasMask){var hr=Vt.masksProperties;for(sr=hr.length,nr=0;nr<sr;nr+=1)if(hr[nr].pt.k.i)hr[nr].pt.k.c=hr[nr].cl;else for(dr=hr[nr].pt.k.length,lr=0;lr<dr;lr+=1)hr[nr].pt.k[lr].s&&(hr[nr].pt.k[lr].s[0].c=hr[nr].cl),hr[nr].pt.k[lr].e&&(hr[nr].pt.k[lr].e[0].c=hr[nr].cl)}Vt.ty===4&&qt(Vt.shapes)}}return function(kt){if(Ft(Kt,kt.v)&&(er(kt.layers),kt.assets)){var Vt,Zt=kt.assets.length;for(Vt=0;Vt<Zt;Vt+=1)kt.assets[Vt].layers&&er(kt.assets[Vt].layers)}}}();function zt(Kt){Kt.__complete||(Ot(Kt),Lt(Kt),wt(Kt),Dt(Kt),Ut(Kt),Tt(Kt.layers,Kt.assets),Ct(Kt.chars,Kt.assets),Kt.__complete=!0)}function tr(Kt){Kt.t.a.length===0&&"m"in Kt.t.p}var jt={};return jt.completeData=zt,jt.checkColors=Ot,jt.checkChars=wt,jt.checkPathProperties=Dt,jt.checkShapes=Ut,jt.completeLayers=Tt,jt}if(st.dataManager||(st.dataManager=St()),st.assetLoader||(st.assetLoader=function(){function Tt(Mt){var Et=Mt.getResponseHeader("content-type");return Et&&Mt.responseType==="json"&&Et.indexOf("json")!==-1||Mt.response&&_typeof$5(Mt.response)==="object"?Mt.response:Mt.response&&typeof Mt.response=="string"?JSON.parse(Mt.response):Mt.responseText?JSON.parse(Mt.responseText):null}function Ct(Mt,Et,Rt,Bt){var Ft,Lt=new XMLHttpRequest;try{Lt.responseType="json"}catch{}Lt.onreadystatechange=function(){if(Lt.readyState===4)if(Lt.status===200)Ft=Tt(Lt),Rt(Ft);else try{Ft=Tt(Lt),Rt(Ft)}catch(wt){Bt&&Bt(wt)}};try{Lt.open(["G","E","T"].join(""),Mt,!0)}catch{Lt.open(["G","E","T"].join(""),Et+"/"+Mt,!0)}Lt.send()}return{load:Ct}}()),vt.data.type==="loadAnimation")st.assetLoader.load(vt.data.path,vt.data.fullPath,function(Tt){st.dataManager.completeData(Tt),st.postMessage({id:vt.data.id,payload:Tt,status:"success"})},function(){st.postMessage({id:vt.data.id,status:"error"})});else if(vt.data.type==="complete"){var At=vt.data.animation;st.dataManager.completeData(At),st.postMessage({id:vt.data.id,payload:At,status:"success"})}else vt.data.type==="loadData"&&st.assetLoader.load(vt.data.path,vt.data.fullPath,function(Tt){st.postMessage({id:vt.data.id,payload:Tt,status:"success"})},function(){st.postMessage({id:vt.data.id,status:"error"})})}),rt.onmessage=function(pt){var vt=pt.data,St=vt.id,At=_e[St];_e[St]=null,vt.status==="success"?At.onComplete(vt.payload):At.onError&&At.onError()})}function lt(pt,vt){et+=1;var St="processId_"+et;return _e[St]={onComplete:pt,onError:vt},St}function ft(pt,vt,St){at();var At=lt(vt,St);rt.postMessage({type:"loadAnimation",path:pt,fullPath:window.location.origin+window.location.pathname,id:At})}function dt(pt,vt,St){at();var At=lt(vt,St);rt.postMessage({type:"loadData",path:pt,fullPath:window.location.origin+window.location.pathname,id:At})}function gt(pt,vt,St){at();var At=lt(vt,St);rt.postMessage({type:"complete",animation:pt,id:At})}return{loadAnimation:ft,loadData:dt,completeAnimation:gt}}(),ImagePreloader=function(){var et=function(){var Ct=createTag("canvas");Ct.width=1,Ct.height=1;var Mt=Ct.getContext("2d");return Mt.fillStyle="rgba(0,0,0,0)",Mt.fillRect(0,0,1,1),Ct}();function _e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(Ct,Mt,Et){var Rt="";if(Ct.e)Rt=Ct.p;else if(Mt){var Bt=Ct.p;Bt.indexOf("images/")!==-1&&(Bt=Bt.split("/")[1]),Rt=Mt+Bt}else Rt=Et,Rt+=Ct.u?Ct.u:"",Rt+=Ct.p;return Rt}function nt(Ct){var Mt=0,Et=setInterval(function(){var Rt=Ct.getBBox();(Rt.width||Mt>500)&&(this._imageLoaded(),clearInterval(Et)),Mt+=1}.bind(this),50)}function st(Ct){var Mt=rt(Ct,this.assetsPath,this.path),Et=createNS("image");isSafari?this.testImageLoaded(Et):Et.addEventListener("load",this._imageLoaded,!1),Et.addEventListener("error",function(){Rt.img=et,this._imageLoaded()}.bind(this),!1),Et.setAttributeNS("http://www.w3.org/1999/xlink","href",Mt),this._elementHelper.append?this._elementHelper.append(Et):this._elementHelper.appendChild(Et);var Rt={img:Et,assetData:Ct};return Rt}function ot(Ct){var Mt=rt(Ct,this.assetsPath,this.path),Et=createTag("img");Et.crossOrigin="anonymous",Et.addEventListener("load",this._imageLoaded,!1),Et.addEventListener("error",function(){Rt.img=et,this._imageLoaded()}.bind(this),!1),Et.src=Mt;var Rt={img:Et,assetData:Ct};return Rt}function at(Ct){var Mt={assetData:Ct},Et=rt(Ct,this.assetsPath,this.path);return dataManager.loadData(Et,function(Rt){Mt.img=Rt,this._footageLoaded()}.bind(this),function(){Mt.img={},this._footageLoaded()}.bind(this)),Mt}function lt(Ct,Mt){this.imagesLoadedCb=Mt;var Et,Rt=Ct.length;for(Et=0;Et<Rt;Et+=1)Ct[Et].layers||(!Ct[Et].t||Ct[Et].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Ct[Et]))):Ct[Et].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Ct[Et]))))}function ft(Ct){this.path=Ct||""}function dt(Ct){this.assetsPath=Ct||""}function gt(Ct){for(var Mt=0,Et=this.images.length;Mt<Et;){if(this.images[Mt].assetData===Ct)return this.images[Mt].img;Mt+=1}return null}function pt(){this.imagesLoadedCb=null,this.images.length=0}function vt(){return this.totalImages===this.loadedAssets}function St(){return this.totalFootages===this.loadedFootagesCount}function At(Ct,Mt){Ct==="svg"?(this._elementHelper=Mt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Tt(){this._imageLoaded=_e.bind(this),this._footageLoaded=tt.bind(this),this.testImageLoaded=nt.bind(this),this.createFootageData=at.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Tt.prototype={loadAssets:lt,setAssetsPath:dt,setPath:ft,loadedImages:vt,loadedFootages:St,destroy:pt,getAsset:gt,createImgData:ot,createImageData:st,imageLoaded:_e,footageLoaded:tt,setCacheType:At},Tt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(_e,tt){if(this._cbs[_e])for(var rt=this._cbs[_e],nt=0;nt<rt.length;nt+=1)rt[nt](tt)},addEventListener:function(_e,tt){return this._cbs[_e]||(this._cbs[_e]=[]),this._cbs[_e].push(tt),function(){this.removeEventListener(_e,tt)}.bind(this)},removeEventListener:function(_e,tt){if(!tt)this._cbs[_e]=null;else if(this._cbs[_e]){for(var rt=0,nt=this._cbs[_e].length;rt<nt;)this._cbs[_e][rt]===tt&&(this._cbs[_e].splice(rt,1),rt-=1,nt-=1),rt+=1;this._cbs[_e].length||(this._cbs[_e]=null)}}};var markerParser=function(){function et(_e){for(var tt=_e.split(`\r
`),rt={},nt,st=0,ot=0;ot<tt.length;ot+=1)nt=tt[ot].split(":"),nt.length===2&&(rt[nt[0]]=nt[1].trim(),st+=1);if(st===0)throw new Error;return rt}return function(_e){for(var tt=[],rt=0;rt<_e.length;rt+=1){var nt=_e[rt],st={time:nt.tm,duration:nt.dr};try{st.payload=JSON.parse(_e[rt].cm)}catch{try{st.payload=et(_e[rt].cm)}catch{st.payload={name:_e[rt].cm}}}tt.push(st)}return tt}}(),ProjectInterface=function(){function et(_e){this.compositions.push(_e)}return function(){function _e(tt){for(var rt=0,nt=this.compositions.length;rt<nt;){if(this.compositions[rt].data&&this.compositions[rt].data.nm===tt)return this.compositions[rt].prepareFrame&&this.compositions[rt].data.xt&&this.compositions[rt].prepareFrame(this.currentFrame),this.compositions[rt].compInterface;rt+=1}return null}return _e.compositions=[],_e.currentFrame=0,_e.registerComposition=et,_e}}(),renderers={},registerRenderer=function(_e,tt){renderers[_e]=tt};function getRenderer(et){return renderers[et]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var et in renderers)if(renderers[et])return et;return""}function _typeof$4(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(tt){return typeof tt}:_typeof$4=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$4(et)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(et){(et.wrapper||et.container)&&(this.wrapper=et.wrapper||et.container);var _e="svg";et.animType?_e=et.animType:et.renderer&&(_e=et.renderer);var tt=getRenderer(_e);this.renderer=new tt(this,et.rendererSettings),this.imagePreloader.setCacheType(_e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=_e,et.loop===""||et.loop===null||et.loop===void 0||et.loop===!0?this.loop=!0:et.loop===!1?this.loop=!1:this.loop=parseInt(et.loop,10),this.autoplay="autoplay"in et?et.autoplay:!0,this.name=et.name?et.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(et,"autoloadSegments")?et.autoloadSegments:!0,this.assetsPath=et.assetsPath,this.initialSegment=et.initialSegment,et.audioFactory&&this.audioController.setAudioFactory(et.audioFactory),et.animationData?this.setupAnimation(et.animationData):et.path&&(et.path.lastIndexOf("\\")!==-1?this.path=et.path.substr(0,et.path.lastIndexOf("\\")+1):this.path=et.path.substr(0,et.path.lastIndexOf("/")+1),this.fileName=et.path.substr(et.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(et.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(et){dataManager.completeAnimation(et,this.configAnimation)},AnimationItem.prototype.setData=function(et,_e){_e&&_typeof$4(_e)!=="object"&&(_e=JSON.parse(_e));var tt={wrapper:et,animationData:_e},rt=et.attributes;tt.path=rt.getNamedItem("data-animation-path")?rt.getNamedItem("data-animation-path").value:rt.getNamedItem("data-bm-path")?rt.getNamedItem("data-bm-path").value:rt.getNamedItem("bm-path")?rt.getNamedItem("bm-path").value:"",tt.animType=rt.getNamedItem("data-anim-type")?rt.getNamedItem("data-anim-type").value:rt.getNamedItem("data-bm-type")?rt.getNamedItem("data-bm-type").value:rt.getNamedItem("bm-type")?rt.getNamedItem("bm-type").value:rt.getNamedItem("data-bm-renderer")?rt.getNamedItem("data-bm-renderer").value:rt.getNamedItem("bm-renderer")?rt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var nt=rt.getNamedItem("data-anim-loop")?rt.getNamedItem("data-anim-loop").value:rt.getNamedItem("data-bm-loop")?rt.getNamedItem("data-bm-loop").value:rt.getNamedItem("bm-loop")?rt.getNamedItem("bm-loop").value:"";nt==="false"?tt.loop=!1:nt==="true"?tt.loop=!0:nt!==""&&(tt.loop=parseInt(nt,10));var st=rt.getNamedItem("data-anim-autoplay")?rt.getNamedItem("data-anim-autoplay").value:rt.getNamedItem("data-bm-autoplay")?rt.getNamedItem("data-bm-autoplay").value:rt.getNamedItem("bm-autoplay")?rt.getNamedItem("bm-autoplay").value:!0;tt.autoplay=st!=="false",tt.name=rt.getNamedItem("data-name")?rt.getNamedItem("data-name").value:rt.getNamedItem("data-bm-name")?rt.getNamedItem("data-bm-name").value:rt.getNamedItem("bm-name")?rt.getNamedItem("bm-name").value:"";var ot=rt.getNamedItem("data-anim-prerender")?rt.getNamedItem("data-anim-prerender").value:rt.getNamedItem("data-bm-prerender")?rt.getNamedItem("data-bm-prerender").value:rt.getNamedItem("bm-prerender")?rt.getNamedItem("bm-prerender").value:"";ot==="false"&&(tt.prerender=!1),tt.path?this.setParams(tt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(et){et.op>this.animationData.op&&(this.animationData.op=et.op,this.totalFrames=Math.floor(et.op-this.animationData.ip));var _e=this.animationData.layers,tt,rt=_e.length,nt=et.layers,st,ot=nt.length;for(st=0;st<ot;st+=1)for(tt=0;tt<rt;){if(_e[tt].id===nt[st].id){_e[tt]=nt[st];break}tt+=1}if((et.chars||et.fonts)&&(this.renderer.globalData.fontManager.addChars(et.chars),this.renderer.globalData.fontManager.addFonts(et.fonts,this.renderer.globalData.defs)),et.assets)for(rt=et.assets.length,tt=0;tt<rt;tt+=1)this.animationData.assets.push(et.assets[tt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(et){this.animationData=et;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var et=this.animationData.segments;if(!et||et.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var _e=et.shift();this.timeCompleted=_e.time*this.frameRate;var tt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(tt,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var et=this.animationData.segments;et||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(et){if(this.renderer)try{this.animationData=et,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(et),et.assets||(et.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(et.assets),this.markers=markerParser(et.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(_e){this.triggerConfigError(_e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(et,_e){var tt=typeof et=="number"?et:void 0,rt=typeof _e=="number"?_e:void 0;this.renderer.updateContainerSize(tt,rt)},AnimationItem.prototype.setSubframe=function(et){this.isSubframeEnabled=!!et},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(et){this.triggerRenderFrameError(et)}},AnimationItem.prototype.play=function(et){et&&this.name!==et||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(et){et&&this.name!==et||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(et){et&&this.name!==et||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(et){et&&this.name!==et||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(et){for(var _e,tt=0;tt<this.markers.length;tt+=1)if(_e=this.markers[tt],_e.payload&&_e.payload.name===et)return _e;return null},AnimationItem.prototype.goToAndStop=function(et,_e,tt){if(!(tt&&this.name!==tt)){var rt=Number(et);if(isNaN(rt)){var nt=this.getMarkerData(et);nt&&this.goToAndStop(nt.time,!0)}else _e?this.setCurrentRawFrameValue(et):this.setCurrentRawFrameValue(et*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(et,_e,tt){if(!(tt&&this.name!==tt)){var rt=Number(et);if(isNaN(rt)){var nt=this.getMarkerData(et);nt&&(nt.duration?this.playSegments([nt.time,nt.time+nt.duration],!0):this.goToAndStop(nt.time,!0))}else this.goToAndStop(rt,_e,tt);this.play()}},AnimationItem.prototype.advanceTime=function(et){if(!(this.isPaused===!0||this.isLoaded===!1)){var _e=this.currentRawFrame+et*this.frameModifier,tt=!1;_e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(_e>this.totalFrames?_e%this.totalFrames:0)||(tt=!0,_e=this.totalFrames-1):_e>=this.totalFrames?(this.playCount+=1,this.checkSegments(_e%this.totalFrames)||(this.setCurrentRawFrameValue(_e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(_e):_e<0?this.checkSegments(_e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+_e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(tt=!0,_e=0)):this.setCurrentRawFrameValue(_e),tt&&(this.setCurrentRawFrameValue(_e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(et,_e){this.playCount=0,et[1]<et[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=et[0]-et[1],this.timeCompleted=this.totalFrames,this.firstFrame=et[1],this.setCurrentRawFrameValue(this.totalFrames-.001-_e)):et[1]>et[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=et[1]-et[0],this.timeCompleted=this.totalFrames,this.firstFrame=et[0],this.setCurrentRawFrameValue(.001+_e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(et,_e){var tt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<et?tt=et:this.currentRawFrame+this.firstFrame>_e&&(tt=_e-et)),this.firstFrame=et,this.totalFrames=_e-et,this.timeCompleted=this.totalFrames,tt!==-1&&this.goToAndStop(tt,!0)},AnimationItem.prototype.playSegments=function(et,_e){if(_e&&(this.segments.length=0),_typeof$4(et[0])==="object"){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)this.segments.push(et[tt])}else this.segments.push(et);this.segments.length&&_e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(et){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),et&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(et){return this.segments.length?(this.adjustSegment(this.segments.shift(),et),!0):!1},AnimationItem.prototype.destroy=function(et){et&&this.name!==et||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(et){this.currentRawFrame=et,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(et){this.playSpeed=et,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(et){this.playDirection=et<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(et){this.loop=et},AnimationItem.prototype.setVolume=function(et,_e){_e&&this.name!==_e||this.audioController.setVolume(et)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(et){et&&this.name!==et||this.audioController.mute()},AnimationItem.prototype.unmute=function(et){et&&this.name!==et||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(et){var _e="";if(et.e)_e=et.p;else if(this.assetsPath){var tt=et.p;tt.indexOf("images/")!==-1&&(tt=tt.split("/")[1]),_e=this.assetsPath+tt}else _e=this.path,_e+=et.u?et.u:"",_e+=et.p;return _e},AnimationItem.prototype.getAssetData=function(et){for(var _e=0,tt=this.assets.length;_e<tt;){if(et===this.assets[_e].id)return this.assets[_e];_e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(et){return et?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(et,_e,tt){try{var rt=this.renderer.getElementByPath(et);rt.updateDocumentData(_e,tt)}catch{}},AnimationItem.prototype.trigger=function(et){if(this._cbs&&this._cbs[et])switch(et){case"enterFrame":this.triggerEvent(et,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(et,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(et,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(et,new BMCompleteEvent(et,this.frameMult));break;case"segmentStart":this.triggerEvent(et,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(et,new BMDestroyEvent(et,this));break;default:this.triggerEvent(et)}et==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameMult)),et==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult)),et==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(et,this.frameMult)),et==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames)),et==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(et,this))},AnimationItem.prototype.triggerRenderFrameError=function(et){var _e=new BMRenderFrameErrorEvent(et,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)},AnimationItem.prototype.triggerConfigError=function(et){var _e=new BMConfigErrorEvent(et,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)};var animationManager=function(){var et={},_e=[],tt=0,rt=0,nt=0,st=!0,ot=!1;function at(qt){for(var er=0,kt=qt.target;er<rt;)_e[er].animation===kt&&(_e.splice(er,1),er-=1,rt-=1,kt.isPaused||gt()),er+=1}function lt(qt,er){if(!qt)return null;for(var kt=0;kt<rt;){if(_e[kt].elem===qt&&_e[kt].elem!==null)return _e[kt].animation;kt+=1}var Vt=new AnimationItem;return pt(Vt,qt),Vt.setData(qt,er),Vt}function ft(){var qt,er=_e.length,kt=[];for(qt=0;qt<er;qt+=1)kt.push(_e[qt].animation);return kt}function dt(){nt+=1,Ot()}function gt(){nt-=1}function pt(qt,er){qt.addEventListener("destroy",at),qt.addEventListener("_active",dt),qt.addEventListener("_idle",gt),_e.push({elem:er,animation:qt}),rt+=1}function vt(qt){var er=new AnimationItem;return pt(er,null),er.setParams(qt),er}function St(qt,er){var kt;for(kt=0;kt<rt;kt+=1)_e[kt].animation.setSpeed(qt,er)}function At(qt,er){var kt;for(kt=0;kt<rt;kt+=1)_e[kt].animation.setDirection(qt,er)}function Tt(qt){var er;for(er=0;er<rt;er+=1)_e[er].animation.play(qt)}function Ct(qt){var er=qt-tt,kt;for(kt=0;kt<rt;kt+=1)_e[kt].animation.advanceTime(er);tt=qt,nt&&!ot?window.requestAnimationFrame(Ct):st=!0}function Mt(qt){tt=qt,window.requestAnimationFrame(Ct)}function Et(qt){var er;for(er=0;er<rt;er+=1)_e[er].animation.pause(qt)}function Rt(qt,er,kt){var Vt;for(Vt=0;Vt<rt;Vt+=1)_e[Vt].animation.goToAndStop(qt,er,kt)}function Bt(qt){var er;for(er=0;er<rt;er+=1)_e[er].animation.stop(qt)}function Ft(qt){var er;for(er=0;er<rt;er+=1)_e[er].animation.togglePause(qt)}function Lt(qt){var er;for(er=rt-1;er>=0;er-=1)_e[er].animation.destroy(qt)}function wt(qt,er,kt){var Vt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Zt,Wt=Vt.length;for(Zt=0;Zt<Wt;Zt+=1)kt&&Vt[Zt].setAttribute("data-bm-type",kt),lt(Vt[Zt],qt);if(er&&Wt===0){kt||(kt="svg");var nr=document.getElementsByTagName("body")[0];nr.innerText="";var sr=createTag("div");sr.style.width="100%",sr.style.height="100%",sr.setAttribute("data-bm-type",kt),nr.appendChild(sr),lt(sr,qt)}}function Dt(){var qt;for(qt=0;qt<rt;qt+=1)_e[qt].animation.resize()}function Ot(){!ot&&nt&&st&&(window.requestAnimationFrame(Mt),st=!1)}function Ut(){ot=!0}function zt(){ot=!1,Ot()}function tr(qt,er){var kt;for(kt=0;kt<rt;kt+=1)_e[kt].animation.setVolume(qt,er)}function jt(qt){var er;for(er=0;er<rt;er+=1)_e[er].animation.mute(qt)}function Kt(qt){var er;for(er=0;er<rt;er+=1)_e[er].animation.unmute(qt)}return et.registerAnimation=lt,et.loadAnimation=vt,et.setSpeed=St,et.setDirection=At,et.play=Tt,et.pause=Et,et.stop=Bt,et.togglePause=Ft,et.searchAnimations=wt,et.resize=Dt,et.goToAndStop=Rt,et.destroy=Lt,et.freeze=Ut,et.unfreeze=zt,et.setVolume=tr,et.mute=jt,et.unmute=Kt,et.getRegisteredAnimations=ft,et}(),BezierFactory=function(){var et={};et.getBezierEasing=tt;var _e={};function tt(Mt,Et,Rt,Bt,Ft){var Lt=Ft||("bez_"+Mt+"_"+Et+"_"+Rt+"_"+Bt).replace(/\./g,"p");if(_e[Lt])return _e[Lt];var wt=new Ct([Mt,Et,Rt,Bt]);return _e[Lt]=wt,wt}var rt=4,nt=.001,st=1e-7,ot=10,at=11,lt=1/(at-1),ft=typeof Float32Array=="function";function dt(Mt,Et){return 1-3*Et+3*Mt}function gt(Mt,Et){return 3*Et-6*Mt}function pt(Mt){return 3*Mt}function vt(Mt,Et,Rt){return((dt(Et,Rt)*Mt+gt(Et,Rt))*Mt+pt(Et))*Mt}function St(Mt,Et,Rt){return 3*dt(Et,Rt)*Mt*Mt+2*gt(Et,Rt)*Mt+pt(Et)}function At(Mt,Et,Rt,Bt,Ft){var Lt,wt,Dt=0;do wt=Et+(Rt-Et)/2,Lt=vt(wt,Bt,Ft)-Mt,Lt>0?Rt=wt:Et=wt;while(Math.abs(Lt)>st&&++Dt<ot);return wt}function Tt(Mt,Et,Rt,Bt){for(var Ft=0;Ft<rt;++Ft){var Lt=St(Et,Rt,Bt);if(Lt===0)return Et;var wt=vt(Et,Rt,Bt)-Mt;Et-=wt/Lt}return Et}function Ct(Mt){this._p=Mt,this._mSampleValues=ft?new Float32Array(at):new Array(at),this._precomputed=!1,this.get=this.get.bind(this)}return Ct.prototype={get:function(Et){var Rt=this._p[0],Bt=this._p[1],Ft=this._p[2],Lt=this._p[3];return this._precomputed||this._precompute(),Rt===Bt&&Ft===Lt?Et:Et===0?0:Et===1?1:vt(this._getTForX(Et),Bt,Lt)},_precompute:function(){var Et=this._p[0],Rt=this._p[1],Bt=this._p[2],Ft=this._p[3];this._precomputed=!0,(Et!==Rt||Bt!==Ft)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Et=this._p[0],Rt=this._p[2],Bt=0;Bt<at;++Bt)this._mSampleValues[Bt]=vt(Bt*lt,Et,Rt)},_getTForX:function(Et){for(var Rt=this._p[0],Bt=this._p[2],Ft=this._mSampleValues,Lt=0,wt=1,Dt=at-1;wt!==Dt&&Ft[wt]<=Et;++wt)Lt+=lt;--wt;var Ot=(Et-Ft[wt])/(Ft[wt+1]-Ft[wt]),Ut=Lt+Ot*lt,zt=St(Ut,Rt,Bt);return zt>=nt?Tt(Et,Ut,Rt,Bt):zt===0?Ut:At(Et,Lt,Lt+lt,Rt,Bt)}},et}(),pooling=function(){function et(_e){return _e.concat(createSizedArray(_e.length))}return{double:et}}(),poolFactory=function(){return function(et,_e,tt){var rt=0,nt=et,st=createSizedArray(nt),ot={newElement:at,release:lt};function at(){var ft;return rt?(rt-=1,ft=st[rt]):ft=_e(),ft}function lt(ft){rt===nt&&(st=pooling.double(st),nt*=2),tt&&tt(ft),st[rt]=ft,rt+=1}return ot}}(),bezierLengthPool=function(){function et(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,et)}(),segmentsLengthPool=function(){function et(){return{lengths:[],totalLength:0}}function _e(tt){var rt,nt=tt.lengths.length;for(rt=0;rt<nt;rt+=1)bezierLengthPool.release(tt.lengths[rt]);tt.lengths.length=0}return poolFactory(8,et,_e)}();function bezFunction(){var et=Math;function _e(pt,vt,St,At,Tt,Ct){var Mt=pt*At+vt*Tt+St*Ct-Tt*At-Ct*pt-St*vt;return Mt>-.001&&Mt<.001}function tt(pt,vt,St,At,Tt,Ct,Mt,Et,Rt){if(St===0&&Ct===0&&Rt===0)return _e(pt,vt,At,Tt,Mt,Et);var Bt=et.sqrt(et.pow(At-pt,2)+et.pow(Tt-vt,2)+et.pow(Ct-St,2)),Ft=et.sqrt(et.pow(Mt-pt,2)+et.pow(Et-vt,2)+et.pow(Rt-St,2)),Lt=et.sqrt(et.pow(Mt-At,2)+et.pow(Et-Tt,2)+et.pow(Rt-Ct,2)),wt;return Bt>Ft?Bt>Lt?wt=Bt-Ft-Lt:wt=Lt-Ft-Bt:Lt>Ft?wt=Lt-Ft-Bt:wt=Ft-Bt-Lt,wt>-1e-4&&wt<1e-4}var rt=function(){return function(pt,vt,St,At){var Tt=getDefaultCurveSegments(),Ct,Mt,Et,Rt,Bt,Ft=0,Lt,wt=[],Dt=[],Ot=bezierLengthPool.newElement();for(Et=St.length,Ct=0;Ct<Tt;Ct+=1){for(Bt=Ct/(Tt-1),Lt=0,Mt=0;Mt<Et;Mt+=1)Rt=bmPow(1-Bt,3)*pt[Mt]+3*bmPow(1-Bt,2)*Bt*St[Mt]+3*(1-Bt)*bmPow(Bt,2)*At[Mt]+bmPow(Bt,3)*vt[Mt],wt[Mt]=Rt,Dt[Mt]!==null&&(Lt+=bmPow(wt[Mt]-Dt[Mt],2)),Dt[Mt]=wt[Mt];Lt&&(Lt=bmSqrt(Lt),Ft+=Lt),Ot.percents[Ct]=Bt,Ot.lengths[Ct]=Ft}return Ot.addedLength=Ft,Ot}}();function nt(pt){var vt=segmentsLengthPool.newElement(),St=pt.c,At=pt.v,Tt=pt.o,Ct=pt.i,Mt,Et=pt._length,Rt=vt.lengths,Bt=0;for(Mt=0;Mt<Et-1;Mt+=1)Rt[Mt]=rt(At[Mt],At[Mt+1],Tt[Mt],Ct[Mt+1]),Bt+=Rt[Mt].addedLength;return St&&Et&&(Rt[Mt]=rt(At[Mt],At[0],Tt[Mt],Ct[0]),Bt+=Rt[Mt].addedLength),vt.totalLength=Bt,vt}function st(pt){this.segmentLength=0,this.points=new Array(pt)}function ot(pt,vt){this.partialLength=pt,this.point=vt}var at=function(){var pt={};return function(vt,St,At,Tt){var Ct=(vt[0]+"_"+vt[1]+"_"+St[0]+"_"+St[1]+"_"+At[0]+"_"+At[1]+"_"+Tt[0]+"_"+Tt[1]).replace(/\./g,"p");if(!pt[Ct]){var Mt=getDefaultCurveSegments(),Et,Rt,Bt,Ft,Lt,wt=0,Dt,Ot,Ut=null;vt.length===2&&(vt[0]!==St[0]||vt[1]!==St[1])&&_e(vt[0],vt[1],St[0],St[1],vt[0]+At[0],vt[1]+At[1])&&_e(vt[0],vt[1],St[0],St[1],St[0]+Tt[0],St[1]+Tt[1])&&(Mt=2);var zt=new st(Mt);for(Bt=At.length,Et=0;Et<Mt;Et+=1){for(Ot=createSizedArray(Bt),Lt=Et/(Mt-1),Dt=0,Rt=0;Rt<Bt;Rt+=1)Ft=bmPow(1-Lt,3)*vt[Rt]+3*bmPow(1-Lt,2)*Lt*(vt[Rt]+At[Rt])+3*(1-Lt)*bmPow(Lt,2)*(St[Rt]+Tt[Rt])+bmPow(Lt,3)*St[Rt],Ot[Rt]=Ft,Ut!==null&&(Dt+=bmPow(Ot[Rt]-Ut[Rt],2));Dt=bmSqrt(Dt),wt+=Dt,zt.points[Et]=new ot(Dt,Ot),Ut=Ot}zt.segmentLength=wt,pt[Ct]=zt}return pt[Ct]}}();function lt(pt,vt){var St=vt.percents,At=vt.lengths,Tt=St.length,Ct=bmFloor((Tt-1)*pt),Mt=pt*vt.addedLength,Et=0;if(Ct===Tt-1||Ct===0||Mt===At[Ct])return St[Ct];for(var Rt=At[Ct]>Mt?-1:1,Bt=!0;Bt;)if(At[Ct]<=Mt&&At[Ct+1]>Mt?(Et=(Mt-At[Ct])/(At[Ct+1]-At[Ct]),Bt=!1):Ct+=Rt,Ct<0||Ct>=Tt-1){if(Ct===Tt-1)return St[Ct];Bt=!1}return St[Ct]+(St[Ct+1]-St[Ct])*Et}function ft(pt,vt,St,At,Tt,Ct){var Mt=lt(Tt,Ct),Et=1-Mt,Rt=et.round((Et*Et*Et*pt[0]+(Mt*Et*Et+Et*Mt*Et+Et*Et*Mt)*St[0]+(Mt*Mt*Et+Et*Mt*Mt+Mt*Et*Mt)*At[0]+Mt*Mt*Mt*vt[0])*1e3)/1e3,Bt=et.round((Et*Et*Et*pt[1]+(Mt*Et*Et+Et*Mt*Et+Et*Et*Mt)*St[1]+(Mt*Mt*Et+Et*Mt*Mt+Mt*Et*Mt)*At[1]+Mt*Mt*Mt*vt[1])*1e3)/1e3;return[Rt,Bt]}var dt=createTypedArray("float32",8);function gt(pt,vt,St,At,Tt,Ct,Mt){Tt<0?Tt=0:Tt>1&&(Tt=1);var Et=lt(Tt,Mt);Ct=Ct>1?1:Ct;var Rt=lt(Ct,Mt),Bt,Ft=pt.length,Lt=1-Et,wt=1-Rt,Dt=Lt*Lt*Lt,Ot=Et*Lt*Lt*3,Ut=Et*Et*Lt*3,zt=Et*Et*Et,tr=Lt*Lt*wt,jt=Et*Lt*wt+Lt*Et*wt+Lt*Lt*Rt,Kt=Et*Et*wt+Lt*Et*Rt+Et*Lt*Rt,qt=Et*Et*Rt,er=Lt*wt*wt,kt=Et*wt*wt+Lt*Rt*wt+Lt*wt*Rt,Vt=Et*Rt*wt+Lt*Rt*Rt+Et*wt*Rt,Zt=Et*Rt*Rt,Wt=wt*wt*wt,nr=Rt*wt*wt+wt*Rt*wt+wt*wt*Rt,sr=Rt*Rt*wt+wt*Rt*Rt+Rt*wt*Rt,lr=Rt*Rt*Rt;for(Bt=0;Bt<Ft;Bt+=1)dt[Bt*4]=et.round((Dt*pt[Bt]+Ot*St[Bt]+Ut*At[Bt]+zt*vt[Bt])*1e3)/1e3,dt[Bt*4+1]=et.round((tr*pt[Bt]+jt*St[Bt]+Kt*At[Bt]+qt*vt[Bt])*1e3)/1e3,dt[Bt*4+2]=et.round((er*pt[Bt]+kt*St[Bt]+Vt*At[Bt]+Zt*vt[Bt])*1e3)/1e3,dt[Bt*4+3]=et.round((Wt*pt[Bt]+nr*St[Bt]+sr*At[Bt]+lr*vt[Bt])*1e3)/1e3;return dt}return{getSegmentsLength:nt,getNewSegment:gt,getPointInSegment:ft,buildBezierData:at,pointOnLine2D:_e,pointOnLine3D:tt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(et,_e){var tt=this.offsetTime,rt;this.propType==="multidimensional"&&(rt=createTypedArray("float32",this.pv.length));for(var nt=_e.lastIndex,st=nt,ot=this.keyframes.length-1,at=!0,lt,ft,dt;at;){if(lt=this.keyframes[st],ft=this.keyframes[st+1],st===ot-1&&et>=ft.t-tt){lt.h&&(lt=ft),nt=0;break}if(ft.t-tt>et){nt=st;break}st<ot-1?st+=1:(nt=0,at=!1)}dt=this.keyframesMetadata[st]||{};var gt,pt,vt,St,At,Tt,Ct=ft.t-tt,Mt=lt.t-tt,Et;if(lt.to){dt.bezierData||(dt.bezierData=bez.buildBezierData(lt.s,ft.s||lt.e,lt.to,lt.ti));var Rt=dt.bezierData;if(et>=Ct||et<Mt){var Bt=et>=Ct?Rt.points.length-1:0;for(pt=Rt.points[Bt].point.length,gt=0;gt<pt;gt+=1)rt[gt]=Rt.points[Bt].point[gt]}else{dt.__fnct?Tt=dt.__fnct:(Tt=BezierFactory.getBezierEasing(lt.o.x,lt.o.y,lt.i.x,lt.i.y,lt.n).get,dt.__fnct=Tt),vt=Tt((et-Mt)/(Ct-Mt));var Ft=Rt.segmentLength*vt,Lt,wt=_e.lastFrame<et&&_e._lastKeyframeIndex===st?_e._lastAddedLength:0;for(At=_e.lastFrame<et&&_e._lastKeyframeIndex===st?_e._lastPoint:0,at=!0,St=Rt.points.length;at;){if(wt+=Rt.points[At].partialLength,Ft===0||vt===0||At===Rt.points.length-1){for(pt=Rt.points[At].point.length,gt=0;gt<pt;gt+=1)rt[gt]=Rt.points[At].point[gt];break}else if(Ft>=wt&&Ft<wt+Rt.points[At+1].partialLength){for(Lt=(Ft-wt)/Rt.points[At+1].partialLength,pt=Rt.points[At].point.length,gt=0;gt<pt;gt+=1)rt[gt]=Rt.points[At].point[gt]+(Rt.points[At+1].point[gt]-Rt.points[At].point[gt])*Lt;break}At<St-1?At+=1:at=!1}_e._lastPoint=At,_e._lastAddedLength=wt-Rt.points[At].partialLength,_e._lastKeyframeIndex=st}}else{var Dt,Ot,Ut,zt,tr;if(ot=lt.s.length,Et=ft.s||lt.e,this.sh&&lt.h!==1)if(et>=Ct)rt[0]=Et[0],rt[1]=Et[1],rt[2]=Et[2];else if(et<=Mt)rt[0]=lt.s[0],rt[1]=lt.s[1],rt[2]=lt.s[2];else{var jt=createQuaternion(lt.s),Kt=createQuaternion(Et),qt=(et-Mt)/(Ct-Mt);quaternionToEuler(rt,slerp(jt,Kt,qt))}else for(st=0;st<ot;st+=1)lt.h!==1&&(et>=Ct?vt=1:et<Mt?vt=0:(lt.o.x.constructor===Array?(dt.__fnct||(dt.__fnct=[]),dt.__fnct[st]?Tt=dt.__fnct[st]:(Dt=lt.o.x[st]===void 0?lt.o.x[0]:lt.o.x[st],Ot=lt.o.y[st]===void 0?lt.o.y[0]:lt.o.y[st],Ut=lt.i.x[st]===void 0?lt.i.x[0]:lt.i.x[st],zt=lt.i.y[st]===void 0?lt.i.y[0]:lt.i.y[st],Tt=BezierFactory.getBezierEasing(Dt,Ot,Ut,zt).get,dt.__fnct[st]=Tt)):dt.__fnct?Tt=dt.__fnct:(Dt=lt.o.x,Ot=lt.o.y,Ut=lt.i.x,zt=lt.i.y,Tt=BezierFactory.getBezierEasing(Dt,Ot,Ut,zt).get,lt.keyframeMetadata=Tt),vt=Tt((et-Mt)/(Ct-Mt)))),Et=ft.s||lt.e,tr=lt.h===1?lt.s[st]:lt.s[st]+(Et[st]-lt.s[st])*vt,this.propType==="multidimensional"?rt[st]=tr:rt=tr}return _e.lastIndex=nt,rt}function slerp(et,_e,tt){var rt=[],nt=et[0],st=et[1],ot=et[2],at=et[3],lt=_e[0],ft=_e[1],dt=_e[2],gt=_e[3],pt,vt,St,At,Tt;return vt=nt*lt+st*ft+ot*dt+at*gt,vt<0&&(vt=-vt,lt=-lt,ft=-ft,dt=-dt,gt=-gt),1-vt>1e-6?(pt=Math.acos(vt),St=Math.sin(pt),At=Math.sin((1-tt)*pt)/St,Tt=Math.sin(tt*pt)/St):(At=1-tt,Tt=tt),rt[0]=At*nt+Tt*lt,rt[1]=At*st+Tt*ft,rt[2]=At*ot+Tt*dt,rt[3]=At*at+Tt*gt,rt}function quaternionToEuler(et,_e){var tt=_e[0],rt=_e[1],nt=_e[2],st=_e[3],ot=Math.atan2(2*rt*st-2*tt*nt,1-2*rt*rt-2*nt*nt),at=Math.asin(2*tt*rt+2*nt*st),lt=Math.atan2(2*tt*st-2*rt*nt,1-2*tt*tt-2*nt*nt);et[0]=ot/degToRads,et[1]=at/degToRads,et[2]=lt/degToRads}function createQuaternion(et){var _e=et[0]*degToRads,tt=et[1]*degToRads,rt=et[2]*degToRads,nt=Math.cos(_e/2),st=Math.cos(tt/2),ot=Math.cos(rt/2),at=Math.sin(_e/2),lt=Math.sin(tt/2),ft=Math.sin(rt/2),dt=nt*st*ot-at*lt*ft,gt=at*lt*ot+nt*st*ft,pt=at*st*ot+nt*lt*ft,vt=nt*lt*ot-at*st*ft;return[gt,pt,vt,dt]}function getValueAtCurrentTime(){var et=this.comp.renderedFrame-this.offsetTime,_e=this.keyframes[0].t-this.offsetTime,tt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(et===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=tt&&et>=tt||this._caching.lastFrame<_e&&et<_e))){this._caching.lastFrame>=et&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var rt=this.interpolateValue(et,this._caching);this.pv=rt}return this._caching.lastFrame=et,this.pv}function setVValue(et){var _e;if(this.propType==="unidimensional")_e=et*this.mult,mathAbs(this.v-_e)>1e-5&&(this.v=_e,this._mdf=!0);else for(var tt=0,rt=this.v.length;tt<rt;)_e=et[tt]*this.mult,mathAbs(this.v[tt]-_e)>1e-5&&(this.v[tt]=_e,this._mdf=!0),tt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var et,_e=this.effectsSequence.length,tt=this.kf?this.pv:this.data.k;for(et=0;et<_e;et+=1)tt=this.effectsSequence[et](tt);this.setVValue(tt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(et){this.effectsSequence.push(et),this.container.addDynamicProperty(this)}function ValueProperty(et,_e,tt,rt){this.propType="unidimensional",this.mult=tt||1,this.data=_e,this.v=tt?_e.k*tt:_e.k,this.pv=_e.k,this._mdf=!1,this.elem=et,this.container=rt,this.comp=et.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(et,_e,tt,rt){this.propType="multidimensional",this.mult=tt||1,this.data=_e,this._mdf=!1,this.elem=et,this.container=rt,this.comp=et.comp,this.k=!1,this.kf=!1,this.frameId=-1;var nt,st=_e.k.length;for(this.v=createTypedArray("float32",st),this.pv=createTypedArray("float32",st),this.vel=createTypedArray("float32",st),nt=0;nt<st;nt+=1)this.v[nt]=_e.k[nt]*this.mult,this.pv[nt]=_e.k[nt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(et,_e,tt,rt){this.propType="unidimensional",this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=_e,this.mult=tt||1,this.elem=et,this.container=rt,this.comp=et.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(et,_e,tt,rt){this.propType="multidimensional";var nt,st=_e.k.length,ot,at,lt,ft;for(nt=0;nt<st-1;nt+=1)_e.k[nt].to&&_e.k[nt].s&&_e.k[nt+1]&&_e.k[nt+1].s&&(ot=_e.k[nt].s,at=_e.k[nt+1].s,lt=_e.k[nt].to,ft=_e.k[nt].ti,(ot.length===2&&!(ot[0]===at[0]&&ot[1]===at[1])&&bez.pointOnLine2D(ot[0],ot[1],at[0],at[1],ot[0]+lt[0],ot[1]+lt[1])&&bez.pointOnLine2D(ot[0],ot[1],at[0],at[1],at[0]+ft[0],at[1]+ft[1])||ot.length===3&&!(ot[0]===at[0]&&ot[1]===at[1]&&ot[2]===at[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],at[0],at[1],at[2],ot[0]+lt[0],ot[1]+lt[1],ot[2]+lt[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],at[0],at[1],at[2],at[0]+ft[0],at[1]+ft[1],at[2]+ft[2]))&&(_e.k[nt].to=null,_e.k[nt].ti=null),ot[0]===at[0]&&ot[1]===at[1]&&lt[0]===0&&lt[1]===0&&ft[0]===0&&ft[1]===0&&(ot.length===2||ot[2]===at[2]&&lt[2]===0&&ft[2]===0)&&(_e.k[nt].to=null,_e.k[nt].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=_e,this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=tt||1,this.elem=et,this.container=rt,this.comp=et.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var dt=_e.k[0].s.length;for(this.v=createTypedArray("float32",dt),this.pv=createTypedArray("float32",dt),nt=0;nt<dt;nt+=1)this.v[nt]=initFrame,this.pv[nt]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",dt)},this.addEffect=addEffect}var PropertyFactory=function(){function et(tt,rt,nt,st,ot){rt.sid&&(rt=tt.globalData.slotManager.getProp(rt));var at;if(!rt.k.length)at=new ValueProperty(tt,rt,st,ot);else if(typeof rt.k[0]=="number")at=new MultiDimensionalProperty(tt,rt,st,ot);else switch(nt){case 0:at=new KeyframedValueProperty(tt,rt,st,ot);break;case 1:at=new KeyframedMultidimensionalProperty(tt,rt,st,ot);break}return at.effectsSequence.length&&ot.addDynamicProperty(at),at}var _e={getProp:et};return _e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&(this.dynamicProperties.push(_e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var _e,tt=this.dynamicProperties.length;for(_e=0;_e<tt;_e+=1)this.dynamicProperties[_e].getValue(),this.dynamicProperties[_e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(_e){this.container=_e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function et(){return createTypedArray("float32",2)}return poolFactory(8,et)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(et,_e){this.c=et,this.setLength(_e);for(var tt=0;tt<_e;)this.v[tt]=pointPool.newElement(),this.o[tt]=pointPool.newElement(),this.i[tt]=pointPool.newElement(),tt+=1},ShapePath.prototype.setLength=function(et){for(;this._maxLength<et;)this.doubleArrayLength();this._length=et},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(et,_e,tt,rt,nt){var st;switch(this._length=Math.max(this._length,rt+1),this._length>=this._maxLength&&this.doubleArrayLength(),tt){case"v":st=this.v;break;case"i":st=this.i;break;case"o":st=this.o;break;default:st=[];break}(!st[rt]||st[rt]&&!nt)&&(st[rt]=pointPool.newElement()),st[rt][0]=et,st[rt][1]=_e},ShapePath.prototype.setTripleAt=function(et,_e,tt,rt,nt,st,ot,at){this.setXYAt(et,_e,"v",ot,at),this.setXYAt(tt,rt,"o",ot,at),this.setXYAt(nt,st,"i",ot,at)},ShapePath.prototype.reverse=function(){var et=new ShapePath;et.setPathData(this.c,this._length);var _e=this.v,tt=this.o,rt=this.i,nt=0;this.c&&(et.setTripleAt(_e[0][0],_e[0][1],rt[0][0],rt[0][1],tt[0][0],tt[0][1],0,!1),nt=1);var st=this._length-1,ot=this._length,at;for(at=nt;at<ot;at+=1)et.setTripleAt(_e[st][0],_e[st][1],rt[st][0],rt[st][1],tt[st][0],tt[st][1],at,!1),st-=1;return et},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function et(){return new ShapePath}function _e(nt){var st=nt._length,ot;for(ot=0;ot<st;ot+=1)pointPool.release(nt.v[ot]),pointPool.release(nt.i[ot]),pointPool.release(nt.o[ot]),nt.v[ot]=null,nt.i[ot]=null,nt.o[ot]=null;nt._length=0,nt.c=!1}function tt(nt){var st=rt.newElement(),ot,at=nt._length===void 0?nt.v.length:nt._length;for(st.setLength(at),st.c=nt.c,ot=0;ot<at;ot+=1)st.setTripleAt(nt.v[ot][0],nt.v[ot][1],nt.o[ot][0],nt.o[ot][1],nt.i[ot][0],nt.i[ot][1],ot);return st}var rt=poolFactory(4,et,_e);return rt.clone=tt,rt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(et){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=et,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var et;for(et=0;et<this._length;et+=1)shapePool.release(this.shapes[et]);this._length=0};var shapeCollectionPool=function(){var et={newShapeCollection:nt,release:st},_e=0,tt=4,rt=createSizedArray(tt);function nt(){var ot;return _e?(_e-=1,ot=rt[_e]):ot=new ShapeCollection,ot}function st(ot){var at,lt=ot._length;for(at=0;at<lt;at+=1)shapePool.release(ot.shapes[at]);ot._length=0,_e===tt&&(rt=pooling.double(rt),tt*=2),rt[_e]=ot,_e+=1}return et}(),ShapePropertyFactory=function(){var et=-999999;function _e(Ct,Mt,Et){var Rt=Et.lastIndex,Bt,Ft,Lt,wt,Dt,Ot,Ut,zt,tr,jt=this.keyframes;if(Ct<jt[0].t-this.offsetTime)Bt=jt[0].s[0],Lt=!0,Rt=0;else if(Ct>=jt[jt.length-1].t-this.offsetTime)Bt=jt[jt.length-1].s?jt[jt.length-1].s[0]:jt[jt.length-2].e[0],Lt=!0;else{for(var Kt=Rt,qt=jt.length-1,er=!0,kt,Vt,Zt;er&&(kt=jt[Kt],Vt=jt[Kt+1],!(Vt.t-this.offsetTime>Ct));)Kt<qt-1?Kt+=1:er=!1;if(Zt=this.keyframesMetadata[Kt]||{},Lt=kt.h===1,Rt=Kt,!Lt){if(Ct>=Vt.t-this.offsetTime)zt=1;else if(Ct<kt.t-this.offsetTime)zt=0;else{var Wt;Zt.__fnct?Wt=Zt.__fnct:(Wt=BezierFactory.getBezierEasing(kt.o.x,kt.o.y,kt.i.x,kt.i.y).get,Zt.__fnct=Wt),zt=Wt((Ct-(kt.t-this.offsetTime))/(Vt.t-this.offsetTime-(kt.t-this.offsetTime)))}Ft=Vt.s?Vt.s[0]:kt.e[0]}Bt=kt.s[0]}for(Ot=Mt._length,Ut=Bt.i[0].length,Et.lastIndex=Rt,wt=0;wt<Ot;wt+=1)for(Dt=0;Dt<Ut;Dt+=1)tr=Lt?Bt.i[wt][Dt]:Bt.i[wt][Dt]+(Ft.i[wt][Dt]-Bt.i[wt][Dt])*zt,Mt.i[wt][Dt]=tr,tr=Lt?Bt.o[wt][Dt]:Bt.o[wt][Dt]+(Ft.o[wt][Dt]-Bt.o[wt][Dt])*zt,Mt.o[wt][Dt]=tr,tr=Lt?Bt.v[wt][Dt]:Bt.v[wt][Dt]+(Ft.v[wt][Dt]-Bt.v[wt][Dt])*zt,Mt.v[wt][Dt]=tr}function tt(){var Ct=this.comp.renderedFrame-this.offsetTime,Mt=this.keyframes[0].t-this.offsetTime,Et=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Rt=this._caching.lastFrame;return Rt!==et&&(Rt<Mt&&Ct<Mt||Rt>Et&&Ct>Et)||(this._caching.lastIndex=Rt<Ct?this._caching.lastIndex:0,this.interpolateShape(Ct,this.pv,this._caching)),this._caching.lastFrame=Ct,this.pv}function rt(){this.paths=this.localShapeCollection}function nt(Ct,Mt){if(Ct._length!==Mt._length||Ct.c!==Mt.c)return!1;var Et,Rt=Ct._length;for(Et=0;Et<Rt;Et+=1)if(Ct.v[Et][0]!==Mt.v[Et][0]||Ct.v[Et][1]!==Mt.v[Et][1]||Ct.o[Et][0]!==Mt.o[Et][0]||Ct.o[Et][1]!==Mt.o[Et][1]||Ct.i[Et][0]!==Mt.i[Et][0]||Ct.i[Et][1]!==Mt.i[Et][1])return!1;return!0}function st(Ct){nt(this.v,Ct)||(this.v=shapePool.clone(Ct),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ot(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Ct;this.kf?Ct=this.pv:this.data.ks?Ct=this.data.ks.k:Ct=this.data.pt.k;var Mt,Et=this.effectsSequence.length;for(Mt=0;Mt<Et;Mt+=1)Ct=this.effectsSequence[Mt](Ct);this.setVValue(Ct),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function at(Ct,Mt,Et){this.propType="shape",this.comp=Ct.comp,this.container=Ct,this.elem=Ct,this.data=Mt,this.k=!1,this.kf=!1,this._mdf=!1;var Rt=Et===3?Mt.pt.k:Mt.ks.k;this.v=shapePool.clone(Rt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=rt,this.effectsSequence=[]}function lt(Ct){this.effectsSequence.push(Ct),this.container.addDynamicProperty(this)}at.prototype.interpolateShape=_e,at.prototype.getValue=ot,at.prototype.setVValue=st,at.prototype.addEffect=lt;function ft(Ct,Mt,Et){this.propType="shape",this.comp=Ct.comp,this.elem=Ct,this.container=Ct,this.offsetTime=Ct.data.st,this.keyframes=Et===3?Mt.pt.k:Mt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Rt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Rt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=et,this.reset=rt,this._caching={lastFrame:et,lastIndex:0},this.effectsSequence=[tt.bind(this)]}ft.prototype.getValue=ot,ft.prototype.interpolateShape=_e,ft.prototype.setVValue=st,ft.prototype.addEffect=lt;var dt=function(){var Ct=roundCorner;function Mt(Et,Rt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Rt.d,this.elem=Et,this.comp=Et.comp,this.frameId=-1,this.initDynamicPropertyContainer(Et),this.p=PropertyFactory.getProp(Et,Rt.p,1,0,this),this.s=PropertyFactory.getProp(Et,Rt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Mt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Rt=this.p.v[0],Bt=this.p.v[1],Ft=this.s.v[0]/2,Lt=this.s.v[1]/2,wt=this.d!==3,Dt=this.v;Dt.v[0][0]=Rt,Dt.v[0][1]=Bt-Lt,Dt.v[1][0]=wt?Rt+Ft:Rt-Ft,Dt.v[1][1]=Bt,Dt.v[2][0]=Rt,Dt.v[2][1]=Bt+Lt,Dt.v[3][0]=wt?Rt-Ft:Rt+Ft,Dt.v[3][1]=Bt,Dt.i[0][0]=wt?Rt-Ft*Ct:Rt+Ft*Ct,Dt.i[0][1]=Bt-Lt,Dt.i[1][0]=wt?Rt+Ft:Rt-Ft,Dt.i[1][1]=Bt-Lt*Ct,Dt.i[2][0]=wt?Rt+Ft*Ct:Rt-Ft*Ct,Dt.i[2][1]=Bt+Lt,Dt.i[3][0]=wt?Rt-Ft:Rt+Ft,Dt.i[3][1]=Bt+Lt*Ct,Dt.o[0][0]=wt?Rt+Ft*Ct:Rt-Ft*Ct,Dt.o[0][1]=Bt-Lt,Dt.o[1][0]=wt?Rt+Ft:Rt-Ft,Dt.o[1][1]=Bt+Lt*Ct,Dt.o[2][0]=wt?Rt-Ft*Ct:Rt+Ft*Ct,Dt.o[2][1]=Bt+Lt,Dt.o[3][0]=wt?Rt-Ft:Rt+Ft,Dt.o[3][1]=Bt-Lt*Ct}},extendPrototype([DynamicPropertyContainer],Mt),Mt}(),gt=function(){function Ct(Mt,Et){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Mt,this.comp=Mt.comp,this.data=Et,this.frameId=-1,this.d=Et.d,this.initDynamicPropertyContainer(Mt),Et.sy===1?(this.ir=PropertyFactory.getProp(Mt,Et.ir,0,0,this),this.is=PropertyFactory.getProp(Mt,Et.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Mt,Et.pt,0,0,this),this.p=PropertyFactory.getProp(Mt,Et.p,1,0,this),this.r=PropertyFactory.getProp(Mt,Et.r,0,degToRads,this),this.or=PropertyFactory.getProp(Mt,Et.or,0,0,this),this.os=PropertyFactory.getProp(Mt,Et.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Ct.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Et=Math.floor(this.pt.v)*2,Rt=Math.PI*2/Et,Bt=!0,Ft=this.or.v,Lt=this.ir.v,wt=this.os.v,Dt=this.is.v,Ot=2*Math.PI*Ft/(Et*2),Ut=2*Math.PI*Lt/(Et*2),zt,tr,jt,Kt,qt=-Math.PI/2;qt+=this.r.v;var er=this.data.d===3?-1:1;for(this.v._length=0,zt=0;zt<Et;zt+=1){tr=Bt?Ft:Lt,jt=Bt?wt:Dt,Kt=Bt?Ot:Ut;var kt=tr*Math.cos(qt),Vt=tr*Math.sin(qt),Zt=kt===0&&Vt===0?0:Vt/Math.sqrt(kt*kt+Vt*Vt),Wt=kt===0&&Vt===0?0:-kt/Math.sqrt(kt*kt+Vt*Vt);kt+=+this.p.v[0],Vt+=+this.p.v[1],this.v.setTripleAt(kt,Vt,kt-Zt*Kt*jt*er,Vt-Wt*Kt*jt*er,kt+Zt*Kt*jt*er,Vt+Wt*Kt*jt*er,zt,!0),Bt=!Bt,qt+=Rt*er}},convertPolygonToPath:function(){var Et=Math.floor(this.pt.v),Rt=Math.PI*2/Et,Bt=this.or.v,Ft=this.os.v,Lt=2*Math.PI*Bt/(Et*4),wt,Dt=-Math.PI*.5,Ot=this.data.d===3?-1:1;for(Dt+=this.r.v,this.v._length=0,wt=0;wt<Et;wt+=1){var Ut=Bt*Math.cos(Dt),zt=Bt*Math.sin(Dt),tr=Ut===0&&zt===0?0:zt/Math.sqrt(Ut*Ut+zt*zt),jt=Ut===0&&zt===0?0:-Ut/Math.sqrt(Ut*Ut+zt*zt);Ut+=+this.p.v[0],zt+=+this.p.v[1],this.v.setTripleAt(Ut,zt,Ut-tr*Lt*Ft*Ot,zt-jt*Lt*Ft*Ot,Ut+tr*Lt*Ft*Ot,zt+jt*Lt*Ft*Ot,wt,!0),Dt+=Rt*Ot}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Ct),Ct}(),pt=function(){function Ct(Mt,Et){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Mt,this.comp=Mt.comp,this.frameId=-1,this.d=Et.d,this.initDynamicPropertyContainer(Mt),this.p=PropertyFactory.getProp(Mt,Et.p,1,0,this),this.s=PropertyFactory.getProp(Mt,Et.s,1,0,this),this.r=PropertyFactory.getProp(Mt,Et.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Ct.prototype={convertRectToPath:function(){var Et=this.p.v[0],Rt=this.p.v[1],Bt=this.s.v[0]/2,Ft=this.s.v[1]/2,Lt=bmMin(Bt,Ft,this.r.v),wt=Lt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Et+Bt,Rt-Ft+Lt,Et+Bt,Rt-Ft+Lt,Et+Bt,Rt-Ft+wt,0,!0),this.v.setTripleAt(Et+Bt,Rt+Ft-Lt,Et+Bt,Rt+Ft-wt,Et+Bt,Rt+Ft-Lt,1,!0),Lt!==0?(this.v.setTripleAt(Et+Bt-Lt,Rt+Ft,Et+Bt-Lt,Rt+Ft,Et+Bt-wt,Rt+Ft,2,!0),this.v.setTripleAt(Et-Bt+Lt,Rt+Ft,Et-Bt+wt,Rt+Ft,Et-Bt+Lt,Rt+Ft,3,!0),this.v.setTripleAt(Et-Bt,Rt+Ft-Lt,Et-Bt,Rt+Ft-Lt,Et-Bt,Rt+Ft-wt,4,!0),this.v.setTripleAt(Et-Bt,Rt-Ft+Lt,Et-Bt,Rt-Ft+wt,Et-Bt,Rt-Ft+Lt,5,!0),this.v.setTripleAt(Et-Bt+Lt,Rt-Ft,Et-Bt+Lt,Rt-Ft,Et-Bt+wt,Rt-Ft,6,!0),this.v.setTripleAt(Et+Bt-Lt,Rt-Ft,Et+Bt-wt,Rt-Ft,Et+Bt-Lt,Rt-Ft,7,!0)):(this.v.setTripleAt(Et-Bt,Rt+Ft,Et-Bt+wt,Rt+Ft,Et-Bt,Rt+Ft,2),this.v.setTripleAt(Et-Bt,Rt-Ft,Et-Bt,Rt-Ft+wt,Et-Bt,Rt-Ft,3))):(this.v.setTripleAt(Et+Bt,Rt-Ft+Lt,Et+Bt,Rt-Ft+wt,Et+Bt,Rt-Ft+Lt,0,!0),Lt!==0?(this.v.setTripleAt(Et+Bt-Lt,Rt-Ft,Et+Bt-Lt,Rt-Ft,Et+Bt-wt,Rt-Ft,1,!0),this.v.setTripleAt(Et-Bt+Lt,Rt-Ft,Et-Bt+wt,Rt-Ft,Et-Bt+Lt,Rt-Ft,2,!0),this.v.setTripleAt(Et-Bt,Rt-Ft+Lt,Et-Bt,Rt-Ft+Lt,Et-Bt,Rt-Ft+wt,3,!0),this.v.setTripleAt(Et-Bt,Rt+Ft-Lt,Et-Bt,Rt+Ft-wt,Et-Bt,Rt+Ft-Lt,4,!0),this.v.setTripleAt(Et-Bt+Lt,Rt+Ft,Et-Bt+Lt,Rt+Ft,Et-Bt+wt,Rt+Ft,5,!0),this.v.setTripleAt(Et+Bt-Lt,Rt+Ft,Et+Bt-wt,Rt+Ft,Et+Bt-Lt,Rt+Ft,6,!0),this.v.setTripleAt(Et+Bt,Rt+Ft-Lt,Et+Bt,Rt+Ft-Lt,Et+Bt,Rt+Ft-wt,7,!0)):(this.v.setTripleAt(Et-Bt,Rt-Ft,Et-Bt+wt,Rt-Ft,Et-Bt,Rt-Ft,1,!0),this.v.setTripleAt(Et-Bt,Rt+Ft,Et-Bt,Rt+Ft-wt,Et-Bt,Rt+Ft,2,!0),this.v.setTripleAt(Et+Bt,Rt+Ft,Et+Bt-wt,Rt+Ft,Et+Bt,Rt+Ft,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:rt},extendPrototype([DynamicPropertyContainer],Ct),Ct}();function vt(Ct,Mt,Et){var Rt;if(Et===3||Et===4){var Bt=Et===3?Mt.pt:Mt.ks,Ft=Bt.k;Ft.length?Rt=new ft(Ct,Mt,Et):Rt=new at(Ct,Mt,Et)}else Et===5?Rt=new pt(Ct,Mt):Et===6?Rt=new dt(Ct,Mt):Et===7&&(Rt=new gt(Ct,Mt));return Rt.k&&Ct.addDynamicProperty(Rt),Rt}function St(){return at}function At(){return ft}var Tt={};return Tt.getShapeProp=vt,Tt.getConstructorFunction=St,Tt.getKeyframedConstructorFunction=At,Tt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var et=Math.cos,_e=Math.sin,tt=Math.tan,rt=Math.round;function nt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function st(kt){if(kt===0)return this;var Vt=et(kt),Zt=_e(kt);return this._t(Vt,-Zt,0,0,Zt,Vt,0,0,0,0,1,0,0,0,0,1)}function ot(kt){if(kt===0)return this;var Vt=et(kt),Zt=_e(kt);return this._t(1,0,0,0,0,Vt,-Zt,0,0,Zt,Vt,0,0,0,0,1)}function at(kt){if(kt===0)return this;var Vt=et(kt),Zt=_e(kt);return this._t(Vt,0,Zt,0,0,1,0,0,-Zt,0,Vt,0,0,0,0,1)}function lt(kt){if(kt===0)return this;var Vt=et(kt),Zt=_e(kt);return this._t(Vt,-Zt,0,0,Zt,Vt,0,0,0,0,1,0,0,0,0,1)}function ft(kt,Vt){return this._t(1,Vt,kt,1,0,0)}function dt(kt,Vt){return this.shear(tt(kt),tt(Vt))}function gt(kt,Vt){var Zt=et(Vt),Wt=_e(Vt);return this._t(Zt,Wt,0,0,-Wt,Zt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,tt(kt),1,0,0,0,0,1,0,0,0,0,1)._t(Zt,-Wt,0,0,Wt,Zt,0,0,0,0,1,0,0,0,0,1)}function pt(kt,Vt,Zt){return!Zt&&Zt!==0&&(Zt=1),kt===1&&Vt===1&&Zt===1?this:this._t(kt,0,0,0,0,Vt,0,0,0,0,Zt,0,0,0,0,1)}function vt(kt,Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr,_r,mr,Er,ur,xr){return this.props[0]=kt,this.props[1]=Vt,this.props[2]=Zt,this.props[3]=Wt,this.props[4]=nr,this.props[5]=sr,this.props[6]=lr,this.props[7]=dr,this.props[8]=hr,this.props[9]=wr,this.props[10]=pr,this.props[11]=_r,this.props[12]=mr,this.props[13]=Er,this.props[14]=ur,this.props[15]=xr,this}function St(kt,Vt,Zt){return Zt=Zt||0,kt!==0||Vt!==0||Zt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,kt,Vt,Zt,1):this}function At(kt,Vt,Zt,Wt,nr,sr,lr,dr,hr,wr,pr,_r,mr,Er,ur,xr){var Ar=this.props;if(kt===1&&Vt===0&&Zt===0&&Wt===0&&nr===0&&sr===1&&lr===0&&dr===0&&hr===0&&wr===0&&pr===1&&_r===0)return Ar[12]=Ar[12]*kt+Ar[15]*mr,Ar[13]=Ar[13]*sr+Ar[15]*Er,Ar[14]=Ar[14]*pr+Ar[15]*ur,Ar[15]*=xr,this._identityCalculated=!1,this;var Br=Ar[0],kr=Ar[1],nn=Ar[2],Pr=Ar[3],Xr=Ar[4],Zr=Ar[5],zr=Ar[6],cr=Ar[7],ar=Ar[8],Tr=Ar[9],Nr=Ar[10],Qr=Ar[11],en=Ar[12],on=Ar[13],rn=Ar[14],Vr=Ar[15];return Ar[0]=Br*kt+kr*nr+nn*hr+Pr*mr,Ar[1]=Br*Vt+kr*sr+nn*wr+Pr*Er,Ar[2]=Br*Zt+kr*lr+nn*pr+Pr*ur,Ar[3]=Br*Wt+kr*dr+nn*_r+Pr*xr,Ar[4]=Xr*kt+Zr*nr+zr*hr+cr*mr,Ar[5]=Xr*Vt+Zr*sr+zr*wr+cr*Er,Ar[6]=Xr*Zt+Zr*lr+zr*pr+cr*ur,Ar[7]=Xr*Wt+Zr*dr+zr*_r+cr*xr,Ar[8]=ar*kt+Tr*nr+Nr*hr+Qr*mr,Ar[9]=ar*Vt+Tr*sr+Nr*wr+Qr*Er,Ar[10]=ar*Zt+Tr*lr+Nr*pr+Qr*ur,Ar[11]=ar*Wt+Tr*dr+Nr*_r+Qr*xr,Ar[12]=en*kt+on*nr+rn*hr+Vr*mr,Ar[13]=en*Vt+on*sr+rn*wr+Vr*Er,Ar[14]=en*Zt+on*lr+rn*pr+Vr*ur,Ar[15]=en*Wt+on*dr+rn*_r+Vr*xr,this._identityCalculated=!1,this}function Tt(kt){var Vt=kt.props;return this.transform(Vt[0],Vt[1],Vt[2],Vt[3],Vt[4],Vt[5],Vt[6],Vt[7],Vt[8],Vt[9],Vt[10],Vt[11],Vt[12],Vt[13],Vt[14],Vt[15])}function Ct(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Mt(kt){for(var Vt=0;Vt<16;){if(kt.props[Vt]!==this.props[Vt])return!1;Vt+=1}return!0}function Et(kt){var Vt;for(Vt=0;Vt<16;Vt+=1)kt.props[Vt]=this.props[Vt];return kt}function Rt(kt){var Vt;for(Vt=0;Vt<16;Vt+=1)this.props[Vt]=kt[Vt]}function Bt(kt,Vt,Zt){return{x:kt*this.props[0]+Vt*this.props[4]+Zt*this.props[8]+this.props[12],y:kt*this.props[1]+Vt*this.props[5]+Zt*this.props[9]+this.props[13],z:kt*this.props[2]+Vt*this.props[6]+Zt*this.props[10]+this.props[14]}}function Ft(kt,Vt,Zt){return kt*this.props[0]+Vt*this.props[4]+Zt*this.props[8]+this.props[12]}function Lt(kt,Vt,Zt){return kt*this.props[1]+Vt*this.props[5]+Zt*this.props[9]+this.props[13]}function wt(kt,Vt,Zt){return kt*this.props[2]+Vt*this.props[6]+Zt*this.props[10]+this.props[14]}function Dt(){var kt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Vt=this.props[5]/kt,Zt=-this.props[1]/kt,Wt=-this.props[4]/kt,nr=this.props[0]/kt,sr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/kt,lr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/kt,dr=new Matrix;return dr.props[0]=Vt,dr.props[1]=Zt,dr.props[4]=Wt,dr.props[5]=nr,dr.props[12]=sr,dr.props[13]=lr,dr}function Ot(kt){var Vt=this.getInverseMatrix();return Vt.applyToPointArray(kt[0],kt[1],kt[2]||0)}function Ut(kt){var Vt,Zt=kt.length,Wt=[];for(Vt=0;Vt<Zt;Vt+=1)Wt[Vt]=Ot(kt[Vt]);return Wt}function zt(kt,Vt,Zt){var Wt=createTypedArray("float32",6);if(this.isIdentity())Wt[0]=kt[0],Wt[1]=kt[1],Wt[2]=Vt[0],Wt[3]=Vt[1],Wt[4]=Zt[0],Wt[5]=Zt[1];else{var nr=this.props[0],sr=this.props[1],lr=this.props[4],dr=this.props[5],hr=this.props[12],wr=this.props[13];Wt[0]=kt[0]*nr+kt[1]*lr+hr,Wt[1]=kt[0]*sr+kt[1]*dr+wr,Wt[2]=Vt[0]*nr+Vt[1]*lr+hr,Wt[3]=Vt[0]*sr+Vt[1]*dr+wr,Wt[4]=Zt[0]*nr+Zt[1]*lr+hr,Wt[5]=Zt[0]*sr+Zt[1]*dr+wr}return Wt}function tr(kt,Vt,Zt){var Wt;return this.isIdentity()?Wt=[kt,Vt,Zt]:Wt=[kt*this.props[0]+Vt*this.props[4]+Zt*this.props[8]+this.props[12],kt*this.props[1]+Vt*this.props[5]+Zt*this.props[9]+this.props[13],kt*this.props[2]+Vt*this.props[6]+Zt*this.props[10]+this.props[14]],Wt}function jt(kt,Vt){if(this.isIdentity())return kt+","+Vt;var Zt=this.props;return Math.round((kt*Zt[0]+Vt*Zt[4]+Zt[12])*100)/100+","+Math.round((kt*Zt[1]+Vt*Zt[5]+Zt[13])*100)/100}function Kt(){for(var kt=0,Vt=this.props,Zt="matrix3d(",Wt=1e4;kt<16;)Zt+=rt(Vt[kt]*Wt)/Wt,Zt+=kt===15?")":",",kt+=1;return Zt}function qt(kt){var Vt=1e4;return kt<1e-6&&kt>0||kt>-1e-6&&kt<0?rt(kt*Vt)/Vt:kt}function er(){var kt=this.props,Vt=qt(kt[0]),Zt=qt(kt[1]),Wt=qt(kt[4]),nr=qt(kt[5]),sr=qt(kt[12]),lr=qt(kt[13]);return"matrix("+Vt+","+Zt+","+Wt+","+nr+","+sr+","+lr+")"}return function(){this.reset=nt,this.rotate=st,this.rotateX=ot,this.rotateY=at,this.rotateZ=lt,this.skew=dt,this.skewFromAxis=gt,this.shear=ft,this.scale=pt,this.setTransform=vt,this.translate=St,this.transform=At,this.multiply=Tt,this.applyToPoint=Bt,this.applyToX=Ft,this.applyToY=Lt,this.applyToZ=wt,this.applyToPointArray=tr,this.applyToTriplePoints=zt,this.applyToPointStringified=jt,this.toCSS=Kt,this.to2dCSS=er,this.clone=Et,this.cloneFromProps=Rt,this.equals=Mt,this.inversePoints=Ut,this.inversePoint=Ot,this.getInverseMatrix=Dt,this._t=this.transform,this.isIdentity=Ct,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(tt){return typeof tt}:_typeof$3=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$3(et)}var lottie={};function setLocation(et){setLocationHref(et)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(et){setSubframeEnabled(et)}function setPrefix(et){setIdPrefix(et)}function loadAnimation(et){return animationManager.loadAnimation(et)}function setQuality(et){if(typeof et=="string")switch(et){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(et)&&et>1&&setDefaultCurveSegments(et)}function inBrowser(){return typeof navigator<"u"}function installPlugin(et,_e){et==="expressions"&&setExpressionsPlugin(_e)}function getFactory(et){switch(et){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(et){for(var _e=queryString.split("&"),tt=0;tt<_e.length;tt+=1){var rt=_e[tt].split("=");if(decodeURIComponent(rt[0])==et)return decodeURIComponent(rt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(et){}var ShapeModifiers=function(){var et={},_e={};et.registerModifier=tt,et.getModifier=rt;function tt(nt,st){_e[nt]||(_e[nt]=st)}function rt(nt,st,ot){return new _e[nt](st,ot)}return et}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(et){if(!this.closed){et.sh.container.addDynamicProperty(et.sh);var _e={shape:et.sh,data:et,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(_e),this.addShapeToModifier(_e),this._isAnimated&&et.setAsAnimated()}},ShapeModifier.prototype.init=function(et,_e){this.shapes=[],this.elem=et,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,_e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(et,_e){this.s=PropertyFactory.getProp(et,_e.s,0,.01,this),this.e=PropertyFactory.getProp(et,_e.e,0,.01,this),this.o=PropertyFactory.getProp(et,_e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=_e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(et){et.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(et,_e,tt,rt,nt){var st=[];_e<=1?st.push({s:et,e:_e}):et>=1?st.push({s:et-1,e:_e-1}):(st.push({s:et,e:1}),st.push({s:0,e:_e-1}));var ot=[],at,lt=st.length,ft;for(at=0;at<lt;at+=1)if(ft=st[at],!(ft.e*nt<rt||ft.s*nt>rt+tt)){var dt,gt;ft.s*nt<=rt?dt=0:dt=(ft.s*nt-rt)/tt,ft.e*nt>=rt+tt?gt=1:gt=(ft.e*nt-rt)/tt,ot.push([dt,gt])}return ot.length||ot.push([0,0]),ot},TrimModifier.prototype.releasePathsData=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)segmentsLengthPool.release(et[_e]);return et.length=0,et},TrimModifier.prototype.processShapes=function(et){var _e,tt;if(this._mdf||et){var rt=this.o.v%360/360;if(rt<0&&(rt+=1),this.s.v>1?_e=1+rt:this.s.v<0?_e=0+rt:_e=this.s.v+rt,this.e.v>1?tt=1+rt:this.e.v<0?tt=0+rt:tt=this.e.v+rt,_e>tt){var nt=_e;_e=tt,tt=nt}_e=Math.round(_e*1e4)*1e-4,tt=Math.round(tt*1e4)*1e-4,this.sValue=_e,this.eValue=tt}else _e=this.sValue,tt=this.eValue;var st,ot,at=this.shapes.length,lt,ft,dt,gt,pt,vt=0;if(tt===_e)for(ot=0;ot<at;ot+=1)this.shapes[ot].localShapeCollection.releaseShapes(),this.shapes[ot].shape._mdf=!0,this.shapes[ot].shape.paths=this.shapes[ot].localShapeCollection,this._mdf&&(this.shapes[ot].pathsData.length=0);else if(tt===1&&_e===0||tt===0&&_e===1){if(this._mdf)for(ot=0;ot<at;ot+=1)this.shapes[ot].pathsData.length=0,this.shapes[ot].shape._mdf=!0}else{var St=[],At,Tt;for(ot=0;ot<at;ot+=1)if(At=this.shapes[ot],!At.shape._mdf&&!this._mdf&&!et&&this.m!==2)At.shape.paths=At.localShapeCollection;else{if(st=At.shape.paths,ft=st._length,pt=0,!At.shape._mdf&&At.pathsData.length)pt=At.totalShapeLength;else{for(dt=this.releasePathsData(At.pathsData),lt=0;lt<ft;lt+=1)gt=bez.getSegmentsLength(st.shapes[lt]),dt.push(gt),pt+=gt.totalLength;At.totalShapeLength=pt,At.pathsData=dt}vt+=pt,At.shape._mdf=!0}var Ct=_e,Mt=tt,Et=0,Rt;for(ot=at-1;ot>=0;ot-=1)if(At=this.shapes[ot],At.shape._mdf){for(Tt=At.localShapeCollection,Tt.releaseShapes(),this.m===2&&at>1?(Rt=this.calculateShapeEdges(_e,tt,At.totalShapeLength,Et,vt),Et+=At.totalShapeLength):Rt=[[Ct,Mt]],ft=Rt.length,lt=0;lt<ft;lt+=1){Ct=Rt[lt][0],Mt=Rt[lt][1],St.length=0,Mt<=1?St.push({s:At.totalShapeLength*Ct,e:At.totalShapeLength*Mt}):Ct>=1?St.push({s:At.totalShapeLength*(Ct-1),e:At.totalShapeLength*(Mt-1)}):(St.push({s:At.totalShapeLength*Ct,e:At.totalShapeLength}),St.push({s:0,e:At.totalShapeLength*(Mt-1)}));var Bt=this.addShapes(At,St[0]);if(St[0].s!==St[0].e){if(St.length>1){var Ft=At.shape.paths.shapes[At.shape.paths._length-1];if(Ft.c){var Lt=Bt.pop();this.addPaths(Bt,Tt),Bt=this.addShapes(At,St[1],Lt)}else this.addPaths(Bt,Tt),Bt=this.addShapes(At,St[1])}this.addPaths(Bt,Tt)}}At.shape.paths=Tt}}},TrimModifier.prototype.addPaths=function(et,_e){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)_e.addShape(et[tt])},TrimModifier.prototype.addSegment=function(et,_e,tt,rt,nt,st,ot){nt.setXYAt(_e[0],_e[1],"o",st),nt.setXYAt(tt[0],tt[1],"i",st+1),ot&&nt.setXYAt(et[0],et[1],"v",st),nt.setXYAt(rt[0],rt[1],"v",st+1)},TrimModifier.prototype.addSegmentFromArray=function(et,_e,tt,rt){_e.setXYAt(et[1],et[5],"o",tt),_e.setXYAt(et[2],et[6],"i",tt+1),rt&&_e.setXYAt(et[0],et[4],"v",tt),_e.setXYAt(et[3],et[7],"v",tt+1)},TrimModifier.prototype.addShapes=function(et,_e,tt){var rt=et.pathsData,nt=et.shape.paths.shapes,st,ot=et.shape.paths._length,at,lt,ft=0,dt,gt,pt,vt,St=[],At,Tt=!0;for(tt?(gt=tt._length,At=tt._length):(tt=shapePool.newElement(),gt=0,At=0),St.push(tt),st=0;st<ot;st+=1){for(pt=rt[st].lengths,tt.c=nt[st].c,lt=nt[st].c?pt.length:pt.length+1,at=1;at<lt;at+=1)if(dt=pt[at-1],ft+dt.addedLength<_e.s)ft+=dt.addedLength,tt.c=!1;else if(ft>_e.e){tt.c=!1;break}else _e.s<=ft&&_e.e>=ft+dt.addedLength?(this.addSegment(nt[st].v[at-1],nt[st].o[at-1],nt[st].i[at],nt[st].v[at],tt,gt,Tt),Tt=!1):(vt=bez.getNewSegment(nt[st].v[at-1],nt[st].v[at],nt[st].o[at-1],nt[st].i[at],(_e.s-ft)/dt.addedLength,(_e.e-ft)/dt.addedLength,pt[at-1]),this.addSegmentFromArray(vt,tt,gt,Tt),Tt=!1,tt.c=!1),ft+=dt.addedLength,gt+=1;if(nt[st].c&&pt.length){if(dt=pt[at-1],ft<=_e.e){var Ct=pt[at-1].addedLength;_e.s<=ft&&_e.e>=ft+Ct?(this.addSegment(nt[st].v[at-1],nt[st].o[at-1],nt[st].i[0],nt[st].v[0],tt,gt,Tt),Tt=!1):(vt=bez.getNewSegment(nt[st].v[at-1],nt[st].v[0],nt[st].o[at-1],nt[st].i[0],(_e.s-ft)/Ct,(_e.e-ft)/Ct,pt[at-1]),this.addSegmentFromArray(vt,tt,gt,Tt),Tt=!1,tt.c=!1)}else tt.c=!1;ft+=dt.addedLength,gt+=1}if(tt._length&&(tt.setXYAt(tt.v[At][0],tt.v[At][1],"i",At),tt.setXYAt(tt.v[tt._length-1][0],tt.v[tt._length-1][1],"o",tt._length-1)),ft>_e.e)break;st<ot-1&&(tt=shapePool.newElement(),Tt=!0,St.push(tt),gt=0)}return St};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,_e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(et,_e){var tt=_e/100,rt=[0,0],nt=et._length,st=0;for(st=0;st<nt;st+=1)rt[0]+=et.v[st][0],rt[1]+=et.v[st][1];rt[0]/=nt,rt[1]/=nt;var ot=shapePool.newElement();ot.c=et.c;var at,lt,ft,dt,gt,pt;for(st=0;st<nt;st+=1)at=et.v[st][0]+(rt[0]-et.v[st][0])*tt,lt=et.v[st][1]+(rt[1]-et.v[st][1])*tt,ft=et.o[st][0]+(rt[0]-et.o[st][0])*-tt,dt=et.o[st][1]+(rt[1]-et.o[st][1])*-tt,gt=et.i[st][0]+(rt[0]-et.i[st][0])*-tt,pt=et.i[st][1]+(rt[1]-et.i[st][1])*-tt,ot.setTripleAt(at,lt,ft,dt,gt,pt,st);return ot},PuckerAndBloatModifier.prototype.processShapes=function(et){var _e,tt,rt=this.shapes.length,nt,st,ot=this.amount.v;if(ot!==0){var at,lt;for(tt=0;tt<rt;tt+=1){if(at=this.shapes[tt],lt=at.localShapeCollection,!(!at.shape._mdf&&!this._mdf&&!et))for(lt.releaseShapes(),at.shape._mdf=!0,_e=at.shape.paths.shapes,st=at.shape.paths._length,nt=0;nt<st;nt+=1)lt.addShape(this.processPath(_e[nt],ot));at.shape.paths=at.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var et=[0,0];function _e(lt){var ft=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ft,this.a&&lt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&lt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&lt.skewFromAxis(-this.sk.v,this.sa.v),this.r?lt.rotate(-this.r.v):lt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?lt.translate(this.px.v,this.py.v,-this.pz.v):lt.translate(this.px.v,this.py.v,0):lt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function tt(lt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||lt){var ft;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var dt,gt;if(ft=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(dt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ft,0),gt=this.p.getValueAtTime(this.p.keyframes[0].t/ft,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(dt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ft,0),gt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ft,0)):(dt=this.p.pv,gt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ft,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){dt=[],gt=[];var pt=this.px,vt=this.py;pt._caching.lastFrame+pt.offsetTime<=pt.keyframes[0].t?(dt[0]=pt.getValueAtTime((pt.keyframes[0].t+.01)/ft,0),dt[1]=vt.getValueAtTime((vt.keyframes[0].t+.01)/ft,0),gt[0]=pt.getValueAtTime(pt.keyframes[0].t/ft,0),gt[1]=vt.getValueAtTime(vt.keyframes[0].t/ft,0)):pt._caching.lastFrame+pt.offsetTime>=pt.keyframes[pt.keyframes.length-1].t?(dt[0]=pt.getValueAtTime(pt.keyframes[pt.keyframes.length-1].t/ft,0),dt[1]=vt.getValueAtTime(vt.keyframes[vt.keyframes.length-1].t/ft,0),gt[0]=pt.getValueAtTime((pt.keyframes[pt.keyframes.length-1].t-.01)/ft,0),gt[1]=vt.getValueAtTime((vt.keyframes[vt.keyframes.length-1].t-.01)/ft,0)):(dt=[pt.pv,vt.pv],gt[0]=pt.getValueAtTime((pt._caching.lastFrame+pt.offsetTime-.01)/ft,pt.offsetTime),gt[1]=vt.getValueAtTime((vt._caching.lastFrame+vt.offsetTime-.01)/ft,vt.offsetTime))}else gt=et,dt=gt;this.v.rotate(-Math.atan2(dt[1]-gt[1],dt[0]-gt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function rt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function nt(){}function st(lt){this._addDynamicProperty(lt),this.elem.addDynamicProperty(lt),this._isDirty=!0}function ot(lt,ft,dt){if(this.elem=lt,this.frameId=-1,this.propType="transform",this.data=ft,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(dt||lt),ft.p&&ft.p.s?(this.px=PropertyFactory.getProp(lt,ft.p.x,0,0,this),this.py=PropertyFactory.getProp(lt,ft.p.y,0,0,this),ft.p.z&&(this.pz=PropertyFactory.getProp(lt,ft.p.z,0,0,this))):this.p=PropertyFactory.getProp(lt,ft.p||{k:[0,0,0]},1,0,this),ft.rx){if(this.rx=PropertyFactory.getProp(lt,ft.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(lt,ft.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(lt,ft.rz,0,degToRads,this),ft.or.k[0].ti){var gt,pt=ft.or.k.length;for(gt=0;gt<pt;gt+=1)ft.or.k[gt].to=null,ft.or.k[gt].ti=null}this.or=PropertyFactory.getProp(lt,ft.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(lt,ft.r||{k:0},0,degToRads,this);ft.sk&&(this.sk=PropertyFactory.getProp(lt,ft.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(lt,ft.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(lt,ft.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(lt,ft.s||{k:[100,100,100]},1,.01,this),ft.o?this.o=PropertyFactory.getProp(lt,ft.o,0,.01,lt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ot.prototype={applyToMatrix:_e,getValue:tt,precalculateMatrix:rt,autoOrient:nt},extendPrototype([DynamicPropertyContainer],ot),ot.prototype.addDynamicProperty=st,ot.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function at(lt,ft,dt){return new ot(lt,ft,dt)}return{getTransformProperty:at}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(et,_e.c,0,null,this),this.o=PropertyFactory.getProp(et,_e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(et,_e.tr,this),this.so=PropertyFactory.getProp(et,_e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(et,_e.tr.eo,0,.01,this),this.data=_e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(et,_e,tt,rt,nt,st){var ot=st?-1:1,at=rt.s.v[0]+(1-rt.s.v[0])*(1-nt),lt=rt.s.v[1]+(1-rt.s.v[1])*(1-nt);et.translate(rt.p.v[0]*ot*nt,rt.p.v[1]*ot*nt,rt.p.v[2]),_e.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),_e.rotate(-rt.r.v*ot*nt),_e.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2]),tt.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),tt.scale(st?1/at:at,st?1/lt:lt),tt.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])},RepeaterModifier.prototype.init=function(et,_e,tt,rt){for(this.elem=et,this.arr=_e,this.pos=tt,this.elemsData=rt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,_e[tt]);tt>0;)tt-=1,this._elements.unshift(_e[tt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)et[_e]._processed=!1,et[_e].ty==="gr"&&this.resetElements(et[_e].it)},RepeaterModifier.prototype.cloneElements=function(et){var _e=JSON.parse(JSON.stringify(et));return this.resetElements(_e),_e},RepeaterModifier.prototype.changeGroupRender=function(et,_e){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt]._render=_e,et[tt].ty==="gr"&&this.changeGroupRender(et[tt].it,_e)},RepeaterModifier.prototype.processShapes=function(et){var _e,tt,rt,nt,st,ot=!1;if(this._mdf||et){var at=Math.ceil(this.c.v);if(this._groups.length<at){for(;this._groups.length<at;){var lt={it:this.cloneElements(this._elements),ty:"gr"};lt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,lt),this._groups.splice(0,0,lt),this._currentCopies+=1}this.elem.reloadShapes(),ot=!0}st=0;var ft;for(rt=0;rt<=this._groups.length-1;rt+=1){if(ft=st<at,this._groups[rt]._render=ft,this.changeGroupRender(this._groups[rt].it,ft),!ft){var dt=this.elemsData[rt].it,gt=dt[dt.length-1];gt.transform.op.v!==0?(gt.transform.op._mdf=!0,gt.transform.op.v=0):gt.transform.op._mdf=!1}st+=1}this._currentCopies=at;var pt=this.o.v,vt=pt%1,St=pt>0?Math.floor(pt):Math.ceil(pt),At=this.pMatrix.props,Tt=this.rMatrix.props,Ct=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Mt=0;if(pt>0){for(;Mt<St;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Mt+=1;vt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,vt,!1),Mt+=vt)}else if(pt<0){for(;Mt>St;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Mt-=1;vt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-vt,!0),Mt-=vt)}rt=this.data.m===1?0:this._currentCopies-1,nt=this.data.m===1?1:-1,st=this._currentCopies;for(var Et,Rt;st;){if(_e=this.elemsData[rt].it,tt=_e[_e.length-1].transform.mProps.v.props,Rt=tt.length,_e[_e.length-1].transform.mProps._mdf=!0,_e[_e.length-1].transform.op._mdf=!0,_e[_e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(rt/(this._currentCopies-1)),Mt!==0){for((rt!==0&&nt===1||rt!==this._currentCopies-1&&nt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Tt[0],Tt[1],Tt[2],Tt[3],Tt[4],Tt[5],Tt[6],Tt[7],Tt[8],Tt[9],Tt[10],Tt[11],Tt[12],Tt[13],Tt[14],Tt[15]),this.matrix.transform(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5],Ct[6],Ct[7],Ct[8],Ct[9],Ct[10],Ct[11],Ct[12],Ct[13],Ct[14],Ct[15]),this.matrix.transform(At[0],At[1],At[2],At[3],At[4],At[5],At[6],At[7],At[8],At[9],At[10],At[11],At[12],At[13],At[14],At[15]),Et=0;Et<Rt;Et+=1)tt[Et]=this.matrix.props[Et];this.matrix.reset()}else for(this.matrix.reset(),Et=0;Et<Rt;Et+=1)tt[Et]=this.matrix.props[Et];Mt+=1,st-=1,rt+=nt}}else for(st=this._currentCopies,rt=0,nt=1;st;)_e=this.elemsData[rt].it,tt=_e[_e.length-1].transform.mProps.v.props,_e[_e.length-1].transform.mProps._mdf=!1,_e[_e.length-1].transform.op._mdf=!1,st-=1,rt+=nt;return ot},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(et,_e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(et,_e){var tt=shapePool.newElement();tt.c=et.c;var rt,nt=et._length,st,ot,at,lt,ft,dt,gt=0,pt,vt,St,At,Tt,Ct;for(rt=0;rt<nt;rt+=1)st=et.v[rt],at=et.o[rt],ot=et.i[rt],st[0]===at[0]&&st[1]===at[1]&&st[0]===ot[0]&&st[1]===ot[1]?(rt===0||rt===nt-1)&&!et.c?(tt.setTripleAt(st[0],st[1],at[0],at[1],ot[0],ot[1],gt),gt+=1):(rt===0?lt=et.v[nt-1]:lt=et.v[rt-1],ft=Math.sqrt(Math.pow(st[0]-lt[0],2)+Math.pow(st[1]-lt[1],2)),dt=ft?Math.min(ft/2,_e)/ft:0,Tt=st[0]+(lt[0]-st[0])*dt,pt=Tt,Ct=st[1]-(st[1]-lt[1])*dt,vt=Ct,St=pt-(pt-st[0])*roundCorner,At=vt-(vt-st[1])*roundCorner,tt.setTripleAt(pt,vt,St,At,Tt,Ct,gt),gt+=1,rt===nt-1?lt=et.v[0]:lt=et.v[rt+1],ft=Math.sqrt(Math.pow(st[0]-lt[0],2)+Math.pow(st[1]-lt[1],2)),dt=ft?Math.min(ft/2,_e)/ft:0,St=st[0]+(lt[0]-st[0])*dt,pt=St,At=st[1]+(lt[1]-st[1])*dt,vt=At,Tt=pt-(pt-st[0])*roundCorner,Ct=vt-(vt-st[1])*roundCorner,tt.setTripleAt(pt,vt,St,At,Tt,Ct,gt),gt+=1):(tt.setTripleAt(et.v[rt][0],et.v[rt][1],et.o[rt][0],et.o[rt][1],et.i[rt][0],et.i[rt][1],gt),gt+=1);return tt},RoundCornersModifier.prototype.processShapes=function(et){var _e,tt,rt=this.shapes.length,nt,st,ot=this.rd.v;if(ot!==0){var at,lt;for(tt=0;tt<rt;tt+=1){if(at=this.shapes[tt],lt=at.localShapeCollection,!(!at.shape._mdf&&!this._mdf&&!et))for(lt.releaseShapes(),at.shape._mdf=!0,_e=at.shape.paths.shapes,st=at.shape.paths._length,nt=0;nt<st;nt+=1)lt.addShape(this.processPath(_e[nt],ot));at.shape.paths=at.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(et,_e){return Math.abs(et-_e)*1e5<=Math.min(Math.abs(et),Math.abs(_e))}function floatZero(et){return Math.abs(et)<=1e-5}function lerp(et,_e,tt){return et*(1-tt)+_e*tt}function lerpPoint(et,_e,tt){return[lerp(et[0],_e[0],tt),lerp(et[1],_e[1],tt)]}function quadRoots(et,_e,tt){if(et===0)return[];var rt=_e*_e-4*et*tt;if(rt<0)return[];var nt=-_e/(2*et);if(rt===0)return[nt];var st=Math.sqrt(rt)/(2*et);return[nt-st,nt+st]}function polynomialCoefficients(et,_e,tt,rt){return[-et+3*_e-3*tt+rt,3*et-6*_e+3*tt,-3*et+3*_e,et]}function singlePoint(et){return new PolynomialBezier(et,et,et,et,!1)}function PolynomialBezier(et,_e,tt,rt,nt){nt&&pointEqual(et,_e)&&(_e=lerpPoint(et,rt,1/3)),nt&&pointEqual(tt,rt)&&(tt=lerpPoint(et,rt,2/3));var st=polynomialCoefficients(et[0],_e[0],tt[0],rt[0]),ot=polynomialCoefficients(et[1],_e[1],tt[1],rt[1]);this.a=[st[0],ot[0]],this.b=[st[1],ot[1]],this.c=[st[2],ot[2]],this.d=[st[3],ot[3]],this.points=[et,_e,tt,rt]}PolynomialBezier.prototype.point=function(et){return[((this.a[0]*et+this.b[0])*et+this.c[0])*et+this.d[0],((this.a[1]*et+this.b[1])*et+this.c[1])*et+this.d[1]]},PolynomialBezier.prototype.derivative=function(et){return[(3*et*this.a[0]+2*this.b[0])*et+this.c[0],(3*et*this.a[1]+2*this.b[1])*et+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(et){var _e=this.derivative(et);return Math.atan2(_e[1],_e[0])},PolynomialBezier.prototype.normalAngle=function(et){var _e=this.derivative(et);return Math.atan2(_e[0],_e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var et=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(et))return[];var _e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/et,tt=_e*_e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/et;if(tt<0)return[];var rt=Math.sqrt(tt);return floatZero(rt)?rt>0&&rt<1?[_e]:[]:[_e-rt,_e+rt].filter(function(nt){return nt>0&&nt<1})},PolynomialBezier.prototype.split=function(et){if(et<=0)return[singlePoint(this.points[0]),this];if(et>=1)return[this,singlePoint(this.points[this.points.length-1])];var _e=lerpPoint(this.points[0],this.points[1],et),tt=lerpPoint(this.points[1],this.points[2],et),rt=lerpPoint(this.points[2],this.points[3],et),nt=lerpPoint(_e,tt,et),st=lerpPoint(tt,rt,et),ot=lerpPoint(nt,st,et);return[new PolynomialBezier(this.points[0],_e,nt,ot,!0),new PolynomialBezier(ot,st,rt,this.points[3],!0)]};function extrema(et,_e){var tt=et.points[0][_e],rt=et.points[et.points.length-1][_e];if(tt>rt){var nt=rt;rt=tt,tt=nt}for(var st=quadRoots(3*et.a[_e],2*et.b[_e],et.c[_e]),ot=0;ot<st.length;ot+=1)if(st[ot]>0&&st[ot]<1){var at=et.point(st[ot])[_e];at<tt?tt=at:at>rt&&(rt=at)}return{min:tt,max:rt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var et=this.bounds();return{left:et.x.min,right:et.x.max,top:et.y.min,bottom:et.y.max,width:et.x.max-et.x.min,height:et.y.max-et.y.min,cx:(et.x.max+et.x.min)/2,cy:(et.y.max+et.y.min)/2}};function intersectData(et,_e,tt){var rt=et.boundingBox();return{cx:rt.cx,cy:rt.cy,width:rt.width,height:rt.height,bez:et,t:(_e+tt)/2,t1:_e,t2:tt}}function splitData(et){var _e=et.bez.split(.5);return[intersectData(_e[0],et.t1,et.t),intersectData(_e[1],et.t,et.t2)]}function boxIntersect(et,_e){return Math.abs(et.cx-_e.cx)*2<et.width+_e.width&&Math.abs(et.cy-_e.cy)*2<et.height+_e.height}function intersectsImpl(et,_e,tt,rt,nt,st){if(boxIntersect(et,_e)){if(tt>=st||et.width<=rt&&et.height<=rt&&_e.width<=rt&&_e.height<=rt){nt.push([et.t,_e.t]);return}var ot=splitData(et),at=splitData(_e);intersectsImpl(ot[0],at[0],tt+1,rt,nt,st),intersectsImpl(ot[0],at[1],tt+1,rt,nt,st),intersectsImpl(ot[1],at[0],tt+1,rt,nt,st),intersectsImpl(ot[1],at[1],tt+1,rt,nt,st)}}PolynomialBezier.prototype.intersections=function(et,_e,tt){_e===void 0&&(_e=2),tt===void 0&&(tt=7);var rt=[];return intersectsImpl(intersectData(this,0,1),intersectData(et,0,1),0,_e,rt,tt),rt},PolynomialBezier.shapeSegment=function(et,_e){var tt=(_e+1)%et.length();return new PolynomialBezier(et.v[_e],et.o[_e],et.i[tt],et.v[tt],!0)},PolynomialBezier.shapeSegmentInverted=function(et,_e){var tt=(_e+1)%et.length();return new PolynomialBezier(et.v[tt],et.i[tt],et.o[_e],et.v[_e],!0)};function crossProduct(et,_e){return[et[1]*_e[2]-et[2]*_e[1],et[2]*_e[0]-et[0]*_e[2],et[0]*_e[1]-et[1]*_e[0]]}function lineIntersection(et,_e,tt,rt){var nt=[et[0],et[1],1],st=[_e[0],_e[1],1],ot=[tt[0],tt[1],1],at=[rt[0],rt[1],1],lt=crossProduct(crossProduct(nt,st),crossProduct(ot,at));return floatZero(lt[2])?null:[lt[0]/lt[2],lt[1]/lt[2]]}function polarOffset(et,_e,tt){return[et[0]+Math.cos(_e)*tt,et[1]-Math.sin(_e)*tt]}function pointDistance(et,_e){return Math.hypot(et[0]-_e[0],et[1]-_e[1])}function pointEqual(et,_e){return floatEqual(et[0],_e[0])&&floatEqual(et[1],_e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(et,_e.s,0,null,this),this.frequency=PropertyFactory.getProp(et,_e.r,0,null,this),this.pointsType=PropertyFactory.getProp(et,_e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(et,_e,tt,rt,nt,st,ot){var at=tt-Math.PI/2,lt=tt+Math.PI/2,ft=_e[0]+Math.cos(tt)*rt*nt,dt=_e[1]-Math.sin(tt)*rt*nt;et.setTripleAt(ft,dt,ft+Math.cos(at)*st,dt-Math.sin(at)*st,ft+Math.cos(lt)*ot,dt-Math.sin(lt)*ot,et.length())}function getPerpendicularVector(et,_e){var tt=[_e[0]-et[0],_e[1]-et[1]],rt=-Math.PI*.5,nt=[Math.cos(rt)*tt[0]-Math.sin(rt)*tt[1],Math.sin(rt)*tt[0]+Math.cos(rt)*tt[1]];return nt}function getProjectingAngle(et,_e){var tt=_e===0?et.length()-1:_e-1,rt=(_e+1)%et.length(),nt=et.v[tt],st=et.v[rt],ot=getPerpendicularVector(nt,st);return Math.atan2(0,1)-Math.atan2(ot[1],ot[0])}function zigZagCorner(et,_e,tt,rt,nt,st,ot){var at=getProjectingAngle(_e,tt),lt=_e.v[tt%_e._length],ft=_e.v[tt===0?_e._length-1:tt-1],dt=_e.v[(tt+1)%_e._length],gt=st===2?Math.sqrt(Math.pow(lt[0]-ft[0],2)+Math.pow(lt[1]-ft[1],2)):0,pt=st===2?Math.sqrt(Math.pow(lt[0]-dt[0],2)+Math.pow(lt[1]-dt[1],2)):0;setPoint(et,_e.v[tt%_e._length],at,ot,rt,pt/((nt+1)*2),gt/((nt+1)*2))}function zigZagSegment(et,_e,tt,rt,nt,st){for(var ot=0;ot<rt;ot+=1){var at=(ot+1)/(rt+1),lt=nt===2?Math.sqrt(Math.pow(_e.points[3][0]-_e.points[0][0],2)+Math.pow(_e.points[3][1]-_e.points[0][1],2)):0,ft=_e.normalAngle(at),dt=_e.point(at);setPoint(et,dt,ft,st,tt,lt/((rt+1)*2),lt/((rt+1)*2)),st=-st}return st}ZigZagModifier.prototype.processPath=function(et,_e,tt,rt){var nt=et._length,st=shapePool.newElement();if(st.c=et.c,et.c||(nt-=1),nt===0)return st;var ot=-1,at=PolynomialBezier.shapeSegment(et,0);zigZagCorner(st,et,0,_e,tt,rt,ot);for(var lt=0;lt<nt;lt+=1)ot=zigZagSegment(st,at,_e,tt,rt,-ot),lt===nt-1&&!et.c?at=null:at=PolynomialBezier.shapeSegment(et,(lt+1)%nt),zigZagCorner(st,et,lt+1,_e,tt,rt,ot);return st},ZigZagModifier.prototype.processShapes=function(et){var _e,tt,rt=this.shapes.length,nt,st,ot=this.amplitude.v,at=Math.max(0,Math.round(this.frequency.v)),lt=this.pointsType.v;if(ot!==0){var ft,dt;for(tt=0;tt<rt;tt+=1){if(ft=this.shapes[tt],dt=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!et))for(dt.releaseShapes(),ft.shape._mdf=!0,_e=ft.shape.paths.shapes,st=ft.shape.paths._length,nt=0;nt<st;nt+=1)dt.addShape(this.processPath(_e[nt],ot,at,lt));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(et,_e,tt){var rt=Math.atan2(_e[0]-et[0],_e[1]-et[1]);return[polarOffset(et,rt,tt),polarOffset(_e,rt,tt)]}function offsetSegment(et,_e){var tt,rt,nt,st,ot,at,lt;lt=linearOffset(et.points[0],et.points[1],_e),tt=lt[0],rt=lt[1],lt=linearOffset(et.points[1],et.points[2],_e),nt=lt[0],st=lt[1],lt=linearOffset(et.points[2],et.points[3],_e),ot=lt[0],at=lt[1];var ft=lineIntersection(tt,rt,nt,st);ft===null&&(ft=rt);var dt=lineIntersection(ot,at,nt,st);return dt===null&&(dt=ot),new PolynomialBezier(tt,ft,dt,at)}function joinLines(et,_e,tt,rt,nt){var st=_e.points[3],ot=tt.points[0];if(rt===3||pointEqual(st,ot))return st;if(rt===2){var at=-_e.tangentAngle(1),lt=-tt.tangentAngle(0)+Math.PI,ft=lineIntersection(st,polarOffset(st,at+Math.PI/2,100),ot,polarOffset(ot,at+Math.PI/2,100)),dt=ft?pointDistance(ft,st):pointDistance(st,ot)/2,gt=polarOffset(st,at,2*dt*roundCorner);return et.setXYAt(gt[0],gt[1],"o",et.length()-1),gt=polarOffset(ot,lt,2*dt*roundCorner),et.setTripleAt(ot[0],ot[1],ot[0],ot[1],gt[0],gt[1],et.length()),ot}var pt=pointEqual(st,_e.points[2])?_e.points[0]:_e.points[2],vt=pointEqual(ot,tt.points[1])?tt.points[3]:tt.points[1],St=lineIntersection(pt,st,ot,vt);return St&&pointDistance(St,st)<nt?(et.setTripleAt(St[0],St[1],St[0],St[1],St[0],St[1],et.length()),St):st}function getIntersection(et,_e){var tt=et.intersections(_e);return tt.length&&floatEqual(tt[0][0],1)&&tt.shift(),tt.length?tt[0]:null}function pruneSegmentIntersection(et,_e){var tt=et.slice(),rt=_e.slice(),nt=getIntersection(et[et.length-1],_e[0]);return nt&&(tt[et.length-1]=et[et.length-1].split(nt[0])[0],rt[0]=_e[0].split(nt[1])[1]),et.length>1&&_e.length>1&&(nt=getIntersection(et[0],_e[_e.length-1]),nt)?[[et[0].split(nt[0])[0]],[_e[_e.length-1].split(nt[1])[1]]]:[tt,rt]}function pruneIntersections(et){for(var _e,tt=1;tt<et.length;tt+=1)_e=pruneSegmentIntersection(et[tt-1],et[tt]),et[tt-1]=_e[0],et[tt]=_e[1];return et.length>1&&(_e=pruneSegmentIntersection(et[et.length-1],et[0]),et[et.length-1]=_e[0],et[0]=_e[1]),et}function offsetSegmentSplit(et,_e){var tt=et.inflectionPoints(),rt,nt,st,ot;if(tt.length===0)return[offsetSegment(et,_e)];if(tt.length===1||floatEqual(tt[1],1))return st=et.split(tt[0]),rt=st[0],nt=st[1],[offsetSegment(rt,_e),offsetSegment(nt,_e)];st=et.split(tt[0]),rt=st[0];var at=(tt[1]-tt[0])/(1-tt[0]);return st=st[1].split(at),ot=st[0],nt=st[1],[offsetSegment(rt,_e),offsetSegment(ot,_e),offsetSegment(nt,_e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(et,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,_e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(et,_e.ml,0,null,this),this.lineJoin=_e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(et,_e,tt,rt){var nt=shapePool.newElement();nt.c=et.c;var st=et.length();et.c||(st-=1);var ot,at,lt,ft=[];for(ot=0;ot<st;ot+=1)lt=PolynomialBezier.shapeSegment(et,ot),ft.push(offsetSegmentSplit(lt,_e));if(!et.c)for(ot=st-1;ot>=0;ot-=1)lt=PolynomialBezier.shapeSegmentInverted(et,ot),ft.push(offsetSegmentSplit(lt,_e));ft=pruneIntersections(ft);var dt=null,gt=null;for(ot=0;ot<ft.length;ot+=1){var pt=ft[ot];for(gt&&(dt=joinLines(nt,gt,pt[0],tt,rt)),gt=pt[pt.length-1],at=0;at<pt.length;at+=1)lt=pt[at],dt&&pointEqual(lt.points[0],dt)?nt.setXYAt(lt.points[1][0],lt.points[1][1],"o",nt.length()-1):nt.setTripleAt(lt.points[0][0],lt.points[0][1],lt.points[1][0],lt.points[1][1],lt.points[0][0],lt.points[0][1],nt.length()),nt.setTripleAt(lt.points[3][0],lt.points[3][1],lt.points[3][0],lt.points[3][1],lt.points[2][0],lt.points[2][1],nt.length()),dt=lt.points[3]}return ft.length&&joinLines(nt,gt,ft[0][0],tt,rt),nt},OffsetPathModifier.prototype.processShapes=function(et){var _e,tt,rt=this.shapes.length,nt,st,ot=this.amount.v,at=this.miterLimit.v,lt=this.lineJoin;if(ot!==0){var ft,dt;for(tt=0;tt<rt;tt+=1){if(ft=this.shapes[tt],dt=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!et))for(dt.releaseShapes(),ft.shape._mdf=!0,_e=ft.shape.paths.shapes,st=ft.shape.paths._length,nt=0;nt<st;nt+=1)dt.addShape(this.processPath(_e[nt],ot,lt,at));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(et){for(var _e=et.fStyle?et.fStyle.split(" "):[],tt="normal",rt="normal",nt=_e.length,st,ot=0;ot<nt;ot+=1)switch(st=_e[ot].toLowerCase(),st){case"italic":rt="italic";break;case"bold":tt="700";break;case"black":tt="900";break;case"medium":tt="500";break;case"regular":case"normal":tt="400";break;case"light":case"thin":tt="200";break}return{style:rt,weight:et.fWeight||tt}}var FontManager=function(){var et=5e3,_e={w:0,size:0,shapes:[],data:{shapes:[]}},tt=[];tt=tt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var rt=127988,nt=917631,st=917601,ot=917626,at=65039,lt=8205,ft=127462,dt=127487,gt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function pt(qt){var er=qt.split(","),kt,Vt=er.length,Zt=[];for(kt=0;kt<Vt;kt+=1)er[kt]!=="sans-serif"&&er[kt]!=="monospace"&&Zt.push(er[kt]);return Zt.join(",")}function vt(qt,er){var kt=createTag("span");kt.setAttribute("aria-hidden",!0),kt.style.fontFamily=er;var Vt=createTag("span");Vt.innerText="giItT1WQy@!-/#",kt.style.position="absolute",kt.style.left="-10000px",kt.style.top="-10000px",kt.style.fontSize="300px",kt.style.fontVariant="normal",kt.style.fontStyle="normal",kt.style.fontWeight="normal",kt.style.letterSpacing="0",kt.appendChild(Vt),document.body.appendChild(kt);var Zt=Vt.offsetWidth;return Vt.style.fontFamily=pt(qt)+", "+er,{node:Vt,w:Zt,parent:kt}}function St(){var qt,er=this.fonts.length,kt,Vt,Zt=er;for(qt=0;qt<er;qt+=1)this.fonts[qt].loaded?Zt-=1:this.fonts[qt].fOrigin==="n"||this.fonts[qt].origin===0?this.fonts[qt].loaded=!0:(kt=this.fonts[qt].monoCase.node,Vt=this.fonts[qt].monoCase.w,kt.offsetWidth!==Vt?(Zt-=1,this.fonts[qt].loaded=!0):(kt=this.fonts[qt].sansCase.node,Vt=this.fonts[qt].sansCase.w,kt.offsetWidth!==Vt&&(Zt-=1,this.fonts[qt].loaded=!0)),this.fonts[qt].loaded&&(this.fonts[qt].sansCase.parent.parentNode.removeChild(this.fonts[qt].sansCase.parent),this.fonts[qt].monoCase.parent.parentNode.removeChild(this.fonts[qt].monoCase.parent)));Zt!==0&&Date.now()-this.initTime<et?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function At(qt,er){var kt=document.body&&er?"svg":"canvas",Vt,Zt=getFontProperties(qt);if(kt==="svg"){var Wt=createNS("text");Wt.style.fontSize="100px",Wt.setAttribute("font-family",qt.fFamily),Wt.setAttribute("font-style",Zt.style),Wt.setAttribute("font-weight",Zt.weight),Wt.textContent="1",qt.fClass?(Wt.style.fontFamily="inherit",Wt.setAttribute("class",qt.fClass)):Wt.style.fontFamily=qt.fFamily,er.appendChild(Wt),Vt=Wt}else{var nr=new OffscreenCanvas(500,500).getContext("2d");nr.font=Zt.style+" "+Zt.weight+" 100px "+qt.fFamily,Vt=nr}function sr(lr){return kt==="svg"?(Vt.textContent=lr,Vt.getComputedTextLength()):Vt.measureText(lr).width}return{measureText:sr}}function Tt(qt,er){if(!qt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=qt.list;return}if(!document.body){this.isLoaded=!0,qt.list.forEach(function(pr){pr.helper=At(pr),pr.cache={}}),this.fonts=qt.list;return}var kt=qt.list,Vt,Zt=kt.length,Wt=Zt;for(Vt=0;Vt<Zt;Vt+=1){var nr=!0,sr,lr;if(kt[Vt].loaded=!1,kt[Vt].monoCase=vt(kt[Vt].fFamily,"monospace"),kt[Vt].sansCase=vt(kt[Vt].fFamily,"sans-serif"),!kt[Vt].fPath)kt[Vt].loaded=!0,Wt-=1;else if(kt[Vt].fOrigin==="p"||kt[Vt].origin===3){if(sr=document.querySelectorAll('style[f-forigin="p"][f-family="'+kt[Vt].fFamily+'"], style[f-origin="3"][f-family="'+kt[Vt].fFamily+'"]'),sr.length>0&&(nr=!1),nr){var dr=createTag("style");dr.setAttribute("f-forigin",kt[Vt].fOrigin),dr.setAttribute("f-origin",kt[Vt].origin),dr.setAttribute("f-family",kt[Vt].fFamily),dr.type="text/css",dr.innerText="@font-face {font-family: "+kt[Vt].fFamily+"; font-style: normal; src: url('"+kt[Vt].fPath+"');}",er.appendChild(dr)}}else if(kt[Vt].fOrigin==="g"||kt[Vt].origin===1){for(sr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),lr=0;lr<sr.length;lr+=1)sr[lr].href.indexOf(kt[Vt].fPath)!==-1&&(nr=!1);if(nr){var hr=createTag("link");hr.setAttribute("f-forigin",kt[Vt].fOrigin),hr.setAttribute("f-origin",kt[Vt].origin),hr.type="text/css",hr.rel="stylesheet",hr.href=kt[Vt].fPath,document.body.appendChild(hr)}}else if(kt[Vt].fOrigin==="t"||kt[Vt].origin===2){for(sr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),lr=0;lr<sr.length;lr+=1)kt[Vt].fPath===sr[lr].src&&(nr=!1);if(nr){var wr=createTag("link");wr.setAttribute("f-forigin",kt[Vt].fOrigin),wr.setAttribute("f-origin",kt[Vt].origin),wr.setAttribute("rel","stylesheet"),wr.setAttribute("href",kt[Vt].fPath),er.appendChild(wr)}}kt[Vt].helper=At(kt[Vt],er),kt[Vt].cache={},this.fonts.push(kt[Vt])}Wt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Ct(qt){if(qt){this.chars||(this.chars=[]);var er,kt=qt.length,Vt,Zt=this.chars.length,Wt;for(er=0;er<kt;er+=1){for(Vt=0,Wt=!1;Vt<Zt;)this.chars[Vt].style===qt[er].style&&this.chars[Vt].fFamily===qt[er].fFamily&&this.chars[Vt].ch===qt[er].ch&&(Wt=!0),Vt+=1;Wt||(this.chars.push(qt[er]),Zt+=1)}}}function Mt(qt,er,kt){for(var Vt=0,Zt=this.chars.length;Vt<Zt;){if(this.chars[Vt].ch===qt&&this.chars[Vt].style===er&&this.chars[Vt].fFamily===kt)return this.chars[Vt];Vt+=1}return(typeof qt=="string"&&qt.charCodeAt(0)!==13||!qt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",qt,er,kt)),_e}function Et(qt,er,kt){var Vt=this.getFontByName(er),Zt=qt;if(!Vt.cache[Zt]){var Wt=Vt.helper;if(qt===" "){var nr=Wt.measureText("|"+qt+"|"),sr=Wt.measureText("||");Vt.cache[Zt]=(nr-sr)/100}else Vt.cache[Zt]=Wt.measureText(qt)/100}return Vt.cache[Zt]*kt}function Rt(qt){for(var er=0,kt=this.fonts.length;er<kt;){if(this.fonts[er].fName===qt)return this.fonts[er];er+=1}return this.fonts[0]}function Bt(qt){var er=0,kt=qt.charCodeAt(0);if(kt>=55296&&kt<=56319){var Vt=qt.charCodeAt(1);Vt>=56320&&Vt<=57343&&(er=(kt-55296)*1024+Vt-56320+65536)}return er}function Ft(qt,er){var kt=qt.toString(16)+er.toString(16);return gt.indexOf(kt)!==-1}function Lt(qt){return qt===lt}function wt(qt){return qt===at}function Dt(qt){var er=Bt(qt);return er>=ft&&er<=dt}function Ot(qt){return Dt(qt.substr(0,2))&&Dt(qt.substr(2,2))}function Ut(qt){return tt.indexOf(qt)!==-1}function zt(qt,er){var kt=Bt(qt.substr(er,2));if(kt!==rt)return!1;var Vt=0;for(er+=2;Vt<5;){if(kt=Bt(qt.substr(er,2)),kt<st||kt>ot)return!1;Vt+=1,er+=2}return Bt(qt.substr(er,2))===nt}function tr(){this.isLoaded=!0}var jt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};jt.isModifier=Ft,jt.isZeroWidthJoiner=Lt,jt.isFlagEmoji=Ot,jt.isRegionalCode=Dt,jt.isCombinedCharacter=Ut,jt.isRegionalFlag=zt,jt.isVariationSelector=wt,jt.BLACK_FLAG_CODE_POINT=rt;var Kt={addChars:Ct,addFonts:Tt,getCharData:Mt,getFontByName:Rt,measureText:Et,checkLoadedFonts:St,setIsLoaded:tr};return jt.prototype=Kt,jt}();function SlotManager(et){this.animationData=et}SlotManager.prototype.getProp=function(et){return this.animationData.slots&&this.animationData.slots[et.sid]?Object.assign(et,this.animationData.slots[et.sid].p):et};function slotFactory(et){return new SlotManager(et)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)===-1&&this.renderableComponents.push(_e)},removeRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(_e),1)},prepareRenderableFrame:function(_e){this.checkLayerLimits(_e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(_e){this.data.ip-this.data.st<=_e&&this.data.op-this.data.st>_e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var _e,tt=this.renderableComponents.length;for(_e=0;_e<tt;_e+=1)this.renderableComponents[_e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var et={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(_e){return et[_e]||""}}();function SliderEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function AngleEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function ColorEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,1,0,tt)}function PointEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,1,0,tt)}function LayerIndexEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function MaskIndexEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function CheckboxEffect(et,_e,tt){this.p=PropertyFactory.getProp(_e,et.v,0,0,tt)}function NoValueEffect(){this.p={}}function EffectsManager(et,_e){var tt=et.ef||[];this.effectElements=[];var rt,nt=tt.length,st;for(rt=0;rt<nt;rt+=1)st=new GroupEffect(tt[rt],_e),this.effectElements.push(st)}function GroupEffect(et,_e){this.init(et,_e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(et,_e){this.data=et,this.effectElements=[],this.initDynamicPropertyContainer(_e);var tt,rt=this.data.ef.length,nt,st=this.data.ef;for(tt=0;tt<rt;tt+=1){switch(nt=null,st[tt].ty){case 0:nt=new SliderEffect(st[tt],_e,this);break;case 1:nt=new AngleEffect(st[tt],_e,this);break;case 2:nt=new ColorEffect(st[tt],_e,this);break;case 3:nt=new PointEffect(st[tt],_e,this);break;case 4:case 7:nt=new CheckboxEffect(st[tt],_e,this);break;case 10:nt=new LayerIndexEffect(st[tt],_e,this);break;case 11:nt=new MaskIndexEffect(st[tt],_e,this);break;case 5:nt=new EffectsManager(st[tt],_e);break;default:nt=new NoValueEffect(st[tt]);break}nt&&this.effectElements.push(nt)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var _e=0,tt=this.data.masksProperties.length;_e<tt;){if(this.data.masksProperties[_e].mode!=="n"&&this.data.masksProperties[_e].cl!==!1)return!0;_e+=1}return!1},initExpressions:function(){var _e=getExpressionInterfaces();if(_e){var tt=_e("layer"),rt=_e("effects"),nt=_e("shape"),st=_e("text"),ot=_e("comp");this.layerInterface=tt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var at=rt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(at),this.data.ty===0||this.data.xt?this.compInterface=ot(this):this.data.ty===4?(this.layerInterface.shapeInterface=nt(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=st(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var _e=getBlendMode(this.data.bm),tt=this.baseElement||this.layerElement;tt.style["mix-blend-mode"]=_e},initBaseData:function(_e,tt,rt){this.globalData=tt,this.comp=rt,this.data=_e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(_e,tt){var rt,nt=this.dynamicProperties.length;for(rt=0;rt<nt;rt+=1)(tt||this._isParent&&this.dynamicProperties[rt].propType==="transform")&&(this.dynamicProperties[rt].getValue(),this.dynamicProperties[rt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&this.dynamicProperties.push(_e)}};function FootageElement(et,_e,tt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(et.refId),this.footageData=_e.imageLoader.getAsset(this.assetData),this.initBaseData(et,_e,tt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var et=getExpressionInterfaces();if(et){var _e=et("footage");this.layerInterface=_e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(et,_e,tt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(et.refId),this.initBaseData(et,_e,tt),this._isPlaying=!1,this._canPlay=!1;var rt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(rt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,et.au&&et.au.lv?et.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(et){if(this.prepareRenderableFrame(et,!0),this.prepareProperties(et,!0),this.tm._placeholder)this._currentTime=et/this.data.sr;else{var _e=this.tm.v;this._currentTime=_e}this._volume=this.lv.v[0];var tt=this._volume*this._volumeMultiplier;this._previousVolume!==tt&&(this._previousVolume=tt,this.audio.volume(tt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(et){this.audio.rate(et)},AudioElement.prototype.volume=function(et){this._volumeMultiplier=et,this._previousVolume=et*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(et){var _e,tt=this.layers.length,rt;for(this.completeLayers=!0,_e=tt-1;_e>=0;_e-=1)this.elements[_e]||(rt=this.layers[_e],rt.ip-rt.st<=et-this.layers[_e].st&&rt.op-rt.st>et-this.layers[_e].st&&this.buildItem(_e)),this.completeLayers=this.elements[_e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(et){switch(et.ty){case 2:return this.createImage(et);case 0:return this.createComp(et);case 1:return this.createSolid(et);case 3:return this.createNull(et);case 4:return this.createShape(et);case 5:return this.createText(et);case 6:return this.createAudio(et);case 13:return this.createCamera(et);case 15:return this.createFootage(et);default:return this.createNull(et)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(et){return new AudioElement(et,this.globalData,this)},BaseRenderer.prototype.createFootage=function(et){return new FootageElement(et,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var et,_e=this.layers.length;for(et=0;et<_e;et+=1)this.buildItem(et);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(et){this.completeLayers=!1;var _e,tt=et.length,rt,nt=this.layers.length;for(_e=0;_e<tt;_e+=1)for(rt=0;rt<nt;){if(this.layers[rt].id===et[_e].id){this.layers[rt]=et[_e];break}rt+=1}},BaseRenderer.prototype.setProjectInterface=function(et){this.globalData.projectInterface=et},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(et,_e,tt){for(var rt=this.elements,nt=this.layers,st=0,ot=nt.length;st<ot;)nt[st].ind==_e&&(!rt[st]||rt[st]===!0?(this.buildItem(st),this.addPendingElement(et)):(tt.push(rt[st]),rt[st].setAsParent(),nt[st].parent!==void 0?this.buildElementParenting(et,nt[st].parent,tt):et.setHierarchy(tt))),st+=1},BaseRenderer.prototype.addPendingElement=function(et){this.pendingElements.push(et)},BaseRenderer.prototype.searchExtraCompositions=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)if(et[_e].xt){var rt=this.createComp(et[_e]);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}},BaseRenderer.prototype.getElementById=function(et){var _e,tt=this.elements.length;for(_e=0;_e<tt;_e+=1)if(this.elements[_e].data.ind===et)return this.elements[_e];return null},BaseRenderer.prototype.getElementByPath=function(et){var _e=et.shift(),tt;if(typeof _e=="number")tt=this.elements[_e];else{var rt,nt=this.elements.length;for(rt=0;rt<nt;rt+=1)if(this.elements[rt].data.nm===_e){tt=this.elements[rt];break}}return et.length===0?tt:tt.getElementByPath(et)},BaseRenderer.prototype.setupGlobalData=function(et,_e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(et),this.globalData.fontManager.addChars(et.chars),this.globalData.fontManager.addFonts(et.fonts,_e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=et.fr,this.globalData.nm=et.nm,this.globalData.compSize={w:et.w,h:et.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var _e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:_e,localMat:_e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var _e,tt=this.finalTransform.mat,rt=0,nt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;rt<nt;){if(this.hierarchy[rt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}rt+=1}if(this.finalTransform._matMdf)for(_e=this.finalTransform.mProp.v.props,tt.cloneFromProps(_e),rt=0;rt<nt;rt+=1)tt.multiply(this.hierarchy[rt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var _e=0,tt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;_e<tt;)this.localTransforms[_e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[_e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),_e+=1;if(this.finalTransform._localMatMdf){var rt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(rt),_e=1;_e<tt;_e+=1){var nt=this.localTransforms[_e].matrix;rt.multiply(nt)}rt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var st=this.finalTransform.localOpacity;for(_e=0;_e<tt;_e+=1)st*=this.localTransforms[_e].opacity*.01;this.finalTransform.localOpacity=st}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var _e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(_e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var tt=0,rt=_e.length;for(tt=0;tt<rt;tt+=1)this.localTransforms.push(_e[tt])}}},globalToLocal:function(_e){var tt=[];tt.push(this.finalTransform);for(var rt=!0,nt=this.comp;rt;)nt.finalTransform?(nt.data.hasMask&&tt.splice(0,0,nt.finalTransform),nt=nt.comp):rt=!1;var st,ot=tt.length,at;for(st=0;st<ot;st+=1)at=tt[st].mat.applyToPointArray(0,0,0),_e=[_e[0]-at[0],_e[1]-at[1],0];return _e},mHelper:new Matrix};function MaskElement(et,_e,tt){this.data=et,this.element=_e,this.globalData=tt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var rt=this.globalData.defs,nt,st=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(st),this.solidPath="";var ot,at=this.masksProperties,lt=0,ft=[],dt,gt,pt=createElementID(),vt,St,At,Tt,Ct="clipPath",Mt="clip-path";for(nt=0;nt<st;nt+=1)if((at[nt].mode!=="a"&&at[nt].mode!=="n"||at[nt].inv||at[nt].o.k!==100||at[nt].o.x)&&(Ct="mask",Mt="mask"),(at[nt].mode==="s"||at[nt].mode==="i")&&lt===0?(vt=createNS("rect"),vt.setAttribute("fill","#ffffff"),vt.setAttribute("width",this.element.comp.data.w||0),vt.setAttribute("height",this.element.comp.data.h||0),ft.push(vt)):vt=null,ot=createNS("path"),at[nt].mode==="n")this.viewData[nt]={op:PropertyFactory.getProp(this.element,at[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,at[nt],3),elem:ot,lastPath:""},rt.appendChild(ot);else{lt+=1,ot.setAttribute("fill",at[nt].mode==="s"?"#000000":"#ffffff"),ot.setAttribute("clip-rule","nonzero");var Et;if(at[nt].x.k!==0?(Ct="mask",Mt="mask",Tt=PropertyFactory.getProp(this.element,at[nt].x,0,null,this.element),Et=createElementID(),St=createNS("filter"),St.setAttribute("id",Et),At=createNS("feMorphology"),At.setAttribute("operator","erode"),At.setAttribute("in","SourceGraphic"),At.setAttribute("radius","0"),St.appendChild(At),rt.appendChild(St),ot.setAttribute("stroke",at[nt].mode==="s"?"#000000":"#ffffff")):(At=null,Tt=null),this.storedData[nt]={elem:ot,x:Tt,expan:At,lastPath:"",lastOperator:"",filterId:Et,lastRadius:0},at[nt].mode==="i"){gt=ft.length;var Rt=createNS("g");for(dt=0;dt<gt;dt+=1)Rt.appendChild(ft[dt]);var Bt=createNS("mask");Bt.setAttribute("mask-type","alpha"),Bt.setAttribute("id",pt+"_"+lt),Bt.appendChild(ot),rt.appendChild(Bt),Rt.setAttribute("mask","url("+getLocationHref()+"#"+pt+"_"+lt+")"),ft.length=0,ft.push(Rt)}else ft.push(ot);at[nt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[nt]={elem:ot,lastPath:"",op:PropertyFactory.getProp(this.element,at[nt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,at[nt],3),invRect:vt},this.viewData[nt].prop.k||this.drawPath(at[nt],this.viewData[nt].prop.v,this.viewData[nt])}for(this.maskElement=createNS(Ct),st=ft.length,nt=0;nt<st;nt+=1)this.maskElement.appendChild(ft[nt]);lt>0&&(this.maskElement.setAttribute("id",pt),this.element.maskedElement.setAttribute(Mt,"url("+getLocationHref()+"#"+pt+")"),rt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(et){return this.viewData[et].prop},MaskElement.prototype.renderFrame=function(et){var _e=this.element.finalTransform.mat,tt,rt=this.masksProperties.length;for(tt=0;tt<rt;tt+=1)if((this.viewData[tt].prop._mdf||et)&&this.drawPath(this.masksProperties[tt],this.viewData[tt].prop.v,this.viewData[tt]),(this.viewData[tt].op._mdf||et)&&this.viewData[tt].elem.setAttribute("fill-opacity",this.viewData[tt].op.v),this.masksProperties[tt].mode!=="n"&&(this.viewData[tt].invRect&&(this.element.finalTransform.mProp._mdf||et)&&this.viewData[tt].invRect.setAttribute("transform",_e.getInverseMatrix().to2dCSS()),this.storedData[tt].x&&(this.storedData[tt].x._mdf||et))){var nt=this.storedData[tt].expan;this.storedData[tt].x.v<0?(this.storedData[tt].lastOperator!=="erode"&&(this.storedData[tt].lastOperator="erode",this.storedData[tt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[tt].filterId+")")),nt.setAttribute("radius",-this.storedData[tt].x.v)):(this.storedData[tt].lastOperator!=="dilate"&&(this.storedData[tt].lastOperator="dilate",this.storedData[tt].elem.setAttribute("filter",null)),this.storedData[tt].elem.setAttribute("stroke-width",this.storedData[tt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var et="M0,0 ";return et+=" h"+this.globalData.compSize.w,et+=" v"+this.globalData.compSize.h,et+=" h-"+this.globalData.compSize.w,et+=" v-"+this.globalData.compSize.h+" ",et},MaskElement.prototype.drawPath=function(et,_e,tt){var rt=" M"+_e.v[0][0]+","+_e.v[0][1],nt,st;for(st=_e._length,nt=1;nt<st;nt+=1)rt+=" C"+_e.o[nt-1][0]+","+_e.o[nt-1][1]+" "+_e.i[nt][0]+","+_e.i[nt][1]+" "+_e.v[nt][0]+","+_e.v[nt][1];if(_e.c&&st>1&&(rt+=" C"+_e.o[nt-1][0]+","+_e.o[nt-1][1]+" "+_e.i[0][0]+","+_e.i[0][1]+" "+_e.v[0][0]+","+_e.v[0][1]),tt.lastPath!==rt){var ot="";tt.elem&&(_e.c&&(ot=et.inv?this.solidPath+rt:rt),tt.elem.setAttribute("d",ot)),tt.lastPath=rt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var et={};et.createFilter=_e,et.createAlphaToLuminanceFilter=tt;function _e(rt,nt){var st=createNS("filter");return st.setAttribute("id",rt),nt!==!0&&(st.setAttribute("filterUnits","objectBoundingBox"),st.setAttribute("x","0%"),st.setAttribute("y","0%"),st.setAttribute("width","100%"),st.setAttribute("height","100%")),st}function tt(){var rt=createNS("feColorMatrix");return rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),rt}return et}(),featureSupport=function(){var et={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(et.maskType=!1),/firefox/i.test(navigator.userAgent)&&(et.svgLumaHidden=!1),et}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(et){var _e,tt="SourceGraphic",rt=et.data.ef?et.data.ef.length:0,nt=createElementID(),st=filtersFactory.createFilter(nt,!0),ot=0;this.filters=[];var at;for(_e=0;_e<rt;_e+=1){at=null;var lt=et.data.ef[_e].ty;if(registeredEffects$1[lt]){var ft=registeredEffects$1[lt].effect;at=new ft(st,et.effectsManager.effectElements[_e],et,idPrefix+ot,tt),tt=idPrefix+ot,registeredEffects$1[lt].countsAsEffect&&(ot+=1)}at&&this.filters.push(at)}ot&&(et.globalData.defs.appendChild(st),et.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+nt+")")),this.filters.length&&et.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(et){var _e,tt=this.filters.length;for(_e=0;_e<tt;_e+=1)this.filters[_e].renderFrame(et)},SVGEffects.prototype.getEffects=function(et){var _e,tt=this.filters.length,rt=[];for(_e=0;_e<tt;_e+=1)this.filters[_e].type===et&&rt.push(this.filters[_e]);return rt};function registerEffect$1(et,_e,tt){registeredEffects$1[et]={effect:_e,countsAsEffect:tt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var _e=null;if(this.data.td){this.matteMasks={};var tt=createNS("g");tt.setAttribute("id",this.layerId),tt.appendChild(this.layerElement),_e=tt,this.globalData.defs.appendChild(tt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var rt=createNS("clipPath"),nt=createNS("path");nt.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var st=createElementID();if(rt.setAttribute("id",st),rt.appendChild(nt),this.globalData.defs.appendChild(rt),this.checkMasks()){var ot=createNS("g");ot.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")"),ot.appendChild(this.layerElement),this.transformedElement=ot,_e?_e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(_e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[_e]){var tt=this.layerId+"_"+_e,rt,nt,st,ot;if(_e===1||_e===3){var at=createNS("mask");at.setAttribute("id",tt),at.setAttribute("mask-type",_e===3?"luminance":"alpha"),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),at.appendChild(st),this.globalData.defs.appendChild(at),!featureSupport.maskType&&_e===1&&(at.setAttribute("mask-type","luminance"),rt=createElementID(),nt=filtersFactory.createFilter(rt),this.globalData.defs.appendChild(nt),nt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),ot.appendChild(st),at.appendChild(ot),ot.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"))}else if(_e===2){var lt=createNS("mask");lt.setAttribute("id",tt),lt.setAttribute("mask-type","alpha");var ft=createNS("g");lt.appendChild(ft),rt=createElementID(),nt=filtersFactory.createFilter(rt);var dt=createNS("feComponentTransfer");dt.setAttribute("in","SourceGraphic"),nt.appendChild(dt);var gt=createNS("feFuncA");gt.setAttribute("type","table"),gt.setAttribute("tableValues","1.0 0.0"),dt.appendChild(gt),this.globalData.defs.appendChild(nt);var pt=createNS("rect");pt.setAttribute("width",this.comp.data.w),pt.setAttribute("height",this.comp.data.h),pt.setAttribute("x","0"),pt.setAttribute("y","0"),pt.setAttribute("fill","#ffffff"),pt.setAttribute("opacity","0"),ft.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"),ft.appendChild(pt),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ft.appendChild(st),featureSupport.maskType||(lt.setAttribute("mask-type","luminance"),nt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),ft.appendChild(pt),ot.appendChild(this.layerElement),ft.appendChild(ot)),this.globalData.defs.appendChild(lt)}this.matteMasks[_e]=tt}return this.matteMasks[_e]},setMatte:function(_e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+_e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(_e){this.hierarchy=_e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var et={initElement:function(tt,rt,nt){this.initFrame(),this.initBaseData(tt,rt,nt),this.initTransform(tt,rt,nt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var tt=this.baseElement||this.layerElement;tt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var tt=this.baseElement||this.layerElement;tt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(tt){this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(et)],RenderableDOMElement)})();function IImageElement(et,_e,tt){this.assetData=_e.getAssetData(et.refId),this.assetData&&this.assetData.sid&&(this.assetData=_e.slotManager.getProp(this.assetData)),this.initElement(et,_e,tt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(et,_e){this.elem=et,this.pos=_e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(_e){var tt,rt=this.shapeModifiers.length;for(tt=0;tt<rt;tt+=1)this.shapeModifiers[tt].addShape(_e)},isShapeInAnimatedModifiers:function(_e){for(var tt=0,rt=this.shapeModifiers.length;tt<rt;)if(this.shapeModifiers[tt].isAnimatedWithShape(_e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var _e,tt=this.shapes.length;for(_e=0;_e<tt;_e+=1)this.shapes[_e].sh.reset();tt=this.shapeModifiers.length;var rt;for(_e=tt-1;_e>=0&&(rt=this.shapeModifiers[_e].processShapes(this._isFirstFrame),!rt);_e-=1);}},searchProcessedElement:function(_e){for(var tt=this.processedElements,rt=0,nt=tt.length;rt<nt;){if(tt[rt].elem===_e)return tt[rt].pos;rt+=1}return 0},addProcessedElement:function(_e,tt){for(var rt=this.processedElements,nt=rt.length;nt;)if(nt-=1,rt[nt].elem===_e){rt[nt].pos=tt;return}rt.push(new ProcessedElement(_e,tt))},prepareFrame:function(_e){this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(et,_e,tt){this.caches=[],this.styles=[],this.transformers=et,this.lStr="",this.sh=tt,this.lvl=_e,this._isAnimated=!!tt.k;for(var rt=0,nt=et.length;rt<nt;){if(et[rt].mProps.dynamicProperties.length){this._isAnimated=!0;break}rt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(et,_e){this.data=et,this.type=et.ty,this.d="",this.lvl=_e,this._mdf=!1,this.closed=et.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(et,_e,tt,rt){this.elem=et,this.frameId=-1,this.dataProps=createSizedArray(_e.length),this.renderer=tt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",_e.length?_e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(rt);var nt,st=_e.length||0,ot;for(nt=0;nt<st;nt+=1)ot=PropertyFactory.getProp(et,_e[nt].v,0,0,this),this.k=ot.k||this.k,this.dataProps[nt]={n:_e[nt].n,p:ot};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(et){if(!(this.elem.globalData.frameId===this.frameId&&!et)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||et,this._mdf)){var _e=0,tt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),_e=0;_e<tt;_e+=1)this.dataProps[_e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[_e].p.v:this.dashArray[_e]=this.dataProps[_e].p.v:this.dashoffset[0]=this.dataProps[_e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,_e.o,0,.01,this),this.w=PropertyFactory.getProp(et,_e.w,0,null,this),this.d=new DashProperty(et,_e.d||{},"svg",this),this.c=PropertyFactory.getProp(et,_e.c,1,255,this),this.style=tt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,_e.o,0,.01,this),this.c=PropertyFactory.getProp(et,_e.c,1,255,this),this.style=tt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.style=tt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(et,_e,tt){this.data=_e,this.c=createTypedArray("uint8c",_e.p*4);var rt=_e.k.k[0].s?_e.k.k[0].s.length-_e.p*4:_e.k.k.length-_e.p*4;this.o=createTypedArray("float32",rt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=rt,this.initDynamicPropertyContainer(tt),this.prop=PropertyFactory.getProp(et,_e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(et,_e){for(var tt=0,rt=this.o.length/2,nt;tt<rt;){if(nt=Math.abs(et[tt*4]-et[_e*4+tt*2]),nt>.01)return!1;tt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var et=0,_e=this.data.k.k.length;et<_e;){if(!this.comparePoints(this.data.k.k[et].s,this.data.p))return!1;et+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(et){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||et){var _e,tt=this.data.p*4,rt,nt;for(_e=0;_e<tt;_e+=1)rt=_e%4===0?100:255,nt=Math.round(this.prop.v[_e]*rt),this.c[_e]!==nt&&(this.c[_e]=nt,this._cmdf=!et);if(this.o.length)for(tt=this.prop.v.length,_e=this.data.p*4;_e<tt;_e+=1)rt=_e%2===0?100:1,nt=_e%2===0?Math.round(this.prop.v[_e]*100):this.prop.v[_e],this.o[_e-this.data.p*4]!==nt&&(this.o[_e-this.data.p*4]=nt,this._omdf=!et);this._mdf=!et}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.initGradientData(et,_e,tt)}SVGGradientFillStyleData.prototype.initGradientData=function(et,_e,tt){this.o=PropertyFactory.getProp(et,_e.o,0,.01,this),this.s=PropertyFactory.getProp(et,_e.s,1,null,this),this.e=PropertyFactory.getProp(et,_e.e,1,null,this),this.h=PropertyFactory.getProp(et,_e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(et,_e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(et,_e.g,this),this.style=tt,this.stops=[],this.setGradientData(tt.pElem,_e),this.setGradientOpacity(_e,tt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(et,_e){var tt=createElementID(),rt=createNS(_e.t===1?"linearGradient":"radialGradient");rt.setAttribute("id",tt),rt.setAttribute("spreadMethod","pad"),rt.setAttribute("gradientUnits","userSpaceOnUse");var nt=[],st,ot,at;for(at=_e.g.p*4,ot=0;ot<at;ot+=4)st=createNS("stop"),rt.appendChild(st),nt.push(st);et.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+tt+")"),this.gf=rt,this.cst=nt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(et,_e){if(this.g._hasOpacity&&!this.g._collapsable){var tt,rt,nt,st=createNS("mask"),ot=createNS("path");st.appendChild(ot);var at=createElementID(),lt=createElementID();st.setAttribute("id",lt);var ft=createNS(et.t===1?"linearGradient":"radialGradient");ft.setAttribute("id",at),ft.setAttribute("spreadMethod","pad"),ft.setAttribute("gradientUnits","userSpaceOnUse"),nt=et.g.k.k[0].s?et.g.k.k[0].s.length:et.g.k.k.length;var dt=this.stops;for(rt=et.g.p*4;rt<nt;rt+=2)tt=createNS("stop"),tt.setAttribute("stop-color","rgb(255,255,255)"),ft.appendChild(tt),dt.push(tt);ot.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+at+")"),et.ty==="gs"&&(ot.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),ot.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),et.lj===1&&ot.setAttribute("stroke-miterlimit",et.ml)),this.of=ft,this.ms=st,this.ost=dt,this.maskId=lt,_e.msElem=ot}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(et,_e,tt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(et,_e.w,0,null,this),this.d=new DashProperty(et,_e.d||{},"svg",this),this.initGradientData(et,_e,tt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(et,_e,tt){this.transform={mProps:et,op:_e,container:tt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(_e,tt,rt,nt){if(tt===0)return"";var st=_e.o,ot=_e.i,at=_e.v,lt,ft=" M"+nt.applyToPointStringified(at[0][0],at[0][1]);for(lt=1;lt<tt;lt+=1)ft+=" C"+nt.applyToPointStringified(st[lt-1][0],st[lt-1][1])+" "+nt.applyToPointStringified(ot[lt][0],ot[lt][1])+" "+nt.applyToPointStringified(at[lt][0],at[lt][1]);return rt&&tt&&(ft+=" C"+nt.applyToPointStringified(st[lt-1][0],st[lt-1][1])+" "+nt.applyToPointStringified(ot[0][0],ot[0][1])+" "+nt.applyToPointStringified(at[0][0],at[0][1]),ft+="z"),ft},SVGElementsRenderer=function(){var et=new Matrix,_e=new Matrix,tt={createRenderFunction:rt};function rt(gt){switch(gt.ty){case"fl":return at;case"gf":return ft;case"gs":return lt;case"st":return dt;case"sh":case"el":case"rc":case"sr":return ot;case"tr":return nt;case"no":return st;default:return null}}function nt(gt,pt,vt){(vt||pt.transform.op._mdf)&&pt.transform.container.setAttribute("opacity",pt.transform.op.v),(vt||pt.transform.mProps._mdf)&&pt.transform.container.setAttribute("transform",pt.transform.mProps.v.to2dCSS())}function st(){}function ot(gt,pt,vt){var St,At,Tt,Ct,Mt,Et,Rt=pt.styles.length,Bt=pt.lvl,Ft,Lt,wt,Dt;for(Et=0;Et<Rt;Et+=1){if(Ct=pt.sh._mdf||vt,pt.styles[Et].lvl<Bt){for(Lt=_e.reset(),wt=Bt-pt.styles[Et].lvl,Dt=pt.transformers.length-1;!Ct&&wt>0;)Ct=pt.transformers[Dt].mProps._mdf||Ct,wt-=1,Dt-=1;if(Ct)for(wt=Bt-pt.styles[Et].lvl,Dt=pt.transformers.length-1;wt>0;)Lt.multiply(pt.transformers[Dt].mProps.v),wt-=1,Dt-=1}else Lt=et;if(Ft=pt.sh.paths,At=Ft._length,Ct){for(Tt="",St=0;St<At;St+=1)Mt=Ft.shapes[St],Mt&&Mt._length&&(Tt+=buildShapeString(Mt,Mt._length,Mt.c,Lt));pt.caches[Et]=Tt}else Tt=pt.caches[Et];pt.styles[Et].d+=gt.hd===!0?"":Tt,pt.styles[Et]._mdf=Ct||pt.styles[Et]._mdf}}function at(gt,pt,vt){var St=pt.style;(pt.c._mdf||vt)&&St.pElem.setAttribute("fill","rgb("+bmFloor(pt.c.v[0])+","+bmFloor(pt.c.v[1])+","+bmFloor(pt.c.v[2])+")"),(pt.o._mdf||vt)&&St.pElem.setAttribute("fill-opacity",pt.o.v)}function lt(gt,pt,vt){ft(gt,pt,vt),dt(gt,pt,vt)}function ft(gt,pt,vt){var St=pt.gf,At=pt.g._hasOpacity,Tt=pt.s.v,Ct=pt.e.v;if(pt.o._mdf||vt){var Mt=gt.ty==="gf"?"fill-opacity":"stroke-opacity";pt.style.pElem.setAttribute(Mt,pt.o.v)}if(pt.s._mdf||vt){var Et=gt.t===1?"x1":"cx",Rt=Et==="x1"?"y1":"cy";St.setAttribute(Et,Tt[0]),St.setAttribute(Rt,Tt[1]),At&&!pt.g._collapsable&&(pt.of.setAttribute(Et,Tt[0]),pt.of.setAttribute(Rt,Tt[1]))}var Bt,Ft,Lt,wt;if(pt.g._cmdf||vt){Bt=pt.cst;var Dt=pt.g.c;for(Lt=Bt.length,Ft=0;Ft<Lt;Ft+=1)wt=Bt[Ft],wt.setAttribute("offset",Dt[Ft*4]+"%"),wt.setAttribute("stop-color","rgb("+Dt[Ft*4+1]+","+Dt[Ft*4+2]+","+Dt[Ft*4+3]+")")}if(At&&(pt.g._omdf||vt)){var Ot=pt.g.o;for(pt.g._collapsable?Bt=pt.cst:Bt=pt.ost,Lt=Bt.length,Ft=0;Ft<Lt;Ft+=1)wt=Bt[Ft],pt.g._collapsable||wt.setAttribute("offset",Ot[Ft*2]+"%"),wt.setAttribute("stop-opacity",Ot[Ft*2+1])}if(gt.t===1)(pt.e._mdf||vt)&&(St.setAttribute("x2",Ct[0]),St.setAttribute("y2",Ct[1]),At&&!pt.g._collapsable&&(pt.of.setAttribute("x2",Ct[0]),pt.of.setAttribute("y2",Ct[1])));else{var Ut;if((pt.s._mdf||pt.e._mdf||vt)&&(Ut=Math.sqrt(Math.pow(Tt[0]-Ct[0],2)+Math.pow(Tt[1]-Ct[1],2)),St.setAttribute("r",Ut),At&&!pt.g._collapsable&&pt.of.setAttribute("r",Ut)),pt.e._mdf||pt.h._mdf||pt.a._mdf||vt){Ut||(Ut=Math.sqrt(Math.pow(Tt[0]-Ct[0],2)+Math.pow(Tt[1]-Ct[1],2)));var zt=Math.atan2(Ct[1]-Tt[1],Ct[0]-Tt[0]),tr=pt.h.v;tr>=1?tr=.99:tr<=-1&&(tr=-.99);var jt=Ut*tr,Kt=Math.cos(zt+pt.a.v)*jt+Tt[0],qt=Math.sin(zt+pt.a.v)*jt+Tt[1];St.setAttribute("fx",Kt),St.setAttribute("fy",qt),At&&!pt.g._collapsable&&(pt.of.setAttribute("fx",Kt),pt.of.setAttribute("fy",qt))}}}function dt(gt,pt,vt){var St=pt.style,At=pt.d;At&&(At._mdf||vt)&&At.dashStr&&(St.pElem.setAttribute("stroke-dasharray",At.dashStr),St.pElem.setAttribute("stroke-dashoffset",At.dashoffset[0])),pt.c&&(pt.c._mdf||vt)&&St.pElem.setAttribute("stroke","rgb("+bmFloor(pt.c.v[0])+","+bmFloor(pt.c.v[1])+","+bmFloor(pt.c.v[2])+")"),(pt.o._mdf||vt)&&St.pElem.setAttribute("stroke-opacity",pt.o.v),(pt.w._mdf||vt)&&(St.pElem.setAttribute("stroke-width",pt.w.v),St.msElem&&St.msElem.setAttribute("stroke-width",pt.w.v))}return tt}();function SVGShapeElement(et,_e,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(et,_e,tt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var et,_e=this.shapes.length,tt,rt,nt=this.stylesList.length,st,ot=[],at=!1;for(rt=0;rt<nt;rt+=1){for(st=this.stylesList[rt],at=!1,ot.length=0,et=0;et<_e;et+=1)tt=this.shapes[et],tt.styles.indexOf(st)!==-1&&(ot.push(tt),at=tt._isAnimated||at);ot.length>1&&at&&this.setShapesAsAnimated(ot)}},SVGShapeElement.prototype.setShapesAsAnimated=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)et[_e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(et,_e){var tt,rt=new SVGStyleData(et,_e),nt=rt.pElem;if(et.ty==="st")tt=new SVGStrokeStyleData(this,et,rt);else if(et.ty==="fl")tt=new SVGFillStyleData(this,et,rt);else if(et.ty==="gf"||et.ty==="gs"){var st=et.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;tt=new st(this,et,rt),this.globalData.defs.appendChild(tt.gf),tt.maskId&&(this.globalData.defs.appendChild(tt.ms),this.globalData.defs.appendChild(tt.of),nt.setAttribute("mask","url("+getLocationHref()+"#"+tt.maskId+")"))}else et.ty==="no"&&(tt=new SVGNoStyleData(this,et,rt));return(et.ty==="st"||et.ty==="gs")&&(nt.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),nt.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),nt.setAttribute("fill-opacity","0"),et.lj===1&&nt.setAttribute("stroke-miterlimit",et.ml)),et.r===2&&nt.setAttribute("fill-rule","evenodd"),et.ln&&nt.setAttribute("id",et.ln),et.cl&&nt.setAttribute("class",et.cl),et.bm&&(nt.style["mix-blend-mode"]=getBlendMode(et.bm)),this.stylesList.push(rt),this.addToAnimatedContents(et,tt),tt},SVGShapeElement.prototype.createGroupElement=function(et){var _e=new ShapeGroupData;return et.ln&&_e.gr.setAttribute("id",et.ln),et.cl&&_e.gr.setAttribute("class",et.cl),et.bm&&(_e.gr.style["mix-blend-mode"]=getBlendMode(et.bm)),_e},SVGShapeElement.prototype.createTransformElement=function(et,_e){var tt=TransformPropertyFactory.getTransformProperty(this,et,this),rt=new SVGTransformData(tt,tt.o,_e);return this.addToAnimatedContents(et,rt),rt},SVGShapeElement.prototype.createShapeElement=function(et,_e,tt){var rt=4;et.ty==="rc"?rt=5:et.ty==="el"?rt=6:et.ty==="sr"&&(rt=7);var nt=ShapePropertyFactory.getShapeProp(this,et,rt,this),st=new SVGShapeData(_e,tt,nt);return this.shapes.push(st),this.addShapeToModifiers(st),this.addToAnimatedContents(et,st),st},SVGShapeElement.prototype.addToAnimatedContents=function(et,_e){for(var tt=0,rt=this.animatedContents.length;tt<rt;){if(this.animatedContents[tt].element===_e)return;tt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(et),element:_e,data:et})},SVGShapeElement.prototype.setElementStyles=function(et){var _e=et.styles,tt,rt=this.stylesList.length;for(tt=0;tt<rt;tt+=1)this.stylesList[tt].closed||_e.push(this.stylesList[tt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,_e=this.itemsData.length;for(et=0;et<_e;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_e=this.dynamicProperties.length,et=0;et<_e;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(et,_e,tt,rt,nt,st,ot){var at=[].concat(st),lt,ft=et.length-1,dt,gt,pt=[],vt=[],St,At,Tt;for(lt=ft;lt>=0;lt-=1){if(Tt=this.searchProcessedElement(et[lt]),Tt?_e[lt]=tt[Tt-1]:et[lt]._render=ot,et[lt].ty==="fl"||et[lt].ty==="st"||et[lt].ty==="gf"||et[lt].ty==="gs"||et[lt].ty==="no")Tt?_e[lt].style.closed=!1:_e[lt]=this.createStyleElement(et[lt],nt),et[lt]._render&&_e[lt].style.pElem.parentNode!==rt&&rt.appendChild(_e[lt].style.pElem),pt.push(_e[lt].style);else if(et[lt].ty==="gr"){if(!Tt)_e[lt]=this.createGroupElement(et[lt]);else for(gt=_e[lt].it.length,dt=0;dt<gt;dt+=1)_e[lt].prevViewData[dt]=_e[lt].it[dt];this.searchShapes(et[lt].it,_e[lt].it,_e[lt].prevViewData,_e[lt].gr,nt+1,at,ot),et[lt]._render&&_e[lt].gr.parentNode!==rt&&rt.appendChild(_e[lt].gr)}else et[lt].ty==="tr"?(Tt||(_e[lt]=this.createTransformElement(et[lt],rt)),St=_e[lt].transform,at.push(St)):et[lt].ty==="sh"||et[lt].ty==="rc"||et[lt].ty==="el"||et[lt].ty==="sr"?(Tt||(_e[lt]=this.createShapeElement(et[lt],at,nt)),this.setElementStyles(_e[lt])):et[lt].ty==="tm"||et[lt].ty==="rd"||et[lt].ty==="ms"||et[lt].ty==="pb"||et[lt].ty==="zz"||et[lt].ty==="op"?(Tt?(At=_e[lt],At.closed=!1):(At=ShapeModifiers.getModifier(et[lt].ty),At.init(this,et[lt]),_e[lt]=At,this.shapeModifiers.push(At)),vt.push(At)):et[lt].ty==="rp"&&(Tt?(At=_e[lt],At.closed=!0):(At=ShapeModifiers.getModifier(et[lt].ty),_e[lt]=At,At.init(this,et,lt,_e),this.shapeModifiers.push(At),ot=!1),vt.push(At));this.addProcessedElement(et[lt],lt+1)}for(ft=pt.length,lt=0;lt<ft;lt+=1)pt[lt].closed=!0;for(ft=vt.length,lt=0;lt<ft;lt+=1)vt[lt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var et,_e=this.stylesList.length;for(et=0;et<_e;et+=1)this.stylesList[et].reset();for(this.renderShape(),et=0;et<_e;et+=1)(this.stylesList[et]._mdf||this._isFirstFrame)&&(this.stylesList[et].msElem&&(this.stylesList[et].msElem.setAttribute("d",this.stylesList[et].d),this.stylesList[et].d="M0 0"+this.stylesList[et].d),this.stylesList[et].pElem.setAttribute("d",this.stylesList[et].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var et,_e=this.animatedContents.length,tt;for(et=0;et<_e;et+=1)tt=this.animatedContents[et],(this._isFirstFrame||tt.element._isAnimated)&&tt.data!==!0&&tt.fn(tt.data,tt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(et,_e,tt,rt,nt,st){this.o=et,this.sw=_e,this.sc=tt,this.fc=rt,this.m=nt,this.p=st,this._mdf={o:!0,sw:!!_e,sc:!!tt,fc:!!rt,m:!0,p:!0}}LetterProps.prototype.update=function(et,_e,tt,rt,nt,st){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ot=!1;return this.o!==et&&(this.o=et,this._mdf.o=!0,ot=!0),this.sw!==_e&&(this.sw=_e,this._mdf.sw=!0,ot=!0),this.sc!==tt&&(this.sc=tt,this._mdf.sc=!0,ot=!0),this.fc!==rt&&(this.fc=rt,this._mdf.fc=!0,ot=!0),this.m!==nt&&(this.m=nt,this._mdf.m=!0,ot=!0),st.length&&(this.p[0]!==st[0]||this.p[1]!==st[1]||this.p[4]!==st[4]||this.p[5]!==st[5]||this.p[12]!==st[12]||this.p[13]!==st[13])&&(this.p=st,this._mdf.p=!0,ot=!0),ot};function TextProperty(et,_e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,_e.d&&_e.d.sid&&(_e.d=et.globalData.slotManager.getProp(_e.d)),this.data=_e,this.elem=et,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(et,_e){for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_e[tt]);return et},TextProperty.prototype.setCurrentData=function(et){et.__complete||this.completeTextData(et),this.currentData=et,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(et){this.effectsSequence.push(et),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(et){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!et)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var _e=this.currentData,tt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var rt,nt=this.effectsSequence.length,st=et||this.data.d.k[this.keysIndex].s;for(rt=0;rt<nt;rt+=1)tt!==this.keysIndex?st=this.effectsSequence[rt](st,st.t):st=this.effectsSequence[rt](this.currentData,st.t);_e!==st&&this.setCurrentData(st),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var et=this.data.d.k,_e=this.elem.comp.renderedFrame,tt=0,rt=et.length;tt<=rt-1&&!(tt===rt-1||et[tt+1].t>_e);)tt+=1;return this.keysIndex!==tt&&(this.keysIndex=tt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(et){for(var _e=[],tt=0,rt=et.length,nt,st,ot=!1,at=!1,lt="";tt<rt;)ot=at,at=!1,nt=et.charCodeAt(tt),lt=et.charAt(tt),FontManager.isCombinedCharacter(nt)?ot=!0:nt>=55296&&nt<=56319?FontManager.isRegionalFlag(et,tt)?lt=et.substr(tt,14):(st=et.charCodeAt(tt+1),st>=56320&&st<=57343&&(FontManager.isModifier(nt,st)?(lt=et.substr(tt,2),ot=!0):FontManager.isFlagEmoji(et.substr(tt,4))?lt=et.substr(tt,4):lt=et.substr(tt,2))):nt>56319?(st=et.charCodeAt(tt+1),FontManager.isVariationSelector(nt)&&(ot=!0)):FontManager.isZeroWidthJoiner(nt)&&(ot=!0,at=!0),ot?(_e[_e.length-1]+=lt,ot=!1):_e.push(lt),tt+=lt.length;return _e},TextProperty.prototype.completeTextData=function(et){et.__complete=!0;var _e=this.elem.globalData.fontManager,tt=this.data,rt=[],nt,st,ot,at=0,lt,ft=tt.m.g,dt=0,gt=0,pt=0,vt=[],St=0,At=0,Tt,Ct,Mt=_e.getFontByName(et.f),Et,Rt=0,Bt=getFontProperties(Mt);et.fWeight=Bt.weight,et.fStyle=Bt.style,et.finalSize=et.s,et.finalText=this.buildFinalText(et.t),st=et.finalText.length,et.finalLineHeight=et.lh;var Ft=et.tr/1e3*et.finalSize,Lt;if(et.sz)for(var wt=!0,Dt=et.sz[0],Ot=et.sz[1],Ut,zt;wt;){zt=this.buildFinalText(et.t),Ut=0,St=0,st=zt.length,Ft=et.tr/1e3*et.finalSize;var tr=-1;for(nt=0;nt<st;nt+=1)Lt=zt[nt].charCodeAt(0),ot=!1,zt[nt]===" "?tr=nt:(Lt===13||Lt===3)&&(St=0,ot=!0,Ut+=et.finalLineHeight||et.finalSize*1.2),_e.chars?(Et=_e.getCharData(zt[nt],Mt.fStyle,Mt.fFamily),Rt=ot?0:Et.w*et.finalSize/100):Rt=_e.measureText(zt[nt],et.f,et.finalSize),St+Rt>Dt&&zt[nt]!==" "?(tr===-1?st+=1:nt=tr,Ut+=et.finalLineHeight||et.finalSize*1.2,zt.splice(nt,tr===nt?1:0,"\r"),tr=-1,St=0):(St+=Rt,St+=Ft);Ut+=Mt.ascent*et.finalSize/100,this.canResize&&et.finalSize>this.minimumFontSize&&Ot<Ut?(et.finalSize-=1,et.finalLineHeight=et.finalSize*et.lh/et.s):(et.finalText=zt,st=et.finalText.length,wt=!1)}St=-Ft,Rt=0;var jt=0,Kt;for(nt=0;nt<st;nt+=1)if(ot=!1,Kt=et.finalText[nt],Lt=Kt.charCodeAt(0),Lt===13||Lt===3?(jt=0,vt.push(St),At=St>At?St:At,St=-2*Ft,lt="",ot=!0,pt+=1):lt=Kt,_e.chars?(Et=_e.getCharData(Kt,Mt.fStyle,_e.getFontByName(et.f).fFamily),Rt=ot?0:Et.w*et.finalSize/100):Rt=_e.measureText(lt,et.f,et.finalSize),Kt===" "?jt+=Rt+Ft:(St+=Rt+Ft+jt,jt=0),rt.push({l:Rt,an:Rt,add:dt,n:ot,anIndexes:[],val:lt,line:pt,animatorJustifyOffset:0}),ft==2){if(dt+=Rt,lt===""||lt===" "||nt===st-1){for((lt===""||lt===" ")&&(dt-=Rt);gt<=nt;)rt[gt].an=dt,rt[gt].ind=at,rt[gt].extra=Rt,gt+=1;at+=1,dt=0}}else if(ft==3){if(dt+=Rt,lt===""||nt===st-1){for(lt===""&&(dt-=Rt);gt<=nt;)rt[gt].an=dt,rt[gt].ind=at,rt[gt].extra=Rt,gt+=1;dt=0,at+=1}}else rt[at].ind=at,rt[at].extra=0,at+=1;if(et.l=rt,At=St>At?St:At,vt.push(St),et.sz)et.boxWidth=et.sz[0],et.justifyOffset=0;else switch(et.boxWidth=At,et.j){case 1:et.justifyOffset=-et.boxWidth;break;case 2:et.justifyOffset=-et.boxWidth/2;break;default:et.justifyOffset=0}et.lineWidths=vt;var qt=tt.a,er,kt;Ct=qt.length;var Vt,Zt,Wt=[];for(Tt=0;Tt<Ct;Tt+=1){for(er=qt[Tt],er.a.sc&&(et.strokeColorAnim=!0),er.a.sw&&(et.strokeWidthAnim=!0),(er.a.fc||er.a.fh||er.a.fs||er.a.fb)&&(et.fillColorAnim=!0),Zt=0,Vt=er.s.b,nt=0;nt<st;nt+=1)kt=rt[nt],kt.anIndexes[Tt]=Zt,(Vt==1&&kt.val!==""||Vt==2&&kt.val!==""&&kt.val!==" "||Vt==3&&(kt.n||kt.val==" "||nt==st-1)||Vt==4&&(kt.n||nt==st-1))&&(er.s.rn===1&&Wt.push(Zt),Zt+=1);tt.a[Tt].s.totalChars=Zt;var nr=-1,sr;if(er.s.rn===1)for(nt=0;nt<st;nt+=1)kt=rt[nt],nr!=kt.anIndexes[Tt]&&(nr=kt.anIndexes[Tt],sr=Wt.splice(Math.floor(Math.random()*Wt.length),1)[0]),kt.anIndexes[Tt]=sr}et.yOffset=et.finalLineHeight||et.finalSize*1.2,et.ls=et.ls||0,et.ascent=Mt.ascent*et.finalSize/100},TextProperty.prototype.updateDocumentData=function(et,_e){_e=_e===void 0?this.keysIndex:_e;var tt=this.copyData({},this.data.d.k[_e].s);tt=this.copyData(tt,et),this.data.d.k[_e].s=tt,this.recalculate(_e),this.setCurrentData(tt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(et){var _e=this.data.d.k[et].s;_e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(_e)},TextProperty.prototype.canResizeFont=function(et){this.canResize=et,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(et){this.minimumFontSize=Math.floor(et)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var et=Math.max,_e=Math.min,tt=Math.floor;function rt(st,ot){this._currentTextLength=-1,this.k=!1,this.data=ot,this.elem=st,this.comp=st.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(st),this.s=PropertyFactory.getProp(st,ot.s||{k:0},0,0,this),"e"in ot?this.e=PropertyFactory.getProp(st,ot.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(st,ot.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(st,ot.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(st,ot.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(st,ot.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(st,ot.a,0,.01,this),this.dynamicProperties.length||this.getValue()}rt.prototype={getMult:function(ot){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var at=0,lt=0,ft=1,dt=1;this.ne.v>0?at=this.ne.v/100:lt=-this.ne.v/100,this.xe.v>0?ft=1-this.xe.v/100:dt=1+this.xe.v/100;var gt=BezierFactory.getBezierEasing(at,lt,ft,dt).get,pt=0,vt=this.finalS,St=this.finalE,At=this.data.sh;if(At===2)St===vt?pt=ot>=St?1:0:pt=et(0,_e(.5/(St-vt)+(ot-vt)/(St-vt),1)),pt=gt(pt);else if(At===3)St===vt?pt=ot>=St?0:1:pt=1-et(0,_e(.5/(St-vt)+(ot-vt)/(St-vt),1)),pt=gt(pt);else if(At===4)St===vt?pt=0:(pt=et(0,_e(.5/(St-vt)+(ot-vt)/(St-vt),1)),pt<.5?pt*=2:pt=1-2*(pt-.5)),pt=gt(pt);else if(At===5){if(St===vt)pt=0;else{var Tt=St-vt;ot=_e(et(0,ot+.5-vt),St-vt);var Ct=-Tt/2+ot,Mt=Tt/2;pt=Math.sqrt(1-Ct*Ct/(Mt*Mt))}pt=gt(pt)}else At===6?(St===vt?pt=0:(ot=_e(et(0,ot+.5-vt),St-vt),pt=(1+Math.cos(Math.PI+Math.PI*2*ot/(St-vt)))/2),pt=gt(pt)):(ot>=tt(vt)&&(ot-vt<0?pt=et(0,_e(_e(St,1)-(vt-ot),1)):pt=et(0,_e(St-ot,1))),pt=gt(pt));if(this.sm.v!==100){var Et=this.sm.v*.01;Et===0&&(Et=1e-8);var Rt=.5-Et*.5;pt<Rt?pt=0:(pt=(pt-Rt)/Et,pt>1&&(pt=1))}return pt*this.a.v},getValue:function(ot){this.iterateDynamicProperties(),this._mdf=ot||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ot&&this.data.r===2&&(this.e.v=this._currentTextLength);var at=this.data.r===2?1:100/this.data.totalChars,lt=this.o.v/at,ft=this.s.v/at+lt,dt=this.e.v/at+lt;if(ft>dt){var gt=ft;ft=dt,dt=gt}this.finalS=ft,this.finalE=dt}},extendPrototype([DynamicPropertyContainer],rt);function nt(st,ot,at){return new rt(st,ot)}return{getTextSelectorProp:nt}}();function TextAnimatorDataProperty(et,_e,tt){var rt={propType:!1},nt=PropertyFactory.getProp,st=_e.a;this.a={r:st.r?nt(et,st.r,0,degToRads,tt):rt,rx:st.rx?nt(et,st.rx,0,degToRads,tt):rt,ry:st.ry?nt(et,st.ry,0,degToRads,tt):rt,sk:st.sk?nt(et,st.sk,0,degToRads,tt):rt,sa:st.sa?nt(et,st.sa,0,degToRads,tt):rt,s:st.s?nt(et,st.s,1,.01,tt):rt,a:st.a?nt(et,st.a,1,0,tt):rt,o:st.o?nt(et,st.o,0,.01,tt):rt,p:st.p?nt(et,st.p,1,0,tt):rt,sw:st.sw?nt(et,st.sw,0,0,tt):rt,sc:st.sc?nt(et,st.sc,1,0,tt):rt,fc:st.fc?nt(et,st.fc,1,0,tt):rt,fh:st.fh?nt(et,st.fh,0,0,tt):rt,fs:st.fs?nt(et,st.fs,0,.01,tt):rt,fb:st.fb?nt(et,st.fb,0,.01,tt):rt,t:st.t?nt(et,st.t,0,0,tt):rt},this.s=TextSelectorProp.getTextSelectorProp(et,_e.s,tt),this.s.t=_e.s.t}function TextAnimatorProperty(et,_e,tt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=et,this._renderType=_e,this._elem=tt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(tt)}TextAnimatorProperty.prototype.searchProperties=function(){var et,_e=this._textData.a.length,tt,rt=PropertyFactory.getProp;for(et=0;et<_e;et+=1)tt=this._textData.a[et],this._animatorsData[et]=new TextAnimatorDataProperty(this._elem,tt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:rt(this._elem,this._textData.p.a,0,0,this),f:rt(this._elem,this._textData.p.f,0,0,this),l:rt(this._elem,this._textData.p.l,0,0,this),r:rt(this._elem,this._textData.p.r,0,0,this),p:rt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=rt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(et,_e){if(this.lettersChangedFlag=_e,!(!this._mdf&&!this._isFirstFrame&&!_e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var tt=this._moreOptions.alignment.v,rt=this._animatorsData,nt=this._textData,st=this.mHelper,ot=this._renderType,at=this.renderedLetters.length,lt,ft,dt,gt,pt=et.l,vt,St,At,Tt,Ct,Mt,Et,Rt,Bt,Ft,Lt,wt,Dt,Ot,Ut;if(this._hasMaskedPath){if(Ut=this._pathData.m,!this._pathData.n||this._pathData._mdf){var zt=Ut.v;this._pathData.r.v&&(zt=zt.reverse()),vt={tLength:0,segments:[]},gt=zt._length-1;var tr;for(wt=0,dt=0;dt<gt;dt+=1)tr=bez.buildBezierData(zt.v[dt],zt.v[dt+1],[zt.o[dt][0]-zt.v[dt][0],zt.o[dt][1]-zt.v[dt][1]],[zt.i[dt+1][0]-zt.v[dt+1][0],zt.i[dt+1][1]-zt.v[dt+1][1]]),vt.tLength+=tr.segmentLength,vt.segments.push(tr),wt+=tr.segmentLength;dt=gt,Ut.v.c&&(tr=bez.buildBezierData(zt.v[dt],zt.v[0],[zt.o[dt][0]-zt.v[dt][0],zt.o[dt][1]-zt.v[dt][1]],[zt.i[0][0]-zt.v[0][0],zt.i[0][1]-zt.v[0][1]]),vt.tLength+=tr.segmentLength,vt.segments.push(tr),wt+=tr.segmentLength),this._pathData.pi=vt}if(vt=this._pathData.pi,St=this._pathData.f.v,Et=0,Mt=1,Tt=0,Ct=!0,Ft=vt.segments,St<0&&Ut.v.c)for(vt.tLength<Math.abs(St)&&(St=-Math.abs(St)%vt.tLength),Et=Ft.length-1,Bt=Ft[Et].points,Mt=Bt.length-1;St<0;)St+=Bt[Mt].partialLength,Mt-=1,Mt<0&&(Et-=1,Bt=Ft[Et].points,Mt=Bt.length-1);Bt=Ft[Et].points,Rt=Bt[Mt-1],At=Bt[Mt],Lt=At.partialLength}gt=pt.length,lt=0,ft=0;var jt=et.finalSize*1.2*.714,Kt=!0,qt,er,kt,Vt,Zt;Vt=rt.length;var Wt,nr=-1,sr,lr,dr,hr=St,wr=Et,pr=Mt,_r=-1,mr,Er,ur,xr,Ar,Br,kr,nn,Pr="",Xr=this.defaultPropsArray,Zr;if(et.j===2||et.j===1){var zr=0,cr=0,ar=et.j===2?-.5:-1,Tr=0,Nr=!0;for(dt=0;dt<gt;dt+=1)if(pt[dt].n){for(zr&&(zr+=cr);Tr<dt;)pt[Tr].animatorJustifyOffset=zr,Tr+=1;zr=0,Nr=!0}else{for(kt=0;kt<Vt;kt+=1)qt=rt[kt].a,qt.t.propType&&(Nr&&et.j===2&&(cr+=qt.t.v*ar),er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),Wt.length?zr+=qt.t.v*Wt[0]*ar:zr+=qt.t.v*Wt*ar);Nr=!1}for(zr&&(zr+=cr);Tr<dt;)pt[Tr].animatorJustifyOffset=zr,Tr+=1}for(dt=0;dt<gt;dt+=1){if(st.reset(),mr=1,pt[dt].n)lt=0,ft+=et.yOffset,ft+=Kt?1:0,St=hr,Kt=!1,this._hasMaskedPath&&(Et=wr,Mt=pr,Bt=Ft[Et].points,Rt=Bt[Mt-1],At=Bt[Mt],Lt=At.partialLength,Tt=0),Pr="",nn="",Br="",Zr="",Xr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(_r!==pt[dt].line){switch(et.j){case 1:St+=wt-et.lineWidths[pt[dt].line];break;case 2:St+=(wt-et.lineWidths[pt[dt].line])/2;break}_r=pt[dt].line}nr!==pt[dt].ind&&(pt[nr]&&(St+=pt[nr].extra),St+=pt[dt].an/2,nr=pt[dt].ind),St+=tt[0]*pt[dt].an*.005;var Qr=0;for(kt=0;kt<Vt;kt+=1)qt=rt[kt].a,qt.p.propType&&(er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),Wt.length?Qr+=qt.p.v[0]*Wt[0]:Qr+=qt.p.v[0]*Wt),qt.a.propType&&(er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),Wt.length?Qr+=qt.a.v[0]*Wt[0]:Qr+=qt.a.v[0]*Wt);for(Ct=!0,this._pathData.a.v&&(St=pt[0].an*.5+(wt-this._pathData.f.v-pt[0].an*.5-pt[pt.length-1].an*.5)*nr/(gt-1),St+=this._pathData.f.v);Ct;)Tt+Lt>=St+Qr||!Bt?(Dt=(St+Qr-Tt)/At.partialLength,lr=Rt.point[0]+(At.point[0]-Rt.point[0])*Dt,dr=Rt.point[1]+(At.point[1]-Rt.point[1])*Dt,st.translate(-tt[0]*pt[dt].an*.005,-(tt[1]*jt)*.01),Ct=!1):Bt&&(Tt+=At.partialLength,Mt+=1,Mt>=Bt.length&&(Mt=0,Et+=1,Ft[Et]?Bt=Ft[Et].points:Ut.v.c?(Mt=0,Et=0,Bt=Ft[Et].points):(Tt-=At.partialLength,Bt=null)),Bt&&(Rt=At,At=Bt[Mt],Lt=At.partialLength));sr=pt[dt].an/2-pt[dt].add,st.translate(-sr,0,0)}else sr=pt[dt].an/2-pt[dt].add,st.translate(-sr,0,0),st.translate(-tt[0]*pt[dt].an*.005,-tt[1]*jt*.01,0);for(kt=0;kt<Vt;kt+=1)qt=rt[kt].a,qt.t.propType&&(er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),(lt!==0||et.j!==0)&&(this._hasMaskedPath?Wt.length?St+=qt.t.v*Wt[0]:St+=qt.t.v*Wt:Wt.length?lt+=qt.t.v*Wt[0]:lt+=qt.t.v*Wt));for(et.strokeWidthAnim&&(ur=et.sw||0),et.strokeColorAnim&&(et.sc?Er=[et.sc[0],et.sc[1],et.sc[2]]:Er=[0,0,0]),et.fillColorAnim&&et.fc&&(xr=[et.fc[0],et.fc[1],et.fc[2]]),kt=0;kt<Vt;kt+=1)qt=rt[kt].a,qt.a.propType&&(er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),Wt.length?st.translate(-qt.a.v[0]*Wt[0],-qt.a.v[1]*Wt[1],qt.a.v[2]*Wt[2]):st.translate(-qt.a.v[0]*Wt,-qt.a.v[1]*Wt,qt.a.v[2]*Wt));for(kt=0;kt<Vt;kt+=1)qt=rt[kt].a,qt.s.propType&&(er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),Wt.length?st.scale(1+(qt.s.v[0]-1)*Wt[0],1+(qt.s.v[1]-1)*Wt[1],1):st.scale(1+(qt.s.v[0]-1)*Wt,1+(qt.s.v[1]-1)*Wt,1));for(kt=0;kt<Vt;kt+=1){if(qt=rt[kt].a,er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),qt.sk.propType&&(Wt.length?st.skewFromAxis(-qt.sk.v*Wt[0],qt.sa.v*Wt[1]):st.skewFromAxis(-qt.sk.v*Wt,qt.sa.v*Wt)),qt.r.propType&&(Wt.length?st.rotateZ(-qt.r.v*Wt[2]):st.rotateZ(-qt.r.v*Wt)),qt.ry.propType&&(Wt.length?st.rotateY(qt.ry.v*Wt[1]):st.rotateY(qt.ry.v*Wt)),qt.rx.propType&&(Wt.length?st.rotateX(qt.rx.v*Wt[0]):st.rotateX(qt.rx.v*Wt)),qt.o.propType&&(Wt.length?mr+=(qt.o.v*Wt[0]-mr)*Wt[0]:mr+=(qt.o.v*Wt-mr)*Wt),et.strokeWidthAnim&&qt.sw.propType&&(Wt.length?ur+=qt.sw.v*Wt[0]:ur+=qt.sw.v*Wt),et.strokeColorAnim&&qt.sc.propType)for(Ar=0;Ar<3;Ar+=1)Wt.length?Er[Ar]+=(qt.sc.v[Ar]-Er[Ar])*Wt[0]:Er[Ar]+=(qt.sc.v[Ar]-Er[Ar])*Wt;if(et.fillColorAnim&&et.fc){if(qt.fc.propType)for(Ar=0;Ar<3;Ar+=1)Wt.length?xr[Ar]+=(qt.fc.v[Ar]-xr[Ar])*Wt[0]:xr[Ar]+=(qt.fc.v[Ar]-xr[Ar])*Wt;qt.fh.propType&&(Wt.length?xr=addHueToRGB(xr,qt.fh.v*Wt[0]):xr=addHueToRGB(xr,qt.fh.v*Wt)),qt.fs.propType&&(Wt.length?xr=addSaturationToRGB(xr,qt.fs.v*Wt[0]):xr=addSaturationToRGB(xr,qt.fs.v*Wt)),qt.fb.propType&&(Wt.length?xr=addBrightnessToRGB(xr,qt.fb.v*Wt[0]):xr=addBrightnessToRGB(xr,qt.fb.v*Wt))}}for(kt=0;kt<Vt;kt+=1)qt=rt[kt].a,qt.p.propType&&(er=rt[kt].s,Wt=er.getMult(pt[dt].anIndexes[kt],nt.a[kt].s.totalChars),this._hasMaskedPath?Wt.length?st.translate(0,qt.p.v[1]*Wt[0],-qt.p.v[2]*Wt[1]):st.translate(0,qt.p.v[1]*Wt,-qt.p.v[2]*Wt):Wt.length?st.translate(qt.p.v[0]*Wt[0],qt.p.v[1]*Wt[1],-qt.p.v[2]*Wt[2]):st.translate(qt.p.v[0]*Wt,qt.p.v[1]*Wt,-qt.p.v[2]*Wt));if(et.strokeWidthAnim&&(Br=ur<0?0:ur),et.strokeColorAnim&&(kr="rgb("+Math.round(Er[0]*255)+","+Math.round(Er[1]*255)+","+Math.round(Er[2]*255)+")"),et.fillColorAnim&&et.fc&&(nn="rgb("+Math.round(xr[0]*255)+","+Math.round(xr[1]*255)+","+Math.round(xr[2]*255)+")"),this._hasMaskedPath){if(st.translate(0,-et.ls),st.translate(0,tt[1]*jt*.01+ft,0),this._pathData.p.v){Ot=(At.point[1]-Rt.point[1])/(At.point[0]-Rt.point[0]);var en=Math.atan(Ot)*180/Math.PI;At.point[0]<Rt.point[0]&&(en+=180),st.rotate(-en*Math.PI/180)}st.translate(lr,dr,0),St-=tt[0]*pt[dt].an*.005,pt[dt+1]&&nr!==pt[dt+1].ind&&(St+=pt[dt].an/2,St+=et.tr*.001*et.finalSize)}else{switch(st.translate(lt,ft,0),et.ps&&st.translate(et.ps[0],et.ps[1]+et.ascent,0),et.j){case 1:st.translate(pt[dt].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[pt[dt].line]),0,0);break;case 2:st.translate(pt[dt].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[pt[dt].line])/2,0,0);break}st.translate(0,-et.ls),st.translate(sr,0,0),st.translate(tt[0]*pt[dt].an*.005,tt[1]*jt*.01,0),lt+=pt[dt].l+et.tr*.001*et.finalSize}ot==="html"?Pr=st.toCSS():ot==="svg"?Pr=st.to2dCSS():Xr=[st.props[0],st.props[1],st.props[2],st.props[3],st.props[4],st.props[5],st.props[6],st.props[7],st.props[8],st.props[9],st.props[10],st.props[11],st.props[12],st.props[13],st.props[14],st.props[15]],Zr=mr}at<=dt?(Zt=new LetterProps(Zr,Br,kr,nn,Pr,Xr),this.renderedLetters.push(Zt),at+=1,this.lettersChangedFlag=!0):(Zt=this.renderedLetters[dt],this.lettersChangedFlag=Zt.update(Zr,Br,kr,nn,Pr,Xr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(et,_e,tt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(et,_e,tt),this.textProperty=new TextProperty(this,et.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(et.t,this.renderType,this),this.initTransform(et,_e,tt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)},ITextElement.prototype.createPathShape=function(et,_e){var tt,rt=_e.length,nt,st="";for(tt=0;tt<rt;tt+=1)_e[tt].ty==="sh"&&(nt=_e[tt].ks.k,st+=buildShapeString(nt,nt.i.length,!0,et));return st},ITextElement.prototype.updateDocumentData=function(et,_e){this.textProperty.updateDocumentData(et,_e)},ITextElement.prototype.canResizeFont=function(et){this.textProperty.canResizeFont(et)},ITextElement.prototype.setMinimumFontSize=function(et){this.textProperty.setMinimumFontSize(et)},ITextElement.prototype.applyTextPropertiesToMatrix=function(et,_e,tt,rt,nt){switch(et.ps&&_e.translate(et.ps[0],et.ps[1]+et.ascent,0),_e.translate(0,-et.ls,0),et.j){case 1:_e.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[tt]),0,0);break;case 2:_e.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[tt])/2,0,0);break}_e.translate(rt,nt,0)},ITextElement.prototype.buildColor=function(et){return"rgb("+Math.round(et[0]*255)+","+Math.round(et[1]*255)+","+Math.round(et[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(et,_e,tt){this.textSpans=[],this.renderType="svg",this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(et){for(var _e=0,tt=et.length,rt=[],nt="";_e<tt;)et[_e]===String.fromCharCode(13)||et[_e]===String.fromCharCode(3)?(rt.push(nt),nt=""):nt+=et[_e],_e+=1;return rt.push(nt),rt},SVGTextLottieElement.prototype.buildShapeData=function(et,_e){if(et.shapes&&et.shapes.length){var tt=et.shapes[0];if(tt.it){var rt=tt.it[tt.it.length-1];rt.s&&(rt.s.k[0]=_e,rt.s.k[1]=_e)}}return et},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var et,_e,tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt?tt.l.length:0),tt.fc?this.layerElement.setAttribute("fill",this.buildColor(tt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),tt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(tt.sc)),this.layerElement.setAttribute("stroke-width",tt.sw)),this.layerElement.setAttribute("font-size",tt.finalSize);var rt=this.globalData.fontManager.getFontByName(tt.f);if(rt.fClass)this.layerElement.setAttribute("class",rt.fClass);else{this.layerElement.setAttribute("font-family",rt.fFamily);var nt=tt.fWeight,st=tt.fStyle;this.layerElement.setAttribute("font-style",st),this.layerElement.setAttribute("font-weight",nt)}this.layerElement.setAttribute("aria-label",tt.t);var ot=tt.l||[],at=!!this.globalData.fontManager.chars;_e=ot.length;var lt,ft=this.mHelper,dt="",gt=this.data.singleShape,pt=0,vt=0,St=!0,At=tt.tr*.001*tt.finalSize;if(gt&&!at&&!tt.sz){var Tt=this.textContainer,Ct="start";switch(tt.j){case 1:Ct="end";break;case 2:Ct="middle";break;default:Ct="start";break}Tt.setAttribute("text-anchor",Ct),Tt.setAttribute("letter-spacing",At);var Mt=this.buildTextContents(tt.finalText);for(_e=Mt.length,vt=tt.ps?tt.ps[1]+tt.ascent:0,et=0;et<_e;et+=1)lt=this.textSpans[et].span||createNS("tspan"),lt.textContent=Mt[et],lt.setAttribute("x",0),lt.setAttribute("y",vt),lt.style.display="inherit",Tt.appendChild(lt),this.textSpans[et]||(this.textSpans[et]={span:null,glyph:null}),this.textSpans[et].span=lt,vt+=tt.finalLineHeight;this.layerElement.appendChild(Tt)}else{var Et=this.textSpans.length,Rt;for(et=0;et<_e;et+=1){if(this.textSpans[et]||(this.textSpans[et]={span:null,childSpan:null,glyph:null}),!at||!gt||et===0){if(lt=Et>et?this.textSpans[et].span:createNS(at?"g":"text"),Et<=et){if(lt.setAttribute("stroke-linecap","butt"),lt.setAttribute("stroke-linejoin","round"),lt.setAttribute("stroke-miterlimit","4"),this.textSpans[et].span=lt,at){var Bt=createNS("g");lt.appendChild(Bt),this.textSpans[et].childSpan=Bt}this.textSpans[et].span=lt,this.layerElement.appendChild(lt)}lt.style.display="inherit"}if(ft.reset(),gt&&(ot[et].n&&(pt=-At,vt+=tt.yOffset,vt+=St?1:0,St=!1),this.applyTextPropertiesToMatrix(tt,ft,ot[et].line,pt,vt),pt+=ot[et].l||0,pt+=At),at){Rt=this.globalData.fontManager.getCharData(tt.finalText[et],rt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily);var Ft;if(Rt.t===1)Ft=new SVGCompElement(Rt.data,this.globalData,this);else{var Lt=emptyShapeData;Rt.data&&Rt.data.shapes&&(Lt=this.buildShapeData(Rt.data,tt.finalSize)),Ft=new SVGShapeElement(Lt,this.globalData,this)}if(this.textSpans[et].glyph){var wt=this.textSpans[et].glyph;this.textSpans[et].childSpan.removeChild(wt.layerElement),wt.destroy()}this.textSpans[et].glyph=Ft,Ft._debug=!0,Ft.prepareFrame(0),Ft.renderFrame(),this.textSpans[et].childSpan.appendChild(Ft.layerElement),Rt.t===1&&this.textSpans[et].childSpan.setAttribute("transform","scale("+tt.finalSize/100+","+tt.finalSize/100+")")}else gt&&lt.setAttribute("transform","translate("+ft.props[12]+","+ft.props[13]+")"),lt.textContent=ot[et].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}gt&&lt&&lt.setAttribute("d",dt)}for(;et<this.textSpans.length;)this.textSpans[et].span.style.display="none",et+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var et=this.layerElement.getBBox();this.bbox={top:et.y,left:et.x,width:et.width,height:et.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var et,_e=this.textSpans.length,tt;for(this.renderedFrame=this.comp.renderedFrame,et=0;et<_e;et+=1)tt=this.textSpans[et].glyph,tt&&(tt.prepareFrame(this.comp.renderedFrame-this.data.st),tt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var et,_e,tt=this.textAnimator.renderedLetters,rt=this.textProperty.currentData.l;_e=rt.length;var nt,st,ot;for(et=0;et<_e;et+=1)rt[et].n||(nt=tt[et],st=this.textSpans[et].span,ot=this.textSpans[et].glyph,ot&&ot.renderFrame(),nt._mdf.m&&st.setAttribute("transform",nt.m),nt._mdf.o&&st.setAttribute("opacity",nt.o),nt._mdf.sw&&st.setAttribute("stroke-width",nt.sw),nt._mdf.sc&&st.setAttribute("stroke",nt.sc),nt._mdf.fc&&st.setAttribute("fill",nt.fc))}};function ISolidElement(et,_e,tt){this.initElement(et,_e,tt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var et=createNS("rect");et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.layerElement.appendChild(et)};function NullElement(et,_e,tt){this.initFrame(),this.initBaseData(et,_e,tt),this.initFrame(),this.initTransform(et,_e,tt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(et){return new NullElement(et,this.globalData,this)},SVGRendererBase.prototype.createShape=function(et){return new SVGShapeElement(et,this.globalData,this)},SVGRendererBase.prototype.createText=function(et){return new SVGTextLottieElement(et,this.globalData,this)},SVGRendererBase.prototype.createImage=function(et){return new IImageElement(et,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(et){return new ISolidElement(et,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(et){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+et.w+" "+et.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",et.w),this.svgElement.setAttribute("height",et.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var _e=this.globalData.defs;this.setupGlobalData(et,_e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=et;var tt=createNS("clipPath"),rt=createNS("rect");rt.setAttribute("width",et.w),rt.setAttribute("height",et.h),rt.setAttribute("x",0),rt.setAttribute("y",0);var nt=createElementID();tt.setAttribute("id",nt),tt.appendChild(rt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+nt+")"),_e.appendChild(tt),this.layers=et.layers,this.elements=createSizedArray(et.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var et,_e=this.layers?this.layers.length:0;for(et=0;et<_e;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(et){var _e=0,tt=this.layers.length;for(_e=0;_e<tt;_e+=1)if(this.layers[_e].ind===et)return _e;return-1},SVGRendererBase.prototype.buildItem=function(et){var _e=this.elements;if(!(_e[et]||this.layers[et].ty===99)){_e[et]=!0;var tt=this.createItem(this.layers[et]);if(_e[et]=tt,getExpressionsPlugin()&&(this.layers[et].ty===0&&this.globalData.projectInterface.registerComposition(tt),tt.initExpressions()),this.appendElementInPos(tt,et),this.layers[et].tt){var rt="tp"in this.layers[et]?this.findIndexByInd(this.layers[et].tp):et-1;if(rt===-1)return;if(!this.elements[rt]||this.elements[rt]===!0)this.buildItem(rt),this.addPendingElement(tt);else{var nt=_e[rt],st=nt.getMatte(this.layers[et].tt);tt.setMatte(st)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();if(et.checkParenting(),et.data.tt)for(var _e=0,tt=this.elements.length;_e<tt;){if(this.elements[_e]===et){var rt="tp"in et.data?this.findIndexByInd(et.data.tp):_e-1,nt=this.elements[rt],st=nt.getMatte(this.layers[_e].tt);et.setMatte(st);break}_e+=1}}},SVGRendererBase.prototype.renderFrame=function(et){if(!(this.renderedFrame===et||this.destroyed)){et===null?et=this.renderedFrame:this.renderedFrame=et,this.globalData.frameNum=et,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=et,this.globalData._mdf=!1;var _e,tt=this.layers.length;for(this.completeLayers||this.checkLayers(et),_e=tt-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].prepareFrame(et-this.layers[_e].st);if(this.globalData._mdf)for(_e=0;_e<tt;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(et,_e){var tt=et.getBaseElement();if(tt){for(var rt=0,nt;rt<_e;)this.elements[rt]&&this.elements[rt]!==!0&&this.elements[rt].getBaseElement()&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.layerElement.insertBefore(tt,nt):this.layerElement.appendChild(tt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(et,_e,tt){this.initFrame(),this.initBaseData(et,_e,tt),this.initTransform(et,_e,tt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!_e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(et){if(this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=et/this.data.sr;else{var _e=this.tm.v;_e===this.data.op&&(_e=this.data.op-1),this.renderedFrame=_e}var tt,rt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&(this.elements[tt].prepareFrame(this.renderedFrame-this.layers[tt].st),this.elements[tt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var et,_e=this.layers.length;for(et=0;et<_e;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},ICompElement.prototype.setElements=function(et){this.elements=et},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var et,_e=this.layers.length;for(et=0;et<_e;et+=1)this.elements[et]&&this.elements[et].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(et,_e,tt){this.layers=et.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,_e,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function SVGRenderer(et,_e){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var tt="";if(_e&&_e.title){var rt=createNS("title"),nt=createElementID();rt.setAttribute("id",nt),rt.textContent=_e.title,this.svgElement.appendChild(rt),tt+=nt}if(_e&&_e.description){var st=createNS("desc"),ot=createElementID();st.setAttribute("id",ot),st.textContent=_e.description,this.svgElement.appendChild(st),tt+=" "+ot}tt&&this.svgElement.setAttribute("aria-labelledby",tt);var at=createNS("defs");this.svgElement.appendChild(at);var lt=createNS("g");this.svgElement.appendChild(lt),this.layerElement=lt,this.renderConfig={preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",progressiveLoad:_e&&_e.progressiveLoad||!1,hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),viewBoxOnly:_e&&_e.viewBoxOnly||!1,viewBoxSize:_e&&_e.viewBoxSize||!1,className:_e&&_e.className||"",id:_e&&_e.id||"",focusable:_e&&_e.focusable,filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"100%",height:_e&&_e.filterSize&&_e.filterSize.height||"100%",x:_e&&_e.filterSize&&_e.filterSize.x||"0%",y:_e&&_e.filterSize&&_e.filterSize.y||"0%"},width:_e&&_e.width,height:_e&&_e.height,runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:at,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(_e){var tt,rt=_e.length,nt="_";for(tt=0;tt<rt;tt+=1)nt+=_e[tt].transform.key+"_";var st=this.sequences[nt];return st||(st={transforms:[].concat(_e),finalTransform:new Matrix,_mdf:!1},this.sequences[nt]=st,this.sequenceList.push(st)),st},processSequence:function(_e,tt){for(var rt=0,nt=_e.transforms.length,st=tt;rt<nt&&!tt;){if(_e.transforms[rt].transform.mProps._mdf){st=!0;break}rt+=1}if(st)for(_e.finalTransform.reset(),rt=nt-1;rt>=0;rt-=1)_e.finalTransform.multiply(_e.transforms[rt].transform.mProps.v);_e._mdf=st},processSequences:function(_e){var tt,rt=this.sequenceList.length;for(tt=0;tt<rt;tt+=1)this.processSequence(this.sequenceList[tt],_e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var _e="__lottie_element_luma_buffer",tt=null,rt=null,nt=null;function st(){var lt=createNS("svg"),ft=createNS("filter"),dt=createNS("feColorMatrix");return ft.setAttribute("id",_e),dt.setAttribute("type","matrix"),dt.setAttribute("color-interpolation-filters","sRGB"),dt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ft.appendChild(dt),lt.appendChild(ft),lt.setAttribute("id",_e+"_svg"),featureSupport.svgLumaHidden&&(lt.style.display="none"),lt}function ot(){tt||(nt=st(),document.body.appendChild(nt),tt=createTag("canvas"),rt=tt.getContext("2d"),rt.filter="url(#"+_e+")",rt.fillStyle="rgba(0,0,0,0)",rt.fillRect(0,0,1,1))}function at(lt){return tt||ot(),tt.width=lt.width,tt.height=lt.height,rt.filter="url(#"+_e+")",tt}return{load:ot,get:at}};function createCanvas(et,_e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(et,_e);var tt=createTag("canvas");return tt.width=et,tt.height=_e,tt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(et){var _e,tt=et.data.ef?et.data.ef.length:0;this.filters=[];var rt;for(_e=0;_e<tt;_e+=1){rt=null;var nt=et.data.ef[_e].ty;if(registeredEffects[nt]){var st=registeredEffects[nt].effect;rt=new st(et.effectsManager.effectElements[_e],et)}rt&&this.filters.push(rt)}this.filters.length&&et.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(et){var _e,tt=this.filters.length;for(_e=0;_e<tt;_e+=1)this.filters[_e].renderFrame(et)},CVEffects.prototype.getEffects=function(et){var _e,tt=this.filters.length,rt=[];for(_e=0;_e<tt;_e+=1)this.filters[_e].type===et&&rt.push(this.filters[_e]);return rt};function registerEffect(et,_e){registeredEffects[et]={effect:_e}}function CVMaskElement(et,_e){this.data=et,this.element=_e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var tt,rt=this.masksProperties.length,nt=!1;for(tt=0;tt<rt;tt+=1)this.masksProperties[tt].mode!=="n"&&(nt=!0),this.viewData[tt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[tt],3);this.hasMasks=nt,nt&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var et=this.element.finalTransform.mat,_e=this.element.canvasContext,tt,rt=this.masksProperties.length,nt,st,ot;for(_e.beginPath(),tt=0;tt<rt;tt+=1)if(this.masksProperties[tt].mode!=="n"){this.masksProperties[tt].inv&&(_e.moveTo(0,0),_e.lineTo(this.element.globalData.compSize.w,0),_e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),_e.lineTo(0,this.element.globalData.compSize.h),_e.lineTo(0,0)),ot=this.viewData[tt].v,nt=et.applyToPointArray(ot.v[0][0],ot.v[0][1],0),_e.moveTo(nt[0],nt[1]);var at,lt=ot._length;for(at=1;at<lt;at+=1)st=et.applyToTriplePoints(ot.o[at-1],ot.i[at],ot.v[at]),_e.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5]);st=et.applyToTriplePoints(ot.o[at-1],ot.i[0],ot.v[0]),_e.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5])}this.element.globalData.renderer.save(!0),_e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var _e=this.globalData.canvasContext,tt=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(tt);var rt=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(rt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var _e=this.globalData;if(_e.blendMode!==this.data.bm){_e.blendMode=this.data.bm;var tt=getBlendMode(this.data.bm);_e.canvasContext.globalCompositeOperation=tt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(_e){_e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var _e=this.buffers[0],tt=_e.getContext("2d");this.clearCanvas(tt),tt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var _e=this.buffers[1],tt=_e.getContext("2d");this.clearCanvas(tt),tt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var rt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(rt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var nt=assetLoader.getLumaCanvas(this.canvasContext.canvas),st=nt.getContext("2d");st.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(nt,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(_e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(_e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!_e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var tt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(tt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(tt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(et,_e,tt,rt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var nt=4;_e.ty==="rc"?nt=5:_e.ty==="el"?nt=6:_e.ty==="sr"&&(nt=7),this.sh=ShapePropertyFactory.getShapeProp(et,_e,nt,et);var st,ot=tt.length,at;for(st=0;st<ot;st+=1)tt[st].closed||(at={transforms:rt.addTransformSequence(tt[st].transforms),trNodes:[]},this.styledShapes.push(at),tt[st].elements.push(at))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(et,_e,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(et,_e){var tt={data:et,type:et.ty,preTransforms:this.transformsManager.addTransformSequence(_e),transforms:[],elements:[],closed:et.hd===!0},rt={};if(et.ty==="fl"||et.ty==="st"?(rt.c=PropertyFactory.getProp(this,et.c,1,255,this),rt.c.k||(tt.co="rgb("+bmFloor(rt.c.v[0])+","+bmFloor(rt.c.v[1])+","+bmFloor(rt.c.v[2])+")")):(et.ty==="gf"||et.ty==="gs")&&(rt.s=PropertyFactory.getProp(this,et.s,1,null,this),rt.e=PropertyFactory.getProp(this,et.e,1,null,this),rt.h=PropertyFactory.getProp(this,et.h||{k:0},0,.01,this),rt.a=PropertyFactory.getProp(this,et.a||{k:0},0,degToRads,this),rt.g=new GradientProperty(this,et.g,this)),rt.o=PropertyFactory.getProp(this,et.o,0,.01,this),et.ty==="st"||et.ty==="gs"){if(tt.lc=lineCapEnum[et.lc||2],tt.lj=lineJoinEnum[et.lj||2],et.lj==1&&(tt.ml=et.ml),rt.w=PropertyFactory.getProp(this,et.w,0,null,this),rt.w.k||(tt.wi=rt.w.v),et.d){var nt=new DashProperty(this,et.d,"canvas",this);rt.d=nt,rt.d.k||(tt.da=rt.d.dashArray,tt.do=rt.d.dashoffset[0])}}else tt.r=et.r===2?"evenodd":"nonzero";return this.stylesList.push(tt),rt.style=tt,rt},CVShapeElement.prototype.createGroupElement=function(){var et={it:[],prevViewData:[]};return et},CVShapeElement.prototype.createTransformElement=function(et){var _e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,et.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,et,this)}};return _e},CVShapeElement.prototype.createShapeElement=function(et){var _e=new CVShapeData(this,et,this.stylesList,this.transformsManager);return this.shapes.push(_e),this.addShapeToModifiers(_e),_e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,_e=this.itemsData.length;for(et=0;et<_e;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_e=this.dynamicProperties.length,et=0;et<_e;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(et){var _e,tt=this.stylesList.length;for(_e=0;_e<tt;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.push(et)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var et,_e=this.stylesList.length;for(et=0;et<_e;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.pop()},CVShapeElement.prototype.closeStyles=function(et){var _e,tt=et.length;for(_e=0;_e<tt;_e+=1)et[_e].closed=!0},CVShapeElement.prototype.searchShapes=function(et,_e,tt,rt,nt){var st,ot=et.length-1,at,lt,ft=[],dt=[],gt,pt,vt,St=[].concat(nt);for(st=ot;st>=0;st-=1){if(gt=this.searchProcessedElement(et[st]),gt?_e[st]=tt[gt-1]:et[st]._shouldRender=rt,et[st].ty==="fl"||et[st].ty==="st"||et[st].ty==="gf"||et[st].ty==="gs")gt?_e[st].style.closed=!1:_e[st]=this.createStyleElement(et[st],St),ft.push(_e[st].style);else if(et[st].ty==="gr"){if(!gt)_e[st]=this.createGroupElement(et[st]);else for(lt=_e[st].it.length,at=0;at<lt;at+=1)_e[st].prevViewData[at]=_e[st].it[at];this.searchShapes(et[st].it,_e[st].it,_e[st].prevViewData,rt,St)}else et[st].ty==="tr"?(gt||(vt=this.createTransformElement(et[st]),_e[st]=vt),St.push(_e[st]),this.addTransformToStyleList(_e[st])):et[st].ty==="sh"||et[st].ty==="rc"||et[st].ty==="el"||et[st].ty==="sr"?gt||(_e[st]=this.createShapeElement(et[st])):et[st].ty==="tm"||et[st].ty==="rd"||et[st].ty==="pb"||et[st].ty==="zz"||et[st].ty==="op"?(gt?(pt=_e[st],pt.closed=!1):(pt=ShapeModifiers.getModifier(et[st].ty),pt.init(this,et[st]),_e[st]=pt,this.shapeModifiers.push(pt)),dt.push(pt)):et[st].ty==="rp"&&(gt?(pt=_e[st],pt.closed=!0):(pt=ShapeModifiers.getModifier(et[st].ty),_e[st]=pt,pt.init(this,et,st,_e),this.shapeModifiers.push(pt),rt=!1),dt.push(pt));this.addProcessedElement(et[st],st+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ft),ot=dt.length,st=0;st<ot;st+=1)dt[st].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(et,_e){(et._opMdf||_e.op._mdf||this._isFirstFrame)&&(_e.opacity=et.opacity,_e.opacity*=_e.op.v,_e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var et,_e=this.stylesList.length,tt,rt,nt,st,ot,at,lt=this.globalData.renderer,ft=this.globalData.canvasContext,dt,gt;for(et=0;et<_e;et+=1)if(gt=this.stylesList[et],dt=gt.type,!((dt==="st"||dt==="gs")&&gt.wi===0||!gt.data._shouldRender||gt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(lt.save(),ot=gt.elements,dt==="st"||dt==="gs"?(lt.ctxStrokeStyle(dt==="st"?gt.co:gt.grd),lt.ctxLineWidth(gt.wi),lt.ctxLineCap(gt.lc),lt.ctxLineJoin(gt.lj),lt.ctxMiterLimit(gt.ml||0)):lt.ctxFillStyle(dt==="fl"?gt.co:gt.grd),lt.ctxOpacity(gt.coOp),dt!=="st"&&dt!=="gs"&&ft.beginPath(),lt.ctxTransform(gt.preTransforms.finalTransform.props),rt=ot.length,tt=0;tt<rt;tt+=1){for((dt==="st"||dt==="gs")&&(ft.beginPath(),gt.da&&(ft.setLineDash(gt.da),ft.lineDashOffset=gt.do)),at=ot[tt].trNodes,st=at.length,nt=0;nt<st;nt+=1)at[nt].t==="m"?ft.moveTo(at[nt].p[0],at[nt].p[1]):at[nt].t==="c"?ft.bezierCurveTo(at[nt].pts[0],at[nt].pts[1],at[nt].pts[2],at[nt].pts[3],at[nt].pts[4],at[nt].pts[5]):ft.closePath();(dt==="st"||dt==="gs")&&(lt.ctxStroke(),gt.da&&ft.setLineDash(this.dashResetter))}dt!=="st"&&dt!=="gs"&&this.globalData.renderer.ctxFill(gt.r),lt.restore()}},CVShapeElement.prototype.renderShape=function(et,_e,tt,rt){var nt,st=_e.length-1,ot;for(ot=et,nt=st;nt>=0;nt-=1)_e[nt].ty==="tr"?(ot=tt[nt].transform,this.renderShapeTransform(et,ot)):_e[nt].ty==="sh"||_e[nt].ty==="el"||_e[nt].ty==="rc"||_e[nt].ty==="sr"?this.renderPath(_e[nt],tt[nt]):_e[nt].ty==="fl"?this.renderFill(_e[nt],tt[nt],ot):_e[nt].ty==="st"?this.renderStroke(_e[nt],tt[nt],ot):_e[nt].ty==="gf"||_e[nt].ty==="gs"?this.renderGradientFill(_e[nt],tt[nt],ot):_e[nt].ty==="gr"?this.renderShape(ot,_e[nt].it,tt[nt].it):_e[nt].ty;rt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(et,_e){if(this._isFirstFrame||_e._mdf||et.transforms._mdf){var tt=et.trNodes,rt=_e.paths,nt,st,ot,at=rt._length;tt.length=0;var lt=et.transforms.finalTransform;for(ot=0;ot<at;ot+=1){var ft=rt.shapes[ot];if(ft&&ft.v){for(st=ft._length,nt=1;nt<st;nt+=1)nt===1&&tt.push({t:"m",p:lt.applyToPointArray(ft.v[0][0],ft.v[0][1],0)}),tt.push({t:"c",pts:lt.applyToTriplePoints(ft.o[nt-1],ft.i[nt],ft.v[nt])});st===1&&tt.push({t:"m",p:lt.applyToPointArray(ft.v[0][0],ft.v[0][1],0)}),ft.c&&st&&(tt.push({t:"c",pts:lt.applyToTriplePoints(ft.o[nt-1],ft.i[0],ft.v[0])}),tt.push({t:"z"}))}}et.trNodes=tt}},CVShapeElement.prototype.renderPath=function(et,_e){if(et.hd!==!0&&et._shouldRender){var tt,rt=_e.styledShapes.length;for(tt=0;tt<rt;tt+=1)this.renderStyledShape(_e.styledShapes[tt],_e.sh)}},CVShapeElement.prototype.renderFill=function(et,_e,tt){var rt=_e.style;(_e.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||tt._opMdf||this._isFirstFrame)&&(rt.coOp=_e.o.v*tt.opacity)},CVShapeElement.prototype.renderGradientFill=function(et,_e,tt){var rt=_e.style,nt;if(!rt.grd||_e.g._mdf||_e.s._mdf||_e.e._mdf||et.t!==1&&(_e.h._mdf||_e.a._mdf)){var st=this.globalData.canvasContext,ot=_e.s.v,at=_e.e.v;if(et.t===1)nt=st.createLinearGradient(ot[0],ot[1],at[0],at[1]);else{var lt=Math.sqrt(Math.pow(ot[0]-at[0],2)+Math.pow(ot[1]-at[1],2)),ft=Math.atan2(at[1]-ot[1],at[0]-ot[0]),dt=_e.h.v;dt>=1?dt=.99:dt<=-1&&(dt=-.99);var gt=lt*dt,pt=Math.cos(ft+_e.a.v)*gt+ot[0],vt=Math.sin(ft+_e.a.v)*gt+ot[1];nt=st.createRadialGradient(pt,vt,0,ot[0],ot[1],lt)}var St,At=et.g.p,Tt=_e.g.c,Ct=1;for(St=0;St<At;St+=1)_e.g._hasOpacity&&_e.g._collapsable&&(Ct=_e.g.o[St*2+1]),nt.addColorStop(Tt[St*4]/100,"rgba("+Tt[St*4+1]+","+Tt[St*4+2]+","+Tt[St*4+3]+","+Ct+")");rt.grd=nt}rt.coOp=_e.o.v*tt.opacity},CVShapeElement.prototype.renderStroke=function(et,_e,tt){var rt=_e.style,nt=_e.d;nt&&(nt._mdf||this._isFirstFrame)&&(rt.da=nt.dashArray,rt.do=nt.dashoffset[0]),(_e.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||tt._opMdf||this._isFirstFrame)&&(rt.coOp=_e.o.v*tt.opacity),(_e.w._mdf||this._isFirstFrame)&&(rt.wi=_e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(et,_e,tt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var _e=!1;et.fc?(_e=!0,this.values.fill=this.buildColor(et.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=_e;var tt=!1;et.sc&&(tt=!0,this.values.stroke=this.buildColor(et.sc),this.values.sWidth=et.sw);var rt=this.globalData.fontManager.getFontByName(et.f),nt,st,ot=et.l,at=this.mHelper;this.stroke=tt,this.values.fValue=et.finalSize+"px "+this.globalData.fontManager.getFontByName(et.f).fFamily,st=et.finalText.length;var lt,ft,dt,gt,pt,vt,St,At,Tt,Ct,Mt=this.data.singleShape,Et=et.tr*.001*et.finalSize,Rt=0,Bt=0,Ft=!0,Lt=0;for(nt=0;nt<st;nt+=1){lt=this.globalData.fontManager.getCharData(et.finalText[nt],rt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),ft=lt&&lt.data||{},at.reset(),Mt&&ot[nt].n&&(Rt=-Et,Bt+=et.yOffset,Bt+=Ft?1:0,Ft=!1),pt=ft.shapes?ft.shapes[0].it:[],St=pt.length,at.scale(et.finalSize/100,et.finalSize/100),Mt&&this.applyTextPropertiesToMatrix(et,at,ot[nt].line,Rt,Bt),Tt=createSizedArray(St-1);var wt=0;for(vt=0;vt<St;vt+=1)if(pt[vt].ty==="sh"){for(gt=pt[vt].ks.k.i.length,At=pt[vt].ks.k,Ct=[],dt=1;dt<gt;dt+=1)dt===1&&Ct.push(at.applyToX(At.v[0][0],At.v[0][1],0),at.applyToY(At.v[0][0],At.v[0][1],0)),Ct.push(at.applyToX(At.o[dt-1][0],At.o[dt-1][1],0),at.applyToY(At.o[dt-1][0],At.o[dt-1][1],0),at.applyToX(At.i[dt][0],At.i[dt][1],0),at.applyToY(At.i[dt][0],At.i[dt][1],0),at.applyToX(At.v[dt][0],At.v[dt][1],0),at.applyToY(At.v[dt][0],At.v[dt][1],0));Ct.push(at.applyToX(At.o[dt-1][0],At.o[dt-1][1],0),at.applyToY(At.o[dt-1][0],At.o[dt-1][1],0),at.applyToX(At.i[0][0],At.i[0][1],0),at.applyToY(At.i[0][0],At.i[0][1],0),at.applyToX(At.v[0][0],At.v[0][1],0),at.applyToY(At.v[0][0],At.v[0][1],0)),Tt[wt]=Ct,wt+=1}Mt&&(Rt+=ot[nt].l,Rt+=Et),this.textSpans[Lt]?this.textSpans[Lt].elem=Tt:this.textSpans[Lt]={elem:Tt},Lt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var et=this.canvasContext;et.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var _e,tt,rt,nt,st,ot,at=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;tt=lt.length;var ft,dt=null,gt=null,pt=null,vt,St,At=this.globalData.renderer;for(_e=0;_e<tt;_e+=1)if(!lt[_e].n){if(ft=at[_e],ft&&(At.save(),At.ctxTransform(ft.p),At.ctxOpacity(ft.o)),this.fill){for(ft&&ft.fc?dt!==ft.fc&&(At.ctxFillStyle(ft.fc),dt=ft.fc):dt!==this.values.fill&&(dt=this.values.fill,At.ctxFillStyle(this.values.fill)),vt=this.textSpans[_e].elem,nt=vt.length,this.globalData.canvasContext.beginPath(),rt=0;rt<nt;rt+=1)for(St=vt[rt],ot=St.length,this.globalData.canvasContext.moveTo(St[0],St[1]),st=2;st<ot;st+=6)this.globalData.canvasContext.bezierCurveTo(St[st],St[st+1],St[st+2],St[st+3],St[st+4],St[st+5]);this.globalData.canvasContext.closePath(),At.ctxFill()}if(this.stroke){for(ft&&ft.sw?pt!==ft.sw&&(pt=ft.sw,At.ctxLineWidth(ft.sw)):pt!==this.values.sWidth&&(pt=this.values.sWidth,At.ctxLineWidth(this.values.sWidth)),ft&&ft.sc?gt!==ft.sc&&(gt=ft.sc,At.ctxStrokeStyle(ft.sc)):gt!==this.values.stroke&&(gt=this.values.stroke,At.ctxStrokeStyle(this.values.stroke)),vt=this.textSpans[_e].elem,nt=vt.length,this.globalData.canvasContext.beginPath(),rt=0;rt<nt;rt+=1)for(St=vt[rt],ot=St.length,this.globalData.canvasContext.moveTo(St[0],St[1]),st=2;st<ot;st+=6)this.globalData.canvasContext.bezierCurveTo(St[st],St[st+1],St[st+2],St[st+3],St[st+4],St[st+5]);this.globalData.canvasContext.closePath(),At.ctxStroke()}ft&&this.globalData.renderer.restore()}};function CVImageElement(et,_e,tt){this.assetData=_e.getAssetData(et.refId),this.img=_e.imageLoader.getAsset(this.assetData),this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var et=createTag("canvas");et.width=this.assetData.w,et.height=this.assetData.h;var _e=et.getContext("2d"),tt=this.img.width,rt=this.img.height,nt=tt/rt,st=this.assetData.w/this.assetData.h,ot,at,lt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;nt>st&&lt==="xMidYMid slice"||nt<st&&lt!=="xMidYMid slice"?(at=rt,ot=at*st):(ot=tt,at=ot/st),_e.drawImage(this.img,(tt-ot)/2,(rt-at)/2,ot,at,0,0,this.assetData.w,this.assetData.h),this.img=et}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(et,_e,tt){this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(et){return new CVShapeElement(et,this.globalData,this)},CanvasRendererBase.prototype.createText=function(et){return new CVTextElement(et,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(et){return new CVImageElement(et,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(et){return new CVSolidElement(et,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(et){et[0]===1&&et[1]===0&&et[4]===0&&et[5]===1&&et[12]===0&&et[13]===0||this.canvasContext.transform(et[0],et[1],et[4],et[5],et[12],et[13])},CanvasRendererBase.prototype.ctxOpacity=function(et){this.canvasContext.globalAlpha*=et<0?0:et},CanvasRendererBase.prototype.ctxFillStyle=function(et){this.canvasContext.fillStyle=et},CanvasRendererBase.prototype.ctxStrokeStyle=function(et){this.canvasContext.strokeStyle=et},CanvasRendererBase.prototype.ctxLineWidth=function(et){this.canvasContext.lineWidth=et},CanvasRendererBase.prototype.ctxLineCap=function(et){this.canvasContext.lineCap=et},CanvasRendererBase.prototype.ctxLineJoin=function(et){this.canvasContext.lineJoin=et},CanvasRendererBase.prototype.ctxMiterLimit=function(et){this.canvasContext.miterLimit=et},CanvasRendererBase.prototype.ctxFill=function(et){this.canvasContext.fill(et)},CanvasRendererBase.prototype.ctxFillRect=function(et,_e,tt,rt){this.canvasContext.fillRect(et,_e,tt,rt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(et){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}et&&(this.globalData.blendMode="source-over"),this.contextData.restore(et)},CanvasRendererBase.prototype.configAnimation=function(et){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var _e=this.animationItem.container.style;_e.width="100%",_e.height="100%";var tt="0px 0px 0px";_e.transformOrigin=tt,_e.mozTransformOrigin=tt,_e.webkitTransformOrigin=tt,_e["-webkit-transform"]=tt,_e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=et,this.layers=et.layers,this.transformCanvas={w:et.w,h:et.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(et,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(et.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(et,_e){this.reset();var tt,rt;et?(tt=et,rt=_e,this.canvasContext.canvas.width=tt,this.canvasContext.canvas.height=rt):(this.animationItem.wrapper&&this.animationItem.container?(tt=this.animationItem.wrapper.offsetWidth,rt=this.animationItem.wrapper.offsetHeight):(tt=this.canvasContext.canvas.width,rt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=tt*this.renderConfig.dpr,this.canvasContext.canvas.height=rt*this.renderConfig.dpr);var nt,st;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ot=this.renderConfig.preserveAspectRatio.split(" "),at=ot[1]||"meet",lt=ot[0]||"xMidYMid",ft=lt.substr(0,4),dt=lt.substr(4);nt=tt/rt,st=this.transformCanvas.w/this.transformCanvas.h,st>nt&&at==="meet"||st<nt&&at==="slice"?(this.transformCanvas.sx=tt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=tt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr)),ft==="xMid"&&(st<nt&&at==="meet"||st>nt&&at==="slice")?this.transformCanvas.tx=(tt-this.transformCanvas.w*(rt/this.transformCanvas.h))/2*this.renderConfig.dpr:ft==="xMax"&&(st<nt&&at==="meet"||st>nt&&at==="slice")?this.transformCanvas.tx=(tt-this.transformCanvas.w*(rt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,dt==="YMid"&&(st>nt&&at==="meet"||st<nt&&at==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(tt/this.transformCanvas.w))/2*this.renderConfig.dpr:dt==="YMax"&&(st>nt&&at==="meet"||st<nt&&at==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(tt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=tt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var et,_e=this.layers?this.layers.length:0;for(et=_e-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(et,_e){if(!(this.renderedFrame===et&&this.renderConfig.clearCanvas===!0&&!_e||this.destroyed||et===-1)){this.renderedFrame=et,this.globalData.frameNum=et-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||_e,this.globalData.projectInterface.currentFrame=et;var tt,rt=this.layers.length;for(this.completeLayers||this.checkLayers(et),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].prepareFrame(et-this.layers[tt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(et){var _e=this.elements;if(!(_e[et]||this.layers[et].ty===99)){var tt=this.createItem(this.layers[et],this,this.globalData);_e[et]=tt,tt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var et,_e=15;for(et=0;et<_e;et+=1){var tt=new CanvasContext;this.stack[et]=tt}this._length=_e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var et=this._length*2,_e=0;for(_e=this._length;_e<et;_e+=1)this.stack[_e]=new CanvasContext;this._length=et},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(et){this.cArrPos-=1;var _e=this.stack[this.cArrPos],tt=_e.transform,rt,nt=this.cTr.props;for(rt=0;rt<16;rt+=1)nt[rt]=tt[rt];if(et){this.nativeContext.restore();var st=this.stack[this.cArrPos+1];this.appliedFillStyle=st.fillStyle,this.appliedStrokeStyle=st.strokeStyle,this.appliedLineWidth=st.lineWidth,this.appliedLineCap=st.lineCap,this.appliedLineJoin=st.lineJoin,this.appliedMiterLimit=st.miterLimit}this.nativeContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13]),(et||_e.opacity!==-1&&this.currentOpacity!==_e.opacity)&&(this.nativeContext.globalAlpha=_e.opacity,this.currentOpacity=_e.opacity),this.currentFillStyle=_e.fillStyle,this.currentStrokeStyle=_e.strokeStyle,this.currentLineWidth=_e.lineWidth,this.currentLineCap=_e.lineCap,this.currentLineJoin=_e.lineJoin,this.currentMiterLimit=_e.miterLimit},CVContextData.prototype.save=function(et){et&&this.nativeContext.save();var _e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var tt=this.stack[this.cArrPos],rt;for(rt=0;rt<16;rt+=1)tt.transform[rt]=_e[rt];this.cArrPos+=1;var nt=this.stack[this.cArrPos];nt.opacity=tt.opacity,nt.fillStyle=tt.fillStyle,nt.strokeStyle=tt.strokeStyle,nt.lineWidth=tt.lineWidth,nt.lineCap=tt.lineCap,nt.lineJoin=tt.lineJoin,nt.miterLimit=tt.miterLimit},CVContextData.prototype.setOpacity=function(et){this.stack[this.cArrPos].opacity=et},CVContextData.prototype.setContext=function(et){this.nativeContext=et},CVContextData.prototype.fillStyle=function(et){this.stack[this.cArrPos].fillStyle!==et&&(this.currentFillStyle=et,this.stack[this.cArrPos].fillStyle=et)},CVContextData.prototype.strokeStyle=function(et){this.stack[this.cArrPos].strokeStyle!==et&&(this.currentStrokeStyle=et,this.stack[this.cArrPos].strokeStyle=et)},CVContextData.prototype.lineWidth=function(et){this.stack[this.cArrPos].lineWidth!==et&&(this.currentLineWidth=et,this.stack[this.cArrPos].lineWidth=et)},CVContextData.prototype.lineCap=function(et){this.stack[this.cArrPos].lineCap!==et&&(this.currentLineCap=et,this.stack[this.cArrPos].lineCap=et)},CVContextData.prototype.lineJoin=function(et){this.stack[this.cArrPos].lineJoin!==et&&(this.currentLineJoin=et,this.stack[this.cArrPos].lineJoin=et)},CVContextData.prototype.miterLimit=function(et){this.stack[this.cArrPos].miterLimit!==et&&(this.currentMiterLimit=et,this.stack[this.cArrPos].miterLimit=et)},CVContextData.prototype.transform=function(et){this.transformMat.cloneFromProps(et);var _e=this.cTr;this.transformMat.multiply(_e),_e.cloneFromProps(this.transformMat.props);var tt=_e.props;this.nativeContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13])},CVContextData.prototype.opacity=function(et){var _e=this.stack[this.cArrPos].opacity;_e*=et<0?0:et,this.stack[this.cArrPos].opacity!==_e&&(this.currentOpacity!==et&&(this.nativeContext.globalAlpha=et,this.currentOpacity=et),this.stack[this.cArrPos].opacity=_e)},CVContextData.prototype.fill=function(et){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(et)},CVContextData.prototype.fillRect=function(et,_e,tt,rt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(et,_e,tt,rt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(et,_e,tt){this.completeLayers=!1,this.layers=et.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(et,_e,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var et=this.canvasContext;et.beginPath(),et.moveTo(0,0),et.lineTo(this.data.w,0),et.lineTo(this.data.w,this.data.h),et.lineTo(0,this.data.h),et.lineTo(0,0),et.clip();var _e,tt=this.layers.length;for(_e=tt-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},CVCompElement.prototype.destroy=function(){var et,_e=this.layers.length;for(et=_e-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function CanvasRenderer(et,_e){this.animationItem=et,this.renderConfig={clearCanvas:_e&&_e.clearCanvas!==void 0?_e.clearCanvas:!0,context:_e&&_e.context||null,progressiveLoad:_e&&_e.progressiveLoad||!1,preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",className:_e&&_e.className||"",id:_e&&_e.id||"",runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.renderConfig.dpr=_e&&_e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_e&&_e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var _e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var tt=this.finalTransform.mat.toCSS();_e.transform=tt,_e.webkitTransform=tt}this.finalTransform._opMdf&&(_e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(et,_e,tt){this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var et;this.data.hasMask?(et=createNS("rect"),et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(et=createTag("div"),et.style.width=this.data.sw+"px",et.style.height=this.data.sh+"px",et.style.backgroundColor=this.data.sc),this.layerElement.appendChild(et)};function HShapeElement(et,_e,tt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(et,_e,tt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var et;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),et=this.svgElement;else{et=createNS("svg");var _e=this.comp.data?this.comp.data:this.globalData.compSize;et.setAttribute("width",_e.w),et.setAttribute("height",_e.h),et.appendChild(this.shapesContainer),this.layerElement.appendChild(et)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=et},HShapeElement.prototype.getTransformedPoint=function(et,_e){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)_e=et[tt].mProps.v.applyToPointArray(_e[0],_e[1],0);return _e},HShapeElement.prototype.calculateShapeBoundingBox=function(et,_e){var tt=et.sh.v,rt=et.transformers,nt,st=tt._length,ot,at,lt,ft;if(!(st<=1)){for(nt=0;nt<st-1;nt+=1)ot=this.getTransformedPoint(rt,tt.v[nt]),at=this.getTransformedPoint(rt,tt.o[nt]),lt=this.getTransformedPoint(rt,tt.i[nt+1]),ft=this.getTransformedPoint(rt,tt.v[nt+1]),this.checkBounds(ot,at,lt,ft,_e);tt.c&&(ot=this.getTransformedPoint(rt,tt.v[nt]),at=this.getTransformedPoint(rt,tt.o[nt]),lt=this.getTransformedPoint(rt,tt.i[0]),ft=this.getTransformedPoint(rt,tt.v[0]),this.checkBounds(ot,at,lt,ft,_e))}},HShapeElement.prototype.checkBounds=function(et,_e,tt,rt,nt){this.getBoundsOfCurve(et,_e,tt,rt);var st=this.shapeBoundingBox;nt.x=bmMin(st.left,nt.x),nt.xMax=bmMax(st.right,nt.xMax),nt.y=bmMin(st.top,nt.y),nt.yMax=bmMax(st.bottom,nt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(et,_e,tt,rt){for(var nt=[[et[0],rt[0]],[et[1],rt[1]]],st,ot,at,lt,ft,dt,gt,pt=0;pt<2;++pt)ot=6*et[pt]-12*_e[pt]+6*tt[pt],st=-3*et[pt]+9*_e[pt]-9*tt[pt]+3*rt[pt],at=3*_e[pt]-3*et[pt],ot|=0,st|=0,at|=0,st===0&&ot===0||(st===0?(lt=-at/ot,lt>0&&lt<1&&nt[pt].push(this.calculateF(lt,et,_e,tt,rt,pt))):(ft=ot*ot-4*at*st,ft>=0&&(dt=(-ot+bmSqrt(ft))/(2*st),dt>0&&dt<1&&nt[pt].push(this.calculateF(dt,et,_e,tt,rt,pt)),gt=(-ot-bmSqrt(ft))/(2*st),gt>0&&gt<1&&nt[pt].push(this.calculateF(gt,et,_e,tt,rt,pt)))));this.shapeBoundingBox.left=bmMin.apply(null,nt[0]),this.shapeBoundingBox.top=bmMin.apply(null,nt[1]),this.shapeBoundingBox.right=bmMax.apply(null,nt[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,nt[1])},HShapeElement.prototype.calculateF=function(et,_e,tt,rt,nt,st){return bmPow(1-et,3)*_e[st]+3*bmPow(1-et,2)*et*tt[st]+3*(1-et)*bmPow(et,2)*rt[st]+bmPow(et,3)*nt[st]},HShapeElement.prototype.calculateBoundingBox=function(et,_e){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt]&&et[tt].sh?this.calculateShapeBoundingBox(et[tt],_e):et[tt]&&et[tt].it?this.calculateBoundingBox(et[tt].it,_e):et[tt]&&et[tt].style&&et[tt].w&&this.expandStrokeBoundingBox(et[tt].w,_e)},HShapeElement.prototype.expandStrokeBoundingBox=function(et,_e){var tt=0;if(et.keyframes){for(var rt=0;rt<et.keyframes.length;rt+=1){var nt=et.keyframes[rt].s;nt>tt&&(tt=nt)}tt*=et.mult}else tt=et.v*et.mult;_e.x-=tt,_e.xMax+=tt,_e.y-=tt,_e.yMax+=tt},HShapeElement.prototype.currentBoxContains=function(et){return this.currentBBox.x<=et.x&&this.currentBBox.y<=et.y&&this.currentBBox.width+this.currentBBox.x>=et.x+et.width&&this.currentBBox.height+this.currentBBox.y>=et.y+et.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var et=this.tempBoundingBox,_e=999999;if(et.x=_e,et.xMax=-_e,et.y=_e,et.yMax=-_e,this.calculateBoundingBox(this.itemsData,et),et.width=et.xMax<et.x?0:et.xMax-et.x,et.height=et.yMax<et.y?0:et.yMax-et.y,this.currentBoxContains(et))return;var tt=!1;if(this.currentBBox.w!==et.width&&(this.currentBBox.w=et.width,this.shapeCont.setAttribute("width",et.width),tt=!0),this.currentBBox.h!==et.height&&(this.currentBBox.h=et.height,this.shapeCont.setAttribute("height",et.height),tt=!0),tt||this.currentBBox.x!==et.x||this.currentBBox.y!==et.y){this.currentBBox.w=et.width,this.currentBBox.h=et.height,this.currentBBox.x=et.x,this.currentBBox.y=et.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var rt=this.shapeCont.style,nt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";rt.transform=nt,rt.webkitTransform=nt}}};function HTextElement(et,_e,tt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var et=createNS("g");this.maskedElement.appendChild(et),this.innerElem=et}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var _e=this.innerElem.style,tt=et.fc?this.buildColor(et.fc):"rgba(0,0,0,0)";_e.fill=tt,_e.color=tt,et.sc&&(_e.stroke=this.buildColor(et.sc),_e.strokeWidth=et.sw+"px");var rt=this.globalData.fontManager.getFontByName(et.f);if(!this.globalData.fontManager.chars)if(_e.fontSize=et.finalSize+"px",_e.lineHeight=et.finalSize+"px",rt.fClass)this.innerElem.className=rt.fClass;else{_e.fontFamily=rt.fFamily;var nt=et.fWeight,st=et.fStyle;_e.fontStyle=st,_e.fontWeight=nt}var ot,at,lt=et.l;at=lt.length;var ft,dt,gt,pt=this.mHelper,vt,St="",At=0;for(ot=0;ot<at;ot+=1){if(this.globalData.fontManager.chars?(this.textPaths[At]?ft=this.textPaths[At]:(ft=createNS("path"),ft.setAttribute("stroke-linecap",lineCapEnum[1]),ft.setAttribute("stroke-linejoin",lineJoinEnum[2]),ft.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[At]?(dt=this.textSpans[At],gt=dt.children[0]):(dt=createTag("div"),dt.style.lineHeight=0,gt=createNS("svg"),gt.appendChild(ft),styleDiv(dt)))):this.isMasked?ft=this.textPaths[At]?this.textPaths[At]:createNS("text"):this.textSpans[At]?(dt=this.textSpans[At],ft=this.textPaths[At]):(dt=createTag("span"),styleDiv(dt),ft=createTag("span"),styleDiv(ft),dt.appendChild(ft)),this.globalData.fontManager.chars){var Tt=this.globalData.fontManager.getCharData(et.finalText[ot],rt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),Ct;if(Tt?Ct=Tt.data:Ct=null,pt.reset(),Ct&&Ct.shapes&&Ct.shapes.length&&(vt=Ct.shapes[0].it,pt.scale(et.finalSize/100,et.finalSize/100),St=this.createPathShape(pt,vt),ft.setAttribute("d",St)),this.isMasked)this.innerElem.appendChild(ft);else{if(this.innerElem.appendChild(dt),Ct&&Ct.shapes){document.body.appendChild(gt);var Mt=gt.getBBox();gt.setAttribute("width",Mt.width+2),gt.setAttribute("height",Mt.height+2),gt.setAttribute("viewBox",Mt.x-1+" "+(Mt.y-1)+" "+(Mt.width+2)+" "+(Mt.height+2));var Et=gt.style,Rt="translate("+(Mt.x-1)+"px,"+(Mt.y-1)+"px)";Et.transform=Rt,Et.webkitTransform=Rt,lt[ot].yOffset=Mt.y-1}else gt.setAttribute("width",1),gt.setAttribute("height",1);dt.appendChild(gt)}}else if(ft.textContent=lt[ot].val,ft.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ft);else{this.innerElem.appendChild(dt);var Bt=ft.style,Ft="translate3d(0,"+-et.finalSize/1.2+"px,0)";Bt.transform=Ft,Bt.webkitTransform=Ft}this.isMasked?this.textSpans[At]=ft:this.textSpans[At]=dt,this.textSpans[At].style.display="block",this.textPaths[At]=ft,At+=1}for(;At<this.textSpans.length;)this.textSpans[At].style.display="none",At+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var et;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),et=this.svgElement.style;var _e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";et.transform=_e,et.webkitTransform=_e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var tt,rt,nt=0,st=this.textAnimator.renderedLetters,ot=this.textProperty.currentData.l;rt=ot.length;var at,lt,ft;for(tt=0;tt<rt;tt+=1)ot[tt].n?nt+=1:(lt=this.textSpans[tt],ft=this.textPaths[tt],at=st[nt],nt+=1,at._mdf.m&&(this.isMasked?lt.setAttribute("transform",at.m):(lt.style.webkitTransform=at.m,lt.style.transform=at.m)),lt.style.opacity=at.o,at.sw&&at._mdf.sw&&ft.setAttribute("stroke-width",at.sw),at.sc&&at._mdf.sc&&ft.setAttribute("stroke",at.sc),at.fc&&at._mdf.fc&&(ft.setAttribute("fill",at.fc),ft.style.color=at.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var dt=this.innerElem.getBBox();this.currentBBox.w!==dt.width&&(this.currentBBox.w=dt.width,this.svgElement.setAttribute("width",dt.width)),this.currentBBox.h!==dt.height&&(this.currentBBox.h=dt.height,this.svgElement.setAttribute("height",dt.height));var gt=1;if(this.currentBBox.w!==dt.width+gt*2||this.currentBBox.h!==dt.height+gt*2||this.currentBBox.x!==dt.x-gt||this.currentBBox.y!==dt.y-gt){this.currentBBox.w=dt.width+gt*2,this.currentBBox.h=dt.height+gt*2,this.currentBBox.x=dt.x-gt,this.currentBBox.y=dt.y-gt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),et=this.svgElement.style;var pt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";et.transform=pt,et.webkitTransform=pt}}}};function HCameraElement(et,_e,tt){this.initFrame(),this.initBaseData(et,_e,tt),this.initHierarchy();var rt=PropertyFactory.getProp;if(this.pe=rt(this,et.pe,0,0,this),et.ks.p.s?(this.px=rt(this,et.ks.p.x,1,0,this),this.py=rt(this,et.ks.p.y,1,0,this),this.pz=rt(this,et.ks.p.z,1,0,this)):this.p=rt(this,et.ks.p,1,0,this),et.ks.a&&(this.a=rt(this,et.ks.a,1,0,this)),et.ks.or.k.length&&et.ks.or.k[0].to){var nt,st=et.ks.or.k.length;for(nt=0;nt<st;nt+=1)et.ks.or.k[nt].to=null,et.ks.or.k[nt].ti=null}this.or=rt(this,et.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=rt(this,et.ks.rx,0,degToRads,this),this.ry=rt(this,et.ks.ry,0,degToRads,this),this.rz=rt(this,et.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var et,_e=this.comp.threeDElements.length,tt,rt,nt;for(et=0;et<_e;et+=1)if(tt=this.comp.threeDElements[et],tt.type==="3d"){rt=tt.perspectiveElem.style,nt=tt.container.style;var st=this.pe.v+"px",ot="0px 0px 0px",at="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rt.perspective=st,rt.webkitPerspective=st,nt.transformOrigin=ot,nt.mozTransformOrigin=ot,nt.webkitTransformOrigin=ot,rt.transform=at,rt.webkitTransform=at}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var et=this._isFirstFrame,_e,tt;if(this.hierarchy)for(tt=this.hierarchy.length,_e=0;_e<tt;_e+=1)et=this.hierarchy[_e].finalTransform.mProp._mdf||et;if(et||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(tt=this.hierarchy.length-1,_e=tt;_e>=0;_e-=1){var rt=this.hierarchy[_e].finalTransform.mProp;this.mat.translate(-rt.p.v[0],-rt.p.v[1],rt.p.v[2]),this.mat.rotateX(-rt.or.v[0]).rotateY(-rt.or.v[1]).rotateZ(rt.or.v[2]),this.mat.rotateX(-rt.rx.v).rotateY(-rt.ry.v).rotateZ(rt.rz.v),this.mat.scale(1/rt.s.v[0],1/rt.s.v[1],1/rt.s.v[2]),this.mat.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var nt;this.p?nt=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:nt=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var st=Math.sqrt(Math.pow(nt[0],2)+Math.pow(nt[1],2)+Math.pow(nt[2],2)),ot=[nt[0]/st,nt[1]/st,nt[2]/st],at=Math.sqrt(ot[2]*ot[2]+ot[0]*ot[0]),lt=Math.atan2(ot[1],at),ft=Math.atan2(ot[0],-ot[2]);this.mat.rotateY(ft).rotateX(-lt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var dt=!this._prevMat.equals(this.mat);if((dt||this.pe._mdf)&&this.comp.threeDElements){tt=this.comp.threeDElements.length;var gt,pt,vt;for(_e=0;_e<tt;_e+=1)if(gt=this.comp.threeDElements[_e],gt.type==="3d"){if(dt){var St=this.mat.toCSS();vt=gt.container.style,vt.transform=St,vt.webkitTransform=St}this.pe._mdf&&(pt=gt.perspectiveElem.style,pt.perspective=this.pe.v+"px",pt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(et,_e,tt){this.assetData=_e.getAssetData(et.refId),this.initElement(et,_e,tt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData),_e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(_e),_e.crossOrigin="anonymous",_e.src=et,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(et,_e){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(et,_e){var tt=et.getBaseElement();if(tt){var rt=this.layers[_e];if(!rt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(tt,_e);else{for(var nt=0,st,ot,at;nt<_e;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement&&(ot=this.elements[nt],at=this.layers[nt].ddd?this.getThreeDContainerByPos(nt):ot.getBaseElement(),st=at||st),nt+=1;st?(!rt.ddd||!this.supports3d)&&this.layerElement.insertBefore(tt,st):(!rt.ddd||!this.supports3d)&&this.layerElement.appendChild(tt)}else this.addTo3dContainer(tt,_e)}},HybridRendererBase.prototype.createShape=function(et){return this.supports3d?new HShapeElement(et,this.globalData,this):new SVGShapeElement(et,this.globalData,this)},HybridRendererBase.prototype.createText=function(et){return this.supports3d?new HTextElement(et,this.globalData,this):new SVGTextLottieElement(et,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(et){return this.camera=new HCameraElement(et,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(et){return this.supports3d?new HImageElement(et,this.globalData,this):new IImageElement(et,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(et){return this.supports3d?new HSolidElement(et,this.globalData,this):new ISolidElement(et,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(et){for(var _e=0,tt=this.threeDElements.length;_e<tt;){if(this.threeDElements[_e].startPos<=et&&this.threeDElements[_e].endPos>=et)return this.threeDElements[_e].perspectiveElem;_e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(et,_e){var tt=createTag("div"),rt,nt;styleDiv(tt);var st=createTag("div");if(styleDiv(st),_e==="3d"){rt=tt.style,rt.width=this.globalData.compSize.w+"px",rt.height=this.globalData.compSize.h+"px";var ot="50% 50%";rt.webkitTransformOrigin=ot,rt.mozTransformOrigin=ot,rt.transformOrigin=ot,nt=st.style;var at="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.transform=at,nt.webkitTransform=at}tt.appendChild(st);var lt={container:st,perspectiveElem:tt,startPos:et,endPos:et,type:_e};return this.threeDElements.push(lt),lt},HybridRendererBase.prototype.build3dContainers=function(){var et,_e=this.layers.length,tt,rt="";for(et=0;et<_e;et+=1)this.layers[et].ddd&&this.layers[et].ty!==3?(rt!=="3d"&&(rt="3d",tt=this.createThreeDContainer(et,"3d")),tt.endPos=Math.max(tt.endPos,et)):(rt!=="2d"&&(rt="2d",tt=this.createThreeDContainer(et,"2d")),tt.endPos=Math.max(tt.endPos,et));for(_e=this.threeDElements.length,et=_e-1;et>=0;et-=1)this.resizerElem.appendChild(this.threeDElements[et].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(et,_e){for(var tt=0,rt=this.threeDElements.length;tt<rt;){if(_e<=this.threeDElements[tt].endPos){for(var nt=this.threeDElements[tt].startPos,st;nt<_e;)this.elements[nt]&&this.elements[nt].getBaseElement&&(st=this.elements[nt].getBaseElement()),nt+=1;st?this.threeDElements[tt].container.insertBefore(et,st):this.threeDElements[tt].container.appendChild(et);break}tt+=1}},HybridRendererBase.prototype.configAnimation=function(et){var _e=createTag("div"),tt=this.animationItem.wrapper,rt=_e.style;rt.width=et.w+"px",rt.height=et.h+"px",this.resizerElem=_e,styleDiv(_e),rt.transformStyle="flat",rt.mozTransformStyle="flat",rt.webkitTransformStyle="flat",this.renderConfig.className&&_e.setAttribute("class",this.renderConfig.className),tt.appendChild(_e),rt.overflow="hidden";var nt=createNS("svg");nt.setAttribute("width","1"),nt.setAttribute("height","1"),styleDiv(nt),this.resizerElem.appendChild(nt);var st=createNS("defs");nt.appendChild(st),this.data=et,this.setupGlobalData(et,nt),this.globalData.defs=st,this.layers=et.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var et,_e=this.layers?this.layers.length:0;for(et=0;et<_e;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var et=this.animationItem.wrapper.offsetWidth,_e=this.animationItem.wrapper.offsetHeight,tt=et/_e,rt=this.globalData.compSize.w/this.globalData.compSize.h,nt,st,ot,at;rt>tt?(nt=et/this.globalData.compSize.w,st=et/this.globalData.compSize.w,ot=0,at=(_e-this.globalData.compSize.h*(et/this.globalData.compSize.w))/2):(nt=_e/this.globalData.compSize.h,st=_e/this.globalData.compSize.h,ot=(et-this.globalData.compSize.w*(_e/this.globalData.compSize.h))/2,at=0);var lt=this.resizerElem.style;lt.webkitTransform="matrix3d("+nt+",0,0,0,0,"+st+",0,0,0,0,1,0,"+ot+","+at+",0,1)",lt.transform=lt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var et=this.globalData.compSize.w,_e=this.globalData.compSize.h,tt,rt=this.threeDElements.length;for(tt=0;tt<rt;tt+=1){var nt=this.threeDElements[tt].perspectiveElem.style;nt.webkitPerspective=Math.sqrt(Math.pow(et,2)+Math.pow(_e,2))+"px",nt.perspective=nt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(et){var _e,tt=et.length,rt=createTag("div");for(_e=0;_e<tt;_e+=1)if(et[_e].xt){var nt=this.createComp(et[_e],rt,this.globalData.comp,null);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}};function HCompElement(et,_e,tt){this.layers=et.layers,this.supports3d=!et.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,_e,tt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(et,_e){for(var tt=0,rt;tt<_e;)this.elements[tt]&&this.elements[tt].getBaseElement&&(rt=this.elements[tt].getBaseElement()),tt+=1;rt?this.layerElement.insertBefore(et,rt):this.layerElement.appendChild(et)},HCompElement.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};function HybridRenderer(et,_e){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"},runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};var CompExpressionInterface=function(){return function(et){function _e(tt){for(var rt=0,nt=et.layers.length;rt<nt;){if(et.layers[rt].nm===tt||et.layers[rt].ind===tt)return et.elements[rt].layerInterface;rt+=1}return null}return Object.defineProperty(_e,"_name",{value:et.data.nm}),_e.layer=_e,_e.pixelAspect=1,_e.height=et.data.h||et.globalData.compSize.h,_e.width=et.data.w||et.globalData.compSize.w,_e.pixelAspect=1,_e.frameDuration=1/et.globalData.frameRate,_e.displayStartTime=0,_e.numLayers=et.layers.length,_e}}();function _typeof$2(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(tt){return typeof tt}:_typeof$2=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$2(et)}function seedRandom(et,_e){var tt=this,rt=256,nt=6,st=52,ot="random",at=_e.pow(rt,nt),lt=_e.pow(2,st),ft=lt*2,dt=rt-1,gt;function pt(Et,Rt,Bt){var Ft=[];Rt=Rt===!0?{entropy:!0}:Rt||{};var Lt=Tt(At(Rt.entropy?[Et,Mt(et)]:Et===null?Ct():Et,3),Ft),wt=new vt(Ft),Dt=function(){for(var Ut=wt.g(nt),zt=at,tr=0;Ut<lt;)Ut=(Ut+tr)*rt,zt*=rt,tr=wt.g(1);for(;Ut>=ft;)Ut/=2,zt/=2,tr>>>=1;return(Ut+tr)/zt};return Dt.int32=function(){return wt.g(4)|0},Dt.quick=function(){return wt.g(4)/4294967296},Dt.double=Dt,Tt(Mt(wt.S),et),(Rt.pass||Bt||function(Ot,Ut,zt,tr){return tr&&(tr.S&&St(tr,wt),Ot.state=function(){return St(wt,{})}),zt?(_e[ot]=Ot,Ut):Ot})(Dt,Lt,"global"in Rt?Rt.global:this==_e,Rt.state)}_e["seed"+ot]=pt;function vt(Et){var Rt,Bt=Et.length,Ft=this,Lt=0,wt=Ft.i=Ft.j=0,Dt=Ft.S=[];for(Bt||(Et=[Bt++]);Lt<rt;)Dt[Lt]=Lt++;for(Lt=0;Lt<rt;Lt++)Dt[Lt]=Dt[wt=dt&wt+Et[Lt%Bt]+(Rt=Dt[Lt])],Dt[wt]=Rt;Ft.g=function(Ot){for(var Ut,zt=0,tr=Ft.i,jt=Ft.j,Kt=Ft.S;Ot--;)Ut=Kt[tr=dt&tr+1],zt=zt*rt+Kt[dt&(Kt[tr]=Kt[jt=dt&jt+Ut])+(Kt[jt]=Ut)];return Ft.i=tr,Ft.j=jt,zt}}function St(Et,Rt){return Rt.i=Et.i,Rt.j=Et.j,Rt.S=Et.S.slice(),Rt}function At(Et,Rt){var Bt=[],Ft=_typeof$2(Et),Lt;if(Rt&&Ft=="object")for(Lt in Et)try{Bt.push(At(Et[Lt],Rt-1))}catch{}return Bt.length?Bt:Ft=="string"?Et:Et+"\0"}function Tt(Et,Rt){for(var Bt=Et+"",Ft,Lt=0;Lt<Bt.length;)Rt[dt&Lt]=dt&(Ft^=Rt[dt&Lt]*19)+Bt.charCodeAt(Lt++);return Mt(Rt)}function Ct(){try{var Et=new Uint8Array(rt);return(tt.crypto||tt.msCrypto).getRandomValues(Et),Mt(Et)}catch{var Rt=tt.navigator,Bt=Rt&&Rt.plugins;return[+new Date,tt,Bt,tt.screen,Mt(et)]}}function Mt(Et){return String.fromCharCode.apply(0,Et)}Tt(_e.random(),et)}function initialize$2(et){seedRandom([],et)}var propTypes={SHAPE:"shape"};function _typeof$1(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(tt){return typeof tt}:_typeof$1=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$1(et)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(et){return et.constructor===Array||et.constructor===Float32Array}function isNumerable(et,_e){return et==="number"||_e instanceof Number||et==="boolean"||et==="string"}function $bm_neg(et){var _e=_typeof$1(et);if(_e==="number"||et instanceof Number||_e==="boolean")return-et;if($bm_isInstanceOfArray(et)){var tt,rt=et.length,nt=[];for(tt=0;tt<rt;tt+=1)nt[tt]=-et[tt];return nt}return et.propType?et.v:-et}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(et,_e){var tt=_typeof$1(et),rt=_typeof$1(_e);if(isNumerable(tt,et)&&isNumerable(rt,_e)||tt==="string"||rt==="string")return et+_e;if($bm_isInstanceOfArray(et)&&isNumerable(rt,_e))return et=et.slice(0),et[0]+=_e,et;if(isNumerable(tt,et)&&$bm_isInstanceOfArray(_e))return _e=_e.slice(0),_e[0]=et+_e[0],_e;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(_e)){for(var nt=0,st=et.length,ot=_e.length,at=[];nt<st||nt<ot;)(typeof et[nt]=="number"||et[nt]instanceof Number)&&(typeof _e[nt]=="number"||_e[nt]instanceof Number)?at[nt]=et[nt]+_e[nt]:at[nt]=_e[nt]===void 0?et[nt]:et[nt]||_e[nt],nt+=1;return at}return 0}var add=sum;function sub(et,_e){var tt=_typeof$1(et),rt=_typeof$1(_e);if(isNumerable(tt,et)&&isNumerable(rt,_e))return tt==="string"&&(et=parseInt(et,10)),rt==="string"&&(_e=parseInt(_e,10)),et-_e;if($bm_isInstanceOfArray(et)&&isNumerable(rt,_e))return et=et.slice(0),et[0]-=_e,et;if(isNumerable(tt,et)&&$bm_isInstanceOfArray(_e))return _e=_e.slice(0),_e[0]=et-_e[0],_e;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(_e)){for(var nt=0,st=et.length,ot=_e.length,at=[];nt<st||nt<ot;)(typeof et[nt]=="number"||et[nt]instanceof Number)&&(typeof _e[nt]=="number"||_e[nt]instanceof Number)?at[nt]=et[nt]-_e[nt]:at[nt]=_e[nt]===void 0?et[nt]:et[nt]||_e[nt],nt+=1;return at}return 0}function mul(et,_e){var tt=_typeof$1(et),rt=_typeof$1(_e),nt;if(isNumerable(tt,et)&&isNumerable(rt,_e))return et*_e;var st,ot;if($bm_isInstanceOfArray(et)&&isNumerable(rt,_e)){for(ot=et.length,nt=createTypedArray("float32",ot),st=0;st<ot;st+=1)nt[st]=et[st]*_e;return nt}if(isNumerable(tt,et)&&$bm_isInstanceOfArray(_e)){for(ot=_e.length,nt=createTypedArray("float32",ot),st=0;st<ot;st+=1)nt[st]=et*_e[st];return nt}return 0}function div(et,_e){var tt=_typeof$1(et),rt=_typeof$1(_e),nt;if(isNumerable(tt,et)&&isNumerable(rt,_e))return et/_e;var st,ot;if($bm_isInstanceOfArray(et)&&isNumerable(rt,_e)){for(ot=et.length,nt=createTypedArray("float32",ot),st=0;st<ot;st+=1)nt[st]=et[st]/_e;return nt}if(isNumerable(tt,et)&&$bm_isInstanceOfArray(_e)){for(ot=_e.length,nt=createTypedArray("float32",ot),st=0;st<ot;st+=1)nt[st]=et/_e[st];return nt}return 0}function mod(et,_e){return typeof et=="string"&&(et=parseInt(et,10)),typeof _e=="string"&&(_e=parseInt(_e,10)),et%_e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(et,_e,tt){if(_e>tt){var rt=tt;tt=_e,_e=rt}return Math.min(Math.max(et,_e),tt)}function radiansToDegrees(et){return et/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(et){return et*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(et,_e){if(typeof et=="number"||et instanceof Number)return _e=_e||0,Math.abs(et-_e);_e||(_e=helperLengthArray);var tt,rt=Math.min(et.length,_e.length),nt=0;for(tt=0;tt<rt;tt+=1)nt+=Math.pow(_e[tt]-et[tt],2);return Math.sqrt(nt)}function normalize(et){return div(et,length(et))}function rgbToHsl(et){var _e=et[0],tt=et[1],rt=et[2],nt=Math.max(_e,tt,rt),st=Math.min(_e,tt,rt),ot,at,lt=(nt+st)/2;if(nt===st)ot=0,at=0;else{var ft=nt-st;switch(at=lt>.5?ft/(2-nt-st):ft/(nt+st),nt){case _e:ot=(tt-rt)/ft+(tt<rt?6:0);break;case tt:ot=(rt-_e)/ft+2;break;case rt:ot=(_e-tt)/ft+4;break}ot/=6}return[ot,at,lt,et[3]]}function hue2rgb(et,_e,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(_e-et)*6*tt:tt<1/2?_e:tt<2/3?et+(_e-et)*(2/3-tt)*6:et}function hslToRgb(et){var _e=et[0],tt=et[1],rt=et[2],nt,st,ot;if(tt===0)nt=rt,ot=rt,st=rt;else{var at=rt<.5?rt*(1+tt):rt+tt-rt*tt,lt=2*rt-at;nt=hue2rgb(lt,at,_e+1/3),st=hue2rgb(lt,at,_e),ot=hue2rgb(lt,at,_e-1/3)}return[nt,st,ot,et[3]]}function linear(et,_e,tt,rt,nt){if((rt===void 0||nt===void 0)&&(rt=_e,nt=tt,_e=0,tt=1),tt<_e){var st=tt;tt=_e,_e=st}if(et<=_e)return rt;if(et>=tt)return nt;var ot=tt===_e?0:(et-_e)/(tt-_e);if(!rt.length)return rt+(nt-rt)*ot;var at,lt=rt.length,ft=createTypedArray("float32",lt);for(at=0;at<lt;at+=1)ft[at]=rt[at]+(nt[at]-rt[at])*ot;return ft}function random(et,_e){if(_e===void 0&&(et===void 0?(et=0,_e=1):(_e=et,et=void 0)),_e.length){var tt,rt=_e.length;et||(et=createTypedArray("float32",rt));var nt=createTypedArray("float32",rt),st=BMMath.random();for(tt=0;tt<rt;tt+=1)nt[tt]=et[tt]+st*(_e[tt]-et[tt]);return nt}et===void 0&&(et=0);var ot=BMMath.random();return et+ot*(_e-et)}function createPath(et,_e,tt,rt){var nt,st=et.length,ot=shapePool.newElement();ot.setPathData(!!rt,st);var at=[0,0],lt,ft;for(nt=0;nt<st;nt+=1)lt=_e&&_e[nt]?_e[nt]:at,ft=tt&&tt[nt]?tt[nt]:at,ot.setTripleAt(et[nt][0],et[nt][1],ft[0]+et[nt][0],ft[1]+et[nt][1],lt[0]+et[nt][0],lt[1]+et[nt][1],nt,!0);return ot}function initiateExpression(elem,data,property){function noOp(et){return et}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function et(_e,tt){var rt,nt,st=this.pv.length?this.pv.length:1,ot=createTypedArray("float32",st);_e=5;var at=Math.floor(time*_e);for(rt=0,nt=0;rt<at;){for(nt=0;nt<st;nt+=1)ot[nt]+=-tt+tt*2*BMMath.random();rt+=1}var lt=time*_e,ft=lt-Math.floor(lt),dt=createTypedArray("float32",st);if(st>1){for(nt=0;nt<st;nt+=1)dt[nt]=this.pv[nt]+ot[nt]+(-tt+tt*2*BMMath.random())*ft;return dt}return this.pv+ot[0]+(-tt+tt*2*BMMath.random())*ft}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(et,_e){return loopIn(et,_e,!0)}function loopOutDuration(et,_e){return loopOut(et,_e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(et,_e){var tt=[_e[0]-et[0],_e[1]-et[1],_e[2]-et[2]],rt=Math.atan2(tt[0],Math.sqrt(tt[1]*tt[1]+tt[2]*tt[2]))/degToRads,nt=-Math.atan2(tt[1],tt[2])/degToRads;return[nt,rt,0]}function easeOut(et,_e,tt,rt,nt){return applyEase(easeOutBez,et,_e,tt,rt,nt)}function easeIn(et,_e,tt,rt,nt){return applyEase(easeInBez,et,_e,tt,rt,nt)}function ease(et,_e,tt,rt,nt){return applyEase(easeInOutBez,et,_e,tt,rt,nt)}function applyEase(et,_e,tt,rt,nt,st){nt===void 0?(nt=tt,st=rt):_e=(_e-tt)/(rt-tt),_e>1?_e=1:_e<0&&(_e=0);var ot=et(_e);if($bm_isInstanceOfArray(nt)){var at,lt=nt.length,ft=createTypedArray("float32",lt);for(at=0;at<lt;at+=1)ft[at]=(st[at]-nt[at])*ot+nt[at];return ft}return(st-nt)*ot+nt}function nearestKey(et){var _e,tt=data.k.length,rt,nt;if(!data.k.length||typeof data.k[0]=="number")rt=0,nt=0;else if(rt=-1,et*=elem.comp.globalData.frameRate,et<data.k[0].t)rt=1,nt=data.k[0].t;else{for(_e=0;_e<tt-1;_e+=1)if(et===data.k[_e].t){rt=_e+1,nt=data.k[_e].t;break}else if(et>data.k[_e].t&&et<data.k[_e+1].t){et-data.k[_e].t>data.k[_e+1].t-et?(rt=_e+2,nt=data.k[_e+1].t):(rt=_e+1,nt=data.k[_e].t);break}rt===-1&&(rt=_e+1,nt=data.k[_e].t)}var st={};return st.index=rt,st.time=nt/elem.comp.globalData.frameRate,st}function key(et){var _e,tt,rt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+et);et-=1,_e={time:data.k[et].t/elem.comp.globalData.frameRate,value:[]};var nt=Object.prototype.hasOwnProperty.call(data.k[et],"s")?data.k[et].s:data.k[et-1].e;for(rt=nt.length,tt=0;tt<rt;tt+=1)_e[tt]=nt[tt],_e.value[tt]=nt[tt];return _e}function framesToTime(et,_e){return _e||(_e=elem.comp.globalData.frameRate),et/_e}function timeToFrames(et,_e){return!et&&et!==0&&(et=time),_e||(_e=elem.comp.globalData.frameRate),et*_e}function seedRandom(et){BMMath.seedrandom(randSeed+et)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(et,_e){return typeof value=="string"?_e===void 0?value.substring(et):value.substring(et,_e):""}function substr(et,_e){return typeof value=="string"?_e===void 0?value.substr(et):value.substr(et,_e):""}function posterizeTime(et){time=et===0?0:Math.floor(time*et)/et,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(et){return value=et,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var et={};et.initExpressions=_e,et.resetFrame=ExpressionManager.resetFrame;function _e(tt){var rt=0,nt=[];function st(){rt+=1}function ot(){rt-=1,rt===0&&lt()}function at(ft){nt.indexOf(ft)===-1&&nt.push(ft)}function lt(){var ft,dt=nt.length;for(ft=0;ft<dt;ft+=1)nt[ft].release();nt.length=0}tt.renderer.compInterface=CompExpressionInterface(tt.renderer),tt.renderer.globalData.projectInterface.registerComposition(tt.renderer),tt.renderer.globalData.pushExpression=st,tt.renderer.globalData.popExpression=ot,tt.renderer.globalData.registerExpressionProperty=at}return et}(),MaskManagerInterface=function(){function et(tt,rt){this._mask=tt,this._data=rt}Object.defineProperty(et.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(et.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var _e=function(rt){var nt=createSizedArray(rt.viewData.length),st,ot=rt.viewData.length;for(st=0;st<ot;st+=1)nt[st]=new et(rt.viewData[st],rt.masksProperties[st]);var at=function(ft){for(st=0;st<ot;){if(rt.masksProperties[st].nm===ft)return nt[st];st+=1}return null};return at};return _e}(),ExpressionPropertyInterface=function(){var et={pv:0,v:0,mult:1},_e={pv:[0,0,0],v:[0,0,0],mult:1};function tt(ot,at,lt){Object.defineProperty(ot,"velocity",{get:function(){return at.getVelocityAtTime(at.comp.currentFrame)}}),ot.numKeys=at.keyframes?at.keyframes.length:0,ot.key=function(ft){if(!ot.numKeys)return 0;var dt="";"s"in at.keyframes[ft-1]?dt=at.keyframes[ft-1].s:"e"in at.keyframes[ft-2]?dt=at.keyframes[ft-2].e:dt=at.keyframes[ft-2].s;var gt=lt==="unidimensional"?new Number(dt):Object.assign({},dt);return gt.time=at.keyframes[ft-1].t/at.elem.comp.globalData.frameRate,gt.value=lt==="unidimensional"?dt[0]:dt,gt},ot.valueAtTime=at.getValueAtTime,ot.speedAtTime=at.getSpeedAtTime,ot.velocityAtTime=at.getVelocityAtTime,ot.propertyGroup=at.propertyGroup}function rt(ot){(!ot||!("pv"in ot))&&(ot=et);var at=1/ot.mult,lt=ot.pv*at,ft=new Number(lt);return ft.value=lt,tt(ft,ot,"unidimensional"),function(){return ot.k&&ot.getValue(),lt=ot.v*at,ft.value!==lt&&(ft=new Number(lt),ft.value=lt,tt(ft,ot,"unidimensional")),ft}}function nt(ot){(!ot||!("pv"in ot))&&(ot=_e);var at=1/ot.mult,lt=ot.data&&ot.data.l||ot.pv.length,ft=createTypedArray("float32",lt),dt=createTypedArray("float32",lt);return ft.value=dt,tt(ft,ot,"multidimensional"),function(){ot.k&&ot.getValue();for(var gt=0;gt<lt;gt+=1)dt[gt]=ot.v[gt]*at,ft[gt]=dt[gt];return ft}}function st(){return et}return function(ot){return ot?ot.propType==="unidimensional"?rt(ot):nt(ot):st}}(),TransformExpressionInterface=function(){return function(et){function _e(ot){switch(ot){case"scale":case"Scale":case"ADBE Scale":case 6:return _e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _e.rotation;case"ADBE Rotate X":return _e.xRotation;case"ADBE Rotate Y":return _e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _e.position;case"ADBE Position_0":return _e.xPosition;case"ADBE Position_1":return _e.yPosition;case"ADBE Position_2":return _e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _e.anchorPoint;case"opacity":case"Opacity":case 11:return _e.opacity;default:return null}}Object.defineProperty(_e,"rotation",{get:ExpressionPropertyInterface(et.r||et.rz)}),Object.defineProperty(_e,"zRotation",{get:ExpressionPropertyInterface(et.rz||et.r)}),Object.defineProperty(_e,"xRotation",{get:ExpressionPropertyInterface(et.rx)}),Object.defineProperty(_e,"yRotation",{get:ExpressionPropertyInterface(et.ry)}),Object.defineProperty(_e,"scale",{get:ExpressionPropertyInterface(et.s)});var tt,rt,nt,st;return et.p?st=ExpressionPropertyInterface(et.p):(tt=ExpressionPropertyInterface(et.px),rt=ExpressionPropertyInterface(et.py),et.pz&&(nt=ExpressionPropertyInterface(et.pz))),Object.defineProperty(_e,"position",{get:function(){return et.p?st():[tt(),rt(),nt?nt():0]}}),Object.defineProperty(_e,"xPosition",{get:ExpressionPropertyInterface(et.px)}),Object.defineProperty(_e,"yPosition",{get:ExpressionPropertyInterface(et.py)}),Object.defineProperty(_e,"zPosition",{get:ExpressionPropertyInterface(et.pz)}),Object.defineProperty(_e,"anchorPoint",{get:ExpressionPropertyInterface(et.a)}),Object.defineProperty(_e,"opacity",{get:ExpressionPropertyInterface(et.o)}),Object.defineProperty(_e,"skew",{get:ExpressionPropertyInterface(et.sk)}),Object.defineProperty(_e,"skewAxis",{get:ExpressionPropertyInterface(et.sa)}),Object.defineProperty(_e,"orientation",{get:ExpressionPropertyInterface(et.or)}),_e}}(),LayerExpressionInterface=function(){function et(ft){var dt=new Matrix;if(ft!==void 0){var gt=this._elem.finalTransform.mProp.getValueAtTime(ft);gt.clone(dt)}else{var pt=this._elem.finalTransform.mProp;pt.applyToMatrix(dt)}return dt}function _e(ft,dt){var gt=this.getMatrix(dt);return gt.props[12]=0,gt.props[13]=0,gt.props[14]=0,this.applyPoint(gt,ft)}function tt(ft,dt){var gt=this.getMatrix(dt);return this.applyPoint(gt,ft)}function rt(ft,dt){var gt=this.getMatrix(dt);return gt.props[12]=0,gt.props[13]=0,gt.props[14]=0,this.invertPoint(gt,ft)}function nt(ft,dt){var gt=this.getMatrix(dt);return this.invertPoint(gt,ft)}function st(ft,dt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var gt,pt=this._elem.hierarchy.length;for(gt=0;gt<pt;gt+=1)this._elem.hierarchy[gt].finalTransform.mProp.applyToMatrix(ft)}return ft.applyToPointArray(dt[0],dt[1],dt[2]||0)}function ot(ft,dt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var gt,pt=this._elem.hierarchy.length;for(gt=0;gt<pt;gt+=1)this._elem.hierarchy[gt].finalTransform.mProp.applyToMatrix(ft)}return ft.inversePoint(dt)}function at(ft){var dt=new Matrix;if(dt.reset(),this._elem.finalTransform.mProp.applyToMatrix(dt),this._elem.hierarchy&&this._elem.hierarchy.length){var gt,pt=this._elem.hierarchy.length;for(gt=0;gt<pt;gt+=1)this._elem.hierarchy[gt].finalTransform.mProp.applyToMatrix(dt);return dt.inversePoint(ft)}return dt.inversePoint(ft)}function lt(){return[1,1,1,1]}return function(ft){var dt;function gt(At){vt.mask=new MaskManagerInterface(At,ft)}function pt(At){vt.effect=At}function vt(At){switch(At){case"ADBE Root Vectors Group":case"Contents":case 2:return vt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return dt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return vt.effect;case"ADBE Text Properties":return vt.textInterface;default:return null}}vt.getMatrix=et,vt.invertPoint=ot,vt.applyPoint=st,vt.toWorld=tt,vt.toWorldVec=_e,vt.fromWorld=nt,vt.fromWorldVec=rt,vt.toComp=tt,vt.fromComp=at,vt.sampleImage=lt,vt.sourceRectAtTime=ft.sourceRectAtTime.bind(ft),vt._elem=ft,dt=TransformExpressionInterface(ft.finalTransform.mProp);var St=getDescriptor(dt,"anchorPoint");return Object.defineProperties(vt,{hasParent:{get:function(){return ft.hierarchy.length}},parent:{get:function(){return ft.hierarchy[0].layerInterface}},rotation:getDescriptor(dt,"rotation"),scale:getDescriptor(dt,"scale"),position:getDescriptor(dt,"position"),opacity:getDescriptor(dt,"opacity"),anchorPoint:St,anchor_point:St,transform:{get:function(){return dt}},active:{get:function(){return ft.isInRange}}}),vt.startTime=ft.data.st,vt.index=ft.data.ind,vt.source=ft.data.refId,vt.height=ft.data.ty===0?ft.data.h:100,vt.width=ft.data.ty===0?ft.data.w:100,vt.inPoint=ft.data.ip/ft.comp.globalData.frameRate,vt.outPoint=ft.data.op/ft.comp.globalData.frameRate,vt._name=ft.data.nm,vt.registerMaskInterface=gt,vt.registerEffectsInterface=pt,vt}}(),propertyGroupFactory=function(){return function(et,_e){return function(tt){return tt=tt===void 0?1:tt,tt<=0?et:_e(tt-1)}}}(),PropertyInterface=function(){return function(et,_e){var tt={_name:et};function rt(nt){return nt=nt===void 0?1:nt,nt<=0?tt:_e(nt-1)}return rt}}(),EffectsExpressionInterface=function(){var et={createEffectsInterface:_e};function _e(nt,st){if(nt.effectsManager){var ot=[],at=nt.data.ef,lt,ft=nt.effectsManager.effectElements.length;for(lt=0;lt<ft;lt+=1)ot.push(tt(at[lt],nt.effectsManager.effectElements[lt],st,nt));var dt=nt.data.ef||[],gt=function(vt){for(lt=0,ft=dt.length;lt<ft;){if(vt===dt[lt].nm||vt===dt[lt].mn||vt===dt[lt].ix)return ot[lt];lt+=1}return null};return Object.defineProperty(gt,"numProperties",{get:function(){return dt.length}}),gt}return null}function tt(nt,st,ot,at){function lt(vt){for(var St=nt.ef,At=0,Tt=St.length;At<Tt;){if(vt===St[At].nm||vt===St[At].mn||vt===St[At].ix)return St[At].ty===5?dt[At]:dt[At]();At+=1}throw new Error}var ft=propertyGroupFactory(lt,ot),dt=[],gt,pt=nt.ef.length;for(gt=0;gt<pt;gt+=1)nt.ef[gt].ty===5?dt.push(tt(nt.ef[gt],st.effectElements[gt],st.effectElements[gt].propertyGroup,at)):dt.push(rt(st.effectElements[gt],nt.ef[gt].ty,at,ft));return nt.mn==="ADBE Color Control"&&Object.defineProperty(lt,"color",{get:function(){return dt[0]()}}),Object.defineProperties(lt,{numProperties:{get:function(){return nt.np}},_name:{value:nt.nm},propertyGroup:{value:ft}}),lt.enabled=nt.en!==0,lt.active=lt.enabled,lt}function rt(nt,st,ot,at){var lt=ExpressionPropertyInterface(nt.p);function ft(){return st===10?ot.comp.compInterface(nt.p.v):lt()}return nt.p.setGroupProperty&&nt.p.setGroupProperty(PropertyInterface("",at)),ft}return et}(),ShapePathInterface=function(){return function(_e,tt,rt){var nt=tt.sh;function st(at){return at==="Shape"||at==="shape"||at==="Path"||at==="path"||at==="ADBE Vector Shape"||at===2?st.path:null}var ot=propertyGroupFactory(st,rt);return nt.setGroupProperty(PropertyInterface("Path",ot)),Object.defineProperties(st,{path:{get:function(){return nt.k&&nt.getValue(),nt}},shape:{get:function(){return nt.k&&nt.getValue(),nt}},_name:{value:_e.nm},ix:{value:_e.ix},propertyIndex:{value:_e.ix},mn:{value:_e.mn},propertyGroup:{value:rt}}),st}}(),ShapeExpressionInterface=function(){function et(St,At,Tt){var Ct=[],Mt,Et=St?St.length:0;for(Mt=0;Mt<Et;Mt+=1)St[Mt].ty==="gr"?Ct.push(tt(St[Mt],At[Mt],Tt)):St[Mt].ty==="fl"?Ct.push(rt(St[Mt],At[Mt],Tt)):St[Mt].ty==="st"?Ct.push(ot(St[Mt],At[Mt],Tt)):St[Mt].ty==="tm"?Ct.push(at(St[Mt],At[Mt],Tt)):St[Mt].ty==="tr"||(St[Mt].ty==="el"?Ct.push(ft(St[Mt],At[Mt],Tt)):St[Mt].ty==="sr"?Ct.push(dt(St[Mt],At[Mt],Tt)):St[Mt].ty==="sh"?Ct.push(ShapePathInterface(St[Mt],At[Mt],Tt)):St[Mt].ty==="rc"?Ct.push(gt(St[Mt],At[Mt],Tt)):St[Mt].ty==="rd"?Ct.push(pt(St[Mt],At[Mt],Tt)):St[Mt].ty==="rp"?Ct.push(vt(St[Mt],At[Mt],Tt)):St[Mt].ty==="gf"?Ct.push(nt(St[Mt],At[Mt],Tt)):Ct.push(st(St[Mt],At[Mt])));return Ct}function _e(St,At,Tt){var Ct,Mt=function(Bt){for(var Ft=0,Lt=Ct.length;Ft<Lt;){if(Ct[Ft]._name===Bt||Ct[Ft].mn===Bt||Ct[Ft].propertyIndex===Bt||Ct[Ft].ix===Bt||Ct[Ft].ind===Bt)return Ct[Ft];Ft+=1}return typeof Bt=="number"?Ct[Bt-1]:null};Mt.propertyGroup=propertyGroupFactory(Mt,Tt),Ct=et(St.it,At.it,Mt.propertyGroup),Mt.numProperties=Ct.length;var Et=lt(St.it[St.it.length-1],At.it[At.it.length-1],Mt.propertyGroup);return Mt.transform=Et,Mt.propertyIndex=St.cix,Mt._name=St.nm,Mt}function tt(St,At,Tt){var Ct=function(Bt){switch(Bt){case"ADBE Vectors Group":case"Contents":case 2:return Ct.content;default:return Ct.transform}};Ct.propertyGroup=propertyGroupFactory(Ct,Tt);var Mt=_e(St,At,Ct.propertyGroup),Et=lt(St.it[St.it.length-1],At.it[At.it.length-1],Ct.propertyGroup);return Ct.content=Mt,Ct.transform=Et,Object.defineProperty(Ct,"_name",{get:function(){return St.nm}}),Ct.numProperties=St.np,Ct.propertyIndex=St.ix,Ct.nm=St.nm,Ct.mn=St.mn,Ct}function rt(St,At,Tt){function Ct(Mt){return Mt==="Color"||Mt==="color"?Ct.color:Mt==="Opacity"||Mt==="opacity"?Ct.opacity:null}return Object.defineProperties(Ct,{color:{get:ExpressionPropertyInterface(At.c)},opacity:{get:ExpressionPropertyInterface(At.o)},_name:{value:St.nm},mn:{value:St.mn}}),At.c.setGroupProperty(PropertyInterface("Color",Tt)),At.o.setGroupProperty(PropertyInterface("Opacity",Tt)),Ct}function nt(St,At,Tt){function Ct(Mt){return Mt==="Start Point"||Mt==="start point"?Ct.startPoint:Mt==="End Point"||Mt==="end point"?Ct.endPoint:Mt==="Opacity"||Mt==="opacity"?Ct.opacity:null}return Object.defineProperties(Ct,{startPoint:{get:ExpressionPropertyInterface(At.s)},endPoint:{get:ExpressionPropertyInterface(At.e)},opacity:{get:ExpressionPropertyInterface(At.o)},type:{get:function(){return"a"}},_name:{value:St.nm},mn:{value:St.mn}}),At.s.setGroupProperty(PropertyInterface("Start Point",Tt)),At.e.setGroupProperty(PropertyInterface("End Point",Tt)),At.o.setGroupProperty(PropertyInterface("Opacity",Tt)),Ct}function st(){function St(){return null}return St}function ot(St,At,Tt){var Ct=propertyGroupFactory(Lt,Tt),Mt=propertyGroupFactory(Ft,Ct);function Et(wt){Object.defineProperty(Ft,St.d[wt].nm,{get:ExpressionPropertyInterface(At.d.dataProps[wt].p)})}var Rt,Bt=St.d?St.d.length:0,Ft={};for(Rt=0;Rt<Bt;Rt+=1)Et(Rt),At.d.dataProps[Rt].p.setGroupProperty(Mt);function Lt(wt){return wt==="Color"||wt==="color"?Lt.color:wt==="Opacity"||wt==="opacity"?Lt.opacity:wt==="Stroke Width"||wt==="stroke width"?Lt.strokeWidth:null}return Object.defineProperties(Lt,{color:{get:ExpressionPropertyInterface(At.c)},opacity:{get:ExpressionPropertyInterface(At.o)},strokeWidth:{get:ExpressionPropertyInterface(At.w)},dash:{get:function(){return Ft}},_name:{value:St.nm},mn:{value:St.mn}}),At.c.setGroupProperty(PropertyInterface("Color",Ct)),At.o.setGroupProperty(PropertyInterface("Opacity",Ct)),At.w.setGroupProperty(PropertyInterface("Stroke Width",Ct)),Lt}function at(St,At,Tt){function Ct(Et){return Et===St.e.ix||Et==="End"||Et==="end"?Ct.end:Et===St.s.ix?Ct.start:Et===St.o.ix?Ct.offset:null}var Mt=propertyGroupFactory(Ct,Tt);return Ct.propertyIndex=St.ix,At.s.setGroupProperty(PropertyInterface("Start",Mt)),At.e.setGroupProperty(PropertyInterface("End",Mt)),At.o.setGroupProperty(PropertyInterface("Offset",Mt)),Ct.propertyIndex=St.ix,Ct.propertyGroup=Tt,Object.defineProperties(Ct,{start:{get:ExpressionPropertyInterface(At.s)},end:{get:ExpressionPropertyInterface(At.e)},offset:{get:ExpressionPropertyInterface(At.o)},_name:{value:St.nm}}),Ct.mn=St.mn,Ct}function lt(St,At,Tt){function Ct(Et){return St.a.ix===Et||Et==="Anchor Point"?Ct.anchorPoint:St.o.ix===Et||Et==="Opacity"?Ct.opacity:St.p.ix===Et||Et==="Position"?Ct.position:St.r.ix===Et||Et==="Rotation"||Et==="ADBE Vector Rotation"?Ct.rotation:St.s.ix===Et||Et==="Scale"?Ct.scale:St.sk&&St.sk.ix===Et||Et==="Skew"?Ct.skew:St.sa&&St.sa.ix===Et||Et==="Skew Axis"?Ct.skewAxis:null}var Mt=propertyGroupFactory(Ct,Tt);return At.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Mt)),At.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Mt)),At.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Mt)),At.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Mt)),At.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Mt)),At.transform.mProps.sk&&(At.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Mt)),At.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Mt))),At.transform.op.setGroupProperty(PropertyInterface("Opacity",Mt)),Object.defineProperties(Ct,{opacity:{get:ExpressionPropertyInterface(At.transform.mProps.o)},position:{get:ExpressionPropertyInterface(At.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(At.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(At.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(At.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(At.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(At.transform.mProps.sa)},_name:{value:St.nm}}),Ct.ty="tr",Ct.mn=St.mn,Ct.propertyGroup=Tt,Ct}function ft(St,At,Tt){function Ct(Rt){return St.p.ix===Rt?Ct.position:St.s.ix===Rt?Ct.size:null}var Mt=propertyGroupFactory(Ct,Tt);Ct.propertyIndex=St.ix;var Et=At.sh.ty==="tm"?At.sh.prop:At.sh;return Et.s.setGroupProperty(PropertyInterface("Size",Mt)),Et.p.setGroupProperty(PropertyInterface("Position",Mt)),Object.defineProperties(Ct,{size:{get:ExpressionPropertyInterface(Et.s)},position:{get:ExpressionPropertyInterface(Et.p)},_name:{value:St.nm}}),Ct.mn=St.mn,Ct}function dt(St,At,Tt){function Ct(Rt){return St.p.ix===Rt?Ct.position:St.r.ix===Rt?Ct.rotation:St.pt.ix===Rt?Ct.points:St.or.ix===Rt||Rt==="ADBE Vector Star Outer Radius"?Ct.outerRadius:St.os.ix===Rt?Ct.outerRoundness:St.ir&&(St.ir.ix===Rt||Rt==="ADBE Vector Star Inner Radius")?Ct.innerRadius:St.is&&St.is.ix===Rt?Ct.innerRoundness:null}var Mt=propertyGroupFactory(Ct,Tt),Et=At.sh.ty==="tm"?At.sh.prop:At.sh;return Ct.propertyIndex=St.ix,Et.or.setGroupProperty(PropertyInterface("Outer Radius",Mt)),Et.os.setGroupProperty(PropertyInterface("Outer Roundness",Mt)),Et.pt.setGroupProperty(PropertyInterface("Points",Mt)),Et.p.setGroupProperty(PropertyInterface("Position",Mt)),Et.r.setGroupProperty(PropertyInterface("Rotation",Mt)),St.ir&&(Et.ir.setGroupProperty(PropertyInterface("Inner Radius",Mt)),Et.is.setGroupProperty(PropertyInterface("Inner Roundness",Mt))),Object.defineProperties(Ct,{position:{get:ExpressionPropertyInterface(Et.p)},rotation:{get:ExpressionPropertyInterface(Et.r)},points:{get:ExpressionPropertyInterface(Et.pt)},outerRadius:{get:ExpressionPropertyInterface(Et.or)},outerRoundness:{get:ExpressionPropertyInterface(Et.os)},innerRadius:{get:ExpressionPropertyInterface(Et.ir)},innerRoundness:{get:ExpressionPropertyInterface(Et.is)},_name:{value:St.nm}}),Ct.mn=St.mn,Ct}function gt(St,At,Tt){function Ct(Rt){return St.p.ix===Rt?Ct.position:St.r.ix===Rt?Ct.roundness:St.s.ix===Rt||Rt==="Size"||Rt==="ADBE Vector Rect Size"?Ct.size:null}var Mt=propertyGroupFactory(Ct,Tt),Et=At.sh.ty==="tm"?At.sh.prop:At.sh;return Ct.propertyIndex=St.ix,Et.p.setGroupProperty(PropertyInterface("Position",Mt)),Et.s.setGroupProperty(PropertyInterface("Size",Mt)),Et.r.setGroupProperty(PropertyInterface("Rotation",Mt)),Object.defineProperties(Ct,{position:{get:ExpressionPropertyInterface(Et.p)},roundness:{get:ExpressionPropertyInterface(Et.r)},size:{get:ExpressionPropertyInterface(Et.s)},_name:{value:St.nm}}),Ct.mn=St.mn,Ct}function pt(St,At,Tt){function Ct(Rt){return St.r.ix===Rt||Rt==="Round Corners 1"?Ct.radius:null}var Mt=propertyGroupFactory(Ct,Tt),Et=At;return Ct.propertyIndex=St.ix,Et.rd.setGroupProperty(PropertyInterface("Radius",Mt)),Object.defineProperties(Ct,{radius:{get:ExpressionPropertyInterface(Et.rd)},_name:{value:St.nm}}),Ct.mn=St.mn,Ct}function vt(St,At,Tt){function Ct(Rt){return St.c.ix===Rt||Rt==="Copies"?Ct.copies:St.o.ix===Rt||Rt==="Offset"?Ct.offset:null}var Mt=propertyGroupFactory(Ct,Tt),Et=At;return Ct.propertyIndex=St.ix,Et.c.setGroupProperty(PropertyInterface("Copies",Mt)),Et.o.setGroupProperty(PropertyInterface("Offset",Mt)),Object.defineProperties(Ct,{copies:{get:ExpressionPropertyInterface(Et.c)},offset:{get:ExpressionPropertyInterface(Et.o)},_name:{value:St.nm}}),Ct.mn=St.mn,Ct}return function(St,At,Tt){var Ct;function Mt(Rt){if(typeof Rt=="number")return Rt=Rt===void 0?1:Rt,Rt===0?Tt:Ct[Rt-1];for(var Bt=0,Ft=Ct.length;Bt<Ft;){if(Ct[Bt]._name===Rt)return Ct[Bt];Bt+=1}return null}function Et(){return Tt}return Mt.propertyGroup=propertyGroupFactory(Mt,Et),Ct=et(St,At,Mt.propertyGroup),Mt.numProperties=Ct.length,Mt._name="Contents",Mt}}(),TextExpressionInterface=function(){return function(et){var _e;function tt(rt){switch(rt){case"ADBE Text Document":return tt.sourceText;default:return null}}return Object.defineProperty(tt,"sourceText",{get:function(){et.textProperty.getValue();var nt=et.textProperty.currentData.t;return(!_e||nt!==_e.value)&&(_e=new String(nt),_e.value=nt||new String(nt),Object.defineProperty(_e,"style",{get:function(){return{fillColor:et.textProperty.currentData.fc}}})),_e}}),tt}}();function _typeof(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(tt){return typeof tt}:_typeof=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(et)}var FootageInterface=function(){var et=function(rt){var nt="",st=rt.getFootageData();function ot(){return nt="",st=rt.getFootageData(),at}function at(lt){if(st[lt])return nt=lt,st=st[lt],_typeof(st)==="object"?at:st;var ft=lt.indexOf(nt);if(ft!==-1){var dt=parseInt(lt.substr(ft+nt.length),10);return st=st[dt],_typeof(st)==="object"?at:st}return""}return ot},_e=function(rt){function nt(st){return st==="Outline"?nt.outlineInterface():null}return nt._name="Outline",nt.outlineInterface=et(rt),nt};return function(tt){function rt(nt){return nt==="Data"?rt.dataInterface:null}return rt._name="Data",rt.dataInterface=_e(tt),rt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(et){return interfaces[et]||null}var expressionHelpers=function(){function et(ot,at,lt){at.x&&(lt.k=!0,lt.x=!0,lt.initiateExpression=ExpressionManager.initiateExpression,lt.effectsSequence.push(lt.initiateExpression(ot,at,lt).bind(lt)))}function _e(ot){return ot*=this.elem.globalData.frameRate,ot-=this.offsetTime,ot!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ot?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ot,this._cachingAtTime),this._cachingAtTime.lastFrame=ot),this._cachingAtTime.value}function tt(ot){var at=-.01,lt=this.getValueAtTime(ot),ft=this.getValueAtTime(ot+at),dt=0;if(lt.length){var gt;for(gt=0;gt<lt.length;gt+=1)dt+=Math.pow(ft[gt]-lt[gt],2);dt=Math.sqrt(dt)*100}else dt=0;return dt}function rt(ot){if(this.vel!==void 0)return this.vel;var at=-.001,lt=this.getValueAtTime(ot),ft=this.getValueAtTime(ot+at),dt;if(lt.length){dt=createTypedArray("float32",lt.length);var gt;for(gt=0;gt<lt.length;gt+=1)dt[gt]=(ft[gt]-lt[gt])/at}else dt=(ft-lt)/at;return dt}function nt(){return this.pv}function st(ot){this.propertyGroup=ot}return{searchExpressions:et,getSpeedAtTime:tt,getVelocityAtTime:rt,getValueAtTime:_e,getStaticValueAtTime:nt,setGroupProperty:st}}();function addPropertyDecorator(){function et(pt,vt,St){if(!this.k||!this.keyframes)return this.pv;pt=pt?pt.toLowerCase():"";var At=this.comp.renderedFrame,Tt=this.keyframes,Ct=Tt[Tt.length-1].t;if(At<=Ct)return this.pv;var Mt,Et;St?(vt?Mt=Math.abs(Ct-this.elem.comp.globalData.frameRate*vt):Mt=Math.max(0,Ct-this.elem.data.ip),Et=Ct-Mt):((!vt||vt>Tt.length-1)&&(vt=Tt.length-1),Et=Tt[Tt.length-1-vt].t,Mt=Ct-Et);var Rt,Bt,Ft;if(pt==="pingpong"){var Lt=Math.floor((At-Et)/Mt);if(Lt%2!==0)return this.getValueAtTime((Mt-(At-Et)%Mt+Et)/this.comp.globalData.frameRate,0)}else if(pt==="offset"){var wt=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime(Ct/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime(((At-Et)%Mt+Et)/this.comp.globalData.frameRate,0),Ut=Math.floor((At-Et)/Mt);if(this.pv.length){for(Ft=new Array(wt.length),Bt=Ft.length,Rt=0;Rt<Bt;Rt+=1)Ft[Rt]=(Dt[Rt]-wt[Rt])*Ut+Ot[Rt];return Ft}return(Dt-wt)*Ut+Ot}else if(pt==="continue"){var zt=this.getValueAtTime(Ct/this.comp.globalData.frameRate,0),tr=this.getValueAtTime((Ct-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ft=new Array(zt.length),Bt=Ft.length,Rt=0;Rt<Bt;Rt+=1)Ft[Rt]=zt[Rt]+(zt[Rt]-tr[Rt])*((At-Ct)/this.comp.globalData.frameRate)/5e-4;return Ft}return zt+(zt-tr)*((At-Ct)/.001)}return this.getValueAtTime(((At-Et)%Mt+Et)/this.comp.globalData.frameRate,0)}function _e(pt,vt,St){if(!this.k)return this.pv;pt=pt?pt.toLowerCase():"";var At=this.comp.renderedFrame,Tt=this.keyframes,Ct=Tt[0].t;if(At>=Ct)return this.pv;var Mt,Et;St?(vt?Mt=Math.abs(this.elem.comp.globalData.frameRate*vt):Mt=Math.max(0,this.elem.data.op-Ct),Et=Ct+Mt):((!vt||vt>Tt.length-1)&&(vt=Tt.length-1),Et=Tt[vt].t,Mt=Et-Ct);var Rt,Bt,Ft;if(pt==="pingpong"){var Lt=Math.floor((Ct-At)/Mt);if(Lt%2===0)return this.getValueAtTime(((Ct-At)%Mt+Ct)/this.comp.globalData.frameRate,0)}else if(pt==="offset"){var wt=this.getValueAtTime(Ct/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime((Mt-(Ct-At)%Mt+Ct)/this.comp.globalData.frameRate,0),Ut=Math.floor((Ct-At)/Mt)+1;if(this.pv.length){for(Ft=new Array(wt.length),Bt=Ft.length,Rt=0;Rt<Bt;Rt+=1)Ft[Rt]=Ot[Rt]-(Dt[Rt]-wt[Rt])*Ut;return Ft}return Ot-(Dt-wt)*Ut}else if(pt==="continue"){var zt=this.getValueAtTime(Ct/this.comp.globalData.frameRate,0),tr=this.getValueAtTime((Ct+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ft=new Array(zt.length),Bt=Ft.length,Rt=0;Rt<Bt;Rt+=1)Ft[Rt]=zt[Rt]+(zt[Rt]-tr[Rt])*(Ct-At)/.001;return Ft}return zt+(zt-tr)*(Ct-At)/.001}return this.getValueAtTime((Mt-((Ct-At)%Mt+Ct))/this.comp.globalData.frameRate,0)}function tt(pt,vt){if(!this.k)return this.pv;if(pt=(pt||.4)*.5,vt=Math.floor(vt||5),vt<=1)return this.pv;var St=this.comp.renderedFrame/this.comp.globalData.frameRate,At=St-pt,Tt=St+pt,Ct=vt>1?(Tt-At)/(vt-1):1,Mt=0,Et=0,Rt;this.pv.length?Rt=createTypedArray("float32",this.pv.length):Rt=0;for(var Bt;Mt<vt;){if(Bt=this.getValueAtTime(At+Mt*Ct),this.pv.length)for(Et=0;Et<this.pv.length;Et+=1)Rt[Et]+=Bt[Et];else Rt+=Bt;Mt+=1}if(this.pv.length)for(Et=0;Et<this.pv.length;Et+=1)Rt[Et]/=vt;else Rt/=vt;return Rt}function rt(pt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var vt=this._transformCachingAtTime.v;if(vt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var St=this.a.getValueAtTime(pt);vt.translate(-St[0]*this.a.mult,-St[1]*this.a.mult,St[2]*this.a.mult)}if(this.appliedTransformations<2){var At=this.s.getValueAtTime(pt);vt.scale(At[0]*this.s.mult,At[1]*this.s.mult,At[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Tt=this.sk.getValueAtTime(pt),Ct=this.sa.getValueAtTime(pt);vt.skewFromAxis(-Tt*this.sk.mult,Ct*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Mt=this.r.getValueAtTime(pt);vt.rotate(-Mt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Et=this.rz.getValueAtTime(pt),Rt=this.ry.getValueAtTime(pt),Bt=this.rx.getValueAtTime(pt),Ft=this.or.getValueAtTime(pt);vt.rotateZ(-Et*this.rz.mult).rotateY(Rt*this.ry.mult).rotateX(Bt*this.rx.mult).rotateZ(-Ft[2]*this.or.mult).rotateY(Ft[1]*this.or.mult).rotateX(Ft[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Lt=this.px.getValueAtTime(pt),wt=this.py.getValueAtTime(pt);if(this.data.p.z){var Dt=this.pz.getValueAtTime(pt);vt.translate(Lt*this.px.mult,wt*this.py.mult,-Dt*this.pz.mult)}else vt.translate(Lt*this.px.mult,wt*this.py.mult,0)}else{var Ot=this.p.getValueAtTime(pt);vt.translate(Ot[0]*this.p.mult,Ot[1]*this.p.mult,-Ot[2]*this.p.mult)}return vt}function nt(){return this.v.clone(new Matrix)}var st=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(pt,vt,St){var At=st(pt,vt,St);return At.dynamicProperties.length?At.getValueAtTime=rt.bind(At):At.getValueAtTime=nt.bind(At),At.setGroupProperty=expressionHelpers.setGroupProperty,At};var ot=PropertyFactory.getProp;PropertyFactory.getProp=function(pt,vt,St,At,Tt){var Ct=ot(pt,vt,St,At,Tt);Ct.kf?Ct.getValueAtTime=expressionHelpers.getValueAtTime.bind(Ct):Ct.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Ct),Ct.setGroupProperty=expressionHelpers.setGroupProperty,Ct.loopOut=et,Ct.loopIn=_e,Ct.smooth=tt,Ct.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Ct),Ct.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Ct),Ct.numKeys=vt.a===1?vt.k.length:0,Ct.propertyIndex=vt.ix;var Mt=0;return St!==0&&(Mt=createTypedArray("float32",vt.a===1?vt.k[0].s.length:vt.k.length)),Ct._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Mt},expressionHelpers.searchExpressions(pt,vt,Ct),Ct.k&&Tt.addDynamicProperty(Ct),Ct};function at(pt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),pt*=this.elem.globalData.frameRate,pt-=this.offsetTime,pt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<pt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=pt,this.interpolateShape(pt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var lt=ShapePropertyFactory.getConstructorFunction(),ft=ShapePropertyFactory.getKeyframedConstructorFunction();function dt(){}dt.prototype={vertices:function(vt,St){this.k&&this.getValue();var At=this.v;St!==void 0&&(At=this.getValueAtTime(St,0));var Tt,Ct=At._length,Mt=At[vt],Et=At.v,Rt=createSizedArray(Ct);for(Tt=0;Tt<Ct;Tt+=1)vt==="i"||vt==="o"?Rt[Tt]=[Mt[Tt][0]-Et[Tt][0],Mt[Tt][1]-Et[Tt][1]]:Rt[Tt]=[Mt[Tt][0],Mt[Tt][1]];return Rt},points:function(vt){return this.vertices("v",vt)},inTangents:function(vt){return this.vertices("i",vt)},outTangents:function(vt){return this.vertices("o",vt)},isClosed:function(){return this.v.c},pointOnPath:function(vt,St){var At=this.v;St!==void 0&&(At=this.getValueAtTime(St,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(At));for(var Tt=this._segmentsLength,Ct=Tt.lengths,Mt=Tt.totalLength*vt,Et=0,Rt=Ct.length,Bt=0,Ft;Et<Rt;){if(Bt+Ct[Et].addedLength>Mt){var Lt=Et,wt=At.c&&Et===Rt-1?0:Et+1,Dt=(Mt-Bt)/Ct[Et].addedLength;Ft=bez.getPointInSegment(At.v[Lt],At.v[wt],At.o[Lt],At.i[wt],Dt,Ct[Et]);break}else Bt+=Ct[Et].addedLength;Et+=1}return Ft||(Ft=At.c?[At.v[0][0],At.v[0][1]]:[At.v[At._length-1][0],At.v[At._length-1][1]]),Ft},vectorOnPath:function(vt,St,At){vt==1?vt=this.v.c:vt==0&&(vt=.999);var Tt=this.pointOnPath(vt,St),Ct=this.pointOnPath(vt+.001,St),Mt=Ct[0]-Tt[0],Et=Ct[1]-Tt[1],Rt=Math.sqrt(Math.pow(Mt,2)+Math.pow(Et,2));if(Rt===0)return[0,0];var Bt=At==="tangent"?[Mt/Rt,Et/Rt]:[-Et/Rt,Mt/Rt];return Bt},tangentOnPath:function(vt,St){return this.vectorOnPath(vt,St,"tangent")},normalOnPath:function(vt,St){return this.vectorOnPath(vt,St,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([dt],lt),extendPrototype([dt],ft),ft.prototype.getValueAtTime=at,ft.prototype.initiateExpression=ExpressionManager.initiateExpression;var gt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(pt,vt,St,At,Tt){var Ct=gt(pt,vt,St,At,Tt);return Ct.propertyIndex=vt.ix,Ct.lock=!1,St===3?expressionHelpers.searchExpressions(pt,vt.pt,Ct):St===4&&expressionHelpers.searchExpressions(pt,vt.ks,Ct),Ct.k&&pt.addDynamicProperty(Ct),Ct}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function et(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(_e,tt){var rt=this.calculateExpression(tt);if(_e.t!==rt){var nt={};return this.copyData(nt,_e),nt.t=rt.toString(),nt.__complete=!1,nt}return _e},TextProperty.prototype.searchProperty=function(){var _e=this.searchKeyframes(),tt=this.searchExpressions();return this.kf=_e||tt,this.kf},TextProperty.prototype.searchExpressions=et}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function et(_e,tt){var rt=createNS("feMerge");rt.setAttribute("result",_e);var nt,st;for(st=0;st<tt.length;st+=1)nt=createNS("feMergeNode"),nt.setAttribute("in",tt[st]),rt.appendChild(nt),rt.appendChild(nt);return rt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(et,_e,tt,rt,nt){this.filterManager=_e;var st=createNS("feColorMatrix");st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","linearRGB"),st.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=st,st.setAttribute("result",rt+"_tint_1"),et.appendChild(st),st=createNS("feColorMatrix"),st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),st.setAttribute("result",rt+"_tint_2"),et.appendChild(st),this.matrixFilter=st;var ot=this.createMergeNode(rt,[nt,rt+"_tint_1",rt+"_tint_2"]);et.appendChild(ot)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+rt+" 0"),this.matrixFilter.setAttribute("values",tt[0]-_e[0]+" 0 0 0 "+_e[0]+" "+(tt[1]-_e[1])+" 0 0 0 "+_e[1]+" "+(tt[2]-_e[2])+" 0 0 0 "+_e[2]+" 0 0 0 1 0")}};function SVGFillFilter(et,_e,tt,rt){this.filterManager=_e;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),nt.setAttribute("result",rt),et.appendChild(nt),this.matrixFilter=nt}SVGFillFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=this.filterManager.effectElements[2].p.v,tt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+_e[0]+" 0 0 0 0 "+_e[1]+" 0 0 0 0 "+_e[2]+" 0 0 0 "+tt+" 0")}};function SVGStrokeEffect(et,_e,tt){this.initialized=!1,this.filterManager=_e,this.elem=tt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var et=this.elem.layerElement.children||this.elem.layerElement.childNodes,_e,tt,rt,nt;for(this.filterManager.effectElements[1].p.v===1?(nt=this.elem.maskManager.masksProperties.length,rt=0):(rt=this.filterManager.effectElements[0].p.v-1,nt=rt+1),tt=createNS("g"),tt.setAttribute("fill","none"),tt.setAttribute("stroke-linecap","round"),tt.setAttribute("stroke-dashoffset",1),rt;rt<nt;rt+=1)_e=createNS("path"),tt.appendChild(_e),this.paths.push({p:_e,m:rt});if(this.filterManager.effectElements[10].p.v===3){var st=createNS("mask"),ot=createElementID();st.setAttribute("id",ot),st.setAttribute("mask-type","alpha"),st.appendChild(tt),this.elem.globalData.defs.appendChild(st);var at=createNS("g");for(at.setAttribute("mask","url("+getLocationHref()+"#"+ot+")");et[0];)at.appendChild(et[0]);this.elem.layerElement.appendChild(at),this.masker=st,tt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(et=this.elem.layerElement.children||this.elem.layerElement.childNodes;et.length;)this.elem.layerElement.removeChild(et[0]);this.elem.layerElement.appendChild(tt),this.elem.layerElement.removeAttribute("mask"),tt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=tt},SVGStrokeEffect.prototype.renderFrame=function(et){this.initialized||this.initialize();var _e,tt=this.paths.length,rt,nt;for(_e=0;_e<tt;_e+=1)if(this.paths[_e].m!==-1&&(rt=this.elem.maskManager.viewData[this.paths[_e].m],nt=this.paths[_e].p,(et||this.filterManager._mdf||rt.prop._mdf)&&nt.setAttribute("d",rt.lastPath),et||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||rt.prop._mdf)){var st;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ot=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,at=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,lt=nt.getTotalLength();st="0 0 0 "+lt*ot+" ";var ft=lt*(at-ot),dt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,gt=Math.floor(ft/dt),pt;for(pt=0;pt<gt;pt+=1)st+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";st+="0 "+lt*10+" 0 0"}else st="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;nt.setAttribute("stroke-dasharray",st)}if((et||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(et||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(et||this.filterManager.effectElements[3].p._mdf)){var vt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(vt[0]*255)+","+bmFloor(vt[1]*255)+","+bmFloor(vt[2]*255)+")")}};function SVGTritoneFilter(et,_e,tt,rt){this.filterManager=_e;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","linearRGB"),nt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.appendChild(nt);var st=createNS("feComponentTransfer");st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),this.matrixFilter=st;var ot=createNS("feFuncR");ot.setAttribute("type","table"),st.appendChild(ot),this.feFuncR=ot;var at=createNS("feFuncG");at.setAttribute("type","table"),st.appendChild(at),this.feFuncG=at;var lt=createNS("feFuncB");lt.setAttribute("type","table"),st.appendChild(lt),this.feFuncB=lt,et.appendChild(st)}SVGTritoneFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,tt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v,nt=rt[0]+" "+tt[0]+" "+_e[0],st=rt[1]+" "+tt[1]+" "+_e[1],ot=rt[2]+" "+tt[2]+" "+_e[2];this.feFuncR.setAttribute("tableValues",nt),this.feFuncG.setAttribute("tableValues",st),this.feFuncB.setAttribute("tableValues",ot)}};function SVGProLevelsFilter(et,_e,tt,rt){this.filterManager=_e;var nt=this.filterManager.effectElements,st=createNS("feComponentTransfer");(nt[10].p.k||nt[10].p.v!==0||nt[11].p.k||nt[11].p.v!==1||nt[12].p.k||nt[12].p.v!==1||nt[13].p.k||nt[13].p.v!==0||nt[14].p.k||nt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",st)),(nt[17].p.k||nt[17].p.v!==0||nt[18].p.k||nt[18].p.v!==1||nt[19].p.k||nt[19].p.v!==1||nt[20].p.k||nt[20].p.v!==0||nt[21].p.k||nt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",st)),(nt[24].p.k||nt[24].p.v!==0||nt[25].p.k||nt[25].p.v!==1||nt[26].p.k||nt[26].p.v!==1||nt[27].p.k||nt[27].p.v!==0||nt[28].p.k||nt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",st)),(nt[31].p.k||nt[31].p.v!==0||nt[32].p.k||nt[32].p.v!==1||nt[33].p.k||nt[33].p.v!==1||nt[34].p.k||nt[34].p.v!==0||nt[35].p.k||nt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",st)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(st.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(st)),(nt[3].p.k||nt[3].p.v!==0||nt[4].p.k||nt[4].p.v!==1||nt[5].p.k||nt[5].p.v!==1||nt[6].p.k||nt[6].p.v!==0||nt[7].p.k||nt[7].p.v!==1)&&(st=createNS("feComponentTransfer"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),et.appendChild(st),this.feFuncRComposed=this.createFeFunc("feFuncR",st),this.feFuncGComposed=this.createFeFunc("feFuncG",st),this.feFuncBComposed=this.createFeFunc("feFuncB",st))}SVGProLevelsFilter.prototype.createFeFunc=function(et,_e){var tt=createNS(et);return tt.setAttribute("type","table"),_e.appendChild(tt),tt},SVGProLevelsFilter.prototype.getTableValue=function(et,_e,tt,rt,nt){for(var st=0,ot=256,at,lt=Math.min(et,_e),ft=Math.max(et,_e),dt=Array.call(null,{length:ot}),gt,pt=0,vt=nt-rt,St=_e-et;st<=256;)at=st/256,at<=lt?gt=St<0?nt:rt:at>=ft?gt=St<0?rt:nt:gt=rt+vt*Math.pow((at-et)/St,1/tt),dt[pt]=gt,pt+=1,st+=256/(ot-1);return dt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e,tt=this.filterManager.effectElements;this.feFuncRComposed&&(et||tt[3].p._mdf||tt[4].p._mdf||tt[5].p._mdf||tt[6].p._mdf||tt[7].p._mdf)&&(_e=this.getTableValue(tt[3].p.v,tt[4].p.v,tt[5].p.v,tt[6].p.v,tt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",_e),this.feFuncGComposed.setAttribute("tableValues",_e),this.feFuncBComposed.setAttribute("tableValues",_e)),this.feFuncR&&(et||tt[10].p._mdf||tt[11].p._mdf||tt[12].p._mdf||tt[13].p._mdf||tt[14].p._mdf)&&(_e=this.getTableValue(tt[10].p.v,tt[11].p.v,tt[12].p.v,tt[13].p.v,tt[14].p.v),this.feFuncR.setAttribute("tableValues",_e)),this.feFuncG&&(et||tt[17].p._mdf||tt[18].p._mdf||tt[19].p._mdf||tt[20].p._mdf||tt[21].p._mdf)&&(_e=this.getTableValue(tt[17].p.v,tt[18].p.v,tt[19].p.v,tt[20].p.v,tt[21].p.v),this.feFuncG.setAttribute("tableValues",_e)),this.feFuncB&&(et||tt[24].p._mdf||tt[25].p._mdf||tt[26].p._mdf||tt[27].p._mdf||tt[28].p._mdf)&&(_e=this.getTableValue(tt[24].p.v,tt[25].p.v,tt[26].p.v,tt[27].p.v,tt[28].p.v),this.feFuncB.setAttribute("tableValues",_e)),this.feFuncA&&(et||tt[31].p._mdf||tt[32].p._mdf||tt[33].p._mdf||tt[34].p._mdf||tt[35].p._mdf)&&(_e=this.getTableValue(tt[31].p.v,tt[32].p.v,tt[33].p.v,tt[34].p.v,tt[35].p.v),this.feFuncA.setAttribute("tableValues",_e))}};function SVGDropShadowEffect(et,_e,tt,rt,nt){var st=_e.container.globalData.renderConfig.filterSize,ot=_e.data.fs||st;et.setAttribute("x",ot.x||st.x),et.setAttribute("y",ot.y||st.y),et.setAttribute("width",ot.width||st.width),et.setAttribute("height",ot.height||st.height),this.filterManager=_e;var at=createNS("feGaussianBlur");at.setAttribute("in","SourceAlpha"),at.setAttribute("result",rt+"_drop_shadow_1"),at.setAttribute("stdDeviation","0"),this.feGaussianBlur=at,et.appendChild(at);var lt=createNS("feOffset");lt.setAttribute("dx","25"),lt.setAttribute("dy","0"),lt.setAttribute("in",rt+"_drop_shadow_1"),lt.setAttribute("result",rt+"_drop_shadow_2"),this.feOffset=lt,et.appendChild(lt);var ft=createNS("feFlood");ft.setAttribute("flood-color","#00ff00"),ft.setAttribute("flood-opacity","1"),ft.setAttribute("result",rt+"_drop_shadow_3"),this.feFlood=ft,et.appendChild(ft);var dt=createNS("feComposite");dt.setAttribute("in",rt+"_drop_shadow_3"),dt.setAttribute("in2",rt+"_drop_shadow_2"),dt.setAttribute("operator","in"),dt.setAttribute("result",rt+"_drop_shadow_4"),et.appendChild(dt);var gt=this.createMergeNode(rt,[rt+"_drop_shadow_4",nt]);et.appendChild(gt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){if((et||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),et||this.filterManager.effectElements[0].p._mdf){var _e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(_e[0]*255),Math.round(_e[1]*255),Math.round(_e[2]*255)))}if((et||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),et||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var tt=this.filterManager.effectElements[3].p.v,rt=(this.filterManager.effectElements[2].p.v-90)*degToRads,nt=tt*Math.cos(rt),st=tt*Math.sin(rt);this.feOffset.setAttribute("dx",nt),this.feOffset.setAttribute("dy",st)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(et,_e,tt){this.initialized=!1,this.filterManager=_e,this.filterElem=et,this.elem=tt,tt.matteElement=createNS("g"),tt.matteElement.appendChild(tt.layerElement),tt.matteElement.appendChild(tt.transformedElement),tt.baseElement=tt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(et){for(var _e=0,tt=_svgMatteSymbols.length;_e<tt;){if(_svgMatteSymbols[_e]===et)return _svgMatteSymbols[_e];_e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(et,_e){var tt=et.layerElement.parentNode;if(tt){for(var rt=tt.children,nt=0,st=rt.length;nt<st&&rt[nt]!==et.layerElement;)nt+=1;var ot;nt<=st-2&&(ot=rt[nt+1]);var at=createNS("use");at.setAttribute("href","#"+_e),ot?tt.insertBefore(at,ot):tt.appendChild(at)}},SVGMatte3Effect.prototype.setElementAsMask=function(et,_e){if(!this.findSymbol(_e)){var tt=createElementID(),rt=createNS("mask");rt.setAttribute("id",_e.layerId),rt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(_e);var nt=et.globalData.defs;nt.appendChild(rt);var st=createNS("symbol");st.setAttribute("id",tt),this.replaceInParent(_e,tt),st.appendChild(_e.layerElement),nt.appendChild(st);var ot=createNS("use");ot.setAttribute("href","#"+tt),rt.appendChild(ot),_e.data.hd=!1,_e.show()}et.setMatte(_e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var et=this.filterManager.effectElements[0].p.v,_e=this.elem.comp.elements,tt=0,rt=_e.length;tt<rt;)_e[tt]&&_e[tt].data.ind===et&&this.setElementAsMask(this.elem,_e[tt]),tt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(et,_e,tt,rt){et.setAttribute("x","-100%"),et.setAttribute("y","-100%"),et.setAttribute("width","300%"),et.setAttribute("height","300%"),this.filterManager=_e;var nt=createNS("feGaussianBlur");nt.setAttribute("result",rt),et.appendChild(nt),this.feGaussianBlur=nt}SVGGaussianBlurEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var _e=.3,tt=this.filterManager.effectElements[0].p.v*_e,rt=this.filterManager.effectElements[1].p.v,nt=rt==3?0:tt,st=rt==2?0:tt;this.feGaussianBlur.setAttribute("stdDeviation",nt+" "+st);var ot=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ot)}};function TransformEffect(){}TransformEffect.prototype.init=function(et){this.effectsManager=et,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(et){if(this._opMdf=!1,this._mdf=!1,et||this.effectsManager._mdf){var _e=this.effectsManager.effectElements,tt=_e[0].p.v,rt=_e[1].p.v,nt=_e[2].p.v===1,st=_e[3].p.v,ot=nt?st:_e[4].p.v,at=_e[5].p.v,lt=_e[6].p.v,ft=_e[7].p.v;this.matrix.reset(),this.matrix.translate(-tt[0],-tt[1],tt[2]),this.matrix.scale(ot*.01,st*.01,1),this.matrix.rotate(-ft*degToRads),this.matrix.skewFromAxis(-at*degToRads,(lt+90)*degToRads),this.matrix.translate(rt[0],rt[1],0),this._mdf=!0,this.opacity!==_e[8].p.v&&(this.opacity=_e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(et,_e){this.init(_e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(et){this.init(et)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit$1(et,_e){var tt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(tt!=null){var rt,nt,st,ot,at=[],lt=!0,ft=!1;try{if(st=(tt=tt.call(et)).next,_e===0){if(Object(tt)!==tt)return;lt=!1}else for(;!(lt=(rt=st.call(tt)).done)&&(at.push(rt.value),at.length!==_e);lt=!0);}catch(dt){ft=!0,nt=dt}finally{try{if(!lt&&tt.return!=null&&(ot=tt.return(),Object(ot)!==ot))return}finally{if(ft)throw nt}}return at}}function ownKeys$1(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(et);_e&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread2(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(tt),!0).forEach(function(rt){_defineProperty$1(et,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys$1(Object(tt)).forEach(function(rt){Object.defineProperty(et,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return et}function _defineProperty$1(et,_e,tt){return _e=_toPropertyKey(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _objectWithoutPropertiesLoose$1(et,_e){if(et==null)return{};var tt={},rt=Object.keys(et),nt,st;for(st=0;st<rt.length;st++)nt=rt[st],!(_e.indexOf(nt)>=0)&&(tt[nt]=et[nt]);return tt}function _objectWithoutProperties(et,_e){if(et==null)return{};var tt=_objectWithoutPropertiesLoose$1(et,_e),rt,nt;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(et);for(nt=0;nt<st.length;nt++)rt=st[nt],!(_e.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,rt)&&(tt[rt]=et[rt])}return tt}function _slicedToArray$1(et,_e){return _arrayWithHoles$1(et)||_iterableToArrayLimit$1(et,_e)||_unsupportedIterableToArray$3(et,_e)||_nonIterableRest$1()}function _arrayWithHoles$1(et){if(Array.isArray(et))return et}function _unsupportedIterableToArray$3(et,_e){if(et){if(typeof et=="string")return _arrayLikeToArray$3(et,_e);var tt=Object.prototype.toString.call(et).slice(8,-1);if(tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set")return Array.from(et);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray$3(et,_e)}}function _arrayLikeToArray$3(et,_e){(_e==null||_e>et.length)&&(_e=et.length);for(var tt=0,rt=new Array(_e);tt<_e;tt++)rt[tt]=et[tt];return rt}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey(et){var _e=_toPrimitive(et,"string");return typeof _e=="symbol"?_e:String(_e)}var _excluded$1$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function et(_e,tt){var rt=_e.animationData,nt=_e.loop,st=_e.autoplay,ot=_e.initialSegment,at=_e.onComplete,lt=_e.onLoopComplete,ft=_e.onEnterFrame,dt=_e.onSegmentStart,gt=_e.onConfigReady,pt=_e.onDataReady,vt=_e.onDataFailed,St=_e.onLoadedImages,At=_e.onDOMLoaded,Tt=_e.onDestroy;_e.lottieRef,_e.renderer,_e.name,_e.assetsPath,_e.rendererSettings;var Ct=_objectWithoutProperties(_e,_excluded$1$1),Mt=reactExports.useState(!1),Et=_slicedToArray$1(Mt,2),Rt=Et[0],Bt=Et[1],Ft=reactExports.useRef(),Lt=reactExports.useRef(null),wt=function(){var nr;(nr=Ft.current)===null||nr===void 0||nr.play()},Dt=function(){var nr;(nr=Ft.current)===null||nr===void 0||nr.stop()},Ot=function(){var nr;(nr=Ft.current)===null||nr===void 0||nr.pause()},Ut=function(nr){var sr;(sr=Ft.current)===null||sr===void 0||sr.setSpeed(nr)},zt=function(nr,sr){var lr;(lr=Ft.current)===null||lr===void 0||lr.goToAndPlay(nr,sr)},tr=function(nr,sr){var lr;(lr=Ft.current)===null||lr===void 0||lr.goToAndStop(nr,sr)},jt=function(nr){var sr;(sr=Ft.current)===null||sr===void 0||sr.setDirection(nr)},Kt=function(nr,sr){var lr;(lr=Ft.current)===null||lr===void 0||lr.playSegments(nr,sr)},qt=function(nr){var sr;(sr=Ft.current)===null||sr===void 0||sr.setSubframe(nr)},er=function(nr){var sr;return(sr=Ft.current)===null||sr===void 0?void 0:sr.getDuration(nr)},kt=function(){var nr;(nr=Ft.current)===null||nr===void 0||nr.destroy(),Ft.current=void 0},Vt=function(){var nr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sr;if(Lt.current){(sr=Ft.current)===null||sr===void 0||sr.destroy();var lr=_objectSpread2(_objectSpread2(_objectSpread2({},_e),nr),{},{container:Lt.current});return Ft.current=lottie.loadAnimation(lr),Bt(!!Ft.current),function(){var dr;(dr=Ft.current)===null||dr===void 0||dr.destroy(),Ft.current=void 0}}};reactExports.useEffect(function(){var Wt=Vt();return function(){return Wt==null?void 0:Wt()}},[rt,nt]),reactExports.useEffect(function(){Ft.current&&(Ft.current.autoplay=!!st)},[st]),reactExports.useEffect(function(){if(Ft.current){if(!ot){Ft.current.resetSegments(!0);return}!Array.isArray(ot)||!ot.length||((Ft.current.currentRawFrame<ot[0]||Ft.current.currentRawFrame>ot[1])&&(Ft.current.currentRawFrame=ot[0]),Ft.current.setSegment(ot[0],ot[1]))}},[ot]),reactExports.useEffect(function(){var Wt=[{name:"complete",handler:at},{name:"loopComplete",handler:lt},{name:"enterFrame",handler:ft},{name:"segmentStart",handler:dt},{name:"config_ready",handler:gt},{name:"data_ready",handler:pt},{name:"data_failed",handler:vt},{name:"loaded_images",handler:St},{name:"DOMLoaded",handler:At},{name:"destroy",handler:Tt}],nr=Wt.filter(function(lr){return lr.handler!=null});if(nr.length){var sr=nr.map(function(lr){var dr;return(dr=Ft.current)===null||dr===void 0||dr.addEventListener(lr.name,lr.handler),function(){var hr;(hr=Ft.current)===null||hr===void 0||hr.removeEventListener(lr.name,lr.handler)}});return function(){sr.forEach(function(lr){return lr()})}}},[at,lt,ft,dt,gt,pt,vt,St,At,Tt]);var Zt=React$1.createElement("div",_objectSpread2({style:tt,ref:Lt},Ct));return{View:Zt,play:wt,stop:Dt,pause:Ot,setSpeed:Ut,goToAndStop:tr,goToAndPlay:zt,setDirection:jt,playSegments:Kt,setSubframe:qt,getDuration:er,destroy:kt,animationContainerRef:Lt,animationLoaded:Rt,animationItem:Ft.current}};function getContainerVisibility(et){var _e=et.getBoundingClientRect(),tt=_e.top,rt=_e.height,nt=window.innerHeight-tt,st=window.innerHeight+rt;return nt/st}function getContainerCursorPosition(et,_e,tt){var rt=et.getBoundingClientRect(),nt=rt.top,st=rt.left,ot=rt.width,at=rt.height,lt=(_e-st)/ot,ft=(tt-nt)/at;return{x:lt,y:ft}}var useInitInteractivity=function et(_e){var tt=_e.wrapperRef,rt=_e.animationItem,nt=_e.mode,st=_e.actions;reactExports.useEffect(function(){var ot=tt.current;if(!(!ot||!rt||!st.length)){rt.stop();var at=function(){var dt=null,gt=function(){var vt=getContainerVisibility(ot),St=st.find(function(Tt){var Ct=Tt.visibility;return Ct&&vt>=Ct[0]&&vt<=Ct[1]});if(St){if(St.type==="seek"&&St.visibility&&St.frames.length===2){var At=St.frames[0]+Math.ceil((vt-St.visibility[0])/(St.visibility[1]-St.visibility[0])*St.frames[1]);//! goToAndStop must be relative to the start of the current segment
rt.goToAndStop(At-rt.firstFrame-1,!0)}St.type==="loop"&&(dt===null||dt!==St.frames||rt.isPaused)&&(rt.playSegments(St.frames,!0),dt=St.frames),St.type==="play"&&rt.isPaused&&(rt.resetSegments(!0),rt.play()),St.type==="stop"&&rt.goToAndStop(St.frames[0]-rt.firstFrame-1,!0)}};return document.addEventListener("scroll",gt),function(){document.removeEventListener("scroll",gt)}},lt=function(){var dt=function(St,At){var Tt=St,Ct=At;if(Tt!==-1&&Ct!==-1){var Mt=getContainerCursorPosition(ot,Tt,Ct);Tt=Mt.x,Ct=Mt.y}var Et=st.find(function(Ft){var Lt=Ft.position;return Lt&&Array.isArray(Lt.x)&&Array.isArray(Lt.y)?Tt>=Lt.x[0]&&Tt<=Lt.x[1]&&Ct>=Lt.y[0]&&Ct<=Lt.y[1]:Lt&&!Number.isNaN(Lt.x)&&!Number.isNaN(Lt.y)?Tt===Lt.x&&Ct===Lt.y:!1});if(Et){if(Et.type==="seek"&&Et.position&&Array.isArray(Et.position.x)&&Array.isArray(Et.position.y)&&Et.frames.length===2){var Rt=(Tt-Et.position.x[0])/(Et.position.x[1]-Et.position.x[0]),Bt=(Ct-Et.position.y[0])/(Et.position.y[1]-Et.position.y[0]);rt.playSegments(Et.frames,!0),rt.goToAndStop(Math.ceil((Rt+Bt)/2*(Et.frames[1]-Et.frames[0])),!0)}Et.type==="loop"&&rt.playSegments(Et.frames,!0),Et.type==="play"&&(rt.isPaused&&rt.resetSegments(!1),rt.playSegments(Et.frames)),Et.type==="stop"&&rt.goToAndStop(Et.frames[0],!0)}},gt=function(St){dt(St.clientX,St.clientY)},pt=function(){dt(-1,-1)};return ot.addEventListener("mousemove",gt),ot.addEventListener("mouseout",pt),function(){ot.removeEventListener("mousemove",gt),ot.removeEventListener("mouseout",pt)}};switch(nt){case"scroll":return at();case"cursor":return lt()}}},[nt,rt])},useLottieInteractivity=function et(_e){var tt=_e.actions,rt=_e.mode,nt=_e.lottieObj,st=nt.animationItem,ot=nt.View,at=nt.animationContainerRef;return useInitInteractivity({actions:tt,animationItem:st,mode:rt,wrapperRef:at}),ot},_excluded=["style","interactivity"],Lottie=function et(_e){var tt,rt,nt,st=_e.style,ot=_e.interactivity,at=_objectWithoutProperties(_e,_excluded),lt=useLottie(at,st),ft=lt.View,dt=lt.play,gt=lt.stop,pt=lt.pause,vt=lt.setSpeed,St=lt.goToAndStop,At=lt.goToAndPlay,Tt=lt.setDirection,Ct=lt.playSegments,Mt=lt.setSubframe,Et=lt.getDuration,Rt=lt.destroy,Bt=lt.animationContainerRef,Ft=lt.animationLoaded,Lt=lt.animationItem;return reactExports.useEffect(function(){_e.lottieRef&&(_e.lottieRef.current={play:dt,stop:gt,pause:pt,setSpeed:vt,goToAndPlay:At,goToAndStop:St,setDirection:Tt,playSegments:Ct,setSubframe:Mt,getDuration:Et,destroy:Rt,animationContainerRef:Bt,animationLoaded:Ft,animationItem:Lt})},[(tt=_e.lottieRef)===null||tt===void 0?void 0:tt.current]),useLottieInteractivity({lottieObj:{View:ft,play:dt,stop:gt,pause:pt,setSpeed:vt,goToAndStop:St,goToAndPlay:At,setDirection:Tt,playSegments:Ct,setSubframe:Mt,getDuration:Et,destroy:Rt,animationContainerRef:Bt,animationLoaded:Ft,animationItem:Lt},actions:(rt=ot==null?void 0:ot.actions)!==null&&rt!==void 0?rt:[],mode:(nt=ot==null?void 0:ot.mode)!==null&&nt!==void 0?nt:"scroll"})};const v$1="4.8.0",meta={g:"LottieFiles AE 3.4.5",a:"",k:"",d:"",tc:""},fr=30,ip=113,op=215,w$1=1e3,h$1=1e3,nm="PRE COMP 2",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Layer 2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[500,500,0],ix:2},a:{a:0,k:[127.688,125.134,0],ix:1},s:{a:0,k:[13780.399,13780.399,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.543,-.104],[0,0],[0,0],[0,1.253],[-1.314,0],[0,-1.315],[1.207,-.117],[0,0],[0,0],[0,1.567],[1.638,0],[0,-1.637]],o:[[0,0],[0,0],[-1.229,-.095],[0,-1.315],[1.315,0],[0,1.237],[0,0],[0,0],[1.54,-.108],[0,-1.637],[-1.637,0],[0,1.569]],v:[[-.202,2.965],[-.477,2.687],[-.184,2.382],[-2.385,.004],[-.001,-2.382],[2.385,.004],[.232,2.377],[-.063,2.687],[.21,2.965],[2.969,.004],[-.001,-2.965],[-2.969,.004]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[127.649,125.206],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:113,s:[0]},{t:214,s:[360]}],ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-.175,0],[0,-.164],[0,0],[.175,0],[0,.164],[0,0],[0,0],[0,.14],[-.144,0]],o:[[0,0],[0,-.164],[.175,0],[0,0],[0,.164],[-.175,0],[0,0],[0,0],[-.144,0],[0,-.14],[0,0]],v:[[.271,-.291],[.271,-.973],[.558,-1.248],[.845,-.973],[.845,.973],[.558,1.248],[.271,.973],[.271,.171],[-.613,.17],[-.845,-.06],[-.604,-.29]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[127.903,125.176],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.175,0],[0,.164],[0,0],[-.175,0],[0,-.164]],o:[[0,.164],[-.175,0],[0,0],[0,-.164],[.175,0],[0,0]],v:[[.287,.973],[0,1.247],[-.287,.973],[-.287,-.974],[0,-1.247],[.287,-.974]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[126.679,125.179],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1230,st:0,bm:0}],markers=[],animation={v:v$1,meta,fr,ip,op,w:w$1,h:h$1,nm,ddd,assets,layers,markers};function CustomLoader(){const{progress:et}=useProgress(),_e=appState(nt=>nt.started,shallow$1);appState(nt=>nt.setStarted);const[tt,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{console.log("started"),console.log(_e)},[_e]),reactExports.useEffect(()=>{et==100&&setTimeout(()=>{rt(!0)},2500)},[et]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:`custom-loader pointer-events-none absolute  z-[60]  flex h-full w-full items-center justify-center bg-black transition-all delay-[200ms] duration-[800ms] ease-in-out ${tt?" opacity-0 ":"opacity-100"}`,children:jsxRuntimeExports.jsx("div",{className:"w-32",children:jsxRuntimeExports.jsx(Lottie,{animationData:animation,loop:!0})})})})})})}class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(_e){const tt={listener:_e};return this.listeners.add(tt),this.onSubscribe(),()=>{this.listeners.delete(tt),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$1(){}function functionalUpdate(et,_e){return typeof et=="function"?et(_e):et}function isValidTimeout(et){return typeof et=="number"&&et>=0&&et!==1/0}function timeUntilStale(et,_e){return Math.max(et+(_e||0)-Date.now(),0)}function parseQueryArgs(et,_e,tt){return isQueryKey(et)?typeof _e=="function"?{...tt,queryKey:et,queryFn:_e}:{..._e,queryKey:et}:et}function parseFilterArgs(et,_e,tt){return isQueryKey(et)?[{..._e,queryKey:et},tt]:[et||{},_e]}function matchQuery(et,_e){const{type:tt="all",exact:rt,fetchStatus:nt,predicate:st,queryKey:ot,stale:at}=et;if(isQueryKey(ot)){if(rt){if(_e.queryHash!==hashQueryKeyByOptions(ot,_e.options))return!1}else if(!partialMatchKey(_e.queryKey,ot))return!1}if(tt!=="all"){const lt=_e.isActive();if(tt==="active"&&!lt||tt==="inactive"&&lt)return!1}return!(typeof at=="boolean"&&_e.isStale()!==at||typeof nt<"u"&&nt!==_e.state.fetchStatus||st&&!st(_e))}function matchMutation(et,_e){const{exact:tt,fetching:rt,predicate:nt,mutationKey:st}=et;if(isQueryKey(st)){if(!_e.options.mutationKey)return!1;if(tt){if(hashQueryKey(_e.options.mutationKey)!==hashQueryKey(st))return!1}else if(!partialMatchKey(_e.options.mutationKey,st))return!1}return!(typeof rt=="boolean"&&_e.state.status==="loading"!==rt||nt&&!nt(_e))}function hashQueryKeyByOptions(et,_e){return((_e==null?void 0:_e.queryKeyHashFn)||hashQueryKey)(et)}function hashQueryKey(et){return JSON.stringify(et,(_e,tt)=>isPlainObject(tt)?Object.keys(tt).sort().reduce((rt,nt)=>(rt[nt]=tt[nt],rt),{}):tt)}function partialMatchKey(et,_e){return partialDeepEqual(et,_e)}function partialDeepEqual(et,_e){return et===_e?!0:typeof et!=typeof _e?!1:et&&_e&&typeof et=="object"&&typeof _e=="object"?!Object.keys(_e).some(tt=>!partialDeepEqual(et[tt],_e[tt])):!1}function replaceEqualDeep(et,_e){if(et===_e)return et;const tt=isPlainArray(et)&&isPlainArray(_e);if(tt||isPlainObject(et)&&isPlainObject(_e)){const rt=tt?et.length:Object.keys(et).length,nt=tt?_e:Object.keys(_e),st=nt.length,ot=tt?[]:{};let at=0;for(let lt=0;lt<st;lt++){const ft=tt?lt:nt[lt];ot[ft]=replaceEqualDeep(et[ft],_e[ft]),ot[ft]===et[ft]&&at++}return rt===st&&at===rt?et:ot}return _e}function shallowEqualObjects(et,_e){if(et&&!_e||_e&&!et)return!1;for(const tt in et)if(et[tt]!==_e[tt])return!1;return!0}function isPlainArray(et){return Array.isArray(et)&&et.length===Object.keys(et).length}function isPlainObject(et){if(!hasObjectPrototype(et))return!1;const _e=et.constructor;if(typeof _e>"u")return!0;const tt=_e.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(et){return Object.prototype.toString.call(et)==="[object Object]"}function isQueryKey(et){return Array.isArray(et)}function sleep(et){return new Promise(_e=>{setTimeout(_e,et)})}function scheduleMicrotask(et){sleep(0).then(et)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(et,_e,tt){return tt.isDataEqual!=null&&tt.isDataEqual(et,_e)?et:typeof tt.structuralSharing=="function"?tt.structuralSharing(et,_e):tt.structuralSharing!==!1?replaceEqualDeep(et,_e):_e}class FocusManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1),()=>{window.removeEventListener("visibilitychange",tt),window.removeEventListener("focus",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setFocused(rt):this.onFocus()})}setFocused(_e){this.focused=_e,_e&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:_e})=>{_e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return onlineEvents.forEach(rt=>{window.addEventListener(rt,tt,!1)}),()=>{onlineEvents.forEach(rt=>{window.removeEventListener(rt,tt)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setOnline(rt):this.onOnline()})}setOnline(_e){this.online=_e,_e&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:_e})=>{_e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(et){return Math.min(1e3*2**et,3e4)}function canFetch(et){return(et??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(_e){this.revert=_e==null?void 0:_e.revert,this.silent=_e==null?void 0:_e.silent}}function isCancelledError(et){return et instanceof CancelledError}function createRetryer(et){let _e=!1,tt=0,rt=!1,nt,st,ot;const at=new Promise((Tt,Ct)=>{st=Tt,ot=Ct}),lt=Tt=>{rt||(vt(new CancelledError(Tt)),et.abort==null||et.abort())},ft=()=>{_e=!0},dt=()=>{_e=!1},gt=()=>!focusManager.isFocused()||et.networkMode!=="always"&&!onlineManager.isOnline(),pt=Tt=>{rt||(rt=!0,et.onSuccess==null||et.onSuccess(Tt),nt==null||nt(),st(Tt))},vt=Tt=>{rt||(rt=!0,et.onError==null||et.onError(Tt),nt==null||nt(),ot(Tt))},St=()=>new Promise(Tt=>{nt=Ct=>{const Mt=rt||!gt();return Mt&&Tt(Ct),Mt},et.onPause==null||et.onPause()}).then(()=>{nt=void 0,rt||et.onContinue==null||et.onContinue()}),At=()=>{if(rt)return;let Tt;try{Tt=et.fn()}catch(Ct){Tt=Promise.reject(Ct)}Promise.resolve(Tt).then(pt).catch(Ct=>{var Mt,Et;if(rt)return;const Rt=(Mt=et.retry)!=null?Mt:3,Bt=(Et=et.retryDelay)!=null?Et:defaultRetryDelay,Ft=typeof Bt=="function"?Bt(tt,Ct):Bt,Lt=Rt===!0||typeof Rt=="number"&&tt<Rt||typeof Rt=="function"&&Rt(tt,Ct);if(_e||!Lt){vt(Ct);return}tt++,et.onFail==null||et.onFail(tt,Ct),sleep(Ft).then(()=>{if(gt())return St()}).then(()=>{_e?vt(Ct):At()})})};return canFetch(et.networkMode)?At():St().then(At),{promise:at,cancel:lt,continue:()=>(nt==null?void 0:nt())?at:Promise.resolve(),cancelRetry:ft,continueRetry:dt}}const defaultLogger=console;function createNotifyManager(){let et=[],_e=0,tt=dt=>{dt()},rt=dt=>{dt()};const nt=dt=>{let gt;_e++;try{gt=dt()}finally{_e--,_e||at()}return gt},st=dt=>{_e?et.push(dt):scheduleMicrotask(()=>{tt(dt)})},ot=dt=>(...gt)=>{st(()=>{dt(...gt)})},at=()=>{const dt=et;et=[],dt.length&&scheduleMicrotask(()=>{rt(()=>{dt.forEach(gt=>{tt(gt)})})})};return{batch:nt,batchCalls:ot,schedule:st,setNotifyFunction:dt=>{tt=dt},setBatchNotifyFunction:dt=>{rt=dt}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(_e){this.cacheTime=Math.max(this.cacheTime||0,_e??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(_e){super(),this.abortSignalConsumed=!1,this.defaultOptions=_e.defaultOptions,this.setOptions(_e.options),this.observers=[],this.cache=_e.cache,this.logger=_e.logger||defaultLogger,this.queryKey=_e.queryKey,this.queryHash=_e.queryHash,this.initialState=_e.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(_e){this.options={...this.defaultOptions,..._e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(_e,tt){const rt=replaceData(this.state.data,_e,this.options);return this.dispatch({data:rt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),rt}setState(_e,tt){this.dispatch({type:"setState",state:_e,setStateOptions:tt})}cancel(_e){var tt;const rt=this.promise;return(tt=this.retryer)==null||tt.cancel(_e),rt?rt.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(_e=>_e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(_e=>_e.getCurrentResult().isStale)}isStaleByTime(_e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,_e)}onFocus(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnWindowFocus());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}onOnline(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnReconnect());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}addObserver(_e){this.observers.includes(_e)||(this.observers.push(_e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:_e}))}removeObserver(_e){this.observers.includes(_e)&&(this.observers=this.observers.filter(tt=>tt!==_e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:_e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(_e,tt){var rt,nt;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&tt!=null&&tt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var st;return(st=this.retryer)==null||st.continueRetry(),this.promise}}if(_e&&this.setOptions(_e),!this.options.queryFn){const vt=this.observers.find(St=>St.options.queryFn);vt&&this.setOptions(vt.options)}Array.isArray(this.options.queryKey);const ot=getAbortController(),at={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},lt=vt=>{Object.defineProperty(vt,"signal",{enumerable:!0,get:()=>{if(ot)return this.abortSignalConsumed=!0,ot.signal}})};lt(at);const ft=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(at)):Promise.reject("Missing queryFn"),dt={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:ft};if(lt(dt),(rt=this.options.behavior)==null||rt.onFetch(dt),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((nt=dt.fetchOptions)==null?void 0:nt.meta)){var gt;this.dispatch({type:"fetch",meta:(gt=dt.fetchOptions)==null?void 0:gt.meta})}const pt=vt=>{if(isCancelledError(vt)&&vt.silent||this.dispatch({type:"error",error:vt}),!isCancelledError(vt)){var St,At,Tt,Ct;(St=(At=this.cache.config).onError)==null||St.call(At,vt,this),(Tt=(Ct=this.cache.config).onSettled)==null||Tt.call(Ct,this.state.data,vt,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:dt.fetchFn,abort:ot==null?void 0:ot.abort.bind(ot),onSuccess:vt=>{var St,At,Tt,Ct;if(typeof vt>"u"){pt(new Error(this.queryHash+" data is undefined"));return}this.setData(vt),(St=(At=this.cache.config).onSuccess)==null||St.call(At,vt,this),(Tt=(Ct=this.cache.config).onSettled)==null||Tt.call(Ct,vt,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:pt,onFail:(vt,St)=>{this.dispatch({type:"failed",failureCount:vt,error:St})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:dt.options.retry,retryDelay:dt.options.retryDelay,networkMode:dt.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(_e){const tt=rt=>{var nt,st;switch(_e.type){case"failed":return{...rt,fetchFailureCount:_e.failureCount,fetchFailureReason:_e.error};case"pause":return{...rt,fetchStatus:"paused"};case"continue":return{...rt,fetchStatus:"fetching"};case"fetch":return{...rt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(nt=_e.meta)!=null?nt:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!rt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...rt,data:_e.data,dataUpdateCount:rt.dataUpdateCount+1,dataUpdatedAt:(st=_e.dataUpdatedAt)!=null?st:Date.now(),error:null,isInvalidated:!1,status:"success",...!_e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const ot=_e.error;return isCancelledError(ot)&&ot.revert&&this.revertState?{...this.revertState}:{...rt,error:ot,errorUpdateCount:rt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:rt.fetchFailureCount+1,fetchFailureReason:ot,fetchStatus:"idle",status:"error"};case"invalidate":return{...rt,isInvalidated:!0};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onQueryUpdate(_e)}),this.cache.notify({query:this,type:"updated",action:_e})})}}function getDefaultState$1(et){const _e=typeof et.initialData=="function"?et.initialData():et.initialData,tt=typeof _e<"u",rt=tt?typeof et.initialDataUpdatedAt=="function"?et.initialDataUpdatedAt():et.initialDataUpdatedAt:0;return{data:_e,dataUpdateCount:0,dataUpdatedAt:tt?rt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.queries=[],this.queriesMap={}}build(_e,tt,rt){var nt;const st=tt.queryKey,ot=(nt=tt.queryHash)!=null?nt:hashQueryKeyByOptions(st,tt);let at=this.get(ot);return at||(at=new Query({cache:this,logger:_e.getLogger(),queryKey:st,queryHash:ot,options:_e.defaultQueryOptions(tt),state:rt,defaultOptions:_e.getQueryDefaults(st)}),this.add(at)),at}add(_e){this.queriesMap[_e.queryHash]||(this.queriesMap[_e.queryHash]=_e,this.queries.push(_e),this.notify({type:"added",query:_e}))}remove(_e){const tt=this.queriesMap[_e.queryHash];tt&&(_e.destroy(),this.queries=this.queries.filter(rt=>rt!==_e),tt===_e&&delete this.queriesMap[_e.queryHash],this.notify({type:"removed",query:_e}))}clear(){notifyManager.batch(()=>{this.queries.forEach(_e=>{this.remove(_e)})})}get(_e){return this.queriesMap[_e]}getAll(){return this.queries}find(_e,tt){const[rt]=parseFilterArgs(_e,tt);return typeof rt.exact>"u"&&(rt.exact=!0),this.queries.find(nt=>matchQuery(rt,nt))}findAll(_e,tt){const[rt]=parseFilterArgs(_e,tt);return Object.keys(rt).length>0?this.queries.filter(nt=>matchQuery(rt,nt)):this.queries}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(({listener:tt})=>{tt(_e)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onOnline()})})}}class Mutation extends Removable{constructor(_e){super(),this.defaultOptions=_e.defaultOptions,this.mutationId=_e.mutationId,this.mutationCache=_e.mutationCache,this.logger=_e.logger||defaultLogger,this.observers=[],this.state=_e.state||getDefaultState(),this.setOptions(_e.options),this.scheduleGc()}setOptions(_e){this.options={...this.defaultOptions,..._e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(_e){this.dispatch({type:"setState",state:_e})}addObserver(_e){this.observers.includes(_e)||(this.observers.push(_e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:_e}))}removeObserver(_e){this.observers=this.observers.filter(tt=>tt!==_e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:_e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var _e,tt;return(_e=(tt=this.retryer)==null?void 0:tt.continue())!=null?_e:this.execute()}async execute(){const _e=()=>{var Lt;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(wt,Dt)=>{this.dispatch({type:"failed",failureCount:wt,error:Dt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(Lt=this.options.retry)!=null?Lt:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},tt=this.state.status==="loading";try{var rt,nt,st,ot,at,lt,ft,dt;if(!tt){var gt,pt,vt,St;this.dispatch({type:"loading",variables:this.options.variables}),await((gt=(pt=this.mutationCache.config).onMutate)==null?void 0:gt.call(pt,this.state.variables,this));const wt=await((vt=(St=this.options).onMutate)==null?void 0:vt.call(St,this.state.variables));wt!==this.state.context&&this.dispatch({type:"loading",context:wt,variables:this.state.variables})}const Lt=await _e();return await((rt=(nt=this.mutationCache.config).onSuccess)==null?void 0:rt.call(nt,Lt,this.state.variables,this.state.context,this)),await((st=(ot=this.options).onSuccess)==null?void 0:st.call(ot,Lt,this.state.variables,this.state.context)),await((at=(lt=this.mutationCache.config).onSettled)==null?void 0:at.call(lt,Lt,null,this.state.variables,this.state.context,this)),await((ft=(dt=this.options).onSettled)==null?void 0:ft.call(dt,Lt,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:Lt}),Lt}catch(Lt){try{var At,Tt,Ct,Mt,Et,Rt,Bt,Ft;throw await((At=(Tt=this.mutationCache.config).onError)==null?void 0:At.call(Tt,Lt,this.state.variables,this.state.context,this)),await((Ct=(Mt=this.options).onError)==null?void 0:Ct.call(Mt,Lt,this.state.variables,this.state.context)),await((Et=(Rt=this.mutationCache.config).onSettled)==null?void 0:Et.call(Rt,void 0,Lt,this.state.variables,this.state.context,this)),await((Bt=(Ft=this.options).onSettled)==null?void 0:Bt.call(Ft,void 0,Lt,this.state.variables,this.state.context)),Lt}finally{this.dispatch({type:"error",error:Lt})}}}dispatch(_e){const tt=rt=>{switch(_e.type){case"failed":return{...rt,failureCount:_e.failureCount,failureReason:_e.error};case"pause":return{...rt,isPaused:!0};case"continue":return{...rt,isPaused:!1};case"loading":return{...rt,context:_e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:_e.variables};case"success":return{...rt,data:_e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...rt,data:void 0,error:_e.error,failureCount:rt.failureCount+1,failureReason:_e.error,isPaused:!1,status:"error"};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onMutationUpdate(_e)}),this.mutationCache.notify({mutation:this,type:"updated",action:_e})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.mutations=[],this.mutationId=0}build(_e,tt,rt){const nt=new Mutation({mutationCache:this,logger:_e.getLogger(),mutationId:++this.mutationId,options:_e.defaultMutationOptions(tt),state:rt,defaultOptions:tt.mutationKey?_e.getMutationDefaults(tt.mutationKey):void 0});return this.add(nt),nt}add(_e){this.mutations.push(_e),this.notify({type:"added",mutation:_e})}remove(_e){this.mutations=this.mutations.filter(tt=>tt!==_e),this.notify({type:"removed",mutation:_e})}clear(){notifyManager.batch(()=>{this.mutations.forEach(_e=>{this.remove(_e)})})}getAll(){return this.mutations}find(_e){return typeof _e.exact>"u"&&(_e.exact=!0),this.mutations.find(tt=>matchMutation(_e,tt))}findAll(_e){return this.mutations.filter(tt=>matchMutation(_e,tt))}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(({listener:tt})=>{tt(_e)})})}resumePausedMutations(){var _e;return this.resuming=((_e=this.resuming)!=null?_e:Promise.resolve()).then(()=>{const tt=this.mutations.filter(rt=>rt.state.isPaused);return notifyManager.batch(()=>tt.reduce((rt,nt)=>rt.then(()=>nt.continue().catch(noop$1)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:et=>{et.fetchFn=()=>{var _e,tt,rt,nt,st,ot;const at=(_e=et.fetchOptions)==null||(tt=_e.meta)==null?void 0:tt.refetchPage,lt=(rt=et.fetchOptions)==null||(nt=rt.meta)==null?void 0:nt.fetchMore,ft=lt==null?void 0:lt.pageParam,dt=(lt==null?void 0:lt.direction)==="forward",gt=(lt==null?void 0:lt.direction)==="backward",pt=((st=et.state.data)==null?void 0:st.pages)||[],vt=((ot=et.state.data)==null?void 0:ot.pageParams)||[];let St=vt,At=!1;const Tt=Ft=>{Object.defineProperty(Ft,"signal",{enumerable:!0,get:()=>{var Lt;if((Lt=et.signal)!=null&&Lt.aborted)At=!0;else{var wt;(wt=et.signal)==null||wt.addEventListener("abort",()=>{At=!0})}return et.signal}})},Ct=et.options.queryFn||(()=>Promise.reject("Missing queryFn")),Mt=(Ft,Lt,wt,Dt)=>(St=Dt?[Lt,...St]:[...St,Lt],Dt?[wt,...Ft]:[...Ft,wt]),Et=(Ft,Lt,wt,Dt)=>{if(At)return Promise.reject("Cancelled");if(typeof wt>"u"&&!Lt&&Ft.length)return Promise.resolve(Ft);const Ot={queryKey:et.queryKey,pageParam:wt,meta:et.options.meta};Tt(Ot);const Ut=Ct(Ot);return Promise.resolve(Ut).then(tr=>Mt(Ft,wt,tr,Dt))};let Rt;if(!pt.length)Rt=Et([]);else if(dt){const Ft=typeof ft<"u",Lt=Ft?ft:getNextPageParam(et.options,pt);Rt=Et(pt,Ft,Lt)}else if(gt){const Ft=typeof ft<"u",Lt=Ft?ft:getPreviousPageParam(et.options,pt);Rt=Et(pt,Ft,Lt,!0)}else{St=[];const Ft=typeof et.options.getNextPageParam>"u";Rt=(at&&pt[0]?at(pt[0],0,pt):!0)?Et([],Ft,vt[0]):Promise.resolve(Mt([],vt[0],pt[0]));for(let wt=1;wt<pt.length;wt++)Rt=Rt.then(Dt=>{if(at&&pt[wt]?at(pt[wt],wt,pt):!0){const Ut=Ft?vt[wt]:getNextPageParam(et.options,Dt);return Et(Dt,Ft,Ut)}return Promise.resolve(Mt(Dt,vt[wt],pt[wt]))})}return Rt.then(Ft=>({pages:Ft,pageParams:St}))}}}}function getNextPageParam(et,_e){return et.getNextPageParam==null?void 0:et.getNextPageParam(_e[_e.length-1],_e)}function getPreviousPageParam(et,_e){return et.getPreviousPageParam==null?void 0:et.getPreviousPageParam(_e[0],_e)}class QueryClient{constructor(_e={}){this.queryCache=_e.queryCache||new QueryCache,this.mutationCache=_e.mutationCache||new MutationCache,this.logger=_e.logger||defaultLogger,this.defaultOptions=_e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var _e,tt;this.mountCount--,this.mountCount===0&&((_e=this.unsubscribeFocus)==null||_e.call(this),this.unsubscribeFocus=void 0,(tt=this.unsubscribeOnline)==null||tt.call(this),this.unsubscribeOnline=void 0)}isFetching(_e,tt){const[rt]=parseFilterArgs(_e,tt);return rt.fetchStatus="fetching",this.queryCache.findAll(rt).length}isMutating(_e){return this.mutationCache.findAll({..._e,fetching:!0}).length}getQueryData(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state.data}ensureQueryData(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),st=this.getQueryData(nt.queryKey);return st?Promise.resolve(st):this.fetchQuery(nt)}getQueriesData(_e){return this.getQueryCache().findAll(_e).map(({queryKey:tt,state:rt})=>{const nt=rt.data;return[tt,nt]})}setQueryData(_e,tt,rt){const nt=this.queryCache.find(_e),st=nt==null?void 0:nt.state.data,ot=functionalUpdate(tt,st);if(typeof ot>"u")return;const at=parseQueryArgs(_e),lt=this.defaultQueryOptions(at);return this.queryCache.build(this,lt).setData(ot,{...rt,manual:!0})}setQueriesData(_e,tt,rt){return notifyManager.batch(()=>this.getQueryCache().findAll(_e).map(({queryKey:nt})=>[nt,this.setQueryData(nt,tt,rt)]))}getQueryState(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state}removeQueries(_e,tt){const[rt]=parseFilterArgs(_e,tt),nt=this.queryCache;notifyManager.batch(()=>{nt.findAll(rt).forEach(st=>{nt.remove(st)})})}resetQueries(_e,tt,rt){const[nt,st]=parseFilterArgs(_e,tt,rt),ot=this.queryCache,at={type:"active",...nt};return notifyManager.batch(()=>(ot.findAll(nt).forEach(lt=>{lt.reset()}),this.refetchQueries(at,st)))}cancelQueries(_e,tt,rt){const[nt,st={}]=parseFilterArgs(_e,tt,rt);typeof st.revert>"u"&&(st.revert=!0);const ot=notifyManager.batch(()=>this.queryCache.findAll(nt).map(at=>at.cancel(st)));return Promise.all(ot).then(noop$1).catch(noop$1)}invalidateQueries(_e,tt,rt){const[nt,st]=parseFilterArgs(_e,tt,rt);return notifyManager.batch(()=>{var ot,at;if(this.queryCache.findAll(nt).forEach(ft=>{ft.invalidate()}),nt.refetchType==="none")return Promise.resolve();const lt={...nt,type:(ot=(at=nt.refetchType)!=null?at:nt.type)!=null?ot:"active"};return this.refetchQueries(lt,st)})}refetchQueries(_e,tt,rt){const[nt,st]=parseFilterArgs(_e,tt,rt),ot=notifyManager.batch(()=>this.queryCache.findAll(nt).filter(lt=>!lt.isDisabled()).map(lt=>{var ft;return lt.fetch(void 0,{...st,cancelRefetch:(ft=st==null?void 0:st.cancelRefetch)!=null?ft:!0,meta:{refetchPage:nt.refetchPage}})}));let at=Promise.all(ot).then(noop$1);return st!=null&&st.throwOnError||(at=at.catch(noop$1)),at}fetchQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),st=this.defaultQueryOptions(nt);typeof st.retry>"u"&&(st.retry=!1);const ot=this.queryCache.build(this,st);return ot.isStaleByTime(st.staleTime)?ot.fetch(st):Promise.resolve(ot.state.data)}prefetchQuery(_e,tt,rt){return this.fetchQuery(_e,tt,rt).then(noop$1).catch(noop$1)}fetchInfiniteQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt);return nt.behavior=infiniteQueryBehavior(),this.fetchQuery(nt)}prefetchInfiniteQuery(_e,tt,rt){return this.fetchInfiniteQuery(_e,tt,rt).then(noop$1).catch(noop$1)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(_e){this.defaultOptions=_e}setQueryDefaults(_e,tt){const rt=this.queryDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.queryKey));rt?rt.defaultOptions=tt:this.queryDefaults.push({queryKey:_e,defaultOptions:tt})}getQueryDefaults(_e){if(!_e)return;const tt=this.queryDefaults.find(rt=>partialMatchKey(_e,rt.queryKey));return tt==null?void 0:tt.defaultOptions}setMutationDefaults(_e,tt){const rt=this.mutationDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.mutationKey));rt?rt.defaultOptions=tt:this.mutationDefaults.push({mutationKey:_e,defaultOptions:tt})}getMutationDefaults(_e){if(!_e)return;const tt=this.mutationDefaults.find(rt=>partialMatchKey(_e,rt.mutationKey));return tt==null?void 0:tt.defaultOptions}defaultQueryOptions(_e){if(_e!=null&&_e._defaulted)return _e;const tt={...this.defaultOptions.queries,...this.getQueryDefaults(_e==null?void 0:_e.queryKey),..._e,_defaulted:!0};return!tt.queryHash&&tt.queryKey&&(tt.queryHash=hashQueryKeyByOptions(tt.queryKey,tt)),typeof tt.refetchOnReconnect>"u"&&(tt.refetchOnReconnect=tt.networkMode!=="always"),typeof tt.useErrorBoundary>"u"&&(tt.useErrorBoundary=!!tt.suspense),tt}defaultMutationOptions(_e){return _e!=null&&_e._defaulted?_e:{...this.defaultOptions.mutations,...this.getMutationDefaults(_e==null?void 0:_e.mutationKey),..._e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(_e,tt){super(),this.client=_e,this.options=tt,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(tt)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(_e,tt){const rt=this.options,nt=this.currentQuery;if(this.options=this.client.defaultQueryOptions(_e),shallowEqualObjects(rt,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=rt.queryKey),this.updateQuery();const st=this.hasListeners();st&&shouldFetchOptionally(this.currentQuery,nt,this.options,rt)&&this.executeFetch(),this.updateResult(tt),st&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||this.options.staleTime!==rt.staleTime)&&this.updateStaleTimeout();const ot=this.computeRefetchInterval();st&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||ot!==this.currentRefetchInterval)&&this.updateRefetchInterval(ot)}getOptimisticResult(_e){const tt=this.client.getQueryCache().build(this.client,_e);return this.createResult(tt,_e)}getCurrentResult(){return this.currentResult}trackResult(_e){const tt={};return Object.keys(_e).forEach(rt=>{Object.defineProperty(tt,rt,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(rt),_e[rt])})}),tt}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:_e,...tt}={}){return this.fetch({...tt,meta:{refetchPage:_e}})}fetchOptimistic(_e){const tt=this.client.defaultQueryOptions(_e),rt=this.client.getQueryCache().build(this.client,tt);return rt.isFetchingOptimistic=!0,rt.fetch().then(()=>this.createResult(rt,tt))}fetch(_e){var tt;return this.executeFetch({..._e,cancelRefetch:(tt=_e.cancelRefetch)!=null?tt:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(_e){this.updateQuery();let tt=this.currentQuery.fetch(this.options,_e);return _e!=null&&_e.throwOnError||(tt=tt.catch(noop$1)),tt}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const tt=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},tt)}computeRefetchInterval(){var _e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(_e=this.options.refetchInterval)!=null?_e:!1}updateRefetchInterval(_e){this.clearRefetchInterval(),this.currentRefetchInterval=_e,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(_e,tt){const rt=this.currentQuery,nt=this.options,st=this.currentResult,ot=this.currentResultState,at=this.currentResultOptions,lt=_e!==rt,ft=lt?_e.state:this.currentQueryInitialState,dt=lt?this.currentResult:this.previousQueryResult,{state:gt}=_e;let{dataUpdatedAt:pt,error:vt,errorUpdatedAt:St,fetchStatus:At,status:Tt}=gt,Ct=!1,Mt=!1,Et;if(tt._optimisticResults){const wt=this.hasListeners(),Dt=!wt&&shouldFetchOnMount(_e,tt),Ot=wt&&shouldFetchOptionally(_e,rt,tt,nt);(Dt||Ot)&&(At=canFetch(_e.options.networkMode)?"fetching":"paused",pt||(Tt="loading")),tt._optimisticResults==="isRestoring"&&(At="idle")}if(tt.keepPreviousData&&!gt.dataUpdatedAt&&dt!=null&&dt.isSuccess&&Tt!=="error")Et=dt.data,pt=dt.dataUpdatedAt,Tt=dt.status,Ct=!0;else if(tt.select&&typeof gt.data<"u")if(st&&gt.data===(ot==null?void 0:ot.data)&&tt.select===this.selectFn)Et=this.selectResult;else try{this.selectFn=tt.select,Et=tt.select(gt.data),Et=replaceData(st==null?void 0:st.data,Et,tt),this.selectResult=Et,this.selectError=null}catch(wt){this.selectError=wt}else Et=gt.data;if(typeof tt.placeholderData<"u"&&typeof Et>"u"&&Tt==="loading"){let wt;if(st!=null&&st.isPlaceholderData&&tt.placeholderData===(at==null?void 0:at.placeholderData))wt=st.data;else if(wt=typeof tt.placeholderData=="function"?tt.placeholderData():tt.placeholderData,tt.select&&typeof wt<"u")try{wt=tt.select(wt),this.selectError=null}catch(Dt){this.selectError=Dt}typeof wt<"u"&&(Tt="success",Et=replaceData(st==null?void 0:st.data,wt,tt),Mt=!0)}this.selectError&&(vt=this.selectError,Et=this.selectResult,St=Date.now(),Tt="error");const Rt=At==="fetching",Bt=Tt==="loading",Ft=Tt==="error";return{status:Tt,fetchStatus:At,isLoading:Bt,isSuccess:Tt==="success",isError:Ft,isInitialLoading:Bt&&Rt,data:Et,dataUpdatedAt:pt,error:vt,errorUpdatedAt:St,failureCount:gt.fetchFailureCount,failureReason:gt.fetchFailureReason,errorUpdateCount:gt.errorUpdateCount,isFetched:gt.dataUpdateCount>0||gt.errorUpdateCount>0,isFetchedAfterMount:gt.dataUpdateCount>ft.dataUpdateCount||gt.errorUpdateCount>ft.errorUpdateCount,isFetching:Rt,isRefetching:Rt&&!Bt,isLoadingError:Ft&&gt.dataUpdatedAt===0,isPaused:At==="paused",isPlaceholderData:Mt,isPreviousData:Ct,isRefetchError:Ft&&gt.dataUpdatedAt!==0,isStale:isStale(_e,tt),refetch:this.refetch,remove:this.remove}}updateResult(_e){const tt=this.currentResult,rt=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(rt,tt))return;this.currentResult=rt;const nt={cache:!0},st=()=>{if(!tt)return!0;const{notifyOnChangeProps:ot}=this.options;if(ot==="all"||!ot&&!this.trackedProps.size)return!0;const at=new Set(ot??this.trackedProps);return this.options.useErrorBoundary&&at.add("error"),Object.keys(this.currentResult).some(lt=>{const ft=lt;return this.currentResult[ft]!==tt[ft]&&at.has(ft)})};(_e==null?void 0:_e.listeners)!==!1&&st()&&(nt.listeners=!0),this.notify({...nt,..._e})}updateQuery(){const _e=this.client.getQueryCache().build(this.client,this.options);if(_e===this.currentQuery)return;const tt=this.currentQuery;this.currentQuery=_e,this.currentQueryInitialState=_e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(tt==null||tt.removeObserver(this),_e.addObserver(this))}onQueryUpdate(_e){const tt={};_e.type==="success"?tt.onSuccess=!_e.manual:_e.type==="error"&&!isCancelledError(_e.error)&&(tt.onError=!0),this.updateResult(tt),this.hasListeners()&&this.updateTimers()}notify(_e){notifyManager.batch(()=>{if(_e.onSuccess){var tt,rt,nt,st;(tt=(rt=this.options).onSuccess)==null||tt.call(rt,this.currentResult.data),(nt=(st=this.options).onSettled)==null||nt.call(st,this.currentResult.data,null)}else if(_e.onError){var ot,at,lt,ft;(ot=(at=this.options).onError)==null||ot.call(at,this.currentResult.error),(lt=(ft=this.options).onSettled)==null||lt.call(ft,void 0,this.currentResult.error)}_e.listeners&&this.listeners.forEach(({listener:dt})=>{dt(this.currentResult)}),_e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(et,_e){return _e.enabled!==!1&&!et.state.dataUpdatedAt&&!(et.state.status==="error"&&_e.retryOnMount===!1)}function shouldFetchOnMount(et,_e){return shouldLoadOnMount(et,_e)||et.state.dataUpdatedAt>0&&shouldFetchOn(et,_e,_e.refetchOnMount)}function shouldFetchOn(et,_e,tt){if(_e.enabled!==!1){const rt=typeof tt=="function"?tt(et):tt;return rt==="always"||rt!==!1&&isStale(et,_e)}return!1}function shouldFetchOptionally(et,_e,tt,rt){return tt.enabled!==!1&&(et!==_e||rt.enabled===!1)&&(!tt.suspense||et.state.status!=="error")&&isStale(et,tt)}function isStale(et,_e){return et.isStaleByTime(_e.staleTime)}const useSyncExternalStore=shimExports.useSyncExternalStore,defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(et,_e){return et||(_e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:et}={})=>{const _e=reactExports.useContext(getQueryClientContext(et,reactExports.useContext(QueryClientSharingContext)));if(!_e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return _e},QueryClientProvider=({client:et,children:_e,context:tt,contextSharing:rt=!1})=>{reactExports.useEffect(()=>(et.mount(),()=>{et.unmount()}),[et]);const nt=getQueryClientContext(tt,rt);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!tt&&rt},reactExports.createElement(nt.Provider,{value:et},_e))},IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let et=!1;return{clearReset:()=>{et=!1},reset:()=>{et=!0},isReset:()=>et}}const QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(et,_e){return typeof et=="function"?et(..._e):!!et}const ensurePreventErrorBoundaryRetry=(et,_e)=>{(et.suspense||et.useErrorBoundary)&&(_e.isReset()||(et.retryOnMount=!1))},useClearResetErrorBoundary=et=>{reactExports.useEffect(()=>{et.clearReset()},[et])},getHasError=({result:et,errorResetBoundary:_e,useErrorBoundary:tt,query:rt})=>et.isError&&!_e.isReset()&&!et.isFetching&&shouldThrowError(tt,[et.error,rt]),ensureStaleTime=et=>{et.suspense&&typeof et.staleTime!="number"&&(et.staleTime=1e3)},willFetch=(et,_e)=>et.isLoading&&et.isFetching&&!_e,shouldSuspend=(et,_e,tt)=>(et==null?void 0:et.suspense)&&willFetch(_e,tt),fetchOptimistic=(et,_e,tt)=>_e.fetchOptimistic(et).then(({data:rt})=>{et.onSuccess==null||et.onSuccess(rt),et.onSettled==null||et.onSettled(rt,null)}).catch(rt=>{tt.clearReset(),et.onError==null||et.onError(rt),et.onSettled==null||et.onSettled(void 0,rt)});function useBaseQuery(et,_e){const tt=useQueryClient({context:et.context}),rt=useIsRestoring(),nt=useQueryErrorResetBoundary(),st=tt.defaultQueryOptions(et);st._optimisticResults=rt?"isRestoring":"optimistic",st.onError&&(st.onError=notifyManager.batchCalls(st.onError)),st.onSuccess&&(st.onSuccess=notifyManager.batchCalls(st.onSuccess)),st.onSettled&&(st.onSettled=notifyManager.batchCalls(st.onSettled)),ensureStaleTime(st),ensurePreventErrorBoundaryRetry(st,nt),useClearResetErrorBoundary(nt);const[ot]=reactExports.useState(()=>new _e(tt,st)),at=ot.getOptimisticResult(st);if(useSyncExternalStore(reactExports.useCallback(lt=>{const ft=rt?()=>{}:ot.subscribe(notifyManager.batchCalls(lt));return ot.updateResult(),ft},[ot,rt]),()=>ot.getCurrentResult(),()=>ot.getCurrentResult()),reactExports.useEffect(()=>{ot.setOptions(st,{listeners:!1})},[st,ot]),shouldSuspend(st,at,rt))throw fetchOptimistic(st,ot,nt);if(getHasError({result:at,errorResetBoundary:nt,useErrorBoundary:st.useErrorBoundary,query:ot.getCurrentQuery()}))throw at.error;return st.notifyOnChangeProps?at:ot.trackResult(at)}function useQuery(et,_e,tt){const rt=parseQueryArgs(et,_e,tt);return useBaseQuery(rt,QueryObserver)}var dist$1={},lodash_isequal={exports:{}};lodash_isequal.exports;(function(et,_e){var tt=200,rt="__lodash_hash_undefined__",nt=1,st=2,ot=9007199254740991,at="[object Arguments]",lt="[object Array]",ft="[object AsyncFunction]",dt="[object Boolean]",gt="[object Date]",pt="[object Error]",vt="[object Function]",St="[object GeneratorFunction]",At="[object Map]",Tt="[object Number]",Ct="[object Null]",Mt="[object Object]",Et="[object Promise]",Rt="[object Proxy]",Bt="[object RegExp]",Ft="[object Set]",Lt="[object String]",wt="[object Symbol]",Dt="[object Undefined]",Ot="[object WeakMap]",Ut="[object ArrayBuffer]",zt="[object DataView]",tr="[object Float32Array]",jt="[object Float64Array]",Kt="[object Int8Array]",qt="[object Int16Array]",er="[object Int32Array]",kt="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Zt="[object Uint16Array]",Wt="[object Uint32Array]",nr=/[\\^$.*+?()[\]{}|]/g,sr=/^\[object .+?Constructor\]$/,lr=/^(?:0|[1-9]\d*)$/,dr={};dr[tr]=dr[jt]=dr[Kt]=dr[qt]=dr[er]=dr[kt]=dr[Vt]=dr[Zt]=dr[Wt]=!0,dr[at]=dr[lt]=dr[Ut]=dr[dt]=dr[zt]=dr[gt]=dr[pt]=dr[vt]=dr[At]=dr[Tt]=dr[Mt]=dr[Bt]=dr[Ft]=dr[Lt]=dr[Ot]=!1;var hr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,wr=typeof self=="object"&&self&&self.Object===Object&&self,pr=hr||wr||Function("return this")(),_r=_e&&!_e.nodeType&&_e,mr=_r&&!0&&et&&!et.nodeType&&et,Er=mr&&mr.exports===_r,ur=Er&&hr.process,xr=function(){try{return ur&&ur.binding&&ur.binding("util")}catch{}}(),Ar=xr&&xr.isTypedArray;function Br(yr,Rr){for(var sn=-1,hn=yr==null?0:yr.length,_i=0,Pn=[];++sn<hn;){var jn=yr[sn];Rr(jn,sn,yr)&&(Pn[_i++]=jn)}return Pn}function kr(yr,Rr){for(var sn=-1,hn=Rr.length,_i=yr.length;++sn<hn;)yr[_i+sn]=Rr[sn];return yr}function nn(yr,Rr){for(var sn=-1,hn=yr==null?0:yr.length;++sn<hn;)if(Rr(yr[sn],sn,yr))return!0;return!1}function Pr(yr,Rr){for(var sn=-1,hn=Array(yr);++sn<yr;)hn[sn]=Rr(sn);return hn}function Xr(yr){return function(Rr){return yr(Rr)}}function Zr(yr,Rr){return yr.has(Rr)}function zr(yr,Rr){return yr==null?void 0:yr[Rr]}function cr(yr){var Rr=-1,sn=Array(yr.size);return yr.forEach(function(hn,_i){sn[++Rr]=[_i,hn]}),sn}function ar(yr,Rr){return function(sn){return yr(Rr(sn))}}function Tr(yr){var Rr=-1,sn=Array(yr.size);return yr.forEach(function(hn){sn[++Rr]=hn}),sn}var Nr=Array.prototype,Qr=Function.prototype,en=Object.prototype,on=pr["__core-js_shared__"],rn=Qr.toString,Vr=en.hasOwnProperty,ln=function(){var yr=/[^.]+$/.exec(on&&on.keys&&on.keys.IE_PROTO||"");return yr?"Symbol(src)_1."+yr:""}(),br=en.toString,Gr=RegExp("^"+rn.call(Vr).replace(nr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=Er?pr.Buffer:void 0,Wr=pr.Symbol,an=pr.Uint8Array,gn=en.propertyIsEnumerable,Cn=Nr.splice,Cr=Wr?Wr.toStringTag:void 0,Ur=Object.getOwnPropertySymbols,tn=Kr?Kr.isBuffer:void 0,fn=ar(Object.keys,Object),mn=Vs(pr,"DataView"),Mn=Vs(pr,"Map"),Hn=Vs(pr,"Promise"),Wn=Vs(pr,"Set"),$n=Vs(pr,"WeakMap"),Un=Vs(Object,"create"),Kn=Ln(mn),Vn=Ln(Mn),Ls=Ln(Hn),ws=Ln(Wn),qn=Ln($n),ls=Wr?Wr.prototype:void 0,gr=ls?ls.valueOf:void 0;function Dr(yr){var Rr=-1,sn=yr==null?0:yr.length;for(this.clear();++Rr<sn;){var hn=yr[Rr];this.set(hn[0],hn[1])}}function jr(){this.__data__=Un?Un(null):{},this.size=0}function Fr(yr){var Rr=this.has(yr)&&delete this.__data__[yr];return this.size-=Rr?1:0,Rr}function Jr(yr){var Rr=this.__data__;if(Un){var sn=Rr[yr];return sn===rt?void 0:sn}return Vr.call(Rr,yr)?Rr[yr]:void 0}function vn(yr){var Rr=this.__data__;return Un?Rr[yr]!==void 0:Vr.call(Rr,yr)}function En(yr,Rr){var sn=this.__data__;return this.size+=this.has(yr)?0:1,sn[yr]=Un&&Rr===void 0?rt:Rr,this}Dr.prototype.clear=jr,Dr.prototype.delete=Fr,Dr.prototype.get=Jr,Dr.prototype.has=vn,Dr.prototype.set=En;function bn(yr){var Rr=-1,sn=yr==null?0:yr.length;for(this.clear();++Rr<sn;){var hn=yr[Rr];this.set(hn[0],hn[1])}}function In(){this.__data__=[],this.size=0}function Fn(yr){var Rr=this.__data__,sn=As(Rr,yr);if(sn<0)return!1;var hn=Rr.length-1;return sn==hn?Rr.pop():Cn.call(Rr,sn,1),--this.size,!0}function On(yr){var Rr=this.__data__,sn=As(Rr,yr);return sn<0?void 0:Rr[sn][1]}function Nn(yr){return As(this.__data__,yr)>-1}function ss(yr,Rr){var sn=this.__data__,hn=As(sn,yr);return hn<0?(++this.size,sn.push([yr,Rr])):sn[hn][1]=Rr,this}bn.prototype.clear=In,bn.prototype.delete=Fn,bn.prototype.get=On,bn.prototype.has=Nn,bn.prototype.set=ss;function ns(yr){var Rr=-1,sn=yr==null?0:yr.length;for(this.clear();++Rr<sn;){var hn=yr[Rr];this.set(hn[0],hn[1])}}function Ns(){this.size=0,this.__data__={hash:new Dr,map:new(Mn||bn),string:new Dr}}function Ws(yr){var Rr=Zs(this,yr).delete(yr);return this.size-=Rr?1:0,Rr}function cn(yr){return Zs(this,yr).get(yr)}function Tn(yr){return Zs(this,yr).has(yr)}function Eo(yr,Rr){var sn=Zs(this,yr),hn=sn.size;return sn.set(yr,Rr),this.size+=sn.size==hn?0:1,this}ns.prototype.clear=Ns,ns.prototype.delete=Ws,ns.prototype.get=cn,ns.prototype.has=Tn,ns.prototype.set=Eo;function Jn(yr){var Rr=-1,sn=yr==null?0:yr.length;for(this.__data__=new ns;++Rr<sn;)this.add(yr[Rr])}function Qs(yr){return this.__data__.set(yr,rt),this}function uo(yr){return this.__data__.has(yr)}Jn.prototype.add=Jn.prototype.push=Qs,Jn.prototype.has=uo;function us(yr){var Rr=this.__data__=new bn(yr);this.size=Rr.size}function Ts(){this.__data__=new bn,this.size=0}function Rn(yr){var Rr=this.__data__,sn=Rr.delete(yr);return this.size=Rr.size,sn}function kn(yr){return this.__data__.get(yr)}function Gs(yr){return this.__data__.has(yr)}function Xn(yr,Rr){var sn=this.__data__;if(sn instanceof bn){var hn=sn.__data__;if(!Mn||hn.length<tt-1)return hn.push([yr,Rr]),this.size=++sn.size,this;sn=this.__data__=new ns(hn)}return sn.set(yr,Rr),this.size=sn.size,this}us.prototype.clear=Ts,us.prototype.delete=Rn,us.prototype.get=kn,us.prototype.has=Gs,us.prototype.set=Xn;function gs(yr,Rr){var sn=Mo(yr),hn=!sn&&Co(yr),_i=!sn&&!hn&&Xo(yr),Pn=!sn&&!hn&&!_i&&Po(yr),jn=sn||hn||_i||Pn,fs=jn?Pr(yr.length,String):[],hs=fs.length;for(var es in yr)(Rr||Vr.call(yr,es))&&!(jn&&(es=="length"||_i&&(es=="offset"||es=="parent")||Pn&&(es=="buffer"||es=="byteLength"||es=="byteOffset")||Ao(es,hs)))&&fs.push(es);return fs}function As(yr,Rr){for(var sn=yr.length;sn--;)if(Ko(yr[sn][0],Rr))return sn;return-1}function Ks(yr,Rr,sn){var hn=Rr(yr);return Mo(yr)?hn:kr(hn,sn(yr))}function os(yr){return yr==null?yr===void 0?Dt:Ct:Cr&&Cr in Object(yr)?Go(yr):po(yr)}function bo(yr){return To(yr)&&os(yr)==at}function Oo(yr,Rr,sn,hn,_i){return yr===Rr?!0:yr==null||Rr==null||!To(yr)&&!To(Rr)?yr!==yr&&Rr!==Rr:jo(yr,Rr,sn,hn,Oo,_i)}function jo(yr,Rr,sn,hn,_i,Pn){var jn=Mo(yr),fs=Mo(Rr),hs=jn?lt:eo(yr),es=fs?lt:eo(Rr);hs=hs==at?Mt:hs,es=es==at?Mt:es;var ts=hs==Mt,rs=es==Mt,vs=hs==es;if(vs&&Xo(yr)){if(!Xo(Rr))return!1;jn=!0,ts=!1}if(vs&&!ts)return Pn||(Pn=new us),jn||Po(yr)?ko(yr,Rr,sn,hn,_i,Pn):No(yr,Rr,hs,sn,hn,_i,Pn);if(!(sn&nt)){var ds=ts&&Vr.call(yr,"__wrapped__"),Es=rs&&Vr.call(Rr,"__wrapped__");if(ds||Es){var qs=ds?yr.value():yr,to=Es?Rr.value():Rr;return Pn||(Pn=new us),_i(qs,to,sn,hn,Pn)}}return vs?(Pn||(Pn=new us),Rl(yr,Rr,sn,hn,_i,Pn)):!1}function co(yr){if(!Bs(yr)||ho(yr))return!1;var Rr=wo(yr)?Gr:sr;return Rr.test(Ln(yr))}function Pl(yr){return To(yr)&&ba(yr.length)&&!!dr[os(yr)]}function Is(yr){if(!Io(yr))return fn(yr);var Rr=[];for(var sn in Object(yr))Vr.call(yr,sn)&&sn!="constructor"&&Rr.push(sn);return Rr}function ko(yr,Rr,sn,hn,_i,Pn){var jn=sn&nt,fs=yr.length,hs=Rr.length;if(fs!=hs&&!(jn&&hs>fs))return!1;var es=Pn.get(yr);if(es&&Pn.get(Rr))return es==Rr;var ts=-1,rs=!0,vs=sn&st?new Jn:void 0;for(Pn.set(yr,Rr),Pn.set(Rr,yr);++ts<fs;){var ds=yr[ts],Es=Rr[ts];if(hn)var qs=jn?hn(Es,ds,ts,Rr,yr,Pn):hn(ds,Es,ts,yr,Rr,Pn);if(qs!==void 0){if(qs)continue;rs=!1;break}if(vs){if(!nn(Rr,function(to,Ds){if(!Zr(vs,Ds)&&(ds===to||_i(ds,to,sn,hn,Pn)))return vs.push(Ds)})){rs=!1;break}}else if(!(ds===Es||_i(ds,Es,sn,hn,Pn))){rs=!1;break}}return Pn.delete(yr),Pn.delete(Rr),rs}function No(yr,Rr,sn,hn,_i,Pn,jn){switch(sn){case zt:if(yr.byteLength!=Rr.byteLength||yr.byteOffset!=Rr.byteOffset)return!1;yr=yr.buffer,Rr=Rr.buffer;case Ut:return!(yr.byteLength!=Rr.byteLength||!Pn(new an(yr),new an(Rr)));case dt:case gt:case Tt:return Ko(+yr,+Rr);case pt:return yr.name==Rr.name&&yr.message==Rr.message;case Bt:case Lt:return yr==Rr+"";case At:var fs=cr;case Ft:var hs=hn&nt;if(fs||(fs=Tr),yr.size!=Rr.size&&!hs)return!1;var es=jn.get(yr);if(es)return es==Rr;hn|=st,jn.set(yr,Rr);var ts=ko(fs(yr),fs(Rr),hn,_i,Pn,jn);return jn.delete(yr),ts;case wt:if(gr)return gr.call(yr)==gr.call(Rr)}return!1}function Rl(yr,Rr,sn,hn,_i,Pn){var jn=sn&nt,fs=fo(yr),hs=fs.length,es=fo(Rr),ts=es.length;if(hs!=ts&&!jn)return!1;for(var rs=hs;rs--;){var vs=fs[rs];if(!(jn?vs in Rr:Vr.call(Rr,vs)))return!1}var ds=Pn.get(yr);if(ds&&Pn.get(Rr))return ds==Rr;var Es=!0;Pn.set(yr,Rr),Pn.set(Rr,yr);for(var qs=jn;++rs<hs;){vs=fs[rs];var to=yr[vs],Ds=Rr[vs];if(hn)var ys=jn?hn(Ds,to,vs,Rr,yr,Pn):hn(to,Ds,vs,yr,Rr,Pn);if(!(ys===void 0?to===Ds||_i(to,Ds,sn,hn,Pn):ys)){Es=!1;break}qs||(qs=vs=="constructor")}if(Es&&!qs){var _s=yr.constructor,Yn=Rr.constructor;_s!=Yn&&"constructor"in yr&&"constructor"in Rr&&!(typeof _s=="function"&&_s instanceof _s&&typeof Yn=="function"&&Yn instanceof Yn)&&(Es=!1)}return Pn.delete(yr),Pn.delete(Rr),Es}function fo(yr){return Ks(yr,Xs,Ll)}function Zs(yr,Rr){var sn=yr.__data__;return Wo(Rr)?sn[typeof Rr=="string"?"string":"hash"]:sn.map}function Vs(yr,Rr){var sn=zr(yr,Rr);return co(sn)?sn:void 0}function Go(yr){var Rr=Vr.call(yr,Cr),sn=yr[Cr];try{yr[Cr]=void 0;var hn=!0}catch{}var _i=br.call(yr);return hn&&(Rr?yr[Cr]=sn:delete yr[Cr]),_i}var Ll=Ur?function(yr){return yr==null?[]:(yr=Object(yr),Br(Ur(yr),function(Rr){return gn.call(yr,Rr)}))}:$a,eo=os;(mn&&eo(new mn(new ArrayBuffer(1)))!=zt||Mn&&eo(new Mn)!=At||Hn&&eo(Hn.resolve())!=Et||Wn&&eo(new Wn)!=Ft||$n&&eo(new $n)!=Ot)&&(eo=function(yr){var Rr=os(yr),sn=Rr==Mt?yr.constructor:void 0,hn=sn?Ln(sn):"";if(hn)switch(hn){case Kn:return zt;case Vn:return At;case Ls:return Et;case ws:return Ft;case qn:return Ot}return Rr});function Ao(yr,Rr){return Rr=Rr??ot,!!Rr&&(typeof yr=="number"||lr.test(yr))&&yr>-1&&yr%1==0&&yr<Rr}function Wo(yr){var Rr=typeof yr;return Rr=="string"||Rr=="number"||Rr=="symbol"||Rr=="boolean"?yr!=="__proto__":yr===null}function ho(yr){return!!ln&&ln in yr}function Io(yr){var Rr=yr&&yr.constructor,sn=typeof Rr=="function"&&Rr.prototype||en;return yr===sn}function po(yr){return br.call(yr)}function Ln(yr){if(yr!=null){try{return rn.call(yr)}catch{}try{return yr+""}catch{}}return""}function Ko(yr,Rr){return yr===Rr||yr!==yr&&Rr!==Rr}var Co=bo(function(){return arguments}())?bo:function(yr){return To(yr)&&Vr.call(yr,"callee")&&!gn.call(yr,"callee")},Mo=Array.isArray;function xa(yr){return yr!=null&&ba(yr.length)&&!wo(yr)}var Xo=tn||qo;function cs(yr,Rr){return Oo(yr,Rr)}function wo(yr){if(!Bs(yr))return!1;var Rr=os(yr);return Rr==vt||Rr==St||Rr==ft||Rr==Rt}function ba(yr){return typeof yr=="number"&&yr>-1&&yr%1==0&&yr<=ot}function Bs(yr){var Rr=typeof yr;return yr!=null&&(Rr=="object"||Rr=="function")}function To(yr){return yr!=null&&typeof yr=="object"}var Po=Ar?Xr(Ar):Pl;function Xs(yr){return xa(yr)?gs(yr):Is(yr)}function $a(){return[]}function qo(){return!1}et.exports=cs})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,qrcode={exports:{}};(function(et,_e){var tt=function(){var rt=function(Bt,Ft){var Lt=236,wt=17,Dt=Bt,Ot=st[Ft],Ut=null,zt=0,tr=null,jt=[],Kt={},qt=function(pr,_r){zt=Dt*4+17,Ut=function(mr){for(var Er=new Array(mr),ur=0;ur<mr;ur+=1){Er[ur]=new Array(mr);for(var xr=0;xr<mr;xr+=1)Er[ur][xr]=null}return Er}(zt),er(0,0),er(zt-7,0),er(0,zt-7),Zt(),Vt(),nr(pr,_r),Dt>=7&&Wt(pr),tr==null&&(tr=dr(Dt,Ot,jt)),sr(tr,_r)},er=function(pr,_r){for(var mr=-1;mr<=7;mr+=1)if(!(pr+mr<=-1||zt<=pr+mr))for(var Er=-1;Er<=7;Er+=1)_r+Er<=-1||zt<=_r+Er||(0<=mr&&mr<=6&&(Er==0||Er==6)||0<=Er&&Er<=6&&(mr==0||mr==6)||2<=mr&&mr<=4&&2<=Er&&Er<=4?Ut[pr+mr][_r+Er]=!0:Ut[pr+mr][_r+Er]=!1)},kt=function(){for(var pr=0,_r=0,mr=0;mr<8;mr+=1){qt(!0,mr);var Er=at.getLostPoint(Kt);(mr==0||pr>Er)&&(pr=Er,_r=mr)}return _r},Vt=function(){for(var pr=8;pr<zt-8;pr+=1)Ut[pr][6]==null&&(Ut[pr][6]=pr%2==0);for(var _r=8;_r<zt-8;_r+=1)Ut[6][_r]==null&&(Ut[6][_r]=_r%2==0)},Zt=function(){for(var pr=at.getPatternPosition(Dt),_r=0;_r<pr.length;_r+=1)for(var mr=0;mr<pr.length;mr+=1){var Er=pr[_r],ur=pr[mr];if(Ut[Er][ur]==null)for(var xr=-2;xr<=2;xr+=1)for(var Ar=-2;Ar<=2;Ar+=1)xr==-2||xr==2||Ar==-2||Ar==2||xr==0&&Ar==0?Ut[Er+xr][ur+Ar]=!0:Ut[Er+xr][ur+Ar]=!1}},Wt=function(pr){for(var _r=at.getBCHTypeNumber(Dt),mr=0;mr<18;mr+=1){var Er=!pr&&(_r>>mr&1)==1;Ut[Math.floor(mr/3)][mr%3+zt-8-3]=Er}for(var mr=0;mr<18;mr+=1){var Er=!pr&&(_r>>mr&1)==1;Ut[mr%3+zt-8-3][Math.floor(mr/3)]=Er}},nr=function(pr,_r){for(var mr=Ot<<3|_r,Er=at.getBCHTypeInfo(mr),ur=0;ur<15;ur+=1){var xr=!pr&&(Er>>ur&1)==1;ur<6?Ut[ur][8]=xr:ur<8?Ut[ur+1][8]=xr:Ut[zt-15+ur][8]=xr}for(var ur=0;ur<15;ur+=1){var xr=!pr&&(Er>>ur&1)==1;ur<8?Ut[8][zt-ur-1]=xr:ur<9?Ut[8][15-ur-1+1]=xr:Ut[8][15-ur-1]=xr}Ut[zt-8][8]=!pr},sr=function(pr,_r){for(var mr=-1,Er=zt-1,ur=7,xr=0,Ar=at.getMaskFunction(_r),Br=zt-1;Br>0;Br-=2)for(Br==6&&(Br-=1);;){for(var kr=0;kr<2;kr+=1)if(Ut[Er][Br-kr]==null){var nn=!1;xr<pr.length&&(nn=(pr[xr]>>>ur&1)==1);var Pr=Ar(Er,Br-kr);Pr&&(nn=!nn),Ut[Er][Br-kr]=nn,ur-=1,ur==-1&&(xr+=1,ur=7)}if(Er+=mr,Er<0||zt<=Er){Er-=mr,mr=-mr;break}}},lr=function(pr,_r){for(var mr=0,Er=0,ur=0,xr=new Array(_r.length),Ar=new Array(_r.length),Br=0;Br<_r.length;Br+=1){var kr=_r[Br].dataCount,nn=_r[Br].totalCount-kr;Er=Math.max(Er,kr),ur=Math.max(ur,nn),xr[Br]=new Array(kr);for(var Pr=0;Pr<xr[Br].length;Pr+=1)xr[Br][Pr]=255&pr.getBuffer()[Pr+mr];mr+=kr;var Xr=at.getErrorCorrectPolynomial(nn),Zr=ft(xr[Br],Xr.getLength()-1),zr=Zr.mod(Xr);Ar[Br]=new Array(Xr.getLength()-1);for(var Pr=0;Pr<Ar[Br].length;Pr+=1){var cr=Pr+zr.getLength()-Ar[Br].length;Ar[Br][Pr]=cr>=0?zr.getAt(cr):0}}for(var ar=0,Pr=0;Pr<_r.length;Pr+=1)ar+=_r[Pr].totalCount;for(var Tr=new Array(ar),Nr=0,Pr=0;Pr<Er;Pr+=1)for(var Br=0;Br<_r.length;Br+=1)Pr<xr[Br].length&&(Tr[Nr]=xr[Br][Pr],Nr+=1);for(var Pr=0;Pr<ur;Pr+=1)for(var Br=0;Br<_r.length;Br+=1)Pr<Ar[Br].length&&(Tr[Nr]=Ar[Br][Pr],Nr+=1);return Tr},dr=function(pr,_r,mr){for(var Er=dt.getRSBlocks(pr,_r),ur=gt(),xr=0;xr<mr.length;xr+=1){var Ar=mr[xr];ur.put(Ar.getMode(),4),ur.put(Ar.getLength(),at.getLengthInBits(Ar.getMode(),pr)),Ar.write(ur)}for(var Br=0,xr=0;xr<Er.length;xr+=1)Br+=Er[xr].dataCount;if(ur.getLengthInBits()>Br*8)throw"code length overflow. ("+ur.getLengthInBits()+">"+Br*8+")";for(ur.getLengthInBits()+4<=Br*8&&ur.put(0,4);ur.getLengthInBits()%8!=0;)ur.putBit(!1);for(;!(ur.getLengthInBits()>=Br*8||(ur.put(Lt,8),ur.getLengthInBits()>=Br*8));)ur.put(wt,8);return lr(ur,Er)};Kt.addData=function(pr,_r){_r=_r||"Byte";var mr=null;switch(_r){case"Numeric":mr=pt(pr);break;case"Alphanumeric":mr=vt(pr);break;case"Byte":mr=St(pr);break;case"Kanji":mr=At(pr);break;default:throw"mode:"+_r}jt.push(mr),tr=null},Kt.isDark=function(pr,_r){if(pr<0||zt<=pr||_r<0||zt<=_r)throw pr+","+_r;return Ut[pr][_r]},Kt.getModuleCount=function(){return zt},Kt.make=function(){if(Dt<1){for(var pr=1;pr<40;pr++){for(var _r=dt.getRSBlocks(pr,Ot),mr=gt(),Er=0;Er<jt.length;Er++){var ur=jt[Er];mr.put(ur.getMode(),4),mr.put(ur.getLength(),at.getLengthInBits(ur.getMode(),pr)),ur.write(mr)}for(var xr=0,Er=0;Er<_r.length;Er++)xr+=_r[Er].dataCount;if(mr.getLengthInBits()<=xr*8)break}Dt=pr}qt(!1,kt())},Kt.createTableTag=function(pr,_r){pr=pr||2,_r=typeof _r>"u"?pr*4:_r;var mr="";mr+='<table style="',mr+=" border-width: 0px; border-style: none;",mr+=" border-collapse: collapse;",mr+=" padding: 0px; margin: "+_r+"px;",mr+='">',mr+="<tbody>";for(var Er=0;Er<Kt.getModuleCount();Er+=1){mr+="<tr>";for(var ur=0;ur<Kt.getModuleCount();ur+=1)mr+='<td style="',mr+=" border-width: 0px; border-style: none;",mr+=" border-collapse: collapse;",mr+=" padding: 0px; margin: 0px;",mr+=" width: "+pr+"px;",mr+=" height: "+pr+"px;",mr+=" background-color: ",mr+=Kt.isDark(Er,ur)?"#000000":"#ffffff",mr+=";",mr+='"/>';mr+="</tr>"}return mr+="</tbody>",mr+="</table>",mr},Kt.createSvgTag=function(pr,_r,mr,Er){var ur={};typeof arguments[0]=="object"&&(ur=arguments[0],pr=ur.cellSize,_r=ur.margin,mr=ur.alt,Er=ur.title),pr=pr||2,_r=typeof _r>"u"?pr*4:_r,mr=typeof mr=="string"?{text:mr}:mr||{},mr.text=mr.text||null,mr.id=mr.text?mr.id||"qrcode-description":null,Er=typeof Er=="string"?{text:Er}:Er||{},Er.text=Er.text||null,Er.id=Er.text?Er.id||"qrcode-title":null;var xr=Kt.getModuleCount()*pr+_r*2,Ar,Br,kr,nn,Pr="",Xr;for(Xr="l"+pr+",0 0,"+pr+" -"+pr+",0 0,-"+pr+"z ",Pr+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Pr+=ur.scalable?"":' width="'+xr+'px" height="'+xr+'px"',Pr+=' viewBox="0 0 '+xr+" "+xr+'" ',Pr+=' preserveAspectRatio="xMinYMin meet"',Pr+=Er.text||mr.text?' role="img" aria-labelledby="'+hr([Er.id,mr.id].join(" ").trim())+'"':"",Pr+=">",Pr+=Er.text?'<title id="'+hr(Er.id)+'">'+hr(Er.text)+"</title>":"",Pr+=mr.text?'<description id="'+hr(mr.id)+'">'+hr(mr.text)+"</description>":"",Pr+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Pr+='<path d="',kr=0;kr<Kt.getModuleCount();kr+=1)for(nn=kr*pr+_r,Ar=0;Ar<Kt.getModuleCount();Ar+=1)Kt.isDark(kr,Ar)&&(Br=Ar*pr+_r,Pr+="M"+Br+","+nn+Xr);return Pr+='" stroke="transparent" fill="black"/>',Pr+="</svg>",Pr},Kt.createDataURL=function(pr,_r){pr=pr||2,_r=typeof _r>"u"?pr*4:_r;var mr=Kt.getModuleCount()*pr+_r*2,Er=_r,ur=mr-_r;return Rt(mr,mr,function(xr,Ar){if(Er<=xr&&xr<ur&&Er<=Ar&&Ar<ur){var Br=Math.floor((xr-Er)/pr),kr=Math.floor((Ar-Er)/pr);return Kt.isDark(kr,Br)?0:1}else return 1})},Kt.createImgTag=function(pr,_r,mr){pr=pr||2,_r=typeof _r>"u"?pr*4:_r;var Er=Kt.getModuleCount()*pr+_r*2,ur="";return ur+="<img",ur+=' src="',ur+=Kt.createDataURL(pr,_r),ur+='"',ur+=' width="',ur+=Er,ur+='"',ur+=' height="',ur+=Er,ur+='"',mr&&(ur+=' alt="',ur+=hr(mr),ur+='"'),ur+="/>",ur};var hr=function(pr){for(var _r="",mr=0;mr<pr.length;mr+=1){var Er=pr.charAt(mr);switch(Er){case"<":_r+="&lt;";break;case">":_r+="&gt;";break;case"&":_r+="&amp;";break;case'"':_r+="&quot;";break;default:_r+=Er;break}}return _r},wr=function(pr){var _r=1;pr=typeof pr>"u"?_r*2:pr;var mr=Kt.getModuleCount()*_r+pr*2,Er=pr,ur=mr-pr,xr,Ar,Br,kr,nn,Pr={"":""," ":""," ":"","  ":" "},Xr={"":""," ":""," ":" ","  ":" "},Zr="";for(xr=0;xr<mr;xr+=2){for(Br=Math.floor((xr-Er)/_r),kr=Math.floor((xr+1-Er)/_r),Ar=0;Ar<mr;Ar+=1)nn="",Er<=Ar&&Ar<ur&&Er<=xr&&xr<ur&&Kt.isDark(Br,Math.floor((Ar-Er)/_r))&&(nn=" "),Er<=Ar&&Ar<ur&&Er<=xr+1&&xr+1<ur&&Kt.isDark(kr,Math.floor((Ar-Er)/_r))?nn+=" ":nn+="",Zr+=pr<1&&xr+1>=ur?Xr[nn]:Pr[nn];Zr+=`
`}return mr%2&&pr>0?Zr.substring(0,Zr.length-mr-1)+Array(mr+1).join(""):Zr.substring(0,Zr.length-1)};return Kt.createASCII=function(pr,_r){if(pr=pr||1,pr<2)return wr(_r);pr-=1,_r=typeof _r>"u"?pr*2:_r;var mr=Kt.getModuleCount()*pr+_r*2,Er=_r,ur=mr-_r,xr,Ar,Br,kr,nn=Array(pr+1).join(""),Pr=Array(pr+1).join("  "),Xr="",Zr="";for(xr=0;xr<mr;xr+=1){for(Br=Math.floor((xr-Er)/pr),Zr="",Ar=0;Ar<mr;Ar+=1)kr=1,Er<=Ar&&Ar<ur&&Er<=xr&&xr<ur&&Kt.isDark(Br,Math.floor((Ar-Er)/pr))&&(kr=0),Zr+=kr?nn:Pr;for(Br=0;Br<pr;Br+=1)Xr+=Zr+`
`}return Xr.substring(0,Xr.length-1)},Kt.renderTo2dContext=function(pr,_r){_r=_r||2;for(var mr=Kt.getModuleCount(),Er=0;Er<mr;Er++)for(var ur=0;ur<mr;ur++)pr.fillStyle=Kt.isDark(Er,ur)?"black":"white",pr.fillRect(Er*_r,ur*_r,_r,_r)},Kt};rt.stringToBytesFuncs={default:function(Bt){for(var Ft=[],Lt=0;Lt<Bt.length;Lt+=1){var wt=Bt.charCodeAt(Lt);Ft.push(wt&255)}return Ft}},rt.stringToBytes=rt.stringToBytesFuncs.default,rt.createStringToBytes=function(Bt,Ft){var Lt=function(){for(var Dt=Mt(Bt),Ot=function(){var Vt=Dt.read();if(Vt==-1)throw"eof";return Vt},Ut=0,zt={};;){var tr=Dt.read();if(tr==-1)break;var jt=Ot(),Kt=Ot(),qt=Ot(),er=String.fromCharCode(tr<<8|jt),kt=Kt<<8|qt;zt[er]=kt,Ut+=1}if(Ut!=Ft)throw Ut+" != "+Ft;return zt}(),wt="?".charCodeAt(0);return function(Dt){for(var Ot=[],Ut=0;Ut<Dt.length;Ut+=1){var zt=Dt.charCodeAt(Ut);if(zt<128)Ot.push(zt);else{var tr=Lt[Dt.charAt(Ut)];typeof tr=="number"?(tr&255)==tr?Ot.push(tr):(Ot.push(tr>>>8),Ot.push(tr&255)):Ot.push(wt)}}return Ot}};var nt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},st={L:1,M:0,Q:3,H:2},ot={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},at=function(){var Bt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Ft=1335,Lt=7973,wt=21522,Dt={},Ot=function(Ut){for(var zt=0;Ut!=0;)zt+=1,Ut>>>=1;return zt};return Dt.getBCHTypeInfo=function(Ut){for(var zt=Ut<<10;Ot(zt)-Ot(Ft)>=0;)zt^=Ft<<Ot(zt)-Ot(Ft);return(Ut<<10|zt)^wt},Dt.getBCHTypeNumber=function(Ut){for(var zt=Ut<<12;Ot(zt)-Ot(Lt)>=0;)zt^=Lt<<Ot(zt)-Ot(Lt);return Ut<<12|zt},Dt.getPatternPosition=function(Ut){return Bt[Ut-1]},Dt.getMaskFunction=function(Ut){switch(Ut){case ot.PATTERN000:return function(zt,tr){return(zt+tr)%2==0};case ot.PATTERN001:return function(zt,tr){return zt%2==0};case ot.PATTERN010:return function(zt,tr){return tr%3==0};case ot.PATTERN011:return function(zt,tr){return(zt+tr)%3==0};case ot.PATTERN100:return function(zt,tr){return(Math.floor(zt/2)+Math.floor(tr/3))%2==0};case ot.PATTERN101:return function(zt,tr){return zt*tr%2+zt*tr%3==0};case ot.PATTERN110:return function(zt,tr){return(zt*tr%2+zt*tr%3)%2==0};case ot.PATTERN111:return function(zt,tr){return(zt*tr%3+(zt+tr)%2)%2==0};default:throw"bad maskPattern:"+Ut}},Dt.getErrorCorrectPolynomial=function(Ut){for(var zt=ft([1],0),tr=0;tr<Ut;tr+=1)zt=zt.multiply(ft([1,lt.gexp(tr)],0));return zt},Dt.getLengthInBits=function(Ut,zt){if(1<=zt&&zt<10)switch(Ut){case nt.MODE_NUMBER:return 10;case nt.MODE_ALPHA_NUM:return 9;case nt.MODE_8BIT_BYTE:return 8;case nt.MODE_KANJI:return 8;default:throw"mode:"+Ut}else if(zt<27)switch(Ut){case nt.MODE_NUMBER:return 12;case nt.MODE_ALPHA_NUM:return 11;case nt.MODE_8BIT_BYTE:return 16;case nt.MODE_KANJI:return 10;default:throw"mode:"+Ut}else if(zt<41)switch(Ut){case nt.MODE_NUMBER:return 14;case nt.MODE_ALPHA_NUM:return 13;case nt.MODE_8BIT_BYTE:return 16;case nt.MODE_KANJI:return 12;default:throw"mode:"+Ut}else throw"type:"+zt},Dt.getLostPoint=function(Ut){for(var zt=Ut.getModuleCount(),tr=0,jt=0;jt<zt;jt+=1)for(var Kt=0;Kt<zt;Kt+=1){for(var qt=0,er=Ut.isDark(jt,Kt),kt=-1;kt<=1;kt+=1)if(!(jt+kt<0||zt<=jt+kt))for(var Vt=-1;Vt<=1;Vt+=1)Kt+Vt<0||zt<=Kt+Vt||kt==0&&Vt==0||er==Ut.isDark(jt+kt,Kt+Vt)&&(qt+=1);qt>5&&(tr+=3+qt-5)}for(var jt=0;jt<zt-1;jt+=1)for(var Kt=0;Kt<zt-1;Kt+=1){var Zt=0;Ut.isDark(jt,Kt)&&(Zt+=1),Ut.isDark(jt+1,Kt)&&(Zt+=1),Ut.isDark(jt,Kt+1)&&(Zt+=1),Ut.isDark(jt+1,Kt+1)&&(Zt+=1),(Zt==0||Zt==4)&&(tr+=3)}for(var jt=0;jt<zt;jt+=1)for(var Kt=0;Kt<zt-6;Kt+=1)Ut.isDark(jt,Kt)&&!Ut.isDark(jt,Kt+1)&&Ut.isDark(jt,Kt+2)&&Ut.isDark(jt,Kt+3)&&Ut.isDark(jt,Kt+4)&&!Ut.isDark(jt,Kt+5)&&Ut.isDark(jt,Kt+6)&&(tr+=40);for(var Kt=0;Kt<zt;Kt+=1)for(var jt=0;jt<zt-6;jt+=1)Ut.isDark(jt,Kt)&&!Ut.isDark(jt+1,Kt)&&Ut.isDark(jt+2,Kt)&&Ut.isDark(jt+3,Kt)&&Ut.isDark(jt+4,Kt)&&!Ut.isDark(jt+5,Kt)&&Ut.isDark(jt+6,Kt)&&(tr+=40);for(var Wt=0,Kt=0;Kt<zt;Kt+=1)for(var jt=0;jt<zt;jt+=1)Ut.isDark(jt,Kt)&&(Wt+=1);var nr=Math.abs(100*Wt/zt/zt-50)/5;return tr+=nr*10,tr},Dt}(),lt=function(){for(var Bt=new Array(256),Ft=new Array(256),Lt=0;Lt<8;Lt+=1)Bt[Lt]=1<<Lt;for(var Lt=8;Lt<256;Lt+=1)Bt[Lt]=Bt[Lt-4]^Bt[Lt-5]^Bt[Lt-6]^Bt[Lt-8];for(var Lt=0;Lt<255;Lt+=1)Ft[Bt[Lt]]=Lt;var wt={};return wt.glog=function(Dt){if(Dt<1)throw"glog("+Dt+")";return Ft[Dt]},wt.gexp=function(Dt){for(;Dt<0;)Dt+=255;for(;Dt>=256;)Dt-=255;return Bt[Dt]},wt}();function ft(Bt,Ft){if(typeof Bt.length>"u")throw Bt.length+"/"+Ft;var Lt=function(){for(var Dt=0;Dt<Bt.length&&Bt[Dt]==0;)Dt+=1;for(var Ot=new Array(Bt.length-Dt+Ft),Ut=0;Ut<Bt.length-Dt;Ut+=1)Ot[Ut]=Bt[Ut+Dt];return Ot}(),wt={};return wt.getAt=function(Dt){return Lt[Dt]},wt.getLength=function(){return Lt.length},wt.multiply=function(Dt){for(var Ot=new Array(wt.getLength()+Dt.getLength()-1),Ut=0;Ut<wt.getLength();Ut+=1)for(var zt=0;zt<Dt.getLength();zt+=1)Ot[Ut+zt]^=lt.gexp(lt.glog(wt.getAt(Ut))+lt.glog(Dt.getAt(zt)));return ft(Ot,0)},wt.mod=function(Dt){if(wt.getLength()-Dt.getLength()<0)return wt;for(var Ot=lt.glog(wt.getAt(0))-lt.glog(Dt.getAt(0)),Ut=new Array(wt.getLength()),zt=0;zt<wt.getLength();zt+=1)Ut[zt]=wt.getAt(zt);for(var zt=0;zt<Dt.getLength();zt+=1)Ut[zt]^=lt.gexp(lt.glog(Dt.getAt(zt))+Ot);return ft(Ut,0).mod(Dt)},wt}var dt=function(){var Bt=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Ft=function(Dt,Ot){var Ut={};return Ut.totalCount=Dt,Ut.dataCount=Ot,Ut},Lt={},wt=function(Dt,Ot){switch(Ot){case st.L:return Bt[(Dt-1)*4+0];case st.M:return Bt[(Dt-1)*4+1];case st.Q:return Bt[(Dt-1)*4+2];case st.H:return Bt[(Dt-1)*4+3];default:return}};return Lt.getRSBlocks=function(Dt,Ot){var Ut=wt(Dt,Ot);if(typeof Ut>"u")throw"bad rs block @ typeNumber:"+Dt+"/errorCorrectionLevel:"+Ot;for(var zt=Ut.length/3,tr=[],jt=0;jt<zt;jt+=1)for(var Kt=Ut[jt*3+0],qt=Ut[jt*3+1],er=Ut[jt*3+2],kt=0;kt<Kt;kt+=1)tr.push(Ft(qt,er));return tr},Lt}(),gt=function(){var Bt=[],Ft=0,Lt={};return Lt.getBuffer=function(){return Bt},Lt.getAt=function(wt){var Dt=Math.floor(wt/8);return(Bt[Dt]>>>7-wt%8&1)==1},Lt.put=function(wt,Dt){for(var Ot=0;Ot<Dt;Ot+=1)Lt.putBit((wt>>>Dt-Ot-1&1)==1)},Lt.getLengthInBits=function(){return Ft},Lt.putBit=function(wt){var Dt=Math.floor(Ft/8);Bt.length<=Dt&&Bt.push(0),wt&&(Bt[Dt]|=128>>>Ft%8),Ft+=1},Lt},pt=function(Bt){var Ft=nt.MODE_NUMBER,Lt=Bt,wt={};wt.getMode=function(){return Ft},wt.getLength=function(Ut){return Lt.length},wt.write=function(Ut){for(var zt=Lt,tr=0;tr+2<zt.length;)Ut.put(Dt(zt.substring(tr,tr+3)),10),tr+=3;tr<zt.length&&(zt.length-tr==1?Ut.put(Dt(zt.substring(tr,tr+1)),4):zt.length-tr==2&&Ut.put(Dt(zt.substring(tr,tr+2)),7))};var Dt=function(Ut){for(var zt=0,tr=0;tr<Ut.length;tr+=1)zt=zt*10+Ot(Ut.charAt(tr));return zt},Ot=function(Ut){if("0"<=Ut&&Ut<="9")return Ut.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+Ut};return wt},vt=function(Bt){var Ft=nt.MODE_ALPHA_NUM,Lt=Bt,wt={};wt.getMode=function(){return Ft},wt.getLength=function(Ot){return Lt.length},wt.write=function(Ot){for(var Ut=Lt,zt=0;zt+1<Ut.length;)Ot.put(Dt(Ut.charAt(zt))*45+Dt(Ut.charAt(zt+1)),11),zt+=2;zt<Ut.length&&Ot.put(Dt(Ut.charAt(zt)),6)};var Dt=function(Ot){if("0"<=Ot&&Ot<="9")return Ot.charCodeAt(0)-"0".charCodeAt(0);if("A"<=Ot&&Ot<="Z")return Ot.charCodeAt(0)-"A".charCodeAt(0)+10;switch(Ot){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Ot}};return wt},St=function(Bt){var Ft=nt.MODE_8BIT_BYTE,Lt=rt.stringToBytes(Bt),wt={};return wt.getMode=function(){return Ft},wt.getLength=function(Dt){return Lt.length},wt.write=function(Dt){for(var Ot=0;Ot<Lt.length;Ot+=1)Dt.put(Lt[Ot],8)},wt},At=function(Bt){var Ft=nt.MODE_KANJI,Lt=rt.stringToBytesFuncs.SJIS;if(!Lt)throw"sjis not supported.";(function(Ot,Ut){var zt=Lt(Ot);if(zt.length!=2||(zt[0]<<8|zt[1])!=Ut)throw"sjis not supported."})("",38726);var wt=Lt(Bt),Dt={};return Dt.getMode=function(){return Ft},Dt.getLength=function(Ot){return~~(wt.length/2)},Dt.write=function(Ot){for(var Ut=wt,zt=0;zt+1<Ut.length;){var tr=(255&Ut[zt])<<8|255&Ut[zt+1];if(33088<=tr&&tr<=40956)tr-=33088;else if(57408<=tr&&tr<=60351)tr-=49472;else throw"illegal char at "+(zt+1)+"/"+tr;tr=(tr>>>8&255)*192+(tr&255),Ot.put(tr,13),zt+=2}if(zt<Ut.length)throw"illegal char at "+(zt+1)},Dt},Tt=function(){var Bt=[],Ft={};return Ft.writeByte=function(Lt){Bt.push(Lt&255)},Ft.writeShort=function(Lt){Ft.writeByte(Lt),Ft.writeByte(Lt>>>8)},Ft.writeBytes=function(Lt,wt,Dt){wt=wt||0,Dt=Dt||Lt.length;for(var Ot=0;Ot<Dt;Ot+=1)Ft.writeByte(Lt[Ot+wt])},Ft.writeString=function(Lt){for(var wt=0;wt<Lt.length;wt+=1)Ft.writeByte(Lt.charCodeAt(wt))},Ft.toByteArray=function(){return Bt},Ft.toString=function(){var Lt="";Lt+="[";for(var wt=0;wt<Bt.length;wt+=1)wt>0&&(Lt+=","),Lt+=Bt[wt];return Lt+="]",Lt},Ft},Ct=function(){var Bt=0,Ft=0,Lt=0,wt="",Dt={},Ot=function(zt){wt+=String.fromCharCode(Ut(zt&63))},Ut=function(zt){if(!(zt<0)){if(zt<26)return 65+zt;if(zt<52)return 97+(zt-26);if(zt<62)return 48+(zt-52);if(zt==62)return 43;if(zt==63)return 47}throw"n:"+zt};return Dt.writeByte=function(zt){for(Bt=Bt<<8|zt&255,Ft+=8,Lt+=1;Ft>=6;)Ot(Bt>>>Ft-6),Ft-=6},Dt.flush=function(){if(Ft>0&&(Ot(Bt<<6-Ft),Bt=0,Ft=0),Lt%3!=0)for(var zt=3-Lt%3,tr=0;tr<zt;tr+=1)wt+="="},Dt.toString=function(){return wt},Dt},Mt=function(Bt){var Ft=Bt,Lt=0,wt=0,Dt=0,Ot={};Ot.read=function(){for(;Dt<8;){if(Lt>=Ft.length){if(Dt==0)return-1;throw"unexpected end of file./"+Dt}var zt=Ft.charAt(Lt);if(Lt+=1,zt=="=")return Dt=0,-1;if(zt.match(/^\s$/))continue;wt=wt<<6|Ut(zt.charCodeAt(0)),Dt+=6}var tr=wt>>>Dt-8&255;return Dt-=8,tr};var Ut=function(zt){if(65<=zt&&zt<=90)return zt-65;if(97<=zt&&zt<=122)return zt-97+26;if(48<=zt&&zt<=57)return zt-48+52;if(zt==43)return 62;if(zt==47)return 63;throw"c:"+zt};return Ot},Et=function(Bt,Ft){var Lt=Bt,wt=Ft,Dt=new Array(Bt*Ft),Ot={};Ot.setPixel=function(jt,Kt,qt){Dt[Kt*Lt+jt]=qt},Ot.write=function(jt){jt.writeString("GIF87a"),jt.writeShort(Lt),jt.writeShort(wt),jt.writeByte(128),jt.writeByte(0),jt.writeByte(0),jt.writeByte(0),jt.writeByte(0),jt.writeByte(0),jt.writeByte(255),jt.writeByte(255),jt.writeByte(255),jt.writeString(","),jt.writeShort(0),jt.writeShort(0),jt.writeShort(Lt),jt.writeShort(wt),jt.writeByte(0);var Kt=2,qt=zt(Kt);jt.writeByte(Kt);for(var er=0;qt.length-er>255;)jt.writeByte(255),jt.writeBytes(qt,er,255),er+=255;jt.writeByte(qt.length-er),jt.writeBytes(qt,er,qt.length-er),jt.writeByte(0),jt.writeString(";")};var Ut=function(jt){var Kt=jt,qt=0,er=0,kt={};return kt.write=function(Vt,Zt){if(Vt>>>Zt)throw"length over";for(;qt+Zt>=8;)Kt.writeByte(255&(Vt<<qt|er)),Zt-=8-qt,Vt>>>=8-qt,er=0,qt=0;er=Vt<<qt|er,qt=qt+Zt},kt.flush=function(){qt>0&&Kt.writeByte(er)},kt},zt=function(jt){for(var Kt=1<<jt,qt=(1<<jt)+1,er=jt+1,kt=tr(),Vt=0;Vt<Kt;Vt+=1)kt.add(String.fromCharCode(Vt));kt.add(String.fromCharCode(Kt)),kt.add(String.fromCharCode(qt));var Zt=Tt(),Wt=Ut(Zt);Wt.write(Kt,er);var nr=0,sr=String.fromCharCode(Dt[nr]);for(nr+=1;nr<Dt.length;){var lr=String.fromCharCode(Dt[nr]);nr+=1,kt.contains(sr+lr)?sr=sr+lr:(Wt.write(kt.indexOf(sr),er),kt.size()<4095&&(kt.size()==1<<er&&(er+=1),kt.add(sr+lr)),sr=lr)}return Wt.write(kt.indexOf(sr),er),Wt.write(qt,er),Wt.flush(),Zt.toByteArray()},tr=function(){var jt={},Kt=0,qt={};return qt.add=function(er){if(qt.contains(er))throw"dup key:"+er;jt[er]=Kt,Kt+=1},qt.size=function(){return Kt},qt.indexOf=function(er){return jt[er]},qt.contains=function(er){return typeof jt[er]<"u"},qt};return Ot},Rt=function(Bt,Ft,Lt){for(var wt=Et(Bt,Ft),Dt=0;Dt<Ft;Dt+=1)for(var Ot=0;Ot<Bt;Ot+=1)wt.setPixel(Ot,Dt,Lt(Ot,Dt));var Ut=Tt();wt.write(Ut);for(var zt=Ct(),tr=Ut.toByteArray(),jt=0;jt<tr.length;jt+=1)zt.writeByte(tr[jt]);return zt.flush(),"data:image/gif;base64,"+zt};return rt}();(function(){tt.stringToBytesFuncs["UTF-8"]=function(rt){function nt(st){for(var ot=[],at=0;at<st.length;at++){var lt=st.charCodeAt(at);lt<128?ot.push(lt):lt<2048?ot.push(192|lt>>6,128|lt&63):lt<55296||lt>=57344?ot.push(224|lt>>12,128|lt>>6&63,128|lt&63):(at++,lt=65536+((lt&1023)<<10|st.charCodeAt(at)&1023),ot.push(240|lt>>18,128|lt>>12&63,128|lt>>6&63,128|lt&63))}return ot}return nt(rt)}})(),function(rt){et.exports=rt()}(function(){return tt})})(qrcode);var qrcodeExports=qrcode.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var et=function(_e,tt){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,nt){rt.__proto__=nt}||function(rt,nt){for(var st in nt)nt.hasOwnProperty(st)&&(rt[st]=nt[st])},et(_e,tt)};return function(_e,tt){et(_e,tt);function rt(){this.constructor=_e}_e.prototype=tt===null?Object.create(tt):(rt.prototype=tt.prototype,new rt)}}();Object.defineProperty(dist$1,"__esModule",{value:!0});dist$1.QRCode=void 0;var isEqual$1=lodash_isequalExports,qrGenerator=qrcodeExports,React=reactExports,ReactDOM=reactDomExports,QRCode=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.canvas=React.createRef(),rt}return _e.utf16to8=function(tt){var rt="",nt,st,ot=tt.length;for(nt=0;nt<ot;nt++)st=tt.charCodeAt(nt),st>=1&&st<=127?rt+=tt.charAt(nt):st>2047?(rt+=String.fromCharCode(224|st>>12&15),rt+=String.fromCharCode(128|st>>6&63),rt+=String.fromCharCode(128|st>>0&63)):(rt+=String.fromCharCode(192|st>>6&31),rt+=String.fromCharCode(128|st>>0&63));return rt},_e.prototype.drawRoundedSquare=function(tt,rt,nt,st,ot,at,lt,ft){ft.lineWidth=tt,ft.fillStyle=ot,ft.strokeStyle=ot,nt+=tt/2,rt+=tt/2,st-=tt,Array.isArray(at)||(at=[at,at,at,at]),at=at.map(function(St){return St=Math.min(St,st/2),St<0?0:St});var dt=at[0]||0,gt=at[1]||0,pt=at[2]||0,vt=at[3]||0;ft.beginPath(),ft.moveTo(rt+dt,nt),ft.lineTo(rt+st-gt,nt),gt&&ft.quadraticCurveTo(rt+st,nt,rt+st,nt+gt),ft.lineTo(rt+st,nt+st-pt),pt&&ft.quadraticCurveTo(rt+st,nt+st,rt+st-pt,nt+st),ft.lineTo(rt+vt,nt+st),vt&&ft.quadraticCurveTo(rt,nt+st,rt,nt+st-vt),ft.lineTo(rt,nt+dt),dt&&ft.quadraticCurveTo(rt,nt,rt+dt,nt),ft.closePath(),ft.stroke(),lt&&ft.fill()},_e.prototype.drawPositioningPattern=function(tt,rt,nt,st,ot,at,lt){lt===void 0&&(lt=[0,0,0,0]);var ft=Math.ceil(rt),dt,gt;typeof lt!="number"&&!Array.isArray(lt)?(dt=lt.outer||0,gt=lt.inner||0):(dt=lt,gt=dt);var pt,vt;typeof at!="string"?(pt=at.outer,vt=at.inner):(pt=at,vt=at);var St=st*rt+nt,At=ot*rt+nt,Tt=rt*7;this.drawRoundedSquare(ft,At,St,Tt,pt,dt,!1,tt),Tt=rt*3,St+=rt*2,At+=rt*2,this.drawRoundedSquare(ft,At,St,Tt,vt,gt,!0,tt)},_e.prototype.isInPositioninZone=function(tt,rt,nt){return nt.some(function(st){return rt>=st.row&&rt<=st.row+7&&tt>=st.col&&tt<=st.col+7})},_e.prototype.transformPixelLengthIntoNumberOfCells=function(tt,rt){return tt/rt},_e.prototype.isCoordinateInImage=function(tt,rt,nt,st,ot,at,lt,ft){if(ft){var dt=2,gt=this.transformPixelLengthIntoNumberOfCells(ot,lt),pt=this.transformPixelLengthIntoNumberOfCells(at,lt),vt=this.transformPixelLengthIntoNumberOfCells(nt,lt)-1,St=this.transformPixelLengthIntoNumberOfCells(st,lt)-1;return rt>=gt-dt&&rt<=gt+vt+dt&&tt>=pt-dt&&tt<=pt+St+dt}else return!1},_e.prototype.shouldComponentUpdate=function(tt){return!isEqual$1(this.props,tt)},_e.prototype.componentDidMount=function(){this.update()},_e.prototype.componentDidUpdate=function(){this.update()},_e.prototype.update=function(){var tt=this.props,rt=tt.value,nt=tt.ecLevel,st=tt.enableCORS,ot=tt.bgColor,at=tt.fgColor,lt=tt.logoImage,ft=tt.logoOpacity,dt=tt.logoOnLoad,gt=tt.removeQrCodeBehindLogo,pt=tt.qrStyle,vt=tt.eyeRadius,St=tt.eyeColor,At=tt.logoPaddingStyle,Tt=+this.props.size,Ct=+this.props.quietZone,Mt=this.props.logoWidth?+this.props.logoWidth:0,Et=this.props.logoHeight?+this.props.logoHeight:0,Rt=this.props.logoPadding?+this.props.logoPadding:0,Bt=qrGenerator(0,nt);Bt.addData(_e.utf16to8(rt)),Bt.make();var Ft=ReactDOM.findDOMNode(this.canvas.current),Lt=Ft.getContext("2d"),wt=Tt+2*Ct,Dt=Bt.getModuleCount(),Ot=Tt/Dt,Ut=window.devicePixelRatio||1;Ft.height=Ft.width=wt*Ut,Lt.scale(Ut,Ut),Lt.fillStyle=ot,Lt.fillRect(0,0,wt,wt);var zt=Ct,tr=[{row:0,col:0},{row:0,col:Dt-7},{row:Dt-7,col:0}];if(Lt.strokeStyle=at,pt==="dots"){Lt.fillStyle=at;for(var jt=Ot/2,Kt=0;Kt<Dt;Kt++)for(var qt=0;qt<Dt;qt++)Bt.isDark(Kt,qt)&&!this.isInPositioninZone(Kt,qt,tr)&&(Lt.beginPath(),Lt.arc(Math.round(qt*Ot)+jt+zt,Math.round(Kt*Ot)+jt+zt,jt/100*75,0,2*Math.PI,!1),Lt.closePath(),Lt.fill())}else for(var Kt=0;Kt<Dt;Kt++)for(var qt=0;qt<Dt;qt++)if(Bt.isDark(Kt,qt)&&!this.isInPositioninZone(Kt,qt,tr)){Lt.fillStyle=at;var er=Math.ceil((qt+1)*Ot)-Math.floor(qt*Ot),kt=Math.ceil((Kt+1)*Ot)-Math.floor(Kt*Ot);Lt.fillRect(Math.round(qt*Ot)+zt,Math.round(Kt*Ot)+zt,er,kt)}for(var Vt=0;Vt<3;Vt++){var Zt=tr[Vt],Kt=Zt.row,qt=Zt.col,Wt=vt,nr=void 0;Array.isArray(Wt)&&(Wt=Wt[Vt]),typeof Wt=="number"&&(Wt=[Wt,Wt,Wt,Wt]),St?Array.isArray(St)?nr=St[Vt]:nr=St:nr=at,this.drawPositioningPattern(Lt,Ot,zt,Kt,qt,nr,Wt)}if(lt){var sr=new Image;st&&(sr.crossOrigin="Anonymous"),sr.onload=function(){Lt.save();var lr=Mt||Tt*.2,dr=Et||lr,hr=(Tt-lr)/2,wr=(Tt-dr)/2;if(gt||Rt){Lt.beginPath(),Lt.strokeStyle=ot,Lt.fillStyle=ot;var pr=lr+2*Rt,_r=dr+2*Rt,mr=hr+zt-Rt,Er=wr+zt-Rt;if(At==="circle"){var ur=mr+pr/2,xr=Er+_r/2;Lt.ellipse(ur,xr,pr/2,_r/2,0,0,2*Math.PI),Lt.stroke(),Lt.fill()}else Lt.fillRect(mr,Er,pr,_r)}Lt.globalAlpha=ft,Lt.drawImage(sr,hr+zt,wr+zt,lr,dr),Lt.restore(),dt&&dt()},sr.src=lt}},_e.prototype.render=function(){var tt,rt=+this.props.size+2*+this.props.quietZone;return React.createElement("canvas",{id:(tt=this.props.id)!==null&&tt!==void 0?tt:"react-qrcode-logo",height:rt,width:rt,style:{height:rt+"px",width:rt+"px"},ref:this.canvas})},_e.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},_e}(React.Component);dist$1.QRCode=QRCode;var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(et,_e,tt)=>_e in et?__defProp(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt,__spreadValues=(et,_e)=>{for(var tt in _e||(_e={}))__hasOwnProp.call(_e,tt)&&__defNormalProp(et,tt,_e[tt]);if(__getOwnPropSymbols)for(var tt of __getOwnPropSymbols(_e))__propIsEnum.call(_e,tt)&&__defNormalProp(et,tt,_e[tt]);return et},__objRest=(et,_e)=>{var tt={};for(var rt in et)__hasOwnProp.call(et,rt)&&_e.indexOf(rt)<0&&(tt[rt]=et[rt]);if(et!=null&&__getOwnPropSymbols)for(var rt of __getOwnPropSymbols(et))_e.indexOf(rt)<0&&__propIsEnum.call(et,rt)&&(tt[rt]=et[rt]);return tt};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qrcodegen;(et=>{const _e=class{constructor(lt,ft,dt,gt){if(this.version=lt,this.errorCorrectionLevel=ft,this.modules=[],this.isFunction=[],lt<_e.MIN_VERSION||lt>_e.MAX_VERSION)throw new RangeError("Version value out of range");if(gt<-1||gt>7)throw new RangeError("Mask value out of range");this.size=lt*4+17;let pt=[];for(let St=0;St<this.size;St++)pt.push(!1);for(let St=0;St<this.size;St++)this.modules.push(pt.slice()),this.isFunction.push(pt.slice());this.drawFunctionPatterns();const vt=this.addEccAndInterleave(dt);if(this.drawCodewords(vt),gt==-1){let St=1e9;for(let At=0;At<8;At++){this.applyMask(At),this.drawFormatBits(At);const Tt=this.getPenaltyScore();Tt<St&&(gt=At,St=Tt),this.applyMask(At)}}st(0<=gt&&gt<=7),this.mask=gt,this.applyMask(gt),this.drawFormatBits(gt),this.isFunction=[]}static encodeText(lt,ft){const dt=et.QrSegment.makeSegments(lt);return _e.encodeSegments(dt,ft)}static encodeBinary(lt,ft){const dt=et.QrSegment.makeBytes(lt);return _e.encodeSegments([dt],ft)}static encodeSegments(lt,ft,dt=1,gt=40,pt=-1,vt=!0){if(!(_e.MIN_VERSION<=dt&&dt<=gt&&gt<=_e.MAX_VERSION)||pt<-1||pt>7)throw new RangeError("Invalid value");let St,At;for(St=dt;;St++){const Et=_e.getNumDataCodewords(St,ft)*8,Rt=at.getTotalBits(lt,St);if(Rt<=Et){At=Rt;break}if(St>=gt)throw new RangeError("Data too long")}for(const Et of[_e.Ecc.MEDIUM,_e.Ecc.QUARTILE,_e.Ecc.HIGH])vt&&At<=_e.getNumDataCodewords(St,Et)*8&&(ft=Et);let Tt=[];for(const Et of lt){rt(Et.mode.modeBits,4,Tt),rt(Et.numChars,Et.mode.numCharCountBits(St),Tt);for(const Rt of Et.getData())Tt.push(Rt)}st(Tt.length==At);const Ct=_e.getNumDataCodewords(St,ft)*8;st(Tt.length<=Ct),rt(0,Math.min(4,Ct-Tt.length),Tt),rt(0,(8-Tt.length%8)%8,Tt),st(Tt.length%8==0);for(let Et=236;Tt.length<Ct;Et^=253)rt(Et,8,Tt);let Mt=[];for(;Mt.length*8<Tt.length;)Mt.push(0);return Tt.forEach((Et,Rt)=>Mt[Rt>>>3]|=Et<<7-(Rt&7)),new _e(St,ft,Mt,pt)}getModule(lt,ft){return 0<=lt&&lt<this.size&&0<=ft&&ft<this.size&&this.modules[ft][lt]}getModules(){return this.modules}drawFunctionPatterns(){for(let dt=0;dt<this.size;dt++)this.setFunctionModule(6,dt,dt%2==0),this.setFunctionModule(dt,6,dt%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const lt=this.getAlignmentPatternPositions(),ft=lt.length;for(let dt=0;dt<ft;dt++)for(let gt=0;gt<ft;gt++)dt==0&&gt==0||dt==0&&gt==ft-1||dt==ft-1&&gt==0||this.drawAlignmentPattern(lt[dt],lt[gt]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(lt){const ft=this.errorCorrectionLevel.formatBits<<3|lt;let dt=ft;for(let pt=0;pt<10;pt++)dt=dt<<1^(dt>>>9)*1335;const gt=(ft<<10|dt)^21522;st(gt>>>15==0);for(let pt=0;pt<=5;pt++)this.setFunctionModule(8,pt,nt(gt,pt));this.setFunctionModule(8,7,nt(gt,6)),this.setFunctionModule(8,8,nt(gt,7)),this.setFunctionModule(7,8,nt(gt,8));for(let pt=9;pt<15;pt++)this.setFunctionModule(14-pt,8,nt(gt,pt));for(let pt=0;pt<8;pt++)this.setFunctionModule(this.size-1-pt,8,nt(gt,pt));for(let pt=8;pt<15;pt++)this.setFunctionModule(8,this.size-15+pt,nt(gt,pt));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let lt=this.version;for(let dt=0;dt<12;dt++)lt=lt<<1^(lt>>>11)*7973;const ft=this.version<<12|lt;st(ft>>>18==0);for(let dt=0;dt<18;dt++){const gt=nt(ft,dt),pt=this.size-11+dt%3,vt=Math.floor(dt/3);this.setFunctionModule(pt,vt,gt),this.setFunctionModule(vt,pt,gt)}}drawFinderPattern(lt,ft){for(let dt=-4;dt<=4;dt++)for(let gt=-4;gt<=4;gt++){const pt=Math.max(Math.abs(gt),Math.abs(dt)),vt=lt+gt,St=ft+dt;0<=vt&&vt<this.size&&0<=St&&St<this.size&&this.setFunctionModule(vt,St,pt!=2&&pt!=4)}}drawAlignmentPattern(lt,ft){for(let dt=-2;dt<=2;dt++)for(let gt=-2;gt<=2;gt++)this.setFunctionModule(lt+gt,ft+dt,Math.max(Math.abs(gt),Math.abs(dt))!=1)}setFunctionModule(lt,ft,dt){this.modules[ft][lt]=dt,this.isFunction[ft][lt]=!0}addEccAndInterleave(lt){const ft=this.version,dt=this.errorCorrectionLevel;if(lt.length!=_e.getNumDataCodewords(ft,dt))throw new RangeError("Invalid argument");const gt=_e.NUM_ERROR_CORRECTION_BLOCKS[dt.ordinal][ft],pt=_e.ECC_CODEWORDS_PER_BLOCK[dt.ordinal][ft],vt=Math.floor(_e.getNumRawDataModules(ft)/8),St=gt-vt%gt,At=Math.floor(vt/gt);let Tt=[];const Ct=_e.reedSolomonComputeDivisor(pt);for(let Et=0,Rt=0;Et<gt;Et++){let Bt=lt.slice(Rt,Rt+At-pt+(Et<St?0:1));Rt+=Bt.length;const Ft=_e.reedSolomonComputeRemainder(Bt,Ct);Et<St&&Bt.push(0),Tt.push(Bt.concat(Ft))}let Mt=[];for(let Et=0;Et<Tt[0].length;Et++)Tt.forEach((Rt,Bt)=>{(Et!=At-pt||Bt>=St)&&Mt.push(Rt[Et])});return st(Mt.length==vt),Mt}drawCodewords(lt){if(lt.length!=Math.floor(_e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let ft=0;for(let dt=this.size-1;dt>=1;dt-=2){dt==6&&(dt=5);for(let gt=0;gt<this.size;gt++)for(let pt=0;pt<2;pt++){const vt=dt-pt,At=(dt+1&2)==0?this.size-1-gt:gt;!this.isFunction[At][vt]&&ft<lt.length*8&&(this.modules[At][vt]=nt(lt[ft>>>3],7-(ft&7)),ft++)}}st(ft==lt.length*8)}applyMask(lt){if(lt<0||lt>7)throw new RangeError("Mask value out of range");for(let ft=0;ft<this.size;ft++)for(let dt=0;dt<this.size;dt++){let gt;switch(lt){case 0:gt=(dt+ft)%2==0;break;case 1:gt=ft%2==0;break;case 2:gt=dt%3==0;break;case 3:gt=(dt+ft)%3==0;break;case 4:gt=(Math.floor(dt/3)+Math.floor(ft/2))%2==0;break;case 5:gt=dt*ft%2+dt*ft%3==0;break;case 6:gt=(dt*ft%2+dt*ft%3)%2==0;break;case 7:gt=((dt+ft)%2+dt*ft%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[ft][dt]&&gt&&(this.modules[ft][dt]=!this.modules[ft][dt])}}getPenaltyScore(){let lt=0;for(let pt=0;pt<this.size;pt++){let vt=!1,St=0,At=[0,0,0,0,0,0,0];for(let Tt=0;Tt<this.size;Tt++)this.modules[pt][Tt]==vt?(St++,St==5?lt+=_e.PENALTY_N1:St>5&&lt++):(this.finderPenaltyAddHistory(St,At),vt||(lt+=this.finderPenaltyCountPatterns(At)*_e.PENALTY_N3),vt=this.modules[pt][Tt],St=1);lt+=this.finderPenaltyTerminateAndCount(vt,St,At)*_e.PENALTY_N3}for(let pt=0;pt<this.size;pt++){let vt=!1,St=0,At=[0,0,0,0,0,0,0];for(let Tt=0;Tt<this.size;Tt++)this.modules[Tt][pt]==vt?(St++,St==5?lt+=_e.PENALTY_N1:St>5&&lt++):(this.finderPenaltyAddHistory(St,At),vt||(lt+=this.finderPenaltyCountPatterns(At)*_e.PENALTY_N3),vt=this.modules[Tt][pt],St=1);lt+=this.finderPenaltyTerminateAndCount(vt,St,At)*_e.PENALTY_N3}for(let pt=0;pt<this.size-1;pt++)for(let vt=0;vt<this.size-1;vt++){const St=this.modules[pt][vt];St==this.modules[pt][vt+1]&&St==this.modules[pt+1][vt]&&St==this.modules[pt+1][vt+1]&&(lt+=_e.PENALTY_N2)}let ft=0;for(const pt of this.modules)ft=pt.reduce((vt,St)=>vt+(St?1:0),ft);const dt=this.size*this.size,gt=Math.ceil(Math.abs(ft*20-dt*10)/dt)-1;return st(0<=gt&&gt<=9),lt+=gt*_e.PENALTY_N4,st(0<=lt&&lt<=2568888),lt}getAlignmentPatternPositions(){if(this.version==1)return[];{const lt=Math.floor(this.version/7)+2,ft=this.version==32?26:Math.ceil((this.version*4+4)/(lt*2-2))*2;let dt=[6];for(let gt=this.size-7;dt.length<lt;gt-=ft)dt.splice(1,0,gt);return dt}}static getNumRawDataModules(lt){if(lt<_e.MIN_VERSION||lt>_e.MAX_VERSION)throw new RangeError("Version number out of range");let ft=(16*lt+128)*lt+64;if(lt>=2){const dt=Math.floor(lt/7)+2;ft-=(25*dt-10)*dt-55,lt>=7&&(ft-=36)}return st(208<=ft&&ft<=29648),ft}static getNumDataCodewords(lt,ft){return Math.floor(_e.getNumRawDataModules(lt)/8)-_e.ECC_CODEWORDS_PER_BLOCK[ft.ordinal][lt]*_e.NUM_ERROR_CORRECTION_BLOCKS[ft.ordinal][lt]}static reedSolomonComputeDivisor(lt){if(lt<1||lt>255)throw new RangeError("Degree out of range");let ft=[];for(let gt=0;gt<lt-1;gt++)ft.push(0);ft.push(1);let dt=1;for(let gt=0;gt<lt;gt++){for(let pt=0;pt<ft.length;pt++)ft[pt]=_e.reedSolomonMultiply(ft[pt],dt),pt+1<ft.length&&(ft[pt]^=ft[pt+1]);dt=_e.reedSolomonMultiply(dt,2)}return ft}static reedSolomonComputeRemainder(lt,ft){let dt=ft.map(gt=>0);for(const gt of lt){const pt=gt^dt.shift();dt.push(0),ft.forEach((vt,St)=>dt[St]^=_e.reedSolomonMultiply(vt,pt))}return dt}static reedSolomonMultiply(lt,ft){if(lt>>>8||ft>>>8)throw new RangeError("Byte out of range");let dt=0;for(let gt=7;gt>=0;gt--)dt=dt<<1^(dt>>>7)*285,dt^=(ft>>>gt&1)*lt;return st(dt>>>8==0),dt}finderPenaltyCountPatterns(lt){const ft=lt[1];st(ft<=this.size*3);const dt=ft>0&&lt[2]==ft&&lt[3]==ft*3&&lt[4]==ft&&lt[5]==ft;return(dt&&lt[0]>=ft*4&&lt[6]>=ft?1:0)+(dt&&lt[6]>=ft*4&&lt[0]>=ft?1:0)}finderPenaltyTerminateAndCount(lt,ft,dt){return lt&&(this.finderPenaltyAddHistory(ft,dt),ft=0),ft+=this.size,this.finderPenaltyAddHistory(ft,dt),this.finderPenaltyCountPatterns(dt)}finderPenaltyAddHistory(lt,ft){ft[0]==0&&(lt+=this.size),ft.pop(),ft.unshift(lt)}};let tt=_e;tt.MIN_VERSION=1,tt.MAX_VERSION=40,tt.PENALTY_N1=3,tt.PENALTY_N2=3,tt.PENALTY_N3=40,tt.PENALTY_N4=10,tt.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],tt.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],et.QrCode=tt;function rt(lt,ft,dt){if(ft<0||ft>31||lt>>>ft)throw new RangeError("Value out of range");for(let gt=ft-1;gt>=0;gt--)dt.push(lt>>>gt&1)}function nt(lt,ft){return(lt>>>ft&1)!=0}function st(lt){if(!lt)throw new Error("Assertion error")}const ot=class{constructor(lt,ft,dt){if(this.mode=lt,this.numChars=ft,this.bitData=dt,ft<0)throw new RangeError("Invalid argument");this.bitData=dt.slice()}static makeBytes(lt){let ft=[];for(const dt of lt)rt(dt,8,ft);return new ot(ot.Mode.BYTE,lt.length,ft)}static makeNumeric(lt){if(!ot.isNumeric(lt))throw new RangeError("String contains non-numeric characters");let ft=[];for(let dt=0;dt<lt.length;){const gt=Math.min(lt.length-dt,3);rt(parseInt(lt.substr(dt,gt),10),gt*3+1,ft),dt+=gt}return new ot(ot.Mode.NUMERIC,lt.length,ft)}static makeAlphanumeric(lt){if(!ot.isAlphanumeric(lt))throw new RangeError("String contains unencodable characters in alphanumeric mode");let ft=[],dt;for(dt=0;dt+2<=lt.length;dt+=2){let gt=ot.ALPHANUMERIC_CHARSET.indexOf(lt.charAt(dt))*45;gt+=ot.ALPHANUMERIC_CHARSET.indexOf(lt.charAt(dt+1)),rt(gt,11,ft)}return dt<lt.length&&rt(ot.ALPHANUMERIC_CHARSET.indexOf(lt.charAt(dt)),6,ft),new ot(ot.Mode.ALPHANUMERIC,lt.length,ft)}static makeSegments(lt){return lt==""?[]:ot.isNumeric(lt)?[ot.makeNumeric(lt)]:ot.isAlphanumeric(lt)?[ot.makeAlphanumeric(lt)]:[ot.makeBytes(ot.toUtf8ByteArray(lt))]}static makeEci(lt){let ft=[];if(lt<0)throw new RangeError("ECI assignment value out of range");if(lt<128)rt(lt,8,ft);else if(lt<16384)rt(2,2,ft),rt(lt,14,ft);else if(lt<1e6)rt(6,3,ft),rt(lt,21,ft);else throw new RangeError("ECI assignment value out of range");return new ot(ot.Mode.ECI,0,ft)}static isNumeric(lt){return ot.NUMERIC_REGEX.test(lt)}static isAlphanumeric(lt){return ot.ALPHANUMERIC_REGEX.test(lt)}getData(){return this.bitData.slice()}static getTotalBits(lt,ft){let dt=0;for(const gt of lt){const pt=gt.mode.numCharCountBits(ft);if(gt.numChars>=1<<pt)return 1/0;dt+=4+pt+gt.bitData.length}return dt}static toUtf8ByteArray(lt){lt=encodeURI(lt);let ft=[];for(let dt=0;dt<lt.length;dt++)lt.charAt(dt)!="%"?ft.push(lt.charCodeAt(dt)):(ft.push(parseInt(lt.substr(dt+1,2),16)),dt+=2);return ft}};let at=ot;at.NUMERIC_REGEX=/^[0-9]*$/,at.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,at.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",et.QrSegment=at})(qrcodegen||(qrcodegen={}));(et=>{(_e=>{const tt=class{constructor(nt,st){this.ordinal=nt,this.formatBits=st}};let rt=tt;rt.LOW=new tt(0,1),rt.MEDIUM=new tt(1,0),rt.QUARTILE=new tt(2,3),rt.HIGH=new tt(3,2),_e.Ecc=rt})(et.QrCode||(et.QrCode={}))})(qrcodegen||(qrcodegen={}));(et=>{(_e=>{const tt=class{constructor(nt,st){this.modeBits=nt,this.numBitsCharCount=st}numCharCountBits(nt){return this.numBitsCharCount[Math.floor((nt+7)/17)]}};let rt=tt;rt.NUMERIC=new tt(1,[10,12,14]),rt.ALPHANUMERIC=new tt(2,[9,11,13]),rt.BYTE=new tt(4,[8,16,16]),rt.KANJI=new tt(8,[8,10,12]),rt.ECI=new tt(7,[0,0,0]),_e.Mode=rt})(et.QrSegment||(et.QrSegment={}))})(qrcodegen||(qrcodegen={}));var qrcodegen_default=qrcodegen;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ERROR_LEVEL_MAP={L:qrcodegen_default.QrCode.Ecc.LOW,M:qrcodegen_default.QrCode.Ecc.MEDIUM,Q:qrcodegen_default.QrCode.Ecc.QUARTILE,H:qrcodegen_default.QrCode.Ecc.HIGH},DEFAULT_SIZE=128,DEFAULT_LEVEL="L",DEFAULT_BGCOLOR="#FFFFFF",DEFAULT_FGCOLOR="#000000",DEFAULT_INCLUDEMARGIN=!1,MARGIN_SIZE=4,DEFAULT_IMG_SCALE=.1;function generatePath(et,_e=0){const tt=[];return et.forEach(function(rt,nt){let st=null;rt.forEach(function(ot,at){if(!ot&&st!==null){tt.push(`M${st+_e} ${nt+_e}h${at-st}v1H${st+_e}z`),st=null;return}if(at===rt.length-1){if(!ot)return;st===null?tt.push(`M${at+_e},${nt+_e} h1v1H${at+_e}z`):tt.push(`M${st+_e},${nt+_e} h${at+1-st}v1H${st+_e}z`);return}ot&&st===null&&(st=at)})}),tt.join("")}function excavateModules(et,_e){return et.slice().map((tt,rt)=>rt<_e.y||rt>=_e.y+_e.h?tt:tt.map((nt,st)=>st<_e.x||st>=_e.x+_e.w?nt:!1))}function getImageSettings(et,_e,tt,rt){if(rt==null)return null;const nt=tt?MARGIN_SIZE:0,st=et.length+nt*2,ot=Math.floor(_e*DEFAULT_IMG_SCALE),at=st/_e,lt=(rt.width||ot)*at,ft=(rt.height||ot)*at,dt=rt.x==null?et.length/2-lt/2:rt.x*at,gt=rt.y==null?et.length/2-ft/2:rt.y*at;let pt=null;if(rt.excavate){let vt=Math.floor(dt),St=Math.floor(gt),At=Math.ceil(lt+dt-vt),Tt=Math.ceil(ft+gt-St);pt={x:vt,y:St,w:At,h:Tt}}return{x:dt,y:gt,h:ft,w:lt,excavation:pt}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function QRCodeSVG(et){const _e=et,{value:tt,size:rt=DEFAULT_SIZE,level:nt=DEFAULT_LEVEL,bgColor:st=DEFAULT_BGCOLOR,fgColor:ot=DEFAULT_FGCOLOR,includeMargin:at=DEFAULT_INCLUDEMARGIN,imageSettings:lt}=_e,ft=__objRest(_e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let dt=qrcodegen_default.QrCode.encodeText(tt,ERROR_LEVEL_MAP[nt]).getModules();const gt=at?MARGIN_SIZE:0,pt=dt.length+gt*2,vt=getImageSettings(dt,rt,at,lt);let St=null;lt!=null&&vt!=null&&(vt.excavation!=null&&(dt=excavateModules(dt,vt.excavation)),St=React$1.createElement("image",{xlinkHref:lt.src,height:vt.h,width:vt.w,x:vt.x+gt,y:vt.y+gt,preserveAspectRatio:"none"}));const At=generatePath(dt,gt);return React$1.createElement("svg",__spreadValues({height:rt,width:rt,viewBox:`0 0 ${pt} ${pt}`},ft),React$1.createElement("path",{fill:st,d:`M0,0 h${pt}v${pt}H0z`,shapeRendering:"crispEdges"}),React$1.createElement("path",{fill:ot,d:At,shapeRendering:"crispEdges"}),St)}var key={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},webkit=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],moz=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],ms=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],document$1=typeof window<"u"&&typeof window.document<"u"?window.document:{},vendor="fullscreenEnabled"in document$1&&Object.keys(key)||webkit[0]in document$1&&webkit||moz[0]in document$1&&moz||ms[0]in document$1&&ms||[],fscreen={requestFullscreen:function(et){return et[vendor[key.requestFullscreen]]()},requestFullscreenFunction:function(et){return et[vendor[key.requestFullscreen]]},get exitFullscreen(){return document$1[vendor[key.exitFullscreen]].bind(document$1)},get fullscreenPseudoClass(){return":"+vendor[key.fullscreen]},addEventListener:function(et,_e,tt){return document$1.addEventListener(vendor[key[et]],_e,tt)},removeEventListener:function(et,_e,tt){return document$1.removeEventListener(vendor[key[et]],_e,tt)},get fullscreenEnabled(){return!!document$1[vendor[key.fullscreenEnabled]]},set fullscreenEnabled(et){},get fullscreenElement(){return document$1[vendor[key.fullscreenElement]]},set fullscreenElement(et){},get onfullscreenchange(){return document$1[("on"+vendor[key.fullscreenchange]).toLowerCase()]},set onfullscreenchange(et){return document$1[("on"+vendor[key.fullscreenchange]).toLowerCase()]=et},get onfullscreenerror(){return document$1[("on"+vendor[key.fullscreenerror]).toLowerCase()]},set onfullscreenerror(et){return document$1[("on"+vendor[key.fullscreenerror]).toLowerCase()]=et}};const fscreen$1=fscreen;function useFullScreenHandle(){var et=reactExports.useState(!1),_e=et[0],tt=et[1],rt=reactExports.useRef(null);reactExports.useEffect(function(){var ot=function(){tt(fscreen$1.fullscreenElement===rt.current)};return fscreen$1.addEventListener("fullscreenchange",ot),function(){return fscreen$1.removeEventListener("fullscreenchange",ot)}},[]);var nt=reactExports.useCallback(function(){if(fscreen$1.fullscreenElement)return fscreen$1.exitFullscreen().then(function(){return fscreen$1.requestFullscreen(rt.current)});if(rt.current)return fscreen$1.requestFullscreen(rt.current)},[]),st=reactExports.useCallback(function(){return fscreen$1.fullscreenElement===rt.current?fscreen$1.exitFullscreen():Promise.resolve()},[]);return reactExports.useMemo(function(){return{active:_e,enter:nt,exit:st,node:rt}},[_e,nt,st])}var FullScreen=function et(_e){var tt=_e.handle,rt=_e.onChange,nt=_e.children,st=_e.className,ot=[];return st&&ot.push(st),ot.push("fullscreen"),tt.active&&ot.push("fullscreen-enabled"),reactExports.useEffect(function(){rt&&rt(tt.active,tt)},[tt.active]),React$1.createElement("div",{className:ot.join(" "),ref:tt.node,style:tt.active?{height:"100%",width:"100%"}:void 0},nt)};const createStoreImpl=et=>{let _e;const tt=new Set,rt=(lt,ft)=>{const dt=typeof lt=="function"?lt(_e):lt;if(!Object.is(dt,_e)){const gt=_e;_e=ft??typeof dt!="object"?dt:Object.assign({},_e,dt),tt.forEach(pt=>pt(_e,gt))}},nt=()=>_e,at={setState:rt,getState:nt,subscribe:lt=>(tt.add(lt),()=>tt.delete(lt)),destroy:()=>tt.clear()};return _e=et(rt,nt,at),at},createStore=et=>et?createStoreImpl(et):createStoreImpl,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;function useStore(et,_e=et.getState,tt){const rt=useSyncExternalStoreWithSelector(et.subscribe,et.getState,et.getServerState||et.getState,_e,tt);return reactExports.useDebugValue(rt),rt}const createImpl=et=>{const _e=typeof et=="function"?createStore(et):et,tt=(rt,nt)=>useStore(_e,rt,nt);return Object.assign(tt,_e),tt},create=et=>et?createImpl(et):createImpl;function shallow(et,_e){if(Object.is(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;if(et instanceof Map&&_e instanceof Map){if(et.size!==_e.size)return!1;for(const[rt,nt]of et)if(!Object.is(nt,_e.get(rt)))return!1;return!0}if(et instanceof Set&&_e instanceof Set){if(et.size!==_e.size)return!1;for(const rt of et)if(!_e.has(rt))return!1;return!0}const tt=Object.keys(et);if(tt.length!==Object.keys(_e).length)return!1;for(let rt=0;rt<tt.length;rt++)if(!Object.prototype.hasOwnProperty.call(_e,tt[rt])||!Object.is(et[tt[rt]],_e[tt[rt]]))return!1;return!0}const usePerfImpl=create((et,_e)=>{function tt(){var rt;const{accumulated:nt,startTime:st,infos:ot}=_e(),at=(rt=_e().log)==null?void 0:rt.maxMemory,{totalFrames:lt,log:ft,gl:dt,max:gt}=nt,pt={calls:dt.calls/lt,triangles:dt.triangles/lt,points:dt.points/lt,lines:dt.lines/lt},vt={gpu:ft.gpu/lt,cpu:ft.cpu/lt,mem:ft.mem/lt,fps:ft.fps/lt};return{sessionTime:(window.performance.now()-st)/1e3,infos:ot,log:vt,gl:pt,max:gt,maxMemory:at,totalFrames:lt}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:tt}}),usePerf=et=>usePerfImpl(et,shallow);Object.assign(usePerf,usePerfImpl);const{getState:getPerf,setState:setPerf}=usePerfImpl,overLimitFps={value:0,fpsLimit:60,isOverLimit:0},average=et=>(et==null?void 0:et.reduce((_e,tt)=>_e+tt,0))/et.length;class GLPerf{constructor(_e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,_e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=MathUtils.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let _e=0;const tt=rt=>{++_e<20?this.rafId=window.requestAnimationFrame(tt):(this.detected=Math.ceil(1e3*_e/(rt-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=rt)};this.rafId=window.requestAnimationFrame(tt)}addUI(_e){this.names.indexOf(_e)===-1&&(this.names.push(_e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(_e){const tt=16.666666666666668,rt=tt-_e.timeRemaining(),nt=tt*overLimitFps.fpsLimit/10/rt;nt<0||(overLimitFps.value=nt,overLimitFps.isOverLimit<25?overLimitFps.isOverLimit++:setPerf({overclockingFps:!0}))}nextFrame(_e){this.frameId++;const tt=_e||this.now();let rt=tt-this.paramTime,nt=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=tt;else if(tt>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const st=this.frameId-this.paramFrame,ot=st*1e3/rt,at=getPerf().overclockingFps?overLimitFps.value:ot;if(nt=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/rt,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const lt=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=lt.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(ot),this.logsAccums.fps.push(at),this.logsAccums.gpu.push(nt),this.overClock&&typeof window.requestIdleCallback<"u"&&(overLimitFps.isOverLimit>0&&at>ot?overLimitFps.isOverLimit--:getPerf().overclockingFps&&setPerf({overclockingFps:!1})),tt>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:average(this.logsAccums.cpu),gpu:average(this.logsAccums.gpu),mem:average(this.logsAccums.mem),fps:average(this.logsAccums.fps),duration:Math.round(rt),maxMemory:this.maxMemory,frameCount:st}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=tt),this.overClock&&tt-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=_e,overLimitFps.fpsLimit=Math.round(average(this.logsAccums.fpsFixed)/10)*100,setPerf({fpsLimit:overLimitFps.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=tt)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=tt,this.circularId=0;else{const st=tt-this.chartTime;let ot=this.chartHz*st/1e3;for(;--ot>0&&this.detected;){const lt=(this.frameId-this.chartFrame)/st*1e3,ft=getPerf().overclockingFps?overLimitFps.value:lt;this.fpsChart[this.circularId%this.chartLen]=ft;const dt=1e3/this.currentMem,gt=this.currentCpu,pt=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/rt*100))+4;pt>0&&(this.gpuChart[this.circularId%this.chartLen]=pt),gt>0&&(this.cpuChart[this.circularId%this.chartLen]=gt),dt>0&&(this.memChart[this.circularId%this.chartLen]=dt);for(let vt=0;vt<this.names.length;vt++)this.chartLogger({i:vt,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=tt}}}startGpu(){const _e=this.gl,tt=this.extension;if(!(!_e||!tt)&&this.isWebGL2){let rt=!1,nt,st;if(this.query){this.queryHasResult=!1;let ot=this.query;if(rt=_e.getQueryParameter(ot,_e.QUERY_RESULT_AVAILABLE),nt=_e.getParameter(tt.GPU_DISJOINT_EXT),rt&&!nt){st=_e.getQueryParameter(this.query,_e.QUERY_RESULT);const at=st*1e-6;(rt||nt)&&(_e.deleteQuery(this.query),ot=null),rt&&at>0&&(nt||this.activeAccums.forEach((lt,ft)=>{this.gpuAccums[ft]=at}))}}(rt||!this.query)&&(this.queryCreated=!0,this.query=_e.createQuery(),_e.beginQuery(tt.TIME_ELAPSED_EXT,this.query))}}endGpu(){const _e=this.extension,tt=this.gl;this.isWebGL2&&this.queryCreated&&tt.getQuery(_e.TIME_ELAPSED_EXT,tt.CURRENT_QUERY)&&tt.endQuery(_e.TIME_ELAPSED_EXT)}begin(_e){this.startGpu(),this.updateAccums(_e)}end(_e){this.endGpu(),this.updateAccums(_e)}updateAccums(_e){let tt=this.names.indexOf(_e);tt===-1&&(tt=this.names.length,this.addUI(_e));const rt=this.now();this.activeAccums[tt]=!this.activeAccums[tt],this.t0=rt}}const countGeoDrawCalls=et=>{et.forEach((_e,tt)=>{const{meshes:rt}=_e;if(!rt)return;let nt={total:0,type:"Triangle",data:[]};Object.keys(rt).forEach(st=>{const ot=rt[st],{geometry:at,material:lt}=ot;let ft=at.index;const dt=at.attributes.position;if(!dt)return;let gt=1;lt.wireframe===!0&&(gt=0);const pt=ft!==null?ft.count:dt.count,vt=at.drawRange.start*gt,St=at.drawRange.count*gt,At=vt,Tt=Math.min(pt,vt+St)-1;let Ct=1;const Mt=ot.count||1;let Et="Triangle",Rt=0;ot.isMesh?lt.wireframe===!0?(Et="Line",Ct=Ct/2):(Et="Triangle",Ct=Ct/3):ot.isLine?(Et="Line",ot.isLineSegments?Ct=Ct/2:ot.isLineLoop?Ct=Ct:Ct=Ct-1):ot.isPoints?(Et="Point",Ct=Ct):ot.isSprite&&(Et="Triangle",Ct=Ct/3);const Bt=Math.round(Math.max(0,Tt-At+1)*(Ct*Mt));Bt>Rt&&(Rt=Bt,nt.type=Et),nt.total+=Bt,nt.data.push({drawCount:Bt,type:Et}),ot.userData.drawCount={type:Et,count:Bt}}),_e.drawCounts=nt})};var eventemitter3={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(lt,ft,dt){this.fn=lt,this.context=ft,this.once=dt||!1}function st(lt,ft,dt,gt,pt){if(typeof dt!="function")throw new TypeError("The listener must be a function");var vt=new nt(dt,gt||lt,pt),St=tt?tt+ft:ft;return lt._events[St]?lt._events[St].fn?lt._events[St]=[lt._events[St],vt]:lt._events[St].push(vt):(lt._events[St]=vt,lt._eventsCount++),lt}function ot(lt,ft){--lt._eventsCount===0?lt._events=new rt:delete lt._events[ft]}function at(){this._events=new rt,this._eventsCount=0}at.prototype.eventNames=function(){var ft=[],dt,gt;if(this._eventsCount===0)return ft;for(gt in dt=this._events)_e.call(dt,gt)&&ft.push(tt?gt.slice(1):gt);return Object.getOwnPropertySymbols?ft.concat(Object.getOwnPropertySymbols(dt)):ft},at.prototype.listeners=function(ft){var dt=tt?tt+ft:ft,gt=this._events[dt];if(!gt)return[];if(gt.fn)return[gt.fn];for(var pt=0,vt=gt.length,St=new Array(vt);pt<vt;pt++)St[pt]=gt[pt].fn;return St},at.prototype.listenerCount=function(ft){var dt=tt?tt+ft:ft,gt=this._events[dt];return gt?gt.fn?1:gt.length:0},at.prototype.emit=function(ft,dt,gt,pt,vt,St){var At=tt?tt+ft:ft;if(!this._events[At])return!1;var Tt=this._events[At],Ct=arguments.length,Mt,Et;if(Tt.fn){switch(Tt.once&&this.removeListener(ft,Tt.fn,void 0,!0),Ct){case 1:return Tt.fn.call(Tt.context),!0;case 2:return Tt.fn.call(Tt.context,dt),!0;case 3:return Tt.fn.call(Tt.context,dt,gt),!0;case 4:return Tt.fn.call(Tt.context,dt,gt,pt),!0;case 5:return Tt.fn.call(Tt.context,dt,gt,pt,vt),!0;case 6:return Tt.fn.call(Tt.context,dt,gt,pt,vt,St),!0}for(Et=1,Mt=new Array(Ct-1);Et<Ct;Et++)Mt[Et-1]=arguments[Et];Tt.fn.apply(Tt.context,Mt)}else{var Rt=Tt.length,Bt;for(Et=0;Et<Rt;Et++)switch(Tt[Et].once&&this.removeListener(ft,Tt[Et].fn,void 0,!0),Ct){case 1:Tt[Et].fn.call(Tt[Et].context);break;case 2:Tt[Et].fn.call(Tt[Et].context,dt);break;case 3:Tt[Et].fn.call(Tt[Et].context,dt,gt);break;case 4:Tt[Et].fn.call(Tt[Et].context,dt,gt,pt);break;default:if(!Mt)for(Bt=1,Mt=new Array(Ct-1);Bt<Ct;Bt++)Mt[Bt-1]=arguments[Bt];Tt[Et].fn.apply(Tt[Et].context,Mt)}}return!0},at.prototype.on=function(ft,dt,gt){return st(this,ft,dt,gt,!1)},at.prototype.once=function(ft,dt,gt){return st(this,ft,dt,gt,!0)},at.prototype.removeListener=function(ft,dt,gt,pt){var vt=tt?tt+ft:ft;if(!this._events[vt])return this;if(!dt)return ot(this,vt),this;var St=this._events[vt];if(St.fn)St.fn===dt&&(!pt||St.once)&&(!gt||St.context===gt)&&ot(this,vt);else{for(var At=0,Tt=[],Ct=St.length;At<Ct;At++)(St[At].fn!==dt||pt&&!St[At].once||gt&&St[At].context!==gt)&&Tt.push(St[At]);Tt.length?this._events[vt]=Tt.length===1?Tt[0]:Tt:ot(this,vt)}return this},at.prototype.removeAllListeners=function(ft){var dt;return ft?(dt=tt?tt+ft:ft,this._events[dt]&&ot(this,dt)):(this._events=new rt,this._eventsCount=0),this},at.prototype.off=at.prototype.removeListener,at.prototype.addListener=at.prototype.on,at.prefixed=tt,at.EventEmitter=at,et.exports=at})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),eventEmitter=new EventEmitter;function onEvent(et,_e,tt){return tt!=null&&tt.once?eventEmitter.once(et,_e):eventEmitter.on(et,_e)}function offEvent(et,_e,tt){var rt;eventEmitter.removeListener(et,_e,(rt=tt==null?void 0:tt.context)!=null?rt:null,tt==null?void 0:tt.once)}function emitEvent(et,_e){eventEmitter.emit(et,_e)}function useEvent(et,_e,tt=[],rt){const nt=reactExports.useRef(_e);reactExports.useEffect(()=>void(nt.current=_e),[_e]),reactExports.useEffect(()=>{const st=at=>{var lt;return(lt=nt.current)==null?void 0:lt.call(nt,at)},ot=onEvent(et,st,rt);return()=>offEvent(et,st,{...rt,context:ot})},[et,rt==null?void 0:rt.once,...tt])}const updateMatrixWorldTemp=Object3D.prototype.updateMatrixWorld,updateWorldMatrixTemp=Object3D.prototype.updateWorldMatrix,updateMatrixTemp=Object3D.prototype.updateMatrix,maxGl=["calls","triangles","points","lines"],maxLog=["gpu","cpu","mem","fps"];let matriceWorldCount={value:0},matriceCount={value:0};const isUUID=et=>{let _e=""+et;return _e=_e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),_e!==null},addMuiPerfID=(et,_e)=>{et.defines||(et.defines={}),et.defines&&!et.defines.muiPerf&&(et.defines=Object.assign(et.defines||{},{muiPerf:et.uuid}));const tt=et.uuid;return _e[tt]||(_e[tt]={meshes:{},material:et},et.needsUpdate=!0),et.needsUpdate=!1,tt},getMUIIndex=et=>et==="muiPerf",PerfHeadless=({overClock:et,logsPerSecond:_e,chart:tt,deepAnalyze:rt,matrixUpdate:nt})=>{const{gl:st,scene:ot}=useThree();setPerf({gl:st,scene:ot});const at=reactExports.useMemo(()=>{const lt=new GLPerf({trackGPU:!0,overClock:et,chartLen:tt?tt.length:120,chartHz:tt?tt.hz:60,logsPerSecond:_e||10,gl:st.getContext(),chartLogger:Tt=>{setPerf({chart:Tt})},paramLogger:Tt=>{const Ct={maxMemory:Tt.maxMemory,gpu:Tt.gpu,cpu:Tt.cpu,mem:Tt.mem,fps:Tt.fps,totalTime:Tt.duration,frameCount:Tt.frameCount};setPerf({log:Ct});const{accumulated:Mt}=getPerf(),Et=st.info.render;Mt.totalFrames++,Mt.gl.calls+=Et.calls,Mt.gl.triangles+=Et.triangles,Mt.gl.points+=Et.points,Mt.gl.lines+=Et.lines,Mt.log.gpu+=Tt.gpu,Mt.log.cpu+=Tt.cpu,Mt.log.mem+=Tt.mem,Mt.log.fps+=Tt.fps;for(let Rt=0;Rt<maxGl.length;Rt++){const Bt=maxGl[Rt],Ft=Et[Bt];Ft>Mt.max.gl[Bt]&&(Mt.max.gl[Bt]=Ft)}for(let Rt=0;Rt<maxLog.length;Rt++){const Bt=maxLog[Rt],Ft=Tt[Bt];Ft>Mt.max.log[Bt]&&(Mt.max.log[Bt]=Ft)}setPerf({accumulated:Mt}),emitEvent("log",[Ct,st])}}),ft=st.getContext();let dt=null,gt=null;const pt=ft.getExtension("WEBGL_debug_renderer_info"),vt=ft.getParameter(ft.VERSION);pt!=null&&(dt=ft.getParameter(pt.UNMASKED_RENDERER_WEBGL),gt=ft.getParameter(pt.UNMASKED_VENDOR_WEBGL)),gt||(gt="Unknown vendor"),dt||(dt=ft.getParameter(ft.RENDERER)),setPerf({startTime:window.performance.now(),infos:{version:vt,renderer:dt,vendor:gt}});const St=new Map,At=new Map;return Object.defineProperty(Scene.prototype,"onBeforeRender",{get(){return(...Tt)=>{var Ct;lt&&lt.begin("profiler"),(Ct=St.get(this))==null||Ct(...Tt)}},set(Tt){St.set(this,Tt)},configurable:!0}),Object.defineProperty(Scene.prototype,"onAfterRender",{get(){return(...Tt)=>{var Ct;lt&&lt.end("profiler"),(Ct=At.get(this))==null||Ct(...Tt)}},set(Tt){At.set(this,Tt)},configurable:!0}),lt},[]);return reactExports.useEffect(()=>{at&&(at.overClock=et||!1,et===!1&&(setPerf({overclockingFps:!1}),overLimitFps.value=0,overLimitFps.isOverLimit=0),at.chartHz=(tt==null?void 0:tt.hz)||60,at.chartLen=(tt==null?void 0:tt.length)||120)},[et,at,tt==null?void 0:tt.length,tt==null?void 0:tt.hz]),reactExports.useEffect(()=>{nt&&(Object3D.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&matriceWorldCount.value++,updateMatrixWorldTemp.apply(this,arguments)},Object3D.prototype.updateWorldMatrix=function(){matriceWorldCount.value++,updateWorldMatrixTemp.apply(this,arguments)},Object3D.prototype.updateMatrix=function(){matriceCount.value++,updateMatrixTemp.apply(this,arguments)}),st.info.autoReset=!1;let lt=null,ft=null;if(st.info)return lt=addEffect(function(){getPerf().paused&&setPerf({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),at.startCpuProfiling=!0),matriceCount.value-=1,matriceWorldCount.value=0,matriceCount.value=0,st.info&&st.info.reset()}),ft=addAfterEffect(function(){var gt,pt;if(at&&!at.paused&&(at.nextFrame(window.performance.now()),et&&typeof window.requestIdleCallback<"u"&&(at.idleCbId=requestIdleCallback(at.nextFps))),rt){const vt={},St=new Map;ot.traverse(function(Tt){if((Tt instanceof Mesh||Tt instanceof Points)&&Tt.material){let Ct=Tt.material.uuid;Array.isArray(Tt.material)&&Tt.material.length>1?Ct=addMuiPerfID(Tt.material[1],vt):Ct=addMuiPerfID(Tt.material,vt),vt[Ct].meshes[Tt.uuid]=Tt}}),(pt=(gt=st==null?void 0:st.info)==null?void 0:gt.programs)==null||pt.forEach(At=>{const Tt=At.cacheKey.split(","),Ct=Tt[Tt.findIndex(getMUIIndex)+1];if(isUUID(Ct)&&vt[Ct]){const{material:Mt,meshes:Et}=vt[Ct];St.set(Ct,{program:At,material:Mt,meshes:Et,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),St.size!==getPerf().programs.size&&(countGeoDrawCalls(St),setPerf({programs:St,triggerProgramsUpdate:getPerf().triggerProgramsUpdate++}))}}),()=>{at&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(at.idleCbId),window.cancelAnimationFrame(at.rafId),window.cancelAnimationFrame(at.checkQueryId)),nt&&(Object3D.prototype.updateMatrixWorld=updateMatrixTemp),lt(),ft()}},[at,st,tt,nt]),reactExports.useEffect(()=>{const lt=addTail(function(){return at&&(at.paused=!0,matriceCount.value=0,matriceWorldCount.value=0,setPerf({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{lt()}},[]),null};var e="colors",t="sizes",r="space",n={gap:r,gridGap:r,columnGap:r,gridColumnGap:r,rowGap:r,gridRowGap:r,inset:r,insetBlock:r,insetBlockEnd:r,insetBlockStart:r,insetInline:r,insetInlineEnd:r,insetInlineStart:r,margin:r,marginTop:r,marginRight:r,marginBottom:r,marginLeft:r,marginBlock:r,marginBlockEnd:r,marginBlockStart:r,marginInline:r,marginInlineEnd:r,marginInlineStart:r,padding:r,paddingTop:r,paddingRight:r,paddingBottom:r,paddingLeft:r,paddingBlock:r,paddingBlockEnd:r,paddingBlockStart:r,paddingInline:r,paddingInlineEnd:r,paddingInlineStart:r,top:r,right:r,bottom:r,left:r,scrollMargin:r,scrollMarginTop:r,scrollMarginRight:r,scrollMarginBottom:r,scrollMarginLeft:r,scrollMarginX:r,scrollMarginY:r,scrollMarginBlock:r,scrollMarginBlockEnd:r,scrollMarginBlockStart:r,scrollMarginInline:r,scrollMarginInlineEnd:r,scrollMarginInlineStart:r,scrollPadding:r,scrollPaddingTop:r,scrollPaddingRight:r,scrollPaddingBottom:r,scrollPaddingLeft:r,scrollPaddingX:r,scrollPaddingY:r,scrollPaddingBlock:r,scrollPaddingBlockEnd:r,scrollPaddingBlockStart:r,scrollPaddingInline:r,scrollPaddingInlineEnd:r,scrollPaddingInlineStart:r,fontSize:"fontSizes",background:e,backgroundColor:e,backgroundImage:e,borderImage:e,border:e,borderBlock:e,borderBlockEnd:e,borderBlockStart:e,borderBottom:e,borderBottomColor:e,borderColor:e,borderInline:e,borderInlineEnd:e,borderInlineStart:e,borderLeft:e,borderLeftColor:e,borderRight:e,borderRightColor:e,borderTop:e,borderTopColor:e,caretColor:e,color:e,columnRuleColor:e,fill:e,outline:e,outlineColor:e,stroke:e,textDecorationColor:e,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t,minBlockSize:t,maxBlockSize:t,inlineSize:t,minInlineSize:t,maxInlineSize:t,width:t,minWidth:t,maxWidth:t,height:t,minHeight:t,maxHeight:t,flexBasis:t,gridTemplateColumns:t,gridTemplateRows:t,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i=(et,_e)=>typeof _e=="function"?{"()":Function.prototype.toString.call(_e)}:_e,o=()=>{const et=Object.create(null);return(_e,tt,...rt)=>{const nt=(st=>JSON.stringify(st,i))(_e);return nt in et?et[nt]:et[nt]=tt(_e,...rt)}},l=Symbol.for("sxs.internal"),s=(et,_e)=>Object.defineProperties(et,Object.getOwnPropertyDescriptors(_e)),a=et=>{for(const _e in et)return!0;return!1},{hasOwnProperty:c}=Object.prototype,d=et=>et.includes("-")?et:et.replace(/[A-Z]/g,_e=>"-"+_e.toLowerCase()),g=/\s+(?![^()]*\))/,p=et=>_e=>et(...typeof _e=="string"?String(_e).split(g):[_e]),u={appearance:et=>({WebkitAppearance:et,appearance:et}),backfaceVisibility:et=>({WebkitBackfaceVisibility:et,backfaceVisibility:et}),backdropFilter:et=>({WebkitBackdropFilter:et,backdropFilter:et}),backgroundClip:et=>({WebkitBackgroundClip:et,backgroundClip:et}),boxDecorationBreak:et=>({WebkitBoxDecorationBreak:et,boxDecorationBreak:et}),clipPath:et=>({WebkitClipPath:et,clipPath:et}),content:et=>({content:et.includes('"')||et.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(et)?et:`"${et}"`}),hyphens:et=>({WebkitHyphens:et,hyphens:et}),maskImage:et=>({WebkitMaskImage:et,maskImage:et}),maskSize:et=>({WebkitMaskSize:et,maskSize:et}),tabSize:et=>({MozTabSize:et,tabSize:et}),textSizeAdjust:et=>({WebkitTextSizeAdjust:et,textSizeAdjust:et}),userSelect:et=>({WebkitUserSelect:et,userSelect:et}),marginBlock:p((et,_e)=>({marginBlockStart:et,marginBlockEnd:_e||et})),marginInline:p((et,_e)=>({marginInlineStart:et,marginInlineEnd:_e||et})),maxSize:p((et,_e)=>({maxBlockSize:et,maxInlineSize:_e||et})),minSize:p((et,_e)=>({minBlockSize:et,minInlineSize:_e||et})),paddingBlock:p((et,_e)=>({paddingBlockStart:et,paddingBlockEnd:_e||et})),paddingInline:p((et,_e)=>({paddingInlineStart:et,paddingInlineEnd:_e||et}))},h=/([\d.]+)([^]*)/,f=(et,_e)=>et.length?et.reduce((tt,rt)=>(tt.push(..._e.map(nt=>nt.includes("&")?nt.replace(/&/g,/[ +>|~]/.test(rt)&&/&.*&/.test(nt)?`:is(${rt})`:rt):rt+" "+nt)),tt),[]):_e,m=(et,_e)=>et in b&&typeof _e=="string"?_e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(tt,rt,nt,st)=>rt+(nt==="stretch"?`-moz-available${st};${d(et)}:${rt}-webkit-fill-available`:`-moz-fit-content${st};${d(et)}:${rt}fit-content`)+st):String(_e),b={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S=et=>et?et+"-":"",k=(et,_e,tt)=>et.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(rt,nt,st,ot,at)=>ot=="$"==!!st?rt:(nt||ot=="--"?"calc(":"")+"var(--"+(ot==="$"?S(_e)+(at.includes("$")?"":S(tt))+at.replace(/\$/g,"-"):at)+")"+(nt||ot=="--"?"*"+(nt||"")+(st||"1")+")":"")),y=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$=(et,_e,tt,rt,nt)=>{let st,ot,at;const lt=(ft,dt,gt)=>{let pt,vt;const St=At=>{for(pt in At){const Mt=pt.charCodeAt(0)===64,Et=Mt&&Array.isArray(At[pt])?At[pt]:[At[pt]];for(vt of Et){const Rt=/[A-Z]/.test(Ct=pt)?Ct:Ct.replace(/-[^]/g,Ft=>Ft[1].toUpperCase()),Bt=typeof vt=="object"&&vt&&vt.toString===B&&(!rt.utils[Rt]||!dt.length);if(Rt in rt.utils&&!Bt){const Ft=rt.utils[Rt];if(Ft!==ot){ot=Ft,St(Ft(vt)),ot=null;continue}}else if(Rt in u){const Ft=u[Rt];if(Ft!==at){at=Ft,St(Ft(vt)),at=null;continue}}if(Mt&&(Tt=pt.slice(1)in rt.media?"@media "+rt.media[pt.slice(1)]:pt,pt=Tt.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(Ft,Lt,wt,Dt,Ot,Ut)=>{const zt=h.test(Lt),tr=.0625*(zt?-1:1),[jt,Kt]=zt?[Dt,Lt]:[Lt,Dt];return"("+(wt[0]==="="?"":wt[0]===">"===zt?"max-":"min-")+jt+":"+(wt[0]!=="="&&wt.length===1?Kt.replace(h,(qt,er,kt)=>Number(er)+tr*(wt===">"?1:-1)+kt):Kt)+(Ot?") and ("+(Ot[0]===">"?"min-":"max-")+jt+":"+(Ot.length===1?Ut.replace(h,(qt,er,kt)=>Number(er)+tr*(Ot===">"?-1:1)+kt):Ut):"")+")"})),Bt){const Ft=Mt?gt.concat(pt):[...gt],Lt=Mt?[...dt]:f(dt,pt.split(y));st!==void 0&&nt(x(...st)),st=void 0,lt(vt,Lt,Ft)}else st===void 0&&(st=[[],dt,gt]),pt=Mt||pt.charCodeAt(0)!==36?pt:`--${S(rt.prefix)}${pt.slice(1).replace(/\$/g,"-")}`,vt=Bt?vt:typeof vt=="number"?vt&&Rt in I?String(vt)+"px":String(vt):k(m(Rt,vt??""),rt.prefix,rt.themeMap[Rt]),st[0].push(`${Mt?`${pt} `:`${d(pt)}:`}${vt}`)}}var Tt,Ct};St(ft),st!==void 0&&nt(x(...st)),st=void 0};lt(et,_e,tt)},x=(et,_e,tt)=>`${tt.map(rt=>`${rt}{`).join("")}${_e.length?`${_e.join(",")}{`:""}${et.join(";")}${_e.length?"}":""}${Array(tt.length?tt.length+1:0).join("}")}`,I={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=et=>String.fromCharCode(et+(et>25?39:97)),z=et=>(_e=>{let tt,rt="";for(tt=Math.abs(_e);tt>52;tt=tt/52|0)rt=R(tt%52)+rt;return R(tt%52)+rt})(((_e,tt)=>{let rt=tt.length;for(;rt;)_e=33*_e^tt.charCodeAt(--rt);return _e})(5381,JSON.stringify(et))>>>0),W=["themed","global","styled","onevar","resonevar","allvar","inline"],j=et=>{if(et.href&&!et.href.startsWith(location.origin))return!1;try{return!!et.cssRules}catch{return!1}},E=et=>{let _e;const tt=()=>{const{cssRules:nt}=_e.sheet;return[].map.call(nt,(st,ot)=>{const{cssText:at}=st;let lt="";if(at.startsWith("--sxs"))return"";if(nt[ot-1]&&(lt=nt[ot-1].cssText).startsWith("--sxs")){if(!st.cssRules.length)return"";for(const ft in _e.rules)if(_e.rules[ft].group===st)return`--sxs{--sxs:${[..._e.rules[ft].cache].join(" ")}}${at}`;return st.cssRules.length?`${lt}${at}`:""}return at}).join("")},rt=()=>{if(_e){const{rules:at,sheet:lt}=_e;if(!lt.deleteRule){for(;Object(Object(lt.cssRules)[0]).type===3;)lt.cssRules.splice(0,1);lt.cssRules=[]}for(const ft in at)delete at[ft]}const nt=Object(et).styleSheets||[];for(const at of nt)if(j(at)){for(let lt=0,ft=at.cssRules;ft[lt];++lt){const dt=Object(ft[lt]);if(dt.type!==1)continue;const gt=Object(ft[lt+1]);if(gt.type!==4)continue;++lt;const{cssText:pt}=dt;if(!pt.startsWith("--sxs"))continue;const vt=pt.slice(14,-3).trim().split(/\s+/),St=W[vt[0]];St&&(_e||(_e={sheet:at,reset:rt,rules:{},toString:tt}),_e.rules[St]={group:gt,index:lt,cache:new Set(vt)})}if(_e)break}if(!_e){const at=(lt,ft)=>({type:ft,cssRules:[],insertRule(dt,gt){this.cssRules.splice(gt,0,at(dt,{import:3,undefined:1}[(dt.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return lt==="@media{}"?`@media{${[].map.call(this.cssRules,dt=>dt.cssText).join("")}}`:lt}});_e={sheet:et?(et.head||et).appendChild(document.createElement("style")).sheet:at("","text/css"),rules:{},reset:rt,toString:tt}}const{sheet:st,rules:ot}=_e;for(let at=W.length-1;at>=0;--at){const lt=W[at];if(!ot[lt]){const ft=W[at+1],dt=ot[ft]?ot[ft].index:st.cssRules.length;st.insertRule("@media{}",dt),st.insertRule(`--sxs{--sxs:${at}}`,dt),ot[lt]={group:st.cssRules[dt+1],index:dt,cache:new Set([at])}}v(ot[lt])}};return rt(),_e},v=et=>{const _e=et.group;let tt=_e.cssRules.length;et.apply=rt=>{try{_e.insertRule(rt,tt),++tt}catch{}}},T=Symbol(),w=o(),M=(et,_e)=>w(et,()=>(...tt)=>{let rt={type:null,composers:new Set};for(const nt of tt)if(nt!=null)if(nt[l]){rt.type==null&&(rt.type=nt[l].type);for(const st of nt[l].composers)rt.composers.add(st)}else nt.constructor!==Object||nt.$$typeof?rt.type==null&&(rt.type=nt):rt.composers.add(C(nt,et));return rt.type==null&&(rt.type="span"),rt.composers.size||rt.composers.add(["PJLV",{},[],[],{},[]]),P(et,rt,_e)}),C=({variants:et,compoundVariants:_e,defaultVariants:tt,...rt},nt)=>{const st=`${S(nt.prefix)}c-${z(rt)}`,ot=[],at=[],lt=Object.create(null),ft=[];for(const pt in tt)lt[pt]=String(tt[pt]);if(typeof et=="object"&&et)for(const pt in et){dt=lt,gt=pt,c.call(dt,gt)||(lt[pt]="undefined");const vt=et[pt];for(const St in vt){const At={[pt]:String(St)};String(St)==="undefined"&&ft.push(pt);const Tt=vt[St],Ct=[At,Tt,!a(Tt)];ot.push(Ct)}}var dt,gt;if(typeof _e=="object"&&_e)for(const pt of _e){let{css:vt,...St}=pt;vt=typeof vt=="object"&&vt||{};for(const Tt in St)St[Tt]=String(St[Tt]);const At=[St,vt,!a(vt)];at.push(At)}return[st,rt,ot,at,lt,ft]},P=(et,_e,tt)=>{const[rt,nt,st,ot]=L(_e.composers),at=typeof _e.type=="function"||_e.type.$$typeof?(gt=>{function pt(){for(let vt=0;vt<pt[T].length;vt++){const[St,At]=pt[T][vt];gt.rules[St].apply(At)}return pt[T]=[],null}return pt[T]=[],pt.rules={},W.forEach(vt=>pt.rules[vt]={apply:St=>pt[T].push([vt,St])}),pt})(tt):null,lt=(at||tt).rules,ft=`.${rt}${nt.length>1?`:where(.${nt.slice(1).join(".")})`:""}`,dt=gt=>{gt=typeof gt=="object"&&gt||A;const{css:pt,...vt}=gt,St={};for(const Ct in st)if(delete vt[Ct],Ct in gt){let Mt=gt[Ct];typeof Mt=="object"&&Mt?St[Ct]={"@initial":st[Ct],...Mt}:(Mt=String(Mt),St[Ct]=Mt!=="undefined"||ot.has(Ct)?Mt:st[Ct])}else St[Ct]=st[Ct];const At=new Set([...nt]);for(const[Ct,Mt,Et,Rt]of _e.composers){tt.rules.styled.cache.has(Ct)||(tt.rules.styled.cache.add(Ct),$(Mt,[`.${Ct}`],[],et,Lt=>{lt.styled.apply(Lt)}));const Bt=O(Et,St,et.media),Ft=O(Rt,St,et.media,!0);for(const Lt of Bt)if(Lt!==void 0)for(const[wt,Dt,Ot]of Lt){const Ut=`${Ct}-${z(Dt)}-${wt}`;At.add(Ut);const zt=(Ot?tt.rules.resonevar:tt.rules.onevar).cache,tr=Ot?lt.resonevar:lt.onevar;zt.has(Ut)||(zt.add(Ut),$(Dt,[`.${Ut}`],[],et,jt=>{tr.apply(jt)}))}for(const Lt of Ft)if(Lt!==void 0)for(const[wt,Dt]of Lt){const Ot=`${Ct}-${z(Dt)}-${wt}`;At.add(Ot),tt.rules.allvar.cache.has(Ot)||(tt.rules.allvar.cache.add(Ot),$(Dt,[`.${Ot}`],[],et,Ut=>{lt.allvar.apply(Ut)}))}}if(typeof pt=="object"&&pt){const Ct=`${rt}-i${z(pt)}-css`;At.add(Ct),tt.rules.inline.cache.has(Ct)||(tt.rules.inline.cache.add(Ct),$(pt,[`.${Ct}`],[],et,Mt=>{lt.inline.apply(Mt)}))}for(const Ct of String(gt.className||"").trim().split(/\s+/))Ct&&At.add(Ct);const Tt=vt.className=[...At].join(" ");return{type:_e.type,className:Tt,selector:ft,props:vt,toString:()=>Tt,deferredInjector:at}};return s(dt,{className:rt,selector:ft,[l]:_e,toString:()=>(tt.rules.styled.cache.has(rt)||dt(),rt)})},L=et=>{let _e="";const tt=[],rt={},nt=[];for(const[st,,,,ot,at]of et){_e===""&&(_e=st),tt.push(st),nt.push(...at);for(const lt in ot){const ft=ot[lt];(rt[lt]===void 0||ft!=="undefined"||at.includes(ft))&&(rt[lt]=ft)}}return[_e,tt,rt,new Set(nt)]},O=(et,_e,tt,rt)=>{const nt=[];e:for(let[st,ot,at]of et){if(at)continue;let lt,ft=0,dt=!1;for(lt in st){const gt=st[lt];let pt=_e[lt];if(pt!==gt){if(typeof pt!="object"||!pt)continue e;{let vt,St,At=0;for(const Tt in pt){if(gt===String(pt[Tt])){if(Tt!=="@initial"){const Ct=Tt.slice(1);(St=St||[]).push(Ct in tt?tt[Ct]:Tt.replace(/^@media ?/,"")),dt=!0}ft+=At,vt=!0}++At}if(St&&St.length&&(ot={["@media "+St.join(", ")]:ot}),!vt)continue e}}}(nt[ft]=nt[ft]||[]).push([rt?"cv":`${lt}-${st[lt]}`,ot,dt])}return nt},A={},N=o(),D=(et,_e)=>N(et,()=>(...tt)=>{const rt=()=>{for(let nt of tt){nt=typeof nt=="object"&&nt||{};let st=z(nt);if(!_e.rules.global.cache.has(st)){if(_e.rules.global.cache.add(st),"@import"in nt){let ot=[].indexOf.call(_e.sheet.cssRules,_e.rules.themed.group)-1;for(let at of[].concat(nt["@import"]))at=at.includes('"')||at.includes("'")?at:`"${at}"`,_e.sheet.insertRule(`@import ${at};`,ot++);delete nt["@import"]}$(nt,[],[],et,ot=>{_e.rules.global.apply(ot)})}}return""};return s(rt,{toString:rt})}),H=o(),V=(et,_e)=>H(et,()=>tt=>{const rt=`${S(et.prefix)}k-${z(tt)}`,nt=()=>{if(!_e.rules.global.cache.has(rt)){_e.rules.global.cache.add(rt);const st=[];$(tt,[],[],et,at=>st.push(at));const ot=`@keyframes ${rt}{${st.join("")}}`;_e.rules.global.apply(ot)}return rt};return s(nt,{get name(){return nt()},toString:nt})}),G=class{constructor(et,_e,tt,rt){this.token=et==null?"":String(et),this.value=_e==null?"":String(_e),this.scale=tt==null?"":String(tt),this.prefix=rt==null?"":String(rt)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S(this.prefix)+S(this.scale)+this.token}toString(){return this.computedValue}},F=o(),J=(et,_e)=>F(et,()=>(tt,rt)=>{rt=typeof tt=="object"&&tt||Object(rt);const nt=`.${tt=(tt=typeof tt=="string"?tt:"")||`${S(et.prefix)}t-${z(rt)}`}`,st={},ot=[];for(const lt in rt){st[lt]={};for(const ft in rt[lt]){const dt=`--${S(et.prefix)}${lt}-${ft}`,gt=k(String(rt[lt][ft]),et.prefix,lt);st[lt][ft]=new G(ft,gt,lt,et.prefix),ot.push(`${dt}:${gt}`)}}const at=()=>{if(ot.length&&!_e.rules.themed.cache.has(tt)){_e.rules.themed.cache.add(tt);const lt=`${rt===et.theme?":root,":""}.${tt}{${ot.join(";")}}`;_e.rules.themed.apply(lt)}return tt};return{...st,get className(){return at()},selector:nt,toString:at}}),U=o(),X,Y=o(),q=et=>{const _e=(tt=>{let rt=!1;const nt=U(tt,st=>{rt=!0;const ot="prefix"in(st=typeof st=="object"&&st||{})?String(st.prefix):"",at=typeof st.media=="object"&&st.media||{},lt=typeof st.root=="object"?st.root||null:globalThis.document||null,ft=typeof st.theme=="object"&&st.theme||{},dt={prefix:ot,media:at,theme:ft,themeMap:typeof st.themeMap=="object"&&st.themeMap||{...n},utils:typeof st.utils=="object"&&st.utils||{}},gt=E(lt),pt={css:M(dt,gt),globalCss:D(dt,gt),keyframes:V(dt,gt),createTheme:J(dt,gt),reset(){gt.reset(),pt.theme.toString()},theme:{},sheet:gt,config:dt,prefix:ot,getCssText:gt.toString,toString:gt.toString};return String(pt.theme=pt.createTheme(ft)),pt});return rt||nt.reset(),nt})(et);return _e.styled=(({config:tt,sheet:rt})=>Y(tt,()=>{const nt=M(tt,rt);return(...st)=>{const ot=nt(...st),at=ot[l].type,lt=React$1.forwardRef((ft,dt)=>{const gt=ft&&ft.as||at,{props:pt,deferredInjector:vt}=ot(ft);return delete pt.as,pt.ref=dt,vt?React$1.createElement(React$1.Fragment,null,React$1.createElement(gt,pt),React$1.createElement(vt,null)):React$1.createElement(gt,pt)});return lt.className=ot.className,lt.displayName=`Styled.${at.displayName||at.name||at}`,lt.selector=ot.selector,lt.toString=()=>ot.selector,lt[l]=ot[l],lt}}))(_e),_e},K=()=>X||(X=q()),re=(...et)=>K().styled(...et);const PerfS=re("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),PerfSmallI=re("small",{position:"absolute",right:0,fontSize:"10px"}),PerfI=re("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),PerfB=re("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),PerfIContainer=re("div",{display:"flex"}),ProgramHeader=re("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Graph=re("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),Graphpc=re("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Toggle=re("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ToggleVisible=re("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ProgramGeo=re("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),ProgramTitle=re("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),ContainerScroll=re("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),ProgramsContainer=re("div",{marginTop:"0"}),ProgramsULHeader=re("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),ProgramsUL=re("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),ProgramConsole=re("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),ToggleContainer=re("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),ProgramsGeoLi=re("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function _objectWithoutPropertiesLoose(et,_e){if(et==null)return{};var tt={},rt=Object.keys(et),nt,st;for(st=0;st<rt.length;st++)nt=rt[st],!(_e.indexOf(nt)>=0)&&(tt[nt]=et[nt]);return tt}var _excluded$1=["color"],ActivityLogIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$1);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$o=["color"],BarChartIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$o);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$H=["color"],ButtonIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1w=["color"],CubeIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$1w);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1H=["color"],DotIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$1H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1W=["color"],DropdownMenuIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$1W);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$25=["color"],EyeNoneIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$25);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$26=["color"],EyeOpenIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$26);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2C=["color"],ImageIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$2C);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2H=["color"],LapTimerIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$2H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2J=["color"],LayersIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$2J);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$2Q=["color"],LightningBoltIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$2Q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$34=["color"],MarginIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$34);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$37=["color"],MinusIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$37);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3m=["color"],PauseIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$3m);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3H=["color"],RocketIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$3H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$3L=["color"],RulerHorizontalIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$3L);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4q=["color"],TextAlignJustifyIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$4q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4H=["color"],TriangleDownIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$4H);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:rt}))}),_excluded$4K=["color"],TriangleUpIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$4K);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:rt}))}),_excluded$4R=["color"],VercelLogoIcon=reactExports.forwardRef(function(et,_e){var tt=et.color,rt=tt===void 0?"currentColor":tt,nt=_objectWithoutPropertiesLoose(et,_excluded$4R);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt,{ref:_e}),reactExports.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:rt,fillRule:"evenodd",clipRule:"evenodd"}))});const TextHighHZ=reactExports.memo(({isPerf:et,color:_e,colorBlind:tt,customData:rt,isMemory:nt,isShadersInfo:st,metric:ot,fontSize:at,offsetY:lt=0,offsetX:ft,round:dt,hasInstance:gt})=>{const{width:pt,height:vt}=useThree(Tt=>Tt.viewport),St=reactExports.useRef(null),At=reactExports.useRef(null);return useEvent("log",function([Ct,Mt]){var Et;if(!Ct||!St.current||(rt&&(St.current.text=(Math.round(getPerf().customData*Math.pow(10,dt))/Math.pow(10,dt)).toFixed(dt)),!ot))return;let Rt=Ct[ot];if(st?Rt=(Et=Mt.info.programs)==null?void 0:Et.length:ot==="matriceCount"?Rt=matriceCount.value:!et&&Mt.info.render&&(Rt=(nt?Mt.info.memory:Mt.info.render)[ot]),ot==="fps"&&(St.current.color=getPerf().overclockingFps?colorsGraph(tt).overClock.toString():`rgb(${colorsGraph(tt).fps.toString()})`),St.current.text=(Math.round(Rt*Math.pow(10,dt))/Math.pow(10,dt)).toFixed(dt),gt){const Bt=Mt.info.instance;if(typeof Bt>"u"&&ot!=="matriceCount")return;let Ft;ot==="matriceCount"?Ft=matriceWorldCount.value:Ft=Bt[ot],Ft>0?(St.current.fontSize=at/1.15,At.current.fontSize=Rt>0?at/1.4:at,St.current.position.y=vt/2-lt-at/1.9,At.current.text=" 	"+(Math.round(Ft*Math.pow(10,dt))/Math.pow(10,dt)).toFixed(dt)):(At.current.text&&(At.current.text=""),St.current.position.y=vt/2-lt-at,St.current.fontSize=at)}matriceCount.value-=1,St.current.updateMatrix(),St.current.matrixWorld.copy(St.current.matrix)}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsxs(Text,{textAlign:"justify",matrixAutoUpdate:!1,ref:St,fontSize:at,position:[-pt/2+ft+at,vt/2-lt-at,0],color:_e,characters:"0123456789",onUpdate:Tt=>{Tt.updateMatrix(),matriceCount.value-=1,Tt.matrixWorld.copy(Tt.matrix)},children:[jsxRuntimeExports.jsx("meshBasicMaterial",{blending:NormalBlending}),"0"]}),gt&&jsxRuntimeExports.jsx(Text,{textAlign:"justify",matrixAutoUpdate:!1,ref:At,fontSize:8,position:[-pt/2+ft+at,vt/2-lt-at*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:Tt=>{Tt.updateMatrix(),matriceCount.value-=1,Tt.matrixWorld.copy(Tt.matrix)},children:jsxRuntimeExports.jsx("meshBasicMaterial",{blending:NormalBlending})})]})}),TextsHighHZ=({colorBlind:et,customData:_e,minimal:tt,matrixUpdate:rt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextHighHZ,{colorBlind:et,color:`rgb(${colorsGraph(et).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(et).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(et).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),tt?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextHighHZ,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),jsxRuntimeExports.jsx(TextHighHZ,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),rt&&jsxRuntimeExports.jsx(TextHighHZ,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),_e&&jsxRuntimeExports.jsx(TextHighHZ,{color:`rgb(${colorsGraph(et).custom.toString()})`,customData:_e,fontSize:14,offsetY:0,offsetX:tt?200:320,round:_e.round||2})]}),ChartCurve=({colorBlind:et,minimal:_e,chart:tt={length:120,hz:60}})=>{const rt=reactExports.useMemo(()=>({fps:new Float32Array(tt.length*3),cpu:new Float32Array(tt.length*3),gpu:new Float32Array(tt.length*3)}),[tt]),nt=reactExports.useRef(null),st=reactExports.useRef(null),ot=reactExports.useRef(null),at=reactExports.useRef(null),lt=reactExports.useMemo(()=>new Vector3(0,0,0),[]),ft=(dt,gt=1,pt,vt)=>{let St=0;const{width:At,height:Tt}=vt,Ct=getPerf().chart.data[dt];if(!Ct||Ct.length===0)return;const Mt=_e?2:6,Et=_e?12:50;let Rt=Ct.length;for(let Bt=0;Bt<Rt;Bt++){let Ft=(getPerf().chart.circularId+Bt+1)%Rt;Ct[Ft]!==void 0&&(Ct[Ft]>St&&(St=Ct[Ft]*gt),lt.set(Mt+Bt/(Rt-1)*(At-Mt*2)-At/2,Math.min(100,Ct[Ft])*gt/100*(Tt-Mt*2-Et)-Tt/2,0),lt.toArray(pt.attributes.position.array,Bt*3))}pt.attributes.position.needsUpdate=!0};return useFrame(function({viewport:gt}){ft("fps",1,nt.current,gt),st.current&&st.current.color.set(getPerf().overclockingFps?colorsGraph(et).overClock.toString():`rgb(${colorsGraph(et).fps.toString()})`),ft("gpu",5,ot.current,gt),ft("cpu",5,at.current,gt)}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("line",{onUpdate:dt=>{dt.updateMatrix(),matriceCount.value-=1,dt.matrixWorld.copy(dt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:nt,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:tt.length,array:rt.fps,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{ref:st,color:`rgb(${colorsGraph(et).fps.toString()})`,transparent:!0,opacity:.5})]}),jsxRuntimeExports.jsxs("line",{onUpdate:dt=>{dt.updateMatrix(),matriceCount.value-=1,dt.matrixWorld.copy(dt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:ot,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:tt.length,array:rt.gpu,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{color:`rgb(${colorsGraph(et).gpu.toString()})`,transparent:!0,opacity:.5})]}),jsxRuntimeExports.jsxs("line",{onUpdate:dt=>{dt.updateMatrix(),matriceCount.value-=1,dt.matrixWorld.copy(dt.matrix)},children:[jsxRuntimeExports.jsx("bufferGeometry",{ref:at,children:jsxRuntimeExports.jsx("bufferAttribute",{attach:"attributes-position",count:tt.length,array:rt.cpu,itemSize:3,usage:DynamicDrawUsage,needsUpdate:!0})}),jsxRuntimeExports.jsx("lineBasicMaterial",{color:`rgb(${colorsGraph(et).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},ChartUI=({colorBlind:et,chart:_e,customData:tt,matrixUpdate:rt,showGraph:nt=!0,antialias:st=!0,minimal:ot})=>{const at=reactExports.useRef(void 0),lt=usePerf(ft=>ft.paused);return jsxRuntimeExports.jsxs(Graph,{style:{display:"flex",position:"absolute",height:`${ot?37:nt?100:60}px`,minWidth:`${ot?"100px":tt?"370px":"310px"}`},children:[jsxRuntimeExports.jsx(Canvas,{ref:at,orthographic:!0,dpr:st?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:ft})=>{ft.traverse(dt=>{dt.matrixWorldAutoUpdate=!1,dt.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${ot?37:nt?100:60}px`},children:lt?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Renderer,{}),jsxRuntimeExports.jsx(TextsHighHZ,{customData:tt,minimal:ot,matrixUpdate:rt}),nt&&jsxRuntimeExports.jsx(ChartCurve,{colorBlind:et,minimal:ot,chart:_e})]})}),lt&&jsxRuntimeExports.jsxs(Graphpc,{children:[jsxRuntimeExports.jsx(PauseIcon,{})," PAUSED"]})]})},Renderer=()=>(useFrame(function({gl:_e,scene:tt,camera:rt}){rt.updateMatrix(),matriceCount.value-=1,rt.matrixWorld.copy(rt.matrix),rt.matrixWorldInverse.copy(rt.matrixWorld).invert(),_e.render(tt,rt),matriceWorldCount.value=0,matriceCount.value=0},1/0),null),HtmlMinimal=reactExports.forwardRef(({portal:et,className:_e,children:tt,name:rt,...nt},st)=>{const ot=useThree(dt=>dt.gl),at=reactExports.useRef(null),lt=reactExports.useRef(null),ft=(et==null?void 0:et.current)!=null?et.current:ot.domElement.parentNode;return reactExports.useLayoutEffect(()=>{if(!at.current||!ft)return;const dt=document.createElement("div"),gt=lt.current=createRoot$1(dt);return ft.appendChild(dt),()=>{gt.unmount(),lt.current=null,ft.removeChild(dt)}},[ft]),reactExports.useLayoutEffect(()=>{const dt=lt.current;dt&&dt.render(jsxRuntimeExports.jsx("div",{ref:st,className:_e,children:tt}))}),jsxRuntimeExports.jsx("group",{name:rt,...nt,ref:at})});function estimateBytesUsed(et){let _e=0;for(let rt in et.attributes){const nt=et.getAttribute(rt);_e+=nt.count*nt.itemSize*nt.array.BYTES_PER_ELEMENT}const tt=et.getIndex();return _e+=tt?tt.count*tt.itemSize*tt.array.BYTES_PER_ELEMENT:0,_e}const addTextureUniforms=(et,_e)=>{const tt=nt=>{switch(nt){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},rt=nt=>{switch(nt){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:et,url:_e.image.currentSrc,encoding:rt(_e.encoding),wrapT:tt(_e.wrapT),flipY:_e.flipY.toString()}},UniformsGL=({program:et,material:_e,setTexNumber:tt})=>{const rt=usePerf(ot=>ot.gl),[nt,st]=reactExports.useState(null);return reactExports.useEffect(()=>{if(rt){const ot=et==null?void 0:et.getUniforms();let at=0;const lt=new Map;ot.seq.forEach(ft=>{if(!ft.id.includes("uTroika")&&ft.id!=="isOrthographic"&&ft.id!=="uvTransform"&&ft.id!=="lightProbe"&&ft.id!=="projectionMatrix"&&ft.id!=="viewMatrix"&&ft.id!=="normalMatrix"&&ft.id!=="modelMatrix"&&ft.id!=="modelViewMatrix"){let dt=[],gt={name:ft.id};ft.cache&&(ft.cache.forEach(pt=>{typeof pt<"u"&&dt.push(pt.toString().substring(0,4))}),gt.value=dt.join(),_e[ft.id]&&_e[ft.id].image&&_e[ft.id].image&&(at++,gt.value=addTextureUniforms(ft.id,_e[ft.id])),gt.value||(gt.value="empty"),lt.set(ft.id,gt))}}),_e.uniforms&&Object.keys(_e.uniforms).forEach(ft=>{const dt=_e.uniforms[ft];if(dt.value){const{value:gt}=dt;let pt={name:ft};if(ft.includes("uTroika"))return;if(gt.isTexture)at++,pt.value=addTextureUniforms(ft,gt);else{let vt=JSON.stringify(gt);try{vt=JSON.stringify(gt)}catch{vt=gt.toString()}pt.value=vt}lt.set(ft,pt)}}),at>0&&tt(at),st(lt)}},[]),jsxRuntimeExports.jsx(ProgramsUL,{children:nt&&Array.from(nt.values()).map(ot=>jsxRuntimeExports.jsx("span",{children:typeof ot.value=="string"?jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("span",{children:[ot.name," :"," ",jsxRuntimeExports.jsxs("b",{children:[ot.value.substring(0,30),ot.value.length>30?"...":""]})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("b",{children:[ot.value.name,":"]})}),jsxRuntimeExports.jsxs("div",{children:[Object.keys(ot.value).map(at=>at!=="name"?jsxRuntimeExports.jsx("div",{children:at==="url"?jsxRuntimeExports.jsx("a",{href:ot.value[at],target:"_blank",children:jsxRuntimeExports.jsx("img",{src:ot.value[at]})}):jsxRuntimeExports.jsxs("li",{children:[at,": ",jsxRuntimeExports.jsx("b",{children:ot.value[at]})]})},at):null),jsxRuntimeExports.jsxs(ProgramConsole,{onClick:()=>{var at;console.info(_e[ot.value.name]||((at=_e==null?void 0:_e.uniforms[ot.value.name])==null?void 0:at.value))},children:["console.info(",ot.value.name,");"]})]})]})},ot.name))})},DynamicDrawCallInfo=({el:et})=>{usePerf(rt=>rt.log);const _e=usePerf(rt=>rt.gl),tt=rt=>{if(!_e)return 0;const nt=Math.round(rt.drawCounts.total/(_e.info.render.triangles+_e.info.render.lines+_e.info.render.points)*100*10)/10;return isFinite(nt)&&nt||0};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et.drawCounts.total>0&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[et.drawCounts.type==="Triangle"?jsxRuntimeExports.jsx(VercelLogoIcon,{style:{top:"-1px"}}):jsxRuntimeExports.jsx(ActivityLogIcon,{style:{top:"-1px"}}),et.drawCounts.total,jsxRuntimeExports.jsxs("small",{children:[et.drawCounts.type,"s"]}),_e&&jsxRuntimeExports.jsxs(PerfB,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[et.visible&&!et.material.wireframe?tt(et):0,"%"]})]})})},ProgramUI=({el:et})=>{const[_e,tt]=reactExports.useState(et.visible),[rt,nt]=reactExports.useState(et.expand),[st,ot]=reactExports.useState(0),{meshes:at,program:lt,material:ft}=et;return jsxRuntimeExports.jsxs(ProgramGeo,{children:[jsxRuntimeExports.jsxs(ProgramHeader,{onClick:()=>{et.expand=!rt,Object.keys(at).forEach(dt=>{const gt=at[dt];gt.material.wireframe=!1}),nt(!rt)},children:[jsxRuntimeExports.jsx(Toggle,{style:{marginRight:"6px"},children:rt?jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(TriangleDownIcon,{})}):jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(TriangleUpIcon,{})})}),lt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(ProgramTitle,{children:lt.name}),jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[jsxRuntimeExports.jsx(LayersIcon,{style:{top:"-1px"}}),Object.keys(at).length,jsxRuntimeExports.jsx("small",{children:Object.keys(at).length>1?"users":"user"})]}),st>0&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[st>1?jsxRuntimeExports.jsx(ImageIcon,{style:{top:"-1px"}}):jsxRuntimeExports.jsx(ImageIcon,{style:{top:"-1px"}}),st,jsxRuntimeExports.jsx("small",{children:"tex"})]}),jsxRuntimeExports.jsx(DynamicDrawCallInfo,{el:et}),ft.glslVersion==="300 es"&&jsxRuntimeExports.jsxs(PerfI,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[jsxRuntimeExports.jsx(RocketIcon,{style:{top:"-1px"}}),"300",jsxRuntimeExports.jsx("small",{children:"es"}),jsxRuntimeExports.jsx(PerfB,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),jsxRuntimeExports.jsx(ToggleVisible,{onPointerEnter:()=>{Object.keys(at).forEach(dt=>{const gt=at[dt];gt.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(at).forEach(dt=>{const gt=at[dt];gt.material.wireframe=!1})},onClick:dt=>{dt.stopPropagation(),Object.keys(at).forEach(gt=>{const pt=at[gt],vt=!_e;pt.visible=vt,et.visible=vt,tt(vt)})},children:_e?jsxRuntimeExports.jsx(EyeOpenIcon,{}):jsxRuntimeExports.jsx(EyeNoneIcon,{})})]}),jsxRuntimeExports.jsxs("div",{style:{maxHeight:rt?"9999px":0,overflow:"hidden"},children:[jsxRuntimeExports.jsxs(ProgramsULHeader,{children:[jsxRuntimeExports.jsx(ButtonIcon,{})," Uniforms:"]}),jsxRuntimeExports.jsx(UniformsGL,{program:lt,material:ft,setTexNumber:ot}),jsxRuntimeExports.jsxs(ProgramsULHeader,{children:[jsxRuntimeExports.jsx(CubeIcon,{})," Geometries:"]}),jsxRuntimeExports.jsx(ProgramsUL,{children:at&&Object.keys(at).map(dt=>at[dt]&&at[dt].geometry&&jsxRuntimeExports.jsxs(ProgramsGeoLi,{children:[jsxRuntimeExports.jsxs("span",{children:[at[dt].geometry.type,": "]}),at[dt].userData&&at[dt].userData.drawCount&&jsxRuntimeExports.jsxs("b",{children:[jsxRuntimeExports.jsxs("div",{children:[at[dt].userData.drawCount.count,jsxRuntimeExports.jsxs("small",{children:[" ",at[dt].userData.drawCount.type,"s"]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:[Math.round(estimateBytesUsed(at[dt].geometry)/1024*1e3)/1e3,"Kb",jsxRuntimeExports.jsx("small",{children:" memory used"})]})]})]},dt))}),jsxRuntimeExports.jsxs(ProgramConsole,{onClick:()=>{console.info(ft)},children:["console.info(",ft.type,")"]})]})]})},ProgramsUI=()=>{usePerf(_e=>_e.triggerProgramsUpdate);const et=usePerf(_e=>_e.programs);return jsxRuntimeExports.jsx(ProgramsContainer,{children:et&&Array.from(et.values()).map(_e=>_e&&_e?jsxRuntimeExports.jsx(ProgramUI,{el:_e},_e.material.uuid):null)})},colorsGraph=et=>({overClock:"#ff6eff",fps:et?"100, 143, 255":"238,38,110",cpu:et?"254, 254, 98":"66,226,46",gpu:et?"254,254,254":"253,151,31",custom:et?"86,180,233":"40,255,255"}),DynamicUIPerf=({showGraph:et,colorBlind:_e})=>{const tt=usePerf(nt=>nt.overclockingFps),rt=usePerf(nt=>nt.fpsLimit);return jsxRuntimeExports.jsxs(PerfB,{style:et?{color:tt?colorsGraph(_e).overClock.toString():`rgb(${colorsGraph(_e).fps})`}:{},children:["FPS ",tt?`${rt}`:""]})},DynamicUI=({showGraph:et,colorBlind:_e,customData:tt,minimal:rt})=>{const nt=usePerf(st=>st.gl);return nt?jsxRuntimeExports.jsxs(PerfIContainer,{children:[jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(LightningBoltIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:et?{color:`rgb(${colorsGraph(_e).gpu.toString()})`}:{},children:"GPU"}),jsxRuntimeExports.jsx(PerfSmallI,{children:"ms"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(RulerHorizontalIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:et?{color:`rgb(${colorsGraph(_e).cpu.toString()})`}:{},children:"CPU"}),jsxRuntimeExports.jsx(PerfSmallI,{children:"ms"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(LapTimerIcon,{}),jsxRuntimeExports.jsx(DynamicUIPerf,{showGraph:et,colorBlind:_e})]}),!rt&&nt&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(TextAlignJustifyIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:nt.info.render.calls===1?"call":"calls"})]}),!rt&&nt&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(VercelLogoIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Triangles"})]}),tt&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(BarChartIcon,{}),jsxRuntimeExports.jsx(PerfB,{style:et?{color:`rgb(${colorsGraph(_e).custom})`}:{},children:tt.name}),tt.info&&jsxRuntimeExports.jsx(PerfSmallI,{children:tt.info})]})]}):null},PerfUI=({showGraph:et,colorBlind:_e,deepAnalyze:tt,customData:rt,matrixUpdate:nt,openByDefault:st,minimal:ot})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DynamicUI,{showGraph:et,colorBlind:_e,customData:rt,minimal:ot}),!ot&&jsxRuntimeExports.jsx(PerfThree,{matrixUpdate:nt,openByDefault:st,deepAnalyze:tt,showGraph:et})]}),InfoUI=({matrixUpdate:et})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(MarginIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Geometries"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(ImageIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Textures"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(ActivityLogIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"shaders"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(MinusIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Lines"})]}),jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(DotIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Points"})]}),et&&jsxRuntimeExports.jsxs(PerfI,{children:[jsxRuntimeExports.jsx(DropdownMenuIcon,{}),jsxRuntimeExports.jsx(PerfB,{children:"Matrices"})]})]}),ToggleEl=({tab:et,title:_e,set:tt})=>{const rt=usePerf(nt=>nt.tab);return jsxRuntimeExports.jsx(Toggle,{className:`${rt===et?" __perf_toggle_tab_active":""}`,onClick:()=>{tt(!0),setPerf({tab:et})},children:jsxRuntimeExports.jsx("span",{children:_e})})},PerfThree=({openByDefault:et,showGraph:_e,deepAnalyze:tt,matrixUpdate:rt})=>{const[nt,st]=React$1.useState(et);return jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TabContainers,{show:nt,showGraph:_e,matrixUpdate:rt}),et&&!tt?null:jsxRuntimeExports.jsxs(ToggleContainer,{className:"__perf_toggle",children:[tt&&jsxRuntimeExports.jsx(ToggleEl,{tab:"programs",title:"Programs",set:st}),tt&&jsxRuntimeExports.jsx(ToggleEl,{tab:"infos",title:"Infos",set:st}),jsxRuntimeExports.jsx(Toggle,{onClick:()=>{st(!nt)},children:nt?jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TriangleDownIcon,{})," Minimize"]}):jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(TriangleUpIcon,{})," More"]})})]})]})},TabContainers=({show:et,showGraph:_e,matrixUpdate:tt})=>{const rt=usePerf(nt=>nt.tab);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoUI,{matrixUpdate:tt}),et&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ContainerScroll,{style:{marginTop:_e?"38px":0},children:rt==="programs"&&jsxRuntimeExports.jsx(ProgramsUI,{})})})]})},Perf=({showGraph:et=!0,colorBlind:_e=!1,openByDefault:tt=!0,className:rt,overClock:nt=!1,style:st,position:ot="top-right",chart:at,logsPerSecond:lt,deepAnalyze:ft=!1,antialias:dt=!0,customData:gt,matrixUpdate:pt,minimal:vt})=>{const St=reactExports.useRef(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PerfHeadless,{logsPerSecond:lt,chart:at,overClock:nt,deepAnalyze:ft,matrixUpdate:pt}),jsxRuntimeExports.jsx(HtmlMinimal,{name:"r3f-perf",children:jsxRuntimeExports.jsxs(PerfS,{className:(rt?" ".concat(rt):" ")+` ${ot||""} ${vt?"minimal":""}`,style:{minHeight:vt?"37px":et?"100px":"60px",...st},ref:St,children:[jsxRuntimeExports.jsx(ChartUI,{perfContainerRef:St,colorBlind:_e,chart:at,showGraph:et,antialias:dt,customData:gt,minimal:vt,matrixUpdate:pt}),jsxRuntimeExports.jsx(PerfUI,{colorBlind:_e,showGraph:et,deepAnalyze:ft,openByDefault:tt,customData:gt,matrixUpdate:pt,minimal:vt})]})})]})};var dist={},blocks={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.BLOCKS=void 0,function(_e){_e.DOCUMENT="document",_e.PARAGRAPH="paragraph",_e.HEADING_1="heading-1",_e.HEADING_2="heading-2",_e.HEADING_3="heading-3",_e.HEADING_4="heading-4",_e.HEADING_5="heading-5",_e.HEADING_6="heading-6",_e.OL_LIST="ordered-list",_e.UL_LIST="unordered-list",_e.LIST_ITEM="list-item",_e.HR="hr",_e.QUOTE="blockquote",_e.EMBEDDED_ENTRY="embedded-entry-block",_e.EMBEDDED_ASSET="embedded-asset-block",_e.EMBEDDED_RESOURCE="embedded-resource-block",_e.TABLE="table",_e.TABLE_ROW="table-row",_e.TABLE_CELL="table-cell",_e.TABLE_HEADER_CELL="table-header-cell"}(et.BLOCKS||(et.BLOCKS={}))})(blocks);var inlines={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.INLINES=void 0,function(_e){_e.HYPERLINK="hyperlink",_e.ENTRY_HYPERLINK="entry-hyperlink",_e.ASSET_HYPERLINK="asset-hyperlink",_e.EMBEDDED_ENTRY="embedded-entry-inline"}(et.INLINES||(et.INLINES={}))})(inlines);var marks={};Object.defineProperty(marks,"__esModule",{value:!0});var MARKS;(function(et){et.BOLD="bold",et.ITALIC="italic",et.UNDERLINE="underline",et.CODE="code",et.SUPERSCRIPT="superscript",et.SUBSCRIPT="subscript"})(MARKS||(MARKS={}));marks.default=MARKS;var schemaConstraints={};(function(et){var _e=commonjsGlobal&&commonjsGlobal.__spreadArray||function(at,lt,ft){if(ft||arguments.length===2)for(var dt=0,gt=lt.length,pt;dt<gt;dt++)(pt||!(dt in lt))&&(pt||(pt=Array.prototype.slice.call(lt,0,dt)),pt[dt]=lt[dt]);return at.concat(pt||Array.prototype.slice.call(lt))},tt=commonjsGlobal&&commonjsGlobal.__importDefault||function(at){return at&&at.__esModule?at:{default:at}},rt;Object.defineProperty(et,"__esModule",{value:!0}),et.V1_MARKS=et.V1_NODE_TYPES=et.TEXT_CONTAINERS=et.HEADINGS=et.CONTAINERS=et.VOID_BLOCKS=et.TABLE_BLOCKS=et.LIST_ITEM_BLOCKS=et.TOP_LEVEL_BLOCKS=void 0;var nt=blocks,st=inlines,ot=tt(marks);et.TOP_LEVEL_BLOCKS=[nt.BLOCKS.PARAGRAPH,nt.BLOCKS.HEADING_1,nt.BLOCKS.HEADING_2,nt.BLOCKS.HEADING_3,nt.BLOCKS.HEADING_4,nt.BLOCKS.HEADING_5,nt.BLOCKS.HEADING_6,nt.BLOCKS.OL_LIST,nt.BLOCKS.UL_LIST,nt.BLOCKS.HR,nt.BLOCKS.QUOTE,nt.BLOCKS.EMBEDDED_ENTRY,nt.BLOCKS.EMBEDDED_ASSET,nt.BLOCKS.EMBEDDED_RESOURCE,nt.BLOCKS.TABLE],et.LIST_ITEM_BLOCKS=[nt.BLOCKS.PARAGRAPH,nt.BLOCKS.HEADING_1,nt.BLOCKS.HEADING_2,nt.BLOCKS.HEADING_3,nt.BLOCKS.HEADING_4,nt.BLOCKS.HEADING_5,nt.BLOCKS.HEADING_6,nt.BLOCKS.OL_LIST,nt.BLOCKS.UL_LIST,nt.BLOCKS.HR,nt.BLOCKS.QUOTE,nt.BLOCKS.EMBEDDED_ENTRY,nt.BLOCKS.EMBEDDED_ASSET,nt.BLOCKS.EMBEDDED_RESOURCE],et.TABLE_BLOCKS=[nt.BLOCKS.TABLE,nt.BLOCKS.TABLE_ROW,nt.BLOCKS.TABLE_CELL,nt.BLOCKS.TABLE_HEADER_CELL],et.VOID_BLOCKS=[nt.BLOCKS.HR,nt.BLOCKS.EMBEDDED_ENTRY,nt.BLOCKS.EMBEDDED_ASSET,nt.BLOCKS.EMBEDDED_RESOURCE],et.CONTAINERS=(rt={},rt[nt.BLOCKS.OL_LIST]=[nt.BLOCKS.LIST_ITEM],rt[nt.BLOCKS.UL_LIST]=[nt.BLOCKS.LIST_ITEM],rt[nt.BLOCKS.LIST_ITEM]=et.LIST_ITEM_BLOCKS,rt[nt.BLOCKS.QUOTE]=[nt.BLOCKS.PARAGRAPH],rt[nt.BLOCKS.TABLE]=[nt.BLOCKS.TABLE_ROW],rt[nt.BLOCKS.TABLE_ROW]=[nt.BLOCKS.TABLE_CELL,nt.BLOCKS.TABLE_HEADER_CELL],rt[nt.BLOCKS.TABLE_CELL]=[nt.BLOCKS.PARAGRAPH],rt[nt.BLOCKS.TABLE_HEADER_CELL]=[nt.BLOCKS.PARAGRAPH],rt),et.HEADINGS=[nt.BLOCKS.HEADING_1,nt.BLOCKS.HEADING_2,nt.BLOCKS.HEADING_3,nt.BLOCKS.HEADING_4,nt.BLOCKS.HEADING_5,nt.BLOCKS.HEADING_6],et.TEXT_CONTAINERS=_e([nt.BLOCKS.PARAGRAPH],et.HEADINGS,!0),et.V1_NODE_TYPES=[nt.BLOCKS.DOCUMENT,nt.BLOCKS.PARAGRAPH,nt.BLOCKS.HEADING_1,nt.BLOCKS.HEADING_2,nt.BLOCKS.HEADING_3,nt.BLOCKS.HEADING_4,nt.BLOCKS.HEADING_5,nt.BLOCKS.HEADING_6,nt.BLOCKS.OL_LIST,nt.BLOCKS.UL_LIST,nt.BLOCKS.LIST_ITEM,nt.BLOCKS.HR,nt.BLOCKS.QUOTE,nt.BLOCKS.EMBEDDED_ENTRY,nt.BLOCKS.EMBEDDED_ASSET,st.INLINES.HYPERLINK,st.INLINES.ENTRY_HYPERLINK,st.INLINES.ASSET_HYPERLINK,st.INLINES.EMBEDDED_ENTRY,"text"],et.V1_MARKS=[ot.default.BOLD,ot.default.CODE,ot.default.ITALIC,ot.default.UNDERLINE]})(schemaConstraints);var types={};Object.defineProperty(types,"__esModule",{value:!0});var nodeTypes={};Object.defineProperty(nodeTypes,"__esModule",{value:!0});var emptyDocument={};Object.defineProperty(emptyDocument,"__esModule",{value:!0});var blocks_1$1=blocks,EMPTY_DOCUMENT={nodeType:blocks_1$1.BLOCKS.DOCUMENT,data:{},content:[{nodeType:blocks_1$1.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};emptyDocument.default=EMPTY_DOCUMENT;var helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.isText=helpers.isBlock=helpers.isInline=void 0;var blocks_1=blocks,inlines_1=inlines;function hasValue(et,_e){for(var tt=0,rt=Object.keys(et);tt<rt.length;tt++){var nt=rt[tt];if(_e===et[nt])return!0}return!1}function isInline(et){return hasValue(inlines_1.INLINES,et.nodeType)}helpers.isInline=isInline;function isBlock(et){return hasValue(blocks_1.BLOCKS,et.nodeType)}helpers.isBlock=isBlock;function isText(et){return et.nodeType==="text"}helpers.isText=isText;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(gt,pt,vt,St){St===void 0&&(St=vt);var At=Object.getOwnPropertyDescriptor(pt,vt);(!At||("get"in At?!pt.__esModule:At.writable||At.configurable))&&(At={enumerable:!0,get:function(){return pt[vt]}}),Object.defineProperty(gt,St,At)}:function(gt,pt,vt,St){St===void 0&&(St=vt),gt[St]=pt[vt]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(gt,pt){Object.defineProperty(gt,"default",{enumerable:!0,value:pt})}:function(gt,pt){gt.default=pt}),rt=commonjsGlobal&&commonjsGlobal.__exportStar||function(gt,pt){for(var vt in gt)vt!=="default"&&!Object.prototype.hasOwnProperty.call(pt,vt)&&_e(pt,gt,vt)},nt=commonjsGlobal&&commonjsGlobal.__importStar||function(gt){if(gt&&gt.__esModule)return gt;var pt={};if(gt!=null)for(var vt in gt)vt!=="default"&&Object.prototype.hasOwnProperty.call(gt,vt)&&_e(pt,gt,vt);return tt(pt,gt),pt},st=commonjsGlobal&&commonjsGlobal.__importDefault||function(gt){return gt&&gt.__esModule?gt:{default:gt}};Object.defineProperty(et,"__esModule",{value:!0}),et.helpers=et.EMPTY_DOCUMENT=et.MARKS=et.INLINES=et.BLOCKS=void 0;var ot=blocks;Object.defineProperty(et,"BLOCKS",{enumerable:!0,get:function(){return ot.BLOCKS}});var at=inlines;Object.defineProperty(et,"INLINES",{enumerable:!0,get:function(){return at.INLINES}});var lt=marks;Object.defineProperty(et,"MARKS",{enumerable:!0,get:function(){return st(lt).default}}),rt(schemaConstraints,et),rt(types,et),rt(nodeTypes,et);var ft=emptyDocument;Object.defineProperty(et,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return st(ft).default}});var dt=nt(helpers);et.helpers=dt})(dist);var richTextReactRenderer_es5={};(function(et){Object.defineProperty(et,"__esModule",{value:!0});function _e(jt){return jt&&typeof jt=="object"&&"default"in jt?jt.default:jt}var tt=reactExports,rt=_e(tt);/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var nt=function(){return nt=Object.assign||function(Kt){for(var qt,er=1,kt=arguments.length;er<kt;er++){qt=arguments[er];for(var Vt in qt)Object.prototype.hasOwnProperty.call(qt,Vt)&&(Kt[Vt]=qt[Vt])}return Kt},nt.apply(this,arguments)},st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function ot(jt){return jt&&jt.__esModule&&Object.prototype.hasOwnProperty.call(jt,"default")?jt.default:jt}function at(jt,Kt){return Kt={exports:{}},jt(Kt,Kt.exports),Kt.exports}var lt=at(function(jt,Kt){Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.BLOCKS=void 0,function(qt){qt.DOCUMENT="document",qt.PARAGRAPH="paragraph",qt.HEADING_1="heading-1",qt.HEADING_2="heading-2",qt.HEADING_3="heading-3",qt.HEADING_4="heading-4",qt.HEADING_5="heading-5",qt.HEADING_6="heading-6",qt.OL_LIST="ordered-list",qt.UL_LIST="unordered-list",qt.LIST_ITEM="list-item",qt.HR="hr",qt.QUOTE="blockquote",qt.EMBEDDED_ENTRY="embedded-entry-block",qt.EMBEDDED_ASSET="embedded-asset-block",qt.EMBEDDED_RESOURCE="embedded-resource-block",qt.TABLE="table",qt.TABLE_ROW="table-row",qt.TABLE_CELL="table-cell",qt.TABLE_HEADER_CELL="table-header-cell"}(Kt.BLOCKS||(Kt.BLOCKS={}))});ot(lt),lt.BLOCKS;var ft=at(function(jt,Kt){Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.INLINES=void 0,function(qt){qt.HYPERLINK="hyperlink",qt.ENTRY_HYPERLINK="entry-hyperlink",qt.ASSET_HYPERLINK="asset-hyperlink",qt.EMBEDDED_ENTRY="embedded-entry-inline"}(Kt.INLINES||(Kt.INLINES={}))});ot(ft),ft.INLINES;var dt=at(function(jt,Kt){Object.defineProperty(Kt,"__esModule",{value:!0});var qt;(function(er){er.BOLD="bold",er.ITALIC="italic",er.UNDERLINE="underline",er.CODE="code",er.SUPERSCRIPT="superscript",er.SUBSCRIPT="subscript"})(qt||(qt={})),Kt.default=qt});ot(dt);var gt=at(function(jt,Kt){var qt=st&&st.__spreadArray||function(Zt,Wt,nr){if(nr||arguments.length===2)for(var sr=0,lr=Wt.length,dr;sr<lr;sr++)(dr||!(sr in Wt))&&(dr||(dr=Array.prototype.slice.call(Wt,0,sr)),dr[sr]=Wt[sr]);return Zt.concat(dr||Array.prototype.slice.call(Wt))},er=st&&st.__importDefault||function(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}},kt;Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.V1_MARKS=Kt.V1_NODE_TYPES=Kt.TEXT_CONTAINERS=Kt.HEADINGS=Kt.CONTAINERS=Kt.VOID_BLOCKS=Kt.TABLE_BLOCKS=Kt.LIST_ITEM_BLOCKS=Kt.TOP_LEVEL_BLOCKS=void 0;var Vt=er(dt);Kt.TOP_LEVEL_BLOCKS=[lt.BLOCKS.PARAGRAPH,lt.BLOCKS.HEADING_1,lt.BLOCKS.HEADING_2,lt.BLOCKS.HEADING_3,lt.BLOCKS.HEADING_4,lt.BLOCKS.HEADING_5,lt.BLOCKS.HEADING_6,lt.BLOCKS.OL_LIST,lt.BLOCKS.UL_LIST,lt.BLOCKS.HR,lt.BLOCKS.QUOTE,lt.BLOCKS.EMBEDDED_ENTRY,lt.BLOCKS.EMBEDDED_ASSET,lt.BLOCKS.EMBEDDED_RESOURCE,lt.BLOCKS.TABLE],Kt.LIST_ITEM_BLOCKS=[lt.BLOCKS.PARAGRAPH,lt.BLOCKS.HEADING_1,lt.BLOCKS.HEADING_2,lt.BLOCKS.HEADING_3,lt.BLOCKS.HEADING_4,lt.BLOCKS.HEADING_5,lt.BLOCKS.HEADING_6,lt.BLOCKS.OL_LIST,lt.BLOCKS.UL_LIST,lt.BLOCKS.HR,lt.BLOCKS.QUOTE,lt.BLOCKS.EMBEDDED_ENTRY,lt.BLOCKS.EMBEDDED_ASSET,lt.BLOCKS.EMBEDDED_RESOURCE],Kt.TABLE_BLOCKS=[lt.BLOCKS.TABLE,lt.BLOCKS.TABLE_ROW,lt.BLOCKS.TABLE_CELL,lt.BLOCKS.TABLE_HEADER_CELL],Kt.VOID_BLOCKS=[lt.BLOCKS.HR,lt.BLOCKS.EMBEDDED_ENTRY,lt.BLOCKS.EMBEDDED_ASSET,lt.BLOCKS.EMBEDDED_RESOURCE],Kt.CONTAINERS=(kt={},kt[lt.BLOCKS.OL_LIST]=[lt.BLOCKS.LIST_ITEM],kt[lt.BLOCKS.UL_LIST]=[lt.BLOCKS.LIST_ITEM],kt[lt.BLOCKS.LIST_ITEM]=Kt.LIST_ITEM_BLOCKS,kt[lt.BLOCKS.QUOTE]=[lt.BLOCKS.PARAGRAPH],kt[lt.BLOCKS.TABLE]=[lt.BLOCKS.TABLE_ROW],kt[lt.BLOCKS.TABLE_ROW]=[lt.BLOCKS.TABLE_CELL,lt.BLOCKS.TABLE_HEADER_CELL],kt[lt.BLOCKS.TABLE_CELL]=[lt.BLOCKS.PARAGRAPH],kt[lt.BLOCKS.TABLE_HEADER_CELL]=[lt.BLOCKS.PARAGRAPH],kt),Kt.HEADINGS=[lt.BLOCKS.HEADING_1,lt.BLOCKS.HEADING_2,lt.BLOCKS.HEADING_3,lt.BLOCKS.HEADING_4,lt.BLOCKS.HEADING_5,lt.BLOCKS.HEADING_6],Kt.TEXT_CONTAINERS=qt([lt.BLOCKS.PARAGRAPH],Kt.HEADINGS,!0),Kt.V1_NODE_TYPES=[lt.BLOCKS.DOCUMENT,lt.BLOCKS.PARAGRAPH,lt.BLOCKS.HEADING_1,lt.BLOCKS.HEADING_2,lt.BLOCKS.HEADING_3,lt.BLOCKS.HEADING_4,lt.BLOCKS.HEADING_5,lt.BLOCKS.HEADING_6,lt.BLOCKS.OL_LIST,lt.BLOCKS.UL_LIST,lt.BLOCKS.LIST_ITEM,lt.BLOCKS.HR,lt.BLOCKS.QUOTE,lt.BLOCKS.EMBEDDED_ENTRY,lt.BLOCKS.EMBEDDED_ASSET,ft.INLINES.HYPERLINK,ft.INLINES.ENTRY_HYPERLINK,ft.INLINES.ASSET_HYPERLINK,ft.INLINES.EMBEDDED_ENTRY,"text"],Kt.V1_MARKS=[Vt.default.BOLD,Vt.default.CODE,Vt.default.ITALIC,Vt.default.UNDERLINE]});ot(gt),gt.V1_MARKS,gt.V1_NODE_TYPES,gt.TEXT_CONTAINERS,gt.HEADINGS,gt.CONTAINERS,gt.VOID_BLOCKS,gt.TABLE_BLOCKS,gt.LIST_ITEM_BLOCKS,gt.TOP_LEVEL_BLOCKS;var pt=at(function(jt,Kt){Object.defineProperty(Kt,"__esModule",{value:!0})});ot(pt);var vt=at(function(jt,Kt){Object.defineProperty(Kt,"__esModule",{value:!0})});ot(vt);var St=at(function(jt,Kt){Object.defineProperty(Kt,"__esModule",{value:!0});var qt={nodeType:lt.BLOCKS.DOCUMENT,data:{},content:[{nodeType:lt.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};Kt.default=qt});ot(St);var At=at(function(jt,Kt){Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.isText=Kt.isBlock=Kt.isInline=void 0;function qt(Zt,Wt){for(var nr=0,sr=Object.keys(Zt);nr<sr.length;nr++){var lr=sr[nr];if(Wt===Zt[lr])return!0}return!1}function er(Zt){return qt(ft.INLINES,Zt.nodeType)}Kt.isInline=er;function kt(Zt){return qt(lt.BLOCKS,Zt.nodeType)}Kt.isBlock=kt;function Vt(Zt){return Zt.nodeType==="text"}Kt.isText=Vt});ot(At),At.isText,At.isBlock,At.isInline;var Tt=at(function(jt,Kt){var qt=st&&st.__createBinding||(Object.create?function(nr,sr,lr,dr){dr===void 0&&(dr=lr);var hr=Object.getOwnPropertyDescriptor(sr,lr);(!hr||("get"in hr?!sr.__esModule:hr.writable||hr.configurable))&&(hr={enumerable:!0,get:function(){return sr[lr]}}),Object.defineProperty(nr,dr,hr)}:function(nr,sr,lr,dr){dr===void 0&&(dr=lr),nr[dr]=sr[lr]}),er=st&&st.__setModuleDefault||(Object.create?function(nr,sr){Object.defineProperty(nr,"default",{enumerable:!0,value:sr})}:function(nr,sr){nr.default=sr}),kt=st&&st.__exportStar||function(nr,sr){for(var lr in nr)lr!=="default"&&!Object.prototype.hasOwnProperty.call(sr,lr)&&qt(sr,nr,lr)},Vt=st&&st.__importStar||function(nr){if(nr&&nr.__esModule)return nr;var sr={};if(nr!=null)for(var lr in nr)lr!=="default"&&Object.prototype.hasOwnProperty.call(nr,lr)&&qt(sr,nr,lr);return er(sr,nr),sr},Zt=st&&st.__importDefault||function(nr){return nr&&nr.__esModule?nr:{default:nr}};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.helpers=Kt.EMPTY_DOCUMENT=Kt.MARKS=Kt.INLINES=Kt.BLOCKS=void 0,Object.defineProperty(Kt,"BLOCKS",{enumerable:!0,get:function(){return lt.BLOCKS}}),Object.defineProperty(Kt,"INLINES",{enumerable:!0,get:function(){return ft.INLINES}}),Object.defineProperty(Kt,"MARKS",{enumerable:!0,get:function(){return Zt(dt).default}}),kt(gt,Kt),kt(pt,Kt),kt(vt,Kt),Object.defineProperty(Kt,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return Zt(St).default}});var Wt=Vt(At);Kt.helpers=Wt});ot(Tt);var Ct=Tt.helpers;Tt.EMPTY_DOCUMENT;var Mt=Tt.MARKS,Et=Tt.INLINES,Rt=Tt.BLOCKS;function Bt(jt,Kt){return tt.isValidElement(jt)&&jt.key===null?tt.cloneElement(jt,{key:Kt}):jt}function Ft(jt,Kt){return jt.map(function(qt,er){return Bt(Lt(qt,Kt),er)})}function Lt(jt,Kt){var qt=Kt.renderNode,er=Kt.renderMark,kt=Kt.renderText;if(Ct.isText(jt))return jt.marks.reduce(function(Zt,Wt){return er[Wt.type]?er[Wt.type](Zt):Zt},kt?kt(jt.value):jt.value);var Vt=Ft(jt.content,Kt);return!jt.nodeType||!qt[jt.nodeType]?rt.createElement(rt.Fragment,null,Vt):qt[jt.nodeType](jt,Vt)}var wt,Dt,Ot=(wt={},wt[Rt.DOCUMENT]=function(jt,Kt){return Kt},wt[Rt.PARAGRAPH]=function(jt,Kt){return rt.createElement("p",null,Kt)},wt[Rt.HEADING_1]=function(jt,Kt){return rt.createElement("h1",null,Kt)},wt[Rt.HEADING_2]=function(jt,Kt){return rt.createElement("h2",null,Kt)},wt[Rt.HEADING_3]=function(jt,Kt){return rt.createElement("h3",null,Kt)},wt[Rt.HEADING_4]=function(jt,Kt){return rt.createElement("h4",null,Kt)},wt[Rt.HEADING_5]=function(jt,Kt){return rt.createElement("h5",null,Kt)},wt[Rt.HEADING_6]=function(jt,Kt){return rt.createElement("h6",null,Kt)},wt[Rt.EMBEDDED_ENTRY]=function(jt,Kt){return rt.createElement("div",null,Kt)},wt[Rt.EMBEDDED_RESOURCE]=function(jt,Kt){return rt.createElement("div",null,Kt)},wt[Rt.UL_LIST]=function(jt,Kt){return rt.createElement("ul",null,Kt)},wt[Rt.OL_LIST]=function(jt,Kt){return rt.createElement("ol",null,Kt)},wt[Rt.LIST_ITEM]=function(jt,Kt){return rt.createElement("li",null,Kt)},wt[Rt.QUOTE]=function(jt,Kt){return rt.createElement("blockquote",null,Kt)},wt[Rt.HR]=function(){return rt.createElement("hr",null)},wt[Rt.TABLE]=function(jt,Kt){return rt.createElement("table",null,rt.createElement("tbody",null,Kt))},wt[Rt.TABLE_ROW]=function(jt,Kt){return rt.createElement("tr",null,Kt)},wt[Rt.TABLE_HEADER_CELL]=function(jt,Kt){return rt.createElement("th",null,Kt)},wt[Rt.TABLE_CELL]=function(jt,Kt){return rt.createElement("td",null,Kt)},wt[Et.ASSET_HYPERLINK]=function(jt){return zt(Et.ASSET_HYPERLINK,jt)},wt[Et.ENTRY_HYPERLINK]=function(jt){return zt(Et.ENTRY_HYPERLINK,jt)},wt[Et.EMBEDDED_ENTRY]=function(jt){return zt(Et.EMBEDDED_ENTRY,jt)},wt[Et.HYPERLINK]=function(jt,Kt){return rt.createElement("a",{href:jt.data.uri},Kt)},wt),Ut=(Dt={},Dt[Mt.BOLD]=function(jt){return rt.createElement("b",null,jt)},Dt[Mt.ITALIC]=function(jt){return rt.createElement("i",null,jt)},Dt[Mt.UNDERLINE]=function(jt){return rt.createElement("u",null,jt)},Dt[Mt.CODE]=function(jt){return rt.createElement("code",null,jt)},Dt[Mt.SUPERSCRIPT]=function(jt){return rt.createElement("sup",null,jt)},Dt[Mt.SUBSCRIPT]=function(jt){return rt.createElement("sub",null,jt)},Dt);function zt(jt,Kt){return rt.createElement("span",{key:Kt.data.target.sys.id},"type: ",Kt.nodeType," id: ",Kt.data.target.sys.id)}function tr(jt,Kt){return Kt===void 0&&(Kt={}),jt?Lt(jt,{renderNode:nt(nt({},Ot),Kt.renderNode),renderMark:nt(nt({},Ut),Kt.renderMark),renderText:Kt.renderText}):null}et.documentToReactComponents=tr})(richTextReactRenderer_es5);var lib={},players={},utils={},loadScript=function et(_e,tt,rt){var nt=document.head||document.getElementsByTagName("head")[0],st=document.createElement("script");typeof tt=="function"&&(rt=tt,tt={}),tt=tt||{},rt=rt||function(){},st.type=tt.type||"text/javascript",st.charset=tt.charset||"utf8",st.async="async"in tt?!!tt.async:!0,st.src=_e,tt.attrs&&setAttributes(st,tt.attrs),tt.text&&(st.text=""+tt.text);var ot="onload"in st?stdOnEnd:ieOnEnd;ot(st,rt),st.onload||stdOnEnd(st,rt),nt.appendChild(st)};function setAttributes(et,_e){for(var tt in _e)et.setAttribute(tt,_e[tt])}function stdOnEnd(et,_e){et.onload=function(){this.onerror=this.onload=null,_e(null,et)},et.onerror=function(){this.onerror=this.onload=null,_e(new Error("Failed to load "+this.src),et)}}function ieOnEnd(et,_e){et.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,_e(null,et))}}var isMergeableObject=function et(_e){return isNonNullObject(_e)&&!isSpecial(_e)};function isNonNullObject(et){return!!et&&typeof et=="object"}function isSpecial(et){var _e=Object.prototype.toString.call(et);return _e==="[object RegExp]"||_e==="[object Date]"||isReactElement(et)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(et){return et.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(et){return Array.isArray(et)?[]:{}}function cloneUnlessOtherwiseSpecified(et,_e){return _e.clone!==!1&&_e.isMergeableObject(et)?deepmerge(emptyTarget(et),et,_e):et}function defaultArrayMerge(et,_e,tt){return et.concat(_e).map(function(rt){return cloneUnlessOtherwiseSpecified(rt,tt)})}function getMergeFunction(et,_e){if(!_e.customMerge)return deepmerge;var tt=_e.customMerge(et);return typeof tt=="function"?tt:deepmerge}function getEnumerableOwnPropertySymbols(et){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(et).filter(function(_e){return Object.propertyIsEnumerable.call(et,_e)}):[]}function getKeys(et){return Object.keys(et).concat(getEnumerableOwnPropertySymbols(et))}function propertyIsOnObject(et,_e){try{return _e in et}catch{return!1}}function propertyIsUnsafe(et,_e){return propertyIsOnObject(et,_e)&&!(Object.hasOwnProperty.call(et,_e)&&Object.propertyIsEnumerable.call(et,_e))}function mergeObject(et,_e,tt){var rt={};return tt.isMergeableObject(et)&&getKeys(et).forEach(function(nt){rt[nt]=cloneUnlessOtherwiseSpecified(et[nt],tt)}),getKeys(_e).forEach(function(nt){propertyIsUnsafe(et,nt)||(propertyIsOnObject(et,nt)&&tt.isMergeableObject(_e[nt])?rt[nt]=getMergeFunction(nt,tt)(et[nt],_e[nt],tt):rt[nt]=cloneUnlessOtherwiseSpecified(_e[nt],tt))}),rt}function deepmerge(et,_e,tt){tt=tt||{},tt.arrayMerge=tt.arrayMerge||defaultArrayMerge,tt.isMergeableObject=tt.isMergeableObject||isMergeableObject,tt.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var rt=Array.isArray(_e),nt=Array.isArray(et),st=rt===nt;return st?rt?tt.arrayMerge(et,_e,tt):mergeObject(et,_e,tt):cloneUnlessOtherwiseSpecified(_e,tt)}deepmerge.all=function et(_e,tt){if(!Array.isArray(_e))throw new Error("first argument should be an array");return _e.reduce(function(rt,nt){return deepmerge(rt,nt,tt)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;Object.defineProperty(utils,"__esModule",{value:!0});utils.parseStartTime=parseStartTime;utils.parseEndTime=parseEndTime;utils.randomString=randomString;utils.queryString=queryString;utils.getSDK=getSDK;utils.getConfig=getConfig;utils.omit=omit;utils.callPlayer=callPlayer;utils.isMediaStream=isMediaStream;utils.isBlobUrl=isBlobUrl;utils.supportsWebKitPresentationMode=supportsWebKitPresentationMode;var _loadScript=_interopRequireDefault$2(loadScript),_deepmerge$1=_interopRequireDefault$2(cjs);function _interopRequireDefault$2(et){return et&&et.__esModule?et:{default:et}}function _slicedToArray(et,_e){return _arrayWithHoles(et)||_iterableToArrayLimit(et,_e)||_unsupportedIterableToArray$2(et,_e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(et,_e){if(et){if(typeof et=="string")return _arrayLikeToArray$2(et,_e);var tt=Object.prototype.toString.call(et).slice(8,-1);if(tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set")return Array.from(et);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray$2(et,_e)}}function _arrayLikeToArray$2(et,_e){(_e==null||_e>et.length)&&(_e=et.length);for(var tt=0,rt=new Array(_e);tt<_e;tt++)rt[tt]=et[tt];return rt}function _iterableToArrayLimit(et,_e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(et)))){var tt=[],rt=!0,nt=!1,st=void 0;try{for(var ot=et[Symbol.iterator](),at;!(rt=(at=ot.next()).done)&&(tt.push(at.value),!(_e&&tt.length===_e));rt=!0);}catch(lt){nt=!0,st=lt}finally{try{!rt&&ot.return!=null&&ot.return()}finally{if(nt)throw st}}return tt}}function _arrayWithHoles(et){if(Array.isArray(et))return et}var MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(et,_e){if(!(et instanceof Array)){var tt=et.match(_e);if(tt){var rt=tt[1];if(rt.match(MATCH_START_STAMP))return parseTimeString(rt);if(MATCH_NUMERIC.test(rt))return parseInt(rt)}}}function parseTimeString(et){for(var _e=0,tt=MATCH_START_STAMP.exec(et);tt!==null;){var rt=tt,nt=_slicedToArray(rt,3),st=nt[1],ot=nt[2];ot==="h"&&(_e+=parseInt(st,10)*60*60),ot==="m"&&(_e+=parseInt(st,10)*60),ot==="s"&&(_e+=parseInt(st,10)),tt=MATCH_START_STAMP.exec(et)}return _e}function parseStartTime(et){return parseTimeParam(et,MATCH_START_QUERY)}function parseEndTime(et){return parseTimeParam(et,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(et){return Object.keys(et).map(function(_e){return"".concat(_e,"=").concat(et[_e])}).join("&")}function getGlobal(et){return window[et]?window[et]:window.exports&&window.exports[et]?window.exports[et]:window.module&&window.module.exports&&window.module.exports[et]?window.module.exports[et]:null}var requests={};function getSDK(et,_e){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_loadScript.default,st=getGlobal(_e);return st&&rt(st)?Promise.resolve(st):new Promise(function(ot,at){if(requests[et]){requests[et].push({resolve:ot,reject:at});return}requests[et]=[{resolve:ot,reject:at}];var lt=function(gt){requests[et].forEach(function(pt){return pt.resolve(gt)})};if(tt){var ft=window[tt];window[tt]=function(){ft&&ft(),lt(getGlobal(_e))}}nt(et,function(dt){dt?(requests[et].forEach(function(gt){return gt.reject(dt)}),requests[et]=null):tt||lt(getGlobal(_e))})})}function getConfig(et,_e){return(0,_deepmerge$1.default)(_e.config,et.config)}function omit(et){for(var _e,tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];for(var st=(_e=[]).concat.apply(_e,rt),ot={},at=Object.keys(et),lt=0,ft=at;lt<ft.length;lt++){var dt=ft[lt];st.indexOf(dt)===-1&&(ot[dt]=et[dt])}return ot}function callPlayer(et){var _e;if(!this.player||!this.player[et]){var tt="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(et,"%c  ");return this.player?this.player[et]||(tt+="The method was not available"):tt+="The player was not available",console.warn(tt,"font-weight: bold",""),null}for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),st=1;st<rt;st++)nt[st-1]=arguments[st];return(_e=this.player)[et].apply(_e,nt)}function isMediaStream(et){return typeof window<"u"&&typeof window.MediaStream<"u"&&et instanceof window.MediaStream}function isBlobUrl(et){return/^blob:/.test(et)}function supportsWebKitPresentationMode(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),_e=/iPhone|iPod/.test(navigator.userAgent)===!1;return et.webkitSupportsPresentationMode&&typeof et.webkitSetPresentationMode=="function"&&_e}var patterns={};Object.defineProperty(patterns,"__esModule",{value:!0});patterns.canPlay=patterns.FLV_EXTENSIONS=patterns.DASH_EXTENSIONS=patterns.HLS_EXTENSIONS=patterns.VIDEO_EXTENSIONS=patterns.AUDIO_EXTENSIONS=patterns.MATCH_URL_KALTURA=patterns.MATCH_URL_VIDYARD=patterns.MATCH_URL_MIXCLOUD=patterns.MATCH_URL_DAILYMOTION=patterns.MATCH_URL_TWITCH_CHANNEL=patterns.MATCH_URL_TWITCH_VIDEO=patterns.MATCH_URL_WISTIA=patterns.MATCH_URL_STREAMABLE=patterns.MATCH_URL_FACEBOOK_WATCH=patterns.MATCH_URL_FACEBOOK=patterns.MATCH_URL_VIMEO=patterns.MATCH_URL_SOUNDCLOUD=patterns.MATCH_URL_YOUTUBE=void 0;var _utils$1=utils;function _createForOfIteratorHelper(et,_e){var tt;if(typeof Symbol>"u"||et[Symbol.iterator]==null){if(Array.isArray(et)||(tt=_unsupportedIterableToArray$1(et))||_e&&et&&typeof et.length=="number"){tt&&(et=tt);var rt=0,nt=function(){};return{s:nt,n:function(){return rt>=et.length?{done:!0}:{done:!1,value:et[rt++]}},e:function(ft){throw ft},f:nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var st=!0,ot=!1,at;return{s:function(){tt=et[Symbol.iterator]()},n:function(){var ft=tt.next();return st=ft.done,ft},e:function(ft){ot=!0,at=ft},f:function(){try{!st&&tt.return!=null&&tt.return()}finally{if(ot)throw at}}}}function _unsupportedIterableToArray$1(et,_e){if(et){if(typeof et=="string")return _arrayLikeToArray$1(et,_e);var tt=Object.prototype.toString.call(et).slice(8,-1);if(tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set")return Array.from(et);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray$1(et,_e)}}function _arrayLikeToArray$1(et,_e){(_e==null||_e>et.length)&&(_e=et.length);for(var tt=0,rt=new Array(_e);tt<_e;tt++)rt[tt]=et[tt];return rt}var MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;patterns.MATCH_URL_YOUTUBE=MATCH_URL_YOUTUBE;var MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;patterns.MATCH_URL_SOUNDCLOUD=MATCH_URL_SOUNDCLOUD;var MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/;patterns.MATCH_URL_VIMEO=MATCH_URL_VIMEO;var MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;patterns.MATCH_URL_FACEBOOK=MATCH_URL_FACEBOOK;var MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/;patterns.MATCH_URL_FACEBOOK_WATCH=MATCH_URL_FACEBOOK_WATCH;var MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/;patterns.MATCH_URL_STREAMABLE=MATCH_URL_STREAMABLE;var MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;patterns.MATCH_URL_WISTIA=MATCH_URL_WISTIA;var MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;patterns.MATCH_URL_TWITCH_VIDEO=MATCH_URL_TWITCH_VIDEO;var MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;patterns.MATCH_URL_TWITCH_CHANNEL=MATCH_URL_TWITCH_CHANNEL;var MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;patterns.MATCH_URL_DAILYMOTION=MATCH_URL_DAILYMOTION;var MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/;patterns.MATCH_URL_MIXCLOUD=MATCH_URL_MIXCLOUD;var MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;patterns.MATCH_URL_VIDYARD=MATCH_URL_VIDYARD;var MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;patterns.MATCH_URL_KALTURA=MATCH_URL_KALTURA;var AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;patterns.AUDIO_EXTENSIONS=AUDIO_EXTENSIONS;var VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;patterns.VIDEO_EXTENSIONS=VIDEO_EXTENSIONS;var HLS_EXTENSIONS=/\.(m3u8)($|\?)/i;patterns.HLS_EXTENSIONS=HLS_EXTENSIONS;var DASH_EXTENSIONS=/\.(mpd)($|\?)/i;patterns.DASH_EXTENSIONS=DASH_EXTENSIONS;var FLV_EXTENSIONS=/\.(flv)($|\?)/i;patterns.FLV_EXTENSIONS=FLV_EXTENSIONS;var canPlayFile=function et(_e){if(_e instanceof Array){var tt=_createForOfIteratorHelper(_e),rt;try{for(tt.s();!(rt=tt.n()).done;){var nt=rt.value;if(typeof nt=="string"&&et(nt)||et(nt.src))return!0}}catch(st){tt.e(st)}finally{tt.f()}return!1}return(0,_utils$1.isMediaStream)(_e)||(0,_utils$1.isBlobUrl)(_e)?!0:AUDIO_EXTENSIONS.test(_e)||VIDEO_EXTENSIONS.test(_e)||HLS_EXTENSIONS.test(_e)||DASH_EXTENSIONS.test(_e)||FLV_EXTENSIONS.test(_e)},canPlay={youtube:function et(_e){return _e instanceof Array?_e.every(function(tt){return MATCH_URL_YOUTUBE.test(tt)}):MATCH_URL_YOUTUBE.test(_e)},soundcloud:function et(_e){return MATCH_URL_SOUNDCLOUD.test(_e)&&!AUDIO_EXTENSIONS.test(_e)},vimeo:function et(_e){return MATCH_URL_VIMEO.test(_e)&&!VIDEO_EXTENSIONS.test(_e)&&!HLS_EXTENSIONS.test(_e)},facebook:function et(_e){return MATCH_URL_FACEBOOK.test(_e)||MATCH_URL_FACEBOOK_WATCH.test(_e)},streamable:function et(_e){return MATCH_URL_STREAMABLE.test(_e)},wistia:function et(_e){return MATCH_URL_WISTIA.test(_e)},twitch:function et(_e){return MATCH_URL_TWITCH_VIDEO.test(_e)||MATCH_URL_TWITCH_CHANNEL.test(_e)},dailymotion:function et(_e){return MATCH_URL_DAILYMOTION.test(_e)},mixcloud:function et(_e){return MATCH_URL_MIXCLOUD.test(_e)},vidyard:function et(_e){return MATCH_URL_VIDYARD.test(_e)},kaltura:function et(_e){return MATCH_URL_KALTURA.test(_e)},file:canPlayFile};patterns.canPlay=canPlay;var YouTube={},hasRequiredYouTube;function requireYouTube(){return hasRequiredYouTube||(hasRequiredYouTube=1,function(et){function _e(kt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Zt){return typeof Zt}:_e=function(Zt){return Zt&&typeof Symbol=="function"&&Zt.constructor===Symbol&&Zt!==Symbol.prototype?"symbol":typeof Zt},_e(kt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var kt=new WeakMap;return st=function(){return kt},kt}function ot(kt){if(kt&&kt.__esModule)return kt;if(kt===null||_e(kt)!=="object"&&typeof kt!="function")return{default:kt};var Vt=st();if(Vt&&Vt.has(kt))return Vt.get(kt);var Zt={},Wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var nr in kt)if(Object.prototype.hasOwnProperty.call(kt,nr)){var sr=Wt?Object.getOwnPropertyDescriptor(kt,nr):null;sr&&(sr.get||sr.set)?Object.defineProperty(Zt,nr,sr):Zt[nr]=kt[nr]}return Zt.default=kt,Vt&&Vt.set(kt,Zt),Zt}function at(kt,Vt){var Zt=Object.keys(kt);if(Object.getOwnPropertySymbols){var Wt=Object.getOwnPropertySymbols(kt);Vt&&(Wt=Wt.filter(function(nr){return Object.getOwnPropertyDescriptor(kt,nr).enumerable})),Zt.push.apply(Zt,Wt)}return Zt}function lt(kt){for(var Vt=1;Vt<arguments.length;Vt++){var Zt=arguments[Vt]!=null?arguments[Vt]:{};Vt%2?at(Object(Zt),!0).forEach(function(Wt){Dt(kt,Wt,Zt[Wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kt,Object.getOwnPropertyDescriptors(Zt)):at(Object(Zt)).forEach(function(Wt){Object.defineProperty(kt,Wt,Object.getOwnPropertyDescriptor(Zt,Wt))})}return kt}function ft(kt,Vt){return St(kt)||vt(kt,Vt)||gt(kt,Vt)||dt()}function dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gt(kt,Vt){if(kt){if(typeof kt=="string")return pt(kt,Vt);var Zt=Object.prototype.toString.call(kt).slice(8,-1);if(Zt==="Object"&&kt.constructor&&(Zt=kt.constructor.name),Zt==="Map"||Zt==="Set")return Array.from(kt);if(Zt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zt))return pt(kt,Vt)}}function pt(kt,Vt){(Vt==null||Vt>kt.length)&&(Vt=kt.length);for(var Zt=0,Wt=new Array(Vt);Zt<Vt;Zt++)Wt[Zt]=kt[Zt];return Wt}function vt(kt,Vt){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(kt)))){var Zt=[],Wt=!0,nr=!1,sr=void 0;try{for(var lr=kt[Symbol.iterator](),dr;!(Wt=(dr=lr.next()).done)&&(Zt.push(dr.value),!(Vt&&Zt.length===Vt));Wt=!0);}catch(hr){nr=!0,sr=hr}finally{try{!Wt&&lr.return!=null&&lr.return()}finally{if(nr)throw sr}}return Zt}}function St(kt){if(Array.isArray(kt))return kt}function At(kt,Vt){if(!(kt instanceof Vt))throw new TypeError("Cannot call a class as a function")}function Tt(kt,Vt){for(var Zt=0;Zt<Vt.length;Zt++){var Wt=Vt[Zt];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(kt,Wt.key,Wt)}}function Ct(kt,Vt,Zt){return Vt&&Tt(kt.prototype,Vt),Zt&&Tt(kt,Zt),kt}function Mt(kt,Vt){if(typeof Vt!="function"&&Vt!==null)throw new TypeError("Super expression must either be null or a function");kt.prototype=Object.create(Vt&&Vt.prototype,{constructor:{value:kt,writable:!0,configurable:!0}}),Vt&&Et(kt,Vt)}function Et(kt,Vt){return Et=Object.setPrototypeOf||function(Wt,nr){return Wt.__proto__=nr,Wt},Et(kt,Vt)}function Rt(kt){var Vt=Lt();return function(){var Wt=wt(kt),nr;if(Vt){var sr=wt(this).constructor;nr=Reflect.construct(Wt,arguments,sr)}else nr=Wt.apply(this,arguments);return Bt(this,nr)}}function Bt(kt,Vt){return Vt&&(_e(Vt)==="object"||typeof Vt=="function")?Vt:Ft(kt)}function Ft(kt){if(kt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kt}function Lt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function wt(kt){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(Zt){return Zt.__proto__||Object.getPrototypeOf(Zt)},wt(kt)}function Dt(kt,Vt,Zt){return Vt in kt?Object.defineProperty(kt,Vt,{value:Zt,enumerable:!0,configurable:!0,writable:!0}):kt[Vt]=Zt,kt}var Ot="https://www.youtube.com/iframe_api",Ut="YT",zt="onYouTubeIframeAPIReady",tr=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,jt=/user\/([a-zA-Z0-9_-]+)\/?/,Kt=/youtube-nocookie\.com/,qt="https://www.youtube-nocookie.com",er=function(kt){Mt(Zt,kt);var Vt=Rt(Zt);function Zt(){var Wt;At(this,Zt);for(var nr=arguments.length,sr=new Array(nr),lr=0;lr<nr;lr++)sr[lr]=arguments[lr];return Wt=Vt.call.apply(Vt,[this].concat(sr)),Dt(Ft(Wt),"callPlayer",rt.callPlayer),Dt(Ft(Wt),"parsePlaylist",function(dr){if(dr instanceof Array)return{listType:"playlist",playlist:dr.map(Wt.getID).join(",")};if(tr.test(dr)){var hr=dr.match(tr),wr=ft(hr,2),pr=wr[1];return{listType:"playlist",list:pr.replace(/^UC/,"UU")}}if(jt.test(dr)){var _r=dr.match(jt),mr=ft(_r,2),Er=mr[1];return{listType:"user_uploads",list:Er}}return{}}),Dt(Ft(Wt),"onStateChange",function(dr){var hr=dr.data,wr=Wt.props,pr=wr.onPlay,_r=wr.onPause,mr=wr.onBuffer,Er=wr.onBufferEnd,ur=wr.onEnded,xr=wr.onReady,Ar=wr.loop,Br=wr.config,kr=Br.playerVars,nn=Br.onUnstarted,Pr=window[Ut].PlayerState,Xr=Pr.UNSTARTED,Zr=Pr.PLAYING,zr=Pr.PAUSED,cr=Pr.BUFFERING,ar=Pr.ENDED,Tr=Pr.CUED;if(hr===Xr&&nn(),hr===Zr&&(pr(),Er()),hr===zr&&_r(),hr===cr&&mr(),hr===ar){var Nr=!!Wt.callPlayer("getPlaylist");Ar&&!Nr&&(kr.start?Wt.seekTo(kr.start):Wt.play()),ur()}hr===Tr&&xr()}),Dt(Ft(Wt),"mute",function(){Wt.callPlayer("mute")}),Dt(Ft(Wt),"unmute",function(){Wt.callPlayer("unMute")}),Dt(Ft(Wt),"ref",function(dr){Wt.container=dr}),Wt}return Ct(Zt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(nr){return!nr||nr instanceof Array||tr.test(nr)?null:nr.match(nt.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(nr,sr){var lr=this,dr=this.props,hr=dr.playing,wr=dr.muted,pr=dr.playsinline,_r=dr.controls,mr=dr.loop,Er=dr.config,ur=dr.onError,xr=Er.playerVars,Ar=Er.embedOptions,Br=this.getID(nr);if(sr){if(tr.test(nr)||jt.test(nr)||nr instanceof Array){this.player.loadPlaylist(this.parsePlaylist(nr));return}this.player.cueVideoById({videoId:Br,startSeconds:(0,rt.parseStartTime)(nr)||xr.start,endSeconds:(0,rt.parseEndTime)(nr)||xr.end});return}(0,rt.getSDK)(Ot,Ut,zt,function(kr){return kr.loaded}).then(function(kr){lr.container&&(lr.player=new kr.Player(lr.container,lt({width:"100%",height:"100%",videoId:Br,playerVars:lt(lt({autoplay:hr?1:0,mute:wr?1:0,controls:_r?1:0,start:(0,rt.parseStartTime)(nr),end:(0,rt.parseEndTime)(nr),origin:window.location.origin,playsinline:pr?1:0},lr.parsePlaylist(nr)),xr),events:{onReady:function(){mr&&lr.player.setLoop(!0),lr.props.onReady()},onPlaybackRateChange:function(Pr){return lr.props.onPlaybackRateChange(Pr.data)},onStateChange:lr.onStateChange,onError:function(Pr){return ur(Pr.data)}},host:Kt.test(nr)?qt:void 0},Ar)))},ur),Ar.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayers callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(nr){this.callPlayer("seekTo",nr),this.props.playing||this.pause()}},{key:"setVolume",value:function(nr){this.callPlayer("setVolume",nr*100)}},{key:"setPlaybackRate",value:function(nr){this.callPlayer("setPlaybackRate",nr)}},{key:"setLoop",value:function(nr){this.callPlayer("setLoop",nr)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var nr=this.props.display,sr={width:"100%",height:"100%",display:nr};return tt.default.createElement("div",{style:sr},tt.default.createElement("div",{ref:this.ref}))}}]),Zt}(tt.Component);et.default=er,Dt(er,"displayName","YouTube"),Dt(er,"canPlay",nt.canPlay.youtube)}(YouTube)),YouTube}var SoundCloud={},hasRequiredSoundCloud;function requireSoundCloud(){return hasRequiredSoundCloud||(hasRequiredSoundCloud=1,function(et){function _e(Lt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Dt){return typeof Dt}:_e=function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt},_e(Lt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var Lt=new WeakMap;return st=function(){return Lt},Lt}function ot(Lt){if(Lt&&Lt.__esModule)return Lt;if(Lt===null||_e(Lt)!=="object"&&typeof Lt!="function")return{default:Lt};var wt=st();if(wt&&wt.has(Lt))return wt.get(Lt);var Dt={},Ot=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ut in Lt)if(Object.prototype.hasOwnProperty.call(Lt,Ut)){var zt=Ot?Object.getOwnPropertyDescriptor(Lt,Ut):null;zt&&(zt.get||zt.set)?Object.defineProperty(Dt,Ut,zt):Dt[Ut]=Lt[Ut]}return Dt.default=Lt,wt&&wt.set(Lt,Dt),Dt}function at(Lt,wt){var Dt=Object.keys(Lt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Lt);wt&&(Ot=Ot.filter(function(Ut){return Object.getOwnPropertyDescriptor(Lt,Ut).enumerable})),Dt.push.apply(Dt,Ot)}return Dt}function lt(Lt){for(var wt=1;wt<arguments.length;wt++){var Dt=arguments[wt]!=null?arguments[wt]:{};wt%2?at(Object(Dt),!0).forEach(function(Ot){Et(Lt,Ot,Dt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lt,Object.getOwnPropertyDescriptors(Dt)):at(Object(Dt)).forEach(function(Ot){Object.defineProperty(Lt,Ot,Object.getOwnPropertyDescriptor(Dt,Ot))})}return Lt}function ft(Lt,wt){if(!(Lt instanceof wt))throw new TypeError("Cannot call a class as a function")}function dt(Lt,wt){for(var Dt=0;Dt<wt.length;Dt++){var Ot=wt[Dt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Lt,Ot.key,Ot)}}function gt(Lt,wt,Dt){return wt&&dt(Lt.prototype,wt),Dt&&dt(Lt,Dt),Lt}function pt(Lt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Lt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Lt,writable:!0,configurable:!0}}),wt&&vt(Lt,wt)}function vt(Lt,wt){return vt=Object.setPrototypeOf||function(Ot,Ut){return Ot.__proto__=Ut,Ot},vt(Lt,wt)}function St(Lt){var wt=Ct();return function(){var Ot=Mt(Lt),Ut;if(wt){var zt=Mt(this).constructor;Ut=Reflect.construct(Ot,arguments,zt)}else Ut=Ot.apply(this,arguments);return At(this,Ut)}}function At(Lt,wt){return wt&&(_e(wt)==="object"||typeof wt=="function")?wt:Tt(Lt)}function Tt(Lt){if(Lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lt}function Ct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mt(Lt){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Dt){return Dt.__proto__||Object.getPrototypeOf(Dt)},Mt(Lt)}function Et(Lt,wt,Dt){return wt in Lt?Object.defineProperty(Lt,wt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}):Lt[wt]=Dt,Lt}var Rt="https://w.soundcloud.com/player/api.js",Bt="SC",Ft=function(Lt){pt(Dt,Lt);var wt=St(Dt);function Dt(){var Ot;ft(this,Dt);for(var Ut=arguments.length,zt=new Array(Ut),tr=0;tr<Ut;tr++)zt[tr]=arguments[tr];return Ot=wt.call.apply(wt,[this].concat(zt)),Et(Tt(Ot),"callPlayer",rt.callPlayer),Et(Tt(Ot),"duration",null),Et(Tt(Ot),"currentTime",null),Et(Tt(Ot),"fractionLoaded",null),Et(Tt(Ot),"mute",function(){Ot.setVolume(0)}),Et(Tt(Ot),"unmute",function(){Ot.props.volume!==null&&Ot.setVolume(Ot.props.volume)}),Et(Tt(Ot),"ref",function(jt){Ot.iframe=jt}),Ot}return gt(Dt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Ut,zt){var tr=this;(0,rt.getSDK)(Rt,Bt).then(function(jt){if(tr.iframe){var Kt=jt.Widget.Events,qt=Kt.PLAY,er=Kt.PLAY_PROGRESS,kt=Kt.PAUSE,Vt=Kt.FINISH,Zt=Kt.ERROR;zt||(tr.player=jt.Widget(tr.iframe),tr.player.bind(qt,tr.props.onPlay),tr.player.bind(kt,function(){var Wt=tr.duration-tr.currentTime;Wt<.05||tr.props.onPause()}),tr.player.bind(er,function(Wt){tr.currentTime=Wt.currentPosition/1e3,tr.fractionLoaded=Wt.loadedProgress}),tr.player.bind(Vt,function(){return tr.props.onEnded()}),tr.player.bind(Zt,function(Wt){return tr.props.onError(Wt)})),tr.player.load(Ut,lt(lt({},tr.props.config.options),{},{callback:function(){tr.player.getDuration(function(nr){tr.duration=nr/1e3,tr.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Ut){this.callPlayer("seekTo",Ut*1e3)}},{key:"setVolume",value:function(Ut){this.callPlayer("setVolume",Ut*100)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var Ut=this.props.display,zt={width:"100%",height:"100%",display:Ut};return tt.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:zt,frameBorder:0,allow:"autoplay"})}}]),Dt}(tt.Component);et.default=Ft,Et(Ft,"displayName","SoundCloud"),Et(Ft,"canPlay",nt.canPlay.soundcloud),Et(Ft,"loopOnEnded",!0)}(SoundCloud)),SoundCloud}var Vimeo={},hasRequiredVimeo;function requireVimeo(){return hasRequiredVimeo||(hasRequiredVimeo=1,function(et){function _e(Lt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Dt){return typeof Dt}:_e=function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt},_e(Lt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var Lt=new WeakMap;return st=function(){return Lt},Lt}function ot(Lt){if(Lt&&Lt.__esModule)return Lt;if(Lt===null||_e(Lt)!=="object"&&typeof Lt!="function")return{default:Lt};var wt=st();if(wt&&wt.has(Lt))return wt.get(Lt);var Dt={},Ot=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ut in Lt)if(Object.prototype.hasOwnProperty.call(Lt,Ut)){var zt=Ot?Object.getOwnPropertyDescriptor(Lt,Ut):null;zt&&(zt.get||zt.set)?Object.defineProperty(Dt,Ut,zt):Dt[Ut]=Lt[Ut]}return Dt.default=Lt,wt&&wt.set(Lt,Dt),Dt}function at(Lt,wt){var Dt=Object.keys(Lt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Lt);wt&&(Ot=Ot.filter(function(Ut){return Object.getOwnPropertyDescriptor(Lt,Ut).enumerable})),Dt.push.apply(Dt,Ot)}return Dt}function lt(Lt){for(var wt=1;wt<arguments.length;wt++){var Dt=arguments[wt]!=null?arguments[wt]:{};wt%2?at(Object(Dt),!0).forEach(function(Ot){Et(Lt,Ot,Dt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lt,Object.getOwnPropertyDescriptors(Dt)):at(Object(Dt)).forEach(function(Ot){Object.defineProperty(Lt,Ot,Object.getOwnPropertyDescriptor(Dt,Ot))})}return Lt}function ft(Lt,wt){if(!(Lt instanceof wt))throw new TypeError("Cannot call a class as a function")}function dt(Lt,wt){for(var Dt=0;Dt<wt.length;Dt++){var Ot=wt[Dt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Lt,Ot.key,Ot)}}function gt(Lt,wt,Dt){return wt&&dt(Lt.prototype,wt),Dt&&dt(Lt,Dt),Lt}function pt(Lt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Lt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Lt,writable:!0,configurable:!0}}),wt&&vt(Lt,wt)}function vt(Lt,wt){return vt=Object.setPrototypeOf||function(Ot,Ut){return Ot.__proto__=Ut,Ot},vt(Lt,wt)}function St(Lt){var wt=Ct();return function(){var Ot=Mt(Lt),Ut;if(wt){var zt=Mt(this).constructor;Ut=Reflect.construct(Ot,arguments,zt)}else Ut=Ot.apply(this,arguments);return At(this,Ut)}}function At(Lt,wt){return wt&&(_e(wt)==="object"||typeof wt=="function")?wt:Tt(Lt)}function Tt(Lt){if(Lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lt}function Ct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mt(Lt){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Dt){return Dt.__proto__||Object.getPrototypeOf(Dt)},Mt(Lt)}function Et(Lt,wt,Dt){return wt in Lt?Object.defineProperty(Lt,wt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}):Lt[wt]=Dt,Lt}var Rt="https://player.vimeo.com/api/player.js",Bt="Vimeo",Ft=function(Lt){pt(Dt,Lt);var wt=St(Dt);function Dt(){var Ot;ft(this,Dt);for(var Ut=arguments.length,zt=new Array(Ut),tr=0;tr<Ut;tr++)zt[tr]=arguments[tr];return Ot=wt.call.apply(wt,[this].concat(zt)),Et(Tt(Ot),"callPlayer",rt.callPlayer),Et(Tt(Ot),"duration",null),Et(Tt(Ot),"currentTime",null),Et(Tt(Ot),"secondsLoaded",null),Et(Tt(Ot),"mute",function(){Ot.setMuted(!0)}),Et(Tt(Ot),"unmute",function(){Ot.setMuted(!1)}),Et(Tt(Ot),"ref",function(jt){Ot.container=jt}),Ot}return gt(Dt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Ut){var zt=this;this.duration=null,(0,rt.getSDK)(Rt,Bt).then(function(tr){if(zt.container){var jt=zt.props.config,Kt=jt.playerOptions,qt=jt.title;zt.player=new tr.Player(zt.container,lt({url:Ut,autoplay:zt.props.playing,muted:zt.props.muted,loop:zt.props.loop,playsinline:zt.props.playsinline,controls:zt.props.controls},Kt)),zt.player.ready().then(function(){var er=zt.container.querySelector("iframe");er.style.width="100%",er.style.height="100%",qt&&(er.title=qt)}).catch(zt.props.onError),zt.player.on("loaded",function(){zt.props.onReady(),zt.refreshDuration()}),zt.player.on("play",function(){zt.props.onPlay(),zt.refreshDuration()}),zt.player.on("pause",zt.props.onPause),zt.player.on("seeked",function(er){return zt.props.onSeek(er.seconds)}),zt.player.on("ended",zt.props.onEnded),zt.player.on("error",zt.props.onError),zt.player.on("timeupdate",function(er){var kt=er.seconds;zt.currentTime=kt}),zt.player.on("progress",function(er){var kt=er.seconds;zt.secondsLoaded=kt}),zt.player.on("bufferstart",zt.props.onBuffer),zt.player.on("bufferend",zt.props.onBufferEnd),zt.player.on("playbackratechange",function(er){return zt.props.onPlaybackRateChange(er.playbackRate)})}},this.props.onError)}},{key:"refreshDuration",value:function(){var Ut=this;this.player.getDuration().then(function(zt){Ut.duration=zt})}},{key:"play",value:function(){var Ut=this.callPlayer("play");Ut&&Ut.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(Ut){this.callPlayer("setCurrentTime",Ut)}},{key:"setVolume",value:function(Ut){this.callPlayer("setVolume",Ut)}},{key:"setMuted",value:function(Ut){this.callPlayer("setMuted",Ut)}},{key:"setLoop",value:function(Ut){this.callPlayer("setLoop",Ut)}},{key:"setPlaybackRate",value:function(Ut){this.callPlayer("setPlaybackRate",Ut)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var Ut=this.props.display,zt={width:"100%",height:"100%",overflow:"hidden",display:Ut};return tt.default.createElement("div",{key:this.props.url,ref:this.ref,style:zt})}}]),Dt}(tt.Component);et.default=Ft,Et(Ft,"displayName","Vimeo"),Et(Ft,"canPlay",nt.canPlay.vimeo),Et(Ft,"forceLoad",!0)}(Vimeo)),Vimeo}var Facebook={},hasRequiredFacebook;function requireFacebook(){return hasRequiredFacebook||(hasRequiredFacebook=1,function(et){function _e(wt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Ot){return typeof Ot}:_e=function(Ot){return Ot&&typeof Symbol=="function"&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot},_e(wt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var wt=new WeakMap;return st=function(){return wt},wt}function ot(wt){if(wt&&wt.__esModule)return wt;if(wt===null||_e(wt)!=="object"&&typeof wt!="function")return{default:wt};var Dt=st();if(Dt&&Dt.has(wt))return Dt.get(wt);var Ot={},Ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zt in wt)if(Object.prototype.hasOwnProperty.call(wt,zt)){var tr=Ut?Object.getOwnPropertyDescriptor(wt,zt):null;tr&&(tr.get||tr.set)?Object.defineProperty(Ot,zt,tr):Ot[zt]=wt[zt]}return Ot.default=wt,Dt&&Dt.set(wt,Ot),Ot}function at(){return at=Object.assign||function(wt){for(var Dt=1;Dt<arguments.length;Dt++){var Ot=arguments[Dt];for(var Ut in Ot)Object.prototype.hasOwnProperty.call(Ot,Ut)&&(wt[Ut]=Ot[Ut])}return wt},at.apply(this,arguments)}function lt(wt,Dt){if(!(wt instanceof Dt))throw new TypeError("Cannot call a class as a function")}function ft(wt,Dt){for(var Ot=0;Ot<Dt.length;Ot++){var Ut=Dt[Ot];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(wt,Ut.key,Ut)}}function dt(wt,Dt,Ot){return Dt&&ft(wt.prototype,Dt),Ot&&ft(wt,Ot),wt}function gt(wt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");wt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:wt,writable:!0,configurable:!0}}),Dt&&pt(wt,Dt)}function pt(wt,Dt){return pt=Object.setPrototypeOf||function(Ut,zt){return Ut.__proto__=zt,Ut},pt(wt,Dt)}function vt(wt){var Dt=Tt();return function(){var Ut=Ct(wt),zt;if(Dt){var tr=Ct(this).constructor;zt=Reflect.construct(Ut,arguments,tr)}else zt=Ut.apply(this,arguments);return St(this,zt)}}function St(wt,Dt){return Dt&&(_e(Dt)==="object"||typeof Dt=="function")?Dt:At(wt)}function At(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}function Tt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ct(wt){return Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(Ot){return Ot.__proto__||Object.getPrototypeOf(Ot)},Ct(wt)}function Mt(wt,Dt,Ot){return Dt in wt?Object.defineProperty(wt,Dt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):wt[Dt]=Ot,wt}var Et="https://connect.facebook.net/en_US/sdk.js",Rt="FB",Bt="fbAsyncInit",Ft="facebook-player-",Lt=function(wt){gt(Ot,wt);var Dt=vt(Ot);function Ot(){var Ut;lt(this,Ot);for(var zt=arguments.length,tr=new Array(zt),jt=0;jt<zt;jt++)tr[jt]=arguments[jt];return Ut=Dt.call.apply(Dt,[this].concat(tr)),Mt(At(Ut),"callPlayer",rt.callPlayer),Mt(At(Ut),"playerID",Ut.props.config.playerId||"".concat(Ft).concat((0,rt.randomString)())),Mt(At(Ut),"mute",function(){Ut.callPlayer("mute")}),Mt(At(Ut),"unmute",function(){Ut.callPlayer("unmute")}),Ut}return dt(Ot,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(zt,tr){var jt=this;if(tr){(0,rt.getSDK)(Et,Rt,Bt).then(function(Kt){return Kt.XFBML.parse()});return}(0,rt.getSDK)(Et,Rt,Bt).then(function(Kt){Kt.init({appId:jt.props.config.appId,xfbml:!0,version:jt.props.config.version}),Kt.Event.subscribe("xfbml.render",function(qt){jt.props.onLoaded()}),Kt.Event.subscribe("xfbml.ready",function(qt){qt.type==="video"&&qt.id===jt.playerID&&(jt.player=qt.instance,jt.player.subscribe("startedPlaying",jt.props.onPlay),jt.player.subscribe("paused",jt.props.onPause),jt.player.subscribe("finishedPlaying",jt.props.onEnded),jt.player.subscribe("startedBuffering",jt.props.onBuffer),jt.player.subscribe("finishedBuffering",jt.props.onBufferEnd),jt.player.subscribe("error",jt.props.onError),jt.props.muted?jt.callPlayer("mute"):jt.callPlayer("unmute"),jt.props.onReady(),document.getElementById(jt.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(zt){this.callPlayer("seek",zt)}},{key:"setVolume",value:function(zt){this.callPlayer("setVolume",zt)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var zt=this.props.config.attributes,tr={width:"100%",height:"100%"};return tt.default.createElement("div",at({style:tr,id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},zt))}}]),Ot}(tt.Component);et.default=Lt,Mt(Lt,"displayName","Facebook"),Mt(Lt,"canPlay",nt.canPlay.facebook),Mt(Lt,"loopOnEnded",!0)}(Facebook)),Facebook}var Streamable={},hasRequiredStreamable;function requireStreamable(){return hasRequiredStreamable||(hasRequiredStreamable=1,function(et){function _e(Bt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Lt){return typeof Lt}:_e=function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt},_e(Bt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var Bt=new WeakMap;return st=function(){return Bt},Bt}function ot(Bt){if(Bt&&Bt.__esModule)return Bt;if(Bt===null||_e(Bt)!=="object"&&typeof Bt!="function")return{default:Bt};var Ft=st();if(Ft&&Ft.has(Bt))return Ft.get(Bt);var Lt={},wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Dt in Bt)if(Object.prototype.hasOwnProperty.call(Bt,Dt)){var Ot=wt?Object.getOwnPropertyDescriptor(Bt,Dt):null;Ot&&(Ot.get||Ot.set)?Object.defineProperty(Lt,Dt,Ot):Lt[Dt]=Bt[Dt]}return Lt.default=Bt,Ft&&Ft.set(Bt,Lt),Lt}function at(Bt,Ft){if(!(Bt instanceof Ft))throw new TypeError("Cannot call a class as a function")}function lt(Bt,Ft){for(var Lt=0;Lt<Ft.length;Lt++){var wt=Ft[Lt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Bt,wt.key,wt)}}function ft(Bt,Ft,Lt){return Ft&&lt(Bt.prototype,Ft),Lt&&lt(Bt,Lt),Bt}function dt(Bt,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Ft&&gt(Bt,Ft)}function gt(Bt,Ft){return gt=Object.setPrototypeOf||function(wt,Dt){return wt.__proto__=Dt,wt},gt(Bt,Ft)}function pt(Bt){var Ft=At();return function(){var wt=Tt(Bt),Dt;if(Ft){var Ot=Tt(this).constructor;Dt=Reflect.construct(wt,arguments,Ot)}else Dt=wt.apply(this,arguments);return vt(this,Dt)}}function vt(Bt,Ft){return Ft&&(_e(Ft)==="object"||typeof Ft=="function")?Ft:St(Bt)}function St(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Tt(Bt){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(Lt){return Lt.__proto__||Object.getPrototypeOf(Lt)},Tt(Bt)}function Ct(Bt,Ft,Lt){return Ft in Bt?Object.defineProperty(Bt,Ft,{value:Lt,enumerable:!0,configurable:!0,writable:!0}):Bt[Ft]=Lt,Bt}var Mt="https://cdn.embed.ly/player-0.1.0.min.js",Et="playerjs",Rt=function(Bt){dt(Lt,Bt);var Ft=pt(Lt);function Lt(){var wt;at(this,Lt);for(var Dt=arguments.length,Ot=new Array(Dt),Ut=0;Ut<Dt;Ut++)Ot[Ut]=arguments[Ut];return wt=Ft.call.apply(Ft,[this].concat(Ot)),Ct(St(wt),"callPlayer",rt.callPlayer),Ct(St(wt),"duration",null),Ct(St(wt),"currentTime",null),Ct(St(wt),"secondsLoaded",null),Ct(St(wt),"mute",function(){wt.callPlayer("mute")}),Ct(St(wt),"unmute",function(){wt.callPlayer("unmute")}),Ct(St(wt),"ref",function(zt){wt.iframe=zt}),wt}return ft(Lt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Dt){var Ot=this;(0,rt.getSDK)(Mt,Et).then(function(Ut){Ot.iframe&&(Ot.player=new Ut.Player(Ot.iframe),Ot.player.setLoop(Ot.props.loop),Ot.player.on("ready",Ot.props.onReady),Ot.player.on("play",Ot.props.onPlay),Ot.player.on("pause",Ot.props.onPause),Ot.player.on("seeked",Ot.props.onSeek),Ot.player.on("ended",Ot.props.onEnded),Ot.player.on("error",Ot.props.onError),Ot.player.on("timeupdate",function(zt){var tr=zt.duration,jt=zt.seconds;Ot.duration=tr,Ot.currentTime=jt}),Ot.player.on("buffered",function(zt){var tr=zt.percent;Ot.duration&&(Ot.secondsLoaded=Ot.duration*tr)}),Ot.props.muted&&Ot.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Dt){this.callPlayer("setCurrentTime",Dt)}},{key:"setVolume",value:function(Dt){this.callPlayer("setVolume",Dt*100)}},{key:"setLoop",value:function(Dt){this.callPlayer("setLoop",Dt)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var Dt=this.props.url.match(nt.MATCH_URL_STREAMABLE)[1],Ot={width:"100%",height:"100%"};return tt.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(Dt),frameBorder:"0",scrolling:"no",style:Ot,allow:"encrypted-media; autoplay; fullscreen;"})}}]),Lt}(tt.Component);et.default=Rt,Ct(Rt,"displayName","Streamable"),Ct(Rt,"canPlay",nt.canPlay.streamable)}(Streamable)),Streamable}var Wistia={},hasRequiredWistia;function requireWistia(){return hasRequiredWistia||(hasRequiredWistia=1,function(et){function _e(wt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Ot){return typeof Ot}:_e=function(Ot){return Ot&&typeof Symbol=="function"&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot},_e(wt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var wt=new WeakMap;return st=function(){return wt},wt}function ot(wt){if(wt&&wt.__esModule)return wt;if(wt===null||_e(wt)!=="object"&&typeof wt!="function")return{default:wt};var Dt=st();if(Dt&&Dt.has(wt))return Dt.get(wt);var Ot={},Ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zt in wt)if(Object.prototype.hasOwnProperty.call(wt,zt)){var tr=Ut?Object.getOwnPropertyDescriptor(wt,zt):null;tr&&(tr.get||tr.set)?Object.defineProperty(Ot,zt,tr):Ot[zt]=wt[zt]}return Ot.default=wt,Dt&&Dt.set(wt,Ot),Ot}function at(wt,Dt){var Ot=Object.keys(wt);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(wt);Dt&&(Ut=Ut.filter(function(zt){return Object.getOwnPropertyDescriptor(wt,zt).enumerable})),Ot.push.apply(Ot,Ut)}return Ot}function lt(wt){for(var Dt=1;Dt<arguments.length;Dt++){var Ot=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?at(Object(Ot),!0).forEach(function(Ut){Et(wt,Ut,Ot[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(wt,Object.getOwnPropertyDescriptors(Ot)):at(Object(Ot)).forEach(function(Ut){Object.defineProperty(wt,Ut,Object.getOwnPropertyDescriptor(Ot,Ut))})}return wt}function ft(wt,Dt){if(!(wt instanceof Dt))throw new TypeError("Cannot call a class as a function")}function dt(wt,Dt){for(var Ot=0;Ot<Dt.length;Ot++){var Ut=Dt[Ot];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(wt,Ut.key,Ut)}}function gt(wt,Dt,Ot){return Dt&&dt(wt.prototype,Dt),Ot&&dt(wt,Ot),wt}function pt(wt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");wt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:wt,writable:!0,configurable:!0}}),Dt&&vt(wt,Dt)}function vt(wt,Dt){return vt=Object.setPrototypeOf||function(Ut,zt){return Ut.__proto__=zt,Ut},vt(wt,Dt)}function St(wt){var Dt=Ct();return function(){var Ut=Mt(wt),zt;if(Dt){var tr=Mt(this).constructor;zt=Reflect.construct(Ut,arguments,tr)}else zt=Ut.apply(this,arguments);return At(this,zt)}}function At(wt,Dt){return Dt&&(_e(Dt)==="object"||typeof Dt=="function")?Dt:Tt(wt)}function Tt(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}function Ct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mt(wt){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Ot){return Ot.__proto__||Object.getPrototypeOf(Ot)},Mt(wt)}function Et(wt,Dt,Ot){return Dt in wt?Object.defineProperty(wt,Dt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):wt[Dt]=Ot,wt}var Rt="https://fast.wistia.com/assets/external/E-v1.js",Bt="Wistia",Ft="wistia-player-",Lt=function(wt){pt(Ot,wt);var Dt=St(Ot);function Ot(){var Ut;ft(this,Ot);for(var zt=arguments.length,tr=new Array(zt),jt=0;jt<zt;jt++)tr[jt]=arguments[jt];return Ut=Dt.call.apply(Dt,[this].concat(tr)),Et(Tt(Ut),"callPlayer",rt.callPlayer),Et(Tt(Ut),"playerID",Ut.props.config.playerId||"".concat(Ft).concat((0,rt.randomString)())),Et(Tt(Ut),"onPlay",function(){var Kt;return(Kt=Ut.props).onPlay.apply(Kt,arguments)}),Et(Tt(Ut),"onPause",function(){var Kt;return(Kt=Ut.props).onPause.apply(Kt,arguments)}),Et(Tt(Ut),"onSeek",function(){var Kt;return(Kt=Ut.props).onSeek.apply(Kt,arguments)}),Et(Tt(Ut),"onEnded",function(){var Kt;return(Kt=Ut.props).onEnded.apply(Kt,arguments)}),Et(Tt(Ut),"onPlaybackRateChange",function(){var Kt;return(Kt=Ut.props).onPlaybackRateChange.apply(Kt,arguments)}),Et(Tt(Ut),"mute",function(){Ut.callPlayer("mute")}),Et(Tt(Ut),"unmute",function(){Ut.callPlayer("unmute")}),Ut}return gt(Ot,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(zt){var tr=this,jt=this.props,Kt=jt.playing,qt=jt.muted,er=jt.controls,kt=jt.onReady,Vt=jt.config,Zt=jt.onError;(0,rt.getSDK)(Rt,Bt).then(function(Wt){Vt.customControls&&Vt.customControls.forEach(function(nr){return Wt.defineControl(nr)}),window._wq=window._wq||[],window._wq.push({id:tr.playerID,options:lt({autoPlay:Kt,silentAutoPlay:"allow",muted:qt,controlsVisibleOnLoad:er,fullscreenButton:er,playbar:er,playbackRateControl:er,qualityControl:er,volumeControl:er,settingsControl:er,smallPlayButton:er},Vt.options),onReady:function(sr){tr.player=sr,tr.unbind(),tr.player.bind("play",tr.onPlay),tr.player.bind("pause",tr.onPause),tr.player.bind("seek",tr.onSeek),tr.player.bind("end",tr.onEnded),tr.player.bind("playbackratechange",tr.onPlaybackRateChange),kt()}})},Zt)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(zt){this.callPlayer("time",zt)}},{key:"setVolume",value:function(zt){this.callPlayer("volume",zt)}},{key:"setPlaybackRate",value:function(zt){this.callPlayer("playbackRate",zt)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var zt=this.props.url,tr=zt&&zt.match(nt.MATCH_URL_WISTIA)[1],jt="wistia_embed wistia_async_".concat(tr),Kt={width:"100%",height:"100%"};return tt.default.createElement("div",{id:this.playerID,key:tr,className:jt,style:Kt})}}]),Ot}(tt.Component);et.default=Lt,Et(Lt,"displayName","Wistia"),Et(Lt,"canPlay",nt.canPlay.wistia),Et(Lt,"loopOnEnded",!0)}(Wistia)),Wistia}var Twitch={},hasRequiredTwitch;function requireTwitch(){return hasRequiredTwitch||(hasRequiredTwitch=1,function(et){function _e(wt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Ot){return typeof Ot}:_e=function(Ot){return Ot&&typeof Symbol=="function"&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot},_e(wt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var wt=new WeakMap;return st=function(){return wt},wt}function ot(wt){if(wt&&wt.__esModule)return wt;if(wt===null||_e(wt)!=="object"&&typeof wt!="function")return{default:wt};var Dt=st();if(Dt&&Dt.has(wt))return Dt.get(wt);var Ot={},Ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zt in wt)if(Object.prototype.hasOwnProperty.call(wt,zt)){var tr=Ut?Object.getOwnPropertyDescriptor(wt,zt):null;tr&&(tr.get||tr.set)?Object.defineProperty(Ot,zt,tr):Ot[zt]=wt[zt]}return Ot.default=wt,Dt&&Dt.set(wt,Ot),Ot}function at(wt,Dt){var Ot=Object.keys(wt);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(wt);Dt&&(Ut=Ut.filter(function(zt){return Object.getOwnPropertyDescriptor(wt,zt).enumerable})),Ot.push.apply(Ot,Ut)}return Ot}function lt(wt){for(var Dt=1;Dt<arguments.length;Dt++){var Ot=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?at(Object(Ot),!0).forEach(function(Ut){Et(wt,Ut,Ot[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(wt,Object.getOwnPropertyDescriptors(Ot)):at(Object(Ot)).forEach(function(Ut){Object.defineProperty(wt,Ut,Object.getOwnPropertyDescriptor(Ot,Ut))})}return wt}function ft(wt,Dt){if(!(wt instanceof Dt))throw new TypeError("Cannot call a class as a function")}function dt(wt,Dt){for(var Ot=0;Ot<Dt.length;Ot++){var Ut=Dt[Ot];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(wt,Ut.key,Ut)}}function gt(wt,Dt,Ot){return Dt&&dt(wt.prototype,Dt),Ot&&dt(wt,Ot),wt}function pt(wt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");wt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:wt,writable:!0,configurable:!0}}),Dt&&vt(wt,Dt)}function vt(wt,Dt){return vt=Object.setPrototypeOf||function(Ut,zt){return Ut.__proto__=zt,Ut},vt(wt,Dt)}function St(wt){var Dt=Ct();return function(){var Ut=Mt(wt),zt;if(Dt){var tr=Mt(this).constructor;zt=Reflect.construct(Ut,arguments,tr)}else zt=Ut.apply(this,arguments);return At(this,zt)}}function At(wt,Dt){return Dt&&(_e(Dt)==="object"||typeof Dt=="function")?Dt:Tt(wt)}function Tt(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}function Ct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mt(wt){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Ot){return Ot.__proto__||Object.getPrototypeOf(Ot)},Mt(wt)}function Et(wt,Dt,Ot){return Dt in wt?Object.defineProperty(wt,Dt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):wt[Dt]=Ot,wt}var Rt="https://player.twitch.tv/js/embed/v1.js",Bt="Twitch",Ft="twitch-player-",Lt=function(wt){pt(Ot,wt);var Dt=St(Ot);function Ot(){var Ut;ft(this,Ot);for(var zt=arguments.length,tr=new Array(zt),jt=0;jt<zt;jt++)tr[jt]=arguments[jt];return Ut=Dt.call.apply(Dt,[this].concat(tr)),Et(Tt(Ut),"callPlayer",rt.callPlayer),Et(Tt(Ut),"playerID",Ut.props.config.playerId||"".concat(Ft).concat((0,rt.randomString)())),Et(Tt(Ut),"mute",function(){Ut.callPlayer("setMuted",!0)}),Et(Tt(Ut),"unmute",function(){Ut.callPlayer("setMuted",!1)}),Ut}return gt(Ot,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(zt,tr){var jt=this,Kt=this.props,qt=Kt.playsinline,er=Kt.onError,kt=Kt.config,Vt=Kt.controls,Zt=nt.MATCH_URL_TWITCH_CHANNEL.test(zt),Wt=Zt?zt.match(nt.MATCH_URL_TWITCH_CHANNEL)[1]:zt.match(nt.MATCH_URL_TWITCH_VIDEO)[1];if(tr){Zt?this.player.setChannel(Wt):this.player.setVideo("v"+Wt);return}(0,rt.getSDK)(Rt,Bt).then(function(nr){jt.player=new nr.Player(jt.playerID,lt({video:Zt?"":Wt,channel:Zt?Wt:"",height:"100%",width:"100%",playsinline:qt,autoplay:jt.props.playing,muted:jt.props.muted,controls:Zt?!0:Vt,time:(0,rt.parseStartTime)(zt)},kt.options));var sr=nr.Player,lr=sr.READY,dr=sr.PLAYING,hr=sr.PAUSE,wr=sr.ENDED,pr=sr.ONLINE,_r=sr.OFFLINE,mr=sr.SEEK;jt.player.addEventListener(lr,jt.props.onReady),jt.player.addEventListener(dr,jt.props.onPlay),jt.player.addEventListener(hr,jt.props.onPause),jt.player.addEventListener(wr,jt.props.onEnded),jt.player.addEventListener(mr,jt.props.onSeek),jt.player.addEventListener(pr,jt.props.onLoaded),jt.player.addEventListener(_r,jt.props.onLoaded)},er)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(zt){this.callPlayer("seek",zt)}},{key:"setVolume",value:function(zt){this.callPlayer("setVolume",zt)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var zt={width:"100%",height:"100%"};return tt.default.createElement("div",{style:zt,id:this.playerID})}}]),Ot}(tt.Component);et.default=Lt,Et(Lt,"displayName","Twitch"),Et(Lt,"canPlay",nt.canPlay.twitch),Et(Lt,"loopOnEnded",!0)}(Twitch)),Twitch}var DailyMotion={},hasRequiredDailyMotion;function requireDailyMotion(){return hasRequiredDailyMotion||(hasRequiredDailyMotion=1,function(et){function _e(jt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(qt){return typeof qt}:_e=function(qt){return qt&&typeof Symbol=="function"&&qt.constructor===Symbol&&qt!==Symbol.prototype?"symbol":typeof qt},_e(jt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var jt=new WeakMap;return st=function(){return jt},jt}function ot(jt){if(jt&&jt.__esModule)return jt;if(jt===null||_e(jt)!=="object"&&typeof jt!="function")return{default:jt};var Kt=st();if(Kt&&Kt.has(jt))return Kt.get(jt);var qt={},er=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var kt in jt)if(Object.prototype.hasOwnProperty.call(jt,kt)){var Vt=er?Object.getOwnPropertyDescriptor(jt,kt):null;Vt&&(Vt.get||Vt.set)?Object.defineProperty(qt,kt,Vt):qt[kt]=jt[kt]}return qt.default=jt,Kt&&Kt.set(jt,qt),qt}function at(jt,Kt){var qt=Object.keys(jt);if(Object.getOwnPropertySymbols){var er=Object.getOwnPropertySymbols(jt);Kt&&(er=er.filter(function(kt){return Object.getOwnPropertyDescriptor(jt,kt).enumerable})),qt.push.apply(qt,er)}return qt}function lt(jt){for(var Kt=1;Kt<arguments.length;Kt++){var qt=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?at(Object(qt),!0).forEach(function(er){Dt(jt,er,qt[er])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jt,Object.getOwnPropertyDescriptors(qt)):at(Object(qt)).forEach(function(er){Object.defineProperty(jt,er,Object.getOwnPropertyDescriptor(qt,er))})}return jt}function ft(jt,Kt){return St(jt)||vt(jt,Kt)||gt(jt,Kt)||dt()}function dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gt(jt,Kt){if(jt){if(typeof jt=="string")return pt(jt,Kt);var qt=Object.prototype.toString.call(jt).slice(8,-1);if(qt==="Object"&&jt.constructor&&(qt=jt.constructor.name),qt==="Map"||qt==="Set")return Array.from(jt);if(qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qt))return pt(jt,Kt)}}function pt(jt,Kt){(Kt==null||Kt>jt.length)&&(Kt=jt.length);for(var qt=0,er=new Array(Kt);qt<Kt;qt++)er[qt]=jt[qt];return er}function vt(jt,Kt){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(jt)))){var qt=[],er=!0,kt=!1,Vt=void 0;try{for(var Zt=jt[Symbol.iterator](),Wt;!(er=(Wt=Zt.next()).done)&&(qt.push(Wt.value),!(Kt&&qt.length===Kt));er=!0);}catch(nr){kt=!0,Vt=nr}finally{try{!er&&Zt.return!=null&&Zt.return()}finally{if(kt)throw Vt}}return qt}}function St(jt){if(Array.isArray(jt))return jt}function At(jt,Kt){if(!(jt instanceof Kt))throw new TypeError("Cannot call a class as a function")}function Tt(jt,Kt){for(var qt=0;qt<Kt.length;qt++){var er=Kt[qt];er.enumerable=er.enumerable||!1,er.configurable=!0,"value"in er&&(er.writable=!0),Object.defineProperty(jt,er.key,er)}}function Ct(jt,Kt,qt){return Kt&&Tt(jt.prototype,Kt),qt&&Tt(jt,qt),jt}function Mt(jt,Kt){if(typeof Kt!="function"&&Kt!==null)throw new TypeError("Super expression must either be null or a function");jt.prototype=Object.create(Kt&&Kt.prototype,{constructor:{value:jt,writable:!0,configurable:!0}}),Kt&&Et(jt,Kt)}function Et(jt,Kt){return Et=Object.setPrototypeOf||function(er,kt){return er.__proto__=kt,er},Et(jt,Kt)}function Rt(jt){var Kt=Lt();return function(){var er=wt(jt),kt;if(Kt){var Vt=wt(this).constructor;kt=Reflect.construct(er,arguments,Vt)}else kt=er.apply(this,arguments);return Bt(this,kt)}}function Bt(jt,Kt){return Kt&&(_e(Kt)==="object"||typeof Kt=="function")?Kt:Ft(jt)}function Ft(jt){if(jt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}function Lt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function wt(jt){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(qt){return qt.__proto__||Object.getPrototypeOf(qt)},wt(jt)}function Dt(jt,Kt,qt){return Kt in jt?Object.defineProperty(jt,Kt,{value:qt,enumerable:!0,configurable:!0,writable:!0}):jt[Kt]=qt,jt}var Ot="https://api.dmcdn.net/all.js",Ut="DM",zt="dmAsyncInit",tr=function(jt){Mt(qt,jt);var Kt=Rt(qt);function qt(){var er;At(this,qt);for(var kt=arguments.length,Vt=new Array(kt),Zt=0;Zt<kt;Zt++)Vt[Zt]=arguments[Zt];return er=Kt.call.apply(Kt,[this].concat(Vt)),Dt(Ft(er),"callPlayer",rt.callPlayer),Dt(Ft(er),"onDurationChange",function(){var Wt=er.getDuration();er.props.onDuration(Wt)}),Dt(Ft(er),"mute",function(){er.callPlayer("setMuted",!0)}),Dt(Ft(er),"unmute",function(){er.callPlayer("setMuted",!1)}),Dt(Ft(er),"ref",function(Wt){er.container=Wt}),er}return Ct(qt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(kt){var Vt=this,Zt=this.props,Wt=Zt.controls,nr=Zt.config,sr=Zt.onError,lr=Zt.playing,dr=kt.match(nt.MATCH_URL_DAILYMOTION),hr=ft(dr,2),wr=hr[1];if(this.player){this.player.load(wr,{start:(0,rt.parseStartTime)(kt),autoplay:lr});return}(0,rt.getSDK)(Ot,Ut,zt,function(pr){return pr.player}).then(function(pr){if(Vt.container){var _r=pr.player;Vt.player=new _r(Vt.container,{width:"100%",height:"100%",video:wr,params:lt({controls:Wt,autoplay:Vt.props.playing,mute:Vt.props.muted,start:(0,rt.parseStartTime)(kt),origin:window.location.origin},nr.params),events:{apiready:Vt.props.onReady,seeked:function(){return Vt.props.onSeek(Vt.player.currentTime)},video_end:Vt.props.onEnded,durationchange:Vt.onDurationChange,pause:Vt.props.onPause,playing:Vt.props.onPlay,waiting:Vt.props.onBuffer,error:function(Er){return sr(Er)}}})}},sr)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(kt){this.callPlayer("seek",kt)}},{key:"setVolume",value:function(kt){this.callPlayer("setVolume",kt)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var kt=this.props.display,Vt={width:"100%",height:"100%",display:kt};return tt.default.createElement("div",{style:Vt},tt.default.createElement("div",{ref:this.ref}))}}]),qt}(tt.Component);et.default=tr,Dt(tr,"displayName","DailyMotion"),Dt(tr,"canPlay",nt.canPlay.dailymotion),Dt(tr,"loopOnEnded",!0)}(DailyMotion)),DailyMotion}var Mixcloud={},hasRequiredMixcloud;function requireMixcloud(){return hasRequiredMixcloud||(hasRequiredMixcloud=1,function(et){function _e(Lt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Dt){return typeof Dt}:_e=function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt},_e(Lt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var Lt=new WeakMap;return st=function(){return Lt},Lt}function ot(Lt){if(Lt&&Lt.__esModule)return Lt;if(Lt===null||_e(Lt)!=="object"&&typeof Lt!="function")return{default:Lt};var wt=st();if(wt&&wt.has(Lt))return wt.get(Lt);var Dt={},Ot=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ut in Lt)if(Object.prototype.hasOwnProperty.call(Lt,Ut)){var zt=Ot?Object.getOwnPropertyDescriptor(Lt,Ut):null;zt&&(zt.get||zt.set)?Object.defineProperty(Dt,Ut,zt):Dt[Ut]=Lt[Ut]}return Dt.default=Lt,wt&&wt.set(Lt,Dt),Dt}function at(Lt,wt){var Dt=Object.keys(Lt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Lt);wt&&(Ot=Ot.filter(function(Ut){return Object.getOwnPropertyDescriptor(Lt,Ut).enumerable})),Dt.push.apply(Dt,Ot)}return Dt}function lt(Lt){for(var wt=1;wt<arguments.length;wt++){var Dt=arguments[wt]!=null?arguments[wt]:{};wt%2?at(Object(Dt),!0).forEach(function(Ot){Et(Lt,Ot,Dt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lt,Object.getOwnPropertyDescriptors(Dt)):at(Object(Dt)).forEach(function(Ot){Object.defineProperty(Lt,Ot,Object.getOwnPropertyDescriptor(Dt,Ot))})}return Lt}function ft(Lt,wt){if(!(Lt instanceof wt))throw new TypeError("Cannot call a class as a function")}function dt(Lt,wt){for(var Dt=0;Dt<wt.length;Dt++){var Ot=wt[Dt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Lt,Ot.key,Ot)}}function gt(Lt,wt,Dt){return wt&&dt(Lt.prototype,wt),Dt&&dt(Lt,Dt),Lt}function pt(Lt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Lt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Lt,writable:!0,configurable:!0}}),wt&&vt(Lt,wt)}function vt(Lt,wt){return vt=Object.setPrototypeOf||function(Ot,Ut){return Ot.__proto__=Ut,Ot},vt(Lt,wt)}function St(Lt){var wt=Ct();return function(){var Ot=Mt(Lt),Ut;if(wt){var zt=Mt(this).constructor;Ut=Reflect.construct(Ot,arguments,zt)}else Ut=Ot.apply(this,arguments);return At(this,Ut)}}function At(Lt,wt){return wt&&(_e(wt)==="object"||typeof wt=="function")?wt:Tt(Lt)}function Tt(Lt){if(Lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lt}function Ct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mt(Lt){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Dt){return Dt.__proto__||Object.getPrototypeOf(Dt)},Mt(Lt)}function Et(Lt,wt,Dt){return wt in Lt?Object.defineProperty(Lt,wt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}):Lt[wt]=Dt,Lt}var Rt="https://widget.mixcloud.com/media/js/widgetApi.js",Bt="Mixcloud",Ft=function(Lt){pt(Dt,Lt);var wt=St(Dt);function Dt(){var Ot;ft(this,Dt);for(var Ut=arguments.length,zt=new Array(Ut),tr=0;tr<Ut;tr++)zt[tr]=arguments[tr];return Ot=wt.call.apply(wt,[this].concat(zt)),Et(Tt(Ot),"callPlayer",rt.callPlayer),Et(Tt(Ot),"duration",null),Et(Tt(Ot),"currentTime",null),Et(Tt(Ot),"secondsLoaded",null),Et(Tt(Ot),"mute",function(){}),Et(Tt(Ot),"unmute",function(){}),Et(Tt(Ot),"ref",function(jt){Ot.iframe=jt}),Ot}return gt(Dt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Ut){var zt=this;(0,rt.getSDK)(Rt,Bt).then(function(tr){zt.player=tr.PlayerWidget(zt.iframe),zt.player.ready.then(function(){zt.player.events.play.on(zt.props.onPlay),zt.player.events.pause.on(zt.props.onPause),zt.player.events.ended.on(zt.props.onEnded),zt.player.events.error.on(zt.props.error),zt.player.events.progress.on(function(jt,Kt){zt.currentTime=jt,zt.duration=Kt}),zt.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Ut){this.callPlayer("seek",Ut)}},{key:"setVolume",value:function(Ut){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var Ut=this.props,zt=Ut.url,tr=Ut.config,jt=zt.match(nt.MATCH_URL_MIXCLOUD)[1],Kt={width:"100%",height:"100%"},qt=(0,rt.queryString)(lt(lt({},tr.options),{},{feed:"/".concat(jt,"/")}));return tt.default.createElement("iframe",{key:jt,ref:this.ref,style:Kt,src:"https://www.mixcloud.com/widget/iframe/?".concat(qt),frameBorder:"0",allow:"autoplay"})}}]),Dt}(tt.Component);et.default=Ft,Et(Ft,"displayName","Mixcloud"),Et(Ft,"canPlay",nt.canPlay.mixcloud),Et(Ft,"loopOnEnded",!0)}(Mixcloud)),Mixcloud}var Vidyard={},hasRequiredVidyard;function requireVidyard(){return hasRequiredVidyard||(hasRequiredVidyard=1,function(et){function _e(wt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Ot){return typeof Ot}:_e=function(Ot){return Ot&&typeof Symbol=="function"&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot},_e(wt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var wt=new WeakMap;return st=function(){return wt},wt}function ot(wt){if(wt&&wt.__esModule)return wt;if(wt===null||_e(wt)!=="object"&&typeof wt!="function")return{default:wt};var Dt=st();if(Dt&&Dt.has(wt))return Dt.get(wt);var Ot={},Ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zt in wt)if(Object.prototype.hasOwnProperty.call(wt,zt)){var tr=Ut?Object.getOwnPropertyDescriptor(wt,zt):null;tr&&(tr.get||tr.set)?Object.defineProperty(Ot,zt,tr):Ot[zt]=wt[zt]}return Ot.default=wt,Dt&&Dt.set(wt,Ot),Ot}function at(wt,Dt){var Ot=Object.keys(wt);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(wt);Dt&&(Ut=Ut.filter(function(zt){return Object.getOwnPropertyDescriptor(wt,zt).enumerable})),Ot.push.apply(Ot,Ut)}return Ot}function lt(wt){for(var Dt=1;Dt<arguments.length;Dt++){var Ot=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?at(Object(Ot),!0).forEach(function(Ut){Et(wt,Ut,Ot[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(wt,Object.getOwnPropertyDescriptors(Ot)):at(Object(Ot)).forEach(function(Ut){Object.defineProperty(wt,Ut,Object.getOwnPropertyDescriptor(Ot,Ut))})}return wt}function ft(wt,Dt){if(!(wt instanceof Dt))throw new TypeError("Cannot call a class as a function")}function dt(wt,Dt){for(var Ot=0;Ot<Dt.length;Ot++){var Ut=Dt[Ot];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(wt,Ut.key,Ut)}}function gt(wt,Dt,Ot){return Dt&&dt(wt.prototype,Dt),Ot&&dt(wt,Ot),wt}function pt(wt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");wt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:wt,writable:!0,configurable:!0}}),Dt&&vt(wt,Dt)}function vt(wt,Dt){return vt=Object.setPrototypeOf||function(Ut,zt){return Ut.__proto__=zt,Ut},vt(wt,Dt)}function St(wt){var Dt=Ct();return function(){var Ut=Mt(wt),zt;if(Dt){var tr=Mt(this).constructor;zt=Reflect.construct(Ut,arguments,tr)}else zt=Ut.apply(this,arguments);return At(this,zt)}}function At(wt,Dt){return Dt&&(_e(Dt)==="object"||typeof Dt=="function")?Dt:Tt(wt)}function Tt(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}function Ct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mt(wt){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Ot){return Ot.__proto__||Object.getPrototypeOf(Ot)},Mt(wt)}function Et(wt,Dt,Ot){return Dt in wt?Object.defineProperty(wt,Dt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):wt[Dt]=Ot,wt}var Rt="https://play.vidyard.com/embed/v4.js",Bt="VidyardV4",Ft="onVidyardAPI",Lt=function(wt){pt(Ot,wt);var Dt=St(Ot);function Ot(){var Ut;ft(this,Ot);for(var zt=arguments.length,tr=new Array(zt),jt=0;jt<zt;jt++)tr[jt]=arguments[jt];return Ut=Dt.call.apply(Dt,[this].concat(tr)),Et(Tt(Ut),"callPlayer",rt.callPlayer),Et(Tt(Ut),"mute",function(){Ut.setVolume(0)}),Et(Tt(Ut),"unmute",function(){Ut.props.volume!==null&&Ut.setVolume(Ut.props.volume)}),Et(Tt(Ut),"ref",function(Kt){Ut.container=Kt}),Ut}return gt(Ot,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(zt){var tr=this,jt=this.props,Kt=jt.playing,qt=jt.config,er=jt.onError,kt=jt.onDuration,Vt=zt&&zt.match(nt.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,rt.getSDK)(Rt,Bt,Ft).then(function(Zt){tr.container&&(Zt.api.addReadyListener(function(Wt,nr){tr.player||(tr.player=nr,tr.player.on("ready",tr.props.onReady),tr.player.on("play",tr.props.onPlay),tr.player.on("pause",tr.props.onPause),tr.player.on("seek",tr.props.onSeek),tr.player.on("playerComplete",tr.props.onEnded))},Vt),Zt.api.renderPlayer(lt({uuid:Vt,container:tr.container,autoplay:Kt?1:0},qt.options)),Zt.api.getPlayerMetadata(Vt).then(function(Wt){tr.duration=Wt.length_in_seconds,kt(Wt.length_in_seconds)}))},er)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(zt){this.callPlayer("seek",zt)}},{key:"setVolume",value:function(zt){this.callPlayer("setVolume",zt)}},{key:"setPlaybackRate",value:function(zt){this.callPlayer("setPlaybackSpeed",zt)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var zt=this.props.display,tr={width:"100%",height:"100%",display:zt};return tt.default.createElement("div",{style:tr},tt.default.createElement("div",{ref:this.ref}))}}]),Ot}(tt.Component);et.default=Lt,Et(Lt,"displayName","Vidyard"),Et(Lt,"canPlay",nt.canPlay.vidyard)}(Vidyard)),Vidyard}var Kaltura={},hasRequiredKaltura;function requireKaltura(){return hasRequiredKaltura||(hasRequiredKaltura=1,function(et){function _e(Bt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Lt){return typeof Lt}:_e=function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt},_e(Bt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var Bt=new WeakMap;return st=function(){return Bt},Bt}function ot(Bt){if(Bt&&Bt.__esModule)return Bt;if(Bt===null||_e(Bt)!=="object"&&typeof Bt!="function")return{default:Bt};var Ft=st();if(Ft&&Ft.has(Bt))return Ft.get(Bt);var Lt={},wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Dt in Bt)if(Object.prototype.hasOwnProperty.call(Bt,Dt)){var Ot=wt?Object.getOwnPropertyDescriptor(Bt,Dt):null;Ot&&(Ot.get||Ot.set)?Object.defineProperty(Lt,Dt,Ot):Lt[Dt]=Bt[Dt]}return Lt.default=Bt,Ft&&Ft.set(Bt,Lt),Lt}function at(Bt,Ft){if(!(Bt instanceof Ft))throw new TypeError("Cannot call a class as a function")}function lt(Bt,Ft){for(var Lt=0;Lt<Ft.length;Lt++){var wt=Ft[Lt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Bt,wt.key,wt)}}function ft(Bt,Ft,Lt){return Ft&&lt(Bt.prototype,Ft),Lt&&lt(Bt,Lt),Bt}function dt(Bt,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Ft&&gt(Bt,Ft)}function gt(Bt,Ft){return gt=Object.setPrototypeOf||function(wt,Dt){return wt.__proto__=Dt,wt},gt(Bt,Ft)}function pt(Bt){var Ft=At();return function(){var wt=Tt(Bt),Dt;if(Ft){var Ot=Tt(this).constructor;Dt=Reflect.construct(wt,arguments,Ot)}else Dt=wt.apply(this,arguments);return vt(this,Dt)}}function vt(Bt,Ft){return Ft&&(_e(Ft)==="object"||typeof Ft=="function")?Ft:St(Bt)}function St(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Tt(Bt){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(Lt){return Lt.__proto__||Object.getPrototypeOf(Lt)},Tt(Bt)}function Ct(Bt,Ft,Lt){return Ft in Bt?Object.defineProperty(Bt,Ft,{value:Lt,enumerable:!0,configurable:!0,writable:!0}):Bt[Ft]=Lt,Bt}var Mt="https://cdn.embed.ly/player-0.1.0.min.js",Et="playerjs",Rt=function(Bt){dt(Lt,Bt);var Ft=pt(Lt);function Lt(){var wt;at(this,Lt);for(var Dt=arguments.length,Ot=new Array(Dt),Ut=0;Ut<Dt;Ut++)Ot[Ut]=arguments[Ut];return wt=Ft.call.apply(Ft,[this].concat(Ot)),Ct(St(wt),"callPlayer",rt.callPlayer),Ct(St(wt),"duration",null),Ct(St(wt),"currentTime",null),Ct(St(wt),"secondsLoaded",null),Ct(St(wt),"mute",function(){wt.callPlayer("mute")}),Ct(St(wt),"unmute",function(){wt.callPlayer("unmute")}),Ct(St(wt),"ref",function(zt){wt.iframe=zt}),wt}return ft(Lt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Dt){var Ot=this;(0,rt.getSDK)(Mt,Et).then(function(Ut){Ot.iframe&&(Ot.player=new Ut.Player(Ot.iframe),Ot.player.on("ready",function(){setTimeout(function(){Ot.player.isReady=!0,Ot.player.setLoop(Ot.props.loop),Ot.props.muted&&Ot.player.mute(),Ot.addListeners(Ot.player,Ot.props),Ot.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(Dt,Ot){var Ut=this;Dt.on("play",Ot.onPlay),Dt.on("pause",Ot.onPause),Dt.on("ended",Ot.onEnded),Dt.on("error",Ot.onError),Dt.on("timeupdate",function(zt){var tr=zt.duration,jt=zt.seconds;Ut.duration=tr,Ut.currentTime=jt})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Dt){this.callPlayer("setCurrentTime",Dt)}},{key:"setVolume",value:function(Dt){this.callPlayer("setVolume",Dt)}},{key:"setLoop",value:function(Dt){this.callPlayer("setLoop",Dt)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var Dt={width:"100%",height:"100%"};return tt.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:Dt,allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}]),Lt}(tt.Component);et.default=Rt,Ct(Rt,"displayName","Kaltura"),Ct(Rt,"canPlay",nt.canPlay.kaltura)}(Kaltura)),Kaltura}var FilePlayer={},hasRequiredFilePlayer;function requireFilePlayer(){return hasRequiredFilePlayer||(hasRequiredFilePlayer=1,function(et){function _e(er){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Vt){return typeof Vt}:_e=function(Vt){return Vt&&typeof Symbol=="function"&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt},_e(er)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=ot(reactExports),rt=utils,nt=patterns;function st(){if(typeof WeakMap!="function")return null;var er=new WeakMap;return st=function(){return er},er}function ot(er){if(er&&er.__esModule)return er;if(er===null||_e(er)!=="object"&&typeof er!="function")return{default:er};var kt=st();if(kt&&kt.has(er))return kt.get(er);var Vt={},Zt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Wt in er)if(Object.prototype.hasOwnProperty.call(er,Wt)){var nr=Zt?Object.getOwnPropertyDescriptor(er,Wt):null;nr&&(nr.get||nr.set)?Object.defineProperty(Vt,Wt,nr):Vt[Wt]=er[Wt]}return Vt.default=er,kt&&kt.set(er,Vt),Vt}function at(){return at=Object.assign||function(er){for(var kt=1;kt<arguments.length;kt++){var Vt=arguments[kt];for(var Zt in Vt)Object.prototype.hasOwnProperty.call(Vt,Zt)&&(er[Zt]=Vt[Zt])}return er},at.apply(this,arguments)}function lt(er,kt){if(!(er instanceof kt))throw new TypeError("Cannot call a class as a function")}function ft(er,kt){for(var Vt=0;Vt<kt.length;Vt++){var Zt=kt[Vt];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(er,Zt.key,Zt)}}function dt(er,kt,Vt){return kt&&ft(er.prototype,kt),Vt&&ft(er,Vt),er}function gt(er,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function");er.prototype=Object.create(kt&&kt.prototype,{constructor:{value:er,writable:!0,configurable:!0}}),kt&&pt(er,kt)}function pt(er,kt){return pt=Object.setPrototypeOf||function(Zt,Wt){return Zt.__proto__=Wt,Zt},pt(er,kt)}function vt(er){var kt=Tt();return function(){var Zt=Ct(er),Wt;if(kt){var nr=Ct(this).constructor;Wt=Reflect.construct(Zt,arguments,nr)}else Wt=Zt.apply(this,arguments);return St(this,Wt)}}function St(er,kt){return kt&&(_e(kt)==="object"||typeof kt=="function")?kt:At(er)}function At(er){if(er===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return er}function Tt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ct(er){return Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)},Ct(er)}function Mt(er,kt,Vt){return kt in er?Object.defineProperty(er,kt,{value:Vt,enumerable:!0,configurable:!0,writable:!0}):er[kt]=Vt,er}var Et=typeof navigator<"u",Rt=Et&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Bt=Et&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||Rt)&&!window.MSStream,Ft=Et&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,Lt="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",wt="Hls",Dt="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",Ot="dashjs",Ut="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",zt="flvjs",tr=/www\.dropbox\.com\/.+/,jt=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,Kt="https://videodelivery.net/{id}/manifest/video.m3u8",qt=function(er){gt(Vt,er);var kt=vt(Vt);function Vt(){var Zt;lt(this,Vt);for(var Wt=arguments.length,nr=new Array(Wt),sr=0;sr<Wt;sr++)nr[sr]=arguments[sr];return Zt=kt.call.apply(kt,[this].concat(nr)),Mt(At(Zt),"onReady",function(){var lr;return(lr=Zt.props).onReady.apply(lr,arguments)}),Mt(At(Zt),"onPlay",function(){var lr;return(lr=Zt.props).onPlay.apply(lr,arguments)}),Mt(At(Zt),"onBuffer",function(){var lr;return(lr=Zt.props).onBuffer.apply(lr,arguments)}),Mt(At(Zt),"onBufferEnd",function(){var lr;return(lr=Zt.props).onBufferEnd.apply(lr,arguments)}),Mt(At(Zt),"onPause",function(){var lr;return(lr=Zt.props).onPause.apply(lr,arguments)}),Mt(At(Zt),"onEnded",function(){var lr;return(lr=Zt.props).onEnded.apply(lr,arguments)}),Mt(At(Zt),"onError",function(){var lr;return(lr=Zt.props).onError.apply(lr,arguments)}),Mt(At(Zt),"onPlayBackRateChange",function(lr){return Zt.props.onPlaybackRateChange(lr.target.playbackRate)}),Mt(At(Zt),"onEnablePIP",function(){var lr;return(lr=Zt.props).onEnablePIP.apply(lr,arguments)}),Mt(At(Zt),"onDisablePIP",function(lr){var dr=Zt.props,hr=dr.onDisablePIP,wr=dr.playing;hr(lr),wr&&Zt.play()}),Mt(At(Zt),"onPresentationModeChange",function(lr){if(Zt.player&&(0,rt.supportsWebKitPresentationMode)(Zt.player)){var dr=Zt.player.webkitPresentationMode;dr==="picture-in-picture"?Zt.onEnablePIP(lr):dr==="inline"&&Zt.onDisablePIP(lr)}}),Mt(At(Zt),"onSeek",function(lr){Zt.props.onSeek(lr.target.currentTime)}),Mt(At(Zt),"mute",function(){Zt.player.muted=!0}),Mt(At(Zt),"unmute",function(){Zt.player.muted=!1}),Mt(At(Zt),"renderSourceElement",function(lr,dr){return typeof lr=="string"?tt.default.createElement("source",{key:dr,src:lr}):tt.default.createElement("source",at({key:dr},lr))}),Mt(At(Zt),"renderTrack",function(lr,dr){return tt.default.createElement("track",at({key:dr},lr))}),Mt(At(Zt),"ref",function(lr){Zt.player&&(Zt.prevPlayer=Zt.player),Zt.player=lr}),Zt}return dt(Vt,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),this.player.src=this.getSource(this.props.url),Bt&&this.player.load()}},{key:"componentDidUpdate",value:function(Wt){this.shouldUseAudio(this.props)!==this.shouldUseAudio(Wt)&&(this.removeListeners(this.prevPlayer,Wt.url),this.addListeners(this.player)),this.props.url!==Wt.url&&!(0,rt.isMediaStream)(this.props.url)&&(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.src="",this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(Wt){var nr=this.props,sr=nr.url,lr=nr.playsinline;Wt.addEventListener("play",this.onPlay),Wt.addEventListener("waiting",this.onBuffer),Wt.addEventListener("playing",this.onBufferEnd),Wt.addEventListener("pause",this.onPause),Wt.addEventListener("seeked",this.onSeek),Wt.addEventListener("ended",this.onEnded),Wt.addEventListener("error",this.onError),Wt.addEventListener("ratechange",this.onPlayBackRateChange),Wt.addEventListener("enterpictureinpicture",this.onEnablePIP),Wt.addEventListener("leavepictureinpicture",this.onDisablePIP),Wt.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(sr)||Wt.addEventListener("canplay",this.onReady),lr&&(Wt.setAttribute("playsinline",""),Wt.setAttribute("webkit-playsinline",""),Wt.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(Wt,nr){Wt.removeEventListener("canplay",this.onReady),Wt.removeEventListener("play",this.onPlay),Wt.removeEventListener("waiting",this.onBuffer),Wt.removeEventListener("playing",this.onBufferEnd),Wt.removeEventListener("pause",this.onPause),Wt.removeEventListener("seeked",this.onSeek),Wt.removeEventListener("ended",this.onEnded),Wt.removeEventListener("error",this.onError),Wt.removeEventListener("ratechange",this.onPlayBackRateChange),Wt.removeEventListener("enterpictureinpicture",this.onEnablePIP),Wt.removeEventListener("leavepictureinpicture",this.onDisablePIP),Wt.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(nr)||Wt.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(Wt){return Wt.config.forceVideo||Wt.config.attributes.poster?!1:nt.AUDIO_EXTENSIONS.test(Wt.url)||Wt.config.forceAudio}},{key:"shouldUseHLS",value:function(Wt){return this.props.config.forceHLS||Ft&&this.props.config.forceSafariHLS?!0:Bt?!1:nt.HLS_EXTENSIONS.test(Wt)||jt.test(Wt)}},{key:"shouldUseDASH",value:function(Wt){return nt.DASH_EXTENSIONS.test(Wt)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(Wt){return nt.FLV_EXTENSIONS.test(Wt)||this.props.config.forceFLV}},{key:"load",value:function(Wt){var nr=this,sr=this.props.config,lr=sr.hlsVersion,dr=sr.hlsOptions,hr=sr.dashVersion,wr=sr.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(Wt)&&(0,rt.getSDK)(Lt.replace("VERSION",lr),wt).then(function(pr){if(nr.hls=new pr(dr),nr.hls.on(pr.Events.MANIFEST_PARSED,function(){nr.props.onReady()}),nr.hls.on(pr.Events.ERROR,function(mr,Er){nr.props.onError(mr,Er,nr.hls,pr)}),jt.test(Wt)){var _r=Wt.match(jt)[1];nr.hls.loadSource(Kt.replace("{id}",_r))}else nr.hls.loadSource(Wt);nr.hls.attachMedia(nr.player),nr.props.onLoaded()}),this.shouldUseDASH(Wt)&&(0,rt.getSDK)(Dt.replace("VERSION",hr),Ot).then(function(pr){nr.dash=pr.MediaPlayer().create(),nr.dash.initialize(nr.player,Wt,nr.props.playing),nr.dash.on("error",nr.props.onError),parseInt(hr)<3?nr.dash.getDebug().setLogToBrowserConsole(!1):nr.dash.updateSettings({debug:{logLevel:pr.Debug.LOG_LEVEL_NONE}}),nr.props.onLoaded()}),this.shouldUseFLV(Wt)&&(0,rt.getSDK)(Ut.replace("VERSION",wr),zt).then(function(pr){nr.flv=pr.createPlayer({type:"flv",url:Wt}),nr.flv.attachMediaElement(nr.player),nr.flv.on(pr.Events.ERROR,function(_r,mr){nr.props.onError(_r,mr,nr.flv,pr)}),nr.flv.load(),nr.props.onLoaded()}),Wt instanceof Array)this.player.load();else if((0,rt.isMediaStream)(Wt))try{this.player.srcObject=Wt}catch{this.player.src=window.URL.createObjectURL(Wt)}}},{key:"play",value:function(){var Wt=this.player.play();Wt&&Wt.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(Wt){this.player.currentTime=Wt}},{key:"setVolume",value:function(Wt){this.player.volume=Wt}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,rt.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,rt.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(Wt){try{this.player.playbackRate=Wt}catch(nr){this.props.onError(nr)}}},{key:"getDuration",value:function(){if(!this.player)return null;var Wt=this.player,nr=Wt.duration,sr=Wt.seekable;return nr===1/0&&sr.length>0?sr.end(sr.length-1):nr}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var Wt=this.player.buffered;if(Wt.length===0)return 0;var nr=Wt.end(Wt.length-1),sr=this.getDuration();return nr>sr?sr:nr}},{key:"getSource",value:function(Wt){var nr=this.shouldUseHLS(Wt),sr=this.shouldUseDASH(Wt),lr=this.shouldUseFLV(Wt);if(!(Wt instanceof Array||(0,rt.isMediaStream)(Wt)||nr||sr||lr))return tr.test(Wt)?Wt.replace("www.dropbox.com","dl.dropboxusercontent.com"):Wt}},{key:"render",value:function(){var Wt=this.props,nr=Wt.url,sr=Wt.playing,lr=Wt.loop,dr=Wt.controls,hr=Wt.muted,wr=Wt.config,pr=Wt.width,_r=Wt.height,mr=this.shouldUseAudio(this.props),Er=mr?"audio":"video",ur={width:pr==="auto"?pr:"100%",height:_r==="auto"?_r:"100%"};return tt.default.createElement(Er,at({ref:this.ref,src:this.getSource(nr),style:ur,preload:"auto",autoPlay:sr||void 0,controls:dr,muted:hr,loop:lr},wr.attributes),nr instanceof Array&&nr.map(this.renderSourceElement),wr.tracks.map(this.renderTrack))}}]),Vt}(tt.Component);et.default=qt,Mt(qt,"displayName","FilePlayer"),Mt(qt,"canPlay",nt.canPlay.file)}(FilePlayer)),FilePlayer}(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var _e=reactExports,tt=utils,rt=patterns;function nt(lt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nt=function(dt){return typeof dt}:nt=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},nt(lt)}function st(){if(typeof WeakMap!="function")return null;var lt=new WeakMap;return st=function(){return lt},lt}function ot(lt){if(lt&&lt.__esModule)return lt;if(lt===null||nt(lt)!=="object"&&typeof lt!="function")return{default:lt};var ft=st();if(ft&&ft.has(lt))return ft.get(lt);var dt={},gt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var pt in lt)if(Object.prototype.hasOwnProperty.call(lt,pt)){var vt=gt?Object.getOwnPropertyDescriptor(lt,pt):null;vt&&(vt.get||vt.set)?Object.defineProperty(dt,pt,vt):dt[pt]=lt[pt]}return dt.default=lt,ft&&ft.set(lt,dt),dt}var at=[{key:"youtube",name:"YouTube",canPlay:rt.canPlay.youtube,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireYouTube())})})},{key:"soundcloud",name:"SoundCloud",canPlay:rt.canPlay.soundcloud,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireSoundCloud())})})},{key:"vimeo",name:"Vimeo",canPlay:rt.canPlay.vimeo,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireVimeo())})})},{key:"facebook",name:"Facebook",canPlay:rt.canPlay.facebook,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireFacebook())})})},{key:"streamable",name:"Streamable",canPlay:rt.canPlay.streamable,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireStreamable())})})},{key:"wistia",name:"Wistia",canPlay:rt.canPlay.wistia,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireWistia())})})},{key:"twitch",name:"Twitch",canPlay:rt.canPlay.twitch,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireTwitch())})})},{key:"dailymotion",name:"DailyMotion",canPlay:rt.canPlay.dailymotion,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireDailyMotion())})})},{key:"mixcloud",name:"Mixcloud",canPlay:rt.canPlay.mixcloud,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireMixcloud())})})},{key:"vidyard",name:"Vidyard",canPlay:rt.canPlay.vidyard,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireVidyard())})})},{key:"kaltura",name:"Kaltura",canPlay:rt.canPlay.kaltura,lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireKaltura())})})},{key:"file",name:"FilePlayer",canPlay:rt.canPlay.file,canEnablePIP:function(ft){return rt.canPlay.file(ft)&&(document.pictureInPictureEnabled||(0,tt.supportsWebKitPresentationMode)())&&!rt.AUDIO_EXTENSIONS.test(ft)},lazyPlayer:(0,_e.lazy)(function(){return Promise.resolve().then(function(){return ot(requireFilePlayer())})})}];et.default=at})(players);var ReactPlayer$1={},safeIsNaN=Number.isNaN||function et(_e){return typeof _e=="number"&&_e!==_e};function isEqual(et,_e){return!!(et===_e||safeIsNaN(et)&&safeIsNaN(_e))}function areInputsEqual(et,_e){if(et.length!==_e.length)return!1;for(var tt=0;tt<et.length;tt++)if(!isEqual(et[tt],_e[tt]))return!1;return!0}function memoizeOne(et,_e){_e===void 0&&(_e=areInputsEqual);var tt,rt=[],nt,st=!1;function ot(){for(var at=[],lt=0;lt<arguments.length;lt++)at[lt]=arguments[lt];return st&&tt===this&&_e(at,rt)||(nt=et.apply(this,at),st=!0,tt=this,rt=at),nt}return ot}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(memoizeOne_esm);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(et,_e){if(et===_e)return!0;if(et&&_e&&typeof et=="object"&&typeof _e=="object"){if(et.constructor!==_e.constructor)return!1;var tt,rt,nt;if(Array.isArray(et)){if(tt=et.length,tt!=_e.length)return!1;for(rt=tt;rt--!==0;)if(!equal(et[rt],_e[rt]))return!1;return!0}var st;if(hasMap&&et instanceof Map&&_e instanceof Map){if(et.size!==_e.size)return!1;for(st=et.entries();!(rt=st.next()).done;)if(!_e.has(rt.value[0]))return!1;for(st=et.entries();!(rt=st.next()).done;)if(!equal(rt.value[1],_e.get(rt.value[0])))return!1;return!0}if(hasSet&&et instanceof Set&&_e instanceof Set){if(et.size!==_e.size)return!1;for(st=et.entries();!(rt=st.next()).done;)if(!_e.has(rt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(et)&&ArrayBuffer.isView(_e)){if(tt=et.length,tt!=_e.length)return!1;for(rt=tt;rt--!==0;)if(et[rt]!==_e[rt])return!1;return!0}if(et.constructor===RegExp)return et.source===_e.source&&et.flags===_e.flags;if(et.valueOf!==Object.prototype.valueOf&&typeof et.valueOf=="function"&&typeof _e.valueOf=="function")return et.valueOf()===_e.valueOf();if(et.toString!==Object.prototype.toString&&typeof et.toString=="function"&&typeof _e.toString=="function")return et.toString()===_e.toString();if(nt=Object.keys(et),tt=nt.length,tt!==Object.keys(_e).length)return!1;for(rt=tt;rt--!==0;)if(!Object.prototype.hasOwnProperty.call(_e,nt[rt]))return!1;if(hasElementType&&et instanceof Element)return!1;for(rt=tt;rt--!==0;)if(!((nt[rt]==="_owner"||nt[rt]==="__v"||nt[rt]==="__o")&&et.$$typeof)&&!equal(et[nt[rt]],_e[nt[rt]]))return!1;return!0}return et!==et&&_e!==_e}var reactFastCompare=function et(_e,tt){try{return equal(_e,tt)}catch(rt){if((rt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw rt}},props={};Object.defineProperty(props,"__esModule",{value:!0});props.defaultProps=props.propTypes=void 0;var _propTypes=_interopRequireDefault$1(propTypesExports);function _interopRequireDefault$1(et){return et&&et.__esModule?et:{default:et}}var string=_propTypes.default.string,bool=_propTypes.default.bool,number=_propTypes.default.number,array=_propTypes.default.array,oneOfType=_propTypes.default.oneOfType,shape=_propTypes.default.shape,object=_propTypes.default.object,func=_propTypes.default.func,node=_propTypes.default.node,propTypes={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func};props.propTypes=propTypes;var noop=function et(){},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop,onStart:noop,onPlay:noop,onPause:noop,onBuffer:noop,onBufferEnd:noop,onEnded:noop,onError:noop,onDuration:noop,onSeek:noop,onPlaybackRateChange:noop,onProgress:noop,onClickPreview:noop,onEnablePIP:noop,onDisablePIP:noop};props.defaultProps=defaultProps;var Player={};(function(et){function _e(Lt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Dt){return typeof Dt}:_e=function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt},_e(Lt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=lt(reactExports),rt=ot(reactFastCompare),nt=props,st=utils;function ot(Lt){return Lt&&Lt.__esModule?Lt:{default:Lt}}function at(){if(typeof WeakMap!="function")return null;var Lt=new WeakMap;return at=function(){return Lt},Lt}function lt(Lt){if(Lt&&Lt.__esModule)return Lt;if(Lt===null||_e(Lt)!=="object"&&typeof Lt!="function")return{default:Lt};var wt=at();if(wt&&wt.has(Lt))return wt.get(Lt);var Dt={},Ot=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ut in Lt)if(Object.prototype.hasOwnProperty.call(Lt,Ut)){var zt=Ot?Object.getOwnPropertyDescriptor(Lt,Ut):null;zt&&(zt.get||zt.set)?Object.defineProperty(Dt,Ut,zt):Dt[Ut]=Lt[Ut]}return Dt.default=Lt,wt&&wt.set(Lt,Dt),Dt}function ft(){return ft=Object.assign||function(Lt){for(var wt=1;wt<arguments.length;wt++){var Dt=arguments[wt];for(var Ot in Dt)Object.prototype.hasOwnProperty.call(Dt,Ot)&&(Lt[Ot]=Dt[Ot])}return Lt},ft.apply(this,arguments)}function dt(Lt,wt){if(!(Lt instanceof wt))throw new TypeError("Cannot call a class as a function")}function gt(Lt,wt){for(var Dt=0;Dt<wt.length;Dt++){var Ot=wt[Dt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Lt,Ot.key,Ot)}}function pt(Lt,wt,Dt){return wt&&gt(Lt.prototype,wt),Dt&&gt(Lt,Dt),Lt}function vt(Lt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Lt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Lt,writable:!0,configurable:!0}}),wt&&St(Lt,wt)}function St(Lt,wt){return St=Object.setPrototypeOf||function(Ot,Ut){return Ot.__proto__=Ut,Ot},St(Lt,wt)}function At(Lt){var wt=Mt();return function(){var Ot=Et(Lt),Ut;if(wt){var zt=Et(this).constructor;Ut=Reflect.construct(Ot,arguments,zt)}else Ut=Ot.apply(this,arguments);return Tt(this,Ut)}}function Tt(Lt,wt){return wt&&(_e(wt)==="object"||typeof wt=="function")?wt:Ct(Lt)}function Ct(Lt){if(Lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lt}function Mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Et(Lt){return Et=Object.setPrototypeOf?Object.getPrototypeOf:function(Dt){return Dt.__proto__||Object.getPrototypeOf(Dt)},Et(Lt)}function Rt(Lt,wt,Dt){return wt in Lt?Object.defineProperty(Lt,wt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}):Lt[wt]=Dt,Lt}var Bt=5e3,Ft=function(Lt){vt(Dt,Lt);var wt=At(Dt);function Dt(){var Ot;dt(this,Dt);for(var Ut=arguments.length,zt=new Array(Ut),tr=0;tr<Ut;tr++)zt[tr]=arguments[tr];return Ot=wt.call.apply(wt,[this].concat(zt)),Rt(Ct(Ot),"mounted",!1),Rt(Ct(Ot),"isReady",!1),Rt(Ct(Ot),"isPlaying",!1),Rt(Ct(Ot),"isLoading",!0),Rt(Ct(Ot),"loadOnReady",null),Rt(Ct(Ot),"startOnPlay",!0),Rt(Ct(Ot),"seekOnPlay",null),Rt(Ct(Ot),"onDurationCalled",!1),Rt(Ct(Ot),"handlePlayerMount",function(jt){if(Ot.player){Ot.progress();return}Ot.player=jt,Ot.player.load(Ot.props.url),Ot.progress()}),Rt(Ct(Ot),"getInternalPlayer",function(jt){return Ot.player?Ot.player[jt]:null}),Rt(Ct(Ot),"progress",function(){if(Ot.props.url&&Ot.player&&Ot.isReady){var jt=Ot.getCurrentTime()||0,Kt=Ot.getSecondsLoaded(),qt=Ot.getDuration();if(qt){var er={playedSeconds:jt,played:jt/qt};Kt!==null&&(er.loadedSeconds=Kt,er.loaded=Kt/qt),(er.playedSeconds!==Ot.prevPlayed||er.loadedSeconds!==Ot.prevLoaded)&&Ot.props.onProgress(er),Ot.prevPlayed=er.playedSeconds,Ot.prevLoaded=er.loadedSeconds}}Ot.progressTimeout=setTimeout(Ot.progress,Ot.props.progressFrequency||Ot.props.progressInterval)}),Rt(Ct(Ot),"handleReady",function(){if(Ot.mounted){Ot.isReady=!0,Ot.isLoading=!1;var jt=Ot.props,Kt=jt.onReady,qt=jt.playing,er=jt.volume,kt=jt.muted;Kt(),!kt&&er!==null&&Ot.player.setVolume(er),Ot.loadOnReady?(Ot.player.load(Ot.loadOnReady,!0),Ot.loadOnReady=null):qt&&Ot.player.play(),Ot.handleDurationCheck()}}),Rt(Ct(Ot),"handlePlay",function(){Ot.isPlaying=!0,Ot.isLoading=!1;var jt=Ot.props,Kt=jt.onStart,qt=jt.onPlay,er=jt.playbackRate;Ot.startOnPlay&&(Ot.player.setPlaybackRate&&er!==1&&Ot.player.setPlaybackRate(er),Kt(),Ot.startOnPlay=!1),qt(),Ot.seekOnPlay&&(Ot.seekTo(Ot.seekOnPlay),Ot.seekOnPlay=null),Ot.handleDurationCheck()}),Rt(Ct(Ot),"handlePause",function(jt){Ot.isPlaying=!1,Ot.isLoading||Ot.props.onPause(jt)}),Rt(Ct(Ot),"handleEnded",function(){var jt=Ot.props,Kt=jt.activePlayer,qt=jt.loop,er=jt.onEnded;Kt.loopOnEnded&&qt&&Ot.seekTo(0),qt||(Ot.isPlaying=!1,er())}),Rt(Ct(Ot),"handleError",function(){var jt;Ot.isLoading=!1,(jt=Ot.props).onError.apply(jt,arguments)}),Rt(Ct(Ot),"handleDurationCheck",function(){clearTimeout(Ot.durationCheckTimeout);var jt=Ot.getDuration();jt?Ot.onDurationCalled||(Ot.props.onDuration(jt),Ot.onDurationCalled=!0):Ot.durationCheckTimeout=setTimeout(Ot.handleDurationCheck,100)}),Rt(Ct(Ot),"handleLoaded",function(){Ot.isLoading=!1}),Ot}return pt(Dt,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(Ut){var zt=this;if(this.player){var tr=this.props,jt=tr.url,Kt=tr.playing,qt=tr.volume,er=tr.muted,kt=tr.playbackRate,Vt=tr.pip,Zt=tr.loop,Wt=tr.activePlayer,nr=tr.disableDeferredLoading;if(!(0,rt.default)(Ut.url,jt)){if(this.isLoading&&!Wt.forceLoad&&!nr&&!(0,st.isMediaStream)(jt)){console.warn("ReactPlayer: the attempt to load ".concat(jt," is being deferred until the player has loaded")),this.loadOnReady=jt;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(jt,this.isReady)}!Ut.playing&&Kt&&!this.isPlaying&&this.player.play(),Ut.playing&&!Kt&&this.isPlaying&&this.player.pause(),!Ut.pip&&Vt&&this.player.enablePIP&&this.player.enablePIP(),Ut.pip&&!Vt&&this.player.disablePIP&&this.player.disablePIP(),Ut.volume!==qt&&qt!==null&&this.player.setVolume(qt),Ut.muted!==er&&(er?this.player.mute():(this.player.unmute(),qt!==null&&setTimeout(function(){return zt.player.setVolume(qt)}))),Ut.playbackRate!==kt&&this.player.setPlaybackRate&&this.player.setPlaybackRate(kt),Ut.loop!==Zt&&this.player.setLoop&&this.player.setLoop(Zt)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(Ut,zt){var tr=this;if(!this.isReady){Ut!==0&&(this.seekOnPlay=Ut,setTimeout(function(){tr.seekOnPlay=null},Bt));return}var jt=zt?zt==="fraction":Ut>0&&Ut<1;if(jt){var Kt=this.player.getDuration();if(!Kt){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(Kt*Ut);return}this.player.seekTo(Ut)}},{key:"render",value:function(){var Ut=this.props.activePlayer;return Ut?tt.default.createElement(Ut,ft({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),Dt}(tt.Component);et.default=Ft,Rt(Ft,"displayName","Player"),Rt(Ft,"propTypes",nt.propTypes),Rt(Ft,"defaultProps",nt.defaultProps)})(Player);var Preview$1={},hasRequiredPreview;function requirePreview(){return hasRequiredPreview||(hasRequiredPreview=1,function(et){function _e(Bt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(Lt){return typeof Lt}:_e=function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt},_e(Bt)}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var tt=nt(reactExports);function rt(){if(typeof WeakMap!="function")return null;var Bt=new WeakMap;return rt=function(){return Bt},Bt}function nt(Bt){if(Bt&&Bt.__esModule)return Bt;if(Bt===null||_e(Bt)!=="object"&&typeof Bt!="function")return{default:Bt};var Ft=rt();if(Ft&&Ft.has(Bt))return Ft.get(Bt);var Lt={},wt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Dt in Bt)if(Object.prototype.hasOwnProperty.call(Bt,Dt)){var Ot=wt?Object.getOwnPropertyDescriptor(Bt,Dt):null;Ot&&(Ot.get||Ot.set)?Object.defineProperty(Lt,Dt,Ot):Lt[Dt]=Bt[Dt]}return Lt.default=Bt,Ft&&Ft.set(Bt,Lt),Lt}function st(Bt,Ft){var Lt=Object.keys(Bt);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(Bt);Ft&&(wt=wt.filter(function(Dt){return Object.getOwnPropertyDescriptor(Bt,Dt).enumerable})),Lt.push.apply(Lt,wt)}return Lt}function ot(Bt){for(var Ft=1;Ft<arguments.length;Ft++){var Lt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?st(Object(Lt),!0).forEach(function(wt){Ct(Bt,wt,Lt[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Bt,Object.getOwnPropertyDescriptors(Lt)):st(Object(Lt)).forEach(function(wt){Object.defineProperty(Bt,wt,Object.getOwnPropertyDescriptor(Lt,wt))})}return Bt}function at(Bt,Ft){if(!(Bt instanceof Ft))throw new TypeError("Cannot call a class as a function")}function lt(Bt,Ft){for(var Lt=0;Lt<Ft.length;Lt++){var wt=Ft[Lt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Bt,wt.key,wt)}}function ft(Bt,Ft,Lt){return Ft&&lt(Bt.prototype,Ft),Lt&&lt(Bt,Lt),Bt}function dt(Bt,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Ft&&gt(Bt,Ft)}function gt(Bt,Ft){return gt=Object.setPrototypeOf||function(wt,Dt){return wt.__proto__=Dt,wt},gt(Bt,Ft)}function pt(Bt){var Ft=At();return function(){var wt=Tt(Bt),Dt;if(Ft){var Ot=Tt(this).constructor;Dt=Reflect.construct(wt,arguments,Ot)}else Dt=wt.apply(this,arguments);return vt(this,Dt)}}function vt(Bt,Ft){return Ft&&(_e(Ft)==="object"||typeof Ft=="function")?Ft:St(Bt)}function St(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Tt(Bt){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(Lt){return Lt.__proto__||Object.getPrototypeOf(Lt)},Tt(Bt)}function Ct(Bt,Ft,Lt){return Ft in Bt?Object.defineProperty(Bt,Ft,{value:Lt,enumerable:!0,configurable:!0,writable:!0}):Bt[Ft]=Lt,Bt}var Mt="64px",Et={},Rt=function(Bt){dt(Lt,Bt);var Ft=pt(Lt);function Lt(){var wt;at(this,Lt);for(var Dt=arguments.length,Ot=new Array(Dt),Ut=0;Ut<Dt;Ut++)Ot[Ut]=arguments[Ut];return wt=Ft.call.apply(Ft,[this].concat(Ot)),Ct(St(wt),"mounted",!1),Ct(St(wt),"state",{image:null}),Ct(St(wt),"handleKeyPress",function(zt){(zt.key==="Enter"||zt.key===" ")&&wt.props.onClick()}),wt}return ft(Lt,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(Dt){var Ot=this.props,Ut=Ot.url,zt=Ot.light;(Dt.url!==Ut||Dt.light!==zt)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(Dt){var Ot=this,Ut=Dt.url,zt=Dt.light,tr=Dt.oEmbedUrl;if(!tt.default.isValidElement(zt)){if(typeof zt=="string"){this.setState({image:zt});return}if(Et[Ut]){this.setState({image:Et[Ut]});return}return this.setState({image:null}),window.fetch(tr.replace("{url}",Ut)).then(function(jt){return jt.json()}).then(function(jt){if(jt.thumbnail_url&&Ot.mounted){var Kt=jt.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");Ot.setState({image:Kt}),Et[Ut]=Kt}})}}},{key:"render",value:function(){var Dt=this.props,Ot=Dt.light,Ut=Dt.onClick,zt=Dt.playIcon,tr=Dt.previewTabIndex,jt=this.state.image,Kt=tt.default.isValidElement(Ot),qt={display:"flex",alignItems:"center",justifyContent:"center"},er={preview:ot({width:"100%",height:"100%",backgroundImage:jt&&!Kt?"url(".concat(jt,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},qt),shadow:ot({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:Mt,width:Mt,height:Mt,position:Kt?"absolute":void 0},qt),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},kt=tt.default.createElement("div",{style:er.shadow,className:"react-player__shadow"},tt.default.createElement("div",{style:er.playIcon,className:"react-player__play-icon"}));return tt.default.createElement("div",{style:er.preview,className:"react-player__preview",onClick:Ut,tabIndex:tr,onKeyPress:this.handleKeyPress},Kt?Ot:null,zt||kt)}}]),Lt}(tt.Component);et.default=Rt}(Preview$1)),Preview$1}Object.defineProperty(ReactPlayer$1,"__esModule",{value:!0});ReactPlayer$1.createReactPlayer=void 0;var _react=_interopRequireWildcard(reactExports),_deepmerge=_interopRequireDefault(cjs),_memoizeOne=_interopRequireDefault(require$$2),_reactFastCompare=_interopRequireDefault(reactFastCompare),_props=props,_utils=utils,_Player3=_interopRequireDefault(Player);function _interopRequireDefault(et){return et&&et.__esModule?et:{default:et}}function _typeof(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(tt){return typeof tt}:_typeof=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(et)}function ownKeys(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(et);_e&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(tt),!0).forEach(function(rt){_defineProperty(et,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(rt){Object.defineProperty(et,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return et}function _extends(){return _extends=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends.apply(this,arguments)}function _toConsumableArray(et){return _arrayWithoutHoles(et)||_iterableToArray(et)||_unsupportedIterableToArray(et)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(et,_e){if(et){if(typeof et=="string")return _arrayLikeToArray(et,_e);var tt=Object.prototype.toString.call(et).slice(8,-1);if(tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set")return Array.from(et);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray(et,_e)}}function _iterableToArray(et){if(typeof Symbol<"u"&&Symbol.iterator in Object(et))return Array.from(et)}function _arrayWithoutHoles(et){if(Array.isArray(et))return _arrayLikeToArray(et)}function _arrayLikeToArray(et,_e){(_e==null||_e>et.length)&&(_e=et.length);for(var tt=0,rt=new Array(_e);tt<_e;tt++)rt[tt]=et[tt];return rt}function _classCallCheck(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(et,_e){for(var tt=0;tt<_e.length;tt++){var rt=_e[tt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(et,rt.key,rt)}}function _createClass(et,_e,tt){return _e&&_defineProperties(et.prototype,_e),tt&&_defineProperties(et,tt),et}function _inherits(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),_e&&_setPrototypeOf(et,_e)}function _setPrototypeOf(et,_e){return _setPrototypeOf=Object.setPrototypeOf||function(rt,nt){return rt.__proto__=nt,rt},_setPrototypeOf(et,_e)}function _createSuper(et){var _e=_isNativeReflectConstruct();return function(){var rt=_getPrototypeOf(et),nt;if(_e){var st=_getPrototypeOf(this).constructor;nt=Reflect.construct(rt,arguments,st)}else nt=rt.apply(this,arguments);return _possibleConstructorReturn(this,nt)}}function _possibleConstructorReturn(et,_e){return _e&&(_typeof(_e)==="object"||typeof _e=="function")?_e:_assertThisInitialized(et)}function _assertThisInitialized(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(et){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(tt){return tt.__proto__||Object.getPrototypeOf(tt)},_getPrototypeOf(et)}function _defineProperty(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _getRequireWildcardCache(){if(typeof WeakMap!="function")return null;var et=new WeakMap;return _getRequireWildcardCache=function(){return et},et}function _interopRequireWildcard(et){if(et&&et.__esModule)return et;if(et===null||_typeof(et)!=="object"&&typeof et!="function")return{default:et};var _e=_getRequireWildcardCache();if(_e&&_e.has(et))return _e.get(et);var tt={},rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){var st=rt?Object.getOwnPropertyDescriptor(et,nt):null;st&&(st.get||st.set)?Object.defineProperty(tt,nt,st):tt[nt]=et[nt]}return tt.default=et,_e&&_e.set(et,tt),tt}var Preview=(0,_react.lazy)(function(){return Promise.resolve().then(function(){return _interopRequireWildcard(requirePreview())})}),IS_BROWSER=typeof window<"u"&&window.document,IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?_react.Suspense:function(){return null},customPlayers=[],createReactPlayer=function et(_e,tt){var rt,nt;return nt=rt=function(st){_inherits(at,st);var ot=_createSuper(at);function at(){var lt;_classCallCheck(this,at);for(var ft=arguments.length,dt=new Array(ft),gt=0;gt<ft;gt++)dt[gt]=arguments[gt];return lt=ot.call.apply(ot,[this].concat(dt)),_defineProperty(_assertThisInitialized(lt),"state",{showPreview:!!lt.props.light}),_defineProperty(_assertThisInitialized(lt),"references",{wrapper:function(vt){lt.wrapper=vt},player:function(vt){lt.player=vt}}),_defineProperty(_assertThisInitialized(lt),"handleClickPreview",function(pt){lt.setState({showPreview:!1}),lt.props.onClickPreview(pt)}),_defineProperty(_assertThisInitialized(lt),"showPreview",function(){lt.setState({showPreview:!0})}),_defineProperty(_assertThisInitialized(lt),"getDuration",function(){return lt.player?lt.player.getDuration():null}),_defineProperty(_assertThisInitialized(lt),"getCurrentTime",function(){return lt.player?lt.player.getCurrentTime():null}),_defineProperty(_assertThisInitialized(lt),"getSecondsLoaded",function(){return lt.player?lt.player.getSecondsLoaded():null}),_defineProperty(_assertThisInitialized(lt),"getInternalPlayer",function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return lt.player?lt.player.getInternalPlayer(pt):null}),_defineProperty(_assertThisInitialized(lt),"seekTo",function(pt,vt){if(!lt.player)return null;lt.player.seekTo(pt,vt)}),_defineProperty(_assertThisInitialized(lt),"handleReady",function(){lt.props.onReady(_assertThisInitialized(lt))}),_defineProperty(_assertThisInitialized(lt),"getActivePlayer",(0,_memoizeOne.default)(function(pt){for(var vt=0,St=[].concat(customPlayers,_toConsumableArray(_e));vt<St.length;vt++){var At=St[vt];if(At.canPlay(pt))return At}return tt||null})),_defineProperty(_assertThisInitialized(lt),"getConfig",(0,_memoizeOne.default)(function(pt,vt){var St=lt.props.config;return _deepmerge.default.all([_props.defaultProps.config,_props.defaultProps.config[vt]||{},St,St[vt]||{}])})),_defineProperty(_assertThisInitialized(lt),"getAttributes",(0,_memoizeOne.default)(function(pt){return(0,_utils.omit)(lt.props,SUPPORTED_PROPS)})),_defineProperty(_assertThisInitialized(lt),"renderActivePlayer",function(pt){if(!pt)return null;var vt=lt.getActivePlayer(pt);if(!vt)return null;var St=lt.getConfig(pt,vt.key);return _react.default.createElement(_Player3.default,_extends({},lt.props,{key:vt.key,ref:lt.references.player,config:St,activePlayer:vt.lazyPlayer||vt,onReady:lt.handleReady}))}),lt}return _createClass(at,[{key:"shouldComponentUpdate",value:function(ft,dt){return!(0,_reactFastCompare.default)(this.props,ft)||!(0,_reactFastCompare.default)(this.state,dt)}},{key:"componentDidUpdate",value:function(ft){var dt=this.props.light;!ft.light&&dt&&this.setState({showPreview:!0}),ft.light&&!dt&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(ft){if(!ft)return null;var dt=this.props,gt=dt.light,pt=dt.playIcon,vt=dt.previewTabIndex,St=dt.oEmbedUrl;return _react.default.createElement(Preview,{url:ft,light:gt,playIcon:pt,previewTabIndex:vt,oEmbedUrl:St,onClick:this.handleClickPreview})}},{key:"render",value:function(){var ft=this.props,dt=ft.url,gt=ft.style,pt=ft.width,vt=ft.height,St=ft.fallback,At=ft.wrapper,Tt=this.state.showPreview,Ct=this.getAttributes(dt),Mt=typeof At=="string"?this.references.wrapper:void 0;return _react.default.createElement(At,_extends({ref:Mt,style:_objectSpread(_objectSpread({},gt),{},{width:pt,height:vt})},Ct),_react.default.createElement(UniversalSuspense,{fallback:St},Tt?this.renderPreview(dt):this.renderActivePlayer(dt)))}}]),at}(_react.Component),_defineProperty(rt,"displayName","ReactPlayer"),_defineProperty(rt,"propTypes",_props.propTypes),_defineProperty(rt,"defaultProps",_props.defaultProps),_defineProperty(rt,"addCustomPlayer",function(st){customPlayers.push(st)}),_defineProperty(rt,"removeCustomPlayers",function(){customPlayers.length=0}),_defineProperty(rt,"canPlay",function(st){for(var ot=0,at=[].concat(customPlayers,_toConsumableArray(_e));ot<at.length;ot++){var lt=at[ot];if(lt.canPlay(st))return!0}return!1}),_defineProperty(rt,"canEnablePIP",function(st){for(var ot=0,at=[].concat(customPlayers,_toConsumableArray(_e));ot<at.length;ot++){var lt=at[ot];if(lt.canEnablePIP&&lt.canEnablePIP(st))return!0}return!1}),nt};ReactPlayer$1.createReactPlayer=createReactPlayer;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var _e=rt(players),tt=ReactPlayer$1;function rt(ot){return ot&&ot.__esModule?ot:{default:ot}}var nt=_e.default[_e.default.length-1],st=(0,tt.createReactPlayer)(_e.default,nt);et.default=st})(lib);const ReactPlayer=getDefaultExportFromCjs(lib);extend({UnrealBloomPass,VignetteShader});function processData(et){let _e=[];return et.items.forEach(tt=>{console.log(tt);let rt={};const{fields:nt,metadata:st,sys:ot}=tt;let{title:at,subtitle:lt,description:ft,image:dt,otherImages:gt,whatsappNumber:pt,linkedIn:vt}=nt,St=nt.video||!1;console.log(nt);let At,Tt;At=ot.contentType.sys.id,At=="sectionCopy"&&(Tt=nt.section);let{id:Ct}=ot;const Mt=({children:Ft})=>jsxRuntimeExports.jsx("p",{className:"bold",children:Ft}),Et=({children:Ft})=>jsxRuntimeExports.jsx("p",{className:"align-center",children:Ft}),Rt={renderMark:{[dist.MARKS.BOLD]:Ft=>jsxRuntimeExports.jsx(Mt,{children:Ft})},renderNode:{[dist.BLOCKS.PARAGRAPH]:(Ft,Lt)=>jsxRuntimeExports.jsx(Et,{children:Lt})},renderText:Ft=>Ft.replace("!","?")};richTextReactRenderer_es5.documentToReactComponents(ft,Rt);let Bt=ft.content;ft=ft.content[0],ft.content[0].value?ft=ft.content[0].value:ft="",rt.title=at,rt.subTitle=lt,rt.description=ft,rt.descriptionArr=Bt,rt.image=dt,rt.section=toTitleCase(At),rt.otherImages=gt,rt.ring=Tt,rt.id=Ct,rt.video=St,rt.whatsapp=pt,rt.linkedIn=vt,_e.push(rt)}),_e}function toTitleCase(et){return et.replace(/\w\S*/g,function(_e){return _e.charAt(0).toUpperCase()+_e.substr(1).toLowerCase()})}function QRPanel(){return jsxRuntimeExports.jsx("div",{className:"custom-loader pointer-events-none absolute  z-[60]  flex h-full w-full items-center justify-center  transition-all delay-[200ms] duration-[800ms] ease-in-out",children:jsxRuntimeExports.jsx("div",{className:"mt-64 flex justify-center bg-black bg-opacity-30 p-12",children:jsxRuntimeExports.jsx("div",{className:"bg-white p-2",children:jsxRuntimeExports.jsx(QRCodeSVG,{value:"hireco.co.uk"})})})})}function App(){const et=appState(Lt=>Lt.activeRing),_e=appState(Lt=>Lt.fetchData,shallow$1),tt=appState(Lt=>Lt.activeTile),rt=appState(Lt=>Lt.getUniverseStores),nt=appState(Lt=>Lt.setFetchData),st=appState(Lt=>Lt.maxDistance,shallow$1),ot=appState(Lt=>Lt.boundsMargin,shallow$1),at=appState(Lt=>Lt.activeVideo,shallow$1),lt=appState(Lt=>Lt.setLoaded),ft=appState(Lt=>Lt.qrPanel,shallow$1),dt=appState(Lt=>Lt.currentView,shallow$1);rt();const gt=reactExports.useRef(),pt=reactExports.useRef(),vt=reactExports.useRef();reactExports.useRef(),reactExports.useState(.5),reactExports.useState(1);const{progress:St}=useProgress();reactExports.useEffect(()=>{},[dt]),reactExports.useEffect(()=>{St==100&&setTimeout(()=>{lt(!0)},3e3)},[St]);const{isLoading:At,error:Tt,data:Ct}=useQuery({queryKey:["repoData"],queryFn:()=>fetch("https://cdn.contentful.com/spaces/ndcfmypd0yep/environments/master/entries?access_token=YZXIc9fW0cmy7ymmmZGQ6k8W2vO76zG3XIvsoccZLE8").then(Lt=>Lt.json())});reactExports.useEffect(()=>{Ct&&nt(processData(Ct))},[Ct]),reactExports.useEffect(()=>{!vt||!vt.current||(tt?vt.current.enableZoom=!1:vt.current.enableZoom=!0)},[tt]);const[Mt,Et]=reactExports.useState(!1);reactExports.useEffect(()=>{console.log("change active video"),tt?_e.filter(Lt=>Lt.id==tt)[0].video&&(console.log("show play button"),setTimeout(()=>{console.log("async"),Et(!0)},1250)):Et(!1)},[tt]);const[Rt,Bt]=reactExports.useState(!1),Ft=useFullScreenHandle();return reactExports.useEffect(()=>{Rt?(console.log("enter"),Ft.enter()):Ft.exit()},[Rt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(FullScreen,{handle:Ft,children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0",children:jsxRuntimeExports.jsx("div",{className:"fullscreen-icon relative z-[60] cursor-pointer p-4",onClick:()=>{Bt(!Rt)},children:Rt?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",children:jsxRuntimeExports.jsx("path",{id:"Icon_open-fullscreen-exit","data-name":"Icon open-fullscreen-exit",d:"M4.5,0,0,4.5l6.75,6.75L0,18H18V0L11.25,6.75ZM18,18V36l6.75-6.75L31.5,36,36,31.5l-6.75-6.75L36,18Z",fill:"#fff"})}):jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",children:jsxRuntimeExports.jsx("path",{id:"Icon_open-fullscreen-enter","data-name":"Icon open-fullscreen-enter",d:"M0,0V18l6.75-6.75L13.5,18,18,13.5,11.25,6.75,18,0ZM22.5,18,18,22.5l6.75,6.75L18,36H36V18l-6.75,6.75Z",fill:"#fff"})})})}),et!="none"&&!at?jsxRuntimeExports.jsx(ContentOverlay,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),Mt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(PlayButton,{})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),at?jsxRuntimeExports.jsx(VideoOverlay,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx(WelcomeToUniverse,{}),jsxRuntimeExports.jsx(ConsoleLogger,{}),jsxRuntimeExports.jsx(CustomLoader,{}),ft?jsxRuntimeExports.jsx(QRPanel,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),_e&&jsxRuntimeExports.jsxs(Canvas,{className:"relative",style:{height:"100vh"},children:[jsxRuntimeExports.jsx(Perf,{}),jsxRuntimeExports.jsxs("group",{ref:gt,children:[jsxRuntimeExports.jsx("ambientLight",{intensity:2}),jsxRuntimeExports.jsx(PerspectiveCamera,{ref:pt,aspect:window.innerWidth/window.innerHeight,fov:60,position:[-500,-500,-500],makeDefault:!0}),jsxRuntimeExports.jsx(OrbitControls,{makeDefault:!0,minPolarAngle:.5,maxPolarAngle:Math.PI/2,minDistance:5,maxDistance:st,ref:vt,enablePan:!1}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx(Environment,{files:"./environment/nedula.hdr",background:!0,blur:.05,rotation:5}),jsxRuntimeExports.jsx("color",{attach:"background",args:["#191920"],opacity:1}),jsxRuntimeExports.jsx("hemisphereLight",{color:"white",groundColor:"#ff0f00",position:[-7,25,13],intensity:1}),jsxRuntimeExports.jsx(Bounds,{damping:3,margin:ot})]})]})]})]})})}function VideoOverlay(){const et=appState(tt=>tt.setActiveVideo),_e=appState(tt=>tt.activeVideo);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:" absolute z-50  h-screen w-screen",children:jsxRuntimeExports.jsxs("div",{className:" flex  h-full w-full items-center justify-start pl-24",children:[jsxRuntimeExports.jsx(ReactPlayer,{url:"./images/"+_e,playing:!0,className:"relative z-20 w-[50%]",width:"50%",height:"auto",controls:!0,loop:!0}),jsxRuntimeExports.jsx("div",{className:"backdrop absolute top-0 left-0 z-10 h-full w-full bg-black bg-opacity-50 ",onClick:()=>{console.log("activeVideoChange"),et(null)}})]})})})}function WelcomeToUniverse(){const et=appState(tt=>tt.setCurrentView),_e=appState(tt=>tt.currentView,shallow$1);return jsxRuntimeExports.jsx("div",{className:` absolute z-50 h-screen w-screen bg-black bg-opacity-60 text-white transition-opacity ${_e!="idle"?"pointer-events-none opacity-0":""}`,onClick:()=>et("main"),children:jsxRuntimeExports.jsx("div",{className:"flex h-full flex-col justify-end pl-[10vw] pb-[10vh]",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-start text-left ",children:[jsxRuntimeExports.jsx("p",{class:"text-[8em] font-bold uppercase text-orange-500",children:"WELCOME TO"}),jsxRuntimeExports.jsx("p",{class:"text-[4.75em] font-bold uppercase",children:"THE HIRECO UNIVERSE"}),jsxRuntimeExports.jsx("p",{class:"pt-3  text-[2.33em] font-bold uppercase ",children:"YOUR DIGITAL TRANSPORT SOLUTION AWAITS"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-start pt-12 align-middle ",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.714",height:"31.438",viewBox:"0 0 30.714 31.438",children:jsxRuntimeExports.jsx("path",{id:"Icon_material-touch-app","data-name":"Icon material-touch-app",d:"M12.326,14.584V10.007a3.059,3.059,0,1,1,6.119,0v4.577a5.507,5.507,0,1,0-6.119,0ZM24.368,20.25l-5.556-2.766a1.723,1.723,0,0,0-.661-.135h-.93V10.007a1.836,1.836,0,1,0-3.671,0V23.15l-4.2-.881a2.139,2.139,0,0,0-.294-.037,1.369,1.369,0,0,0-.967.4l-.967.979L13.17,29.66a1.842,1.842,0,0,0,1.3.538h8.309a1.782,1.782,0,0,0,1.762-1.566l.918-6.449a1.759,1.759,0,0,0-1.089-1.934Z",transform:"translate(14.435 -8.071) rotate(41)",fill:"#fff"})}),jsxRuntimeExports.jsx("p",{class:"pl-3 text-[2.5em] font-thin uppercase",children:"Tap to explore"})]})]})})})}function ContentOverlay(et){const _e=appState(vt=>vt.setActiveRing),tt=appState(vt=>vt.setCurrentView),rt=appState(vt=>vt.setActiveTile),nt=appState(vt=>vt.activeRing,shallow$1),st=appState(vt=>vt.activeTile,shallow$1),ot=appState(vt=>vt.currentView,shallow$1),at=appState(vt=>vt.updateBounds,shallow$1);appState(vt=>vt.activeVideo,shallow$1),appState(vt=>vt.focusElementRef,shallow$1);const lt=appState(vt=>vt.setActiveVideo,shallow$1),ft=appState(vt=>vt.setFocusElementRef),dt=appState(vt=>vt.ringNames),gt=appState(vt=>vt.setQrPanel);return appState(vt=>vt.fetchData,shallow$1).filter(vt=>vt.id==st)[0],jsxRuntimeExports.jsx("div",{className:"wrap grad-left pointer-events-none absolute  z-40 flex h-screen w-1/2 items-center pl-10 pr-[30%] ",children:jsxRuntimeExports.jsxs("div",{className:"content flex h-full flex-col justify-around text-white",children:[jsxRuntimeExports.jsxs("div",{className:"back pointer-events-auto flex cursor-pointer pb-6 pt-6",onClick:()=>{if(st){rt(null),ft(null),lt(null),gt(null);let[vt,St,At]=[cameraPositionsStore.focus[nt].position.x,cameraPositionsStore.focus[nt].position.y,cameraPositionsStore.focus[nt].position.z],[Tt,Ct,Mt]=[cameraPositionsStore.focus[nt].target.x,cameraPositionsStore.focus[nt].target.y,cameraPositionsStore.focus[nt].target.z];at({position:{xPos:vt,yPos:St,zPos:At},target:{xTar:Tt,yTar:Ct,zTar:Mt}})}else _e("none"),tt("main"),rt(null),ft(null),lt(null),gt(null)},children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40.681",height:"18",viewBox:"0 0 40.681 18",children:jsxRuntimeExports.jsxs("g",{id:"Group_1","data-name":"Group 1",transform:"translate(-109.319 -43.115)",children:[jsxRuntimeExports.jsxs("g",{id:"Icon_ionic-ios-planet","data-name":"Icon ionic-ios-planet",transform:"translate(117.378 34.115)",children:[jsxRuntimeExports.jsx("path",{id:"Path_1","data-name":"Path 1",d:"M32.52,24.771a4.139,4.139,0,0,0-.8-1.287,26.5,26.5,0,0,0-3.853-3.319.341.341,0,0,0-.527.162l-.33.942a.34.34,0,0,0,.12.387,18.511,18.511,0,0,1,2.939,2.524.262.262,0,0,1-.274.408,30.239,30.239,0,0,1-3.108-.9c-.6-.218-1.245-.471-1.913-.745a8.375,8.375,0,0,0-.872-11.18,8.6,8.6,0,0,0-11-.717A8.458,8.458,0,0,0,10.048,14.7c-.584-.422-1.132-.837-1.631-1.238A17.582,17.582,0,0,1,5.7,11.025c-.155-.2.063-.471.309-.415A39.946,39.946,0,0,1,9.97,11.939a.309.309,0,0,0,.316-.056l.78-.71a.3.3,0,0,0-.091-.506A19.85,19.85,0,0,0,5.147,9a1.734,1.734,0,0,0-1.638.731c-.534.935.5,2.475,3.171,4.7a65.483,65.483,0,0,0,9.6,6.469c6.152,3.452,12.03,5.7,14.625,5.7a1.652,1.652,0,0,0,1.554-.64A1.367,1.367,0,0,0,32.52,24.771Z",fill:"#fff"}),jsxRuntimeExports.jsx("path",{id:"Path_2","data-name":"Path 2",d:"M21.938,24.891a69.329,69.329,0,0,1-6.511-3.15c-2.116-1.188-4.177-2.566-5.934-3.769a.421.421,0,0,0-.239-.077.433.433,0,0,0-.429.415c0,.084-.007.169-.007.246a8.332,8.332,0,0,0,2.5,5.97A8.589,8.589,0,0,0,22,25.629a.409.409,0,0,0,.19-.387A.4.4,0,0,0,21.938,24.891Z",fill:"#fff"})]}),jsxRuntimeExports.jsx("path",{id:"Icon_ionic-ios-arrow-back","data-name":"Icon ionic-ios-arrow-back",d:"M13.32,12.195l4.543-4.539a.858.858,0,0,0-1.215-1.212L11.5,11.587a.856.856,0,0,0-.025,1.183l5.168,5.179a.858.858,0,1,0,1.215-1.212Z",transform:"translate(98.068 39.918)",fill:"#fff"})]})}),jsxRuntimeExports.jsx("span",{className:"pl-4 font-bold uppercase tracking-wider",children:"Back"})]}),ot=="page"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"testimonial text-xl",children:nt=="ring_2"&&st?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{class:"text-right text-orange-500",children:'"Gendae nam fugit, u opta cus es eum alibusdae peditiur re laut fuga. Em fugiam GXO, Head of Fleet UK"'}),jsxRuntimeExports.jsxs("div",{className:"pointer-events-auto pt-12",onClick:()=>{console.log("first"),gt(!0)},children:[jsxRuntimeExports.jsxs("div",{className:"linkedIn flex  items-center justify-end",children:[jsxRuntimeExports.jsx("p",{class:" pr-4 text-right font-body font-bold text-green-500",children:"Whatsapp"}),jsxRuntimeExports.jsx("div",{className:"flex h-[40px] w-[40px] rounded-full bg-white p-2",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Icons",viewBox:"0 0 32 32",width:"30px",children:[jsxRuntimeExports.jsx("path",{fill:"#25D366",d:"M17,0C8.7,0,2,6.7,2,15c0,3.4,1.1,6.6,3.2,9.2l-2.1,6.4c-0.1,0.4,0,0.8,0.3,1.1C3.5,31.9,3.8,32,4,32  c0.1,0,0.3,0,0.4-0.1l6.9-3.1C13.1,29.6,15,30,17,30c8.3,0,15-6.7,15-15S25.3,0,17,0z"}),jsxRuntimeExports.jsx("path",{fill:"#FFFFFF",d:"M25.7,20.5c-0.4,1.2-1.9,2.2-3.2,2.4C22.2,23,21.9,23,21.5,23c-0.8,0-2-0.2-4.1-1.1c-2.4-1-4.8-3.1-6.7-5.8  L10.7,16C10.1,15.1,9,13.4,9,11.6c0-2.2,1.1-3.3,1.5-3.8c0.5-0.5,1.2-0.8,2-0.8c0.2,0,0.3,0,0.5,0c0.7,0,1.2,0.2,1.7,1.2l0.4,0.8  c0.3,0.8,0.7,1.7,0.8,1.8c0.3,0.6,0.3,1.1,0,1.6c-0.1,0.3-0.3,0.5-0.5,0.7c-0.1,0.2-0.2,0.3-0.3,0.3c-0.1,0.1-0.1,0.1-0.2,0.2  c0.3,0.5,0.9,1.4,1.7,2.1c1.2,1.1,2.1,1.4,2.6,1.6l0,0c0.2-0.2,0.4-0.6,0.7-0.9l0.1-0.2c0.5-0.7,1.3-0.9,2.1-0.6  c0.4,0.2,2.6,1.2,2.6,1.2l0.2,0.1c0.3,0.2,0.7,0.3,0.9,0.7C26.2,18.5,25.9,19.8,25.7,20.5z"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"linkedIn flex  items-center justify-end pt-2",children:[jsxRuntimeExports.jsx("p",{class:" pr-4 text-right font-body font-bold text-blue-500",children:"LinkedIn"}),jsxRuntimeExports.jsx("div",{className:"flex h-[40px] w-[40px] rounded-full bg-white p-2",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","data-supported-dps":"24x24",fill:"#2B55B7",class:"mercado-match",focusable:"false",width:"30px",children:jsxRuntimeExports.jsx("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})})})]})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:" "})}),jsxRuntimeExports.jsxs("div",{className:"ask-me-more pointer-events-auto pt-12 text-xl",children:[jsxRuntimeExports.jsx("p",{class:"font-bold uppercase text-orange-500",children:"Want to know more about"}),["ring_2","ring_3","ring_4","ring_5","ring_6"].map((vt,St)=>{const At=dt[vt];return jsxRuntimeExports.jsx("p",{class:"cursor-pointer font-bold uppercase ",onClick:()=>{_e(vt),rt(null),lt(null)},children:"> "+At})})]}),jsxRuntimeExports.jsx("div",{className:""})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})]})})}function PlayButton(){const et=appState(ft=>ft.activeRing),_e=appState(ft=>ft.ringNames),tt=appState(ft=>ft.fetchData),rt=appState(ft=>ft.activeTile);appState(ft=>ft.activeVideo);const nt=appState(ft=>ft.setActiveVideo);_e[et];function st(){console.log("play video"),console.log(lt),nt(lt)}if(!tt)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let ot;if(ot=tt.filter(ft=>ft.id==rt)[0],!ot)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});let at,lt;return at=ot.video||!1,lt=ot.image||!1,at?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"playbutton pointer-events-none absolute top-0 left-0 z-50 flex h-screen w-screen scale-[3] items-center justify-center opacity-100  transition-opacity delay-[3000ms] ease-in-out ",children:[jsxRuntimeExports.jsx("div",{className:"svg pointer-events-auto absolute animate-[ping_3s_ease-in-out_infinite] shadow-[5_50px_60px_-15px_rgba(0,0,0,1)]",onClick:()=>st(),children:jsxRuntimeExports.jsx(PlaySvg,{})}),jsxRuntimeExports.jsx("div",{className:"svg absolute scale-125 shadow-[0_35px_60px_-15px_rgba(0,0,0,0.3)]",children:jsxRuntimeExports.jsx(PlaySvg,{})})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function PlaySvg(){return jsxRuntimeExports.jsx("div",{className:"relative z-50",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34.081",height:"38.953",viewBox:"0 0 34.081 38.953",children:jsxRuntimeExports.jsx("path",{id:"Icon_awesome-play","data-name":"Icon awesome-play",d:"M32.287,16.334,5.508.5A3.631,3.631,0,0,0,0,3.644V35.3a3.648,3.648,0,0,0,5.508,3.142L32.287,22.617a3.648,3.648,0,0,0,0-6.284Z",transform:"translate(0 -0.002)",fill:"#fff"})})})}const global$1="",queryClient=new QueryClient;client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(App,{})})}));
